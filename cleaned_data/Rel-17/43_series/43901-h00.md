# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
This document captures the results of the feasibility study of enabling
generic access to A/Gb interface using alternate access means such as ADSL,
Cable, Bluetooth, etc. Mobile stations obtain services from the GSM core
network using such generic access means rather than through the traditional
GERAN radio interface. The goal is to ensure no impact to the current A/Gb
interface specifications.
# 1 Scope
This document studies the feasibility of generic access to A/Gb interface.
Specific areas of study are:
\- Architecture to enable generic access.
\- Access interface protocols required to provide connectivity to A/Gb
interface and GSM/GPRS services.
\- Security mechanisms to support generic access architecture.
\- Determining feasibility for support of services currently supported through
GERAN.
The focus of the study shall be on establishing the feasibility for supporting
generic access in the home network case, while also identifying issues with
extending the solution to the roaming scenarios.
# 2 References
The following documents contain provisions, which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 22.011: \"Service accessibility\".
[2] 3GPP TS 23.234: \"3GPP system to Wireles Local Area Network (WLAN)
interworking; System description\".
[3] 3GPP TS 26.103: \"Speech codec list for GSM and UMTS\".
[4] ITU‑T Recommendation V.110: \"Support by an ISDN of data terminal
equipments with V-Series type interfaces\".
[5] IETF RFC 791: \"Internet Protocol\".
[6] IETF RFC 793: \"Transmission Control Protocol\".
[7] IETF RFC 2406: \"IP Encapsulating Security Payload (ESP)\".
[8] IKEv2
[9] EAP SIM
[10] IPSec NAT
[11] IETF RFC 768: \"User Datagram Protocol\".
[12] IETF RFC 3550: \"A Transport Protocol for Real-Time Applications\".
[13] 3GPP TS 33.234: \"3G security; Wireless Local Area Network (WLAN)
interworking security\".
[14] IETF RFC 2406: \" IP Encapsulating Security Payload (ESP)\".
[15] 3GPP TS 23.122: \"Non-Access-Stratum functions related to Mobile Station
(MS) in idle mode\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply.
**Generic Access Network** : an access network providing access to A/Gb
interfaces using broadband IP network.
**Generic Access Network Controller** : the network node that connects to the
MSC and SGSN via the A-interface and Gb interface respectively and mimics the
functionality of the GERAN BSS.
**Roving** : the action of re-selection between 3GPP access technology and GAN
for a mobile station in idle mode.
**Rove in** : the mobile station reselects from GERAN/UTRAN to GAN.
**Rove out** : the mobile station reselects from GAN to GERAN/UTRAN.
**Handover** : a mobile station engaged in a call moves between GERAN/UTRAN
and GAN.
**Handover in** : the mobile station moves from GERAN/UTRAN to GAN.
**Handover out:** the mobile station moves from GAN to GERAN/UTRAN.
**Seamless** : free from noticeable transitions (i.e., no end-user action is
required; speech interruptions are short; service interruptions are short;
incoming calls are not missed; packet sessions are maintained; services work
identically).
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
A GSM A Interface : the A interface is located between the MSC (Mobile service
Switching Centre) and the BSS (Base station system or radio Sub-System).
Gb GSM Gb Interface : the Gb interface connects the Base Station System (BSS)
to the Serving GPRS Support Node (SGSN)
Up Interface between MS and GAN
Wm Reference point between a Packet Data Gateway and a 3GPP AAA Server or 3GPP
AAA proxy
## 3.3 Abbreviations
For the purposes of the present document, the following abbreviations apply:
A-GPS Assisted-GPS
AAA Authentication, Authorisation and Accounting
ADSL Asymmetric Digital Subscriber Line
ARFCN Absolute Radio Frequency Channel Number
BCCH Broadcast Control CHannel
BSIC Base transceiver Station Identity Code
BSS Base Station Subsystem
BSSAP Base Station Subsystem Application Part
BSSGP Base Station Subsystem GPRS Protocol
BSSMAP Base Station Subsystem Management Application Part
CBS Cell Broadcast Service
CC Call Control
CGI Cell Global Identity
CI Cell Identity
CM Connection Management
CN Core Network
CS Circuit Switched
DSL Digital Subscriber Line
DTAP Direct Transfer Application Part
DTM Dual Transfer Mode
ESP Encapsulating Security Payload
FFS For Further Study
GAN Generic Access Network
GANC Generic Access Network Controller
GERAN GSM EDGE Radio Access Network
GMM GPRS Mobility Management
GMMRR GPRS Mobility Management Radio Resource
GRR GPRS Radio Resource
HLR Home Location Register
HO Handover
HPLMN Home Public Land Mobile Network
HTTP Hyper Text Transfer Protocol
IMS IP Multimedia Subsystem
IMSI International Mobile Subscriber Identity
IP Internet Protocol
L1 Layer 1 (physical layer)
LA Location Area
LA Location Area Identity
LCS Location Services
LLC Logical Link Control
MAC Medium Access Control (protocol layering context)
MBMS Multimedia Broadcast and Multicast Service
MM Man Machine
MMI Man Machine Interface
MMS Multimedia Messaging Service
MO Mobile Originated
MS Mobile Station
MSC Mobile Switching Centre
MVNO Mobile Virtual Network Operator
NACC Network Assisted Cell Change
NAS Non-Access Stratum
NC2 Network Control mode 2
OTDOA Observed Time Difference Of Arrival (positioning method)
PCM Pulse Code Modulation
PDP Packet Data Protocol
PDU Protocol Data Unit
PLMN Public Land Mobile Network
PS Packet Switched
RAN Radio Access Network
RR Radio Resources
RRC Radio Resource Control
RTCP Real-Time Transport Control Protocol
RTP Real Time Protocol
SAP Service Access Point
SAPI Service Access Point Identifier
SCCP Signalling Connection Control Part
SGW Security Gateway
SGSN Serving GPRS Support Node
SID SIlence Descriptor
SIM GSM Subscriber Identity Module
SM Session Management
SMS Short Message Service
SS Supplementary Service
SSL Secure Sockets Layer
TBF Temporary Block Flow
TCP Transmission Control Protocol
TFO Tandem Free Operation
TLLI Temporary Logical Link Identity
TMSI Temporary Mobile Subscriber Identity
TrFO Transcoding Free Operation
UDP User Datagram Protocol
UNC Universal Naming Convention
UTRAN Universal Terrestrial Radio Access Network
VBS Voice Broadcast Service
VGCS Voice Group Call Service
VPLMN Visited Public Land Mobile Network
# 4 Assumed high level requirements
This clause summarizes the various assumed requirements for the feasibility
study, when providing generic access to A/Gb interfaces:
\- GAN interfaces to the core network shall use existing standard A interface
to the MSC and Gb interface to the SGSN. Non-access stratum (NAS) protocols
shall not be impacted.
\- GAN shall reuse the existing GERAN identifiers toward the core network.
\- GAN should support all telecommunication services supported using the A/Gb
interfaces.
\- GAN shall be able to operate over existing generic IP access networks (e.g.
Cable, DSL, etc.). GAN-specific functionality shall not be required in the
generic IP access network.
\- Multi-mode terminals shall be able to perform automatic roving between
GERAN/UTRAN and GAN, subject to the policies of the operator.
\- Multi-mode terminals shall be able to perform seamless handover between
GERAN/UTRAN and GAN, subject to the policies of the operator.
\- PLMN selection and mechanisms for the avoidance of ping-pong between
GERAN/UTRAN and GAN modes shall follow the principles enunciated in 3GPP TS
22.011.
\- The home operator providing GAN service shall control access to Generic
Access in all scenarios, including roaming.
\- GAN shall provide security at least as good as GERAN for all traffic
between mobile station and GANC. This includes support of bilateral
authentication and encryption of all signalling and user plane traffic between
mobile station and GANC.
\- GAN should not require any change to existing standards e.g. the behaviour
of MS in GERAN. Non-GAN capable MSs shall not be impacted due to GAN
deployment.
\- GAN shall be easily scaled with increasing users and traffic. It should
efficiently use the resources of the generic IP access network.
\- Existing charging mechanisms should be used for GAN.
# 5 Study results
## 5.1 Architecture
### 5.1.1 Architecture for generic access interface
#### 5.1.1.1 Functional architecture
An option for the Generic Access Network architecture is illustrated below.
Figure 5.1.1.1.1: GAN Functional Architecture
#### 5.1.1.2 Functional entities
##### 5.1.1.2.1 Mobile Stations (MS)
The MS contains a new functional block to access a generic access network
(GAN).
##### 5.1.1.2.2 Generic Access Network Controller (GANC)
The Generic Access Network Controller (GANC) appears to the core network as a
GERAN base station subsystem (BSS). This entity mimics the role of the BSC in
the GERAN architecure as seen from the perspective of the A/Gb interface. Thus
the CN to which the GANC is connected to, is unaware of the different access
mechanism being supported by the GANC compared to the BSC. A generic IP access
network provides connectivity between the MS and the GANC.
The functionality provided by the GANC includes the following:
\- User plane circuit switched services:\ Inter-working circuit switched
bearers over Up interface to circuit switched bearers over A-interface,
including transcoding voice to/from the MS to PCM voice from/to the MSC (when
TFO/TrFO features are not being utilized).
\- User plane packet switched services:\ Inter-working data transport channels
over Up interface to packet flows over Gb interface
\- Control plane functionality
\- Security Gateway (SGW) for the set-up of secure tunnel with MS for mutual
authentication, encryption and data integrity
\- Registration for GAN service access and providing system information
\- Set-up of GAN bearer paths for CS and PS services. This includes
establishment, management, and teardown of signalling and user plane bearers
between the MS and the GANC.
\- GAN functions equivalent to GSM RR and GPRS RLC such as for paging and
handovers.
\- Transparent transfer of L3 messages between the MS and core network.
NOTE: The AAA server is out of scope of the current study. It is used to
authenticate the MS when it first sets up a secure tunnel to the GAN,
specifically to the SGW.
#### 5.1.1.3 Interfaces
##### 5.1.1.3.1 A/Gb interfaces
The GAN co-exists with the GERAN and interconnects to the core network via the
same interfaces used by a standard GERAN BSS network element:
\- GSM A-interface for circuit switched services
No changes are seen necessary to the A interface protocols.
\- GPRS Gb-interface for packet services
No changes are seen necessary to the Gb interface protocols.
##### 5.1.1.3.2 Up interface
A single new interface, the Up interface, is defined between the GANC and the
MS.
##### 5.1.1.3.3 Wm interface
The Wm interface is used between the GANC-SGW and AAA server, as defined by
3GPP TS 23.234. The Wm interface is out of scope of the current study.
#### 5.1.1.4 High level description of generic access
The following provides a general outline for how an MS accesses a generic
access network which in turn is connected to the core network through the A/Gb
interfaces, using the proposed GAN functional architecture:
1 The MS shall first setup a secure tunnel over the new access interface Up,
with the GANC-SGW. The identity of the GANC and its SGW, in terms of the IP
address or equivalent shall be made known to the MS through any one of various
mechanisms, such as provisioning in the terminal, etc. The MS shall be
authenticated and authorized using SIM credentials, via the AAA server.
2 The MS shall then setup a signalling connection over the Up with the GANC
and register with the GAN. During GAN registration, the MS provides
information regarding its identity, location and capabilities. If the GAN
accepts the registration, it provides system information to the MS, which is
required for obtaining all the supported services and potentially handover
functionality. The stored MS identity is used by the GAN, to support unicast
paging using the Up signalling connection to the MS and other functions.
3 At this point, the MS can switch from 3GPP mode to GAN mode. Layer 3
messages (MM, CC, CM, SS) are transparently transferred to the core network
through the signalling connection over the Up interface. When needed, the GANC
and MS set up CS-domain and PS-domain user plane bearers over the GAN. GANC
also provides additional functions to support handovers, etc.
NOTE: 3GPP mode refers to the mode wherein the physical layer specification
for that mode is part of 3GPP specifications, e.g. GERAN L1 and UTRAN L1.
Identification by the MS of availability of generic access is out of scope of
the current study.
### 5.1.2 Signalling flows
This clause explains how typical functionality such as MO, MT calls, paging,
etc may be accomplished for the identified architecture options.
#### 5.1.2.1 Registration for generic access
The GAN Registration procedure is performed between the MS and the GANC. It
serves the following functions:
\- It informs the GANC that the MS is now connected through a generic IP
access network and is available at a particular IP address. The GANC maintains
the registration context for the purposes of (for example) mobile-terminated
calling.
NOTE: The feasibility study is limited to cases wherein the IP address of the
MS remains the same throughout the lifetime of the current registration to the
GAN.
\- It provides the MS with the operating parameters associated with the GAN
service. The \"GSM System Information\" message content that is applicable to
the GAN cell is delivered to the MS during the GAN registration process. This
enables the MS to switch to GAN mode, and following the Registration procedure
trigger NAS procedures with the core network (such as Location/Routing Area
Update, mobile originated calls, mobile terminated calls, etc.).
This procedure is applicable only if the MS is operating in GAN-only, GAN-
preferred or GERAN/UTRAN-preferred modes.
In all other cases, the MS will not execute this procedure, and since it will
not have successfully registered with a GANC, all subsequent GAN procedures
will also not be executed by the MS.
The Registration procedures consist of the following steps:
\- Attaching to a generic IP access network
\- Registration with a GANC
During the registration process, the MS can be redirected to another GANC, for
reasons such as:
\- MS provided GERAN cell information. For example, the \"appropriate\" GANC
is the one that is a neighbour of the GERAN cell the MS is currently located
in, where \" neighbour cells\" are defined in clause 5.2.1.
\- Load balancing, operator policy, roaming agreements, etc.
The GAN may also reject the MS\'s request for registration.
If no GSM coverage is available when an MS connects to the GANC, then the GANC
may not reliably be able to determine the location of the MS for the purposes
of assigning the MS to the appropriate GANC. The GANC functionality should
permit the operator to determine the service policy in this case; e.g., the
operator could provide GAN service to the user with certain limitations or
deny GAN service.
The MS sets up a secure connection to the GANC, and executes the GAN-RR
Registration procedures:
\- The MS sends a GAN-RR Register Request message that carries the MS identity
(IMSI), GERAN cell information (either current camping GSM CGI, or LAI of last
cell where the MS successfully registered) and generic IP access network point
of attachment.
\- The MS additionally provides information about whether there is on-going CS
connection in GERAN at the time of registration. This permits the GANC to
redirect the MS to an appropriate GANC for enabling seamless handovers.
\- If this GANC is the appropriate GANC, it returns a GAN-RR Register Accept
message, which contains \"System Information\" for the cell represented by the
GANC, including cell description, LAI and CI. The GANC may also omit
information providing the identity of the GAN cell, in order to prohit
handovers being triggered from GERAN.
\- If this GANC is not the appropriate GANC, it returns a GAN-RR Register
Redirect message, using the GERAN cell information provided by the MS to
identify the appropriate GANC (FQDN or IP address) and its associated SGW. In
this case, the MS will repeat this Registration procedure with the redirected
GANC.
\- Alternately, the GANC may return a GAN-RR Register Reject message thereby
denying GAN service to the MS.
The Registration procedure can support the Access Class functionality by
providing the necessary system information in the Registration message to the
MS.
The GAN Registration Update procedure allows the MS to update information in
the GANC regarding changes in the identity of the overlapping GERAN cell or
changes in the generic IP access network point of attachment, by sending a
GAN-RR Register Update message to the GANC carrying the updated information.
This may result in the MS being redirected to another serving GANC, or being
denied service e.g. due to operator policy.
The GAN Registration Update procedure also allows the GANC to update the GAN
system information in the MS, if needed, by sending a GAN-RR Register Update
message to the MS carrying the updated information.
#### 5.1.2.2 Deregistration
The GAN-RR Deregistration procedure allows the MS to explicitly inform the
GANC that it is leaving GAN mode (e.g. when it detaches from the generic IP
access network), by sending a GAN-RR Deregister message to the GANC, allowing
the GANC to free resources that it assigned to the MS. The GANC also supports
\"implicit GAN deregistration\", when the secure connection to the MS is
abruptly lost.
The GANC can also autonomously release the MS registration context, and send a
GAN-RR Deregister message to the MS. Alternately, the GANC can implicitly
deregister the MS by closing the secure connection with the MS.
### 5.1.3 Mobile originated call flow
{width="5.730555555555555in" height="8.04861111111111in"}
Figure 5.1.3.1: Mobile originated speech call
The description of the procedure in this sub-clause assumes the MS is in GAN
mode i.e. it has successfully registered with the GANC and GAN-RR is the
serving RR entity in the MS.
1) Upon request from the user to originate a call, the MS sends the _CM
Service Request_ to the GANC in the GAN-RR UL DIRECT TRANSFER _._
2) The GANC establishes an SCCP connection to the CN. The GANC then forwards
the _CM Service Request_ to the CN using the _Complete Layer 3 Information_.
Subsequent layer-3 messages between mobile station and core network will be
sent between GANC and CN via DTAP.
3) The CN may optionally authenticate the MS using standard GERAN
authentication procedures.
4) The CN may optionally update the ciphering parameters in the GANC using the
_Cipher-Mode Command_.
5) The GANC signals the permitted ciphering algorithms to the MS using the
GAN-RR CIPHERING-MODE COMMAND. These algorithms do not apply for GAN. The MS
stores this information for possible future use after a handover to GERAN.
6) The MS signals the selected ciphering algorithm in the GAN-RR CIPHERING-
MODE COMPLETE message.
7) The GANC signals the selected ciphering algorithm to the CN using _Cipher-
Mode Complete_.
8) The CN sends the _CM service accept_ message in the GAN-RR DL DIRECT
TRANSFER to the MS.
9) The MS sends the _Setup_ message providing details on the call to the CN
and its bearer capability and supported codecs. This message is contained
within the GAN-RR UL DIRECT TRANSFER.
10)The CN indicates it has received the call setup and it will accept no
additional call-establishment information using the GAN-RR DL DIRECT TRANSFER
to convey the _Call Proceeding_ indication to the MS.
11) The CN requests the GANC to assign call resources using _Assignment
Request_.
12) The GANC sends the GAN-RR ACTIVATE CHANNEL to the MS including bearer path
setup information such as:
\- channel mode
\- Multi-rate codec configuration
\- the UDP port & the IP address for the uplink stream
\- the voice sample size
\- the cipher mode (for use in case of subsequent handover to GERAN)
13) The MS establishes the RTP path to the GANC. MS optionally sends idle
RTP/UDP packets to the GANC but has not connected the user to the audio path.
14) The MS sends the GAN-RR ACTIVATE CHANNEL ACK to the GANC indicating the
UDP port and IP address for the downlink stream.
15) The GANC establishes the downlink RTP path between itself and the MS. The
GANC may start sending idle RTP/UDP packets to the MS.
16) The GANC signals to the CN that the call resources have been allocated by
sending an _Assignment Complete_ message.
17) The GANC signals the completion of the bearer path to the MS with the GAN-
RR ACTIVATE CHANNEL COMPLETE message. An end-to-end audio path now exists
between the MS and the CN. The MS can now connect the user to the audio path.
18) The CN signals that the called subscriber\'s phone is ringing, via the
_Alerting_ message. If the MS has not connected the audio path to the user, it
shall generate ring back to the calling party. Otherwise, the network-
generated ring back will be returned to the calling party.
19) The CN signals that the called party has answered, via the _Connect_
message. It connects the user to the audio path. If the mobile station is
generating ring back, it stops and connects the user to the audio path.
20) The MS sends the _Connect ACK_ in response, and the two parties are
connected for the voice call.
21) Bi-directional voice traffic flows between the MS and CN through the GANC.
### 5.1.4 Mobile terminated call flow
{width="6.001388888888889in" height="5.227083333333334in"}
Figure 5.1.4.1: Mobile terminated speech call
The description of the procedure in this sub-clause assumes the MS is in GAN
mode i.e. it has successfully registered with the GANC and GAN-RR is the
serving RR entity in the MS.
1) A mobile-terminated call arrives at the CN. The CN sends a _Paging Request_
to the GANC identified through the last _Location Update_ received by it and
includes the TMSI if available. The IMSI of the mobile being paged is always
included in the request.
2) GANC identifies the MS registration context using the IMSI provided by the
CN. It then pages the MS using the GAN-RR PAGING REQUEST message. The message
includes the TMSI if available in the request from the CN, else it includes
only the IMSI of the mobile.
3) The MS responds with a GAN-RR PAGING RESPONSE including the MS Classmark
and ciphering key sequence number.
4) The GANC establishes an SCCP connection to the CN. The GANC then forwards
the paging response to the CN using the _Complete Layer 3 Information_
message.
5) The CN may optionally authenticate the MS using standard GERAN
authentication procedures.
6) The CN may optionally update the ciphering configuration in the MS, via the
GANC, as described in steps 4-7 of the Mobile Originated calling scenario.
7) The CN initiates call setup using the _Setup_ message sent to the MS using
the GAN-RR DL DIRECT TRANSFER.
8) The MS responds with _Call Confirmed_ using the GAN-RR UL DIRECT TRANSFER
after checking it\'s compatibility with the bearer service requested in the
_Setup_ and modifying the bearer service as needed. If the _Setup_ included
the signal information element, the MS alerts the user using the indicated
signal, else the MS alerts the user after the successful configuration of the
user plane.
9) The CN initiates the assignment procedure with the GANC, which triggers the
setup of the RTP stream (voice bearer channel) between the GANC and MS, same
as steps 11-17 in MO call scenario.
10) The MS signals that it is alerting the user, via the _Alerting_ message.
The CN sends a corresponding alerting message to the calling party.
11) The MS signals that the called party has answered, via the _Connect_
message. The CN sends a corresponding _Connect_ message to the calling party
and through connects the audio. The MS connects the user to the audio path.
12) The CN acknowledges via the _Connect Ack_ message. The two parties on the
call are connected on the audio path.
13) Bi-directional voice traffic flows between the MS and CN through the GANC.
### 5.1.5 GPRS procedures
#### 5.1.5.1 GAN-GRR user data transport channel
GPRS user data transfer between MS and GANC uses a UDP-based GAN-GRR Transport
Channel (identified by the IP address and UPD port at each end). The MS or
GANC activates the GAN-GRR Transport Channel only when needed i.e. when the
GPRS user data transfer is initiated. A timer is used to deactivate the GAN-
GRR Transport Channel when no data is transmitted to or received for some
period of time.
#### 5.1.5.2 GPRS user data transport procedures
For uplink data transfer, the MS activates the GAN-GRR Transport Channel if
needed. It then encapsulates the uplink LLC PDU within the GAN-GRR UNITDATA
message and forwards it to the GANC. The message includes parameters required
for Gb interface procedures and TLLI as MS identifier. The GANC forwards the
LLC PDU to the Core Network as per standard GPRS.
For downlink data transfer, the Core Network sends the downlink LLC PDU that
contains GPRS user data via the Gb interface. The MS is identified with the
TLLI. The GANC activates the GAN-GRR Transport Channel if needed, and forwards
the LLC PDU to the MS encapsulated in the GAN-GRR UNITDATA message.
#### 5.1.5.3 GPRS signalling and SMS transport procedures
The TCP session used for GAN-RR signalling is also used for GAN-GRR GPRS
signalling and SMS transport. This TCP session is available after GAN
registration, so there is no need to establish a separate connection for GPRS
signalling and SMS transport.
For uplink signalling/SMS, the MS GAN-GRR receives a request from the LLC
layer to transfer an uplink GMM/SM signalling message or SMS message; e.g.
this could be a GMM attach request or SM PDP context activation message. The
GMM/SM signalling messages are identified with LLC SAPI 1 and SMS messages
with LLC SAPI 7. The MS GAN-GRR encapsulates the LLC PDU within a GAN-GRR DATA
message including the parameters that will be required for Gb interface
procedures. Subsequently, the message is forwarded to the GANC, and the GANC
forwards the message to the Core Network as per standard GPRS Gb procedure.
For downlink signalling/SMS, the Core Network sends a GMM/SM signalling or SMS
message to the GANC via the Gb interface as per standard GPRS; i.e. the LLC
PDU may include GMM attach accept or SM PDP context activation accept message.
The GANC encapsulates the received LLC PDU within a GAN-GRR DATA message that
is forwarded to the MS via the existing signalling TCP connection.
#### 5.1.5.4 Packet paging for GPRS data service
The Core Network sends a PS page for a mobile station that is currently GPRS
attached via the GAN. The paging message will include either PTMSI or IMSI as
a mobile identifier. The GANC retrieves the MS registration context (based on
IMSI) and forwards the corresponding GAN-GRR PS PAGE message to the MS using
the TCP signalling connection. The message includes Mobile Identity IE as per
standard GPRS. It will be either PTMSI if available or IMSI.
The mobile station sends any LLC PDU to respond to the page. The uplink LLC
PDU is forwarded to the GANC as described in above clauses. The GANC forwards
the LLC PDU to the Core Network via the Gb interface as per standard GPRS.
#### 5.1.5.5 Packet paging for CS domain service
The Core Network sends a CS page for a mobile station that is currently GPRS
attached via the GAN. The paging message will include either TMSI or IMSI as a
mobile identifier. The GANC retrieves the MS registration context (based on
IMSI) and forwards the corresponding GAN-RR Paging Request message to the MS
using the TCP signalling connection. The message includes Channel Needed and
Mobile Identity IEs as per standard GPRS. The Mobile Identity will be either
TMSI or IMSI depending on the original BSSGP CS page. The mobile station
initiates the standard CS page response procedure via the GAN.
#### 5.1.5.6 GPRS Suspend procedure
While transitioning to dedicated mode and if unable to support simultaneous
voice and data services, the mobile station sends a GAN-GRR SUSPEND REQUEST
message to the GANC to suspend downlink GPRS traffic. The request is
transferred via the TCP signalling connection and includes TLLI and suspension
cause parameters as per standard GPRS. The GANC initiates and completes the
BSSGP GPRS suspend procedure as per standard GPRS.
#### 5.1.5.7 GPRS Resume procedure
If the GPRS service has been suspended while the mobile station was in the
dedicated mode, it needs to be resumed when the mobile station leaves the
dedicated mode.
The Core Network sends a Clear Command message to release the resources
associated with the dedicated mode procedure. The GANC responds with a Clear
Complete message. Optionally, the GANC may initiate the standard BSSGP GPRS
resume procedure.
The GANC sends a GAN-RR RR RELEASE message to instruct the MS to release the
RR connection. The message includes GPRS resume indication IE as per standard
GSM/GPRS to indicate whether the network successfully resumed GPRS service or
not. The MS replies with a GAN-RR RR RELEASE COMPLETE message and resumes GPRS
service internally. Optionally, if the Core Network indicated unsuccessful
resumption, the MS initiates GPRS service resumption as per standard GPRS.
## 5.2 Protocol aspects
This clause will capture options for any new generic access layer that will be
needed to enable generic access to the A/Gb interfaces.
### 5.2.1 New Generic Layer
#### 5.2.1.1 CS domain signalling plane
The Up protocol architecture in support of CS domain signalling, as well as
GAN-specific signalling, is illustrated below.
Figure 5.2.1.1.1: Up CS domain signalling protocol architecture
The salient features of this part of the Up interface, with respect to the CS
domain, are as follows:
\- GSM protocols, MM and above, are carried transparently between the MS and
MSC. This allows the MS to obtain all GSM services that it receives through a
GSM BSS, through the GAN.
\- GSM-RR protocol is replaced with a GAN-RR protocol. The generic IP access
network presents different characteristics from that of the GSM radio link, so
the GAN-RR protocol is designed to adapt to these characteristics.
\- GAN-RR is transported over TCP between MS and GANC, which provides reliable
transport of signalling messages. The underlying IPSec layer provides mutual
authentication, encryption and data integrity.
\- The GANC, acting like a BSC, terminates the GAN-RR protocol and inter-works
it to the A-interface using BSSAP messaging.
One potential realization of this architecture in the MS is illustrated in
more detail below:
Figure 5.2.1.1.2: MS CS domain signalling architecture
The figure above illustrates the salient features of the MS architecture which
are as follows:
\- The RR-SAP interface to the GSM-MM layer is preserved identically for both
GSM and GAN access
\- An access mode switch is provided to switch between GSM and GAN modes
\- GAN-RR peers with GSM-RR to provide coordination for roving and handover
#### 5.2.1.2 CS domain user plane
The Up protocol architecture in support of CS domain user plan is below.
Figure 5.2.1.2.1: Up CS domain user plane protocol architecture
The salient features of the CS domain user plane of the Up interface are as
follows:
\- CS domain user plane is transported over RTP/UDP between MS and GANC. The
underlying IPSec layer provides mutual authentication, encryption and data
integrity.
\- Voice codecs are supported as per [TS 26.103] for those codecs that have
IETF-defined RTP framing formats.
\- CS-data is transported over RTP/UDP, by defining a new frame format to
carry the TAF-TRAU (V.110-like) frames over RTP..
\- TTY is transported using CTM over GSM codec over RTP/UDP.
\- The GANC, acting like a BSC, terminates the CS domain user plane over
RTP/UDP and inter-works it to speech bearers over the A-interface.
#### 5.2.1.3 PS domain signalling plane
The Up protocol architecture in support of PS domain signalling is illustrated
below.
Figure 5.2.1.3.1: Up PS Domain Signalling Protocol Architecture
The salient features of this part of the Up interface are as follows:
\- GPRS LLC PDUs for signalling and SMS are carried transparently between the
MS and SGSN. This allows the MS to obtain all GPRS services in the same way as
if it were connected to a GERAN BSS.
> \- GPRS-RLC protocol is replaced with a GAN-GRR protocol. Given the IP
> packet transport characteristics over Up interface, the GPRS Temporary Block
> Flow (TBF) abstraction is not applicable. Instead GAN-GRR provides
> mechanisms to establish and teardown IP packet transport channel between MS
> and UNC. Therefore GAN-GRR is significantly lighter than GPRS-RLC.
\- GAN-GRR is transported over TCP between MS and GANC, which provides
reliable transport of signalling & SMS messages. The underlying IPSec layer
provides mutual authentication, encryption and data integrity.
\- The GANC, acting like a BSC, terminates the GAN-GRR protocol and inter-
works it to the Gb-interface using BSSGP.
One potential realization of this architecture in the MS is illustrated in
more detail below:
Figure 5.2.1.3.2: MS PS domain protocol architecture
The figure illustrates the salient features of the MS architecture which are
as follows:
\- The GRR-SAP interface to the GPRS-LLC layer and GMMRR-SAP interface to the
GPRS-GMM layer are preserved identically for both GPRS and GAN access
\- An access mode switch is provided to switch between GPRS and GAN modes
\- GAN-GRR peers with GPRS-RLC to provide coordination for roving and handover
#### 5.2.1.4 PS domain user plane
The Up PS domain dser plane protocol architecture is illustrated below.
Figure 5.2.1.4.1: Up GPRS user plane protocol architecture
The salient features of the PS domain user plane of the Up interface are as
follows:
\- GPRS LLC PDUs carrying data, and higher layer protocols, are carried
transparently between the MS and SGSN. This allows the MS to derive all GPRS
services the same as if it were in a GERAN BSS. All existing GPRS applications
and MMI in the MS are unchanged.
\- LLC PDUs are carried over GAN-GRR from the MS to the GANC. GAN-GRR runs
over UDP. The underlying IPSec layer provides mutual authentication,
encryption and data integrity. GAN-GRR does not emulate the reliable
transmission characteristics of GPRS RLC since it can be assumed that errors
in wireless access layers (below IP) are addressed by lower layer
retransmissions on a hop-by-hop basis, UDP provides a suitable transport that
matches a wide range of application layer transport requirements.
\- The GANC, acting like a BSC, terminates the GAN-GRR protocol and inter-
works it to the Gb-interface using BSSGP.
### 5.2.2 Existing protocols
#### 5.2.2.1 Standard 3GPP protocols
In case of option 1, the GAN can be designed such that the following standard
3GPP protocols are used without any modifications:
\- GSM MM, CM and higher layer protocols are used without any changes in the
MS or the MSC;
\- GSM voice encoding carried over IP between the MS and GANC;
\- GPRS LLC and higher layer protocols are used without any changes on the MS
and SGSN;
\- A-interface protocols are used, without any changes, between the MSC and
GANC;
\- Gb-interface protocols are used, without any changes, between the SGSN and
GANC;
\- Wm interface protocols are used without any change between the GANC and the
AAA server.
Further, all GSM and GPRS protocols on the MS should be unaffected when they
are operating over the GERAN BSS.
##### 5.2.2.1.1 Short Message Service
GAN provides support for both circuit switched (GSM based) and packet switched
(GPRS based) SMS services. GAN-attached and GPRS enabled mobile stations will
be able to send and receive GSM and GPRS SMS messages via the GAN, regardless
of the GPRS class (B or C) with the restriction that the type C mobiles
support only GPRS SMS messages.
##### 5.2.2.1.2 GSM SMS services
The GAN GSM SMS support is based on the same mechanism that is utilized for
GSM mobility management and call control. On the MS side, the SMS layers
(including the supporting CM sub layer functions) utilize the services of the
MM layer to transfer SMS messages per standard circuit switched GSM
implementation. The SM-CP protocol is effectively tunneled between the MS and
the MSC, using GAN-RR messages to the GANC which interworks it to BSSAP
messages.
As with GSM mobility management and call control procedures, the secure IPSec
tunnel and TCP session are used to provide secure and reliable SMS delivery
over the IP network.
##### 5.2.2.1.3 GPRS SMS services
GPRS SMS message transfer is based on the same mechanism as the transfer of
the GPRS MM/SM signalling messages. On the MS side, the SMS layers (including
the supporting CM sub layer functions) utilize the services of the LLC layer
to transfer SMS messages per standard packet switched GPRS implementation.
GPRS SMS service employs the unacknowledged mode of LLC frame transfer, using
SAPI=7 for the transfer of SMS messages. This SAPI identifies the SMS Logical
Link Entity within the LLC layer. The CM-sub-layer entity retransmits the CP-
DATA message if CP-DATA-ACK is not received. The SM-CP protocol is effectively
tunneled between the MS and the SGSN, using GAN-GRR messages to the GANC which
inter-works it to LLC-PDU relay functions.
As with GPRS signalling, the secure IPSec tunnel and TCP session is used to
provide secure and reliable GPRS SMS delivery over the IP network.
##### 5.2.2.1.4 Supplementary services
GSM has standardized a large number of supplementary services. These
supplementary services involve procedures that operate end-to-end between the
MS and the MSC. The DTAP messages used for the supplementary service are
relayed between the MS and MSC in the same manner as in the other call control
and mobility management scenarios described in this document.
#### 5.2.2.2 Standard IP-based protocols
The GAN can be designed such that the following standard IP-based protocols
are used without any modifications:
\- IP over standard lower layers [RFC 791],
\- TCP to provide a tunnel for GSM/GPRS signalling and SMS [RFC 793],
\- IPsec ESP to provide a secure tunnel for GERAN user and control plane
traffic [RFC 2406],
\- IKEv2 [IKEv2] and EAP-SIM [EAP SIM] for authentication and establishing and
maintaining a security association between MS and GANC,
\- UDP [RFC 768]for IPsec NAT traversal [IPSec NAT],
\- UDP for GPRS data transfer,
\- RTP/UDP [RFC 3550] for transfer of circuit switched speech and user data
over IP transport.- RTCP [RFC 3550] for control of RTP frames
## 5.3 Security mechanisms
### 5.3.1 Security levels
GAN supports security mechanisms at different levels and interfaces as
depicted below:
Figure 5.3.1.1: GAN security mechanisms
1\. The **security mechanisms over the Up interface** protect signalling,
voice and data traffic flows between the MS and the GANC from unauthorized
use, data manipulation and eavesdropping; i.e., authentication, encryption and
data integrity mechanisms are supported.
2\. A**uthentication** of the subscriber by the core network occurs between
the MSC/VLR or SGSN and the MS and is transparent to the GANC -- however,
there will be a cryptographic binding between the MS-CN authentication and the
MS-GANC authentication to prevent man in the middle attacks. **GPRS
ciphering** is the standard LLC layer ciphering that operates between the MS
and the SGSN. These mechanisms are out of scope of the present document.
3\. Additional **application level security mechanisms** may be employed to
secure the end-to-end communication between the MS and the application server.
For example, the MS may run the HTTP protocol over an SSL session for secure
web access. These mechanisms are out of scope of the present document.
### 5.3.2 Up interface security
All signalling traffic and user-plane traffic sent between MS and GANC over
the Up interface is protected by an IPsec tunnel between the MS and SGW, that
provides mutual authentication (using SIM credentials), encryption and data
integrity using the same mechanisms as specified in [TS 33.234]. Specifically:
\- Authentication:
\- The MS and the SGW use IKEv2, as specified in [IKEv2], in order to
establish IPSec security associations.
\- Public key signature based authentication with certificates, as specified
in [IKEv2], is used to authenticate the SGW.
\- EAP-SIM within IKEv2, as specified in [IKEv2, sub-clause 2.16], is used to
authenticate the MS.
\- A profile for IKEv2 is defined in [TS 33.234, sub-clause 6.5].
\- Confidentiality & data integrity:
\- The confidentiality and data integrity of IP packets sent through the
tunnel between the MS and the SGW, if required, is protected by IPSec ESP (RFC
2406). A profile for IPSec ESP is defined in [TS 33.234, sub-clause 6.6].
NOTE: The above option detailed in sub-clause 5.3.2 is essentially an adoption
of the solution investigated and adopted by 3GPP TSG SA WG3 for the WLAN
Inter-working feature in Rel-6. The aim of the current study is to forward the
results of the feasibility study to SA WG3, for detailed analysis and comments
on the viability of adoption of the WLAN Inter-working solution for Generic
Access, following completion of the feasibility study in TSG GERAN.
## 5.4 Multi-mode terminal operation
_This clause will deal with the procedures for enabling selection and re-
selection of generic access to A/Gb interface as opposed to traditional GERAN
access._
### 5.4.1 Mechanism of mode selection in multi-mode terminals
The physical layer of a Generic Access capable terminal may support any of a
multiple of IP access technologies in addition to the GERAN radio interface,
in support of multi-mode operation. The generic access terminal contains an
\"RR\" entity with functionality specific to generic access, namely the GAN
RR. The GAN RR entity serves the upper layers in identical fashion to the GSM
RR entity, thereby ensuring that there is no change in functionality in the
upper layers of the protocol stack. Mode selection relates to which of the RR
entities is serving the upper layers i.e. MM at any given time. At any given
time, the MS is therefore in one of two operating RR modes:
\- 3GPP mode:\ In this mode of operation, the GSM RR or UTRAN RRC entity in
the MS serves the upper layers over the Um interface.
\- GAN mode:\ In this mode of operation, the GAN RR entity serves the upper
layers over the Up interface.
The user can configure the terminal to operate in one of the above two modes
at any given time. There can be however a default mode of operation that can
be configured by the operator through various mechanisms, including terminal
configuration. The operator may additionally be able to set the mode
configuration of a terminal through the registration to GAN procedure.
On power up, the MS always starts in 3GPP mode and executes the normal power-
up sequence as specified in 3GPP TS 23.122. Following this, the MS may switch
into GAN mode based on mode selection preference determined by user
preferences or operator configuration.
The various preferences for the MS that are possible through operator
configuration are as follows:
\- GERAN/UTRAN-only:
The MS RR entity remains in 3GPP mode and does not switch to GAN mode.
\- GERAN/UTRAN-preferred:
The MS RR entity is configured in 3GPP mode as long as there is a GSM PLMN
available through GERAN. If no GSM PLMN is available through GERAN, and MS has
successfully registered with a GAN over the generic IP access network, then
the MS switches to GAN mode. When a GSM PLMN becomes available over GERAN, or
the MS has de-registered or loses connectivity with the GAN over the generic
IP access network, the MS returns to 3GPP mode.
\- GAN-preferred:
When the MS has successfully registered with the GAN over the generic IP
access network, the MS switches to GAN mode and stays in this mode as long as
the GAN is available. When the MS deregisters, or otherwise loses
connectivity, with the GAN over the generic IP access network, the MS switches
to 3GPP mode.
\- GAN-only:
The MS switches to GAN mode (after initial power up sequence in 3GPP mode) and
does not switch to 3GPP mode.
Mechanisms to avoid ping-pong between GERAN and GAN modes of operation are
necessary to provide a good user experience.
### 5.4.2 PLMN selection
There is no change in the PLMN selection procedure in the NAS layers (MM and
above) in the MS. PLMN selection follows the rules specified in 3GPP TS
23.122.
Currently the BSS can be connected to only one CN node each in the CS and PS
domains, both of which are associated with the same PLMN. Hence, it is assumed
that one GAN is associated with one PLMN.
The identity of the PLMN associated with the GAN is made known to the MS on
successful registration with the GAN. Hence, only the PLMN associated with the
successfully registered GAN can be selected. The PLMN associated with the GAN
the MS is registered on, is treated as an equivalent PLMN to the HPLMN. As a
result, the concept of background scanning for higher priority PLMNs does not
apply in GAN mode. It should be noted that it is the GAN operator of the HPLMN
or the GAN operator associated with the HPLMN (in case of MVNO) that assigns
the serving GAN to the MS.
Upper layers do not have any visibility to the PLMNs available via GERAN when
in GAN mode, since only one RR entity in the MS is connected to the MM at any
given time. The RR entity (for e.g. GSM RR in GAN mode) that is not connected
to the MM does not provide information to the MM through the connected RR
entity (e.g. GAN RR in GAN mode).
The above mechanisms of PLMN selection apply both in automatic and manual PLMN
selection modes.
In order to support roaming restrictions, it shall be possible for the GANC to
be provisioned with a number of LA identities. Rules for the assignment of a
location area identity to a MS based on the information provided by the MS,
such as CGI, etc., would then allow the use of normal MM procedures to apply
the roaming restrictions.
Roaming network cannot be used for generic access unless the home network
supports generic access.
### 5.4.3 Re-selection between GERAN/UTRAN and GAN modes
#### 5.4.3.1 Rove-in (from GERAN/UTRAN to GAN)
This procedure is applicable only if the MS mode selection is GAN-only, GAN-
preferred or GERAN/UTRAN-preferred but no GSM PLMN available. As long as MS is
not in NC2 mode, the MS may rove in.
Following successful GAN registration, the MS switches to GAN mode wherein the
serving RR entity is GAN-RR. GAN-RR reports the NAS-related system
information, as obtained from the GANC, to the NAS. NAS considers the GAN cell
as the current serving cell.
While in GAN mode, GSM-RR (and UTRAN RRC) is detached from the RR-SAP in the
MS i.e.
\- it does not inform NAS about any GERAN/UTRAN cell re-selection and/or the
change of system information of the current camping cell;
\- it does not inform NAS about any newly found PLMN over GERAN (or UTRAN);
\- it does not act on any paging request message received over GERAN (or
UTRAN).
#### 5.4.3.2 Rove-out (from GAN to GERAN/UTRAN)
This procedure is applicable when MS detaches from the generic IP access
network, and its mode selection is GAN-preferred or GERAN/UTRAN-preferred.
When the MS detaches from the generic IP access network, depending on
prevailing circumstances the MS may be able to deregister first with the GANC.
For the GAN-preferred and GERAN/UTRAN-preferred mode selections, the MS
detaches GAN-RR from NAS and re-attaches GSM-RR to NAS and restores normal
GSM-RR functionality.
For the GAN-only mode selection, GAN-RR (or UTRAN RRC) remains attached to NAS
and the MS stays in GAN mode (in \"No Service\" condition).
#### 5.4.3.3 Ping-pong avoidance between GAN and GERAN/UTRAN
In order to support the requirements in 3GPP TS 22.011 one potential example
of the mechanism to be supported by the MS is described below.
Two timers are defined and provided to the MS at the time of registration to
the GAN. In addition a counter N keeps track of the number of re-selections
between GAN and 3GPP modes the MS has performed.
On switch on, N is set to 1 and when the GAN RR entity is connected to MM,
timer T~ping-pong-slowdown~ is started with a value of N*Y + X. If the MS
switches mode before the expiry of T~ping-pong-slowdown~, timer T~ping-pong-
avoid~ is started with value N*Y. N is incremented by 1. T~ping-pong-slowdown~
is restarted with value N*Y + X. The MS is now prohibited from switching modes
until the T~ping-pong-avoid~ timer expires. This mechanism ensures that the MS
is forced to stay within a mode for a linearly increasing length of time if
consecutive mode switches occur prior to the expiry of the T~ping-pong-
slowdown~ timer. If mode switch occurs post- T~ping-pong-slowdown~ expiry, N
is reset to 1 and at the next mode switch T~ping-pong-avoid~ and T~ping-pong-
slowdown~ are reset. T~ping-pong-slowdown~ timer thereby acts as a penalty
timer for the setting and re-setting of T~ping-pong-slowdown~.
### 5.4.4 Handovers between GAN and GERAN
#### 5.4.4.1 Cell identifiers in generic access
In GAN, as in GERAN, a cell is identified by a Cell Global Identity (CGI)
which is the concatenation of a Location Area Identity (LAI) and Cell Identity
(CI).
##### 5.4.4.1.1 GAN cell id for Location Services & billing
Cell identities (CGI) are often used to route the call to location dependent
services such as emergency calling, operators, announcements and freephone
numbers. Cell identities can also used by the core network to identify the
location of the call for billing purposes. To meet these requirements, the
GANC provides a CGI to the core network indicating the GAN cell that the call
originated from.
##### 5.4.4.1.1.1 Assigning GAN cell id based on GSM location {#assigning-gan-
cell-id-based-on-gsm-location .H6}
In the GAN architecture, the MS has a direct, IP-based connection to the GANC,
so the notion of a \"cell\" is defined by some logical grouping of MSs being
served by a GANC. Since the GAN coverage area overlaps the GERAN coverage
area, the simplest grouping of MSs is based on the overlapping GSM cell that
the MS is located in. This can be done at various location resolutions, such
as:
\- a GAN cell for each GSM cell, or
\- a GAN cell for each GSM location area, or
\- a GAN cell for some other mapping of GSM cells into GAN cells
The mapping of GSM cells into GAN cells is defined in the GANC. A single GANC
could represent one or more cells (CGI) in one or more location areas (LAI)
for location services.
This mechanism allows the operator to leverage any existing location
infrastructure for GSM cell sites, and provides MS location to the resolution
of existing GSM cell sites.
##### 5.4.4.1.1.2 Assigning GAN cell id based on other information
{#assigning-gan-cell-id-based-on-other-information .H6}
The GANC can use other information provided by the MS, such as the identity or
location of the generic access network point of attachment, or GPS co-
ordinates, to identify the geographic location of the MS, and map it to a
corresponding GAN cell id, based on operator configuration.
##### 5.4.4.1.1.3 Determining GAN cell id during GAN registration
{#determining-gan-cell-id-during-gan-registration .H6}
During GAN registration, if the MS is in GERAN coverage, it indicates to the
GANC the cell id of the overlapping GERAN cell. The GANC then maps this
information to a corresponding GAN cell id and stores it in the registration
context of that MS. This GAN cell id is also provided to the MS in the system
information during GAN registration, so the MS can do a location update with
the core network, if required.
During GAN registration, if the MS is not in GSM coverage, then the cell id of
the overlapping GERAN cell (and corresponding GAN cell id) may not be
determined reliably. In this case, the GANC allows the operator to apply a
service policy -- either deny GAN service, or allow it with an explicit
indication to the MS that its location is unknown. In the latter case, the
GANC will assign a default GAN cell id for this MS registration context, and
also indicate that to the MS in the system information.
When the MS places a call (including an emergency call) over GAN, the GANC
passes to the core network the GAN cell id (CGI) value stored in the MS
registration context. The core network must be configured with the new GAN
cell id values; however, the GERAN cell id and corresponding GAN cell id can
share the same location information e.g. cell site address, location co-
ordinates, serving Emergency Centre, etc. If the GAN cell id corresponds to
the \"no GSM coverage\" case, the core network will need a special
configuration for that cell id (e.g. to route an emergency call to a default
Emergency Centre, no automatic location identification, etc.).
##### 5.4.4.1.1.4 GAN cell id for roaming scenario {#gan-cell-id-for-roaming-
scenario .H6}
If an MS reports a GERAN cell id to the GANC that indicates the MS is in a
location that is not served by this GANC (e.g. because the MS is roaming in a
foreign country or another PLMN), the GANC can map the MS to one of several
distinct GAN cell ids (configured in the GANC according to operator policy).
This GAN cell id is sent to the MS in system information during GAN
registration (and is subsequently used by MS for core network registration).
Therefore, it can be used to implement roaming restrictions, using existing
mechanisms (e.g. in the SIM or in the HLR).
##### 5.4.4.1.2 GAN cell id for handover-to-GAN
The GAN cell id used for location and billing can be independent from the GAN
cell id used for handover.
A single GANC represents a single GAN cell for the purpose of handover-to-GAN.
This \"handover-GAN-CGI\" is not visible to the GANC or the MS, and is only
used in the source RAN and the core network for identifying a target cell for
handover to GAN.
To enable handover-to-GAN, the GANC is also assigned a single ARFCN; in fact,
all GANCs in a given operator domain can share the same ARFCN value. This
ARFCN is indicated to the MS by the GANC during GAN registration.
The \"handover-GAN-CGI\" assigned to the GANC is configured as the target
handover cell in all neighbouring source RAN cells (in their ARFCN/BSIC-to-CGI
mapping table). Neighbouring source RAN cells are those whose service area
\"overlaps\" the GANC service area, for the purpose of handover. For example,
neighbour cells are:
\- All source RAN cells attached to the same MSC as the GANC
\- All source RAN cells attached to a different MSC but that can handover to
the MSC to which the GANC is attached.
When the MS reports measurements to the source RAN BSS on the GAN cell
identified by its ARFCN, then the source RAN BSS maps the ARFCN to the
\"handover-GAN-CGI\" through its mapping table, and is thus able to identify
the target cell (GANC) for handover-to-GAN.
#### 5.4.4.2 Handover to GAN
{width="6.001388888888889in" height="6.544444444444444in"}
Figure 5.4.4.2.1: Handover to GAN
The description of the handover procedure assumes the following:
\- the MS is on an active call on the GERAN, and
\- its mode selection is GAN-preferred, or if GERAN/UTRAN-preferred the RxLev
from the current serving cell drops below a defined threshold,
RxLev_access_min + X dB (this threshold can be specified as a fixed value, or
provided by the GERAN BSS to the MS in dedicated mode), and
\- the MS has successfully registered with a GANC, allowing the MS to obtain
GAN system information, and
\- the GERAN provides information on neighbouring cells such that one of the
{ARFCN, BSIC} in the neighbour list matches the {ARFCN, BSIC} associated with
the GANC, as provided in the AS-related component of the system information
obtained from GANC.
1) The MS now begins to include GAN cell information in the _Measurement
Report_ to the GERAN. The MS reports the highest signal level for the GAN cell
{ARFCN, BSIC}. This is not the actual measured signal level on GAN, rather a
\"faked\" value.
2) Based on MS measurement reports and other internal algorithms, GERAN
decides to handover to the GAN cell, using an internal mapping of {ARFCN,
BSIC} to CGI. The GERAN starts the handover preparation by sending a _Handover
Required_ message to the CN, identifying the target (GAN) cell.
3) The CN requests the target GANC to allocate resources for the handover,
using _Handover Request_.
4) The target GANC acknowledges the handover request, using _Handover Request
Acknowledge_ , indicating it can support the requested handover, and provides
a _Handover Command_ that indicates the radio channel to which the mobile
station should be directed.
5) The CN forwards the _Handover Command_ to the GERAN, completing the
handover preparation.
6) GERAN sends _Handover Command_ to the MS to initiate handover to GAN. The
_Handover Command_ includes among other parameters information about the
target GAN such as BCCH ARFCN, PLMN color code and BSIC. The MS does not
switch its audio path from GERAN to GAN until handover completion, i.e., until
it sends the GAN-RR HANDOVER COMPLETE, to keep the audio interruption short.
7) The MS accesses the GANC using the GAN-RR HANDOVER ACCESS message, and
provides the entire _Handover Command_ received from GERAN. The handover
reference in the handover command allows the GANC to correlate the handover to
the _Handover Request Acknowledge_ message earlier sent to the CN and identify
the successful completion of the handover.
8) The GANC sets up the bearer path with the MS, using the same steps as in
steps 11-17 of Mobile Originated calling scenario (with the exception that no
_Assignment_ or _Assignment Complete_ message is exchanged with the CN).
9) The MS transmits the GAN-RR HANDOVER COMPLETE to indicate the completion of
the handover procedure at its end. It switches the user from the GERAN user
plane to the GAN user plane.
10) The GANC indicates to the CN that it has detected the MS, using _Handover
Detect_ message. The CN can optionally now switch the user plane from the
source GERAN to the target GAN.
11) Bi-directional voice traffic is now flowing between the MS and CN, via
GANC.
12) The target GANC indicates the handover is complete, using the _Handover
Complete_ message. If it had not done so before, the CN now switches the user
plane from source GERAN to target GAN.
13) Finally, the CN tears down the connection to the source GERAN, using
_Clear Command._
14) The source GERAN confirms the release of GERAN resources allocated for
this call, using _Clear Complete_.
#### 5.4.4.3 Handover to GERAN
{width="5.997916666666667in" height="8.013194444444444in"}
Figure 5.4.4.3.1: Handover to GERAN
The procedure description in this sub-clause assumes the following:
\- the MS is on an active call on the GAN, and
\- the MS mode selection is GAN-preferred or GERAN/UTRAN-preferred, and
\- the MS begins to leave GAN coverage, based on its local measurements,
received RTCP reports, as well as any uplink quality indications received from
the GANC
The handover from GAN to GERAN procedure is always triggered by the MS.
1) The GANC may send a GAN-RR UPLINK QUALITY INDCATION if there is a problem
with the uplink quality for the ongoing call. Whenever the MS receives an
indication of bad quality, it should start the handover procedure, as
described in the next step. Alternately, MS can use RTCP to measure uplink and
downlink quality, to initiate the handover procedure.
2) The MS sends the GAN-RR HANDOVER REQUIRED message to the GANC indicating
the Channel Mode and a list of GERAN cells, identified by CGI, in order of
preference (e.g. ranked by C1 path loss parameter) for handover. This list is
the most recent information available from the GSM RR subsystem.
3) The GANC starts the handover preparation by signalling to the CN the need
for handover, using _Handover Required,_ and including the GERAN cell list
provided by the MS.
4) The CN selects a target GERAN cell and requests it to allocate the
necessary resources, using _Handover Request_.
5) The target GERAN builds a _Handover Command_ message providing information
on the channel allocated and sends it to the CN through the _Handover Request
Acknowledge_ message.
6) The CN signals the GANC to handover the MS to the GERAN, using _Handover
Command_ message, ending the handover preparation phase.
7) GANC transmits the GAN-RR HANDOVER COMMAND to the MS including the details
sent by the GERAN on the target resource allocation.
8) The MS transmits the _Um: Handover Access_ containing the handover
reference element to allow the target GERAN to correlate this handover access
with the _Handover Command_ message transmitted earlier to the CN in response
to the _Handover Required_.
9) The target GERAN confirms the detection of the handover to the CN, using
the _Handover Detect_ message.
10) The CN may at this point switch the user plane to the target BSS.
11) The GERAN provides _Physical Information_ to the MS i.e. _Timing Advance_
, to allow the MS to synchronize with the GERAN.
12) The MS signals to the GERAN that the handover is completed, using
_Handover Complete_.
13) The GERAN confirms to the CN the completion of the handover, via _Handover
Complete_ message.
14) Bi-directional voice traffic is now flowing between the MS and CN, via the
GERAN.
15) On receiving the confirmation of the completion of the handover, the CN
indicates to the GANC to release any resources allocated to the MS, via the
_Clear Command_.
16) GANC commands the MS to release resources, using the GAN-RR RR RELEASE
message.
17) GANC confirms resource release to CN using the _Clear Complete_ message.
18) The MS confirms resource release to the GANC using the GAN-RR RR RELEASE
COMPLETE message.
19) The MS may finally deregister from the GANC, using GAN-RR DEREGISTER
message.
#### 5.4.4.4 Other handover considerations
The current mechanisms and definition for handover failure should continue to
hold.
Operator methods for setting thresholds to trigger HO from GAN are not seen as
being possible due to the generic nature of access.
Handover to and from UTRAN should be possible in a manner identical to the
case for handovers between UTRAN and GERAN.
### 5.4.5 Cell Change Order between GAN and GERAN
While in GERAN, a mobile station may be ordered to perform a cell reselection
to GAN, by using the Cell Change Order procedures used in GERAN, with no
modifications.
While the mobile station is involved in a PS session in the GAN, the GANC may
decide to force the mobile station to perform a cell reselection to GERAN. To
achieve this, the GANC may send a GAN GRR MEASUREMENT ORDER to the mobile
station. Upon receipt of a GAN GRR MEASUREMENT REPORT, containing a list of
GERAN cells, the GANC may send a GAN GRR CELL CHANGE ORDER to the mobile
station.
Given the inherent ability of a multi-mode terminal of simultaneous reception
by GSM RR and GAN RR, it is not necessary to provide support for NACC.
## 5.5 Emergency call support in GAN
The GANC can indicate an operator preference for the access network for
emergency calls placement in the registration accept message. Based on
operator preference, and if a GSM PLMN is available, the MS should switch from
GAN mode to 3GPP mode and place the emergency call over GERAN/UTRAN, to
leverage the location determination infrastructure in GERAN/UTRAN. During the
emergency call, the MS should not attempt to handover the call to GAN. After
the emergency call is completed, the MS performs normal rove-in procedures, if
GAN coverage is still available, to re-enter GAN mode. Alternately there may
be a penalty timer configured to ensure that the MS remains in GERAN/UTRAN for
call-back purposes. On expiry of the penalty timer the MS performs normal
rove-in procedures, if GAN coverage is still available, to re-enter GAN mode.
Based on operator preference, or if a GSM PLMN is not available, the MS places
the emergency call over GAN. In GAN, the emergency call is handled just like a
GSM emergency call origination. The CGI associated with the GANC provides an
indication of the location of the MS. Additional, more accurate location
information may be obtained by the GANC either directly from the MS (e.g.
using AGPS) or from the generic IP access network point of attachment (e.g.
using a database of IP or MAC addresses). If available, the GANC can pass this
location information through BSSMAP to the core network, when requested.
However, location services based on mechanisms using the GERAN physical layer
cannot be applied.
Mechanisms to deregister the MS if the location accuracy is not deemed
sufficient for emergency calls in GAN mode by the operator can be supported.
## 5.6 Feasibility for support of services available through GERAN while in
GAN mode
The complete support of LCS through Generic Access is FFS. However it was
determined that a certain level of LCS support can be obtained through
\- appropriate assignment of CGIs for GAN cells,
\- use of A-GPS
Location services that rely on the physical layer of GERAN cannot be applied
in the case of generic access, e.g. OTDOA.It is seen feasible to support all
services requiring support of CC, MM, GMM, LLC and SS as well as SMS since
support for the transfer of upper layer NAS messages is provided in an
identical fashion as in GERAN. However, services such as VGCS, VBS and CBS
cannot be provided in a generic fashion. Such services require specific
support from the concerned generic access technology. CBS is a service
provided by GERAN and if needed in GAN then it needs to be supported in the
GANC through functionality such as IP multicast.
It is seen feasible to support MBMS through Point-to-point means using current
mechanisms of support through GPRS bearers. In case of point-to-multipoint
MBMS service, notification of service and how the service area can be mapped
to the GAN cell identity and location area are issues that need to be
resolved. Point-to-multipoint MBMS support requires access network specific
support.
## 5.7 Other considerations
1) It is noted that there is a need to define the frequency of SID and Idle-
frame transmission to provide support to the GAN in the determination of
uplink quality.
2) It is noted that architecture studied in the feasibility study requires
that in case of handover in a roaming scenario, the MS needs to have first
registered on the GAN by first contacting the home operator. The visiting
network cannot direct the MS to establish GAN connectivity.
3) It is noted that with the ability to connect to the home operator through
generic access while roaming fro a GERAN perspective, proper MMI indication
will be needed to inform the user of the need for appropriate dialling of
digits (e.g. addition of \"+\"-country code when roving out of GAN coverage
into the visiting network. Currently it is not typical, except in border
regions, for the MS in the same geographical area to dial the called number
differently.
4) The ability to have the SGW functionality in a physically separate node
from the other GANC functionality implies the need for a trusted relationship
between the two nodes, i.e. secure links between the GANC and the SGW.
5) The support of priority services needs to be studied further.
6) It was seen possible to have the MS continue to support its Class A/B/C of
operation as in GERAN. It was also seen possible to provide support for DTM
mode of operation.
7) For the case of Handovers in PS Domain that is currently being worked on in
GERAN, it was seen possible to re-use the concept of mimicking the GERAN
procedure by using a similar CGI identity mechanism for the GAN cell as in the
case of CS domain handovers.
# 6 Potential impacts on current specifications
No impact on the current GERAN specifications was identified.
# 7 Summary and conclusion
It has been concluded that it is feasible to support generic access to the
A/Gb interface, wherein an MS capable of generic access can obtain services
provided by the core network, using alternate access methods such as through a
generic IP based broadband connection. The generic broadband connection
provides connectivity between the MS and the core network and may be obtained
through any means or any combination of means such as ADSL, Cable, alternate
wireless access, etc. The MS connects to a network node that interfaces with
the core network through the standard A/Gb interfaces. A new interface that
connects the MS to a generic access network needs to be defined. A new
protocol that mimics the functionality as seen by the MM layer would need to
be defined.
It was determined that an MS supporting generic access to the A/Gb interface
can support all the service requirements defined for the 3GPP system including
support for SMS, MMS and IMS services that can be supported by GERAN. Due to
the generic nature of the access network, services provided by the radio
network in GERAN such as CBS, VGCS and VBS cannot be supported in a generic
manner. However, support for such features is possible through access specific
mechanisms such as multiple IP unicast in case of support of CBS. Emergency
calls support was seen feasible in GAN mode with the limitations that location
services relying on GERAN physical layer based mechanisms cannot be used.
However, alternate mechanisms are possible.
Given the current state of specifications and the on-going status of the work,
it was not possible to conclude on the feasibility for support of MBMS. It was
seen possible to support handovers in PS domain with the understanding that
the current CS domain handover trigger mechanisms would continue to be used in
this case as well thereby allowing the use of the mechanisms seen possible for
CS domain handovers.
#