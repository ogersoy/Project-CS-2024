# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Edge Computing is a network architecture concept that enables cloud computing
capabilities and service environments to be deployed at the edge of the
cellular network. It promises several benefits such as lower latency, higher
bandwidth, reduced backhaul traffic and prospects for several new services.
This technical report identifies the key issues and corresponding application
architecture and related solutions with recommendations for the normative
work.
# 1 Scope
The present document is a technical report capturing the study on application
architecture for enabling edge applications over 3GPP networks. The aspects of
the study include identifying architecture requirements (e.g. discovery of
edge services, authentication of the clients), supporting application layer
functional model and corresponding solutions to enable the deployment of
applications on the edge of 3GPP networks, with no impact to edge-unaware
applications on the UE and minimal impact to edge-aware applications on the
UE.
The study takes into consideration the work done for edge computing in 3GPP TS
23.501 [2] and other related work outside 3GPP.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.503: \"Policy and charging control framework for the 5G System
(5GS); Stage 2\".
[4] 3GPP TS 23.222: \"Functional architecture and information flows to support
Common API Framework for 3GPP Northbound APIs; Stage 2\".
[5] 3GPP TS 29.122: \"T8 reference point for northbound Application
Programming Interfaces (APIs)\".
[6] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[7] 3GPP TS 23.502: \"Procedure for the 5G System; Stage 2\".
[8] ETSI GS MEC 003 (V2.1.1): \"Multi-access Edge Computing (MEC); Framework
and Reference Architecture\".
[9] ETSI GS MEC 011 (V1.1.1): \"Mobile Edge Computing (MEC); Mobile Edge
Platform Application Enablement\".
[10] ETSI GS MEC 010-2 (V1.1.1): \"Mobile Edge Computing (MEC); Mobile Edge
Management; Part 2: Application lifecycle, rules and requirements
management\".
[11] 3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs;
Stage 3\".
[12] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[13] ETSI GS MEC 010-2 V1.1.1, \"Mobile Edge Computing (MEC); Mobile Edge
Management; Part 2: Application lifecycle, rules and requirements management\"
[14] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Application Client:** Application software resident in the UE performing the
client function.
**Application Server** : Application software resident in the cloud performing
the server function.
**Edge Application Server:** An Application Server resident in the Edge
Hosting Environment.
**Edge-aware Application:** An Edge Application Server or Application Client
which is aware of Edge Data Network, and can leverage the Edge Computing
capabilities.
**Edge Computing:** A concept, as described in 3GPP TS 23.501 [2], that
enables operator and 3^rd^ party services to be hosted close to the UE\'s
access point of attachment, to achieve an efficient service delivery through
the reduced end-to-end latency and load on the transport network.
**Edge Computing Service Provider** : A mobile network operator or a trusted
3^rd^ party service provider offering Edge Computing service.
**Edge Data Network:** Local Data Network that supports distributed deployment
of Edge Hosting Environments.
NOTE: The use of Edge Data Network or Local Data Network to be used in
normative phase is FFS.
**Edge Enabler Client:** A functional entity resident in the UE providing
services for the Application Clients.
**Edge Enabler Server:** A functional entity resident in the Edge Hosting
Environment providing services for the Edge Application Servers and Edge
Enabler Clients
**Edge Hosting Environment:** An environment providing support required for
Edge Application Server\'s execution.
**Local Data Network:** A data network access point geographically close to a
UE\'s point of attachment.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.501 [2] apply:
**Local Area Data Network**
**Uplink Classifier**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.503 [3] apply:
**Operating System (OS)**
**Operating System Identifier (OSId)**
**OS specific Application Identifier (OSAppId)**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply.\ An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GC 5G Core Network
5GS 5G System
AAF Authentication/Authorization Function
ACR Anonymous Customer Reference
AF Application Function
AKA Authentication and Key Agreement
AMF Access and Mobility Management Function
API Application Programming Interface
APN Access Point Name
ASP Application Service Provider
AUSF Authentication Server Function
CAPIF Common API Framework
CN Core Network
DNAI DN Access Identifier
DNN Data Network Name
DNS Domain Name System
E-UTRAN Evolved Universal Terrestrial Access Network
EAS Edge Application Server
ECSP Edge Computing Service Provider
EDN Edge Data Network
EDNCS Edge Data Network Configuration Server
EEC Edge Enabler Client
EES Edge Enabler Server
EPC Evolved Packet Core
ETSI European Telecommunications Standard Institute
FQDN Fully Qualified Domain Name
GPS Global Positioning System
GPSI Generic Public Subscription Identifier
ID Identity
IP Internet Protocol
ISG Industry Specification Group
KPI Key Performance Indicators
LADN Local Area Data Network
LCM Lifecycle Management
LCS Location Services
MNO Mobile Network Operator
NAT Network Address Translation
NEF Network Exposure Function
NF Network Function
NWDAF Network Data Analytics Function
OSS Operations Support System
PCF Policy Control Function
PDU Protocol Data Unit
PDN Packet Data Network
PLMN Public Land Mobile Network
QoS Quality of Service
SCEF Service Capability Exposure Function
SDP Session Description Protocol
SIM Subscriber Identity Module
SLA Service Level Agreement
S-NSSAI Single Network Slice Selection Assistance Information
SSID Service Set Identifier
TA Tracking Area
TAI Tracking Area Identity
UDM Unified Data Management
UE User Equipment
UPF User Plane Function
URI Uniform Resource Identifier
URSP UE Route Selection Policy
V2X Vehicle-to-everything
VIM Virtualized Infrastructure Manager
VM Virtual Machine
# 4 Key issues
## 4.1 Key Issue 1: Service provisioning and configuration
In order to avail edge computing services deployed in the Edge Data Network, a
UE should be able to connect with the Edge Data Network. What is critical is
whether the Application Client is able to find an Edge Application Server.
Open issues:
\- Whether some configuration information is needed by the UE in order to
connect with the Edge Data Network or not? If yes, what are the configuration
parameters?
\- How the configuration information, if required, is provided to the UE in a
secure manner?
> \- In the case that multiple Edge Application Servers are available in
> multiple Edge Data Networks, what application information is needed to
> determine the best suitable Edge Data Network?
## 4.2 Key Issue 2: Edge Data Network discovery and registration
The deployment of Edge Data Network may not be available at all the locations
due to operational constraints. For certain applications, before attempting to
avail edge computing services the UE needs to determine the availability of an
Edge Data Network at the UE\'s location.
Open issues:
\- Whether and how a UE determines the availability of an Edge Data Network at
the UE\'s location?
\- Whether and how a UE determines the availability of an Edge Enabler Server
at the UE\'s location?
\- Whether and how the UE registers to the Edge Enabler Server before availing
Edge Computing services?
\- Whether and how the UE de-registers from the Edge Enabler Server?
\- Whether and how the Edge Enabler Server detects an abnormal termination of
the UE registration?
\- If there are changes in the availability of the Edge Data Network, whether
and how the UE is notified?
\- If there are any changes in the availability of the Edge Enabler Server,
whether and how the UE is notified?
NOTE: This Key Issue relates to Edge Data Network discovery and registration.
Key Issue #8 below relates to the subsequent selection of the optimal Edge
Data Network if more than one suitable EDN is discovered.
## 4.3 Key Issue 3: Edge Application Server enablement on the Edge Hosting
Environment
Several application providers can use the Edge Data Network to provide their
applications as Edge Application Servers. To enable such Edge Application
Servers on the Edge Hosting Environment, the application providers may need to
supply Edge Application Servers related information to the Edge Enabler
Server. This information can include constraints on the availability of the
Edge Application Server to certain geographical area or time of operation etc.
Open Issues:
\- How the Edge Application Servers are registered on the Edge Enabler Server?
How the Edge Enabler Server identifies the registered Edge Application
Servers?
\- Whether and how the Edge Application Servers provide availability
information such as, certain geographical area, time of operation etc. to the
Edge Enabler Server?
\- What are the parameters required for Edge Application Server\'s enablement
on the Edge Enabler Server?
\- How the Edge Application Servers de-register from the Edge Enabler Server?
\- How the Edge Enabler Server can distribute EDN messages efficiently to a
set of subscribed Edge Application Servers?
\- Whether and how the Edge Enabler Server detects an abnormal termination of
the Edge Application Server registration?
## 4.4 Key Issue 4: Edge Application Server discovery
The deployment of Edge Application Servers may not be uniform across the Edge
Data Networks due to operational constraints. For certain applications, before
attempting to avail services from an Edge Application Servers, the UE needs to
determine the availability of the Edge Application Server from the Edge
Enabler Server. The meaning of availability of the Edge Application Server
includes both the Edge Application Server running on the Edge Hosting
Environment, and the Edge Application Server, which can be instantiated on the
Edge Hosting Environment.
Open Issues:
\- Whether and how to discover the Edge Application Servers available on the
Edge Hosting Environment within the Edge Data Network?
\- How to check authorization to discover the Edge Application Servers?
## 4.5 Key Issue 5: Capability Exposure to Edge Application Server
3GPP Network capability exposure function (i.e. SCEF, NEF) provides northbound
RESTful APIs which can be utilised by 3rd party applications (see 3GPP TS 29
122 [5] and 3GPP TS 29.522 [11] for information regarding available northbound
APIs).
In order for a 3rd party Edge Application Server to access such northbound
APIs exposed by SCEF/NEF, the 3rd party application developer would need to
onboard onto the MNO\'s platform (e.g., CAPIF) and accept MNO\'s SLA terms and
conditions.
On the other hand, it would be beneficial if the 3rd party Edge Application
Servers in the Edge Data Network can utilize service API(s) exposed by the
Edge Enabler Server, which may rely on the SCEF/NEF northbound APIs. Some of
the service API(s) that are exposed by the Edge Enabler Server may facilitate
communication between Application Client(s) and Edge Application Server(s).
For example, in smart factory, Edge Application Server may have the demand to
obtain location information of industrial robotics in order to activate
corresponding actions or operations based on location. This kind of location-
based service requires the Edge Application Server to be authorized to obtain
the location information of the UE through the Edge Enabler Server.
Open issues:
\- Whether there is a need for new service API(s) provided by the Edge Enabler
Server to the Edge Application Server, and how to support?
\- How Edge Application Servers discover available service API(s) within the
Edge Data Network?
\- Whether and how to support the Edge Application Server to access the
network capability exposure function directly, e.g., how CAPIF as specified in
3GPP TS 23.222 [4] can be utilized, and whether there is a need to enhance
functionalities of CAPIF?
\- Whether there is a need to support exposure of service API provided by the
Edge Application Server to the other Edge Application Server within the Edge
Data Network, and how to support?
\- Whether there is a need to support exposure of service API provided by the
Edge Application Server to the other Edge Application Server of the different
Data Network, and how to support?
\- How the Edge Enabling Server re-exposes service API(s) to the Edge
Application Server, where the service API(s) are relying on the SCEF/NEF
northbound API(s)?
\- How to uniquely identify the UE between the Edge Application Server and the
Edge Enabler Server for utilizing capability exposure API(s) which may rely on
the SCEF/NEF northbound API(s)?
\- Whether and how the location information of the UE can be exposed to the
Edge Application Server from the Edge Enabler Server.
\- How the Edge Enabler Server service API(s) are used to provide Edge
Application Servers with information about the capabilities of Edge Enabler
Clients that host the Edge Application Server\'s Application Client(s).
\- How Edge Enabler Server service API(s) facilitate communication between
Application Client(s) and Edge Application Server(s).
## 4.6 Key Issue 6: Edge Computing Service authorization
To support Edge Computing Service authorization, the following open issues
need to be studied.
\- How to enable the mobile network operator to authorize the usage of Edge
Computing Service by UE?
\- How to authorize the UE to use Edge Computing Service by non-MNOs, if
required in specific deployments?
\- How to enable the Edge Enabler Client to authenticate with the Edge Data
Network Configuration Server?
## 4.7 Key Issue 7: Flexible deployment
To support flexible deployment for Edge Computing, the following open issues
need to be studied.
\- How to support the multiple Edge Computing Service Providers per PLMN
operator network?
\- How to identify Edge Data Network, in case of multiple Edge Data Networks
within a single PLMN where one Edge Data Network is defined as a subarea (e.g.
list of TAs or cells) in the PLMN coverage?
## 4.8 Key Issue 8: Edge Data Network selection
A UE may have access to more than one Edge Data Network including Edge
Application Servers due to e.g. dual registration with 3GPP access and
non-3GPP access. An Edge Enabler Client in the UE needs to discover not only
available Edge Application Server(s) but first select the optimal Edge Data
Network if more than one is available.
Open issues:
\- How to assist the UE to select the optimal Edge Data Network?
NOTE: This key issue is related to key issue #2 and #4.
Editor\'s Note: The related solutions may need to be coordinated with SA2.
## 4.9 Key Issue 9: Preserving Service Continuity
When a UE handoffs to a new location, different Edge Application Servers may
be more suitable for serving the Application Clients in the UE. There needs to
be a way for Application Clients in the UE to continue their service while
replacing the serving Edge Application Server, with target Edge Application
Server. Furthermore, similar service continuity requirements exist for the
cases in which the Edge Application Servers are transferred from the Edge Data
Network to Servers in the cloud and vice versa. Such transitions may occur as
a result of a mobility event, or even as a result of other non-mobility events
such as load balancing.
This key issues proposes to study \"upper layer enablers\" for service
continuity that are within the scope of the application architecture for Edge
Application Servers (e.g. mechanisms for traffic redirection).
Open Issues:
\- How to detect the need to reroute traffic from the serving Edge Application
Server instance to the target Edge Application Server?
\- How to enable the required switch in the connection between the Application
Client and the Edge Application Server while preserving service continuity?
\- How to transfer any required context between Edge Application Servers
within the Edge Data Network?
\- How to transfer any required context from the serving Edge Application
Server to the target Edge Application Server (or Server) regardless of their
location: In the same Edge Data Network, in a different Edge Data Network or
in the Cloud?
## 4.10 Key Issue 10: Dynamic availability
Availability of Edge Data Network and the Edge Application Servers can change
dynamically due to multiple reasons, such as change in deployments, mobility
of the UE etc. Such changes should be provided to the UE to fine tune the
services provided accordingly.
Open issues:
\- How to keep the UE updated with information about Edge Data Network?
\- How to keep the UE updated with information about Edge Application Servers?
## 4.11 Key Issue 11: User consent/authorization for network capability
exposure to Edge Application Servers
User\'s consent is an important aspect while dealing with sensitive
information about the user or the devices of the user. With the capabilities
of the Edge Application Servers to request invocation of 3GPP network
capability exposure APIs, such as location APIs, to obtain information about
the user and the devices of the user, it is of utmost importance to capture
the consent of the user.
The user needs to be in full control of which applications are allowed to
request and obtain what information pertaining to the user and the devices
belonging to the user and how frequently. Such approvals by the end users
ensure that only the legitimate applications, trusted by the user, are able to
obtain and make use of the information and services involving the user or
user\'s sensitive information.
While capturing and using user consent is important, it is also important to
ensure only authorized users are allowed to grant or modify consent.
Open issues:
\- How to obtain the user\'s consent to allow an Edge Application Server\'s
service or information request?
\- How to ensure that only an authorized user is able to grant or modify the
consent?
Editor\'s Note: The aspects of defining end-user consent/authorization over
APIs is in the scope of SA3.
Editor\'s Note: The aspects of the usage of end-user consent/authorization
over APIs is in the scope of SA6.
## 4.12 Key Issue 12: Lifecycle management
In order to ensure efficient deployment of third-party applications in the
Edge Data Network, the application provider should be able to invoke requests
pertaining to the lifecycle of applications. These include on-boarding,
instantiation, upgrade, scaling and termination of user applications deployed
as Edge Application Servers in the Edge Data Network. The Edge Computing
Service Provider should process the requests and authorise them when
appropriate based on e.g. its own policies, resource availability, etc.
Further, it should be possible for an Edge Computing Service Provider to
manage the lifecycle of the Edge Enabler Server and Edge Data Network
Configuration Server in order to deploy edge ecosystems dynamically. This
should include the capability to manage the performance and fault of both
entities. These actions may be the result of requests from the application
provider.
Open issues:
\- A mechanism for the application providers to request lifecycle operations
(e.g. instantiation, termination, scaling) for their Edge Application Servers.
\- A mechanism for edge computing service providers to manage the lifecycle
(e.g. instantiation, termination, scaling), performance assurance and fault
supervision of Edge Enabler Servers.
\- A mechanism for edge computing service providers to manage the lifecycle
(e.g. instantiation, termination, scaling), performance assurance and fault
supervision of Edge Data Network Configuration Servers.
Editor\'s Note: The aspects of defining mechanisms to manage the lifecycle
(e.g. instantiation, termination, scaling), performance assurance and fault
supervision of Edge Application Servers, Edge Enabler Servers and Edge Data
Network Configuration Servers should be consulted with SA5.
Editor\'s Note: Whether this issue is restricted to the MNO domain is FFS.
## 4.13 Key Issue 13: Provision of QoS information for the Edge Application
Server
Edge Application Servers of the same type may have different requirements in
terms of QoS (e.g., guaranteed bitrate, maximum bitrate, priority). For
instance, certain video streaming applications may be expected to provide
higher QoS than other video streaming applications.
Open Issues:
\- Whether the information related with QoS (e.g., QoS parameters) can be
exposed to the Edge Application Server? If yes, how to do it?
\- Whether to differentiate the QoS requirements for the same type of Edge
Application Servers? If yes, how to do it?
\- Whether to define certain policy rules (e.g. QoS modification is forbidden)
for certain Edge Application Servers? If yes, how to do it?
## 4.14 Key Issue 14: Exposure of Application Client KPIs
During service provisioning and Edge Data Network discovery it is critical
that the Application Client is able to find an Edge Application Server in such
a manner that the range of required Application Client KPIs (e.g. latency,
compute resources) are satisfied.
Application Client KPIs may be included in the application package that is
initially onboarded and subsequently instantiated in the Edge Data Network, if
they are present. When the Application Client is installed in the UE those
KPIs, or a subset of them, can become resident in the UE.
Open Issues:
\- What are the specific application KPIs?
\- Whether and how determination of the availability of a suitable Edge Data
Network is based on a range of Application Client KPIs?
\- Whether and how determination of the availability of a suitable Edge
Enabler Server is based on a range of Application Client KPIs?
\- What is the range of Application Client KPIs (e.g. latency, compute
resources) needed in order for a UE to connect with the best suitable Edge
Data Network (e.g., with Edge Application Server available that satisfies the
KPIs)?
\- How to assist the UE to select the optimal Edge Data Network when the
serving EDN can no longer meet the performance required by one or more of the
Application Client KPIs?
# 5 Architectural requirements
## 5.1 General requirements
### 5.1.1 General
The application architecture for enabling Edge Applications is designed based
on the following architecture principles:
\- Application Client portability: Changes in logic of Application Clients to
interact with Edge Application Servers, compared to existing cloud
environment, are avoided.
\- Edge Application Server\'s portability: Changes in logic of Application
Servers when resident in Edge Hosting Environment, compared to existing cloud
environment, are avoided. An Edge Application Server should be able to run in
Edge Hosting Environments of multiple Edge Computing Service Providers,
without any modification.
\- Service differentiation: The mobile network operator is able to provide
service differentiation (e.g. by enabling/disabling the Edge Computing
features).
\- Flexible deployment: There can be multiple Edge Computing Service Providers
within a single PLMN operator network. The Edge Data Network can be a subarea
of a PLMN.
\- Interworking with 3GPP network: To provide Edge Computing features, already
developed or to be developed in 3GPP network (such as location service, QoS,
AF traffic influence), to Edge Application Servers, the application
architecture supports interworking with 3GPP network using existing capability
exposure functions such as NEF and PCF.
### 5.1.2 Requirements
In order to meet the architecture principles described, the application
architecture for enabling edge applications shall support the following
requirements:
[AR-5.1.2-a] The application architecture shall support deployment of
application server and application client without any modifications compared
to its deployment in existing cloud environments.
[AR-5.1.2-b] The application architecture shall support different deployments
of Edge Computing support in an operator\'s 3GPP network.
[AR-5.1.2-c] The application architecture shall assume a 3GPP network.
## 5.2 Edge Data Network configuration data
### 5.2.1 General
### 5.2.2 Requirements
[AR-5.2.2-a] The edge enabling application architecture shall provide
mechanisms to provide configuration parameters to an authorized UE to access
the Edge Data Network(s).
## 5.3 Edge Enabler Client registration
### 5.3.1 General
### 5.3.2 Requirements
[AR-5.3.2-a] The edge enabling application architecture shall provide
mechanisms for a UE to register onto the Edge Enabler Server.
[AR-5.3.2-b] The edge enabling application architecture shall provide
mechanisms for a UE to de-register from the Edge Enabler Server.
[AR-5.3.2-c] The edge enabling application architecture shall provide
mechanisms for the Edge Enabler Server to detect an abnormal termination of a
UE registration.
[AR-5.3.2-d] The edge enabling application architecture shall provide
mechanisms to notify a UE about relevant changes in availability of the Edge
Application Servers.
## 5.4 Edge Application Server enablement
### 5.4.1 General
### 5.4.2 Requirements
[AR-5.4.2-a] The edge enabling application architecture shall provide
mechanisms so that the Edge Application Servers are uniquely identifiable.
[AR-5.4.2-b] The edge enabling application architecture shall support EAS
exposing its availability which varies with time, location, etc.
[AR-5.4.2-c] The edge enabling application architecture shall provide
mechanisms to notify an Edge Application Server about relevant changes (e.g.
changes in the availability of edge computing services).
[AR-5.4.2-d] The edge enabling application architecture shall provide
mechanisms for an Edge Application Server to register to the Edge Enabler
Server.
[AR-5.4.2-e] The edge enabling application architecture shall provide
mechanisms for an Edge Application Server to de-register from the Edge Enabler
Server.
[AR-5.4.2-f] The edge enabling application architecture shall provide
mechanisms for the Edge Enabler Server to detect an abnormal termination of an
Edge Application Server registration.
## 5.5 Edge Application Server discovery
### 5.5.1 General
### 5.5.2 Requirements
[AR-5.5.2-a] The edge enabling application architecture shall provide
mechanisms for a UE to discover available Edge Application Servers.
[AR-5.5.2-b] The edge enabling application architecture shall provide relevant
configurations of the Edge Application Servers to the UE, in order to enable
communication between Application Clients and the Edge Application Servers.
[AR-5.5.2-c] The edge enabling application architecture shall provide
mechanisms to notify relevant changes to the UE.
## 5.6 Capability exposure to Edge Application Servers
### 5.6.1 General
### 5.6.2 Requirements
[AR-5.6.2-a] The edge enabling application architecture shall support for
exposure of 3GPP network\'s capabilities to the Edge Application Servers.
## 5.7 Security
### 5.7.1 General
### 5.7.2 Requirements
[AR-5.7.2-a] The edge enabling application architecture shall provide
mechanisms for the mobile network operator to authorize the usage of Edge
Computing services by the UE.
[AR-5.7.2-b] The edge enabling application architecture shall provide
mechanisms for the mobile network operator to authorize the usage of Edge
Computing services by the Edge Application Servers.
[AR-5.7.2-c] Communication within the edge enabling application architecture
shall be protected.
[AR-5.7.2-d] The authentication and authorization for the use of Edge
Computing services shall support the deployment where the edge enabler
functional entities providing the Edge Computing services are in the same or
different trust domains with the 3GPP system.
[AR-5.7.2-e] The edge enabling application architecture shall support the use
of either 3GPP credentials or application specific credentials for different
deployment needs, for the communication between the UE and the edge enabler
functional entities providing the Edge Computing services.
[AR-5.7.2-f] The edge enabling application architecture shall support mutual
authentication between servers (the Edge Data Network Configuration Server and
the Edge Enabler Server, the Edge Enabler Server and the Edge Application
Server).
[AR-5.7.2-g] The edge enabling application architecture shall support
authentication between clients and servers to support Edge enabling service
authorization.
# 6 Application architecture for enabling edge applications
## 6.1 General
## 6.2 Application architecture
The Figure 6.2-1 shows the application architecture for enabling Edge
Applications.
Figure 6.2-1: Application architecture for enabling edge applications
NOTE 1: It is possible that an application server only resides in the Edge
Data Network.
NOTE 2: The Edge Application Server in the Edge Data Network may or may not be
the same as the Application Server in the Cloud.
NOTE 3: If the Edge Application Server and Application Server in the Cloud are
different, the Application Data Traffic may also be different.
NOTE 4: Example of some deployment scenarios for Edge Data Network are
described in clause 8.
NOTE 5: The Edge Application(s) is able to run in an Edge Hosting Environment
that is resident in Edge Data Network.
NOTE 6: Although the Edge Application Server(s) can utilize the 3GPP
capability exposure functions via the Edge Enabler Server, the Edge
Application Server(s) may utilize directly 3GPP Network capability exposure
functions (e.g. SCEF, NEF) defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [7],
3GPP TS 23.222 [4], 3GPP TS 29.522 [11] and 3GPP TS 29.122 [5].
NOTE 7: The EEC may be further decomposed as described in Annex B.
## 6.3 Functional elements
### 6.3.1 General
The functional entities of the application architecture for enabling edge
applications are described in this clause.
### 6.3.2 Edge Enabler Server
Edge Enabler Server provides supporting functions needed for Edge Application
Servers to run in an Edge Data Network
Functionalities of Edge Enabler Server:
\- Provisioning of configuration information to enable the exchange of
Application Data Traffic with the Edge Application Server; and
\- Providing information related to the Edge Application Servers, such as
availability, to the Edge Enabler Client.
### 6.3.3 Edge Enabler Client
Edge Enabler Client provides supporting functions needed for Application
Client(s).
Functionalities of Edge Enabler Client:
\- Retrieval and provisioning of configuration information to enable the
exchange of Application Data Traffic with the Edge Application Server; and
\- Discovery of Edge Application Servers available in the Edge Data Network.
### 6.3.4 Edge Data Network Configuration Server
Edge Data Network Configuration Server provides supporting functions needed
for the UE to connect with an Edge Enabler Server. Edge Data Network
Configuration Server also supports Edge Data Network configurations
provisioning to the 3GPP network.
Functionalities of Edge Data Network Configuration Server:
\- Provisioning of Edge Data Network configuration information to the Edge
Enabler Client. The Edge Data Network configuration information includes the
following:
i. The information for the UE to connect to the Edge Data Networks with its
service area information; and
ii. The information for establishing a connection with Edge Enabler Servers
(such as URI).
\- Provisioning of Edge Data Network configuration information to the 3GPP
network.
NOTE: The Edge Data Network Configuration Server can be deployed in the MNO
domain, or can be deployed in non-MNO domain by service provider who has the
agreement with the MNO on Edge Data Network configurations.
## 6.4 Reference Points
### 6.4.1 General
The reference points of the application architecture for enabling Edge
Application Servers are described in this clause.
### 6.4.2 EDGE-1
The interactions related to enabling Edge Computing, between the Edge Enabler
Server and the Edge Enabler Client are supported by the EDGE-1 reference
point. This reference point supports:
\- Registration and de-registration of the Edge Enabler Client to the Edge
Enabler Server;
\- Retrieval and provisioning of configuration information for the UE; and
\- Discovery of Edge Application Servers available in the Edge Data Network.
### 6.4.3 EDGE-2
The interactions related to Edge Enabler Layer, between the Edge Enabler
Server and the 3GPP Network are supported by the EDGE-2 reference point. This
reference point supports:
\- Access to 3GPP Network functions and APIs for retrieval of network
capability information, e.g. via SCEF and NEF APIs as defined in 3GPP TS
23.501 [2], 3GPP TS 23.502 [7], 3GPP TS 29.522 [11], 3GPP TS 29.122 [5], and
with the EES acting as a trusted AF in 5GC (see the clause 5.13 of 3GPP TS
23.501 [2]).
NOTE: EDGE-2 reference point reuses SA2 defined 3GPP reference points or
interfaces of EPS or 5GS considering different deployment models.
### 6.4.4 EDGE-3
The interactions related to Edge Enabler Layer, between the Edge Enabler
Server and the Edge Application Servers are supported by the EDGE-3 reference
point. This reference point supports:
\- Registration of Edge Application Servers with availability information
(e.g. time constraints, location constraints);
\- De-registration of Edge Application Servers from the Edge Enabler Server;
and
\- Providing access to network capability information (e.g. location
information).
NOTE: The optimized distribution of events across the EDGE-3 interface is the
responsibility of CT groups.
### 6.4.5 EDGE-4
The interactions related to Edge Enabler Layer, between the Edge Data Network
Configuration Server and the Edge Enabler Client are supported by the EDGE-4
reference point. This reference point supports:
\- Provisioning of Edge Data Network configuration information to the Edge
Enabler Client in the UE.
### 6.4.6 EDGE-5
The interactions between Application Client(s) and the Edge Enabler Client in
the UE are supported by the EDGE-5 reference point. This reference point
supports:
\- Obtaining information about Edge Application Servers that Application
Client require to connect;
\- Notifications about events related to the connection between Application
Clients and their corresponding Edge Application Servers, such as: when an
Application Client needs to reconnect to a different Edge Application Server;
\- Providing Application Client information (such as its profile) to be used
for various tasks such as, identifying the appropriate Edge Application Server
instance to connect to; and
\- Provide the identity of the desired Edge Application Server to the Edge
Enabler Client to enable it to use that identity as a filter when requesting
information about Edge Application Servers.
### 6.4.7 EDGE-6
The interactions related to Edge Enabler Layer, between the Edge Data Network
Configuration Server and the Edge Enabler Server are supported by the EDGE-6
reference point. This reference point supports:
\- Registration of Edge Enabler Server information to the Edge Enabler Network
Configuration Server.
### 6.4.8 EDGE-7
The interactions related to Edge Enabler Layer, between the Edge Enabler
Server and the 3GPP Network are supported by the EDGE-2 reference point. This
reference point supports:
\- Access to 3GPP Network functions and APIs for retrieval of network
capability information, e.g. via SCEF and NEF APIs as defined in 3GPP TS
23.501 [2], 3GPP TS 23.502 [7], 3GPP TS 29.522 [11], 3GPP TS 29.122 [5], and
with the EAS acting as a trusted AF in 5GC (see the clause 5.13 of 3GPP TS
23.501 [2]).
NOTE: EDGE-7 reference point reuses SA2 defined 3GPP reference points or
interfaces of EPS or 5GS considering different deployment models.
### 6.4.9 EDGE-8
The interactions between the Edge Data Network Configuration Server and the
3GPP Network are supported by the EDGE-8 reference point. This reference point
supports:
\- Edge Data Network configurations provisioning to the 3GPP network utilizing
network exposure services.
# 7 Solutions
## 7.1 Solution #1: Edge Application Server Discovery
### 7.1.1 Solution description
The following solution corresponds to the key issue #4 on Edge Application
Server discovery as specified in clause 4.4.
The Edge Enabler Server allows the Edge Enabler Client to discover both, the
Edge Application Servers running on the Edge Hosting Platform within the Edge
Data Network and the Edge Application Servers which can be instantiated on the
Edge Hosting Platform within the Edge Data Network. The Edge Enabler Server
employs authorization checks and discovery filters and provide requested
information to the Edge Enabler Client.
The discovery filters may be used to indicate to the Edge Enabler server what
Application Clients might attempt to access the discovered services, what
types of access permissions are required by the Application Clients, etc. The
Edge Enabler Server may use this information to filter its response to the
Edge Enabler Client in order to avoid, or reduce, situations where Application
Client Servers connect to Edge Application Servers before recognizing that the
Edge Application Server can not provide the desired services.
Figure 7.1.1-1 illustrates the interactions between the Edge Enabler Client
and the Edge Enabler Server for Edge Application Server discovery.
Pre-conditions:
1\. Trigger conditions for initiating an Edge Application Server discovery
request are configured in the Edge Enabler Client;
2\. Information related to the Edge Enabler Server is available with the Edge
Enabler Client; and
3\. The Edge Enabler Server has received the information of Edge Application
Servers in other Edge Data Networks from the Edge Data Network Configuration
Server as described in solution #22.
Figure 7.1.1-1: Solution 1 -- Edge Application Server Discovery
1\. Certain configured trigger condition, for e.g. establishment of PDU
Session or PDN connectivity to the Edge Data Network, connecting to the Edge
Enabler Sever for the first time, expiry of a periodic timer, entering or
exiting a geographic area (i.e. Edge Data Network service area) etc., or a
combination of configured trigger conditions met at the Edge Enabler Client.
2\. As a result of Step 1, the Edge Enabler Client sends an Edge Application
Server discovery request to the Edge Enabler Server. The discovery request may
contain query filters to retrieve information about a particular Edge
Application Server or a category of Edge Application Servers, for e.g. gaming
applications. Query filters may also indicate a desired level of access
permissions (e.g. trial, gold-class, etc.), desired features (e.g. multi-
player or single player), and desired location availability. The request may
also include the identities of Application Client(s) that may initiate
application data traffic with the discovered Edge Application Server(s). If no
query filter is included, it indicates a request to discover all available
Edge Applications Server.
3\. Upon receiving the request from the Edge Enabler Client, the Edge Enabler
Server checks if the Edge Enabler Client is authorized to discover the
requested Edge Application Server(s). The authorization check may apply to an
individual Edge Application Server, a category of Edge Application Servers or
to the Edge Data Network, i.e., to all the Edge Application Servers. If the
discovery request contained query filters that indicated a desired level of
access permissions, features, and/or location availability, then the Edge
Enabler Server may also check if the Edge Enabler Server is able to provide
access to Edge Application Servers that are able to provide the desired level
of access permissions, features, and/or location availability.
4\. If the Edge Enabler client is authorized, the Edge Enabler Server
retrieves the information of Edge Application Servers. The information
includes a list of FQDN(s) along with a mapping to the IP address(es) of the
Edge Application Servers running on the Edge Hosting Platforms in the Edge
Data Network. For Edge Application Servers that are available but not
instantiated, the Edge Enabler Server includes relevant information. Further,
the Edge Enabler Server applies any discovery policies or filters, including
the filters received in the Edge Application Server discovery request to the
retrieved information, if any. If additional access permissions were specified
in the query filters of the discovery request, the Edge Enabler Server may
include additional information regarding the discovered Edge Application
Servers. For example, the Edge Enabler Server may indicate the access
permissions, the types of features, and the Application Client locations(s)
that the Edge Application Servers can support.
5\. The Edge Enabler Server sends the filtered information to the Edge Enabler
Client in an Edge Application Server discovery response. For the Edge
Application Servers that are hosted on a different Edge Data Network, the Edge
Enabler Server in the discovery response should include Edge Data Network
information (such as DNN, S-NSSAI, DNAI etc.) along with the Edge Application
Server information (such as FQDN or IP address) and may include information of
the responsible Edge Enabler Server.
6\. Upon receiving the Edge Application Server discovery response, the Edge
Enabler Client uses the FQDN and/or IP address mapping to resolve the domain
name requested by the Application Client for routing the outgoing application
data traffic and direct it to the instantiated Edge Application Server(s) in
the Edge Data Network, as required. Further, the Edge Enabler Client may
provide necessary notifications to the Edge-aware Application Client(s).
### 7.1.2 Solution evaluation
This solution allows an Edge Enabler Client to discover the Edge Application
Servers, running or available for running, in the Edge Data Network. The
solution also allows discovery and policy based filters for the discovery
requests and provides relevant information about the Edge Application Servers
to the Edge Enabler Clients.
This solution relates to key issue #4 and, satisfies [AR-5.5.2-a] and
[AR-5.5.2-b].
## 7.2 Solution #2: Provisioning of Edge Data Network configuration
### 7.2.1 Solution description
#### 7.2.1.1 General
This solution addresses the key issue #1, key issue #7 and key issue #14.
The architecture principle of flexible deployment of Edge Data Networks in
operator network is described in the clause 5 as follows:
> _Flexible deployment: There can be multiple Edge Computing Service Providers
> within a single PLMN operator network. The Edge Data Network can be a
> subarea of a PLMN._
In this solution, it is assumed that there are multiple Edge Computing Service
Providers and the service area of each Edge Data Network is a subarea of PLMN
and the possibility that the UE may have more than one connectivity, for
example with Dual SIM.
The UE shall be configured with information about the Edge Data Network(s) in
order to identify the availability of Edge Computing service(s) based on the
UE location and/or UE\'s service requirements/preferences and optionally the
UE\'s connectivity, to establish the connection(s) to the Edge Data Network(s)
and the Edge Enabler Server(s).
To provision the information, the UE shall connect to the initial provisioning
server (i.e. Edge Data Network Configuration Server) in application layer. The
provisioning server determines the Edge Data Network(s) that the UE may
connect to and provides the following information to the UE:
1\. The information for the UE to connect to the Edge Data Network(s).
2\. The additional service area identification information
NOTE: If the DNN is a LADN DNN, service area of Edge Data Network is LADN
service area as defined in 3GPP TS 23.501 [2] clause 5.6.5.
3\. The information for establishing a connection to Edge Enabler Server(s)
The Edge Enabler Client may provide the Edge Configuration Server with either
Application Client Profile ID(s) that can be used to retrieve Application
Client Profiles or Application Client Profiles that hold information about the
Application Clients that the Edge Enabler Client hosts (e.g. type of
application, schedule, etc.). The Edge Data Network Configuration Server maybe
provisioned with information about what type of Application Clients an Edge
Data network can accommodate. The Edge Data Network Configuration Server may
use this provisioned information and the Application Client Profiles that are
provided by the Edge Enabler Client to filter its response to the Edge Enabler
Client.
#### 7.2.1.2 Procedure for provisioning Edge Data Network configuration
Pre-conditions:
1\. The Edge Enabler Client in UE has been configured with the address (e.g.
URI) of the Edge Data Network Configuration Server. The address is either be
pre-configured in the UE or pre-defined value derived from the serving network
domain name as described in the 7.2.1.4;
NOTE 1: It is assumed that edge computing is not supported in home routed
roaming case.
2\. The Edge Enabler Client has been authenticated and authorized to enable
the communication with the Edge Data Network Configuration Server. The UE
Identifier is known to the Edge Enabler Client. It is either preconfigured in
the UE or resulted from a successful authentication/authorization (see
solution #6); and
NOTE 2: How to verify the legitimacy of the Edge Enabler Client and enable EEC
to authenticate with EDNCS are within the scope of SA3.
3\. The UE has performed subscription authentication in 3GPP network.
NOTE 3: How the UE is authorized to access to EDNCS is within the scope of
SA3.
Figure 7.2.1.2-1: Provisioning of Edge Data Network configuration
1\. The UE sends the initial provisioning request to the Edge Data Network
Configuration Server. The request message may include the UE identifier such
as GPSI (See 3GPP TS 23.003 [6] clause 28.8 for the definition of GPSI) or UE
Authorization Info if the UE received during EEC authentication/authorization
procedure and either Application Client Profile IDs or Application Client
Profile(s).
NOTE 4: The Edge Data Network Configuration Server may need to verify the
UE\'s authentication/authorization. How this verification for authentication
is done is within the scope of SA3.
> Table 7.2.1.2-1: Provisioning request
* * *
Information element Status Description UE Identifier O The identifier of the
UE (i.e. GPSI or identity token) UE Authorization Info O The UE Authorization
Info (e.g. access token) that is received as a result of Edge Enabler Client
authentication/authorization. Application Client Profile IDs O Identifier(s)
for indicating the pre-defined Application Client Profile(s) Application
Client Profile(s) O Information about what services the Edge Enabler Client
wants to connect to. This information will be used by the Edge Data Network
Configuration Server to filter its response. Connectivity Filter O List of
connectivity information for the UE. For example: PLMN ID, SSID (NOTE) NOTE:
The UE connectivity is only relevant in the deployment scenarios when the Edge
Data Network Configuration Server is centralized for multiple Edge Data
Networks.
* * *
> Table 7.2.1.2-2: Application Client Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | ECSP Filter | O | The identity of Edge | | | | Computing Service | | | | Provider(s) that Edge | | | | Enabler Client is willing | | | | to connect to. If this | | | | field is present, the Edge | | | | Data Network Configuration | | | | Server may filter its | | | | response based on this | | | | preference. | +-----------------------------+--------+-----------------------------+ | Application Client Type | O | The category or type of | | | | Application Client (e.g. | | | | V2X) | +-----------------------------+--------+-----------------------------+ | Application Client Schedule | O | The expected operation | | | | schedule of the Application | | | | Client (e.g. time windows) | +-----------------------------+--------+-----------------------------+ | Application Client Service | O | The expected location(s) | | Area | | (e.g. route) of the UE | | | | during the Application\'s | | | | operation schedule. This | | | | geographic information set | | | | can express a geographic | | | | point, polygon, route, | | | | signalling map, or waypoint | | | | set. | +-----------------------------+--------+-----------------------------+ | Application Client KPIs | O | The range of KPIs (e.g. | | | | latency and data rate) that | | | | are required in order for | | | | Application Clients to | | | | receive their desired | | | | services form the EAS. | | | | | | | | The information exposed via | | | | the KPIs is based on | | | | solutions for KI #14. | +-----------------------------+--------+-----------------------------+
2\. The Edge Data Network Configuration Server responds to the UE by sending
the list of Edge Data Network configuration(s). When Edge Data Network
Configuration Server was configured with information about what services each
Edge Data Network can provide, the response may be filtered based on any of
the Application Client Profile IDs or Application Client Profile(s) that were
provided in step 1. An Edge Data Network configuration includes the
identification of Edge Data Network, service area information, and the
information for establishing a connection to the Edge Enabler Server (e.g.
URI).
> Table 7.2.1.2-3: Provisioning response
+---------------------------+------------+---------------------------+ | Information element | Status | Description | +---------------------------+------------+---------------------------+ | EDN connection info | O (NOTE 2) | DNN (or APN), S-NSSAI, | | | | etc. | +---------------------------+------------+---------------------------+ | EDN Service Area | O (NOTE 3) | Cell list, List of TA, | | | | PLMN IDs | +---------------------------+------------+---------------------------+ | EES connection info | M | The endpoint address | | | | (e.g. URI) of Edge | | | | Enabler Server. | +---------------------------+------------+---------------------------+ | ECSP info | O | Information for Edge | | | | Computing Service | | | | Provider (see NOTE 1) | +---------------------------+------------+---------------------------+ | NOTE 1: This IE is | | | | present if the Edge | | | | Computing Service | | | | Provider is different | | | | than the PLMN operator | | | | that the UE is | | | | registered. | | | | | | | | NOTE 2: This IE is | | | | present unless the URSP | | | | is deployed in 5GC and | | | | used by the MNO. In case | | | | that the URSP is used by | | | | MNO, URSP rules for Edge | | | | Enabler Client may be | | | | provided to the UE using | | | | URSP as described in the | | | | clause 4.2.4.3 UE | | | | Configuration Update | | | | procedure in | | | | 3GPP TS 23.502 [7]. | | | | | | | | NOTE 3: This IE is | | | | present unless DNN in the | | | | EDN connection info is | | | | LADN DNN. | | | +---------------------------+------------+---------------------------+
NOTE 5: If there is a conflict of EDN connection info with the URSP rules,
coordination with SA2 will be expected.
#### 7.2.1.3 Procedure for initial provisioning and connecting to the Edge
Enabler Server
Pre-conditions:
1\. The UE is triggered to perform the initial registration (e.g. power-on).
Figure 7.2.1.3-1: Procedure Initial Provisioning and Connecting to Edge
Enabler Server
1\. The UE and the 3GPP Network performs the initial registration and session
establishment procedure. For the case that 3GPP Network is EPC, the UE and the
EPC performs the initial attach procedure as defined in 3GPP TS 23.401 [12]
clause 5.3.2. For the case that 3GPP Network is 5GC, the UE and the 5GC
performs the initial registration as defined in 3GPP TS 23.502 [7] clause
4.2.2.2 and session establishment procedure as defined in 3GPP TS 23.502 [7]
clause 4.3.2.
NOTE: This session establishment procedure in step 1 is necessary if the UE
must connect to the EDN Configuration Server through the internet access.
2\. The UE performs the initial provisioning procedure as described in clause
7.2.1.2: Procedure for provisioning Edge Data Network configuration.
3\. The UE checks if DNN (or APN) specified in EDN Configuration is the
established session as in the step 1. If the UE knows the EDN service area,
the UE should not establish a PDU session for the EDN DNN if the UE is outside
the EDN service area.
4\. If the UE determines that a new session establishment is needed in the
step 3, the UE and 3GPP Network performs the session establishment for EDN.
The procedure is defined in 3GPP TS 23.502 [7] clause 4.3.2.
5\. If the UE detects that Edge Enabler Server is available in the current
location, the Edge Enabler Client initiates a procedure to connect Edge
Enabler Server. This procedure is defined in Figure 7.1.1-1.
#### 7.2.1.4 Derivation of EDNCS address from the serving network domain name
An example of how to derive the address of the EDNCS of the serving PLMN as
follow:
http://edgeconfiguration.\/provisioning where \ is derived as
described in the following steps:
1\. Take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning.
2\. Use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" domain name.
An example of a serving network domain name is:
\- MCC = 234;
\- MNC = 15; and
which gives the EDNCS address:
http://edgeconfiguration.mnc015.mcc234.3gppnetwork.org.
### 7.2.2 Solution evaluation
This solution solves the study items addressed in the key issue #1, and the
key issue #7: Flexible Deployment. This solution is able to support the
regional Edge Data Network deployment and partial Edge Data Network
deployment. Also, this solution allows the MNO to deploy multiple Edge Hosting
Environments while each Edge Hosting Environment is operated by multiple Edge
Computing Service Providers.
This solution is dependent on SA3 to verify the legitimacy of the Edge Enabler
Client.
This solution may rely on the Edge Data Network Configuration Server to be
able to identify the applicable Edge Application Server(s) for each
Application Client Profile provided by the Edge Enabler Client.
This solution may require the coordination with SA2 on handling the conflicts
(if any) between the EDN connection info and URSP rule when both are provided
to the UE.
## 7.3 Solution #3: Edge Data Network using LADN
### 7.3.1 Solution description
The solution describes the Edge Data Network and its service area using LADN.
This solution addressed the following open issues under Key Issue #2 as
follows:
\- Whether and how a UE determines the availability of an Edge Data Network at
the UE\'s location?
\- If there are changes in the availability of the Edge Data Network, whether
and how the UE is notified?
In addition, this solution also addresses the following issues addressed in
the Key Issue #7. Flexible deployment
\- How to identify Edge Data Network, in case of multiple Edge Data Networks
within a single PLMN where one Edge Data Network is defined as a subarea (e.g.
list of TAs or cells) in the PLMN coverage.
This solution is for the deployment scenario option 3.
In this solution, an Edge Data Network is identified by LADN DNN and Edge Data
Network Service Area is defined as LADN Service Area (see 3GPP TS 23.501 [2]
clause 5.6.5 for LADN DNN and LADN Service Area).
After the initial registration procedure as defined in 3GPP TS 23.502 [7]
clause 4.2.2.2, the UE performs the initial provisioning procedure as
described in the solution #2 as described in clause 7.2. If the Edge Data
Network configuration information includes an LADN DNN as an identifier for
the Edge Data Network, the UE considers the LADN as the Edge Data Network.
In this solution, since the LADN is the Edge Data Network, the UE can discover
the service area of Edge Data Network by discovering LADN Service Area using
Registration Procedure as defined in 3GPP TS 23.502 [7] clause 4.2.2.2.
The UE determines the availability of an Edge Data Network by detecting
whether the UE is located in LADN service area. When the UE detects that the
UE moves into the LADN Service Area (see 3GPP TS 23.501 [2] clause 5.6.5 for
the detailed UE operation), the UE initiates the establishment of the PDU
Session for the LADN.
When the MNO reconfigures the LADN service area, the AMF uses UE Configuration
Update procedure to notify the UE of the change of LADN service area as
described in 3GPP TS 23.501 [2] clause 5.6.5.
### 7.3.2 Solution evaluation
This solution addresses the key issue #2 and #7 for the deployment scenario
option 3
This solution uses only the UE location to identify the appropriate serving
Edge Data Network.
## 7.4 Solution #4: Location Reporting API
### 7.4.1 Solution description
#### 7.4.1.1 General
The following solution corresponds to the key issue #5 on Capability Exposure
to Edge Application Server as specified in clause 4.5, especially use case for
the exposure of UE location information.
The Edge Enabler Server exposes Location Reporting API to the Edge Application
Server in order to support tracking or checking the valid location of the UE.
Location Reporting API exposed by the Edge Enabler Server may be relying on
the SCEFN/NEF northbound API for monitoring event of UE location.
The Edge Application Server can request Location Reporting API for one-time
reporting to check current UE location. The Edge Application Server can also
request Location Reporting API for continuous reporting to track UE location.
#### 7.4.1.2 Procedure
Pre-conditions:
1\. The Edge Application Server is authorized to discover and to use Location
Reporting API provided by the Edge Enabler Server;
2\. Edge Enabler Server is authorized to use Nnef Event Exposure API for
Location Reporting, based on SLA with MNO;
3\. UE Identifier between Edge Application Server and the Edge Enabler Server
is authorized for the Location Reporting API.; and
4\. It is assumed there is user consent between the UE and the Edge Enabler
Server for exposing location information of the UE to the Edge Application
Server.
##### 7.4.1.2.1 Request-Response model
Figure 7.4.1.2.1 illustrates the interactions between the Edge Enabler Server
and the Edge Application Server for one-time location reporting.
Figure 7.4.1.2.1: Solution 4 -- Location Reporting API: Request-Response model
1\. The Edge Application Server requests Location Reporting API (UE
Identifier, Location Granularity) to the Edge Enabler Server based on the
decision from the Edge Application Server. The Edge Application Server shall
include UE Identifier. Location granularity is optional parameter to indicate
format of location e.g. GPS Coordinates, Cell ID, Tracking Area ID, or civic
addresses (e.g. streets, districts, etc.), which can be understood by the Edge
Application Server.
NOTE 1: The trigger condition of the Location Reporting API is up to
application service logic, which is out of scope of this specification.
NOTE 2: The Edge Application Servers can obtain the UE Identifier using the UE
Identifier API defined by solution #5.
2\. The Edge Enabler Server checks the location of the UE:
a. If the request from the Edge Application Server includes the location
granularity, the Edge Enabler Server consider the location granularity
parameter for checking the location of the UE.
b. If the Edge Enabler Server caches locally the location of the UE as the
latest, the Edge Enabler Server may use this information to responds to the
Edge Application Server.
c. The Edge Enabler Server may modify the format of location information to
fit to the location granularity requested from the Edge Application Server in
the step 1, if supported. For example, if the Edge Enabler Server receives the
UE location in a format of tracking area ID or cell ID, the Edge Enabler
Server can modify the representation of the location information to the GPS
Coordinates, or civic addresses (e.g. streets, districts, etc.) as requested
by the Edge Application Server.
3\. The Edge Enabler Server responds to the Edge Application Server with the
location of the UE, and optionally the timestamp of the location. The
timestamp can be included to indicate the age of the location information.
##### 7.4.1.2.2 Subscribe-Notify model
Figure 7.4.1.2.2-1 illustrates the subscribe operation between the Edge
Enabler Server and the Edge Application Server for continuous location
reporting.
Figure 7.4.1.2.2-1: Solution 4 -- Location Reporting API: Subscribe Operation
1\. The Edge Application Server requests Location Reporting subscribe
operation (UE Identifier, Location Granularity) for tracking the UE location
continuously. The Edge Application Server shall include UE Identifier.
Location granularity is optional parameter to indicate format of location e.g.
GPS Coordinates, Cell ID, Tracking Area ID, or civic addresses (e.g. streets,
districts, etc.), which can be understood by the Edge Application Server.
2\. The Edge Enabler Server determines that the request from the Edge
Application Server is authorized. If it is authorized, the Edge Enabler Server
responds ACK for the subscribe request. If it is not authorized, the Edge
Enabler Server responds rejection with cause.
Figure 7.4.1.2.2-2 illustrates the notify operation between the Edge Enabler
Server and the Edge Application Server for continuous location reporting.
Figure 7.4.1.2.2-2: Solution 4 -- Location Reporting API: Notify Operation
1\. The Edge Enabler Server detects the location of the UE e.g., receiving
location reporting for the UE from the 3GPP system. The Edge Enabler Server
may cache the detected location information locally with timestamp as the
latest location information of the UE. The Edge Enabler Server determines to
notify the location information of the UE to the Edge Application Server which
has subscribed location reporting.
2\. The Edge Enabler Server sends Location Reporting notify operation to the
Edge Application Server. The Edge Enabler Server includes the location of the
UE and optionally the timestamp of the location. The timestamp can be included
to indicate the age of the location information.
> The Edge Enabler Server may modify the format of location information to fit
> to the location granularity requested from the Edge Application Server
> during the subscribe operation, if supported. For example, if the Edge
> Enabler Server receives the UE location in a format of tracking area ID or
> cell ID, the Edge Enabler Server can modify the representation of the
> location information to the GPS Coordinates, or civic addresses (e.g.
> streets, districts, etc.) as requested from the Edge Application Server.
##### 7.4.1.2.3 Detection of UE location from the 3GPP system
Figure 7.4.1.2.3 illustrates the interaction between the Edge Enabler Server
and 3GPP system (e.g., 5GS, EPS) for detecting the location information of the
UE.
Figure 7.4.1.2.3: Solution 4 -- Detection of UE location from the 3GPP system
1\. The Edge Enabler Server interacts with 3GPP system (e.g., 5GS, EPS) in
order to retrieve the location of the UE. For example, the Edge Enabler Server
can use API exposed by SCEF/NEF, LCS (Location Service) or NWDAF as specified
in 3GPP TS 23.502 [7].
> The Edge Enabler Server may request continuous location reporting to the
> 3GPP system to keep informed up to date location information of the UE in
> order to avoid repetition of location reporting request to the 3GPP system,
> so that the Edge Enabler Server always detects the latest location
> information of the UE.
>
> The Edge Enabler Server may consider the location granularity parameter
> (e.g. GPS Coordinates, Cell ID, Tracking Area ID, or civic addresses)
> requested from the Edge Application Server for retrieving the location of
> the UE from the 3GPP system.
#### 7.4.1.3 Service Operations
Table 7.4.1.3-1 describes the service operations of Location Reporting API
provided by the Edge Enabler Server.
Table 7.4.1.3-1: Location Reporting Services provided by the Edge Enabler
Server
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Consumer(s) | | | Operations | | | | | | Semantics | | +----------------+----------------+----------------+----------------+ | **EDGE3_Locat | Subscribe | Su | Edge | | ionReporting** | | bscribe/Notify | Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | Unsubscribe | | Edge | | | | | Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | Notify | | Edge | | | | | Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | Request | Re | Edge | | | | quest/Response | Application | | | | | Server | +----------------+----------------+----------------+----------------+
##### 7.4.1.3.1 EDGE3_LocationReporting_Subscribe operation
**Service operation name:** EDGE3_LocationReporting_Subscribe
**Description:** the consumer subscribes to receive a location reporting.
**Inputs (required):** target of location reporting (UE Identifier),
Notification Target Address.
**Inputs (optional):** Location Granularity (e.g., format of range of GPS
information, or civic addresses), Expiry time.
**Outputs (required):** The indication that the subscription is accepted,
Expiry time (required if the subscription can be expired based on the local
policy), and Subscription Correlation ID.
**Outputs (optional):** None.
##### 7.4.1.3.2 EDGE3_LocationReporting_Unsubscribe operation
**Service operation name:** EDGE3_LocationReporting_unsubscribe
**Description:** The consumer uses this service operation to unsubscribe the
location reporting.
**Input, Required:** Subscription Correlation ID.
**Input, Optional:** None.
**Output, Required:** Operation execution result indication _._
**Output, Optional:** None _._
The consumer unsubscribes the location reporting subscription by invoking
EDGE3_LocationReporting_Unsubscribe (Subscription Correlation ID) to the Edge
Enabler Server.
##### 7.4.1.3.3 EDGE3_LocationReporting_Notify operation
**Service operation name:** EDGE3_LocationReporting_Subscribe
**Description:** Provides the location reporting information to the Consumer
which has subscribed to that event before.
**Input, Required:** Target of location reporting (UE Identifier), Location
information, timestamp.
**Input, Optional:** Location Granularity (e.g., format of range of GPS
information, or civic addresses)
**Output, Required:** None _._
**Output, Optional:** None _._
##### 7.4.1.3.4 EDGE3_LocationReporting_Request operation
**Service operation name:** EDGE3_LocationReporting_Requset
**Description:** the consumer requests to receive a location reporting for the
UE.
**Inputs (required):** target of location reporting (UE Identifier),
Notification Target Address.
**Inputs (optional):** Location Granularity (e.g., range of GPS information,
or civic addresses)
**Outputs (required):** Target of location reporting (UE Identifier), Location
information, timestamp.
**Outputs (optional):** Location Granularity (e.g., format of range of GPS
information, or civic addresses)
### 7.4.2 Solution evaluation
This solution provides APIs for the Edge Application Servers to obtain the
location of the UEs. The Edge Application Servers can do a one-time location
check (request-response model) or can track the location of the UE (subscribe-
notify model).
To detect the location of the UE, the solution relies on SCEF/NEF northbound
APIs and hence provides a model for network capability exposure to Edge
Application Servers.
This solution provides the location of the UE to the Edge Application Servers
that corresponds to key issue #5.
## 7.5 Solution #5: UE Identifier API
### 7.5.1 Solution description
#### 7.5.1.1 General
The following solution corresponds to the key issue #5 on Capability Exposure
to Edge Application Server as specified in clause 4.5, especially how to
uniquely identify the UE between the Edge Application Server and the Edge
Enabler Server for utilizing capability exposure API(s).
The Edge Enabler Server exposes UE Identifier API to the Edge Application
Server in order to provide valid UE identifier for the capability exposure
API(s) over EDGE-3. This API enables Edge Application Server to point to a
user anonymously over different service API(s) exposed by the Edge Enabler
Server. The UE Identifier provided by the UE Identifier API is called as Edge
UE ID in this solution. The Edge Application Server uses Edge UE ID to
identify the UE for service API(s).
#### 7.5.1.2 Procedure
Figure 7.5.1.2-1 illustrates the interactions between the Edge Enabler Server
and the Edge Application Server for UE Identifier API.
Pre-conditions:
1\. The Edge Application Server is authorized to discover and to use UE
Identifier API provided by the Edge Enabler Server;
2\. The Edge Enabler Server is able to determine the Edge UE ID based on the
user information received from the Edge Application; and
3\. User and the Edge Application Server has made consent to expose user
information.
Figure 7.5.1.2-1: Solution 5 -- UE Identifier API
1\. The Edge Application Server requests UE Identifier API (User information,
Identifier of Edge Application Server) from the Edge Enabler Server. The User
information can be a form of ACR (Anonymous Customer Reference, see OMA-TS-
REST_NetAPI_ACR), Edge Application Server user ID, or IP address of the
Application Client, if available.
NOTE 1: This solution assumes that the IP address provided by the Edge
Application Server is not NAT\'ed from the PDN-GW at the user plane.
2\. The Edge Enabler Server determines the UE based on the received user
information in the step 1.
> If the Edge Enabler Server has retrieved user information (e.g. ACR or IP
> address) for the UE during the authorization procedure, the Edge Enabler
> Server can determine the UE for the request. The Edge Enabler Server may
> query 3GPP Network to retrieve GPSI corresponding to the user information.
> The GPSI is used when the Edge Enabler Server relies on the T8 APIs as
> specified in 3GPP TS 29.122 [5] for capability exposure API(s) over EDGE-3.
NOTE 2: It is assumed that UE subscription information in 3GPP system includes
the GPSI (Generic Public Subscription Identifier, as specified in 3GPP TS
23.501 [2]) for Edge Computing Service.
> After determining the UE, the Edge Enabler Server responds to the Edge
> Application Server including the GPSI as an Edge UE ID.
Editor\'s Note: It is FFS whether the Edge Enabler Server allocates different
Edge UE ID per Edge Application Server due to privacy reason. (e.g., hiding UE
identifier used for an Edge Application Server to other Edge Applications)
3\. The Edge Application Server uses the Edge UE ID received in the step 2 for
further capability exposure API(s) provided by the Edge Enabler Server.
The Edge Enabler Server can update the Edge UE ID to the Edge Application
Server if the Edge UE ID has been changed due to privacy reason (e.g., change
of GPSI). The Edge Enabler Server can purge the Edge UE ID from the Edge
Application Server if there is no need to support the Edge UE ID for
capability exposure API(s).
#### 7.5.1.3 Service Operations
Table 7.5.1.3-1 describes the service operations of UE Identifier API provided
by the Edge Enabler Server.
Table 7.5.1.3-1: UE Identifier Services provided by the Edge Enabler Server
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Consumer(s) | | | Operations | | | | | | Semantics | | +----------------+----------------+----------------+----------------+ | **EDGE3_ | Request | Re | Edge | | UEIdentifier** | | quest/Response | Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | Notify | Notify | Edge | | | | | Application | | | | | Server | +----------------+----------------+----------------+----------------+
##### 7.5.1.3.1 EDGE3_UEIdentifier_Request operation
**Service operation name:** EDGE3_UEIdentifier_Request
**Description:** The consumer requests to receive UE Identifier for capability
exposure APIs over EDGE-3.
**Input, Required:** User Information (ACR, IP Address), Identifier of Edge
Application
**Input, Optional:** None
**Output, Required:** Edge UE ID (e.g., GPSI)
**Output, Optional:** None
##### 7.5.1.3.2 EDGE3_UEIdentifier_Notify operation
**Service operation name:** EDGE3_UEIdentifier_Notify
**Description:** Provides the updated Edge UE ID to the Edge Application or
Purges the Edge UE ID from the Edge Application.
**Input, Required:** None
**Input, Optional:** Edge UE ID, Old Edge UE ID, Cause (e.g., Purge)
**Output, Required:** None
**Output, Optional:** None
### 7.5.2 Solution evaluation
In order to invoke the capability exposure APIs, this solution provides an API
for the Edge Application Servers to obtain the UE Identifier i.e. the GPSI of
the UE from the Edge Enabler Servers, using the user information (e.g., IP
address). The solution also allows the Edge Enabler Server to notify relevant
Edge Application Servers in case of change in the UE Identifier.
The solution has dependency on SA2 to provide a method for Edge Enabler Server
to obtain GPSI from the 3GPP network using the user information (e.g., IP
address).
The solution has following dependencies on SA3:
\- to evaluate privacy concerns on providing the GPSI to Edge Application
Servers, including providing same GPSI to multiple Edge Application Servers
which may lead to privacy issues;
\- user authentication/authorization (e.g. OAuth 2.0) by the MNO network for
generation of required anonymized UE Id.
This solution provides UE Identifiers to the Edge Application Servers in order
to invoke capability exposure APIs, and corresponds to key issue #5 and
satisfies [AR-5.6.2-a].
This solutions relies on the Edge Enabler Server to be able to identify a UE
based on user information, but it does not describe how this translation table
is created and maintained in the Edge Enabler Server.
## 7.6 Solution #6: Service Authorization for Edge Computing service
### 7.6.1 Solution description
This solution addresses the key issue #6 on Edge Computing Service
authorization as specified in clause 4.6
This solution addresses the open item of the key issue #6 as follows:
\- How to enable the mobile network operator to authorize the usage of Edge
Computing Service by UE?
The solution for UE/User authentication and authorization is used to
differentiate the UE\'s Edge Computing service based on the user profile or
subscription.
NOTE 1: the authentication and authorization mechanism will be defined by SA3.
Figure 7.6.1-1: Service differentiation using Edge Enabler Client
Authentication/Authorization
1\. Edge Enabler Client Authentication/Authorization procedure
> If the Edge Enabler Client authentication/authorization is required, either
> step 1A or step 1B is performed between the Edge Enabler Client and the
> Authentication/Authorization Function. The Authentication/Authorization
> Function determines the appropriate authentication method. If the AAF
> decides to perform AKA method through application layer protocol, the AAF
> requests the 3GPP CN to authenticate the UE. Otherwise, the user
> authentication/authorization of step 1B is performed.
NOTE 2: Step 1A is performed over an application protocol using AKA credential
to authenticate the Edge Enabler Client.
> After successful authentication (authorization), the AAF may retrieve the
> edge computing related profile information (e.g. subscription category or
> subscription level) for the UE from the 3GPP Core Network or from its
> separate profile database for edge computing.
NOTE 3: The edge computing related profile information from 3GPP Core Network
will be defined in SA2 with the input of SA6.
NOTE 4: Based on the edge computing hosting model, AAF can be either within
MNO\'s trust domain or outside of MNO\'s trusted domain.
NOTE 5: Interactions between the 3GPP CN and AAF will be defined in SA3 and
SA2.
2\. Identification Token and/or Access Token Acquisition procedure is
performed between the UE and AAF.
3\. The UE sends an application request (e.g. a request for a list of Edge
Application Servers) to the Application Function (e.g. Edge Enabler Server),
the application request message includes an Access Token.
NOTE 6: Identification Token and Access Token will be defined in SA3.
4\. The Edge Enabler Server performs Access Token Verification. The Access
Token verification may be done locally or in interaction with AAF. If AAF
interaction option is used and the AAF verifies the Access Token successfully,
it responds to the Application Function with the verification result and
authorized edge computing related profiles information.
NOTE 7: It is the EES that grants the request from the EEC and enforces the
application profiles
5\. The Edge Enabler Server provides the granted application service or
requested information selectively based on the application profile to the UE.
### 7.6.2 Solution evaluation
This solution addresses the key issue #6: Edge Computing Service authorization
described in [clause 4]{.underline}.6.
This solution allows the mobile operator to differentiate the edge computing
service by using edge computing related profile together with EEC
authentication/authorization.
## 7.7 Solution #7: Dynamic availability of Edge Application Servers
### 7.7.1 Solution description
The following solution corresponds to the key issue #10 on dynamic
availability of the Edge Application Servers as specified in clause 4.10.
The Edge Enabler Client subscribes to the Edge Enabler Server for dynamic
information. These subscriptions can be very specific to an Edge Application
Server or can be generic to include all the Edge Application Servers running
on an Edge Hosting Platform within an Edge Data Network.
Figure 7.7.1-1 illustrates the interactions between the Edge Enabler Client
and the Edge Enabler Server for dynamic availability information subscription.
Pre-conditions:
1\. Information related to the Edge Enabler Server is available with the Edge
Enabler Client.
Figure 7.7.1-1: Solution 7 -- Dynamic Availability subscription and
notification
1\. To subscribe for dynamic availability information, the Edge Enabler Client
sends a dynamic information subscription request to the Edge Enabler Server.
The request can indicate the level of dynamic information that is required by
the Edge Enabler Client, such as per Edge Application Server or for all Edge
Application Servers running on the Edge Hosting Platform in the Edge Data
Network. The Edge Enabler Client may also indicate the trigger conditions for
the notifications along with the subscription request. The request may also
contain additional criteria that may be used to filter the response(s) to the
subscription request, for e.g. category of Edge Application Servers such as
gaming.
2\. The Edge Enabler Server checks the authorization of the Edge Enabler
Client to subscribe to such dynamic information, and filters the unauthorized
requests, if any.
3\. If authorized, the Edge Enabler Server creates the subscription and sends
the dynamic information subscription response to the Edge Enabler Client.
4\. The Edge Application Server(s) may update the availability information or
related criteria such as time or location of availability that can be
discovered by the Edge Enabler Client(s)
5\. Trigger condition or a combination of trigger conditions such as
information update from the Edge Application Server illustrated in Step 4,
change in UE\'s location, change in network conditions etc., as configured in
the Edge Enabler Server or as requested by the Edge Enabler Client, meet at
the Edge Enabler Server.
6\. As a result of Step 5, the Edge Enabler Server triggers a notification to
the Edge Enabler Client containing the latest update on availability
information.
7\. Upon receiving the notification described in Step 6, the Edge Enabler
Client processes the notification and may adjust the UE\'s behaviour, such as
rerouting the application traffic.
8\. The Edge Enabler Client may notify the Edge-aware Application Client(s) on
the UE about the changes in availability of the Edge Application Server(s).
Upon receiving the notification from the Edge Enabler Client, the Application
Client(s) may adjust its behaviour, for e.g. changes the QoS requirements,
alters the feature set, changes the interfaces etc. accordingly.
### 7.7.2 Solution evaluation
This solution allows an Edge Enabler Client to subscribe for dynamic
information related to Edge Application Servers.
This solution corresponds to key issue #10 and satisfies [AR-5.5.2-c].
NOTE: This procedure and the procedure for discovery of Edge Application
Servers may be converged into a single procedure during normative work.
This solution shows a notification to an Application Client, but is missing
the Application Client\'s subscription for notification.
## 7.8 Solution #8: Registering Edge Enabler Client on Edge Enabler Server
### 7.8.1 Solution description
The following solution corresponds to the key issue #2 on Edge Data Network
discovery and registration as specified in clause 4.2. It also relates to key
issue #14.
The Edge Enabler Client after receiving the security credentials from the
Authentication and Authorization Function and the Edge Data Network
configuration from the Edge Data Network Configuration Server, uses the
configuration information and security credentials to register to the Edge
Enabler Server. The Edge Enabler Server verifies the validity of the
registration request and responds to the Edge Enabler Client accordingly.
The Edge Enabler Client may already be registered on an Edge Enabler Server
(i.e. source Edge Enabler Server) before attempting registration on another
Edge Enabler Server (i.e. target Edge Enabler Server). In such a scenario, the
Edge Enabler Client provides the target Edge Enabler Server with identity
information of the source Edge Enabler Server and the Edge Enabler Client\'s
identity that was assigned by the AAF. Using the provided information, the
target Edge Enabler Server ensures availability of UE\'s Edge Enabler Client
context and thereby uses the UE\'s Edge Enabler Server context.
Figure 7.8.1-1 illustrates the interactions between the Edge Enabler Client
and the Edge Enabler Server for registration.
Pre-conditions:
1\. The UE is authorized to access the Edge Enabler Server for the purpose of
performing registration and has received relevant security credentials from
the AAF as described in solution #6, clause 7.6; and
2\. The Edge Enabler Client has received configuration from the Edge Data
Network Configuration Server, including the information related to the Edge
Enabler Server.
Figure 7.8.1-1: Solution 8 -- Edge Enabler Client registration
1\. The Edge Enabler Client sends Edge Enabler Client registration request
(New or Update Indication, Application Client Profile(s), proposed lifetime)
to the Edge Enabler Server. The request from the client includes the security
credentials received from the Authentication/Authorization Function after
successful authorization for the Edge Computing service, as described in
solution #6, clause 7.6. The request also optionally includes Application
Client Profile(s) or Application Client Profile Id(s) for the Application
Clients that use the Edge Application Server\'s services. The Application
Client Profile(s) (or Application Client Profile Id after de-referencing)
indicate to the Edge Enabler Server how the Edge Enabler Client expects to use
the services of the Edge Enabler Server. The contents of the Application
Client Profile are listed in Table 7.8.1-1. The Edge Enabler Client
registration request indicates to the Edge Enabler Server if the request is a
new registration or a registration update. A registration update may be used
to send new or updated Application Client Profile(s) (or Application Client
Profile Id) to the Edge Enabler Server.
> If the Edge Enabler Client is moving from the purview of a source Edge
> Enabler Server to this Edge Enabler Server, the request from the Edge
> Enabler Client may include the identity of the source Edge Enabler Server
> and an Edge Enabler Client Registration Context ID that was provided by the
> source Edge Enabler Server.
Table 7.8.1-1: Application Client Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | Application Client Type | O | The category or type of | | | | Application Client (e.g. | | | | V2X) | +-----------------------------+--------+-----------------------------+ | Application Client Schedule | O | The expected operation | | | | schedule of the Application | | | | Client (e.g. time windows) | +-----------------------------+--------+-----------------------------+ | Application Client Service | O | The expected location(s) | | Area | | (e.g. route) of the UE | | | | during the Application | | | | Client\'s operation | | | | schedule. This geographic | | | | information set can express | | | | a geographic point, | | | | polygon, route, signalling | | | | map, or waypoint set. | +-----------------------------+--------+-----------------------------+ | Application Client KPIs | O | The range of KPIs (e.g. | | | | latency and data rate) that | | | | are required in order for | | | | Application Clients to | | | | receive their desired | | | | services form the EAS. | | | | | | | | The information exposed via | | | | the KPIs is based on | | | | solutions for KI #14. | +-----------------------------+--------+-----------------------------+
NOTE 1: Application Client Required KPIs are service requirement indicators
which are used to establish a level of service requested on behalf of each of
the Application Clients. How the Application is pre-configured with the KPIs
is outside the scope of this specification.
NOTE 2: The Application Client Profile may also be retrieved from the database
using the Application Client Profile Id.
2\. Upon receiving the request from the Edge Enabler Client, the Edge Enabler
Server validates the registration request and verifies the security
credentials. The Edge Enabler Server further determines whether the
requirements that were indicated in the Application Client Profile(s) can be
fulfilled.
3\. Upon successful validation of the request, if the received Registration
request contains a Context ID and the source Edge Enabler Server Identifier,
the Edge Enabler Server retrieves the Edge Enabler\'s Registration Context
from the source Edge Enabler Server. Otherwise, this step is skipped.
4\. The Edge Enabler Server sends a successful registration response, which
includes a newly assigned Context ID. The Edge Enabler Client stores the new
Context ID and uses it if it needs to register with a new Edge Enabler Server
later on. The Edge Enabler Server also provides a lifetime value to indicate
to the Edge Data Client when the registration will automatically expire. The
Edge Enabler Client must send a registration request with an Update Indication
prior to the expiration to maintain the current registration. The Edge Enabler
Server will treat the registration expiration as an implicit de-registration.
If the Edge Enabler Server is not able to fulfil, or provide, the services
that are indicated by Application Client Profile(s), then the Edge Enabler
Server will indicate this in the Edge Enabler Client registration response.
Editor\'s Note: When there is a unique UE ID/EEC ID assigned by the AAF, which
is used by all the EESs (as part of registration request to a new EES), is
there still a need for a Unique Context ID assigned by the EES? That is when
the target EES requests the source EES for UE\'s context, it can use the
unique UEId to pinpoint the UE and the active UE\'s context held in the source
EES (which upon successful transfer of UE\'s context to the target EES, the
source EES can purge it from its memory). The need for a Context ID assigned
by EES is FFS.
### 7.8.2 Solution evaluation
This solution allows an Edge Enabler Client to register to an Edge Enabler
Server post successful authorization. The solution allows optional Application
Client Profile(s) to be provided during the registration, enabling the Edge
Enabler Server to determine whether it can fulfil the service requirements of
the Application Clients and avoid situations where the registration is
completed and it is later determined that the Edge Enabler Server cannot
provide the desired services. The procedure also introduces Edge Enabler
Client Registration Context IDs that are used for identifying UE context
across Edge Enabler Servers when UEs move registration from one Edge Enabler
Server to another.
This solution does not include a registration cancellation procedure for the
case in which an Edge Enabler Client requires the services of a new Edge
Enabler Server.
## 7.9 Solution #9: Relocation of application context
### 7.9.1 Solution description
#### 7.9.1.1 Procedure
This solution addresses the open issues under Key Issue #9. In this solution,
the Edge Application Server is responsible to make the decision whether the
application context for a UE is to be relocated. The Edge Application Server
prepares the required UE application context to be relocated and transfers it
to the target Edge Application Server. The required UE application context
will be transferred via Edge Enabler Servers to the target Edge Application
Server. With this solution the UE will not be aware of the application context
of the UE being relocated and preserves the service continuity. Further, the
user plane is reconfigured as described in clause 4.3.6 of 3GPP TS 23.502 [7].
NOTE 1: This solution may require the application to adapt for relocation of
the application context to preserve service continuity.
The high level signalling flows for application context relocation is
illustrated in Figure 7.9.1.1-1.
Pre-conditions:
1\. The application client at the UE already has a connection to the source
Edge Application Server; and
2\. The source Edge Application Server has subscribed to the user plane
management event and receives the notifications as described in 3GPP TS 23.502
[7].
Figure 7.9.1.1-1: Application context relocation
1\. The source Edge Application Server determines the application context for
the UE needs to be relocated (e.g. based on the user plane management event
notifications, application mobility capability and requirements).
2\. The source Edge Application Server sends the application context
relocation request (UE info) to the source EES for the target Edge Application
Server. The UE info can be the UE IP address or UE identity.
3\. The source EES determines the target Edge Application Server and its
associated target EES for the application context relocation based the target
DNAI and target EES information (e.g. the Edge Application Server
availability).
4\. The source EES sends application context relocation request (source Edge
Application Server info, UE info, CN NF info) for UE application context
transfer. The source Edge Application Server info includes the application
FQDN, and the IP address of the source Edge Application Server may be also
included. The CN NF information (such as the NEF, PCF) may be also included to
assist the target EES to communicate with the 3GPP system.
5\. If target EES accepts the application context relocation, an application
context relocation ack may be provided to the source EES.
6\. The target EES determines the target Edge Application Server corresponding
to the source Edge Application Server information, and sends the application
context relocation request (Source Edge Application Server info, UE info) to
the target Edge Application Server for UE application context transfer. Edge
Application Server instantiation or other operations to activate this Edge
Application Server is required, if the Edge Application Server is not running.
7\. The target Edge Application Server responds with an application context
relocation response, indicating success or failure.
8\. The target EES returns the application context relocation response
(accepted source Edge Application Server info, UE info) to the source EES.
9\. The source EES provides the application context relocation response to the
source Edge Application Server to indicate that the Edge Application Server is
ready for UE application context transfer.
10\. When the source Edge Application Server determines the UE application
context can be transferred, the source Edge Application Server delivers it to
the target Edge Application Server via the source EES and target EES.
NOTE 2: Step 10 can occur directly between the source Edge Application Server
and the target Edge Application Server.
11\. When the UE application context transfer is completed, an application
context transfer complete notify is sent from source/target Edge Application
Server to source/target EES.
12\. The source EES acting as AF triggers the AF request to influence on
traffic routing procedure as described in 3GPP TS 23.502 [7].
#### 7.9.1.2 API description
##### 7.9.1.2.1 General
Table 7.9.1.2.1-1 illustrates the API for application context relocation.
Table 7.9.1.2.1-1: Application context relocation API
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Consumer(s) | | | Operations | | | | | | Semantics | | +----------------+----------------+----------------+----------------+ | **EDGE3_Appl | Create | Re | Edge | | ication_conte | | quest/Response | Application | | xt_relocation | | | Server | | API** | | | | +----------------+----------------+----------------+----------------+ | | Update | Re | Edge | | | | quest/Response | Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | Delete | Re | Edge | | | | quest/Response | Application | | | | | Server | +----------------+----------------+----------------+----------------+
##### 7.9.1.2.2 EDGE3_Application_context_relocation_create operation
**Service operation name:** EDGE3_Application_context_relocation_create
**Description:** The consumer requests this operation to create the transport
channel via the Edge Enabler Server to transfer the application context to the
target edge AS.
**Inputs (required):** UE information (IP address or UE identity)
**Inputs (optional):** None
**Outputs (required):** Media handle (e.g. SDP like information) for
transferring the application context to the target edge AS including a session
ID.
**Outputs (optional):** None.
See clause 7.9.1.1 for details of usage of this operation.
##### 7.9.1.2.3 EDGE3_Application_context_relocation_update operation
**Service operation name:** EDGE3_Application_context_relocation_update
**Description:** The consumer requests this operation to update the channel
via the Edge Enabler Server to transfer the application to the target edge AS.
**Inputs (required):** UE information (IP address or UE identity)
**Inputs (optional):** None
**Outputs (required):** Media handle (e.g. SDP like information) for
transferring the application context to the target edge AS including a session
ID.
**Outputs (optional):** None.
##### 7.9.1.2.4 EDGE3_Application_context_relocation_delete operation
**Service operation name:** EDGE3_Application_context_relocation_delete
**Description:** The consumer requests this operation to release the channel
via the Edge Enabler Server to transfer the application to the target edge AS.
**Inputs (required):** UE information (IP address or UE identity), session ID
**Inputs (optional):** None
**Outputs (required):** Result.
**Outputs (optional):** None.
### 7.9.2 Solution evaluation
This solution provides a suitable solution to key issue #9 utilizing the
capabilities for application context transfer of the Edge Enabler Server.
## 7.10 Solution #10: Network capability exposure to Edge Application Server
using CAPIF
### 7.10.1 Solution description
#### 7.10.1.1 General
The following solution corresponds to the key issue #5 on network capability
exposure to edge applications using CAPIF as specified in clause 4.5.
#### 7.10.1.2 Distributed CAPIF
The Edge Enabler Server can support Edge Application Server (owned by 3^rd^
party or by PLMN operator) access to northbound APIs exposed by SCEF/NEF by
providing distributed CAPIF functions as shown in Figure 7.10.1.2-1.
Figure 7.10.1.2-1: Edge Enabler Server supporting distributed CAPIF functions
The Edge Data Networks reside outside the PLMN trust domain as shown in Figure
7.10.2-1. In Edge Data Network 2, the Edge Application Server and Edge Enabler
Server are within the same ECSP trust domain. While in Edge Data Network 1,
the Edge Enabler Server and the Edge Application Server are in the different
ECSP trust domain.
The Edge Enabler Server of an Edge Data Network provides the following
functions for network capability exposure:
\- the CAPIF core function as specified in 3GPP TS 23.222 [4] to support
onboarding of Edge Application Servers (API invokers), publish of service
APIs, discovery of service APIs and charging of service APIs invocations; and
\- the API exposing function as specified in 3GPP TS 23.222 [4] to expose the
service APIs from SCEF/NEF to the Edge Application Servers via proxy or
gateway function.
The following procedures are performed as specified in 3GPP TS 23.222 [4]:
\- The SCEF and NEF act as API exposing function and the service APIs from
SCEF (T8) and NEF (Nnef) are published to the Edge Enabler Servers (CAPIF core
function 2 and CAPIF core function 3). The service APIs are published to the
Edge Enabler Servers (CAPIF core function 2 and CAPIF core function 3) from
the CAPIF core function 1.
\- The Edge Application Server acts as an API invoker and is onboarded to the
Edge Enabler Server (CAPIF core function 2 or CAPIF core function 3) within
the Edge Data Network.
\- The Edge Application Servers (API invokers) are authenticated with Edge
Enabler Server (CAPIF core function 2 or CAPIF core function 3).
NOTE: The trusted Edge Application Servers can utilize the services of a
centralized CAPIF core function deployed by the PLMN operator instead of the
CAPIF core function of Edge Enabler Server deployed within the Edge Data
Network.
\- The Edge Application Server discovers the service APIs published by the
SCEF and NEF via the Edge Enabler Server (CAPIF core function 2 or CAPIF core
function 3) within the Edge Data Network including the end point address of
the API exposing function where the service API invocation is to be performed.
\- The Edge Application Server obtains authorization to invoke the service
APIs of the SCEF and NEF from the Edge Enabler Server (CAPIF core function 2
or CAPIF core function 3).
Editor\'s note: The role of end user in the authentication and authorization
procedure for invoking service APIs (e.g. location of a user) is FFS.
\- The Edge Application Server invokes the service APIs of the SCEF and NEF
after performing authentication with the Edge Enabler Server (API exposing
function) and obtaining the UE identifier as specified in solution #5: UE
Identifier API. The Edge Enabler Server (API exposing function) further
invokes the service APIs of the SCEF or NEF in the 3GPP core network. EDGE-2
supports CAPIF-7/7e interactions corresponding to T8 (for SCEF) and N33 (for
NEF).
#### 7.10.1.3 Centralized CAPIF
The Edge Enabler Server can support Edge Application Server (owned by 3^rd^
party or by PLMN operator) access to northbound APIs exposed by SCEF/NEF by
providing centralized CAPIF functions as shown in Figure 7.10.1.3-1.
Figure 7.10.1.3.-1: Edge Enabler Server supporting centralized CAPIF functions
The Edge Data Networks reside outside the PLMN trust domain as shown in Figure
7.10.3-1. In Edge Data Network 2, the Edge Application Server and Edge Enabler
Server are within the same ECSP trust domain. While in Edge Data Network 1,
the Edge Enabler Server and the Edge Application Server are in the different
ECSP trust domain.
The Edge Enabler Server of an Edge Data Network provides the following
functions for network capability exposure:
\- the centralized CAPIF core function as specified in 3GPP TS 23.222 [4] to
support onboarding of Edge Application Servers (API invokers), publish of
service APIs, discovery of service APIs and charging of service APIs
invocations; and
\- the API exposing function as specified in 3GPP TS 23.222 [4] to expose the
service APIs from SCEF/NEF to the Edge Application Servers via proxy or
gateway function.
The following procedures are performed as specified in 3GPP TS 23.222 [4]:
\- The SCEF and NEF act as API exposing function and the service APIs from
SCEF (T8) and NEF (Nnef) are published to the centralized CAPIF core function.
The service APIs exposed by the Edge Enabler Servers are published to the
centralized CAPIF core function.
\- The Edge Application Server acts as an API invoker and is onboarded to the
centralized CAPIF core function residing outside of the Edge Data Network.
\- The Edge Application Servers (API invokers) are authenticated with the
centralized CAPIF core function.
\- The Edge Application Server discovers the service APIs published by the
SCEF and NEF via the centralized CAPIF core function including the end point
address of the API exposing function where the service API invocation is to be
performed.
\- The Edge Application Server obtains authorization to invoke the service
APIs of the SCEF and NEF from the centralized CAPIF core function.
Editor\'s note: The role of end user in the authentication and authorization
procedure for invoking service APIs (e.g. location of a user) is FFS.
\- The Edge Application Server invokes the service APIs of the SCEF and NEF
after performing authentication with the Edge Enabler Server (API exposing
function) and obtaining the UE identifier as specified in solution #5: UE
Identifier API. The Edge Enabler Server (API exposing function) further
invokes the service APIs of the SCEF or NEF in the 3GPP core network. EDGE-2
supports CAPIF-7 interactions corresponding to T8 (for SCEF) and N33 (for
NEF).
#### 7.10.1.4 EES and EAS direct interaction with 3GPP core network(s)
As shown in Figure 7.10.1.4-1, the Edge Enabler Server deployed with the PLMN
trust domain can support Edge Application Server (owned by 3^rd^ party or by
PLMN operator) access to northbound APIs exposed by SCEF/NEF by assuming the
role of SCEF/NEF and the PLMN Edge Application Server can access the network
capabilities via direct interaction with the 3GPP core network entities.
Figure 7.10.1.4.-1: EES and EAS direct interaction with 3GPP core network
For the sake of simplicity, the CAPIF core function is not shown in Figure
7.10.4.-1. The CAPIF core function may be deployed in centralized or
distributed manner as described in clause 7.10.1.3 and clause 7.10.1.2.
The Edge Enabler Server of an Edge Data Network provides the following
functions for network capability exposure:
\- the centralized or distributed CAPIF core function as specified in 3GPP TS
23.222 [4] to support onboarding of Edge Application Servers (API invokers),
publish of service APIs, discovery of service APIs and charging of service
APIs invocations; and
\- the API exposing function as specified in 3GPP TS 23.222 [4] to expose the
service APIs of SCEF/NEF to the Edge Application Servers.
The following procedures are performed as specified in 3GPP TS 23.222 [4]:
\- The Edge Enable Server assumes the role of SCEF and NEF and act as API
exposing function. The service APIs from SCEF (T8) and NEF (Nnef) are
published to the CAPIF core function (either deployed centrally or in
distributed manner).
\- The 3^rd^ party Edge Application Server acts as an API invoker and is
onboarded to the CAPIF core function.
\- The 3^rd^ party Edge Application Servers (API invokers) are authenticated
with the CAPIF core function.
\- The 3^rd^ party Edge Application Server discovers the service APIs
published by the Edge Enabler Server via the CAPIF core function including the
end point address of the API exposing function (Edge Enabler Server) where the
service API invocation is to be performed.
\- The 3^rd^ party Edge Application Server obtains authorization to invoke the
service APIs of the SCEF and NEF from the CAPIF core function.
\- The 3^rd^ party Edge Application Server authenticates and invokes the
service APIs of the SCEF and NEF on the Edge Enabler Server. The Edge Enabler
Server further interacts with the 3GPP core network (5GC or EPC) using the
respective interfaces provided by the core network entities. EDGE-2 supports
direct interaction with 3GPP core network(s)
\- The PLMN deployed Edge Application Server accesses the network capabilities
via direct interactions with the 3GPP core network(s). EDGE-7 supports direct
interaction with 3GPP core network(s).
### 7.10.2 Solution evaluation
Solutions in clauses 7.10.1.2 and 7.10.1.3 satisfy the key issue #5 for
network capability exposure to Edge Application Server in different deployment
scenarios. The solution in clause 7.10.1.2 assumes that SCEF and NEF are
deployed centrally and CAPIF core function in a distributed manner. The
solution in clause 7.10.1.3 assumes that SCEF, NEF and CAPIF core function are
deployed centrally.
There is no impact to the procedures specified in 3GPP TS 23.222 [4] to
support network capability exposure to Edge Application Server.
It is the responsibility of SA2 to decide the behavior of EDGE-2 and EDGE-7 to
support the deployments described in clause 7.10.1.2, clause 7.10.1.3 and
clause 7.10.1.4 as per the application architecture described in Figure 6.2-1.
## 7.11 Solution #11: QoS Management for 5G Edge Applications
### 7.11.1 Solution description
This solution addresses the following open issues under Key Issue #13:
\- Whether the information related with QoS (e.g., QoS parameters) can be
exposed to the Edge Application Server. If yes, how to do it.
\- Whether to differentiate the QoS requirements for the same type of Edge
Application Servers. If yes, how to do it.
\- Whether to define certain policy rules (e.g. QoS modification is forbidden)
for certain Edge Application Servers. If yes, how to do it.
Pre-conditions:
1\. The Edge Application Server has registered with the Edge Enabler Server.
The procedure in 3GPP TS 23.502 [7], clause 4.16.5.2 step 1a is reused. The
Edge Enabler Server acts as an Application Function communicating with the PCF
over the N5 reference point.
The procedures in clause 5.2.6.9 of the same TS are used to exchange
information related with QoS between the Edge Application Server and the
Network Exposure Function.
Similarly the QoS Sustainability Analytics procedure in clause 5.4.5.2.2 of
TS23.287 between the NEF and an AF (in this case EAS) can be used to notify
the EAS of QoS Sustainability for an indicated geographic area and time
interval in order to adjust the application behaviour in advance of potential
QoS change.
### 7.11.2 Solution evaluation
The information related with QoS can be exposed to the Edge Application Server
directly from the NEF. The Nnef_AFsessionWithQoS_Create service operation and
Nnef_AFsessionWithQoS_Notify service operation in TS23.502 can be reused in
order for the EAS to request specific QoS and receive notifications of current
QoS levels from the 3GPP network. Similarly the QoS Sustainability Analytics
procedure in clause 5.4.5.2.2 of TS23.287 between the NEF and an AF (in this
case EAS) could be reused. This satisfies the first open issue under Key Issue
#13.
Another option is to request QoS and receive QoS notifications to and from the
EAS over the EDGE-3 and N5 reference points.
In clause 4.16.5.2 of 3GPP TS 23.502 the EES can act as an AF and is a peer of
the PCF if they share an N5 interface, It can also then trigger the Policy
Modification procedure if needs be. In Step 1a the EES/AF provides/revokes
service information to the PCF e.g. due to AF session signalling, by invoking
Npcf_PolicyAuthorization_Create Request or Npcf_PolicyAuthorization_Update
Request service operation. The PCF responds to the AF. Thus the EES/PCF
associations for policy authorization and update are set up.
Npcf_PolicyAuthorization_Create Request authorizes the request, and optionally
determines and installs Session Management Policy Control Data in the PCF
according to the information provided by the NF Consumer (in this case the
EES/AF). Required inputs to this procedure include UE (IP or MAC) address and
identification of the application session context. Optional inputs include
Application identifier or traffic filtering information, AF Communication
Service Identifier, and AF Record Identifier. Thus the required and optional
information allows us to differentiate QoS requirements and/or apply certain
policy rules for certain EAS instances of the same type by applying some or
all of those options.
Both the EAS and EES shall not modify the same session.
This satisfies open issues 2 and 3 under Key Issue #13.
Therefore this solution can satisfy all 3 open issues under Key Issue #13.
## 7.12 Solution #12: Edge Application Server Enablement
### 7.12.1 Solution description
#### 7.12.1.1 General
This solution addresses Key Issue #3 and relates to Key Issue #14 as well as
requirement [AR-5.4.2-c] in clause 5.4.2.
The solution introduces a registration procedure for Edge Application Server
registration with an Edge Enabler Server. The procedure is used to create a
new, or update an existing, registration. The procedure can be used by the
Edge Application Server to provide profile/availability information such as,
geographical area of availability, time of operation, etc. to the Edge Enabler
Server.
NOTE 1: The profile information provided by the Edge Application Server via
registration may also be provided to the Edge Enabler Server via pre-
configuration.
The solution also introduces an Edge Application Server de-registration
procedure. This procedure is used by the Edge Application Server to de-
register from an Edge Enabler Server.
A lifetime is provided to the Edge Application Server as part of the
registration procedure to indicate to the Edge Application Server when the
registration will automatically expire resulting in implicit de-registration.
The solution also introduces an Edge Application Server subscription
procedure. This procedure is used by the Edge Application Server to subscribe
to and receive notifications from the Edge Enabler Server (e.g. notification
of changes to the availability of the Edge Enabler Server or Edge Enabler
Clients, etc.).
When registering, the Edge Application Server provides service profile
information to the Edge Enabler Server.
The solution assumes that the Edge Application Server is responsible for
triggering the registration to the Edge Enabler Server.
NOTE 2: The trigger condition for registering is based on application service
logic, and is out of scope of this specification.
#### 7.12.1.2 Edge Application Server Registration
The signalling flow for Edge Application Server registration is illustrated in
Figure 7.12.1.2-1.
Pre-conditions:
1\. The Edge Application Server has been configured with an Edge Application
Server Identity;
2\. The Edge Application Server has been configured with the address (e.g.
URI) of the Edge Enabler Server; and
3\. Both the Edge Application Server and Edge Enabler Server have been
configured with the necessary credentials to enable authenticating one
another.
NOTE 1: The structure and definition of the credentials required by the Edge
Application Server and Edge Enabler Server to authenticate are left for SA3 to
define.
Figure 7.12.1.2-1: Edge Application Server Registration
1\. The Edge Application Server determines that registration to the Edge
Enabler Server is needed (e.g. the Edge Application Server is instantiated and
started up). The Edge Application Server may also determine that its existing
registration needs to be updated (e.g. because the Edge Application Server\'s
status or availability schedule has changed).
2\. The Edge Application Server sends a Registration Request (New or Update
Indication, Service Profile, proposed lifetime) to the Edge Enabler Server.
The request indicates if the request is for a new registration or an update to
an existing registration. The Service Profile information is defined in Table
7.12.1.2-1.
NOTE 2: The Edge Application Server and Edge Enabler Server are assumed to
have performed an authentication procedure. How and when this is done is left
for SA3 to define.
Table 7.12.1.2-1: Edge Application Server (EAS) Service Profile
* * *
Information element Status Description EAS Instance ID M The identifier of the
Edge Application Server Instance EAS ID M The identifier of the Edge
Application Server EAS Provider Identifier O The identifier of the Edge
Application Server Provider EAS Type O The category or type of Edge
Application Server (e.g. V2X) EAS instance description O Human-readable
description of the Edge Application Server instance EAS Schedule O The
availability schedule of the Edge Application Server (e.g. time windows) EAS
Service Area O The geographical service area that the Edge Application Server
serves EAS Required KPIs O The range of KPIs (e.g. latency and data rate) that
are required in order for Application Clients to receive services from the
EAS. EAS Service Continuity Mode O The Required service continuity mode for
the EAS. EAS Application Context Relocation Required O Indicates whether
application context relocation is required or not EAS Availability Reporting
Period O The Availability reporting period (i.e. heart beat period) that
indicates to the Edge Enabler Server how often it needs to check the Edge
Application Server\'s availability of the after a successful Registration. EAS
Required Service APIs O A list of the Service APIs that are required by the
EAS EAS Status O The status of the Edge Application Server (e.g. enabled,
disabled, etc.) EAS Point-Of-Contact M The Point-of-Contact information (e.g.
URI, FQDN) that Application Clients use to send requests to the Edge
Application Server. This information maybe discovered by Edge Enabler Clients
and exposed to Application Clients so that application clients can establish
contact with the EAS.
* * *
NOTE 3: The format of the EAS Service Continuity Mode and its use are to be
determined in solutions addressing Key Issue #9.
3\. The Edge Enabler Server performs an authorization check to verify whether
the Edge Application Server has the proper privileges to register.
4\. Upon successful authorization, the Edge Enabler Server stores the Service
Profile for later use (e.g. for serving Edge Application Server discovery
requests received from Edge Enabler Clients, etc.) and replies to the Edge
Application Server with a Registration Response. The Edge Enabler Server
provides a lifetime value to indicate to the Edge Application Server when the
registration will automatically expire. The Edge Application Server must send
a Registration Request message with an Update Indication prior to the
expiration to maintain the current registration. The Edge Enabler Server will
treat the registration expiration as an implicit de-registration.
#### 7.12.1.3 EAS-initiated Edge Application Server De-registration
This procedure assumes that the Edge Application Server is responsible for
triggering the de-registration from the Edge Enabler Server.
By de-registering, the Edge Application Server informs the Edge Enabler Server
that it is no longer available for service and wishes to terminate its
association with the Edge Enabler Server.
NOTE: The trigger condition for de-registering is based on application service
logic, and is out of scope of this specification.
The signalling flow for EAS-initiated Edge Application Server de-registration
is illustrated in Figure 7.12.1.3-1.
Pre-conditions
1\. The Edge Application Server is registered to the Edge Enabler Server.
Figure 7.12.1.3-1: EAS-initiated Edge Application Server De-registration
1\. The Edge Application Server determines that de-registration from the Edge
Enabler Server is needed (e.g. the Edge Application Server is shutting down).
2\. The Edge Application Server sends a De-registration Request to the Edge
Enabler Server. The de-registration request includes information as defined in
Table 7.12.1.3-1.
Table 7.12.1.3-1: Edge Application Server De-registration Request
* * *
Information element Status Description EAS Instance ID M The identifier of the
Edge Application Server Instance
* * *
3\. The Edge Enabler Server replies to the Edge Application Server with a De-
registration Response. The Edge Enabler Server optionally notifies any
applicable Edge Client Enabler(s) and Edge Data Network Configuration Servers
that Edge Application Server is no longer available for service.
#### 7.12.1.4 EES-initiated Edge Application Server De-registration
The procedure assumes that the Edge Enabler Server is allowed to de-register
an Edge Application Server. By initiating the procedure, the Edge Enabler
Server informs the Edge Application Server that its registration is no longer
active.
NOTE: The trigger condition for initiating this procedure is out of scope of
this specification.
The signalling flow for Edge Enabler Server-initiated Edge Application Server
de-registration is illustrated in Figure 7.12.1.4-1.
Pre-conditions:
1\. The Edge Application Server is registered to the Edge Enabler Server; and
2\. (Optional) The Edge Application Server subscribes to receive De-
Registration notifications from the Edge Enabler Server.
Figure 7.12.1.4-1: EES- initiated de-registration of an Edge Application
Server
1\. The Edge Enabler Server determines that the de-registration of an Edge
Application Server is needed (e.g. load balancing at the Edge Enabler Server).
2\. The Edge Enabler Server sends a De-Registration Notification to the Edge
Application Server. The message includes information as defined in Table
7.12.1.4-1.
3\. The Edge Enabler Server performs the actions required to de-register the
Edge Application Server.
> The Edge Enabler Server optionally notifies applicable Edge Enabler
> Client(s) and Edge Data Network Configuration Servers that the Edge
> Application Server is no longer registered.
4\. The Edge Application Server performs actions based on the receipt of the
De-Registration Notification, e.g. it performs Edge Data Network discovery and
registration.
Table 7.12.1.4-1: Edge Application Server De-Registration Request Notification
* * *
Information element Status Description EAS Instance ID M The identifier of the
Edge Application Server Instance De-Registration Cause O Optional parameter
indicating a cause for the de-registration request e.g. EAS resource
constraints, policy changes, etc.
* * *
#### 7.12.1.5 Edge Application Server Subscription and Notification
By subscribing to the Edge Enabler Server, the Edge Application Server can
receive notifications from the Edge Enabler Server.
The solution assumes that the Edge Application Server is responsible for
deciding when to initiate the subscription to the Edge Enabler Server.
NOTE: The trigger conditions for creating a subscription are based on
application service logic and are out of scope of this specification. The
possible trigger conditions for notifications are to be specified in the
normative phase (e.g. changes to the availability of the Edge Enabler Server
or Edge Enabler Clients, etc.).
The signalling flow for an Edge Application Server subscribe operation is
illustrated in Figure 7.12.1.5-1.
Pre-conditions:
1\. The Edge Application Server is registered to the Edge Enabler Server.
Figure 7.12.1.5-1: Edge Application Server Subscribe Operation
1\. The Edge Application Server determines that a subscription to the Edge
Enabler Server is needed. For example, the Edge Application Server may need to
be notified when Edge Enabler Client de-registers.
2\. The Edge Application Server sends a Subscription Request (Notification
Criteria, Notification Address) to the Edge Enabler Server. The Edge
Application Server includes Notification Criteria to indicate the events of
interest to the Edge Application Server. A Notification Address is also be
included and configured with the address (e.g. URI) of where notifications are
sent.
3\. The Edge Enabler Server replies to the Edge Application Server with a
Subscription Response (Subscription ID) indicating that the subscription was
created.
The signalling flow for an Edge Application Server notification operation is
illustrated in Figure 7.12.1.5-2.
Figure 7.12.1.5-2: Edge Application Server Notify Operation
1\. The Edge Enabler Server detects an event that matches the Notification
Criteria of an Edge Application Server subscription.
2\. The Edge Enabler Server sends a Notification Request (Subscription ID,
Notification Description) to the Notification Address.
3\. The Edge Application Server responds with a Notification Response.
#### 7.12.1.6 Edge Application Server Registration using CAPIF
The signalling flow for Edge Application Server registration using CAPIF is
illustrated in Figure 7.12.1.6-1, based on the procedure in 3GPP TS 23.222 [4]
clause 8.28.3.The Edge Application Server would need to go through the
registration process prior to allowing the functionality to the API Invokers.
Pre-conditions:
1\. The Edge Application Server has been configured with an Edge Application
Server Identity;
2\. The Edge Application Server has been configured with the address (e.g.
URI) of the Edge Enabler Server;
3\. Edge Application Server has implemented API provider domain function(s) as
specified in 3GPP TS 23.222 [4]; and
4\. Edge Enabler Server has implemented API provider domain registry of CAPIF
core function as specified in 3GPP TS 23.222 [4].
Figure 7.12.1.6-1: Procedure for registration of Edge Application Server on
CAPIF
1\. For registration of Edge Application Server (acting as API exposing and
publishing function) on the CAPIF core function (within Edge Enabler Server),
the API management function on the Edge Application Server sends a new
registration request to the CAPIF core function including the Service Profile
information as defined in Table 7.12.1.2-1.
NOTE 1: The Edge Application Server and CAPIF core function are assumed to
have performed an authentication procedure. How and when this is done is
defined in 3GPP TS 23.222 [4].
2\. The CAPIF core function validates the received request and generates the
identity and other security related information for the Edge Application
Server registration listed in the request. The CAPIF core function stores the
Service Profile for later use (e.g. for serving Edge Application Server
discovery requests received from Edge Enabler Clients, etc.).
3\. Upon successful authorization, the CAPIF core function sends the
registration response message to the API management function on the Edge
Application Server.
4\. The API management function on the Edge Application Server configures the
received information.
NOTE 2: Upon successful registration of the Edge Application Server and
publishing of the Edge Application Server\'s service APIs to the CAPIF core
function, the API invoking entity uses CAPIF-1/1e as specified in 3GPP TS
23.222 [4] for onboarding of API invokers and discovery of Edge Application
Server\'s service APIs.
#### 7.12.1.7 Edge Application Server De-registration using CAPIF
The signalling flow for Edge Application Server updating an existing
registration (including de-registration) using CAPIF is illustrated in Figure
7.12.1.7-1, based on the procedure in 3GPP TS 23.222 [4] clause 8.29.3.
Figure 7.12.1.7-1: Procedure for de-registration of Edge Application Server on
CAPIF
1\. The Edge Application Server determines that updating an existing
registration (e.g. de-registration) from the CAPIF core function is needed
(e.g. the Edge Application Server is shutting down). For updating an existing
registration (e.g. de-registration) of Edge Application Server on the CAPIF
core function, the API management function on the Edge Application Server
sends a registration update request to the CAPIF core function. The request
indicates if the request is for an update or de-registration to an existing
registration.
2\. The CAPIF core function validates the received request and updates the
identity and other security related information for the Edge Application
Server registration listed in the request.
3\. The CAPIF core function sends the registration update response message to
the API management function on the Edge Application Server.
4\. The API management function on the Edge Application Server configures the
received information.
### 7.12.2 Solution evaluation
This solution allows an Edge Application Server to create or update a
registration on an Edge Enabler Server. The procedure can be used by the Edge
Application Server to provide profile and dynamic availability information
including geographical area of availability, time of operation, etc. to the
Edge Enabler Server.
The solution also allows an Edge Application Server to be de-registered from
the Edge Enabler Server based on triggers originating either at the Edge
Application Server or at the Edge Enabler Server.
The solution also allows an Edge Application Server to subscribe to and be
notified about Edge Enabler Server events, e.g. changes to the availability of
the Edge Enabler Server or Edge Enabler Clients, etc.
In this solution CAPIF can be used for Edge Application Server enablement and
in such case Edge Enabler Server is assumed to be implementing CAPIF core
function and Edge Application Server is assumed to be implementing API
provider domain functions as specified in 3GPP TS 23.222 [4]. The procedures
specified in 3GPP TS 23.222 [4] need to support Edge Application Server (EAS)
Service Profile while registering to Edge Enabler Server and Edge Application
Server discovery requests from the Edge Enabler Clients at the CAPIF core
function.
## 7.13 Solution #13: Discovery of Edge Data Network and Edge Application
Server
### 7.13.1 Solution description
#### 7.13.1.1 General
This solution addresses the following open issue listed in Key Issue #4:
\- Whether and how to discover the Edge Application Servers available on the
Edge Hosting Environment within the Edge Data Network?
and the following open issue listed in Key Issue #8:
\- How to assist the UE to select the optimal Edge Data Network?
#### 7.13.1.2 Procedure for Edge Data Network Selection
Pre-condition:
> 1\. The UE may be connected to one or more Edge Data Networks.
Figure 7.13.1.2-1 shows the Edge Data Network Selection procedure.
Figure 7.13.1.2-1: Edge Data Network Selection
1\. The Edge Enabler Client sends the Edge Data Network query message to the
Edge Data Network Configuration Server. The query message includes information
of a list of the Application Clients residing in the UE. See Table 7.13.1.2-1
below;
Table 7.13.1.2-1: Application Client Information
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | Application Client ID | M | ID of the Application | | | | Client | +-----------------------------+--------+-----------------------------+ | Application provider | O | Provider of the Application | +-----------------------------+--------+-----------------------------+ | Application description | O | Human-readable description | | | | of the application | +-----------------------------+--------+-----------------------------+ | Application Characteristics | O | Characteristics of the | | | | application. | | | | | | | | As defined below. | +-----------------------------+--------+-----------------------------+ | | | | +-----------------------------+--------+-----------------------------+ | > Geographical area of | O | The geographical area where | | operation | | the Application Client | | | | instance is located. | +-----------------------------+--------+-----------------------------+ | > Latency | O | The required round trip | | | | time in milliseconds for | | | | the application. | +-----------------------------+--------+-----------------------------+ | > Bandwidth | O | The required connection | | | | bandwidth in kbit/s for the | | | | application. | +-----------------------------+--------+-----------------------------+ | > Service continuity | O | Required service continuity | | | | mode for the application. | +-----------------------------+--------+-----------------------------+
Editor\'s Note: It is FFS whether the information listed in the table is
required and if required, it is FFS how the EDNCS use Application
Characteristics, Latency, Bandwidth, Service to select Edge Data Network.
2\. The Edge Data Network Configuration Server responds with the information
of the most suitable Edge Data Network that can satisfy the requirements of
the Application Clients, as well as the access information of the
corresponding Edge Enable Server.
Editor\'s note: it is FFS the information of the Edge Data Network.
Editor\'s note: How the Edge Data Network Configuration Server obtains all the
Edge Application Server information from many Edge Data Networks is FFS.
Editor\'s note: How the Edge Enabler Client selects the appropriate Edge Data
Network when the UE is roaming nationally or internationally is FFS.
Editor\'s note: Methods for resolution of potential conflicts between an
MNO\'s rules for access to specific Edge Data Networks and access to the
EDN(s) returned in step 2 above are FFS.
#### 7.13.1.3 Procedure for Edge Application Server Discovery
Figure 7.13.1.3-1 shows the Edge Application Server Discovery procedure.
Figure 7.13.1.3-1: Edge Application Server Discovery
1\. The Edge Enabler Client sends the Edge Application Server query message to
the Edge Enabler Server. The query message includes information of a list of
the application clients residing in the UE. See Table 7.13.1.3-1 below;
Table 7.13.1.3-1: Application Client Information
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | Application Client ID | M | ID of the Application | | | | Client | +-----------------------------+--------+-----------------------------+ | Application provider | O | Provider of the Application | | | | Client | +-----------------------------+--------+-----------------------------+ | Application description | O | Human-readable description | | | | of the application | +-----------------------------+--------+-----------------------------+ | Application Characteristics | O | Characteristics of the | | | | application. | | | | | | | | As defined below. | +-----------------------------+--------+-----------------------------+ | > Geographical area of | O | The geographical area where | | operation | | the Application Client | | | | instance is located. | +-----------------------------+--------+-----------------------------+ | > Latency | O | The required round trip | | | | time in milliseconds for | | | | the application. | +-----------------------------+--------+-----------------------------+ | > Bandwidth | O | The required connection | | | | bandwidth in kbit/s for the | | | | application. | +-----------------------------+--------+-----------------------------+ | > Service continuity | O | Required service continuity | | | | mode for the application. | +-----------------------------+--------+-----------------------------+
Editor\'s Note: It is FFS how the Edge Enabler Server uses the Application
Characteristics in the table above.
2\. The Edge Enabler Server responds with the information of the available
Edge Application Server instances that can satisfy the requirements of the
Application Clients. See Table 7.13.1.3-2 below;
Table 7.13.1.3-2: Edge Application Server Information
* * *
Information element Status Description Edge Application Server instance
Identifier M The identifier of the instance of the Edge Application Server
instance Edge Application Server instance name O Name of the instance of the
Edge Application Server instance Application instance description O Human-
readable description of the application instance URI of the application
instance M Address of the Edge Application Server instance. Geographical area
of operation O The geographical area where the Edge Application Server
instance is available Time of operation O The operation time during which the
Edge Application Server instance is available Latency O The required round
trip time in milliseconds for the application. Bandwidth O The required
connection bandwidth in kbit/s for the application. Service continuity O
Required service continuity mode for the application.
* * *
NOTE: The Edge Enabler Server may respond with multiple sets of Edge
Application Server Information if more than one Edge Application Server
instance registered on the Edge Enabler Server can satisfy the Application
Client\'s requirements. In the event of a null response from the Edge Enabler
Server lifecycle management operations may be triggered in order to
instantiate the relevant Edge Application Server on the desired Edge Hosting
Environment.
#### 7.13.1.4 Edge Application Server Discovery with EDNCS
The following solution corresponds to the key issue #4 on Edge Application
Server discovery as specified in clause 4.4.
The EDNCS allows the Edge Enabler Client to discover both, the Edge
Application Servers running on the Edge Hosting Platform within the Edge Data
Network and the Edge Application Servers which can be instantiated on the Edge
Hosting Platform within the Edge Data Network. The Edge Data Network
Configuration Server collects information about the Edge Application Server
instances from all Edge Data Networks by interacting with their corresponding
Edge Enabler Servers. This information includes QoS KPIs for each Edge
Application Server instance, its availability and IP address.
The EDNCS employs authorization checks, UE location information and discovery
filters and provide requested information to the Edge Enabler Client.
Filtering information may include a list of IDs of the desired Edge
Application Servers as well as desired QoS KPIs (if any).
Some EDNCS may be pre-configured in some Edge Enabler Clients and Edge Enabler
Servers.
The discovery filters may also be used to indicate to the EDNCS what
Application Clients might attempt to access the discovered services, what
types of access permissions are required by the Application Clients, etc. The
EDNCS may use this information to filter its response to the Edge Enabler
Client in order to avoid, or reduce, situations where Application Clients
connect to Edge Application Servers before recognizing that the Edge
Application Server can not provide the desired services. The EDNCS selects the
most appropriate Edge Application Server instances and provides their source
IP addresses back to the Edge Enabler Client.
Figure 7.13.1.4-1 illustrates the interactions between the Edge Enabler Client
and the EDNCS for Edge Application Server discovery.
Pre-conditions:
1\. Trigger conditions for initiating an Edge Application Server discovery
request are configured in the Edge Enabler Client; and
2\. Information related to the EDNCS is available with the Edge Enabler Client
including secure connectivity between Edge Enabler Client and the EDNCS.
Figure 7.13.1.4-1: Edge Application Server Discovery with EDNCS
1\. Certain trigger condition, for e.g. application client launch, connecting
to the EDNCS for the first time, expiry of a periodic timer, entering or
exiting a geographic area (i.e. Edge Data Network service area) etc., or a
combination of trigger conditions met at the Edge Enabler Client. The Edge
Enabler Client has information of locally installed Application Clients and
corresponding information of the desired Edge Application Server and
optionally, the desired QoS KPIs.
2\. As a result of Step 1, the Edge Enabler Client sends an Edge Application
Server discovery request to the EDNCS. The discovery request may contain FQDNs
and query filters to retrieve information about a particular Edge Application
Server or a category of Edge Application Servers, for e.g. gaming
applications. Query filters may also indicate a desired level of access
permissions (e.g. trial, gold-class, etc.), desired features (e.g. multi-
player or single player), and desired location availability. The request may
also include the identities of the desired Applications. The request may also
include the location information (e.g. cell ID, TAI) of the UE and optionally
a list of PKI ranges that are required for the desired QoS -- per Edge
Application Server ID. If no parameter is included, it indicates a request to
discover all available Edge Application Servers.
3\. Upon receiving the request from the Edge Enabler Client, the EDNCS checks
if the Edge Enabler Client is authorized to discover the requested Edge
Application Server(s). The authorization check may apply to an individual Edge
Application Server, a category of Edge Application Servers or to the one or
more Edge Data Networks, e.g. to all the Edge Application Servers.
4\. If the Edge Enabler client is authorized, the EDNCS retrieves the
information of Edge Application Servers based on discovery policies and the
parameters, filters if any received in step 2.
> If the discovery request contained query filters that indicated a desired
> level of access permissions, features, and/or location availability, then
> the EDNCS may also check if the Edge Enabler Server is able to provide
> access to Edge Application Servers that are able to provide the desired
> level of access permissions, features, and/or location availability.
>
> The information includes a list of FQDN(s) along with a mapping to the IP
> address(es) of the Edge Application Servers running on the Edge Hosting
> Platforms in the one or more Edge Data Networks. The Edge Enabler server(s)
> where the Edge Application Servers are managed/registered on are also
> included. For Edge Application Servers that are available but not
> instantiated, the EDNCS includes relevant information. If additional access
> permissions were specified in the query filters of the discovery request,
> the EDNCS may include additional information regarding the discovered Edge
> Application Servers and guaranteed QoS KPIs (if requested and supported).
> For example, the EDNCS may indicate the access permissions, the types of
> features, and the Application Client locations(s) that the Edge Application
> Servers can support.
5\. The EDNCS sends the filtered information to the Edge Enabler Client in an
Edge Application Server discovery response. It also provides information about
appropriate Edge Enabler Server and the hosting Edge Data Networks needed to
establish PDU sessions for data transfer with their hosted Edge Application
Server instances.
6\. Upon receiving the Edge Application Server discovery response, the Edge
Enabler Client uses the FQDN and/or IP address mapping to resolve the domain
name requested by the Application Client for routing the outgoing application
data traffic and direct it to the instantiated Edge Application Server(s) in
the Edge Data Network, as required. The Edge Enabler client may connect to
Edge Enabler servers which manage the corresponding discovered Edge
Application Server(s). Further, the Edge Enabler Client may provide necessary
notifications to the Edge-aware Application Client(s).
### 7.13.2 Solution evaluation
This solution solves the study items addressed in Key Issue #4: Edge
Application Server Discovery, and in Key Issue #8: Edge Data Network Selection
and satisfies [AR-5.5.2-a] and [AR-5.5.2-b].
This helps UEs to discover and select the most suitable Edge Data Network, as
well as to discover the available Edge Application Servers, running or
available for running, in one or more Edge Data Network(s). The solution also
allows discovery and policy based filters for the discovery requests and
provides relevant information about the Edge Application Servers to the Edge
Enabler Clients.
## 7.14 Solution #14: User plane management event API
### 7.14.1 Solution description
#### 7.14.1.1 General
The following solution corresponds to the key issue #5 on Capability Exposure
to Edge Application Server, especially use case for the application context
relocation.
The Edge Enabler Server exposes user plane management event notifications API
to the Edge Application Server in order to trigger the application context
relocation. User plane management event notifications API exposed by the Edge
Enabler Server may rely on the NEF northbound API for monitoring event of user
plane management event. The Edge Application Server can request user plane
management event notifications API via request/response or subscribe/notify
mechanism. The procedure in solution #5 may be utilized prior to executing
this procedure.
#### 7.14.1.2 User plane management event API -- Request-Response model
Figure 7.14.1.2-1 illustrates the request-response model of interactions
between the Edge Enabler Server and the Edge for obtaining user plane
management event notifications.
Figure 7.14.1.2-1: User plane management event API -- Request-Response model
1\. The Edge Application Server invokes the user plane management event API
(UE Identifier) on the Edge Enabler Server based. The Edge Application Server
shall include UE Identifier.
NOTE: The trigger condition of the user plane management event API is up to
application service logic, which is out of scope of this specification.
2\. The Edge Enabler Server checks if there exists a subscription with the
3GPP system for the user plane management event notifications corresponding to
the UE information obtained in step 1 as described in clause 4.3.6.2 and in
clause 5.6.7 of 3GPP TS 23.501 [2], which may be triggered by other Edge
Application Server for the same UE.
a. if a subscription does not exist, then the Edge Enabler Server subscribes
with the 3GPP system for the user plane management event notifications of the
UE as described in clause 4.3.6.2 and in clause 5.6.7 of 3GPP TS 23.501 [2];
b. if a subscription exists, then the Edge Enabler Server uses the locally
cached user plane management event notification information of the UE to
respond to the Edge Application Server.
3\. The Edge Enabler Server responds to the Edge Application Server with the
user plane management event notification information (e.g., DNAI), and
optionally the timestamp. The timestamp can be included to indicate the age of
the information.
> The Edge Enabler Server may only provide part of information included in the
> user plane management event notification received from 3GPP network, e.g.,
> DNAI.
#### 7.14.1.3 User plane management event API -- Subscribe-Notify model
Figure 7.14.1.3-1 illustrates the subscribe operation between the Edge Enabler
Server and the Edge Application Server for continuous user plane management
event notifications.
Figure 7.14.1.3-1: User plane management event API: Subscribe/Unsubscribe
Operation
1\. The Edge Application Server requests user plane management event subscribe
operation (UE Identifier) for tracking the UE\'s user plane change
continuously. The Edge Application Server shall include UE Identifier. For
cancelling the subscription, the Edge Application Server uses the unsubscribe
operation.
2\. If the request is subscribe, the Edge Enabler Server determines that the
request from the Edge Application Server is authorized. If it is authorized,
the Edge Enabler Server responds ACK for the subscribe request. If it is not
authorized, the Edge Enabler Server responds rejection with cause. If the
request is for unsubscribe, the Edge Enabler server removes any subscription
information related to the Edge Application Server and provides a ACK response
for the unsubscribe request.
Figure 7.14.1.3-2 illustrates the notify operation between the Edge Enabler
Server and the Edge Application Server for continuous User plane management
event notifications.
Figure 7.14.1.3-2: User plane management event API: Notify Operation
1\. The Edge Enabler Server detects the user plane management event of the UE
e.g., receiving User plane management event notification for the UE from the
3GPP system. The Edge Enabler Server may cache the detected User plane
management event notification locally with timestamp as the latest information
of the UE. The Edge Enabler Server determines to notify the user plane
management event notification information (e.g., DNAI) to the Edge Application
Servers which has subscribed the user plane management event.
2\. The Edge Enabler Server sends user plane management event notify operation
to the Edge Application Server. The Edge Enabler Server includes the user
plane management event notification information of the UE and optionally the
timestamp of the location. The timestamp can be included to indicate the age
of the location information. The Edge Enabler Server may only provide part of
information included in the user plane management event notification from 3GPP
network, e.g., DNAI.
#### 7.14.1.4 API description
##### 7.14.1.4.1 General
Table 7.14.1.4.1-1 illustrates the API for user plane management event.
Table 7.14.1.4.1-1: User plane management API
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Consumer(s) | | | Operations | | | | | | Semantics | | +----------------+----------------+----------------+----------------+ | **EDGE3_Us | Subscribe | Su | Edge | | er_plane_man | | bscribe/Notify | Application | | agement_event | | | Server | | API** | | | | +----------------+----------------+----------------+----------------+ | | Notify | Su | Edge | | | | bscribe/Notify | Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | Request | Re | Edge | | | | quest/Response | Application | | | | | Server | +----------------+----------------+----------------+----------------+
##### 7.14.1.4.2 EDGE3_User_plane_management_event_subscribe operation
**Service operation name:** EDGE3_User_plane_management_event_subscribe
**Description:** The consumer subscribes to receive an event, or if the event
is already defined in Edge Enabler Server, then the subscription is updated.
**Inputs (required):** (Set of) Event ID(s) as specified in
Npcf_PolicyAuthorization_Notify service operation, target of event reporting
(GPSI or External Group Identifier), Event Reporting Information defined in
Table 4.15.1-1 of 3GPP TS 23.501 [2], Notification Target Address (+
Notification Correlation ID).
**Inputs (optional):** Event Filter, Subscription Correlation ID (in case of
modification of the event subscription), Expiry time.
**Outputs (required):** Subscription Correlation ID, Expiry time (required if
the subscription can be expired based on the operator\'s policy)_._
**Outputs (optional):** First corresponding event report is included, if
available (see clause 4.15.1 of 3GPP TS 23.501 [2]).
See clause 7.14.1.3 for details of usage of this operation.
##### 7.14.1.4.3 EDGE3_User_plane_management_event_notify operation
**Service operation name:** EDGE3_User_plane_management_event_notify
**Description:** The consumer is notified of an event by the Edge Enabler
Server.
**Inputs (required):** Event report (see clause 4.15.1 of 3GPP TS 23.501 [2]).
**Inputs (optional):** None.
**Outputs (required):** None _._
**Outputs (optional):** None.
See clause 7.14.1.3 for details of usage of this operation.
##### 7.14.1.4.4 EDGE3_User_plane_management_event_request operation
**Service operation name:** EDGE3_User_plane_management_event_request
**Description:** The consumer requests for an event report.
**Inputs (required):** (Set of) Event ID(s) as specified in
Npcf_PolicyAuthorization_Notify service operation, target of event reporting
(GPSI or External Group Identifier), Event Reporting Information defined in
Table 4.15.1-1 of 3GPP TS 23.501 [2], Notification Target Address (+
Notification Correlation ID).
**Inputs (optional):** Event Filter, Expiry time.
**Outputs (required):** Event report is included, if available (see clause
4.15.1 of 3GPP TS 23.501 [2])_._
**Outputs (optional):** None.
See clause 7.14.1.2 for details of usage of this operation.
### 7.14.2 Solution evaluation
This is a viable solution for key issue #5 on Capability Exposure to Edge
Application Server and supports the solution#9 for the application context
relocation.
## 7.15 Solution #15: Edge Application Server\'s service APIs publish and
discovery using CAPIF
### 7.15.1 Solution description
#### 7.15.1.1 Distributed CAPIF
The following solution corresponds to the key issue #5 describing the Edge
Application Server\'s service APIs publish and discovery using distributed
CAPIF as specified in clause 4.5.
The Edge Enabler Server can support edge application (owned by 3^rd^ party or
by PLMN operator) access to the service APIs offered by other Edge Application
Servers within and across the Edge Data Network by providing CAPIF functions
as shown in Figure 7.15.1.1-1.
Figure 7.15.1.1-1: Edge Application Server\'s service APIs publish and
discovery in distributed CAPIF scenario
NOTE: The Edge Application Server which provides service APIs can exist
outside the PLMN trust domain and still utilize the CAPIF of the PLMN trust
domain. This aspect is not shown in the Figure 7.15.1.1-1
The Edge Enabler Server of an Edge Data Network provides the following
function for Edge Application Server\'s service APIs publish and discovery:
\- the CAPIF core function as specified in 3GPP TS 23.222 [4] to support
onboarding of Edge Application Servers (API invokers), publish of Edge
Application Server\'s service APIs, discovery of Edge Application Server\'s
service APIs and charging of Edge Application Server\'s service APIs
invocations.
The Edge Application Server of an Edge Data Network provides the following
function for Edge Application Server\'s service APIs publish and discovery:
\- the API exposing function as specified in 3GPP TS 23.222 [4] to support the
invocation of the service APIs exposed from the Edge Application Servers via
CAPIF-2 or CAPIF-2e and supporting charging of the Edge Application Server\'s
service API invocations via CAPIF-3;
\- the API publishing function as specified in 3GPP TS 23.222 [4] to support
the publishing of the service APIs of the edge applications to the CAPIF core
function of the Edge Enabler Server via CAPIF-4; and
\- the API management function as specified in 3GPP TS 23.222 [4] to support
the management of the service APIs of the Edge Application Servers to the
CAPIF core function of the Edge Enabler Server via CAPIF-5.
The following procedures are performed as specified in 3GPP TS 23.222 [4]:
\- The Edge Application Server 1 and Edge Application Server 2 act as API
exposing function and the service APIs from the Edge Application Server 1 and
Edge Application Server 2 are published to the Edge Enabler Server s (CAPIF
core function 2 and CAPIF core function 3) respectively. The service APIs of
the edge applications in Edge Data Network 1 and Edge Data Network 2 are
published from their corresponding Edge Enabler Servers (CAPIF core function 2
and CAPIF core function 3) to the Edge Data Network Configuration Server
(CAPIF core function 1). The edge application service APIs of the Edge Data
Network 1 and Edge Data Network 2 are made available to each other by the Edge
Data Network Configuration Server (CAPIF core function 1). The Edge Data
Network Configuration Server (CAPIF core function 1) publishes the Edge
Application Server\'s service APIs provided by Edge Enabler Server 1 (CAPIF
core function 2) to the Edge Enabler Server 2 (CAPIF core function 3) and
vice-versa.
\- The Edge Application Server acts as an API invoker and is onboarded to the
Edge Enabler Server (CAPIF core function 2 or CAPIF core function 3) within
the Edge Data Network.
\- The Edge Application Servers (API invokers) are authenticated with Edge
Enabler Servers (CAPIF core function 2 or CAPIF core function 3).
\- The Edge Application Servers (API invokers) discover the service APIs
published by the Edge Application Server 1 and Edge Application Server 2 via
the corresponding Edge Enabler Servers (CAPIF core function 2 or CAPIF core
function 3) within the Edge Data Network including the end point address of
the API exposing function where the service API invocation is to be performed.
\- The Edge Application Servers (API invokers) obtain authorization to invoke
the service APIs of the Edge Application Server 1 and Edge Application Server
2 from the corresponding Edge Enabler Servers (CAPIF core function 2 or CAPIF
core function 3).
\- The Edge Application Servers (API invokers) invoke the service APIs after
performing authentication with the corresponding Edge Application Servers (API
exposing function 1 or API exposing function 2).
#### 7.15.1.2 Centralized CAPIF
The following solution corresponds to the key issue #5 describing the Edge
Application Server\'s service APIs publish and discovery using centralized
CAPIF as specified in clause 4.5.
The centralized Edge Enabler Server can support edge application (owned by
3^rd^ party or by PLMN operator) access to the service APIs offered by other
Edge Application Servers within and across the Edge Data Network by providing
CAPIF functions as shown in Figure 7.15.1.2-1.
Figure 7.15.1.2-1: Edge Application Server\'s service APIs publish and
discovery in centralized CAPIF scenario
NOTE 1: The Edge Application Server which provides service APIs can exist
outside the PLMN trust domain and still utilize the CAPIF of the PLMN trust
domain. This aspect is not shown in the Figure 7.15.1.2-1
NOTE 2: The centralized Edge Enabler Server (CAPIF core function) exists in
the cloud that is inside or outside the PLMN trust domain. This aspect is not
shown in the Figure 7.15.1.2-1
The centralized Edge Enabler Server provides the following function for Edge
Application Server\'s service APIs publish and discovery:
\- the CAPIF core function as specified in 3GPP TS 23.222 [4] to support
onboarding of Edge Application Servers (API invokers), publish of Edge
Application Server\'s service APIs, discovery of Edge Application Server\'s
service APIs and charging of Edge Application Server\'s service APIs
invocations.
The Edge Application Server of an Edge Data Network provides the following
function for Edge Application Server\'s service APIs publish and discovery:
\- the API exposing function as specified in 3GPP TS 23.222 [4] to support the
invocation of the service APIs exposed from the Edge Application Server via
CAPIF-2 or CAPIF-2e and supporting charging of the Edge Application Server\'s
service API invocations via CAPIF-3;
\- the API publishing function as specified in 3GPP TS 23.222 [4] to support
the publishing of the service APIs of the edge applications to the CAPIF core
function of the Edge Enabler Server via CAPIF-4; and
\- the API management function as specified in 3GPP TS 23.222 [4] to support
the management of the service APIs of the Edge Application Server to the CAPIF
core function of the Edge Enabler Server via CAPIF-5.
The following procedures are performed as specified in 3GPP TS 23.222 [4]:
\- The Edge Application Server 1 and Edge Application Server 2 act as API
exposing function and the service APIs from the Edge Application Server 1 and
Edge Application Server 2 are published to the centralized Edge Enabler Server
(CAPIF core function). The edge application service APIs of the Edge Data
Network 1 and Edge Data Network 2 are made available to each other by the
centralized Edge Enabler Server (CAPIF core function).
\- The Edge Application Server acts as an API invoker and is onboarded to the
centralized Edge Enabler Server (CAPIF core function).
\- The Edge Application Servers (API invokers) are authenticated with the
centralized Edge Enabler Server (CAPIF core function).
\- The Edge Application Servers (API invokers) discover the service APIs
published by the Edge Application Server 1 and Edge Application Server 2 via
the centralized Edge Enabler Server (CAPIF core function) including the end
point address of the API exposing function where the service API invocation is
to be performed.
\- The Edge Application Servers (API invokers) obtain authorization to invoke
the service APIs of the Edge Application Server 1 and Edge Application Server
2 from the centralized Edge Enabler Server (CAPIF core function).
\- The Edge Application Servers (API invokers) invoke the service APIs after
performing authentication with the centralized Edge Enabler Server (CAPIF core
function).
### 7.15.2 Solution evaluation
This solution satisfies the key issue #5 for edge application service APIs
publish and discovery using CAPIF (centralized or distributed) in any
deployment scenario.
There is no impact to the procedures specified in 3GPP TS 23.222 [4] to
support publish and discovery of edge application service APIs by other edge
applications.
## 7.16 Solution #16: Edge Enabler Server initiated application context
relocation
### 7.16.1 Solution description
This solution addresses the open issues under Key Issue #9. In this solution,
the Edge Enabler Server is responsible to make the decision whether the
application context for a UE is to be relocated and to provide the related
instruction to the Edge Application Server. The Edge Application Server
prepares the required UE application context to be relocated and transfers it
to the target Edge Application Server. The required UE application context
will be transferred via Edge Enabler Servers to the target Edge Application
Server. With this solution the UE will not be aware of the application context
of the UE being relocated and preserves the service continuity. Further, the
user plane is reconfigured as described in clause 4.3.6 of 3GPP TS 23.502 [7].
NOTE: This solution may require the application to adapt for relocation of the
application context to preserve service continuity.
The high level signalling flows for application context relocation is
illustrated in Figure 7.16.1-1.
Pre-conditions:
1\. The application client at the UE already has a connection to the source
Edge Application Server;
2\. The UE IP address is not changed during the mobility; and
3\. The source Edge Enabler Server has subscribed to the user plane path
management event and receives the notifications as described in 3GPP TS 23.502
[7].
Figure 7.16.1-1: Edge Enabler Server initiated application context relocation
1\. The source Edge Enabler Server determines the application context for the
UE needs to be relocated (e.g. based on the user plane management event
notifications, application mobility capability and requirements).
2\. The source EES determines the target Edge Application Server and its
associated target EES for the application context relocation based the target
DNAI and target EES information (e.g. the Edge Application Server
availability).
3\. The source EES sends application context relocation request (source Edge
Application Server info, UE info, CN NF info, Application ID, Edge Enabler
Client Registration Context) to the target EES for UE application context
transfer. The source Edge Application Server info includes the application
FQDN, and the IP address of the source Edge Application Server may be also
included. The CN NF information (such as the NEF, PCF) may be also included to
assist the target EES to communicate with the 3GPP system. The Application ID
is used for determining a target Edge Application Server. The Edge Enabler
Client Registration Context is for the Registration to the target Edge Enabler
Server.
4\. If target EES accepts the application context relocation, an application
context relocation ack may be provided to the source EES.
5\. The target EES determines the target Edge Application Server corresponding
to the source Edge Application Server information based on the Application ID
and the source Edge Application Server info, and sends the application context
relocation request (Source Edge Application Server info, UE info) to the
target Edge Application Server for UE application context transfer. Edge
Application Server instantiation or other operations to activate this Edge
Application Server is required, if the Edge Application Server is not running.
6\. The target Edge Application Server responds with an application context
relocation response, indicating success or failure. If it indicates the
success, the target Edge Application Server info is included in the
application context relocation response.
7\. The target EES returns the application context relocation response
(accepted source Edge Application Server info, UE info, and target Edge
Application Server info) to the source EES.
8\. The source EES provides the application context relocation command with
the target Edge Application Server info to the source Edge Application Server
to indicate that the Edge Application Server is ready for UE application
context transfer.
9\. When the source Edge Application Server receives the application context
relocation command and determines the UE application context can be
transferred, the source Edge Application Server delivers it to the target Edge
Application Server via the source EES and target EES.
NOTE: This step may use methods to transfer directly between the source Edge
Application Server and the target Edge Application Server. These methods are
implementation specific and out of scope of this specification.
10.When the UE application context transfer is completed, an application
context transfer ack is sent from the target Edge Application Server to the
source Edge Application Server via the EESs.
11\. Upon receiving the application context transfer ack, the source Edge
Application Server sends the application context transfer completion
notification to the source EES.
12\. The source EES acting as AF triggers the AF request to influence on
traffic routing procedure as described in 3GPP TS 23.502 [7].
### 7.16.2 Solution evaluation
This solution addresses the key issue #9. This solution allows the source EES
to initiate the application context relocation from a source Edge Application
Server to a target Edge Application Server (e.g. by utilizing user plane
management event notifications as described in in 3GPP TS 23.502 [7]). The
source EES is responsible to determine the application context(s) to be
relocated on behalf of its corresponding source Edge Application Server(s).
This solution can be categorized as source EES based application context
relocation, such as solution #9 in clause 7.9 and solution #21 in clause 7.21
where context relocation request is provided from the source EES to a target
EES.
This solution and solution #9 can be categorized as Edge Server initiated
application context relocation, noting that an Edge Application Server
triggers the application context relocation in solution #9.
## 7.17 Solution #17: Registering Edge Enabler Server on Edge Data Network
Configuration Server
### 7.17.1 Solution description
The following solution fulfils the need for making available the Edge Enabler
Server information (EES connection info) at the Edge Data Network
Configuration Server.
Figure 7.17.1-1 illustrates the solution for registering Edge Enabler Server
on the Edge Data Network Configuration Server.
Figure 7.17.1-1: Edge Enabler Server registration on Edge Data Network
1\. The Edge Enabler Server sends Edge Enabler Server registration request to
the Edge Data Network Configuration Server. The request from the Edge Enabler
Server includes the Edge Enabler Server identity, EES connection information.
(e.g. IP address), Edge Application Server information (if available, e.g. via
Solution #12) and EES security credentials.
NOTE: The Edge Application Server information included in the registration
request is to be determined in the normative phase. The Edge Application
Server information includes a range of application requirement KPIs supported.
2\. Upon receiving the request from the Edge Enabler Server, the Edge Data
Network Configuration Server verifies the security credentials of the Edge
Enabler Server. Further, the Edge Data Network Configuration Server stores the
Edge Enabler Server registration information obtained in step 1. If the Edge
Data Network Configuration Server already contained the Edge Enabler Server
registration information corresponding to the Edge Enabler Server identity,
then the stored Edge Enabler Server registration information is updated with
the received information in step 1.
3\. The Edge Data Network Configuration Server sends an Edge Enabler Server
registration response indicating success or failure of the registration
operation.
### 7.17.2 Solution evaluation
This solution satisfies the key issue #2 on Edge Data Network discovery and
registration and supplements the solution #2 to obtain the latest EES
connection information and also supplements the solution #9 to obtain the
target EES information corresponding to the EAS. It is possible that the EES
connection info may change due to it hosting requirements in the Edge Data
Network.
## 7.18 Solution #18: Fetch target edge Application Server API
### 7.18.1 Solution description
#### 7.18.1.1 General
The following solution corresponds to the key issue #5 on Capability Exposure
to Edge Application Server, especially use case for the application context
relocation to fetch the target Edge Application Server information.
The Edge Enabler Server exposes fetch target Edge Application Server API to
the Edge Application Server in order to obtain the IP address of the target
Edge Application Server which can serve the UE in mobility.
This solution assumes that EDNCS is aware of the EAS information (e.g. IP
address) as per solution#17.
#### 7.18.1.2 Procedure
Figure 7.18.1.2-1 illustrates the interactions between the Edge Enabler Server
and the Edge Application Server for fetching target Edge Application Server
information.
Figure 7.18.1.2-1: Procedure for Fetch target Edge Application Server API
1\. The Edge Application Server invokes the Fetch target Edge Application
Server API (target EAS information (e.g. FQDN), UE location information) on
the Edge Enabler Server.
NOTE: The trigger condition of the Fetch target Edge Application Server API is
up to application service logic, which is out of scope of this specification.
2\. The Edge Enabler Server checks if it has locally cached the target Edge
Application Server IP address associated with the requesting Edge Application
Server information (e.g. FQDN) and UE location information. If not, the Edge
Enabler Server gets the target Edge Application Server IP address from the
EDNCS.
3\. The Edge Enabler Server responds to the Edge Application Server with the
target Edge Application Server IP address associated with the requesting
target EAS information (e.g. FQDN).
#### 7.18.1.3 API description
##### 7.18.1.3.1 General
Table 7.18.1.3.1-1 illustrates the API for fetch target Edge Application
Server.
Table 7.18.1.3.1-1: Fetch target Edge Application Server API
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Consumer(s) | | | Operations | | | | | | Semantics | | +----------------+----------------+----------------+----------------+ | **EDGE3 | Request | Re | Edge | | _Fetch_targe | | quest/Response | Application | | t_edge_appli | | | Server | | cation_server | | | | | API** | | | | +----------------+----------------+----------------+----------------+
##### 7.18.1.3.2 EDGE3_Fetch_target_edge_application_server_request operation
**Service operation name:** EDGE3_
Fetch_target_edge_application_server_request
**Description:** The consumer requests for the target Edge Application Server
information from the Edge Enabler Server.
**Inputs (required):** FQDN.
**Inputs (optional):** None.
**Outputs (required):** IP address of the target Edge Application Server _._
**Outputs (optional):** None.
See clause 7.18.1.2 for details of usage of this operation.
### 7.18.2 Solution evaluation
This is a solution for key issue #5 on Capability Exposure to Edge Application
Server and supports application context relocation. This solution depends on
the EDNCS to obtain the EAS information (e.g. IP address).
## 7.19 Solution #19: Fetching target Edge Enabler Server information from
EDNCS
### 7.19.1 Solution description
This solution is supplementary to solution #9 for application context
relocation where a source Edge Enabler Server can obtain a target Edge Enabler
Server information via an EDNCS.
Figure 7.19.1-1 illustrates the procedure for fetching target EES information
from EDNCS.
Pre-condition:
\- An Edge Application Server triggers the Edge Enabler Server for UE\'s
application context transfer.
Figure 7.19.1-1: Fetching target EES information from EDNCS
1\. The EES sends a Get EES request (Edge Application Server information (e.g.
FQDN) and UE location information) to the EDNCS to retrieve the target EES
which serves the target Edge Application Server.
2\. The EDNCS retrieves the target EES based on the Edge Application Server
information and UE location information, and provides a Get EES response to
the source EES with the target EES information.
### 7.19.2 Solution evaluation
This solution supplements solution #9 for application context relocation where
a source Edge Enabler Server (when triggered by an Edge Application Server)
can obtain a target Edge Enabler Server information via an EDNCS.
## 7.20 Solution #20: Application Client initiated relocation of application
context
### 7.20.1 Solution description
This solution addresses the open issues under Key Issue #9. In this solution,
the Application Client or the Edge Enabler Client is able to make the decision
to relocate application context from a source Edge Application Server to a
target Edge Application Server.
The solution assumes that, because of the UE\'s location, the UE (i.e.
Application Client and Edge Enabler Client) may not be able to communicate
with the source Edge Application Server and source Edge Enabler Server when
context is transferred.
The solution relies on the principle that the UE (i.e. Application Client
and/or Edge Enabler Client) requests that the target Edge Enabler Server and
target Edge Application Server fetch the UE\'s context from the source Edge
Enabler Server and source Edge Application Server. The required UE Edge
Application Server and Edge Enabler Client context will then be transferred
via Edge Enabler Servers to the target Edge Application Server.
NOTE 1: This solution may require the Application Client to adapt for
relocation of the application context to preserve service continuity.
The high-level signalling flow for application context relocation is
illustrated in Figure 7.20.1-1.
Pre-conditions:
1\. The Application Client and source Edge Application Server exchanged a
credential that can later be used by the Application Client to request that
its context be transferred to a target Edge Application Server;
2\. The Application Client knows the identity of a target Edge Application
Server that it wants to connect to. The Application Client may know this
identity based on provisioned information or information that was provisioned
on the Edge Enabler Client and discovered by the Application Client;
3\. The Edge Enabler Client and source Edge Enabler Server exchanged a
credential that can later be used by the Edge Enabler Client to request that
its context be transferred to a target Edge Enabler Server; and
4\. The Edge Enabler Client knows the identity of a target Edge Enabler Server
that it wants to connect to. The Edge Enabler Client may know this identity
based on provisioned information or information that was received from the
Edge Data Network Configuration Server.
Figure 7.20.1-1: Edge Enabler Client and Application Context Relocation
1\. The Application Client may determine that its context needs to be
relocated (e.g. based on UE mobility, the desire to access new features,
etc.).
2\. If the Application Client determines that its context needs to be
relocated, the Application Client sends a Relocation Request (Application
Client Context ID, Application Client Relocation Credential, target Edge
Application Server Identity) to the Edge Enabler Client. The Application
Client Context ID identifies the Application Client\'s context which is stored
on the source Edge Application Server. The Application Client Relocation
Credential is a parameter that was previously negotiated with the Source Edge
Application Server and will be used to authorize the relocation request.
3\. If the Edge Enabler Client receives the Relocation Request (step 2) or if
the Edge Enabler Client determines that context needs to be relocated, the
Edge Enabler Client determines the Target Edge Enabler Server Identity based
on the target Edge Application Server Identity that was provided in step 2,
based on provisioned information, or information that was obtained from the
Edge Configuration Server.
4\. The Edge Enabler Client sends a Context Relocation Request (target Edge
Application Server Identity, source Edge Enabler Server Identity, source Edge
Application Server Identity, Application Client Context ID, Application Client
Relocation Credential, Edge Enabler Client Registration Context ID, Edge
Enabler Server Relocation Credential) to the target Edge Enabler Server.
Application Client Context ID and Application Client Relocation Credential
only required if step 2 was executed.
5\. The target Edge Enabler Server sends a Context Relocation Request (UE
Info) to the target Edge Application Server to check if the target Edge
Application Server is able to service the Application Context Relocation
Request.
6\. The target Edge Application Server replies to the target Edge Enabler
Server with an indication of whether it is able to service Application Context
Relocation Request. If the target Edge Application Server indicates that it
accepts the request, the flow proceeds to step 7\. Otherwise, the flow skips
to step 12.
7\. The target Edge Enabler Server sends a Context Relocation Request
(Application Client Context ID, Application Client Relocation Credential, Edge
Enabler Client Registration Context ID, Edge Enabler Server Relocation
Credential, target Edge Application Server Identity, source Edge Application
Server Identity) to the source Edge Enabler Server. The source Edge Enabler
Server checks the Edge Enabler Server Relocation Credential and that locally
configured policies indicate that it is permitted to send context to the
target Edge Enabler Server.
8\. The source Edge Enabler Server sends a Context Relocation Request
(Application Client Context ID, Application Client Relocation Credential,
target Edge Application Server Identity) to the source Edge Application
Server.
9\. The source Edge Application Server checks the Application Client
Relocation Credential to see if the request should be allowed. The Edge
Application Server also checks that locally configured policies indicate that
it is permitted to send context to the target Edge Application Server. The
source Edge Application Server replies to the target Edge Enabler Server with
an indication of whether the request is allowed.
10\. The source Edge Enabler Server replies to the target Edge Enabler Server
with an indication of whether the requests are allowed.
11\. If, in step 10, the source Edge Application Server replied that the
request is allowed, the source Edge Application Server delivers the UE
application context to the target Edge Application Server via the source Edge
Enabler Server and target Edge Enabler Server. If, in step 9, the source Edge
Enabler Server replied that the request is allowed, the source Edge Enabler
Server delivers the UE Edge Enabler context to the target Edge Enabler Server.
NOTE 2: This step may use methods to transfer directly between the source Edge
Application Server and the target Edge Application Server. These methods are
implementation specific and out of scope of this specification.
12\. The target Edge Enabler Server replies to the Edge Enabler Client with an
indication of whether the request was denied or allowed. If the request was
not allowed, the response may also include a cause code that indicates why the
request not allowed.
13\. If the Edge Enabler Client received a Relocation Request in step 2, the
Edge Enabler Client replies to the Application Client with an indication of
whether the request was denied or allowed. If the request was not allowed, the
response may also include a cause code that indicates why the request not
allowed. Otherwise, if, in step 3, the Edge Enabler client independently
determined that the Application Client\'s context needs to be relocated and
the Edge Enabler Server indicates that the relocation is allowed, then the
Edge Enabler Client sends a notification to the Application Client indicating
that its context needs to be relocated.
### 7.20.2 Solution evaluation
This solution allows the Application Client or the Edge Enabler Client to
initiate the transfer of application context from a source Edge Application
Server to a target Edge Application Server in situations where the UE cannot
communicate with the source Edge Application Server (e.g. due to the UE\'s
location). The solution can also be used in situations where the UE can
communicate with the source Edge Application Server but wants to initiate a
transfer of application context from a source Edge Application Server to a
target Edge Application Server (e.g. to obtain better or different services).
## 7.21 Solution #21: Edge Enabler Client triggered application context
relocation
This solution addresses the open issues under Key Issue #9. In this solution,
the Edge Enabler Client is responsible to trigger the application context
relocation from a source Edge Application Server to a target Edge Application
Server. The Edge Enabler Client makes the decision whether the application
context for a UE needs to be relocated. The Edge Enabler Server determines
whether to make the Edge Application Server conduct the application context
relocation.
### 7.21.1 Solution description
#### 7.21.1.1 Edge Enabler Client triggered and source EES determined
Application Context Relocation
In this solution, the Edge Enabler Client triggers the application context
relocation and sends a Context relocation request to the source EES. Upon
receiving the request, the source EES proceeds application context relocation
and provides an instruction for application context relocation to the source
Edge Application Server. Then, the application context will be transferred.
The high-level signalling flow for application context relocation is
illustrated in Figure 7.21.1.1-1.
Pre-conditions:
1\. The application client at the UE already has a connection to the source
Edge Application Server; and
2\. The UE is able to communicate with the source Edge Enabler Server.
Figure 7.21.1.1-1: Edge Enabler Client triggered and source EES determined
Application context relocation
1\. The Edge Enabler Client determines the application context for the UE
needs to be relocated (e.g. based on the EDN service area and UE location
information). The Edge Enabler Client may have target EES information that is
provisioned during the procedure for provisioning Edge Data Network
configuration in clause 7.2.1.
2\. [Optional] The Edge Enabler Client gets target EES information from the
Edge Data Network Configuration Server (e.g. by providing UE location
information).
3\. The Edge Enabler Client sends a Context relocation request (UE info,
source Edge Application Server info, target EES information, Application ID)
to the source EES.
Table 7.21.1.1-1: Parameters in Context relocation request
* * *
Information element Status Description UE information M UE ID or IP address
Source Edge Application Server information M FQDN of the source Edge
Application Server (the IP address of the source Edge Application Server may
be also included) Application ID M Application ID of the application served by
the source Edge Application Server Target EES information M The endpoint
address (e.g. URI) of the determined target Edge Enabler Server as in Edge
Data Network Configuration data in clause 7.2.1.2.
* * *
4\. The source EES sends the application context relocation request (UE info,
source Edge Application Server info, Application ID, Edge Enabler Client
Registration Context) to the target EES.
5\. The target EES determines the target Edge Application Server based on the
received application context relocation request from the Edge Enabler Client.
The target EES sends the application context relocation request (UE info,
source Edge Application Server info) to the determined target Edge Application
Server.
6\. The target Edge Application Server determines acceptance of the
application context relocation and sends an application context relocation
response to the target EES.
7\. The target Edge Application Server sends an application context relocation
response (target Edge Application Server info) to the source EES. If the
application context relocation is rejected, the application context relocation
response indicates that the relocation request is rejected, and the following
steps 7 -- 11 are not conducted, and the indication of the rejection is
included in the step 12.
8\. The source EES sends an application context relocation command (target
Enabler Application Server info) to the source Edge Application Server.
9\. The source Edge Application Server delivers UE application context to the
target Edge Application Server via the source Edge Application Server to the
target Edge Application Server.
Editor\'s note: Whether the application context can be directly transferred
from source Edge Application Server to the target Edge Application server is
FFS.
10\. When the UE application context transfer is completed, an application
context transfer ack is sent from the target Edge Application Server to the
source Edge Application Server via EESs.
11\. Upon receiving the application context transfer ack, the source Edge
Application Server sends a response to the application context relocation
command to the source EES.
12\. The source EES sends a Context relocation response (target Edge
Application Server info) to the Edge Enabler Client, informing the Context
Relocation completion. The Context relocation response also includes the
required information that is necessary for rerouting the application data
traffic. If the application context relocation is rejected in the step 6, the
Context relocation response indicates the rejection.
NOTE: How traffic is managed during this procedure to minimize the impact to
the Application Client and Edge Application Server(s) is FFS.
13\. Upon receiving the Context relocation response, the Edge Enabler Client
reroutes the UE application data traffic.
### 7.21.2 Solution evaluation
This solution allows the Edge Enabler Client to initiate the transfer of
application context from a source Edge Application Server to a target Edge
Application Server before the UE communicates with the target Edge Application
Server (e.g. in anticipation of changes to the UE\'s location). Specifically,
the Edge Enabler Client is responsible to determine the application context(s)
to be relocated on behalf of its corresponding Edge Application Server(s) or
application client(s). The solution can be used in situations where the UE can
still communicate with the source EES and wants to initiate application
context relocation from a source Edge Application Server to a target Edge
Application Server.
This solution can be categorized as source EES based application context
relocation such as solution #9 in clause 7.9 and solution #16 in clause 7.16
where context relocation request is provided from the source EES to a target
EES. Also, this solution and solution #20 in clause 7.20 are UE (Edge Enabler
Client) initiated application context relocation.
## 7.22 Solution #22: Distributing Edge Application Server information
### 7.22.1 Solution description
The following solution describes the actions taken by the Edge Data Network
Configuration Server upon receiving requests from an Edge Enabler Server
related to registration or a change in Edge Application Server\'s availability
information.
Figure 7.22.1-1 illustrates the solution for distributing Edge Application
Server information across Edge Data Networks.
Pre-conditions:
1\. Any of the following:
a. a source Edge Enabler Server registers to the Edge Data Network
Configuration Serve with the availability information of the Edge Application
Servers registered with the source Edge Enabler Server;
b. a source Edge Enabler Server de-registers from the Edge Data Network
Configuration Server, effectively indicating that the Edge Application
Server(s) registered with the source Edge Enabler Server are not available
anymore with the source Edge Enabler Server;
c. a source Edge Enabler Server publishes Edge Application Server\'s
availability information on the Edge Data Network Configuration Server; or
d. a source Edge Enabler Server updates the published Edge Application
Server\'s availability information on the Edge Data Network Configuration
Server (for e.g. due to changes in availability information, Edge Application
Server deregistration, etc.).
Figure 7.22.1-1: Distributing Edge Application Server information across Edge
Data Networks
1\. Edge Data Network Configuration Server processes the information received
from the source Edge Enabler Server, and determines target Edge Enabler
Servers and target Edge Data Networks, which should be updated about the Edge
Application Server. The Edge Data Network Configuration Server can use the
Edge Application Server\'s availability information received in the request
from the Edge Enabler Server (for e.g. location or service areas requested by
the Edge Application Server) or can use the Edge Application Server\'s
availability information stored with the Edge Data Network Configuration
Server (for e.g. in case of de-registration).
2\. The Edge Data Network Configuration Server notifies all target Edge
Enabler Servers, as determined in step 1. The notification includes
information about the source Edge Enabler Server and the source Edge Data
Network. If the Edge Application Server information is published or updated,
the notification includes information about the Edge Application Server, as
received in the publish or update request from the source Edge Enabler Server,
information about the source Edge Enabler Server and the source Edge Data
Network. If the Edge Application Server is de-registered or is not available
anymore, the notification contains relevant information. In case of update, it
may result in different notifications to different target Edge Enabler
Servers, for e.g. if the location or service area information for an Edge
Application Server is updated, it may result as newly available Edge
Application Server for some Edge Enabler Servers while a de-registered Edge
Application Server for some Edge Enabler Servers.
3\. The target Edge Enabler Server, upon receiving the notification from the
Edge Data Network Configuration Server, updates the Edge Application Server
information accordingly.
4\. The target Edge Enabler Server notifies the Edge Enabler Clients, which
subscribed for notifications about the Edge Application Server or related
information as received in step 2.
### 7.22.2 Solution evaluation
This solution supplements solution #1 for Edge Application Server discovery by
enabling discovery of Edge Application Servers running in different Edge Data
Networks, via Edge Enabler Servers responsible for the service areas of the
aforementioned Edge Application Servers. The solution enables a distributed
topology for the discovery of Edge Application Servers. With the distributed
topology for discovery, the Edge Enabler Client requires to connect only to
one Edge Enabler Server, which is responsible for the current location of the
UE, saving resources on the UE. Also, it localizes the discovery queries and
responses reducing data traffic in the network.
## 7.23 Solution #23: EAS discovery without registration to EES
This solution addresses Key Issues #1, #4. The key characteristics of this
solution assumes that the EES does not keep any registration state of the UE.
### 7.23.1 Solution description
#### 7.23.1.1 Edge Data network service execution
Assumptions:
1\. UE has the edge application client. Since the dedicated application
client, the mobile OS or an embedded module in the UE may act as the EEC, the
flow below uses the term EEC from the architecture.
2\. Prior to discovery, the UE does not register with the EES, and existence
of edge computing, however, the UE (e.g. the mobile OS) may be impacted to
support this solution. It is only the application, mobile OS or embedded
module in the UE that may have a certain behaviour due to edge computing.
3\. An EAS deployed in the Edge Hosting environment either registers in the
EES (Key Issue #3) using for example, solution #12, where the solution
includes Edge Enabler Server authorization check to verify whether the Edge
Application Server has the proper privileges to register as part of the
process. Or, the EES is provisioned with the EASes by means of O&M. The latter
has no impact on \"existing\" cloud applications.
4\. If there is a need for a specific QoS class for the communication to the
EES, then this is established as part of the PDU session establishment. Thus,
this must be configured in the 5GC.
Figure 7.23.1.2-1 Edge Application Server Discovery
There is a trigger to execute an application (internal or by a user). If no
established PDU session can be reused, the UE establishes a new PDU session to
the corresponding DNN and slice according to URSP. That session is used for
the communication described below:
1\. The EAS is identified by a EAS-FQDN. The EEC in the UE does a discovery of
an EAS over EDGE-1 by sending a discovery request to the EES with the EAS-FQDN
as query parameter. There are examples how this is done in clause 7.23.1.2.1.
The EES authenticates and authorizes the UE for this application, for example
by using 3GPP credentials.
2\. If uplink classifier (UL-CL) and/or IPv6 multihoming are used to provide
connectivity, the IP address may not be used to determine the EAS closest to
the UE, this mean that the EES needs to get the UE location from the 5GC via
e.g. NEF or PCF as per 3GPP TS 23.502 [7]. E.g. using the
Npcf_PolicyAuthorization_Subscribe service operation with immediate reporting
flag set.
3\. If UL-CL and/or IPv6 multihoming are to be used, the EES influences
routing as per 3GPP TS 23.502 [7], see clause 4.3.6.3 step 2d.
4\. EES may initiate establishment of a QoS flow for this application as per
3GPP TS 23.502 [7], e.g. as in clause 4.16.5.2. The EES may have been
provisioned with the QoS information when EAS registers to EES
NOTE: Step 3 and 4 can happen after step 5.
5\. EES responds with the address of the EAS.
6\. UE may initiate a QoS flow establishment (see step 4), according to 3GPP
TS 23.502 [7] clause 4.3.3.2 step 1a.
7\. Application traffic starts between Application Client and EAS.
#### 7.23.1.2 Example Discovery methods
See two examples of EAS discovery using IETF protocols in the following sub-
clauses.
1\. HTTPS based protocol (e.g. DNS over HTTPS) (see 7.23.1.2.1)
2\. DNS based protocol (see 7.23.1.2.2)
NOTE: The SA2 WI FS_enh_EC has a KI for discovery. This can also result in
more solutions for discovery of the EAS.
##### 7.23.1.2.1 HTTPS based protocol
The application/OS uses a HTTPS protocol (e.g. DNS over HTTPS) to discover the
EAS by using the EAS-FQDN as a query parameter. A HTTPS connection is set up
to the EES. The EES authenticates the UE and authorizes if UE is allowed to
use this application as an edge application. How to authenticate (what client
credentials to use) is an SA3 issue.
There are several ways how route the HTTPS connection to the EES:
\- the EES has an anycast address known by EEC in the UE. The IP network
routes the request to the closest EES;
\- the EES has a FQDN, the EES-FQDN. The DNS server in the 5GC has knowledge
of the location of the UE and returns to the UE the address of the local EES;
or
\- the EES has an EES-FQDN. The EES-FQDN is resolved to anycast address of
EES. This any EES (e.g. central EES) resolves the EAS location as follows:
i. this EES may have the address of the EAS for the UE location;
ii. this EES may use HTTP re-direct to another EES (e.g. local EES) that can
respond with the address of the EAS in the location of the UE; or
iii. this EES may further interact with other EES (e.g. via normal DNS) to
resolve the EAS-FQDN and answer back to the UE using secured HTTP with the
address of the EAS.
NOTE 1: The deployment of such EES and other EES is to be specified.
NOTE 2: The central EES can have local configuration to discover the local
EES.
##### 7.23.1.2.2 Using DNS
In this case it is assumed the EES is operated by the operator and that the
connection between the UPF and EES is secure. If the Internet DNN and slice
are used, the EES forwards DNS request the Internet DNS Hierarchy for non-edge
applications. There are a number of options:
\- the EES may resolve the request and answer back with the EAS for the UE
location; or
\- the EES may forward the request to the EES that can resolve it for the UE
location.
NOTE 1: This solution assumes a hierarchical EES architecture.
The EES authenticates the EEC/UE and authorizes if EEC/UE is allowed to use
this application as an edge application.
NOTE 2: It is up to SA3 for authentication/authorization of the UE. Since 5GC
gives the UE an IP address and the connection between EES and UPF is secure,
the EES can use the IP address to authenticate and authorize the UE. The EES
can get location of the UE and directly query the site DNS for the address of
the AS.
### 7.23.2 Solution evaluation
This solution (e.g. using DNS) has minimum impact on application in the UE.
The mobile OS or software module in the UE shall support this EEC
functionality described in this solution.
The solution has solved key issues 4, and if the EES identifier (e.g. EES-
FQDN) is preconfigured in the EEC, there is no need to solve Key issue #1.
## 7.24 Solution #24: Edge Application Server Discovery using DNS
### 7.24.1 Solution description
#### 7.24.1.1 General
The following solution corresponds to the key issue #4 on Edge Application
Server discovery as specified in clause 4.4.
The DNS is widely used mechanism for the application client to discover the
application server in the internet. The operating system traditionally
provides the low-level system library (e.g. gethostbyname) in order for the
application to utilize the DNS resolution. In this solution, the EEC
(re-)configures the DNS resolver in the UE with the DNS configuration data
provided by the EDNCS. The DNS configuration data includes the DNS server
address and EDN domain ID that are related with the EDN configuration data
(e.g. EDN connection info, EDN service area). In this solution, When the EEC
is provisioned with the DNS configuration data and the EEC detects the UE
movements across the configured EDN service area, it (re-)configures the DNS
configuration data for DNS resolver.
This solution assumes that the traffic steering rule is preconfigure when ULCL
is used in 5GC.
#### 7.24.1.2 Procedure for provisioning DNS configuration data by EDNCS
Figure 7.24.1.2-1 illustrates the interactions between the EEC in the UE and
the EDNCS for configuring the DNS configuration in the UE
Pre-conditions:
1\. The pre-conditions are the same as in the solution #2 (see pre-conditions
in the clause 7.2.1.2) when used for initial provisioning, or
2\. The EEC decides to initiate this procedure dynamically for example, if the
EEC does not have DNS configuration data when it detects that the UE is out of
the current EDN service area.
Figure 7.24.1.2-1: Procedure for provisioning DNS configuration data
1\. The EEC sends the provisioning request for requesting EDN configuration.
When it is used for the initial provisioning, this step is the same as the
step 1 of solution #1. Also, the EEC can initiate this procedure when the
trigger conditions for receiving the DNS configuration data are met for
example, UE movement. The message includes the information elements described
in the step 1 of solution #1 in the clause 7.2.1.2. The message may also
include the request for DNS configuration data.
2\. The EDNCS provides DNS configuration data (i.e. DNS server address and
optional EDN domain ID) in addition to the information element included in the
provisioning response (i.e. the step 2 of solution #1 in the clause 7.2.1.2).
DNS configuration data is mapped with EDN service area and EDN connection
info. EDN domain ID may be sent by the DNS resolver in the UE. The EDN domain
ID is used for the DNS server to identify the EDN that the UE is topologically
located in.
3\. The EEC stores and configures the DNS configuration data (i.e. DNS server
address and optional EDN domain ID that are related with EDN service area) for
DNS resolver. The EEC indicates the DNS resolver the change of DNS
configuration data. When the DNS configuration data is changed, the DNS
Resolver may remove the existing DNS cache.
4\. When the EEC is notified of the UE movement across EDN service area, the
EEC re-configures the DNS configuration for DNS Resolver using DNS
configuration data that is previously received from the EDNCS. If the UE is
out of the current EDN service area and there is no DNS configuration data in
EEC, the EEC may initiate this procedure by sending the provisioning request
described in the step 1 of this procedure.
### 7.24.2 Solution evaluation
This solution addresses the key issue #4 on Edge Application Server discovery
as specified in clause 4.4. This solution can be an optional feature in
addition to Solution #1.
This solution does not require any dynamic interactions between the EES/EDNCS
and 5GC.
This solution uses the standard DNS mechanism unless EDN domain ID is used. If
EDN domain ID is used, the DNS should be enhanced to support EDN domain ID.
For the deployment that the ECSP deploys its own DNS server and EES without
requiring 5GC API, it is a suitable solution. This solution also can work with
EPS.
## 7.25 Solution #25: Client Information API
### 7.25.1 Solution description
This solution addresses open issues detailed in Key Issue #5. It provides an
API to enable Edge Application Servers to use the services of an Edge Enabler
Server such to be provided with information about capabilities of Edge Enabler
Clients and Application Clients and to facilitate communication with the
Application Clients. The proposed API is based on the existing EEC
registration procedure defined in Solution #8.
NOTE 1: The exact information of the application Client and Edge Enabler
Server to be shared is to be determined.
Figure 7.25.1-1 illustrates the high-level signalling flows for the Client
Information API.
Pre-conditions:
1\. The Edge Application Server is registered with the Edge Enabler Server.
2\. The UE:
a. Is authorized for Edge Computing service and has received relevant security
credentials from AAF as described in solution #6, clause 7.6.
b. Has received configuration from the Edge Data Network Configuration Server,
including the information related to the Edge Enabler Server as described in
solution #2, clause 7.2.
c. Has one or more Application Clients and their Application Client Profiles
have been exposed to the Edge Enabler Client at the same UE.
Figure 7.25.1-1: Client Information API
1\. The Edge Application Server invokes the Client Information API on the Edge
Enabler Server. The API includes a Request Type indicator with the choice of
\"On demand\" or \"Forwarding\". The API request may contain filters to
retrieve information about particular Clients e.g. Application Client Profile
parameters or parameter ranges to be matched, specific UE Identifiers,
location ranges, etc. The API request may also contain a \"pre-discovered\"
indicator to filter only the Clients which provide the identifier of the
requesting Edge Application Server in their registration.
NOTE 2 : The trigger conditions of the Client Information API (e.g. resource
load predictive analytics) are up to service logic, which is out of scope of
this specification.
2\. The Edge Enabler Server verifies which Client information provided by
active Edge Enabler Client registrations match the API request parameters and
composes a result. The Edge Enabler Server sets up internal processing based
on the Request Type indicator as described in step 4.
3\. The Edge Enabler Server sends a Client Information API Response to the
Edge Application Server with the information determined in step 2.
> If the Request Type indicator is \"On Demand\" the flow proceeds to step 12.
> If the Request Type indicator is \"Forwarding\" the flow continues to the
> next step.
4\. An Edge Enabler Client determines Application Clients to be included in
the registration and to be provisioned with information about one or more Edge
Application Servers.
5\. (based on Solution #8) The Edge Enabler Client sends an EEC Registration
Request to the Edge Enabler Server including the selected Application Client
Profiles info .
> This message may extend the Edge Enabler Client Registration described in
> Step 1 of Solution #8 on Edge Enabler Client Registration by optionally
> adding identifiers of already discovered Edge Application Servers which can
> support the services needed.
6\. (based on Solution #8) The Edge Enabler Server performs the Edge Enabler
Client registration as described in steps 2 and 3 of Solution #8.
7\. The Edge Enabler Server checks the new registration parameters against
active Client Information API Requests of type \"Forwarding\" and identifies
Edge Application Servers to which the Client information needs to be
forwarded.
> If the registration parameters do not correspond to any active Client
> Information API request the flow proceeds to step 10. Otherwise, execute
> steps 8 and 9 for each Edge Application Server identified.
8\. The Edge Enabler Server forwards to the Edge Application Server the Client
information received in the registration, e.g. the Application Client Profiles
or Edge Enabler Client identifiers contained in the registration. The Edge
Application Server may process the information before composing a result, e.g.
it may check whether it has sufficient resources available to provide services
to the Application Clients.
9\. The Edge Application Server sends a Client Information Response to the
Edge Enabler Server providing confirmation and EAS capability information to
be provisioned at the Application Clients. The message includes also
information used by Application Clients for communications (e.g. allowed
request sending rate from the Client, location coverage of Edge Application
Server, allocated storage and computing resources for the Client).
10\. (based on Solution #8) The Edge Enabler Server sends an EAC Registration
response to Edge Enabler Client indicating that the registration request has
been processed.
> This message may extend the Edge Enabler Client Registration response
> described in Step 4 of Solution #8 on Edge Enabler Client Registration
>
> If this step is executed after step 7 identification of one or more Edge
> Application Servers to which the client information was forwarded, the
> response includes the information provided by all the corresponding Edge
> Application Servers in step 9.
11\. The Edge Enabler Client provisions each of the Application Clients with
the information needed to communicate with the respective Edge Application
Server(s).
12.Optionally, the Application Client and the Edge Application Server(s) start
to communicate with each other.
### 7.25.2 Solution evaluation
This solution describes an Edge Enabler Server service API that enables Edge
Application Servers to be provided with information about capabilities of Edge
Enabler Clients and Application Clients and to facilitate communication with
the Application Clients. The Edge Application Servers can request Client
registration information on to be provided on demand or forwarded as provided
to the Edge Enabler Server via the registration process. The solution can rely
on small enhancements to Solution #8 on Edge Enabler Client registration.
## 7.26 Solution #26: Enhancements to CAPIF with serving area information
### 7.26.1 Solution description
The following solution corresponds to the key issue #5 on network capability
exposure to Edge Application Server using CAPIF as specified in clause 4.5.
The service API publish and discover procedure in CAPIF is designed for 3GPP
network capabilities from MNO. However, except the 3GPP network capability
exposure API(s), the Edge Enabler Server may also provide Service APIs which
rely on the Edge Enabler Server. The Service APIs relying one Edge Enabler
Server, may be only valid and utilized within the Edge Data Network.
In order to reuse CAPIF for Edge application architecture, this solution
introduces the serving area to the service API information and query
information in the service API publish and service API discover procedures as
descrbed in 3GPP TS 23.222 [11].
The API invokers can discover service APIs which are available in a serving
area by including the serving area information in the query filter of the
discovery request.
The following clauses in 3GPP TS 23.222 [11] are impacted by adding serving
area to Service API information:
\- 8.1.2.2 Onboard API invoker response
\- 8.3.2.1 Service API publish request
\- 8.5.2.2 Service API get response
\- 8.6.2.1 Service API update request
\- 8.7.2.2 Service API discover response
\- 8.25.2.1 Interconnection API publish request
\- 8.25.2.4 Interconnection service API discover response
The following clauses in 3GPP TS 23.222 [11] are impacted by adding serving
area to query information:
\- 8.7.2.1 Service API discover request
\- 8.25.2.3 Interconnection service API discover request
### 7.26.2 Solution evaluation
This solution allows service API of Edge Enabler Server to be supported using
CAPIF.
## 7.27 Solution #27: Relocation of application context considering analytics
### 7.27.1 Solution description
#### 7.27.1.1 Procedure
This solution addresses the open issues under Key Issue #9. In this solution,
the Edge Application Server is responsible to make the decision whether the
application context for a UE is to be relocated. The Edge Application Server
prepares the required UE application context to be relocated and transfers it
to the target Edge Application Server. The required UE application context
will be transferred via Edge Enabler Servers to the target Edge Application
Server. With this solution the UE will not be aware of the application context
of the UE being relocated and preserves the service continuity. Further, the
user plane is reconfigured as described in clause 4.3.6 of 3GPP TS 23.502 [7].
NOTE: This solution may require the application to adapt for relocation of the
application context to preserve service continuity.
The high level signalling flows for application context relocation is
illustrated in Figure 7.27.1.1-1.
Pre-conditions:
1\. The application client at the UE already has a connection to the source
Edge Application Server; and
2\. The source Edge Application Server has subscribed to the user plane
management event and receives the notifications as described in 3GPP TS 23.502
[7].
Figure 7.27.1.1-1: Application context relocation
1\. The source Edge Application Server determines the application context for
the UE needs to be relocated (e.g. based on the user plane management event
notifications, application mobility capability and requirements).
2\. The source Edge Application Server sends the application context
relocation request (UE info) to the source EES for the target Edge Application
Server. The UE info can be the UE IP address or UE identity.
3\. The source EES determines the target Edge Application Server and its
associated target EES for the application context relocation based the target
DNAI and target EES information (e.g. the Edge Application Server
availability).
> The role of Migration Assistance Server (MAS) is to exploit analytics in
> assisting the Source EES in selecting the optimal Target Edge Data Network.
> The Source EES requests from the MAS to assist once a relocation is needed.
> The EES provides the MAS with the target DNAI. Then the MAS once it receives
> a request, it determines the Target Edge Data Network based on the following
> analytics information:
a. most suitable Target Edge Data Network with sufficient resources for the
context to be migrated,
b. the target DNAI, availability of the application instance on the host
(optional, but most likely needed),
c. provided by NWDAF as specified in 3GPP TS 23.288 [14].
Editor note: How the NWDAF obtains analytics information from the Edge Data
Network is FFS.
> The MAS provides information back to the Initial Edge Enabler Server
> providing a recommendation of the target Edge Enabler Server which can
> accept the context migration.
>
> This process does not introduce any alternations on the functional
> architecture of SA6. MAS can be realized as
d. NWDAF inside the network re-using EDGE-2 interface.
Editor note: MAS can also be realized as an AF outside the EDN, but this is
FFS.
4\. The source EES sends application context relocation request (source Edge
Application Server info, UE info, CN NF info) for UE application context
transfer. The source Edge Application Server info includes the application
FQDN, and the IP address of the source Edge Application Server may be also
included. The CN NF information (such as the NEF, PCF) may be also included to
assist the target EES to communicate with the 3GPP system.
5\. If target EES accepts the application context relocation, an application
context relocation ack may be provided to the source EES.
6\. The target EES determines the target Edge Application Server corresponding
to the source Edge Application Server information and sends the application
context relocation request (Source Edge Application Server info, UE info) to
the target Edge Application Server for UE application context transfer. Edge
Application Server instantiation or other operations to activate this Edge
Application Server is required, if the Edge Application Server is not running.
7\. The target Edge Application Server responds with an application context
relocation response, indicating success or failure.
8\. The target EES returns the application context relocation response
(accepted source Edge Application Server info, UE info) to the source EES.
9\. The source EES provides the application context relocation response to the
source Edge Application Server to indicate that the Edge Application Server is
ready for UE application context transfer.
10\. When the source Edge Application Server determines the UE application
context can be transferred, the source Edge Application Server delivers it to
the target Edge Application Server via the source EES and target EES.
NOTE: Step 10 can occur directly between the source Edge Application Server
and the target Edge Application Server.
11\. When the UE application context transfer is completed, an application
context transfer complete notify is sent from source/target Edge Application
Server to source/target EES.
12\. If the MAS is realized as NWDAF, the NWDAF influence the traffic routing
procedure as described in 3GPP TS 23.502 [7].
### 7.27.2 Solution evaluation
This solution provides a suitable solution to key issue #9 utilizing the
capabilities for application context transfer of the Edge Enabler Server.
The solution presented is based on solution 9 and introduces two new steps,
step 3 and step 12.
## 7.28 Solution #28: EEC subscription for EDNCS events
### 7.28.1 Solution description
#### 7.28.1.1 General
The following solution corresponds to key issues: #10
Edge Enabler Clients subscribe for notification from the Edge Data Network
Configuration Server on changes to configurations of the Edge Data Network. If
the Edge Data Network Configuration Server detects an update of Edge Data
Network configuration that is relevant to some Edge Enabler Clients, it will
notify each one by sending a notification message to them.
Since the source IP address of UEs may change as a result of certain events
(such as a movement to a different cell), the Edge Enabler Client needs to
update its subscription so that future notifications will be able to reach it.
The Edge Enabler Client may also update the subscription due to other events
that require such update. An example is the installation of additional
Application Clients in the UE
This solutions details procedures for:
\- Subscription for notification.
\- Subscription update/cancellation; and
\- Notifications from the Edge Data Network Configuration Server.
#### 7.28.1.2 Subscription for notification
##### 7.28.1.2.1 Procedure
Pre-conditions:
> 1\. The Edge Enabler Client is configured with the URI of the Edge Data
> Network Configuration Server; and
>
> 2\. The Edge Enabler Client was authenticated by the Edge Data Network
> Configuration Server and is authorized to request and receive configuration
> information.
Figure 7.28.1.2.1-1: Solution s2 -- Subscription for notifications
> 1\. The Edge Enabler Client creates a list of desired configuration
> attributes it requires.
>
> 2\. The Edge Enabler Client subscribes for receiving notification from the
> EDNCS. It provides the prepared list of configuration attributes.
>
> 3\. The Edge Data Network Configuration Server creates a context for this
> Edge Enabler Client so that it can trigger appropriate notifications when
> necessary
>
> 4\. The Edge Data Network Configuration Server responds with an
> acknowledgement.
#### 7.28.1.3 Subscription update/cancellation
##### 7.28.1.3.1 Procedure
Pre-conditions:
> 1\. The Edge Enabler Client had subscribed to receive notifications from the
> Edge Data Network Configuration Server; and
>
> 2\. A change in the UE\'s environment had occurred in a way that requires an
> update of the subscription. Some examples of such changes include: A change
> in the UE\'s source IP address, or installation and/or removal of
> Application Clients affecting the list of required configuration
> information.
Figure 7.28.1.3.1-1: Solution s2 -- Update/Cancel Subscription for
notifications
> 1\. The Edge Enabler Client sends a subscription update/cancellation request
> to the Edge Data Network Configuration Server.
>
> 2\. The Edge Data Network Configuration Server updates the subscription (or
> removes the Edge Enabler Client\'s context -- if received a cancellation
> request).
>
> 3\. The Edge Data Network Configuration Server responds with an
> acknowledgement.
#### 7.28.1.4 Notifications from the Edge Data Network Configuration Server
##### 7.28.1.4.1 Procedure
Pre-conditions:
> 1\. The Edge Enabler Client had subscribed to receive notifications from the
> Edge Data Network Configuration Server; and
>
> 2\. An event that requires a notification according to the subscription had
> occurred.
Figure 7.28.1.4.1-1: Solution s2 -- EDNCS Notification
The following sequence is performed for each Edge Enabler Client that had
subscribed to receive notifications, and the recent changes fulfil the
conditions that were specified for triggering a notification:
> 1\. The Edge Data Network Configuration Server sends a notification message
> to the Edge Enabler Client.
>
> 2\. The Edge Enabler Client responds with an acknowledgement.
>
> 3\. The Edge Enabler Client stores the updated information and performs
> whatever is needed due to the configuration change.
### 7.28.2 Solution evaluation
## 7.29 Solution #29: Lifecycle management assistance
### 7.29.1 Solution description
#### 7.29.1.1 Procedure
This solution addresses the open issue under Key Issue #12, it is aligned with
ETSI GS MEC 010-2 [13]. The proposed solution allows an Application Service
Provider (via the OSS) to request from the Edge Computing Service Provider the
execution of lifecycle management operations. The operations include:
\- On-boarding an Edge Application Server which would typically be
instantiated as an Edge Application Server (in subsequent requests);
\- Deleting an Edge Application Server;
\- Instantiating an Application instance (from a previously installed Edge
Application Server) as an Edge Application Server;
\- Terminating an Application an Edge Application Server;
\- Requesting to change the state of an Edge Application Server (e.g. start,
stop, pause, resume); and
\- Subscribe to get notifications about the status of an Edge Application
Server.
Editor Note: These procedures would impact the management and orchestration
procedure handled by SA5.
The high-level signalling flows for lifecycle management are illustrated in
Figure 7.29.1.1.
Editor\'s note: The message flow depicted in Figure 7.29.1.1 assumes there is
a new interface to be defined by the ASP and ECSP. As an alternative EDGE-3
can be extended for this purpose.
Figure 7.29.1.1: Lifecycle management subscriptions
1\. The OSS subscribes to receive notifications about lifecycle management
events by specifying the event type and an address, typically a URI, where the
notifications could be sent. The request will need to specify criteria to
trigger the notifications. For instance, the criteria could be about the
status of an Edge Application Server such as crash or overload, etc.
2\. The Edge Enabler Server responds after processing and storing information
about the subscription.
3\. An event pertaining to the subscription occurs, Edge Application Server
crashed.
4\. The Edge Enabler Server notifies the OSS about the lifecycle management
event using the address provided in 1.
### 7.29.2 Solution evaluation
This solution provides a suitable solution to key issue #22 to manage the
lifecycle of applications and will require close cooperation with SA5.
# 8 Identities and commonly used values
## 8.1 General
The following clauses list identities and commonly used values that are used
in this technical report.
## 8.2 Edge Enabler Client ID
The Edge Enabler Client ID uniquely identifies the Edge Enabler Clients.
## 8.3 Edge Enabler Server ID
The Edge Enabler Server ID is the FQDN of that Edge Enabler Server and each
Edge Enabler Server ID is unique within PLMN domain.
## 8.4 Edge Application Server ID
The Edge Application Server ID identifies a particular application, for e.g.
SA6Video, SA6Game etc. For example, all Edge SA6Video Servers will share the
same Edge Application Server ID.
## 8.5 Edge Application Server Instance ID
The Edge Application Server Instance ID identifies a particular instance of an
Edge Application Server in a particular Edge Data Network.
## 8.6 Application Client ID
The Application Client ID identifies the client side of a particular
application, for e.g. SA6Video viewer, SA6MsgClient etc. For example, all
SA6MsgClient clients will share the same Application Client ID.
In case that the UE is running mobile OS, the Application Client ID is a pair
of OSId and OSAppId.
## 8.7 Application Client Instance ID
The Application Client Instance ID identifies a particular instance of an
Application Client in a particular UE.
## 8.8 UE ID
The UE ID uniquely identifies a particular UE within a PLMN domain. Following
identities can be used:
\- GPSI, as defined in 3GPP TS 23.501 [02].
## 8.9 UE Location
The UE location identifies where the UE is present. It provides consistent
definition of the UE\'s location across the UE and network entities. Following
values can be used:
\- For UEs that are connected via the 3GPP connection -- Cell Identity, as
defined in 3GPP TS 23.003 [06].
\- Another possibility for UEs that are connected via the 3GPP connection --
TAI (Tracking Area Identity), as defined in 3GPP TS 23.003 [06].
# 9\. Deployment scenarios
## 9.1 Introduction
The following clauses detail deployment options focusing on several different
aspects of the deployment
â€¢ Clause 9.2 describes some options for using DN implementations as Edge-
dedicated or non-dedicated DN and of LADNs. It also describes the
relationships between service areas and PLMN.
## 9.2 Example use of Edge-dedicated or non-dedicated DNs and of LADNs.
### 9.2.1 Option 1. Use of non-dedicated DN
There is no Edge-dedicated DN for support of edge computing. A DN common to
other services (e.g. internet access) is used to connect to the Edge
Applications.
The PLMN area supporting Edge services may be composed EDN service areas,
where each service area corresponds to one or more UPFs, each identified by
one or more DNAI. UEs establishing PDU sessions for the Edge Applications
identify the DN using the same DNN and slice information as for PDU sessions
for non-Edge services.
In Scenario 1A (full deployment), the PLMN area is fully covered by the
service areas of the Edge deployments.
In Scenario 1B (partial deployment), the PLMN area is only partially covered
by the service areas of the Edge deployments. In a partial deployment UEs may
still be provided with access to an Edge Application when outside the Edge
deployment service area by using local breakout.
Figure 9.2.1-1. Option 1. Use of non-dedicated DN
### 9.2.2 Option 2. Use of Edge-Dedicated DN
The deployment uses Edge-dedicated DNs for support of edge computing. The
Edge-dedicated DN may be configured over one or more service areas, each
corresponding to one or more DNNs.
The PLMN area supporting Edge services may be composed of several EDN service
areas, where each EDN service area corresponds to one or more UPFs, each
identified by one or more DNAI.
In Scenario 2A (full deployment), the PLMN area is fully covered by the
service areas of Edge deployment.
In Scenario 2B (partial deployment), the PLMN area is only partially covered
by the service areas of the Edge deployment.
Figure 9.2.2-1. Option 2. Use of dedicated DN with Local DN(s)
### 9.2.3 Option 3. Use of LADN
Edge services are provided via Edge-dedicated Data Networks deployed as LADNs.
The PLMN supports Edge services in the EDN service areas which can be
identified by the LADN DNN. The LADN service area is the service area that the
Edge Computing is supported.
In Scenario 3A (full deployment), all the PLMN area is fully covered by
service areas of LADNs and Edge-dedicated Data Network(s) and Edge services
are reachable by UEs in the entire PLMN.
In Scenario 3B (partial deployment), only some portions of PLMN area are
covered by the service areas of LADNsas Edge-dedicated Data Networks.
Figure 9.2.3-1. Option 3. Use of LADN(s)
# 10\. Involved business relationships
Figure 10-1 illustrates the business relationship of the edge computing
service provider, the PLMN operator, the application service provider and the
application user.
Figure 10-1: Business relationships involved in edge computing
The end user is the consumer of the applications provided by the application
service provider (ASP) and can have ASP service agreement with a single or
multiple application service providers. The end user/UE has a PLMN
subscription arrangement with the PLMN operator. The UE used by the end user
is allowed to be registered on the PLMN operator network.
The application service provider consumes the edge services (e.g.
infrastructure, platform) provided by the edge computing service provider and
can have edge computing service provider service agreement with a single or
multiple edge computing service providers.
The edge computing service provider can have PLMN operator service agreement
with single or multiple PLMN operators which offer edge computing support.
The edge computing service provider and the PLMN operator can be part of the
same organization, in which case the business relationship between the two is
internal to a single organization.
# 11 Overall evaluation
## 11.1 General
The following clauses contain an overall evaluation of the solutions presented
in this technical report, their applicability to the identified key issues and
dependencies on other working groups which will need consideration.
\- Clause 11.2 provides an evaluation of the application architecture for
enabling edge applications, specified in clause 6; and
\- Clause 11.3 lists the key issues and their corresponding solution(s).
## 11.2 Architecture evaluation
The architecture specified in clause 6.2 describes the application
architecture for enabling edge applications.
A summary of the architecture and key issues specified in this technical
report are listed in Table 11.2-1.
Table 11.2-1 Architecture evaluation
+----------------------+----------------------+----------------------+ | Architecture | Applicable key | Dependency on other | | solution | issues | working groups | | | | | | | (clause reference) | | +----------------------+----------------------+----------------------+ | 6 Application | Supports all key | SA2, SA3 and SA5 | | architecture for | issues specified in | | | enabling edge | clause 4 | | | applications | | | +----------------------+----------------------+----------------------+
The architecture is compliant to all the architecture principles, listed in
clause 5.1.1 and all the architectural requirements listed under clause 5.
## 11.3 Solution evaluations
### 11.3.1 General
All the key issues and solutions specified in this technical report are listed
in Table 11.3.1-1. It includes the mapping of the key issues (clause 4) to the
solutions and corresponding solution evaluations. It also lists the
dependencies on other working groups that will need consideration during the
Release 17 normative phase.
Table 11.3.1-1 Key issue and solutions
+----------------+----------------+----------------+----------------+ | Key issues\ | Solution | Solution | Dependency on | | (evaluation | | | other working | | clause | | (clause | groups | | reference) | | reference) | | +----------------+----------------+----------------+----------------+ | #1: Service | #2: | 7.2 | SA2 | | provisioning | Provisioning | | | | and | of Edge Data | | | | configuration | Network | | | | | configuration | | | +----------------+----------------+----------------+----------------+ | #2: Edge Data | #3: Edge Data | 7.3 | - | | Network | Network using | | | | discovery and | LADN | | | | registration\ | | | | | (11.3.2) | | | | +----------------+----------------+----------------+----------------+ | | #8: | 7.8 | - | | | Registering | | | | | Edge Enabler | | | | | Client on Edge | | | | | Enabler Server | | | +----------------+----------------+----------------+----------------+ | | #17: | 7.17 | - | | | Registering | | | | | Edge Enabler | | | | | Server on Edge | | | | | Data Network | | | +----------------+----------------+----------------+----------------+ | #3: Edge | #12: Edge | 7.12 | SA3 | | Application | Application | | | | Server | Server | | | | enablement on | Enablement | | | | the Edge | | | | | Hosting | | | | | Environment\ | | | | | (11.3.3) | | | | +----------------+----------------+----------------+----------------+ | #4: Edge | #1: Edge | 7.1 | - | | Application | Application | | | | Server | Server | | | | discovery\ | Discovery | | | | (11.3.4) | | | | +----------------+----------------+----------------+----------------+ | | #13: | 7.13 | - | | | Discovery of | | | | | Edge Data | | | | | Network and | | | | | Edge | | | | | Application | | | | | Server | | | +----------------+----------------+----------------+----------------+ | | #22: | 7.22 | - | | | Distributing | | | | | Edge | | | | | Application | | | | | Server | | | | | information | | | +----------------+----------------+----------------+----------------+ | | #23: EAS | 7.23 | - | | | discovery | | | | | without | | | | | registration | | | | | to EES | | | +----------------+----------------+----------------+----------------+ | | #24: Edge | 7.24 | - | | | Application | | | | | Server | | | | | Discovery | | | | | using DNS | | | +----------------+----------------+----------------+----------------+ | #5: | #4: Location | 7.4 | - | | Capability | Reporting API | | | | Exposure to | | | | | Edge | | | | | Application | | | | | Server | | | | +----------------+----------------+----------------+----------------+ | | #5: UE | 7.5 | SA2, SA3 | | | Identifier API | | | +----------------+----------------+----------------+----------------+ | | #10: Network | 7.10 | - | | | capability | | | | | exposure to | | | | | edge | | | | | applications | | | | | using CAPIF | | | +----------------+----------------+----------------+----------------+ | | #14: User | 7.14 | SA2 | | | plane | | | | | management | | | | | event API | | | +----------------+----------------+----------------+----------------+ | | #15: Edge | 7.15 | - | | | Application | | | | | Server\'s | | | | | service APIs | | | | | publish and | | | | | discovery | | | | | using CAPIF | | | +----------------+----------------+----------------+----------------+ | | #18: Fetch | 7.18 | - | | | target Edge | | | | | Application | | | | | Server API | | | +----------------+----------------+----------------+----------------+ | | #25: Client | 7.25 | - | | | Information | | | | | API | | | +----------------+----------------+----------------+----------------+ | | #26: | 7.26 | - | | | Enhancements | | | | | to CAPIF with | | | | | serving area | | | | | information | | | +----------------+----------------+----------------+----------------+ | #6: Edge | #6: Service | 7.6 | SA2, SA3 | | Computing | Authorization | | | | Service | for Edge | | | | authorization | Computing | | | | | service | | | +----------------+----------------+----------------+----------------+ | #7: Flexible | #2: | 7.2 | SA2 | | deployment\ | Provisioning | | | | (11.3.5) | of Edge Data | | | | | Network | | | | | configuration | | | +----------------+----------------+----------------+----------------+ | | #3: Edge Data | 7.3 | - | | | Network using | | | | | LADN | | | +----------------+----------------+----------------+----------------+ | #8: Edge Data | #2: | 7.2 | SA2 | | Network | Provisioning | | | | selection | of Edge Data | | | | | Network | | | | | configuration | | | +----------------+----------------+----------------+----------------+ | #9: | #9: | 7.9 | SA2 | | Preserving | Relocation of | | | | Service | application | | | | Continuity\ | context | | | | (11.3.6) | | | | +----------------+----------------+----------------+----------------+ | | #16: Edge | 7.16 | SA2 | | | Enabler Server | | | | | initiated | | | | | application | | | | | context | | | | | relocation | | | +----------------+----------------+----------------+----------------+ | | #17: | 7.17 | - | | | Registering | | | | | Edge Enabler | | | | | Server on Edge | | | | | Data Network | | | +----------------+----------------+----------------+----------------+ | | #18: Fetch | 7.18 | - | | | target Edge | | | | | Application | | | | | Server API | | | +----------------+----------------+----------------+----------------+ | | #19: Fetching | 7.19 | - | | | target Edge | | | | | Enabler Server | | | | | information | | | | | from EDNCS | | | +----------------+----------------+----------------+----------------+ | | #20: | 7.20 | SA2 | | | Application | | | | | Client | | | | | initiated | | | | | relocation of | | | | | application | | | | | context | | | +----------------+----------------+----------------+----------------+ | | #21: Edge | 7.21 | SA2 | | | Enabler Client | | | | | initiated | | | | | application | | | | | context | | | | | relocation | | | +----------------+----------------+----------------+----------------+ | | #27: | 7.27 | SA2 | | | Relocation of | | | | | application | | | | | context | | | | | considering | | | | | analytics | | | +----------------+----------------+----------------+----------------+ | #10: Dynamic | #7: Dynamic | 7.7 | - | | availability | availability | | | | | of Edge | | | | | Application | | | | | Servers | | | +----------------+----------------+----------------+----------------+ | | #28: EEC | 7.28 | - | | | subscription | | | | | for EDNCS | | | | | events | | | +----------------+----------------+----------------+----------------+ | #11: User | - | - | SA3 | | consent | | | | | /authorization | | | | | for network | | | | | capability | | | | | exposure to | | | | | Edge | | | | | Application | | | | | Servers | | | | +----------------+----------------+----------------+----------------+ | #12: | #29: | 7.29 | SA5 | | Lifecycle | Lifecycle | | | | management | management | | | +----------------+----------------+----------------+----------------+ | #13: | #11: QoS | 7.11 | SA2 | | Provision of | Management for | | | | QoS | 5G Edge | | | | information | Applications | | | | for the Edge | | | | | Application | | | | | Server | | | | +----------------+----------------+----------------+----------------+ | #x: Exposure | - | - | - | | of Application | | | | | Client KPIs | | | | +----------------+----------------+----------------+----------------+
### 11.3.2 Key Issue 2 solutions
The solutions for Key Issue #2 assume that a method of provisioning Edge Data
Network configuration to the Edge Enabler Client (e.g. solution #2) is
available. In order to address individual open issues detailed in clause 4.2
several solutions have been proposed:
\- Solution #8 allows an Edge Enabler Client to register to an Edge Enabler
Server and to provide optional Application Client Profile(s).
\- Solution #17 allows to register an Edge Enabler Server to the Edge Data
Network Configuration Server and to provide Edge Enabler Server information to
the Edge Data Network Configuration Server.
In addition, when the Edge Data Network is implemented as LADN, solution #3
allows the Edge Enabler Client to discover the LADN Service Area using the
Registration Procedure as defined in 3GPP TS 23.502 [7].
In conjunction, solution #8 and solution #17 enable discovery of Edge Enabler
Servers based on a range of Client Application requirement KPIs.
### 11.3.3 Key Issue 3 solutions
Solution #12 on Edge Application Server Enablement (with and without the use
of CAPIF) addresses the following open issues of Key Issue #3, as detailed in
the Solution #12 evaluation in clause 7.12.2.
\- How the Edge Application Servers are registered on the Edge Enabler Server?
How the Edge Enabler Server identifies the registered Edge Application
Servers?
\- Whether and how the Edge Application Servers provide availability
information such as certain geographical area, time of operation etc. to the
Edge Enabler Server?
> \- How does the Edge Application Servers de-register from the Edge Enabler
> Server?
The Key Issue #3 open issue on the parameters required for Edge Application
Server\'s enablement on the Edge Enabler Server is partly addressed in Table
7.12.1.2-1. The definition and format of the parameters will be provided in
the normative phase. And when using CAPIF for Edge Application Server\'s
enablement, has impacts to 3GPP TS 23.222 [4] to be addressed in the normative
phase.
### 11.3.4 Key Issue 4 Solutions
For Key Issue #4 on Edge Application Server discovery there are several
proposed solutions: solution #1, the Edge Application Server discovery part of
solution #13, solution #23 and solution #24.
The solution #23 \"EAS discovery without registration to EES\" solves key
issue 4. And solution #24 \"EAS discovery using DNS\" also solves key issue 4
by using DNS
One main difference between the solution #1 and the Edge Application Server
discovery part of solution #13 is the type of information included in the
discovery request in order to identify and filter the desired Edge Application
Servers.
In solution #1, the information is provided as query filters and may include:
Edge Application Server instance or category (e.g. gaming applications)
desired level of access permissions (e.g. trial, gold-class, etc.), desired
features (e.g. multi-player or single player), and desired location
availability. The request may also include the identities of Application
Client(s) that may initiate application data traffic with the discovered Edge
Application Server(s). If no query filter is included, it indicates a request
to discover all available Edge Applications Server.
In solution #13 the information includes Application Client ID, Application
provider, Application description and Application Characteristics for the
Application Clients. This requires that the receiving Edge Enabler Server is
able to translate this information into features relevant to the Edge Enabler
Client and the Edge Application clients. The dependency is currently captured
by an open Editor\'s Note.
Due to the great variety of Application Clients, allowing the Edge Enabler
Client to translate Application Client requirements into query filters would
allow for the discovery response to provide more meaningful and usable
information. In the example of the gaming application where the Edge Enabler
Client needs to discover specific features (e.g. single vs. multi-player), the
Edge Enabler Server would need to be aware of many characteristics of the
Application Clients in order to provide this information, characteristics
which may not be captured by the Application Client Information. In addition,
the cases in which the query request is made in preparation for future
activity by Application Clients currently not known by the Edge Enabler
Server, the information about the individual Application Clients may be
exposed unnecessarily.
A solution based on solution #1 may include optionally the Application Client
Information described in Solution #13. and be used independent of topology.
Solution #13 is optimized for a centralized EDN Configuration Server topology.
These solutions may be applicable individually or together for different
deployment models of Edge Computing service, in which case Edge Enabler Client
needs to be indicated as to which mechanism should be used.
### 11.3.5 Key Issue 7 Solutions
For Key Issue #7 solution #2 addresses support of multiple Edge Computing
Service Providers per PLMN operator network by implementing a provisioning
request/response procedure between the Edge Enabler Client by the Edge Data
Network Configuration Server.
The open issue of identifying the Edge Data Network, in case of multiple Edge
Data Networks within a single PLMN where one Edge Data Network is defined as a
subarea (e.g. list of TAs or cells) in the PLMN coverage is addressed by
solution #3. In this solution the Edge Data Network is identified as a LADN
during the UE registration request, at which time the Edge Data Network
service area is identified.
Solution #2 and Solution #3 are complementary in addressing the open issues
raised by Key Issue #7.
### 11.3.6 Key Issue 9 Solutions
For Key Issue #9 on Preserving Service Continuity several solutions have been
proposed as follows:
Edge Server initiated solutions (#9 and #16) require Edge Application/Enabler
Server\'s subscription to UP management event notifications and corresponding
service level agreement between an MNO and Edge Computing Service provider(s).
If the UP management event notifications are not available, solution #20 or
#21 (UE initiated solutions) can be utilized (e.g. based on deployment
scenarios).
In solution #9, the source Edge Application Server determines that the UE
application context needs to be relocated. This solution addresses scenarios
where the source Edge Application Server receives user plane management event
notifications as in 3GPP TS 23.502 [7] and is aware of application mobility
capability and requirements. After the initiation, the source Edge Enabler
Server sends a request on application context relocation to a target Edge
Enabler Server.
Solution #16 allows the source Edge Enabler Server to initiate application
context relocation on behalf of its Edge Application Server(s) by using user
plane management event notification as in 3GPP TS 23.502 [7]. The source Edge
Enabler Server triggers the relocation and sends a request on application
context relocation to a target Edge Enabler Server.
In both solution #20 and solution #21 the UE (e.g. an Application Client)
determines that the UE\'s application context needs to be relocated. These
solutions cover for example scenarios where the UEs make this determination in
anticipation of accessing a different feature. In addition, solution #20
addresses the scenario where the UE is no longer able to communicate with the
source Edge Enabler Server and Edge Application Server and allows the UE\'s
context to be preserved and gracefully transferred to a target Edge Enabler
Server and Edge Application Server.
Solution #9, #16 and #21 are source Edge Enabler Server based application
context relocation, since the context relocation request (originating at a
source Edge Application/Enabler Server or an Edge Enabler Client) is provided
from the source Edge Enabler Server to a target Edge Enabler Server. Solution
#20, on the other hand, is target Edge Enabler Server based application
context relocation.
All these scenarios can be addressed by providing in the normative phase:
\- An Application Context Relocation Request message between two Edge Enabler
Servers including:
\- Indication of request direction, i.e. either source-to-target or target-to-
source.
\- Originating Edge Application Server Info, receiving Edge Application Server
Identity and optional Originating Edge Enabler Server Relocation Credential
\- UE info, Application Client Context ID, Application Client Relocation
Credential, Edge Enabler Client Registration Context ID,
\- Optionally, CN NF information (such as the NEF, PCF) may be also included
to assist the receiving Edge Enabler Server to communicate with the 3GPP
system.
This Application Context Relocation Request can be used to execute step 4 in
solution #9, step 7 in solution #20 and step 4 in solution #21
\- A Context Relocation Request message to be received by an Edge Enabler
Server, originating either at an Edge Application Server or an Edge Enabler
Client.
\- Indication of request direction, i.e. either source-to-target or target-to-
source.
\- UE info, target DNAI, Application Client Context ID and optional
Application Client Relocation Credential, if provided by an Application Client
initiating the request.
\- Source Edge Application Server info and optionally target Edge Application
Server Identity
NOTE: The target Edge Application Server Identity may be pre-provisioned at
the UE or obtained from the Edge Data Network Configuration Server (e.g. by
providing UE location information). If the request direction is source-to-
target and the target Edge Application Server Identity is not provided, the
receiving Edge Enabler Server may derive it from the Edge Data Network
Configuration Server (e.g. based on DNAI and Edge Application Server
availability).This Context Relocation Request can be used to execute step 4 in
solution #9, step 3 in solution #16, step 4 in solution #20 and step 3 in
solution #21
\- A credential exchange mechanism for context transfer optimization:
\- May be used between an Application Client and source Edge Application
Server, providing a credential that can later be used by the Application
Client to request that its context be transferred to a target Edge Application
Server.
\- May be used between an Edge Enabler Client and source Edge Enabler Server,
providing a credential that can later be used by the Edge Enabler Client to
request that its context be transferred to a target Edge Enabler Server.
\- A method to get target Edge Enabler Server information for context
transfer:
\- Based on provisioned information in Edge Enabler Client, or obtained from
the Edge Data Network Configuration Server
A solution based on the mechanisms outlined above incorporates all the
advantages of solution #9, solution #16, solution #20 and solution #21 and
provides for a variety of traffic scenarios and UE and Edge Application
Servers capabilities. Such a solution also provides several options with
respect to service level agreement on user plane management event
notifications, as well as with respect to Edge deployment choices. None of the
proposed solutions address the ability to relocate the application context
between the cloud and the edge.
# 12 Conclusions
This technical report fulfils the objectives of the study on application
architecture for enabling Edge Applications. The report includes the
following:
1\. Definition of terms and abbreviations used in the study (clause 3);
2\. Key issues identified by the study (clause 4) and corresponding
architectural requirements (clause 5);
3\. A detailed application architecture for enabling Edge Applications,
corresponding to the key issues and architectural requirements (clause 6);
4\. Individual solutions addressing the key issues (clause 7);
5\. A list of identities and commonly used values (clause 8);
6\. Set of deployment options (clause 9) and involved business relationships
(clause 10); and
7\. Overall evaluations of all the solutions (clause 11).
Some of the individual solutions have dependency on other working groups
within 3GPP. This dependency is summarized in overall evaluations (clause 11).
The study concludes with following considerations for the normative work:
1\. Definition of terms and abbreviations captured in clause 3 will be reused;
2\. List of identities and commonly used values captured in clause 8 will be
reused with appropriate enhancements;
3\. Architectural requirements identified in clause 5 will be used as baseline
architectural requirements;
4\. The application architecture for enabling Edge Applications, as specified
in clause 6 will be used as baseline architecture;
5\. Following individual solutions, corresponding to the key issues, will be
considered as candidate solutions:
a. for Key issue #1 (Service provisioning and configuration):
i. Solution #2 (Provisioning of Edge Data Network configuration)
b. for Key issue #2 (Edge Data Network discovery and registration):
i. Solution #8 (Registering Edge Enabler Client on Edge Enabler Server); and
ii. Solution #17 (Registering Edge Enabler Server on Edge Data Network
Configuration Server);
c. for Key issue #3 (Edge Application Server enablement on the Edge Hosting
Environment):
i. Solution #12 (Edge Application Server Enablement);
d. for Key issue #4 (Edge Application Server discovery):
i. Solution #1 (Edge Application Server Discovery); and
ii. Solution #13 (Discovery of Edge Data Network and Edge Application Server);
e. for Key issue #5 (Capability Exposure to Edge Application Server):
i. Solution #4 (Location Reporting API);
ii. Solution #5 (UE Identifier API);
iii. Solution #10 (Network capability exposure to Edge Application Server
using CAPIF);
iv. Solution #14 (User plane management event API);
v. Solution #15 (Edge Application Server\'s service APIs publish and discovery
using CAPIF);
vi. Solution #25 (Client Information API); and
vii. Solution #26 (Enhancements to CAPIF with serving area information);
f. for Key issue #6 (Edge Computing Service authorization):
i. Solution #6 (Service Authorization for Edge Computing service); and
g. for Key issue #7 (Flexible deployment):
i. Solution #2 (Provisioning of Edge Data Network configuration); and
ii. Solution #3 (Edge Data Network using LADN)
h. for Key issue #8 (Edge Data Network selection):
i. Solution #2 (Provisioning of Edge Data Network configuration);
i. for Key issue #9 (Preserving Service Continuity):
i. Solution #9 (Relocation of application context);
ii. Solution #16 (Edge Enabler Server initiated application context
relocation);
iii. Solution #20 (Application Client initiated relocation of application
context); and
iv. Solution #21 (Edge Enabler Client triggered application context
relocation);
j. for Key issue #10 (Dynamic availability):
i. Solution #7 (Dynamic availability of Edge Application Servers); and
ii. Solution #28 (EEC subscription for EDNCS events);
k. for Key issue #13 (Provision of QoS information for the Edge Application
Server):
i. Solution #11 (QoS Management for 5G Edge Applications)
6\. Individual solutions, not listed under bullet 5 may be adopted in
technical specification with appropriate enhancements;
7\. Deployment scenarios and involved business relationships will be
considered as captured in clause 9 and clause 10 respectively. New application
layer deployment models and their implications on the solutions will be
considered;
8\. Analysis of related work in other standards bodies e.g. ETSI ISG MEC,
based on Annex A of the 3GPP TR 23.758 will be considered; and
9\. EDGE-5 reference point for interactions between the Application Client and
Edge Enabler Client will not be pursued in release 17.
###### ## Annex A: Analysis of edge computing standards
## A.1 Edge computing support in 3GPP 5GS
### A.1.1 Description
There are a number of enablers for edge computing listed in clause 5.13 in
3GPP TS 23.501 [2].
The following enablers are an excerpt from clause 5.13 in 3GPP TS 23.501 [2],
provided to support edge computing:
\- The 5G Core Network performs traffic steering via an optionally selected
UPF to the Local Data Network via an N6 interface;
\- User plane (re)selection: the 5G Core Network (re)selects UPF to route the
user traffic to the local Data Network as described in 3GPP TS 23.501 [2],
clause 6.3.3;
\- Local Routing and Traffic Steering via the use of uplink classifiers and
multi-homed PDU sessions as described in 3GPP TS 23.501 [2] clause 5.6.4;
\- Session and service continuity to enable UE and application mobility,
including support of user plane relocation for Session and Service Continuity
mode 2 and mode 3 (clause 5.6.9 of 3GPP TS 23.501 [2]) and uplink classifier
relocation (clause 4.3.5.7 of 3GPP TS 23.502 [7]);
\- An Application Function may influence UPF (re)selection and traffic routing
via PCF or NEF;
\- Network capability exposure, including QoS network exposure (clause 7.2.8
of 3GPP TS 23.501 [2]);
\- QoS, including QoS notification control (clause 5.7.2.4 of 3GPP TS 23.501
[2]), and Charging; and
\- Support of Local Area Data Network.
### A.1.2 Analysis of terminologies
Editor\'s note: The relationship between SA2 terminology and SA6 terminology
is FFS.
## A.2 Analysis of ETSI MEC
### A.2.1 Introduction
Multi-access Edge Computing describes a MEC system that enables MEC
applications to run efficiently and seamlessly in a multi-access network.
### A.2.2 MEC framework and architecture
#### A.2.2.1 Reference architecture
ETSI GS MEC 003 [8] specifies a framework for Multi-access Edge Computing
consisting of the following entities:
\- MEC host, including the following:
\-- MEC platform;
\-- MEC applications;
\-- virtualization infrastructure;
\- MEC system level management;
\- MEC host level management;
\- external related entities, i.e. network level entities:
Based on the MEC framework, ETSI GS MEC 003 [8] also specifies a MEC system
reference architecture.
There are three groups of reference points defined between the system
entities:
\- Reference points regarding the MEC platform functionality (Mp);
\- Management reference points (Mm); and
\- Reference points connecting to external entities (Mx).
ETSI MEC has developed interface specifications (APIs) for reference points
Mp1, Mm1, Mm3 and Mx2. In addition ETSI MEC has defined several MEC service
APIs. These interface specifications are introduced in the following sections.
#### A.2.2.2 MEC application enablement
The application enablement API specified in ETSI GS MEC 011 [9] exposes MEC
platform functionality to the MEC applications. The API is on Mp1 reference
point. MEC application can query available services, subscribe to service
availability notifications, activate and deactivate traffic rules (originally
included in the application descriptor) and DNS rules, query available
transports in the given MEC host.
#### A.2.2.3 MEC services
A MEC service is a service provided and consumed either by the MEC platform or
a MEC application. When provided by an application, it can be registered in
the list of services to the MEC platform over the Mp1 reference point. A MEC
service is consumed through the corresponding MEC service API. Such service
API exposes to the consumer application information or capability produced by
the service producing application or the MEC platform.
#### A.2.2.4 Application lifecycle and package management
MEC application lifecycle management and application package management
interfaces are specified in ETSI GS MEC 010-2 [10]. The APIs on Mm1 and Mm3
reference points support the on-boarding of the application package, querying
already on-boarded application packages, disabling, enabling and deleting such
packages, and, importantly, instantiation and termination of applications.
#### A.2.2.5 Device application interface
Device application interface is an API on Mx2 reference point. The API exposes
a limited set of application lifecycle management related operations to an
authorized external application. Such external application is referred to as a
device application in ETSI MEC reference architecture. The operations
currently supported by the device application interface API are query of
applications available to the given device application, the ability to join an
existing application that is either already up and running in the system or is
instantiated for the device application, and the ability to request on-
boarding and instantiation of a yet non-existing application package. The
device application client is subscribed to app LCM related events as soon as
the application context is created in the MEC system. The device application
client can update the callback address for the notifications during the
lifetime of the application context.
#### A.2.2.6 ETSI ISG MEC version of Edge Application Server registration
The features and functions enabled by MEC 010-2 and MEC 011 can address the
open issue listed in Key Issue #3 related to registration of Edge Application
Servers (similar to MEC Application in ETSI ISG MEC) on the Edge Enabler
Server (similar to MEC Platform in ETSI ISG MEC). In this case it is assumed
that the Edge Enabler Server is directly involved in Edge Application Server
lifecycle management, including Edge Application Server registration.
Other functional entities out of scope of SA6 are included in ETSI MEC\'s
procedure. These are;
The Operations Support System (OSS): refers to the OSS of an operator. In ETSI
ISG MEC\'s system it receives requests via ETSI\'s Customer Facing Service
Portal and from UE applications for instantiation or termination of
applications, and decides on the granting of these requests. Granted requests
are forwarded to the orchestrator for further processing.
The Orchestrator: it is responsible for
â€¢ on-boarding of application packages, including checking the integrity and
authenticity of the packages, validating application rules and requirements
and if necessary adjusting them to comply with operator policies, keeping a
record of on-boarded packages, and preparing the virtualisation infrastructure
manager(s) to handle the applications;
â€¢ triggering application instantiation and termination;
â€¢ triggering application relocation as needed when supported.
The Virtualised Infrastructure Manager (VIM). It allocates compute, storage
and network resources, loads virtual machines or containers with the
application images, and runs the VMs/containers and application instances.
Editor\'s note: The mapping of entities between SA6 and ETSI ISG MEC is FFS.
The following Figure represents the end-to-end flow for edge application
instantiation in ETSI ISG MEC.
{width="6.695138888888889in" height="2.91875in"}
Figure A.2.2.6-1: ETSI ISG MEC Edge Application instantiation flow
> 1) The OSS sends an instantiate Edge Application Server request to the
> Orchestrator.
>
> 2) The Orchestrator checks the application instance configuration data, and
> authorizes the request. In the case there are multiple Edge Data Networks
> available, the Orchestrator selects the most suitable Edge Enabler Server
> corresponding to the selected Edge Data Network, and sends an instantiate
> Edge Application Server request to the Edge Enabler Server.
>
> 3) The Edge Enabler Server sends a resource allocation request to the
> Virtualisation Infrastructure Manager (VIM), with the requested resource
> including compute, storage, and network resources. The Edge Enabler Server
> will include Edge Application Server image information (e.g. a link to the
> image or an ID of the EAS image) in the request.
>
> 4) The VIM allocates the resources according to the request of the Edge
> Enabler Server. If the EAS image is available, the VIM loads the virtual
> machine/container with the EAS image, and runs the VM/container and the EAS
> instance. The VIM sends resource allocation response to the Edge Enabler
> Server.
>
> 5) The Edge Enabler Server updates Traffic Rules and/or DNS Rules if
> necessary.
>
> 6) The Edge Enabler Server acknowledges the Edge Application Server
> registration to the Orchestrator
7) The Orchestrator acknowledges the Edge Application Server registration to
the OSS.
### A.2.3 Mapping of ETSI MEC and EDGEAPP architecture
Editor\'s Note: The mapping of ETSI MEC and architecture of EDGEAPP is FFS.
###### ## Annex B: EEC decomposition
In a deployment scenario where the operator deploys EDNCS and ECSP deploys the
EES, the EEC can be decomposed as shown in the Figure B-1. In the following
diagram, the Edge Data Network Configuration Client (EDNCC) connects to the
EDNCS and the EEC\' connects to the EES.
Figure B-1: Decomposition of Edge Enabler Client
#