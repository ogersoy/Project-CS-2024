# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document gives the stage 2 description of the call barring
services.
The possibility for a mobile subscriber to have certain categories of calls
barred originated from or terminated at his access:
Barring of outgoing calls (clause 1):
\- Barring of all outgoing calls (BAOC) (Barring program 1);
\- Barring of outgoing international calls (BOIC) (Barring program 2);
\- Barring of outgoing international calls EXCEPT those directed to the home
PLMN country
(BOIC-exHC) (Barring program 3).
Barring of incoming calls (clause 2):
\- Barring of all incoming calls (BAIC) (Barring program 1);
\- Barring of incoming calls when roaming outside the home PLMN country
(BIC-Roam) (Barring program 2);
\- Anonymous Call Rejection (ACR) (Barring program 3).
NOTE: The call barring program \"incoming calls when roaming outside the home
PLMN country\" (clause 2) is only relevant if as a general rule the called
mobile subscriber pays the charges for the forwarded part of the call from his
home PLMN country to any other country.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"3G Vocabulary\".
[2] 3GPP TS 22.082: \"Call Forwarding (CF) Supplementary Services ‑ Stage 1\".
[3] 3GPP TS 23.011: \"Technical realization of supplementary services\".
[4] 3GPP TS 23.078: \"Customised Applications for Mobile network Enhanced
Logic (CAMEL) Phase 3 - Stage 2\".
[5] 3GPP TS 23.081: \"Line identification Supplementary Services; Stage 2 \".
[6] 3GPP TS 22.004: \"General on supplementary services\".
[7] 3GPP TS 23.090: \"Unstructured Supplementary Service Data (USSD) - Stage
2\".
[8] 3GPP TS 22.088: \"Call Barring (CB) supplementary services -- Stage 1\".
[9] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[10] 3GPP TS 23.088: \"Call Barring (CB) Supplementary Services; Stage 2\".
# 3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 apply.
# 4 Cross-Phase compatibility
For the following supplementary services, a number of changes exist between
the present document and the Phase 1 specification:
\- Barring of outgoing calls;
\- Barring of incoming calls.
The main body of the present document assumes that all network entities comply
with this version of the service. In each case an additional clause (clauses
6.6 and 7.6) defines the additional requirements for when one or more network
entities or the MS complies with the Phase 1 specifications for the
supplementary service procedures.
# 5 Data stored in the HLR for all call barring services
The following data are stored in the HLR in common for all call barring
services other than ACR:
\- The \"notification to CSE flag\". This flag applies for all call barring
services. When the data for any Call Barring are changed, the HLR checks this
flag. If the flag is set, the change is reported to the gsmSCF(s) defined by
the gsmSCF address list. See 3GPP TS 23.078 [4].
\- The \"gsmSCF address list\", which is a list of gsmSCF addresses to which
Notification on Change of Subscriber Data is to be sent. This list applies to
all call barring services. See TS 23.078.
# 6 Barring of outgoing calls
## 6.1 Handling of barring of outgoing calls
### 6.1.0 Applicability
The user control defined in this clause is only applicable in CS domain.
For MME, only MMEs supporting the SMS in MME option described in 3GPP TS
23.272 [10] may handle barring of MO SMS.
### 6.1.1 Registration
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by subscriber using
password\", he has to register a password at provision time. Furthermore the
served mobile subscriber can change the password by an appropriate control
procedure at any time. The control procedure consists of three steps: first,
the old password has to be provided. Secondly, the new password has to be
given, after which it has to be verified by providing it once more, see 3G TS
23.011.
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by the service provider\" an
attempt to register a password will be denied and the served mobile subscriber
should receive a notification.
The subscriber can register a new password, thus causing the previous
registration to be overridden, see 3G TS 23.011.
### 6.1.2 Activation
#### 6.1.2.1 General
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by subscriber using
password\" the supplementary service is activated if the subscriber provides
the following information to the network:
1) password;
2) information as to whether the activation applies to all basic services or a
specific basic service group;
3) selected barring program.
Activation can take place with an appropriate control procedure by the
subscriber.
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by the service provider\",
the supplementary service cannot be activated by the subscriber. The
activation has to be performed by the service provider. An attempt to activate
the service will be denied and the served mobile subscriber should receive a
notification.
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by subscriber using
password\", and if a wrong password is entered to activate the service the
supplementary service will not be activated and the served mobile subscriber
is notified.
The information flow for activation of barring of outgoing calls is shown in
figure 6.4. For more details see 3G TS 23.011.
#### 6.1.2.2 Interactions between barring of outgoing call programs
In case the served mobile subscriber activates barring of outgoing
international calls except those directed to the home PLMN country and this
service is not supported by the PLMN in which the served mobile subscriber
currently roams, the VPLMN will activate barring of outgoing international
calls instead. The SDL diagram in figure 6.1 shows the function to be
performed in the VLR in order to deal with this interaction. This function is
performed upon receiving the \"insert subscriber data\" message from the HLR.
In case the mobile subscriber activates one of the call barring programs and
another call barring program was already activated, this program will be
deactivated and the requested call barring program will be activated. The SDL
diagram in figure 6.2 shows the function to be performed in the HLR in order
to deal with this interaction between call barring programs.
#### 6.1.2.3 Interactions with call forwarding supplementary services
This clause is not applicable for SMS.
For interactions with call forwarding supplementary services see 3G TS 22.082.
The SDL diagram in figure 6.3 shows the function to be performed in the HLR in
order to deal with the interactions with call forwarding supplementary
services.
Figure 6.1: BO1 Possible change of barring of outgoing international calls
except those directed to the home PLMN country into barring of outgoing
international calls
Figure 6.2: BO2 Interaction between call barring programs
Figure 6.3: BO3 Interaction between call forwarding supplementary services and
barring of outgoing calls programs
Figure 6.4: Activation of barring of outgoing calls
NOTE: BX indicates any of the barring programs. PW1 and PW2 indicate password
handling programs, see 3G TS 23.011.
### 6.1.3 Deactivation
The procedure for activation, described in clause 1.1.2.1, is valid also
correspondingly for deactivation with the addition that a barring
supplementary service, i.e. the Outgoing barring service, or All barring
services can be signalled.
The information flow for deactivation of barring of outgoing calls is shown in
figure 6.5. For more details see 3G TS 23.011.
Figure 6.5: Deactivation of barring of outgoing calls
NOTE: BO indicates the general code for barring of outgoing calls. PW1 and PW2
indicate password handling programs, see 3G TS 23.011.
### 6.1.4 Interrogation
The interrogation procedure enables the mobile subscriber to obtain
information about the data stored in the PLMN. After having requested this
procedure the network shall return a list of all basic services to which the
given barring program is active.
The information flow for interrogation of barring of outgoing calls is shown
in figure 6.6.
Figure 6.6: Interrogation of barring of outgoing calls
NOTE: BX indicates any of the barring programs.
## 6.2 Functions and information flows
The following Mobile Additional Functions have been identified:
[MAF017]{.underline}
Barring of all outgoing calls related authorizations examination.
The ability of a PLMN component to determine the authorizations relating to
barring of all outgoing calls. See figure 6.7.
Location: VLR/SGSN/MME
[MAF018]{.underline}
Barring of outgoing international calls related authorizations examination.
The ability of a PLMN component to determine the authorizations relating to
barring of outgoing international calls. See figure 6.8. In case of SMS, the
Service Centre Address is used to determine whether SMS transfer is
international or not.
Location: VLR/SGSN/MME
[MAF020]{.underline}
Barring of outgoing international calls except those directed to the home PLMN
country related authorizations examination.
The ability of a PLMN component to determine the authorizations relating to
barring of outgoing international calls except those directed to the home PLMN
country. See figure 6.9. In case of SMS, the Service Centre Address is used to
determine whether the destination is in HPLMN country or not.
Location: VLR/SGSN/MME
The information flow for barring of outgoing circuit switched calls in CS
domain is shown in figure 6.10A. The information flow for barring of MO SMS is
shown in figure 6.10B.
NOTE: Emergency call check is applied only at VLR.
Figure 6.7: MAF017 Barring of all outgoing calls related authorisations
examination (VLR/SGSN/MME)
NOTE: Emergency call check is applied only at VLR.
Figure 6.8: MAF018 Barring of all outgoing international calls related
authorisations examination (VLR/SGSN/MME)
NOTE: Emergency call check is applied only at VLR.
Figure 6.9: MAF020 Barring of outgoing international calls except those
directed to the home PLMN country related authorisations examination
(VLR/SGSN/MME)
NOTE: OR1: call barred Y: yes\ N: no
Figure 6.10A: Information flow for barring of outgoing circuit switched calls
NOTE: OR1: call barred Y: yes\ N: no
Figure 6.10B: Information flow for barring of MO SMS
## 6.3 Information stored in the HSS/HLR
For all call barring supplementary services in the HSS/HLR must be stored:
\- the subscription option \"control of barring services\" on per subscriber
basis.
This subscription option takes one of the following values:
\- by subscriber using password;
\- by the service provider.
If the subscription option \"control of barring services\" has been set to
\"by subscriber using password\" for barring of outgoing calls in the HLR must
be stored on per subscriber basis:
\- the registration parameter \"call barring password\".
The password is valid for all basic services to which barring of outgoing
calls applies;
\- the status parameter \"wrong password attempts counter\" associated with
the password.
Note that the subscription option and the call barring password are parameters
which are associated with all call barring services.
The outgoing calls barring program may have the following logical states
(refer to 3G TS 23.011 for an explanation of the notation):
* * *
**Provisioning State** **Registration State** **Activation State** **HSS/HLR
Induction State** (Not Provisioned, Not Applicable, Not Active, Not Induced)
(Provisioned, Not Applicable, Not Active, Not Induced) (Provisioned, Not
Applicable, Active and Operative, Not Induced) (Not Provisioned, Not
Applicable, Not Active, Induced) (Provisioned, Not Applicable, Not Active,
Induced) (Provisioned, Not Applicable, Active and Operative, Induced)
* * *
The activation and HSS/HLR induction states may be different for each
applicable elementary basic service group.
The provisioning state shall be on a per subscriber basis, and hence the same
for all basic service groups.
The HSS/HLR shall also store the logical state of the outgoing calls barring
program (which shall be one of the valid states listed above) for each
applicable elementary basic service group.
## 6.4 State transition model
The following figure shows the successful cases of transition between the
applicable logical states of the barring of outgoing call program. The state
changes are either caused by actions of the service provider, the mobile user
or the network.
Note that error cases are not shown in the diagram as they normally do not
cause a state change. Additionally, some successful requests may not cause a
state change. Hence, they are not shown in diagram.
The diagram only shows operations on an elementary basic service group.
Figure 6.11: State transition model for BAOC, BOIC and BOIC-exHC
## 6.5 Transfer of information from HSS/HLR to VLR/SGSN/MME
If the provisioning state for the outgoing calls barring program is
\"Provisioned\" then when the subscriber registers on a VLR/SGSN/MME, the
HSS/HLR shall send that VLR/SGSN/MME information about the logical state of
the program for all relevant elementary basic service groups. Only SMS is
relevant for SGSN and MME.
If the HSS/HLR induction state for the outgoing calls barring program is
\"Induced\" then when the subscriber registers on a VLR/SGSN/MME, the HSS/HLR
shall send that VLR/SGSN/MME information about the logical state of the
program for all relevant elementary basic service groups.
If the logical state of the outgoing calls barring program is changed while a
subscriber is registered on a VLR/SGSN/MME then for the affected basic service
groups, the HSS/HLR shall inform the VLR/SGSN/MME of the new logical state of
the program.
The affected basic service group for SGSN and MME is only SMS.
## 6.6 Information stored in the VLR/SGSN/MME
For each barring of outgoing calls program the VLR/SGSN/MME shall store the
service state information received from the HSS/HLR.
## 6.7 Handover
Handover will have no impact on the control procedures and the operation of
the service.
## 6.8 Cross Phase compatibility
### 6.8.1 MS, MSC, VLR or HLR only support Phase 1 control of SS by the
subscriber
In response to a Barring of outgoing calls interrogation request, if the MS or
any network element involved is of Phase 1, only information concerning basic
service groups for which the activation state has the value \"Active and
Operative\" will be returned.
### 6.8.2 HLR only support Phase 1 updating of subscriber information
If the VLR receives the SS-status parameter from a Phase 1 HLR it shall act as
if it has received the SS-Status parameter with the values shown in the
following:
1) Activated => P bit = 1, R bit = 0 or 1, A bit = 1, Q bit = 0;
2) Deactivated => P bit = 1, R bit = 0 or 1, A bit = 0, Q bit = 0 or 1.
## 6.9 Interworking with VLR or SGSN or MME not supporting Call Barring
When the serving VLR/SGSN/MME does not support call barring, the HLR/HSS may
pass to the VLR/SGSN/MME ODB data to bar outgoing circuit switched call or/and
MO SMS.
# 7 Barring of incoming calls other than Anonymous Call Rejection
## 7.1 Handling of barring of incoming calls
### 7.1.0 Applicability
The user control defined in this clause is only applicable in CS domain.
For MME, only MMEs supporting the SMS in MME option described in 3GPP TS
23.272 [10] may handle barring of MT SMS.
### 7.1.1 Registration
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by subscriber using
password\", he has to register a password at provision time. Furthermore the
served mobile subscriber can change the password by an appropriate control
procedure at any time. The control procedure consists of three steps: first,
the old password has to be provided. Secondly, the new password has to be
given, after which it has to be verified by providing it once more, see 3G TS
23.011.
If the served mobile subscriber at provision time has selected the
subscription option \"control of barring services by the service provider\" an
attempt to register a password will be denied and the served mobile subscriber
should receive a notification.
The subscriber can register a new password, thus causing the previous
registration to be overridden, see 3G TS 23.011.
### 7.1.2 Activation
#### 7.1.2.1 General
The procedure for activation of Barring of outgoing calls, described in clause
1.1.2.1, is valid also for activation of Barring of incoming calls.
The information flow for activation of barring of incoming calls is shown in
figure 7.3. For more details see 3G TS 23.011.
#### 7.1.2.2 Interactions between barring of incoming call programs
If the mobile subscriber activates barring of all incoming calls and barring
of incoming calls when roaming outside the home PLMN country was already
activated, barring of incoming calls when roaming outside the home PLMN
country will be deactivated and barring of all incoming calls will be
activated.
The SDL diagram in figure 7.1 shows the function to be performed in the HLR in
order to deal with this interaction between call barring services.
See clause 8.2.3.2 for the interactions with the ACR supplementary service.
#### 7.1.2.3 Interactions with call forwarding supplementary services
This clause is not applicable for SMS.
For interactions with call forwarding supplementary services see 3G TS 22.082.
The SDL diagram in figure 7.2 shows the function to be performed in the HLR in
order to deal with the interactions with call forwarding services.
Figure 7.1: BI1 Interaction between call barring programs
Figure 7.2: BI2 Interaction between call forwarding supplementary services and
barring of incoming calls programs
Figure 7.3: Activation of barring of incoming calls
NOTE: BX indicates any of the barring programs.\ PW1 and PW2 indicate password
handling programs, see 3G TS 23.011.
### 7.1.3 Deactivation
The procedure for activation of Barring of outgoing calls, described in clause
1.1.2.1, is valid also correspondingly for deactivation of Barring of incoming
calls with the addition that a barring supplementary service, i.e. the
Incoming barring service, or All barring services can be signalled.
The information flow for deactivation of barring of incoming calls is shown in
figure 7.4. For more details see 3G TS 23.011.
Figure 7.4: Deactivation of barring of incoming calls
NOTE: BI indicates the general code for barring of incoming calls.\ PW1 and
PW2 indicate password handling programs, see 3G TS 23.011.
### 7.1.4 Interrogation
The interrogation procedure enables the mobile subscriber to obtain
information about the data stored in the PLMN. After having requested this
procedure the network shall return a list of all basic services to which the
given program is active.
The information flow for interrogation of barring of incoming calls is shown
in figure 7.5.
Figure 7.5: Interrogation of barring of incoming calls
NOTE: BX indicates any of the barring programs.
## 7.2 Functions and information flows
The following Mobile Additional Functions have been identified:
[MAF022]{.underline}
Barring of all incoming calls related authorizations examination\ The ability
of a PLMN component to determine the authorizations relating to barring of
incoming calls. See figure 7.6.
Location: HSS/HLR
[MAF023]{.underline}
Barring of incoming calls when roaming outside the home PLMN country related
authorizations examination\ The ability of a PLMN component to determine the
authorizations relating to barring of incoming calls when roaming outside the
home PLMN country. See figure 7.7.
Location: HSS/HLR
The information flow for barring of incoming circuit switched calls is shown
in figure 7.8A. The information flow for barring of MT SMS is shown in figure
7.8B.
Figure 7.6: MAF022 Barring of all incoming circuit switched calls and MT SMS
related authorisations examination (HSS/HLR)
Figure 7.7: MAF023 Barring of incoming circuit switched calls and MT SMS when
roaming outside the home PLMN country related authorisations examination
(HSS/HLR)
NOTE: info req: information request\ info ack: information acknowledge\ OR1:
call barred Y: yes\ N: no.
Figure 7.8A: Information flow for barring of incoming circuit switched calls
NOTE: info req: information request\ info ack: information acknowledge\ OR1:
call barred Y: yes\ N: no.
Figure 7.8B: Information flow for barring of MT SMS
## 7.3 Information stored in the HSS/HLR
For all call barring supplementary services in the HSS/HLR must be stored:
\- the subscription option \"control of barring services\" on per subscriber
basis.
This subscription option takes one of the following values:
\- by subscriber using password;
\- by the service provider.
If the subscription option \"control of barring services\" has been set to
\"by subscriber using password\" for barring of incoming calls in the HLR must
be stored on a per subscriber basis:
\- the registration parameter \"call barring password\".
The password is valid for all basic services to which barring of incoming
calls applies;
\- the status parameter \"wrong password attempts counter\" associated with
the password.
Note that the subscription option and the call barring password are parameters
which are associated with all call barring services.
The incoming calls barring program may have the following logical states
(refer to 3G TS 23.011 for an explanation of the notation):
* * *
**Provisioning State** **Registration State** **Activation State** **HSS/HLR
Induction State** (Not Provisioned, Not Applicable, Not Active, Not Induced)
(Provisioned, Not Applicable, Not Active, Not Induced) (Provisioned, Not
Applicable, Active and Operative, Not Induced)
* * *
The program of barring of incoming call when roaming outside the home PLMN
country may also have the following logical state:
* * *
**Provisioning State** **Registration State** **Activation State** **HSS/HLR
Induction State** (Provisioned, Not Applicable, Active and Quiescent, Not
Induced)
* * *
The activation and HSS/HLR induction states may be different for each
applicable elementary basic service group.
The provisioning state shall be on a per subscriber basis, and hence the same
for all basic service groups.
The HSS/HLR shall also store the logical state of the incoming calls barring
program (which shall be one of the valid states listed above) for each
applicable elementary basic service group.
## 7.4 State transition model
The following figures show the successful cases of transition between the
applicable logical states of the call barring program. The state changes are
either caused by actions of the service provider, the mobile user or the
network.
Note that error cases are not shown in the diagrams as they normally do not
cause a state change. Additionally, some successful requests may not cause a
state change. Hence, they are not shown in the diagrams.
The diagrams only show operations on an elementary basic service group.
Figure 7.9: State transition model for BAIC
Figure 7.10: State transition model for BIC-Roam
NOTE: SS-I: SS Interaction started or Subscriber in HPLMN country.
SS-I/E: SS Interaction ended or Subscriber not in HPLMN country.
## 7.5 Transfer of information from HSS/HLR to VLR/SGSN/MME
No information is transferred from HSS/HLR to VLR/SGSN/MME for the incoming
calls barring program.
## 7.6 Information stored in the VLR/SGSN/MME
No information is stored in the VLR/SGSN/MME.
## 7.7 Handover
Handover will have no impact on the control procedures and the operation of
the service.
## 7.8 Cross Phase compatibility
### 7.8.1 MS, MSC, VLR or HLR only support Phase 1 control of SS by the
subscriber
In response to a Barring of incoming calls interrogation request, if the MS or
any network element involved is of Phase 1, only information concerning basic
service groups for which Barring of incoming calls is active will be returned.
In Phase 1 the state active and quiescent is not used in the HLR.
In Phase 2 the HLR will support the quiescent state.
As this quiescent state is only relevant within the HLR a Phase 1 MSC/VLR and
a Phase 1 MS can support the Phase 2 interrogation even if the service becomes
quiescent, i.e. there is no functional cross Phase compatibility problem.
Note that the interrogation result received by the user will be in Phase 1 and
2 a list of basic services. The only difference is that in Phase 1 it contains
the active basic services irrespective of whether it is operative or
quiescent.
### 7.8.2 HLR only supports Phase 1 updating of subscriber information
In Phase 1 the VLR stores the activation status also for barring of incoming
calls.
In Phase 2 no information is stored in the VLR in case of barring of incoming
calls. The VLR may receive subscription information for barring of incoming
calls from a Phase 1 HLR. In this case the VLR shall ignore this information.
# 8 Anonymous Call Rejection
## 8.1 General
Anonymous Call Rejection (ACR) is a supplementary service of the CS domain
that allows a mobile [ ]{.underline} subscriber to reject incoming calls from
users who have restricted the presentation of their calling line identity
according to the CLIR supplementary service (see 3GPP TS 23.081 [5]).
The ACR supplementary service shall reject all calls with CLI marked
\"presentation restricted\" according to CLIR. The calls shall be rejected
regardless of the current state (e.g. free or busy) of the served
subscriber\'s access. The called mobile subscriber shall not be alerted.
The ACR supplementary service shall not reject calls terminated for the mobile
subscriber without a CLI or when the CLI presentation is not available, is
allowed, or is restricted by the network.
The ability of the mobile subscriber to set-up outgoing calls shall remain
unaffected.
The calling user shall be given an appropriate indication that the call has
been rejected due to the application of the ACR supplementary service.
The telecom services to which ACR applies are defined in 3GPP TS 22.004 [6].
The service may be valid for all incoming calls or just associated with a
specific basic service group.
## 8.2 Procedures
### 8.2.1 Provision and withdrawal
The ACR supplementary service may be provisioned to or withdrawn from a
subscription by administrative actions in the HLR. The HLR shall update the
subscription information accordingly. This is transparent to the VLR and thus
does not require any transfer of updated subscription information to the VLR.
### 8.2.2 Registration and erasure
Not applicable.
### 8.2.3 Activation and deactivation
#### 8.2.3.1 General
When provisioned in the subscription, the mobile subscriber should be able to
activate or deactivate the ACR supplementary service by USSD procedure (see
3GPP TS 23.090 [7]). The USSD strings to be used to activate or deactivate the
service are operator specific and should be operator configurable in the HLR.
The mobile subscriber may be able to activate or deactivate ACR per basic
service group, subject to the capabilities of the HLR. An activation or
deactivation request without any specific basic service group information
shall be interpreted as applying to all basic service groups (applicable to
ACR).
Calls that are on-going at the time the ACR supplementary service is activated
shall not be affected. Any new incoming call not allowed by the ACR
supplementary service shall be barred.
#### 8.2.3.2 Interactions with other incoming call barring programs
ACR may be active simultaneously with Barring of incoming calls when roaming
outside of the home PLMN country (BIC-Roam) but can not be active
simultaneously with Barring of all incoming calls (BAIC), per basic service
group. The HLR shall ensure that exclusive barring programs are not active
simultaneously per basic service group. The activation of one specific barring
program will override an already active exclusive one (i.e. the old one shall
be permanently deactivated).
If ACR and BIC-Roam are active simultaneously for a specific basic service
group, BIC-Roam shall apply when the mobile subscriber is roaming outside the
HPLMN.
#### 8.2.3.3 Logical states in the HLR for the ACR supplementary service
Table 8.2.3.3.1 shows the logical states that the ACR supplementary service
may have in the HLR (see 3GPP TS 23.011 [3] for an explanation of the
notation).
Table 8.2.3.3.1: Logical states in the HLR for the ACR supplementary service
* * *
Provisioning State Registration State Activation State HLR Induction State Not
Provisioned Not Applicable Not Active Not Induced Provisioned Not Applicable,
Not Active Not Induced Provisioned Not Applicable Active and Operative Not
Induced
* * *
The activation state may be different for each applicable elementary basic
service group.
The provisioning state shall be on a per subscriber basis, and hence the same
for all basic service groups.
Figure 8.2.3.3.1 shows the successful cases of transition between the
applicable logical states of the ACR supplementary service. The state changes
are either caused by actions of the service provider or the mobile user. Error
cases are not shown in the diagram as they normally do not cause a state
change. The diagrams only show operations on an elementary basic service
group.
Figure 8.2.3.3.1: State transition model for ACR
### 8.2.4 Invocation
#### 8.2.4.1 General
When the ACR supplementary service has been activated, then the ACR
supplementary service shall automatically be invoked by the HLR. If the HLR
receives a request for routing information for a call directed to a mobile
subscriber who is subject to ACR for the corresponding basic service group,
the HLR shall return a negative response to the request for routing
information, with the indication that the call is rejected because of ACR, if
the calling line identity is marked as \"presentation restricted\" according
to the CLIR supplementary service. ACR shall not be invoked for incoming calls
that do not have their CLI or that have their CLI marked \"not
available\",\"presentation allowed\" or \"presentation restricted by
network\".
Upon receipt of that indication, the GMSC shall connect the call to a recorded
announcement determined by the network operator or/and should relay this error
indication to the calling user.
#### 8.2.4.2 Terminating Network Information flow
The information flow for rejection of an anonymous MT call is shown in figure
8.2.4.2.1. It applies to a mobile terminating call with CLI marked
\"presentation restricted\", if the HLR and the GMSC supports the ACR
supplementary service and the called mobile subscriber has activated ACR for
the corresponding basic service group.
Figure 8.2.4.2.1: Information flow for rejection of an anonymous MT call
1\. Upon receipt of an incoming call, the GMSC sends a MAP Send Routing
Information request to the HLR. A GMSC that supports the ACR supplementary
service shall pass to the HLR the Additional Signal Info IE including the CLI
information if available as specified for the CLI supplementary service in
3GPP TS 23.081 [5] clause 1.2.3.
2\. Upon receipt of the MAP Send Routing Information request, an HLR that
supports the ACR supplementary service shall return an SRI negative response
with a cause indicating Anonymous Call Rejection if the mobile subscriber has
activated ACR for the corresponding basic service group and the calling line
identity is marked as \"presentation restricted\" according to the CLIR
supplementary service. [\ \ ]{.underline}The HLR shall determine whether the
calling line identity is marked as \"presentation restricted\" using the
\'Address presentation restricted indicator\' of the Calling Party Number IE
if received in the Additional Signal Info IE.
3\. Upon receipt of a SRI negative response with the cause indicating
Anonymous Call Rejection, the GMSC shall signal to the originating network
that in-band information is available due to anonymous call rejection (\"call
rejected due to feature at destination\" ) and play a specific in-band
announcement towards the calling user to signal that the call has been
rejected due to the application of the ACR supplementary service.
4\. After the announcement has been completed, the GMSC shall initiate the
call release with a cause indicating normal call release.
#### 8.2.4.2a Originating Network behaviour
Upon receipt of the indication from the terminating network that in-band
information is available, the originating MSC server shall request the MGW to
through-connect the bearer terminations so that the bearer is backward
through-connected unless already done. This allows the calling user to hear
the announcement played by the terminating network when it rejects an
anonymous call.
Upon receipt of a call release request with a cause indicating that the call
has been rejected due to anonymous call rejection (\"call rejected due to
feature at destination\"), the originating MSC may play an announcement
towards the calling user to signal that the call has been rejected due to
anonymous call rejection. If no local announcement is played, the originating
MSC shall signal an appropriate cause (e.g. \"call rejected due to feature at
destination\", \"call rejected\") when releasing the call towards the calling
user. This allows the calling user to know why the call is rejected when an
external terminating network rejects an anonymous call without providing in-
band information towards the originating network.
NOTE: The support of cause 24 \"call rejected due to feature at destination\"
was introduced into 3GPP TS 24.008 [9] from Rel-10 which means that some UEs
will not recognise this and will treat as \"Normal, unspecified\".
#### 8.2.4.3 Mobile Additional Function
The following Mobile Additional Function has been identified:
[MAF024]{.underline}
ACR related authorizations examination\ The ability of a PLMN component to
determine the authorizations relating to ACR. See figure 8.2.4.3.1.
Location: HLR
Figure 8.2.4.3.1: MAF024 Anonymous Call Rejection related authorisations
examination (HLR)
### 8.2.5 Interrogation
When provisioned in the subscription, the mobile subscriber should be able to
interrogate the network to determine the status of the ACR supplementary
service by USSD procedure (see 3GPP TS 23.090 [7]). The USSD string to be used
to interrogate the status of the service is operator specific and should be
operator configurable in the HLR.
### 8.2.6 Exceptional procedures
If the mobile subscriber attempts to activate, deactivate or interrogates the
ACR supplementary service and the HLR can not comply to the request, the HLR
shall reject the request.
Possible reasons for rejection are:
\- the ACR supplementary service is not subscribed to.
## 8.3 Interactions with other supplementary services
See 3GPP TS 22.088 [8] clause 2.6.
## 8.4 Interactions with other network features and services
### 8.4.1 Operator Determined Barring (ODB)
The call shall be barred if the incoming call to the mobile subscriber is
determined to be barred by either the Operator Determined Barring service or
the ACR supplementary service.
### 8.4.2 Optimal Routeing
The calling user may not get an indication that the call is rejected due to
the application of the ACR supplementary service if the GMSC does not support
the ACR supplementary service.
#