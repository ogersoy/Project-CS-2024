# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Ndccf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the Data
Collection Coordination Function (DCCF).
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.288 [14].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[7] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[8] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[9] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[10] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[11] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
> [12] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
> Format\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[15] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[16] Void.
[17] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[18] Void.
[19] Void.
[20] Void.
[21] Void.
[22] Void.
[23] 3GPP TS 29.122: \"T8 reference point for Northbound APIs\".
[24] IETF RFC 6901: \"JavaScript Object Notation (JSON) Pointer\".
[25] 3GPP TS 29.575: \"5G System; Analytics Data Repository Services; Stage
3\".
[26] 3GPP TS 29.576: \"5G System; Messaging Framework Adaptor Services; Stage
3\".
[27] 3GPP TS 29.536: \"5G System; Network Slice Admission Control Services;
Stage 3\".
[28] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy Control
Service; Stage 3\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
None.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
None.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ADRF Analytics Data Repository Function
AF Application Function
AMF Access and Mobility Management Function
DCCF Data Collection Coordination Function
NF Network Function
NRF Network Repository Function
NEF Network Exposure Function
[NSACF Network Slice Admission Control Function]{.underline}
NSSF Network Slice Selection Function
NWDAF Network Data Analytics Function
PCF Policy Control Function
SMF Session Management Function
UDM Unified Data Management
# 4 Services offered by the DCCF
## 4.1 Introduction
The Ndccf services are used for the DCCF to provide collected data.
The following services are specified for the DCCF:
Table 4.1-1: Services provided by DCCF
+-------------+-------------+-------------+-------------+-------------+ | Service | Description | Service | Operation | Example | | Name | | Operations | | Consumer(s) | | | | | Semantics | | +=============+=============+=============+=============+=============+ | Ndccf_Dat | This | Subscribe | Subscribe / | NWDAF, PCF, | | aManagement | service | | Notify | NSSF, AMF, | | | enables the | | | SMF, NEF, | | | NF service | | | AF, ADRF | | | consumers | | | | | | to | | | | | | subscribe | | | | | | to/ | | | | | | unsubscribe | | | | | | from | | | | | | no | | | | | | tifications | | | | | | for | | | | | | different | | | | | | collected | | | | | | data from | | | | | | the DCCF. | | | | +-------------+-------------+-------------+-------------+-------------+ | | | Unsubscribe | | | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | | | +-------------+-------------+-------------+-------------+-------------+ | | | Fetch | Request / | NWDAF, PCF, | | | | | Response | NSSF, AMF, | | | | | | SMF, NEF, | | | | | | AF, ADRF | +-------------+-------------+-------------+-------------+-------------+ | Nd | This | Register | Request / | NWDAF, ADRF | | ccf_Contex | service | | Response | | | tManagement | enables the | | | | | | NF service | | | | | | consumers | | | | | | to | | | | | | register | | | | | | /deregister | | | | | | collected | | | | | | data in the | | | | | | DCCF. | | | | +-------------+-------------+-------------+-------------+-------------+ | | | Update | | | +-------------+-------------+-------------+-------------+-------------+ | | | Deregister | | | +-------------+-------------+-------------+-------------+-------------+
Table 4.1-2 summarizes the corresponding APIs defined for this specification.
Table 4.1-2: API Descriptions
**Service Name** **Clause** **Description** **OpenAPI Specification File**
**apiName** **Annex**
* * *
Ndccf_DataManagement 5.1 DCCF Data Management Service
TS29574_Ndccf_DataManagement.yaml ndccf-datamanagement A.2
Ndccf_ContextManagement 5.2 DCCF Context Management Service
TS29574_Ndccf_ContextManagement.yaml ndccf-contextmanagement A.3
## 4.2 Ndccf_DataManagement Service
### 4.2.1 Service Description
#### 4.2.1.1 Overview
The Ndccf_DataManagement service, as defined in 3GPP TS 23.288 [14], is
provided by the Data Collection Coordination Function (DCCF).
This service:
\- allows NF service consumers to subscribe, modify and unsubscribe for
analytics or data releated events;
\- notifies NF service consumers with a corresponding subscription about
observed events; and
\- allows NF service consumers to retrieve analytics or data according to the
Fetch Instructions provided by DCCF.
#### 4.2.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network Data
Analytics Exposure architecture, including the DCCF architecture, is defined
in 3GPP TS 23.288 [14].
Known consumers of the Ndccf_DataManagement service are:
\- Policy Control Function (PCF)
\- Network Slice Selection Function (NSSF)
\- Access and Mobility Management Function (AMF)
\- Session Management Function (SMF)
\- Network Exposure Function (NEF)
\- Application Function (AF)
\- Network Data Analytics Function (NWDAF)
\- Analytics Data Repository Function (ADRF)
The Ndccf_DataManagement service is provided by the DCCF and consumed by the
NF service consumers as shown in figure 4.2.1.2-1 for the SBI representation
model and in figure 4.2.1.2-2 for the reference point representation model.
Figure 4.2.1.2-1: Ndccf_DataManagement service architecture, SBI
representation
Figure 4.2.1.2-2: Ndccf_DataManagement service architecture, reference point
representation
#### 4.2.1.3 Network Functions
##### 4.2.1.3.1 Data Collection Coordination Function (DCCF)
The DCCF (Data Collection Coordination Function) provides the functionality to
coordinate collection of analytics and/or data from one or more NFs based on
requests from one or more NF service consumers.
##### 4.2.1.3.2 NF Service Consumers
The NF service consumers for the Ndccf_DataManagement service are as specified
in 3GPP TS 29.520 [15] clause 4.2.1.3.2 for the Nnwdaf_EventsSubscription
service, with the following differences:
\- The NWDAF as a service consumer supports also (un)subscription to the
notification of data collection events from the DCCF.
\- The CEF and the DCCF are not NF service consumers of the
Ndccf_DataManagement service.
### 4.2.2 Service Operations
#### 4.2.2.1 Introduction
Service operations defined for the Ndccf_DataManagement Service are shown in
table 4.2.2.1-1.
Table 4.2.2.1-1: Ndccf_DataManagement Service Operations
Service Operation Name Description Initiated by
* * *
Ndccf_DataManagement_Subscribe This service operation is used by an NF service
consumer to subscribe to, or modify a subscription in the DCCF for event
notifications. NF service consumer (NWDAF, PCF, NSSF, AMF, SMF, NEF, AF, ADRF)
Ndccf_DataManagement_Unsubscribe This service operation is used by an NF
service consumer to unsubscribe from event notifications. NF service consumer
(NWDAF, PCF, NSSF, AMF, SMF, NEF, AF, ADRF) Ndccf_DataManagement_Notify This
service operation is used by the DCCF to report the detected event(s) to the
NF service consumer if subscribed before. DCCF Ndccf_DataManagement_Fetch This
service operation is used by an NF service consumer to retrieve collected data
from the DCCF. NF service consumer (NWDAF, PCF, NSSF, AMF, SMF, NEF, AF, ADRF)
#### 4.2.2.2 Ndccf_DataManagement_Subscribe service operation
##### 4.2.2.2.1 General
The Ndccf_DataManagement_Subscribe service operation is used by an NF service
consumer to create or update a subscription for analytics or data
notifications from the DCCF.
##### 4.2.2.2.2 Subscription for analytics notifications
Figure 4.2.2.2.2-1 shows a scenario where the NF service consumer sends a
request to the DCCF to subscribe for analytics notifications.
Figure 4.2.2.2.2-1: NF service consumer subscribes to analytics notifications
The NF service consumer shall invoke the Ndccf_DataManagement_Subscribe
service operation to subscribe to analytics notification(s). The NF service
consumer shall send an HTTP POST request with \"{apiRoot}/ndccf-
datamanagement/\/analytics-subscriptions\" as Resource URI
representing the \"DCCF Analytics Subscriptions\", as shown in figure
4.2.2.2.2-1, step 1, to create an \"Individual DCCF Analytics Subscription\"
according to the information in the message body. The
NdccfAnalyticsSubscription data structure provided in the request body shall
include:
\- analytics subscription information within the \"anaSub\" attribute;
\- a notification target address within the \"anaNotifUri\" attribute; and
\- a notification correlation identifier in the \"anaNotifCorrId\" attribute;
and may include:
\- formatting instructions within the \"formatInstruct\" attribute;
\- processing instructions within the \"procInstrct\" attribute;
\- a target NWDAF identifier within the \"targetNfId\" attribute or a target
NWDAF set identifier within the \"targetNfSetId\" attribute;
\- an ADRF identifier within the \"adrfId\" attribute or an ADRF set
identifier within the \"adrfSetId\" attribute; and/or
\- time window of performing the requested analytics within the \"timePeriod\"
attribute.
NOTE: This time window, over which the requested data collection or analytics
was performed or to be performed, is different from the analytics target
period, over which the statistics or predictions are requested. For example,
in a subscription that requests \"predictions that are performed during the
month of May about UE_MOBILITY analytics during the month of July\", this time
window is \"May\" while the analytics target period is \"July\". The DCCF can
use the provided time window e.g. to determine when to (un)subscribe to the
NWDAF and/or what subscription duration to indicate to it.
\- the purpose of data collection within the \"dataCollectPurposes\"
attribute.
Upon the reception of an HTTP POST request with \"{apiRoot}/ndccf-
datamanagement/\/subscriptions\" as Resource URI and
NdccfAnalyticsSubscription data structure as request body, the DCCF shall use
the contents of the request (e.g. \"anaSub\" attribute in
NdccfAnalyticsSubscription data structure) to determine whether the
subscription can already be served or interactions with the NWDAF and/or ADRF
(e.g. creation or modification of analytics subscription for
Nnwdaf_AnalyticsSubscription service) are required. If the DCCF cannot use the
contents of the request to determine this, the DCCF shall send an HTTP \"400
Bad Request\" error response including the \"cause\" attribute set to
\"SUBSCRIPTION_CANNOT_BE_SERVED\".
NOTE: The \"SUBSCRIPTION_CANNOT_BE_SERVED\" error can occur, for example, when
the request is syntactically valid and there is no DCCF internal error, but
the DCCF can neither find an existing subscription to an NWDAF nor construct
one based on the received subscription contents.
If the DCCF determines that the subscription can already be served (without
requiring further interactions with NWDAF and/or ADRF) or a successful
response from the NWDAF and/or ADRF is received for the creation or
modification of subscription(s) to serve this subscription, the DCCF shall:
\- create a new subscription;
\- assign a subscriptionId;
\- store the subscription.
If the DCCF created an \"Individual DCCF Analytics Subscription\" resource,
the DCCF shall respond with \"201 Created\" with the message body containing a
representation of the created subscription, as shown in figure 4.2.2.2.2-1,
step 2. If not all the requested analytics events in the subscription are
accepted, then the DCCF may include the \"failEventReports\" attribute within
the \"anaSub\" attribute, indicating the event(s) for which the subscription
failed and the associated reason(s). The DCCF shall include a Location HTTP
header field. The Location header field shall contain the URI of the created
subscription i.e. \"{apiRoot}/ndccf-datamanagement/\/analytics-
subscriptions/{subscriptionId}\". If the immediate reporting indication in the
\"immRep\" attribute within the \"evtReq\" attribute of the \"anaSub\"
attribute sets to true in the event subscription, the DCCF shall include the
reports of the events subscribed, if available, in the HTTP POST response.
If an error occurs when processing the HTTP POST request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
##### 4.2.2.2.3 Update subscription for analytic notifications
Figure 4.2.2.2.3-1: NF service consumer updates subscription to analytics
notifications
The NF service consumer shall invoke the Ndccf_DataManagement_Subscribe
service operation to update a subscription to analytics notifications. The NF
service consumer shall send an HTTP PUT request with \"{apiRoot}/ndccf-
datamanagement/\/analytics-subscriptions/{subscriptionId}\" as
Resource URI, as shown in figure 4.2.2.2.3-1, step 1, to update the
subscription for an \"Individual DCCF Analytics Subscription\" resource
identified by the {subscriptionId}. The NdccfAnalyticsSubscription data
structure provided in the request body shall include the same contents as
described in clause 4.2.2.2.2.
Upon the reception of an HTTP PUT request with \"{apiRoot}/ndccf-
datamanagement/\/analytics-subscriptions/{subscriptionId}\" as
Resource URI and NdccfAnalyticsSubscription data structure as request body,
the DCCF shall use the contents of the request to determine whether the
updated subscription can already be served or interactions with the NWDAF
and/or ADRF (e.g. modification of analytics subscriptions with the NWDAF) are
required. If the DCCF cannot use the contents of the request to determine
this, the DCCF shall send an HTTP \"400 Bad Request\" error response including
the \"cause\" attribute set to \"SUBSCRIPTION_CANNOT_BE_SERVED\".
NOTE: The \"SUBSCRIPTION_CANNOT_BE_SERVED\" error can occur, for example, when
the request is syntactically valid and there is no DCCF internal error, but
the DCCF can neither find an existing subscription to an NWDAF nor construct
one based on the received subscription contents.
If the DCCF determines that the updated subscription can already be served
(without requiring further interactions with NWDAF and/or ADRF) or a
successful response from the NWDAF and/or ADRF is received for the creation or
modification of subscription(s) to serve this subscription, the DCCF shall:
\- update the subscription of corresponding subscriptionId; and
\- store the subscription.
If the DCCF successfully updated the \"Individual DCCF Analytics
Subscription\" resource, the DCCF shall respond with:
a) HTTP \"200 OK\" status code with the message body containing a
representation of the updated subscription, as shown in figure 4.2.2.2.3-1,
step 2a. If not all the requested analytics events in the subscription are
modified successfully, then the DCCF may include the \"failEventReports\"
attribute indicating the event(s) for which the modification failed and the
associated reason(s); or
b) HTTP \"204 No Content\" status code, as shown in figure 4.2.2.2.3-1, step
2b.
If an error occurs when processing the HTTP PUT request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
If the DCCF determines the received HTTP PUT request needs to be redirected,
the DCCF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [4].
##### 4.2.2.2.4 Subscription for data notifications
Figure 4.2.2.2.4-1 shows a scenario where the NF service consumer sends a
request to the DCCF to subscribe for data notifications.
Figure 4.2.2.2.4-1: NF service consumer subscribes to data notifications
The NF service consumer (i.e. NWDAF) shall invoke the
Ndccf_DataManagement_Subscribe service operation to subscribe to data
notification(s). The NF service consumer shall send an HTTP POST request with
\"{apiRoot}/ndccf-datamanagement/\/data-subscriptions\" as
Resource URI, as shown in figure 4.2.2.2.4-1, step 1, to create a subscription
for an \"Individual DCCF Data Subscription\" resource according to the
information in message body. The NdccfDataSubscription data structure provided
in the request body shall include:
\- a notification target address within the \"dataNotifUri\" attribute;
\- a notification correlation identifier within the \"dataNotifCorrId\"
attribute; and
\- a data subscription within the \"dataSub\" attribute, which contains one of
the following:
\- AMF event exposure subscription within the \"amfDataSub\" attribute;
\- SMF event exposure subscription within the \"smfDataSub\" attribute;
\- UDM event exposure subscription within the \"udmDataSub\" attribute;
\- NEF event exposure subscription within the \"nefDataSub\" attribute;
\- AF event exposure subscription within the \"afDataSub\" attribute;
\- NRF event exposure subscription within the \"nrfDataSub\" attribute;
\- NSACF event exposure subscription within the \"nsacfDataSub\" attribute;
and may include:
\- formatting instructions within the \"formatInstruct\" attribute;
\- processing instructions within the \"procInstrct\" attribute;
\- a target NF identifier within the \"targetNfId\" attribute\" or a target NF
set identifier within the \"targetNfSetId\" attribute\";
\- an ADRF identifier within the \"adrfId\" attribute or an ADRF set
identifier within the \"adrfSetId\" attribute; and/or
\- time window of the occurrence of the requested data collection within the
\"timePeriod\" attribute.
NOTE: The DCCF can use the provided time window e.g. to determine when to
(un)subscribe to the data source NF and/or what subscription duration to
indicate to it.
\- the purpose of data collection within the \"dataCollectPurposes\"
attribute.
Upon the reception of an HTTP POST request with: \"{apiRoot}/ndccf-
datamanagement/\/subscriptions\" as Resource URI and
NdccfDataSubscription data structure as request body, the DCCF shall use the
contents (e.g. \"smfDataSub\" attribute in NdccfDataSubscription data
structure) of the request to determine whether the subscription can already be
served or interactions with data sources (e.g. creation or modification of
event exposure subscription for Nsmf_EventExposure service) are required. If
the DCCF cannot use the contents of the request to determine this , the DCCF
shall send an HTTP \"400 Bad Request\" error response including the \"cause\"
attribute set to \"SUBSCRIPTION_CANNOT_BE_SERVED\".
NOTE: The \"SUBSCRIPTION_CANNOT_BE_SERVED\" error can occur, for example, when
the request is syntactically valid and there is no DCCF internal error, but
the DCCF can neither find an existing subscription to a data source nor
construct one based on the received subscription contents.
If the DCCF determines that the subscription can already be served (without
requiring further interactions with the data sources) or a successful response
from the data source(s) is received for the creation or modification of
subscription(s) to serve this subscription, the DCCF shall:
\- create a new subscription;
\- assign a subscriptionId;
\- store the subscription.
If the DCCF created an \"Individual DCCF Data Subscription\" resource, the
DCCF shall respond with \"201 Created\" with the message body containing a
representation of the created subscription, as shown in figure 4.2.2.2.4-1,
step 2. The DCCF shall include a Location HTTP header field. The Location
header field shall contain the URI of the created subscription i.e.
\"{apiRoot}/ndccf-datamanagement/\/data-
subscriptions/{subscriptionId}\".
If an error occurs when processing the HTTP POST request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
##### 4.2.2.2.5 Update subscription for data notifications
Figure 4.2.2.2.5-1: NF service consumer updates subscription to data
notifications
The NF service consumer (i.e. NWDAF) shall invoke the
Ndccf_DataManagement_Subscribe service operation to update a subscription to
data notifications. The NF service consumer shall send an HTTP PUT request
with \"{apiRoot}/ndccf-datamanagement/\/data-
subscriptions/{subscriptionId}\" as Resource URI, as shown in figure
4.2.2.2.5-1, step 1, to update the subscription for an \"Individual DCCF Data
Subscription\" resource identified by the {subscriptionId}. The
NdccfDataSubscription data structure provided in the request body shall
include the same contents as described in clause 4.2.2.2.4.
Upon the reception of an HTTP PUT request with \"{apiRoot}/ndccf-
datamanagement/\/data-subscriptions/{subscriptionId}\" as Resource
URI and NdccfDataSubscription data structure as request body, the DCCF shall
use the contents of the request to determine whether the updated subscription
can already be served or interactions with the data sources (e.g. modification
of event exposure subscriptions) are required. If the DCCF cannot use the
contents of the request to determine this, the DCCF shall send an HTTP \"400
Bad Request\" error response including the \"cause\" attribute set to
\"SUBSCRIPTION_CANNOT_BE_SERVED\".
NOTE: The \"SUBSCRIPTION_CANNOT_BE_SERVED\" error can occur, for example, when
the request is syntactically valid and there is no DCCF internal error, but
the DCCF can neither find an existing event exposure subscription nor
construct one based on the received subscription contents.
If the DCCF determines that the updated subscription can already be served
(without requiring further interactions with the data sources) or a successful
response from the data source(s) is received for the creation or modification
of subscription(s) to serve this subscription, the DCCF shall:
\- update the subscription of the corresponding subscriptionId; and
\- store the subscription.
If the DCCF successfully updated the \"Individual DCCF Data Subscription\"
resource, the DCCF shall respond with:
a) HTTP \"200 OK\" status code with the message body containing a
representation of the updated subscription, as shown in figure 4.2.2.2.5-1,
step 2a; or
b) HTTP \"204 No Content\" status code, as shown in figure 4.2.2.2.5-1, step
2b.
If an error occurs when processing the HTTP PUT request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
If the DCCF determines the received HTTP PUT request needs to be redirected,
the DCCF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [4].
#### 4.2.2.3 Ndccf_DataManagement_Unsubscribe service operation
##### 4.2.2.3.1 General
The Ndccf_DataManagement_Unsubscribe service operation is used by an NF
service consumer to remove a subscription for analytics or data notifications
from the DCCF.
##### 4.2.2.3.2 Unsubscribe from analytics notifications
Figure 4.2.2.3.2-1 shows a scenario where the NF service consumer sends a
request to the DCCF to unsubscribe from analytics notifications.
Figure 4.2.2.3.2-1: NF service consumer unsubscribes from analytics
notifications
The NF service consumer shall invoke the Ndccf_DataManagement_Unsubscribe
service operation to unsubscribe from analytics notifications. The NF service
consumer shall send an HTTP DELETE request with \"{apiRoot}/ndccf-
datamanagement /\/analytics-subscriptions/{subscriptionId}\" as
Resource URI representing an \"Individual DCCF Analytics Subscription\"
resource, as shown in figure 4.2.2.3.2-1, step 1, where \"{subscriptionId}\"
is the identifier of the existing analytics subscription that is to be
deleted.
Upon the reception of an HTTP DELETE request with \"{apiRoot}/ndccf-
datamanagement/\/analytics-subscriptions /{subscriptionId}\" as
Resource URI, if the DCCF successfully processed and accepted the received
HTTP DELETE request, the DCCF shall:
\- remove the corresponding subscription;
\- respond with HTTP \"204 No Content\" status.
If errors occur when processing the HTTP DELETE request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
If the DCCF determines the received HTTP DELETE request needs to be
redirected, the DCCF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
##### 4.2.2.3.3 Unsubscribe from data notifications
Figure 4.2.2.3.3-1 shows a scenario where the NF service consumer sends a
request to the DCCF to unsubscribe from data notifications.
Figure 4.2.2.3.3-1: NWDAF unsubscribes from data notifications
The NWDAF shall invoke the Ndccf_DataManagement_Unsubscribe service operation
to unsubscribe to data notifications. The NWDAF shall send an HTTP DELETE
request with \"{apiRoot}/ndccf-datamanagement/\/data-
subscriptions/{subscriptionId}\" as Resource URI representing an \"Individual
DCCF Data Subscription\" resource, as shown in figure 4.2.2.3.3-1, step 1,
where \"{subscriptionId}\" is the identifier of the existing data subscription
that is to be deleted.
Upon the reception of an HTTP DELETE request with \"{apiRoot}/ndccf-
datamanagement/\/data-subscriptions /{subscriptionId}\" as
Resource URI, if the DCCF successfully processed and accepted the received
HTTP DELETE request, the DCCF shall:
\- remove the corresponding subscription;
\- respond with HTTP \"204 No Content\" status.
If errors occur when processing the HTTP DELETE request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
If the DCCF determines the received HTTP DELETE request needs to be
redirected, the DCCF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
#### 4.2.2.4 Ndccf_DataManagement_Notify service operation
##### 4.2.2.4.1 General
The Ndccf_DataManagement_Notify service operation is used by DCCF to notify NF
service consumers about subscribed events related to analytics or data.
##### 4.2.2.4.2 Notification about subscribed analytics
Figure 4.2.2.4.2-1 shows a scenario where the DCCF sends a request to the NF
Service Consumer to notify it about analytics event(s).
Figure 4.2.2.4.2-1: DCCF notifies the NF service consumer about a subscribed
analytics event
The DCCF shall invoke the Ndccf_DataManagement_Notify service operation to
notify about a subscribed analytics event. The DCCF shall send an HTTP POST
request with \"{notificationURI}\" as Resource URI (where
\"{notificationURI}\" has the value of the notification URI received in the
NdccfAnalyticsSubscription data structure of the
Ndccf_DataManagement_Subscribe service operation, see clause 5.1.5 for the
definition of this notification URI), as shown in figure 4.2.2.4.2-1, step 1.
The NdccfAnalyticsSubscriptionNotification data structure provided in the
request body shall include:
\- the analytics notification correlation identifier within the
\"anaNotifCorrId\" attribute;
\- the time stamp which represents the time when DCCF completes preparation of
the requested analytics within the \"timeStamp\" attribute;
\- one of the following:
\- information about network data analytics function events that occurred in
the \"anaNotifications\" attribute;
> \- summarized analytics derived from events based on processing instructions
> and formatting instructions that occurred in the \"anaReports\" attribute;
>
> \- information for fetching the contents of the notification in the
> \"fetchInstruct\" attribute.
The NdccfAnalyticsSubscriptionNotification data structure provided in the
request body may include:
> \- a termination request provided by the DCCF within the \"terminationReq\"
> attribute.
If the NF service consumer successfully processed and accepted the received
HTTP POST request, the NF service consumer shall:
\- store the notification;
\- respond with HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP POST request, the NF service consumer
shall send an HTTP error response as specified in clause 5.1.7.
If NF service consumer determines the received HTTP POST request needs to be
redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [4].
##### 4.2.2.4.3 Notification about subscribed data event
Figure 4.2.2.4.3-1 shows a scenario where the DCCF sends a request to the NF
Service Consumer to notify it about data event(s).
Figure 4.2.2.4.3-1: DCCF notifies the NF service consumer about a subscribed
data event
The DCCF shall invoke the Ndccf_DataManagement_Notify service operation to
notify about a subscribed data event. The DCCF shall send an HTTP POST request
with \"{notificationURI}\" as Resource URI (where \"{notificationURI}\" has
the value of the notification URI received in the NdccfDataSubscription data
structure of the Ndccf_DataManagement_Subscribe service operation, see clause
5.1.5 for the definition of this notification URI), as shown in figure
4.2.2.4.3-1, step 1. The NdccfDataSubscriptionNotification data structure
provided in the request body shall include:
\- the data notification correlation identifier within the \"dataNotifCorrId\"
attribute;
\- the time stamp which represents the time when DCCF completes preparation of
the requested data within the \"timeStamp\" attribute;
\- one of the following:
\- the data notification within the \"dataNotif\" attribute;
\- summarized data derived from events based on processing instructions and
formatting instructions that occurred in the \"dataReports\" attribute;
\- information for fetching the contents of the notification in the
\"fetchInstruct\" attribute.
The NdccfDataSubscriptionNotification data structure provided in the request
body may include:
\- a termination request provided by the DCCF within the \"terminationReq\"
attribute.
If the NF service consumer successfully processed and accepted the received
HTTP POST request, the NF service consumer shall:
\- store the notification;
\- respond with HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP POST request, the NF service consumer
shall send an HTTP error response as specified in clause 5.1.7.
If the NWDAF determines the received HTTP POST request needs to be redirected,
the NWDAF shall send an HTTP redirect response as specified in clause 6.10.9
of 3GPP TS 29.500 [4].
#### 4.2.2.5 Ndccf_DataManagement_Fetch service operation
##### 4.2.2.5.1 General
The Ndccf_DataManagement_Fetch service operation is used by an NF service
consumer to retrieve analytics or data notifications indicated by fetch
instructions from the DCCF.
##### 4.2.2.5.2 Retrieve notified analytics and data
Figure 4.2.2.5.2-1 shows a scenario where the NF service consumer sends a
request to the DCCF to retrieve notified analytics or data.
Figure 4.2.2.5.2-1: NF service consumer requesting to retrieve notified
analytics or data
The NF service consumer shall invoke the Ndccf_DataManagement_Fetch service
operation to retrieve notified analytics or data. The NF service consumer
shall send an HTTP POST request to the URI \"{fetchUri}\" which was previously
provided by the DCCF within a FetchInstruction data structure in a DCCF
notification, as shown in figure 4.2.2.5.2-1, step 1, to request notified
analytics or data from the DCCF.
The request body shall include fetch correlation identifiers, which were
previously provided by the DCCF in the \"fetchCorrIds\" attribute within
FetchInstruction data structure in the DCCF notification.
Upon the reception of the HTTP POST request, the DCCF shall:
\- find the analytics or data according to the request.
If requested analytics is found, the DCCF shall respond with \"200 OK\" status
code with the message body containing the
NdccfAnalyticsSubscriptionNotification data structure. The
NdccfAnalyticsSubscriptionNotification data structure in the response body
shall include the same contents as described in clause 4.2.2.4.2 with the
difference that the \"fetchInstruct\" attribute shall not be included.
If requested data is found, the DCCF shall respond with \"200 OK\" status code
with the message body containing the NdccfDataSubscriptionNotification data
structure. The NdccfDataSubscriptionNotification data structure in the
response body shall include the same contents as described in clause 4.2.2.4.3
with the difference that the \"fetchInstruct\" attribute shall not be
included.
If the requested analytics or data does not exist, the DCCF shall respond with
\"204 No Content\".
If an error occurs when processing the HTTP POST request, the DCCF shall send
an HTTP error response as specified in clause 5.1.7.
If the DCCF determines the received HTTP POST request needs to be redirected,
the DCCF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [4].
## 4.3 Ndccf_ContextManagement Service
### 4.3.1 Service Description
#### 4.3.1.1 Overview
The Ndccf_ContextManagement service, as defined in 3GPP TS 23.288 [14], is
provided by the Data Collection Coordination Function (DCCF).
This service:
\- allows NF service consumers to register, update or deregister the collected
data or analytics information in the DCCF.
#### 4.3.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network Data
Analytics Exposure architecture, including the DCCF architecture, is defined
in 3GPP TS 23.288 [14].
Known consumers of the Ndccf_ContextManagement service are:
\- Network Data Analytics Function (NWDAF)
\- Analytics Data Repository Function (ADRF)
The Ndccf_ContextManagement service is provided by the DCCF and consumed by
the NF service consumers (e.g. NWDAF, ADRF) as shown in figure 4.3.1.2-1 for
the SBI representation model and in figure 4.3.1.2-2 for the reference point
representation model.
Figure 4.3.1.2-1: Ndccf_ContextManagement service architecture, SBI
representation
Figure 4.3.1.2-2: Ndccf_ContexManagement service architecture, reference point
representation
#### 4.3.1.3 Network Functions
##### 4.3.1.3.1 Data Collection Coordination Function (DCCF)
The DCCF (Data Collection Coordination Function) provides functionality to
create, update, and delete data collection profiles.
##### 4.3.1.3.2 NF Service Consumers
The NWDAF and ADRF may register and/or update a data collection profile to the
DCCF to enable data consumers to get the data which has been collected by
NWDAF or ADRF directly (i.e. not via DCCF).
### 4.3.2 Service Operations
#### 4.3.2.1 Introduction
Service operations defined for the Ndccf_ContextManagement Service are shown
in table 4.3.2.1-1.
Table 4.3.2.1-1: Ndccf_ContextManagement Service Operations
Service Operation Name Description Initiated by
* * *
Ndccf_ContextManagement_Register This service operation is used by an NF
service consumer to register data or analytics it is collecting in the DCCF.
NF service consumer (NWDAF, ADRF) Ndccf_ContextManagement_Update This service
operation is used by an NF service consumer to update an existing data or
analytics registration. NF service consumer (NWDAF, ADRF)
Ndccf_ContextManagement_Deregister This service operation is used by an NF
service consumer to delete an existing data or analytics registration. NF
service consumer (NWDAF, ADRF)
#### 4.3.2.2 Ndccf_ContextManagement_Register service operation
##### 4.3.2.2.1 General
##### 4.3.2.2.2 Register data collection profile to DCCF
Figure 4.3.2.2.2-1 shows a scenario where the NF service consumer sends a
request to the DCCF to register data or analytics it is collecting to the
DCCF.
Figure 4.3.2.2.2-1: NF service consumer registers data collection profile
The NF service consumer shall invoke the Ndccf_ContextManagement_Register
service operation to register data or analytics it is collecting to the DCCF.
The NF service consumer shall send an HTTP POST request with
\"{apiRoot}/ndccf-contextmanagement/\/data-collection-profiles\"
as Resource URI representing the \"DCCF Data Collection Profiles\", as shown
in figure 4.3.2.2.2-1, step 1, to create an \"Individual DCCF Data Collection
Profile\" according to the information in the message body. The
NdccfDataCollectionProfile data structure provided in the request body shall
include:
\- one of the following data or analytics collection information:
\- analytics subscription information within the \"anaSub\" attribute;
\- data subscription information within the \"dataSub\" attribute, which
contains one of the following:
\- AMF event exposure subscription within the \"amfDataSub\" attribute;
\- SMF event exposure subscription within the \"smfDataSub\" attribute;
\- UDM event exposure subscription within the \"udmDataSub\" attribute;
\- NEF event exposure subscription within the \"nefDataSub\" attribute;
\- AF event exposure subscription within the \"afDataSub\" attribute;
\- NRF event exposure subscription within the \"nrfDataSub\" attribute;
\- NSACF event exposure subscription within the \"nsacfDataSub\" attribute;
\- one of the following identifiers related to the NF service consumer:
\- NWDAF instance identifier within the \"nwdafId\" attribute;
\- ADRF instance identifier within the \"adrfId\" attribute;
\- NWDAF set identifier within the \"nwdafSetId\" attribute;
\- ADRF set identifier within the \"adrfSetId\" attribute;
Upon the reception of an HTTP POST request with \"{apiRoot}/ndccf-
contextmanagement/\/data-collection-profiles\" as Resource URI and
NdccfDataCollectionProfile data structure as request body, the DCCF shall:
\- create a new profile;
\- assign a profileId;
\- store the profile.
If the DCCF created an \"Individual DCCF Data Collection Profile\" resource,
the DCCF shall respond with \"201 Created\" with the message body containing a
representation of the created profile, as shown in figure 4.3.2.2.2-1, step 2.
The DCCF shall include a Location HTTP header field. The Location header field
shall contain the URI of the created profile, i.e. \"{apiRoot}/ndccf-
contextmanagement/\/data-collection-profiles/{profileId}\".
If an error occurs when processing the HTTP POST request, the DCCF shall send
an HTTP error response as specified in clause 5.2.7.
#### 4.3.2.3 Ndccf_ContextManagement_Update service operation
##### 4.3.2.3.1 General
##### 4.3.2.3.2 Update registered data collection profile
Figure 4.3.2.3.2-1 shows a scenario where the NF service consumer sends a
request to the DCCF to update a registration of a data collection profile to
the DCCF.
Figure 4.3.2.3.2-1: NF service consumer updates registered data collection
profile
The NF service consumer (e.g. NWDAF or ADRF) shall invoke the
Ndccf_ContextManagement_Update service operation to update a registration of
data or analytics collection to DCCF. The NF service consumer shall send an
HTTP PUT request with \"{apiRoot}/ndccf-contextmanagement/\/data-
collection-profiles/{profileId}\" as Resource URI, as shown in figure
4.3.2.3.2-1, step 1, to update the registration of data or analytics for an
\"Individual DCCF Data Collection Profile\" resource identified by the
{profileId}. The NdccfDataCollectionProfile data structure provided in the
request body shall include the same contents as described in clause 4.3.2.2.
Upon the reception of an HTTP PUT request with \"{apiRoot}/ndccf-
contextmanagement/\/data-collection-profiles/{profileId}\" as
Resource URI and NdccfDataCollectionProfile data structure as request body,
the DCCF shall:
\- update the profile of the corresponding profileId; and
\- store the profile.
If the DCCF successfully processed and accepted the received HTTP PUT request,
the DCCF shall update an \"Individual DCCF Data Collection Profile\" resource,
and shall respond with:
a) HTTP \"200 OK\" status code with the message body containing a
representation of the updated profile, as shown in figure 4.3.2.3.2-1, step
2a; or
b) HTTP \"204 No Content\" status code, as shown in figure 4.3.2.3.2-1, step
2b.
If an error occurs when processing the HTTP PUT request, the DCCF shall send
an HTTP error response as specified in clause 5.2.7.
If the DCCF determines the received HTTP PUT request needs to be redirected,
the DCCF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [4].
#### 4.3.2.4 Ndccf_ContextManagement_Deregister service operation
##### 4.3.2.4.1 General
##### 4.3.2.4.2 Deregister Data collection profile
Figure 4.3.2.4.2-1 shows a scenario where the NF service consumer sends a
request to the DCCF to delete a registration of data collection profile.
Figure 4.3.2.4.2-1: NF service consumer deregisters data collection profile
The NF service consumer shall invoke the Ndccf_ContextManagement_Deregister
service operation to delete a registration of data or analytics collection
profile to the DCCF. The NF service consumer shall send an HTTP DELETE request
with \"{apiRoot}/ndccf-contextmanagement/\/data-collection-
profiles/{profileId}\" as Resource URI representing an \"Individual DCCF Data
Collection Profile\" resource, as shown in figure 4.3.2.4.2-1, step 1, where
\"{profileId}\" is the identifier of the existing Data Collection Profile that
is to be deleted.
Upon the reception of an HTTP DELETE request with \"{apiRoot}/ndccf-
contextmanagement/\/data-collection-profiles/{profileId}\" as
Resource URI, if the DCCF successfully processed and accepted the received
HTTP DELETE request, the DCCF shall:
\- remove the corresponding registered profile;
\- respond with HTTP \"204 No Content\" status.
If errors occur when processing the HTTP DELETE request, the DCCF shall send
an HTTP error response as specified in clause 5.2.7.
If the DCCF determines the received HTTP DELETE request needs to be
redirected, the DCCF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
# 5 API Definitions
## 5.1 Ndccf_DataManagement Service API
### 5.1.1 Introduction
The Ndccf_DataManagement shall use the Ndccf_DataManagement API.
The API URI of the Ndccf_DataManagement API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"ndccf-datamanagement\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.1.3.
### 5.1.2 Usage of HTTP
#### 5.1.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Ndccf_DataManagement API is contained in Annex A.
#### 5.1.2.2 HTTP standard headers
##### 5.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.1.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.1.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
### 5.1.3 Resources
#### 5.1.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.1.3.1-1 depicts the resource URIs structure for the
Ndccf_DataManagement API.
Figure 5.1.3.1-1: Resource URI structure of the Ndccf_DataManagement API
Table 5.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.1.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
DCCF Analytics Subscriptions /analytics-subscriptions POST Creates a new
Individual DCCF Analytics Subscription resource. Individual DCCF Analytics
Subscription /analytics-subscriptions/{subscriptionId} PUT Modifies an
existing Individual DCCF Analytics Subscription resource. DELETE Deletes an
Individual DCCF Analytics Subscription identified by {subscriptionId}. DCCF
Data Subscriptions /data-subscriptions POST Creates a new Individual DCCF Data
Subscription resource. Individual DCCF Data Subscription /data-
subscriptions/{subscriptionId} PUT Modifies an existing DCCF Data Subscription
resource. DELETE Deletes an Individual DCCF Data Subscription identified by
{subscriptionId}.
#### 5.1.3.2 Resource: DCCF Analytics Subscriptions
##### 5.1.3.2.1 Description
The DCCF Analytics Subscriptions resource represents all Analytics
subscriptions to the Ndccf_DataManagement Service at a given DCCF. The
resource allows an NF service consumer to create a new Individual DCCF
Analytics Subscription resource.
##### 5.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/ndccf-datamanagement/\ /analytics-
subscriptions**
This resource shall support the resource URI variables defined in table
5.1.3.2.2-1.
Table 5.1.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1
##### 5.1.3.2.3 Resource Standard Methods
###### 5.1.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.1.3.2.3.1-1.
Table 5.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.2.3.1-2 and the response data structures and response codes specified in
table 5.1.3.2.3.1-3.
Table 5.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description NdccfAnalyticsSubscription M 1 New
Individual DCCF Analytics Subscription resource to be created.
* * *
Table 5.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NdccfAnalytic | M | 1 | 201 Created | The creation | | sSubscription | | | | of an | | | | | | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | resource is | | | | | | confirmed and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/ndccf-
datamanagement/\/analytics-subscriptions/{subscriptionId}
* * *
##### 5.1.3.2.4 Resource Custom Operations
None in this release of the specification.
#### 5.1.3.3 Resource: Individual DCCF Analytics Subscription
##### 5.1.3.3.1 Description
The Individual DCCF Analytics Subscription resource represents a single
Analytics Subscription to the Ndccf_DataManagement Service at a given DCCF.
##### 5.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/ndccf-datamanagement/\ /analytics-
subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.1.3.3.2-1.
Table 5.1.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1 subscriptionId string Identifies an analytics
subscription to the Ndccf_DataManagement Service
##### 5.1.3.3.3 Resource Standard Methods
###### 5.1.3.3.3.1 PUT
This method shall support the URI query parameters specified in table
5.1.3.3.3.1-1.
Table 5.1.3.3.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.3.3.1-2 and the response data structures and response codes specified in
table 5.1.3.3.3.1-3.
Table 5.1.3.3.3.1-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
NdccfAnalyticsSubscription M 1 Parameters to replace a subscription to DCCF
Analytics Subscription resource.
Table 5.1.3.3.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NdccfAnalytic | M | 1 | 200 OK | The | | sSubscription | | | | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | resource was | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | resource was | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 5.1.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
5.1.3.3.3.2-1.
Table 5.1.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.3.3.2-2 and the response data structures and response codes specified in
table 5.1.3.3.3.2-3.
Table 5.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 5.1.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | resource was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF | | | | | | Analytics | | | | | | Subscription | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.1.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 5.1.3.3.4 Resource Custom Operations
None in this release of the specification.
#### 5.1.3.4 Resource: DCCF Data Subscriptions
##### 5.1.3.4.1 Description
The DCCF Data Subscriptions resource represents all data subscriptions to the
Ndccf_DataManagement Service at a given DCCF. The resource allows an NF
service consumer to create a new Individual DCCF Data Subscription resource.
##### 5.1.3.4.2 Resource Definition
Resource URI: **{apiRoot}/ndccf-datamanagement/\ /data-
subscriptions**
This resource shall support the resource URI variables defined in table
5.1.3.4.2-1.
Table 5.1.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1
##### 5.1.3.4.3 Resource Standard Methods
###### 5.1.3.4.3.1 POST
This method shall support the URI query parameters specified in table
5.1.3.4.3.1-1.
Table 5.1.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.4.3.1-2 and the response data structures and response codes specified in
table 5.1.3.4.3.1-3.
Table 5.1.3.4.3.1-2: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
NdccfDataSubscription M 1 Individual DCCF Data Subscription resource to be
created.
Table 5.1.3.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NdccfDat | M | 1 | 201 Created | The creation | | aSubscription | | | | of an | | | | | | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | resource is | | | | | | confirmed and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.4.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/ndccf-
datamanagement/\/data-subscriptions/{subscriptionId}
* * *
##### 5.1.3.4.4 Resource Custom Operations
None in this release of the specification.
#### 5.1.3.5 Resource: Individual DCCF Data Subscription
##### 5.1.3.5.1 Description
The Individual DCCF Data Subscription resource represents a single data
subscription to the Ndccf_DataManagement Service at a given DCCF.
##### 5.1.3.5.2 Resource Definition
Resource URI: **{apiRoot}/ndccf-datamanagement/\ /data-
subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.1.3.5.2-1.
Table 5.1.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1 subscriptionId string Identifies a data
subscription to the Ndccf_DataManagement Service
##### 5.1.3.5.3 Resource Standard Methods
###### 5.1.3.5.3.1 PUT
This method shall support the URI query parameters specified in table
5.1.3.5.3.1-1.
Table 5.1.3.5.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.5.3.1-2 and the response data structures and response codes specified in
table 5.1.3.5.3.1-3.
Table 5.1.3.5.3.1-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
NdccfDataSubscription M 1 Parameters to replace a subscription to DCCF Data
Subscription resource.
Table 5.1.3.5.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NdccfDat | M | 1 | 200 OK | The | | aSubscription | | | | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | resource was | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | resource was | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.1.3.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 5.1.3.5.3.2 DELETE
This method shall support the URI query parameters specified in table
5.1.3.5.3.2-1.
Table 5.1.3.5.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.5.3.2-2 and the response data structures and response codes specified in
table 5.1.3.5.3.2-3.
Table 5.1.3.5.3.2-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 5.1.3.5.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | resource was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Subscription | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.1.3.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 5.1.3.5.4 Resource Custom Operations
None in this release of the specification.
### 5.1.4 Custom Operations without associated resources
None in this release of the specification.
### 5.1.5 Notifications
#### 5.1.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.1.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | Analytics | {anaNotifUri} | POST | Report one or | | Event | | | several | | Notification | | | observed | | | | | analytics | | | | | events. | +----------------+----------------+----------------+----------------+ | Data Event | {dataNotifUri} | POST | Report one or | | Notification | | | several | | | | | observed data | | | | | collection | | | | | events. | +----------------+----------------+----------------+----------------+ | Fetch | {fetchUri} | POST | Fetch one or | | Notification | | | several | | | | | notified data | | | | | or analytics. | +----------------+----------------+----------------+----------------+
#### 5.1.5.2 Analytics Notification
##### 5.1.5.2.1 Description
The Analytics Notification is used by the NF service producer to report one or
several observed analytics events to an NF service consumer that has
subscribed to such notifications.
##### 5.1.5.2.2 Target URI
The Callback URI **\"{anaNotifUri}\"** shall be used with the callback URI
variables defined in table 5.1.5.2.2-1.
Table 5.1.5.2.2-1: Callback URI variables
+-------------+-------------------------------------------------------+ | Name | Definition | +=============+=======================================================+ | anaNotifUri | String formatted as URI with the Callback Uri. | | | | | | The Callback Uri is assigned within the Individual | | | DCCF Analytics Subscription resource and described | | | within the NdccfAnalyticsSubscription type (see | | | table 5.1.6.2.2-1). | +-------------+-------------------------------------------------------+
##### 5.1.5.2.3 Standard Methods
##### 5.1.5.2.3.1 POST {#post-2 .H6}
This method shall support the request data structures specified in table
5.1.5.2.3.1-1 and the response data structures and response codes specified in
table 5.1.5.2.3.2-1.
Table 5.1.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
NdccfAnalyticsSubscriptionNotification M 1 Provides information about observed
analytics events
Table 5.1.5.2.3.1-2: Data structures supported by the POST Response Body
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The receipt of the Notification is acknowledged.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
the analytics event notification. The response shall include a Location header
field containing an alternative URI representing the end point of an
alternative NF consumer (service) instance where the notification should be
sent. RedirectResponse O 0..1 308 Permanent Redirect Permanent redirection,
during the analytics event notification. The response shall include a Location
header field containing an alternative URI representing the end point of an
alternative NF consumer (service) instance where the notification should be
sent. NOTE: The mandatory HTTP error status codes for the POST method listed
in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.
Table 5.1.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected.
* * *
Table 5.1.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected.
* * *
#### 5.1.5.3 Data Notification
##### 5.1.5.3.1 Description
The Data Notification is used by the NF service producer to report one or
several observed data collection events to an NF service consumer that has
subscribed to such notifications.
##### 5.1.5.3.2 Target URI
The Callback URI \"{dataNotifUri}\" shall be used with the callback URI
variables defined in table 5.1.5.3.2-1.
Table 5.1.5.3.2-1: Callback URI variables
+--------------+------------------------------------------------------+ | Name | Definition | +==============+======================================================+ | dataNotifUri | String formatted as URI with the Callback Uri. | | | | | | The Callback Uri is assigned within the Individual | | | DCCF Data Subscription resource and described within | | | the NdccfDataSubscription type (see | | | table 5.1.6.3.2-1). | +--------------+------------------------------------------------------+
##### 5.1.5.3.3 Standard Methods
###### 5.1.5.3.3.1 POST
This method shall support the request data structures specified in table
5.1.5.3.3.1-1 and the response data structures and response codes specified in
table 5.1.5.3.3.1-2.
Table 5.1.5.3.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
NdccfDataSubscriptionNotification M 1 Provides Information about observed data
collection events.
Table 5.1.5.3.3.1-2: Data structures supported by the POST Response Body
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The receipt of the notification is acknowledged.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
the data event notification. The response shall include a Location header
field containing an alternative URI representing the end point of an
alternative NF consumer (service) instance where the notification should be
sent. RedirectResponse O 0..1 308 Permanent Redirect Permanent redirection,
during the data event notification. The response shall include a Location
header field containing an alternative URI representing the end point of an
alternative NF consumer (service) instance where the notification should be
sent. NOTE: The mandatory HTTP error status codes for the POST method listed
in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.
Table 5.1.5.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected.
* * *
Table 5.1.5.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected.
* * *
#### 5.1.5.4 Fetch Notification
##### 5.1.5.4.1 Description
The Fetch Notification is used by the NF service consumer to retrieve data or
analytics from the DCCF.
##### 5.1.5.4.2 Target URI
The Callback URI **\"{fetchUri}\"** shall be used with the callback URI
variables defined in table 5.1.5.4.2-1.
Table 5.1.5.4.2-1: Callback URI variables
Name Data type Definition
* * *
fetchUri Uri Fetch Uri as assigned during the procedure of notification about
the subscribed data or analytics within the FetchInstruction data type.
##### 5.1.5.4.3 Standard Methods
###### 5.1.5.4.3.1 POST
This method shall support the URI query parameters specified in table
5.1.5.4.3.1-1.
Table 5.1.5.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.5.4.3.1-2 and the response data structures and response codes specified in
table 5.1.5.4.3.1-3.
Table 5.1.5.4.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description array(string) M 1..N Indicate the fetch
correlation identifier(s).
* * *
Table 5.1.5.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NdccfAnalyti | C | 0..1 | 200 OK | The stored | | csSubscriptio | | | | analytics | | nNotification | | | | related to | | | | | | the fetch | | | | | | correlation | | | | | | i | | | | | | dentifier(s). | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NdccfDa | C | 0..1 | 200 OK | The stored | | taSubscriptio | | | | data related | | nNotification | | | | to the fetch | | | | | | correlation | | | | | | i | | | | | | dentifier(s). | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: In | | | | | | case of a 200 | | | | | | OK response, | | | | | | one of | | | | | | NdccfAnalyti | | | | | | csSubscriptio | | | | | | nNotification | | | | | | data | | | | | | structure and | | | | | | NdccfDa | | | | | | taSubscriptio | | | | | | nNotification | | | | | | data | | | | | | structure | | | | | | shall be | | | | | | included, | | | | | | depending on | | | | | | if the Fetch | | | | | | Notification | | | | | | included | | | | | | fetch | | | | | | correlation | | | | | | identifiers | | | | | | from an | | | | | | analytics | | | | | | notification | | | | | | or from a | | | | | | data | | | | | | notification. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.5.4.3.1-4: Headers supported by the by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF. 3gpp-Sbi-Target-Nf-Id
string O 0..1 Identifier of the target NF (service) instance towards which the
request is redirected.
* * *
Table 5.1.5.4.3.1-5: Headers supported by the 308 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF. 3gpp-Sbi-Target-Nf-Id
string O 0..1 Identifier of the target NF (service) instance towards which the
request is redirected.
* * *
### 5.1.6 Data Model
#### 5.1.6.1 General
This clause specifies the application data model supported by the
Ndccf_DataManagement API.
Table 5.1.6.1-1 specifies the data types defined for the Ndccf_DataManagement
service based interface protocol.
Table 5.1.6.1-1: Ndccf_DataManagement specific Data Types
Data type Clause defined Description Applicability
* * *
AggregationLevel 5.1.6.3.4 Contains an aggregation level for processing
instructions (e.g. per UE, per Area of Interest).  
DataCollectionPurpose 5.1.6.3.5 Represents the purpose for data collection.  
DccfEvent 5.1.6.2.13 Represents the event type exposed by DCCF  
EventParamReport 5.1.6.2.10 Represents a summarized report for one event
parameter.  
FormattingInstruction 5.1.6.2.6 Contains data or analytics formatting
Instructions.  
NdccfAnalyticsSubscription 5.1.6.2.2 Represents an Individual DCCF Analytics
Subscription resource.  
NdccfAnalyticsSubscriptionNotification 5.1.6.2.4 Represents a notification
that corresponds with an Individual DCCF Analytics Subscription resource.  
NdccfDataSubscription 5.1.6.2.3 Represents an Individual DCCF Data
Subscription resource.  
NdccfDataSubscriptionNotification 5.1.6.2.5 Represents a notification that
corresponds with an Individual DCCF Data Subscription resource.  
NotifSummaryReport 5.1.6.2.9 Represents summarized notifications based on
processing instructions.  
ParameterProcessingInstruction 5.1.6.2.8 Contains an event parameter name and
the respective event parameter values and sets of attributes to be used in
summarized reports.  
ProcessingInstruction 5.1.6.2.7 Contains instructions related to the
processing (e.g. clubbing) of notifications.  
ReportingOptions 5.1.6.2.11 Represents reporting options for notifications
that are processed.  
SummarizationAttribute 5.1.6.3.3 Represents attribute in the summarized
report.
Table 5.1.6.1-2 specifies data types re-used by the Ndccf_DataManagement
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Ndccf_DataManagement service based
interface.
Table 5.1.6.1-2: Ndccf_DataManagement re-used Data Types
Data type Reference Comments Applicability
* * *
**AfEvent** **3GPP TS 29.517 [21]** **Represents an AF Event id**  
AmfEventType 3GPP TS 29.518 [19] Represents an AMF Event id  
DataSubscription 3GPP TS 29.575 [25] Represents a data subscription to one of
various possible data sources.  
DataNotification 3GPP TS 29.575 [25] Represents a data subscription
notification of one of various possible data sources.  
DateTime 3GPP TS 29.571 [17] Identifies the time.  
DurationSec 3GPP TS 29.571 [17] Time in seconds.  
EventType 3GPP TS 29.503 [20] Represents an UDM Event id  
FetchInstruction 3GPP TS 29.576 [26] The fetch instruction indicates whether
the data or analytics can be fetched by the consumer.  
NefEvent 3GPP TS 29.591 [22] Represents a NEF Event id  
NetworkAreaInfo 3GPP TS 29.554 [28] Identifies a network area.  
NfInstanceId 3GPP TS 29.571 [17] NF instance identifier.  
NfSetId 3GPP TS 29.571 [17] NF set identifier.  
NnwdafEventsSubscription 3GPP TS 29.520 [15] Represents a NWDAF analytics
subscription.  
NnwdafEventsSubscriptionNotification 3GPP TS 29.520 [15] Represents a NWDAF
analytics subscription notification.  
NumberAverage 3GPP TS 29.520 [15] Represents average and variance of a
parameter value.  
SACEvent 3GPP TS 29.536 [27] Represents a NSAC Event id  
SmfEvent 3GPP TS 29.508 [18] Represents a SMF Event id  
Supi 3GPP TS 29.571 [17] Contains a SUPI.  
SupportedFeatures 3GPP TS 29.571 [17] Used to negotiate the applicability of
the optional features defined in table 5.1.8-1.  
TimeWindow 3GPP TS 29.122 [23] Represents a time window.  
Uinteger 3GPP TS 29.571 [17] Unsigned Integer.  
Uri 3GPP TS 29.571 [17] URI.
#### 5.1.6.2 Structured data types
##### 5.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.1.6.2.2 Type NdccfAnalyticsSubscription
Table 5.1.6.2.2-1: Definition of type NdccfAnalyticsSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | anaSub | Nnwdaf | M | 1 | S | | | | EventsSub | | | ubscribed | | | | scription | | | analytics | | | | | | | events. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | an | Uri | M | 1 | Not | | | aNotifUri | | | | ification | | | | | | | target | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | anaNo | string | M | 1 | Not | | | tifCorrId | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | forma | For | O | 0..1 | F | | | tInstruct | mattingIn | | | ormatting | | | | struction | | | ins | | | | | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | proc | a | O | 1..N | P | | | Instructs | rray(Proc | | | rocessing | | | | essingIns | | | ins | | | | truction) | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | NfI | O | 0..1 | NF | | | argetNfId | nstanceId | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | to which | | | | | | | the DCCF | | | | | | | shall | | | | | | | create | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | targ | NfSetId | O | 0..1 | NF set | | | etNfSetId | | | | i | | | | | | | dentifier | | | | | | | to which | | | | | | | the DCCF | | | | | | | shall | | | | | | | create | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | adrfId | NfI | O | 0..1 | I | | | | nstanceId | | | dentifier | | | | | | | of the | | | | | | | ADRF to | | | | | | | be used | | | | | | | by the | | | | | | | DCCF. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | runtime | | | | | | | analytics | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | is either | | | | | | | absent or | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the | | | | | | | future) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | store the | | | | | | | noti | | | | | | | fications | | | | | | | in this | | | | | | | ADRF. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | h | | | | | | | istorical | | | | | | | analytics | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the past) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | retrieve | | | | | | | the data | | | | | | | from this | | | | | | | ADRF. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | adrfSetId | NfSetId | O | 0..1 | I | | | | | | | dentifier | | | | | | | of the | | | | | | | ADRF Set | | | | | | | to be | | | | | | | used by | | | | | | | the DCCF. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | runtime | | | | | | | analytics | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | is either | | | | | | | absent or | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the | | | | | | | future) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | store the | | | | | | | noti | | | | | | | fications | | | | | | | in this | | | | | | | ADRF Set. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | h | | | | | | | istorical | | | | | | | analytics | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the past) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | retrieve | | | | | | | the data | | | | | | | from this | | | | | | | ADRF Set. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.1.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | T | O | 0..1 | R | | | imePeriod | imeWindow | | | epresents | | | | | | | a start | | | | | | | time and | | | | | | | a stop | | | | | | | time | | | | | | | during | | | | | | | which the | | | | | | | analytics | | | | | | | was | | | | | | | performed | | | | | | | or is | | | | | | | requested | | | | | | | to be | | | | | | | p | | | | | | | erformed. | | | | | | | If this | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | then the | | | | | | | attribute | | | | | | | \ | | | | | | | "monDur\" | | | | | | | within | | | | | | | the | | | | | | | reporting | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | attribute | | | | | | | \ | | | | | | | "anaSub\" | | | | | | | shall not | | | | | | | be | | | | | | | provided. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | a | O | 1..N | The | | | ataCollec | rray(Data | | | purposes | | | tPurposes | Collectio | | | of data | | | | nPurpose) | | | co | | | | | | | llection. | | | | | | | This | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if user | | | | | | | consent | | | | | | | is | | | | | | | required | | | | | | | depending | | | | | | | on local | | | | | | | policy | | | | | | | and | | | | | | | re | | | | | | | gulations | | | | | | | and the | | | | | | | consumer | | | | | | | has not | | | | | | | checked | | | | | | | user | | | | | | | consent. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | \ | | | | | | | "notifica | | | | | | | tionURI\" | | | | | | | and | | | | | | | \"notif | | | | | | | CorreId\" | | | | | | | a | | | | | | | ttributes | | | | | | | of | | | | | | | Nnwdaf | | | | | | | EventsSub | | | | | | | scription | | | | | | | data type | | | | | | | shall be | | | | | | | ignored | | | | | | | by the | | | | | | | DCCF. The | | | | | | | DCCF will | | | | | | | provide | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | target | | | | | | | address | | | | | | | and the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID of the | | | | | | | DCCF | | | | | | | itself in | | | | | | | the | | | | | | | Nnwdaf | | | | | | | EventsSub | | | | | | | scription | | | | | | | data type | | | | | | | during | | | | | | | the event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | to the | | | | | | | NWDAF. | | | | | | | | | | | | | | NOTE 2: | | | | | | | It | | | | | | | includes | | | | | | | the time | | | | | | | period | | | | | | | either in | | | | | | | the past | | | | | | | or in the | | | | | | | future | | | | | | | (i.e., | | | | | | | start | | | | | | | time as | | | | | | | past time | | | | | | | and stop | | | | | | | time as | | | | | | | future | | | | | | | time is | | | | | | | not | | | | | | | allowed). | | | | | | | | | | | | | | NOTE 3: | | | | | | | \"tar | | | | | | | getNfId\" | | | | | | | and | | | | | | | \"target | | | | | | | NfSetId\" | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | \ | | | | | | | "adrfId\" | | | | | | | and | | | | | | | \"ad | | | | | | | rfSetId\" | | | | | | | are also | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.3 Type NdccfDataSubscription
Table 5.1.6.2.3-1: Definition of type NdccfDataSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | dataSub | DataSub | M | 1 | R | | | | scription | | | epresents | | | | | | | the | | | | | | | requested | | | | | | | events | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dat | Uri | M | 1 | Not | | | aNotifUri | | | | ification | | | | | | | target | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | dataNo | string | M | 1 | Not | | | tifCorrId | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | forma | For | O | 0..1 | F | | | tInstruct | mattingIn | | | ormatting | | | | struction | | | ins | | | | | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | proc | a | O | 1..N | P | | | Instructs | rray(Proc | | | rocessing | | | | essingIns | | | ins | | | | truction) | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | NfI | O | 0..1 | Data | | | argetNfId | nstanceId | | | Producer | | | | | | | NF | | | | | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | to which | | | | | | | the DCCF | | | | | | | shall | | | | | | | create | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | targ | NfSetId | O | 0..1 | Data | | | etNfSetId | | | | Producer | | | | | | | NF set | | | | | | | i | | | | | | | dentifier | | | | | | | to which | | | | | | | the DCCF | | | | | | | shall | | | | | | | create | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | adrfId | NfI | O | 0..1 | I | | | | nstanceId | | | dentifier | | | | | | | of the | | | | | | | ADRF to | | | | | | | be used | | | | | | | by the | | | | | | | DCCF. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | runtime | | | | | | | data | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | is either | | | | | | | absent or | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the | | | | | | | future) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | store the | | | | | | | noti | | | | | | | fications | | | | | | | in this | | | | | | | ADRF. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | h | | | | | | | istorical | | | | | | | data | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the past) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | retrieve | | | | | | | the data | | | | | | | from this | | | | | | | ADRF. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | adrfSetId | NfSetId | O | 0..1 | I | | | | | | | dentifier | | | | | | | of the | | | | | | | ADRF Set | | | | | | | to be | | | | | | | used by | | | | | | | the DCCF. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | runtime | | | | | | | data | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | is either | | | | | | | absent or | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the | | | | | | | future) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | store the | | | | | | | noti | | | | | | | fications | | | | | | | in this | | | | | | | ADRF Set. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for | | | | | | | h | | | | | | | istorical | | | | | | | data | | | | | | | (i.e. the | | | | | | | \"tim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | contains | | | | | | | a time | | | | | | | window in | | | | | | | the past) | | | | | | | then the | | | | | | | DCCF | | | | | | | shall | | | | | | | retrieve | | | | | | | the data | | | | | | | from this | | | | | | | ADRF Set. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.1.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | T | O | 0..1 | R | | | imePeriod | imeWindow | | | epresents | | | | | | | a start | | | | | | | time and | | | | | | | a stop | | | | | | | time | | | | | | | during | | | | | | | which | | | | | | | data was | | | | | | | collected | | | | | | | or is | | | | | | | requested | | | | | | | to be | | | | | | | c | | | | | | | ollected. | | | | | | | If this | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | then the | | | | | | | internal | | | | | | | a | | | | | | | ttributes | | | | | | | of the | | | | | | | data | | | | | | | sub | | | | | | | scription | | | | | | | that | | | | | | | indicate | | | | | | | a | | | | | | | sub | | | | | | | scription | | | | | | | duration | | | | | | | (e.g. the | | | | | | | \"targe | | | | | | | tPeriod\" | | | | | | | attribute | | | | | | | of an | | | | | | | \"ev | | | | | | | entSubs\" | | | | | | | attribute | | | | | | | of an | | | | | | | \"smf | | | | | | | DataSub\" | | | | | | | a | | | | | | | ttribute, | | | | | | | or the | | | | | | | \ | | | | | | | "monDur\" | | | | | | | attribute | | | | | | | of the | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | data | | | | | | | type) | | | | | | | shall not | | | | | | | be | | | | | | | provided. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | a | O | 1..N | The | | | ataCollec | rray(Data | | | purposes | | | tPurposes | Collectio | | | of data | | | | nPurpose) | | | co | | | | | | | llection. | | | | | | | This | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if user | | | | | | | consent | | | | | | | is | | | | | | | required | | | | | | | depending | | | | | | | on local | | | | | | | policy | | | | | | | and | | | | | | | re | | | | | | | gulations | | | | | | | and the | | | | | | | consumer | | | | | | | has not | | | | | | | checked | | | | | | | user | | | | | | | consent. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | not | | | | | | | ification | | | | | | | target | | | | | | | address | | | | | | | contained | | | | | | | in the | | | | | | | sub | | | | | | | scription | | | | | | | attribute | | | | | | | that is | | | | | | | provided | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | dataSub\" | | | | | | | attribute | | | | | | | (i.e. | | | | | | | \"eventNo | | | | | | | tifyUri\" | | | | | | | of | | | | | | | \"amfD | | | | | | | ataSub\", | | | | | | | \"n | | | | | | | otifUri\" | | | | | | | of | | | | | | | \"smfD | | | | | | | ataSub\", | | | | | | | \"c | | | | | | | allbackRe | | | | | | | ference\" | | | | | | | of | | | | | | | \"udmD | | | | | | | ataSub\", | | | | | | | \"n | | | | | | | otifUri\" | | | | | | | of | | | | | | | \"nefD | | | | | | | ataSub\", | | | | | | | \"n | | | | | | | otifUri\" | | | | | | | of | | | | | | | \"afD | | | | | | | ataSub\", | | | | | | | \"nfStatu | | | | | | | sNotifica | | | | | | | tionUri\" | | | | | | | of | | | | | | | \"nrfD | | | | | | | ataSub\", | | | | | | | or | | | | | | | \"eventNo | | | | | | | tifyUri\" | | | | | | | of | | | | | | | \"nsacfD | | | | | | | ataSub\") | | | | | | | and the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID | | | | | | | contained | | | | | | | in the | | | | | | | sub | | | | | | | scription | | | | | | | attribute | | | | | | | that is | | | | | | | provided | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | dataSub\" | | | | | | | attribute | | | | | | | (i.e. the | | | | | | | \"not | | | | | | | ifyCorrel | | | | | | | ationId\" | | | | | | | of | | | | | | | \"amfD | | | | | | | ataSub\", | | | | | | | \" | | | | | | | notifId\" | | | | | | | of | | | | | | | \"smfD | | | | | | | ataSub\", | | | | | | | \"not | | | | | | | ifyCorrel | | | | | | | ationId\" | | | | | | | of | | | | | | | \"udmD | | | | | | | ataSub\", | | | | | | | \" | | | | | | | notifId\" | | | | | | | of | | | | | | | \"nefD | | | | | | | ataSub\", | | | | | | | \" | | | | | | | notifId\" | | | | | | | of | | | | | | | \"afD | | | | | | | ataSub\", | | | | | | | or | | | | | | | \"not | | | | | | | ifyCorrel | | | | | | | ationId\" | | | | | | | of | | | | | | | \"nsacfD | | | | | | | ataSub\") | | | | | | | shall be | | | | | | | ignored | | | | | | | by the | | | | | | | DCCF. The | | | | | | | DCCF will | | | | | | | provide | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | target | | | | | | | address | | | | | | | and the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID of the | | | | | | | DCCF | | | | | | | itself in | | | | | | | the data | | | | | | | type | | | | | | | during | | | | | | | the event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | to each | | | | | | | NF. | | | | | | | | | | | | | | NOTE 2: | | | | | | | It | | | | | | | includes | | | | | | | the time | | | | | | | period | | | | | | | either in | | | | | | | the past | | | | | | | or in the | | | | | | | future | | | | | | | (i.e., | | | | | | | start | | | | | | | time as | | | | | | | past time | | | | | | | and stop | | | | | | | time as | | | | | | | future | | | | | | | time is | | | | | | | not | | | | | | | allowed). | | | | | | | | | | | | | | NOTE 3: | | | | | | | \"tar | | | | | | | getNfId\" | | | | | | | and | | | | | | | \"target | | | | | | | NfSetId\" | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | \ | | | | | | | "adrfId\" | | | | | | | and | | | | | | | \"ad | | | | | | | rfSetId\" | | | | | | | are also | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.4 Type NdccfAnalyticsSubscriptionNotification
Table 5.1.6.2.4-1: Definition of type NdccfAnalyticsSubscriptionNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | anaNoti | array(N | C | 1..N | List of | | | fications | nwdafEven | | | analytics | | | | tsSubscri | | | sub | | | | ptionNoti | | | scription | | | | fication) | | | notif | | | | | | | ications. | | | | | | | (NOTE 1, | | | | | | | NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | a | array(N | C | 1..N | List of | | | naReports | otifSumma | | | reports | | | | ryReport) | | | with | | | | | | | s | | | | | | | ummarized | | | | | | | data from | | | | | | | multiple | | | | | | | analytics | | | | | | | noti | | | | | | | fications | | | | | | | that the | | | | | | | DCCF has | | | | | | | received | | | | | | | from | | | | | | | NWDAF. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | fetc | FetchIn | C | 0..1 | Ins | | | hInstruct | struction | | | tructions | | | | | | | for the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | to fetch | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | itself. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | anaNo | string | M | 1 | Not | | | tifCorrId | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | termi | boolean | O | 0..1 | If | | | nationReq | | | | provided | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that the | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | te | | | | | | | rminated, | | | | | | | i.e. no | | | | | | | further | | | | | | | noti | | | | | | | fications | | | | | | | related | | | | | | | to this | | | | | | | sub | | | | | | | scription | | | | | | | will be | | | | | | | provided. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | It | | | | | | | r | | | | | | | epresents | | | | | | | the time | | | | | | | when DCCF | | | | | | | completed | | | | | | | pr | | | | | | | eparation | | | | | | | of the | | | | | | | requested | | | | | | | a | | | | | | | nalytics. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"fetchI | | | | | | | nstruct\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | included | | | | | | | in | | | | | | | N | | | | | | | dccf_Dat | | | | | | | aManageme | | | | | | | nt_Fetch | | | | | | | response | | | | | | | body. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | DCCF has | | | | | | | received | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | from | | | | | | | another | | | | | | | source | | | | | | | without a | | | | | | | t | | | | | | | imestamp, | | | | | | | then the | | | | | | | DCCF adds | | | | | | | itself a | | | | | | | timestamp | | | | | | | based on | | | | | | | the time | | | | | | | it | | | | | | | received | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | in | | | | | | | \"timeS | | | | | | | tampGen\" | | | | | | | attribute | | | | | | | contained | | | | | | | in | | | | | | | \" | | | | | | | dataNotif | | | | | | | ication\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | EventNot | | | | | | | ification | | | | | | | data type | | | | | | | in the | | | | | | | NnwdafEve | | | | | | | ntsSubscr | | | | | | | iptionNot | | | | | | | ification | | | | | | | data | | | | | | | type. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.5 Type NdccfDataSubscriptionNotification
Table 5.1.6.2.5-1: Definition of type NdccfDataSubscriptionNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | dataNotif | DataNot | C | 0..1 | Data | | | | ification | | | sub | | | | | | | scription | | | | | | | noti | | | | | | | fication. | | | | | | | (NOTE 1, | | | | | | | NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | da | array(N | C | 1..N | List of | | | taReports | otifSumma | | | reports | | | | ryReport) | | | with | | | | | | | s | | | | | | | ummarized | | | | | | | data from | | | | | | | multiple | | | | | | | noti | | | | | | | fications | | | | | | | received | | | | | | | from data | | | | | | | producer. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | fetc | FetchIn | C | 0..1 | Ins | | | hInstruct | struction | | | tructions | | | | | | | for the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | to fetch | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | itself. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | dataNo | string | M | 1 | Not | | | tifCorrId | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | termi | boolean | O | 0..1 | If | | | nationReq | | | | provided | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that the | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | te | | | | | | | rminated, | | | | | | | i.e. no | | | | | | | further | | | | | | | noti | | | | | | | fications | | | | | | | related | | | | | | | to this | | | | | | | sub | | | | | | | scription | | | | | | | will be | | | | | | | provided. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | It | | | | | | | r | | | | | | | epresents | | | | | | | the time | | | | | | | when DCCF | | | | | | | completed | | | | | | | pr | | | | | | | eparation | | | | | | | of the | | | | | | | requested | | | | | | | a | | | | | | | nalytics. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"fetchI | | | | | | | nstruct\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | included | | | | | | | in the | | | | | | | response | | | | | | | body of a | | | | | | | Fetch | | | | | | | o | | | | | | | peration. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | DCCF has | | | | | | | received | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | from | | | | | | | another | | | | | | | source | | | | | | | without a | | | | | | | t | | | | | | | imestamp, | | | | | | | then the | | | | | | | DCCF adds | | | | | | | itself a | | | | | | | timestamp | | | | | | | based on | | | | | | | the time | | | | | | | it | | | | | | | received | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | in the | | | | | | | \"ti | | | | | | | meStamp\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | DataNot | | | | | | | ification | | | | | | | data | | | | | | | type. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.6 Type FormattingInstruction
Table 5.1.6.2.6-1: Definition of type FormattingInstruction
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | cons | boolean | O | 0..1 | If | | | TrigNotif | | | | provided | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that | | | | | | | noti | | | | | | | fications | | | | | | | shall be | | | | | | | buffered | | | | | | | (sending | | | | | | | only | | | | | | | fetch | | | | | | | ins | | | | | | | tructions | | | | | | | to the NF | | | | | | | service | | | | | | | consumer) | | | | | | | until the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | requests | | | | | | | their | | | | | | | delivery | | | | | | | using | | | | | | | Ndc | | | | | | | cf_DataM | | | | | | | anagement | | | | | | | or | | | | | | | Nmfaf\ | | | | | | | _3caDataM | | | | | | | anagement | | | | | | | Service. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | reporti | Reporti | O | 0..1 | This | | | ngOptions | ngOptions | | | attribute | | | | | | | is | | | | | | | provided | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | requires | | | | | | | clubbing | | | | | | | of | | | | | | | noti | | | | | | | fications | | | | | | | and its | | | | | | | contents | | | | | | | describe | | | | | | | how the | | | | | | | noti | | | | | | | fications | | | | | | | shall be | | | | | | | clubbed, | | | | | | | i.e. when | | | | | | | they | | | | | | | should be | | | | | | | sent. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.7 Type ProcessingInstruction
Table 5.1.6.2.7-1: Definition of type ProcessingInstruction
Attribute name Data type P Cardinality Description Applicability
* * *
eventId DccfEvent M 1 Identifies the (event exposure or analytics) event that
the processing instructions apply to.  
procInterval DurationSec M 1 Indicates the interval (in seconds) over which
the processing of data for inclusion in each notification sent to consumers
shall occur.  
paramProcInstructs array(ParameterProcessingInstruction) O 1..N List of event
parameter name(s), and for each event parameter name, respective event
parameter values and sets of the attributes to be used in the summarized
reports.
##### 5.1.6.2.8 Type ParameterProcessingInstruction
Table 5.1.6.2.8-1: Definition of type ParameterProcessingInstruction
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | name | string | M | 1 | This | | | | | | | attribute | | | | | | | contains | | | | | | | a JSON | | | | | | | pointer | | | | | | | value (as | | | | | | | defined | | | | | | | in | | | | | | | IET | | | | | | | F RFC 690 | | | | | | | 1 [24]) | | | | | | | that | | | | | | | r | | | | | | | eferences | | | | | | | an | | | | | | | a | | | | | | | ttribute, | | | | | | | i.e. a | | | | | | | target | | | | | | | location, | | | | | | | within | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | object | | | | | | | (e.g. of | | | | | | | NefE | | | | | | | ventExpos | | | | | | | ureNotif, | | | | | | | AfE | | | | | | | ventExpos | | | | | | | ureNotif, | | | | | | | Amf | | | | | | | EventNoti | | | | | | | fication, | | | | | | | Nsm | | | | | | | fEventExp | | | | | | | osureNoti | | | | | | | fication, | | | | | | | Monitori | | | | | | | ngReport, | | | | | | | Notifica | | | | | | | tionData, | | | | | | | or | | | | | | | SACEv | | | | | | | entReport | | | | | | | data | | | | | | | type) to | | | | | | | which the | | | | | | | p | | | | | | | rocessing | | | | | | | in | | | | | | | struction | | | | | | | is | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | values | array(Any | M | 1..N | A list of | | | | type) | | | values | | | | | | | for the | | | | | | | attribute | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \"name\" | | | | | | | a | | | | | | | ttribute, | | | | | | | which | | | | | | | shall be | | | | | | | matched | | | | | | | with | | | | | | | values | | | | | | | contained | | | | | | | in the | | | | | | | noti | | | | | | | fications | | | | | | | received | | | | | | | and | | | | | | | s | | | | | | | ummarized | | | | | | | by the | | | | | | | DCCF. | | | | | | | | | | | | | | The data | | | | | | | type of | | | | | | | the | | | | | | | elements | | | | | | | of the | | | | | | | list | | | | | | | shall be | | | | | | | the same | | | | | | | as the | | | | | | | type of | | | | | | | the | | | | | | | attribute | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \"name\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | sumAttrs | ar | M | 1..N | A | | | | ray(Summa | | | ttributes | | | | rizationA | | | requested | | | | ttribute) | | | to be | | | | | | | used in | | | | | | | the | | | | | | | s | | | | | | | ummarized | | | | | | | reports. | | +-----------+-----------+---+-----------+-----------+-----------+ | aggrLevel | Aggrega | O | 0..1 | Indicates | | | | tionLevel | | | the | | | | | | | ag | | | | | | | gregation | | | | | | | level to | | | | | | | which the | | | | | | | p | | | | | | | rocessing | | | | | | | ins | | | | | | | tructions | | | | | | | shall | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | supis | ar | O | 1..N | Indicates | | | | ray(Supi) | | | the UEs | | | | | | | for which | | | | | | | processed | | | | | | | reports | | | | | | | are | | | | | | | r | | | | | | | equested. | | | | | | | It may be | | | | | | | provided | | | | | | | only if | | | | | | | \"ag | | | | | | | grLevel\" | | | | | | | is | | | | | | | provided | | | | | | | and is | | | | | | | set to | | | | | | | the value | | | | | | | \"UE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | areas | arra | C | 1..N | Indicates | | | | y(Network | | | the Areas | | | | AreaInfo) | | | of | | | | | | | Interest | | | | | | | for which | | | | | | | processed | | | | | | | reports | | | | | | | are | | | | | | | r | | | | | | | equested. | | | | | | | It shall | | | | | | | be | | | | | | | provided | | | | | | | only if | | | | | | | \"ag | | | | | | | grLevel\" | | | | | | | is | | | | | | | provided | | | | | | | and is | | | | | | | set to | | | | | | | the value | | | | | | | \"AOI\". | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.9 Type NotifSummaryReport
Table 5.1.6.2.9-1: Definition of type NotifSummaryReport
Attribute name Data type P Cardinality Description Applicability
* * *
eventId DccfEvent M 1 Identifies the (event exposure or analytics) event that
this report applies to.  
procInterval DurationSec M 1 Indicates the interval (in seconds) over which
the processing of data for inclusion in this report occurred.  
eventReports array(EventParamReport) M 1..N List of event parameter reports.
##### 5.1.6.2.10 Type EventParamReport
Table 5.1.6.2.10-1: Definition of type EventParamReport
Attribute name Data type P Cardinality Description Applicability
* * *
name string M 1 The name of the reported parameter.  
values array(Any type) M 1..N The list of values of the reported parameter.  
supi Supi C 0..1 Indicates the UE that this report is for. It shall be
provided if the \"aggrLevel\" of the instructions had the value \"UE\".  
area NetworkAreaInfo C 0..1 Indicates the Area of Interest that this report is
for. It shall be provided if the \"aggrLevel\" of the instructions had the
value \"AOI\".  
spacing NumberAverage C 0..1 Contains the average and variance of the time
interval separating two consecutive occurrences of the same event and
parameter value. It shall be provided if available and the \"SPACING\" value
was contained in the \"paramProcInstructs\" attribute of the instructions.  
duration NumberAverage C 0..1 Contains the average and variance of time for
which the parameter value applies. It shall be provided if available and the
\"DURATION\" value was contained in the \"paramProcInstructs\" attribute of
the instructions.  
count Uinteger C 0..1 Represents the number of countable occurrences for the
parameter. It shall be provided if available and the \"OCCURRENCES\" value was
contained in the \"paramProcInstructs\" attribute of the instructions.  
avgAndVar NumberAverage C 0..1 Contains the average and variance of the
parameter value. It shall be provided if available and the \"AVG_VAR\" value
was contained in the \"paramProcInstructs\" attribute of the instructions.  
mostFreqVal Any type C 0..1 Contains the most frequent value among the
elements of the reported \"values\" attribute. It shall be provided if
available and the \"FREQ_VAL\" value was contained in the
\"paramProcInstructs\" attribute of the instructions.  
leastFreqVal Any type C 0..1 Contains the least frequent value among the
elements of the reported \"values\" attribute. It shall be provided if
available and the \"FREQ_VAL\" value was contained in the
\"paramProcInstructs\" attribute of the instructions.  
minValue string C 0..1 Identifies the minimum value of the parameter. It shall
be provided if available and the \"MIN_MAX\" value was contained in the
\"paramProcInstructs\" attribute of the instructions.  
maxValue string C 0..1 Identifies the maximum value of the parameter. It shall
be provided if available and the \"MIN_MAX\" value was contained in the
\"paramProcInstructs\" attribute of the instructions.
##### 5.1.6.2.11 Type ReportingOptions
Table 5.1.6.2.11-1: Definition of type ReportingOptions
Attribute name Data type P Cardinality Description Applicability
* * *
notifyWindow TimeWindow C 0..1 Represents a start time and a stop time during
which notifications shall be sent. (NOTE)  
notifyPeriod DurationSec C 0..1 Indicates the period (in seconds) with which
notifications are sent to the consumer, irrespective of whether the event
occurs (e.g. every 30 minutes). (NOTE)  
notifyPeriodInc DurationSec C 0..1 Indicates the time interval (in seconds)
between the first two notifications (where the first one is sent upon event
occurrence), and that the time interval between subsequent notifications shall
be increased each time by the value of this attribute. (NOTE)  
depEventSubId string C 0..1 Notifications for the present subscription are
sent only upon occurrence of events of the subscription with identifier that
matches this attribute. (NOTE)  
minClubbedNotif Uinteger O 0..1 Indicates the minimum number of clubbed
notifications.  
maxClubbedNotif Uinteger O 0..1 Indicates the maximum number of clubbed
notifications.  
NOTE: Exactly one of these attributes shall be provided.
##### 5.1.6.2.12 Void
##### 5.1.6.2.13 DccfEvent
Table 5.1.6.2.13-1: Definition of type DccfEvent
Attribute name Data type P Cardinality Description Applicability
* * *
nwdafEvent NwdafEvent C 0..1 Identifies the (event exposure or analytics)
NWDAF event ID that the processing instructions apply to. (NOTE)  
smfEvent SmfEvent C 0..1 Identifies the (event exposure or analytics) SMF
event ID that the processing instructions apply to. (NOTE)  
amfEvent AmfEventType C 0..1 Identifies the (event exposure or analytics) AMF
event ID that the processing instructions apply to. (NOTE)  
nefEvent NefEvent C 0..1 Identifies the (event exposure or analytics) NEF
event ID that the processing instructions apply to. (NOTE)  
udmEvent EventType C 0..1 Identifies the (event exposure or analytics) UDM
event ID that the processing instructions apply to. (NOTE)  
afEvent AfEvent C 0..1 Identifies the (event exposure or analytics) AF event
ID that the processing instructions apply to. (NOTE)  
sacEvent SACEvent C 0..1 Identifies the (event exposure or analytics) NSACF
event ID that the processing instructions apply to. (NOTE)  
nrfEvent NotificationEventType C 0..1 Identifies the (event exposure or
analytics) NRF event ID that the processing instructions apply to. (NOTE)  
NOTE: Exactly one of these attributes shall be provided.
#### 5.1.6.3 Simple data types and enumerations
##### 5.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.1.6.3.2 Simple data types
The simple data types defined in table 5.1.6.3.2-1 shall be supported.
Table 5.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability n/a
* * *
##### 5.1.6.3.3 Enumeration: SummarizationAttribute
Table 5.1.6.3.3-1: Enumeration SummarizationAttribute
Enumeration value Description Applicability
* * *
SPACING Average and variance of the time interval separating two consecutive
occurrences of the same event and parameter value, or periodicity for periodic
reporting.  
DURATION Average and variance of the time for which the parameter value
applies.  
OCCURRENCES Number of countable occurrences for the parameter.  
AVG_VAR Average and variance of the parameter.  
FREQ_VAL Most and least frequent values.  
MIN_MAX Maximum and minimum parameter values.
##### 5.1.6.3.4 Enumeration: AggregationLevel
Table 5.1.6.3.4-1: Enumeration AggregationLevel
Enumeration value Description Applicability
* * *
UE Indicates that the summarized reports shall be provided per UE.  
AOI Indicates that the summarized reports shall be provided per Area of
Interest.
##### 5.1.6.3.5 Enumeration: DataCollectionPurpose
Table 5.1.6.3.5-1: Enumeration DataCollectionPurpose
**Enumeration value** **Description** **Applicability**
* * *
ANALYTICS_GENERATION The data is collected for generating the analytics.  
MODEL_TRAINING The data is collected for ML model training.
#### 5.1.6.4 Data types describing alternative data types or combinations of
data types
None in this release of the specification.
#### 5.1.6.5 Binary data
None in this release of the specification.
### 5.1.7 Error Handling
#### 5.1.7.1 General
For the Ndccf_DataManagement API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Ndccf_DataManagement API.
#### 5.1.7.2 Protocol Errors
No specific procedures for the Ndccf_DataManagement service are specified.
#### 5.1.7.3 Application Errors
The application errors defined for the Ndccf_DataManagement service are listed
in Table 5.1.7.3-1.
Table 5.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
SUBSCRIPTION_CANNOT_BE_SERVED 400 Bad Request Indicates that the DCCF cannot
use the contents of the request to either a) determine whether the
subscription can already be served or interactions with the NWDAF and/or ADRF
are required or b) determine what interactions with the NWDAF and/or ADRF are
required (if it has determined that they are required).
### 5.1.8 Feature negotiation
The optional features in table 5.1.8-1 are defined for the
Ndccf_DataManagement API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
Table 5.1.8-1: Supported Features
Feature number Feature Name Description
* * *
### 5.1.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Ndccf_DataManagement API may be authorized by means of the OAuth2 protocol
(see IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Ndccf_DataManagement API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Ndccf_DataManagement service.
The Ndccf_DataManagement API defines a single scope \"ndccf-datamanagement\"
for the entire service, and it does not define any additional scopes at
resource or operation level.
## 5.2 Ndccf_ContextManagement Service API
### 5.2.1 Introduction
The Ndccf_ContextManagement shall use the Ndccf_ContextManagement API.
The API URI of the Ndccf_ContextManagement API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"ndccf-contextmanagement\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.2.3.
### 5.2.2 Usage of HTTP
#### 5.2.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Ndccf_ContextManagement API is contained in Annex A.
#### 5.2.2.2 HTTP standard headers
##### 5.2.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.2.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.2.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
### 5.2.3 Resources
#### 5.2.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.2.3.1-1 depicts the resource URIs structure for the
Ndccf_ContextManagement API.
Figure 5.2.3.1-1: Resource URI structure of the Ndccf_ContextManagement API
Table 5.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.2.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
DCCF Data Collection Profiles /data-collection-profiles POST Creates a new
Individual DCCF Data Collection Profile resource. Individual DCCF Data
Collection Profile /data-collection-profiles/{profileId} PUT Modifies an
existing Individual DCCF Data Collection Profile resource. DELETE Deletes an
Individual DCCF Data Collection Profile identified by {profileId}.
#### 5.2.3.2 Resource: DCCF Data Collection Profiles
##### 5.2.3.2.1 Description
The DCCF Data Collection Profiles resource represents all data collection
profiles that exist in the Ndccf_ContextManagement service at a given DCCF.
##### 5.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/ndccf-contextmanagement/v\ /data-
collection-profiles**
This resource shall support the resource URI variables defined in table
5.2.3.2.2-1.
Table 5.2.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.2.1
##### 5.2.3.2.3 Resource Standard Methods
##### 5.2.3.2.3.1 POST {#post-5 .H6}
This method shall support the URI query parameters specified in table
5.2.3.2.3.1-1.
Table 5.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.2.3.2.3.1-2 and the response data structures and response codes specified in
table 5.2.3.2.3.1-3.
Table 5.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description NdccfDataCollectionProfile M 1 New
Individual DCCF Data Collection Profile resource to be created
* * *
Table 5.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | NdccfDataColl | M | 1 | 201 Created | The creation | | ectionProfile | | | | of an | | | | | | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | resource is | | | | | | confirmed and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.2.3.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/ndccf-
contextmanagement/\/data-collection-profiles/{profileId}
* * *
##### 5.2.3.2.4 Resource Custom Operations
None in this release of the specification.
#### 5.2.3.3 Resource: Individual DCCF Data Collection Profile
##### 5.2.3.3.1 Description
The Individual DCCF Data Collection Profile resource represents a single data
collection profile to the Ndccf_ContextManagement service at a given DCCF.
##### 5.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/ndccf-contextmanagement/\ /data-
collection-profiles/{profileId}**
This resource shall support the resource URI variables defined in table
5.2.3.3.2-1.
Table 5.2.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1 profileId string Identifies a data collection
profile to the Ndccf_ContextManagement Service
##### 5.2.3.3.3 Resource Standard Methods
###### 5.2.3.3.3.1 PUT
This method shall support the URI query parameters specified in table
5.2.3.3.3.1-1.
Table 5.2.3.3.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.2.3.3.3.1-2 and the response data structures and response codes specified in
table 5.2.3.3.3.1-3.
Table 5.2.3.3.3.1-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
NdccfDataCollectionProfile M 1 Parameters to replace Individual DCCF Data
Collection Profile resource.
Table 5.2.3.3.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NdccfDataColl | M | 1 | 200 OK | The | | ectionProfile | | | | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | resource was | | | | | | modified | | | | | | successfully, | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | resource was | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 5.2.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
5.2.3.3.3.2-1.
Table 5.2.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.2.3.3.3.2-2 and the response data structures and response codes specified in
table 5.2.3.3.3.2-3.
Table 5.2.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 5.2.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | resource was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | DCCF Data | | | | | | Collection | | | | | | Profile | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | DCCF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.2.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.2.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative DCCF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 5.2.3.3.4 Resource Custom Operations
None in this release of the specification.
### 5.2.4 Custom Operations without associated resources
None in this release of the specification.
### 5.2.5 Notifications
None in this release of the specification.
### 5.2.6 Data Model
#### 5.2.6.1 General
This clause specifies the application data model supported by the
Ndccf_ContextManagement API.
Table 5.2.6.1-1 specifies the data types defined for the
Ndccf_ContextManagement service based interface protocol.
Table 5.2.6.1-1: Ndccf_ContextManagement specific Data Types
Data type Clause defined Description Applicability
* * *
NdccfDataCollectionProfile 5.2.6.2.2 Represents an Individual DCCF Data
Collection Profile resource.
Table 5.2.6.1-2 specifies data types re-used by the Ndccf_ContextManagement
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Ndccf_ContextManagement service based
interface.
Table 5.2.6.1-2: Ndccf_ContextManagement re-used Data Types
Data type Reference Comments Applicability
* * *
DataSubscription 3GPP TS 29.575 [25] Represents a data subscription to one of
various possible data sources.  
NfInstanceId 3GPP TS 29.571 [17] NF instance identifier.  
NfSetId 3GPP TS 29.571 [17] NF Set identifier.  
NnwdafEventsSubscription 3GPP TS 29.520 [15] Represents an NWDAF analytics
subscription.
#### 5.2.6.2 Structured data types
##### 5.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.2.6.2.2 Type: NdccfDataCollectionProfile
Table 5.2.6.2.2-1: Definition of type NdccfDataCollectionProfile
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | anaSub | Nnwdaf | C | 0..1 | Repre | | | | EventsSub | | | sentation | | | | scription | | | of the | | | | | | | analytics | | | | | | | events | | | | | | | sub | | | | | | | scription | | | | | | | that is | | | | | | | used to | | | | | | | collect | | | | | | | a | | | | | | | nalytics. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dataSub | DataSub | C | 0..1 | Repre | | | | scription | | | sentation | | | | | | | of the | | | | | | | data | | | | | | | sub | | | | | | | scription | | | | | | | that is | | | | | | | used to | | | | | | | collect | | | | | | | data. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | nwdafId | NfI | C | 0..1 | NF | | | | nstanceId | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | NWDAF | | | | | | | that this | | | | | | | data | | | | | | | c | | | | | | | ollection | | | | | | | profile | | | | | | | belongs | | | | | | | to. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | adrfId | NfI | C | 0..1 | NF | | | | nstanceId | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | ADRF that | | | | | | | this data | | | | | | | c | | | | | | | ollection | | | | | | | profile | | | | | | | belongs | | | | | | | to. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | NfSetId | C | 0..1 | I | | | wdafSetId | | | | dentifier | | | | | | | of the | | | | | | | set of | | | | | | | the NWDAF | | | | | | | that this | | | | | | | data | | | | | | | c | | | | | | | ollection | | | | | | | profile | | | | | | | belongs | | | | | | | to. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | adrfSetId | NfSetId | C | 0..1 | I | | | | | | | dentifier | | | | | | | of the | | | | | | | set of | | | | | | | the ADRF | | | | | | | that this | | | | | | | data | | | | | | | c | | | | | | | ollection | | | | | | | profile | | | | | | | belongs | | | | | | | to. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Only one | | | | | | | of these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Only one | | | | | | | of these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.2.6.3 Simple data types and enumerations
##### 5.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.2.6.3.2 Simple data types
The simple data types defined in table 5.2.6.3.2-1 shall be supported.
Table 5.2.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
#### 5.2.6.4 Data types describing alternative data types or combinations of
data types
None in this release of the specification.
#### 5.2.6.5 Binary data
None in this release of the specification.
### 5.2.7 Error Handling
#### 5.2.7.1 General
For the Ndccf_ContextManagement API, HTTP error responses shall be supported
as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and
application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be
supported for an HTTP method if the corresponding HTTP status codes are
specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS
29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Ndccf_ContextManagement API.
#### 5.2.7.2 Protocol Errors
No specific procedures for the Ndccf_ContextManagement service are specified.
#### 5.2.7.3 Application Errors
The application errors defined for the Ndccf_ContextManagement service are
listed in Table 5.2.7.3-1.
Table 5.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 5.2.8 Feature negotiation
The optional features in table 5.2.8-1 are defined for the
Ndccf_ContextManagement API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
Table 5.2.8-1: Supported Features
Feature number Feature Name Description
* * *
### 5.2.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Ndccf_ContextManagement API may be authorized by means of the OAuth2 protocol
(see IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Ndccf_ContextManagement API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Ndccf_ContextManagement service.
The Ndccf_ContextManagement API defines a single scope \"ndccf-
contextmanagement\" for the entire service, and it does not define any
additional scopes at resource or operation level.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the API(s) defined in the
present specification. It consists of OpenAPI specifications in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [7] clause 5B).
# A.2 Ndccf_DataManagement API
openapi: 3.0.0
info:
version: 1.0.2
title: Ndccf_DataManagement
description: \|
DCCF Data Management Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.574 V17.3.0; 5G System; Data Collection Coordination
Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.574/\'
#
servers:
\- url: \'{apiRoot}/ndccf-datamanagement/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
#
security:
\- oAuth2ClientCredentials:
\- ndccf-datamanagement
\- {}
#
paths:
/analytics-subscriptions:
post:
summary: Creates a new Individual DCCF Analytics Subscription resource.
operationId: CreateDCCFAnalyticsSubscription
tags:
\- DCCF Analytics Subscriptions (Collection)
requestBody:
description: Contains the information for the creation the resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscription\'
required: true
responses:
\'201\':
description: Create a new Individual DCCF Analytics Subscription resource.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/ndccf-datamanagement/\/analytics-
subscriptions/{subscriptionId}
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscription\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
dccfAnalyticsNotification:
\'{\$request.body#/anaNotifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscriptionNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
Fetch:
\'{request.body#/fetchInstruct/fetchUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
type: string
minItems: 1
description: Fetch correlation identifiers.
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscriptionNotification\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/analytics-subscriptions/{subscriptionId}:
delete:
summary: Deletes an existing Individual DCCF Data Subscription.
operationId: DeleteDCCFAnalyticsSubscription
tags:
\- Individual DCCF Analytics Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: >
String identifying an analytics subscription to the Ndccf_DataManagement
Service.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual DCCF Analytics Subscription resource matching the
subscriptionId was deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Updates an existing Individual DCCF Analytics Subscription resource.
operationId: UpdateDCCFAnalyticsSubscription
tags:
\- Individual DCCF Analytics Subscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscription\'
parameters:
\- name: subscriptionId
in: path
description: >
String identifying an analytics subscription to the Ndccf_DataManagement
Service.
required: true
schema:
type: string
responses:
\'200\':
description: >
The Individual DCCF Analytics Subscription resource was modified successfully
and a
representation of that resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscription\'
\'204\':
description: >
The Individual DCCF Analytics Subscription resource was modified successfully.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/data-subscriptions:
post:
summary: Creates a new Individual DCCF Data Subscription resource.
operationId: CreateDCCFDataSubscription
tags:
\- DCCF Data Subscriptions (Collection)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataSubscription\'
required: true
responses:
\'201\':
description: Creates a new Individual DCCF Data Subscription resource.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/ndccf-datamanagement/\/data-
subscriptions/{subscriptionId}
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataSubscription\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
dccfDataNotification:
\'{\$request.body#/dataNotifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataSubscriptionNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
Fetch:
\'{request.body#/fetchInstruct/fetchUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
type: string
minItems: 1
description: Fetch correlation identifiers.
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfAnalyticsSubscriptionNotification\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/data-subscriptions/{subscriptionId}:
delete:
summary: Deletes an existing Individual DCCF Data Subscription resource.
operationId: DeleteDCCFDataSubscription
tags:
\- Individual DCCF Data Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying a data subscription to the
Ndccf_DataManagement Service.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual DCCF Data Subscription resource matching the
subscriptionId
was deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Updates an existing Individual DCCF Data Subscription resource.
operationId: UpdateDCCFDataSubscription
tags:
\- Individual DCCF Data Subscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataSubscription\'
parameters:
\- name: subscriptionId
in: path
description: >
String identifying a data subscription to the Ndccf_DataManagement Service.
required: true
schema:
type: string
responses:
\'200\':
description: >
The Individual DCCF Data Subscription resource was modified successfully and a
representation of that resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataSubscription\'
\'204\':
description: >
The Individual DCCF Data Subscription resource was modified successfully.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
#
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
ndccf-datamanagement: Access to the ndccf-datamanagement API
#
schemas:
#
NdccfAnalyticsSubscription:
description: Represents an Individual DCCF Analytics Subscription.
type: object
required:
\- anaSub
\- anaNotifUri
\- anaNotifCorrId
properties:
anaSub:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
anaNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
anaNotifCorrId:
type: string
description: Notification correlation identifier.
formatInstruct:
\$ref: \'#/components/schemas/FormattingInstruction\'
procInstructs:
type: array
items:
\$ref: \'#/components/schemas/ProcessingInstruction\'
minItems: 1
description: Processing instructions to be used for sending event
notifications.
targetNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
targetNfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
adrfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
ardfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
timePeriod:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
dataCollectPurposes:
type: array
items:
\$ref: \'#/components/schemas/DataCollectionPurpose\'
minItems: 1
description: >
The purposes of data collection. This attribute may only be provided if user
consent is
required depending on local policy and regulations and the consumer has not
checked user consent.
#
NdccfDataSubscription:
description: Represents an Individual DCCF Data Subscription.
type: object
required:
\- dataNotifUri
\- dataNotifCorrId
\- dataSub
properties:
dataSub:
\$ref:
\'TS29575_Nadrf_DataManagement.yaml#/components/schemas/DataSubscription\'
dataNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
dataNotifCorrId:
type: string
description: Notification correlation identifier.
formatInstruct:
\$ref: \'#/components/schemas/FormattingInstruction\'
procInstructs:
type: array
items:
\$ref: \'#/components/schemas/ProcessingInstruction\'
minItems: 1
description: Processing instructions to be used for sending event
notifications.
targetNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
targetNfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
adrfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
ardfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
timePeriod:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
dataCollectPurposes:
type: array
items:
\$ref: \'#/components/schemas/DataCollectionPurpose\'
minItems: 1
description: >
The purposes of data collection. This attribute may only be provided if user
consent
is required depending on local policy and regulations and the consumer has not
checked user consent.
#
NdccfAnalyticsSubscriptionNotification:
description: Represents a notification for a DCCF analytics subscription.
type: object
required:
\- anaNotifCorrId
\- timeStamp
oneOf:
\- required: [anaNotifications]
\- required: [anaReports]
\- required: [fetchInstruct]
properties:
anaNotifCorrId:
type: string
description: Notification correlation identifier.
anaNotifications:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscriptionNotification\'
minItems: 1
description: List of analytics subscription notifications.
anaReports:
type: array
items:
\$ref: \'#/components/schemas/NotifSummaryReport\'
minItems: 1
description: >
List of reports with summarized data from multiple analytics notifications
that the DCCF
has received from NWDAF.
fetchInstruct:
\$ref:
\'TS29576_Nmfaf_3caDataManagement.yaml#/components/schemas/FetchInstruction\'
terminationReq:
type: boolean
description: >
If provided and set to true, it indicates the termination of the data
management
subscription that requested by the DCCF, i.e. no further notifications related
to this
subscription will be provided, apart from sending final report (if available).
The default value is false.
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
#
NdccfDataSubscriptionNotification:
description: Represents a notification for a DCCF data subscription.
type: object
required:
\- dataNotifCorrId
\- timeStamp
oneOf:
\- required: [dataNotif]
\- required: [dataReports]
\- required: [fetchInstruct]
properties:
dataNotifCorrId:
type: string
description: Notification correlation identifier.
dataNotif:
\$ref:
\'TS29575_Nadrf_DataManagement.yaml#/components/schemas/DataNotification\'
dataReports:
type: array
items:
\$ref: \'#/components/schemas/NotifSummaryReport\'
minItems: 1
description: >
List of reports with summarized data from multiple notifications received from
data
producer.
fetchInstruct:
\$ref:
\'TS29576_Nmfaf_3caDataManagement.yaml#/components/schemas/FetchInstruction\'
terminationReq:
type: boolean
description: >
If provided and set to true, it indicates the termination of the data
management
subscription that requested by the DCCF, i.e. no further notifications related
to this
subscription will be provided, apart from sending final report (if available).
The default value is false.
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
#
FormattingInstruction:
description: Contains data or analytics formatting instructions.
type: object
properties:
consTrigNotif:
type: boolean
description: >
Indicates that notifications shall be buffered until the NF service consumer
requests
their delivery.
reportingOptions:
\$ref: \'#/components/schemas/ReportingOptions\'
#
ReportingOptions:
description: Represents reporting options for processed notifications.
type: object
oneOf:
\- required: [notifyWindow]
\- required: [notifyPeriod]
\- required: [notifyPeriodInc]
\- required: [depEventSubId]
properties:
notifyWindow:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
notifyPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
notifyPeriodInc:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
depEventSubId:
type: string
description: >
Notifications for the present subscription are sent only upon occurrence of
events of the
subscription with identifier that matches this attribute.
minClubbedNotif:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
maxClubbedNotif:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
#
ProcessingInstruction:
description: Contains instructions related to the processing of notifications.
type: object
required:
\- eventId
\- procInterval
properties:
eventId:
\$ref: \'#/components/schemas/DccfEvent\'
procInterval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
paramProcInstructs:
type: array
items:
\$ref: \'#/components/schemas/ParameterProcessingInstruction\'
minItems: 1
description: >
List of event parameter names, and for each event parameter name, respective
event
parameter values and sets of the attributes to be used in the summarized
reports.
#
DccfEvent:
description: >
Identifies the (event exposure or analytics) event that the processing
instructions
shall apply to. Contains all event IDs related to DCCF.
type: object
oneOf:
\- required: [nwdafEvent]
\- required: [smfEvent]
\- required: [amfEvent]
\- required: [nefEvent]
\- required: [afEvent]
\- required: [sacEvent]
\- required: [nrfEvent]
\- required: [udmEvent]
properties:
nwdafEvent:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NwdafEvent\'
smfEvent:
\$ref: \'TS29508_Nsmf_EventExposure.yaml#/components/schemas/SmfEvent\'
amfEvent:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/AmfEventType\'
nefEvent:
\$ref: \'TS29591_Nnef_EventExposure.yaml#/components/schemas/NefEvent\'
udmEvent:
\$ref: \'TS29503_Nudm_EE.yaml#/components/schemas/EventType\'
afEvent:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEvent\'
sacEvent:
\$ref: \'TS29536_Nnsacf_SliceEventExposure.yaml#/components/schemas/SACEvent\'
nrfEvent:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NotificationEventType\'
#
ParameterProcessingInstruction:
description: >
Contains an event parameter name and the respective event parameter values and
sets of
attributes to be used in summarized reports.
type: object
required:
\- name
\- values
\- sumAttrs
properties:
name:
type: string
description: >
A JSON pointer value that references an attribute within the notification
object to which
the processing instruction is applied.
values:
type: array
items: {}
minItems: 1
description: A list of values for the attribute identified by the name
attribute.
sumAttrs:
type: array
items:
\$ref: \'#/components/schemas/SummarizationAttribute\'
minItems: 1
description: Attributes requested to be used in the summarized reports.
aggrLevel:
\$ref: \'#/components/schemas/AggregationLevel\'
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
description: Indicates the UEs for which processed reports are requested.
areas:
type: array
items:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
minItems: 1
description: Indicates the Areas of Interest for which processed reports are
requested.
#
NotifSummaryReport:
description: Represents summarized notifications based on processing
instructions.
type: object
required:
\- eventId
\- procInterval
\- eventReports
properties:
eventId:
\$ref: \'#/components/schemas/DccfEvent\'
procInterval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
eventReports:
type: array
items:
\$ref: \'#/components/schemas/EventParamReport\'
minItems: 1
description: List of event parameter reports.
#
EventParamReport:
description: Represents a summarized report for one event parameter.
type: object
required:
\- name
\- values
properties:
name:
type: string
description: The name of the reported parameter.
values:
type: array
items: {}
minItems: 1
description: The list of values of the reported parameter.
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
area:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
spacing:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NumberAverage\'
duration:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NumberAverage\'
avgAndVar:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NumberAverage\'
mostFreqVal: {}
leastFreqVal: {}
count:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
minValue:
type: string
description: The minimum value of the parameter.
maxValue:
type: string
description: The maximum value of the parameter.
#
SummarizationAttribute:
anyOf:
\- type: string
enum:
\- SPACING
\- DURATION
\- OCCURRENCES
\- AVG_VAR
\- FREQ_VAL
\- MIN_MAX
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
description: \|
Possible values are:
\- SPACING: Average and variance of the time interval separating two
consecutive occurrences of the same event and parameter value, or periodicity
for periodic reporting.
\- DURATION: Average and variance of the time for which the parameter value
applies.
\- OCCURRENCES: Number of countable occurrences for the parameter.
\- AVG_VAR: Average and variance of the parameter.
\- FREQ_VAL: Most and least frequent values.
\- MIN_MAX: Maximum and minimum parameter values.
#
AggregationLevel:
anyOf:
\- type: string
enum:
\- UE
\- AOI
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Possible values are:
\- UE: Indicates that the summarized reports shall be provided per UE.
\- AOI: Indicates that the summarized reports shall be provided per Area of
Interest.
#
DataCollectionPurpose:
anyOf:
\- type: string
enum:
\- ANALYTICS_GENERATION
\- MODEL_TRAINING
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
description: \|
Possible values are:
\- ANALYTICS_GENERATION: The data is collected for generating the analytics.
\- MODEL_TRAINING: The data is collected for ML model training.
# A.3 Ndccf_ContextManagement API
openapi: 3.0.0
info:
version: 1.0.0
title: Ndccf_ContextManagement
description: \|
DCCF Context Management Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.574 V17.1.0; 5G System; Data Collection Coordination
Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.574/\'
#
servers:
\- url: \'{apiRoot}/ndccf-contextmanagement/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
#
security:
\- oAuth2ClientCredentials:
\- ndccf-contextmanagement
\- {}
#
paths:
/data-collection-profiles:
post:
summary: Creates a new Individual DCCF Data Collection Profile resource.
operationId: CreateDCCFDataCollectionProfile
tags:
\- DCCF Data Collection Profiles (Collection)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataCollectionProfile\'
required: true
responses:
\'201\':
description: A new Individual DCCF Data Collection Profile resource created.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/ndccf-contextmanagement/\/data-collection-
profiles/{profileId}\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataCollectionProfile\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/data-collection-profiles/{profileId}:
delete:
summary: Deletes an existing Individual DCCF Data Subscription resource.
operationId: DeleteDCCFDataCollectionProfile
tags:
\- Individual DCCF Data Collection Profile (Document)
parameters:
\- name: profileId
in: path
description: >
String identifying a data collection profile at the Ndccf_ContextManagement
Service.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual DCCF Data Collection Profile resource matching the
profileId
was deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Updates an existing Individual DCCF Data Collection Profile resource.
operationId: UpdateDCCFDataCollectionProfile
tags:
\- Individual DCCF Data Collection Profile (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataCollectionProfile\'
parameters:
\- name: profileId
in: path
description: >
String identifying a data collection profile at the Ndccf_ContextManagement
Service.
required: true
schema:
type: string
responses:
\'200\':
description: >
The Individual DCCF Data Collection Profile resource was modified successfully
and a
representation of that resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NdccfDataCollectionProfile\'
\'204\':
description: >
The Individual DCCF Data Collection Profile resource was modified
successfully.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
#
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
ndccf-contextmanagement: Access to the ndccf-contextmanagement API
#
schemas:
NdccfDataCollectionProfile:
description: Represents an Individual DCCF Data Collection Profile.
type: object
allOf:
\- oneOf:
\- required: [anaSub]
\- required: [dataSub]
\- oneOf:
\- required: [nwdafId]
\- required: [adrfId]
\- required: [nwdafSetId]
\- required: [adrfSetId]
properties:
anaSub:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
dataSub:
\$ref:
\'TS29575_Nadrf_DataManagement.yaml#/components/schemas/DataNotification\'
nwdafId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nwdafSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
adrfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
adrfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
#
#