# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Application Function ProSe Service of the 5G System. It provides stage 3
protocol definitions and message flows, and specifies the API for the
Naf_ProSe service.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.304 [14].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
The Application Function ProSe Service is provided by the Application Function
(AF). This service supports 5G ProSe Direct Discovery authorization.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[7] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[8] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[9] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[10] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[11] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
> [12] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
> Format\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System
(5GS); Stage 2\".
[15] 3GPP TS 23.303: \"Proximity-based services (ProSe); Stage 2\".
[16] 3GPP TS 29.555: \"5G System; 5G Direct Discovery Name Management
Services; Stage 3\".
[17] IETF RFC 7396: \"JSON Merge Patch\".
[18] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**example:** text used to clarify abstract rules by applying them literally.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5G DDNMF 5G Direct Discovery Name Management Function
5G ProSe 5G Proximity-based Services
RPAUID Restricted ProSe Application User ID
PDUID ProSe Discovery UE ID
# 4 Overview
The Application Function ProSe (Naf_ProSe) Service, as defined in clause
5.2.19.3 of 3GPP TS 23.502 [3], is provided by the Application Function (AF).
Figure 4-1 provides the reference architecture (in service based interface
representation), with focus on the ProSe Service of the Application Function.
Figure 4-1: Naf_ProSe Service architecture, SBI representation
The Naf_ProSe Service is part of the Naf service-based interface exhibited by
the AF. The service is provided by the AF and consumed by NF service consumers
(e.g. 5G DDNMF), as shown in figure 4-1 for the SBI representation model.
# 5 Naf_ProSe Service offered by the AF
## 5.1 Introduction
Table 5.1-1 shows the Application Function ProSe Service and the corresponding
Service Operations.
Table 5.1-1: Application Function ProSe Service
+--------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Example | | | Operations | | Consumer(s) | | | | Semantics | | +==============+================+================+================+ | Naf_ProSe | Discover | Re | 5G DDNMF | | | yAuthorization | quest/Response | | +--------------+----------------+----------------+----------------+ | | Discov | Su | 5G DDNMF | | | eryAuthorizati | bscribe/Notify | | | | onUpdateNotify | | | +--------------+----------------+----------------+----------------+ | | Discov | Re | 5G DDNMF | | | eryAuthorizati | quest/Response | | | | onResultUpdate | | | +--------------+----------------+----------------+----------------+
Table 5.1-2 summarizes the corresponding APIs defined for this specification.
Table 5.1-2: API Descriptions
Service Name Clause Description OpenAPI Specification File apiName Annex
* * *
Naf_ProSe 6.1 Application Function ProSe Service TS29557_Naf_ProSe naf-prose
A.2
## 5.2 Naf_ProSe Service
### 5.2.1 Service Description
The Naf_ProSe Service enables NF service consumers (e.g. 5G DDNMF) to request
authorization for a UE of a 5G ProSe Discovery request.
This service hence supports the following functionalities:
\- mapping of RPAUID and PDUID and authentication of the RPAUID(s) for
restricted 5G ProSe Direct Discovery;
\- allocation of a ProSe Application Code Suffix pool, if open 5G ProSe Direct
Discovery with application-controlled extension is used;
\- allocation of mask(s) for the ProSe Application Code Suffix(es), if open 5G
ProSe Direct Discovery with application-controlled extension is used;
\- allocation of a ProSe Restricted Code Suffix pool, if restricted 5G ProSe
Direct Discovery with application-controlled extension is used; and
\- allocation of mask(s) for ProSe Restricted Code Suffix, if restricted 5G
ProSe Direct Discovery with application-controlled extension is used; and
\- update of authorization information to revoke Restricted ProSe Direct
Discovery permission(s).
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
The service operations defined for the Naf_ProSe Service are as follows:
\- DiscoveryAuthorization: It allows a NF service consumer (e.g. 5G DDNMF) to
request the authorization for a UE of a 5G ProSe Direct Discovery request;
\- DiscoveryAuthorizationUpdateNotify: It allows an AF to update the
authorization information to revoke discovery permissions related to some
other users at the NF service consumer for Restricted ProSe Direct Discovery;
\- DiscoveryAuthorizationResultUpdate: It allows a NF service consumer (e.g.
5G DDNMF) to inform the AF of the revocation result associated to the update
of authorization information for Restricted ProSe Direct Discovery.
#### 5.2.2.2 DiscoveryAuthorization
##### 5.2.2.2.1 General
The DiscoveryAuthorization service operation is used by a NF service consumer
(e.g. 5G DDNMF) to obtain the authorization for a UE of a 5G ProSe Direct
Discovery request, i.e. detect and identify other UEs in proximity using NR
radio signals.
The following procedures are supported using the DiscoveryAuthorization
Service Operation:
\- Auth Request procedures (see 3GPP TS 23.304 [14], clause 6.3, and 3GPP TS
23.303 [15], clause 5.3).
##### 5.2.2.2.2 Auth Request procedures using DiscoveryAuthorization service
operation
These procedures are invoked by a NF service consumer (e.g. HPLMN 5G DDNMF)
towards an AF to request the authorization for a UE to perform 5G ProSe Direct
Discovery.
Figure 5.2.2.2.2-1: Authorization of Discovery Request for a UE
1\. In order to request the authorization for a UE of a 5G ProSe Direct
Discovery request, the NF service consumer shall send an HTTP POST request
with the request URI set to \"{apiRoot}/naf-prose/\/authorize-
discovery\" and the request body containing the AuthDisReqData data structure,
as described in figure 5.2.2.2.2-1.
> The AuthDisReqData data structure shall contain the authorization request
> type related to the received 5G ProSe Direct Discovery request within the
> \"authRequestType\" attribute. The remaining content of the AuthDisReqData
> data structure differs according to the following cases, as defined in
> clauses 5.2.2.2.3, 5.2.2.2.4, 5.2.2.2.5, 5.2.2.2.6 and 5.2.2.2.7.
\- Open 5G ProSe Direct Discovery request with application-controlled
extension initiated by an announcing UE (see clause 5.3.3 of 3GPP TS 23.303
[15]). This is defined in clause 5.2.2.2.3.
\- Open 5G ProSe Direct Discovery request with application-controlled
extension initiated by a monitoring UE (see clause 5.3.3 of 3GPP TS 23.303
[15]). This is defined in clause 5.2.2.2.3.
\- Restricted 5G ProSe Direct Discovery request initiated by an announcing UE
(see clause 5.3.3 of 3GPP TS 23.303 [15]). This is defined in clause
5.2.2.2.4.
\- Restricted 5G ProSe Direct Discovery request with application-controlled
extension initiated by an announcing UE (see clause 5.3.3 of 3GPP TS 23.303
[15]). This is defined in clause 5.2.2.2.5.
\- Restricted 5G ProSe Direct Discovery request initiated by a monitoring UE
(see clause 5.3.3 of 3GPP TS 23.303 [15]). This is defined in clause
5.2.2.2.4.
\- Restricted 5G ProSe Direct Discovery request with application-controlled
extension initiated by a monitoring UE (see clause 5.3.3 of 3GPP TS 23.303
[15]). This is defined in clause 5.2.2.2.5.
\- Restricted 5G ProSe Direct Discovery request initiated by a discoveree UE
(see clause 5.3.3A of 3GPP TS 23.303 [15]). This is defined in clause
5.2.2.2.6.
\- Restricted 5G ProSe Direct Discovery request initiated by a discoverer UE
(see clause 5.3.3A of 3GPP TS 23.303 [15]). This is defined in clause
5.2.2.2.7.
\- Restricted 5G ProSe Direct Discovery match report (see clauses 5.3.4 and
5.3.4A of 3GPP TS 23.303 [15]). This is defined in clause 5.2.2.2.3.
2a On success, a response with HTTP \"200 OK\" status code shall be returned.
The response body shall contain the parameters related to the 5G ProSe Direct
Discovery authorization response data within the AuthDisResData data
structure, which shall contain the authorization response type related to the
received 5G ProSe Direct Discovery request within the \"authResponseType\"
attribute. The remaining content of the AuthDisResData data structure also
differs according to the above listed cases in step 1, as defined in clauses
5.2.2.2.3, 5.2.2.2.4, 5.2.2.2.5, 5.2.2.2.6 and 5.2.2.2.7.
2b On failure, one of the HTTP status codes listed in table 6.1.4.2.2-2 may be
returned. For a 4xx/5xx response, the message body may contain a
ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in table 6.1.7.3-1.
##### 5.2.2.2.3 Open 5G ProSe Direct Discovery (Model A) with application-
controlled extension
When Open 5G ProSe Direct Discovery (Model A) with application-controlled
extension is used, the NF service consumer (e.g. 5G DDNMF) shall provide the
following attributes within the AuthDisReqData data structure, as specified in
clause 6.3 of 3GPP TS 23.304 [14] and clauses 5.3.3.2, 5.3.3.3, 5.3.3.4 and
5.3.3.5 of 3GPP TS 23.303 [15].
\- When the 5G ProSe Direct Discovery request is initiated by an announcing
UE:
\- the ProSe Application ID within the \"proseAppId\" attribute, indicating
what the UE is interested to announce;
\- the allowed number of suffixes within the \"allowedSuffixNum\" attribute,
indicating how many ProSe Application Code Suffixes the ProSe Application
Server can assign for the UE;
\- the application level container within the \"appLevelContainer\" attribute,
containing the request and any relevant information for the 5G ProSe AF to
assign a (set of) ProSe Application Code Suffix(es); and
\- the authorization request type set to \"OPEN_DISCOVERY_EXTENSION_ANNOUNCE\"
within the \"authRequestType\" attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a monitoring UE:
\- the ProSe Application ID(s) within the \"proseAppId\" attribute, indicating
what the UE is interested to monitor;
\- the application level container within the \"appLevelContainer\" attribute,
containing the request and information corresponding to the ProSe Application
Code Suffix; and
\- the authorization request type set to \"OPEN_DISCOVERY_EXTENSION_MONITOR\"
within the \"authRequestType\" attribute.
If the processing of the request is successful, the 5G ProSe AF shall provide
the following attributes within the AuthDisResData data structure, also as
specified in clause 6.3 of 3GPP TS 23.304 [14] and clauses 5.3.3.2, 5.3.3.3,
5.3.3.4 and 5.3.3.5 of 3GPP TS 23.303 [15]:
\- When the 5G ProSe Direct Discovery request is initiated by an announcing
UE:
\- the ProSe Application Code Suffix Pool within the
\"proseAppCodeSuffixPool\" attribute, containing the Suffix(es) allocated by
the 5G ProSe AF based on the inputs provided by the NF service consumer (e.g.
5G DDNMF) in the associated request;
\- the authorization response type set to
\"OPEN_DISCOVERY_EXTENSION_ANNOUNCE_ACK\" within the \"authResponseType\"
attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a monitoring UE:
\- the mask(s) for the ProSe Application Code Suffix(es) within the
\"proseAppMasks\" attribute, corresponding to ProSe Application ID provided by
the NF service consumer (e.g. 5G DDNMF) in the related request;
\- the authorization response type set to
\"OPEN_DISCOVERY_EXTENSION_MONITOR_ACK\" within the \"authResponseType\"
attribute.
##### 5.2.2.2.4 Restricted 5G ProSe Direct Discovery (Model A)
When Restricted 5G ProSe Direct Discovery (Model A) is used, the NF service
consumer (e.g. 5G DDNMF) shall provide the following attributes within the
AuthDisReqData data structure, as specified in clause 6.3 of 3GPP TS 23.304
[14] and clauses 5.3.3.2A, 5.3.3.3A, 5.3.3.4A and 5.3.3.5A of 3GPP TS 23.303
[15].
\- When the 5G ProSe Direct Discovery request is initiated by an announcing
UE:
\- the RPAUID within the \"rpauid\" attribute, indicating what the UE is
interested to announce; and
\- the authorization request type set to \"RESTRICTED_DISCOVERY_ANNOUNCE\"
within the \"authRequestType\" attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a monitoring UE:
\- the authorization request type set to either
\"RESTRICTED_DISCOVERY_MONITOR\" or \"RESTRICTED_DISCOVERY_PERMISSION\" within
the \"authRequestType\" attribute; and
\- if the authorization request type is set to
\"RESTRICTED_DISCOVERY_MONITOR\":
\- the RPAUID within the \"rpauid\" attribute, indicating the identity that
the UE uses to obtain the permission to monitor; and
\- the application level container within the \"appLevelContainer\" attribute,
containing the Target RPAUID(s) indicating what the UE is interested to
monitor;
otherwise,
\- if the authorization request type is set to
\"RESTRICTED_DISCOVERY_PERMISSION\":
\- the RPAUID within the \"rpauid\" attribute, indicating the identity that
the UE uses to obtain the permission to monitor;
\- the target RPAUID within the \"targetRpauid\" attribute, containing the
Target RPAUID;
If the processing of the request is successful, the 5G ProSe AF shall provide
the following attributes within the AuthDisResData data structure, also as
specified in clause 6.3 of 3GPP TS 23.304 [14] and clauses 5.3.3.2A, 5.3.3.3A,
5.3.3.4A and 5.3.3.5A of 3GPP TS 23.303 [15]:
\- When the 5G ProSe Direct Discovery request is initiated by an announcing
UE:
\- the PDUID(s) within the \"pduids\" attribute, containing the PDUID(s)
corresponding to the provided RPAUID; and
\- the authorization response type set to
\"RESTRICTED_DISCOVERY_ANNOUNCE_ACK\" within the \"authResponseType\"
attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a monitoring UE:
\- the authorization response type set to either
\"RESTRICTED_DISCOVERY_MONITOR_ACK\" or
\"RESTRICTED_DISCOVERY_PERMISSION_ACK\" within the \"authResponseType\"
attribute; and
\- if the authorization response type is set to
\"RESTRICTED_DISCOVERY_MONITOR_ACK\":
\- the PDUID within the \"pduids\" attribute, containing the PDUID
corresponding to the provided RPAUID;
\- a response application level container within the \"appLevelContainer\"
attribute, containing the successfully authenticated Target RPAUID(s); and
\- N sets of Target PDUID - Target RPAUID - Metadata Indicator within the
\"targetDataSet\" attribute, containing N sets of Target PDUID - Target RPAUID
- Metadata Indicator (Each Target PDUID is returned with the corresponding
Target RPAUID(s) that the RPAUID is allowed to discover);
NOTE: The Metadata Indicator is optional. It indicates whether there is
metadata associated with the RPAUID, and if so, whether updating this metadata
is allowed.
otherwise,
\- if the authorization response type is set to
\"RESTRICTED_DISCOVERY_PERMISSION_ACK\":
\- the target PDUID within the \"targetPduid\" attribute, containing the
Target PDUID;
##### 5.2.2.2.5 Restricted 5G ProSe Direct Discovery (Model A) with
application-controlled extension
When Restricted 5G ProSe Direct Discovery (Model A) is used, the NF service
consumer (e.g. 5G DDNMF) shall provide the following attributes within the
AuthDisReqData data structure, as specified in clause 6.3 of 3GPP TS 23.304
[14] and clauses 5.3.3.2A, 5.3.3.3A, 5.3.3.4A and 5.3.3.5A of 3GPP TS 23.303
[15].
\- When the 5G ProSe Direct Discovery request is initiated by an announcing
UE:
\- the RPAUID within the \"rpauid\" attribute, indicating what the UE is
interested to announce;
\- the allowed number of suffixes within the \"allowedSuffixNum\" attribute,
indicating how many ProSe Restricted Code Suffixes the ProSe Application
Server can assign for the UE;
\- the authorization request type set to
\"RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE\" within the \"authRequestType\"
attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a monitoring UE:
\- the RPAUID within the \"rpauid\" attribute, indicating the identity that
the UE uses to obtain the permission to monitor; and
\- the application level container within the \"appLevelContainer\" attribute,
containing the Target RPAUID(s) indicating what the UE is interested to
monitor; and
\- the authorization request type set to
\"RESTRICTED_DISCOVERY_EXTENSION_MONITOR\" within the \"authRequestType\"
attribute.
If the processing of the request is successful, the 5G ProSe AF shall provide
the following attributes within the AuthDisResData data structure, also as
specified in clause 6.3 of 3GPP TS 23.304 [14] and clauses 5.3.3.2A, 5.3.3.3A,
5.3.3.4A and 5.3.3.5A of 3GPP TS 23.303 [15]:
\- When the 5G ProSe Direct Discovery request is initiated by an announcing
UE:
\- the PDUID(s) within the \"pduids\" attribute, containing the PDUID(s)
corresponding to the provided RPAUID; and
\- the ProSe Restricted Code Suffix Pool within the
\"restrictedCodeSuffixPool\" attribute, containing the Suffix(es) allocated by
the 5G ProSe AF based on the inputs provided by the NF service consumer (e.g.
5G DDNMF) in the associated request;
\- the authorization response type set to
\"RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE_ACK\" within the
\"authResponseType\" attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a monitoring UE:
\- the PDUID within the \"pduids\" attribute, containing the PDUID
corresponding to the provided RPAUID;
\- a response application level container within the \"appLevelContainer\"
attribute, containing the successfully authenticated Target RPAUID(s);
\- N sets of Target PDUID - Target RPAUID - Metadata Indicator within the
\"targetDataSet\" attribute, containing N sets of Target PDUID - Target RPAUID
- Metadata Indicator (Each Target PDUID is returned with the corresponding
Target RPAUID(s) that the RPAUID is allowed to discover); and
NOTE: The Metadata Indicator is optional. It indicates whether there is
metadata associated with the RPAUID, and if so, whether updating this metadata
is allowed.
\- the authorization response type set to
\"RESTRICTED_DISCOVERY_EXTENSION_MONITOR_ACK\" within the \"authResponseType\"
attribute.
The AuthDisResData data structure may also include in this case:
\- the mask(s) for the ProSe Restricted Code Suffix(es) within the
\"proSeRestrictedMasks\" attribute, corresponding to each of the provided
Target RPAUID(s);
##### 5.2.2.2.6 Restricted 5G ProSe Direct Discovery (Model B)
When Restricted 5G ProSe Direct Discovery (Model B) is used, the NF service
consumer (e.g. 5G DDNMF) shall provide the following attributes within the
AuthDisReqData data structure, as specified in clause 6.3 of 3GPP TS 23.304
[14] and clauses 5.3.3A.2, 5.3.3A.3, 5.3.3A.4 and 5.3.3A.5 of 3GPP TS 23.303
[15].
\- When the 5G ProSe Direct Discovery request is initiated by a discoveree UE:
\- the RPAUID within the \"rpauid\" attribute, indicating what the UE is
interested to announce; and
\- the authorization request type set to \"RESTRICTED_DISCOVERY_RESPONSE\"
within the \"authRequestType\" attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a discoverer UE:
\- the RPAUID within the \"rpauid\" attribute, indicating the identity that
the UE uses to obtain the permission to discover; and
\- either:
\- the application level container within the \"appLevelContainer\" attribute
(e.g. if the NF service consumer is the HPLMN 5G DDNMF), containing the Target
RPAUID(s) indicating what the UE is interested to discover; or
\- the target RPAUID within the \"targetRpauid\" attribute (if the NF service
consumer is a 5G DDNMF located in another PLMN), containing the Target RPAUID;
and
\- the authorization request type set to \"RESTRICTED_DISCOVERY_QUERY\" within
the \"authRequestType\" attribute.
If the processing of the request is successful, the 5G ProSe AF shall provide
the following attributes within the AuthDisResData data structure, also as
specified in clause 6.3 of 3GPP TS 23.304 [14] and clauses 5.3.3A.2, 5.3.3A.3,
5.3.3A.4 and 5.3.3A.5 of 3GPP TS 23.303 [15]:
\- When the 5G ProSe Direct Discovery request is initiated by a discoveree UE:
\- the PDUID(s) within the \"pduids\" attribute, containing the PDUID(s)
corresponding to the provided RPAUID; and
\- the authorization response type set to
\"RESTRICTED_DISCOVERY_RESPONSE_ACK\" within the \"authResponseType\"
attribute.
\- When the 5G ProSe Direct Discovery request is initiated by a discoverer UE:
\- the PDUID within the \"pduids\" attribute, containing the PDUID
corresponding to the provided RPAUID;
\- either:
\- N sets of Target PDUID - Target RPAUID within the \"targetDataSet\"
attribute (e.g. if the NF service consumer is the HPLMN 5G DDNMF and an
application level container was received in the associated request),
containing N sets of Target PDUID - Target RPAUID (Each Target PDUID is
returned with the corresponding Target RPAUID(s) that the RPAUID is allowed to
discover); or
\- the target PDUID within the \"targetPduid\" attribute (if the NF service
consumer is a 5G DDNMF located in another PLMN and only one target RPAUID was
received in the associated request), containing the Target PDUID; and
\- the authorization response type set to \"RESTRICTED_DISCOVERY_QUERY_ACK\"
within the \"authResponseType\" attribute.
##### 5.2.2.2.7 Restricted 5G ProSe Direct Discovery match report
For a Restricted 5G ProSe Direct Discovery match report, the NF service
consumer (e.g. 5G DDNMF) shall provide the following attributes within the
AuthDisReqData data structure, as specified in clause 6.3 of 3GPP TS 23.304
[14] and clauses 5.3.4.1A, 5.3.4.2A, 5.3.4A.1 and 5.3.4A.2 of 3GPP TS 23.303
[15].
\- the RPAUID within the \"rpauid\" attribute, indicating what the UE is
interested to announce; and
\- the target RPAUID within the \"targetRpauid\" attribute (if the NF service
consumer is a 5G DDNMF located in another PLMN), containing the Target RPAUID;
and
\- the authorization request type set to \"RESTRICTED_DISCOVERY_MATCH\" within
the \"authRequestType\" attribute.
If the processing of the request is successful, the 5G ProSe AF shall provide
the following attributes within the AuthDisResData data structure, also as
specified in clause 6.3 of 3GPP TS 23.304 [14] and clauses 5.3.4.1A, 5.3.4.2A,
5.3.4A.1 and 5.3.4A.2 of 3GPP TS 23.303 [15]:
\- the PDUID within the \"pduids\" attribute, containing the PDUID
corresponding to the provided RPAUID;
\- the target PDUID within the \"targetPduid\" attribute, containing the
Target PDUID;
\- the metadata within the \"metaData\" attribute, corresponding to the Target
PDUID; and
\- the authorization response type set to \"RESTRICTED_DISCOVERY_MATCH_ACK\"
within the \"authResponseType\" attribute.
#### 5.2.2.3 DiscoveryAuthorizationUpdateNotify
##### 5.2.2.3.1 General
The DiscoveryAuthorizationUpdateNotify service operation is used by an AF to
update the authorization information to revoke discovery permissions relating
to some other users at the NF service consumer (e.g. 5G DDNMF) for Restricted
ProSe Direct Discovery. See Figure 5.2.2.3.1-1.
The following procedures are supported using the
DiscoveryAuthorizationUpdateNotify Service Operation:
\- Auth Update procedures (see 3GPP TS 23.303 [15], clause 5.3.6A.2).
Figure 5.2.2.3.1-1: DiscoveryAuthorizationUpdate Notification
1\. The AF shall send an HTTP POST request to the callback URI of the NF
consumer (e.g. 5G DDNMF). The request body shall contain the AuthUpdateData
data structure.
The callback URI is provided to the AF during the Auth Request procedures
defined in clause 5.2.2.2.
2a. On success, a response with an HTTP \"204 No content\" status code shall
be returned by the NF service consumer.
2b. On failure, one of the HTTP status codes listed in Table 6.1.5.2.3.1-2 may
be returned. For a 4xx/5xx response, the message body may contain a
ProblemDetails data structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.5.2.3.1-2.
#### 5.2.2.4 DiscoveryAuthorizationResultUpdate
##### 5.2.2.4.1 General
The DiscoveryAuthorizationResultUpdate service operation is used by a NF
service consumer (e.g. 5G DDNMF) to inform the AF of the result of the
revocation request to update the authorization information for Restricted
ProSe Direct Discovery. See Figure 5.2.2.4.1-1.
The following procedures are supported using the
DiscoveryAuthorizationResultUpdate Service Operation:
\- Auth Update Result procedures (see 3GPP TS 23.303 [15], clause 5.3.6A.2).
Figure 5.2.2.4.1-1: DiscoveryAuthorizationResultUpdate Request/Response
1\. In order to inform the AF of the result of the revocation related to
discovery authorization update, the NF service consumer shall send an HTTP
POST request with the request URI set to \"{apiRoot}/naf-
prose/\/authorize-update-result\" and the request body containing
the AuthUpdateData data structure, as described in figure 5.2.2.4.1-1.
2a On success, a response with an HTTP \"204 No Content\" status code shall be
returned by the AF.
2b On failure, one of the HTTP status codes listed in Table 6.1.4.3.2-2 may be
returned. For a 4xx/5xx response, the message body may contain a
ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.4.3.2-2.
# 6 API Definitions
## 6.1 Naf_ProSe Service API
### 6.1.1 Introduction
The Naf_ProSe shall use the Naf_ProSe API.
The API URI of the Naf_ProSe API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
> **{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"naf-prose \".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the naf-
prose API is contained in Annex A.2.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 6.1.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
JSON Merge Patch, as defined in IETF RFC 7396 [17], signalled by the content
type \"application/merge-patch+json\".
#### 6.1.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
### 6.1.3 Resources
In this release of this specification, no resource is defined for the
Naf_ProSe Service.
### 6.1.4 Custom Operations without associated resources
#### 6.1.4.1 Overview
The structure of the custom operation URIs of the Naf_ProSe Service is shown
in figure 6.1.4.1-1.
Figure 6.1.4.1-1: Resource URI structure of the Naf_ProSe API
Table 6.1.4.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 6.1.4.1-1: Custom operations
**Custom operation URI** **Mapped HTTP method** **Description**
* * *
/authorize-discovery POST Obtain the authorization of Discovery Request from
the 5G DDNMF for a UE. /authorization-update-result POST Inform the AF of the
result of the revocation request to update authorization information
#### 6.1.4.2 Operation: authorize-discovery
##### 6.1.4.2.1 Description
This clause represents the custom operation and what it is used for, and the
custom operation URI.
##### 6.1.4.2.2 Operation Definition
This operation shall support request data structures specified in table
6.1.4.2.2-1 and response data structures specified in table 6.1.4.2.2-2.
Table 6.1.4.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AuthDisReqData M 1 Contains the request
data to obtain the authorization for a UE of a 5G ProSe Discovery Request.
* * *
Table 6.1.4.2.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | A | M | 1 | 200 OK | Contains the | | uthDisResData | | | | response data | | | | | | for the | | | | | | authorization | | | | | | of a 5G ProSe | | | | | | Direct | | | | | | Discovery | | | | | | Request for a | | | | | | UE. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | cl | | | | | | ause 6.1.7.3. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.2.2-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF.
* * *
Table 6.1.4.2.2-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF.
* * *
#### 6.1.4.3 Operation: authorization-update-result
##### 6.1.4.3.1 Description
This clause represents the custom operation and what it is used for, and the
custom operation URI.
##### 6.1.4.3.2 Operation Definition
This operation shall support request data structures specified in table
6.1.4.3.2-1 and response data structures specified in table 6.1.4.3.2-2.
Table 6.1.4.3.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AuthUpdateData M 1 Contains the result of
the revocation request to update authorization information for Restricted
ProSe Direct Discovery.
* * *
Table 6.1.4.3.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | report of | | | | | | discovery | | | | | | authorization | | | | | | update | | | | | | result. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | cl | | | | | | ause 6.1.7.3. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.3.2-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF.
* * *
Table 6.1.4.3.2-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF.
* * *
### 6.1.5 Notifications
#### 6.1.5.1 General
Table 6.1.5.1-1 provides an overview of the notification operation and
applicable HTTP method.
Table 6.1.5.1-1: Notifications overview
Notification Callback URI HTTP method Description
* * *
DiscoveryAuthorizationUpdateNotify {authUpdateCallbackUri} POST Update the
authorization information to revoke discovery permissions related to some
other users in the NF service consumer (e.g. 5G DDNMF).
#### 6.1.5.2 DiscoveryAuthorizationUpdateNotify
##### 6.1.5.2.1 Description
The DiscoveryAuthorizationUpdateNotify service operation is used to update the
authorization information to revoke discovery permissions related to some
other users in the NF service consumer (e.g. 5G DDNMF).
##### 6.1.5.2.2 Notification Definition
Call-back URI: {authUpdateCallbackUri}
See clause 5.2.2.2.1 for the description of how the AF obtains the Call-back
URI of the NF service consumer.
##### 6.1.5.2.3 Notification Standard Methods
###### 6.1.5.2.3.1 POST
This method sends a discovery authorization update notification to the NF
service consumer.
This method shall support the request and response data structures and
response codes specified in table 6.1.5.2.3.1-1 and table 6.1.5.2.3.1-2.
Table 6.1.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
AuthUpdateData M 1 Input parameters to the
\"DiscoveryAuthorizationUpdateNotify\" service operation, including the
updated authorization information for Restricted ProSe Direct Discovery.
Table 6.1.5.2.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | notification | | | | | | of the event. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | cl | | | | | | ause 6.1.7.3. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.2.3-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF.
* * *
Table 6.1.5.2.3-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF.
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the Naf_ProSe
API.
Table 6.1.6.1-1 specifies the data types defined for the Naf_ProSe service
based interface.
Table 6.1.6.1-1: Naf_ProSe specific Data Types
**Data type** **Clause defined** **Description** **Applicability**
* * *
AuthDisReqData 6.1.6.2.2 Represents Data used to request the authorization for
a UE of 5G ProSe Direct Discovery Request.  
AuthDisResData 6.1.6.2.3 Represents the obtained authorization Data for a UE
of 5G ProSe Direct Discovery Request.  
TargetData 6.1.6.2.4 Represents a combination of Target PDUID - Target RPAUID
- Metadata Indicator.  
AllowedSuffixNum 6.1.6.3.2 Represents the allowed number of suffixes.  
AppLevelContainer 6.1.6.3.2 Represents an Application Layer Container.  
MetadataIndic 6.1.6.3.5 Contains Metadata Indicator.  
AuthRequestType 6.1.6.3.3 Represents the authorization request type.  
AuthResponseType 6.1.6.3.4 Represents the authorization response type.  
ProSeRestrictedMask 6.1.6.3.2 Represents a Prose Restricted Mask.  
AuthUpdateData 6.1.6.2.5 Represents the updated authorization information for
Restricted ProSe Direct Discovery.  
BannedAuthData 6.1.6.2.6 Represents a set of Banned RPAUID - Banned PDUID that
are no longer allowed to discover the ProSe Restricted Code corresponding to
the user\'s RPAUID for the Application ID associated with that AF.  
RevocationResult 6.1.6.3.6 Represents the revocation result of a set of Banned
RPAUID - Banned PDUID for Restricted ProSe Direct Discovery.
Table 6.1.6.1-2 specifies data types re-used by the Naf_ProSe service based
interface from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
Naf_ProSe Service based interface.
Table 6.1.6.1-2: Naf_ProSe re-used Data Types
**Data type** **Reference** **Comments** **Applicability**
* * *
ProseApplicationId 3GPP TS 29.555 [16] A string representing the ProSe
Application ID.  
ProseApplicationCodeSuffixPool 3GPP TS 29.555 [16] Contains a ProSe
Application Code Suffix Pool.  
Rpauid 3GPP TS 29.555 [16] Represents a Restricted ProSe Application User ID.  
Pduid 3GPP TS 29.555 [16] Represents a ProSe Discovery UE ID.  
ProseApplicationMask 3GPP TS 29.555 [16] Represents a Mask for a ProSe
Application Code Suffix corresponding to a ProSe Applicantation ID.  
MetaData 3GPP TS 29.555 [16] Contains Metadata.  
RestrictedCodeSuffixPool 3GPP TS 29.555 [16] Contains a ProSe Restricted Code
Suffix pool.  
Uri 3GPP TS 29.571 [18] Contains a URI.
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: AuthDisReqData
Table 6.1.6.2.2-1: Definition of type AuthDisReqData
Attribute name Data type P Cardinality Description Applicability
* * *
authRequestType AuthRequestType M 1 This attribute contains the authorization
request type for 5G ProSe Direct Discovery.  
proseAppId array(ProseApplicationId) O 0..N This attribute contains the ProSe
Application ID(s). (NOTE)  
allowedSuffixNum AllowedSuffixNum O 0..1 This attribute contains the allowed
number of suffixes.  
appLevelContainer AppLevelContainer O 0..1 This attribute contains an
application level container.  
rpauid Rpauid O 0..1 This attribute contains the RPAUID.  
targetRpauid Rpauid O 0..1 This attribute contains the Target RPAUID.  
authUpdateCallbackUri Uri O 0..1 The call-back URI of the NF service consumer
(i.e. 5G DDNMF) for implicit subscription to notification of
DiscoveryAuthorizationUpdateNotify.  
NOTE: If provided, at least one element shall be present in the attribute
"proseAppId".
##### 6.1.6.2.3 Type: AuthDisResData
Table 6.1.6.2.3-1: Definition of type AuthDisResData
Attribute name Data type P Cardinality Description Applicability
* * *
authResponseType AuthResponseType M 1 This attribute contains the
authorization response type for 5G ProSe Direct Discovery.  
proseAppCodeSuffixPool ProseApplicationCodeSuffixPool O 0..1 This attribute
contains the ProSe Application Code Suffix Pool.  
pduids array(Pduid) O 0..N This attribute contains the PDUID(s) corresponding
to the provided RPAUID.  
restrictedCodeSuffixPool array(RestrictedCodeSuffixPool) O 0..N This attribute
contains a ProSe Restricted Code Suffix pool. (NOTE)  
proseAppMasks array(ProseApplicationMask) O 0..N This attribute contains the
mask(s) for the ProSe Application Code Suffix(es) corresponding to the ProSe
Application ID.  
proSeRestrictedMasks array(ProSeRestrictedMask) O 0..N This attribute contains
the mask(s) for the ProSe Restricted Code Suffix(es) corresponding to each of
the Target RPAUID(s).  
resAppLevelContainer AppLevelContainer O 0..1 This attribute contains the
Application Level Container.  
targetDataSet array(TargetData) O 0..N This attribute contains N sets of
Target PDUID - Target RPAUID - Metadata Indicator.  
targetPduid Pduid O 0..1 This attribute contains the Target PDUID.  
metaData MetaData O 0..1 This attribute contains metadata corresponding to the
Target PDUID.  
NOTE: If provided, exactly one element shall be present in the attribute.
##### 6.1.6.2.4 Type: TargetData
Table 6.1.6.2.4-1: Definition of type TargetData
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +==========+==========+=======+==========+==========+==========+ | targ | Rpauid | M | 1 | This | | | etRpauid | | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | RPAUID. | | +----------+----------+-------+----------+----------+----------+ | pduid | Pduid | M | 1 | This | | | | | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | Target | | | | | | | PDUID. | | +----------+----------+-------+----------+----------+----------+ | metad | Metad | O | 0..1 | This | | | ataIndic | ataIndic | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | optional | | | | | | | and | | | | | | | contains | | | | | | | the | | | | | | | Metadata | | | | | | | I | | | | | | | ndicator | | | | | | | to | | | | | | | indicate | | | | | | | whether | | | | | | | there is | | | | | | | metadata | | | | | | | as | | | | | | | sociated | | | | | | | with the | | | | | | | RPAUID, | | | | | | | and if | | | | | | | so, | | | | | | | whether | | | | | | | updates | | | | | | | of | | | | | | | metadata | | | | | | | is | | | | | | | allowed. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | The | | | | | | | default | | | | | | | value of | | | | | | | metad | | | | | | | ataIndic | | | | | | | is | | | | | | | \"NO_ME | | | | | | | TADATA\" | | | | | | | if this | | | | | | | a | | | | | | | ttribute | | | | | | | is not | | | | | | | s | | | | | | | upplied. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 6.1.6.2.5 Type: AuthUpdateData
Table 6.1.6.2.5-1: Definition of type AuthUpdateData
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
targetRpauid Rpauid M 1 This attribute contains the RPAUID of the user that
would like to revoke discovery permissions of some other users in the AF.  
bannedAuthData array(BannedAuthData) M 1..N The attribute contains N sets of
Banned RPAUID - Banned PDUID that are no longer allowed to discover the ProSe
Restricted Code corresponding to the user\'s RPAUID for the Application ID
associated with that AF.
##### 6.1.6.2.6 Type: BannedAuthData
Table 6.1.6.2.6-1: Definition of type BannedAuthData
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
bannedRpauid Rpauid M 1 The attribute contains a RPAUID within a Banned RPAUID
- Banned PDUID set that is no longer allowed to discover the ProSe Restricted
Code corresponding to the user\'s RPAUID for the Application ID associated
with the AF.  
bannedPduid Pduid M 1 The attribute contains the PDUID within a Banned RPAUID
- Banned PDUID set that is no longer allowed to discover the ProSe Restricted
Code corresponding to the user\'s RPAUID for the Application ID associated
with the AF.  
revocationResult RevocationResult C 0..1 The attribute contains the revocation
result of a set of Banned RPAUID - Banned PDUID for Restricted ProSe Direct
Discovery, which is only conveyed in within a
DiscoveryAuthorizationResultUpdate service operation
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
* * *
**Type Name** **Type Definition** **Description** **Applicability**
AllowedSuffixNum integer Contains the allowed number of suffixes.  
AppLevelContainer sting Contains the Application Level Container.  
ProSeRestrictedMask string Contains a ProSe Restricted Mask.
* * *
##### 6.1.6.3.3 Enumeration: AuthRequestType
The enumeration AuthRequestType represents the Authorization Request Type. It
shall comply with the provisions of table 6.1.6.3.3-1.
Table 6.1.6.3.3-1: Enumeration AuthRequestType
Enumeration value Description Applicability
* * *
OPEN_DISCOVERY_EXTENSION_ANNOUNCE Indicates that the Authorization Request
Type is \"open discovery with application-controlled extension/announce\".  
RESTRICTED_DISCOVERY_ANNOUNCE Indicates that the Authorization Request Type is
\"restricted discovery/announce\".  
RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE Indicates that the Authorization
Request Type is \"restricted discovery with application-controlled
extension/announce\".  
OPEN_DISCOVERY_EXTENSION_MONITOR Indicates that the Authorization Request Type
is \"open discovery with application-controlled extension/monitor\".  
RESTRICTED_DISCOVERY_MONITOR Indicates that the Authorization Request Type is
\"restricted discovery/monitor\".  
RESTRICTED_DISCOVERY_EXTENSION_MONITOR Indicates that the Authorization
Request Type is \"restricted discovery with application-controlled
extension/monitor\".  
RESTRICTED_DISCOVERY_PERMISSION Indicates that the Authorization Request Type
is \"restricted discovery/permission\".  
RESTRICTED_DISCOVERY_RESPONSE Indicates that the Authorization Request Type is
\"restricted discovery/response\".  
RESTRICTED_DISCOVERY_QUERY Indicates that the Authorization Response Type is
\"restricted discovery/query\".  
RESTRICTED_DISCOVERY_MATCH Indicates that the Authorization Response Type is
\"restricted discovery/match\".
##### 6.1.6.3.4 Enumeration: AuthResponseType
The enumeration AuthRequestType represents the Authorization Response Type. It
shall comply with the provisions defined in table 6.1.6.3.4-1.
Table 6.1.6.3.4-1: Enumeration AuthResponseType
Enumeration value Description Applicability
* * *
OPEN_DISCOVERY_EXTENSION_ANNOUNCE_ACK Indicates that the Authorization
Response Type is \"open discovery with application-controlled
extension/announce ack\".  
RESTRICTED_DISCOVERY_ANNOUNCE_ACK Indicates that the Authorization Response
Type is \"restricted discovery/announce ack\".  
RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE_ACK Indicates that the Authorization
Response Type is \"restricted discovery with application-controlled
extension/announce ack\".  
OPEN_DISCOVERY_EXTENSION_MONITOR_ACK Indicates that the Authorization Response
Type is \"open discovery with application-controlled extension/monitor ack\".  
RESTRICTED_DISCOVERY_MONITOR_ACK Indicates that the Authorization Response
Type is \"restricted discovery/monitor ack\".  
RESTRICTED_DISCOVERY_EXTENSION_MONITOR_ACK Indicates that the Authorization
Response Type is \"restricted discovery with application-controlled
extension/monito ack\".  
RESTRICTED_DISCOVERY_PERMISSION_ACK Indicates that the Authorization Response
Type is \"restricted discovery /permission ack\".  
RESTRICTED_DISCOVERY_RESPONSE_ACK Indicates that the Authorization Response
Type is \"restricted discovery /response ack\".  
RESTRICTED_DISCOVERY_QUERY_ACK Indicates that the Authorization Response Type
is \"restricted discovery /query ack\".  
RESTRICTED_DISCOVERY_MATCH_ACK Indicates that the Authorization Response Type
is \"restricted discovery /match ack\".
##### 6.1.6.3.5 Enumeration: MetadataIndic
The enumeration MetadataIndic represents the possible options for metadata
associated with a particular target RPAUID. It shall comply with the
provisions of table 6.1.6.3.5-1.
Table 6.1.6.3.5-1: Enumeration MetadataIndic
Enumeration value Description Applicability
* * *
NO_METADATA Indicates that there is no metadata associated with the target
RPAUID.  
METADATA_UPDATE_DISALLOWED Indicates that there is metadata associated with
the target RPAUID, but it is not allowed to update this metadata.  
METADATA_UPDATE_ALLOWED Indicates that there is metadata associated with the
target RPAUID, and it is allowed to update this metadata.
##### 6.1.6.3.6 Enumeration: RevocationResult
The enumeration RevocationResult represents the revocation result of a set of
Banned RPAUID - Banned PDUID for Restricted ProSe Direct Discovery. It shall
comply with the provisions of table 6.1.6.3.6-1.
Table 6.1.6.3.6-1: Enumeration MetadataIndic
Enumeration value Description Applicability
* * *
REVOCATION_SUCCESSFUL Indicates the successful revocation for a set of Banned
RPAUID - Banned PDUID for Restricted ProSe Direct Discovery.  
REVOCATION_NOT_SUCCESSFUL Indicates that unsuccessful revocation for a set of
Banned RPAUID - Banned PDUID for Restricted ProSe Direct Discovery.
#### 6.1.6.4 Data types describing alternative data types or combinations of
data types
None.
#### 6.1.6.5 Binary data
None.
### 6.1.7 Error Handling
#### 6.1.7.1 General
For the Naf_ProSe API, HTTP error responses shall be supported as specified in
clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors
specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an
HTTP method if the corresponding HTTP status codes are specified as mandatory
for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Naf_ProSe API.
#### 6.1.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
The application errors defined for the Naf_ProSe service are listed in table
6.1.7.3-1.
Table 6.1.7.3-1: Application errors
**Application Error** **HTTP status code** **Description**
* * *
UNSPECIFIED 403 Forbidden The request is rejected due to unspecified reasons.
### 6.1.8 Feature negotiation
The optional features in table 6.1.8-1 are defined for the Naf_ProSe API. They
shall be negotiated using the extensibility mechanism defined in clause 6.6 of
3GPP TS 29.500 [4].
Table 6.1.8-1: Supported Features
**Feature number** **Feature Name** **Description**
* * *
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Naf_ProSe API may be authorized by means of the OAuth2 protocol (see IETF RFC
6749 [9]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of
the authorization server.
If OAuth2 is used, an NF service consumer, prior to consuming services offered
by the Naf_ProSe API, shall obtain a \"token\" from the authorization server,
by invoking the Access Token Request service, as described in 3GPP TS 29.510
[10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF service consumer used for
discovering the Naf_ProSe service.
The Naf_ProSe API defines a single scope \"naf_prose\" for OAuth2
authorization (as specified in 3GPP TS 33.501 [8]) for the entire service, and
it does not define any additional scopes at resource or operation level.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the API(s) defined in the
present specification. It consists of OpenAPI 3.0.0 specifications in YAML
format.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 1: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see clause 5.3.1 of 3GPP TS 29.501 [5]
and clause 5B of 3GPP TR 21.900 [7]).
# A.2 Naf_ProSe API
openapi: 3.0.0
info:
title: Naf_ProSe API
version: 1.0.1
description: \|
Naf_ProSe Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.557 V17.3.0; 5G System; Application Function ProSe Service; Stage
3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.557/
servers:
\- url: \'{apiRoot}/naf-prose/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- naf-prose
paths:
/authorize-discovery:
post:
summary: Obtain the authorization of Discovery Request from 5G DDNMF for a UE
operationId: ObtainDiscAuth
tags:
\- Obtain the authorization of Discovery Request for a UE
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthDisReqData\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthDisResData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
DiscoveryAuthorizationUpdateNotify:
\'{\$request.body#/authUpdateCallbackUri}\':
post:
requestBody:
description: >
update of authorization information to revoke discovery permissions
relating to some other users in the NF consumer for Restricted ProSe Direct
Discovery
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthUpdateData\'
responses:
\'204\':
description: Expected response to a valid notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/authorization-update-result:
post:
summary: >
report the result of update of authorization information to revoke discovery
permissions relating to some other users in the NF consumer for Restricted
ProSe Direct
Discovery
operationId: AuthorizationUpdateResult
tags:
\- Authorization Information Update Result
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthUpdateData\'
required: true
responses:
\'204\':
description: Expected response to a successful cancellation
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
naf-prose: Access to the Naf_ProSe API
schemas:
# COMPLEX TYPES:
AuthDisReqData:
type: object
description: >
Represents Data used to request the authorization for a UE of a 5G ProSe
Direct
Discovery request.
required:
\- authRequestType
properties:
authRequestType:
\$ref: \'#/components/schemas/AuthRequestType\'
proseAppId:
type: array
items:
\$ref:
\'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/ProseApplicationId\'
allowedSuffixNum:
\$ref: \'#/components/schemas/AllowedSuffixNum\'
appLevelContainer:
\$ref: \'#/components/schemas/AppLevelContainer\'
rpauid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Rpauid\'
targetRpauid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Rpauid\'
authUpdateCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
AuthDisResData:
type: object
description: >
Represents the obtained authorization Data for a UE of a 5G ProSe Direct
Discovery
request.
required:
\- authResponseType
properties:
authResponseType:
\$ref: \'#/components/schemas/AuthResponseType\'
proseAppCodeSuffixPool:
\$ref:
\'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/ProseApplicationCodeSuffixPool\'
pduids:
type: array
items:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Pduid\'
restrictedCodeSuffixPool:
type: array
items:
\$ref:
\'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/RestrictedCodeSuffixPool\'
proseAppMasks:
type: array
items:
\$ref:
\'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/ProseApplicationMask\'
proSeRestrictedMasks:
type: array
items:
\$ref: \'#/components/schemas/ProSeRestrictedMask\'
resAppLevelContainer:
\$ref: \'#/components/schemas/AppLevelContainer\'
targetDataSet:
type: array
items:
\$ref: \'#/components/schemas/TargetData\'
targetPduid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Pduid\'
metaData:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/MetaData\'
TargetData:
type: object
description: Represents a set of Target PDUID - Target RPAUID - Metadata
Indicator.
required:
\- targetRpauid
\- pduid
properties:
targetRpauid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Rpauid\'
pduid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Pduid\'
metadataIndic:
\$ref: \'#/components/schemas/MetadataIndic\'
AuthUpdateData:
type: object
description: >
Represents the update data and resulting update data of authorization
information
for Restricted ProSe Direct Discovery.
required:
\- targetRpauid
\- bannedAuthData
properties:
targetRpauid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Rpauid\'
bannedAuthData:
type: array
items:
\$ref: \'#/components/schemas/BannedAuthData\'
minItems: 1
BannedAuthData:
type: object
description: Represents a set of Banned PDUID - Banned RPAUID.
required:
\- bannedRpauid
\- bannedPduid
properties:
bannedRpauid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Rpauid\'
bannedPduid:
\$ref: \'TS29555_N5g-ddnmf_Discovery.yaml#/components/schemas/Pduid\'
revocationResult:
\$ref: \'#/components/schemas/RevocationResult\'
# SIMPLE TYPES:
AllowedSuffixNum:
description: contains the allowed number of suffixes.
type: integer
AppLevelContainer:
description: Contains the Application Level Container.
type: string
ProSeRestrictedMask:
description: Contains a ProSe Restricted Mask.
type: string
# ENUMS:
AuthRequestType:
anyOf:
\- type: string
enum:
\- OPEN_DISCOVERY_EXTENSION_ANNOUNCE
\- RESTRICTED_DISCOVERY_ANNOUNCE
\- RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE
\- OPEN_DISCOVERY_EXTENSION_MONITOR
\- RESTRICTED_DISCOVERY_MONITOR
\- RESTRICTED_DISCOVERY_EXTENSION_MONITOR
\- RESTRICTED_DISCOVERY_PERMISSION
\- RESTRICTED_DISCOVERY_RESPONSE
\- RESTRICTED_DISCOVERY_QUERY
\- RESTRICTED_DISCOVERY_MATCH
\- type: string
description: >
This string indicates the authorization request type for a 5G ProSe Direct
Discovery request.
description: \|
Possible values are:
\- OPEN_DISCOVERY_EXTENSION_ANNOUNCE: Indicates that the Authorization Request
Type is
open discovery with application-controlled extension/announce.
\- RESTRICTED_DISCOVERY_ANNOUNCE: Indicates that the Authorization Request
Type is restricted
discovery/announce.
\- RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE: Indicates that the Authorization
Request Type is
restricted discovery with application-controlled extension/announce.
\- OPEN_DISCOVERY_EXTENSION_MONITOR: Indicates that the Authorization Request
Type is open
discovery with application-controlled extension/monitor.
\- RESTRICTED_DISCOVERY_MONITOR: Indicates that the Authorization Request Type
is restricted
discovery/monitor.
\- RESTRICTED_DISCOVERY_EXTENSION_MONITOR: Indicates that the Authorization
Request Type is
restricted discovery with application-controlled extension/monitor.
\- RESTRICTED_DISCOVERY_PERMISSION: Indicates that the Authorization Request
Type is
restricted discovery/permission.
\- RESTRICTED_DISCOVERY_RESPONSE: Indicates that the Authorization Request
Type is restricted
discovery/response.
\- RESTRICTED_DISCOVERY_QUERY: Indicates that the Authorization Request Type
is restricted
discovery/query.
\- RESTRICTED_DISCOVERY_MATCH: Indicates that the Authorization Request Type
is restricted
discovery/match.
AuthResponseType:
anyOf:
\- type: string
enum:
\- OPEN_DISCOVERY_EXTENSION_ANNOUNCE_ACK
\- RESTRICTED_DISCOVERY_ANNOUNCE_ACK
\- RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE_ACK
\- OPEN_DISCOVERY_EXTENSION_MONITOR_ACK
\- RESTRICTED_DISCOVERY_MONITOR_ACK
\- RESTRICTED_DISCOVERY_EXTENSION_MONITOR_ACK
\- RESTRICTED_DISCOVERY_PERMISSION_ACK
\- RESTRICTED_DISCOVERY_RESPONSE_ACK
\- RESTRICTED_DISCOVERY_QUERY_ACK
\- RESTRICTED_DISCOVERY_MATCH_ACK
\- type: string
description: >
This string indicates the authorization response type for a 5G ProSe Direct
Discovery response.
description: \|
Possible values are:
\- OPEN_DISCOVERY_EXTENSION_ANNOUNCE_ACK: Indicates that the Authorization
Response Type is
open discovery with application-controlled extension/announce ack.
\- RESTRICTED_DISCOVERY_ANNOUNCE_ACK: Indicates that the Authorization
Response Type is
restricted discovery/announce ack.
\- RESTRICTED_DISCOVERY_EXTENSION_ANNOUNCE_ACK: Indicates that the
Authorization Response Type
is restricted discovery with application-controlled extension/announce ack.
\- OPEN_DISCOVERY_EXTENSION_MONITOR_ACK: Indicates that the Authorization
Response Type is
open discovery with application-controlled extension/monitor ack.
\- RESTRICTED_DISCOVERY_MONITOR_ACK: Indicates that the Authorization Response
Type is
restricted discovery/monitor ack.
\- RESTRICTED_DISCOVERY_EXTENSION_MONITOR_ACK: Indicates that the
Authorization Response Type
is restricted discovery with application-controlled extension/monitor ack.
\- RESTRICTED_DISCOVERY_PERMISSION_ACK: Indicates that the Authorization
Response Type is
restricted discovery/permission ack.
\- RESTRICTED_DISCOVERY_RESPONSE_ACK: Indicates that the Authorization
Response Type is
restricted discovery/response ack.
\- RESTRICTED_DISCOVERY_QUERY_ACK: Indicates that the Authorization Response
Type is
restricted discovery/query ack.
\- RESTRICTED_DISCOVERY_MATCH_ACK: Indicates that the Authorization Response
Type is
restricted discovery/match ack.
MetadataIndic:
anyOf:
\- type: string
enum:
\- NO_METADATA
\- METADATA_UPDATE_DISALLOWED
\- METADATA_UPDATE_ALLOWED
\- type: string
description: >
This string provides an indicator on whether metadata is allowed to be updated
or not.
description: \|
Possible values are
\- NO_METADATA: This value may be used to indicate that there is no metadata
associated with
the target RPAUID. This is the default value applicable if this IE is not
supplied.
\- METADATA_UPDATE_DISALLOWED: This value shall be used to indicate that there
exists metadata
associated with the target RPAUID, but the metadata is not allowed to be
updated.
\- METADATA_UPDATE_ALLOWED: This value shall be used to indicate that there
exists metadata
associated with the target RPAUID, and the metadata is allowed to be updated.
RevocationResult:
anyOf:
\- type: string
enum:
\- REVOCATION_SUCCESSFUL
\- REVOCATION_NOT_SUCCESSFUL
\- type: string
description: >
This string indicates the revocation result of a set of
Banned RPAUID - Banned PDUID for Restricted ProSe Direct Discovery.
description: \|
Possible values are
\- REVOCATION_SUCCESSFUL: Indicates the successful revocation for a set of
Banned RPAUID -
Banned PDUID for Restricted ProSe Direct Discovery.
\- REVOCATION_NOT_SUCCESSFUL: Indicates that unsuccessful revocation for a set
of Banned
RPAUID - Banned PDUID for Restricted ProSe Direct Discovery.
#