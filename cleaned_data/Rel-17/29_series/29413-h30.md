# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the applicability of NG Application Protocol
(NGAP) messages and procedures, defined in 3GPP TS 38.413 [2], to non-3GPP
access. A general description for non-3GPP access can be found in 3GPP TS
23.501 [3], 3GPP TS 23.502 [4], and 3GPP TS 23.316 [6].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.413: \"NG-RAN; NG Application Protocol (NGAP)\".
[3] 3GPP TS 23.501: \"System Architecture for the 5G System\".
[4] 3GPP TS 23.502: \"Procedures for the 5G System\".
[5] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[6] 3GPP TS 23.316: \"Wireless and wireline convergence access support for the
5G System (5GS)\".
[7] 3GPP TS 24.502: \"Access to the 3GPP 5G Core Network (5GCN) via Non-3GPP
Access Networks (N3AN)\".
# 3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5G-RG 5G Residential Gateway
FN-RG Fixed Network Residential Gateway
N3IWF Non-3GPP InterWorking Function
TNAP Trusted Non-3GPP Access Point
TNGF Trusted Non-3GPP Gateway Function
TWIF Trusted WLAN Interworking Function
W-AGF Wireline Access Gateway Function
# 4 Principles for the use of NGAP for non-3GPP access
## 4.1 General
TS 23.501 [3] specifies the NGAP used between the Non-3GPP access network node
and the AMF. The Non-3GPP access network node is either a Non-3GPP
InterWorking Function (N3IWF), or a Trusted Non-3GPP Gateway Function (TNGF),
or a Trusted WLAN Interworking Function (TWIF), or a Wireline Access Gateway
Function (W-AGF). NGAP is used as specified in TS 38.413 [2] with
clarifications or additions as specified in Clause 5.
# 5 Non-3GPP access
## 5.1 Use of the NGAP for non-3GPP access
The following NGAP procedures are used between the Non-3GPP access network
node and the AMF:
\- PDU Session Management Procedures
\- PDU Session Resource Setup
\- PDU Session Resource Release
\- PDU Session Resource Modify
\- PDU Session Resource Notify
\- UE Context Management Procedures
\- Initial Context Setup
\- UE Context Release Request
\- UE Context Release
\- UE Context Modification
\- Transport of NAS Messages Procedures
\- Initial UE Message
\- Downlink NAS Transport
\- Uplink NAS Transport
\- NAS Non Delivery Indication
\- Reroute NAS Request
\- Interface Management Procedures
\- NG Setup
\- RAN Configuration Update
\- AMF Configuration Update
\- NG Reset
\- Error Indication
\- AMF Status Indication
\- Overload Start
\- Overload Stop
\- UE TNLA Binding Procedures
\- UE TNLA Binding Release
For the NGAP procedures used between the Non-3GPP access network node and the
AMF, the Non-3GPP access network node fulfils the behaviour of the NG-RAN node
as specified in clause 8 of TS 38.413 [2], with clarifications as specified in
Clause 5.3. The text in clause 8 of TS 38.413 [2] referring to Uu should be
understood as referring to the Y2 reference point as specified in TS 23.501
[3].
## 5.2 NGAP messages used for non-3GPP access
The list given below shows the NGAP messages, as specified in TS 38.413 [2]
subclause 9.2 (tabular format) and 9.4
(ASN.1 notation) that are used between the Non-3GPP access network node and
the AMF.
\- PDU SESSION RESOURCE SETUP REQUEST
\- PDU SESSION RESOURCE SETUP RESPONSE
\- PDU SESSION RESOURCE RELEASE COMMAND
\- PDU SESSION RESOURCE RELEASE RESPONSE
\- PDU SESSION RESOURCE MODIFY REQUEST
\- PDU SESSION RESOURCE MODIFY RESPONSE
\- PDU SESSION RESOURCE NOTIFY
\- INITIAL CONTEXT SETUP REQUEST
\- INITIAL CONTEXT SETUP RESPONSE
\- INITIAL CONTEXT SETUP FAILURE
\- UE CONTEXT RELEASE REQUEST
\- UE CONTEXT RELEASE COMMAND
\- UE CONTEXT RELEASE COMPLETE
\- UE CONTEXT MODIFICATION REQUEST
\- UE CONTEXT MODIFICATION RESPONSE
\- UE CONTEXT MODIFICATION FAILURE
\- INITIAL UE MESSAGE
\- DOWNLINK NAS TRANSPORT
\- UPLINK NAS TRANSPORT
\- NAS NON DELIVERY INDICATION
\- REROUTE NAS REQUEST
\- NG SETUP REQUEST
\- NG SETUP RESPONSE
\- NG SETUP FAILURE
\- RAN CONFIGURATION UPDATE
\- RAN CONFIGURATION UPDATE ACKNOWLEDGE
\- RAN CONFIGURATION UPDATE FAILURE
\- AMF CONFIGURATION UPDATE
\- AMF CONFIGURATION UPDATE ACKNOWLEDGE
\- AMF CONFIGURATION UPDATE FAILURE
\- NG RESET
\- NG RESET ACKNOWLEDGE
\- ERROR INDICATION
\- AMF STATUS INDICATION
\- OVERLOAD START
\- OVERLOAD STOP
\- UE TNLA BINDING RELEASE REQUEST
## 5.3 Exceptions for NGAP message contents and information element coding
when used for non-3GPP access
For the NGAP messages transferred between the Non-3GPP access network node and
the AMF, the following exceptions to the specification in TS 38.413 [2] shall
be applied:
PDU SESSION RESOURCE SETUP REQUEST message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
\- _UE Aggregate Maximum Bit Rate_ IE (except for non-trusted non-3GPP access,
trusted non-3GPP access and trusted WLAN access as specified in TS 23.501
[3]).
\- _Notification Control_ IE included in the _QoS Flow Level QoS Parameters_
IE
\- _Alternative QoS Parameters Set List_ IE included in the _QoS Flow Level
QoS Parameters_ IE
\- _UE Slice Maximum Bit Rate List_ IE
PDU SESSION RESOURCE RELEASE COMMAND message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
PDU SESSION RESOURCE MODIFY REQUEST message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
\- _Notification Control_ IE included in the _QoS Flow Level QoS Parameters_
IE
\- _Alternative QoS Parameters Set List_ IE included in the _QoS Flow Level
QoS Parameters_ IE
INITIAL CONTEXT SETUP REQUEST message:
\- the following IEs shall be ignored, when received:
\- _Core Network Assistance Information_ _for RRC INACTIVE_ IE
\- _Trace Activation_ IE
\- _Mobility Restriction List_ IE
\- _UE Radio Capability_ IE
\- _Index to RAT/Frequency Selection Priority_ IE
\- _Emergency Fallback Indicator_ IE
\- _RRC Inactive Transition Report Request_ IE
\- _UE Radio Capability for Paging_ IE
\- _Redirection for Voice EPS Fallback_ IE
\- _Location Reporting Request Type_ IE
\- _CN Assisted RAN Parameters Tuning_ IE
\- _SRVCC Operation Possible_ IE
\- _IAB Authorized_ IE
\- _Enhanced Coverage Restriction_ IE
\- _Extended Connected Time_ IE
\- _UE Differentiation Information_ IE
\- _NR V2X Services Authorized_ IE
\- _LTE V2X Services Authorized_ IE
\- _NR UE Sidelink Aggregate Maximum Bit Rate_ IE
\- _LTE UE Sidelink Aggregate Maximum Bit Rate_ IE
\- _PC5 QoS Parameters_ IE
\- _CE-mode-B Restricted_ IE
\- _UE User Plane CIoT Support Indicator_ IE
\- _Management Based MDT PLMN List_ IE
\- _UE Radio Capability ID_ IE
\- _UE Aggregate Maximum Bit Rate_ IE (except for non-trusted non-3GPP access,
trusted non-3GPP access and trusted WLAN access as specified in TS 23.501 [3])
\- _UE Security Capabilities_ IE
\- _Time Synchronisation Assistance Information_ IE
\- _QMC Configuration Information_ IE
\- _Target NSSAI Information_ IE
\- _UE Slice Maximum Bit Rate List_ IE
\- _5G ProSe Authorized_ IE
\- _5G ProSe UE PC5 Aggregate Maximum Bit Rate_ IE
\- _5G ProSe PC5 QoS Parameters_ IE- _RG Level Wireline Access
Characteristics_ IE: the information given within this IE between the W-AGF
and the AMF shall be stored in the UE context by the W-AGF as specified in TS
23.316 [6].
\- _Notification Control_ IE included in the _QoS Flow Level QoS Parameters_
IE
\- _Alternative QoS Parameters Set List_ IE included in the _QoS Flow Level
QoS Parameters_ IE
UE CONTEXT RELEASE COMPLETE message:
\- the following IEs shall be ignored, when received:
\- _Information on Recommended Cells and RAN Nodes for Paging_ IE
\- _Paging Assistance Data for CE Capable UE_ IE
UE CONTEXT MODIFICATION REQUEST message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
\- _Index to RAT/Frequency Selection Priority_ IE
\- _Core Network Assistance Information_ IE
\- _Emergency Fallback Indicator_ IE
\- _RRC Inactive Transition Report Request_ IE
\- _CN Assisted RAN Parameters Tuning_ IE
\- _SRVCC Operation Possible_ IE
\- _IAB Authorized_ IE
\- _NR V2X Services Authorized_ IE
\- _LTE V2X Services Authorized_ IE
\- _NR UE Sidelink Aggregate Maximum Bit Rate_ IE
\- _LTE UE Sidelink Aggregate Maximum Bit Rate_ IE
\- _PC5 QoS Parameters_ IE
\- _UE Radio Capability ID_ IE
\- _UE Aggregate Maximum Bit Rate_ IE (except for non-trusted non-3GPP access,
trusted non-3GPP access and trusted WLAN access as specified in TS 23.501 [3])
\- _UE Security Capabilities_ IE
\- _Time Synchronisation Assistance Information_ IE
\- _QMC Configuration Information_ IE
\- _QMC Deactivation_ IE
\- _UE Slice Maximum Bit Rate List_ IE
\- _Management Based MDT PLMN Modification List_ IE
\- _5G ProSe Authorized_ IE
\- _5G ProSe UE PC5 Aggregate Maximum Bit Rate_ IE
\- _5G ProSe PC5 QoS Parameters_ IE
\- if this is the first message received from a new AMF, the N3IWF shall
identify the old AMF and the UE using the received _RAN UE NGAP ID,_ release
the UE-associated logical NG-connection to the old AMF and create a new UE-
associated logical NG-connection to the new AMF.
\- _RG Level Wireline Access Characteristics_ IE: the information given within
this IE between the W-AGF and the AMF shall be stored in the UE context by the
W-AGF as specified in TS 23.316 [6].
UE CONTEXT MODIFICATION RESPONSE message:
\- the following IEs shall be ignored, when received:
\- _RRC State_ IE
INITIAL UE MESSAGE message:
\- the following IEs shall be ignored, when received:
\- _IAB Node Indication_ IE
\- _CE-mode-B Support Indicator_ IE
\- _LTE-M Indication_ IE
\- _EDT Session_ IE
\- _NPN Access Information_ IE
\- _RedCap Indication_ IE
\- _RRC Establishment Cause_ IE: the information given within this IE is to
indicate the Establishment cause for non-3GPP access as specified in TS 24.502
[7].
\- _Selected PLMN Identity_ IE: the information given within this IE provides
the selected PLMN ID for untrusted non-3GPP access as specified in TS 23.502
[4].
\- _Authenticated Indication_ IE: the information given within this IE between
the W-AGF and the AMF is to indicate that the FN-RG has been authenticated by
the wireline 5G access network as specified in TS 23.316 [6].
\- _Selected PLMN Identity_ IE: the information given within this IE contains
the PLMN Identity for wireline access as specified in TS 23.316 [6], or for
trusted non-3GPP access as specified in TS 23.502 [4].
DOWNLINK NAS TRANSPORT message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
\- _Mobility Restriction List_ IE
\- _Index to RAT/Frequency Selection Priority_ IE
\- _SRVCC Operation Possible_ IE
\- _Enhanced Coverage Restriction_ IE
\- _Extended Connected Time_ IE
\- _UE Differentiation Information_ IE
\- _CE-mode-B Restricted_ IE
\- _UE Radio Capability_ IE
\- _UE Capability Info Request_ IE
\- _End Indication_ IE
\- _UE Radio Capability ID_ IE
\- _UE Aggregate Maximum Bit Rate_ IE (except for non-trusted non-3GPP access,
trusted non-3GPP access and trusted WLAN access as specified in TS 23.501 [3])
\- _Target NSSAI Information_ IE
UPLINK NAS TRANSPORT message:
\- _TNGF Identity Information_ IE: the information given within this IE
between the TNGF and the AMF contains a list of identifiers of NG-U
terminations at TNGF as specified in TS 23.502 [4].
\- _TWIF Identity Information_ IE: the information given within this IE
between the TWIF and the AMF contains a list of identifiers of NG-U
terminations at TWIF as specified in TS 23.502 [4].
\- _W-AGF Identity Information_ IE: the information given within this IE
between the W-AGF and the AMF contains a list of identifiers of NG-U
terminations at W-AGF as specified in TS 23.316 [6].
NG SETUP REQUEST message:
\- the following IEs shall be ignored, when received:
\- _Default Paging DRX_ IE
\- _NB-IoT Default Paging DRX_ IE
NG SETUP RESPONSE message:
\- the following IEs shall be ignored, when received:
\- _IAB Supported_ IE
RAN CONFIGURATION UPDATE message:
\- the following IEs shall be ignored, when received:
\- _Default Paging DRX_ IE
\- _NB-IoT Default Paging DRX_ IE
OVERLOAD START message:
\- _AMF Overload Response_ IE: if the _Overload Action_ IE is included, the
contained information is used to identify the related signalling traffic
corresponding to the Establishment cause for non-3GPP access as specified in
TS 24.502 [7].
\- _Slice Overload Response_ IE: if the _Overload Action_ IE is included, the
contained information is used to identify the related signalling traffic
corresponding to the Establishment cause for non-3GPP access as specified in
TS 24.502 [7].
The _Global RAN Node ID_ IE in the applicable NGAP messages includes the
following IEs as specified in TS 38.413 [2]:
\- _Global N3IWF ID_ IE for the untrusted non-3GPP access.
\- _Global TNGF ID_ IE for the trusted non-3GPP access.
\- _Global TWIF ID_ IE for the trusted WLAN access.
\- _Global W-AGF ID_ IE for the wireline 5G access.
The _User Location Information_ IE in the applicable NGAP messages includes
the following IEs as specified in TS 38.413 [2]:
\- _N3IWF User Location Information_ IE for the untrusted non-3GPP access.
\- _TNGF User Location Information_ IE for the trusted non-3GPP access.
\- _TWIF User Location Information_ IE for the trusted WLAN access.
\- _W-AGF User Location Information_ IE for the wireline 5G access.
The _Security Key_ IE in the applicable NGAP messages includes the K~N3IWF~,
or the K~TNGF~, or the K~TWIF,~ or the K~WAGF~ as specified in TS 33.501 [5].
The _RAN UE NGAP ID_ IE in the applicable NGAP messages identifies the UE
association over the NG interface within the N3IWF node, or the TNGF node, or
the TWIF node, or the W-AGF node, as specified in TS 38.413 [2].
## 5.4 Handling of NGAP messages not specified to be applicable between the
Non-3GPP access network node and AMF
If the Non-3GPP access network node or the AMF receive an NGAP message not
listed in section 5.2 as being applicable between the Non-3GPP access network
node and AMF, the receiving node shall act according to the criticality
defined for the elementary procedure and ignore the message or discard the
message and send an ERROR INDICATION message indicating that the procedure is
not supported, as specified in in TS 38.413 [2].
#