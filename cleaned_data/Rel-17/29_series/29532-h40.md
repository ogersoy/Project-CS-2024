# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Nmbsmf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the MB-SMF
with the exception of the MB-SMF Event Exposure service.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3]. The 5G Multicast-Broadcast Session
Management Services for 5G System is specified in 3GPP TS 23.247 [14].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[7] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[8] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[9] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[10] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[11] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[12] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services; Stage 2\".
[16] IETF RFC 6902: \"JavaScript Object Notation (JSON) Patch\".
[17] 3GPP TS 29.281: \"General Packet Radio System (GPRS) Tunnelling Protocol
User Plane (GTPv1-U)\".
[18] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[19] 3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General
Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C);
Stage 3\".
[20] 3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application
Protocol (NGAP)\".
[21] IETF RFC 2387: \"The MIME Multipart/Related Content-type\".
[22] IETF RFC 2045: \"Multipurpose Internet Mail Extensions (MIME) Part One:
Format of Internet Message Bodies\".
[23] 3GPP TS 29.537: \"5G System; Multicast/Broadcast Policy Control Services;
Stage 3\".
[24] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
For the definitions of the basic SBI notions (e.g. apiRoot, API URI, Callback
URI, etc.), SBI specific abbreviations (e.g. CRUD, YAML, etc.), special
characters, operators and delimiters that are used by SBI specifications, see
clause 3 in 3GPP TS 29.501 [5].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5MBS 5G Multicast-Broadcast Services
AF/AS Application Function / Application server
AMF Access and Mobility Management Function
C-TEID Common Tunnel Endpoint IDentifier
DNN Data Network Name
FSA Frequency Selection Area
F-TEID Fully Qualified TEID (i.e. IP address and TEID)
GTP-U GTP User plane
MBS Multicast/Broadcast Service
MBSF Multicast/Broadcast Service Function
MBSTF Multicast/Broadcast Service Transport Function
MB-SMF Multicast/Broadcast Session Management Function
MB-UPF Multicast/Broadcast User Plane Function
NEF Network Exposure Function
NF Network Function
NG-RAN Next Generation (5G) RAN
SMF Session Management Function
S-NSSAI Single Network Slice Selection Assistance Information
TEID Tunnel Endpoint IDentifier
TMGI Temporary Mobile Group Identity
UPF User Plane Function
URI Uniform Resource Identifier
# 4 Overview
## 4.1 Introduction
Within the 5GC, the MB-SMF offers services to the SMF, AMF, AF/AS, MBSF and
NEF via the Nmbsmf service based interface (see 3GPP TS 23.501 [2], 3GPP TS
23.502 [3] and 3GPP TS 23.247 [14]).
Figure 4.1-1 provides the reference model (in service based interface
representation and in reference point representation), with focus on the MB-
SMF and the scope of the present specification.
Figure 4.1-1: Reference model -- MB-SMF
N11mb is the reference point between MB-SMF and AMF.
N16mb is the reference point between MB-SMF and SMF.
N29mb is the reference point between MB-SMF and NEF.
Nmb1 is the reference point between MB-SMF and MBSF.
Nmb13 is the reference point between MB-SMF and AF/AS.
The functionalities supported by the MB-SMF are listed in clause 5.3.2.2 of
3GPP TS 23.247 [14].
# 5 Services offered by the MB-SMF
## 5.1 Introduction
Table 5.1-1 summarizes the SBI services produced by an MB-SMF.
Table 5.1-1: NF Services provided by MB-SMF
+--------------------+---------------------------+-------------------+ | Service Name | Description | Example Consumers | +====================+===========================+===================+ | Nmbsmf_TMGI | This service enables to | NEF, MBSF, AF | | | request the allocation or | | | | release of TMGI(s). | | | | Applicable to both | | | | Broadcast and Multicast | | | | services. | | +--------------------+---------------------------+-------------------+ | Nmbsmf_MBSSession | This service enables: | NEF, MBSF, AF | | | | | | | - to create, modify, | NEF, MBSF, AF | | | activate, deactivate and | | | | release a multicast MBS | SMF, AMF | | | session | | | | | SMF | | | - create, modify and | | | | release a broadcast MBS | NEF, MBSF, AF | | | session | | | | | | | | - request the start or | | | | termination of MBS data | | | | reception for a multicast | | | | MBS session | | | | | | | | - query information | | | | (e.g. QoS information) | | | | about a multicast MBS | | | | session and subscribe and | | | | unsubscribe to | | | | notifications of events | | | | about the multicast MBS | | | | session context and | | | | notify corresponding | | | | events to the subscribed | | | | NFs | | | | | | | | - subscribe and | | | | unsubscribe to | | | | notifications of events | | | | about status change of a | | | | broadcast or multicast | | | | MBS session and notify | | | | corresponding events to | | | | the subscribed NFs | | +--------------------+---------------------------+-------------------+
Table 5.1-2 summarizes the corresponding MB-SMF APIs defined in this
specification (see Annex A).
Table 5.1-2: MB-SMF API Descriptions
Service Name Clause Description OpenAPI Specification File apiName Annex
* * *
Nmbsmf_TMGI 5.2 MB-SMF TMGI Service TS29532_ Nmbsmf_TMGI.yaml nmbsmf_tmgi A.2
Nmbsmf_MBSSession 5.3 MB-SMF MBSSession Service TS29532_
Nmbsmf_MBSSession.yaml nmbsmf_mbssession A.3
## 5.2 Nmbsmf_TMGI Service
### 5.2.1 Service Description
The Nmbsmf_TMGI service operates on TMGI resources. It is applicable to both
Broadcast and Multicast services. The service operations exposed by this
service allow other NFs to request the allocation and release of TMGIs. The
following are the key functionalities of this NF service, as specified in
clause 9.1.2 of 3GPP TS23.247 [14]:
\- Requesting the allocation of one or more TMGI values, or requesting to
refresh the expiration time of the previous allocated TMGI(s);
\- Requesting the deallocation of one or more TMGI values.
Table 5.2.1-1 lists the service operations that are supported by the
Nmbsmf_TMGI service.
Table 5.2.1-1: Service operations supported by the Nmbsmf_TMGI service
+----------------+----------------+----------------+----------------+ | Service | Description | Operation | Example | | Operations | | | Consumers | | | | Semantics | | +================+================+================+================+ | Allocate | Request the | Request / | NEF, MBSF, AF | | | allocation of | Response | | | | one or more | | | | | TMGI values, | | | | | or refresh the | | | | | expiration | | | | | time of the | | | | | previously | | | | | allocated | | | | | TMGI(s). | | | +----------------+----------------+----------------+----------------+ | Deallocate | Request the | Request / | NEF, MBSF, AF | | | deallocation | Response | | | | of one or more | | | | | TMGI values. | | | +----------------+----------------+----------------+----------------+
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
See Table 5.2.1-1 for an overview of the service operations supported by the
Nmbsmf_TMGI service.
#### 5.2.2.2 TMGI Allocate service operation
##### 5.2.2.2.1 General
The TMGI Allocate service operation (Nmbsmf_TMGI_Allocate) shall be used by NF
Service Consumers to request the allocation of TMGI(s). The TMGI Allocate
service operation shall also be used to refresh the expiration time of the
previously allocated TMGI(s).
It is used in the following procedures:
\- MBS Session Creation with and without PCC (see clauses 7.1.1.2 and 7.1.1.3
in 3GPP TS 23.247 [14]).
The NF Service Consumer (e.g. NEF, MBSF and AF) shall trigger the allocation
of one or more TMGIs by using the HTTP POST method on the TMGI collection
resource (/tmgi), as shown in Figure 5.2.2.2.1-1.
Figure 5.2.2.2.1-1: TMGI allocation and TMGI refresh operations
1\. The NF Service Consumer shall send a POST request to the resource
representing the TMGI collection resource (/tmgi) of the MB-SMF. The payload
body (TmgiAllocate data structure) of the POST request shall contain:
\- the number of TMGIs to be allocated, if TMGI allocation is requested;
\- one or more TMGIs, if the expiration time of the previously allocated
TMGI(s) needs to be refreshed.
2a. On success, the MB-SMF shall return a 200 OK response with a payload body
(TmgiAllocated data structure), which contains the allocated TMGI(s) and their
expiration time, i.e. one expiration time for all TMGIs.
2b. On failure, or redirection, one of the HTTP status codes listed in Table
6.1.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails data structure with ProblemDetails structure with the
\"cause\" attribute set to one of the application error listed in Table
6.1.3.2.3.1-3.
#### 5.2.2.3 TMGI Deallocate service operation
##### 5.2.2.3.1 General
The TMGI Deallocate service operation (Nmbsmf_TMGI_Deallocate) shall be used
by NF Service Consumers to request the deallocation of one or more TMGI(s).
It is used in the following procedures:
\- MBS Session Deletion with and without PCC (see clauses 7.1.1.4 and 7.1.1.5
in 3GPP TS 23.247 [14]);
\- MBS Session Release for Broadcast (see clause 7.3.2 in 3GPP TS 23.247
[14]).
The NF Service Consumer (e.g. NEF, MBSF and AF) shall trigger the deallocation
of one or more TMGIs by using the HTTP DELETE method on the TMGI collection
resource (/tmgi), as shown in Figure 5.2.2.3.1-1.
Figure 5.2.2.3.1-1: TMGI deallocation
1\. The NF Service Consumer shall send a DELETE request to the resource
representing the TMGIs collection. Query parameters shall be used to indicate
the TMGI(s) to be deallocated. The NF Service Consumer may request to
deallocate all previously allocated TMGIs, or one or more specific TMGIs
previously allocated.
2a. On success, \"204 No Content\" shall be returned with empty message body.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.3.2-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.3.2.3.2-3.
## 5.3 Nmbsmf_MBSSession Service
### 5.3.1 Service Description
The Nmbsmf_MBSSession service operates on MBS Sessions. It is applicable to
both Broadcast and Multicast services. The service operations exposed by this
service allow other NFs to create, update and release MBS sessions. The
following are the key functionalities of this NF service, as specified in
clause 9.1.3 of 3GPP TS23.247 [14]:
\- Creation, modification and release of MBS contexts for MBS Sessions;
\- Requesting the start or termination of MBS data reception for a multicast
MBS session;
\- Subscribing to or unsubscribing from notifications of status change of
multicast MBS session context;
\- Subscribing to or unsubscribing from notifications of status change of a
broadcast or multicast MBS session.
Table 5.3.1-1 lists the service operations that are supported by
Nmbsmf_MBSSession service.
Table 5.3.1-1: Service operations supported by the Nmbsmf_MBSSession service
+----------------+----------------+----------------+----------------+ | Service | Description | Operation | Example | | Operations | | | Consumers | | | | Semantics | | +================+================+================+================+ | Create | Create a | Request / | NEF, MBSF, AF | | | multicast or | Response | | | | broadcast MBS | | | | | session | | | +----------------+----------------+----------------+----------------+ | Update | Update a | Request / | NEF, MBSF, AF | | | multicast or | Response | | | | broadcast MBS | | | | | session | | | +----------------+----------------+----------------+----------------+ | Delete | Delete a | Request / | NEF, MBSF, AF | | | multicast or | Response | | | | broadcast MBS | | | | | session | | | +----------------+----------------+----------------+----------------+ | ContextUpdate | Request the | Request / | AMF, SMF | | | start or | Response | | | | termination of | | | | | MBS data | | | | | reception for | | | | | a multicast | | | | | MBS session | | | +----------------+----------------+----------------+----------------+ | ContextS | Request | Subscribe/ | SMF | | tatusSubscribe | information | | | | | (e.g. QoS | Notify | | | | information) | | | | | about a | | | | | multicast MBS | | | | | session and | | | | | subscribe to | | | | | notification | | | | | of events | | | | | about the | | | | | multicast MBS | | | | | session | | | | | context | | | +----------------+----------------+----------------+----------------+ | ContextSta | Unsubscribe to | | SMF | | tusUnsubscribe | notification | | | | | of events | | | | | about the | | | | | multicast MBS | | | | | session | | | | | context | | | +----------------+----------------+----------------+----------------+ | Conte | Notify events | | SMF | | xtStatusNotify | about the | | | | | multicast MBS | | | | | session | | | | | context | | | +----------------+----------------+----------------+----------------+ | S | Subscribe to | Subscribe/ | NEF, MBSF, AF | | tatusSubscribe | notifications | | | | | of status | Notify | | | | change of a | | | | | broadcast or | | | | | multicast MBS | | | | | session | | | +----------------+----------------+----------------+----------------+ | Sta | Unsubscribe to | | NEF, MBSF, AF | | tusUnsubscribe | notifications | | | | | of status | | | | | change of a | | | | | broadcast or | | | | | multicast MBS | | | | | session | | | +----------------+----------------+----------------+----------------+ | StatusNotify | Notify status | | NEF, MBSF, AF | | | changes of a | | | | | multicast or | | | | | broadcast or | | | | | multicast MBS | | | | | session | | | +----------------+----------------+----------------+----------------+
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
See Table 5.3.1-1 for an overview of the service operations supported by the
Nmbsmf_MBSSession service.
#### 5.3.2.2 Create
##### 5.3.2.2.1 General
The Create service operation shall be used to create a multicast or a
broadcast MBS session, or for a location dependent MBS session, the part of an
MBS Session within an MBS service area.
NOTE: For a location dependent MBS service, the Create service operation is
performed per MBS service area of the MBS session.
It is used in the following procedures:
\- MBS Session Creation with or without PCC (see clauses 7.1.1.2 and 7.1.1.3
of 3GPP TS 23.247 [14]); and
\- MBS Session Start for Broadcast (see clause 7.3.1 of 3GPP TS 23.247 [14]).
For a location dependent MBS service, TMGI shall be used to identify the MBS
Session within 5GS. Different MBS Service Areas shall use different SSM
(source specific IP multicast) addresses if multicast transport is used over
N6mb.
The NF Service Consumer (e.g. NEF, MBSF or AF) shall create an MBS session, or
for a location dependent MBS session, the part of an MBS Session within an MBS
service area, by using the HTTP POST method as shown in Figure 5.3.2.2.1-1.
Figure 5.3.2.2.1-1: MBS session creation
1\. The NF Service Consumer shall send a POST request (CreateReqData
structure) targeting the MBS Sessions collection resource of the MB-SMF. The
payload body of the POST request shall contain the following information:
\- MBS Session ID (source specific IP multicast address or TMGI) and/or TMGI
allocation request indication;
\- MBS service type (either multicast or broadcast service);
\- the locationDependent IE set to true, for a location dependent MBS service;
\- MBS Service Area, for a location dependent MBS service or for a Local MBS
service.
The payload body of the POST request may further contain the following
parameters:
\- for a multicast or a broadcast MBS session:
\- ingress transport address request indication, if the allocation of an
ingress transport address is requested;
\- DNN;
\- S-NSSAI;
\- MBS start time;
\- MBS termination time;
\- MBS service information;
\- an MBS session status subscription request, including the list of MBS
session events requested to be subscribed, a Notify Correlation ID, the
Notification URI where to receive MBS session status notifications and the NF
instance ID of the subscribing NF, for subscribing to notifications of events
about the MBS session.
\- for a multicast MBS session:
\- session activity status (active/inactive);
\- indication that any UE may join the MBS session, for a multicast MBS
session;
\- if security protection is applied, the multicast session security context
containing MBS Service Key (MSK), MBS Traffic Key (MTK) and the corresponding
key IDs.
\- for a broadcast MBS session:
\- list of MBS FSA IDs.
2a. On success, the MB-SMF shall reserve ingress resources for the MBS session
and shall return a \"201 Created\" response. The \"Location\" header shall be
present and shall contain the URI of the created resource. The payload body of
the POST response (CreateRspData structure) shall contain a representation of
the created MBS session, including the following parameters:
\- the TMGI allocated to the MBS session and its expiration time, if the
request included a TMGI allocation request;
\- the Area Session ID allocated by the MB-SMF for the MBS session and MBS
service area, for a location-dependent MBS session;
\- MB-UPF tunnel information used between MB-UPF and MBSTF over Nmb9, or
between MB-UPF and AF/AS if unicast transport is used over N6mb;
\- list of MBS FSA IDs, if any, for a broadcast MBS session; and
\- a representation of the created MBS session status subscription, including
the list of MBS session events successfully subscribed, the URI of the created
subscription and the expiry time after which the subscription becomes invalid,
if the Create request includes the subscription to events about the MBS
session and the subscription was created successfully.
The POST response may also contain:
\- a list of event reports, if corresponding information is available.
For a location dependent MBS service, the MB-SMF shall allocate a unique Area
Session ID within the MBS session for the MBS Service Area.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.3.2.3.1-3.
#### 5.3.2.3 Update
##### 5.3.2.3.1 General
The Update service operation shall be used to update a multicast or a
broadcast MBS session, or for a location dependent MBS session, the part of an
MBS Session within an MBS service area.
NOTE: For a location dependent MBS service, the Update service operation is
performed per MBS service area of the MBS session.
It is used in the following procedures:
\- MBS Session Update with or without PCC (see clauses 7.1.1.6 and 7.1.1.7 of
3GPP TS 23.247 [14]); and
\- MBS Session Update for Broadcast (see clause 7.3.3 of 3GPP TS 23.247 [14]).
The NF Service Consumer (e.g. NEF, MBSF or AF) shall update an MBS session by
using the HTTP PATCH method with the URI of the individual MBS session as
shown in Figure 5.3.2.3.1-1.
Figure 5.3.2.3.1-1: MBS session update
1\. The NF Service Consumer shall send a PATCH request (PatchData) to update
the MBS session. The following parameters may be modified:
\- for a multicast or a broadcast MBS session:
\- MBS Service Area and/or;
\- MBS service information.
\- for a multicast MBS session:
\- session activity status (active/inactive) to activate or deactivate an MBS
session; and/or
\- if security protection is applied, the multicast session security context
containing MBS Service Key (MSK), MBS Traffic Key (MTK) and the corresponding
key IDs.
\- for a broadcast MBS session:
\- list of MBS FSA IDs.
If the \"indication that the PCF has to be contacted\" shall be conveyed in
the update request as defined in 3GPP TS 23.247 [14], the NF service consumer
shall include the corresponding \"contactPcfInd\" attribute within the set of
requested modifications.
2a. On success, the MB-SMF shall return a \"204 No Content\" response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.3.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.3.3.3.1-3.
#### 5.3.2.4 Release
##### 5.3.2.4.1 General
The Release service operation shall be used to delete a multicast or broadcast
MBS session, or for a location dependent MBS session, the part of an MBS
Session within an MBS service area.
NOTE: For a location dependent MBS service, the Release service operation is
performed per MBS service area of the MBS session.
It is used in the following procedures:
\- MBS Session Deletion with or without PCC (see clauses 7.1.1.4 and 7.1.1.5
of 3GPP TS 23.247 [14]); and
\- MBS Session Release for Broadcast (see clause 7.3.2 of 3GPP TS 23.247
[14]).
The NF Service Consumer (e.g. NEF, MBSF or AF) shall release an MBS session by
using the HTTP DELETE method with the URI of the individual MBS session as
shown in Figure 5.3.2.4.1-1.
Figure 5.3.2.4.1-1: MBS session release
1\. The NF Service Consumer shall send a DELETE request (mbsSessionRef) to
release the MBS session.
2a. On success, the MB-SMF shall release ingress resource for the MBS session
and return a \"204 No Content\" response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.3.3.2-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.3.3.3.2-3.
#### 5.3.2.5 ContextUpdate
##### 5.3.2.5.1 General
The ContextUpdate service operation shall be used to start or terminate MBS
data reception of a multicast MBS session, or for a location dependent
multicast MBS session, for the part of an MBS session within an MBS service
area.
NOTE: For a location dependent multicast MBS service, the ContextUpdate
service operation is performed per MBS service area of the MBS session.
It is used in the following procedures:
\- to start MBS data reception:
\- Multicast session join and session establishment procedure (see clause
7.2.1.3 of 3GPP TS 23.247 [14])
\- Establishment of shared delivery toward RAN node (see clause 7.2.1.4 of
3GPP TS 23.247 [14])
\- Xn based handover from MBS supporting NG-RAN node (see clause 7.2.3.2 of
3GPP TS 23.247 [14])
\- N2 based handover from MBS supporting NG-RAN node (see clause 7.2.3.3 of
3GPP TS 23.247 [14])
\- MBS session activation procedure (see clause 7.2.5.2 of 3GPP TS 23.247
[14])
\- to terminate MBS data reception:
\- MBS session Leave (see clause 7.2.2.2 of 3GPP TS 23.247 [14])
\- SMF removing joined UEs from MBS session (see clause 7.2.2.3 of 3GPP TS
23.247 [14])
\- Release of shared delivery toward RAN node (see clause 7.2.2.4 of 3GPP TS
23.247 [14])
\- MBS session deactivation procedure (see clause 7.2.5.3 of 3GPP TS 23.247
[14])
The NF Service Consumer (e.g. AMF or SMF) shall update the MBS session context
to start or terminate the MBS data reception of an MBS session by using the
HTTP POST method as shown in Figure 5.3.2.5.1-1.
Figure 5.3.2.5.1-1: Multicast MBS session Context Update
1\. The NF Service Consumer shall send a POST request targeting the /mbs-
sessions/contexts/update resource. The payload body of the POST request
(ContextUpdateReqData structure) shall contain the following information:
\- NF Instance ID of the NF Service Consumer;
\- MBS Session ID;
\- Area Session ID, for a location dependent MBS session;
\- if the NF Service Consumer is the SMF:
\- requested action (i.e. Start or terminate MBS data reception);
\- the (UPF) DL GTP-U F-TEID, to be used for starting or terminating MBS data
reception, if unicast transport is used over N19mb.
\- if the NF Service Consumer is the AMF:
\- RAN Node ID;
\- N2 MBS Session Management Container (see MBS Distribution Setup Request
Transfer IE and MBS Distribution Release Request Transfer IE specified in
clauses 9.3.5.7 and 9.3.5.10 of 3GPP TS 38.413 [20]), if an N2 MBS Session
Management Container has been received from the NG-RAN;
\- a Leave Indication, if it is the last NG-RAN controlled by the AMF serving
the multicast MBS session.
2a. On success, a \"200 OK\" response shall be returned, if additional
information needs to be returned in the response. The payload body of the POST
response (ContextUpdateRspData structure) may contain the following
parameters:
\- if the NF Service Consumer is the SMF and it was requested to start MBS
data reception:
\- the GTP-U Common TEID (C-TEID, see 3GPP TS 29.281 [17]) and the related IP
multicast source address of the MB-UPF, for data reception over N19mb using
multicast transport, if no DL GTP-U F-TEID was received in the request for
unicast transport;
\- if the NF Service Consumer is the AMF:
\- N2 MBS Session Management Container (see MBS Distribution Setup Response
Transfer IE or MBS Distribution Setup Unsuccessful Transfer IE specified in
clauses 9.3.5.8 and 9.3.5.9 of 3GPP TS 38.413 [20], if an N2 MBS Session
Management Container needs to be sent to the NG-RAN.
If the MB-SMF supports a deployment where NG-U termination can be shared by
multiple NG-RAN nodes, the MB-SMF shall check the information (e.g. NG-RAN
Node ID, NG-U DL F-TEID, etc.) carried in the N2 MBS Session Management
Container in step 1, and accordingly determine whether to maintain the
existing shared NG-U tunnel or request the MB-UPF to establish new shared NG-U
tunnel or release the existing shared NG-U tunnel, as specified in clause
7.2.1.4 and clause 7.2.2.4 of 3GPP TS 23.247 [14].
If the Leave indication was received in the request, the MB-SMF shall remove
the information of the AMF from the context of the multicast MBS session.
NOTE: The user plane from the MB-UPF to NG-RAN (for 5GC Shared MBS traffic
delivery) and the user plane from MB-UPF to UPFs (5GC Individual MBS traffic
delivery) may use multicast transport via a common GTP-U tunnel per MBS
session or use unicast transport via separate GTP-U tunnels at NG-RAN or at
UPF per MBS session.
2b. Otherwise, the MB-SMF shall return a \"204 No Content\" response if no
additional information needs to be returned in the response
2c. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.2.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
may contain a ProblemDetails structure with the \"cause\" attribute set to one
of the application errors listed in Table 6.2.3.2.4.2.2-2.
#### 5.3.2.6 StatusSubscribe service operation
##### 5.3.2.6.1 General
The StatusSubscribe service operation shall be used by an NF Service Consumer
(e.g. NEF, MBSF or AF) to create or to update a subscription to the MB-SMF
notifications related to the status of an MBS session or, for a location
dependent MBS session, the part of an MBS session within an MBS service area.
NOTE: For a location dependent MBS service, one StatusSubscribe service
operation is performed per MBS Service Area of the MBS session.
##### 5.3.2.6.2 Subscription creation
When the StatusSubscribe service operation is used for creating a
subscription, the NF Service Consumer (e.g. NEF, MBSF or AF) shall subscribe
to MB-SMF service notifications by using the HTTP POST method as shown in
Figure 5.3.2.6.2-1.
Figure 5.3.2.6.2-1: Subscribing to MB-SMF notifications
1\. The NF Service Consumer shall send a POST request to the resource URI
representing the \"/subscriptions\" collection resource in the MB-SMF (/mbs-
sessions/subscriptions). The request body shall include the data indicating
the type of notifications that the NF Service Consumer is interested in
receiving. The payload body of the POST request (StatusSubscribeReqData data
structure, see clause 6.2.6.2.7) shall contain:
\- the MBS Session ID (source specific IP multicast address or TMGI);
\- Area Session ID, for a location dependent MBS session;
\- the list of MBS session events requested to be subscribed.
\- the Notification URI, indicating the address where the MB-SMF shall send
the MBS session status notifications; and
\- the NF instance ID of the subscribing NF, if available.
The request body may also contain:
\- an expiry time suggested by the NF Service Consumer, representing the time
span during which the subscription is desired to be kept active; and
\- a Notification Correlation ID indicating the correlation identity to be
carried in event notifications generated by the subscription.
2a. On success, the MB-SMF shall return a \"201 Created\" response. The
\"Location\" header shall be present and shall contain the URI of the created
resource. The payload body of the POST response shall include a representation
of the created subscription (StatusSubscribeRspData data structure, see clause
6.2.6.2.8), with the following parameters:
\- MBS Session ID (source specific IP multicast address or TMGI);
\- Area Session ID, for a location dependent MBS session;
\- the list of MBS session events successfully subscribed; and
\- the expiry time after which the subscription becomes invalid.
The POST response may also contain:
\- a list of event reports, if corresponding information is available.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.4.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application error listed in the same Table 6.2.3.4.3.1-3).
##### 5.3.2.6.3 Subscription update
When the StatusSubscribe service operation is used for updating a
subscription, the NF Service Consumer (e.g. NEF, MBSF or AF) shall update its
subscription to MB-SMF notifications by using the HTTP PATCH method as shown
in Figure 5.3.2.6.3-1.
Figure 5.3.2.6.2-1: Updating a subscription to MB-SMF notifications
1\. The NF Service Consumer shall send a PATCH request to update the
individual subscription resource at the MB-SMF (/mbs-
sessions/subscriptions/{subscriptionId}). The message body contains an
array(PatchItem), where each PatchItem type indicates a requested change to
the MbsSessionSubscriptiondata (see clause 5.2.4.3 in 3GPP TS 29.571 [18]).
The following information may be requested to be modified with
array(PatchItem) structure (see Table 6.2.3.5.3.1-2):
\- Notification URI (callback URI), indicating the address where the MB-SMF
shall send the notifications;
\- Notification Correlation ID, indicating the correlation identity to be
carried in event notifications generated by the subscription;
\- New expiration time; and/or
\- List of MBS Session events.
2a. On success, the MB-SMF shall return a \"200 Ok\" response with a
representation of the modified subscription (MbsSessionSubscription data
structure, see clause 5.2.4.3 in 3GPP TS 29.571 [18]).
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.5.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application error listed in the same Table 6.2.3.5.3.1-3.
#### 5.3.2.7 StatusUnsubscribe
##### 5.3.2.7.1 General
The StatusUnsubscribe service operation shall be used by an NF Service
Consumer (e.g. NEF, MBSF or AF) to unsubscribe from the MB-SMF notifications
related to the status of the MBS session, or for a location dependent MBS
session, of the part of an MBS session within an MBS service area.
NOTE: For a location dependent multicast MBS service, the StatusUnsubscribe
service operation is performed per MBS service area of the MBS session.
The NF Service Consumer (e.g. NEF, MBSF or AF) shall unsubscribe from MB-SMF
service notifications by using the HTTP DELETE method as shown in Figure
5.3.2.7.1-1.
Figure 5.3.2.7.1-1: Unsubscribing from MB-SMF notifications
1\. The NF Service Consumer shall send a DELETE request to the resource URI
representing the individual subscription document resource in the MB-SMF
(/subscriptions/{subscriptionID}).
2\. On success, the MB-SMF shall return a \"204 No Content\" response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.5.3.2-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application error listed in the same Table 6.2.3.5.3.2-3.
#### 5.3.2.8 StatusNotify
##### 5.3.2.8.1 General
The StatusNotify service operation shall be used by the MB-SMF to notify a
subscribed NF Service Consumer (e.g. NEF, MBSF or AF) about the change in the
status of the MBS session, or for a location dependent MBS session, of the
part of an MBS session within an MBS service area.
NOTE: For a location dependent multicast MBS service, the StatusNotify service
operation is performed per MBS service area of the MBS session.
The MB-SMF shall notify the NF Service Consumer (e.g. NEF, MBSF or AF) by
using the HTTP POST method to the callback URI received earlier in the
subscription as shown in Figure 5.3.2.8.1-1.
Figure 5.3.2.8.1-1: MB-SMF notifications
1\. The MB-SMF shall send a POST request to the callback URI ({notifUri}) of
the subscribed NF Service Consumer. The payload body of the POST request
(StatusNotifyReqData data structure) shall contain:
\- Notification Correlation ID, if this information is available in the MBS
session status subscription;
\- the list of MBS session events to be reported;
\- When reporting a BROADCAST_DELIVERY_STATUS event:
\- the new broadcast delivery status (e.g. the MBS session has been ACTIVATED
or TERMINATED);
\- When reporting a INGRESS_TUNNEL_ADD_CHANGE event:
\- new ingress tunnel address used over the N6mb/Nmb9 reference point.
2a. On success, the MB-SMF shall return a \"204 No Content\" response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.5.2.3.1-2 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application error listed in the same Table 6.2.5.2.3.1-2).
#### 5.3.2.9 ContextStatusSubscribe
##### 5.3.2.9.1 General
The ContextStatusSubscribe service operation enables to create and modify a
subscription to notifications of events about a multicast MBS session context.
NOTE: For a location dependent MBS service, the ContextStatusSubscribe service
operation is performed per MBS session.
##### 5.3.2.9.2 Creation of a subscription
The ContextStatusSubscribe service operation shall be used to request
information (e.g. QoS information) about a multicast MBS session and subscribe
to notifications of events about the multicast MBS session context.
It is used in the following procedures:
\- Multicast session join and session establishment procedure (see clause
7.2.1.3 of 3GPP TS 23.247 [14]).
The NF Service Consumer may subscribe to multiple events in a subscription. A
subscription shall be specific to a multicast MBS session context.
The NF Service Consumer (e.g. SMF) shall request information (e.g. QoS
information) about a multicast MBS session and create a subscription to
notification of events about the multicast MBS session context by using the
HTTP POST method with the URI of the Subscriptions collection for MBS contexts
resource as shown in Figure 5.3.2.9.2-1.
Figure 5.3.2.9.2-1: Creation of a subscription for a multicast MBS session
context
1\. The NF Service Consumer shall send a POST request. The payload body of the
POST request (ContextStatusSubscribeReqData structure) shall contain the
description of the subscription requested to be created:
\- NF Instance ID of the NF Service Consumer creating the subscription;
\- MBS Session ID (i.e. TMGI or source specific multicast address) being the
target of the subscription;
\- Event ID(s) of the events to which the NF service consumer requests to
subscribe; and
\- Notification URI, indicating the address where to send the events
notifications generated by the subscription;
The payload body of the POST request may further contain the following
parameters:
\- Notification Correlation ID, indicating the correlation identitity to be
carried in event notifications generated by the subscription.
\- For each subscribed event:
\- Immediate Report Indication, to request to receive an immediate report in
the response with the current event status;
\- Reporting Mode, to indicate how event shall be reported (One-time Reporting
or Continuous);
\- Expiry time, indicating the time up to which the subscription is desired to
be kept active and after which the subscribed events shall stop generating
notifications.
In this release of the specification, the SMF shall subscribe to the
\"QOS_INFO\", \"STATUS_INFO\", \"SERVICE_AREA_INFO\", \"SESSION_RELEASE\",
\"SECURITY_INFO\" and \"MULT_TRANS_ADD_CHANGE\" events, with the Reporting
Mode set to \"Continuous event reporting\".
2a. On success, the MB-SMF shall return a \"201 Created\" response, with an
HTTP Location header providing the URI of the newly created resource.\ \ The
payload body of the POST response (ContextStatusSubscribeRspData structure)
shall include a representation of the created subscription. If the NF Service
Consumer has included more than one event in the subscription creation request
and some of the events cannot be subscribed, the MB-SMF shall accept the
request and indicate the successfully subscribed event(s) in the response.
If the NF Service Consumer has requested an Immediate Report, the MB-SMF shall
include the current status of the events subscribed in the response, if
available:
\- list of MBS QoS flows to set up (in the qosFlowsAddModRequestList IE) for
the multicast MBS session;
\- multicast MBS session\'s status (activated/deactivated);
\- multicast MBS session service area for local multicast service; and
\- if security protection is applied, the multicast session security context
containing MBS Service Key (MSK), MBS Traffic Key (MTK) and the corresponding
key IDs.
NOTE: No immediate report is generated for the MULT_TRANS_ADD_CHANGE event
type.
If the NF Service Consumer has requested One-time Reporting and if the MB-SMF
has included the current status of the events subscribed in the response, then
the MB-SMF shall not do any subsequent event notification for the subscribed
events.
The payload body of the POST response shall also contain the following
parameters:
\- the MBS Service Areas and their respective Area Session IDs, for a location
dependent MBS session; or
\- the MBS Service Area, for a local MBS session.
The payload body of the POST response may also contain the following
parameters:
\- start time of the multicast MBS session;
\- the GTP-U Common TEID (C-TEID, see 3GPP TS 29.281 [17]) and the related IP
multicast source address of the MB-UPF, for data reception over N19mb using
multicast transport, if IP multicast transport may apply over N19mb;
\- MBS session authorization information (i.e. indication whether the
multicast MBS session allows any UE to join);
\- Expiry time after which the subscription becomes invalid, determined based
on operator policies and taking into account the expiry time included in the
request if any. If an expiry time was included in the request, then the expiry
time returned in the response should be less than or equal to that value. The
NF Service Consumer may update the subscription before the Expiry time to
extend the subscription lifetime. Once the subscription expires, if the NF
Service Consumer wants to keep receiving notifications, it shall create a new
subscription in the MB-SMF. If the expiry time is not included in the
response, the NF Service Consumer shall consider the subscription to be valid
without an expiry time.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.6.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.3.6.3.1-3.
##### 5.3.2.9.3 Modification of a Subscription
The ContextStatusSubscribe service operation shall be used to modify an
existing subscription or extends the lifetime of an existing subscription to
notifications of events about a multicast MBS session context.
The NF Service Consumer shall modify the subscription by using HTTP method
PATCH with the URI of the individual subscription resource to be modified as
shown in Figure 5.3.2.9.3-1.
Figure 5.3.2.9.3-1: Modification of a subscription for a multicast MBS session
context
1\. The NF Service Consumer shall send a PATCH request (PatchData) targeting
the URI of the individual subscription resource to be modified. The payload
body of the PATCH request shall contain the description of the modifications
to apply to the subscription. The following information may be requested to be
modified:
\- NF Instance ID of the NF Service Consumer;
\- Notification URI, indicating the address where to send the events
notifications generated by the subscription;
\- Event ID(s) of the events to which the NF service consumer requests to
subscribe;
\- Notification Correlation ID, indicating the correlation identity to be
carried in event notifications generated by the subscription.
\- Expiry time, indicating the time up to which the subscription is desired to
be kept active and after which the subscribed events shall stop generating
notifications.
NOTE: A subscription can be modified e.g. when it is taken over by another SMF
in the same SMF set, or before the Expiry time expires.
2a. On success, the MB-SMF shall return a \"200 OK\" response, with the
payload body (ContextStatusSubscription) containing a representation of the
modified subscription.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.7.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.3.7.3.1-3.
#### 5.3.2.10 ContextStatusUnSubscribe
##### 5.3.2.10.1 General
The ContextStatusUnSubscribe service operation shall be used to unsubscribe to
notifications of events about a multicast MBS session context.
NOTE: For a location dependent MBS service, the ContextStatusUnSubscribe
service operation is performed per MBS session.
The NF Service Consumer (e.g. SMF) shall unsubscribe to notification of events
about a multicast MBS session context by using the HTTP DELETE method as shown
in Figure 5.3.2.10.1-1.
Figure 5.3.2.10.1-1: Deletion of a subscription for a multicast MBS session
context
1\. The NF Service Consumer shall send a DELETE request (subscriptionId)
targeting the subscription resource to be deleted.
2a. On success, the MB-SMF shall return a \"204 No Content\" response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.7.3.2-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.3.7.3.2-3.
#### 5.3.2.11 ContextStatusNotify
##### 5.3.2.11.1 General
The ContextStatusNotify service operation shall be invoked by the MB-SMF to
send a notification about event(s), when events about the multicast MBS
session context included in the subscription occur.
NOTE: For a location dependent MBS service, the ContextStatusNotify service
operation is performed per MBS session.
It is used in the following procedures:
\- Multicast session leave requested by the network or MBS session release
(see clause 7.2.2.3 of 3GPP TS 23.247 [14]);
\- MBS session activation procedure (see clause 7.2.5.2 of 3GPP TS 23.247
[14]);
\- MBS session deactivation procedure (see clause 7.2.5.3 of 3GPP TS 23.247
[14]); and
\- Multicast session update procedure (see clause 7.2.6 of 3GPP TS 23.247
[14]).
The MB-SMF shall notify event(s) about the multicast MBS session context by
using the HTTP POST method targeting the notification URI received in the
subscription as shown in Figure 5.3.2.11.1-1.
Figure 5.3.2.11.1-1: Notification of a multicast MBS session context event
1\. The MB-SMF shall send a POST request targeting the notification URI. The
notification, i.e. the payload body of the POST request
(ContextStatusNotifyReqData structure) shall contain the following
information:
\- Notification Correlation ID, if available in the subscription;
\- List of event(s) which occurred;
\- When reporting a MULT_TRANS_ADD_CHANGE event:
\- new multicast transport address (Low Layer SSM and C-TEID) used over the
N19mb reference point;
\- area session Id of the part of the location dependent MBS session for which
the new multicast transport address is provided, for a location dependent MBS
session;
\- When reporting a QOS_INFO event:
\- list of MBS QoS flows to add, modify and/or release (in the
qosFlowsAddModRequestList IE and/or qosFlowsRelRequestList) for the multicast
MBS session.
\- When reporting a SECURITY_INFO event:
> \- if security protection is applied, the multicast session security context
> containing MBS Service Key (MSK), MBS Traffic Key (MTK) and the
> corresponding key IDs.
2a. On success, a \"204 No Content\" response shall be returned.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.5.3.3.1-2 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.5.3.3.1-2.
# 6 API Definitions
## 6.1 Nmbsmf_TMGI Service API
### 6.1.1 Introduction
The Nmbsmf_TMGI service shall use the Nmbsmf_TMGI API.
The API URI of the Nmbsmf_TMGI API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nmbsmf-tmgi\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nmbsmf_TMGI API is contained in Annex A.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 6.1.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 6.1.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
### 6.1.3 Resources
#### 6.1.3.1 Overview
Figure 6.1.3.1-1 describes the resource URI structure of the Nmbsmf_TMGI API.
Figure 6.1.3.1-1: Resource URI structure of the Nmbsmf_TMGI API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+---------------+---------------+---------------+---------------+---+ | Resource | Resource URI | HTTP method | Description | | | purpose/name | (relative | or custom | | | | | path after | operation | (service | | | | API URI) | | operation) | | +===============+===============+===============+===============+===+ | TMGI | /tmgi | POST | Allocate | | | collection | | | | | +---------------+---------------+---------------+---------------+---+ | | | DELETE | Deallocate | | +---------------+---------------+---------------+---------------+---+
#### 6.1.3.2 Resource: TMGI collection
##### 6.1.3.2.1 Description
This resource represents the collection of the individual TMGI values that can
be assigned by the MB-SMF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-tmgi/\ /tmgi**
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1
##### 6.1.3.2.3 Resource Standard Methods
##### 6.1.3.2.3.1 POST {#post .H6}
This method requests the MB-SMF to allocate one or more TMGIs with
Nmbsmf_TMGI_Allocate service operation.
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
+--------------+---+-------------+----------------------------------+ | Data type | P | Cardinality | Description | +--------------+---+-------------+----------------------------------+ | TmgiAllocate | M | 1 | Representation of one or more | | | | | TMGIs to be allocated by the | | | | | MB-SMF. The Request Body shall | | | | | contain: | | | | | | | | | | - the requested number of TMGIs | | | | | (one or more), if TMGIs are | | | | | requested to be allocated; or | | | | | | | | | | - a list of TMGIs, if the | | | | | expiration time of previously | | | | | allocated TMGI(s) needs to be | | | | | refreshed. | +--------------+---+-------------+----------------------------------+
Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TmgiAllocated | C | 1 | 200 OK | Successful | | | | | | allocation of | | | | | | one or more | | | | | | TMGI(s) and | | | | | | their | | | | | | expiration | | | | | | time. | | | | | | A | | | | | | lternatively, | | | | | | if the | | | | | | expiration | | | | | | time of the | | | | | | previously | | | | | | allocated | | | | | | TMGI(s) needs | | | | | | to be | | | | | | refreshed, | | | | | | the Response | | | | | | Body shall | | | | | | contain the | | | | | | list of the | | | | | | TMGI(s) and | | | | | | their new | | | | | | expiration | | | | | | time. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | TMGI | | | | | | allocation or | | | | | | TMGI | | | | | | refreshment, | | | | | | the \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | MANDATORY_I | | | | | | E_INCORRECT, | | | | | | if the | | | | | | required TMGI | | | | | | number for | | | | | | TMGI | | | | | | allocation is | | | | | | not valid. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | TMGI | | | | | | allocation or | | | | | | TMGI | | | | | | refreshment, | | | | | | the \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | U | | | | | | NKNOWN_TMGI, | | | | | | if the TMGI | | | | | | to be | | | | | | refreshed is | | | | | | expired or | | | | | | not found in | | | | | | the MB-SMF. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the POST method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.1.3.2.3.1-5: Headers supported by the 200 response code on this
resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.1.3.2.3.1-6: Links supported by the 200 Response Code on this endpoint
* * *
Name Resource name HTTP method or custom operation Link parameter(s)
Description
* * *
Table 6.1.3.2.3.1-7: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.3.1-8: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.2.3.2 DELETE {#delete .H6}
This method deallocates one or more of the previously allocated individual
TMGIs in the MB-SMF with Nmbsmf_TMGI_Deallocate service operation.
This method shall support the URI query parameters specified in table
6.1.3.2.3.2-1.
Table 6.1.3.2.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability tmgi-list array(Tmgi) M
1..N The list of the TMGIs, which shall be deallocated by MB-SMF.
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.2-2 and the response data structures and response codes specified in
table 6.1.3.2.3.2-3.
Table 6.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.2.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | deletion of | | | | | | TMGI list. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if | | | | | | this is a | | | | | | redirection | | | | | | triggered by | | | | | | an SCP to the | | | | | | same target | | | | | | resource via | | | | | | another SCP. | | | | | | In the former | | | | | | case, the URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if | | | | | | this is a | | | | | | redirection | | | | | | triggered by | | | | | | an SCP to the | | | | | | same target | | | | | | resource via | | | | | | another SCP. | | | | | | In the former | | | | | | case, the URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | deletion of | | | | | | TMGI, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | > \- | | | | | | > U | | | | | | NKNOWN_TMGI, | | | | | | > if the TMGI | | | | | | > to be | | | | | | > deleted is | | | | | | > not found | | | | | | > in MB-SMF. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.2-4: Headers supported by the DELETE method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.1.3.2.3.2-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | String | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | String | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.3.2-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.2.4 Resource Custom Operations
None.
### 6.1.4 Custom Operations without associated resources
None.
### 6.1.5 Notifications
None.
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the Nmbsmf_TMGI service
based interface protocol.
Table 6.1.6.1-1: Nmbsmf_TMGI specific Data Types
Data type Clause defined Description Applicability
* * *
TmgiAllocate 6.1.6.2.2 TMGI Allocation Request Payload.  
TmgiAllocated 6.1.6.2.3 TMGI Allocation Response Payload.
Table 6.1.6.1-2 specifies data types re-used by the Nmbsmf_TMGI service based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the N~mbsmf~ service based interface.
Table 6.1.6.1-2: Nmbsmf_TMGI re-used Data Types
Data type Reference Comments Applicability
* * *
Tmgi 3GPP TS 29.571 [18] TMGI  
DateTime 3GPP TS 29.571 [18] Date and time  
Nid 3GPP TS 29.571 [18] NID, which is used in SNPN scenarios
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: TmgiAllocate
Table 6.1.6.2.2-1: Definition of type TmgiAllocate
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | t | integer | C | 0..1 | This IE | | | mgiNumber | | | | shall be | | | | | | | present | | | | | | | if TMGI | | | | | | | a | | | | | | | llocation | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | number of | | | | | | | TMGIs | | | | | | | requested | | | | | | | to be | | | | | | | a | | | | | | | llocated. | | | | | | | | | | | | | | Minimum: | | | | | | | 1. | | | | | | | Maximum: | | | | | | | 255. | | +-----------+-----------+---+-----------+-----------+-----------+ | tmgiList | ar | C | 1..N | This IE | | | | ray(Tmgi) | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | e | | | | | | | xpiration | | | | | | | time of | | | | | | | p | | | | | | | reviously | | | | | | | allocated | | | | | | | TMGIs | | | | | | | needs to | | | | | | | be | | | | | | | r | | | | | | | efreshed. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of | | | | | | | TMGI(s) | | | | | | | to be | | | | | | | r | | | | | | | efreshed. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.3 Type: TmgiAllocated
Table 6.1.6.2.3-1: Definition of type TmgiAllocated
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | tmgiList | ar | M | 1..N | One or | | | | ray(Tmgi) | | | more | | | | | | | TMGIs | | | | | | | allocated | | | | | | | by | | | | | | | MB-SMF. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | expir | DateTime | M | 1 | E | | | ationTime | | | | xpiration | | | | | | | time for | | | | | | | the | | | | | | | allocated | | | | | | | TMGI(s). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | nid | Nid | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NID, | | | | | | | which | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | included | | | | | | | in the | | | | | | | TMGIs, | | | | | | | i | | | | | | | dentifies | | | | | | | the SNPN | | | | | | | which | | | | | | | allocated | | | | | | | the | | | | | | | TMGIs. | | | | | | | (see | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 003 [7] | | | | | | | and | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 501 [8] | | | | | | | clause | | | | | | | 5 | | | | | | | .30.2.1). | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | This | | | | | | | attribute | | | | | | | is | | | | | | | necessary | | | | | | | if the | | | | | | | MB-SMF | | | | | | | allocates | | | | | | | TMGI(s) | | | | | | | and also | | | | | | | if the | | | | | | | MB-SMF | | | | | | | refreshes | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time of | | | | | | | earlier | | | | | | | allocated | | | | | | | TMGIs. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The Nmbsmf_TMGI API does not define any simple data types in this release of
the specification.
Table 6.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 6.1.6.3.3 Enumeration: \
The Nmbsmf_TMGI API does not define any enumerations in this release of the
specification.
##### 6.1.6.3.4 Void
#### 6.1.6.4 Data types describing alternative data types or combinations of
data types
None.
#### 6.1.6.5 Binary data
None.
### 6.1.7 Error Handling
#### 6.1.7.1 General
For the Nmbsmf_TMGI API, HTTP error responses shall be supported as specified
in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors
specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an
HTTP method if the corresponding HTTP status codes are specified as mandatory
for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nmbsmf_TMGI API.
#### 6.1.7.2 Protocol Errors
No specific procedures for the Nmbsmf_TMGI service are specified.
#### 6.1.7.3 Application Errors
The application errors defined for the Nmbsmf_TMGI service are listed in Table
6.1.7.3-1.
Table 6.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
UNKNOWN_TMGI 404 Not Found The requested TMGI Allocate or TMGI Deallocate
service operation failed, because requested TMGI expired or cannot be found.
### 6.1.8 Feature negotiation
The optional features in table 6.1.8-1 are defined for the Nmbsmf_TMGI API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.1.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nmbsmf_TMGI API may be authorized by means of the OAuth2 protocol (see IETF
RFC 6749 [9]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nmbsmf_TMGI API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nmbsmf_TMGI service.
The Nmbsmf_TMGI API defines a single scope \"nmbsmf-tmgi\" for the entire
service, and it does not define any additional scopes at resource or operation
level.
### 6.1.10 HTTP redirection
An HTTP request may be redirected to a different MB-SMF service instance,
within the same MB-SMF or a different MB-SMF of an MB-SMF set, e.g. when an
MB-SMF service instance is part of an MB-SMF (service) set or when using
indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different MB-SMF producer instance will return the NF
Instance ID of the new MB-SMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an MB-SMF within an MB-SMF set redirects a service request to a different
MB-SMF of the set using an 307 Temporary Redirect or 308 Permanent Redirect
status code, the identity of the new MB-SMF towards which the service request
is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the
307 Temporary Redirect or 308 Permanent Redirect response as specified in
clause 6.10.9.1 of 3GPP TS 29.500 [4].
## 6.2 Nmbsmf_MBSSession Service API
### 6.2.1 Introduction
The Nmbsmf_MBSSession shall use the Nmbsmf_MBSSession API.
The API URI of the Nmbsmf_MBSSession API shall be:
**{apiRoot}/\ /\/**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nmbsmf_mbssession\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause 5.3.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nmbsmf_MBSSession API is contained in Annex A.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 6.2.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [12], shall be used as content type of
the HTTP bodies specified in the present specification as specified in clause
5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by
the content type \"application/json\".
\- The \"Problem Details\" JSON object, as defined in IETF RFC 7807 [13],
shall be used to indicate additional details of the error in a HTTP response
body and shall be signalled by the content type \"application/problem+json\".
Multipart messages shall also be supported (see clause 6.2.2.4) using the
content type \"multipart/related\", comprising:
\- one JSON body part with the \"application/json\" content type; and
\- one binary body part with 3gpp vendor specific content subtypes.
The 3gpp vendor specific content subtypes defined in Table 6.5.2.2.2-1 shall
be supported.
Table 6.2.2.2.2-1: 3GPP vendor specific content subtypes
content subtype Description
* * *
vnd.3gpp.ngap Binary encoded payload, encoding NG Application Protocol (NGAP)
IEs, as specified in clause 9.3 of 3GPP TS 38.413 [20] (ASN.1 encoded). NOTE:
Using 3GPP vendor content subtypes allows to describe the nature of the opaque
payload (i.e. NGAP information) without having to rely on metadata in the JSON
payload.
See clause 6.2.2.4 for the binary payloads supported in the binary body part
of multipart messages.
#### 6.2.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
#### 6.2.2.4 HTTP multipart messages
HTTP multipart messages shall be supported, to transfer opaque N2 Information
in the following service operations (and HTTP messages):
\- ContextUpdate Request and Response (POST).
HTTP multipart messages shall include one JSON body part and one binary body
parts comprising:
\- N2 MBS Session Management information (see clause 6.2.6.5).
The JSON body part shall be the \"root\" body part of the multipart message.
It shall be encoded as the first body part of the multipart message. The
\"Start\" parameter does not need to be included.
The multipart message shall include a \"type\" parameter (see IETF RFC 2387
[21]) specifying the media type of the root body part, i.e.
\"application/json\".
NOTE: The \"root\" body part (or \"root\" object) is the first body part the
application processes when receiving a multipart/related message, see IETF RFC
2387 [21]. The default root is the first body within the multipart/related
message. The \"Start\" parameter indicates the root body part, e.g. when this
is not the first body part in the message.
For each binary body part in a HTTP multipart message, the binary body part
shall include a Content-ID header (see IETF RFC 2045 [22]), and the JSON body
part shall include an attribute, defined with the RefToBinaryData type, that
contains the value of the Content-ID header field of the referenced binary
body part.
### 6.2.3 Resources
#### 6.2.3.1 Overview
Figure 6.2.3.1-1 describes the resource URI structure of the Nmbsmf_MBSSession
API.
Figure 6.2.3.1-1: Resource URI structure of the Nmbsmf_MBSSession API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +================+================+================+================+ | MBS sessions | /mbs-sessions | POST | Create | | collection | | | | +----------------+----------------+----------------+----------------+ | | / | update | ContextUpdate | | | mbs-sessions/c | | | | | ontexts/update | (POST) | | +----------------+----------------+----------------+----------------+ | Individual MBS | / | PATCH | Update | | session | mbs-sessions/{ | | | | | mbsSessionRef} | | | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete | +----------------+----------------+----------------+----------------+ | Subscriptions | /mbs-sessions | POST | S | | collection for | /subscriptions | | tatusSubscribe | | MBS sessions | | | | | | | | (to create a | | | | | subscription) | | | | | | | | | | (NOTE 1, NOTE | | | | | 2) | +----------------+----------------+----------------+----------------+ | Individual | /m | PATCH | S | | subscription | bs-sessions/su | | tatusSubscribe | | for an MBS | bscriptions/{s | | | | session | ubscriptionId} | | (to update or | | | | | renew a | | | | | subscription) | +----------------+----------------+----------------+----------------+ | | | DELETE | Sta | | | | | tusUnsubscribe | +----------------+----------------+----------------+----------------+ | Subscriptions | /mbs-ses | POST | ContextS | | collection for | sions/contexts | | tatusSubscribe | | MBS contexts | /subscriptions | | | | | | | (to create a | | | | | subscription) | | | | | | | | | | (NOTE 2) | +----------------+----------------+----------------+----------------+ | Individual | /mbs-sessio | PATCH | ContextS | | subscription | ns/contexts/su | | tatusSubscribe | | for an MBS | bscriptions/{s | | | | context | ubscriptionId} | | (to update or | | | | | renew a | | | | | subscription) | +----------------+----------------+----------------+----------------+ | | | DELETE | ContextSta | | | | | tusUnsubscribe | +----------------+----------------+----------------+----------------+ | NOTE 1: A | | | | | subscription | | | | | to an MBS | | | | | session may be | | | | | performed | | | | | after the MBS | | | | | session is | | | | | created using | | | | | the POST | | | | | method on this | | | | | resource, or | | | | | alternatively | | | | | during the | | | | | creation of | | | | | the MBS | | | | | session. | | | | | | | | | | NOTE 2: The | | | | | StatusNotify | | | | | and | | | | | Conte | | | | | xtStatusNotify | | | | | service | | | | | operations are | | | | | defined in | | | | | c | | | | | lause 6.2.6.1. | | | | +----------------+----------------+----------------+----------------+
#### 6.2.3.2 Resource: MBS sessions collection (Collection)
##### 6.2.3.2.1 Description
This resource represents the collection of the individual MBS sessions created
in the MB-SMF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [5]).
##### 6.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-mbssession/\ /mbs-sessions**
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1
##### 6.2.3.2.3 Resource Standard Methods
##### 6.2.3.2.3.1 POST {#post-1 .H6}
This method creates an individual MBS session resource in the MB-SMF.
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.1-2 and the response data structures and response codes specified in
table 6.2.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description CreateReqData M 1 Representation of the
MBS session to be created in the MB-SMF
* * *
Table 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | CreateRspData | M | 1 | 201 Created | Successful | | | | | | creation of | | | | | | an MBS | | | | | | session | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | When used to | | roblemDetails | | | Request | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | creation, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | IN | | | | | | VALID_MBS_S | | | | | | ERVICE_INFO, | | | | | | if the | | | | | | provided MBS | | | | | | Service | | | | | | Information | | | | | | is invalid | | | | | | (e.g. invalid | | | | | | QoS | | | | | | reference), | | | | | | incorrect or | | | | | | insufficient | | | | | | to perform | | | | | | MBS policy | | | | | | a | | | | | | uthorization, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | | | | | | | | | | | | - | | | | | | FILTER_RES | | | | | | TRICTIONS_NO | | | | | | T_RESPECTED, | | | | | | if the MBS IP | | | | | | flow(s) | | | | | | description | | | | | | provided | | | | | | within the | | | | | | MBS Service | | | | | | Information | | | | | | cannot be | | | | | | handled due | | | | | | to the | | | | | | restrictions | | | | | | defined in | | | | | | clause 5.3.8 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.214 [24] | | | | | | not being | | | | | | respected, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | | | | | | | | | | | | - | | | | | | ERROR_INPUT | | | | | | _PARAMETERS, | | | | | | if the | | | | | | provided set | | | | | | of input | | | | | | parameters | | | | | | are | | | | | | incomplete, | | | | | | erroneous or | | | | | | missing | | | | | | necessary | | | | | | information | | | | | | to perform | | | | | | MBS policy | | | | | | control, e.g. | | | | | | if the PCF | | | | | | rejected the | | | | | | creation or | | | | | | update of an | | | | | | MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 403 Forbidden | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | creation, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | MBS_ | | | | | | SESSION_ALRE | | | | | | ADY_CREATED, | | | | | | if MBS | | | | | | session to be | | | | | | created has | | | | | | already been | | | | | | created in | | | | | | the MB-SMF. | | | | | | | | | | | | - | | | | | | OVERLA | | | | | | PPING_MBS_S | | | | | | ERVICE_AREA, | | | | | | if the new | | | | | | MBS service | | | | | | area overlaps | | | | | | with the | | | | | | service area | | | | | | of any MBS | | | | | | session with | | | | | | the same MBS | | | | | | session | | | | | | identifier. | | | | | | | | | | | | - | | | | | | MBS_SERVI | | | | | | CE_INFO_NOT | | | | | | _AUTHORIZED, | | | | | | if the | | | | | | provided MBS | | | | | | Service | | | | | | Information | | | | | | is not | | | | | | authorized to | | | | | | perform MBS | | | | | | policy | | | | | | a | | | | | | uthorization, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | | | | | | | | | | | | - | | | | | | MBS | | | | | | _POLICY_CON | | | | | | TEXT_DENIED, | | | | | | if the | | | | | | request is | | | | | | rejected due | | | | | | to operator | | | | | | policies | | | | | | and/or local | | | | | | c | | | | | | onfiguration, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | creation, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | U | | | | | | NKNOWN_TMGI, | | | | | | if the TMGI | | | | | | indicated in | | | | | | the | | | | | | mbsSessionId | | | | | | IE is not | | | | | | found in the | | | | | | MB-SMF. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.2.3.1-4: Headers supported by the POST method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.2.3.1-5: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nmbsmf-
mbssession/\/mbs-sessions/{mbsSessionRef}
* * *
Table 6.2.3.2.3.1-6: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.2.3.1-7: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.2.4 Resource Custom Operations
##### 6.2.3.2.4.1 Overview {#overview-3 .H6}
Table 6.2.3.2.4.1-1: Custom operations
Operation name Custom operaration URI Mapped HTTP method Description
* * *
update /mbs-sessions/contexts/update POST ContextUpdate service operation
##### 6.2.3.2.4.2 Operation: update {#operation-update .H6}
##### 6.2.3.2.4.2.1 Description {#description-2 .H6}
See clause 5.3.2.5.1.
##### 6.2.3.2.4.2.2 Operation Definition {#operation-definition .H6}
This operation shall support the request data structures specified in table
6.2.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.2.3.2.4.2.2-2.
Table 6.2.3.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
ContextUpdateReqData M 1 Data within the ContextUpdate Request
Table 6.2.3.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Context | M | 1 | 200 OK | Data in the | | UpdateRspData | | | | ContextUpdate | | | | | | Response | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | context | | | | | | update, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | U | | | | | | NKNOWN_TMGI, | | | | | | if the TMGI | | | | | | provided in | | | | | | the request | | | | | | does not | | | | | | exist in the | | | | | | MB-SMF. | | | | | | | | | | | | - | | | | | | UNKNOWN_ | | | | | | MBS_SESSION, | | | | | | if the | | | | | | indicated MBS | | | | | | session is | | | | | | not found in | | | | | | the MB-SMF. | | | | | | | | | | | | - | | | | | | UN | | | | | | KNOWN_MBS_S | | | | | | ERVICE_AREA, | | | | | | if the MBS | | | | | | Area Session | | | | | | ID in the | | | | | | request | | | | | | cannot be | | | | | | found for a | | | | | | location | | | | | | dependent MBS | | | | | | session. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.2.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.2.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.2.3.3 Resource: Individual MBS session (Document)
##### 6.2.3.3.1 Description
This resource represents an individual MBS session created in the MB-SMF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-mbssession/\ /mbs-
sessions/{mbsSessionRef}**
This resource shall support the resource URI variables defined in table
6.2.3.3.2-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 mbsSessionRef string MBS session reference
assigned by the MB-SMF during the Create service operation
##### 6.2.3.3.3 Resource Standard Methods
##### 6.2.3.3.3.1 PATCH {#patch .H6}
This method updates an individual MBS session resource in the MB-SMF.
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.3.3.1-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.3.1-3.
Table 6.2.3.3.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 List of changes to be
made to the MBS session resource (i.e. ExtMbsSession data type), according to
the JSON PATCH format specified in IETF RFC 6902 [16].
* * *
Table 6.2.3.3.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | When used to | | roblemDetails | | | Request | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | update, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | IN | | | | | | VALID_MBS_S | | | | | | ERVICE_INFO, | | | | | | if the | | | | | | provided MBS | | | | | | Service | | | | | | Information | | | | | | is invalid | | | | | | (e.g. invalid | | | | | | QoS | | | | | | reference), | | | | | | incorrect or | | | | | | insufficient | | | | | | to perform | | | | | | MBS policy | | | | | | a | | | | | | uthorization, | | | | | | e.g if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | | | | | | | | | | | | - | | | | | | FILTER_RES | | | | | | TRICTIONS_NO | | | | | | T_RESPECTED, | | | | | | if the MBS IP | | | | | | flow(s) | | | | | | description | | | | | | provided | | | | | | within the | | | | | | MBS Service | | | | | | Information | | | | | | cannot be | | | | | | handled due | | | | | | to the | | | | | | restrictions | | | | | | defined in | | | | | | clause 5.3.8 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.214 [24] | | | | | | not being | | | | | | respected, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | | | | | | | | | | | | - | | | | | | ERROR_INPUT | | | | | | _PARAMETERS, | | | | | | if the | | | | | | provided set | | | | | | of input | | | | | | parameters | | | | | | are | | | | | | incomplete, | | | | | | erroneous or | | | | | | missing | | | | | | necessary | | | | | | information | | | | | | to perform | | | | | | MBS policy | | | | | | control, e.g. | | | | | | if the PCF | | | | | | rejected the | | | | | | creation or | | | | | | update of an | | | | | | MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 403 Forbidden | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | update, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | MBS_SERVI | | | | | | CE_INFO_NOT | | | | | | _AUTHORIZED, | | | | | | if the | | | | | | provided MBS | | | | | | Service | | | | | | Information | | | | | | is not | | | | | | authorized to | | | | | | perform MBS | | | | | | policy | | | | | | a | | | | | | uthorization, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | | | | | | | | | | | | - | | | | | | MBS | | | | | | _POLICY_CON | | | | | | TEXT_DENIED, | | | | | | if the | | | | | | request is | | | | | | rejected due | | | | | | to operator | | | | | | policies | | | | | | and/or local | | | | | | c | | | | | | onfiguration, | | | | | | e.g. if the | | | | | | PCF rejected | | | | | | the creation | | | | | | or update of | | | | | | an MBS Policy | | | | | | Association | | | | | | with the same | | | | | | error (see | | | | | | 3GPP TS 2 | | | | | | 9.537 [23]) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | update, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | UNKNOWN_ | | | | | | MBS_SESSION, | | | | | | if the | | | | | | indicated MBS | | | | | | session is | | | | | | not found in | | | | | | the MB-SMF. | | | | | | | | | | | | - | | | | | | UN | | | | | | KNOWN_MBS_S | | | | | | ERVICE_AREA, | | | | | | if the | | | | | | indicated MBS | | | | | | Area Session | | | | | | ID is not | | | | | | found for a | | | | | | location | | | | | | dependent MBS | | | | | | session. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.3.3.2 DELETE {#delete-1 .H6}
This method deletes an individual MBS session resource in the MB-SMF.
This method shall support the URI query parameters specified in table
6.2.3.2.3.2-1.
Table 6.2.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.2-2 and the response data structures and response codes specified in
table 6.2.3.3.3.2-3.
Table 6.2.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | MBS session | | | | | | delete, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | UNKNOWN_ | | | | | | MBS_SESSION, | | | | | | if the | | | | | | indicated MBS | | | | | | session is | | | | | | not found in | | | | | | the MB-SMF. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.3.4 Resource Custom Operations
None.
#### 6.2.3.4 Resource: Subscriptions collection for MBS sessions (Collection)
##### 6.2.3.4.1 Description
This resource represents the collection of the individual subscriptions for
MBS sessions that are created in the MB-SMF with StatusSubscribe service
operation.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [5]).
##### 6.2.3.4.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-mbssession/\ /mbs-
sessions/subscriptions**
This resource shall support the resource URI variables defined in table
6.2.3.4.2-1.
Table 6.2.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1
##### 6.2.3.4.3 Resource Standard Methods
##### 6.2.3.4.3.1 POST {#post-2 .H6}
This method creates an individual subscription resource for an MBS session in
the MB-SMF with StatusSubscribe service operation.
This method shall support the URI query parameters specified in table
6.2.3.4.3.1-1.
Table 6.2.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.4.3.1-2 and the response data structures and response codes specified in
table 6.2.3.4.3.1-3.
Table 6.2.3.4.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description StatusSubscribeReqData M 1 Data within the
StatusSubscribe Request
* * *
Table 6.2.3.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | StatusSub | M | 1 | 201 Created | Data within | | scribeRspData | | | | the | | | | | | St | | | | | | atusSubscribe | | | | | | Response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | subscription | | | | | | to MBS | | | | | | session, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | UNKNOWN_ | | | | | | MBS_SESSION, | | | | | | if the | | | | | | indicated MBS | | | | | | session is | | | | | | not found in | | | | | | the MB-SMF. | | | | | | | | | | | | - | | | | | | UN | | | | | | KNOWN_MBS_S | | | | | | ERVICE_AREA, | | | | | | if the | | | | | | requested MBS | | | | | | Area Session | | | | | | ID is not | | | | | | found for a | | | | | | location | | | | | | dependent MBS | | | | | | session. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.4.3.1-4: Headers supported by the POST method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.4.3.1-5: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nmbsmf-
mbssession/\/mbs-sessions/subscriptions/{subscriptionId}
* * *
Table 6.2.3.4.3.1-6: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.4.3.1-7: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.4.4 Resource Custom Operations
None.
#### 6.2.3.5 Resource: Individual subscription for an MBS session (Document)
##### 6.2.3.5.1 Description
This resource represents an individual subscription for an MBS session in the
MB-SMF, which are updated with StatusSubscribe service operation, or are
deleted with StatusUnsubscribe service operation.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.2.3.5.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-mbssession/\ /mbs-
sessions/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.2.3.5.2-1.
Table 6.2.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 subscriptionId string Subscription identifier
assigned by the MB-SMF during the creation of the subscription
##### 6.2.3.5.3 Resource Standard Methods
##### 6.2.3.5.3.1 PATCH {#patch-1 .H6}
This method updates an individual subscription resource for an MBS session in
the MB-SMF with StatusSubscribe service operation for the subscription update
(see clause 5.3.2.6.3).
This method shall support the URI query parameters specified in table
6.2.3.5.3.1-1.
Table 6.2.3.5.3.1-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.5.3.1-2 and the response data structures and response codes specified in
table 6.2.3.5.3.1-3.
Table 6.2.3.5.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It shall contain the
list of changes to be made to the Status Subscription (i.e.
MbsSessionSubscription data type), according to the JSON PATCH format
specified in IETF RFC 6902 [16].
* * *
Table 6.2.3.5.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsSessio | M | 1 | 200 OK | Upon success, | | nSubscription | | | | a response | | | | | | body shall be | | | | | | returned | | | | | | containing | | | | | | the updated | | | | | | Status | | | | | | Subscription. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.5.3.1-4: Headers supported by the PATCH method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.5.3.1-5: Headers supported by the 200 response code on this
resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.5.3.1-6: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.5.3.1-7: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.5.3.2 DELETE {#delete-2 .H6}
This method deletes an individual subscription resource for an MBS session in
the MB-SMF with StatusUnsubscribe service operation.
This method shall support the URI query parameters specified in table
6.2.3.5.3.2-1.
Table 6.2.3.5.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.5.3.2-2 and the response data structures and response codes specified in
table 6.2.3.5.3.2-3.
Table 6.2.3.5.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.5.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | deletion | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.5.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.5.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.5.4 Resource Custom Operations
None.
#### 6.2.3.6 Resource: Subscriptions collection for MBS contexts (Collection)
##### 6.2.3.6.1 Description
This resource represents the collection of the individual subscriptions for
MBS contexts created in the MB-SMF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [5]).
##### 6.2.3.6.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-mbssession/\ /mbs-
sessions/contexts/subscriptions**
This resource shall support the resource URI variables defined in table
6.2.3.6.2-1.
Table 6.2.3.6.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1
##### 6.2.3.6.3 Resource Standard Methods
##### 6.2.3.6.3.1 POST {#post-3 .H6}
This method creates an individual subscription resource for an MBS context in
the MB-SMF.
This method shall support the URI query parameters specified in table
6.2.3.6.3.1-1.
Table 6.2.3.6.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.6.3.1-2 and the response data structures and response codes specified in
table 6.2.3.6.3.1-3.
Table 6.2.3.6.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ContextStatusSubscribeReqData M 1 Data
within the ContextStatusSubscribe Request
* * *
Table 6.2.3.6.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Con | M | 1 | 201 Created | Data within | | textStatusSub | | | | the | | scribeRspData | | | | ContextSt | | | | | | atusSubscribe | | | | | | Response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When used to | | roblemDetails | | | | represent an | | | | | | unsuccessful | | | | | | subscription | | | | | | to MBS | | | | | | session | | | | | | context, the | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | may be used | | | | | | to include | | | | | | one of the | | | | | | following | | | | | | application | | | | | | error codes: | | | | | | | | | | | | - | | | | | | UNKNOWN_ | | | | | | MBS_SESSION, | | | | | | if indicated | | | | | | the MBS | | | | | | session is | | | | | | not found in | | | | | | the MB-SMF. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.6.3.1-4: Headers supported by the POST method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.6.3.1-5: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nmbsmf-
mbssession/\/mbs-sessions/contexts/subscriptions/{subscriptionId}
* * *
Table 6.2.3.6.3.1-6: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.6.3.1-7: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.6.4 Resource Custom Operations
None.
#### 6.2.3.7 Resource: Individual subscription for an MBS context (Document)
##### 6.2.3.7.1 Description
This resource represents an individual subscription for an MBS context created
in the MB-SMF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.2.3.7.2 Resource Definition
Resource URI: **{apiRoot}/nmbsmf-mbssession/\ /mbs-
sessions/contexts/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.2.3.7.2-1.
Table 6.2.3.7.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 subscriptionId string Subscription identifier
assigned by the MB-SMF during the creation of the subscription
##### 6.2.3.7.3 Resource Standard Methods
##### 6.2.3.7.3.1 PATCH {#patch-2 .H6}
This method modifies an individual subscription resource for an MBS context in
the MB-SMF.
This method shall support the URI query parameters specified in table
6.2.3.7.3.1-1.
Table 6.2.3.7.3.1-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.1-2 and the response data structures and response codes specified in
table 6.2.3.7.3.1-3.
Table 6.2.3.7.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It shall contain the
list of changes to be made to the Context Status Subscription (i.e.
ContextStatusSubscription data type), according to the JSON PATCH format
specified in IETF RFC 6902 [16].
* * *
Table 6.2.3.7.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ContextStatu | M | 1 | 200 OK | Upon success, | | sSubscription | | | | a response | | | | | | body shall be | | | | | | returned | | | | | | containing | | | | | | the updated | | | | | | Context | | | | | | Status | | | | | | Subscription. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.7.3.1-4: Headers supported by the PATCH method on this resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.7.3.1-5: Headers supported by the 200 response code on this
resource
* * *
Name Data type P Cardinality Description
* * *
Table 6.2.3.7.3.1-6: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.7.3.1-7: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.7.3.2 DELETE {#delete-3 .H6}
This method deletes an individual subscription resource for an MBS context in
the MB-SMF.
This method shall support the URI query parameters specified in table
6.2.3.7.3.1-1.
Table 6.2.3.7.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.1-2 and the response data structures and response codes specified in
table 6.2.3.7.3.1-3.
Table 6.2.3.7.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.7.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | deletion | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same MB-SMF | | | | | | or MB-SMF | | | | | | (service) | | | | | | set. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.7.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.7.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same MB-SMF | | | | | | or MB-SMF | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target | | | | | | MB-SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.7.4 Resource Custom Operations
None.
### 6.2.4 Custom Operations without associated resources
None
### 6.2.5 Notifications
#### 6.2.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 6.2.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | Status | {notifURI} | POST | StatusNotify | | Notification | | | | +----------------+----------------+----------------+----------------+ | Context Status | {no | POST | Conte | | Notification | tificationURI} | | xtStatusNotify | +----------------+----------------+----------------+----------------+
#### 6.2.5.2 StatusNotify
##### 6.2.5.2.1 Description
The Event Notification is used by the MB-SMF to report one or several observed
Events to a NF service consumer that has subscribed to such Notifications.
##### 6.2.5.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 6.2.5.2.2-1.
Table 6.2.5.2.2-1: Callback URI variables
Name Definition
* * *
notifUri String formatted as URI with the Callback Uri
##### 6.2.5.2.3 Standard Methods
##### 6.2.5.2.3.1 POST {#post-4 .H6}
This method shall support the request data structures specified in table
6.2.5.2.3.1-1 and the response data structures and response codes specified in
table 6.2.5.2.3.1-2.
Table 6.2.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
StatusNotifyReqData M 1 Data within the StatusNotify Request
Table 6.2.5.2.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF
(service) instance ID towards which the request is redirected
* * *
Table 6.2.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF
(service) instance ID towards which the request is redirected
* * *
#### 6.2.5.3 ContextStatusNotify
##### 6.2.5.3.1 Description
The Event Notification is used by the MB-SMF to report one or several observed
Events to a NF Service Consumer that has subscribed to such notifications.
##### 6.2.5.3.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 6.2.5.3.2-1.
Table 6.2.5.3.2-1: Callback URI variables
Name Definition
* * *
notifUri String formatted as URI with the Callback URI
##### 6.2.5.3.3 Standard Methods
##### 6.2.5.3.3.1 POST {#post-5 .H6}
This method shall support the request data structures specified in table
6.2.5.3.3.1-1 and the response data structures and response codes specified in
table 6.2.5.3.3.1-2.
Table 6.2.5.3.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
ContextStatusNotifyReqData M 1 Data within the ContextStatusNotify Request
Table 6.2.5.3.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.5.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF
(service) instance ID towards which the request is redirected
* * *
Table 6.2.5.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF
(service) instance ID towards which the request is redirected
* * *
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the Nmbsmf_MBSSession
service based interface protocol.
Table 6.2.6.1-1: Nmbsmf_MBSSession specific Data Types
Data type Clause defined Description Applicability
* * *
CreateReqData 6.2.6.2.2 Data within the Create Request  
CreateRspData 6.2.6.2.3 Data within the Create Response  
MbsSessionExtension 6.2.6.2.4 MB-SMF API specific MbsSession data type
extensions  
ContextUpdateReqData 6.2.6.2.5 Data within the ContexUpdate Request  
ContextUpdateRspData 6.2.6.2.6 Data within the ContextUpdate Response  
StatusSubscribeReqData 6.2.6.2.7 Data within the Create Subscription Request
for the collection of MBS Session subscriptions (StatusSubscribe service
operation).  
StatusSubscribeRspData 6.2.6.2.8 Data within the Create Subscription Response
(StatusSubscribe service operation).  
N2MbsSmInfo 6.2.6.2.9 N2 MBS Session Management Information  
ContextStatusNotifyReqData 6.2.6.2.10 Data within ContextStatusNotify Request  
StatusNotifyReqData 6.2.6.2.11 Data within StatusNotify Request  
ContextStatusSubscribeReqData 6.2.6.2.12 Data within ContextStatusSubscribe
Request  
ContextStatusSubscription 6.2.6.2.13 Context Status Subscription  
ContextStatusEvent 6.2.6.2.14 Context Status Event  
ContextStatusSubscribeRspData 6.2.6.2.15 Data within ContextStatusSubscribe
Response  
MbsContextInfo 6.2.6.2.16 MBS Context Information  
ContextStatusEventReport 6.2.6.2.17 Context Status Event Report  
MulticastTransportAddressChangeInfo 6.2.6.2.18 Multicast Transport Address
Change Information  
QosInfo 6.2.6.2.19 QoS Information  
QosFlowAddModifyRequestItem 6.2.6.2.20 Individual MBS QoS flow requested to be
created or modified  
QosFlowProfile 6.2.6.2.21 MBS QoS flow profile  
GbrQosFlowInformation 6.2.6.2.22 GBR MBS QoS flow information  
ProblemDetailsExtension 6.2.6.2.23 Extensions to the ProblemDetails common
data  
ContextUpdateAction 6.2.6.3.3 The requested action for the MBS session context  
ContextStatusEventType 6.2.6.3.4 Context Status Event Type  
ReportingMode 6.2.6.3.5 Reporting Mode  
NgapIeType 6.2.6.3.6 NGAP Information Element Type  
ExtMbsSession 6.2.6.4.1 MbsSession common data type extended with MB-SMF API
specific extensions  
ExtProblemDetails 6.2.6.4.2 ProblemDetails common data type with extensions
Table 6.2.6.1-2 specifies data types re-used by the Nmbsmf_MBSSession service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nmbsmf_MBSSession service based interface.
Table 6.2.6.1-2: Nmbsmf_MBSSession re-used Data Types
Data type Reference Comments Applicability
* * *
MbsSession 3GPP TS 29.571 [18] MBS session  
Tmgi 3GPP TS 29.571 [18] TMGI  
TunnelAddress 3GPP TS 29.571 [18] Tunnel Address (UDP/IP)  
MbsSessionId 3GPP TS 29.571 [18] MBS Session Identifier  
AreaSessionId 3GPP TS 29.571 [18] Area Session Identifier used for MBS session
with location dependent content  
Ssm 3GPP TS 29.571 [18] Source specific IP multicast address  
Uint32 3GPP TS 29.571 [18] Unsigned 32-bit integer  
NfInstanceId 3GPP TS 29.571 [18] NF Instance Identifier  
Bytes 3GPP TS 29.571 [18] Base64-encoded characters  
RefToBinaryData 3GPP TS 29.571 [18] Cross-Reference to binary data encoded
within a binary body part in an HTTP multipart message  
GlobalRanNodeId 3GPP TS 29.571 [18] Global RAN Node Identity  
DateTime 3GPP TS 29.571 [18] Date and time  
Uri 3GPP TS 29.571 [18] URI  
DateTime 3GPP TS 29.571 [18] Date and Time  
MbsSessionActivityStatus 3GPP TS 29.571 [18] MBS Session Activity Status  
MbsServiceArea 3GPP TS 29.571 [18] MBS Service Area  
MbsServiceAreaInfo 3GPP TS 29.571 [18] MBS Service Area Information for a
location dependent MBS session  
MbsSessionSubscription 3GPP TS 29.571 [18] MBS Session Subscription  
MbsSessionEventReportList 3GPP TS 29.571 [18] MBS Session Event Report List  
Qfi 3GPP TS 29.571 [13] QoS Flow Identifier  
Arp 3GPP TS 29.571 [13] Allocation and Retention Priority  
Dynamic5Qi 3GPP TS 29.571 [13] QoS characteristics for a 5QI that is neither
standardized nor pre-configured.  
NonDynamic5Qi 3GPP TS 29.571 [13] QoS characteristics that replace the default
QoS characteristics for a standardized or pre-configured 5QI.  
5Qi 3GPP TS 29.571 [13] 5G QoS Identifier  
BitRate 3GPP TS 29.571 [13] Bit rate  
PacketLossRate 3GPP TS 29.571 [13] Packet loss rate  
MbsSecurityContext 3GPP TS 29.571 [18] MBS Security Context  
AcceptableMbsServInfo 3GPP TS 29.537 [23] MBS Service Information that can be
accepted by the PCF
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type: CreateReqData
Table 6.2.6.2.2-1: Definition of type CreateReqData
Attribute name Data type P Cardinality Description Applicability
* * *
mbsSession ExtMbsSession M 1 MBS session to be created
##### 6.2.6.2.3 Type: CreateRspData
Table 6.2.6.2.3-1: Definition of type CreateRspData
Attribute name Data type P Cardinality Description Applicability
* * *
mbsSession ExtMbsSession M 1 Representation of the created MBS session  
eventList MbsSessionEventReportList C 0..1 Event reports, if corresponding
information is available.
##### 6.2.6.2.4 Type: MbsSessionExtension
Table 6.2.6.2.4-1: Definition of type MbsSessionExtension
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | mbsSecuri | MbsSecuri | O | 0..1 | This IE | | | tyContext | tyContext | | | may be | | | | | | | present | | | | | | | if | | | | | | | security | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | applied | | | | | | | to the | | | | | | | MBS | | | | | | | Session. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the MBS | | | | | | | Service | | | | | | | Key | | | | | | | (MSK), | | | | | | | MBS | | | | | | | Traffic | | | | | | | Key (MTK) | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | key IDs. | | +-----------+-----------+---+-----------+-----------+-----------+ | cont | boolean | O | 0..1 | Indicates | | | actPcfInd | | | | whether | | | | | | | the PCF | | | | | | | shall be | | | | | | | contacted | | | | | | | or not, | | | | | | | i.e.: | | | | | | | | | | | | | | - | | | | | | | \"true\" | | | | | | | means | | | | | | | that the | | | | | | | PCF shall | | | | | | | be | | | | | | | c | | | | | | | ontacted; | | | | | | | and | | | | | | | | | | | | | | - | | | | | | | \"false\" | | | | | | | means | | | | | | | that the | | | | | | | PCF shall | | | | | | | not be | | | | | | | c | | | | | | | ontacted. | | | | | | | | | | | | | | When this | | | | | | | attribute | | | | | | | is not | | | | | | | present, | | | | | | | the | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | present | | | | | | | in an MBS | | | | | | | Session | | | | | | | update | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.5 Type: ContextUpdateReqData
Table 6.2.6.2.5-1: Definition of type ContextUpdateReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | nfcI | NfI | M | 1 | NF | | | nstanceId | nstanceId | | | Instance | | | | | | | ID of the | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (e.g. AMF | | | | | | | or SMF) | | +-----------+-----------+---+-----------+-----------+-----------+ | mbs | Mbs | M | 1 | MBS | | | SessionId | SessionId | | | session | | | | | | | i | | | | | | | dentifier | | | | | | | (TMGI | | | | | | | and/or | | | | | | | SSM, and | | | | | | | NID for | | | | | | | an SNPN) | | +-----------+-----------+---+-----------+-----------+-----------+ | area | Area | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present | | | | | | | if this | | | | | | | is a | | | | | | | location | | | | | | | dependent | | | | | | | multicast | | | | | | | MBS | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | reques | C | C | 0..1 | This IE | | | tedAction | ontextUpd | | | shall be | | | | ateAction | | | set by an | | | | | | | SMF. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | to start | | | | | | | or | | | | | | | terminate | | | | | | | MBS data | | | | | | | r | | | | | | | eception. | | +-----------+-----------+---+-----------+-----------+-----------+ | dlT | Bytes | C | 0..1 | This IE | | | unnelInfo | | | | shall be | | | | | | | included | | | | | | | by the | | | | | | | SMF if | | | | | | | the | | | | | | | mbs | | | | | | | SessionId | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | unicast | | | | | | | transport | | | | | | | is used | | | | | | | over | | | | | | | N19mb. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | Base6 | | | | | | | 4-encoded | | | | | | | ch | | | | | | | aracters, | | | | | | | encoding | | | | | | | the DL | | | | | | | F-TEID of | | | | | | | the UPF | | | | | | | as | | | | | | | specified | | | | | | | in Figure | | | | | | | 8.22-1 of | | | | | | | 3GP | | | | | | | P TS 29.2 | | | | | | | 74 [19] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | n2 | N2 | C | 0..1 | This IE | | | MbsSmInfo | MbsSmInfo | | | shall be | | | | | | | included | | | | | | | by the | | | | | | | AMF if N2 | | | | | | | MBS | | | | | | | Session | | | | | | | M | | | | | | | anagement | | | | | | | In | | | | | | | formation | | | | | | | (c | | | | | | | ontainer) | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | MB-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ranNodeId | Global | C | 0..1 | This IE | | | | RanNodeId | | | shall be | | | | | | | included | | | | | | | by the | | | | | | | AMF. When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the RAN | | | | | | | Node ID | | | | | | | of the | | | | | | | RAN | | | | | | | having | | | | | | | sent the | | | | | | | N2 | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | leaveInd | boolean | C | 0..1 | Leave | | | | | | | I | | | | | | | ndication | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | included | | | | | | | by the | | | | | | | AMF and | | | | | | | set to | | | | | | | true | | | | | | | during a | | | | | | | Release | | | | | | | of shared | | | | | | | delivery | | | | | | | toward | | | | | | | RAN node | | | | | | | p | | | | | | | rocedure, | | | | | | | if it is | | | | | | | the last | | | | | | | NG-RAN | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | AMF | | | | | | | serving | | | | | | | the | | | | | | | multicast | | | | | | | MBS | | | | | | | session. | | | | | | | | | | | | | | - true: | | | | | | | the AMF | | | | | | | does not | | | | | | | control | | | | | | | any more | | | | | | | NG-RAN | | | | | | | node for | | | | | | | the | | | | | | | multicast | | | | | | | MBS | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | SMF shall | | | | | | | set the | | | | | | | Interface | | | | | | | Type in | | | | | | | octet 5 | | | | | | | i | | | | | | | ndicating | | | | | | | N19mb as | | | | | | | specified | | | | | | | in clause | | | | | | | 8.22 of | | | | | | | 3GPP | | | | | | | TS 29.27 | | | | | | | 4 [19]. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.6 Type: ContextUpdateRspData
Table 6.2.6.2.6-1: Definition of type ContextUpdateRspData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | llSsm | Ssm | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | n2Info IE | | | | | | | is absent | | | | | | | and | | | | | | | multicast | | | | | | | transport | | | | | | | is used | | | | | | | over | | | | | | | N19mb. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the Low | | | | | | | Layer | | | | | | | Source | | | | | | | Specific | | | | | | | Multicast | | | | | | | Address | | | | | | | allocated | | | | | | | by the | | | | | | | MB-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | cTeid | Uint32 | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | n2Info IE | | | | | | | is absent | | | | | | | and | | | | | | | multicast | | | | | | | transport | | | | | | | is used | | | | | | | over | | | | | | | N19mb. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Common | | | | | | | TEID | | | | | | | allocated | | | | | | | by the | | | | | | | MB-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2 | N2 | C | 0..1 | This IE | | | MbsSmInfo | MbsSmInfo | | | shall be | | | | | | | present | | | | | | | if N2 MBS | | | | | | | Session | | | | | | | M | | | | | | | anagement | | | | | | | In | | | | | | | formation | | | | | | | (c | | | | | | | ontainer) | | | | | | | needs to | | | | | | | be sent | | | | | | | to the NF | | | | | | | Service | | | | | | | Consumer. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.7 Type: StatusSubscribeReqData
Table 6.2.6.2.7-1: Definition of type StatusSubscribeReqData
Attribute name Data type P Cardinality Description Applicability
* * *
subscription MbsSessionSubscription M 1 MbsSession Status subscription to be
created
##### 6.2.6.2.8 Type: StatusSubscribeRspData
Table 6.2.6.2.8-1: Definition of type StatusSubscribeRspData
Attribute name Data type P Cardinality Description Applicability
* * *
subscription MbsSessionSubscription M 1 MBS Session Status subscription
created  
eventList MbsSessionEventReportList C 0..1 Event reports if corresponding
information is available.
##### 6.2.6.2.9 Type: N2MbsSmInfo
Table 6.2.6.2.9-1: Definition of type N2MbsSmInfo
Attribute name Data type P Cardinality Description Applicability
* * *
ngapIeType NgapIeType M 1 This IE shall indicate the NGAP IE type of the
ngapData as specified in clause 6.2.6.3.6.  
ngapData RefToBinaryData M 1 This IE shall contain the reference to the binary
data part carrying the NGAP data. See clause 6.2.6.5.2 for details.
##### 6.2.6.2.10 Type: ContextStatusNotifyReqData
Table 6.2.6.2.10-1: Definition of type ContextStatusNotifyReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | r | arra | M | 1..N | Events to | | | eportList | y(Context | | | be | | | | StatusEve | | | reported | | | | ntReport) | | | | | +-----------+-----------+---+-----------+-----------+-----------+ | n | string | C | 0..1 | Not | | | otifyCorr | | | | ification | | | elationId | | | | Co | | | | | | | rrelation | | | | | | | ID. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID is | | | | | | | available | | | | | | | in the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.11 Type: StatusNotifyReqData
Table 6.2.6.2.11-1: Definition of type StatusNotifyReqData
Attribute name Data type P Cardinality Description Applicability
* * *
eventList MbsSessionEventReportList M 1 Reported MBS session events
##### 6.2.6.2.12 Type: ContextStatusSubscribeReqData
Table 6.2.6.2.12-1: Definition of type ContextStatusSubscribeReqData
Attribute name Data type P Cardinality Description Applicability
* * *
subscription ContextStatusSubscription M 1 Context Status subscription to be
created
##### 6.2.6.2.13 Type: ContextStatusSubscription
Table 6.2.6.2.13-1: Definition of type ContextStatusSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | nfcI | NfI | M | 1 | NF | | | nstanceId | nstanceId | | | Instance | | | | | | | ID of the | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | +-----------+-----------+---+-----------+-----------+-----------+ | mbs | Mbs | M | 1 | MBS | | | SessionId | SessionId | | | Session | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | TMGI or | | | | | | | source | | | | | | | specific | | | | | | | IP | | | | | | | multicast | | | | | | | address) | | +-----------+-----------+---+-----------+-----------+-----------+ | eventList | array(C | M | 1..N | Events | | | | ontextSta | | | s | | | | tusEvent) | | | ubscribed | | +-----------+-----------+---+-----------+-----------+-----------+ | notifyUri | Uri | M | 1 | URI where | | | | | | | to send | | | | | | | event | | | | | | | noti | | | | | | | fications | | +-----------+-----------+---+-----------+-----------+-----------+ | n | string | O | 0..1 | Not | | | otifyCorr | | | | ification | | | elationId | | | | Co | | | | | | | rrelation | | | | | | | ID | | +-----------+-----------+---+-----------+-----------+-----------+ | e | DateTime | O | 0..1 | When | | | xpiryTime | | | | present | | | | | | | in a | | | | | | | sub | | | | | | | scription | | | | | | | creation | | | | | | | or | | | | | | | mod | | | | | | | ification | | | | | | | request, | | | | | | | it shall | | | | | | | indicate | | | | | | | the time | | | | | | | up to | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | desired | | | | | | | to be | | | | | | | kept | | | | | | | active | | | | | | | and after | | | | | | | which the | | | | | | | s | | | | | | | ubscribed | | | | | | | events | | | | | | | shall | | | | | | | stop | | | | | | | g | | | | | | | enerating | | | | | | | notif | | | | | | | ications. | | | | | | | | | | | | | | When | | | | | | | present | | | | | | | in a | | | | | | | sub | | | | | | | scription | | | | | | | or | | | | | | | mod | | | | | | | ification | | | | | | | response, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | expiry | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | becomes | | | | | | | invalid. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.14 Type: ContextStatusEvent
Table 6.2.6.2.14-1: Definition of type ContextStatusEvent
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | EventType | Cont | M | 1 | MBS | | | | extStatus | | | session | | | | EventType | | | context | | | | | | | status | | | | | | | event | | | | | | | type | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | immediate | boolean | O | 0..1 | Immediate | | | ReportInd | | | | Report | | | | | | | I | | | | | | | ndication | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | an | | | | | | | immediate | | | | | | | report is | | | | | | | requested | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | no | | | | | | | immediate | | | | | | | report is | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | repo | Repo | O | 0..1 | When | | | rtingMode | rtingMode | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | con | | | | | | | tinuously | | | | | | | or one | | | | | | | time | | | | | | | only. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: In | | | | | | | this | | | | | | | release | | | | | | | of the | | | | | | | speci | | | | | | | fication, | | | | | | | the SMF | | | | | | | shall | | | | | | | subscribe | | | | | | | to the | | | | | | | \"QOS | | | | | | | _INFO\", | | | | | | | \"STATUS | | | | | | | _INFO\", | | | | | | | \"SERV | | | | | | | ICE_AREA | | | | | | | _INFO\", | | | | | | | \ | | | | | | | "SECURITY | | | | | | | _INFO\", | | | | | | | \" | | | | | | | SESSION_ | | | | | | | RELEASE\" | | | | | | | and | | | | | | | \ | | | | | | | "MULT_TR | | | | | | | ANS_ADD\ | | | | | | | _CHANGE\" | | | | | | | events, | | | | | | | with the | | | | | | | Reporting | | | | | | | Mode set | | | | | | | to | | | | | | | \"C | | | | | | | ontinuous | | | | | | | event | | | | | | | rep | | | | | | | orting\". | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.15 Type: ContextStatusSubscribeRspData
Table 6.2.6.2.15-1: Definition of type ContextStatusSubscribeRspData
Attribute name Data type P Cardinality Description Applicability
* * *
subscription ContextStatusSubscription M 1 Representation of the Context
Status Subscription resource that has been created.  
reportList Array(ContextStatusEventReport) C 1..N Immediate event reports, if
requested in the request and if corresponding information is available.  
mbsContextInfo MbsContextInfo O 0..1 MBS context information
##### 6.2.6.2.16 Type: MbsContextInfo
Table 6.2.6.2.16-1: Definition of type MbsContextInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | startTime | DateTime | O | 0..1 | Start | | | | | | | time of | | | | | | | the | | | | | | | multicast | | | | | | | MBS | | | | | | | session | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | ndication | | | | | | | that the | | | | | | | multicast | | | | | | | MBS | | | | | | | session | | | | | | | allows | | | | | | | any UE to | | | | | | | join. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | any UE | | | | | | | may join | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the MBS | | | | | | | session | | | | | | | is not | | | | | | | open to | | | | | | | any UE | | +-----------+-----------+---+-----------+-----------+-----------+ | llSsm | Ssm | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | if | | | | | | | multicast | | | | | | | transport | | | | | | | may be | | | | | | | used over | | | | | | | N19mb. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the Low | | | | | | | Layer | | | | | | | Source | | | | | | | Specific | | | | | | | Multicast | | | | | | | Address | | | | | | | allocated | | | | | | | by the | | | | | | | MB-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | cTeid | Uint32 | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | if | | | | | | | multicast | | | | | | | transport | | | | | | | may be | | | | | | | used over | | | | | | | N19mb. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Common | | | | | | | TEID | | | | | | | allocated | | | | | | | by the | | | | | | | MB-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSe | MbsSe | C | 0..1 | This IE | | | rviceArea | rviceArea | | | shall be | | | | | | | present | | | | | | | for a | | | | | | | Local MBS | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsS | map(M | C | 1..N | This IE | | | erviceAre | bsService | | | shall be | | | aInfoList | AreaInfo) | | | present | | | | | | | for a | | | | | | | location | | | | | | | dependent | | | | | | | MBS | | | | | | | service. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | one map | | | | | | | entry | | | | | | | shall be | | | | | | | provided | | | | | | | for each | | | | | | | MBS | | | | | | | Service | | | | | | | Area | | | | | | | served by | | | | | | | the MBS | | | | | | | session. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | areaS | | | | | | | essionId. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.17 Type: ContextStatusEventReport
Table 6.2.6.2.17-1: Definition of type ContextStatusEventReport
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | eventType | Cont | M | 1 | MBS | | | | extStatus | | | session | | | | EventType | | | context | | | | | | | status | | | | | | | event | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the time | | | | | | | at which | | | | | | | the event | | | | | | | is | | | | | | | g | | | | | | | enerated. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosInfo | QosInfo | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \"QOS | | | | | | | _INFO\". | | +-----------+-----------+---+-----------+-----------+-----------+ | s | MbsSes | C | 0..1 | This IE | | | tatusInfo | sionActiv | | | shall be | | | | ityStatus | | | present | | | | | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \"STATUS | | | | | | | _INFO\". | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSe | MbsSe | C | 0..1 | This IE | | | rviceArea | rviceArea | | | shall be | | | | | | | present | | | | | | | for a | | | | | | | Local MBS | | | | | | | session | | | | | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \"SERV | | | | | | | ICE_AREA | | | | | | | _INFO\". | | | | | | | | | | | | | | The | | | | | | | receiver | | | | | | | of this | | | | | | | IE shall | | | | | | | overwrite | | | | | | | any | | | | | | | p | | | | | | | reviously | | | | | | | stored | | | | | | | value | | | | | | | with the | | | | | | | value | | | | | | | received | | | | | | | in this | | | | | | | IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsS | map(M | C | 1..N | This IE | | | erviceAre | bsService | | | shall be | | | aInfoList | AreaInfo) | | | present | | | | | | | for a | | | | | | | location | | | | | | | dependent | | | | | | | MBS | | | | | | | service | | | | | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \"SERV | | | | | | | ICE_AREA | | | | | | | _INFO\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | one map | | | | | | | entry | | | | | | | shall be | | | | | | | provided | | | | | | | for each | | | | | | | MBS | | | | | | | Service | | | | | | | Area | | | | | | | served by | | | | | | | the MBS | | | | | | | session. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | areaS | | | | | | | essionId. | | | | | | | | | | | | | | The | | | | | | | receiver | | | | | | | of this | | | | | | | IE shall | | | | | | | overwrite | | | | | | | any | | | | | | | p | | | | | | | reviously | | | | | | | stored | | | | | | | value | | | | | | | with the | | | | | | | value | | | | | | | received | | | | | | | in this | | | | | | | IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | mul | Multicas | C | 0..1 | Multicast | | | ticastTra | tTranspor | | | Transport | | | nsAddInfo | tAddressC | | | Address | | | | hangeInfo | | | Change | | | | | | | In | | | | | | | formation | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \" | | | | | | | MULT_TRA | | | | | | | NS_ADD_ | | | | | | | CHANGE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSecuri | MbsSecuri | C | 0..1 | This IE | | | tyContext | tyContext | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \ | | | | | | | "SECURITY | | | | | | | _INFO\". | | | | | | | | | | | | | | The | | | | | | | receiver | | | | | | | of this | | | | | | | IE shall | | | | | | | overwrite | | | | | | | any | | | | | | | p | | | | | | | reviously | | | | | | | stored | | | | | | | value | | | | | | | with the | | | | | | | value | | | | | | | received | | | | | | | in this | | | | | | | IE. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.18 Type: MulticastTransportAddressChangeInfo
Table 6.2.6.2.18-1: Definition of type MulticastTransportAddressChangeInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | llSsm | Ssm | M | 1 | This IE | | | | | | | shall | | | | | | | indicate | | | | | | | the new | | | | | | | multicast | | | | | | | transport | | | | | | | address | | | | | | | (i.e. | | | | | | | source IP | | | | | | | address | | | | | | | and | | | | | | | de | | | | | | | stination | | | | | | | multicast | | | | | | | address) | | | | | | | allocated | | | | | | | by the | | | | | | | MB-UPF to | | | | | | | receive | | | | | | | the MBS | | | | | | | session | | | | | | | data over | | | | | | | the N19mb | | | | | | | reference | | | | | | | point. | | +-----------+-----------+---+-----------+-----------+-----------+ | cTeid | Uint32 | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the new | | | | | | | Common | | | | | | | TEID | | | | | | | allocated | | | | | | | by the | | | | | | | MB-UPF to | | | | | | | receive | | | | | | | the MBS | | | | | | | session | | | | | | | data over | | | | | | | the N19mb | | | | | | | reference | | | | | | | point. | | +-----------+-----------+---+-----------+-----------+-----------+ | area | Area | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present | | | | | | | for a | | | | | | | location | | | | | | | dependent | | | | | | | MBS | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the Area | | | | | | | Session | | | | | | | ID of the | | | | | | | part of | | | | | | | the | | | | | | | location | | | | | | | dependent | | | | | | | MBS | | | | | | | session | | | | | | | for which | | | | | | | the new | | | | | | | multicast | | | | | | | transport | | | | | | | address | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.19 Type: QosInfo
Table 6.2.6.2.19-1: Definition of type QosInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | qosFlow | array(Q | C | 1..N | This IE | | | sAddModRe | osFlowAdd | | | shall be | | | questList | ModifyReq | | | present | | | | uestItem) | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \"QO | | | | | | | S_INFO\" | | | | | | | and MBS | | | | | | | QoS flows | | | | | | | are | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | or | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosF | a | C | 1..N | This IE | | | lowsRelRe | rray(Qfi) | | | shall be | | | questList | | | | present | | | | | | | if the | | | | | | | eventType | | | | | | | IE | | | | | | | indicates | | | | | | | \"QO | | | | | | | S_INFO\" | | | | | | | and MBS | | | | | | | QoS flows | | | | | | | are | | | | | | | requested | | | | | | | to be | | | | | | | released. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the MBS | | | | | | | QoS flows | | | | | | | to be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.20 Type: QosFlowAddModifyRequestItem
Table 6.2.6.2.20-1: Definition of type QosFlowAddModifyRequestItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | qfi | Qfi | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the MBS | | | | | | | QoS Flow | | | | | | | Id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | QosFl | O | 0..1 | When | | | owProfile | owProfile | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | of the | | | | | | | MBS QoS | | | | | | | Flow | | | | | | | level QoS | | | | | | | pa | | | | | | | rameters. | | | | | | | | | | | | | | When | | | | | | | modifying | | | | | | | an MBS | | | | | | | QoS flow, | | | | | | | the IE | | | | | | | shall | | | | | | | only | | | | | | | contain | | | | | | | the MBS | | | | | | | QoS Flow | | | | | | | p | | | | | | | rofile\'s | | | | | | | a | | | | | | | ttributes | | | | | | | which are | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.21 Type: QosFlowProfile
Table 6.2.6.2.21-1: Definition of type QosFlowProfile
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | 5qi | 5Qi | M | 1 | This IE shall | | | | | | contain the | | | | | | 5G QoS | | | | | | Identifier | | | | | | (5QI) of the | | | | | | MBS QoS flow. | +---------------+---------------+---+-------------+---------------+ | nonDynamic5Qi | NonDynamic5Qi | C | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | QoS | | | | | | Ch | | | | | | aracteristics | | | | | | for a | | | | | | standardized | | | | | | or | | | | | | p | | | | | | re-configured | | | | | | 5QI for | | | | | | downlink. | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | dynamic5Qi | Dynamic5Qi | C | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | QoS | | | | | | Ch | | | | | | aracteristics | | | | | | for a | | | | | | Non | | | | | | -standardised | | | | | | or not | | | | | | p | | | | | | re-configured | | | | | | 5QI for | | | | | | downlink. | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | arp | Arp | C | 0..1 | This IE shall | | | | | | be present | | | | | | when | | | | | | establishing | | | | | | an MBS QoS | | | | | | flow; it may | | | | | | be present | | | | | | when | | | | | | modifying an | | | | | | MBS QoS flow. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | Allocation | | | | | | and Retention | | | | | | Priority | | | | | | (ARP) | | | | | | assigned to | | | | | | the MBS QoS | | | | | | flow. | +---------------+---------------+---+-------------+---------------+ | g | GbrQosFl | C | 0..1 | This IE shall | | brQosFlowInfo | owInformation | | | be present | | | | | | when | | | | | | establishing | | | | | | a GBR MBS QoS | | | | | | flow or if | | | | | | the GBR MBS | | | | | | QoS flow | | | | | | information | | | | | | is modified. | +---------------+---------------+---+-------------+---------------+ | NOTE: Either | | | | | | the | | | | | | nonDynamic5Qi | | | | | | IE or the | | | | | | dynamic5Qi IE | | | | | | may be | | | | | | present when | | | | | | establishing | | | | | | a QoS flow. | | | | | | Either the | | | | | | nonDynamic5Qi | | | | | | IE or the | | | | | | dynamic5Qi IE | | | | | | may be | | | | | | present when | | | | | | modifying a | | | | | | QoS flow; | | | | | | when present, | | | | | | the received | | | | | | nonDynamic5Qi | | | | | | IE or | | | | | | dynamic5Qi IE | | | | | | shall replace | | | | | | any value | | | | | | received | | | | | | previously | | | | | | for this IE. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.22 Type: GbrQosFlowInformation
Table 6.2.6.2.22-1: Definition of type GbrQosFlowInformation
Attribute name Data type P Cardinality Description
* * *
maxFbrDl BitRate M 1 Maximum Bit Rate in Downlink. See 3GPP TS 23.501 [2].
guaFbrDl BitRate M 1 Guaranteed Bit Rate in Downlink. See 3GPP TS 23.501 [2].
maxPacketLossRateDl PacketLossRate O 0..1 Maximum rate for lost packets that
can be tolerated in the downlink direction. See 3GPP TS 23.501 [2].
##### 6.2.6.2.23 Type: ProblemDetailsExtension
Table 6.2.6.2.23-1: Definition of type ProblemDetailsExtension
Attribute name Data type P Cardinality Description Applicability
* * *
accMbsServiceInfo AcceptableMbsServInfo O 0..1 MBS Service Information that
can be accepted by the PCF
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The Nmbsmf_MBSSession API does not define any simple data type in this release
of the specification.
##### 6.2.6.3.3 Enumeration: ContextUpdateAction
The enumeration ContextUpdateAction indicates the requested action for the MBS
session context. It shall comply with the provisions defined in table
6.2.6.3.3-1.
Table 6.2.6.3.3-1: Enumeration ContextUpdateAction
Enumeration value Description Applicability
* * *
\"START\" Start MBS data reception  
\"TERMINATE\" Terminate MBS data recepton
##### 6.2.6.3.4 Enumeration: ContextStatusEventType
Table 6.2.6.3.4-1: Enumeration ContextStatusEventType
Enumeration value Description Applicability
* * *
\"QOS_INFO\" Subscription to be notified about the current MBS Session\'s QoS
information and/or change of this information (e.g. addition, modification or
removal of QoS flows)  
\"STATUS_INFO \" Subscription to be notified about the current MBS Session\'s
status (activated or deactivated) and/or change of this information.  
\"SERVICE_AREA_INFO\" Subscription to be notified about the current MBS
Service Area and/or change of this information.  
\"SESSION_RELEASE\" Subscription to be notified when the MBS session is
released.  
\"MULT_TRANS_ADD_CHANGE\" Subscription to be notified about change of the
N19mb multicast transport address.  
\"SECURITY_INFO\" Subscription to be notified about the current MBS Session\'s
Security Context information and/or change of this information
##### 6.2.6.3.5 Enumeration: ReportingMode
Table 6.2.6.3.5-1: Enumeration ReportingMode
Enumeration value Description Applicability
* * *
\"CONTINUOUS\" Continuous event reporting  
\"ONE_TIME\" One-time event reporting
##### 6.2.6.3.6 Enumeration: NgapIeType
Table 6.5.6.3.6-1: Enumeration NgapIeType
Enumeration value Description
* * *
\"MBS_DIS_SETUP_REQ\" MBS Distribution Setup Request Transfer
\"MBS_DIS_SETUP_RSP\" MBS Distribution Setup Response Transfer
\"MBS_DIS_SETUP_FAIL\" MBS Distribution Setup Unsuccessful Transfer
\"MBS_DIS_REL_REQ\" MBS Distribution Release Request Transfer
#### 6.2.6.4 Data types describing alternative data types or combinations of
data types
##### 6.2.6.4.1 Type: ExtMbsSession
6.2.6.4.1-1: Definition of type ExtMbsSession as a list of to be combined data
types
Data type Cardinality Description
* * *
MbsSession 1 MbsSession common data type MbsSessionExtension 1 Extensions to
the MbsSession common data type
##### 6.2.6.4.2 Type: ExtProblemDetails
6.2.6.4.2-1: Definition of type ExtProblemDetails as a list of to be combined
data types
Data type Cardinality Description
* * *
ProblemDetails 1 Details of the encountered problem, as defined in 3GPP TS
29.571 [18]. ProblemDetailsExtension 1 Extensions to the ProblemDetails common
data type
#### 6.2.6.5 Binary data
##### 6.2.6.5.1 Introduction
This clause defines the binary data that shall be supported in a binary body
part in an HTTP multipart message (see clauses 6.2.2.2.2 and 6.2.2.4).
Table 6.2.6.5.1-1: Binary Data Types
Name Clause defined Content type
* * *
N2 MBS Session Management Information 6.2.6.5.2 vnd.3gpp.ngap
##### 6.2.6.5.2 N2 MBS Session Management Information
N2 MBS Session Management Information shall encode NG Application Protocol
(NGAP) IEs, as specified in clause 9.3.5 of 3GPP TS 38.413 [20] (ASN.1
encoded), using the vnd.3gpp.ngap content-type.
N2 MBS Session Management Information may encode following NGAP IE related to
MBS Session Management specified in in clause 9.3.5 of 3GPP TS 38.413 [20], as
summarized in Table 6.5.6.4.2-1.
Table 6.5.6.4.2-1: N2 MBS Session Management Information content
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [20]) | | +======================+======================+======================+ | MBS Distribution | 9.3.5.7 | DISTRIBUTION SETUP | | Setup Request | | REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+ | MBS Distribution | 9.3.5.8 | DISTRIBUTION SETUP | | Setup Response | | RESPONSE | | Transfer | | | +----------------------+----------------------+----------------------+ | MBS Distribution | 9.3.5.9 | DISTRIBUTION SETUP | | Setup Unsuccessful | | FAILURE | | Transfer | | | +----------------------+----------------------+----------------------+ | MBS Distribution | 9.3.5.10 | DISTRIBUTION RELEASE | | Release Request | | REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+
##### 6.2.6.5.3 Void
### 6.2.7 Error Handling
#### 6.2.7.1 General
For the Nmbsmf_MBSSession API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nmbsmf_MBSSession API.
#### 6.2.7.2 Protocol Errors
No specific procedures for the Nmbsmf_MBSSession service are specified.
#### 6.2.7.3 Application Errors
The application errors defined for the Nmbsmf_MBSSession service are listed in
Table 6.2.7.3-1.
Table 6.2.7.3-1: Application errors
+------------------------+------------------+------------------------+ | Application Error | HTTP status code | Description | +========================+==================+========================+ | INVAL | 400 Bad Request | The HTTP request is | | ID_MBS_SERVICE_INFO | | rejected because the | | | | provided MBS Service | | | | Information is invalid | | | | (e.g. invalid QoS | | | | reference), incorrect | | | | or insufficient to | | | | perform MBS policy | | | | authorization. | +------------------------+------------------+------------------------+ | FILTER_RESTRI | 400 Bad Request | The HTTP request is | | CTIONS_NOT_RESPECTED | | rejected because the | | | | MBS IP flow(s) | | | | description provided | | | | within the MBS Service | | | | Information cannot be | | | | handled due to the | | | | restrictions defined | | | | in clause 5.3.8 of | | | | 3GPP TS 29.214 [24] | | | | not being respected. | +------------------------+------------------+------------------------+ | ER | 400 Bad Request | The HTTP request is | | ROR_INPUT_PARAMETERS | | rejected because the | | | | provided set of input | | | | parameters are | | | | incomplete, erroneous | | | | or missing necessary | | | | information to perform | | | | MBS policy control. | +------------------------+------------------+------------------------+ | MBS_SERVICE\ | 403 Forbidden | The HTTP request is | | _INFO_NOT_AUTHORIZED | | rejected because the | | | | provided MBS Service | | | | Information is not | | | | authorized to perform | | | | MBS policy | | | | authorization. | +------------------------+------------------+------------------------+ | MBS_P | 403 Forbidden | The HTTP request is | | OLICY_CONTEXT_DENIED | | rejected due to | | | | operator policies | | | | and/or local | | | | configuration. | +------------------------+------------------+------------------------+ | MBS_SES | 403 Forbidden | This error indicates | | SION_ALREADY_CREATED | | an unsuccessful of MBS | | | | session creation, if | | | | the MBS session to be | | | | created has already | | | | been created in the | | | | MB-SMF. | | | | | | | | For a location | | | | dependent MBS session, | | | | this error shall be | | | | used if the MBS | | | | session associated to | | | | the indicated MBS | | | | session identifier and | | | | MBS service area has | | | | already been created | | | | in the MB-SMF. | | | | | | | | For non location | | | | dependent MBS session, | | | | this error shall be | | | | used if the MBS | | | | session indicated by | | | | the MBS session | | | | identifier has been | | | | created in the MB-SMF. | +------------------------+------------------+------------------------+ | OVERLAPPI | 403 Forbidden | This error indicates | | NG_MBS_SERVICE_AREA | | an unsuccessful of MBS | | | | session creation, if | | | | the new MBS service | | | | area overlaps with the | | | | service area of any | | | | MBS session with the | | | | same MBS session | | | | identifier. | +------------------------+------------------+------------------------+ | UNKNOWN_TMGI | 404 Not Found | This error indicates | | | | an unsuccessful of MBS | | | | session creation, if | | | | the TMGI provided in | | | | the request does not | | | | exist in the MB-SMF. | +------------------------+------------------+------------------------+ | UNKNOWN_MBS_SESSION | 404 Not Found | This error indicates | | | | an unsuccessful MBS | | | | session update or | | | | release, if the MBS | | | | session to be updated | | | | or deleted is not | | | | found in the MB-SMF. | +------------------------+------------------+------------------------+ | UNKNO | 404 Not Found | This error indicates | | WN_MBS_SERVICE_AREA | | an unsuccessful MBS | | | | session update, | | | | context update or | | | | status subscribe | | | | procedure for a | | | | location dependent MBS | | | | session, if the | | | | requested MBS Area | | | | Session ID cannot be | | | | found. | +------------------------+------------------+------------------------+
### 6.2.8 Feature negotiation
The optional features in table 6.2.8-1 are defined for the Nmbsmf_MBSSession
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [4].
Table 6.2.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.2.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nmbsmf_MBSSession API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nmbsmf_MBSSession API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nmbsmf_MBSSession service.
The Nmbsmf_MBSSession API defines a single scope \"nmbsmf-mbssession\" for the
entire service, and it does not define any additional scopes at resource or
operation level.
### 6.2.10 HTTP redirection
An HTTP request may be redirected to a different MB-SMF service instance,
within the same MB-SMF or a different MB-SMF of an MB-SMF set, e.g. when an
MB-SMF service instance is part of an MB-SMF (service) set or when using
indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different MB-SMF producer instance will return the NF
Instance ID of the new MB-SMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an MB-SMF within an MB-SMF set redirects a service request to a different
MB-SMF of the set using an 307 Temporary Redirect or 308 Permanent Redirect
status code, the identity of the new MB-SMF towards which the service request
is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the
307 Temporary Redirect or 308 Permanent Redirect response as specified in
clause 6.10.9.1 of 3GPP TS 29.500 [4].
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the MB-SMF Service APIs defined
in the present specification - Nmbsmf_TMGI and Nmbsmf_MBSSession APIs. This
Annex consists of OpenAPI specifications in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [7] clause 5B).
# A.2 Nmbsmf_TMGI API
openapi: 3.0.0
info:
title: \'Nmbsmf_TMGI\'
version: 1.0.1
description: \|
MB-SMF TMGI Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.532 V17.3.0; 5G System; 5G Multicast-Broadcast Session Management
Services;
Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.532/
servers:
\- url: \'{apiRoot}/nmbsmf-tmgi/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nmbsmf-tmgi
paths:
/tmgi:
post:
summary: Allocate TMGIs
tags:
\- TMGI collection
operationId: AllocateTmgi
requestBody:
description: representation of the TMGIs to be created in the MB-SMF
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TmgiAllocate\'
responses:
\'200\':
description: successful allocation of TMGIs
content:
application/json:
schema:
\$ref: \'#/components/schemas/TmgiAllocated\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deallocate one or more TMGIs
operationId: TMGIDeallocate
tags:
\- TMGI collection
parameters:
\- name: tmgi-list
in: query
description: One of more TMGIs to be deallocated
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tmgi\'
minItems: 1
responses:
\'204\':
description: successful deallocation of TMGIs
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nmbsmf-tmgi: Access to the nmbsmf-tmgi API
schemas:
# API specific definitions
#
# STRUCTURED DATA TYPES
#
TmgiAllocate:
description: Data within TMGI Allocate Request
type: object
properties:
tmgiNumber:
description: The number of requested TMGIs
type: integer
minimum: 1
maximum: 255
tmgiList:
description: The list of TMGIs to be refreshed
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tmgi\'
minItems: 1
TmgiAllocated:
description: Data within TMGI Allocate Response
type: object
properties:
tmgiList:
description: One or more TMGI values
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tmgi\'
minItems: 1
expirationTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
nid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Nid\'
required:
\- tmgiList
\- expirationTime
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
# A.3 Nmbsmf_MBSSession API
openapi: 3.0.0
info:
title: \'Nmbsmf-MBSSession\'
version: 1.1.1
description: \|
MB-SMF MBSSession Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.532 V17.3.0; 5G System; 5G Multicast-Broadcast Session Management
Services;
Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.532/
servers:
\- url: \'{apiRoot}/nmbsmf-mbssession/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nmbsmf-mbssession
paths:
/mbs-sessions:
post:
summary: Create
tags:
\- MBS sessions collection
operationId: Create
requestBody:
description: >
Representation of the MBS session to be created in the MB-SMF
Creates an individual MBS session resource in the MB-SMF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/CreateReqData\'
responses:
\'201\':
description: >
Successful creation of an MBS session
content:
application/json:
schema:
\$ref: \'#/components/schemas/CreateRspData\'
headers:
Location:
description: >
\'Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nmbsmf-mbssession/\/mbs-sessions/{mbsSessionRef}\'
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden.
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-sessions/{mbsSessionRef}:
patch:
summary: Updates an individual MBS session resource in the MB-SMF.
tags:
\- Individual MBS session
operationId: Update
parameters:
\- name: mbsSessionRef
in: path
required: true
description: Unique ID of the MBS session to be modified
schema:
type: string
requestBody:
description: Data within the Update Request
required: true
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
responses:
\'204\':
description: >
Successful modification of the MBS session without content in the response.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden.
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an individual MBS session resource in the MB-SMF.
tags:
\- Individual MBS session
operationId: Release
parameters:
\- name: mbsSessionRef
in: path
required: true
description: Unique ID of the MBS session to be released
schema:
type: string
responses:
\'204\':
description: >
Successful release of the MBS session without content in the response.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-sessions/contexts/update:
post:
summary: ContextUpdate
tags:
\- MBS sessions collection
operationId: ContextUpdate
requestBody:
description: Data within the ContextUpdate Request
required: true
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/ContextUpdateReqData\'
multipart/related: # message with binary body part
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/ContextUpdateReqData\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
responses:
\'200\':
description: Successful response with content in the response
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/ContextUpdateRspData\'
multipart/related: # message with binary body part
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/ContextUpdateRspData\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'204\':
description: Successful response without content in the response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-sessions/subscriptions:
post:
summary: StatusSubscribe creating a subscription
tags:
\- Subscriptions collection for MBS sessions
operationId: StatusSubscribe
requestBody:
description: Data within the StatusSubscribe Request
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusSubscribeReqData\'
responses:
\'201\':
description: Data within a successful StatusSubscribe Response
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusSubscribeRspData\'
\'204\':
description: Successful response without content in the response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
statusNotification:
\'{\$request.body#/notifUri}\':
post:
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
description: Notification Payload
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusNotifyReqData\'
responses:
\'204\':
description: Expected response to a successful callback processing
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-sessions/subscriptions/{subscriptionId}:
patch:
summary: StatusSubscribe to modify (update or renew) an individual
subscription
tags:
\- Individual Subscription for an MBS session
operationId: StatusSubscribeMod
parameters:
\- name: subscriptionId
in: path
required: true
description: Unique ID of the individual subscription to be modified
schema:
type: string
requestBody:
description: Data to be modified in the MBSSessionSubscription
required: true
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
responses:
\'200\':
description: Successful modification of the individual Status Subscription
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionSubscription\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: StatusUnSubscribe to unsubscribe from the Status Subscription
tags:
\- Individual Subscription for an MBS session
operationId: StatusUnSubscribe
parameters:
\- name: subscriptionId
in: path
required: true
description: Unique ID of the subscription to be deleted
schema:
type: string
responses:
\'204\':
description: Successful deletion of the subscription
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-sessions/contexts/subscriptions:
post:
summary: ContextStatusSubscribe creating a subscription
tags:
\- Subscriptions collection for MBS contexts
operationId: ContextStatusSubscribe
requestBody:
description: Data within the ContextStatusSubscribe Request
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ContextStatusSubscribeReqData\'
responses:
\'201\':
description: successful creation of a Context Status Subscription
content:
application/json:
schema:
\$ref: \'#/components/schemas/ContextStatusSubscribeRspData\'
\'204\':
description: Successful response without content in the response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
contextStatusNotification:
\'{\$request.body#/subscription/notifUri}\':
post:
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
description: Notification Payload
content:
application/json:
schema:
\$ref: \'#/components/schemas/ContextStatusNotifyReqData\'
responses:
\'204\':
description: Expected response to a successful callback processing
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-sessions/contexts/subscriptions/{subscriptionId}:
patch:
summary: ContextStatusSubscribe modifying an individual subscription
tags:
\- Individual Subscription for an MBS context
operationId: ContextStatusSubscribeMod
parameters:
\- name: subscriptionId
in: path
required: true
description: Unique ID of the subscription to be modified
schema:
type: string
requestBody:
description: Data to be modified in the ContextStatusSubscription
required: true
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
responses:
\'200\':
description: Successful modification of a Context Status Subscription
content:
application/json:
schema:
\$ref: \'#/components/schemas/ContextStatusSubscription\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: ContextStatusUnSubscribe
tags:
\- Individual Subscription for an MBS context
operationId: ContextStatusUnSubscribe
parameters:
\- name: subscriptionId
in: path
required: true
description: Unique ID of the subscription to be deleted
schema:
type: string
responses:
\'204\':
description: Successful deletion
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nmbsmf-mbssession: Access to the Nmbsmf-MBSSession API
schemas:
#
# STRUCTURED DATA TYPES
#
CreateReqData:
description: Data within Create Request
type: object
properties:
mbsSession:
\$ref: \'#/components/schemas/ExtMbsSession\'
required:
\- mbsSession
CreateRspData:
description: Data within Create Response
type: object
properties:
mbsSession:
\$ref: \'#/components/schemas/ExtMbsSession\'
eventList:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MbsSessionEventReportList\'
required:
\- mbsSession
ExtMbsSession:
description: MbsSession common data type with MB-SMF API specific extensions
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSession\'
\- \$ref: \'#/components/schemas/MbsSessionExtension\'
MbsSessionExtension:
description: MB-SMF API specific extensions to the MbsSession common data type
type: object
properties:
mbsSecurityContext:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSecurityContext\'
contactPcfInd:
type: boolean
default: false
ContextUpdateReqData:
description: Data within ContextUpdate Request
type: object
properties:
nfcInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
areaSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaSessionId\'
requestedAction:
\$ref: \'#/components/schemas/ContextUpdateAction\'
dlTunnelInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
n2MbsSmInfo:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
ranNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
leaveInd:
type: boolean
enum:
\- true
required:
\- nfcInstanceId
\- mbsSessionId
ContextUpdateRspData:
description: Data within ContextUpdate Response
type: object
properties:
llSsm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ssm\'
cTeid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
n2MbsSmInfo:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
ContextStatusSubscribeReqData:
description: Data within ContextStatusSubscribe Request
type: object
properties:
subscription:
\$ref: \'#/components/schemas/ContextStatusSubscription\'
required:
\- subscription
ContextStatusSubscription:
description: Context Status Subscription
type: object
properties:
nfcInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
eventList:
type: array
items:
\$ref: \'#/components/schemas/ContextStatusEvent\'
minItems: 1
notifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifyCorrelationId:
type: string
expiryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- nfcInstanceId
\- mbsSessionId
\- eventList
\- notifyUri
ContextStatusEvent:
description: Context Status Event
type: object
properties:
eventType:
\$ref: \'#/components/schemas/ContextStatusEventType\'
immediateReportInd:
type: boolean
default: false
reportingMode:
\$ref: \'#/components/schemas/ReportingMode\'
required:
\- eventType
ContextStatusSubscribeRspData:
description: Data within ContextStatusSubscribe Response
type: object
properties:
subscription:
\$ref: \'#/components/schemas/ContextStatusSubscription\'
reportList:
type: array
items:
\$ref: \'#/components/schemas/ContextStatusEventReport\'
minItems: 1
mbsContextInfo:
\$ref: \'#/components/schemas/MbsContextInfo\'
required:
\- subscription
MbsContextInfo:
description: MBS context information
type: object
properties:
startTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
anyUeInd:
type: boolean
default: false
llSsm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ssm\'
cTeid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
mbsServiceArea:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceArea\'
mbsServiceAreaInfoList:
description: >
A map (list of key-value pairs) where the key identifies an areaSessionId
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceAreaInfo\'
minProperties: 1
ContextStatusEventReport:
description: Context Status Event Report
type: object
properties:
eventType:
\$ref: \'#/components/schemas/ContextStatusEventType\'
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
qosInfo:
\$ref: \'#/components/schemas/QosInfo\'
statusInfo:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MbsSessionActivityStatus\'
mbsServiceArea:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceArea\'
mbsServiceAreaInfoList:
description: >
A map (list of key-value pairs) where the key identifies an areaSessionId
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceAreaInfo\'
minProperties: 1
multicastTransAddInfo:
\$ref: \'#/components/schemas/MulticastTransportAddressChangeInfo\'
mbsSecurityContext:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSecurityContext\'
required:
\- eventType
\- timeStamp
ContextStatusNotifyReqData:
description: Context Status Notification
type: object
properties:
reportList:
type: array
items:
\$ref: \'#/components/schemas/ContextStatusEventReport\'
minItems: 1
notifyCorrelationId:
type: string
required:
\- reportList
StatusSubscribeReqData:
description: Data within the StatusSubscribe Request
type: object
properties:
subscription:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionSubscription\'
required:
\- subscription
StatusSubscribeRspData:
description: Data within StatusSubscribe Response
type: object
properties:
subscription:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionSubscription\'
eventList:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MbsSessionEventReportList\'
required:
\- subscription
StatusNotifyReqData:
description: Status Notification
type: object
properties:
eventList:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MbsSessionEventReportList\'
required:
\- eventList
N2MbsSmInfo:
description: N2 MBS Session Management information
type: object
properties:
ngapIeType:
\$ref: \'#/components/schemas/NgapIeType\'
ngapData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
required:
\- ngapIeType
\- ngapData
MulticastTransportAddressChangeInfo:
description: Multicast Transport Address Change Information
type: object
properties:
llSsm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ssm\'
cTeid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
areaSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaSessionId\'
required:
\- llSsm
\- cTeid
QosInfo:
description: QoS Information
type: object
properties:
qosFlowsAddModRequestList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowAddModifyRequestItem\'
minItems: 1
qosFlowsRelRequestList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
minItems: 1
QosFlowAddModifyRequestItem:
description: Individual MBS QoS flow requested to be created or modified
type: object
properties:
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
qosFlowProfile:
\$ref: \'#/components/schemas/QosFlowProfile\'
required:
\- qfi
QosFlowProfile:
description: MBS QoS flow profile
type: object
properties:
5qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5Qi\'
nonDynamic5Qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NonDynamic5Qi\'
dynamic5Qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dynamic5Qi\'
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
gbrQosFlowInfo:
\$ref: \'#/components/schemas/GbrQosFlowInformation\'
required:
\- 5qi
GbrQosFlowInformation:
description: GBR MBS QoS flow information
type: object
properties:
maxFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
guaFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
maxPacketLossRateDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PacketLossRate\'
required:
\- maxFbrDl
\- guaFbrDl
ExtProblemDetails:
description: Extended Problem Details data structure
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/ProblemDetailsExtension\'
ProblemDetailsExtension:
description: Extensions to ProblemDetails
type: object
properties:
accMbsServiceInfo:
\$ref:
\'TS29537_Npcf_MBSPolicyAuthorization.yaml#/components/schemas/AcceptableMbsServInfo\'
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
ContextUpdateAction:
description: Start or Terminate MBS data reception
anyOf:
\- type: string
enum:
\- START
\- TERMINATE
\- type: string
ContextStatusEventType:
description: Context Status Event Type
anyOf:
\- type: string
enum:
\- QOS_INFO
\- STATUS_INFO
\- SERVICE_AREA_INFO
\- SESSION_RELEASE
\- MULT_TRANS_ADD_CHANGE
\- SECURITY_INFO
\- type: string
ReportingMode:
description: Reporting Mode
anyOf:
\- type: string
enum:
\- CONTINUOUS
\- ONE_TIME
\- type: string
NgapIeType:
description: NGAP Information Element Type
anyOf:
\- type: string
enum:
\- MBS_DIS_SETUP_REQ
\- MBS_DIS_SETUP_RSP
\- MBS_DIS_SETUP_FAIL
\- MBS_DIS_REL_REQ
\- type: string
#