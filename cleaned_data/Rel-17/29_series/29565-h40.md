# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Ntsctsf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the TSCTSF.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[7] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[8] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[9] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[10] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[11] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
> [12] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
> Format\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 29.534: \"5G System; Access and Mobility Policy Authorization
Service; Stage 3\".
[15] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[16] 3GPP TS 29.508: \"5G System; Session Management Event Exposure Service;
Stage 3\".
[17] 3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs;
Stage 3\".
[18] IEEE Std 802.1Q-2018: \"IEEE Standard for Local and metropolitan area
networks--Bridges and Bridged Networks\".
[19] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G
System\".
[20] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[21] 3GPP TS 29.122: \"T8 reference point for northbound Application
Programming Interfaces (APIs)\".
[22] IETF RFC 7396: \"JSON Merge Patch\".
[23] 3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage
3\".
[24] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[25] IEEE Std 1588-2019: \"IEEE Standard for a Precision Clock Synchronization
Protocol for Networked Measurement and Control\".
[26] IEEE Std 802.1AS-2020: \"IEEE Standard for Local and metropolitan area
networks--Timing and Synchronization for Time-Sensitive Applications\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
Void
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Void
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ASTI Access Stratum Time distribution
DS-TT Device-side TSN translator
NW-TT Network-side TSN translator
PTP Precision Time Protocol
TSC Time Sensitive Communication
TSCAI TSC Assistance Information
TSCTSF Time Sensitive Communication and Time Synchronization function
# 4 Overview
## 4.1 Introduction
The Ntsctsf services are offered by the TSCTSF to support the Time Sensitive
Communications and Time Synchronization.
The following services are specified:
\- Ntsctsf_TimeSynchronization service;
\- Ntsctsf_QoSandTSCAssistance service.
\- Ntsctsf_ASTI service.
## 4.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2].
The known NF service consumers of the Ntsctsf services are the Application
Function (AF) within the operator\'s trust domain and the Network Exposure
Function (NEF).
The Ntsctsf services are provided by the TSCTSF and consumed by the NF service
consumers (e.g. AF, NEF), as shown in figure 4.2-1 for the SBI representation
model and in figure 4.2-2 for the reference point representation model.
Figure 4.2-1: Ntsctsf services architecture, SBI representation
Figure 4.2-2: Ntsctsf services architecture, reference point representation
# 5 Services offered by the TSCTSF
## 5.1 Introduction
Table 5.1-1 summarizes the corresponding APIs defined for this specification.
Table 5.1-1: API Descriptions
**Service Name** **Clause** **Description** **OpenAPI Specification File**
**apiName** **Annex**
* * *
Ntsctsf_TimeSynchronization 6.1 Provides the support to subscribe/unsubscribe
to the notification about time synchronization capabilities and to activate
and deactivate the time synchronization configuration.
TS29565_Ntsctsf_TimeSynchronization.yaml ntsctsf-time-sync A.2
Ntsctsf_QoSandTSCAssistance 6.2 Provides the support to request specific QoS
and provide assistance for handling traffic characterized by TSC QoS
parameters. TS29565_Ntsctsf_QoSandTSCAssistance.yaml ntsctsf-qos-tscai A.3
Ntsctsf_ASTI 6.3 Provides support for time synchronization service based on 5G
access stratum time distribution method. TS29565_Ntsctsf_ASTI.yaml ntsctsf-
asti A.4
## 5.2 Ntsctsf_TimeSynchronization Service
### 5.2.1 Service Description
#### 5.2.1.1 Overview
This service provides:
\- Authorization of NF Service Consumer requests for the subscription to the
notification of the capability of time synchronization service.
\- Authorization of NF Service Consumer requests to create and update time
synchronization configuration, and to activate and deactivate the time
synchronization service as described in clause 5.27.1.8 of TS 23.501 [2].
NOTE: The AF can use either the procedure specified in bullet2) for
configuring the (g)PTP instance in 5GS or the procedure specified in clause
5.4.2.2 for controlling the 5G access stratum time distribution for a
particular UE. The procedures are not intended to be used in conjunction with
each other by the AF. However, the (g)PTP instance activation, modification,
and deactivation can influence the 5G access stratum time distribution for the
UEs that are part of the impacted PTP instance.
#### 5.2.1.2 Network Functions
##### 5.2.1.2.1 TSCTSF
The TSCTSF supports to:
\- receive the request to create/update the subscription to the notification
of the capability of time synchronization service from the NEF or AF and
interact with the related PCF;
\- receive the request to delete the subscription to the notification of the
capability of time synchronization service from the NEF or AF and remove the
information from the related PCF;
\- receive the notification of the availability of the user plane node
information from the PCF and subscribe the notification of user plane node
related events at the PCF;
\- determine the capability of time synchronization service based on the
capability information received from the DS-TT(s) and NW-TT and notify the NEF
or AF of the capability;
\- receive the request to create or modify the time synchronization
configuration from the NEF or AF, configure and initialize the PTP instance(s)
by constructing a PMIC to each DS-TT/UE to activate the time synchronization
service in DS-TT and PMIC(s) and UMIC to NW-TT to activate the time
synchronization service in NW-TT and provision them to the PCF;
\- Notify the NEF or AF of the current state of the time synchronization
service configuration;
\- receive the request of time synchronization deactivation from the NEF or AF
and disable the corresponding PTP instance(s) in the DS-TT(s) and NW-TT.
##### 5.2.1.2.2 NF Service Consumers
The NF service consumer supports to:
\- send the request to create/update and delete the subscription to the
notification of the capability of time synchronization service to TSCTSF;
\- receive the notification of the capability of time synchronization service;
\- send the request to create, modify and delete the time synchronization
configuration to the TSCTSF;
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
Service operations defined for the Ntsctsf_TimeSynchronization service are
shown in table 5.2.2.1-1.
Table 5.2.2.1-1: Ntsctsf_TimeSynchronization Service Operations
Service Operation Name Description Initiated by
* * *
Ntsctsf_TimeSynchronization_CapsSubscribe Allows the NF service consumer to
create or modify a subscription to the notification about the capability of
time synchronization service for a list of UEs a group of UEs or any UE using
a DNN/S-NSSAI combination. NF service consumer (e.g. AF, NEF)
Ntsctsf_TimeSynchronization_CapsUnsubscribe Allows the NF service consumer to
delete the subscription to the notification about capability of time
synchronization service for a list of UEs, a group of UEs or any UE using a
DNN/S-NSSAI combination. NF service consumer (e.g. AF, NEF)
Ntsctsf_TimeSynchronization_CapsNotify Allows the TSCTSF to notify the NF
service consumer of the capability of time synchronization service. TSCTSF
Ntsctsf_TimeSynchronization_ConfigCreate Allows the NF service consumer to
create a time synchronization configuration. NF service consumer (e.g. AF,
NEF) Ntsctsf_TimeSynchronization_ConfigUpdate Allows the NF service consumers
to update the time synchronization configuration. NF service consumer (e.g.
AF, NEF) Ntsctsf_TimeSynchronization_ConfigDelete Allows the NF service
consumer to delete the time synchronization configuration. NF service consumer
(e.g. AF, NEF) Ntsctsf_TimeSynchronization_ConfigUpdateNotify Allows the
TSCTSF to notify the NF service consumer of the state of time synchronization
configuration. TSCTSF
NOTE: The NEF and the AF use the Ntsctsf_TimeSynchronization service in the
same way.
#### 5.2.2.2 Ntsctsf_TimeSynchronization_CapsSubscribe
##### 5.2.2.2.1 General
This service operation is used by an NF service consumer to subscribe to
notification of capability of time synchronization service for a list of UEs,
a group of UEs or any UE using a DNN/S-NSSAI combination.
The following procedures using the Ntsctsf_TimeSynchronization_CapsSubscribe
service operation are supported:
\- creating a new subscription;
\- modifying an existing subscription.
##### 5.2.2.2.2 Creating a new subscription
Figure 5.2.2.2.2-1 illustrates the creation of a subscription.
Figure 5.2.2.2.2-1: Creation of a subscription
To subscribe the notification of the capability of time synchronization
service, the NF service consumer shall send an HTTP POST message to the TSCTSF
to the URI \"{apiRoot}/ntsctsf-time-sync/\/subscriptions\". The
HTTP POST message shall include the TimeSyncExposureSubsc data structure as
request body. The TimeSyncExposureSubsc data structure shall include:
\- the indication of the UEs to which the time synchronization capabilities is
requested via:
\- identification of a list of individual UEs within a \"supis\" attribute;
\- identification of a list of individual UEs within a \"gpsis\" attribute;
\- indication of any UE within the \"anyUeInd\" attribute; or
\- identification of a group of UE(s) within the \"interGroupId\" attribute;
or
\- identification of a group of UE(s) within the \"exterGroupId\" attribute.
\- subscription to event(s) notification as \"subscribedEvents\" attribute;
\- notification URI within the \"subsNotifUri\" attribute;
\- notification correlation Id within the \"subsNotifId\" attribute;
\- DNN with the \"dnn\" attribute; and
\- S-NSSAI with the \"snssai\" attribute;
and may include:
\- the conditions to match for notifying the event within the \"eventFilters\"
attribute;
\- notification methods within the \"notifMethods\" attribute
\- maximum number of reports within the \"maxReportNbr\" attribute;
\- expiry time within the \"expiry\" attribute; and
\- report period within the \"repPeriod\" attribute.
Upon receipt of the HTTP request from the NF service consumer, if the request
is authorized, the TSCTSF shall:
\- create a new subscription;
\- assign a subscription correlation ID;
\- select an expiry time that is equal to or less than the expiry time
potentially received in the request;
\- store the subscription;
\- if the \"interGroupId\" attribute or \"exterGroupId\" attribute is received
from the NF service consumer, interact with the UDM to retrieve the SUPI list
that belong to the group using the Nudm_SDM service as defined in 3GPP TS
29.503 [24];
\- if the \"gpsi\" attribute is received from the NF service consumer,
interact with the UDM to retrieve the SUPI that corresponds to the GPSI using
the Nudm_SDM service as defined in 3GPP TS 29.503 [24];
\- use the parameters received from the NF service consumer (i.e. DNN, S-NSSAI
and, if available, the list of UEs or UEs that belong to the group of UEs) to
determine the matching AF-session(s) and for any such AF-session interact with
the PCF by triggering Npcf_PolicyAuthorization_Create/Update request message
as defined in 3GPP TS 29.514 [20].
NOTE 1: If the PCF determines an existing PDU Session is potentially impacted
by time synchronization service (based on local configuration or SM Policy
Association), the PCF invokes Npcf_PolicyAuthorization_Notify service
operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20]
to send the received TSC User Plane Node information. At that time, the TSCTSF
retrieves from the BSF the PCF binding information (including the UE
Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23],
and can create the AF-session by sending to the PCF the
Npcf_PolicyAuthorization_Create service operation.
\- send an HTTP \"201 Created\" response with TimeSyncExposureSubsc data
structure as response body and a Location header field containing the URI of
the created individual subscription resource, i.e. \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subscriptionId}\".
The TSCTSF shall handle the AF session(s) associated with the \"Individual
Time Synchronization Exposure Subscription\" resource as follows:
\- For the association of AF sessions to \"Individual Time Synchronization
Exposure Subscription\" resources:
\- Upon PDU Session establishment, i.e. when the TSCTSF receives the
Npcf_PolicyAuthorization_Notify service operation for the establishment of a
new PDU session, the TSCTSF shall retrieve from the BSF, as specified in 3GPP
TS 29.521 [23], the PCF binding information to complete the necessary AF-
Session information and triggers the Npcf_PolicyAuthorization_Create request
message to the PCF to create an AF-session to subscribe to TSC user plane node
related events. The TSCTSF, shall use the parameters of existing \"Individual
Time Synchronization Exposure Subscription\" resources to determine whether
they shall be associated to this newly created AF sessionThe TSCTSF associates
the new AF session to the \"Individual Time Synchronization Exposure
Subscription\" resources for which these parameters match. The TSCTSF shall
read time synchronization capabilities from the DS-TT and NW-TT, if not
available in the AF session, from the PCF by triggering
Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514
[20] and determine the (g)PTP capabilities from the DS-TT and the NW-TT as
described in clause K.2.1 of 3GPP TS 23.501 [2]. The TSCTSF shall update the
time synchronization service capability for this new DS-TT as defined in
clause 5.2.2.4.2.
\- Upon \"Individual Time Synchronization Exposure Subscription\" resource
creation, the TSCTSF uses the parameters of the created resource to determine
which existing AF sessions it matches. The TSCTSF associates the new
\"Individual Time Synchronization Exposure Subscription\" resource to the AF
sessionsfor which these parameters match.
\- To remove an AF session from the associated ones to the \"Individual Time
Synchronization Exposure Subscription\" resource, when the TSCTSF receives the
Npcf_PolicyAuthorization_Notify service operation indicating the termination
of an existing PDU session, the TSCTSF triggers the
Npcf_PolicyAuthorization_Delete request message to the PCF and determines if
the corresponding AF session is associated with the \"Individual Time
Synchronization Exposure Subscription\" resource. If it is so, the TSCTSF
shall remove the AF session from the list of AF session(s) associated with the
\"Individual Time Synchronization Exposure Subscription\" resource. The TSCTSF
shall update the time synchronization service capability for this removed DS-
TT as defined in clause 5.2.2.4.2.
NOTE 2: After the TSCTSF retrieves from the BSF the PCF binding information
(including the UE Identities for the notified PDU session), as specified in
3GPP TS 29.521 [23], the TSCTSF can store internally the information required
to invoke Npcf_PolicyAuthorization_Create service operation and delay the
Npcf_PolicyAuthorization_Create service operation (the creation of the AF
session) till the subscription to notification of the capability of time
synchronization service is received for the concerned UE. In this case, when
the TSCTSF receives the subscription request, the TSCTSF interacts with the
PCF by triggering Npcf_PolicyAuthorization_Create message as defined in 3GPP
TS 29.514 [20].
NOTE 3: When the TSCTSF receives the Npcf_PolicyAuthorization_Notify service
operation indicating the termination of an existing PDU session associated to
an AF session that it is not associated with any \"Individual Time
Synchronization Exposure Subscription\" resource, the TSCTSF removes the AF-
session and triggers the Npcf_PolicyAuthorization_Delete request message to
the PCF.
If the TSCTSF cannot successfully fulfil the received HTTP POST request due to
the internal TSCTSF error or due to the error in the HTTP POST request, the
TSCTSF shall send the HTTP error response as specified in clause 6.1.7.
##### 5.2.2.2.3 Modifying an existing subscription
Figure 5.2.2.2.3-1 illustrates the modification of a subscription.
Figure 5.2.2.2.3-1: Modification of a subscription
To modify the subscription to the notification of the capability of time
synchronization service, the NF service consumer shall send an HTTP PUT
message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subscriptionId}\" representing an existing
\"Individual Time Synchronization Exposure Subscription\" resource, as shown
in figure 5.2.2.2.3-1, step 1. The HTTP PUT message shall include the
TimeSyncExposureSubsc data structure as request body. The
TimeSyncExposureSubsc data structure shall include the parameters as defined
in clause 5.2.2.2.2.
Upon receipt of the HTTP request from the NF service consumer, if the request
is authorized, the TSCTSF shall:
\- update the existing \"Individual Time Synchronization Exposure
Subscription\" resource;
\- identify the affected AF session(s) based on the parameters received from
the NF service consumer and interact with the PCF by triggering
Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514
[20] for the new added UE(s), by triggering Npcf_PolicyAuthorization_Delete
request message as defined in 3GPP TS 29.514 [20] for the removed UE(s) or by
triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP
TS 29.514 [20] for the existing UE(s) if necessary.
NOTE 1: If the PCF determines an existing PDU Session is potentially impacted
by time synchronization service (based on local configuration or SM Policy
Association), the PCF invokes Npcf_PolicyAuthorization_Notify service
operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20]
to send the received TSC User Plane Node information. At that time, the TSCTSF
retrieves from the BSF the PCF binding information (including the UE
Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23],
and can create the AF-session by sending to the PCF the
Npcf_PolicyAuthorization_Create service operation.
NOTE 2: After the TSCTSF retrieves from the BSF the PCF binding information
(including the UE Identities for the notified PDU session), as specified in
3GPP TS 29.521 [23], the TSCTSF can store internally the information required
to invoke Npcf_PolicyAuthorization_Create service operation and delay the
Npcf_PolicyAuthorization_Create service operation (the creation of the AF-
session) till the subscription to notification of the capability of time
synchronization service is received for the concerned UE. In this case, when
the TSCTSF receives the subscription request, the TSCTSF interacts with the
PCF by triggering Npcf_PolicyAuthorization_Create message as defined in in
3GPP TS 29.514 [20].
\- update the list of AF sessions that are associated to the \"Individual Time
Synchronization Exposure Subscription\" resource (i.e. add or remove AF
sessions as associated to this resource) based on if the parameters of the AF
sessions match the updated parameters of the \"Individual Time Synchronization
Exposure Subscription\" resource.
\- send a HTTP response including \"200 OK\" status code with
TimeSyncExposureSubsc data structure or \"204 No Content\" status code, as
shown in figure 5.2.2.2.3-1, step 2.
If the HTTP PUT request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP PUT request the cause for the
rejection as specified in clause 6.1.7.
If the TSCTSF determines the received HTTP PUT request needs to be redirected,
the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9
of 3GPP TS 29.500 [4].
#### 5.2.2.3 Ntsctsf_TimeSynchronization_CapsUnsubscribe
##### 5.2.2.3.1 General
This service operation is used by an NF service consumer to unsubscribe from
the notifications.
The following procedure using the Ntsctsf_TimeSynchronization_CapsUnsubscribe
service operation is supported:
\- unsubscription from capability notifications.
##### 5.2.2.3.2 Unsubscription from capability notifications
Figure 5.2.2.3.2-1 illustrates the unsubscription from event notifications.
Figure 5.2.2.3.2-1: Unsubscription from capability notifications
To unsubscribe from event notifications, the NF service consumer shall send an
HTTP DELETE request with: \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subscriptionId}\" as Resource URI, where
\"{**subscriptionId**}\" is the subscription correlation ID of the existing
subscription that is to be deleted.
Upon the reception of the HTTP DELETE request, if the received HTTP request is
successfully processed and accepted, the TSCTSF shall:
\- remove the corresponding subscription;
\- identify the affected AF session(s) and, for each AF session, interact with
the PCF by triggering Npcf_PolicyAuthorization_Delete request message as
defined in 3GPP TS 29.514 [20]; and
\- send an HTTP \"204 No Content\" response.
If the HTTP DELETE request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP DELETE request the cause for the
rejection as specified in clause 6.1.7.
If the TSCTSF determines the received HTTP DELETE request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
#### 5.2.2.4 Ntsctsf_TimeSynchronization_CapsNotify
##### 5.2.2.4.1 General
This service operation is used by the TSCTSF to send notifications to NF
service consumers upon the detection of the capability of the time
synchronization service for a list of UEs.
The following procedure using the Ntsctsf_TimeSynchronization_CapsNotify
service operation is supported:
\- notification about the capability of time synchronization service.
##### 5.2.2.4.2 Notification about the capability of time synchronization
service
Figure 5.2.2.4.2-1 illustrates the notification about the capability of time
synchronization service.
Figure 5.2.2.4.2-1: Notification about the capability of time synchronization
service
The TSCTSF maintains the association between the AF session(s) and the
Individual Time Synchronization Exposure Subscription resource as defined in
clause 5.2.2.2.2 and detects the capability of time synchronization service
(for a list of UEs, a group of UEs or any UE in a DNN and S-NSSAI), by
composing the time synchronization capabilities for the DS-TT/UE(s) connected
to the NW-TT based on the capability information received from the DS-TT(s)
and NW-TT via the PCF. If the NF service consumer includes an Event Filter
with one or more of the requested PTP instance type, requested transport
protocol for PTP, or requested PTP Profile, the TSCTSF considers only the DS-
TT(s) and NW-TT(s) with these capabilities as part of the time synchronization
capability set that is reported to the NF service consumer. If necessary, when
the list of AF session(s) associated to the Individual Time Synchronization
Exposure Subscription resource changes, e.g. upon PDU Session establishment or
termination, the TSCTSF may notify the update of the capability of time
synchronization service for the DS-TT/UE(s) connected to the NW-TT(s). In
order to send the capability of time synchronization service to the NF service
consumer, the TSCTSF shall send an HTTP POST request with \"{subsNotifUri}\",
as previously provided by the NF service consumer within the corresponding
subscription, as request URI and TimeSyncExposureSubsNotif data structure as
request body that shall include:
\- Notification correlation ID provided by the NF service consumer during the
subscription within \"subsNotifId\" attribute; and
\- information about the observed event(s) within the \"eventNotifs\"
attribute that shall contain for each observed event an
\"SubsEventNotification\" data structure that shall include:
1\. the detected event within the \"event\" attribute;
> 2\. when the event is \"AVAILABILITY_FOR_TIME_SYNC_SERVICE\", the
> capabilities of time synchronization service for one or more user plane
> nodes with the \"timeSyncCapas\" attribute. Within each instance of
> TimeSyncCapability data structure, the TSCTSF shall include the identifier
> of the applicable NW-TT within the \"upNodeId\" attribute, the
> \"gmCapables\" attribute indicating if the user plane node supports acting
> as a gPTP and/or PTP grandmaster, the supported 5G clock quality within the
> \"asTimeRes\" attribute, if applicable, and the PTP capabilities for each UE
> within the \"ptpCapForUes\" attribute, when the UEs are identified with a
> SUPI, or within \"ptpCapForGpsis\" attribute, when the UEs are identified
> with a GPSI.
Upon the reception of an HTTP POST, the NF service consumer shall send an HTTP
\"204 No Content\" response for a successful processing.
If the HTTP POST request from the TSCTSF is not accepted, the NF service
consumer shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 6.1.7.
If the NF service consumer determines the received HTTP POST request needs to
be redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [4].
#### 5.2.2.5 Ntsctsf_TimeSynchronization_ConfigCreate
##### 5.2.2.5.1 General
This service operation is used by an NF service consumer to create a time
synchronization configuration and activate the time synchronization service
with the configuration.
The following procedures using the Ntsctsf_TimeSynchronization_ConfigCreate
service operation are supported:
\- creating a new configuration.
##### 5.2.2.5.2 Creating a new configuration
Figure 5.2.2.5.2-1 illustrates the creation of a configuration.
Figure 5.2.2.5.2-1: Creation of a configuration
To create a configuration, the NF service consumer shall send an HTTP POST
message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subscriptionId}/configurations\". The HTTP
POST message shall include the TimeSyncExposureConfig data structure as
request body, as shown in figure 5.2.2.5.2-1, step 1. The
TimeSyncExposureConfig data structure shall include:
\- the user plane node Id within the \"upNodeId\" attribute;
\- the requested PTP instance within the \"reqPtpIns\" attribute;
\- the time domain within the \"timeDom\" attribute;
\- the notification URI within the \"configNotifUri\" attribute;
\- the notification correlation Id within the \"configNotifId\" attribute;
and may include:
\- the \"gmEnable\" attribute set to true if the AF requests 5GS to act as a
grandmaster for PTP or gPTP;
\- the time synchronization error budget within the \"timeSyncErrBdgt\"
attribute;
\- the gandmaster priority with the \"gmPrio\" attribute; and
\- the temporal validity condition within the \"tempValidity\" attribute.
Upon receipt of the HTTP request from the NF service consumer, if the request
is authorized, the TSCTSF shall:
\- create a new resource, which represents a new \"Individual Time
Synchronization Exposure Configuration\" instance, addressed by a URI as
defined in clause 6.1.3.5 and containing a TSCTSF created resource identifier;
\- send an HTTP \"201 Created\" response with TimeSyncExposureConfig data
structure as response body and a Location header field containing the URI of
the created Individual Time Synchronization Exposure Configuration resource,
i.e. \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subcriptionId}/configuration/{configurationId}\",
as shown in figure 5.2.2.5.2-1, step 2;
\- use the {subscriptionId} within the requested URI and user plane node ID
within the \"upNodeId\" attribute in the request to determine the target UEs
and corresponding AF sessions, then use the parameters (e.g. requested PTP
instance type, transport protocol, and PTP profile) in the request to
determine suitable DS-TT(s) and AF session(s) among all AF session and contact
with the each corresponding PCF for the PDU session to configure and
initialize the PTP instance in the DS-TT(s) and NW-TT as defined in 3GPP TS
23.502 [3], clause 4.15.9.3.2, step 5-6;
\- calculate the Uu time synchronization error budget as specified in clause
5.27.1.9 of 3GPP TS 23.501 [2], subscribe to event notifications of newly
registered PCF for the UE for the affected UEs by invoking
Nbsf_Management_Subscribe Service Operation as defined in clause 4.2.6 of 3GPP
TS 29.521 [23] if not yet done, and send a request to the PCF for the UE for
AM policy authorization by invoking Npcf_AMPolicyAuthorization_Create service
operation as defined in clause 4.2.2 of 3GPP TS 29.534 [14] providing the
appropriate values in the \"asTimeDisParam\" attribute in order to activate
the access stratum time distribution and provide the calculated Uu time
synchronization error budget.
If the temporal validity condition is provided and if the start-time is in the
future, the TSCTSF shall maintain the time synchronization configuration and
then proceed as described above when the start-time is reached; otherwise, if
the start-time is in the past, the TSCTSF shall proceed as described above
immediately. When the stop-time is reached for active time synchronization
service configuration, the TSCTSF shall proceed as
Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause
5.2.2.7.2 without interacting with the AF.
The TSCTSF shall associate the affected AF session to the \"Individual Time
Synchronization Exposure Configuration\". When receiving the
Npcf_PolicyAuthorization_Notify service operation indicating the termination
of an existing PDU session and the corresponding AF session is associated with
the \"Individual Time Synchronization Exposure Configuration\" resource, the
TSCTSF shall remove the AF session from the list of AF sessions associated
with the \"Individual Time Synchronization Exposure Configuration\" resource
and invoke Npcf_AMPolicyAuthorization_Delete service operation as defined in
clause 4.2.4 of 3GPP TS 29.534 [14] to remove the access stratum time
distribution parameters for the UE if they were provided.
If the HTTP POST request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 6.1.7.
If the TSCTSF determines the received HTTP POST request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
#### 5.2.2.6 Ntsctsf_TimeSynchronization_ConfigUpdate
##### 5.2.2.6.1 General
This service operation is used by an NF service consumer to update a time
synchronization configuration.
The following procedures using the Ntsctsf_TimeSynchronization_ConfigUpdate
service operation are supported:
\- Updating an existing configuration.
##### 5.2.2.6.2 Updating an existing configuration
Figure 5.2.2.6.2-1 illustrates the updating of an existing configuration.
Figure 5.2.2.6.2-1: Update of a configuration
To update a configuration, the NF service consumer shall send an HTTP PUT
request to the resource \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subscriptionId}/configurations/{configurationId}\"
representing an existing \"Individual Time Synchronization Exposure
Configuration\" resource, as shown in figure 5.2.2.6.2-1, step 1, to modify
the configuration.
The TimeSyncExposureConfig data structure provided in the request body shall
include:
\- the user plane node Id within the \"upNodeId\" attribute;
NOTE 1: The user plane node Id cannot be changed during the modification.
\- the requested PTP instance within the \"reqPtpIns\" attribute;
\- the time domain within the \"timeDom\" attribute;
NOTE 2: The user plane node Id, the requested PTP instance and the time domain
cannot be changed during the modification.
\- the notification URI within the \"configNotifUri\" attribute;
\- the notification correlation Id within the \"configNotifId\" attribute;
NOTE 2: If the notification URI or notification correlation Id is not changed
the previously value is included.
and may include:
\- the \"gmEnable\" attribute set to true if the AF requests 5GS to act as a
grandmaster for PTP or gPTP;
\- the time synchronization error budget within the \"timeSyncErrBdgt\"
attribute;
\- the gandmaster priority with the \"gmPrio\" attribute; and
\- the temporal validity condition within the \"tempValidity\" attribute.
Upon receipt of the corresponding HTTP PUT message, if the request is
authorized, theTSCTSF shall:
\- update the existing \"Individual Time Synchronization Exposure
Configuration\" resource;
\- send a HTTP response including \"200 OK\" status code with
TimeSyncExposureConfig data structure or \"204 No Content\" status code, as
shown in figure 5.2.2.6.2-1, step 2;
\- use the {subscriptionId} within the requested URI and user plane node ID
within the \"upNodeId\" attribute in the request to determine the target UEs
and corresponding AF-sessions, then use the updated parameters (e.g. requested
PTP instance type, transport protocol, and PTP profile) in the request to
determine suitable DS-TT(s) and AF session(s) among all AF session and contact
with the each correspondingPCF for the PDU session to configure and initialize
the PTP instance in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3],
clause 4.15.9.3.3, step 5-6. The TSCTSF associates the new affected AF
session(s) with the \"Individual Time Synchronization Exposure Configuration\"
resource.
\- If the time synchronization error budget is provided, updated, or removed,
calculate the Uu time synchronization error budget as specified in clause
5.27.1.9 of 3GPP TS 23.501 [2]and send a request to the PCF for the UE for AM
policy authorization by invoking Npcf_AMPolicyAuthorization_Update service
operation as defined in clause 4.2.3 of 3GPP TS 29.534 [14] in order to update
the Uu time synchronization error budget.
If the temporal validity condition was provided but it is removed during the
update of time synchronization configuration, the TSCTSF shall perform the
time synchronization configuration as described above without considering the
temporal validity condition.
If the temporal validity condition was not provided and the temporal validity
condition is provided during the update of configuration, the TSCTSF shall
perform as follows:
\- if the start-time is in the future, the TSCTSF shall maintain the time
synchronization configuration and then proceeds as described above when the
start-time is reached; otherwise, if the start-time is in the past, the TSCTSF
shall proceed as described above immediately;
\- When the stop-time is reached for active time synchronization service
configuration, the TSCTSF shall proceed as
Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause
5.2.2.7.2 without interacting with the AF.
If the temporal validity condition was provided and the temporal validity
condition is updated during the update of configuration, the TSCTSF shall
perform as follows:
\- if the previously provided time configuration is being applied but the new
start-time is in the future, the TSCTSF shall proceed as
Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause
5.2.2.7.2 without interacting with the AF firstly and then proceeds as
described above when the new start-time is reached; otherwise if the time
synchronization configuration has been created but the new start-time is in
the past, the TSCTSF keep the existing configuration;
\- when the new stop-time is reached for active time synchronization service
configuration, the TSCTSF shall proceed as
Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause
5.2.2.7.2 without interacting with the AF;
\- if the previously provided time configuration is not being applied because
the previously provided start-time is in the future, the TSCTSF shall perform
as the case that the temporal validity condition was not provided previously.
The TSCTSF shall associate the affected AF session to the \"Individual Time
Synchronization Exposure Configuration\". When receiving the
Npcf_PolicyAuthorization_Notify service operation indicating the termination
of an existing PDU session and the corresponding AF session is associated with
the \"Individual Time Synchronization Exposure Configuration\" resource, the
TSCTSF shall remove the AF session from the list of AF sessions associated
with the \"Individual Time Synchronization Exposure Configuration\" resource
and invoke Npcf_AMPolicyAuthorization_Delete service operation as defined in
clause 4.2.4 of 3GPP TS 29.534 [14] to remove the access stratum time
distribution parameters for the UE if they were provided.
If the HTTP PUT request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP PUT request the cause for the
rejection as specified in clause 6.1.7.
If the TSCTSF determines the received HTTP PUT request needs to be redirected,
the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9
of 3GPP TS 29.500 [4].
#### 5.2.2.7 Ntsctsf_TimeSynchronization_ConfigDelete
##### 5.2.2.7.1 General
This service operation is used by an NF service consumer to delete a time
synchronization configuration.
The following procedures using the Ntsctsf_TimeSynchronization_ConfigDelete
service operation are supported:
\- Deleting an existing configuration.
##### 5.2.2.7.2 Deleting an existing configuration
Figure 5.2.2.7.2-1 illustrates the deleting of an existing configuration.
Figure 5.2.2.7.2-1: Deletion of a configuration
To delete a configuration, the NF service consumer shall send an HTTP DELETE
request to the resource \"{apiRoot}/ntsctsf-time-
sync/\/subscriptions/{subscriptionId}/configurations/{configurationId}\"
representing an existing \"Individual Time Synchronization Exposure
Configuration\" resource, as shown in figure 5.2.2.7.2-1, step 1, to delete
the configuration.
Upon the reception of an HTTP DELETE request and if the HTTP DELETE request is
accepted by the TSCTSF, the TSCTSF shall:
\- remove the corresponding configuration and respond with \"204 No Content\"
as shown in figure 5.2.2.7.2-1, step 2;
\- use the {configurationId} within the requested URI to identify the time
synchronization service configuration and the corresponding AF sessions, and
then interact with:
\- the PCF(s) for the PDU Session to disable the corresponding PTP instance(s)
in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.4,
step 5-6.
\- the PCF(s) for the UE to remove the time synchronization error budget by
invoking the Npcf_AMPolicyAuthorization_Delete service operation as defined in
clause 4.2.4 of 3GPP TS 29.534 [14].
If the HTTP DELETE request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP DELETE request the cause for the
rejection as specified in clause 6.1.7.
If the TSCTSF determines the received HTTP DELETE request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
#### 5.2.2.8 Ntsctsf_TimeSynchronization_ConfigUpdateNotify
##### 5.2.2.8.1 General
This service operation is used by an TSCTSF to notify the NF Service Consumer
of the current state of the time synchronization configuration.
The following procedures using the
Ntsctsf_TimeSynchronization_ConfigUpdateNotify service operation are
supported:
\- notification about the current state of the time synchronization
configuration.
##### 5.2.2.8.2 Notifying the current state of an existing configuration
Figure 5.2.2.8.2-1 illustrates the notification about the current state of the
time synchronization configuration.
Figure 5.2.2.8.2-1: Notification about the current state of the time
synchronization configuration
When the TSCTSF receives the notification of the change in the PTP instance
for each DS-TT and/or NW-TT from the PCF as defined in clause 4.2.5.13 of 3GPP
TS 29.514 [20], the TSCTSF shall determine the current state of the time
synchronization configuration and sends an HTTP POST request with
\"{configNotifUri}\", as previously provided by the NF service consumer within
the corresponding configuration, as URI and the TimeSyncExposureConfigNotif
data structure as request body, as shown in figure 5.2.2.8.2-1, step 1.
The TimeSyncExposureConfigNotif data structure as request body that shall
include:
\- Notification correlation ID provided by the NF service consumer during the
configuration within the \"configNotifId\" attribute;
\- current states of the time synchronization configuration for the DS-TT
port(s) and/or NW-TT port within the \"stateOfConfig\" attribute.
If the HTTP POST request from the TSCTSF is not accepted, the NF service
consumer shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 6.1.7.
If the NF service consumer determines the received HTTP POST request needs to
be redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [4].
## 5.3 Ntsctsf_QoSandTSCAssistance Service
### 5.3.1 Service Description
#### 5.3.1.1 Overview
This service provides:
\- Authorization of NF Service Consumer requests for the resource reservation
for TSC.
\- NF Service Consumer request to reserve or update resources for handling
traffic characterized by TSC QoS parameters as described in clause 6.1.3.22 of
TS 23.503 [19].
#### 5.3.1.2 Network Functions
##### 5.3.1.2.1 TSCTSF
The TSCTSF supports to:
\- receive the request to reserve or update a specific QoS or a specific QoS
with additional Alternative QoS for an AF session;
\- receive the request to delete the AF session with requested QoS or the AF
session with requested QoS including Alternative Service Requirements
\- receive the request to subscribe or unsubscribe to the event(s) about the
AF session with requested QoS or the AF session with requested QoS including
Alternative Service Requirements;
\- determine the requested PDB and construct the TSC Assistance Container; and
\- Notify the NF service consumer of the event(s).
##### 5.3.1.2.2 NF Service Consumers.
The NF service consumer supports to:
\- send the request to reserve or update a specific QoS or a specific QoS with
additional Alternative QoS for an AF session;
\- send the request to delete the AF session with requested QoS or the AF
session with requested QoS including Alternative Service Requirements
\- send the request to subscribe or unsubscribe to the event(s); and
\- receive the notification of the event(s).
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
Service operations defined for the Ntsctsf_QoSandTSCAssistance service are
shown in table 6.3.2.1-1.
Table 5.3.2.1-1: Ntsctsf_TimeSynchronization Service Operations
Service Operation Name Description Initiated by
* * *
Ntsctsf_QoSandTSCAssistance_Create Allows the NF service consumer to request
the network to provide a specific QoS or a specific QoS with additional
Alternative QoS for an AF session. NF service consumer (e.g. AF, NEF)
Ntsctsf_QoSandTSCAssistance_Update Allows the NF service consumer to request
the network to update the QoS or the QoS with additional Alternative QoS for
an AF session NF service consumer (e.g. AF, NEF)
Ntsctsf_QoSandTSCAssistance_Delete Allows the NF service consumer to request
the network to delete the AF session with requested QoS or the AF session with
requested QoS including Alternative Service Requirements. NF service consumer
(e.g. AF, NEF) Ntsctsf_QoSandTSCAssistance_Notify Allows the TSCTSF to report
the QoS Flow level event(s) to the NF service consumer. TSCTSF
Ntsctsf_QoSandTSCAssistance_Subscribe Allows the NF service consumer to
subscribe to the event(s). NF service consumer (e.g. AF, NEF)
Ntsctsf_QoSandTSCAssistance_Unsubscribe Allows the NF service consumer to
unsubscribe to the event(s). NF service consumer (e.g. AF, NEF)
NOTE: The NEF and the AF use the Ntsctsf_QoSandTSCAssistance service in the
same way.
#### 5.3.2.2 Ntsctsf_QoSandTSCAssistance_Create
##### 5.3.2.2.1 General
This service operation is used by an NF service consumer to request the
network to provide a specific QoS for an AF session.
The following procedures using the Ntsctsf_QoSandTSCAssistance_Create service
operation are supported:
\- Initial provisioning of TSC related service information.
\- Subscriptions to Service Data Flow QoS notification control.
\- Subscription to Service Data Flow Deactivation
\- Subscription to resources allocation outcome
\- Subscriptions to Service Data Flow QoS Monitoring Information.
\- Initial provisioning of sponsored connectivity information.
##### 5.3.2.2.2 Initial provisioning of TSC related service information
This procedure is used to set up a TSC AF application session context for the
service as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS
23.503 [19].
Figure 5.3.2.2.2-1 illustrates the initial provisioning of TSC related service
information.
Figure 5.3.2.2.2-1: Initial provisioning of TSC related service information
When a new TSC AF application session context needs to be established, the NF
service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Create service
operation by sending the HTTP POST request to the resource URI representing
the \"TSC Application Sessions\" collection resource of the TSCTSF, as shown
in figure 5.3.2.2.2-1, step 1.
The NF service consumer shall include the \"TscAppSessionContextData\" data
type in the payload body of the HTTP POST request in order to request the
creation of the \"Individual TSC Application Session Context\" resource. The
\"Individual TSC Application Session Context\" resource and the \"Events
Subscription\" sub-resource are created as described below.
The NF service consumer shall include in the \"TscAppSessionContextData\" data
structure:
\- the AF identifier within the \"afId\" attribute;
\- either the IP address (IPv4 or IPv6) of the PDU session within the
\"ueIpAddr\" attribute for IP type PDU session or the MAC address of the DS-TT
port within the \"ueMac\" attribute for Ethernet type PDU sessions;
\- either the Application Id within the \"appId\" attribute or the flow
information within:
a. for IP flows, the \"flowInfo\" attribute; or
b. for Ethernet flows, either the \"ethFlowInfo\" attribute or, if the
Ethernet_UL/DL_Flows feature is supported, the \"enEthFlowInfo\" attribute;
\- the QoS reference within the \"qosReference\" attribute or the individual
QoS parameter set (i.e. requested GBR, requested MBR, requested maximum burst
size, requested priority if received and requested 5GS delay if received)
within the \"tscQosReq\" attribute;
\- the input information to construct the TSC Assistance Container within the
\"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the
\"tscQosReq\" attribute; and
\- the URI where the TSCTSF can request to the NF service consumer to delete
the \"Individual TSC Application Session Context\" resource within the
\"notifUri\" attribute;
and may include:
\- the DNN within the \"dnn\" attribute;
\- the S-NSSAI within the \"snssai\" attribute;
\- the domain identity in the \"ipDomain\" attribute;
\- an ordered list of alternative QoS references within the
\"altQosReferences\" attribute if the QoS reference is provided or an ordered
list of requested alternative QoS parameters set(s) within the \"altQosReqs\"
attribute if the individual QoS parameter set is provided. When the NF service
consumer provides the \"altQosReferences\" attribute or the \"altQosReqs\"
attribute, the NF service consumer shall also subscribe to receive
notifications from the TSCTSF when the resources associated to the
corresponding service information have been allocated as described in clause
5.3.2.2.5 and when the GBR QoS targets for one or more service data flows can
no longer (or can again) be guaranteed, as described in clause 5.3.2.2.3; and
\- the request of the notification of certain user plane events within the
\"evSubsc\" attribute. Within the EventsSubscReqData data structure, the NF
service consumer shall include:
a) the URI where the TSCTSF sends the event notification to the NF service
consumer within the \"notifUri\" attribute;
b) a Notification Correlation Identifier for the requested notifications
within the \"notifCorreId\" attribute;
c) the subscribed events within the \"events\" attribute;
d) the usage threshold within the \"usgThres\" attribute if the
\"USAGE_REPORT\" event is subscribed; and
e) QoS monitoring information within the \"qosMon\" attribute if the
\"QOS_MONITORING\" event is subscribed.
Upon the reception of this HTTP POST request, the TSCTSF shall:
\- construct the TSC Assistance Container based on information provided by the
NF service consumer;
\- if the Requested 5GS delay including the requested 5GS delay within the
individual QoS parameter set or within the requested alternative QoS
parameters set(s) is received from NF service consumer, calculate a Requested
PDB by subtracting the UE-DS-TT residence time either provided by the PCF or
pre-configured at TSCTSF from the Requested 5GS delay;
\- if the time domain information is not received with the Burst Arrival Time
or Periodicity within the \"tscQosReq\" attribute from the NF service
consumer, the TSCTSF may indicate Time Domain = \"5GS\" within the
\"tscaiTimeDom\" attribute within the \"tscQosReq\" attribute to indicate that
the NF service consumer does not provide the time domain information;
NOTE 1: The Time Domain value corresponding to \"5GS\" is locally configured
in the SMF and in the TSCTSF, and indicates that the AF does not provide a
Time Domain and the provided TSCAI input information will be used without
adjustments.
\- interact with the PCF for the received UE address:
a) if the TSCTSF has an AF-session with the PCF for the received UE address,
the TSCTSF shall interact with the PCF by triggering a
Npcf_PolicyAuthorization_Update request to provision the related parameters to
the PCF as defined in 3GPP TS 29.514 [20]; or
b) if the TSCTSF does not have an AF-Session with the PCF for the received UE
address, the TSCTSF shall discover the PCF for the PDU session as specified in
3GPP TS 29.521 [23], and shall interact with the PCF by triggering a
Npcf_PolicyAuthorization_Create to provision the related parameters to the PCF
as defined in 3GPP TS 29.514 [20]; and
NOTE 2: If the PCF determines an existing PDU Session is related with TSC
traffic (based on local configuration or SM Policy Association), the PCF
invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as
defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC
User Plane Node information. At that time, the TSCTSF retrieves from the BSF
the PCF binding information, as specified in 3GPP TS 29.521 [23], and can
create the AF-session by sending to the PCF the
Npcf_PolicyAuthorization_Create service operation, if TSC related information,
as e.g. QoS requirements, and/or subscription to PMIC(s)/UMIC updates need to
be provided to the PCF.
NOTE 3: After the TSCTSF retrieves from the BSF the PCF binding information
(including the UE Identities for the notified PDU session), as specified in
3GPP TS 29.521 [23], the TSCTSF can store internally the received information
and delay the Npcf_PolicyAuthorization_Create service operation (the creation
of the AF-session). In this case, when the TSCTSF receives the QoS request,
the TSCTSF interacts with the PCF by triggering a
Npcf_PolicyAuthorization_Create request to provision the related parameters to
the PCF as defined in 3GPP TS 29.514 [20].
\- if receiving a successful response from the PCF, the TSCSTF shall create an
\"Individual TSC Application Session Context\" resource and send to the NF
service consumer a \"201 Created\" response to the HTTP POST request, as shown
in figure 5.3.2.2.2-1, step 2. If the \"evSubsc\" attribute is received, the
\"Events Subscription\" sub-resource shall be created within the \"Individual
TSC Application Session Context\" resource. The TSCTSF shall include in the
\"201 Created\" response:
a) a Location header field; and
b) a \"TscAppSessionContextData\" data type in the payload body.
The Location header field shall contain the URI of the created \"Individual
TSC Application Session Context\" i.e. \"{apiRoot}/ntsctsf-qos-tscai/v1/tsc-
app-sessions/{appSessionId}\".
When \"Events Subscription\" sub-resource is created in this procedure, the NF
service consumer shall build the sub-resource URI by adding the path segment
\"/events-subscription\" at the end of the URI path received in the Location
header field.
If the TSCTSF cannot successfully fulfil the received HTTP POST request due to
the internal TSCTSF error or due to the error in the HTTP POST request, the
TSCTSF shall send the HTTP error response as specified in clause 6.2.7.
##### 5.3.2.2.3 Subscriptions to Service Data Flow QoS notification control
The NF service consumer shall use the \"EventsSubscReqData\" data type as
described in clause 5.3.2.2.2 and shall include in the HTTP POST request
message an event within the \"evSubsc\" attribute with the \"event\" attribute
set to \"QOS_GUARANTEED\" and an event within the \"evSubsc\" attribute with
the \"event\" attribute set to \"QOS_NOT_GUARANTEED\".
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.2.2.
As result of this action, the TSCTSF shall set the appropriate subscription to
QoS notification control as described in in 3GPP TS 29.514 [20].
##### 5.3.2.2.4 Subscription to Service Data Flow Deactivation
The NF service consumer shall use the \"EventsSubscReqData\" data type as
described in clause 5.3.2.2.2 and shall include in the HTTP POST request
message an event entry within the \"evSubsc\" attribute with the \"event\"
attribute set to \"FAILED_RESOURCES_ALLOCATION\".
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.2.2.
As result of this action, the TSCTSF shall set the appropriate subscription to
service data flow deactivation as described in in 3GPP TS 29.514 [20].
##### 5.3.2.2.5 Subscription to resources allocation outcome
The NF service consumer shall use the \"EventsSubscReqData\" data type as
described in clause 5.3.2.2.2 and shall include in the HTTP POST request
message:
\- if the NF service consumer requests the TSCTSF to provide a notification
when the resources associated to the service information have been allocated,
an event entry within the \"events\" attribute with the \"event\" attribute
set to \"SUCCESSFUL_RESOURCES_ALLOCATION\"; and/or
\- if the NF service consumer requests the TSCTSF to provide a notification
when the resources associated to the service information cannot be allocated,
an event entry within the \"events\" attribute with the \"event\" attribute
set to \"FAILED_RESOURCES_ALLOCATION\".
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.2.2.
As result of this action, the TSCTSF shall set the appropriate subscription to
notification of resources allocation outcome as described in in 3GPP TS 29.514
[20].
##### 5.3.2.2.6 Subscriptions to Service Data Flow QoS Monitoring Information
The NF service consumer shall use the \"EventsSubscReqData\" data type as
described in clause 5.3.2.2.2 and shall include in the HTTP POST request
message an event within the \"evSubsc\" attribute with the \"event\" attribute
set to \"QOS_MONITORING\" and include the QoS monitoring information with the
\"qosMon\" attribute. Within the QosMonitoringInformation data structure, the
AF shall include:
\- one or more requested QoS Monitoring Parameter(s) within the
\"reqQosMonParams\"; and
\- one or more report frequency within the \"repFreqs\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"PERIODIC\", the
periodic time for reporting and, if the feature \"PacketDelayFailureReport\"
is supported, the maximum period with no QoS measurement results reported
within the \"repPeriod\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"EVENT_TRIGGERED\", the
AF shall include:
\- the delay threshold for downlink with the \"repThreshDl\" attribute;
\- the delay threshold for uplink with the \"repThreshUl\" attribute; and/or
\- the delay threshold for round trip with the \"repThreshRp\" attribute;
\- the minimum waiting time between subsequent reports within the \"waitTime\"
attribute; And
\- if the feature \"PacketDelayFailureReport\" is supported, the maximum
period with no QoS measurement results reported within the\"repPeriod\"
attribute.
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.2.2.
As result of this action, the TSCTSF shall set the appropriate subscription to
service data flow QoS monitoring information as described in in 3GPP TS 29.514
[20].
##### 5.3.2.2.7 Initial provisioning of sponsored connectivity information
The NF service consumer may include in the HTTP POST request message described
in clause 5.3.2.2.2 an application service provider identity and a sponsor
identity within the \"aspId\" attribute and \"sponId\" attribute.
Additionally, the NF service consumer may provide an indication to the TSCTSF
of sponsored data connectivity not enabled by including the \"sponStatus\"
attribute set to \"SPONSOR_DISABLED\".
To support the usage monitoring of sponsored data connectivity, the NF service
consumer may subscribe with the TSCTSF to the notification of usage threshold
reached. The NF service consumer may also include the \"evSubsc\" attribute
with:
\- the usage thresholds to apply in the \"usgThres\" attribute; and
\- an entry of the \"events\" attribute set to \"USAGE_REPORT\".
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.2.2.
As result of this action, the TSCTSF shall provision the sponsored data
connectivity information to the PCF as described in in 3GPP TS 29.514 [20].
#### 5.3.2.3 Ntsctsf_QoSandTSCAssistance_Update
##### 5.3.2.3.1 General
This service operation is used by an NF service consumer to request the
network to update the QoS and/or additional Alternative QoS for an AF session.
The following procedures using the Ntsctsf_QoSandTSCAssistance_Update service
operation are supported:
\- Modification of TSC related service information.
\- Modification of Subscription to Service Data Flow QoS notification control.
\- Modification of Subscription to Service Data Flow Deactivation.
\- Modification of subscription to resources allocation outcome.
\- Modification of Subscription to Service Data Flow QoS Monitoring
Information.
\- Modification of sponsored connectivity information.
##### 5.3.2.3.2 Modification of TSC related service information
This procedure is used to modify an existing TSC application session context
as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].
Figure 5.3.2.3.2-1 illustrates the modification of TSC related service
information using HTTP PATCH method.
Figure 5.3.2.3.2-1: Modification of TSC related service information using HTTP
PATCH
The NF service consumer may modify the TSC application session context
information at any time and invoke the Ntsctsf_QoSandTSCAssistance_Update
service operation by sending the HTTP PATCH request message to the resource
URI representing the \"Individual TSC Application Session Context\" resource,
as shown in figure 5.3.2.3.2-1, step 1, with the modifications to apply.
The JSON body within the PATCH request shall include the
\"TscAppSessionContextUpdateData\" data type and shall be encoded according to
\"JSON Merge Patch\", as defined in IETF RFC 7396 [22].
The NF service consumer may include in the \"TscAppSessionContextUpdateData\"
data structure:
\- the updated flow information within the \"flowInfo\" attribute for IP flows
or, either the \"ethFlowInfo\" or, if the Ethernet_UL/DL_Flows feature is
supported, the \"enEthFlowInfo\" attribute for Ethernet flows;
\- the updated application Id within the \"appId\" attribute;
\- the updated QoS reference within the \"qosReference\" attribute or the
updated individual QoS parameter set within the \"tscQosReq\" attribute;
\- the updated input information to construct the TSC Assistance Container
within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the
\"tscQosReq\" attribute;
\- the updated URI where the TSCTSF can request to the NF service consumer to
delete the \"Individual TSC Application Session Context\" resource within the
\"notifUri\".
\- the updated ordered list of alternative QoS references within the
\"altQosReferences\" attribute or updated ordered list of requested
alternative QoS parameters set(s) within the \"altQosReqs\" attribute; and
\- the updated event subscription information within the \"evSubsc\"
attribute. Within the EventsSubscReqDataRm data structure, the NF service
consumer shall include:
> \- the new complete list of subscribed events within the \"events\"
> attribute;
>
> \- when the NF service consumer requests to update the additional
> information related to an event (e.g. the NF service consumer needs to
> provide new thresholds to the TSCTSF in the \"usgThres\" attribute related
> to the \"USAGE_REPORT\" event), the additional information within the
> corresponding attribute(s).
NOTE 1: Note that when the NF service consumer requests to remove an event,
this event is not included in the \"events\" attribute.
NOTE 2: When an event is included in the \"events\" attribute and its related
additional information is set to null, the TSCTSF considers the subscription
to this event is active, but the related procedures stop applying.
NOTE 3: When an event is removed from the \"events\" attribute but its related
information is not set to null, the TSCTSF considers the subscription to this
event is terminated, the related additional information is removed, and the
related procedures stop applying.
The NF service consumer shall remove existing event subscription information
by setting to null the \"evSubsc\" attribute included in
\"TscAppSessionContextUpdateData\".
NOTE 4: The \"notifUri\" attribute within the EventsSubscReqData data
structure can be modified to request that subsequent notifications are sent to
a new NF service consumer.
Upon the reception of this HTTP PATCH request, the TSCTSF shall
\- if the updated Requested 5GS delay including the requested 5GS delay within
the individual QoS parameter set or within the requested alternative QoS
parameters set(s) is received from NF service consumer, re-calculate a
Requested PDB by subtracting the UE-DS-TT residence time provided by the PCF
or pre-configured in the TSCTSF from the Requested 5GS delay;
\- update the TSC Assistance Container based on updated information provided
by the NF service consumer;
\- if the time domain information is not received with the Burst Arrival Time
or Periodicity within the \"tscQosReq\" attribute from the NF service
consumer, the TSCTSF may indicate Time Domain = \"5GS\" within the
\"tscaiTimeDom\" attribute within the \"tscQosReq\" attribute to indicate that
the NF service consumer does not provide the time domain information;
NOTE 5: The Time Domain value corresponding to \"5GS\" is locally configured
in the SMF and in the TSCTSF, and indicates that the AF does not provide a
Time Domain and the provided TSCAI input information will be used without
adjustments.
\- interact with the PCF by triggering a Npcf_PolicyAuthorization_Update
request to provision the related parameters to the PCF as defined in 3GPP TS
29.514 [20];
\- if receiving a successful response from the PCF, the TSCSTF shall update
the \"Individual TSC Application Session Context\" resource and send a \"200
OK\" or \"204 No Content\" response to the HTTP POST request to the NF service
consumer, as shown in figure 5.3.2.3.2-1, step 2.
If the TSCTSF cannot successfully fulfil the received HTTP PATCH request due
to the internal TSCTSF error or due to the error in the HTTP PATCH request,
the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.
If the TSCTSF determines the received HTTP PATCH request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
##### 5.3.2.3.3 Modification of Subscription to Service Data Flow QoS
notification control
The NF service consumer shall use the HTTP PATCH method to update the \"Events
Subscription\" sub-resource together with the modifications to the
\"Individual TSC Application Sessions\" resource.
The NF service consumer shall include in the HTTP PATCH request message
described in clause 5.3.2.3.2, the updated event subscription information
within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type,
the NF service consumer shall include the \"events\" attribute with the
\"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" values to indicate the
subscription to QoS notification control or include the \"events\" but without
the \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" values to indicate the
termination of the subscription to QoS notification control.
As result of this action, the TSCTSF shall set the appropriate subscription to
QoS notification control as described in 3GPP TS 29.514 [20].
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.3.2.
##### 5.3.2.3.4 Modification of Subscription to Service Data Flow Deactivation
The NF service consumer shall use the HTTP PATCH method to update the \"Events
Subscription\" sub-resource together with the modifications to the
\"Individual TSC Application Sessions\" resource.
The NF service consumer shall include in the HTTP PATCH request message
described in clause 5.3.2.3.2, the updated event subscription information
within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type,
the NF service consumer shall include the \"events\" attribute with the
\"FAILED_RESOURCES_ALLOCATION\" values to the subscription to service data
flow deactivation or include the \"events\" but without
\"FAILED_RESOURCES_ALLOCATION\" value to indicate the termination of the
subscription to Service Data Flow Deactivation.
As result of this action, the TSCTSF shall set the appropriate subscription to
QoS notification control as described in 3GPP TS 29.514 [20].
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.3.2.
##### 5.3.2.3.5 Modification of subscription to resources allocation outcome
The NF service consumer shall use the HTTP PATCH method to modify the \"Events
Subscription\" sub-resource together with the modifications to the
\"Individual TSC Application Sessions\" resource.
The NF service consumer shall include in the HTTP PATCH request message
described in clause 5.3.2.3.2, the updated event subscription information
within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type,
the NF service consumer shall include the \"events\" attribute with the
\"SUCCESSFUL_RESOURCES_ALLOCATION\" value for the successful resource
allocation and/or \"FAILED_RESOURCES_ALLOCATION\" value for the unsuccessful
resource allocation to the subscription to resources allocation outcome or
include the \"events\" but without \"SUCCESSFUL_RESOURCES_ALLOCATION\" and/or
\"FAILED_RESOURCES_ALLOCATION\" value to indicate the termination of the
subscription to resources allocation outcome.
As result of this action, the TSCTSF shall set the appropriate subscription to
resources allocation outcome as described in 3GPP TS 29.514 [20].
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.3.2.
##### 5.3.2.3.6 Modification of Subscription to Service Data Flow QoS
Monitoring Information
The NF service consumer shall use the HTTP PATCH method to update the \"Events
Subscription\" sub-resource together with the modifications to the
\"Individual TSC Application Sessions\" resource.
The NF service consumer shall include in the HTTP PATCH request message
described in clause 5.3.2.3.2, the updated event subscription information
within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type,
the NF service consumer shall perform as follows:
\- to create a subscription to QoS monitoring information:
a) include the \"events\" attribute with the \"QOS_MONITORING\" value; and
b) include the updated QoS monitoring information within the \"qosMon\"
attribute as defined in clause 5.3.2.2.6;
\- to remove a subscription to QoS monitoring information:
a) include the \"events\" attribute without \"QOS_MONITORING\".
As result of this action, the TSCTSF shall set the appropriate subscription to
Service Data Flow QoS Monitoring Information as described in 3GPP TS 29.514
[20].
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.3.2.
##### 5.3.2.3.7 Modification of sponsored connectivity information
The NF service consumer shall use the HTTP PATCH method to modify the
sponsored connectivity information.
The NF service consumer shall include in the HTTP PATCH request message
described in clause 5.3.2.3.2, an application service provider identity and a
sponsor identity within the \"aspId\" attribute and \"sponId\" attribute, and
optionally an indication of whether to enable or disable sponsored data
connectivity within the \"sponStatus\" attribute set to the applicable value
to provide sponsored connectivity information or to update existing sponsored
connectivity information.
If the NF service consumer requests to enable sponsored data connectivity the
NF service consumer shall change the \"sponStatus\" attribute value to
\"SPONSOR_ENABLED\".
If the NF service consumer requests to disable sponsored data connectivity the
NF service consumer shall provide an indication to disable sponsored data
connectivity to the TSCTSF by setting the \"sponStatus\" attribute to
\"SPONSOR_DISABLED\".
To support the usage monitoring of sponsored data connectivity, the NF service
consumer may also include in the HTTP PATCH a new or modified \"evSubsc\"
attribute with:
\- the usage thresholds to apply in the \"usgThres\" attribute; and
\- an entry of the \"events\" attribute set to \"USAGE_REPORT\".
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.3.2.
As result of this action, the TSCTSF shall provision the updated sponsored
data connectivity information to the PCF as described in in 3GPP TS 29.514
[20].
#### 5.3.2.4 Ntsctsf_QoSandTSCAssistance_Delete
##### 5.3.2.4.1 General
This service operation is used by an NF service consumer to request the
network to delete the AF session with requested QoS or the AF session with
requested QoS including Alternative Service Requirements.
The following procedures using the Ntsctsf_QoSandTSCAssistance_Delete service
operation are supported:
\- TSC AF application session context termination.
\- Reporting usage for sponsored data connectivity
##### 5.3.2.4.2 TSC AF application session context termination
This procedure is used to terminate an AF application session context for the
service as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS
23.503 [19].
Figure 5.3.2.4.2-1 illustrates the application session context termination.
Figure 5.3.2.4.2-1: Application session context termination
When a TSC AF session is terminated, and if the TSC AF application session
context was created as described in clause 5.3.2.2, the NF service consumer
shall invoke the Ntsctsf_QoSandTSCAssistance_Delete service operation to the
TSCTSF using an HTTP POST request, as shown in figure 5.3.2.4.2-1, step 1.
The NF service consumer shall set the request URI to \"{apiRoot}/ntsctsf-qos-
tscai/v1/tsc-app-sessions/{appSessionId}/delete\".
The NF service consumer may include in the body of the HTTP POST the
\"EventsSubscReqData\" data type with the \"evSubsc\" attribute indicating the
corresponding list of events to subscribe to.
When the TSCTSF receives the HTTP POST request from the NF service consumer,
indicating the termination of the TSC AF application session context
information, the TSCTSF shall acknowledge that request by sending an HTTP
response message with the corresponding status code.
If the HTTP POST request from the NF service consumer is accepted, the TSCTSF
shall send to the NF service consumer:
a) if event information is reported, TSCTSF shall defer sending the response
to the NF service consumer and shall immediately interact with the PCF to
terminate the AF session with the event report, as specified in 3GPP TS 29.514
[20]. After receiving the event information from the PCF, the TSCTSF shall
send a \"200 OK\" response to HTTP POST request, as shown in figure
5.3.2.4.2-1, step 2a, including in the \"EventsNotification\" to report to the
NF service consumer;
b) otherwise, the TSCTSF shall send to the NF service consumer a \"204 No
Content\".
If the TSCTSF cannot successfully fulfil the received HTTP POST request due to
the internal TSCTSF error or due to the error in the HTTP POST request, the
TSCTSF shall send the HTTP error response as specified in clause 6.2.7.
If the TSCTSF determines the received HTTP POST request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
##### 5.3.2.4.3 Reporting usage for sponsored data connectivity
When The NF service consumer indicated to enable sponsored data connectivity
and the NF service consumer provided usage thresholds for such sponsor to the
TSCTSF, the TSCTSF shall report accumulated usage to the NF service consumer
using the response of the Ntsctsf_QoSandTSCAssistance_Delete service
operation.
This procedure is initiated when:
\- the \"Individual TSC Application Session\" is deleted by the NF service
consumer; or
\- the TSCTSF requests the deletion of the \"Individual TSC Application
Session\" to the NF service consumer, as described in clause 5.2.2.5.3, due to
PDU session termination, the termination of all the service data flows of the
Individual TSC Application Session.
To report the accumulated usage, the TSCTSF shall immediately configure the
PCF to retrieve the accumulated usage as specified in 3GPP TS 29.514 [20].
When the TSCTSF receives the usage information from the PCF, the TSCTSF shall
notify the NF service consumer by including the \"EventsNotification\" data
type in the response of the HTTP POST request as described in clause
5.3.2.4.2.
The TSCTSF shall within an instance of \"events\" attribute include:
\- \"USAGE_REPORT\" within the \"event\" attribute;
\- accumulated usage within the \"usgRep\" attribute.
#### 5.3.2.5 Ntsctsf_QoSandTSCAssistance_Notify
##### 5.3.2.5.1 General
The Ntsctsf_QoSandTSCAssistance_Notify service operation enables notification
to NF service consumers that the previously subscribed event for the existing
TSC application session context occurred or that the TSC application session
context is no longer valid.
The following procedures using the Ntsctsf_QoSandTSCAssistance_Notify service
operation are supported:
\- Notification about TSC application session context event.
> \- Notification about TSC application session context termination.
>
> \- Notification about Service Data Flow QoS notification control.
>
> \- Notification about Service Data Flow Deactivation
>
> \- Notification about resources allocation outcome.
>
> \- Notification about Service Data Flow QoS Monitoring control.
>
> \- Reporting usage for sponsored data connectivity.
##### 5.3.2.5.2 Notification about TSC application session context event
This procedure is invoked by the TSCTSF to notify the NF service consumer when
a certain, previously subscribed, application session context event occurs, as
defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].
Figure 5.3.2.5.2-1 illustrates the notification about TSC application session
context event.
Figure 5.3.2.5.2-1: Notification about application session context event
When the TSCTSF determines that the event for the existing TSC AF application
session context, to which the NF service consumer has subscribed to, occurred
e.g. upon reception of an event notification for a PDU session from the PCF as
described in 3GPP TS 29.514 [20], the TSCTSF shall invoke the
Ntsctsf_QoSandTSCAssistance_Notify service operation by sending the HTTP POST
request (as shown in figure 5.3.2.5.2-1, step 1) to the NF service consumer
using the notification URI received in the subscription creation (or
modification), as specified in clause 5.3.2.2.2, 5.3.2.3.2, and 5.3.2.6, and
appending the \"notify\" segment path at the end of the URI. The TSCTSF shall
provide in the body of the HTTP POST request the \"EventsNotification\" data
type including:
\- the notification correlation Id within the \"notifCorreId\"; and
\- the list of the reported events in the \"events\" attribute.
The NF service consumer notification of other specific events using the
Ntsctsf_QoSandTSCAssistance_Notify request is described in the related
clauses.
Upon the reception of the HTTP POST request from the TSCTSF indicating that
the PDU session and/or service related event occurred, the NF service consumer
shall acknowledge that request by sending an HTTP response message with the
corresponding status code.
If the HTTP POST request from the TSCTSF is accepted, the NF service consumer
shall acknowledge the receipt of the event notification with a \"204 No
Content\" response to HTTP POST request, as shown in figure 5.3.2.5.2-1, step
2.
If the HTTP POST request from the TSCTSF is not accepted, the NF service
consumer shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 6.2.7.
If the NF service consumer determines the received HTTP POST request needs to
be redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [5].
##### 5.2.2.5.3 Notification about TSC application session context termination
This procedure is invoked by the TSCTSF to notify the NF service consumer that
the TSC application session context is no longer valid, as defined in 3GPP TS
23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].
Figure 5.2.2.5.3-1 illustrates the notification about application session
context termination.
Figure 5.2.2.5.3-1: Notification about TSC application session context
termination
When the TSCTSF determines that the TSC application session context is no
longer valid, the TSCTSF shall invoke the Ntsctsf_QoSandTSCAssistance_Notify
service operation by sending the HTTP POST request (as shown in figure
5.2.2.5.3-1, step 1) using the notification URI received in the \"Individual
TSC Application Session Context\" context creation, as specified in clause
5.3.2.2, and appending the \"terminate\" segment path at the end of the URI,
to trigger the NF service consumer to request the TSC application session
context termination (see clause 5.3.2.4.2). The TSCTSF shall provide in the
body of the HTTP POST request the \"TerminationInfo\" data type including:
\- the Individual TSC Application Session Context resource identifier related
to the termination notification in the \"resUri\" attribute; and
> \- the TSC application session context termination cause in the
> \"termCause\" attribute.
Upon the reception of the HTTP POST request from the TSCTSF requesting the TSC
application session context termination, the NF service consumer shall
acknowledge that request by sending an HTTP response message with the
corresponding status code.
If the HTTP POST request from the TSCTSF is accepted, the NF service consumer
shall acknowledge the receipt of the TSC application session context
termination request with a \"204 No Content\" response to HTTP POST request
(as shown in figure 5.2.2.5.3-1, step 2) and shall invoke the
Ntsctsf_QoSandTSCAssistance_Delete service operation to the TSCTSF as
described in clause 5.3.2.4.
If the HTTP POST request from the TSCTSF is not accepted, the NF service
consumer shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 6.2.7.
If the NF service consumer determines the received HTTP POST request needs to
be redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [5].
##### 5.3.2.5.4 Notification about Service Data Flow QoS notification control
When the TSCTSF receives the notification about Service Data Flow QoS
notification control from the PCF as described in 3GPP TS 29.514 [20], the
TSCTSF shall inform the NF service consumer accordingly if the NF service
consumer has previously subscribed as described in clauses 5.3.2.2.3 and
5.3.2.3.3.
The TSCTSF shall notify the NF service consumer by including the
\"EventsNotification\" data type in the body of the HTTP POST request as
described in clause 5.3.2.5.2.
The TSCTSF shall within an instance of \"events\" attribute include:
\- \"QOS_GUARANTEED\" or \"QOS_NOT_GUARANTEED\" within the \"event\"
attribute;
\- the identification of the affected service flows (if not all the flows are
affected) encoded in the \"flowIds\" attribute if applicable; and
\- the reference to the Alternative Service Requirement corresponding
alternative QoS parameter set if received from the PCF within the
\"appliedQosRef\" attribute. When the \"appliedQosRef\" attribute is omitted
and the \"event\" attribute is QOS_NOT_GUARANTEED, it indicates that the
lowest priority alternative QoS profile could not be fulfilled.
##### 5.3.2.5.5 Notification about Service Data Flow Deactivation
When the TSCTSF receives the notification about service data flow deactivation
from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the
NF service consumer accordingly if the NF service consumer has previously
subscribed as described in clauses 5.3.2.2.4 and 5.3.2.3.4.
The TSCTSF shall notify the NF service consumer by including the
\"EventsNotification\" data type in the body of the HTTP POST request as
described in clause 5.3.2.5.2.
The TSCTSF shall within an instance of \"events\" attribute include:
\- \"FAILED_RESOURCES_ALLOCATION\" within the \"event\" attribute;
\- the identification of the affected service flows (if not all the flows are
affected) encoded in the \"flowIds\" attribute if applicable.
##### 5.3.2.5.6 Notification about resources allocation outcome
When the TSCTSF receives the notification about resources allocation outcome
from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the
NF service consumer accordingly if the NF service consumer has previously
subscribed as described in clauses 5.3.2.2.5 and 5.3.2.3.5.
The TSCTSF shall notify the NF service consumer by including the
\"EventsNotification\" data type in the body of the HTTP POST request as
described in clause 5.3.2.5.2.
The TSCTSF shall within an instance of \"events\" attribute include:
\- \"SUCCESSFUL_RESOURCES_ALLOCATION\" within the \"event\" attribute if the
\"SUCCESSFUL_RESOURCES_ALLOCATION\" event is received from the PCF or
\"FAILED_RESOURCES_ALLOCATION\" within the \"event\" attribute if the
\"FAILED_RESOURCES_ALLOCATION\" event is received from the PCF;
\- the identification of the affected service flows (if not all the flows are
affected) encoded in the \"flowIds\" attribute if applicable.
\- when the event is \"SUCCESSFUL_RESOURCES_ALLOCATION\", the reference to the
Alternative Service Requirement corresponding alternative QoS parameter set if
received from the PCF within the \"appliedQosRef\" attribute.
##### 5.3.2.5.7 Notification about Service Data Flow QoS Monitoring control
When the TSCTSF receives the notification about Service Data Flow QoS
Monitoring control from the PCF as described in 3GPP TS 29.514 [20], the
TSCTSF shall inform the NF service consumer accordingly if the NF service
consumer has previously subscribed as described in clauses 5.3.2.2.6 and
5.3.2.3.6.
The TSCTSF shall notify the NF service consumer by including the
\"EventsNotification\" data type in the body of the HTTP POST request as
described in clause 5.3.2.5.2.
The TSCTSF shall within an instance of \"events\" attribute include:
\- \"QOS_MONITORING\" within the \"event\" attribute;
\- the identification of the affected service flows (if not all the flows are
affected) encoded in the \"flowIds\" attribute if applicable; and
\- the \"qosMonReports\" array with:
a) one or two uplink packet delays within the \"ulDelays\" attribute;
b) one or two downlink packet delays within the \"dlDelays\" attribute; and/or
c) one or two round trip packet delays within the \"rtDelays\" attribute.
d) if the feature \"PacketDelayFailureReport\" is supported, the packet delay
measurement failure indicator within \"pdmf\" attribute.
##### 5.3.2.5.8 Reporting usage for sponsored data connectivity
When the NF service consumer enabled sponsored data connectivity and the NF
service consumer provided usage thresholds for such sponsor to the TSCTSF, the
TSCTSF shall report accumulated usage to the NF service consumer using the
Npcf_PolicyAuthorization_Notify service operation when:
\- the TSCTSF detects that the usage threshold provided by the NF service
consumer has been reached; or
\- the NF service consumer disables the sponsored data connectivity.
The TSCTSF shall notify the NF service consumer of the accumulated usage by
including the \"EventsNotification\" data type in the body of the HTTP POST
request as described in clause 5.3.2.5.2.
The TSCTSF shall within an instance of \"events\" attribute include:
\- \"USAGE_REPORT\" within the \"event\" attribute;
\- accumulated usage within the \"usgRep\" attribute.
When the NF service consumer receives the HTTP POST request, it shall
acknowledge the request by sending a \"204 No Content\" response to the
TSCTSF. The NF service consumer may terminate the Individual Application
Session Context sending an HTTP POST as described in clause 5.3.2.4.2 or
update the Individual Application Session Context information by providing a
new usage threshold sending an HTTP PATCH request to the TSCTSF as described
in clause 5.3.2.3.2 or an HTTP PUT request to the TSCTSF as described in
clause 5.3.2.6.2.
#### 5.3.2.6 Ntsctsf_QoSandTSCAssistance_Subscribe
##### 5.3.2.6.1 General
The Ntsctsf_QoSandTSCAssistance_Subscribe service operation enables NF service
consumers handling of subscription to events for the existing TSC application
session context. Subscription to events shall be created:
\- within the application session context establishment procedure by invoking
the Ntsctsf_QoSandTSCAssistance_Subscribe service operation, as described in
clause 5.3.2.2; or
\- within the TSC application session context modification procedure by
invoking the Ntsctsf_QoSandTSCAssistance_Subscribe service operation, as
described in clause 5.3.2.3; or
\- by invoking the Ntsctsf_QoSandTSCAssistance_Subscribe service operation for
the existing TSC application session context, as described in clause
5.3.2.6.2.
The following procedures using the Ntsctsf_QoSandTSCAssistance_Subscribe
service operation is supported:
\- Handling of subscription to events for the existing TSC application session
context.
\- Subscription to Service Data Flow QoS Monitoring Information.
\- Subscription to Usage Monitoring of Sponsored Data Connectivity.
##### 5.3.2.6.2 Handling of subscription to events for the existing TSC
application session context
This procedure is used to create a subscription to events for the existing TSC
AF application session context bound to the corresponding PDU session or to
modify an existing subscription, as defined in 3GPP TS 23.501 [2], 3GPP TS
23.502 [3] and 3GPP TS 23.503 [19].
Figure 5.3.2.6.2-1 illustrates the creation of events subscription information
using HTTP PUT method.
Figure 5.3.2.6.2-1: Creation of events subscription information using HTTP PUT
Figure 5.3.2.6.2-2 illustrates the modification of events subscription
information using HTTP PUT method.
Figure 5.3.2.6.2-2: Modification of events subscription information using HTTP
PUT
When the NF service consumer decides to create a subscription to one or more
events for the existing TSC application session context or to modify an
existing subscription previously created by itself at the TSCTSF, the NF
service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Subscribe
service operation by sending the HTTP PUT request to the resource URI
representing the \"Events Subscription\" sub-resource in the TSCTSF, as shown
in figure 5.3.2.6.2-1, step 1 and figure 5.3.2.6.2-2, step 1. The NF service
consumer shall provide in the \"EventsSubscReqData\" data type of the body of
the HTTP PUT request:
\- the \"events\" attribute with the list of events to be subscribed;
\- the \"notifUri\" attribute that includes the Notification URI to indicate
to the TSCTSF where to send the notification of the subscribed events;
\- the notification correlation Id within the \"notifCorreId\" attribute; and
\- the specific event information related to the subscribed event, e.g. QoS
monitoring information within the \"qosMon\" attribute if the
\"QOS_MONITORING\" event is subscribed.
NOTE: The \"notifUri\" attribute within the EventsSubscReqData data structure
can be modified to request that subsequent notifications are sent to a new NF
service consumer.
Upon the reception of the HTTP PUT request from the NF service consumer, the
TSCTSF shall decide whether the received HTTP PUT request is accepted.
If the TSCTSF accepted the HTTP PUT request to create a subscription to
events, the TSCTSF shall create the \"Events Subscription\" sub-resource and
shall send the HTTP response message to the NF service consumer as shown in
figure 5.3.2.6.2-1, step 2. The TSCTSF shall include in the \"201 Created\"
response:
\- a Location header field that shall contain the URI of the created \"Events
Subscription\" sub-resource i.e. \"{apiRoot}/ntsctsf-qos-tscai/v1/tsc-app-
sessions/{appSessionId}/events-subscription\"; and
\- a response body with the \"EventsSubscReqData\" data type representing the
created \"Events Subscription\" sub-resource.
If the TSCTSF accepted the HTTP PUT request to modify the events subscription,
the TSCTSF shall modify the \"Events Subscription\" sub-resource and shall
send to the NF service consumer:
\- the HTTP \"204 No Content\" response (as shown in figure 5.3.2.6.2-2, step
2a); or
\- the HTTP \"200 OK\" response (as shown in figure 5.3.2.6.2-2, step 2b)
including in the \"EventsSubscReqData\" data type the updated representation
of the \"Events Subscription\" sub-resource.
If the HTTP PUT request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 6.2.7.
If the TSCTSF determines the received HTTP PUT request needs to be redirected,
the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9
of 3GPP TS 29.500 [4].
##### 5.3.2.6.3 Subscription to Service Data Flow QoS Monitoring Information
This procedure is used by NF service consumer to subscribe and/or modify the
subscription for notification about service data flow QoS monitoring
information.
The NF service consumer shall include in the HTTP PUT request message the
\"EventsSubscReqData\" data type, which shall contain:
\- to create a subscription to QoS monitoring information:
\- the \"events\" attribute with an entry containing the value
\"QOS_MONITORING\" to create a subscription to notification about service data
flow QoS monitoring information;
\- include the updated QoS monitoring information within the \"qosMon\"
attribute as defined in clause 5.3.2.2.6
\- to remove a subscription to QoS monitoring information:
\- the \"events\" attribute containing an array that omits the values
\"QOS_MONITORING\".
The NF service consumer shall include other events related information as
described in clause 5.3.2.6.1.
As result of this action, the TSCTSF shall set the appropriate subscription to
service data flow QoS monitoring information as described in in 3GPP TS 29.514
[20].
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.6.1.
##### 5.3.2.6.4 Subscription to Usage Monitoring of Sponsored Data
Connectivity
This procedure is used by NF service consumer to subscribe and/or modify the
subscription for notification about usage monitoring of sponsored data
connectivity.
The NF service consumer shall include in the HTTP PUT request message the
\"EventsSubscReqData\" data type, which shall contain:
\- to create a subscription to usage monitoring of sponsored data
connectivity:
\- the \"events\" attribute with an entry containing the value
\"USAGE_REPORT\" to create a subscription to notification about usage
monitoring of sponsored data connectivity;
\- include the usage thresholds to apply in the \"usgThres\" attribute.
\- to remove a subscription to usage monitoring of sponsored data
connectivity:
\- the \"events\" attribute containing an array that omits the values
\"USAGE_REPORT\".
The NF service consumer shall include other events related information as
described in clause 5.3.2.6.1.
As result of this action, the TSCTSF shall set the appropriate subscription to
usage monitoring of sponsored data connectivity as described in in 3GPP TS
29.514 [20].
The TSCTSF shall reply to the NF service consumer as described in clause
5.3.2.6.1.
#### 5.3.2.7 Ntsctsf_QoSandTSCAssistance_Unsubscribe
##### 5.3.2.7.1 General
The Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation enables NF
service consumers to remove subscription to all subscribed events for the
existing TSC application session context. Subscription to events shall be
removed:
\- by invoking the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation
for the existing application session context, as described in clause
5.3.2.7.2; or
\- within the application session context modification procedure by invoking
the Ntsctsf_QoSandTSCAssistance_Update service operation, as described in
clause 5.3.2.3; or
\- within the TSC application session context termination procedure by
invoking the Ntsctsf_QoSandTSCAssistance_Delete service operation, as
described in clause 5.3.2.4.
The following procedure using the Ntsctsf_QoSandTSCAssistance_Unsubscribe
service operation is supported:
\- Unsubscription to events.
##### 5.3.2.7.2 Unsubscription to events
This procedure is used to unsubscribe to all subscribed events for the
existing TSC AF application session context, as defined in 3GPP TS 23.501 [2],
3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].
Figure 5.3.2.7.2-1 illustrates the unsubscription to events using the HTTP
DELETE method.
Figure 5.3.2.7.2-1: Removal of events subscription information using HTTP
DELETE
When the NF service consumer decides to unsubscribe to all subscribed events
for the existing TSC application session context, the NF service consumer
shall invoke the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation by
sending the HTTP DELETE request message to the resource URI representing the
\"Events Subscription\" sub-resource in the TSCTSF, as shown in figure
5.3.2.7.2-1, step 1.
Upon the reception of the HTTP DELETE request message from the NF service
consumer, the TSCTSF shall decide whether the received HTTP request message is
accepted.
If the HTTP DELETE request message from the NF service consumer is accepted,
the TSCTSF shall delete \"Events Subscription\" sub-resource and shall send to
the NF service consumer a HTTP \"204 No Content\" response message. The TSCTSF
may delete the existing subscription to event notifications for the related
PDU session from the PCF as described in 3GPP TS 29.514 [20].
If the HTTP DELETE request from the NF service consumer is not accepted, the
TSCTSF shall indicate in the response to HTTP DELETE request the cause for the
rejection as specified in clause 6.2.7.
If the TSCTSF determines the received HTTP DELETE request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
## 5.4 Ntsctsf_ASTI Service
### 5.4.1 Service Description
#### 5.4.1.1 Overview
This service provides authorization of NF Service Consumer requests for the
activation, update, and deactivation of the 5G access stratum time
distribution.
NOTE: The AF can use either the procedure specified in bullet 1) and 2) of
clause 5.2.1.1 for configuring the (g)PTP instance in 5GS or the procedure
specified in Ntsctsf_ASTI service for controlling the 5G access stratum time
distribution for a particular UE. The procedures are not intended to be used
in conjunction.
#### 5.4.1.2 Network Functions
##### 5.4.1.2.1 TSCTSF
The TSCTSF supports to:
\- receive the request to activate or update the 5G access stratum time
distribution configuration from the NEF or AF and provide it for the target
UE(s) to the PCF;
\- receive the request to delete the 5G access stratum time distribution
configuration from the NEF or AF and provide it for the target UE(s) to the
PCF;
\- receive the request to query the status of the access stratum time
distribution from the NEF or AF and respond to the NEF or AF with the status
of the access stratum time distribution.
##### 5.4.1.2.2 NF Service Consumers
The NF service consumer supports to:
\- send the request to create, modify and delete the 5G access stratum time
distribution configuration to the TSCTSF; and
\- query the status of the access stratum time distribution configuration.
### 5.4.2 Service Operations
#### 5.4.2.1 Introduction
Service operations defined for the Ntsctsf_ASTI service are shown in table
5.4.2.1-1.
Table 5.4.2.1-1: Ntsctsf_ASTI Service Operations
Service Operation Name Description Initiated by
* * *
Ntsctsf_ASTI_Create Allows the NF service consumer to create a 5G access
stratum time distribution configuration. NF service consumer (e.g. AF, NEF)
Ntsctsf_ASTI_Update Allows the NF service consumer to update a 5G access
stratum time distribution configuration. NF service consumer (e.g. AF, NEF)
Ntsctsf_ASTI_Delete Allows the NF service consumer to delete a 5G access
stratum time distribution configuration. NF service consumer (e.g. AF, NEF)
Ntsctsf_ASTI_Get Allows the NF service consumer to query the status of the 5G
access stratum time distribution configuration. NF service consumer (e.g. AF,
NEF)
NOTE: The NEF and the AF use the Ntsctsf_ASTI service in the same way.
#### 5.4.2.2 Ntsctsf_ASTI_Create
##### 5.4.2.2.1 General
This service operation is used by an NF service consumer to create a 5G access
stratum time distribution configuration.
The following procedures using the Ntsctsf_ASTI_Create service operation are
supported:
\- creating a new configuration..
##### 5.4.2.2.2 Creating a new configuration
Figure 5.4.2.2.2-1 illustrates the creation of a configuration.
Figure 5.4.2.2.2-1: Creation of a configuration
To create a configuration, the NF service consumer shall send an HTTP POST
message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-
asti/\/configurations\". The HTTP POST message shall include the
AccessTimeDistributionData data structure as request body, as shown in figure
5.4.2.2.2-1, step 1. The AccessTimeDistributionData data structure shall
include:
\- one of the indication of the UEs to which the 5G access stratum time
distribution configuration is requested via:
\- identification of a list of individual UEs within the \"supis\" attribute;
or
\- identification of a group of UE(s) within the \"interGrpId\" attribute;
\- identification of a list of individual UEs within the \"gpsis\" attribute;
\- identification of a group of UE(s) within the \"exterGrpId\" attribute; and
\- 5G access stratum time distribution parameters within the
\"asTimeDisParam\" attribute;
Within the \"asTimeDisParam\" attribute inside the AccessTimeDistributionData
data structure, the NF service consumer:
\- shall include the \"asTimeDisEnabled\" attribute set to true if the access
stratum time distribution via Uu reference point should be activated
(otherwise, if the access stratum time distribution via Uu reference point
should be inactive, the \"asTimeDisEnabled\" attribute may either be omitted
or included and set to \"false\");
\- may include the time synchronization error budget within the
\"timeSyncErrBdgt\" attribute;
\- may include the temporal validity condition within the \"tempValidity\"
attribute.
Upon receipt of the HTTP request from the NF service consumer, if the request
is authorized, the TSCTSF shall:
\- if the 5G access stratum time distribution configuration applies to an
internal group of UEs indicated in the \"interGrpId\" attribute or to an
external group of UEs indicated in the \"exterGrpId\" attribute, interact with
the UDM to retrieve the list of individual UEs that belong to the group using
the Nudm_SDM service as defined in 3GPP TS 29.503 [24];
\- if the 5G access stratum time distribution configuration applies to a list
of individual UEs within the \"gpsis\" attribute, interact with the UDM to
retrieve the SUPI(s) that corresponds to each of the GPSI(s) using the
Nudm_SDM service as defined in 3GPP TS 29.503 [24];
\- subscribe to event notifications of newly registered PCF for the UE by
invoking Nbsf_Management_Subscribe Service Operation as defined in 3GPP TS
29.521 [23], if not yet subscribed;
\- If the access stratum time distribution via Uu reference point is being
activated (i.e. the \"asTimeDisEnabled\" attribute within the
\"asTimeDisParam\" attribute was received and set to true), calculate the Uu
time synchronization error budget as specified in clause 5.27.1.9 of 3GPP TS
23.501 [2];
\- interact with the PCF for a UE to provide the configuration information for
each target UE using the Npcf_AMPolicyAuthorization_Create service operation
as defined in 3GPP TS 29.534 [14];
\- create a new resource, which represents a new \"Individual ASTI
Configuration\" instance, addressed by a URI as defined in clause 6.1.3.7 and
containing a TSCTSF created resource identifier; and
\- send an HTTP \"201 Created\" response with AccessTimeDistributionData data
structure as response body and a Location header field containing the URI of
the created Individual ASTI Configuration resource, i.e. \"{apiRoot}/ntsctsf-
asti/\/configurations/{configId}\", as shown in figure
5.4.2.2.2-1, step 2.
If the TSCTSF cannot successfully fulfil the received HTTP POST request due to
the internal TSCTSF error or due to the error in the HTTP POST request, the
TSCTSF shall send the HTTP error response as specified in clause 6.3.7.
#### 5.4.2.3 Ntsctsf_ASTI_Update
##### 5.4.2.3.1 General
This service operation is used by an NF service consumer to update a 5G access
stratum time distribution configuration.
The following procedures using the Ntsctsf_ASTI_Update service operation are
supported:
\- Updating an existing configuration.
##### 5.4.2.3.2 Updating an existing configuration
Figure 5.4.2.3.2-1 illustrates the updating of an existing configuration.
Figure 5.4.2.3.2-1: Update of a configuration
To update a configuration, the NF service consumer shall send an HTTP PUT
request to the resource \"{apiRoot}/ntsctsf-
asti/\/configurations/{configId}\" representing an existing
\"Individual ASTI Configuration\" resource, as shown in figure 5.4.2.3.2-1,
step 1, to modify the configuration.
The AccessTimeDistributionData data structure provided in the request body
shall include an updated representation of the \"Individual ASTI
Configuration\" resource with the updated 5G access stratum time distribution
configuration information as defined in clause 5.4.2.2.2.
Upon receipt of the corresponding HTTP PUT message, if the request is
authorized, theTSCTSF shall:
\- if the access stratum time distribution via Uu reference point is being
activated (i.e. the \"asTimeDisEnabled\" attribute within the
\"asTimeDisParam\" attribute was received and set to true) or a time
synchronization error budget for an active access stratum time distribution is
provided or updated by the AF, calculate the Uu time synchronization error
budget as specified in clause 5.27.1.9 of 3GPP TS 23.501 [2];
\- interact with the PCF for a UE to provide the updated configuration
information using the Npcf_AMPolicyAuthorization_Update service operation as
defined in 3GPP TS 29.534 [14]; and
\- update the existing \"Individual ASTI Configuration\" resource. Then the
TSCTSF shall send a HTTP response including \"200 OK\" status code with
AccessTimeDistributionData data structure or \"204 No Content\" status code,
as shown in figure 5.4.2.3.2-1, step 2.
If the TSCTSF cannot successfully fulfil the received HTTP PUT request due to
the internal TSCTSF error or due to the error in the HTTP PUT request, the
TSCTSF shall send the HTTP error response as specified in clause 6.3.7.
If the TSCTSF determines the received HTTP PUT request needs to be redirected,
the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9
of 3GPP TS 29.500 [4].
#### 5.4.2.4 Ntsctsf_ASTI_Delete
##### 5.4.2.4.1 General
This service operation is used by an NF service consumer to delete a 5G access
stratum time distribution configuration.
The following procedures using the Ntsctsf_ASTI_Delete service operation are
supported:
\- Delete an existing configuration.
##### 5.4.2.4.2 Delete an existing configuration
Figure 5.4.2.4.2-1 illustrates the deleting of an existing configuration.
Figure 5.4.2.4.2-1: Deletion of a configuration
To delete a configuration, the NF service consumer shall send an HTTP DELETE
request to the resource \"{apiRoot}/ntsctsf-
asti/\/configurations/{configId}\" representing an existing
\"Individual ASTI Configuration\" resource, as shown in figure 5.4.2.4.2-1,
step 1, to delete the configuration.
Upon the reception of an HTTP DELETE request from the NF service consumer, if
the HTTP DELETE request is authorized, the TSCTSF shall:
> \- interact with the PCF for a UE to remove the configuration information in
> the PCF by using the Npcf_AMPolicyAuthorization_Delete service operation as
> defined in 3GPP TS 29.534 [14].
>
> \- remove the corresponding configuration and respond with \"204 No
> Content\" as shown in figure 5.4.2.4.2-1, step 2.
If the TSCTSF cannot successfully fulfil the received HTTP DELETE request due
to the internal TSCTSF error or due to the error in the HTTP DELETE request,
the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.
If the TSCTSF determines the received HTTP DELETE request needs to be
redirected, the TSCTSF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
#### 5.4.2.5 Ntsctsf_ASTI_Get
##### 5.4.2.5.1 General
This service operation is used by an NF service consumer to retrieve ths
status of the access stratum time distribution for a list of UEs.
The following procedures using the Ntsctsf_ASTI_Get service operation are
supported:
\- Retrieve the status of access stratum time distribution.
##### 5.4.2.5.2 Retrieve the status of access stratum time distribution
Figure 5.4.2.5.2-1 illustrates the retrieval of the status of access stratum
time distribution.
Figure 5.4.2.5.2-1: Retrieval of the status of access stratum time
distribution
To retrieve the status of access stratum time distribution, the NF service
consumer shall send an HTTP POST request to the resource \"{apiRoot}/ntsctsf-
asti/\/configurations/retrieve\". The HTTP POST message shall
include the StatusRequestData data structure as request body, as shown in
figure 5.4.2.5.2-1, step 1. The StatusRequestData data structure shall
include:
\- identification of a list of individual UEs within the \"supis\" attribute;
or
\- identification of a list of individual UEs within the \"gpsis\" attribute;
Upon the reception of an HTTP POST request and if the HTTP POST request is
accepted by the TSCTSF, the TSCTSF determines the status of the access stratum
time distribution is active for a UE if there is a 5G access stratum time
distribution configuration applicable to the UE, i.e., it applies according to
the temporal validity, if present, and the access time distribution via Uu
reference point is activated; otherwise, the status of the access stratum time
distribution is inactive for the UE.
The TSCTSF shall send an HTTP \"200 OK\" response with the StatusResponseData
data structure as response body, as shown in figure 5.4.2.5.2-1, step 2 to
notify of the status.
Within the StatusResponseData data structure, TSCTSF may include:
\- a list of SUPI(s) whose status of the access stratum time distribution is
inactive within the \"inactiveUes\" attribute or a list of GPSI(s) whose
status of the access stratum time distribution is inactive within the
\"inactiveGpsis\" attribute;
\- the \"activeUes\" attribute containing one or more the ActiveUe instances
which includes the UE identifier whose status of the access stratum time
distribution is active within the \"supi\" attribute or \"gpsi\" attribute and
the requested time synchronization error budget, if available, within the
\"timeSyncErrBdgt\" attribute.
If the TSCTSF cannot successfully fulfil the received HTTP POST request due to
the internal TSCTSF error or due to the error in the HTTP POST request, the
TSCTSF shall send the HTTP error response as specified in clause 6.3.7.
# 6 API Definitions
## 6.1 Ntsctsf_TimeSynchronization Service API
### 6.1.1 Introduction
The Ntsctsf_TimeSynchronization service shall use the
Ntsctsf_TimeSynchronization API.
The API URI of the Ntsctsf_TimeSynchronization API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \" ntsctsf-time-sync\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Ntsctsf_TimeSynchronization API is contained in Annex A.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 6.1.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 6.1.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
In this Release of the specification, no specific custom headers are defined
for the Ntsctsf_TimeSynchronization API.
### 6.1.3 Resources
#### 6.1.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 6.1.3.1-1 depicts the resource URIs structure for the
Ntsctsf_TimeSynchronization API.
Figure 6.1.3.1-1: Resource URI structure of the Ntsctsf_TimeSynchronization
API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
Time Synchronization Exposure /subscriptions POST Create a new subscription to
notification of capability of time synchronization service. Individual Time
Synchronization Exposure Subscription /subscriptions/{subscriptionId} GET Read
a subscription to notification of capability of time synchronization service.
PUT Modify a subscription to notification of capability of time
synchronization service. DELETE Delete a subscription to notification of
capability of time synchronization service. Time Synchronization Exposure
Configurations /subscriptions/{subscriptionId}/configurations POST Create a
new configuration to time synchronization exposure. Individual Time
Synchronization Exposure Configuration
/subscriptions/{subscriptionId}/configurations/{configurationId} GET Read a
configuration to time synchronization exposure. PUT Modify all of the
properties of an existing configuration to time synchronization exposure.
DELETE Delete a configuration to time synchronization exposure.
#### 6.1.3.2 Resource: Time Synchronization Exposure Subscriptions
##### 6.1.3.2.1 Description
This resource allows a NF service consumer to create a new subscription to
notification of the capability for time synchronization service.
##### 6.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-time-sync/\ /subscriptions**
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1
##### 6.1.3.2.3 Resource Standard Methods
###### 6.1.3.2.3.1 POST
The POST method creates a new subscription resource to time synchronization
exposure subscription. The NF service consumer shall initiate the HTTP POST
request message and the TSCTSF shall respond to the message. The TSCTSF shall
construct the URI of the created resource.
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsc M \"1 Parameters to
request a subscription to notification of the capability for time
synchronization service.
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | TimeSync | M | 1 | 201 Created | The | | ExposureSubsc | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description
Location string M 1 Contains the URI of the newly created resource, according
to the structure:\ {apiRoot}/ntsctsf-time-sync/{apiVersion}/\
subscriptions/{subscriptionId}
* * *
##### 6.1.3.2.4 Resource Custom Operations
None.
#### 6.1.3.3 Resource: Individual Time Synchronization Exposure Subscription
##### 6.1.3.3.1 Description
This resource allows a NF service consumer to read, modify or delete an
existing subscription to notification of the capability for time
synchronization service.
##### 6.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-time-sync/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 subscriptionId string Represents a specific
subscription. It is the identifier of the Individual Time Synchronization
Exposure Subscription resource.
##### 6.1.3.3.3 Resource Standard Methods
###### 6.1.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.3.3.1-1.
Table 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.1-2 and the response data structures and response codes specified in
table 6.1.3.3.3.1-3.
Table 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 200 OK | An Individual | | ExposureSubsc | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.1.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
6.1.3.3.3.2-1.
Table 6.1.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.2-2 and the response data structures and response codes specified in
table 6.1.3.3.3.2-3.
Table 6.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.1.3.3.3.3 PUT
This method shall support the URI query parameters specified in table
6.1.3.3.3.3-1.
Table 6.1.3.3.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.3-2 and the response data structures and response codes specified in
table 6.1.3.3.3.3-3.
Table 6.1.3.3.3.3-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsc M 1 Modify an
existing Time Synchronization Exposure Subscription.
* * *
Table 6.1.3.3.3.3-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 6.1.3.3.4 Resource Custom Operations
None.
#### 6.1.3.4 Resource: Time Synchronization Exposure Configurations
##### 6.1.3.4.1 Description
This resource allows a NF service consumer to create a new subscription to
notification of the capability for time synchronization service.
##### 6.1.3.4.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-time-sync/\
/subscriptions/{subscriptionId}/configurations**
This resource shall support the resource URI variables defined in table
6.1.3.4.2-1.
Table 6.1.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 subscriptionId string Represents a specific
subscription. It is the identifier of the Individual Time Synchronization
Exposure Subscription resource.
##### 6.1.3.4.3 Resource Standard Methods
###### 6.1.3.4.3.1 POST
The POST method creates a new configuration resource to activate time
synchronization service. The NF service consumer shall initiate the HTTP POST
request message and the TSCTSF shall respond to the message. The TSCTSF shall
construct the URI of the created resource.
This method shall support the URI query parameters specified in table
6.1.3.4.3.1-1.
Table 6.1.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.4.3.1-2 and the response data structures and response codes specified in
table 6.1.3.4.3.1-3.
Table 6.1.3.4.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfig M 1 Parameters to
create a configuration to activate time synchronization service.
* * *
Table 6.1.3.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 201 Created | The | | xposureConfig | | | | configuration | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | creation. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | creation. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.4.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description
Location string M 1 Contains the URI of the newly created resource, according
to the structure:\ {apiRoot}/ntsctsf-time-sync/{apiVersion}/\
subscriptions/{subscriptionId}/configuration/{configurationId}
* * *
Table 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 6.1.3.4.4 Resource Custom Operations
None.
#### 6.1.3.5 Resource: Individual Time Synchronization Exposure Configuration
##### 6.1.3.5.1 Description
This resource allows a NF service consumer to modify/cancel a configuration to
modify/deactivate Time Synchronization service with the TSCTSF
##### 6.1.3.5.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-time-sync/\
/subscriptions/{subscriptionId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
6.1.3.5.2-1.
Table 6.1.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 subscriptionId string Represents a specific
subscription. It is the identifier of the Individual Time Synchronization
Exposure Subscription resource. configurationId string Represents a specific
configuration. It is the identifier of the Individual Time Synchronization
Exposure Configuration resource.
##### 6.1.3.5.3 Resource Standard Methods
###### 6.1.3.5.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.5.3.1-1.
Table 6.1.3.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.1-2 and the response data structures and response codes specified in
table 6.1.3.5.3.1-3.
Table 6.1.3.5.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 200 OK | The | | xposureConfig | | | | configuration | | | | | | information | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.1.3.5.3.2 PUT
This method shall support the URI query parameters specified in table
6.1.3.5.3.2-1.
Table 6.1.3.5.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.2-2 and the response data structures and response codes specified in
table 6.1.3.5.3.2-3.
Table 6.1.3.5.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TimeSyncExposureConfig M 1 Modify an
existing Time Synchronization Exposure Configuration.
* * *
Table 6.1.3.5.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 200 OK | The | | xposureConfig | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | update. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | update. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.1.3.5.3.3 DELETE
This method shall support the URI query parameters specified in table
6.1.3.5.3.3-1.
Table 6.1.3.5.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.3-2 and the response data structures and response codes specified in
table 6.1.3.5.3.3-3.
Table 6.1.3.5.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.5.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | was deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | Time | | | | | | Sy | | | | | | nchronization | | | | | | Exposure | | | | | | Configuration | | | | | | resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.1.3.5.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 6.1.3.5.4 Resource Custom Operations
None.
### 6.1.4 Custom Operations without associated resources
Void
### 6.1.5 Notifications
#### 6.1.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 6.1.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | Time | {subsNotifUri} | POST | Time | | S | | | S | | ynchronization | | | ynchronization | | Capability | | | Capability | | Notification | | | Notification | | | | | for a list of | | | | | UEs. | +----------------+----------------+----------------+----------------+ | Time | {c | POST | Current state | | S | onfigNotifUri} | | of Time | | ynchronization | | | S | | Configuration | | | ynchronization | | Notification | | | Service | | | | | configuration | | | | | Notification. | +----------------+----------------+----------------+----------------+
#### 6.1.5.2 Time Synchronization Capability Notification
##### 6.1.5.2.1 Description
The Time Synchronization Capability Notification is used by the NF service
producer to report the capability of the time synchronization service for a
list of UEs to a NF service consumer that has subscribed to such
Notifications.
##### 6.1.5.2.2 Target URI
The Callback URI **\"{subsNotifUri}\"** shall be used with the callback URI
variables defined in table 6.1.5.2.2-1.
Table 6.1.5.2.2-1: Callback URI variables
+--------------+------------------------------------------------------+ | Name | Definition | +==============+======================================================+ | subsNotifUri | String formatted as URI with the Callback Uri. | | | | | | The Callback Uri is assigned within the Time | | | Synchronization Capability Notification and | | | described within the TimeSyncExposureSubsc type (see | | | table 6.1.6.2.2-1). | +--------------+------------------------------------------------------+
##### 6.1.5.2.3 Standard Methods
###### 6.1.5.2.3.1 POST
This method shall support the request data structures specified in table
6.1.5.2.3.1-1 and the response data structures and response codes specified in
table 6.1.5.2.3.1-2.
Table 6.1.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
TimeSyncExposureSubsNotif M 1 Provides the time synchronization capabilities
of a list of UEs by the TSCTSF to the NF service consumer.
Table 6.1.5.2.3.1-2: Data structures supported by the POST Response Body
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The event notification is received successfully.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent.
RedirectResponse O 0..1 308 Permanent Redirect Permanent redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent. NOTE: The
mandatory HTTP error status codes for the POST method listed in Table
5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.
Table 6.1.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
Table 6.1.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
#### 6.1.5.3 Time Synchronization Configuration Notification
##### 6.1.5.3.1 Description
The Time Synchronization Configuration Notification is used by the NF service
producer to report the current state of configuration of the time
synchronization service.
##### 6.1.5.3.2 Target URI
The Callback URI **\"{configNotifUri}\"** shall be used with the callback URI
variables defined in table 6.1.5.3.2-1.
Table 6.1.5.3.2-1: Callback URI variables
+----------------+----------------------------------------------------+ | Name | Definition | +================+====================================================+ | configNotifUri | String formatted as URI with the Callback Uri. | | | | | | The Callback Uri is assigned within the Time | | | Synchronization Configuration Notification and | | | described within the TimeSyncExposureConfig type | | | (see table 6.1.6.2.9-1). | +----------------+----------------------------------------------------+
##### 6.1.5.3.3 Standard Methods
###### 6.1.5.3.3.1 POST
This method shall support the request data structures specified in table
6.1.5.3.3.1-1 and the response data structures and response codes specified in
table 6.1.5.3.3.1-2.
Table 6.1.5.3.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
TimeSyncExposureConfigNotif M 1 Provides the current state of time
synchronization configuration by the TSCTSF to the NF service consumer.
Table 6.1.5.3.3.1-2: Data structures supported by the POST Response Body
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The event notification is received successfully.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent.
RedirectResponse O 0..1 308 Permanent Redirect Permanent redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent. NOTE: The
mandatory HTTP error status codes for the POST method listed in Table
5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.
Table 6.1.5.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
Table 6.1.5.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the
Ntsctsf_TimeSynchronization service based interface protocol.
Table 6.1.6.1-1: Ntsctsf_TimeSynchronization specific Data Types
Data type Clause defined Description Applicability
* * *
ConfigForPort 6.1.6.2.11 Contains the configuration for a port.  
PtpCapabilitiesPerUe 6.1.6.2.6 Contains the PTP capabilities supported by a
UE.  
PtpInstance 6.1.6.2.10 Contains the PTP Instance.  
TimeSyncExposureSubsc 6.1.6.2.2 Contains the parameters for the subscription
to notification of capability of time synchronization service  
TimeSyncCapability 6.1.6.2.5 Contains the capability of time synchronization
service  
TimeSyncExposureConfig 6.1.6.2.9 Contains the configuration of time
synchronization service  
TimeSyncExposureConfigNotif 6.1.6.2.7 Contains the notification of
configuration of time synchronization service.  
TimeSyncExposureSubsNotif 6.1.6.2.3 Contains the notification of time
synchronization service.  
StateOfConfiguration 6.1.6.2.8 Indicates the PTP port states for a NW-TT and
DS-TTs.  
StateOfDstt 6.1.6.2.12 Contains the PTP port state of a DS-TT  
SubsEventNotification 6.1.6.2.4 Contains the notification of capability of
time synchronization for a list of UEs.
Table 6.1.6.1-2 specifies data types re-used by the
Ntsctsf_TimeSynchronization service based interface protocol from other
specifications, including a reference to their respective specifications and
when needed, a short description of their use within the
Ntsctsf_TimeSynchronization service based interface.
Table 6.1.6.1-2: Ntsctsf_TimeSynchronization re-used Data Types
Data type Reference Comments Applicability
* * *
AsTimeResource 3GPP TS 29.522 [17] Indicates the supported 5G clock quality.  
DateTime 3GPP TS 29.571 [15] String with format \"date-time\" as defined in
OpenAPI Specification [6].  
DistributionMethod 3GPP TS 29.522 [17] Identifies the time synchronization
distribution methods supported by 5GS.  
Dnn 3GPP TS 29.571 [15] The DNN the user is connected to.  
DurationSec 3GPP TS 29.571 [15] Identifies a period of time in units of
seconds.  
EventFilter 3GPP TS 29.522 [17] Contains the conditions to match for notifying
the event.  
ExternalGroupId 3GPP TS 29.571 [15] Identifies a External Group.  
GmCapable 3GPP TS 29.522 [17] Indicates separately whether 5GS supports acting
as a gPTP or PTP grandmaster.  
Gpsi 3GPP TS 29.571 [15] The external identification of the user (i.e., an
External Id or an MSISDN).  
GroupId 3GPP TS 29.571 [15] Identifies a group of internal globally unique ID.  
Snssai 3GPP TS 29.571 [15] Identifies the S-NSSAI.  
SubscribedEvent 3GPP TS 29.522 [17] Indicates the subscribed event.  
Supi 3GPP TS 29.571 [15] The identification of the user (i.e. IMSI, NAI).  
SupportedFeatures 3GPP TS 29.571 [15] Used to negotiate the applicability of
the optional features defined in table 5.8-1.  
TimeSyncExposureConfig 3GPP TS 29.522 [17] Contains the parameters of time
synchronization configuration.  
Uinteger 3GPP TS 29.571 [15] Unsigned integer.  
Uint64 3GPP TS 29.571 [15]  
Uri 3GPP TS 29.571 [15] Identifies a referenced resource.
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: TimeSyncExposureSubsc
Table 6.1.6.2.2-1: Definition of type TimeSyncExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supis | ar | C | 1..N | Sub | | | | ray(Supi) | | | scription | | | | | | | Permanent | | | | | | | Id | | | | | | | entifier. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | Public | | | | ray(Gpsi) | | | user | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | i | GroupId | C | 0..1 | The | | | nterGrpId | | | | internal | | | | | | | Group | | | | | | | Id(s). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | e | Extern | C | 0..1 | The | | | xterGrpId | alGroupId | | | external | | | | | | | Group Id. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | C | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | no | Notificat | O | 0..1 | If | | | tifMethod | ionMethod | | | \"noti | | | | | | | fMethod\" | | | | | | | is not | | | | | | | supplied, | | | | | | | the | | | | | | | default | | | | | | | value | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | arra | M | 1..N | I | | | bedEvents | y(Subscri | | | dentifies | | | | bedEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array(Eve | O | 1..N | Contains | | | ntFilters | ntFilter) | | | the | | | | | | | filter | | | | | | | c | | | | | | | onditions | | | | | | | to match | | | | | | | for | | | | | | | notifying | | | | | | | the | | | | | | | event(s) | | | | | | | of time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | for a | | | | | | | list of | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | sub | Uri | M | 1 | Not | | | sNotifUri | | | | ification | | | | | | | URI for | | | | | | | time | | | | | | | sensitive | | | | | | | c | | | | | | | apability | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | string | M | 1 | Not | | | bsNotifId | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | max | Uinteger | O | 0..1 | If | | | ReportNbr | | | | omitted, | | | | | | | there is | | | | | | | no limit. | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | C | 0..1 | This | | | | | | | attribute | | | | | | | indicates | | | | | | | the | | | | | | | expiry | | | | | | | time of | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | after | | | | | | | which the | | | | | | | NEF shall | | | | | | | not send | | | | | | | any event | | | | | | | noti | | | | | | | fications | | | | | | | and the | | | | | | | sub | | | | | | | scription | | | | | | | becomes | | | | | | | invalid. | | | | | | | It may be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | and may | | | | | | | be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | response | | | | | | | based on | | | | | | | operator | | | | | | | policies. | | | | | | | If an | | | | | | | expiry | | | | | | | time was | | | | | | | included | | | | | | | in the | | | | | | | request, | | | | | | | then the | | | | | | | expiry | | | | | | | time | | | | | | | returned | | | | | | | in the | | | | | | | response | | | | | | | should be | | | | | | | less than | | | | | | | or equal | | | | | | | to that | | | | | | | value. If | | | | | | | the | | | | | | | expiry | | | | | | | time is | | | | | | | not | | | | | | | included | | | | | | | in the | | | | | | | response, | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | shall not | | | | | | | associate | | | | | | | an expiry | | | | | | | time for | | | | | | | the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | repPeriod | Du | C | 0..1 | Is | | | | rationSec | | | supplied | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | Method | | | | | | | \"pe | | | | | | | riodic\". | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and the | | | | | | | response | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | Time | | | | | | | Synchr | | | | | | | onization | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | p | | | | | | | roperties | | | | | | | \ | | | | | | | "supis\", | | | | | | | \ | | | | | | | "gpsis\", | | | | | | | \"an | | | | | | | yUeInd\", | | | | | | | \"ext | | | | | | | erGrpId\" | | | | | | | or | | | | | | | \"int | | | | | | | erGrpId\" | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.3 Type: TimeSyncExposureSubsNotif
Table 6.1.6.2.3-1: Definition of type TimeSyncExposureSubsNotify
Attribute name Data type P Cardinality Description Applicability
* * *
subsNotifId string M 1 Notification Correlation ID assigned by the NF service
consumer.  
eventNotifs array(SubsEventNotification) M 1..N Notifications about Individual
Events
##### 6.1.6.2.4 Type SubsEventNotification
Table 6.1.6.2.4-1: Definition of type SubsEventNotification
Attribute name Data type P Cardinality Description Applicability
* * *
event SubscribedEvent M 1 Subscribed events  
timeSyncCapas array(TimeSyncCapability) C 1..N Contains a list of time
syncroniziation capabilities for the List of User-Plane Node IDs. It shall be
provided if the reported event is \"AVAILABILITY_FOR_TIME_SYNC_SERVICE\".
##### 6.1.6.2.5 Type: TimeSyncCapability
Table 6.1.6.2.5-1: Definition of type TimeSyncCapability
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | upNodeId | Uint64 | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | NW-TT. | | | | | | | Contains | | | | | | | a TSC | | | | | | | user | | | | | | | plane | | | | | | | node Id. | | | | | | | If | | | | | | | i | | | | | | | ntegrated | | | | | | | with TSN, | | | | | | | the user | | | | | | | plane | | | | | | | node Id | | | | | | | is a | | | | | | | bridge Id | | | | | | | defined | | | | | | | in | | | | | | | IEEE Std | | | | | | | 802.1Q-20 | | | | | | | 18 [18] | | | | | | | claus | | | | | | | e 14.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | g | array(G | C | 1..N | Indicates | | | mCapables | mCapable) | | | whether | | | | | | | user | | | | | | | plane | | | | | | | node | | | | | | | supports | | | | | | | acting as | | | | | | | a gPTP | | | | | | | and/or | | | | | | | PTP | | | | | | | gra | | | | | | | ndmaster. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | asTimeRes | AsTim | C | 0..1 | Indicates | | | | eResource | | | the | | | | | | | supported | | | | | | | 5G clock | | | | | | | quality | | | | | | | (i.e. the | | | | | | | source of | | | | | | | time used | | | | | | | by the | | | | | | | 5GS). | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ptp | map(Ptp | C | 1..N | Contains | | | CapForUes | Capabilit | | | the PTP | | | | iesPerUe) | | | cap | | | | | | | abilities | | | | | | | supported | | | | | | | by the | | | | | | | list of | | | | | | | UE(s). | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the SUPI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | and the | | | | | | | PTP | | | | | | | Cap | | | | | | | abilities | | | | | | | are | | | | | | | reported | | | | | | | per SUPI. | | +-----------+-----------+---+-----------+-----------+-----------+ | ptpCa | map(Ptp | C | 1..N | Contains | | | pForGpsis | Capabilit | | | the PTP | | | | iesPerUe) | | | cap | | | | | | | abilities | | | | | | | supported | | | | | | | by the | | | | | | | list of | | | | | | | UE(s). | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the GPSI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | and the | | | | | | | PTP | | | | | | | Cap | | | | | | | abilities | | | | | | | are | | | | | | | reported | | | | | | | per GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | and | | | | | | | \"as | | | | | | | TimeRes\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.6 Type: PtpCapabilitiesPerUe
Table 6.1.6.2.6: Definition of type PtpCapabilitiesPerUe
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the UE to | | | | | | | which the | | | | | | | reported | | | | | | | PTP | | | | | | | instance | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the UE to | | | | | | | which the | | | | | | | reported | | | | | | | PTP | | | | | | | instance | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ptpCaps | array(Eve | M | 1..N | Contains | | | | ntFilter) | | | the | | | | | | | reported | | | | | | | PTP | | | | | | | cap | | | | | | | abilities | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | the | | | | | | | \"supi\" | | | | | | | or the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | based on | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | contained | | | | | | | an | | | | | | | internal | | | | | | | or an | | | | | | | external | | | | | | | id | | | | | | | entifier. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.7 Type: TimeSyncExposureConfigNotif
Table 6.1.6.2.7-1: Definition of type TimeSyncExposureConfigNotif
Attribute name Data type P Cardinality Description Applicability
* * *
configNotifId string M 1 Notification Correlation ID assigned by the NF
service consumer.  
stateOfConfig StateOfConfiguration M 1 Indicates the current state of time
synchroniztion service configuration
##### 6.1.6.2.8 Type: StateOfConfiguration
Table 6.1.6.2.8-1: Definition of type StateOfConfiguration
Attribute name Data type P Cardinality Description Applicability
* * *
stateOfNwtt boolean O 0..1 When the PTP port state is Leader, Follower or
Passive, it is included and set to true to indicate the state of configuration
for NW-TT port is active; when PTP port state is in any other case, it is
included and set to false to indicate the state of configuration for NW-TT
port is inactive. Default value is false.  
stateOfDstts array(StateOfDstt) O 1..N Contains the PTP port states of the DS-
TT(s).
##### 6.1.6.2.9 Type: TimeSyncExposureConfig
Table 6.1.6.2.9-1: Definition of type TimeSyncExposureConfig
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | upNodeId | Uint64 | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | NW-TT. | | | | | | | Contains | | | | | | | a TSC | | | | | | | user | | | | | | | plane | | | | | | | node Id. | | | | | | | If | | | | | | | i | | | | | | | ntegrated | | | | | | | with TSN, | | | | | | | the user | | | | | | | plane | | | | | | | node Id | | | | | | | is a | | | | | | | bridge Id | | | | | | | defined | | | | | | | in | | | | | | | IEEE 802. | | | | | | | 1Q [41] | | | | | | | claus | | | | | | | e 14.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | reqPtpIns | Pt | M | 1 | I | | | | pInstance | | | dentifies | | | | | | | the PtP | | | | | | | instance | | | | | | | conf | | | | | | | iguration | | | | | | | and | | | | | | | a | | | | | | | ctivation | | | | | | | requested | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gmEnable | boolean | O | 0..1 | Indicates | | | | | | | that the | | | | | | | AF | | | | | | | requests | | | | | | | 5GS to | | | | | | | act as a | | | | | | | gr | | | | | | | andmaster | | | | | | | for PTP | | | | | | | or gPTP | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to true. | | | | | | | The | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | shall | | | | | | | apply, if | | | | | | | the | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | gmPrio | Uinteger | O | 0..1 | Indicates | | | | | | | a | | | | | | | priority | | | | | | | used as | | | | | | | d | | | | | | | efaultDS. | | | | | | | priority1 | | | | | | | when | | | | | | | g | | | | | | | enerating | | | | | | | Announce | | | | | | | message | | | | | | | when 5GS | | | | | | | acts as | | | | | | | (g)PTP | | | | | | | GM. It | | | | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | \"g | | | | | | | mEnable\" | | | | | | | is set to | | | | | | | true. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeDom | Uinteger | M | 1 | Indicate | | | | | | | the | | | | | | | (g)PTP | | | | | | | domain | | | | | | | that the | | | | | | | (TSN)AF | | | | | | | is | | | | | | | located | | | | | | | in. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeSy | Uinteger | O | 0..1 | Indicates | | | ncErrBdgt | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | budget | | | | | | | for the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | in units | | | | | | | of | | | | | | | nan | | | | | | | oseconds. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | +-----------+-----------+---+-----------+-----------+-----------+ | tem | Tempora | O | 0..1 | Indicates | | | pValidity | lValidity | | | the time | | | | | | | period | | | | | | | when the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | for a PTP | | | | | | | instance | | | | | | | is | | | | | | | active. | | +-----------+-----------+---+-----------+-----------+-----------+ | confi | Uri | M | 1 | Not | | | gNotifUri | | | | ification | | | | | | | URI for | | | | | | | conf | | | | | | | iguration | | | | | | | state | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | conf | string | M | 1 | Not | | | igNotifId | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.10 Type: PtpInstance
Table 6.1.6.2.10-1: Definition of type PtpInstance
Attribute name Data type P Cardinality Description Applicability
* * *
instanceType InstanceType M 1 Indicates the PTP instance type.  
protocol Protocol M 1 Indicates the protocol type.  
ptpProfile string M 1 Identifies the PTP profile.  
portConfigs array(ConfigForPort) O 1..N Contains the configurations for the
PTP port(s) in the PTP instance.
##### 6.1.6.2.11 Type: ConfigForPort
Table 6.1.6.2.11-1: Definition of type ConfigForPort
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | UE/DS-TT | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the UE/ | | | | | | | DS-TT | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | n6Ind | boolean | C | 0..1 | Indicates | | | | | | | the N6 | | | | | | | te | | | | | | | rmination | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ptpEnable | boolean | O | 0..1 | This is | | | | | | | used to | | | | | | | set the | | | | | | | portDS.po | | | | | | | rtEnable. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used | | +-----------+-----------+---+-----------+-----------+-----------+ | log | integer | O | 0..1 | Specifies | | | SyncInter | | | | the mean | | | | | | | time | | | | | | | interval | | | | | | | between | | | | | | | s | | | | | | | uccessive | | | | | | | Sync | | | | | | | messages. | | | | | | | This is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | IEEE St | | | | | | | d 1588-20 | | | | | | | 19 [25] | | | | | | | Boundary | | | | | | | Clock or | | | | | | | I | | | | | | | EEE Std 8 | | | | | | | 02.1AS-20 | | | | | | | 20 [26] | | | | | | | o | | | | | | | peration. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logSyn | boolean | O | 0..1 | When set | | | cInterInd | | | | to FALSE, | | | | | | | the value | | | | | | | of | | | | | | | \"logSy | | | | | | | ncInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | init | | | | | | | ialLogSyn | | | | | | | cInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IE | | | | | | | EE Std 80 | | | | | | | 2.1AS-202 | | | | | | | 0 [26]. | | | | | | | When set | | | | | | | to TRUE, | | | | | | | the value | | | | | | | of | | | | | | | \"logSy | | | | | | | ncInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | mgtSetta | | | | | | | bleLogSyn | | | | | | | cInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IE | | | | | | | EE Std 80 | | | | | | | 2.1AS-202 | | | | | | | 0 [26]. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | I | | | | | | | EEE Std 8 | | | | | | | 02.1AS-20 | | | | | | | 20 [26] | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logA | integer | O | 0..1 | Specifies | | | nnouInter | | | | the mean | | | | | | | time | | | | | | | interval | | | | | | | between | | | | | | | s | | | | | | | uccessive | | | | | | | Announce | | | | | | | messages. | | | | | | | This is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | IEEE St | | | | | | | d 1588-20 | | | | | | | 19 [25] | | | | | | | Boundary | | | | | | | Clock or | | | | | | | I | | | | | | | EEE Std 8 | | | | | | | 02.1AS-20 | | | | | | | 20 [26] | | | | | | | o | | | | | | | peration. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logAnno | boolean | O | 0..1 | When set | | | uInterInd | | | | to FALSE, | | | | | | | the value | | | | | | | of | | | | | | | \"logAnn | | | | | | | ouInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | initialL | | | | | | | ogAnnounc | | | | | | | eInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE 80 | | | | | | | 2.1AS-202 | | | | | | | 0 [26]. | | | | | | | When set | | | | | | | to TRUE, | | | | | | | the value | | | | | | | of | | | | | | | \"logAnn | | | | | | | ouInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | mgt | | | | | | | SettableL | | | | | | | ogAnnounc | | | | | | | eInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IE | | | | | | | EE Std 80 | | | | | | | 2.1AS-202 | | | | | | | 0 [26]. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | I | | | | | | | EEE Std 8 | | | | | | | 02.1AS-20 | | | | | | | 20 [26] | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of | | | | | | | \"supi\", | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"n6Ind\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.12 Type: StateOfDstt
Table 6.1.6.2.12-1: Definition of type StateOfDstt
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | UE/DS-TT | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | UE/DS-TT | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | state | boolean | M | 1 | When the | | | | | | | PTP port | | | | | | | state is | | | | | | | Leader, | | | | | | | Follower | | | | | | | or | | | | | | | Passive, | | | | | | | it is | | | | | | | included | | | | | | | and set | | | | | | | to true | | | | | | | | | | | | | | to | | | | | | | indicate | | | | | | | the state | | | | | | | of | | | | | | | conf | | | | | | | iguration | | | | | | | for DS-TT | | | | | | | port is | | | | | | | active; | | | | | | | when PTP | | | | | | | port | | | | | | | state is | | | | | | | | | | | | | | in any | | | | | | | other | | | | | | | case, it | | | | | | | is | | | | | | | included | | | | | | | and set | | | | | | | to false | | | | | | | to | | | | | | | indicate | | | | | | | the state | | | | | | | of | | | | | | | conf | | | | | | | iguration | | | | | | | for DS-TT | | | | | | | port is | | | | | | | inactive. | | | | | | | Default | | | | | | | value is | | | | | | | false. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | the | | | | | | | \"supi\" | | | | | | | or the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | based on | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | contained | | | | | | | an | | | | | | | internal | | | | | | | or an | | | | | | | external | | | | | | | i | | | | | | | dentifier | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [5].
For the Ntsctsf_TimeSynchronization API, HTTP error responses shall be
supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors
and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4]
shall be supported for an HTTP method if the corresponding HTTP status codes
are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS
29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Ntsctsf_TimeSynchronization API.
#### 6.1.7.2 Protocol Errors
No specific procedures for the Ntsctsf_TimeSynchronization service are
specified.
#### 6.1.7.3 Application Errors
The application errors defined for the Ntsctsf_TimeSynchronization service are
listed in Table 6.1.7.3-1.
Table 6.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 6.1.8 Feature negotiation
The optional features in table 6.1.8-1 are defined for the
Ntsctsf_TimeSynchronization API. They shall be negotiated using the
extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
Table 6.1.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Ntsctsf_TimeSynchronization API may be authorized by means of the OAuth2
protocol (see IETF RFC 6749 [9]), based on local configuration, using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[10]) plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Ntsctsf_TimeSynchronization API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Ntsctsf_TimeSynchronization service.
The Ntsctsf_TimeSynchronization API defines a single scope \"ntsctsf-time-
sync\" for the entire service, and it does not define any additional scopes at
resource or operation level.
## 6.2 Ntsctsf_QoSandTSCAssistance Service API
### 6.2.1 Introduction
The Ntsctsf_QoSandTSCAssistance service shall use the
Ntsctsf_QoSandTSCAssistance API.
The API URI of the Ntsctsf_QoSandTSCAssistance API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [4], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"ntsctsf-qos-tscai\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.2.3.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Ntsctsf_QoSandTSCAssistance API is contained in Annex A.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 6.2.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
JSON object used in the HTTP PATCH request shall be encoded according to
\"JSON Merge Patch\" and shall be signalled by the content type
\"application/merge-patch+json\", as defined in IETF RFC 7396 [22].
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 6.2.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
In this Release of the specification, no specific custom headers are defined
for the Ntsctsf_QoSandTSCAssistance API.
### 6.2.3 Resources
#### 6.2.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 6.2.3.1-1 depicts the resource URIs structure for the
Ntsctsf_QoSandTSCAssistance API.
Figure 6.2.3.1-1: Resource URI structure of the Ntsctsf_QoSandTSCAssistance
API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +================+================+================+================+ | TSC | /ts | POST | Ntsctsf_ | | Application | c-app-sessions | | QoSandTSCAssis | | Sessions | | | tance_Create. | | | | | Creates a new | | | | | Individual TSC | | | | | Application | | | | | Session | | | | | Context | | | | | resource and | | | | | may create the | | | | | child Events | | | | | Subscription | | | | | sub-resource. | +----------------+----------------+----------------+----------------+ | Individual TSC | /tsc | PATCH | Ntsctsf_ | | Application | -app-sessions/ | | QoSandTSCAssis | | Session | {appSessionId} | | tance_Update. | | Context | | | Updates an | | | | | existing | | | | | Individual TSC | | | | | Application | | | | | Session | | | | | Context | | | | | resource. It | | | | | can also | | | | | update an | | | | | Events | | | | | Subscription | | | | | sub-resource. | +----------------+----------------+----------------+----------------+ | | | GET | Reads an | | | | | existing | | | | | Individual TSC | | | | | Application | | | | | Session | | | | | Context | | | | | resource. | +----------------+----------------+----------------+----------------+ | | /tsc-app-se | delete | Ntsctsf_ | | | ssions/{appSes | | QoSandTSCAssis | | | sionId}/delete | (POST) | tance_Delete. | | | | | Deletes an | | | | | existing | | | | | Individual TSC | | | | | Application | | | | | Session | | | | | Context | | | | | resource and | | | | | the child | | | | | Events | | | | | Subscription | | | | | sub-resource. | +----------------+----------------+----------------+----------------+ | Events | /tsc- | PUT | Ntsctsf_QoS | | Subscription | app-sessions/{ | | andTSCAssistan | | | appSessionId}\ | | ce_Subscribe. | | | /event | | Creates a new | | | s-subscription | | Events | | | | | Subscription | | | | | sub-resource | | | | | or modifies an | | | | | existing | | | | | Events | | | | | Subscription | | | | | sub-resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Ntsctsf_QoSan | | | | | dTSCAssistance | | | | | _Unsubscribe. | | | | | | | | | | Deletes an | | | | | Events | | | | | Subscription | | | | | sub-resource. | +----------------+----------------+----------------+----------------+
#### 6.2.3.2 Resource: TSC Application Sessions
##### 6.2.3.2.1 Description
This resource allows a NF service consumer to create a new Individual TSC
Application Session Context resource and may create the child Events
Subscription sub-resource.
##### 6.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-qos-tscai/\ /tsc-app-sessions**
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1
##### 6.2.3.2.3 Resource Standard Methods
###### 6.2.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.1-2 and the response data structures and response codes specified in
table 6.2.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TscAppSessionContextData M 1 Contains the
information for the creation of a new Individual TSC Application Session
Context resource.
* * *
Table 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | TscAppSessi | M | 1 | 201 Created | The | | onContextData | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.2.3.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description
Location string M 1 Contains the URI of the newly created resource, according
to the structure:\ {apiRoot}/ntsctsf-qos-tscai/\/tsc-app-sessions
/{appSessionId}
* * *
##### 6.2.3.2.4 Resource Custom Operations
None.
#### 6.2.3.3 Resource: Individual TSC Application Session Context
##### 6.2.3.3.1 Description
This resource allows a NF service consumer to read, modify or delete an
existing Individual TSC Application Session Context resource.
##### 6.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-qos-tscai/\ /tsc-app-
sessions/{appSessionId}**
This resource shall support the resource URI variables defined in table
6.2.3.3.2-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 appSessionId string Identifier of an
Individual TSC Application Session Context resource
##### 6.2.3.3.3 Resource Standard Methods
###### 6.2.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.2.3.3.3.1-1.
Table 6.2.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.3.1-3.
Table 6.2.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TscAppSessi | M | 1 | 200 OK | An Individual | | onContextData | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource is | | | | | | returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.2.3.3.3.2 PATCH
This method shall support the URI query parameters specified in table
6.2.3.3.3.2-1.
Table 6.2.3.3.3.2-1: URI query parameters supported by the PATCH method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.2.3.3.3.2-2 and the response data structures and response codes specified in
table 6.2.3.3.3.2-3.
Table 6.2.3.3.3.2-2: Data structures supported by the PATCH Request Body on
this resource
Data type P Cardinality Description
* * *
TscAppSessionContextUpdateData M 1 Contains the modification(s) to apply to
the Individual TSC Application Session Context resource.
Table 6.2.3.3.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | TscAppSessi | M | 1 | 200 OK | Successful | | onContextData | | | | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource was | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource was | | | | | | modified. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | for the PATCH | | | | | | method shall | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.2.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 6.2.3.3.4 Resource Custom Operations
###### 6.2.3.3.4.1 Overview
Table 6.2.3.3.4.1-1: Custom operations
Operation name Custom operation URI Mapped HTTP method Description
* * *
delete /tsc-app-sessions/{appSessionId}/delete POST
Ntsctsf_QoSandTSCAssistance_Delete. Deletes an existing Individual TSC
Application Session Context resource and the child Events Subscription sub-
resource.
###### 6.2.3.3.4.2 Operation: delete
###### # 6.2.3.3.4.2.1 Description
###### # 6.2.3.3.4.2.2 Operation Definition
This custom operation deletes an existing Individual TSC Application Session
Context resource and the child Events Subscription sub-resource in the TSCTSF.
This operation shall support the request data structures specified in table
6.2.3.3.4.2.2-1 and the response data structure and response codes specified
in table 6.2.3.3.4.2.2-2.
Table 6.2.3.3.4.2.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
EventsSubscReqData O 0..1 Events subscription information to be sent by the NF
service consumer to request event notification when the Individual TSC
Application Session Context resource is deleted.
Table 6.2.3.3.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource was | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | Event | M | 1 | 200 OK | Successful | | sNotification | | | | case. | | | | | | | | | | | | Describes | | | | | | information | | | | | | related to | | | | | | the | | | | | | notification | | | | | | of events. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | TSC | | | | | | Application | | | | | | Session | | | | | | Context | | | | | | resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | for the POST | | | | | | method shall | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.4.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.2.3.3.4.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
#### 6.2.3.4 Resource: Events Subscription (Document)
##### 6.2.3.4.1 Description
The Events Subscription sub-resource represents a subscription to events for a
TSC application session context that exists in the Ntsctsf_QoSandTSCAssistance
service.
##### 6.2.3.4.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-qos-tscai/\ /tsc-app-
sessions/{appSessionId}/events-subscription**
This resource shall support the resource URI variables defined in table
6.2.3.4.2-1.
Table 6.2.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 appSessionId string Identifier of an
Individual TSC Application Session Context resource.
##### 6.2.3.4.3 Resource Standard Methods
###### 6.2.3.4.3.1 PUT
This method shall support the URI query parameters specified in table
6.2.3.4.3.1-1.
Table 6.2.3.4.3.1-1: URI query parameters supported by the PUT method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.2.3.4.3.1-2 and the response data structures and response codes specified in
table 6.2.3.4.3.1-3.
Table 6.2.3.4.3.1-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
EventsSubscReqData M 1 Contains information for the modification of the Events
Subscription sub-resource.
Table 6.2.3.4.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | Event | M | 1 | 201 Created | Successful | | sSubscReqData | | | | case. | | | | | | | | | | | | The Events | | | | | | Subscription | | | | | | sub-resource | | | | | | was created. | +---------------+---+-------------+---------------+---------------+ | Event | M | 1 | 200 OK | Successful | | sSubscReqData | | | | case. | | | | | | | | | | | | The Events | | | | | | Subscription | | | | | | sub-resource | | | | | | was modified. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The Events | | | | | | Subscription | | | | | | sub-resource | | | | | | was modified. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Events | | | | | | Subscription | | | | | | sub-resource | | | | | | creation. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Events | | | | | | Subscription | | | | | | sub-resource | | | | | | creation. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | for the PUT | | | | | | method shall | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.4.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/ntsctsf-
qos-tscai/\/tsc-app-sessions/{appSessionId}/events-subscription
* * *
Table 6.2.3.4.3.1-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.2.3.4.3.1-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.2.3.4.3.2 DELETE
This method shall support the URI query parameters specified in table
6.2.3.4.3.2-1.
Table 6.2.3.4.3.2-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.2.3.4.3.2-2 and the response data structures and response codes specified in
table 6.2.3.4.3.2-3.
Table 6.2.3.4.3.2-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 6.2.3.4.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The Events | | | | | | Subscription | | | | | | sub-resource | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Events | | | | | | Subscription | | | | | | sub-resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Events | | | | | | Subscription | | | | | | sub-resource | | | | | | deletion. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | for the | | | | | | DELETE method | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.4.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.2.3.4.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 6.2.3.4.4 Resource Custom Operations
None.
### 6.2.4 Custom Operations without associated resources
None.
### 6.2.5 Notifications
#### 6.2.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 6.2.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | Event | {no | notify (POST) | TSCTSF event | | Notification | tifUri}/notify | | notification. | +----------------+----------------+----------------+----------------+ | Termination | {notif | terminate | Request for | | Request | Uri}/terminate | (POST) | termination of | | | | | an Individual | | | | | TSC | | | | | Application | | | | | Session | | | | | Context. | +----------------+----------------+----------------+----------------+
#### 6.2.5.2 Event Notification
##### 6.2.5.2.1 Description
The Event Notification is used by the TSCTSF to report one or several observed
application session context events to the NF service consumer that has
subscribed to such notifications via the Events Subscription sub-resource.
##### 6.2.5.2.2 Target URI
The Callback URI **\"{notifUri}/notify \"** shall be used with the callback
URI variables defined in table 6.2.5.2.2-1.
Table 6.2.5.2.2-1: Callback URI variables
Name Definition
* * *
notifUri The Notification Uri as assigned within the Events Subscription sub-
resource and described within the EventsSubscReqData type (see table
6.2.6.2.3-1) or EventsSubscReqDataRm (see table 6.2.6.2.5-1).
##### 6.2.5.2.3 Standard Methods
###### 6.2.5.2.3.1 POST
This method shall support the request data structures specified in table
6.2.5.2.3.1-1 and the response data structures and response codes specified in
table 6.2.5.2.3.1-2.
Table 6.2.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
EventsNotification M 1 Provides Information about observed events.
Table 6.2.5.2.3.1-2: Data structures supported by the POST Response Body
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The event notification is received successfully.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent.
RedirectResponse O 0..1 308 Permanent Redirect Permanent redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent. NOTE: The
mandatory HTTP error status codes for the POST method listed in Table
5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.
Table 6.2.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
Table 6.2.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
#### 6.2.5.3 Termination Request
##### 6.2.5.3.1 Description
The Termination Request is used by the TSCTSF to request the NF service
consumer the deletion of the Individual TSC Application Session Context
resource.
##### 6.2.5.3.2 Target URI
The Callback URI **\"{notifUri}/terminate \"** shall be used with the callback
URI variables defined in table 6.2.5.3.2-1.
Table 6.2.5.3.2-1: Callback URI variables
Name Definition
* * *
notifUri The Notification Uri as assigned within the Individual TSC
Application Session Context resource and described within the
TscAppSessionContextData Data type (see table 6.2.6.2.2-1) or
TscAppSessionContextUpdateData (see table 6.2.6.2.4-1).
##### 6.2.5.3.3 Standard Methods
###### 6.2.5.3.3.1 POST
This method shall support the request data structures specified in table
6.2.5.3.3.1-1 and the response data structures and response codes specified in
table 6.2.5.3.3.1-2.
Table 6.2.5.3.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
TerminationInfo M 1 Provides information about the deletion of the resource.
Table 6.2.5.3.3.1-2: Data structures supported by the POST Response Body
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The receipt of the Notification is acknowledged.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent.
RedirectResponse O 0..1 308 Permanent Redirect Permanent redirection, during
event notification. The response shall include a Location header field
containing an alternative URI representing the end point of an alternative NF
consumer (service) instance where the notification should be sent. NOTE: The
mandatory HTTP error status codes for the POST method listed in Table
5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.
Table 6.2.5.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
Table 6.2.5.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NF consumer (service)
instance towards which the notification should be redirected. 3gpp-Sbi-Target-
Nf-Id string O 0..1 Identifier of the target NF (service) instance towards
which the notification request is redirected
* * *
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the
Ntsctsf_QoSandTSCAssistance service based interface protocol.
Table 6.2.6.1-1: Ntsctsf_QoSandTSCAssistance specific Data Types
Data type Clause defined Description Applicability
* * *
EventsNotification 6.2.6.2.6 Describes the notification(s) about the event(s)
occurred within an Individual TSC Application Session Context resource.  
EventNotification 6.2.6.2.7 Describes the notification for an Event.  
EventsSubscReqData 6.2.6.2.3 Identifies the events the application subscribes
to within an Individual TSC Application Session Context resource  
EventsSubscReqDataRm 6.2.6.2.5 This data type is defined in the same way as
the \"EventsSubscReqData\" data type, but with the OpenAPI \"nullable: true\"
property.  
TscAppSessionContextData 6.2.6.2.2 Represents the Individual TSC Application
Session Context resource data.  
TscAppSessionContextUpdateData 6.2.6.2.4 Describes the modifications to an
Individual TSC Application Session Context resource.  
TscEvent 6.2.6.3.3 Indicates the subscribed event(s).
Table 6.2.6.1-2 specifies data types re-used by the
Ntsctsf_QoSandTSCAssistance service based interface protocol from other
specifications, including a reference to their respective specifications and
when needed, a short description of their use within the
Ntsctsf_QoSandTSCAssistance service based interface.
Table 6.2.6.1-2: Ntsctsf_QoSandTSCAssistance re-used Data Types
Data type Reference Comments Applicability
* * *
AccumulatedUsage 3GPP TS 29.122 [21] Accumulated Usage.  
AspId 3GPP TS 29.514 [20] Contains an identity of an application service
provider.  
Dnn 3GPP TS 29.571 [15] The DNN the user is connected to.  
EthFlowDescription 3GPP TS 29.514 [20] Defines a packet filter for an Ethernet
flow.  
EthFlowInfo 3GPP TS 29.122 [21] Contains an UL and/or DL Flow information.
Ethernet_UL/DL_Flows FlowInfo 3GPP TS 29.122 [21] Contains the IP data flow
information.  
IpAddr 3GPP TS 29.571 [15] Contains the IP address.  
MacAddr48 3GPP TS 29.571 [15] MAC Address.  
QosMonitoringInformation 3GPP TS 29.122 [21] Contains Qos Monitoring
information.  
QosMonitoringInformationRm 3GPP TS 29.122 [21] This data type is defined in
the same way as the \"QosMonitoringInformation\" data type, but with the
OpenAPI \"nullable: true\" property.  
QosMonitoringReport 3GPP TS 29.122 [21] Contains Qos Monitoring Report
information.  
Snssai 3GPP TS 29.571 [15] Identifies the S-NSSAI.  
SponId 3GPP TS 29.514 [20] Contains an Identity of a sponsor.  
SponsoringStatus 3GPP TS 29.514 [20] Represents whether sponsored data
connectivity is enabled or disabled/not enabled.  
SubscribedEvent 3GPP TS 29.522 [17] Indicates the subscribed event.  
SupportedFeatures 3GPP TS 29.571 [15] Used to negotiate the applicability of
the optional features defined in table 5.8-1.  
TerminationInfo 3GPP TS 29.514 [20] Includes information related to the
termination of the Individual TSC Application Session Context resource.  
TscQosRequirement 3GPP TS 29.122 [21] Contains the QoS requirements for time
sensitive communication.  
TscQosRequirementRm 3GPP TS 29.122 [21] This data type is defined in the same
way as the \"TscQosRequirement\" data type, but with removable attributes.  
UsageThreshold 3GPP TS 29.122 [21] Time period and/or traffic volume in which
the QoS is to be applied.  
UsageThresholdRm 3GPP TS 29.122 [21] This data type is defined in the same way
as the \"UsageThreshold\" data type, but with the OpenAPI \"nullable: true\"
property.  
Uri 3GPP TS 29.571 [15] Identifies a referenced resource.
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type TscAppSessionContextData
Table 6.2.6.2.2-1: Definition of type TscAppSessionContextData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | ueIpAddr | IpAddr | C | 0..1 | The | | | | | | | address | | | | | | | of the | | | | | | | UE. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | C | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if the | | | | | | | ueIpAddr | | | | | | | attribute | | | | | | | is | | | | | | | present | | | | | | | and | | | | | | | contains | | | | | | | an IPv4 | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | C | 0..1 | I | | | | | | | dentifies | | | | | | | the MAC | | | | | | | address. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | Data | | | | | | | Network | | | | | | | Name, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | I | | | | | | | ndividual | | | | | | | TSC | | | | | | | Ap | | | | | | | plication | | | | | | | Session | | | | | | | Context | | | | | | | te | | | | | | | rmination | | | | | | | requests. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | Ap | | | | | | | plication | | | | | | | Id | | | | | | | entifier. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | flowInfo | array( | C | 1..N | Describe | | | | FlowInfo) | | | the IP | | | | | | | data flow | | | | | | | which | | | | | | | requires | | | | | | | QoS. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | enEt | array(Eth | C | 1..N | I | Ethe | | hFlowInfo | FlowInfo) | | | dentifies | rnet_UL/ | | | | | | the | DL_Flows | | | | | | Ethernet | | | | | | | flows | | | | | | | which | | | | | | | require | | | | | | | QoS. Each | | | | | | | Ethernet | | | | | | | flow | | | | | | | consists | | | | | | | of a flow | | | | | | | i | | | | | | | dentifier | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | UL and/or | | | | | | | DL flows. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | et | array(E | C | 1..N | I | | | hFlowInfo | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | flows. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the AF | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | tscQosReq | TscQosRe | C | 0..1 | Contains | | | | quirement | | | the QoS | | | | | | | req | | | | | | | uirements | | | | | | | for time | | | | | | | sensitive | | | | | | | commu | | | | | | | nication. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | qos | string | C | 0..1 | I | | | Reference | | | | dentifies | | | | | | | a | | | | | | | pr | | | | | | | e-defined | | | | | | | QoS | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | altQosR | arra | C | 1..N | I | | | eferences | y(string) | | | dentifies | | | | | | | an | | | | | | | ordered | | | | | | | list of | | | | | | | pr | | | | | | | e-defined | | | | | | | QoS | | | | | | | inf | | | | | | | ormation. | | | | | | | The lower | | | | | | | the index | | | | | | | of the | | | | | | | array for | | | | | | | a given | | | | | | | entry, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | priority. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | a | array | C | 1..N | I | | | ltQosReqs | (Alternat | | | dentifies | | | | iveServic | | | an | | | | eRequirem | | | ordered | | | | entsData) | | | list of | | | | | | | al | | | | | | | ternative | | | | | | | service | | | | | | | req | | | | | | | uirements | | | | | | | that | | | | | | | include | | | | | | | i | | | | | | | ndividual | | | | | | | QoS | | | | | | | parameter | | | | | | | set(s). | | | | | | | The lower | | | | | | | the index | | | | | | | of the | | | | | | | array for | | | | | | | a given | | | | | | | entry, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | priority. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | sponId | SponId | O | 0..1 | Sponsor | | | | | | | identity. | | +-----------+-----------+---+-----------+-----------+-----------+ | aspId | AspId | O | 0..1 | Ap | | | | | | | plication | | | | | | | service | | | | | | | provider | | | | | | | identity. | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | if | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Sponsor | O | 0..1 | I | | | ponStatus | ingStatus | | | ndication | | | | | | | of | | | | | | | whether | | | | | | | sponsored | | | | | | | con | | | | | | | nectivity | | | | | | | is | | | | | | | enabled | | | | | | | or | | | | | | | dis | | | | | | | abled/not | | | | | | | enabled. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of the | | | | | | | attribute | | | | | | | indicates | | | | | | | that the | | | | | | | sponsored | | | | | | | con | | | | | | | nectivity | | | | | | | is | | | | | | | enabled. | | +-----------+-----------+---+-----------+-----------+-----------+ | evSubsc | EventsSub | O | 0..1 | I | | | | scReqData | | | dentifies | | | | | | | the | | | | | | | events | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | s | | | | | | | ubscribes | | | | | | | to at | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | TSC | | | | | | | Ap | | | | | | | plication | | | | | | | Session | | | | | | | Context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 6.2.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and | | | | | | | response | | | | | | | of | | | | | | | requests | | | | | | | a | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | TSC | | | | | | | Ap | | | | | | | plication | | | | | | | Session | | | | | | | Context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Eirther | | | | | | | \"u | | | | | | | eIpAddr\" | | | | | | | attribute | | | | | | | or | | | | | | | \"ueMac\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | If IP | | | | | | | address | | | | | | | is | | | | | | | provided, | | | | | | | IP flow | | | | | | | in | | | | | | | formation | | | | | | | shall be | | | | | | | provided. | | | | | | | If ipv4, | | | | | | | the | | | | | | | domain | | | | | | | i | | | | | | | dentifier | | | | | | | may be | | | | | | | provided. | | | | | | | If mac | | | | | | | address | | | | | | | is | | | | | | | provided, | | | | | | | Ethernet | | | | | | | flow | | | | | | | in | | | | | | | formation | | | | | | | shall be | | | | | | | provided. | | | | | | | One of IP | | | | | | | flow | | | | | | | inf | | | | | | | ormation, | | | | | | | Ethernet | | | | | | | flow | | | | | | | in | | | | | | | formation | | | | | | | or | | | | | | | Ap | | | | | | | plication | | | | | | | I | | | | | | | dentifier | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \"re | | | | | | | qGbrDl\", | | | | | | | \"re | | | | | | | qGbrUl\", | | | | | | | \"re | | | | | | | qMbrDl\", | | | | | | | \"re | | | | | | | qMbrUl\", | | | | | | | \" | | | | | | | maxTscBur | | | | | | | stSize\", | | | | | | | \"req5G | | | | | | | sdelay\", | | | | | | | and | | | | | | | \"p | | | | | | | riority\" | | | | | | | within | | | | | | | the | | | | | | | \"ts | | | | | | | cQosReq\" | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | only if | | | | | | | the | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | attribute | | | | | | | is not | | | | | | | provided. | | | | | | | At least | | | | | | | one of | | | | | | | \"ts | | | | | | | cQosReq\" | | | | | | | attribute | | | | | | | or | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \" | | | | | | | altQoSRef | | | | | | | erences\" | | | | | | | and | | | | | | | \"alt | | | | | | | QosReqs\" | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | and | | | | | | | \"alt | | | | | | | QosReqs\" | | | | | | | are also | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | | | | | | | | NOTE 4: | | | | | | | When the | | | | | | | Ethernet | | | | | | | flow | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | and the | | | | | | | Ethe | | | | | | | rnet_UL/ | | | | | | | DL_Flows | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | either | | | | | | | the | | | | | | | \"ethF | | | | | | | lowInfo\" | | | | | | | or the | | | | | | | \"enEthF | | | | | | | lowInfo\" | | | | | | | shall be | | | | | | | provided, | | | | | | | but not | | | | | | | both | | | | | | | simult | | | | | | | aneously. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.3 Type EventsSubscReqData
Table 6.2.6.2.3-1: Definition of type EventsSubscReqData
Attribute name Data type P Cardinality Description Applicability
* * *
events array(TscEvent) M 1..N Subscribed Events.  
notifUri Uri M 1 Notification URI for event notification.  
qosMon QosMonitoringInformation C 0..1 Qos Monitoring information. It can be
present when the event \"QOS_MONITORING\" is subscribed.  
usgThres UsageThreshold C 0..1 Includes the volume and/or time thresholds for
sponsored data connectivity. It can be present when the event \"USAGE_REPORT\"
is subscribed.  
notifCorreId string M 1 It is used to set the value of Notification
Correlation ID in the corresponding notification.
##### 6.2.6.2.4 Type TscAppSessionContextUpdateData
Table 6.2.6.2.4-1: Definition of type TscAppSessionContextUpdateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | notifUri | Uri | O | 0..1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | I | | | | | | | ndividual | | | | | | | TSC | | | | | | | Ap | | | | | | | plication | | | | | | | Session | | | | | | | Context | | | | | | | te | | | | | | | rmination | | | | | | | requests. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | external | | | | | | | Ap | | | | | | | plication | | | | | | | Id | | | | | | | entifier. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | flowInfo | array( | O | 1..N | Describe | | | | FlowInfo) | | | the IP | | | | | | | data flow | | | | | | | which | | | | | | | requires | | | | | | | QoS. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | et | array(E | O | 1..N | I | | | hFlowInfo | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | flows. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | enEt | array(Eth | C | 1..N | I | Ethe | | hFlowInfo | FlowInfo) | | | dentifies | rnet_UL/ | | | | | | the | DL_Flows | | | | | | Ethernet | | | | | | | flows | | | | | | | which | | | | | | | require | | | | | | | QoS. Each | | | | | | | Ethernet | | | | | | | flow | | | | | | | consists | | | | | | | of a flow | | | | | | | i | | | | | | | dentifier | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | UL and/or | | | | | | | DL flows. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | tscQosReq | T | C | 0..1 | Contains | | | | scQosRequ | | | the QoS | | | | irementRm | | | req | | | | | | | uirements | | | | | | | for time | | | | | | | sensitive | | | | | | | commu | | | | | | | nication. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | qos | string | C | 0..1 | I | | | Reference | | | | dentifies | | | | | | | a | | | | | | | pr | | | | | | | e-defined | | | | | | | QoS | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | altQosR | arra | C | 1..N | I | | | eferences | y(string) | | | dentifies | | | | | | | an | | | | | | | ordered | | | | | | | list of | | | | | | | pr | | | | | | | e-defined | | | | | | | QoS | | | | | | | inf | | | | | | | ormation. | | | | | | | The lower | | | | | | | the index | | | | | | | of the | | | | | | | array for | | | | | | | a given | | | | | | | entry, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | priority. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | a | array | C | 1..N | I | | | ltQosReqs | (Alternat | | | dentifies | | | | iveServic | | | an | | | | eRequirem | | | ordered | | | | entsData) | | | list of | | | | | | | al | | | | | | | ternative | | | | | | | service | | | | | | | req | | | | | | | uirements | | | | | | | that | | | | | | | include | | | | | | | i | | | | | | | ndividual | | | | | | | QoS | | | | | | | parameter | | | | | | | set(s). | | | | | | | The lower | | | | | | | the index | | | | | | | of the | | | | | | | array for | | | | | | | a given | | | | | | | entry, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | priority. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | evSubsc | Ev | O | 0..1 | I | | | | entsSubsc | | | dentifies | | | | ReqDataRm | | | the | | | | | | | events | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | s | | | | | | | ubscribes | | | | | | | to at | | | | | | | mod | | | | | | | ification | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | TSC | | | | | | | Ap | | | | | | | plication | | | | | | | Session | | | | | | | Context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | sponId | SponId | O | 0..1 | Sponsor | | | | | | | identity. | | +-----------+-----------+---+-----------+-----------+-----------+ | aspId | AspId | O | 0..1 | Ap | | | | | | | plication | | | | | | | service | | | | | | | provider | | | | | | | identity. | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | if | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Sponsor | O | 0..1 | I | | | ponStatus | ingStatus | | | ndication | | | | | | | of | | | | | | | whether | | | | | | | sponsored | | | | | | | con | | | | | | | nectivity | | | | | | | is | | | | | | | enabled | | | | | | | or | | | | | | | dis | | | | | | | abled/not | | | | | | | enabled. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of the | | | | | | | attribute | | | | | | | indicates | | | | | | | that the | | | | | | | sponsored | | | | | | | con | | | | | | | nectivity | | | | | | | is | | | | | | | enabled. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | One of IP | | | | | | | flow | | | | | | | inf | | | | | | | ormation, | | | | | | | Ethernet | | | | | | | flow | | | | | | | in | | | | | | | formation | | | | | | | or | | | | | | | Ap | | | | | | | plication | | | | | | | I | | | | | | | dentifier | | | | | | | may be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | \"ts | | | | | | | cQosReq\" | | | | | | | attribute | | | | | | | or | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | attribute | | | | | | | may be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \" | | | | | | | altQoSRef | | | | | | | erences\" | | | | | | | and | | | | | | | \"alt | | | | | | | QosReqs\" | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | and | | | | | | | \"alt | | | | | | | QosReqs\" | | | | | | | are also | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | | | | | | | | NOTE 4: | | | | | | | When the | | | | | | | Ethernet | | | | | | | flow | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | and the | | | | | | | Ethe | | | | | | | rnet_UL/ | | | | | | | DL_Flows | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | either | | | | | | | the | | | | | | | \"ethF | | | | | | | lowInfo\" | | | | | | | or the | | | | | | | \"enEthF | | | | | | | lowInfo\" | | | | | | | shall be | | | | | | | provided, | | | | | | | but not | | | | | | | both | | | | | | | simult | | | | | | | aneously. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.5 Type EventsSubscReqDataRm
This data type is defined in the same way as the \"EventsSubscReqData\" data
type, but:
\- with the OpenAPI \"nullable: true\" property; and
\- the removable attribute \"usgThres\" is defined with the removable data
type \"UsageThresholdRm\"; and removable attribute \"qosMon\" is defined with
the removable data type \"QosMonitoringInformationRm\".
Table 6.2.6.2.5-1: Definition of type EventsSubscReqDataRm
Attribute name Data type P Cardinality Description Applicability
* * *
events array(TscEvent) M 1..N Subscribed Events.  
notifUri Uri O 0..1 Notification URI for event notification.  
qosMon QosMonitoringInformationRm O 0..1 Qos Monitoring information. It can be
present when the event \"QOS_MONITORING\" is subscribed.  
usgThres UsageThresholdRm C 0..1 Includes the volume and/or time thresholds
for sponsored data connectivity. It can be present when the notified event is
\"USAGE_REPORT\".  
notifCorreId string O 0..1 It is used to set the value of Notification
Correlation ID in the corresponding notification.
##### 6.2.6.2.6 Type EventsNotification
Table 6.2.6.2.6-1: Definition of type EventsNotification
Attribute name Data type P Cardinality Description Applicability
* * *
notifCorreId string M 1 It is used to set the value of Notification
Correlation ID in the corresponding notification.  
events array(EventNotification) M 1..N Contains the reported event(s).
##### 6.2.6.2.7 Type EventNotification
Table 6.2.6.2.7-1: Definition of type EventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | event | TscEvent | M | 1 | Indicates | | | | | | | the event | | | | | | | reported | | | | | | | by the | | | | | | | TSCTSF. | | +-----------+-----------+---+-----------+-----------+-----------+ | flowIds | array | O | 1..N | I | | | | (integer) | | | dentifies | | | | | | | the flows | | | | | | | that were | | | | | | | sent | | | | | | | during | | | | | | | event | | | | | | | sub | | | | | | | scription | | +-----------+-----------+---+-----------+-----------+-----------+ | qosM | array(Qo | C | 1..N | QoS | | | onReports | sMonitori | | | M | | | | ngReport) | | | onitoring | | | | | | | reporting | | | | | | | inf | | | | | | | ormation. | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | when the | | | | | | | notified | | | | | | | event is | | | | | | | \" | | | | | | | QOS_MONI | | | | | | | TORING\". | | +-----------+-----------+---+-----------+-----------+-----------+ | appl | string | C | 0..1 | The | | | iedQosRef | | | | currently | | | | | | | applied | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | re | | | | | | | quirement | | | | | | | referring | | | | | | | to an | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | reference | | | | | | | or a | | | | | | | requested | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | parameter | | | | | | | set. | | | | | | | A | | | | | | | pplicable | | | | | | | for event | | | | | | | QO | | | | | | | S_NOT_G | | | | | | | UARANTEED | | | | | | | or | | | | | | | SUCCESS | | | | | | | FUL_RESO | | | | | | | URCES_AL | | | | | | | LOCATION. | | | | | | | | | | | | | | When it | | | | | | | is | | | | | | | omitted | | | | | | | and the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | is | | | | | | | QOS | | | | | | | _NOT_GU | | | | | | | ARANTEED, | | | | | | | the event | | | | | | | report | | | | | | | indicates | | | | | | | that the | | | | | | | lowest | | | | | | | priority | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | profile | | | | | | | could not | | | | | | | be | | | | | | | fulfilled | | | | | | | either. | | +-----------+-----------+---+-----------+-----------+-----------+ | usgRep | Accumul | C | 0..1 | Indicates | | | | atedUsage | | | the | | | | | | | measured | | | | | | | volume | | | | | | | and/or | | | | | | | time for | | | | | | | sponsored | | | | | | | data | | | | | | | conn | | | | | | | ectivity. | | | | | | | A | | | | | | | pplicable | | | | | | | for event | | | | | | | USAGE | | | | | | | _REPORT. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.2.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability \
* * *
##### 6.2.6.3.3 Enumeration: TscEvent
The enumeration TscEvent represents event for TSC. It shall comply with the
provisions defined in table 6.2.6.3.3-1.
Table 6.2.6.3.3-1: Enumeration TscEvent
Enumeration value Description Applicability
* * *
FAILED_RESOURCES_ALLOCATION Indicates that one or more of the SDFs of an
Individual TSC Application Session Context are deactivated. It also indicates
that the resources requested for a particular service information cannot be
successfully allocated.  
SUCCESSFUL_RESOURCES_ALLOCATION Indicates that the resources requested for
particular service information have been successfully allocated.  
QOS_GUARANTEED The QoS targets of one or more SDFs are guaranteed again.  
QOS_NOT_GUARANTEED The QoS targets of one or more SDFs are not being
guaranteed.  
QOS_MONITORING Indicates a QoS monitoring event.  
USAGE_REPORT Volume and/or time usage for sponsored data connectivity.
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
For the Ntsctsf_QoSandTSCAssistance API, HTTP error responses shall be
supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors
and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4]
shall be supported for an HTTP method if the corresponding HTTP status codes
are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS
29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Ntsctsf_QoSandTSCAssistance API.
#### 6.2.7.2 Protocol Errors
No specific procedures for the Ntsctsf_QoSandTSCAssistance service are
specified.
#### 6.2.7.3 Application Errors
The application errors defined for the Ntsctsf_QoSandTSCAssistance service are
listed in Table 6.2.7.3-1.
Table 6.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 6.2.8 Feature negotiation
The optional features in table 6.2.8-1 are defined for the
Ntsctsf_QoSandTSCAssistance API. They shall be negotiated using the
extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
Table 6.2.8-1: Supported Features
Feature number Feature Name Description
* * *
1 Ethernet_UL/DL_Flows Indicates the support of the description of the
Ethernet flows as the combination of Flow Identifier, and UL and/or DL
Ethernet flows. 2 PacketDelayFailureReport Indicates the support of packet
delay failure report as part of QoS Monitoring procedures.
### 6.2.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Ntsctsf_QoSandTSCAssistance API may be authorized by means of the OAuth2
protocol (see IETF RFC 6749 [9]), based on local configuration, using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[10]) plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Ntsctsf_QoSandTSCAssistance API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Ntsctsf_QoSandTSCAssistance service.
The Ntsctsf_QoSandTSCAssistance API defines a single scope \"ntsctsf-qos-
tscai\" for the entire service, and it does not define any additional scopes
at resource or operation level.
## 6.3 Ntsctsf_ASTI Service API
### 6.3.1 Introduction
The Ntsctsf_ASTI service shall use the Ntsctsf_ASTI API.
The API URI of the Ntsctsf_ASTI API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \" ntsctsf-asti\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.3.3.
### 6.3.2 Usage of HTTP
#### 6.3.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Ntsctsf_ASTI API is contained in Annex A.
#### 6.3.2.2 HTTP standard headers
##### 6.3.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 6.3.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 6.3.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be supported, and the optional HTTP custom header fields
specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.
In this Release of the specification, no specific custom headers are defined
for the Ntsctsf_ASTI API.
### 6.3.3 Resources
#### 6.3.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 6.2.3.1-1 depicts the resource URIs structure for the Ntsctsf_ASTI API.
Figure 6.3.3.1-1: Resource URI structure of the Ntsctsf_ASTI API
Table 6.3.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.3.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +================+================+================+================+ | ASTI | /c | POST | Create a new | | Configurations | onfigurations/ | | configuration | | | | | of the 5G | | | | | access stratum | | | | | time | | | | | distribution. | +----------------+----------------+----------------+----------------+ | | configura | retrieve | Request the | | | tions/retrieve | | status of the | | | | (POST) | access stratum | | | | | time | | | | | distribution | | | | | for a list of | | | | | UEs. | +----------------+----------------+----------------+----------------+ | Individual | /configurati | PUT | Request to | | ASTI | ons/{configId} | | update the 5G | | Configuration | | | access stratum | | | | | time | | | | | distribution | | | | | configuration. | +----------------+----------------+----------------+----------------+ | | | DELETE | Request to | | | | | delete the 5G | | | | | access stratum | | | | | time | | | | | distribution | | | | | configuration. | +----------------+----------------+----------------+----------------+
#### 6.3.3.2 Resource: ASTI Configurations
##### 6.3.3.2.1 Description
This resource allows a NF service consumer to create a new Individual ASTI
Configuration resource.
##### 6.3.3.2.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-asti/\ /configurations**
This resource shall support the resource URI variables defined in table
6.3.3.2.2-1.
Table 6.3.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.3.1
##### 6.3.3.2.3 Resource Standard Methods
###### 6.3.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.3.3.2.3.1-1.
Table 6.3.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.3.3.2.3.1-2 and the response data structures and response codes specified in
table 6.3.3.2.3.1-3.
Table 6.3.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AccessTimeDistributionData M 1 Contains
the information for the creation of a new Individual ASTI Configuration
resource.
* * *
Table 6.3.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | AccessTimeDis | M | 1 | 201 Created | The resource | | tributionData | | | | was created | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.3.3.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description
Location string M 1 Contains the URI of the newly created resource, according
to the structure:\ {apiRoot}/ntsctsf-
asti/\/configurations/{configId}
* * *
##### 6.3.3.2.4 Resource Custom Operations
###### 6.3.3.2.4.1 Overview
Table 6.3.3.2.4.1-1: Custom operations
Operation Name Custom operation URI Mapped HTTP method Description
* * *
retrieve /configurations/retrieve retrieve (POST) Request the status of the 5G
access stratum time distribution for a list of UEs.
###### 6.3.3.2.4.2 Operation: retrieve
###### # 6.3.3.2.4.2.1 Description
###### # 6.3.3.2.4.2.2 Operation Definition
This custom operation retrieves the status of the access stratum time
distribution for a list of UEs.
This operation shall support the request data structures specified in table
6.3.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.3.3.24.2.2-2.
Table 6.3.3.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
StatusRequestData M 1 Parameters to be sent by the NF service consumer when
the status of the 5G access stratum time distribution for a list of UEs is
requested.
Table 6.3.3.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
Data type P Cardinality Response codes Description
* * *
StatusResponseData M 1 200 OK Status of the 5G access stratum time
distribution for a list of UEs is returned. NOTE: The mandatory HTTP error
status codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500
[4] shall also apply.
#### 6.3.3.3 Resource: Individual ASTI Configuration
##### 6.3.3.3.1 Description
This resource allows a NF service consumer to read, modify or delete an
existing Individual ASTI Configuration resource.
##### 6.3.3.3.2 Resource Definition
Resource URI: **{apiRoot}/ntsctsf-asti/\
/configurations/{configId}**
This resource shall support the resource URI variables defined in table
6.3.3.3.2-1.
Table 6.3.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.3.1 configId string Identifier of an Individual
ASTI Configuration resource.
##### 6.3.3.3.3 Resource Standard Methods
###### 6.3.3.3.3.2 PUT
This method shall support the URI query parameters specified in table
6.3.3.3.3.2-1.
Table 6.3.3.3.3.2-1: URI query parameters supported by the PUT method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.3.3.3.3.2-2 and the response data structures and response codes specified in
table 6.3.3.3.3.2-3.
Table 6.3.3.3.3.2-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
AccessTimeDistributionData M 1 Contains the modification(s) to apply to the
Individual ASTI Configuration resource.
Table 6.3.3.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | AccessTimeDis | M | 1 | 200 OK | Successful | | tributionData | | | | case. The | | | | | | Individual | | | | | | ASTI | | | | | | Configuration | | | | | | resource was | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | ASTI | | | | | | Configuration | | | | | | resource was | | | | | | modified. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | ASTI | | | | | | Configuration | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during an | | | | | | Individual | | | | | | ASTI | | | | | | Configuration | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | TSCTSF | | | | | | (service) | | | | | | instance. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | for the PUT | | | | | | method shall | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.3.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.3.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
###### 6.3.3.3.3.3 DELETE
This method shall support the URI query parameters specified in table
6.3.3.3.3.3-1.
Table 6.3.3.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.3.3.3.3.3-2 and the response data structures and response codes specified in
table 6.3.3.3.3.3-3.
Table 6.3.3.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 6.3.3.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
Data type P Cardinality Response codes Description
* * *
n/a 204 No Content The configuration was terminated successfully.
RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection, during
an Individual ASTI Configuration resource modification deletion. The response
shall include a Location header field containing an alternative URI of the
resource located in an alternative TSCTSF (service) instance. RedirectResponse
O 0..1 308 Permanent Redirect Permanent redirection, during an Individual ASTI
Configuration resource modification e deletion. The response shall include a
Location header field containing an alternative URI of the resource located in
an alternative TSCTSF (service) instance. NOTE: In addition, the HTTP status
codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500
[4] for the DELETE method shall also apply.
Table 6.3.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 6.3.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative TSCTSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 6.3.3.3.4 Resource Custom Operations
None.
### 6.3.4 Custom Operations without associated resources
None.
### 6.3.5 Notifications
None.
### 6.3.6 Data Model
#### 6.3.6.1 General
This clause specifies the application data model supported by the API.
Table 6.3.6.1-1 specifies the data types defined for the Ntsctsf_ASTI service
based interface protocol.
Table 6.3.6.1-1: Ntsctsf_ASTI specific Data Types
Data type Clause defined Description Applicability
* * *
AccessTimeDistributionData 6.3.6.2.2 Contains the parameters for the creation
of 5G access stratum time distribution configuration.  
AsTimeDistributionParam 6.3.6.2.3 Contains the 5G access stratum time
distribution parameters.  
ActiveUe 6.3.6.2.6 Contains the UE identifier whose status of the access
stratum time distribution is active and the optional requested time
synchronization error budget.  
StatusRequestData 6.3.6.2.4 Contains the parameters for retrieval of the
status of the access stratum time distribution for a list of UEs.  
StatusResponseData 6.3.6.2.5 Contains the parameters for the status of the
access stratum time distribution for a list of UEs.
Table 6.3.6.1-2 specifies data types re-used by the Ntsctsf_ASTI service based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the Ntsctsf_ASTI service based interface.
Table 6.3.6.1-2: Ntsctsf_ASTI re-used Data Types
Data type Reference Comments Applicability
* * *
ExternalGroupId 3GPP TS 29.571 [15] Identifies an External Group.  
Gpsi 3GPP TS 29.571 [15] The external identification of the user (i.e., an
External Id or an MSISDN).  
GroupId 3GPP TS 29.571 [15] Identifies a group of internal globally unique ID.  
Supi 3GPP TS 29.571 [15] The identification of the user (i.e. IMSI, NAI).  
SupportedFeatures 3GPP TS 29.571 [15] Used to negotiate the applicability of
the optional features defined in table 6.3.8-1.  
TemporalValidity 3GPP TS 29.514 [20] TemporalValidity  
Uinteger 3GPP TS 29.571 [15] Unsigned integer.
#### 6.3.6.2 Structured data types
##### 6.3.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.3.6.2.2 Type: AccessTimeDistributionData
Table 6.3.6.2.2-1: Definition of type AccessTimeDistributionData
Attribute name Data type P Cardinality Description Applicability
* * *
supis array(Supi) C 1..N Subscription Permanent Identifier(s). (NOTE)  
gpsis array(Gpsi) C 1..N Public user Identifier(s). (NOTE)  
interGrpId GroupId C 0..1 The internal Group Id(s). (NOTE)  
exterGrpId ExternalGroupId C 0..1 The external Group Id(s). (NOTE)  
asTimeDisParam AsTimeDistributionParam M 1 5G access stratum time distribution
parameters  
suppFeat SupportedFeatures C 0..1 Represents the features supported by the NF
service consumer. This parameter shall be supplied by the NF service consumer
in the POST request and the response that requested the creation of an
Individual ASTI Configuration resource.  
NOTE: One of \"supis\", \"gpsis\", \"exterGroupId\" or \"interGrpId\"
attributes shall be provided.
##### 6.3.6.2.3 Type: AsTimeDistributionParam
Table 6.3.6.2.3-1: Definition of type AsTimeDistributionParam
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | asTimeD | boolean | O | 0..1 | When this | | | isEnabled | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | and set | | | | | | | to true, | | | | | | | it | | | | | | | indicates | | | | | | | that the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | via Uu | | | | | | | reference | | | | | | | point is | | | | | | | a | | | | | | | ctivated. | | | | | | | | | | | | | | When | | | | | | | present | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | a | | | | | | | ctivated. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | dea | | | | | | | ctivated. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeSy | Uinteger | O | 0..1 | Indicates | | | ncErrBdgt | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | error | | | | | | | budget in | | | | | | | terms of | | | | | | | time | | | | | | | units of | | | | | | | nan | | | | | | | oseconds. | | +-----------+-----------+---+-----------+-----------+-----------+ | tem | Tempora | O | 0..1 | Indicates | | | pValidity | lValidity | | | the time | | | | | | | interval | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.3.6.2.4 Type: StatusRequestData
Table 6.3.6.2.4-1: Definition of type StatusRequestData
Attribute name Data type P Cardinality Description Applicability
* * *
supis array(Supi) C 1..N Subscription Permanent Identifier(s).  
gpsis array(Gpsi) C 1..N Public User Identifier(s).  
NOTE: Either the \"supis\" or the \"gpsis\" attribute is included.
##### 6.3.6.2.5 Type: StatusResponseData
Table 6.3.6.2.5-1: Definition of type StatusResponseData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | in | ar | O | 1..N | Indicate | | | activeUes | ray(Supi) | | | the | | | | | | | SUPI(s) | | | | | | | whose | | | | | | | status of | | | | | | | the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | is | | | | | | | inactive. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | inac | ar | O | 1..N | Indicate | | | tiveGpsis | ray(Gpsi) | | | the | | | | | | | GPSI(s) | | | | | | | whose | | | | | | | status of | | | | | | | the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | is | | | | | | | inactive. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | activeUes | array( | O | 1..N | Contains | | | | ActiveUe) | | | the UE | | | | | | | iden | | | | | | | tifier(s) | | | | | | | whose | | | | | | | status of | | | | | | | the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | is active | | | | | | | and the | | | | | | | optional | | | | | | | requested | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | error | | | | | | | budget. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | the | | | | | | | \"inac | | | | | | | tiveUes\" | | | | | | | or the | | | | | | | \"inacti | | | | | | | veGpsis\" | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | based on | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | contained | | | | | | | an | | | | | | | internal | | | | | | | or an | | | | | | | external | | | | | | | id | | | | | | | entifier. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.3.6.2.6 Type: ActiveUe
Table 6.3.6.2.6-1: Definition of type ActiveUe
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | Indicate | | | | | | | the SUPI | | | | | | | whose | | | | | | | status of | | | | | | | the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | is | | | | | | | active. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | Indicate | | | | | | | the GPSI | | | | | | | whose | | | | | | | status of | | | | | | | the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | is | | | | | | | active. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | timeSy | Uinteger | O | 0..1 | Indicates | | | ncErrBdgt | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | error | | | | | | | budget in | | | | | | | terms of | | | | | | | time | | | | | | | units of | | | | | | | nan | | | | | | | oseconds. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | the | | | | | | | \"supi\" | | | | | | | or the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | based on | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | contained | | | | | | | an | | | | | | | internal | | | | | | | or an | | | | | | | external | | | | | | | id | | | | | | | entifier. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 6.3.6.3 Simple data types and enumerations
##### 6.3.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.3.6.3.2 Simple data types
The simple data types defined in table 6.3.6.3.2-1 shall be supported.
Table 6.3.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 6.3.7 Error Handling
#### 6.3.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [5].
For the Ntsctsf_ASTI API, HTTP error responses shall be supported as specified
in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors
specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an
HTTP method if the corresponding HTTP status codes are specified as mandatory
for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Ntsctsf_ASTI API.
#### 6.3.7.2 Protocol Errors
No specific procedures for the Ntsctsf_ASTI service are specified.
#### 6.3.7.3 Application Errors
The application errors defined for the Ntsctsf_ASTI service are listed in
Table 6.3.7.3-1.
Table 6.3.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 6.3.8 Feature negotiation
The optional features in table 6.3.8-1 are defined for the Ntsctsf_ASTI API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.3.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.3.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Ntsctsf_ASTI API may be authorized by means of the OAuth2 protocol (see IETF
RFC 6749 [9]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Ntsctsf_ASTI API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Ntsctsf_ASTI service.
The Ntsctsf_ASTI API defines a single scope \"ntsctsf-asti\" for the entire
service, and it does not define any additional scopes at resource or operation
level.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the API(s) defined in the
present specification. It consists of OpenAPI specifications in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 1: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [7] clause 5B).
# A.2 Ntsctsf_TimeSynchronization API
openapi: 3.0.0
info:
title: Ntsctsf_TimeSynchronization Service API
version: 1.0.2
description: \|
TSCTSF Time Synchronization Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.565 V17.2.0; 5G System; Time Sensitive Communication and Time
Synchronization Function
Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\'
servers:
\- url: \'{apiRoot}/ntsctsf-time-sync/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- ntsctsf-time-sync
paths:
/subscriptions:
post:
summary: Creates a new subscription to notification of capability of time
synchronization service resource
operationId: TimeSynchronizationExposureSubscriptions
tags:
\- Time Synchronization Exposure Subscriptions (Collection)
requestBody:
description: Contains the information for the creation the resource.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
responses:
\'201\':
description: Successful creation of the resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
headers:
Location:
description: >
Contains the URI of the created individual time synchronization exposure
subscription resource, according to the structure
{apiRoot}/ntsctsf-time-sync/{apiVersion}/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
subsEventNotification:
\'{\$request.body#/subsNotifUri\':
post:
requestBody:
description: Notification of an event occurrence in the TSCTSF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsNotif\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: \"Reads an existing Individual Time Synchronization Exposure
Subscription\"
operationId: GetIndividualTimeSynchronizationExposureSubscription
tags:
\- Individual Time Synchronization Exposure Subscription (Document)
parameters:
\- name: subscriptionId
description: String identifying an Individual Time Synchronization Exposure
Subscription
in: path
required: true
schema:
type: string
responses:
\'200\':
description: A representation of the resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
operationId: ReplaceIndividualTimeSynchronizationExposureSubscription
summary: Replace an individual Time Synchronization Exposure Subscription
tags:
\- IndividualTimeSynchronizationExposureSubscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS29522_TimeSyncExposure.yaml#/components/schemas/TimeSyncExposureSubsc\'
parameters:
\- name: subscriptionId
description: String identifying an Individual Time Synchronization Exposure
Subscription.
in: path
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource was successfully modified and representation is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
\'204\':
description: No Content. Resource was successfully modified.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
operationId: DeleteIndividualTimeSynchronizationExposureSubscription
summary: Delete an Individual TimeSynchronization Exposure Subscription
tags:
\- Individual Time Synchronization Exposure Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying an Individual Time Synchronization Exposure
Subscription.
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was successfully deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}/configurations:
post:
summary: \"Craete a new Individual Time Synchronization Exposure
Configuration\"
operationId: CreateIndividualTimeSynchronizationExposureConfiguration
tags:
\- Individual Time Synchronization Exposure Configuration (Document)
parameters:
\- name: subscriptionId
description: String identifying an Individual Time Synchronization Exposure
Subscription.
in: path
required: true
schema:
type: string
requestBody:
description: Contains the information for the creation the resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29522_TimeSyncExposure.yaml#/components/schemas/TimeSyncExposureConfig\'
responses:
\'201\':
description: Successful creation of the resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
headers:
Location:
description: >
Contains the URI of the created individual time synchronization exposure
configuration resource, according to the structure
{apiRoot}/ntsctsf-time-sync/{apiVersion}/subscriptions/{subscriptionId}
/configurations/{configurationId}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
configEventNotification:
\'{\$request.body#/configNotifUri\':
post:
requestBody:
description: Notification of an event occurrence in the TSCTSF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfigNotif\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}/configurations/{configurationId}:
get:
summary: \"Reads an existing Individual Time Synchronization Exposure
Configuration\"
operationId: GetIndividualTimeSynchronizationExposureConfiguration
tags:
\- Individual Time Synchronization Exposure Configuration (Document)
parameters:
\- name: subscriptionId
description: String identifying an Individual Time Synchronization Exposure
Subscription.
in: path
required: true
schema:
type: string
\- name: configurationId
description: String identifying an Individual Time Synchronization Exposure
Configuration.
in: path
required: true
schema:
type: string
responses:
\'200\':
description: A representation of the resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
operationId: ReplaceIndividualTimeSynchronizationExposureConfiguration
summary: Replace an individual Time Synchronization Exposure Configuration
tags:
\- IndividualTimeSynchronizationExposureConfiguration (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS29522_TimeSyncExposure.yaml#/components/schemas/TimeSyncExposureConfig\'
parameters:
\- name: subscriptionId
description: String identifying an Individual Time Synchronization Exposure
Subscription.
in: path
required: true
schema:
type: string
\- name: configurationId
description: String identifying an Individual Time Synchronization Exposure
Configuration.
in: path
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource was successfully modified and representation is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
\'204\':
description: No Content. Resource was successfully modified.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
operationId: DeleteIndividualTimeSynchronizationExposureConfiguration
summary: Delete an Individual TimeSynchronization Exposure Configuration
tags:
\- Individual Time Synchronization Exposure Configuration (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying an Individual Time Synchronization Exposure
Subscription.
required: true
schema:
type: string
\- name: configurationId
description: String identifying an Individual Time Synchronization Exposure
Configuration.
in: path
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was successfully deleted
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
ntsctsf-timesynchronization: Access to the Ntsctsf_TimeSynchronization API
schemas:
TimeSyncExposureSubsc:
description: >
Contains the parameters for the subscription to notification of capability of
time
synchronization service.
type: object
properties:
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
interGrpId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
exterGrpId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId\'
anyUeInd:
type: boolean
description: >
Identifies whether the request applies to any UE. This attribute shall set to
\"true\" if
applicable for any UE, otherwise, set to \"false\".
notifMethod:
\$ref:
\'TS29508_Nsmf_EventExposure.yaml#/components/schemas/NotificationMethod\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
subscribedEvents:
type: array
items:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/SubscribedEvent\'
minItems: 1
eventFilters:
type: array
items:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/EventFilter\'
minItems: 1
subsNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
subsNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
maxReportNbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
repPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- subsNotifUri
\- subsNotifId
\- dnn
\- snssai
\- subscribedEvents
oneOf:
\- required: [supis]
\- required: [interGrpId]
\- required: [gpsis]
\- required: [exterGrpId]
\- required: [anyUeInd]
TimeSyncExposureSubsNotif:
description: Contains the notification of time synchronization service.
type: object
properties:
subsNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
eventNotifs:
type: array
items:
\$ref: \'#/components/schemas/SubsEventNotification\'
minItems: 1
SubsEventNotification:
description: >
Contains the notification of capability of time synchronization for a list of
UEs.
type: object
properties:
event:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/SubscribedEvent\'
timeSyncCapas:
type: array
items:
\$ref: \'#/components/schemas/TimeSyncCapability\'
minItems: 1
required:
\- event
TimeSyncCapability:
description: Contains the capability of time synchronization service.
type: object
properties:
upNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
gmCapables:
type: array
items:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/GmCapable\'
minItems: 1
asTimeRes:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/AsTimeResource\'
ptpCapForUes:
type: object
additionalProperties:
\$ref: \'#/components/schemas/PtpCapabilitiesPerUe\'
minProperties: 1
description: >
Contains the PTP capabilities supported by each of the SUPI(s). The key of the
map is the
SUPI.
ptpCapForGpsis:
type: object
additionalProperties:
\$ref: \'#/components/schemas/PtpCapabilitiesPerUe\'
minProperties: 1
description: >
Contains the PTP capabilities supported by each of the GPSI(s). The key of the
map is
the GPSI.
required:
\- upNodeId
anyOf:
\- required: [gmCapables]
\- required: [asTimeRes]
PtpCapabilitiesPerUe:
description: Contains the supported PTP capabilities per UE.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ptpCaps:
type: array
items:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/EventFilter\'
minItems: 1
required:
\- ptpCaps
oneOf:
\- required: [supi]
\- required: [gpsi]
TimeSyncExposureConfigNotif:
description: Contains the notification of time synchronization service state.
type: object
properties:
configNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
stateOfConfig:
\$ref: \'#/components/schemas/StateOfConfiguration\'
required:
\- configNotifId
\- stateOfConfig
StateOfConfiguration:
description: Contains the state of the time synchronization configuration.
type: object
properties:
stateNwtt:
type: boolean
description: >
When the PTP port state is Leader, Follower or Passive, it is included and set
to true
to indicate the state of configuration for NW-TT port is active; when PTP port
state is
in any other case, it is included and set to false to indicate the state of
configuration for NW-TT port is inactive. Default value is false.
stateOfDstts:
description: Contains the PTP port states of the DS-TT(s).
type: array
items:
\$ref: \'#/components/schemas/StateOfDstt\'
minItems: 1
StateOfDstt:
description: Contains the PTP port state of a DS-TT.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
state:
type: boolean
description: >
When the PTP port state is Leader, Follower or Passive, it is included and set
to true
to indicate the state of configuration for DS-TT port is active; when PTP port
state is
in any other case, it is included and set to false to indicate the state of
configuration for DS-TT port is inactive. Default value is false.
required:
\- state
oneOf:
\- required: [supi]
\- required: [gpsi]
TimeSyncExposureConfig:
description: Contains the Time Synchronization Configuration parameters.
type: object
properties:
upNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
reqPtpIns:
\$ref: \'#/components/schemas/PtpInstance\'
gmEnable:
type: boolean
description: >
Indicates that the AF requests 5GS to act as a grandmaster for PTP or gPTP if
it is
included and set to true.
gmPrio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
timeDom:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
timeSyncErrBdgt:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
configNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
configNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
tempValidity:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
required:
\- upNodeId
\- reqPtpIns
\- timeDom
\- configNotifId
\- configNotifUri
PtpInstance:
description: Contains PTP instance configuration and activation requested by
the AF.
type: object
properties:
instanceType:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/InstanceType\'
protocol:
\$ref: \'TS29522_TimeSyncExposure.yaml#/components/schemas/Protocol\'
ptpProfile:
type: string
portConfigs:
type: array
items:
\$ref: \'#/components/schemas/ConfigForPort\'
minItems: 1
required:
\- instanceType
\- protocol
\- ptpProfile
ConfigForPort:
description: Contains configuration for each port.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
n6Ind:
type: boolean
ptpEnable:
type: boolean
logSyncInter:
type: integer
logSyncInterInd:
type: boolean
logAnnouInter:
type: integer
logAnnouInterInd:
type: boolean
oneOf:
\- required: [supi]
\- required: [gpsi]
\- required: [n6Ind]
# A.3 Ntsctsf_QoSandTSCAssistance API
openapi: 3.0.0
info:
title: Ntsctsf_QoSandTSCAssistance Service API
version: 1.0.2
description: \|
TSCTSF QoS and TSC Assistance Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.565 V17.2.0; 5G System; Time Sensitive Communication and Time
Synchronization function
Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\'
servers:
\- url: \'{apiRoot}/ntsctsf-qos-tscai/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- ntsctsf-qos-tscai
paths:
/tsc-app-sessions:
post:
summary: Creates a new Individual TSC Application Session Context resource
operationId: PostTSCAppSessions
tags:
\- TSC Application Sessions (Collection)
requestBody:
description: Contains the information for the creation the resource.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TscAppSessionContextData\'
responses:
\'201\':
description: Successful creation of the resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TscAppSessionContextData\'
headers:
Location:
description: >
Contains the URI of the created individual TSC application session context
resource,
according to the structure
{apiRoot}/ntsctsf-qos-tscai/v1/tsc-app-sessions/{appSessionId} or the URI of
the
created events subscription sub-resource, according to the structure
{apiRoot}/ntsctsf-qos-tscai/v1/tsc-app-sessions/{appSessionId}/events-
subscription}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
terminationRequest:
\'{\$request.body#/notifUri}/terminate\':
post:
requestBody:
description: >
Request of the termination of the Individual TSC Application Session Context
required: true
content:
application/json:
schema:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TerminationInfo\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
eventNotification:
\'{\$request.body#/evSubsc/notifUri}/notify\':
post:
requestBody:
description: Notification of an event occurrence in the TSCTSF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/tsc-app-sessions/{appSessionId}:
get:
summary: Reads an existing Individual TSC Application Session Context
operationId: GetTSCAppSession
tags:
\- Individual TSC Application Session Context (Document)
parameters:
\- name: appSessionId
description: String identifying the resource.
in: path
required: true
schema:
type: string
responses:
\'200\':
description: A representation of the resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TscAppSessionContextData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Modifies an existing Individual TSC Application Session Context
operationId: ModAppSession
tags:
\- Individual TSC Application Session Context (Document)
parameters:
\- name: appSessionId
description: String identifying the resource.
in: path
required: true
schema:
type: string
requestBody:
description: Modification of the resource.
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/TscAppSessionContextUpdateData\'
responses:
\'200\':
description: >
successful modification of the resource and a representation of that resource
is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TscAppSessionContextData\'
\'204\':
description: The successful modification.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
eventNotification:
\'{\$request.body#/evSubsc/notifUri}/notify\':
post:
requestBody:
description: Notification of an event occurrence in the TSCTSF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/tsc-app-sessions/{appSessionId}/delete:
post:
summary: Deletes an existing Individual TSC Application Session Context
operationId: DeleteTSCAppSession
tags:
\- Individual TSC Application Session Context (Document)
parameters:
\- name: appSessionId
description: String identifying the Individual TSC Application Session Context
resource.
in: path
required: true
schema:
type: string
requestBody:
description: >
Deletion of the Individual TSC Application Session Context resource, request
notification.
required: false
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsSubscReqData\'
responses:
\'200\':
description: The deletion of the resource is confirmed and a resource is
returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsNotification\'
\'204\':
description: The deletion is confirmed without returning additional data.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/tsc-app-sessions/{appSessionId}/events-subscription:
put:
summary: Creates or modifies an Events Subscription subresource
operationId: putEventsSubsc
tags:
\- Events Subscription (Document)
parameters:
\- name: appSessionId
description: String identifying the Events Subscription resource
in: path
required: true
schema:
type: string
requestBody:
description: Creation or modification of an Events Subscription resource.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsSubscReqData\'
responses:
\'201\':
description: >
The creation of the Events Subscription resource is confirmed and its
representation is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsSubscReqData\'
headers:
Location:
description: >
Contains the URI of the created Events Subscription resource,
according to the structure
{apiRoot}/ntsctsf-qos-tscai/v1/tsc-app-sessions/{appSessionId}/events-
subscription}
required: true
schema:
type: string
\'200\':
description: >
The modification of the Events Subscription resource is confirmed and its
representation
is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsSubscReqData\'
\'204\':
description: >
The modification of the Events Subscription subresource is confirmed without
returning
additional data.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
eventNotification:
\'{\$request.body#/notifUri}/notify\':
post:
requestBody:
description: >
Contains the information for the notification of an event occurrence in the
TSCTSF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventsNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes the Events Subscription subresource.
operationId: DeleteEventsSubsc
tags:
\- Events Subscription (Document)
parameters:
\- name: appSessionId
description: String identifying the Individual TSC Application Session Context
resource
in: path
required: true
schema:
type: string
responses:
\'204\':
description: >
The deletion of the of the Events Subscription sub-resource is confirmed
without returning
additional data.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
ntsctsf-qos-tscai: Access to the Ntsctsf_QoSandTSCAssistance API
schemas:
TscAppSessionContextData:
description: Represents an Individual TSC Application Session Context
resource.
type: object
required:
\- notifUri
\- afId
\- qosReference
oneOf:
\- required: [ueIpAddr]
\- required: [ueMac]
properties:
ueIpAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
ipDomain:
type: string
description: The IPv4 address domain identifier.
ueMac:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
appId:
type: string
description: Identifies the Application Identifier.
ethFlowInfo:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
enEthFlowInfo:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/EthFlowInfo\'
minItems: 1
description: >
Identifies the Ethernet flows which require QoS. Each Ethernet flow consists
of a flow
identifer and the corresponding UL and/or DL flows.
flowInfo:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
afId:
type: string
description: Identifies the AF identifier.
tscQosReq:
\$ref: \'TS29122_AsSessionWithQoS.yaml#/components/schemas/TscQosRequirement\'
qosReference:
type: string
description: Identifies a pre-defined QoS information.
altQosReferences:
type: array
items:
type: string
minItems: 1
description: Identifies an ordered list of pre-defined QoS information.
altQosReqs:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AlternativeServiceRequirementsData\'
minItems: 1
description: >
Identifies an ordered list of alternative service requirements that include
individual
QoS parameter sets. The lower the index of the array for a given entry, the
higher the
priority.
aspId:
\$ref: \'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AspId\'
sponId:
\$ref: \'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponId\'
sponStatus:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponsoringStatus\'
evSubsc:
\$ref: \'#/components/schemas/EventsSubscReqData\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
TscAppSessionContextUpdateData:
description: >
Describes the authorization data of an Individual TSC Application Session
Context created by
the PCF.
type: object
properties:
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
appId:
type: string
description: Identifies the Application Identifier.
ethFlowInfo:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
enEthFlowInfo:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/EthFlowInfo\'
minItems: 1
description: >
Identifies the Ethernet flows which require QoS. Each Ethernet flow consists
of a flow
identifer and the corresponding UL and/or DL flows.
flowInfo:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
tscQosReq:
\$ref:
\'TS29122_AsSessionWithQoS.yaml#/components/schemas/TscQosRequirementRm\'
qosReference:
type: string
description: Identifies a pre-defined QoS information.
altQosReferences:
type: array
items:
type: string
minItems: 1
description: Identifies an ordered list of pre-defined QoS information.
altQosReqs:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AlternativeServiceRequirementsData\'
minItems: 1
description: >
Identifies an ordered list of alternative service requirements that include
individual
QoS parameter sets. The lower the index of the array for a given entry, the
higher the
priority.
aspId:
\$ref: \'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AspId\'
sponId:
\$ref: \'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponId\'
sponStatus:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponsoringStatus\'
evSubsc:
\$ref: \'#/components/schemas/EventsSubscReqDataRm\'
EventsSubscReqData:
description: Identifies the events the application subscribes to.
type: object
required:
\- events
\- notifUri
\- notifCorreId
properties:
events:
type: array
items:
\$ref: \'#/components/schemas/TscEvent\'
minItems: 1
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
qosMon:
\$ref:
\'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringInformation\'
usgThres:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/UsageThreshold\'
notifCorreId:
type: string
EventsSubscReqDataRm:
description: >
This data type is defined in the same way as the EventsSubscReqData data type,
but with the
OpenAPI nullable property set to true.
type: object
required:
\- events
properties:
events:
type: array
items:
\$ref: \'#/components/schemas/TscEvent\'
minItems: 1
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
qosMon:
\$ref:
\'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringInformationRm\'
usgThres:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/UsageThresholdRm\'
notifCorreId:
type: string
nullable: true
EventsNotification:
description: Describes the notification of matched events.
type: object
required:
\- notifCorreId
\- events
properties:
notifCorreId:
type: string
events:
type: array
items:
\$ref: \'#/components/schemas/EventNotification\'
minItems: 1
EventNotification:
description: Describes a notification of an matched event.
type: object
required:
\- event
properties:
event:
\$ref: \'#/components/schemas/TscEvent\'
flowIds:
type: array
items:
type: integer
minItems: 1
description: Identifies the IP flows that were sent during event subscription.
qosMonReports:
type: array
items:
\$ref:
\'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringReport\'
minItems: 1
usgRep:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/AccumulatedUsage\'
appliedQosRef:
type: string
description: >
The currently applied alternative QoS requirement referring to an alternative
QoS
reference or a requested alternative QoS parameter set. Applicable for
event QOS_NOT_GUARANTEED or SUCCESSFUL_RESOURCES_ALLOCATION.
#
# ENUMERATIONS DATA TYPES
#
TscEvent:
description: Represents an event to notify to the AF.
anyOf:
\- type: string
enum:
\- FAILED_RESOURCES_ALLOCATION
\- QOS_MONITORING
\- QOS_GUARANTEED
\- QOS_NOT_GUARANTEED
\- SUCCESSFUL_RESOURCES_ALLOCATION
\- USAGE_REPORT
\- type: string
# A.4 Ntsctsf_ASTI API
openapi: 3.0.0
info:
title: Ntsctsf_ASTI Service API
version: 1.0.1
description: \|
TSCTSF Access Stratum time distribution configuration Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.565 V17.1.0; 5G System; Time Sensitive Communication and
Time Synchronization Function Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\'
servers:
\- url: \'{apiRoot}/ntsctsf-asti/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- ntsctsf-asti
paths:
/configurations:
post:
summary: Creates a new Individual ASTI Configuration resource.
operationId: ASTIConfiguration
tags:
\- ASTI Configurations (Collection)
requestBody:
description: Contains the information for the creation the resource.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
responses:
\'201\':
description: Successful creation of the resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
headers:
Location:
description: >
Contains the URI of the created individual ASTI Configuration resource,
according to the structure
{apiRoot}/ntsctsf-asti/{apiVersion}/configurations/{configId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/configurations/retrieve:
post:
summary: Request the status of the 5G access stratum time distribution for a
list of UEs.
operationId: RequestStatusof5GAccessStratumTimeDistribution
tags:
\- ASTI Configurations
requestBody:
description: >
Contains the information for the status of the 5G access stratum time
distribution.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusRequestData\'
responses:
\'200\':
description: >
Successful retrieval of the status of the 5G access stratum time distribution.
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusResponseData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/configurations/{configId}:
put:
summary: Modifies an existing Individual ASTI Configuration resource.
operationId: ModifyIndividualASTIConfiguration
tags:
\- Individual ASTI Configuration (Document)
parameters:
\- name: configId
description: String identifying an Individual ASTI Configuration.
in: path
required: true
schema:
type: string
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
responses:
\'200\':
description: OK. Resource was succesfully modified and representation is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
\'204\':
description: No Content. Resource was succesfully modified.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
operationId: DeleteIndividualASTIConfiguration
summary: Delete an Individual ASTI Configuration
tags:
\- Individual ASTI Configuration (Document)
parameters:
\- name: configId
in: path
description: String identifying an Individual ASTI Configuration.
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was successfully deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
ntsctsf-asti: Access to the Ntsctsf_ASTI API
schemas:
AccessTimeDistributionData:
description: >
Contains the parameters for the creation of 5G access stratum time
distribution
configuration.
type: object
properties:
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
interGrpId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
exterGrpId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId\'
asTimeDisParam:
\$ref: \'#/components/schemas/AsTimeDistributionParam\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- asTimeDisParam
oneOf:
\- required: [supis]
\- required: [interGrpId]
\- required: [gpsis]
\- required: [exterGrpId]
AsTimeDistributionParam:
description: Contains the 5G access stratum time distribution parameters.
type: object
properties:
asTimeDisEnabled:
type: boolean
description: >
When this attribute is included and set to true, it indicates that the access
stratum
time distribution via Uu reference point is activated.
timeSyncErrBdgt:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
tempValidity:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
StatusRequestData:
description: >
Contains the parameters for retrieval of the status of the access stratum time
distribution
for a list of UEs.
type: object
properties:
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
oneOf:
\- required: [supis]
\- required: [gpsis]
StatusResponseData:
description: >
Contains the parameters for the status of the access stratum time distribution
for a list of
UEs.
type: object
properties:
inactiveUes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
inactiveGpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
activeUes:
type: array
items:
\$ref: \'#/components/schemas/ActiveUe\'
minItems: 1
ActiveUe:
description: >
Contains the UE identifier whose status of the access stratum time
distribution is active
and the optional requested time synchronization error budget.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
timeSyncErrBdgt:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
oneOf:
\- required: [supi]
\- required: [gpsi]
#