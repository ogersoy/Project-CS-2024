# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present specification describes the protocol for the **NEF Northbound**
interface between the NEF and the AF. The **NEF Northbound** interface and the
related stage 2 functional requirements are defined in 3GPP TS 23.502 [2],
3GPP TS 23.316 [28], 3GPP TS 23.288 [29] and 3GPP TS 23.548 [42].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.502: \"Procedures for the 5G system\".
[3] 3GPP TS 23.501: \"System Architecture for the 5G\".
[4] 3GPP TS 29.122: \"T8 reference point for northbound Application
Programming Interfaces (APIs)\".
[5] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[6] 3GPP TS 33.501: \"Security architecture and procedures for 5G System\".
[7] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[8] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[9] 3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage
3\".
[10] Void.
[11] 3GPP TS 23.222: \"Common API Framework for 3GPP Northbound APIs; Stage
2\".
[12] 3GPP TS 29.222: \"Common API Framework for 3GPP Northbound APIs; Stage
3\".
[13] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[14] 3GPP TS 33.122: \"Security Aspects of Common API Framework for 3GPP
Northbound APIs\".
[15] Void.
[16] Void
[17] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[18] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[19] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy Control
Service; Stage 3\".
[20] 3GPP TS 29.504: \"5G System; Unified Data Repository Services; Stage 3\".
[21] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[22] 3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage
3\".
[23] 3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service
for Policy Control Data, Application Data and Structured Data for Exposure;
Stage 3\".
[24] 3GPP TS 29.541: \"5G System; Network Exposure (NE) function services for
Non-IP Data Delivery (NIDD); Stage 3\".
[25] 3GPP TS 29.542: \"5G System, Session management services for Non-IP Data
Delivery (NIDD); Stage 3\".
[26] 3GPP TS 29.508: \"5G System; Session Management Event Exposure Service;
Stage 3\".
[27] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[28] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G system (5GS)\".
[29] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[30] 3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".
[31] Void
[32] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[33] 3GPP TS 24.588: \"Vehicle-to-Everything (V2X) services in 5G System
(5GS); User Equipment (UE) policies; Stage 3\".
[34] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[35] 3GPP TS 29.515: \"5G System; Gateway Mobile Location Services; Stage 3\".
[36] 3GPP TS 23.273: \"5G System Location Services (LCS)\".
[37] 3GPP TS 33.535: \"**Authentication and Key Management for Applications
(AKMA) based on 3GPP credentials in the 5G System (5GS)** \".
[38] 3GPP TS 29.535: \"5G System; AKMA Anchor Services; Stage 3\".
[39] 3GPP TS 33.220: \"Generic Authentication Architecture (GAA); Generic
Bootstrapping Architecture (GBA)\".
[40] IETF RFC 7542: \"The Network Access Identifier\".
[41] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
[42] 3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".
[43] 3GPP TS 29.534: \"5G System; Access and Mobility Policy Authorization
Service; Stage 3\".
[44] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic Syntax\".
[45] IEEE Std 1588-2019: \"IEEE Standard for a Precision Clock Synchronization
Protocol for Networked Measurement and Control\".
[46] IEEE Std 802.1AS-2020: \"IEEE Standard for Local and metropolitan area
networks--Timing and Synchronization for Time-Sensitive Applications\".
[47] 3GPP TS 29.536: \"5G System; Network Slice Admission Control Services;
Stage 3\".
[48] 3GPP TS 24.526: \"User Equipment (UE) policies for 5G System (5GS); Stage
3\".
[49] 3GPP TS 24.555: \"Proximity based services (ProSe) in 5G system (5GS);
User Equipment (UE) policies; Stage 3\".
[50] 3GPP TS 29.565: \"5G System; Time Sensitive Communication and Time
Synchronization Function Services; Stage 3\".
[51] IEEE 802.1Q: \"Virtual Bridged Local Area Networks\".
[52] 3GPP TS 29.532: \"5G System; 5G Multicast-Broadcast Session Management
Services; Stage 3\".
[53] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services; Stage 2\".
[54] IETF RFC 6733: \"Diameter Base Protocol\".
[55] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[56] 3GPP TS 33.558: \"Security aspects of enhancement of support for enabling
edge applications; Stage 2\".
[57] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[58] 3GPP TS 29.517: \"5G System; Application Function (AF) event exposure
service\".
> [59] 3GPP TS 26.531: \"Data Collection and Reporting; General Description
> and Architecture\".
[60] 3GPP TS 26.532: \"Data Collection and Reporting; Protocols and Formats\".
[61] 3GPP TS 29.564: \"5G System; User Plane Function Services; Stage 3\".
[62] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\".
[63] 3GPP TS 29.537: \"Multicast/Broadcast Policy Control Services; Stage 3\".
[64] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".
[65] 3GPP TS 26.502: \"5G multicast--broadcast services; User Service
architecture\".
[66] 3GPP TS 29.580: \"Multicast/Broadcast Service Function Services; Stage
3\".
[67] 3GPP TS 26.512: \"5G Media Streaming (5GMS); Protocols\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Application AM context:** Information about the capabilities that an AF
application requires from the access network for a registered UE. It is
established by the AF before or during the use of the service that requires
it.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
A-KID AKMA Key IDentifier
A-TID _AKMA Temporary UE IDentifier_
AAnF AKMA Anchor Function
ACS Auto-Configuration Server
AF Application Function
AKMA Authentication and Key Management for Applications
AM Access and Mobility management
ASTI Access Stratum TIme distribution
BDT Background Data Transfer
CAPIF Common API Framework
CP Communication Pattern
DN Data Network
DNAI DN Access Identifier
DNN Data Network Name
EAS Edge Application Server
ECS Edge Configuration Server
FQDN Fully Qualified Domain Name
GMLC Global Mobile Location Centre
GPSI Generic Public Subscription Identifier
IPTV Internet Protocol Television
K~AF~ AKMA Application Key
**MBS** Multicast/Broadcast Service
MB-SMF Multicast/Broadcast Session Management Function
MO-LR Mobile Originated Location Request
NEF Network Exposure Function
NSAC Network Slice Admission Control
NSACF Network Slice Admission Control Function
PCF Policy Control Function
PCRF Policy and Charging Rule Function
PFD Packet Flow Description
PFDF Packet Flow Description Function
REST Representational State Transfer
SCEF Service Capability Exposure Function
S-NSSAI Single Network Slice Selection Assistance Information
SSM Source Specific IP Multicast address
TAI Traffic Area Identity
TMGI Temporary Mobile Group Identity
TSC Time Sensitive Communication
TSCAI Time Sensitive Communication Assistance Information
TSCTSF Time Sensitive Communication and Time Synchronization Function
UDR Unified Data Repository
UP User Plane
URSP UE Route Selection Policy
WB Wide Band
# 4 **NEF Northbound** Interface
## 4.1 Overview
The **NEF Northbound** interface is between the NEF and the AF. It specifies
RESTful/RPC APIs that allow the AF to access the services and capabilities
provided by 3GPP network entities and securely exposed by the NEF.
This document also specifies the procedures triggered at the NEF by API
requests from the AF and by event notifications received from 3GPP network
entities.
The stage 2 level requirements and signalling flows for the **NEF Northbound**
interface are defined in 3GPP TS 23.502 [2], 3GPP TS 23.247 [53] for MBS
specific aspects and 3GPP TS 26.531 [59] for data reporting provisioning and
Media Streaming Event Exposure specific aspects.
The **NEF Northbound** interface supports the following procedures:
1) Procedures for Monitoring
2) Procedures for Device Triggering
3) Procedures for resource management of Background Data Transfer
4) Procedures for CP Parameters, Network Configuration Parameters
Provisioning, 5G LAN Parameters Provisioning, ACS Configuration Parameter
Provisioning, Location Privacy Indication Parameters Provisioning and ECS
address provisioning
5) Procedures for PFD Management
6) Procedures for Traffic Influence
7) Procedures for changing the chargeable party at session set up or during
the session
8) Procedures for setting up an AF session with required QoS
9) Procedures for MSISDN-less Mobile Originated SMS
10) Procedures for non-IP data delivery
11) Procedures for analytics information exposure
12) Procedure for applying BDT policy
13) Procedures for Enhanced Coverage Restriction Control
14) Procedures for IPTV Configuration
15) Procedures for Service Parameter Provisioning
16) Procedures for RACS Parameter Provisioning
17) Procedures for Mobile Originated Location Request
18) Procedures for AKMA
19) Procedures for AF triggered Access and Mobility Influence
20) Procedures for AF triggered Access and Mobility Policy Authorization
21) Procedures for Time Synchronization Exposure
22) Procedures for EAS Deployment information provisioning
23) Procedures for TMGI allocation, deallocation, expiry timer refresh and
timer expiry notification
24) Procedures for MBS session management and parameters provisioning.
25) Procedures for Data Reporting.
26) Procedures for Data Reporting Provisioning.
27) Procedures for AF specific UE ID retrieval.
28) Procedures for Media Streaming Event Exposure.
29) Procedures for MBS User Service management.
30) Procedures for MBS User Data Ingest Session management.
Which correspond to the following services respectively, supported by the NEF
as defined in 3GPP TS 23.502 [2] or 3GPP TS 26.531 [59]:
1) Nnef_EventExposure service and Nnef_APISupportCapability service
2) Nnef_Trigger service
3) Nnef_BDTPNegotiation service
4) Nnef_ParameterProvision service
5) Nnef_PFDManagement service
6) Nnef_TrafficInfluence service
7) Nnef_ChargeableParty service
8) Nnef_AFsessionWithQoS service
9) Nnef_MSISDN-less_MO_SMS service
10) Nnef_NIDDConfiguration and Nnef_NIDD services
11) Nnef_AnalyticsExposure service
12) Nnef_ApplyPolicy service
13) Nnef_ECRestriction service
14) Nnef_IPTVConfiguration service
15) Nnef_ServiceParameter service
16) Nnef_UCMFProvisioning service
17) Nnef_Location service
18) Nnef_AKMA service
19) Nnef_AMInfluence
20) Nnef_AMPolicyAuthorization service
21) Nnef_TimeSynchronization and Nnef_ASTI services
22) Nnef_EASDeployment service
23) Nnef_MBSTMGI service
24) Nnef_MBSSession service
> 25) Nnef_DataReporting
>
> 26) Nnef_DataReportingProvisioning
27) Nnef_UEId service
28) Nnef_MSEventExposure service
29) Nnef_MBSUserService
30) Nnef_MBSUserDataIngestSession
NOTE 1: For Nnef_PFDManagement service, only the
Nnef_PFDManagement_Create/Update/Delete service operations are applicable for
the NEF Northbound interface.
NOTE 2: For Nnef_NIDD service, NF consumer other than the AF does not use the
NEF Northbound interface.
NOTE 3: For Nnef_NIDDConfiguration service, the Nnef_NIDDConfiguration_Trigger
service operation is only applicable for the NEF Northbound interface.
NOTE 4: The Nnef_APISupportCapability service is only applicable in the
MonitoringEvent API when the monitoring type sets to
\"API_SUPPORT_CAPABILITY\".
NOTE 5: The Nnef_MSEventExposure service maps to the Nnef_EventExposure
service and is applicable for the case where the event consumer AF in the
Application Service Provider is deployed outside the trusted domain, as
described in 3GPP TS 26.531 [59], and the subscribed event is set to
\"MS_QOE_METRICS\", \"MS_CONSUMPTION\", \"MS_NET_ASSIST_INVOCATION\",
\"MS_DYN_POLICY_INVOCATION\", or \"MS_ACCESS_ACTIVITY\".
## 4.2 Reference model
The **NEF Northbound** interface resides between the NEF and the AF as
depicted in figure 4.2.1. The overall NEF architecture is depicted in 3GPP TS
23.502 [2]. An AF can get services from multiple NEFs, and an NEF can provide
services to multiple AFs.
NOTE: The AF can be provided by a third party.
Figure 4.2-1: Reference Architecture for the Nnef Service; SBI representation
Figure 4.2-2: Reference Architecture for the Nnef Service; reference point
representation
## 4.3 Functional elements
### 4.3.1 NEF
The Network Exposure Function (NEF) is a functional element that supports the
following functionalities:
\- The NEF shall securely expose network capabilities and events provided by
3GPP NFs to AF.
\- The NEF shall provide means for the AF to securely provide information to
3GPP network and may authenticate, authorize and assist in throttling the AF.
\- The NEF shall be able to translate the information received from the AF to
the one sent to internal 3GPP NFs, and vice versa.
\- The NEF shall support to expose information (collected from other 3GPP NFs)
to the AF.
\- The NEF may support a PFD Function which allows the AF to provision PFD(s)
and may store and retrieve PFD(s) in the UDR. The NEF further provisions
PFD(s) to the SMF.
\- The NEF may support the time synchronization exposure function to the AF.
\- The NEF may provide means for the AF to influence access and mobility
management related policies.
\- The NEF may provide means for the AF to provide inputs that can be used by
the PCF for deciding access and mobility management related policies.
\- The NEF may provide means for the AF to provide the EAS Deployment
information.
\- The NEF may provide means for the AF to retrieve AF specific UE ID.
\- The NEF may provide means for an untrusted event consumer AF to perform
Media Streaming Event Exposure monitoring.
A specific NEF instance may support one or more of the functionalities
described above and consequently an individual NEF may support a subset of the
APIs specified for capability exposure.
NOTE: The NEF can access the UDR located in the same PLMN as the NEF.
### 4.3.2 AF
The Application Function (AF) may interact with the 3GPP Core Network via the
NEF in order to access network capabilities.
## 4.4 Procedures over **NEF Northbound** Interface
### 4.4.1 Introduction
All procedures that operate across the **NEF Northbound** interface, as
specified in 3GPP TS 23.502 [2], and in 3GPP TS 23.247 [53] for MBS specific
aspects, are specified in the following clauses.
### 4.4.2 Procedures for Monitoring
The procedures for monitoring as described in clause 4.4.2 of 3GPP TS 29.122
[4] shall be applicable in 5GS with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM, and the NEF shall interact with
the UDM by using Nudm_EventExposure service as defined in 3GPP TS 29.503 [17];
\- description of the MME/SGSN applies to the AMF, the NEF shall resolve a
location area to the involved AMF(s) either by local configuration or via the
NRF, and the NEF shall interact with the AMF by using Namf_EventExposure
service as defined in 3GPP TS 29.518 [18];
\- description about the PCRF is not applicable;
\- description about the change of IMSI-IMEI(SV) association monitoring event
applies to the change of SUPI-PEI association monitoring event;
\- when \"monitoringType\" sets to \"LOCATION_REPORTING\" within the
MonitoringEventSubscription data type as defined in clause 5.3.2.1.2 of 3GPP
TS 29.122 [4] during the monitoring event subscription, only \"CGI_ECGI\",
\"TA_RA\", \"GEO_AREA\" and \"CIVIC_ADDR\" within the Accuracy data type as
defined in clause 5.3.2.4.7 of 3GPP TS 29.122 [4], are applicable for 5G
MonitoringEvent API;
\- after validation of the AF request, the NEF may determine a monitoring
expiry time, based on operator policy and take into account the monitoring
expire time if included in the request; and the NEF may provide a expiry time
(determined by the NEF, UDM or AMF) to the AF even the AF does not provided
before;
\- if the \"Loss_of_connectivity_notification\" feature as defined in clause
5.3.4 of 3GPP TS 29.122 [4] is supported, values 0-5 are not applicable for
the lossOfConnectReason attribute within MonitoringEventReport data type, the
lossOfConnectReason attribute shall be set to 6 if the UE is deregistered, 7
if the maximum detection timer expires or 8 if the UE is purged;
\- the AF may include a periodic reporting time indicated by the \"repPeriod\"
attribute within MonitoringEventSubscription data type, which is only
applicable for the \"Location_notification\" and \"NSAC\" features in the NEF;
\- if the \"locationType\" attribute sets to \"LAST_KNOWN_LOCATION\", the
\"maximumNumberOfReports\" attribute shall set to 1 as a One-time Monitoring
Request;
\- description about the PDN connectivity status event applies to the PDU
session status event, the description of the MME/SGSN applies to the SMF
during the reporting of monitoring event procedure, the NEF receives the event
notification via Nsmf_EventExposure service as defined in 3GPP TS 29.508 [26];
\- if the \"Session_Management_Enhancement\" feature as defined in clause
5.3.4 of 3GPP TS 29.122 [4] is supported, the \"dnn\"and/or \"snssai\" may be
provided in MonitoringEventSubscription data type for monitoring type provided
\"PDN_CONNECTIVITY_STATUS\" or \" DOWNLINK_DATA_DELIVERY_STATUS\";
\- when sending the UDM/AMF/SMF event report to the AF, the NEF may store the
event data in the report in the UDR as part of the data for exposure as
specified in 3GPP TS 29.519 [23] by using Nudr_DataRepository service as
specified in 3GPP TS 29.504 [20];
\- if the \"Downlink_data_delivery_status_5G\" feature as defined in clause
5.3.4 of 3GPP TS 29.122 [4] is supported, in order to support the downlink
data delivery status notification;
1) the AF shall send an HTTP POST message to the NEF to the resource
\"Monitoring Event Subscriptions\" as defined in clause 5.3.3.2 of 3GPP TS
29.122 [4] for creating an subscription or send an HTTP PUT message to the NEF
to the resource \"Individual Monitoring Event Subscription\" as defined in
clause 5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
following difference:
A)within the MonitoringEventSubscription data structure the AF may
additionally include packet filter descriptor(s) within the
\"dddTraDescriptors\" attribute and the list of monitoring downlink data
delivery status event(s) within the \"dddStati\" attribute; and
B)the NEF shall subscribe the events to the appropriate UDM(s) within the
network by invoking the Nudm_EventExposure_Subscribe service operation as
defined in clause 5.5.2.2 of 3GPP TS 29.503 [17];
2)if the \"Partial_group_modification\" feature as defined in clause 5.3.4 of
3GPP TS 29.122 [4] is supported, in order to support partial cancellation or
addition of certain UE(s) within the active group event subscription, the NEF
shall map the \"excludedExternalIds\" and/or \"excludedMsisdns\" attributes to
the \"excludeGpsiList\" attribute for the partial group cancellation, or shall
map the \"addedExternalIds\" and/or \"addedMsisdns\" attributes to the
\"includeGpsiList\" attribute within the Nudm_EventExposure service; and
3)when the NEF receives the event notification as defined in clause 4.4.2 of
3GPP TS 29.508 [26], the NEF shall send an HTTP POST message to the AF as
defined in clause 4.4.2.3 of 3GPP TS 29.122 [4] with the difference that
within each MonitoringEventReport data structure, the NEF shall include:
A)the downlink data delivery status within the \"dddStatus\" attribute;
B)the downlink data descriptor impacted by the downlink data delivery status
change within the \"dddTraDescriptor\" attribute;
C)the estimated buffering time within the \"maxWaitTime\" attribute if the
downlink data delivery status is set to \"BUFFERED\"; and
D)if the \"Availability_after_DDN_failure_notification_enhancement\" feature
as defined in clause 5.3.4 of 3GPP TS 29.122 [4] is supported, the AF shall
send an HTTP POST message to the NEF to the resource \"Monitoring Event
Subscriptions\" as defined in clause 5.3.3.2 of 3GPP TS 29.122 [4] for
creating an subscription or send an HTTP PUT message to the NEF to the
resource \"Individual Monitoring Event Subscription\" as defined in clause
5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
difference that within the MonitoringEventSubscription data structure, the AF
shall include packet filter descriptions within the \"dddTraDescriptors\"
attribute;
\- if the \"eLCS\" feature as defined in clause 5.3.4 of 3GPP TS 29.122 [4] is
supported, the AF may send an HTTP POST message to the NEF to the resource
\"Monitoring Event Subscriptions\" as defined in clause 5.3.3.2 of 3GPP TS
29.122 [4] for creating an subscription or send an HTTP PUT message to the NEF
to the resource \"Individual Monitoring Event Subscription\" as defined in
clause 5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
following difference:
1)within the MonitoringEventSubscription data structure, the AF may
additionally include location QoS requirement within the \"locQoS\" attribute,
the service identifier within the \"svcId\" attribute, Location deferred
requested event type within the \"ldrType\" attribute, the validity start time
and the validity end time within the \"locTimeWindow\" attribute, the maximum
age of location estimate within the \"maxAgeOfLocEst\" attribute, the
requesting target UE velocity within the \"velocityRequested\" attribute, the
linear distance within the \"linearDistance\" attribute, the reporting target
UE location estimate indication within the \"reportingLocEstInd\" attribute,
the sampling interval within the \"samplingInterval\" attribute, the maximum
reporting expire interval within the \"maxRptExpireIntvl\" attribute, the
supported GAD shapes within the \"supportedGADShapes\" attribute, the Code
word within the \"codeword\" attribute, and other attributes as defined in
clause 5.3.2.3.2 of 3GPP TS 29.122 [4] for location information subscription;
The MonitoringEventSubscription data structure may also include the
\"locationArea5G\" attribute containing only the \"geographicAreas\" attribute
and the \"accuracy\" attribute set to the value \"GEO_AREA\". The \"accuracy\"
attribute and \"locQoS\" attribute are mutually exclusive. If the \"MULTIQOS\"
feature is also supported, Multiple QoS Class is supported in the
\"lcsQosClass\" attribute within the \"locQoS\" attribute for deferred MT-LR;
2)if the NEF identifies the location request precision higher than cell level
location accuracy is required based on the \"locQoS\" attribute received, the
NEF shall interact with the appropriate GMLC within the network by invoking
the Ngmlc_Location_ProvideLocation service operation as defined in clause 6.1
of 3GPP TS 29.515 [35];
3)if the location request precision is lower than or equal to cell level,
based on implementation, the NEF may interact with the GMLC by invoking the
Ngmlc_Location_ProvideLocation service operation as defined in clause 6.1 of
3GPP TS 29.515 [35]; or retrieve the UE location privacy information from the
UDM by using Nudm_SDM service as described in clause 5.2 of 3GPP TS 29.503
[17] and if the privacy setting is verified, the NEF shall interact with the
UDM for the serving AMF address by invoking the Nudm_UECM service as described
in clause 5.3 of 3GPP TS 29.503 [17]. After receiving the serving AMF address
from the UDM, the NEF shall interact with the AMF by invoking the
Namf_EventExposure_Subscribe service operation as defined in clause 5.3 of
3GPP TS 29.518 [18]; or may interact with UDM by using Nudm_EventExposure
service as defined in clause 5.5 of 3GPP TS 29.503 [17] and the NEF receives
the location event notification from the AMF via Namf_EventExposure service as
defined in in clause 5.5 of 3GPP TS 29.518 [18]; and
4)based on the received AF information and local authorization policy, the NEF
shall derive the LCS client type with a suitable enumeration value for the AF
location request, to be provided as the \"externalClientType\" attribute when
invoking the Ngmlc_Location_ProvideLocation service operation as defined in
clause 6.1 of 3GPP TS 29.515 [35];
Upon receipt of successful location response from the GMLC or the AMF or the
UDM, the NEF shall create or update the \"Individual Monitoring Event
Subscription\" resource and then send an HTTP POST or PUT response to the AF
as defined in clause 4.4.2.2 of 3GPP TS 29.122 [4]. Upon receipt of the
location Report from the GMLC or the AMF, the NEF shall determine the
monitoring event subscription associated with the corresponding Monitoring
Event Report as defined in clause 4.4.2.3 of 3GPP TS 29.122 [4].
In order to delete a previous active configured monitoring event subscription
at the NEF, the AF shall send an HTTP DELETE message to the NEF to the
resource \"Individual Monitoring Event Subscription\" which is received in the
response to the request that has created the monitoring events subscription
resource. The NEF shall interact with the GMLC or the AMF or the UDM to remove
the request, upon receipt of the successful response from the GMLC or the AMF
or the UDM, the NEF shall delete the active resource \"Individual Monitoring
Event Subscription\" addressed by the URI and send an HTTP response to the AF
with a \"204 No Content\" status code, or a \"200 OK\" status code including
the monitoring event report if received;
\- Based on local regulations\' requirements and operator policies, user
consent management specified in Annex V of 3GPP TS 33.501 [6] may be required
for EDGE applications to access the Nnef_EventExposure API for UE\'s location
retrieval. When it is the case and the NEF is used by the Edge Enabler Layer
entities to access 3GPP 5GC services, the NEF acts as the consent enforcement
entity, as specified in clause 5.1.3 of 3GPP TS 33.558 [56];
> When user consent management shall be carried out for EDGE applications,
> then:
1)if the AF (e.g. Edge Enabler Server) does not support the
\"UserConsentRevocation\" feature or does not indicate its support for this
feature in the HTTP POST request to create a new \"Individual Monitoring Event
Subscription\" resource with the \"monitoringType\" attribute set to
\"LOCATION_REPORTING\", the NEF shall reject the request and respond to the AF
with an HTTP \"403 Forbidden\" status code with the response body including a
ProblemDetails data structure containing the
\"CONSENT_REVOCATION_NOT_SUPPORTED\" application error within the \"cause\"
attribute;
2)if the AF indicates its support for the \"UserConsentRevocation\" feature in
the HTTP POST request to create a new \"Individual Monitoring Event
Subscription\" resource with the \"monitoringType\" attribute set to
\"LOCATION_REPORTING\", the NEF shall check user consent for the targeted
UE(s) by retrieving the user consent subscription data via the Nudm_SDM
service API of the UDM as specified in clause 5.2.2.2.24 of 3GPP TS 29.503
[17], subscribe to user consent revocation notifications only for those UE(s)
for which user consent is granted also using the Nudm_SDM service API of the
UDM and accept the request for the creation of the event monitoring
subscription only for the UE(s) for which user consent is granted;
3)if user consent is not granted for all the targeted UE(s), the NEF shall
reject the request and respond to the AF with an HTTP \"403 Forbidden\" status
code with the response body including a ProblemDetails data structure
including the \"USER_CONSENT_NOT_GRANTED\" application error within the
\"cause\" attribute;
4)the AF shall provide within the HTTP POST request to create a new event
monitoring subscription the URI via which it desires to receive user consent
revocation notifications within the \"revocationNotifUri\" attribute. The AF
may update this URI in subsequent HTTP PUT/PATCH requests to update/modify the
corresponding \"Individual Monitoring Event Subscription\" resource;
5)when becoming aware of user consent revocation for one or several UE(s), the
NEF shall:
A)stop processing the data related to the concerned UE(s);
B)send a user consent revocation notification to the AF by sending an HTTP
POST request with the request body including the ConsentRevocNotif data
structure that shall contain the user consent revocation information (e.g.
UE(s) for which user consent was revoked, etc.); and
C)remove the concerned UE(s) from the corresponding \"Individual Monitoring
Event Subscription\" resource and from the related subscriptions at the GMLC,
if any; and
D)unsubscribe from user consent revocation notifications for the concerned
UE(s) at the UDM;
and
6)at the reception of the user consent revocation notification from the NEF,
the AF shall take the necessary actions to stop processing the data related to
the UE(s) for which user consent was revoked;
\- if user consent is revoked for all the UE(s), the AF shall delete the
corresponding \"Individual Monitoring Event Subscription\" resource as
specified above in this clause.
\- if the \"NSAC\" feature defined in clause 5.3.4 of 3GPP TS 29.122 [4] is
supported, in order to support network slice status reporting:
1)the AF shall send an HTTP POST request to the NEF to the \"Monitoring Event
Subscriptions\" resource as defined in clause 5.3.3.2.3.4 of 3GPP TS 29.122
[4] to create a subscription, or send an HTTP PUT message to the NEF to the
\"Individual Monitoring Event Subscription\" resource as defined in clause
5.3.3.3.3.2 of 3GPP TS 29.122 [4] to update an existing subscription with the
following differences:
A)within the MonitoringEventSubscription data structure:
a) either the concerned network slice identified by the \"snssai\" attribute,
in the case of a trusted AF, or the AF service identifier within the
\"afServiceId\" attribute, in the case of an untrusted AF, shall be provided;
b) the value of the \"monitoringType\" attribute shall be set to
\"NUM_OF_REGD_UES\" to indicate that the AF requests to be notified of the
current number of registered UEs for the network slice or
\"NUM_OF_ESTD_PDU_SESSIONS\" to indicate that the AF requests to be notified
of the current number of established PDU Sessions for the network slice;
c) the \"maximumNumberOfReports\" attribute set to a value of 1 shall be
provided, if one-time reporting of the current network slice status
information is requested;
d) if one-time reporting is not requested, either a targeted reporting
threshold within the \"tgtNsThreshold\" attribute (if threshold based
reporting is requested) or a reporting periodicity within the \"repPeriod\"
attribute (if periodic reporting is requested) shall be provided;
e) if periodic reporting or one-time reporting is requested, the
\"nsRepFormat\" attribute shall be provided to indicate the requested
reporting format (i.e. numerical or percentage); and
f) the \"immediateRep\" attribute shall be set to \"true\", if immediate
reporting of the current network slice status information is requested or one-
time reporting of the current network slice status information is requested;
2)the NEF shall then further interact with the concerned NSACF(s) to create or
update the associated subscription(s) to notifications by invoking the
Nnsacf_SliceEventExposure_Subscribe service operation as specified in 3GPP TS
29.536 [47];
> If an AF service identifier was provided by the AF (case of an untrusted
> AF), the NEF shall translate it into the corresponding S-NSSAI prior to
> sending the request(s) to the NSACF(s).
>
> After receiving a successful response from the NSACF(s), the NEF shall:
NOTE 1: If multiple NSACFs are selected for the requested S-NSSAI, the NEF can
set the event reporting type to periodic in its request to these NSACFs,
irrespective of the requested reporting type by the AF (i.e. threshold based
reporting or periodic reporting).
A)for the HTTP POST request, respond to the AF as defined in clause
5.3.3.2.3.4 of 3GPP TS 29.122 [4] with either;
a)a \"201 Created\" status code and the response body containing the created
\"Individual Monitoring Event Subscription\" resource within the
MonitoringEventSubscription data structure. The NEF shall include the current
network slice status information received from the NSACF within the
\"monitoringEventReport\" attribute, if available and the \"immediateRep\"
attribute was provided and set to \"true\" in the request; or
b)a \"200 OK\" status code and the response body containing the current
network slice status information received from the NSACF within the
\"MonitoringEventReport\" data structure, if it is a one-time reporting
request with the \"immediateRep\" attribute set to \"true\"; and
B)for the HTTP PUT request, respond to the AF with a \"200 OK\" status code as
defined in clause 5.3.3.3.3.2 of 3GPP TS 29.122 [4] and the response body
including the MonitoringEventSubscription data structure containing a
representation of the updated \"Individual Monitoring Event Subscription\"
resource. The NEF shall include the current network slice status information
received from the NSACF within the \"monitoringEventReport\" attribute, if
available and the \"immediateRep\" attribute was provided and set to \"true\"
in the request;
NOTE 2: When the \"maximumNumberOfReports\" attribute is provided and set to a
value of 1 and the \"immediateRep\" attribute is provided and set to \"true\",
the Individual Monitoring Event Subscription is immediately terminated after
returning the current network slice status information in the HTTP POST
response body.
NOTE 3: After sending a subscription creation request for network slice status
reporting with a particular reporting format (e.g. percentage) for periodic
reporting, an AF cannot send a subsequent subscription creation request for
the same network slice with a different reporting format (e.g. numerical) for
periodic reporting.
3)when the NEF receives event report(s) from the NSACF(s) as defined in 3GPP
TS 29.536 [47], the NEF shall notify the AF via an HTTP POST message as
defined in clause 5.3.3A.2.3 of 3GPP TS 29.122 [4] with the following
differences:
A)within the MonitoringEventReport data type of the MonitoringNotification
data type;
a)the value of the \"monitoringType\" attribute shall be set to
\"NUM_OF_REGD_UES\" or \"NUM_OF_ESTD_PDU_SESSIONS\" (i.e. the same value
received during the HTTP POST or PUT request that created or modified the
subscription);
b)the AF service identifier to which the notification is related, within the
\"afServiceId\" attribute, if it was provided by the AF in the related
subscription request; and
c)the current network slice status information as the \"nSStatusInfo\"
attribute shall be provided, wherein:
I)if the event reporting is threshold based (i.e. the \"tgtNsThreshold\" was
provided within the MonitoringEventSubscription data type), the
\"nSStatusInfo\" attribute shall contain a confirmation for reaching the
targeted threshold value, i.e. by sending the current number of registered UEs
or the current number of established PDU Sessions, for the network slice
identified by the \"snssai\" attribute provided during the subscription
creation/update; and
II)if the event reporting is periodical (i.e. the \"repPeriod\" was provided
within the MonitoringEventSubscription data type), the \"nSStatusInfo\"
attribute shall provide the current network slice status information, i.e. the
current number of registered UEs or the current number of established PDU
Sessions for the network slice identified by the \"snssai\" attribute provided
during the subscription creation/update; and
NOTE 4: The handling of threshold based notifications is described in clause
4.15.3.2.10 of 3GPP TS 23.502 [2].
NOTE 5: If the NEF interacts with multiple NSACFs for the requested S-NSSAI,
the NEF performs the aggregation of the received network slice status reports
from all these NSACFs and determines based on that whether a notification
towards the subscribing AF needs to be sent or not (i.e. the reporting
conditions to trigger a notification towards the AF are fulfilled or not).
4)in order to unsubscribe from network slice status reporting, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Monitoring
Event Subscription\" as defined in clause 5.3.3.3.3.5 of 3GPP TS 29.122 [4] to
delete an existing network slice reporting subscription. Then the NEF shall
interact with the NSACF to delete the associated subscription to notifications
by invoking the Nnsacf_SliceEventExposure_Unsubscribe service operation as
specified in 3GPP TS 29.536 [47]; and
\- if the \"UEId_retrieval\" feature defined in clause 5.3.4 of 3GPP TS 29.122
[4] is supported, in order to support AF specific UE ID retrieval:
1) the AF may request AF specific UE ID retrieval for an individual UE, by
providing the UE\'s IP address in the \"ueIpAddr\" attribute or the UE\'s MAC
address in the \"ueMacAddr\" attribute within the MonitoringEventSubscription
data type;
2) the AF may also provide the DNN, within the \"dnn\" attribute, and/or the
S-NSSAI, within the \"snssai\" attribute, in the MonitoringEventSubscription
data type;
3) upon reception of the corresponding subscription request message from the
AF, the NEF shall check whether the AF is authorized to perform this operation
or not:
\- if the AF\'s request is not authorized, the NEF shall respond to the AF
with a \"403 Forbidden\" status code with the response body including the
ProblemDetails data structure containing the \"cause\" attribute set to the
\"REQUEST_NOT_AUTHORIZED\" application error indicating AF authorisation
failure; and
\- if the AF request is authorized by the NEF, then if the DNN and/or S-NSSAI
information is not available in the request, the NEF shall determine the
corresponding DNN and/or S-NSSAI information based on the received requesting
AF Identifier, and if provided, the MTC Provider Information;
4) the NEF shall then interact with the BSF using the UE address and IP domain
(if the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the
session binding information of the UE by invoking the
Nbsf_Management_Discovery service operation as described in 3GPP TS 29.521
[9];
5) if the NEF receives an error response from the BSF, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found;
6) upon success and a SUPI is returned by the BSF, the NEF shall then interact
with the UDM to retrieve the AF specific UE Identifier using the received SUPI
and at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service as described in clause
5.2.2.2 of 3GPP TS 29.503 [17];
7) upon success, the UDM responds to the NEF with an AF specific UE Identifier
represented as an External Identifier for the UE which is uniquely associated
with the MTC provider Information and/or AF Identifier. The NEF shall then
respond to the AF with the received information, i.e. the AF specific UE
Identifier represented as an External Identifier that was received from the
UDM;
8) if the NEF receives an error response from the UDM, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE 6: The case where the UE\'s IP address provided by the AF to the NEF
corresponds to an IP address that has been NATed (Network and Port Address
Translation) is not supported in this release of the specification.
### 4.4.3 Procedures for Device Triggering
The procedures for device triggering as described in clause 4.4.6 of 3GPP TS
29.122 [4] shall be applicable in 5G with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using the
Nudm_SubscriberDataManagement service and the Nudm_UEContextManagement service
as defined in 3GPP TS 29.503 [17]; and
\- the NEF acts as MTC-IWF.
### 4.4.4 Procedures for resource management of Background Data Transfer
The procedures for resource management of Background Data Transfer (BDT) in
5GS are described in clause 4.4.3 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- If the feature Group_Id is supported, an external group identifier may be
included in the HTTP POST or PUT request message by the NEF. If the external
group Id is sent from the AF to the NEF, the NEF shall interact with the UDM
by using Nudm_SubscriberDataManagement service as defined in 3GPP TS 29.503
[17] to translate the external group identifier into the corresponding
internal group identifier;
\- description of the PCRF applies to the PCF;
\- the NEF shall interact with the PCF by using Npcf_BDTPolicyControl service
as defined in 3GPP TS 29.554 [19];
\- if the \"BdtNotification_5G\" feature is supported, the AF may include a
notification URI within the \"notificationDestination\" attribute in the Bdt
data type during the background data transfer policy negotiation. In addition,
the AF may request to enable the BDT warning notification by setting the
\"warnNotifEnabled\" attribute to true. When the NEF receives the BDT warning
notification from the PCF as defined in clause 4.2.4.2 of 3GPP TS 29.554 [19]
and the \"warnNotifEnabled\" attribute was set to true, the NEF shall send an
HTTP POST message including the ExNotification data structure to the AF
identified by the notification destination URI received during the background
data transfer policy negotiation. The AF shall respond with an HTTP response
to confirm the received notification. The AF may select one policy from the
candidate of BDT policies if provided in the notification by using the HTTP
PATCH message as described in clause 5.4.3.3.3.3 of 3GPP TS 29.122 [4]. If the
selected policy is set to value \"0\" within the \"selectedPolicy\" attribute
in the HTTP PATCH message, it implies no transfer policy is selected by the
AF. The AF may also request to disable/enable the BDT warning notification by
including the \"warnNotifEnabled\" attribute in the HTTP PATCH message; and
\- The AF may include a traffic descriptor of background data within the
\"trafficDes\" attribute in the Bdt data type during the background data
transfer policy negotiation.
### 4.4.5 Procedures for CP Parameters Provisioning
The procedures for CP parameters provisioning as described in clause 4.4.9 of
3GPP TS 29.122 [4] shall be applicable in 5G with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17];
\- if the ExpectedUMT_5G feature as defined in clause 5.10.4 of 3GPP TS 29.122
[4] is supported, the expected UE moving trajectory within the
\"expectedUmts\" attribute shall also be included in the HTTP POST/PUT
request. In addition, if the ExpectedUmtTime_5G feature as defined in clause
5.10.4 of 3GPP TS 29.122 [4] is supported, the start time and duration may be
provided in the \"expectedUmts\" attribute to indicate when the UE arrives at
a location and how long the UE stays in the location and the periodicity in
the \"expectedUmtDays\" attribute may be provided to indicate the effective
days within a week; and
\- if the \"UEId_retrieval\" feature defined in clause 5.10.4 of 3GPP TS
29.122 [4] is supported, in order to support the AF specific UE ID retrieval:
1) the AF may request AF specific UE ID retrieval for an individual UE, by
providing the UE\'s IP address in the \"ueIpAddr\" attribute or the UE\'s MAC
address in the \"ueMacAddr\" attribute within the CpInfo data type;
2) the AF may also provide the DNN, within the \"dnn\" attribute, and/or the
S-NSSAI, within the \"snssai\" attribute, within the CpInfo data type;
3) upon reception of the corresponding request message from the AF:
\- if the AF\'s request is not authorized, the NEF shall respond to the AF
with a \"403 Forbidden\" status code with the response body including the
ProblemDetails data structure containing the \"cause\" attribute set to the
\"REQUEST_NOT_AUTHORIZED\" application error indicating AF authorisation
failure; and
\- if the AF\'s request is authorized by the NEF, then if the DNN and/or
S-NSSAI information is not available in the request, the NEF shall determine
the corresponding DNN and/or S-NSSAI information based on the received
requesting AF Identifier, and if provided, the MTC Provider Information;
4) the NEF shall interact using the the BSF with UE address and IP domain (if
the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the session
binding information of the UE by invoking the Nbsf_Management_Discovery
service operation as described in 3GPP TS 29.521 [9];
5) if the NEF receives an error response from the BSF, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found;
6) upon success and a SUPI is returned by the BSF, the NEF shall interact with
the UDM to retrieve the AF specific UE Identifier using the received SUPI and
at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service as described in clause
5.2.2.2 of 3GPP TS 29.503 [17];
7) upon success, the UDM responds to the NEF with the AF specific UE
Identifier represented as an External Identifier for the UE which is uniquely
associated with the MTC provider Information and/or AF Identifier. The NEF
shall then respond to the AF with the received information, i.e. the AF
specific UE Identifier represented as an External Identifier that was received
from the UDM;
8) if the NEF receives an error response from the UDM, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE: The case where UE\'s IP address provided by the AF to the NEF
corresponds to an IP address that has been NATed (Network and Port Address
Translation) is not supported in this release of the specification.
### 4.4.6 Procedures for PFD Management
The procedures for PFD management as described in clause 4.4.10 of 3GPP TS
29.122 [4] shall be applicable for 5GS with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF; and
\- the NEF (PFDF) shall interact with the UDR for PFD management by using
Nudr_DataRepository service as defined in 3GPP TS 29.504 [20]. The PFDF is
functionality within the NEF.
\- If the PFDs are provisioned to at least one of the subscribed SMFs (but not
all) within the allowed delay, the NEF (PFDF) may notify the AF about the
failed PFD provisioning with the HTTP POST message by including the PfdReport
data structure in the body of the message. In addition, the NEF may include
the location area(s) of the user plane(s) which are unable to enforce the
provisioned PFD(s) within the \"locationArea\" attribute of the PFD report(s).
If the PFDs are provisioned to none of the subscribed SMFs within the allowed
delay, the NEF (PFDF) shall notify the AF about the failed PFD provisioning
with the HTTP POST message using appropriate failure code as defined in Table
5.11.2.2.3-1 of 3GPP TS 29.122 [4].
NOTE 1: Unsuccessful PFDs provisioning to the subscribed SMFs within the
allowed delay means that the PFDs are not provisioned successfully to the UPFs
served by the failed SMFs.
NOTE 2: The NEF maps the 3GPP network area(s) to the geographic area(s), civic
address(es) or DNAI(s) if the 3GPP network area(s) is not allowed to be
exposed to the 3rd party according to the operator policy.
### 4.4.7 Procedures for Traffic Influence
#### 4.4.7.1 General
In order to create a resource for the Traffic Influence, the AF shall send an
HTTP POST message to the NEF to the resource \"Traffic Influence
Subscription\", the body of the HTTP POST message may include the AF Service
Identifier, external Group Identifier, any UE Indication, the UE address,
GPSI, DNN, S-NSSAI, Application Identifier or traffic filtering information,
Subscribed Event, Notification destination address, a list of
geographicareas(s), AF Transaction Identifier, a list of DNAI(s), routing
profile ID(s) or N6 traffic routing information, Indication of application
relocation possibility, type of notifications, Temporal validity conditions,
and if the URLLC feature is supported, Indication of AF acknowledgement to be
expected and/or Indication of UE IP address preservation. If the AF_latency
feature is supported, user plane latency requirements may also be included and
may support the indication of simultaneous connectivity in the \"simConnInd\"
attribute and the minimum time interval for inactivity of traffic via source
PSA in the \"simConnTerm\" attribute. If the EASDiscovery feature is
supported, the indication of the EAS rediscovery may also be included. If the
EASIPreplacement feature is supported, EAS IP replacement information may also
be included. If the EDGEAPP feature is supported and the \"subscribedEvents\"
attribute is provided, the event reporting requirements may also be included
within the \"eventReq\" attribute. The Notification destination address shall
be included if the Subscribed Event is included in the HTTP request message.
In order to update an existing traffic influence subscription, the AF shall
send an HTTP PUT or PATCH message to the resource \"Individual Traffic
Influence Subscription\" requesting to change the traffic influence
parameters.
In order to delete an existing traffic influence subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Traffic
Influence Subscription\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall perform the mapping as described in 3GPP TS 23.501 [3], and then perform
as described in clause 4.4.7.2 if the request is identified by UE address or
perform as described in clause 4.4.7.3 if the request is not identified by UE
address.
If the EDGEAPP feature is supported and the \"subscribedEvents\" attribute is
provided in the received HTTP POSTrequest, and immediate reporting was
requested by the AF, then user plane path management report(s) shall be
included in the HTTP POST response within the \"eventReports\" attribute, if
available. They may also be included in the HTTP PUT/PATCH response, if
available.
NOTE: The EAS IP Replacement information and the information indicating the
EAS rediscovery are not provided simultaneously.
#### 4.4.7.2 AF request identified by UE address
Upon receipt of the above AF request which is for an individual UE identified
by IP or Ethernet address, the NEF may interact with the BSF to retrieve the
related PCF information by invoking the Nbsf_Management_Discovery service
operation as described in 3GPP TS 29.521 [9] If the NEF receives an error
responsefrom the BSF, the NEF shall not create the resource and shall respond
to the AF with a proper error status code. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
After receiving a successful response from the BSF, the NEF shall interact
with the PCF by invoking the Npcf_PolicyAuthorization service as described in
3GPP TS 29.514 [7]. After receiving a successful response from the PCF, the
NEF shall:
\- for the HTTP POST request, create a resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, addressed
by a URI that contains the AF Identifier and an NEF-created subscription
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this traffic influence subscription:
\- for the HTTP PUT or PATCH request, update a resource \"Individual Traffic
Influence Subscription\" which represents the traffic influence subscription,
and shall responds to the AF with a 200 OK status code with the
\"TrafficInfluSub\" data structure as response body containing the
representation of the modified \"Individual Traffic Influence Subscription\",
or an HTTP \"204 No Content\" response; and
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, then shall
responds to the AF with a 204 No Content status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
If the NEF receives a response with an error code from the PCF, the NEF shall
not create, update or delete the resource and shall respond to the AF with a
proper error status code.
#### 4.4.7.3 AF request not identified by UE address
For AF request not identified by UE address, it may target an individual UE, a
group of UEs or any UE. For an individual UE identified by GPSI, or a group of
UEs identified by External Group Identifier, the NEF shall interact with the
UDM by invoking the Nudm_SubscriberDataManagement service as described in 3GPP
TS 29.503 [17] to retrieve the SUPI or Internal Group Identifier.
The NEF shall interact with the UDR to store the received traffic influence
parameters from the AF by invoking the Nudr_DataRepository service as
described in 3GPP TS 29.504 [20] and 3GPP TS 29.519 [23]. If the NEF receives
an error responsefrom the UDR, the NEF shall not create, update or delete the
resource and shall respond to the AF with a proper error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, addressed
by a URI that contains the AF Identifier and an NEF-created subscription
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this traffic influence subscription;
\- for the HTTP PUT or PATCH request, update a resource \"Individual Traffic
Influence Subscription\" which represents the traffic influence subscription,
and shall responds to the AF with a 200 OK status code with the
\"TrafficInfluSub\" data structure as response body containing the
representation of the modified \"Individual Traffic Influence Subscription\",
or an HTTP \"204 No Content\" response; and
\- for the HTTP DELETE request, delete the corresponding active resource
\"Individual Traffic Influence Subscription\" which represents the traffic
influence subscription, and shall responds to the AF with a 204 No Content
status code.
#### 4.4.7.4 Handling of UP path management event notification
If the NEF receives a UP path management event notification from the SMF
indicating that the subscribed event has been detected, then the NEF shall
provide a notification by sending an HTTP POST message that shall include the
EventNotification data type at least with the subscribed event (e.g. UP Path
has changed) to the AF identified by the notification destination received
during creation or modification of the Individual Traffic Influence
Subscription resource and, optionally, by the AF Transaction Identifier
received during the creation of the Individual Traffic Influence Subscription
resource. If a URI for AF acknowledgement within the \"ackUri\" attribute is
provided by the SMF in the event notification as defined in 3GPP TS 29.508
[26], the NEF shall also provide a URI for AF acknowledgement within the
\"afAckUri\" attribute in the EventNotification data.
Upon receipt of the event notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received event notification.
Afterwards, if a URI for AF acknowledgement within the \"afAckUri\" attribute
is received during the UP path management event notification, the AF may
determine that an application layer relocation is needed, and may then send an
HTTP POST request as acknowledgement for the UP path management event
notification to inform the NEF about the result of application layer
relocation. If the application layer is ready and/or the application
relocation is completed, within the payload of the HTTP POST request, the AF
shall include the AfAckInfo data type with the \"afStatus\" attribute set to
\"SUCCESS\" and may provide within the AfResultInfo data the N6 traffic
routing information associated to the target DNAI as \"trafficRoute\"
attribute and, if the \"ULBuffering\" feature is supported, an indication that
buffering of uplink traffic to the target DNAI is needed as \"upBuffInd\"
attribute and, if the \"EASIPreplacement\" feature is supported, EAS IP
replacement information as \"easIpReplaceInfos\" attribute; otherwise, the AF
shall indicate the failure by including the AfAckInfo data type in the payload
with the \"afStatus\" attribute sets to the corresponding failure cause. The
NEF Northbound interface transaction identifier generated by the AF shall also
be provided as the \"afTransId\" attribute within the AfAckInfo data if the AF
has previously provided it.
Upon receipt of the AF acknowledgement, the NEF shall respond with a \"204 No
Content\" status code to confirm the received acknowledgement, and forward the
AF acknowledgement to the SMF as described in 3GPP TS 29.508 [26].
### 4.4.8 Procedures for changing the chargeable party at session set up or
during the session
The procedures for changing the chargeable party at session set up or during
the session in 5GS are described in clause 4.4.4 of 3GPP TS 29.122 [4] with
the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the PCRF applies to the PCF;
\- in the HTTP POST request, the AF may include the AF session subscribed
\"dnn\" attribute and/or \"snssai\" attribute;
\- if the EthChgParty_5G feature as defined in clause 5.5.4 of 3GPP TS 29.122
[4] is supported and the request is for Ethernet UE:
\- in the HTTP POST request, the AF shall include the UE MAC address within
the \"macAddr\" attribute instead of the UE IP address, If the AppId feature
is not supported,the AF shall include the Ethernet Flow description within the
\"ethFlowInfo\" attribute instead of the IP Flow description; otherwise, the
AF shall include either the External Application Identifier within the
\"exterAppId\" attribute or the Ethernet Flow description within the
\"ethFlowInfo\" attribute;
\- in the HTTP PATCH request, the AF may update the Ethernet Flow description
within the \"ethFlowInfo\" attribute or the External Application Identifier
within the \"exterAppId\" attribute;
\- the NEF may interact with BSF by using Nbsf_Management_Discovery service
(as defined in 3GPP TS 29.521 [9]) to retrieve the PCF address; and
\- the NEF shall interact with the PCF by using Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7].
### 4.4.9 Procedures for setting up an AF session with required QoS
The procedures for setting up an AF session with required QoS in 5GS are
described in clause 4.4.13 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the PCRF applies to the PCF;
\- the NEF may interact with BSF by using Nbsf_Management_Discovery service as
defined in 3GPP TS 29.521 [9] to retrieve the PCF address;
\- the NEF shall interact with the PCF by using Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7];
\- in the HTTP POST request, the AF may include a \"dnn\" attribute and/or a
\"snssai\" attribute; and in the HTTP PUT request, the AF shall keep the same
value(s) of the \"dnn\" attribute and/or the \"snssai\" attribute as set in
the HTTP POST request if provided;
\- description about the INDICATION_OF_SUCCESSFUL_RESOURCES_ALLOCATION event
and INDICATION_OF_FAILED_RESOURCES_ALLOCATION event apply to the
SUCCESSFUL_RESOURCES_ALLOCATION event and FAILED_RESOURCES_ALLOCATION event
respectively; In addition, description about the
INDICATION_OF_RELEASE_OF_BEARER, INDICATION_OF_LOSS_OF_BEARER and
INDICATION_OF_RECOVERY_OF_BEARER events are not applicable in this
specification.
\- if the EthAsSessionQoS_5G feature as defined in clause 5.14.4 of 3GPP TS
29.122 [4] is supported and the request is for Ethernet UE:
\- in the HTTP POST/PUT request, the AF shall include the UE MAC address
within the \"macAddr\" attribute instead of the UE IP address. If the AppId
feature is not supported, the AF shall include the Ethernet Flow description
within the \"ethFlowInfo\" attribute instead of the IP Flow description;
otherwise, the AF shall include either the External Application Identifier
within the \"exterAppId\" attribute or the Ethernet Flow description within
the \"ethFlowInfo\" attribute;
\- in the HTTP PATCH request, the AF may update the Ethernet Flow description
within the \"ethFlowInfo\" attribute or the External Application Identifier
within the \"exterAppId\" attribute;
\- if the \"QoSMonitoring_5G\" feature as defined in clause 5.14.4 of 3GPP TS
29.122 [4] is supported, in order to support the QoS Monitoring, the AF shall
include \"qosMonInfo\" attribute. The AF shall also include the
\"directNotifInd\" attribute set to true if the \"ExposureToEAS\" feature is
supported and the direct notification is required. Within the
QosMonitoringInformation data structure, the AF shall include:
\- one or more requested QoS Monitoring Parameter(s) within the
\"reqQosMonParams\"; and
\- one or more report frequency within the \"repFreqs\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"PERIODIC\", periodic
time for the reporting and, if the feature \"PacketDelayFailureReport\" is
supported, the maximum period with no QoS measurement results reported within
the \"repPeriod\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"EVENT_TRIGGERED\", the
AF shall include:
\- the delay threshold for downlink with the \"repThreshDl\" attribute;
\- the delay threshold for uplink with the \"repThreshUl\" attribute; and/or
\- the delay threshold for round trip with the \"repThreshRp\" attribute; and
\- the minimum waiting time between subsequent reports within the \"waitTime\"
attribute; and
\- if the feature \"PacketDelayFailureReport\" is supported, the maximum
period with no QoS measurement results reported within the \"repPeriod\"
attribute.
If the NEF authorizes the AF request, the NEF may create a QoS monitoring
notification correlation identifier for the AF transaction during the creation
of the AF resource and may provision it together with the received QoS
monitoring parameters to the PCF by invoking the Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7] or, if the \"TSC_5G\" feature is
supported, to the TSCTSF by invoking the Ntsctsf_QoSandTSCAssistance service
as defined in 3GPP TS 29.565 [50];
\- when the NEF receives the event notification for the AF transaction as
defined in clause 4.2.2 of 3GPP TS 29.508 [26] or clauses 4.2.4.12 and
4.2.5.14 of 3GPP TS 29.514 [7] or, if the \"TSC_5G\" feature is supported,
clause 5.3.2.5.7 of 3GPP TS 29.565 [50], or when the AF requested direct
notification, as defined in clause 5.2.2.3 of 3GPP TS 29.564 [61], the NEF
shall include one or more QoS monitoring reports within the \"qosMonReports\"
attribute. Within the QosMonitoringReport data structure, the NEF shall
include:
\- one or two uplink packet delays within the \"ulDelays\" attribute;
\- one or two downlink packet delays within the \"dlDelays\" attribute; and/or
\- one or two round trip packet delays within the \"rtDelays\" attribute; or
> \- if the feature \"PacketDelayFailureReport\" is supported, the packet
> delay measurement failure indicator within the \"pdmf\" attribute; and
\- if the \"AlternativeQoS_5G\" feature is supported, the AF may include an
ordered list of QoS references within the \"altQosReferences\" attribute and,
if the \"DisableUENotification_5G\" feature is also supported, an indication
that the UE does not need to be informed about changes related to Alternative
QoS Profiles within the \"disUeNotif\" attribute.
When the NEF interfaces directly with the PCF, the NEF shall transfer them to
the PCF in the Npcf_PolicyAuthorization service and subscribe to PCF event
\"QOS_NOTIF\" in the Npcf_PolicyAuthorization service. When the NEF receives
the notification of PCF event \"QOS_NOTIF\", it shall notify the AF with
\"QOS_GUARANTEED\" event or with \"QOS_NOT_GUARANTEED\" event and the
currently applied QoS reference if received. When the NEF receives the
notification of PCF event \"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify
the AF the event together with the currently applied QoS reference if
received.
If the \"TSC_5G\" feature is supported, when the NEF interfaces with the
TSCTSF, the NEF shall transfer the received alternative QoS references to the
TSCTSF in the Ntsctsf_QoSandTSCAssistance service and subscribe with TSCTSF to
\"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" events. When the NEF receives
the event notification from the TSCTSF, the NEF shall notify the AF with
\"QOS_GUARANTEED\" event or with \"QOS_NOT_GUARANTEED\" event and the
currently applied QoS reference if received. When the NEF receives the
notification of TSCTSF event \"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall
notify the AF the event together with the currently applied QoS reference if
received.
NOTE 1: Based on the operator configuration, the QoS reference identifiers
received from the AF can be the same or different as the QoS reference
identifiers known at the PCF. The NEF can perform a mapping for the QoS
reference identifier.
\- if the \"TSC_5G\" feature is supported, the AF may include:
\- the TSC QoS requirement within the \"tscQosReq\" attribute. Within the
TscQosRequirement data structure, the AF may include:
\- the input information to construct the TSC Assistance Container within the
\"tscaiInputUl\" attribute and/or \"tscaiInputDl\"attribute;
And, if individual QoS parameters instead of QoS reference is provided, may
include:
\- requested GBR within the \"reqGbrDl\" attribute and/or \"reqGbrUl\"
attribute;
\- requested MBR within the \"reqMbrDl\" attribute and/or \"reqMbrUl\"
attribute; and
\- the maximum burst size within the \"maxTscBurstSize\" attribute;
\- the priority within the \"priority\" attribute;
\- the requested 5GS delay within the \"req5Gsdelay\" attribute.
If the NEF authorizes the AF request, the NEF may provision the received QoS
requirements to the TSCTSF by invoking the
Ntsctsf_QoSandTSCAssistance_Create/Update request as defined in 3GPP TS 29.565
[50]. The NEF determines whether to invoke the TSCTSF or to directly contact
the PCF based on operator configuration. This determination may consider the
AF identifier, whether the \"tscaiInputUl\" and/or \"tscaiInputDl\" attributes
within the \"tscQosReq\" attribute were received in the subscription request,
whether the \"qosReference\" attribute or individual QoS parameters within the
\"tscQosReq\" attribute were received in the subscription request, and SLA
between operator and application provider. A TSCTSF address may be locally
configured in the NEF or the NEF uses the DNN/S-NSSAI (which may be provided
in the request or determined based on the AF identifier) to discover the
TSCTSF from the NRF. If the NEF directly contacts the PCF while the NEF
determined to invoke the TSCTSF when authorizing the update request, the NEF
shall reject the request message by sending an HTTP response to the AF with a
status code set to 403 Forbidden and may include the
\"INVALID_SESSION_UPDATE\" error in the \"cause\" attribute of the
\"ProblemDetails\" structure and indicate which parameters can not be served
in current session in the \"invalidParams\" attribute of the
\"ProblemDetails\" structure.
NOTE 2: The NEF can determine whether the TSCTSF needs to be involved based on
the DNN/S-NSSAI for the AF session according to the SLA.
\- if the \"AltQosWithIndParams_5G\" feature is supported, the AF may include:
\- an ordered list of alternative service requirements that include individual
QoS parameter sets within the \"altQosReqs\" attribute and, if the
\"DisableUENotification_5G\" feature is also supported, an indication that the
UE does not need to be informed about changes related to Alternative QoS
Profiles within the \"disUeNotif\" attribute. Within the
AlternativeServiceRequirementsData data structure, the AF shall include:
\- a reference to the alternative individual QoS related parameter(s) included
in this set within the \"altQosParamSetRef\" attribute; and
\- at least one of the following:
\- The guaranteed bandwidth in uplink within the \"gbrUl\" attribute and the
guaranteed bandwidth in downlink within the \"gbrDl\" attribute;
\- The requested packet delay budget within the \"pdb\" attribute;
If the NEF authorizes the AF request, and if the \"TSC_5G\" feature is
supported, the NEF may provision the received QoS requirements and subscribe
with to the TSCTSF to \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" events by
invoking the Ntsctsf_QoSandTSCAssistance_Create request as defined in 3GPP TS
29.565 [50]. The NEF determines whether to invoke the TSCTSF or to directly
contact the PCF based on operator configuration. This determination may
consider the AF identifier, whether the \"tscaiInputUl\" and/or
\"tscaiInputDl\" attributes within the \"tscQosReq\" attribute were received
in the subscription request, whether the \"qosReference\" attribute or
individual QoS parameters within the \"altQosReqs\" attribute were received in
the subscription request, and SLA between operator and application provider. A
TSCTSF address may be locally configured in the NEF or the NEF uses the
DNN/S-NSSAI (which may be provided in the request or determined based on the
AF identifier) to discover the TSCTSF from the NRF. When the NEF receives the
notification of TSCTSF \"QOS_GUARANTEED\" event or \"QOS_NOT_GUARANTEED\"
event, it shall notify the AF with \"QOS_GUARANTEED\" event or
\"QOS_NOT_GUARANTEED\" event with the currently applied individual QoS
parameter set within the \"appliedQosRef\" attribute if received. When the NEF
receives the notification of the TSCTSF event
\"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify the AF the event together
with the currently applied individual QoS parameter set within the
\"appliedQosRef\" attribute if received. If the NEF directly contacts the PCF
while the NEF determined to invoke the TSCTSF when authorizing the update
request, the NEF shall reject the request message by sending an HTTP response
to the AF with a status code set to 403 Forbidden and may include the
\"INVALID_SESSION_UPDATE\" error in the \"cause\" attribute of the
\"ProblemDetails\" structure and indicate which parameters can not be served
in current session in the \"invalidParams\" attribute of the
\"ProblemDetails\" structure.
NOTE 3: The NEF can determine whether the TSCTSF needs to be involved based on
the DNN/S-NSSAI for the AF session according to the SLA.
When the NEF interfaces directly with the PCF, the NEF shall transfer the
received QoS requirements to the PCF in the Npcf_PolicyAuthorization service
and subscribe to PCF event \"QOS_NOTIF\" in the Npcf_PolicyAuthorization
service. When the NEF receives the notification of PCF event \"QOS_NOTIF\", it
shall notify the AF with \"QOS_GUARANTEED\" event or with the
\"QOS_NOT_GUARANTEED\" event and the currently applied QoS reference if
received. When the NEF receives the notification of PCF event
\"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify the AF the event together
with the currently applied QoS reference if received.
\- If the \"eNB_5G\" feature is supported, the AF may additionally subscribe
the event(s) \"ACCESS_TYPE_CHANGE\" and/or \"PLMN_CHG\". If the NEF authorizes
the AF request, the NEF shall subscribe the event(s) at the PCF by invoking
the Npcf_PolicyAuthorization service operation.
### 4.4.10 Procedures for MSISDN-less Mobile Originated SMS
The procedures are used by the NEF to send the MSISDN-less MO-SMS to the AF in
5GS are described in clause 4.4.14 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF; and
\- the NEF shall interact with UDM by using Nudm_SubscriberDataManagement
service (as defined in 3GPP TS 29.503 [17]) to retrieve the external
identifier.
### 4.4.11 Procedures for Network Configuration Parameters Provisioning
The procedures for network configuration parameters provisioning as described
in clause 4.4.12 of 3GPP TS 29.122 [4] shall be applicable in 5GS with the
following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using Nudm_ParameterProvision
service as specified in 3GPP TS 29.503 [17]; and
\- if the \"UEId_retrieval\" feature defined in clause 5.13.4 of 3GPP TS
29.122 [4] is supported, in order to support the AF specific UE ID retrieval:
1) the AF may request AF specific UE ID retrieval for an individual UE, by
providing the UE\'s IP address in the \"ueIpAddr\" attribute or the UE\'s MAC
address in the \"ueMacAddr\" attribute within the NpConfiguration data type;
2) the AF may also provide the DNN, within the \"dnn\" attribute, and/or the
S-NSSAI, within the \"snssai\" attribute, within the NpConfiguration data
type;
3) upon reception of the corresponding request message from the AF:
\- if the AF\'s request is not authorized, the NEF shall respond to the AF
with a \"403 Forbidden\" status code with the response body including the
ProblemDetails data structure containing the \"cause\" attribute set to the
\"REQUEST_NOT_AUTHORIZED\" application error indicating AF authorisation
failure; and
\- if the AF\'s request is authorized by the NEF, then if the DNN and/or
S-NSSAI information is not available in the request, the NEF shall determine
the corresponding DNN and/or S-NSSAI information based on the received
requesting AF Identifier, and if provided, the MTC Provider Information;
4) the NEF shall then interact with the BSF with the UE address and IP domain
(if the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the
session binding information of the UE by invoking the
Nbsf_Management_Discovery service operation as described in 3GPP TS 29.521
[9];
5) if the NEF receives an error response from the BSF, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found;
6) upon success and a SUPI is returned by the BSF, the NEF shall interact with
the UDM to retrieve the AF specific UE Identifier using the received SUPI and
at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service as described in clause
5.2.2.2 of 3GPP TS 29.503 [17];
7) upon success, the UDM responds to the NEF with an AF specific UE Identifier
represented as an External Identifier for the UE which is uniquely associated
with the MTC provider Information and/or AF Identifier. The NEF shall then
respond to the AF with the received information, i.e. the AF specific UE
Identifier represented as an External Identifier that was received from the
UDM;
8) if the NEF receives an error response from the UDM, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE: The case where UE IP address provided by the AF to the NEF corresponds
to an IP address that has been NATed (Network and Port Address Translation) is
not supported in this release.
### 4.4.12 Procedures for Non-IP data delivery
#### 4.4.12.1 General
The procedures are used by the NEF to send/receive the non-IP data to/from the
AF. It comprises NIDD configuration and NIDD delivery.
The NIDD configuration may be triggered by the NEF or the AF. If it is
triggered by the NEF, the NiddConfigurationTrigger API described in clause 5.5
is used and the procedure is described in clause 4.4.12.2.
#### 4.4.12.2 NIDD configuration Triggered by the NEF
If the NEF receives a NIDD connection establishment request from the SMF and
if there is no NIDD configuration for the UE, the NEF may send a NIDD
configuration trigger to the AF. The NEF determines the destination URI by
local configuration. The NEF shall send to the determined destination URL an
HTTP POST request that shall include a NiddConfiguarationTrigger data type
with:
\- the NEF identifier,
\- the AF identifier, and
\- GPSI as UE identity.
The AF shall acknowledge the HTTP POST request with an HTTP 200 OK response.
Then the AF may start NIDD configuration procedure as described in clause
4.4.12.3.
#### 4.4.12.3 NIDD configuration triggered by the AF and NIDD delivery
The procedures for NIDD configuration triggered by the AF and NIDD delivery
are described in clause 4.4.5 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the MME/SGSN applies to the SMF;
\- for the connection establishment, the interaction between the NEF and the
SMF shall use Nnef_SMContext service as specified in 3GPP TS 29.541 [24];
\- for MO NIDD, the interaction between the SMF and the NEF shall use
Nnef_SMContext service as specified in 3GPP TS 29.541 [24]; and
\- for MT NIDD, the interaction between the SMF and the NEF shall use
Nsmf_NIDD service as specified in 3GPP TS 29.542 [25].
### 4.4.13 Procedures for RACS Parameter Provisioning
The procedures for RACS parameter provisioning as described in clause 4.4.15
of 3GPP TS 29.122 [4] shall be applicable in 5G with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF.
### 4.4.14 Procedures for analytics information exposure
#### 4.4.14.1 Subscription/unsubscription to notification of analytics
information
The procedures are used by the AF to subscribe/unsubscribe to retrieve
analytics information via NEF, and are used by the NEF to notify the AF about
the requested analytics information as described in 3GPP TS 23.288 [29].
In order to subscribe to retrieve analytics information, the AF shall send an
HTTP POST message to the NEF to the resource \"Analytics Exposure
Subscriptions\", the HTTP POST request message body shall include the
AnalyticsExposureSubsc data structure that shall include:
\- the URI where to receive the requested notifications as \"notifUri\"
attribute;
\- the Notification Correlation Identifier assigned by the NF service consumer
for the requested notifications as \"notifId\" attribute; and
\- a description of the subscribed events as \"analyEventsSubs\" attribute
that shall include for each event:
1) an event identifier as \"analyEvent\" attribute.
The AnalyticsExposureSubsc data structure may include:
\- event reporting requirement information as \"analyRepInfo\" attribute,
which applies for all events in a subscription and may contain the following
attributes:
1) event notification method (periodic, one time, on event detection) as
\"notifMethod\" attribute;
2) maximum Number of Reports as \"maxReportNbr\" attribute;
3) monitoring Duration as \"monDur\" attribute;
4) repetition period for periodic reporting as \"repPeriod\" attribute;
5) immediate reporting indication as \"immRep\" attribute;
6) sampling ratio as \"sampRatio\" attribute;
7) group reporting guard time as \"grpRepTime\" attribute;
8) partitioning criteria for partitioning the impacted UEs before performing
sampling as \"partitionCriteria\" attribute if the \"EneNA\" feature is
supported; and
9) a notification flag (used for muting and retrieving notifications) as
\"notifFlag\" attribute if the \"EneNA\" feature is supported.
Each AnalyticsEventSubsc data structure may include:
\- event specific filters via the \"analyEventFilter\" attribute; and
\- the indication of the UEs to which the subscription applies via \"tgtUe\"
attribute, which if provided shall include one of the following attributes:
1) identification of an individual UE via a \"gpsi\" attribute;
2) identification of a group of UE(s) via a \"exterGroupId\" attribute; or
3) identification of any UE via the \"anyUeInd\" attribute.
Upon receipt of the HTTP POST request from the AF, if the AF is authorized,
the NEF shall interact with the UDM by using Nudm_SubscriberDataManagement
service as defined in 3GPP TS 29.503 [17] to translate the GPSI or external
group identifier into the corresponding SUPI or internal group identifier.
After receiving a successful response from the UDM, the NEF may perform
further mappings and translations (e.g. map application identifiers to DNN and
S-NSSAI information, or translate attributes of data type NetworkAreaInfo to
attributes of data type LocationArea5G) and it shall interact with the NWDAF
to subscribe to the subscription to the analytics information by using the
Nnwdaf_EventsSubscription service as defined in 3GPP TS 29.520 [27]. If the
NEF receives an error responsefrom the NWDAF, the NEF shall not create the
resource and shall respond to the AF with a proper error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
In order to update an existing analytics exposure subscription, the AF shall
send an HTTP PUT message to the NEF to the resource \"Individual Analytics
Exposure Subscription\" requesting to change the subscription.
In order to delete an existing analytics exposure subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Analytics
Exposure Subscription\".
Upon receipt of the HTTP PUT or DELETE request from the AF, if the AF is
authorized, the NEF may perform further mappings and translations (e.g. map
application identifiers to DNN and S-NSSAI information, or translate
attributes of data type LocationArea5G to attributes of data type
NetworkAreaInfo as required by the data model) and it shall interact with the
NWDAF to modify or cancel the subscription to the analytics information by
using the Nnwdaf_EventsSubscription service as defined in 3GPP TS 29.520 [27].
If the NEF receives an error responsefrom the NWDAF, the NEF shall not update
or delete the resource and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
After receiving a successful response from the NWDAF, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Analytics
Exposure Subscription\" which represents the analytics exposure subscription,
addressed by a URI that contains the AF Identifier and an NEF-created
subscription identifier, and shall respond to the AF with a 201 Created status
code, including a Location header field containing the URI for the created
resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this analytics exposure
subscription. If not all the requested analytics events in the subscription
are accepted, then the NEF may include the \"failEventReports\" attribute
indicating the event(s) for which the subscription failed and the associated
reason(s):
\- for the HTTP PUT request, update a resource \"Individual Analytics Exposure
Subscription\" which represents the analytics exposure subscription, and shall
responds to the AF with a 200 OK or 204 No Content status code. When
responding with a 200 OK status code, if not all the requested analytics
events in the subscription are modified successfully, then the NEF may include
the \"failEventReports\" attribute indicating the event(s) for which the
modification failed and the associated reason(s); and
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Analytics Exposure
Subscription\" which represents the analytics exposure subscription, then
shall responds to the AF with a 204 No Content status code.
If the immediate reporting indication in the \"immRep\" attribute within the
\"analyRepInfo\" attribute sets to true during the HTTP POST or PUT request,
the NEF shall also include the reports of the events subscribed, if available,
in the HTTP POST or PUT response to the AF.
If the NEF receives an analytics information notification from the NWDAF
indicating that the subscribed analytics event has been detected, the NEF may
perform further mappings and translations (e.g. translate attributes of data
type NetworkAreaInfo to attributes of data type LocationArea5G as required by
the data model), it may determine based on local configuration to hide from
the Untrusted AF network internal information (e.g. DNN, S-NSSAI) which was
included in the NWDAF notification, and it shall provide a notification by
sending HTTP POST message that include the AnalyticsEventNotification data
structure at least with the detected analytics event to the AF identified by
the notification URI together with the notification correlation identifier
received during creation/modification of the Individual Analytics Exposure
Subscription. Upon receipt of the analytics event notification, the AF shall
respond with a \"204 No Content\" status code to confirm the received
notification.
When the \"notifFlag\" attribute is included during the creation of a
subscription (HTTP POST request) and set to \"DEACTIVATE\", the NEF shall mute
the event notification and store the available events.
When the \"notifFlag\" attribute is included during the update of a
subscription (HTTP PUT request) and set to \"DEACTIVATE\", the NEF shall mute
the event notification and store the available events; if it is set to the
value \"RETRIEVAL\", the NEF shall send the stored events to the NF service
consumer, mute the event notification again and store available events; if it
is set to the value \"ACTIVATE\" and the event notifications are muted (due to
a previously received \"DECATIVATE\" value), the NWDAF shall unmute the event
notification, i.e. start sending again notifications for available events.
#### 4.4.14.2 Fetch analytics information
The procedures are used by the AF to fetch analytics information via NEF.
In order to fetch analytics information, the AF shall send an HTTP POST
request message to the NEF targetingthe custom operation URI \"{apiRoot}/3gpp-
analyticsexposure/v1/{afId}/fetch\", the HTTP POST request message body shall
include the AnalyticsRequest data structure that shall include:
\- the identification of the analytics events, encoded within the
\"analyEvent\" attribute;
and may include:
\- the description of the analytics reporting information, encoded within the
\"analyRep\" attribute;
\- an event filter, encoded within the \"analyEventFilter\" attribute.
\- the indication of the UEs to which the analytics request applies via
either:
a) the identification of an individual UE via the \"gpsi\" attribute;
b) the identification of a group of UE(s) via the \"exterGroupId\" attribute;
or
> c) the identification of any UE via the \"anyUeInd\" attribute.
Upon the reception of an HTTP POST request, if the AF is authorized, the NEF
shall interact with the UDM by using Nudm_SubscriberDataManagement service as
defined in 3GPP TS 29.503 [17] to translate the GPSI or external group
identifier into the corresponding SUPI or internal group identifier. After
receiving a successful response from the UDM, the NEF may perform further
mappings and translations (e.g. map application identifiers to DNN and S-NSSAI
information, or translate attributes of data type NetworkAreaInfo to
attributes of data type LocationArea5G) and it shall interact with the NWDAF
by using Nnwdaf_AnalyticsInfo service as defined in 3GPP TS 29.520 [27]. If
the NEF receives an error responsefrom the NWDAF, the NEF shall respond to the
AF with a proper error status code. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable. If a
successful response including analytics information is received from the
NWDAF, the NEF shall translate the network internal information to external
information (e.g. SUPI to GPSI, Internal Group ID to External Group ID,
attributes of data type NetworkAreaInfo to attributes of data type
LocationArea5G), it may determine based on local configuration to hide from
the Untrusted AF network internal information (e.g. DNN, S-NSSAI) which was
included in the NWDAF response, and it shall send an HTTP POST response to the
AF by including analytics information within the AnalyticsData data structure.
### 4.4.15 Procedures for 5G LAN Parameter Provisioning
#### 4.4.15.1 General
The procedures are used by the AF to provision 5G LAN type service related
parameters to the NEF. The following procedures support:
\- Management of 5G Virtual Network group membership; and/or
\- Management of 5G Virtual Network group data
#### 4.4.15.2 Creation of a new subscription for 5G LAN parameter provisioning
In order to create a new subscription to provision 5G LAN related parameters,
the AF shall initiate an HTTP POST request to the NEF for the \"5GLAN
Parameters Provision Subscriptions\" resource. The body of the HTTP POST
message shall include the 5G LAN service related parameters within the
\"5gLanParams\" attribute.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provision the parameters, the NEF shall interact with the UDM to
create a subscription at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM and the
UDM informs the NEF with a successful response, the NEF shall create a new
subscription and assign a subscription identifier for the \"Individual 5GLAN
Parameters Provision Subscription\" resource. Then the NEF shall send a HTTP
\"201 Created\" response with 5GLanParametersProvision data structure as
response body and a Location header field containing the URI of the created
individual subscription resource.
#### 4.4.15.3 Modification of an existing subscription for 5G LAN parameter
provisioning
To modify an existing subscription to provision 5G LAN parameters, the AF
shall initiate an HTTP PUT/PATCH request to the NEF for the \"Individual 5GLAN
Parameters Provision Subscription\" resource. The body of the HTTP PUT message
shall include the 5GLanParametersProvision data type as defined in clause
5.7.2.3.2. The External Group Identifier, DNN, S-NSSAI and PDU session type(s)
shall remain unchanged from previous values. The body of the HTTP PATCH
message shall include the 5GLanParametersProvisionPatch data as defined in
clause 5.7.2.3.5.
Upon receipt of the corresponding HTTP PUT/PATCH message, if the AF is
authorized by the NEF to provision the parameters, the NEF shall interact with
the UDM to modify an existing subscription at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
modification request is accepted by the UDM and the UDM informs the NEF with a
successful response, the NEF shall update the existing subscription for the
\"Individual 5GLAN Parameters Provision Subscription\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
5GLanParametersProvision data structure or \"204 No Content\" status code.
#### 4.4.15.4 Deletion of an existing subscription for 5G LAN parameter
provisioning
To delete an existing subscription to 5GLAN provision parameters, the AF shall
initiate an HTTP DELETE request to the NEF for the \"Individual 5GLAN
Parameters Provision Subscription\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the UDM to delete an existing
parameters provision subscription at the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17]. If the request is accepted by the
UDM and informs the NEF with a successful response, the NEF shall delete the
existing subscription for the \"Individual 5GLAN Parameters Provision
Subscription\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
### 4.4.16 Procedures for applying BDT policy
In order to create a resource for the applying a previously negotiated
Background Data Transfer Policy to a UE or a Group of UEs, the AF shall send
an HTTP POST message to the NEF to the resource \"Applied BDT Policy
Subscriptions\". The body of the HTTP POST message shall contain the external
Group Identifier or external Identifier, and the Background Data Transfer
Reference ID for a previously negotiated policy of a background data transfer.
Upon receipt of the HTTP POST request from the AF, if the AF is authorized,
the NEF shall interact with the UDM by invoking the
Nudm_SubscriberDataManagement service as described in 3GPP TS 29.503 [17] to
retrieve the SUPI or Internal Group Identifier.
In order to update an existing applied BDT policy subscription, the AF shall
send an HTTP PATCH message to the resource \"Individual Applied BDT Policy
Subscription\" requesting to change the applied BDT policy. The AF shall
include in the body of the HTTP PATCH request the new Background Data Transfer
Reference ID.
In order to delete an existing applied BDT policy subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Applied
BDT Policy Subscription\".
The NEF shall interact with the UDR by invoking the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20], if the NEF receives an error
responsefrom the UDR, the NEF shall not create, update or delete the resource
and shall respond to the AF with a proper error status code. If the NEF
received within an error response a \"ProblemDetails\" data structure with a
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error, when
applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Applied BDT
Policy Subscription\" addressed by a URI that contains the AF Identifier and
an NEF-created subscription identifier, and shall respond to the AF with a
\"201 Created\" status code, including a Location header field containing the
URI of the created resource. The AF shall use the URI received in the Location
header in subsequent requests to the NEF to refer to this resource;
\- for the HTTP PATCH request, update a resource \"Individual Applied BDT
Policy Subscription\" which represents the applied BDT policy subscription,
and shall respond to the AF with a \"200 OK\" or \"204 No Content\" status
code; and
\- for the HTTP DELETE request, delete the corresponding active resource
\"Individual Applied BDT Policy Subscription\", and shall respond to the AF
with a \"204 No Content\" status code.
### 4.4.17 Procedures for Enhanced Coverage Restriction Control
The procedures for network configuration parameters provisioning as described
in clause 4.4.11 of 3GPP TS 29.122 [4] shall be applicable in 5GS with the
following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM; and
\- upon receipt of HTTP POST request from the AF to query the current status
of enhanced coverage restriction, the NEF shall interact with the UDM by using
the Nudm_SubscriberDataManagement service as specified in 3GPP TS 29.503 [17].
\- upon receipt of HTTP POST request from the AF to configure the enhanced
converage restriction, the NEF shall interact with the UDM by using the
Nudm_ParameterProvision service as specified in 3GPP TS 29.503 [17].
\- if the ECR_WB_5G feature is supported, in order to configure the enhanced
coverage restriction for WB UE, the HTTP POST request message shall include
the WB mode related enhanced coverage restriction information via the
\"ecrDataWbs\" attribute for the WB UE.
### 4.4.18 Procedures for IPTV Configuration
The procedures are used by the AF to authorize the request and forward the
request for IPTV configuration information via NEF.
In order to configure IPTV information, the AF shall send an HTTP POST message
to the NEF to the resource \"IPTV Configurations\", the HTTP POST request
message body shall include the IptvConfigData data structure that shall
include:
\- indication of the UEs to which the subscription applies via:
> a) identification of an individual UE via a \"gpsi\" attribute; or
>
> b) identification of a group of UE(s) via a \"exterGroupId\" attribute;
\- an application identifier as \"appId\" attribute; and
\- a list of Multicast Access Control as \"multiAccCtrls\" attribute;
and may include:
\- an DNN as \"dnn\" attribute;
\- an S-NSSAI as \"snssai\" attribute; and
\- MTC Provider Information as \"mtcProviderId\" attribute.
NOTE: The NEF can check the received MTC Provider Id information and reject
the IPTV configuration request upon failure checking result.
In order to update an existing individual IPTV configuration, the AF shall
send an HTTP PUT or HTTP PATCH message to the NEF to the resource \"Individual
IPTV Configuration\" requesting to change the subscription. The External Group
Identifier, GPSI, DNN, S-NSSAI and Application Identifier shall remain
unchanged from previous values in the HTTP PUT message.
In order to delete an existing individual IPTV configuration, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual IPTV
Configuration\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall interact with the UDM by invoking the Nudm_SubscriberDataManagement
service as described in 3GPP TS 29.503 [17] to retrieve the SUPI or Internal
Group Identifier. Then the NEF shall interact with the UDR to create, update
or delete the IPTV configuration by using the Nudr_DataRepository service as
defined in 3GPP TS 29.519 [23]. If the NEF receives an error responsefrom the
UDR, the NEF shall not create, update or delete the resource and shall respond
to the AF with a proper error status code. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual IPTV
Configuration\" which represents the IPTV configuration request, addressed by
a URI that contains the AF Identifier and an NEF-created configuration
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this IPTV configuration.
\- for the HTTP PUT or HTTP PATCH request, update a resource \"Individual IPTV
Configuration\" which represents the IPTV configuration, and shall responds to
the AF with a 200 OK or 204 No Content status code; and
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual IPTV Configuration\",
then shall responds to the AF with a 204 No Content status code.
4.4.19 Procedures for Location Privacy Indication Parameters Provisioning
The procedures are used by the AF to provision Location Privacy Indication
parameters to the NEF. The procedures are applicable for an individual UE or a
group of UEs.
In order to provision Location Privacy Indication parameters, the AF shall
initiate an HTTP POST request to the NEF for the \"LPI Parameters
Provisionings\" resource. The body of the HTTP POST message shall include the
Location Privacy Indication related parameters within the
LpiParametersProvision data structure.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provision the parameters, the NEF shall interact with the UDM to
create a resource at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM and the
UDM informs the NEF with a successful response, the NEF shall create a new
resource and assign an identifier for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with LpiParametersProvision data structure as response body and a
Location header field containing the URI of the created individual resource.
In order to update an existing individual LPI Parameters Provisioning, the AF
may send an HTTP PUT message to the resource \" Individual LPI Parameters
Provisioning\" requesting the NEF to change all properties in the existing
resource. The body of the HTTP PUT request message shall include
LpiParametersProvision data type as defined in clause 5.10.2.3.2. The External
Group Identifier or GPSI shall remain unchanged from previous values.
If the \"PatchUpdate\" feature defined in clause 5.10.3 is supported, in order
to partially modify an existing LPI Parameters Provisioning resource, the AF
may send an HTTP PATCH request message to the NEF on the \"Individual LPI
Parameters Provisioning\" resource, with the request body containing the
LpiParametersProvisionPatch data structure including only the attributes that
shall be updated.
Upon receipt of the corresponding HTTP PUT/PATCH request message, if the AF is
authorized by the NEF to provision the parameters, the NEF shall interact with
the UDM to modify an existing resource at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
modification request is accepted by the UDM and the UDM informs the NEF with a
successful response, the NEF shall update the existing resource for the
\"Individual LPI Parameters Provisioning\" resource. Then the NEF shall send a
HTTP response including \"200 OK\" status code with LpiParametersProvision
data structure or \"204 No Content\" status code.
To delete an existing individual LPI Parameters Provisioning, the AF shall
initiate an HTTP DELETE request to the NEF for the \"Individual LPI Parameters
Provisioning\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the UDM to delete an existing LPI
Parameters Provisioning at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM, the NEF
shall delete the existing resource for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
### 4.4.20 Procedures for service specific parameter provisioning
These procedures are used by an AF to provide service specific parameters to
the 5G system via the NEF.
In order to provision service specific parameters to the 5G system, the AF
shall send an HTTP POST message to the NEF targetting the resource \"Service
Parameter Subscriptions\", the HTTP POST request message body shall include
the ServiceParameterData data structure that shall include:
\- service description via:
a) a combination of DNN and S-NSSAI within the \"dnn\" attribute and the
\"snssai\" attribute respectively;
b) an AF Service Identifier within the \"afServiceId\" attribute; or
c) an application identifier within the \"appId\" attribute;
NOTE: When the feature \"AfGuideURSP\" is supported, the DNN, S-NSSAI and/or
Application Identifier information can be provided in the \"urspGuidance\"
attribute, hence only the \"afServiceId\" attribute needs to be included for
providing guidance for URSP determination.
\- indication of the UEs to which the subscription applies via:
a) identification of an individual UE within the \"gpsi\" attribute;
b) an IPv4 address of the UE within the \"ueIpv4\" attribute;
c) an IPv6 address of the UE within the \"ueIpv6\" attribute;
d) a MAC address of the UE within the \"ueMac\" attribute;
e) an identification of a group of UE(s) within the \"externalGroupId\"
attribute; or
f) an identification of any UE within the \"anyUeInd\" attribute; and
\- service parameters for at least one of the following:
1)V2X service parameters via:
a) configuration parameters for V2X communications over PC5 within the
\"paramOverPc5\" attribute; and
b) configuration parameters for V2X communications over Uu within the
\"paramOverUu\" attribute;
2)if the \"ProSe\" feature is supported, 5G ProSe service parameters via:
a) configuration parameters for 5G ProSe direct discovery within the
\"paramForProSeDd\" attribute;
b) configuration parameters for 5G ProSe direct communication within the
\"paramForProSeDc\" attribute; and
c) configuration parameters for 5G ProSe UE-to-network relay, including
configuration parameters for 5G ProSe UE-to-network relay UE within the
\"paramForProSeU2NRelUe\" attribute and configuration parameters for 5G ProSe
remote UE within the \"ParamForProSeRemUe\" attribute; and
3)if the \"AfGuideURSP\" feature is supported, URSP service parameters via:
a) contents for the AF guidance on URSP within the \"urspGuidance\" attribute,
which shall include one or more URSP rule requests. Each URSP rule request may
include a traffic descriptor within the \"trafficDesc\" attribute, a relative
precedence within the \"relatPrecedence\" attribute and/or one or more route
selection parameter sets within the \"routeSelParamSets\" attribute. Each
route selection parameter set may include a precedence value within the
\"precedence\" attribute, a DNN within the \"dnn\" attribute, an S-NSSAI
within the \"snssai\" attribute, and a spatial validity condition within the
\"spatialValidity\" attribute. If the request contains only one route
selection parameter set, each of the optional attributes \"dnn\", \"snssai\",
\"precedence\", and \"spatialValidity\" that is missing from the request may
be complemented by the NEF based on local configuration for the provided AF
service identifier. It is up to the NEF to transform the information of the
\"spatialValidity\" attribute into a list of TAIs;
and may include:
\- if the \"AfNotifications\" feature is supported:
a) subscription to event notification of the outcome related to invocation of
service parameter provisioning within the \"subNotifEvents\" attribute; and
b) notification URI within the \"notificationDestination\" attribute.
In order to update an existing service parameter subscription, the AF shall
send an HTTP PUT or HTTP PATCH message to the NEF targetting the resource
\"Individual Service Parameter Subscription\" and requesting to change the
subscription.
In order to delete an existing service parameter subscription, the AF shall
send an HTTP DELETE message to the NEF targetting the resource \"Individual
Service Parameter Subscription\".
Upon receipt of the HTTP request from the AF, and if the AF is authorized, the
NEF shall interact with the UDM by invoking the Nudm_SubscriberDataManagement
service as described in 3GPP TS 29.503 [17] to retrieve the SUPI or Internal
Group Identifier. NEF may, based on local configuration, complement missing
service parameters. Additionally, based on operator\'s local policy, NEF may
support service specific authorization as described in clause 4.15.6.10 in
3GPP TS 23.502 [2]. Then the NEF shall interact with the UDR to create, update
or delete the associated service parameters by using the Nudr_DataRepository
service as defined in 3GPP TS 29.519 [23]. If information related to
AfNotifications feature are received from the AF, the NEF shall also include
the required information (e.g. \"policDelivNotifUri\" and
\"policDelivNotifCorreId\" attributes in 3GPP TS 29.519 [23]) in UDR data
creation if the NEF supports the DeliveryOutcome feature (as described in 3GPP
TS 29.504 [4]). If the NEF receives an error responsefrom the UDR, the NEF
shall not create, update or delete the resource and shall respond to the AF
with a proper error status code. If the NEF received within an error response
a \"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for an HTTP POST request, create an \"Individual Service Parameter
Subscription\" resource which represents the Service Parameter provisioning
request, addressed by a URI that contains the AF Identifier and a NEF-created
configuration identifier, and shall respond to the AF with a 201 Created
status code, including a Location header field containing the URI for the
created resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this Service Parameter
Subscription;
\- for an HTTP PUT or HTTP PATCH request, update the \"Individual Service
Parameter Subscription\" resource which represents the service parameter
provisioning request, and respond to the AF with a 200 OK or 204 No Content
status code; and
\- for an HTTP DELETE request, remove all properties of the resource and
delete the corresponding active \"Individual Service Parameter Subscription\"
resource, then respond to the AF with a 204 No Content status code.
When the NEF receives the Service Specific Authorization Update information
from the UDM by Nudm_ServiceSpecificAuthorization_UpdateNotify service
operation defined in 3GPP TS 29.503 [17], if the authorization is revoked, the
NEF shall provide a notification to AF by sending HTTP POST message that
include the one or more AfNotification data structure(s). Upon receipt of the
notification, the AF shall respond with a \"204 No Content\" status code to
confirm the received notification.
When the NEF receives the notification of the outcome of invocation related to
AF provisioned service parameters from the PCF by Npcf_EventExposure_Notify
service operation defined in 3GPP TS 29.523 [22], the NEF shall determine the
corresponding service parameter subscription and provide a notification to AF
by sending HTTP POST message that include the AfNotification data structure.
Upon receipt of the notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received notification.
### 4.4.21 Procedures for ACS configuration parameter provisioning
The procedures are used by the AF to provide ACS configuration information to
5G system via NEF.
In order to provision the ACS configuration information, the AF shall send an
HTTP POST message to the NEF to the resource \"ACS Configuration
Subscriptions\", the HTTP POST message shall include AcsConfigurationData data
structure as request body. The AcsConfigurationData data structure shall
include:
\- the URL of the ACS or the address of the ACS within the \"acsInfo\"
attribute; and
\- indication of the UEs to which the subscription applies via:
> a) identification of an individual UE via a \"gpsi\" attribute; or
>
> b) identification of a group of UE(s) via a \"exterGroupId\" attribute.
In order to update an existing ACS configuration subscription, the AF shall
send an HTTP PUT message to the NEF to the resource \"Individual ACS
Configuration Subscription\" requesting to change the subscription. The body
of the HTTP PUT request message shall include AcsConfigurationData data type.
The External Group Identifier or GPSI shall remain unchanged from previous
values.
If the \"PatchUpdate\" feature defined in clause 5.12.3 is supported, in order
to partially modify an existing ACS Configuration subscription, the AF shall
send an HTTP PATCH request message to the NEF on the \"Individual ACS
Configuration Subscription\" resource, with the request body containing the
AcsConfigurationDataPatch data structure including only the attributes that
shall be modified.
In order to delete an existing ACS configuration subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual ACS
configuration Subscription\".
Upon receipt of the corresponding HTTP message, if the AF is authorized by the
NEF to provision the parameters, the NEF shall interact with the UDM to create
a subscription at the UDM by using Nudm_ParameterProvision service as defined
in 3GPP TS 29.503 [17].
After receiving a successful response from the UDM, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual ACS Configuration
Subscription\" which represents the ACS configuration parameter provisioning
request, addressed by a URI that contains the AF Identifier and an NEF-created
configuration identifier, and shall respond to the AF with a 201 Created
status code, including a Location header field containing the URI for the
created resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this ACS Configuration
Subscription.
\- for the HTTP PUT/PATCH request, update/modify the concerned \"Individual
ACS Configuration Subscription\" resource which represents the ACS
configuration, and shall responds to the AF with an HTTP \"200 OK\" or an HTTP
\"204 No Content\" status code.
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual ACS Configuration
Subscription\", then shall responds to the AF with a 204 No Content status
code.
### 4.4.22 Procedures for Mobile Originated Location Request
#### 4.4.22.1 General
The procedure is used by NEF to transfer the updated UE location information
to AF. The following procedure support:
> \- Notify the AF of the updated UE location information as described in
> clause 6.2 of 3GPP TS 23.273 [36];
#### 4.4.22.2 Location Update Notification triggered by UE
In order to notify the AF of the updated UE location information received from
GMLC, the NEF shall initiate an HTTP POST request to the AF. The body of the
HTTP POST message shall include the location information related to UE MO-LR
within the LocUpdateData data structure.
Upon receipt of the corresponding HTTP POST message, if the AF cannot handle
the location estimate of the UE, e.g. the UE does not register to the AF, the
AF shall respond to the NEF with an error code. Otherwise, the AF shall handle
the location estimate according to the Service Identity if provided, and send
a HTTP response including \"200 OK\" status code with LocUpdateDataReply data
structure.
### 4.4.23 Procedures for AKMA
#### 4.4.23.1 General
The procedures support:
> \- request AKMA application key by the AF to the AAnF via the NEF as
> described in clause 6.3 of 3GPP TS 33.535 [37];
#### 4.4.23.2 AKMA Application Key Request
In order to retrieve the AKMA application key, the AF shall send an HTTP POST
request message to the resource URI \"{apiRoot}/3gpp-akma/v1/retrieve\". The
HTTP POST request includes the identification of AF and an A-KID.
Upon receipt of the corresponding HTTP POST message from the AF, if the AF\'s
request is authorized by the NEF, then the NEF shall interact with the AAnF to
retrieve the AKMA application key by using Naanf_AKMA service as defined in
3GPP TS 29.535 [38]. After receiving a successful response from the AAnF, the
NEF shall respond to the AF with a 200 OK status code, including a K~AF~ and
the expiration time of the K~AF,~ and if \"anonInd\" attribute contained in
AkmaAfKeyRequest data type is not set to \"true\" in the incoming request,
optionally the GPSI (external ID) which may be translated from the SUPI
received from the AAnF. The SUPI shall not be included in the response to the
external AF. If the NEF receives an error responsefrom the AAnF, the NEF shall
respond to the AF with a proper error status code.
If the NEF receives a response from the AAnF with an HTTP \"403 Forbidden\"
status code and the response message body including a ProblemDetails data
structure with the \"cause\" attribute set to the \"K_AKMA_NOT_PRESENT\"
application error, then the NEF shall relay this response to the AF.
### 4.4.24 Procedures for Time Synchronization Exposure
#### 4.4.24.0 General
Time synchronization exposure allows an AF to configure time synchronization
in 5GS. For (g)PTP operation, the Time synchronization service allows an AF to
subscribe to the UE and 5GC capabilities and availability for time
synchronization service (as described in clause 4.4.24.1) and to configure the
(g)PTP instance in 5GS as described in clause 4.4.24.2. For 5G access stratum
based time distribution, the AF can influence the 5G access stratum time
distribution as described in clause 4.4.24.3. The time synchronization
exposure is provided by NEF that uses the service provided by TSCTSF. The AF
that is part of operator\'s trust domain may invoke the services directly with
TSCTSF.
NOTE: The AF can use either the procedure for configuring the (g)PTP instance
in 5GS as described in clause 4.4.24.2 or the procedure for controlling the 5G
access stratum time distribution as described in clause 4.4.24.3 for a
particular UE. The procedures are not intended to be used in conjunction with
each other by the AF. However, the (g)PTP instance activation, modification,
and deactivation can influence the 5G access stratum time distribution for the
UEs that are part of the impacted PTP instance.
#### 4.4.24.1 Subscription and unsubscription to notification of Time
Synchronization Capabilites
The procedures are used by the AF to subscribe to notifications and to
explicitly cancel a previous subscription to notification of capabilities of
the time synchronization service for a list of UE(s), a group of UEs or any UE
using a DNN/S-NSSAI combination via the NEF.
In order to subscribe to the notification of capabilities of UE and 5GC, and
availability for the time synchronization service, the AF shall send an HTTP
POST rmessage to the NEF to the customized operation URI \"{apiRoot}/3gpp-
time-sync/v1/{afId}/subscriptions\". The HTTP POST request message body shall
include the TimeSyncExposureSubsc data structure that shall include:
\- one of the indication of the UEs to which the time synchronization
capabilities is requested via:
1)identification of a list of individual UEs within a \"gpsis\" attribute;
2)indication of any UE within the \"anyUeInd\" attribute if DNN and S-NSSAI
are provisioned; or
3)identification of a group of UE(s) via a \"exterGroupId\" attribute.
\- subscription to event(s) notification as \"subscribedEvents\" attribute
when the NF service consumer needs to subscribe to notifications;
\- notification URI within the \"subsNotifUri\" attribute; and
\- notification correlation Id within the \"subsNotifId\" attribute;
and may include:
\- either the DNN within the \"dnn\" attribute and the \"snssai\" attribute or
the AF Service Identifier within the \"afServiceId\" attribute;
\- the requested event filter(s) within the \"eventFilters\" attribute;
\- notification methods within the \"notifMethod\" attribute;
\- maximum number of reports within the \"maxReportNbr\" attribute;
\- expiry time within the \"expiry\" attribute; and
\- report period within the \"repPeriod\" attribute.
Upon the reception of an HTTP POST request, if the AF is authorized, the NEF
shall select a TSCTSF based on the local configuration or discover the TSCTSF
via Nnrf_NFDiscovery service as defined in 3GPP TS 29.510 [57] for a
DNN/S-NSSAI combination, if not configured. If the DNN and the S-NSSAI is
omitted in the AF request, prior the TSCTSF discovery the NEF shall determine
the corresponding DNN and S-NSSAI based on the received AF Service Identifier.
After the NEF obtains the TSCTSF, the NEF shall invoke the
Ntsctsf_TimeSynchronization_CapsSubscribe request service operation as defined
in clause 5.2.2.2.2 of 3GPP TS 29.565 [50] to the selected TSCTSF. If the NEF
receives an error responsefrom the TSCTSF, the NEF shall not create the
resource and shall respond to the AF with a proper error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
NOTE: It is assumed that there is only one TSCTSF set for a given DNN/S-NSSAI
in this release of the specification.
After receiving a successful response from the TSCTSF, the NEF shall create an
\"Individual Time Synchronization Exposure Subscription\" resource which
represents the time synchronization exposure subscription request, addressed
by a URI that contains the AF Identifier and a NEF-created configuration
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this \"Individual Time Synchronization
Exposure Subscription\".
In order to update an existing subscription, the AF shall send an HTTP PUT
message to the NEF targeting the resource \"Individual Time Synchronization
Exposure Subscription\". The body of the HTTP PUT request message shall
include the TimeSyncExposureSubsc data type. Upon receipt of the corresponding
HTTP PUT message, if the AF is authorized by the NEF, the NEF shall interact
with the TSCTSF by invoking Ntsctsf_TimeSynchronization_CapsSubscribe request
service operation as defined in clause 5.2.2.2.3 of 3GPP TS 29.565 [50]. After
receiving a successful response from the TSCTSF, the NEF shall update a
resource \"Individual Time Synchronization Exposure Subscription\" which
represents the exposure subscription, and responds to the AF with a 200 OK
with TimeSyncExposureSubsc data structure or 204 No Content status code.
When the NEF receives the notification of the capabilities of the time
synchronization service from the TSCTSF as defined in clause 5.2.2.4.2 of 3GPP
TS 29.565 [50], the NEF shall provide a notification to AF by sending HTTP
POST message that includes the TimeSyncExposureSubsNotif data structure in the
request body. Upon receipt of the notification, the AF shall respond with a
\"204 No Content\" status code to confirm the received notification.
In order to delete an existing subscription, the AF shall send an HTTP DELETE
message to the NEF targeting the resource \"Individual Time Synchronization
Exposure Subscription\". The NEF shall interact with the TSCTSF by invoking
the Ntsctsf_TimeSynchronization_CapsUnsubscribe service operation as defined
in clause 5.2.2.3.2 of 3GPP TS 29.565 [50] and delete the corresponding active
\"Individual Time Synchronization Exposure Subscription\" resource, then
respond to the AF with a 204 No Content status code.
#### 4.4.24.2 Time Synchronization Exposure Configuration
The procedures are used by the AF to activate, modify or deactivate the (g)PTP
instances by performing the time synchronization configuration at the NEF.
In order to configure the time synchronization parameters, the AF shall
initiate an HTTP POST request to the NEF for the \"Time Synchronization
Exposure Configurations\" resource. The body of the HTTP POST message shall
include the Time Synchronization related parameters within the
TimeSyncExposureConfig data structure.
Upon receipt of the corresponding HTTP POST message and the request is
authorized by the NEF, the NEF invokes the
Ntsctsf_TimeSynchronization_ConfigCreate service operation with the
corresponding TSCTSF as defined in 3GPP TS 29.565 [50]. After receiving a
successful response from the TSCTSF, the NEF shall create a new resource and
assign an identifier for the \"Individual Time Synchronization Exposure
Configuration\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with TimeSyncExposureConfig data structure as response body and a
Location header field containing the URI of the created individual resource.
In order to update an existing Individual Time Synchronization Exposure
Configuration, the AF may send an HTTP PUT message to the resource
\"Individual Time Synchronization Exposure Configuration\" requesting the NEF
to change all properties in the existing resource. The body of the HTTP PUT
request message shall include TimeSyncExposureConfig data type as defined in
clause 5.15.4.3.6. The user plane node Id shall remain unchanged from previous
values.
Upon receipt of the corresponding HTTP PUT message and the request is
authorized by the NEF, the NEF shall interact with the TSCTSF to modify an
existing resource at the TSCTSF by using
Ntsctsf_TimeSynchronization_ConfigUpdate service operation as defined in 3GPP
TS 29.565 [50]. If the modification request is accepted by the TSCTSF and the
TSCTSF informs the NEF with a successful response, the NEF shall update the
existing resource for the \"Individual Time Synchronization Exposure
Configuration\" resource. Then the NEF shall send a HTTP response including
\"200 OK\" status code with TimeSyncExposureConfig data structure or \"204 No
Content\" status code.
When the NEF receives the notification of the current state of time
synchronization service configuration from the TSCSF by
Ntsctsf_TimeSynchronization_ConfigUpdateNotify service operation defined in
3GPP TS 29.565 [50], the NEF shall provide a notification to AF by sending
HTTP POST message that include the TimeSyncExposureConfigNotif data structure
in the request body. Upon receipt of the notification, the AF shall respond
with a \"204 No Content\" status code to confirm the received notification.
To delete an existing \"Individual Time Synchronization Exposure
Configuration\", the AF shall initiate an HTTP DELETE request to the NEF for
the \"Individual Time Synchronization Exposure Subscription\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the TSCTSF to delete an existing
Individual Time Synchronization Exposure Configuration at the TSCTSF by using
Ntsctsf_TimeSynchronization_ConfigDelete service operation as defined in 3GPP
TS 29.565 [50]. If the request is accepted by the TSCTSF, the NEF shall delete
the existing resource for the \"Individual Time Synchronization Exposure
Configuration\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
#### 4.4.24.3 Management of 5G access stratum time distribution
The procedures are used by the AF to activate, update or delete the 5G access
stratum time distribution for one UE or group of UEs.
In order to configure the 5G access stratum time distribution parameters, the
AF shall initiate an HTTP POST request to the NEF for the \"ASTI
Configurations\" resource. The body of the HTTP POST message shall include the
5G access stratum time distribution parameters within the
AccessTimeDistributionData data structure as defined in clause 5.22.4.3.2.
Upon receipt of the corresponding HTTP POST message and the request is
authorized by the NEF, the NEF shall select a TSCTSF based on the local
configuration or discover the TSCTSF via Nnrf_NFDiscovery service as defined
in 3GPP TS 29.510 [57] for the GPSI or external group identifier, if not
configured. After the NEF obtains the TSCTSF, the NEF invokes the
Ntsctsf_ASTI_Create service operation with the corresponding TSCTSF, if
available, as defined in 3GPP TS 29.565 [50]. After receiving a successful
response from the TSCTSF, the NEF shall create a new resource and assign an
identifier for the \"Individual ASTI Configuration\" resource. Then the NEF
shall send a HTTP \"201 Created\" response with AccessTimeDistributionData
data structure as response body and a Location header field containing the URI
of the created individual resource. If the NEF receives an error responsefrom
the TSCTSF, the NEF shall not create the resource and shall respond to the AF
with a proper error status code. If the NEF received within an error response
a \"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
In order to update an existing Individual ASTI Configuration, the AF may send
an HTTP PUT message to the resource \"Individual ASTI Configuration\"
requesting the NEF to change all properties in the existing resource. The body
of the HTTP PUT request message shall include the AccessTimeDistributionData
data type.
Upon receipt of the corresponding HTTP PUT message and the request is
authorized by the NEF, the NEF shall interact with the TSCTSF to modify an
existing resource at the TSCTSF by using Ntsctsf__ASTI_Update service
operation as defined in 3GPP TS 29.565 [50]. If the modification request is
accepted by the TSCTSF and the TSCTSF informs the NEF with a successful
response, the NEF shall update the existing resource for the \"Individual ASTI
Configuration\" resource. Then the NEF shall send a HTTP response including
\"200 OK\" status responsewith AccessTimeDistributionData data structure or
\"204 No Content\" status code. If the NEF receives an error code from the
TSCTSF, the NEF shall not update the resource and shall respond to the AF with
a proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
To delete an existing Individual ASTI Configuration, the AF shall initiate an
HTTP DELETE request to the NEF for the \"Individual ASTI Configuration\"
resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the TSCTSF to delete an existing
Individual ASTI Configuration at the TSCTSF by using Ntsctsf_ASTI_Delete
service operation as defined in 3GPP TS 29.565 [50]. If the request is
accepted by the TSCTSF, the NEF shall delete the existing resource for the
\"Individual ASTI Configuration\" resource. Then the NEF shall send a HTTP
\"204 No Content\" response. If the NEF receives an error responsefrom the
TSCTSF, the NEF shall not delete the resource and shall respond to the AF with
a proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
AF may request and query the status of the access stratum time distribution
sending the HTTP POST request, \"retrieve\" custom operation, to the
resource\"ASTI Configurations\". The body of the HTTP POST request message
shall include the StatusRequestData data type as defined in clause 5.22.4.3.3.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized,
the NEF shall interact with the TSCTSF by using Ntsctsf_ASTI_Get service
operation as defined in 3GPP TS 29.565 [50]. Upon receipt of response from the
TSCTSF, the NEF shall shall send a HTTP \"200 OK\" response with the
StatusResponseData data structure as defined in clause 5.22.4.3.4 in the
payload. If the NEF receives an error responsefrom the TSCTSF, the NEF shall
respond to the AF with a proper error status code. If the NEF received within
an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
4.4.25 Procedures for ECS address Provisioning
The procedures are used by the AF to provision ECS address(es) to the NEF. The
procedures are applicable for an individual UE or a group of UEs.
In order to create an Individual ECS Address Provision Configuration resource,
the AF shall initiate an HTTP POST request to the NEF for the \"ECS Address
Provision Configurations\" resource. The body of the HTTP POST message shall
include within the EcsAddressProvision data structure the ECS address(es) via
the \"ecsServerAddr\" attribute, may include the spatial validity condition
via the \"spatialValidityCond\" attribute and target of UE information via the
\"tgtUe\" attirbute. Upon receipt of the corresponding HTTP POST message, if
the AF is authorized by the NEF to provision the ECS address(es), the NEF
shall interact with the UDM to create a resource at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
request is accepted by the UDM and the UDM informs the NEF with a successful
response, the NEF shall create a new resource and assign an identifier for the
\"Individual ECS Address Provision Configuration\" resource. Then the NEF
shall send a HTTP \"201 Created\" response with EcsAddressProvision data
structure as response body and a Location header field containing the URI of
the created individual resource.
In order to update an existing Individual ECS Address Provision Configuration,
the AF shall send an HTTP PUT message to the resource \"Individual ECS Address
Provision Configuration\" requesting the NEF to change all properties in the
existing resource. The body of the HTTP PUT request message shall include the
EcsAddressProvision data type. Upon receipt of the corresponding HTTP PUT
message, if the AF is authorized by the NEF to provision the ECS address(es),
the NEF shall interact with the UDM to modify an existing resource at the UDM
by using Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If
the modification request is accepted by the UDM and the UDM informs the NEF
with a successful response, the NEF shall update the existing resource for the
\"Individual ECS Address Provision Configuration\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
EcsAddressProvision data structure or \"204 No Content\" status code.
To delete an existing Individual ECS Address Provision Configuration, the AF
shall initiate an HTTP DELETE request to the NEF for the \"Individual ECS
Address Provision Configuration\" resource. Upon receipt of the corresponding
HTTP DELETE message, if the AF is authorized, the NEF shall interact with the
UDM to delete the existing resource at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
request is accepted by the UDM, the NEF shall delete the existing resource for
the \"Individual ECS Address Provision Configuration\" resource. Then the NEF
shall send a HTTP \"204 No Content\" response.
### 4.4.26 Procedures for AM Policy Authorization
#### 4.4.26.1 General
The procedures are used by AF to send request to NEF for AM Policy
Authorization, and for NEF to authorize an AF triggered AM Policy
Authorization request and trigger a respective Npcf_AMPolicyAuthorization
request. This service also allows the AF to subscribe/unsubscribe the
notification of event(s) for the existing AF application AM context.
The following procedures support:
\- Create/Modify/Delete of AF triggered application AM context; and
\- Subscribe/Unsubscribe/Notify event(s) for the existing AF application AM
context.
#### 4.4.26.2 Creation of a new Individual Application AM Context
In order to create a new Individual application AM context resource for a
given AF, the AF shall initiate an HTTP POST request to the NEF for the
\"Application AM Contexts\" resource. The HTTP POST request message body shall
include the AppAmContextExpData data structure that shall include:
\- identification of an individual UE via a \"gpsi\" attribute;
and may include:
\- subscription to AM policy event(s) notification as \"evSubscs\" attribute.
For each subscribed event, the AF may include the description of the event
reporting mode, as e.g. whether immediate reporting is required;
\- a high throughput requirement Indication as \"highThruInd\" attribute;
\- service coverage requirements as \"covReqs\" attribute; and
\- policy duration requirement as \"policyDuration\" attribute.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to request the AM policy authorization, the NEF shall trigger a
respective Npcf_AMPolicyAuthorization_Create request as defined in 3GPP TS
29.534 [43]. If the request is accepted by the PCF and the PCF informs the NEF
with a successful response, the NEF shall create a new \"Individual
application AM Context\" and assign an application AM context identifier for
the \"Individual application AM Context\" resource.
Then the NEF shall send a HTTP \"201 Created\" response with:
\- AppAmContextExpRespData data structure as response body, including the
created \"Individual application AM Context\" resource and, if immediate
reporting was requested for the subscribed event(s), the currently available
value(s), if received from the PCF; and
\- a Location header field containing the URI of the created \"Individual
application AM Context\" resource to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall not create
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
#### 4.4.26.3 Modification of an existing individual Application AM Context
In order to modify an existing individual Application AM Context resource, the
AF shall initiate an HTTP PATCH request to the NEF for the \"Individual
application AM Context\" resource. The body of the HTTP PATCH message shall
include the AppAmContextExpUpdateData data type as defined in clause
5.17.1.3.3.3.
Upon receipt of the corresponding HTTP PATCH message, if the AF is authorized
by the NEF to modify the AM policy authorization request, the NEF shall
interact with the PCF to modify an existing application AM context by using
Npcf_AMPolicyAuthorization_Update request as defined in 3GPP TS 29.534 [43].
If the modification request is accepted by the PCF and the PCF informs the NEF
with a successful response, the NEF shall update the existing application AM
context for the \"Individual application AM Context\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
AppAmContextExpRespData data structure (including the updated resource
representation and, if immediate reporting was requested for the new
subscribed event(s), the currently available value(s), if received from the
PCF) or \"204 No Content\" status code to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall not modify
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
#### 4.4.26.4 Deletion of an existing individual Application AM Context
To delete an existing application AM context, the AF shall initiate an HTTP
DELETE request to the NEF for the \"Individual application AM Context\"
resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is authorized
to delete the application AM context, the NEF shall interact with the PCF to
delete an existing application AM context at the PCF by using
Npcf_AMPolicyAuthorization_Delete request as defined in 3GPP TS 29.534 [43].
If the request is accepted by the PCF and informs the NEF with a successful
response, the NEF shall delete the existing application AM context for the
\"Individual application AM Context\" resource. Then the NEF shall send a HTTP
\"204 No Content\" response to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall take proper
error handling action and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.26.5 Create or modify subscription to notification of AM policy event
In order to create or modify the subscription to notification of AM policy
event(s) for the application AM context, the AF shall send an HTTP PUT message
to the NEF to the sub-resource \"AM Policy Events Subscription\", the HTTP PUT
message shall include the AmEventsSubscData data structure as request body.
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall interact with the PCF to subscribe to, or modify the subscription to the
AM policy event notification by using Npcf_AMPolicyAuthorization_Subscribe
request as defined in 3GPP TS 29.534 [43]. If the request is accepted by the
PCF and the PCF informs the NEF with a successful response, the NEF shall
create a new AM policy event subscription sub-resource in an existing
application AM context or modify an existing AM policy event subscription to
the \"AM Policy Events Subscription\" sub-resource. Then the NEF shall send:
\- for a subscription creation request, an HTTP \"201 Created\" response with:
a. AmEventsSubscRespData data structure as response body, including the
created \"AM Policy Events Subscription\" resource and, if immediate reporting
was requested for the subscribed event(s), the currently available value(s),
if received from the PCF; and
b. a Location header field containing the URI of the created individual
subscription resource to the AF; or
\- for a subscription update request, an HTTP \"200 OK\" response code with
AmEventsSubscRespData data structure with the updated \"AM Policy Events
Subscription\" resource or HTTP \"204 No Content\" response code and, if
immediate reporting was requested for the subscribed event(s), the currently
available value(s), if received from the PCF;
as response body to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall not create or
modify the sub-resource and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.26.6 Unsubscription to notification of AM policy event
In order to delete existing subscribed AM policy event(s) within the existing
Individual application AM context, the AF shall initiate the HTTP DELETE
request message to the NEF to the \"AM Policy Events Subscription\" sub-
resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is authorized
to delete the notification of AM policy event(s), the NEF shall interact with
the PCF to delete an existing subscription of notification to AM policy
event(s) within the existing application AM context at the PCF by using
Npcf_AMPolicyAuthorization_Unsubscribe request as defined in 3GPP TS 29.534
[43]. If the request is accepted by the PCF and informs the NEF with a
successful response, the NEF shall delete the existing subscription to
notification of AM policy event(s) within the existing application AM context
for the \"AM Policy Events Subscription\" resource. Then the NEF shall send a
HTTP \"204 No Content\" response to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall take proper
error handling action and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.26.7 Notification of AM policy event
If the NEF receives an AM policy event notification from the PCF indicating
that the subscribed AM policy event has been detected, the NEF shall provide a
notification to AF by sending HTTP POST message that include the
AmEventsNotification data structure in the request body. Upon receipt of the
AM policy event notification, the AF shall respond with a \"204 No Content\"
status code to confirm the received notification to the NEF.
### 4.4.27 Procedures for AF triggered Access and Mobility Influence
#### 4.4.27.1 General
The procedures are used by the AF to provision the Access and Mobility(AM)
policy related request via NEF to one or multiple UEs that may have already
registered or not. This service also allows the NEF to send the notification
of service area coverage outcome events to the AF.
#### 4.4.27.2 Create the AM Influence Subscription
In order to create a resource for the AM Influence, the AF shall send an HTTP
POST request message to the NEF for the \"AM Influence Subscription\"
resource. The request message may include the AF Transaction Identifier, GPSI,
DNN, S-NSSAI, External Group Identifier, list of application identifier(s), AF
Service Identifier, throughput requirements, service area coverage
requirements represented by list of geographical areas, policy duration,
subscribed event(s) and the notification destination address.
The request may target one or multiple UEs that may have already registered or
not. For an individual UE identified by GPSI, or a group of UEs identified by
External Group Identifier, the NEF shall interact with the UDM by invoking the
Nudm_SubscriberDataManagement service as described in 3GPP TS 29.503 [17] to
retrieve the SUPI or Internal Group Identifier. For all UEs, the NEF will not
interact with the UDM.
The NEF shall interact with the UDR by invoking the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20] to store the policy data in the
UDR.
If the NEF receives an error responsefrom the UDR, the NEF shall not create
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
After receiving a successful response from the UDR, the NEF shall create a
resource \"Individual AM Influence Subscription\", which represents the AM
influence subscription, addressed by a URI that contains the AF Identifier and
an NEF-created subscription identifier. The NEF shall respond to the AF with a
\"201 Created\" status code, including a Location header field containing the
URI for the created resource. The AF shall use the URI received in the
Location header when it subsequently sends requests to the NEF to reference
this AM influence subscription.
#### 4.4.27.3 Modifiy the AM Influence Subscription
In order to update an existing AM influence subscription, the AF shall send an
HTTP PUT or HTTP PATCH request message to the NEF for the \"Individual AM
Influence Subscription\" resource. The NEF shall interact with the UDR by
invoking the Nudr_DataRepository service as described in 3GPP TS 29.504 [20]
to update the policy data in the UDR.
If the NEF receives an error responsefrom the UDR, the NEF shall not update
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
After receiving a successful response from the UDR, the NEF shall update the
\"Individual AM Influence Subscription\" resource which represents the AM
influence subscription, and shall respond to the AF with an HTTP \"200 OK\" or
\"204 No Content\" response message.
#### 4.4.27.4 Delete the AM Influence Subscription
In order to delete an existing AM influence subscription, the AF shall send an
HTTP DELETE request message to the NEF for the \"Individual AM Influence
Subscription\" resource. The NEF shall interact with the UDR by invoking the
Nudr_DataRepository service as described in 3GPP TS 29.504 [20] to delete the
policy data in the UDR. If the NEF receives an error responsefrom the UDR, the
NEF shall take proper error handling actions and shall respond to the AF with
a proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall delete the
\"Individual AM Influence Subscription\" resource which represents the AM
influence subscription, and shall respond to the AF with an HTTP \"204 No
Content\" response message.
#### 4.4.27.5 Notification of service area coverage outcome events
When the NEF receives the notification of service area coverage outcome events
from the PCF as defined in 3GPP TS 29.534 [43], the NEF shall provide a
notification by sending an HTTP POST message to the AF. The HTTP POST message
shall include the subscribed event (service area coverage outcome event) to
the AF identified by the notification destination received during the
creation/modification of the AM Influence resource.
Upon receipt of the event notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received event notification.
### 4.4.28 Procedures for Northbound EAS Deployment Information management
#### 4.4.28.1 General
The procedures are used by AF to provide, update or delete EAS Deployment
Information to NEF, and for NEF to authorize the AF provisioned EAS Deployment
Information to be stored in the UDR.
The following procedures support:
\- Create/Update/Delete the AF provisioned EAS Deployment information;
#### 4.4.28.2 Creation of a new Individual EAS Deployment information resource
In order to create a new Individual EAS Deployment information resource for a
given AF, the AF shall initiate an HTTP POST request to the NEF for the \"EAS
Deployment Information\" resource. The HTTP POST request message body shall
include the EasDeployInfo data structure that shall include:
\- FQDN(s) of an application deployed in the Local part of the DN via an
\"fqdnPatternList\" attribute;
and may include:
\- an AF service identifier as the \"afServiceId\" attribute;
\- an DNN as \"dnn\" attribute;
\- an S-NSSAI as \"snssai\" attribute;
\- an external Group Identifier as \"exterGroupId\" attribute;
\- identification of an application as \"appId\" attribute; and
\- list of DNS server identifier and/or IP address(s) of the EAS in the local
DN for each DNAI as \"dnaiInfos\" attribute.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provide the EAS Deployment Information, the NEF shall interact
with the UDM by using Nudm_SubscriberDataManagement service as defined in 3GPP
TS 29.503 [17] to translate the external group identifier into the
corresponding internal group identifier and the NEF may derive DNN and S-NSSAI
from the AF Service Identifier if not received explicitly. Then the NEF shall
interact with the UDR to create the associated EAS Deployment information by
using the Nudr_DataRepository service as defined in 3GPP TS 29.504 [20]. If
the request is accepted by the UDR and the UDR informs the NEF with a
successful response, the NEF shall create a new \"Individual EAS Deployment
Information\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with the EasDeployInfo data structure including the contents of the
created EAS Deployment Information resource in theresponse body and a Location
header field containing the URI of the created individual EAS Deployment
Information resource. If the NEF receives an error responsefrom the UDR, the
NEF shall not create the resource and shall respond to the AF with a proper
error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
#### 4.4.28.3 Modification of an existing individual EAS Deployment
Information resource
In order to modify an existing individual EAS Deployment Information resource,
the AF shall initiate an HTTP PUT request to the \"Individual EAS Deployment
Information\" resource. The request body shall include the EasDeployInfo data
structure. The \"afServiceId\" value shall remain unchanged from the previous
value, if available in the HTTP PUT message.
Upon receipt of the corresponding HTTP PUT request message, if the AF is
authorized by the NEF to modify the existing individual EAS Deployment
Information resource, the NEF shall interact with the UDR by invoking the
Nudr_DataRepository service as described in 3GPP TS 29.504 [20] to modify the
EAS Deployment Information in the UDR.
If the modification request is accepted by the UDR and the UDR informs the NEF
with a successful response, the NEF shall update the existing individual EAS
Deployment Information resource. Then the NEF shall send a HTTP response
including \"200 OK\" status code with EasDeployInfo data structure or \"204 No
Content\" status code.
If the NEF receives an error responsefrom the UDR, the NEF shall not update
the \"Individual EAS Deployment Information\" resource and shall respond a
proper error status code to the AF. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
#### 4.4.28.4 Deletion of an existing individual EAS Deployment Information
resource
In order to delete an existing EAS Deployment Information, the AF shall send
an HTTP DELETE request message to the NEF for the \"Individual EAS Deployment
Information\" resource. The NEF shall interact with the UDR by invoking the
Nudr_DataRepository service as described in 3GPP TS 29.504 [20] to delete the
EAS Deployment Information in the application data in the UDR.
After receiving a successful response from the UDR, the NEF shall delete the
\"Individual EAS Deployment Information\" resource and shall respond to the AF
with an HTTP \"204 No Content\" response message.
If the NEF receives an error responsefrom the UDR, the NEF shall take proper
error handling actions and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.28.5 Deletion of EAS Deplyoment Information based on given criteria
In order to delete existing EAS Deployment Information resource(s) which match
given attributes, the NF service consumer shall send an HTTP POST request with
\"{apiRoot}/3gpp-eas-deployment/\/remove-edis\" as URI. The POST
request body shall contain an EdiDeleteCriteria data structure. The
EdiDeleteCriteria data structure provided in the request body shall include at
least one of the following:
\- an AF identifier within the \"afId\" attribute;
\- DNN and slice information within the \"dnnSnssai\" attribute;
Upon the reception of this HTTP POST request, if the NF service consumer is
authorized by the NEF to delete the EAS Deployment Information, the NEF shall
determine the EAS Deployment Information resources that match the provided
criteria and interact with the UDR to delete the associated EAS Deployment
Information by using the Nudr_DataRepository service as defined in 3GPP TS
29.504 [20]. If the request is accepted by the UDR and the UDR informs the NEF
with a successful response, the NEF shall send a HTTP \"204 No Content\"
response. If the NEF receives an error code from the UDR, the NEF shall
respond to the AF with a proper error status code.
### 4.4.29 Procedures for MBS Management
#### 4.4.29.1 General
The procedures described in the clauses below are used by an AF to interact
with the 5GC for MBS management as defined in 3GPP TS 23.247 [53] and 3GPP TS
26.502 [65], in order to carry out the following procedures:
\- MBS TMGI management procedures.
\- MBS Session management procedures.
\- MBS User Service management procedures.
\- MBS User Data Ingest Session management procedures.
#### 4.4.29.2 Procedures for MBS TMGI management
##### 4.4.29.2.1 General
The procedures described in the clauses below are used by an AF to request and
manage TMGI(s) for MBS session(s) as defined in clause 7.1 of 3GPP TS 23.247
[53].
##### 4.4.29.2.2 Procedure for MBS TMGI(s) allocation or MBS TMGI(s) expiry
time refresh
This procedure is used by an AF to request the allocation of TMGI(s) for new
MBS session(s) or the refresh of the expiry time of already allocated MBS
TMGI(s).
In order to request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated MBS TMGI(s), an AF shall send
a Nnef_MBSTMGI_Allocation request message to the NEF using the HTTP POST
method with the request body including the TmgiAllocRequest data structure
that shall contain:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request;
\- within the \"tmgiParams\" attribute, the parameters (e.g. number of TMGI(s)
to be allocated, etc.) to request the allocation of TMGI(s) for new MBS
session(s) or the refresh of the expiry time of already allocated TMGI(s);
\- within the \"suppFeat\" attribute, the features supported by the AF, if
feature negotiation needs to take place;
and may contain:
\- within the \"notificationUri\" attribute, the notification URI via which
the AF desires to receive notifications on timer expiry for TMGI(s);
\- within the \"requestTestNotification\" attribute, an indication on whether
the NEF should send a test notification, if the \"Notification_test_event\"
feature is supported;
\- within the \"websockNotifConfig\" attribute, the configuration parameters
to set up notification delivery over Websocket protocol, if the
\"Notification_websocket\" feature is supported; and/or
\- within the either \"mbsServiceArea\" attribute or the \"extMbsServiceArea\"
attribute, the MBS service area for the TMGI(s) to be allocated, which may be
needed for a local MBS service.
The NEF shall then check whether the AF is authorized to perform this
operation or not as defined in clause 6.1.1 of 3GPP TS 23.247 [53]. If the AF
is authorized, then:
\- if the MBS Service Area information is provided via the
\"extMbsServiceArea\" attribute, the NEF shall translate the received
geographical area(s) or civic address(es) to a list of TAI(s) and/or cell
ID(s);
\- the NEF shall determine the target MB-SMF either by querying the NRF to
discover and select an MB-SMF (service) instance that can handle this request,
or based on local configuration; and
\- the NEF shall convey this MBS TMGI(s) allocation request or expiry time
refresh request to the selected MB-SMF using the Nmbsmf_TMGI service API as
defined in 3GPP TS 29.532 [52].
Upon reception of a successful response from the MB-SMF as defined in 3GPP TS
29.532 [52], the NEF shall forward the received information (e.g. allocated
MBS TMGI(s), expiry time or updated expiry time of existing MBS TMGI(s), etc.)
to the AF in a Nnef_MBSTMGI_Allocation response message with an HTTP \"200
OK\" status code and the response body including the TmgiAllocResponse data
structure that shall contain:
\- within the \"tmgiInfo\" attribute, the MBS TMGI(s) allocation information
or the refreshed expiry time for already allocated MBS TMGI(s); and
\- within the \"suppFeat\" attribute, the features supported by both the AF
and the NEF, if feature negotiation needs to take place and the AF provided
the list of its supported features in the corresponding request body.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.19.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.2.3 Procedure for MBS TMGI(s) deallocation
This procedure is used by an AF to request the deallocation of previously
allocated MBS TMGI(s).
In order to request the deallocation of previously allocated MBS TMGI(s), an
AF shall send a Nnef_MBSTMGI_Deallocation request message to the NEF using the
HTTP POST method with the request body including the TmgiDeallocRequest data
structure that shall contain :
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request; and
\- within the \"tmgis\" attribute, the list of MBS TMGI(s) for which
deallocation is requested.
The NEF shall then check whether the AF is authorized to perform this
operation or not as defined in clause 6.1.1 of 3GPP TS 23.247 [53]. If the AF
is authorized, the NEF shall convey this MBS TMGI(s) deallocation request to
the MB-SMF using the Nmbsmf_TMGI service API as defined in 3GPP TS 29.532
[52].
Upon reception of a successful response from the MB-SMF confirming the
deallocation of the TMGI(s), the NEF shall forward this confirmation to the AF
in a Nnef_MBSTMGI_Deallocation response message with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.19.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.2.4 Procedure for MBS TMGI(s) timer expiry notification
This procedure is used by the NEF to notify an already subscribed AF of timer
expiry for previously allocated MBS TMGI(s).
In order to notify an AF of timer expiry for previously allocated MBS TMGI(s),
the NEF shall send a Nnef_MBSTMGI_ExpiryNotify request message to the AF using
the HTTP POST method with the request body including the ExpiryNotif data
structure that shall contain:
\- within the \"tmgis\" attribute, the list of MBS TMGI(s) for which the timer
has expired.
Upon reception of this notification request, the AF shall acknowledge its
successful reception by sending a Nnef_MBSTMGI_ExpiryNotify response message
with an HTTP \"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.19.7, and respond to the NEF with an appropriate error status code.
#### 4.4.29.3 Procedures for MBS session management
##### 4.4.29.3.1 General
The procedures described in the clauses below are used by an AF to create,
update or delete MBS session(s) and to subscribe to / unsubscribe from MBS
Session Status event(s) reporting at the NEF.
This service is applicable for both broadcast and multicast sessions or, for a
location dependent MBS session, the part of an MBS Session within an MBS
service area, as defined in 3GPP TS 23.247 [53].
##### 4.4.29.3.2 Procedure for MBS session creation
This procedure is used by an AF to request the creation of a multicast or a
broadcast MBS session or, for a location dependent MBS session, the part of an
MBS Session within an MBS service area.
In order to request the creation of an MBS Session, an AF shall send a
Nnef_MBSSession_Create request to the NEF using the HTTP POST method and
targeting the \"MBS Sessions\" collection resource with the request message
body including the MbsSessionCreateReq data structure that shall contain:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request; and
\- within the \"mbsSession\" attribute, the characteristics of the MBS session
that is to be created.
The \"mbsSession\" attribute shall be encoded using the MbsSession data
structure that shall contain:
\- within the \"mbsSessionId\" attribute, the identifier of the MBS Session
(e.g. SSM, TMGI), if available;
\- within the \"tmgiAllocReq\" attribute, the TMGI allocation request
indication, if the \"mbsSessionId\" attribute is either absent or does not
contain a TMGI; and
\- within the \"serviceType\" attribute, the MBS service type (i.e. multicast
or broadcast);
\- within the \"locationDependent\" attribute, the location dependent MBS
session indication, if the request is related to a location dependent MBS;
and may further contain:
\- for a multicast or a broadcast MBS session:
\- within the \"ingressAddrReq\" attribute, the ingress transport address
request indication to indicate whether the allocation of an ingress transport
address is requested or not;
\- within the \"extMbsServiceArea\" attribute, the MBS service area, for a
location dependent MBS session or a local MBS session;
\- within the \"activationTime\" attribute, the MBS session activation time;
\- within the \"terminationTime\" attribute, the MBS session termination time;
\- within the \"mbsServInfo\" attribute, the MBS Service Information for the
MBS session; and
\- within the \"mbsSessionSubsc\" attribute, the parameters to request the
creation of a subscription to MBS session status event(s) reporting;
\- for a multicast MBS session:
\- within the \"activityStatus\" attribute, the MBS session activity status
(i.e. active or inactive); and
\- within the \"anyUeInd\" attribute, the indication of whether any UE may
join the MBS session;
\- for a broadcast MBS session:
\- within the \" mbsFsaIdList\" attribute, the list of MBS frequency selection
area Identifiers (i.e. FSA IDs).
At the reception of this HTTP POST request for MBS session creation:
\- the NEF may decide to interact with the PCF for MBS policy authorization of
the received MBS Service Information;
\- if the NEF decides to interact with the PCF, then:
\- if the NEF did not receive an MBS Session Identifier or received a TMGI
allocation request within the \"tmgiAllocReq\" attribute, the NEF shall
request TMGI allocation to the MB-SMF using the Nmbsmf_TMGI service API, as
specified in 3GPP TS 29.532 [52];
\- if the received MBS Session Creation request is for the creation of an MBS
Session that is part of a location dependent MBS, i.e. the
\"locationDependent\" attribute is present and set to \"true\", and there is a
need to select the same PCF for all the MBS Sessions composing the location
dependent MBS, the NEF shall interact with the BSF using the Nbsf_Management
service API to check whether there is already a PCF serving the MBS Sessions
of the location dependent MBS based on the MBS Session Identifier, as
specified in 3GPP TS 29.532 [52]. Then:
NOTE 1: Interacting with the BSF to discover whether there is already a PCF
serving the MBS Session is not necessary in a deployment with a single PCF.
\- if there is a PCF already serving the MBS Sessions of the location
dependent MBS, the NEF shall use this PCF for MBS policy authorization of the
received MBS Service Information;
\- if there is no PCF already serving the MBS Sessions of the location
dependent MBS or the NEF did not interact with the BSF, the NEF shall interact
with the NRF using the Nnrf_NFDiscovery service API to discover a PCF
(service) instance to serve the MBS Session possibly based on the MBS Session
Identifier, as specified in 3GPP TS 29.510 [57];
\- the NEF shall then interact with the selected PCF (service) instance using
the Npcf_MBSPolicyAuthorization service API for MBS policy authorization of
the received MBS Service Information and the creation of a corresponding MBS
Application Session Context at the PCF, as specified in 3GPP TS 29.537 [63];
and
\- if MBS session authorization is successful or when the NEF decides to not
interact with the PCF for MBS policy authorization, the NEF shall interact
with the MB-SMF using the Nmbsmf_MBSSession service API to request the
creation of a corresponding MBS session at the MB-SMF as specified in 3GPP TS
29.532 [52]; and
\- if the MBS Service Area information is provided within the
\"extMbsServiceArea\" attribute, the NEF shall translate the received
geographical area(s) or civic address(es) to a list of cell ID(s) and/or list
of TAI(s) before relaying it to the MB-SMF.
Upon reception of a successful response from the MB-SMF and successful MBS
session creation at the NEF, the NEF shall return a Nnef_MBSSession_Create
response with an HTTP \"201 Created\" status code to theAF including a
\"Location\" header that shall contain the URI of the created \"Individual MBS
Session\" resource, and the response body including the MbsSessionCreateRsp
data structure that shall contain:
\- within the \"mbsSession\" attribute, a representation of the created
Individual MBS Session resource encoded using the MbsSession data structure,
including:
\- the area session ID assigned by the MB-SMF in the case of a location
dependent MBS within the \"areaSessionId\" attribute of the MbsSession data
structure;
\- the allocated TMGI for the MBS session, if the MBS session creation request
included a \"tmgiAllocReq\" attribute requesting TMGI allocation for the MBS
session, within the \"tmgi\" attribute;
\- if unicast transport is used over N6mb/Nmb9, the ingress MB-UPF tunnel
information, within the \"ingressTunAddr\" attribute;
\- if the \"serviceType\" value is \"BROADCAST\" and any MBS FSA ID(s)
received from the MB-SMF, the list of MBS FSA ID(s) within the
\"mbsFsaIdList\" attribute.
\- within the \"eventList\" attribute, a list of MBS Session Status Event(s)
report(s), if available.
If the MBS session creation request contained a request to also create a
subscription to MBS session status event(s) within the \"mbsSessionSubsc\"
attribute, the the NEF shall also create a corresponding \"Individual MBS
Session Subscription\" resource and return a representation of it in the HTTP
POST response body within the \"mbsSessionSubsc\" attribute of the MbsSession
data structure. The \"mbsSessionSubsc\" attribute shall contains the
identifier of the created \"Individual MBS Session Subscription\" resource
within the \"subscriptionId\" attribute. The AF shall construct the URI of the
created \"Individual MBS Session Subscription\" resource by appending the path
segments \"/subscriptions/{subscriptionId}\", where the \"subscriptionId\"
takes the value of the received \"subscriptionId\" attribute, to the URI of
the created \"Individual MBS Session\" resource received within the HTTP
Location header.
On failure or if the NEF receives an error code from the PCF, the NRF or the
MB-SMF, the NEF shall take proper error handling actions, as specified in
clause 5.20.7, and respond to the AF with an appropriate error status code,.
If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
##### 4.4.29.3.3 Procedure for MBS session update
This procedure is used by an AF to request the modification of an existing
multicast or a broadcast MBS session or, for a location dependent MBS session,
the part of an MBS Session within an MBS service area.
In order to request the modification of an existing MBS Session, an AF shall
send a Nnef_MBSSession_Update request using the HTTP PATCH method and
targeting the URI of the corresponding \"Individual MBS Session\" resource and
the request message body including an array of PatchItem data structure(s)
containing the requested modifications. For a multicast or a broadcast MBS
session, only the \"mbsServiceArea\" attribute, and/or the \"mbsServInfo\"
attribute may be modified. For a multicast MBS session, the \"activityStatus\"
attribute may also be modified. For a broadcast MBS session, the
\"mbsFsaIdList\" attribute may also be modified.
At the reception of this HTTP PATCH request for MBS session modification:
\- if updated MBS Service Information is provided and the NEF decided to
interact with the PCF during MBS Session Creation as specified in clause
4.4.29.3.2, the NEF shall also interact with the PCF for MBS policy
authorization of the received updated MBS Service Information and the update
of the corresponding MBS Application Session Context, as specified in 3GPP TS
29.537 [63];
\- if MBS session authorization is successful or when the NEF does not
interact with the PCF, the NEF shall interact with the MB-SMF to request the
modification of the corresponding MBS session at the MB-SMF as specified in
3GPP TS 29.532 [52];
\- if the NEF receives an \"indication that the PCF shall be contacted\"
within the \"contactPcfInd\" attribute from the PCF as specified in 3GPP TS
29.537 [63], the NEF shall relay this indication to the MB-SMF;
and
\- if updated MBS Service Area information is provided within the
\"extMbsServiceArea\" attribute, the NEF shall translate the received
geographical area(s) or civic address(es) to a list of cell ID(s) and/or list
of TAI(s) before relaying it to the MB-SMF.
Upon reception of a successful response from the MB-SMF and successful MBS
session modification, the NEF shall return a Nnef_MBSSession_Update response
with an HTTP \"204 No Content\" status code.
On failure or if the NEF receives an error responsefrom the PCF or the MB-SMF,
the NEF shall take proper error handling actions, as specified in clause
5.20.7, and respond to the AF with an appropriate error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
##### 4.4.29.3.4 Procedure for MBS session deletion
This procedure is used by an AF to request the deletion of an existing
multicast or a broadcast MBS session or, for a location dependent MBS session,
the part of an MBS Session within an MBS service area.
In order to request the deletion of an existing MBS Session, an AF shall send
a Nnef_MBSSession_Delete request using the HTTP DELETE method and targeting
the URI of the corresponding \"Individual MBS Session\" resource.
At the reception of this HTTP DELETE request for MBS session deletion:
\- if the NEF decided to interact with the PCF during MBS Session Creation as
specified in clause 4.4.29.3.2, the NEF shall also interact with the PCF to
request the deletion of the corresponding MBS Application Session Context, as
specified in 3GPP TS 29.537 [63]; and
\- the NEF shall interact with the MB-SMF to request the deletion of the
corresponding MBS Session.
Upon success, the NEF shall return a Nnef_MBSSession_Delete response with an
HTTP \"204 No Content\" status code.On failure or if the NEF receives an error
responsefrom the PCF or the MB-SMF, the NEF shall take proper error handling
actions, as specified in clause 5.20.7, and respond to the AF with an
appropriate error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
##### 4.4.29.3.5 Procedure for MBS session status subscription
This procedure is used by an AF to request to create a subscription to MBS
session status event(s) reportingfor a multicast or a broadcast MBS session
or, for a location dependent MBS session, the part of an MBS Session within an
MBS service area.
In order to request the creation of a new subscription to MBS Session status
event(s) reporting, an AF shall send a Nnef_MBSSession_StatusSubscribe request
to the NEF using the HTTP POST method and targeting the \"MBS Session
Subscriptions\" collection resource, with the request body including the
MbsSessionSubsc data structure.
On successful MBS session subscription creation, the NEF shall return a
Nnef_MBSSession_StatusSubscribe response with an HTTP \"201 Created\" status
code to the AF, including a \"Location\" header containing the URI of the
created \"Individual MBS Session Subscription\" resource and the response body
containing a representation of the created resource within the MbsSessionSubsc
data structure.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.20.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.3.6 Procedure for MBS session status unsubscription
This procedure is used by an AF to request the deletion of an existing
subscription to MBS session status event(s) reportingfor a multicast or a
broadcast MBS session or, for a location dependent MBS session, the part of an
MBS Session within an MBS service area.
In order to request the deletion of an existing subscription to MBS Session
status event(s) reporting, an AF shall send a
Nnef_MBSSession_StatusUnsubscribe request to the NEF using the HTTP DELETE
method and targeting the corresponding \"Individual MBS Session Subscription\"
resource.
On successful deletion of the subscription, the NEF shall return a
Nnef_MBSSession_StatusUnsubcribe response with an HTTP \"204 No Content\"
status code.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.20.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.3.7 Procedure for MBS session status notification
This procedure is used by the NEF to send MBS session status event(s)
notifications to a previously subscribed AF.
In order to send an MBS Session status event(s) notification, the NEF shall
send a Nnef_MBSSession_StatusNotify request to the AF using the HTTP POST
method and targeting the notification URI provided by the AF during the
corresponding MBS session subscription creation/modification, with the request
body including the MbsSessionStatusNotif data structure that shall contain:
\- within the \"eventList\" attribute, the reported MBS session event(s) ) and
the related information, encoded via the MbsSessionEventReportList data
structure that shall contain:
\- within the \"eventReportList\" attribute, one or several MBS session event
report(s), with each one of them encoded using the MbsSessionEventReport data
structure that shall contain:
\- within the \"eventType\" attribute, the reported MBS session status event;
\- within the \"timeStamp\" attribute, the time at which the event is
generated, if available;
\- within the \"ingressTunAddrInfo\" attribute, the ingress tunnel address to
use to send MBS session data over N6mb/Nmb9 interface, if the \"eventType\"
attribute is set to \"INGRESS_TUNNEL_ADD_CHANGE\";
and
\- within the \"eventList\" attribute, the list of MBS session events to be
reported, encoded via the MbsSessionEventReportList data structure that shall
contain;
\- within the \"eventReportList\" attribute, one or several individual MBS
session event report(s), with each one of them encoded within the
MbsSessionEventReport data structure that shall contain:
\- within the \"broadcastDelStatus\" attribute, the broadcast delivery status
(e.g. whether the MBS session is ACTIVATED or TERMINATED), if the
\"eventType\" attribute is set to \"BROADCAST_DELIVERY_STATUS\".
Upon reception of this notification request, the AF shall acknowledge its
successful reception by sending a Nnef_MBSSession_StatusNotify response with
an HTTP \"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
subclause 5.20.7, and respond to the NEF with an appropriate error status
code.
#### 4.4.29.4 Procedures for MBS Parameters Provisioning
##### 4.4.29.4.1 General
The procedures described in the clauses below are used by an AF to perform MBS
parameters provisioning, e.g. multicast MBS Session Authorization information
provisioning as defined in clause 7.2.9 of 3GPP TS 23.247 [53].
##### 4.4.29.4.2 Procedure for multicast MBS Session Authorization information
provisioning
This procedure is used by an AF to request the creation/update/deletion of an
MBS Session Authorization information provisioning for a multicast MBS group.
In order to request the creation of an MBS Parameters Provisioning for the
purpose of MBS Session Authorization information provisioning for a multicast
MBS group, an AF shall trigger the Nnef_MBSSession API by sending an HTTP POST
request to the NEF targeting the \"MBS Parameters Provisionings\" collection
resource, with the request body including the MbsPpData data structure that
shall contain:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request;
\- within the \"mbsSessAuthData\" attribute, the MBS Session Authorization
information data to be provisioned, encoded via the MbsSessAuthData data
structure that shall contain:
\- within the \"extGroupId\" attribute, the external group identifier of the
targeted multicast MBS Group; and
\- within the \"gpsisList\" attribute, the list of the GPSI(s) of the member
UE(s) constituting the multicast MBS group, if the multicast MBS group has not
yet been created or the list of its member(s) needs to be updated; and
\- within the \"mbsSessionIdList\" attribute, the identifier(s) of the
multicast MBS Session(s) that the multicast MBS group is authorized to join;
and
\- within the \"suppFeat\" attribute, the features supported by the AF, if
applicable (i.e. feature negociation needs to take place).
The NEF shall then check whether the AF is authorized to perform this
operation or not as defined in clause 7.2.9 of 3GPP TS 23.247 [53]. If the AF
is authorized, the NEF shall trigger the Nudm_ParameterProvision service API
of the UDM to request the provisioning of the received MBS Session
Authorization information.
Upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"200 OK\" status
code including a Location header field containing the URI of the created
resource, and the response body containing the MbsPpData data structure
containing a representation of the created \"Individual MBS Parameters
Provisioning\" resource.
In order to request the update of an existing \"Individual MBS Parameters
Provisioning\" resource for the purpose of MBS Session Authorization
information provisioning for a multicast MBS group, an AF shall trigger the
Nnef_MBSSession API by sending to the NEF either:
\- an HTTP PUT request targeting the concerned \"Individual MBS Parameters
Provisioning\" resource with the request body including the MbsPpData data
structure; or
\- an HTTP PATCH request targeting the concerned \"Individual MBS Parameters
Provisioning\" resource with the request body including the MbsPpDataPatch
data structure.
After authorizing the request, the NEF shall interact with the UDM via the the
Nudm_ParameterProvision service API to request the provisioning of the
received updated MBS Session Authorization information.
Upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"200 OK\" status
code with the response body containing a representation of the updated
Individual MBS Parameters Provisioning resource within the MbsPpData data
structure, or an HTTP \"204 No Content\" status code.
In order to request the deletion of an existing \"Individual MBS Parameters
Provisioning\" resource for the purpose of MBS Session Authorization
information provisioning for a multicast MBS group, an AF shall trigger the
Nnef_MBSSession API by sending an HTTP DELETE request targeting the concerned
\"Individual MBS Parameters Provisioning\" resource to the NEF. After
authorizing the request, the NEF shall interact with the UDM via the the
Nudm_ParameterProvision service API to request to update accordingly the MBS
Session Authorization information.
Upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"204 No Content\"
status code.
On failure or if the NEF receives an error code from the UDM, the NEF shall
take proper error handling actions, as specified in clause 5.20.7, and respond
to the AF with an appropriate error status code.
NOTE: The stage 2 Nnef_ParameterProvisioning API for MBS Parameters
Provisioning is implemented in stage 3 via the Nnef_MBSSession API.
#### 4.4.29.5 Procedures for MBS User Service management
##### 4.4.29.5.1 General
The procedures described in the clauses below are used by an
external/untrusted AF (e.g. MBS Application Provider that lies outside the
trusted DN) to manage MBS User Services via the NEF, i.e. create, retrieve,
update and delete an MBS User Service, as defined in 3GPP TS 26.502 [65].
##### 4.4.29.5.2 Procedure for MBS User Service creation
This procedure is used by an AF to request the creation of a new MBS User
Service at the NEF.
In order to request the creation of an MBS User Service, an AF shall send a
Nnef_MBSUserService_Create request to the NEF using the HTTP POST method and
targeting the \"MBS User Services\" collection resource, with the request
message body including the MBSUserService data structure, as specified in
clause 5.26.2.2.3.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the creation of the
corresponding MBS User Service at the MBSF, as specified in 3GPP TS 29.580
[66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Create response with
an HTTP \"201 Created\" status code including a \"Location\" header field that
shall contain the URI of the created resource, and the response body
containing a representation of the created \"Individual MBS User Service\"
resource within the MBSUserService data structure, as specified in clause
5.26.2.2.3.2.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.26.7, and
respond to the AF with an appropriate error status code.
##### 4.4.29.5.3 Procedure for MBS User Service retrieval
This procedure is used by an AF to request the retrieval of an existing MBS
User Service at the NEF.
In order to request the retrieval of an existing MBS User Service, an AF shall
send a Nnef_MBSUserService_Retrieve request using the HTTP GET method and
targeting the URI of the concerned \"Individual MBS User Service\" resource,
as specified in clause 5.26.2.3.3.1.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the retrieval of the
corresponding MBS User Service at the MBSF, as specified in 3GPP TS 29.580
[66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Retrieve response with
an HTTP \"200 OK\" status code and the response body containing a
representation of the requested Individual MBS User Service resource within
the MBSUserService data structure, as specified in clauses 5.26.2.3.3.1.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.26.7, and respond
to the AF with an appropriate error status code.
##### 4.4.29.5.4 Procedure for MBS User Service update/modification
This procedure is used by an AF to request the update/modification of an
existing MBS User Service at the NEF.
In order to request the update of an existing MBS User Service, an AF shall
send a Nnef_MBSUserService_Update request using the HTTP PUT method and
targeting the URI of the corresponding \"Individual MBS User Service\"
resource, with the request body including the MBSUserService data structure,
as specified in clause 5.26.2.3.3.2.
In order to request the modification of an existing MBS User Service, an AF
shall send a Nnef_MBSUserService_Update request using the HTTP PATCH method
and targeting the URI of the corresponding \"Individual MBS User Service\"
resource, with the request body including the MBSUserServicePatch data
structure, as specified in clause 5.26.2.3.3.3.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the
update/modification of the corresponding MBS User Service at the MBSF, as
specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Update response with
an HTTP \"200 OK\" status code with the response body containing a
representation of the updated Individual MBS User Service resource within the
MBSUserService data structure, or an HTTP \"204 No Content\" status code, as
specified in clause 5.26.2.3.3.2 or clause 5.26.2.3.3.3.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.26.7, and respond
to the AF with an appropriate error status code.
##### 4.4.29.5.5 Procedure for MBS User Service deletion
This procedure is used by an AF to request the deletion of an existing MBS
User Service at the NEF.
In order to request the deletion of an existing MBS User Service, an AF shall
send a Nnef_MBSUserService_Delete request using the HTTP DELETE method and
targeting the URI of the concerned \"Individual MBS User Service\" resource,
as specified in clause 5.26.2.3.3.4.
NOTE: The Nnef_MBSUserService_Delete service operation corresponds to the
stage 2 Nnef_MBSUserService_Destroy service operation defined in 3GPP TS
26.502 [65].
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the deletion of the
corresponding MBS User Service at the MBSF, as specified in 3GPP TS 29.580
[66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Delete response with
an HTTP \"204 No Content\" status code, as specified in clause 5.26.2.3.3.4.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.26.7, and respond
to the AF with an appropriate error status code.
#### 4.4.29.6 Procedures for MBS User Data Ingest Session management
##### 4.4.29.6.1 General
The procedures described in the clauses below are used by an
external/untrusted AF (e.g. MBS Application Provider that lies outside the
trusted DN) to manage an MBS User Data Ingest Session along with its
subordinate MBS Distribution Session(s) via the NEF, i.e. create, retrieve,
update/modify and delete an MBS User Data Ingest Session, create, retrieve,
update/modify and delete an MBS User Data Ingest Session Status subscription,
and manage the related MBS User Data Ingest Session Status notifications, as
defined in 3GPP TS 26.502 [65].
##### 4.4.29.6.2 Procedure for MBS User Data Ingest Session creation
This procedure is used by an AF to request the creation of a new MBS User Data
Ingest Session at the NEF.
In order to request the creation of an MBS User Data Ingest Session, including
a set of subordinate MBS Distribution Session(s), an AF shall send a
Nnef_MBSUserDataIngestSession_Create request message to the NEF using the HTTP
POST method and targeting the \"MBS User Data Ingest Sessions\" collection
resource, with the request message body including the MBSUserDataIngSession
data structure, as specified in clause 5.27.2.2.3.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession API of the MBSF to request the creation of the
corresponding MBS User Data Ingest Session at the MBSF, as specified in 3GPP
TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Create
response message with an HTTP \"201 Created\" status code including a
\"Location\" header field that shall contain the URI of the created resource,
and the response body containing a representation of the created \"Individual
MBS User Data Ingest Session\" resource within the MBSUserDataIngSession data
structure, as specified in clause 5.27.2.2.3.2.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.27.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a ProblemDetails data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.6.3 Procedure for MBS User Data Ingest Session retrieval
This procedure is used by an AF to request the retrieval of an existing MBS
User Data Ingest Session at the NEF.
In order to request the retrieval of an existing MBS User Data Ingest Session,
an AF shall send a Nnef_MBSUserDataIngestSession_Retrieve request message
using the HTTP GET method and targeting the URI of the concerned \"Individual
MBS User Data Ingest Session\" resource, as specified in clause 5.27.2.3.3.1.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the
retrieval of the corresponding MBS User Data Ingest Session at the MBSF, as
specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Retrieve
response message with an HTTP \"200 OK\" status code and the response body
containing a representation of the requested Individual MBS User Data Ingest
Session resource within the MBSUserDataIngSession data structure, as specified
in clauses 5.27.2.3.3.1.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.4 Procedure for MBS User Data Ingest Session
update/modification
This procedure is used by an AF to request the update/modification of an
existing MBS User Data Ingest Session at the NEF.
In order to request the update of an existing MBS User Data Ingest Session, an
AF shall send a Nnef_MBSUserDataIngestSession_Update request message using the
HTTP PUT method and targeting the URI of the corresponding \"Individual MBS
User Data Ingest Session\" resource, with the request body including the
MBSUserDataIngSession data structure, as specified in clause 5.27.2.3.3.2.
In order to request the modification of an existing MBS User Data Ingest
Session, an AF shall send a Nnef_MBSUserDataIngestSession_Update request
message using the HTTP PATCH method and targeting the URI of the corresponding
\"Individual MBS User Data Ingest Session\" resource, with the request body
including the MBSUserDataIngSessionPatch data structure, as specified in
clause 5.27.2.3.3.3.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the
update/modification of the corresponding MBS User Data Ingest Session at the
MBSF, as specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Update
response message with an HTTP \"200 OK\" status code with the response body
containing a representation of the updated Individual MBS User Data Ingest
Session resource within the MBSUserDataIngSession data structure, or an HTTP
\"204 No Content\" status code, as specified in clause 5.27.2.3.3.2 or clause
5.27.2.3.3.3.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.5 Procedure for MBS User Data Ingest Session deletion
This procedure is used by an AF to request the deletion of an existing MBS
User Data Ingest Session at the NEF.
In order to request the deletion of an existing MBS User Data Ingest Session,
an AF shall send a Nnef_MBSUserDataIngestSession_Delete request message using
the HTTP DELETE method and targeting the URI of the concerned \"Individual MBS
User Data Ingest Session\" resource, as specified in clause 5.27.2.3.3.4.
NOTE: The Nnef_MBSUserDataIngestSession_Delete service operation corresponds
to the stage 2 Nnef_MBSUserDataIngestSession_Destroy service operation defined
in 3GPP TS 26.502 [65].
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the deletion
of the corresponding MBS User Data Ingest Session at the MBSF, as specified in
3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Delete
response message with an HTTP \"204 No Content\" status code, as specified in
clause 5.27.2.3.3.4.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.6 Procedure for MBS User Data Ingest Session Status
Subscription
This procedure is used by an AF to subscribe to MBS User Data Ingest Session
status event(s) reporting at the NEF.
In order to request the creation of an MBS User Data Ingest Session Status
Subscription, an AF shall send a Nnef_MBSUserDataIngestSession_StatusSubscribe
request message to the NEF using the HTTP POST method and targeting the \"MBS
User Data Ingest Session Status Subscriptions\" collection resource, with the
request message body including the MBSUserDataIngStatSubsc data structure, as
specified in clause 5.27.2.4.3.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession API of the MBSF to request the creation of the
corresponding MBS User Data Ingest Session Status Subscription at the MBSF, as
specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a
Nnef_MBSUserDataIngestSession_StatusSubscribe response message with an HTTP
\"201 Created\" status code including a \"Location\" header field that shall
contain the URI of the created resource, and the response body containing a
representation of the created \"Individual MBS User Data Ingest Session Status
Subscription\" resource within the MBSUserDataIngStatSubsc data structure, as
specified in clause 5.27.2.4.3.2.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.27.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a ProblemDetails data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.6.7 Procedure for MBS User Data Ingest Session Status
update/modification
This procedure is used by an AF to request the update/modification of an
existing MBS User Data Ingest Session Status Subscription at the NEF.
In order to request the update of an existing MBS User Data Ingest Session
Status Subscription, an AF shall send a
Nnef_MBSUserDataIngestSession_StatusSubscribeMod request message using the
HTTP PUT method and targeting the URI of the corresponding \"Individual MBS
User Data Ingest Session Status Subscription\" resource, with the request body
including the MBSUserDataIngStatSubsc data structure, as specified in clause
5.27.2.5.3.2.
In order to request the modification of an existing MBS User Data Ingest
Session Status Subscription, an AF shall send a
Nnef_MBSUserDataIngestSession_StatusSubscribeMod request message using the
HTTP PATCH method and targeting the URI of the corresponding \"Individual MBS
User Data Ingest Session Status Subscription\" resource, with the request body
including the MBSUserDataIngStatSubscPatch data structure, as specified in
clause 5.27.2.5.3.3.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the
update/modification of the corresponding MBS User Data Ingest Session Status
Subscription at the MBSF, as specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a
Nnef_MBSUserDataIngestSession_StatusSubscribeMod response message with an HTTP
\"200 OK\" status code with the response body containing a representation of
the updated Individual MBS User Data Ingest Session resource within the
MBSUserDataIngStatSubsc data structure, or an HTTP \"204 No Content\" status
code, as specified in clause 5.27.2.5.3.2 or clause 5.27.2.5.3.3.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.8 Procedure for MBS User Data Ingest Session Status
Unsubscription
This procedure is used by an AF to request the deletion of an existing MBS
User Data Ingest Session Status Subscription at the NEF.
In order to request the deletion of an existing MBS User Data Ingest Session
Status Subscription, an AF shall send a
Nnef_MBSUserDataIngestSession_StatusUnsubscribe request message using the HTTP
DELETE method and targeting the URI of the concerned Individual MBS User Data
Ingest Session Stats Subscription resource, as specified in clause
5.27.2.5.3.4.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the deletion
of the corresponding MBS User Data Ingest Session Status Subscription at the
MBSF, as specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a
Nnef_MBSUserDataIngestSession_StatusUnsubscribe response message with an HTTP
\"204 No Content\" status code, as specified in clause 5.27.2.5.3.4.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.9 Procedure for MBS User Data Ingest Session Status
Notification
This procedure is used by the NEF to send MBS User Data Ingest Session status
change notifications to a previously subscribed AF.
Upon reception of an MBS User Data Ingest Session Status Notification from the
MBSF, as specified in 3GPP TS 29.580 [66], the NEF shall relay this
notification to the AF by sending a Nnef_MBSUserDataIngestSession_StatusNotify
request message to the AF using the HTTP POST method and targeting the
notification URI provided by the AF during the creation of the corresponding
MBS User Data Ingest Session Status Subscription, with the request body
including the MBSUserDataIngStatNotif data structure, as specified in clause
5.27.4.2.3.1.
Upon successful reception of this notification request, the AF shall
acknowledge its successful reception by sending a
Nnef_MBSUserDataIngestSession_StatusNotify response message with an HTTP \"204
No Content\" status code, as specified in clause 5.27.4.2.3.1.
On failure, the AF shall take proper error handling actions, as specified in
subclause 5.27.7, and respond to the NEF with an appropriate error status
code.
### 4.4.30 Procedures for Data Reporting
#### 4.4.30.1 General
The procedures in this clause are used by an AF to obtain data collection and
reporting information and provide Data Reports, as defined in clause 4.2 of
3GPP TS 26.531 [59] and 3GPP TS 26.532 [60].
#### 4.4.30.2 Procedure for Data Reporting Session Management
This procedure is used by an AF to request the creation/update/delection of a
Data Reporting Session in order to obtain data collection and reporting
information.
In order to request the creation of a Data Reporting Session, an AF shall send
a Nnef_DataReporting_Create request to the NEF using the HTTP POST method,
targeting the \"Data Reporting Sessions\" collection resource with the request
message body including the DataReportingSession data structure as defined in
clause 5.23.2.2.3.1.
In order to read an existing Individual Data Reporting Session, an AF shall
send a Nnef_DataReporting_Retrieve request to the NEF using the HTTP GET
method, targeting the concerned \"Individual Data Reporting Session\"
resource. If successful, the response message body contains the requested
DataReportingSession data structure as defined in clause 5.23.2.3.3.1.
In order to request the update of an existing Data Reporting Session, an AF
shall send a Nnef_DataReporting_Update request to the NEF using the HTTP PUT
method, targeting the concerned \"Individual Data Reporting Session\" resource
with the request message body including the updated resource representation
within the DataReportingSession data structure as defined in clause
5.23.2.3.3.2.
In order to request the deletion of an existing Data Reporting Session, an AF
shall send a Nnef_DataReporting_Delete request to the NEF using the HTTP
DELETE method, targeting the concerned \"Individual Data Reporting Session\"
resource as defined in clause 5.23.2.3.3.3.
At the reception of the HTTP POST GET/PUT/DELETE requests from the AF, the NEF
shall trigger the necessary interaction with the DCAF as specified in 3GPP TS
26.532 [60] and:
\- for an HTTP GET request, retrieve the requested \"Individual Data Reporting
Session\" resource and respond to the AF with an HTTP \"200 OK\" status code;
\- for an HTTP POST request, create a new \"Individual Data Reporting
Session\" resource and respond to the AF with an HTTP \"200 OK\" status code
including an HTTP Location header field containing the URI of the created
resource and the response body including a representation of the created
\"Individual Data Reporting Session\" resource within the DataReportingSession
data structure;
\- for an HTTP PUT request, update the concerned \"Individual Data Reporting
Session\" resource and respond to the AF with an HTTP \"200 OK\" status code
with the response body including a representation of the updated \"Individual
Data Reporting Session\" resource within the DataReportingSession data
structure; and
\- for an HTTP DELETE request, delete the corresponding \"Individual Data
Reporting Session\" resource, and respond to the AF with an HTTP \"204 No
Content\" status code.
#### 4.4.30.3 Procedure for Data Report
This procedure is used by an AF to send collected UE Data Reports to the NEF.
In order to send a collected UE Data Report, an AF shall use the \"Report\"
custom operation. The AF shall send for this purpose an HTTP POST request
targeting the URI \"{apiRoot}/3gpp-data-
reporting/v1/sessions/{sessionId}/report\", with the request message body
including the DataReport data structure specified in 3GPP TS 26.532 [60]. Upon
successful reception of the report, the NEF shall respond to the AF with an
HTTP \"200 OK\" status code.
### 4.4.31 Procedures for Data Reporting Provisioning
#### 4.4.31.1 General
The procedures in this clause are used by an AF to supply data collection and
reporting provisioning information in the form of Data Reporting Provisioning
resources, as defined in clause 4.2 of 3GPP TS 26.531 [59] and 3GPP TS 26.532
[60].
#### 4.4.31.2 Procedure for Data Reporting Provisioning Session Management
This procedure is used by an AF to request the creation/deletion of a Data
Reporting Provisioning Session in order to supply data collection and
reporting provisioning information.
In order to request the creation of a Data Reporting Provisioning Session, an
AF shall send a Nnef_DataReportingProvisioning_Create request to the NEF using
the HTTP POST method and targeting the \"Data Reporting Provisioning
Sessions\" collection resource, with the request message body including the
DataReportingProvisioningSession data structure as defined in clause
5.24.2.2.3.1.
In order to read an existing \"Individual Data Reporting Provisioning
Session\" resource, an AF shall send a Nnef_DataReportingProvisioning_Retrieve
request to the NEF using the HTTP GET method and targeting the concerned
\"Individual Data Reporting Provisioning Session\" resource, as defined in
clause 5.24.2.3.3.1.
In order to request the deletion of an existing Data Reporting Provisioning
Session, an AF shall send a Nnef_DataReportingProvisioning_Delete request to
the NEF using the HTTP DELETE method and targeting the concerned \"Individual
Data Reporting Provisioning Session\" resource as defined in clause
5.24.2.3.3.3.
At the reception of the HTTP POST/GET/DELETE request from the AF, the NEF
shall trigger the necessary interactions with the DCAF as specified in 3GPP TS
26.532 [60] and:
\- for an HTTP POST request, create a new \"Individual Data Reporting
Provisioning Session\" resource and respond to the AF with an HTTP \"200 OK\"
status code including an HTTP Location header field containing the URI of the
created resource and the response body including a representation of the
created \"Individual Data Reporting Provisioning Session\" resource within the
DataReportingProvisioningSession data structure;
\- for an HTTP GET request, respond to the AF with an HTTP \"200 OK\" status
code with the response body including the representation of the requested
\"Individual Data Reporting Provisioning Session\" resource within the
DataReportingProvisioningSession data structure; and
\- for an HTTP DELETE request, delete the corresponding \"Individual Data
Reporting Provisioning Session\" resource and respond to the AF with an HTTP
\"204 No Content\" status code.
#### 4.4.31.3 Procedure for Data Reporting Configuration management
This procedure is used by an AF to manage Data Reporting Configuration.
In order to request the creation of a Data Reporting Configuration, an AF
shall send a Nnef_DataReportingProvisioning_CreateConfiguration request to the
NEF using the HTTP POST method and targeting the \"Data Reporting
Configurations\" collection resource, with the request message body including
the DataReportingConfiguration data structure as defined in clause
5.24.2.5.3.1.
In order to read an existing Data Reporting Configuration, an AF shall send a
Nnef_DataReportingProvisioning_RetrieveConfiguration request to the NEF using
the HTTP GET method and targeting the concerned \"Individual Data Reporting
Configuration\" resource. , as defined in clause 5.24.2.4.3.1.
In order to request the update of an existing Data Reporting Configuration, an
AF shall send a Nnef_DataReportingProvisioning_UpdateConfiguration request to
the NEF using the HTTP PUT method, targeting the concerned \"Individual Data
Reporting Configuration\" resource with the request message body including the
updated resource representation within the DataReportingConfiguration data
structure as defined in clause 5.24.2.5.3.3.
In order to request the modification of an existing Data Reporting
Configuration, an AF shall send a
Nnef_DataReportingProvisioning_UpdateConfiguration request to the NEF using
the HTTP PATCH method and targeting the concerned \"Individual Data Reporting
Configuration\" resource with the request message body containing the
DataReportingConfigurationPatch data structure, as defined in clause
5.24.2.5.3.3A.
In order to request the deletion of an existing Data Reporting Configuration,
an AF shall send a Nnef_DataReportingProvisioning_DeleteConfiguration request
to the NEF using the HTTP DELETE method and targeting the concerned
\"Individual Data Reporting Configuration\" resource as defined in clause
5.24.2.5.3.4.
At the reception of the HTTP POST/GET/PUT/PATCH/DELETE requests from the AF,
the NEF shall trigger the necessary interactions with the DCAF as specified in
3GPP TS 26.532 [60] and:
\- for an HTTP POST request, create a new \"Individual Data Reporting
Configuration\" resource and respond to the AF with an HTTP \"200 OK\" status
code including an HTTP Location header field containing the URI of the created
resource and the response body including a representation of the created
\"Data Reporting Configuration\" resource within the
DataReportingConfiguration data structure;
\- for an HTTP GET request, respond to the AF with an HTTP \"200 OK\" status
code with the response body including the representation of the requested
\"Individual Data Reporting Configuration \" resource within the
DataReportingConfiguration data structure;
\- for an HTTP PUT/PATCH request, update/modify the concerned \"Individual
Data Reporting Configuration\" resource and respond to the AF with an HTTP
\"200 OK\" status code with the response body including a representation of
the updated/modified \"Individual Data Reporting Configuration\" resource
within the DataReportingConfiguration data structure, or with an HTTP \"204 No
Content\" status code; and
\- for an HTTP DELETE request, delete the corresponding \"Individual Data
Reporting Configuration\" resource and respond to the AF with an HTTP \"204 No
Content\" status code.
### 4.4.32 Procedures for AF specific UE ID retrieval
#### 4.4.32.1 General
The procedures described in the clauses below are used by an AF to request the
NEF to provide an AF specific UE ID, as described in clause 4.15.10 of 3GPP TS
23.502 [2].
#### 4.4.32.2 Retrieve AF specific UE ID service operation
In order to retrieve AF specific UE ID information, the AF shall send an HTTP
POST request message to the NEF targeting the resource URI \"{apiRoot}/3gpp-
ueid/v1/retrieve\", with the request body including the UeIdReq data
structure.
Upon reception of the HTTP POST request message from the AF, the NEF shall
check whether the AF is authorized to perform this operation or not:
\- if AF is not authorized, the NEF shall respond to the AF with a \"403
Forbidden\" status code with the response body including the ProblemDetails
data structure containing the \"cause\" attribute set to the
\"REQUEST_NOT_AUTHORIZED\" application error indicating the AF authorisation
failure; and
\- if the AF\'s request is authorized, then if the DNN and/or S-NSSAI
information is not available in the request, the NEF shall determine the
corresponding DNN and/or S-NSSAI information based on the requesting AF
Identifier, and if provided, the MTC Provider Information.
The NEF shall then interact with the BSF using the UE address and IP domain
(if the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the
session binding information of the UE by invoking the
Nbsf_Management_Discovery service operation, as described in 3GPP TS 29.521
[9].
If the NEF receives an error response from the BSF, the NEF shall respond to
the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found.
Upon success and a SUPI is returned by the BSF, the NEF shall then interact
with UDM to retrieve the AF specific UE Identifier using the received SUPI and
at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service, as described in
clause 5.2.2.2 of 3GPP TS 29.503 [17]. Upon success, the UDM responds to the
NEF with the AF specific UE Identifier represented as an External Identifier
for the UE which is uniquely associated with the Application Port ID, MTC
provider Information and/or AF Identifier. The NEF shall then respond to the
AF with the received information, i.e. the AF specific UE Identifier
represented as an External Identifier that was received from the UDM.
If the NEF receives an error response from the UDM, the NEF shall respond to
the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE: The case where UE\'s IP address provided by the AF to the NEF
corresponds to an IP address that has been NATed (Network and Port Address
Translation) is not supported in this release of the specification.
### 4.4.33 Procedures for Media Streaming Event Exposure
#### 4.4.33.1 General
The procedures described in the clauses below are used by an
external/untrusted event consumer AF to subscribe, update and delete a
subscription to Media Streaming Exposure event(s) reporting via the NEF, also
for a data collection AF to notify the observed Media Streaming event(s) which
has been subscribed, as defined in 3GPP TS 26.512 [67].
#### 4.4.33.2 Procedure for Media Streaming Event Exposure Subscription
Creation
This procedure is used by an event consumer AF to subscribe to at least one
Media Streaming Exposure event at the NEF.
In order to subscribe to at least one Media Streaming Exposure event, an event
consumer AF shall send a Nnef_MSEventExposure_Subscribe request message to the
NEF using the HTTP POST method and targeting the \"Media Streaming Event
Exposure Subscriptions\" collection resource, with the request message body
including the AfEventExposureSubsc data structure, as specified in clause
5.28.2.2.3.2.
The NEF shall then check whether the event consumer AF is authorized to
perform this operation or not. If the event consumer AF is authorized, the NEF
shall then trigger the Naf_EventExposure API of the data collection AF to
request the creation of the corresponding Application Event Subscriptions at
the AF, as specified in 3GPP TS 29.517 [58].
Upon reception of a successful response from the data collection AF, as
defined in 3GPP TS 29.517 [58], the NEF shall return a
Nnef_MSEventExposure_Subscribe response message with an HTTP \"201 Created\"
status code including a \"Location\" header field that shall contain the URI
of the created resource, i.e. \"{apiRoot}/3gpp-ms-event-
exposure/v1/subscriptions/{subscriptionId}\", and the response body containing
a representation of the created \"Individual Media Streaming Event Exposure
Subscription\" resource within the AfEventExposureSubsc data structure, as
specified in clause 5.28.2.2.3.2.
On failure or if the NEF receives an error response from the data collection
AF, the NEF shall take proper error handling actions, as specified in clause
5.28.7, and respond to the event consumer AF with an appropriate error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.33.3 Procedure for Media Streaming Event Exposure Subscription Update
This procedure is used by an event consumer AF to update an existing Media
Streaming Event Exposure Subscription at the NEF.
In order to update an existing Media Streaming Event Exposure Subscription,
the event consumer AF shall send a Nnef_MSEventExposure_Subscribe request
message to the NEF using the HTTP PUT method and targeting the \"Individual
Media Streaming Event Exposure Subscription\" resource, with the request
message body including the AfEventExposureSubsc data structure, as specified
in clause 5.28.2.3.3.2.
The NEF shall then check whether the event consumer AF is authorized to
perform this operation or not. If the event consumer AF is authorized, the NEF
shall then trigger the Naf_EventExposure API of the data collection AF to
request the update of the corresponding Individual Application Event
Subscription at the AF, as specified in 3GPP TS 29.517 [58].
Upon reception of a successful response from the data collection AF, as
defined in 3GPP TS 29.517 [58], the NEF shall return a
Nnef_MSEventExposure_Subscribe response message with an HTTP \"200 OK\" status
code with the AfEventExposureSubsc data structure or "204 No Content" status
code, as specified in clause 5.28.2.3.3.2.
On failure or if the NEF receives an error response from the data collection
AF, the NEF shall take proper error handling actions, as specified in clause
5.28.7, and respond to the event consumer AF with an appropriate error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.33.4 Procedure for Media Streaming Event Exposure Unsubscription
This procedure is used by an event consumer AF to request the deletion of an
existing Media Streaming Event Exposure Subscription at the NEF.
In order to request the deletion of an existing Media Streaming Event Exposure
Subscription, an event consumer AF shall send a
Nnef_MSEventExposure_Unsubscribe request message using the HTTP DELETE method
and targeting the URI of the concerned \"Individual Media Streaming Event
Exposure Subscription\" resource.
The NEF shall then check whether the event consumer AF is authorized to
perform this operation or not. If the AF is authorized, the NEF shall then
trigger the Naf_EventExposure service API of the data collection AF to request
the deletion of the corresponding Application Event Subscription at the AF, as
specified in 3GPP TS 29.517 [58].
Upon reception of a successful response from the data collection AF, as
defined in 3GPP TS 29.517 [58], the NEF shall return a
Nnef_MSEventExposure_Unsubscribe response message with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error code from the data collection AF,
the NEF shall take proper error handling actions, as specified in clause
5.28.7, and respond to the event consumer AF with an appropriate error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.33.5 Procedure for Media Streaming Event Exposure Notification
This procedure is used by the NEF to send a Media Streaming Event Exposure
notification to a previously subscribed event consumer AF.
In order to send a Media Streaming Event Exposure notification, the NEF shall
send a Nnef_MSEventExposure_Notify request message to the AF using the HTTP
POST method and targeting the notification URI provided during the
creation/update of the corresponding subscription, with the request body
including the MSEventExposureNotif data structure as specified in clause
5.28.4.2.3.1.
Upon success, the event consumer AF shall send a Nnef_MSEventExposure_Notify
response message with an HTTP \"204 No Content\" status code.
On failure, the event consumer AF shall take proper error handling actions, as
specified in subclause 5.28.7, and respond to the NEF with an appropriate
error status code.
# 5 **NEF Northbound** APIs
## 5.1 Introduction
The **NEF Northbound** APIs are a set of APIs defining the related procedures
and resources for the interaction between the NEF and the AF.
Tables 5.1-1 summarizes the APIs defined in this specification.
Table 5.1-1: API Descriptions
* * *
Service Name Clause defined Description OpenAPI Specification File API Name
Annex TrafficInfluence 5.4 Traffic Influence API TS29522_TrafficInfluence.yaml
3gpp-traffic-influence A.2 NiddConfigurationTrigger 5.5 NIDD (Non-IP Data
Delivery) Configuration Trigger API TS29522_NiddConfigurationTrigger.yaml
3gpp-nidd-configuration-trigger A.3 AnalyticsExposure 5.6 Analytics Exposure
API TS29522_AnalyticsExposure.yaml 3gpp-analyticsexposure A.4
5GLANParameterProvision 5.7 5G LAN Parameter Provision API
TS29522_5GLANParameterProvision.yaml 3gpp-5glan-pp A.5 ApplyingBdtPolicy 5.8
Applying BDT Policy API TS29522_ApplyingBdtPolicy.yaml 3gpp-applying-bdt-
policy A.6 IPTVConfiguration 5.9 IPTV Configuration API
TS29522_IPTVConfiguration.yaml 3gpp-iptvconfiguration A.7
LpiParameterProvision 5.10 LPI (Location Privacy Indicator) Parameter
Provision API TS29522_LpiParameterProvision.yaml 3gpp-lpi-pp A.8
ServiceParameter 5.11 Service Parameter API TS29522_ServiceParameter.yaml
3gpp-service-parameter A.9 ACSParameterProvision 5.12 ACS Parameter Provision
API TS29522_ACSParameterProvision.yaml 3gpp-acs-pp A.10 MoLcsNotify 5.13 MO
LCS Notify API TS29522_MoLcsNotify.yaml 3gpp-mo-lcs-notify A.11 AKMA 5.14 AKMA
API TS29522_AKMA.yaml 3gpp-akma A.12 TimeSyncExposure 5.15 Time Sync Exposure
API TS29522_TimeSyncExposure.yaml 3gpp-time-sync-exposure A.13
EcsAddressProvision 5.16 ECS Address Provision API
TS29522_EcsAddressProvision.yaml 3gpp-ecs-address-provision A.14
AMPolicyAuthorization 5.17 AM Policy Authorization API
TS29522_AMPolicyAuthorization.yaml 3gpp-am-policyauthorization A.15
AMInfluence 5.18 AM Influence API TS29522_AMInfluence.yaml 3gpp-am-influence
A.16 MBSTMGI 5.19 MBS TMGI API TS29522_MBSTMGI.yaml 3gpp-mbs-tmgi A.17
MBSSession 5.20 MBS Session API TS29522_MBSSession.yaml 3gpp-mbs-session A.18
EASDeployment 5.21 EAS Deployment API TS29522_EASDeployment.yaml 3gpp-eas-
deployment A.19 ASTI 5.22 ASTI API TS29522_ASTI.yaml 3gpp-asti A.20
DataReporting 5.23 DataReporting API TS29522_DataReporting.yaml 3gpp-data-
reporting A.21 DataReportingProvisioning 5.24 DataReportingProvisioning API
TS29522_DataReportingProvisioning.yaml 3gpp-data-reporting-provisioning A.22
UEId 5.25 UE ID API TS29522_UEId.yaml 3gpp-ueid A.23 MBSUserService 5.26
MBSUserService API TS29522_MBSUserService.yaml 3gpp-mb-us A.24
MBSUserDataIngestSession 5.27 MBSUserDataIngestSession API TS29522_
MBSUserDataIngestSession.yaml 3gpp-mb-ud-ingest A.25 MSEventExposure 5.28
MSEventExposure API TS29522_MSEventExposure.yaml 3gpp-event-exposure A.26
* * *
## 5.2 Information applicable to several APIs
The usage of HTTP, content type and URI structure definition, as specified in
clauses 5.2.2, 5.2.3 and 5.2.4 of 3GPP TS 29.122 [4] respectively, shall be
applicable for NEF Northbound APIs.
The notification, error handling, feature negotiation, HTTP custom headers as
specified in clauses 5.2.5, 5.2.6, 5.2.7, 5.2.8 of 3GPP TS 29.122 [4]
respectively, shall be applicable for NEF Northbound APIs except that the SCEF
is replaced by the NEF and the SCS/AS is replaced by the AF.
The conventions for Open API specification files as specified in clause 5.2.9
of 3GPP TS 29.122 [4] shall be applicable for NEF Northbound APIs.
## 5.3 Reused APIs
This clause describes the northbound APIs which are applicable for both EPS
and 5GS.
Table 5.3-1: Reused APIs applicable for both EPS and 5GS
+---------------------------+-----------------------------------------+ | API Name | Differences | +---------------------------+-----------------------------------------+ | ResourceManagementOfBdt | - The following features as described | | | in clause 5.4.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"LocBdt_5G\", \"Group_Id\", | | | \"BdtNotification_5G\". | +---------------------------+-----------------------------------------+ | PfdManagement | The following features as described in | | | clause 5.11.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"FailureLocation_5G\". | +---------------------------+-----------------------------------------+ | MonitoringEvent | - The following features as described | | | in clause 5.3.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"Number_of\ | | | _UEs_in_an_area_notification_5G\", | | | \" | | | Downlink_data_delivery_status_5G\", | | | \"Availability_after_DDN | | | _failure_notification_enhancement\", | | | \"eLCS\", \"NSAC\", \"MULTIQOS\", | | | \"EDGEAPP\", \"UEId_retrieval\". | | | | | | - For the | | | \"Pdn_connectivity_status\" feature, | | | APN is equivalent to DNN; the non-IP | | | PDN type is equivalent to the | | | unstructured PDU session type; and the | | | enumeration InterfaceIndication value | | | \"PDN_GATEWAY\" stands for PDU session | | | anchored in UPF in 5G. | +---------------------------+-----------------------------------------+ | DeviceTriggering | | +---------------------------+-----------------------------------------+ | CpProvisioning | - The following features as described | | | in clause 5.10.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: \"ExpectedUMT_5G\", | | | \"ExpectedUmtTime_5G\", | | | \"ScheduledCommType_5G\", | | | \"UEId_retrieval\". | +---------------------------+-----------------------------------------+ | ChargeableParty | - The following features as described | | | in clause 5.5.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"EthChgParty_5G\", | | | \"MacAddressRange_5G\". | | | | | | - The events (i.e. LOSS_OF_BEARER, | | | RECOVERY_OF_BEARER and | | | RELEASE_OF_BEARER) do not apply for | | | 5G. | +---------------------------+-----------------------------------------+ | AsSessionWithQoS | - The following features as described | | | in clause 5.14.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: | | | \"EthAsSessionQoS_5G\", | | | \"QoSMonitoring_5G\", | | | \"PacketDelayFailureReport\", | | | \"MacAddressRange_5G\", | | | \"AlternativeQoS_5G\", \"TSC_5G\", | | | \"DisableUENotification_5G\", | | | \"ExposureToEAS\", | | | \"AltQosWithIndParams_5G\", | | | \"EnEthAsSessionQoS_5G\", | | | \"enNB_5G\". | | | | | | - The events (i.e. LOSS_OF_BEARER, | | | RECOVERY_OF_BEARER and | | | RELEASE_OF_BEARER) do not apply for | | | 5G. | +---------------------------+-----------------------------------------+ | MsisdnLessMoSms | | +---------------------------+-----------------------------------------+ | NpConfiguration | - The following features as described | | | in clause 5.13.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: \"NpExpiry_5G\", | | | \"UEId_retrieval\". | +---------------------------+-----------------------------------------+ | NIDD | | +---------------------------+-----------------------------------------+ | RacsParameterProvisioning | | +---------------------------+-----------------------------------------+ | ECRControl | - The following features as described | | | in clause 5.12.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: \"ECR_WB_5G\". | +---------------------------+-----------------------------------------+
## 5.4 TrafficInfluence API
### 5.4.1 Resources
#### 5.4.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-traffic-influence/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-traffic-influence\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.4.1.1-1 and the resources and HTTP methods used for the TrafficInfluence
API.
Figure 5.4.1.1-1: Resource URI structure of the TrafficInfluence API
Table 5.4.1.1-1 provides an overview of the resources and HTTP methods
applicable for the TrafficInfluence API.
Table 5.4.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Traffic Influence
Subscription /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to traffic influence Individual Traffic
Influence Subscription /{afId}/subscriptions/{subscriptionId} GET Read a
subscription to traffic influence PUT Modify all of the properties of an
existing subscription to traffic influence PATCH Modify part of the properties
of an existing subscription to traffic influence DELETE Delete a subscription
to traffic influence
* * *
#### 5.4.1.2 Resource: Traffic Influence Subscription
##### 5.4.1.2.1 Introduction
This resource allows a AF to read all active traffic influence subscribtions
for the given AF.
##### 5.4.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-traffic-influence/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.4.1.2.2-1.
Table 5.4.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.4.1.2.3 Resource Methods
###### 5.4.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.4.1.2.2.
###### 5.4.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.4.1.2.3.2-1.
Table 5.4.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.2.3.2-2 and the response data structures and response codes specified in
table 5.4.1.2.3.2-3.
Table 5.4.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Tra | M | 0..N | 200 OK | The | | fficInfluSub) | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.2.3.3 POST
The POST method creates a new subscription resource to traffic influence
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.4.1.2.3.3-1 and the response data structures and response codes specified in
table 5.4.1.2.3.3-2.
Table 5.4.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Parameters to register
a subscription to influencing traffic routing and/or notification about UP
management events with the NEF.
* * *
Table 5.4.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 201 Created | The | | afficInfluSub | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
traffic-Influence/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.4.1.3 Resource: Individual Traffic Influence Subscription
##### 5.4.1.3.1 Introduction
This resource allows a AF to register a subscription to influencing traffic
routing and/or notification about UP management events with the NEF.
##### 5.4.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-traffic-
influence/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.4.1.3.2-1.
Table 5.4.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.4.1.3.3 Resource Methods
###### 5.4.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.4.1.3.2.
###### 5.4.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.4.1.3.3.2-1.
Table 5.4.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.3.3.2-2 and the response data structures and response codes specified in
table 5.4.1.3.3.2-3.
Table 5.4.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.3 PUT
The PUT method is used to replace an existing subscription resource to update
a subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.4.1.3.3.3-1 and the response data structures and response codes specified in
table 5.4.1.3.3.3-2.
Table 5.4.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Modify an existing
subscription to influencing traffic routing and/or notification about UP
management events with the NEF.
* * *
Table 5.4.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was replaced | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was replaced | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.4 PATCH
The PATCH method allows to change some properties of an existing traffic
influence subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.4.1.3.3.4-1 and the response data structures and response codes specified in
table 5.4.1.3.3.4-2.
Table 5.4.1.3.3.4-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluSubPatch M 1 Partial update of
a subscription to influencing traffic routing and/or notifications about UP
management events with the NEF.
* * *
Table 5.4.1.3.3.4-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.4-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.4-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.5 DELETE
The DELETE method deletes the traffic influence subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.4.1.3.3.5-1.
Table 5.4.1.3.3.5-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.3.3.5-2 and the response data structures and response codes specified in
table 5.4.1.3.3.5-3.
Table 5.4.1.3.3.5-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.3.3.5-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.5-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.5-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.4.2 Notifications
#### 5.4.2.1 Introduction
Upon receipt of a UP management event notification from the SMF indicating the
subscribed event (e.g. a DNAI has changed) is detected, the NEF shall send an
HTTP POST message including the notified event to the AF.
Upon receipt of the event notification, the AF may send an HTTP POST request
as acknowledgement for the UP path management event notification to inform the
NEF about the result of application layer relocation.
The NEF and the AF shall support the notification mechanism as described in
clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.4.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {notificati | POST | The UP | | Notification | onDestination} | | management | | | | | event | | | | | notification | | | | | from the NEF | | | | | to the AF. | +----------------+----------------+----------------+----------------+ | A | {afAckUri} | POST | The | | cknowledgement | | | A | | of event | | | cknowledgement | | notification | | | of Event | | | | | Notification | | | | | is used by the | | | | | AF to | | | | | acknowledge | | | | | the NEF about | | | | | handling | | | | | result of the | | | | | event | | | | | notification. | +----------------+----------------+----------------+----------------+
#### 5.4.2.2 Event Notification
##### 5.4.2.2.1 Description
The Event Notification is used by the NEF to report the UP path management
event notification from the SMF to the AF.
##### 5.4.2.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.4.2.2.2-1.
Table 5.4.2.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
TrafficInfluSub data type as defined in table 5.4.3.3.2-1 or the
TrafficInfluSubPatch data type as defined in table 5.4.3.3.3-1.
* * *
##### 5.4.2.2.3 Operation Definition
##### 5.4.2.2.3.1 Notification via HTTP POST {#notification-via-http-post .H6}
This method shall support the request data structures specified in table
5.4.2.2.3.1-1 and the response data structures and response codes specified in
table 5.4.2.2.3.1-2.
Table 5.4.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EventNotification M 1 The UP management
event notification is provided by the NEF to the AF.
* * *
Table 5.4.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.4.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.4.2.2.3.2 Notification via Websocket {#notification-via-websocket .H6}
If supported by both AF and NEF and successfully negotiated, the
EventNotification may alternatively be delivered through the Websocket
mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
#### 5.4.2.3 Acknowledgement of event notification
##### 5.4.2.3.1 Description
The Acknowledgement of Event Notification is used by the AF to acknowledge the
NEF about handling result of the event notification (e.g. UP path change).
##### 5.4.2.3.2 Target URI
The Callback URI **\"{afAckUri}\"** shall be used with the callback URI
variables defined in table 5.4.2.3.2-1.
Table 5.4.2.3.2-1: Callback URI variables
* * *
Name Data type Definition afAckUri Link Callback reference provided by the NEF
during event notification within the EventNotification data type as defined in
Table 5.4.3.3.4-1.
* * *
##### 5.4.2.3.3 Operation Definition
###### 5.4.2.3.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.4.2.3.3.1-1 and the response data structures and response codes specified in
table 5.4.2.3.3.1-2.
Table 5.4.2.3.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfAckInfo M 1 Acknowledgement information
of event notification.
* * *
Table 5.4.2.3.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | NEF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | NEF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.2.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NEF towards which the
notification should be redirected.
* * *
Table 5.4.2.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NEF towards which the
notification should be redirected.
* * *
### 5.4.3 Data Model
#### 5.4.3.1 General
This clause specifies the application data model supported by the
TrafficInfluence API.
Table 5.4.3.1-1 specifies the data types defined for the TrafficInfluence API.
Table 5.4.3.1-1: TrafficInfluence API specific Data Types
* * *
Data type Clause defined Description Applicability AfAckInfo 5.4.3.3.6
Represents acknowledgement information of a traffic influence event
notification.  
AfResultInfo 5.4.3.3.5 Identifies the result of application layer handling.  
AfResultStatus 5.4.3.4.4 Represents the status of application handling result.  
EventNotification 5.4.3.3.4 Represents a traffic influence event notification.  
SubscribedEvent 5.4.3.4.3 Represents the type of UP path management events for
which the AF requests to be notified.  
TrafficInfluSub 5.4.3.3.2 Represents a traffic influence subscription.  
TrafficInfluSubPatch 5.4.3.3.3 Represents parameters to request the
modification of a traffic influence subscription resource.
* * *
#### 5.4.3.2 Reused data types
The data types reused by the TrafficInfluence API from other specifications
are listed in table 5.4.3.2-1.
Table 5.4.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnai 3GPP TS 29.571 [8] Identifies a DNAI.
DnaiChangeType 3GPP TS 29.571 [8] Describes the types of DNAI change. Dnn 3GPP
TS 29.571 [8] Identifies a DNN. DurationSec 3GPP TS 29.571 [8] Identifies a
period of time in units of seconds. EasIpReplacementInfo 3GPP TS 29.571 [8]
Represents EAS IP replacement information. EthFlowDescription 3GPP TS 29.514
[7] Contains the Ethernet data flow information. (NOTE) ExternalGroupId 3GPP
TS 29.122 [4] External Group Identifier for a user group. FlowInfo 3GPP TS
29.122 [4] Contains the IP data flow information. GeographicalArea Clause
5.17.3.3.4 Identifies a geographical area. Gpsi 3GPP TS 29.571 [8] Identifies
a GPSI. IpAddr 3GPP TS 29.571 [8] Identifes an IP address. Ipv4Addr 3GPP TS
29.122 [4] Identifies an IPv4 address. Ipv6Addr 3GPP TS 29.122 [4] Identifies
an IPv6 address. Ipv6Prefix 3GPP TS 29.571 [8] Identifies an IPv6 Prefix. Link
3GPP TS 29.122 [4] Identifies a referenced resource. MacAddr48 3GPP TS 29.571
[8] Identifies a MAC address. ReportingInformation 3GPP TS 29.523 [22]
Represents the event reporting requirements. RouteToLocation 3GPP TS 29.571
[8] Describes the traffic routes to the locations of the application. Snssai
3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571
[8] Used to negotiate the applicability of the optional features defined in
table 5.4.4-1. TemporalValidity 3GPP TS 29.514 [7] Indicates the time
interval(s) during which the AF request is to be applied Uinteger 3GPP TS
29.571 [8] Unsigned integer. UintegerRm 3GPP TS 29.571 [8] This data type is
defined in the same way as the \"Uinteger\" data type, but with the OpenAPI
\"nullable: true\" property. WebsockNotifConfig 3GPP TS 29.122 [4] Contains
the configuration parameters to set up notification delivery over Websocket
protocol. NOTE: In order to support a set of MAC addresses with a specific
range in the traffic filter, feature MacAddressRange as specified in clause
5.4.4 shall be supported.
* * *
#### 5.4.3.3 Structured data types
##### 5.4.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.4.3.3.2 Type: TrafficInfluSub
This type represents a traffic influence subscription. The same structure is
used in the subscription request and subscription response.
Table 5.4.3.3.2-1: Definition of type TrafficInfluSub
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tra | | | | | | | nsaction, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | I | | | ppReloInd | | | | dentifies | | | | | | | whether | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | can be | | | | | | | relocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | ap | | | | | | | plication | | | | | | | has been | | | | | | | selected. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if it can | | | | | | | be | | | | | | | r | | | | | | | elocated; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of users. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | arra | O | 1..N | I | | | bedEvents | y(Subscri | | | dentifies | | | | bedEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | Ipv4Addr | O | 0..1 | I | | | | | | | dentifies | | | | | | | the IPv4 | | | | | | | address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if the | | | | | | | ipv4Addr | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Addr | Ipv6Addr | O | 0..1 | I | | | | | | | dentifies | | | | | | | the IPv6 | | | | | | | address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | macAddr | MacAddr48 | O | 0..1 | I | | | | | | | dentifies | | | | | | | the MAC | | | | | | | address. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | DnaiC | O | 0..1 | I | | | aiChgType | hangeType | | | dentifies | | | | | | | a type of | | | | | | | not | | | | | | | ification | | | | | | | regarding | | | | | | | UP path | | | | | | | m | | | | | | | anagement | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | C | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | Link to | | | | | | | the | | | | | | | created | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | traff | array( | O | 1..N | I | | | icFilters | FlowInfo) | | | dentifies | | | | | | | IP packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ethTraff | array(E | O | 1..N | I | | | icFilters | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | traf | arra | O | 1..N | I | | | ficRoutes | y(RouteTo | | | dentifies | | | | Location) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | req | | | | | | | uirement. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | boolean | O | 0..1 | I | | | fcCorrInd | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | when | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | was | | | | | | | included | | | | | | | within | | | | | | | the | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | data type | | | | | | | pr | | | | | | | eviously. | | | | | | | | | | | | | | It is | | | | | | | used to | | | | | | | indicate | | | | | | | that for | | | | | | | the group | | | | | | | of UEs, | | | | | | | the | | | | | | | targeted | | | | | | | PDU | | | | | | | sessions | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if it | | | | | | | should be | | | | | | | co | | | | | | | rrelated; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | tempV | array | O | 1..N | Indicates | | | alidities | (Temporal | | | the time | | | | Validity) | | | in | | | | | | | terval(s) | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | validG | arra | O | 1..N | I | | | eoZoneIds | y(string) | | | dentifies | | | | | | | a | | | | | | | g | | | | | | | eographic | | | | | | | zone that | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | is | | | | | | | de | | | | | | | precated; | | | | | | | the | | | | | | | attribute | | | | | | | \"g | | | | | | | eoAreas\" | | | | | | | should be | | | | | | | used | | | | | | | instead. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | O | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas | | | | | | | within | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | applies. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | d | | | | | | | eprecates | | | | | | | validG | | | | | | | eoZoneIds | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckInd | boolean | O | 0..1 | I | URLLC | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | acknow | | | | | | | ledgement | | | | | | | of UP | | | | | | | path | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | expected. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if the AF | | | | | | | ac | | | | | | | knowledge | | | | | | | is | | | | | | | expected; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | addr | boolean | O | 0..1 | Indicates | URLLC | | PreserInd | | | | whether | | | | | | | UE IP | | | | | | | address | | | | | | | should be | | | | | | | p | | | | | | | reserved. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | p | | | | | | | reserved, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | boolean | O | 0..1 | I | SimultCon | | imConnInd | | | | ndication | nectivity | | | | | | of | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | te | | | | | | | mporarily | | | | | | | m | | | | | | | aintained | | | | | | | for the | | | | | | | source | | | | | | | and | | | | | | | target | | | | | | | PSA. If | | | | | | | it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | temporary | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | should be | | | | | | | kept. The | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | applies, | | | | | | | if the | | | | | | | attribute | | | | | | | is not | | | | | | | present | | | | | | | and has | | | | | | | not been | | | | | | | supplied | | | | | | | pr | | | | | | | eviously. | | +-----------+-----------+---+-----------+-----------+-----------+ | si | Du | O | 0..1 | I | SimultCon | | mConnTerm | rationSec | | | ndication | nectivity | | | | | | of the | | | | | | | minimum | | | | | | | time | | | | | | | interval | | | | | | | to be | | | | | | | c | | | | | | | onsidered | | | | | | | for | | | | | | | i | | | | | | | nactivity | | | | | | | of the | | | | | | | traffic | | | | | | | routed | | | | | | | via the | | | | | | | source | | | | | | | PSA | | | | | | | during | | | | | | | the edge | | | | | | | re | | | | | | | -location | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | It may be | | | | | | | included | | | | | | | when the | | | | | | | \"sim | | | | | | | ConnInd\" | | | | | | | attribute | | | | | | | is set to | | | | | | | true. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxAll | Uinteger | O | 0..1 | Indicates | AF\ | | owedUpLat | | | | the | _lantency | | | | | | target | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | in units | | | | | | | of | | | | | | | mill | | | | | | | iseconds. | | | | | | | The SMF | | | | | | | may use | | | | | | | this | | | | | | | value to | | | | | | | decide | | | | | | | whether | | | | | | | edge | | | | | | | r | | | | | | | elocation | | | | | | | is needed | | | | | | | to ensure | | | | | | | that the | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | does not | | | | | | | exceed | | | | | | | the | | | | | | | value. | | +-----------+-----------+---+-----------+-----------+-----------+ | easIpRep | array(Eas | O | 1..N | Contains | EASIPre | | laceInfos | IpReplace | | | EAS IP | placement | | | mentInfo) | | | re | | | | | | | placement | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ea | boolean | O | 0..1 | Indicates | EAS | | sRedisInd | | | | the EAS | Discovery | | | | | | re | | | | | | | discovery | | | | | | | is | | | | | | | required | | | | | | | for the | | | | | | | ap | | | | | | | plication | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\". | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | The | | | | | | | i | | | | | | | ndication | | | | | | | shall be | | | | | | | invalid | | | | | | | after it | | | | | | | was | | | | | | | applied | | | | | | | unless it | | | | | | | is | | | | | | | provided | | | | | | | again. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventReq | Re | O | 0..1 | Indicates | EDGEAPP | | | portingIn | | | the event | | | | formation | | | reporting | | | | | | | requ | | | | | | | irements. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | if the | | | | | | | \" | | | | | | | EDGEAPP\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | and the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array( | C | 1..N | R | EDGEAPP | | ntReports | EventNoti | | | epresents | | | | fication) | | | user | | | | | | | plane | | | | | | | path | | | | | | | m | | | | | | | anagement | | | | | | | event | | | | | | | r | | | | | | | eport(s). | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | in an | | | | | | | HTTP POST | | | | | | | response | | | | | | | if the | | | | | | | immediate | | | | | | | reporting | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"e | | | | | | | ventReq\" | | | | | | | attribute | | | | | | | is set to | | | | | | | true and | | | | | | | the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | was | | | | | | | present | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | HTTP POST | | | | | | | request | | | | | | | and the | | | | | | | report(s) | | | | | | | are | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may also | | | | | | | be | | | | | | | present | | | | | | | in an | | | | | | | HTTP PUT | | | | | | | or PATCH | | | | | | | response | | | | | | | when the | | | | | | | report(s) | | | | | | | are | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.4.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.4.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \"m | | | | | | | acAddr\", | | | | | | | \"i | | | | | | | pv4Addr\" | | | | | | | or | | | | | | | \"ipv | | | | | | | 6Addr\"), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \" | | | | | | | externalG | | | | | | | roupId\") | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | One of | | | | | | | \"a | | | | | | | fAppId\", | | | | | | | \"traffic | | | | | | | Filters\" | | | | | | | or | | | | | | | \"e | | | | | | | thTraffic | | | | | | | Filters\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | i | | | | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | co | | | | | | | rrelation | | | | | | | shall be | | | | | | | provided | | | | | | | only when | | | | | | | the AF | | | | | | | requires | | | | | | | that all | | | | | | | the PDU | | | | | | | sessions | | | | | | | related | | | | | | | to the 5G | | | | | | | VN group | | | | | | | member | | | | | | | UEs | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI in | | | | | | | the user | | | | | | | plane for | | | | | | | the | | | | | | | traffic | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [3], | | | | | | | claus | | | | | | | e 5.6.7.1 | | | | | | | and | | | | | | | cla | | | | | | | use 5.29. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.3 Type: TrafficInfluSubPatch
This type represents a subscription of traffic influence parameters provided
by the AF to the NEF. The structure is used for HTTP PATCH request.
Table 5.4.3.3.3-1: Definition of type TrafficInfluSubPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | I | | | ppReloInd | | | | dentifies | | | | | | | whether | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | can be | | | | | | | relocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | ap | | | | | | | plication | | | | | | | has been | | | | | | | selected. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | traff | array( | O | 1..N | I | | | icFilters | FlowInfo) | | | dentifies | | | | | | | IP packet | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | ethTraff | array(E | O | 1..N | I | | | icFilters | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | traf | arra | O | 1..N | I | | | ficRoutes | y(RouteTo | | | dentifies | | | | Location) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | req | | | | | | | uirement. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | t | boolean | O | 0..1 | I | | | fcCorrInd | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | when | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | was | | | | | | | included | | | | | | | within | | | | | | | the | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | data type | | | | | | | pr | | | | | | | eviously. | | | | | | | | | | | | | | It is | | | | | | | used to | | | | | | | indicate | | | | | | | that for | | | | | | | the group | | | | | | | of UEs, | | | | | | | the | | | | | | | targeted | | | | | | | PDU | | | | | | | sessions | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tempV | array | O | 1..N | Indicates | | | alidities | (Temporal | | | the time | | | | Validity) | | | in | | | | | | | terval(s) | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | validG | arra | O | 1..N | I | | | eoZoneIds | y(string) | | | dentifies | | | | | | | a | | | | | | | g | | | | | | | eographic | | | | | | | zone that | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | | | | | | | | | | | | | (NOTE) | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | is | | | | | | | de | | | | | | | precated; | | | | | | | the | | | | | | | attribute | | | | | | | \"g | | | | | | | eoAreas\" | | | | | | | should be | | | | | | | used | | | | | | | instead. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | O | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas | | | | | | | within | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | applies. | | | | | | | (NOTE) | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | d | | | | | | | eprecates | | | | | | | validG | | | | | | | eoZoneIds | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckInd | boolean | O | 0..1 | I | URLLC | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | acknow | | | | | | | ledgement | | | | | | | of UP | | | | | | | path | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | expected. | | +-----------+-----------+---+-----------+-----------+-----------+ | addr | boolean | O | 0..1 | Indicates | URLLC | | PreserInd | | | | whether | | | | | | | UE IP | | | | | | | address | | | | | | | should be | | | | | | | p | | | | | | | reserved. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | s | boolean | O | 0..1 | I | SimultCon | | imConnInd | | | | ndication | nectivity | | | | | | of | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | te | | | | | | | mporarily | | | | | | | m | | | | | | | aintained | | | | | | | for the | | | | | | | source | | | | | | | and | | | | | | | target | | | | | | | PSA. If | | | | | | | it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | temporary | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | should be | | | | | | | kept. | | +-----------+-----------+---+-----------+-----------+-----------+ | si | Du | O | 0..1 | I | SimultCon | | mConnTerm | rationSec | | | ndication | nectivity | | | | | | of the | | | | | | | minimum | | | | | | | time | | | | | | | interval | | | | | | | to be | | | | | | | c | | | | | | | onsidered | | | | | | | for | | | | | | | i | | | | | | | nactivity | | | | | | | of the | | | | | | | traffic | | | | | | | routed | | | | | | | via the | | | | | | | source | | | | | | | PSA | | | | | | | during | | | | | | | the edge | | | | | | | re | | | | | | | -location | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxAll | U | O | 0..1 | Indicates | AF | | owedUpLat | integerRm | | | the | _latency | | | | | | target | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | in units | | | | | | | of | | | | | | | mill | | | | | | | iseconds. | | | | | | | The SMF | | | | | | | may use | | | | | | | this | | | | | | | value to | | | | | | | decide | | | | | | | whether | | | | | | | edge | | | | | | | r | | | | | | | elocation | | | | | | | is needed | | | | | | | to ensure | | | | | | | that the | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | does not | | | | | | | exceed | | | | | | | the | | | | | | | value. | | +-----------+-----------+---+-----------+-----------+-----------+ | easIpRep | array(Eas | O | 1..N | Contains | EASIPre | | laceInfos | IpReplace | | | EAS IP | placement | | | mentInfo) | | | re | | | | | | | placement | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ea | boolean | O | 0..1 | Indicates | EAS | | sRedisInd | | | | the EAS | Discovery | | | | | | re | | | | | | | discovery | | | | | | | is | | | | | | | required | | | | | | | for the | | | | | | | ap | | | | | | | plication | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\". | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | The | | | | | | | i | | | | | | | ndication | | | | | | | shall be | | | | | | | invalid | | | | | | | after it | | | | | | | was | | | | | | | applied | | | | | | | unless it | | | | | | | is | | | | | | | provided | | | | | | | again. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | O | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventReq | Re | O | 0..1 | Indicates | EDGEAPP | | | portingIn | | | the event | | | | formation | | | reporting | | | | | | | requ | | | | | | | irements. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | if the | | | | | | | \" | | | | | | | EDGEAPP\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | value of | | | | | | | the | | | | | | | property | | | | | | | shall be | | | | | | | set to | | | | | | | NULL for | | | | | | | removal. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.4 Type: EventNotification
Table 5.4.3.3.4-1: Definition of type EventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tra | | | | | | | nsaction, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | DnaiC | M | 1 | I | | | aiChgType | hangeType | | | dentifies | | | | | | | the type | | | | | | | of | | | | | | | not | | | | | | | ification | | | | | | | regarding | | | | | | | UP path | | | | | | | m | | | | | | | anagement | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | sourceTra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | source | | | | | | | DNAI. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "subscrib | | | | | | | edEvent\" | | | | | | | sets to | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscr | Subscr | M | 1 | I | | | ibedEvent | ibedEvent | | | dentifies | | | | | | | a UP path | | | | | | | m | | | | | | | anagement | | | | | | | event the | | | | | | | AF | | | | | | | requested | | | | | | | to be | | | | | | | notified | | | | | | | of. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetTra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | target | | | | | | | DNAI. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "subscrib | | | | | | | edEvent\" | | | | | | | sets to | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Dnai | O | 0..1 | Source DN | | | ourceDnai | | | | Access | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | included | | | | | | | for event | | | | | | | \" | | | | | | | UP_PATH\ | | | | | | | _CHANGE\" | | | | | | | if the | | | | | | | DNAI | | | | | | | changed | | | | | | | (NOTE 2, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Dnai | O | 0..1 | Target DN | | | argetDnai | | | | Access | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | included | | | | | | | for event | | | | | | | \" | | | | | | | UP_PATH\ | | | | | | | _CHANGE\" | | | | | | | if the | | | | | | | DNAI | | | | | | | changed | | | | | | | (NOTE 2, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | srcU | Ipv4Addr | O | 0..1 | The IPv4 | | | eIpv4Addr | | | | Address | | | | | | | of the | | | | | | | served UE | | | | | | | for the | | | | | | | source | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | srcUeI | I | O | 0..1 | The Ipv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served UE | | | | | | | for the | | | | | | | source | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtU | Ipv4Addr | O | 0..1 | The IPv4 | | | eIpv4Addr | | | | Address | | | | | | | of the | | | | | | | served UE | | | | | | | for the | | | | | | | target | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtUeI | I | O | 0..1 | The Ipv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served UE | | | | | | | for the | | | | | | | target | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | O | 0..1 | UE MAC | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckUri | Link | O | 0..1 | The URI | URLLC | | | | | | provided | | | | | | | by the | | | | | | | NEF for | | | | | | | the AF | | | | | | | acknowl | | | | | | | edgement. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | for event | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.4.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | DNAI is | | | | | | | not | | | | | | | changed | | | | | | | while the | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | changed, | | | | | | | the | | | | | | | \"sou | | | | | | | rceDnai\" | | | | | | | attribute | | | | | | | and | | | | | | | \"tar | | | | | | | getDnai\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | change | | | | | | | from the | | | | | | | UP path | | | | | | | status | | | | | | | where no | | | | | | | DNAI | | | | | | | applies | | | | | | | to a | | | | | | | status | | | | | | | where a | | | | | | | DNAI | | | | | | | applies | | | | | | | indicates | | | | | | | the | | | | | | | a | | | | | | | ctivation | | | | | | | of the | | | | | | | related | | | | | | | AF | | | | | | | request | | | | | | | and | | | | | | | therefore | | | | | | | only the | | | | | | | target | | | | | | | DNAI and | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | event | | | | | | | noti | | | | | | | fication; | | | | | | | the | | | | | | | change | | | | | | | from the | | | | | | | UP path | | | | | | | status | | | | | | | where a | | | | | | | DNAI | | | | | | | applies | | | | | | | to a | | | | | | | status | | | | | | | where no | | | | | | | DNAI | | | | | | | applies | | | | | | | indicates | | | | | | | the | | | | | | | de-a | | | | | | | ctivation | | | | | | | of the | | | | | | | related | | | | | | | AF | | | | | | | request | | | | | | | and | | | | | | | therefore | | | | | | | only the | | | | | | | source | | | | | | | DNAI and | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | event | | | | | | | noti | | | | | | | fication. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.5 Type: AfResultInfo
Table 5.4.3.3.5-1: Definition of type AfResultInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afStatus | AfRes | M | 1 | I | | | | ultStatus | | | dentifies | | | | | | | the | | | | | | | result of | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | re | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | tra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | target | | | | | | | DNAI. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \"a | | | | | | | fStatus\" | | | | | | | sets to | | | | | | | \"S | | | | | | | UCCESS\". | | +-----------+-----------+---+-----------+-----------+-----------+ | upBuffInd | boolean | O | 0..1 | If | UL | | | | | | present | Buffering | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that | | | | | | | buffering | | | | | | | of uplink | | | | | | | traffic | | | | | | | to the | | | | | | | target | | | | | | | DNAI is | | | | | | | needed. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \"a | | | | | | | fStatus\" | | | | | | | sets to | | | | | | | \"S | | | | | | | UCCESS\". | | +-----------+-----------+---+-----------+-----------+-----------+ | easIpRep | array(Eas | O | 1..N | Contains | EASIPre | | laceInfos | IpReplace | | | EAS IP | placement | | | mentInfo) | | | re | | | | | | | placement | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.6 Type AfAckInfo
Table 5.4.3.3.6-1: Definition of type AfAckInfo
* * *
Attribute name Data type P Cardinality Description Applicability afTransId
string C 0..1 Identifies an NEF Northbound interface transaction, generated by
the AF. It shall be provided if the AF has previously provided it.  
ackResult AfResultInfo M 1 Identifies the result of application layer
handling.  
gpsi Gpsi O 0..1 Identifies a GPSI.
* * *
#### 5.4.3.4 Simple data types and enumerations
##### 5.4.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.4.3.4.2 Simple data types
The simple data types defined in table 5.4.3.4.2-1 shall be supported.
Table 5.4.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.4.3.4.3 Enumeration: SubscribedEvent
The enumeration SubscribedEvent represents the type of UP path management
events for which the AF requests to be notified. It shall comply with the
provisions defined in table 5.4.3.4.3-1.
Table 5.4.3.4.3-1: Enumeration SubscribedEvent
* * *
Enumeration value Description UP_PATH_CHANGE The AF requests to be notified
when the UP path changes for the PDU session.
* * *
##### 5.4.3.4.4 Enumeration: AfResultStatus
The enumeration AfResultStatus represents the status of application handling
result. It shall comply with the provisions defined in table 5.4.3.4.4-1.
Table 5.4.3.4.4-1: Enumeration AfResultStatus
* * *
Enumeration value Description SUCCESS The application layer is ready or the
relocation is completed. TEMP_CONGESTION The application relocation fails due
to temporary congestion. RELOC_NO_ALLOWED The application relocation fails
because application relocation is not allowed. OTHER The application
relocation fails due to other reason.
* * *
### 5.4.4 Used Features
The table below defines the features applicable to the TrafficInfluence API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.4.4-1: Features used by TrafficInfluence API
+----------------------+----------------------+----------------------+ | Feature number | Feature Name | Description | +----------------------+----------------------+----------------------+ | 1 | Not | The delivery of | | | ification_websocket | notifications over | | | | Websocket is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | | | | This feature | | | | requires that the | | | | Notif | | | | ication_test_event | | | | feature is also | | | | supported. | +----------------------+----------------------+----------------------+ | 2 | Notif | The testing of | | | ication_test_event | notification | | | | connection is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | +----------------------+----------------------+----------------------+ | 3 | URLLC | This feature | | | | indicates support of | | | | Ultra Reliable Low | | | | Latency | | | | Communication | | | | (URLLC) requirements | | | | (i.e. AF application | | | | relocation | | | | acknowledgement and | | | | UE address(es) | | | | preservation). | +----------------------+----------------------+----------------------+ | 4 | MacAddressRange | Indicates the | | | | support of a set of | | | | MAC addresses with a | | | | specific range in | | | | the traffic filter. | +----------------------+----------------------+----------------------+ | 5 | AF_latency | This feature | | | | indicates support | | | | for Edge relocation | | | | considering user | | | | plane latency. | +----------------------+----------------------+----------------------+ | 6 | EASDiscovery | This feature | | | | indicates the | | | | support of EAS | | | | (re)discovery. | +----------------------+----------------------+----------------------+ | 7 | EASIPreplacement | This feature | | | | indicates the | | | | support of | | | | provisioning of EAS | | | | IP replacement info. | +----------------------+----------------------+----------------------+ | 8 | ExposureToEAS | This feature | | | | indicates support | | | | for the indication | | | | provided by the AF | | | | of direct event | | | | notification of QoS | | | | monitoring events | | | | from the UPF to the | | | | Local NEF or the AF | | | | in 5GC. | +----------------------+----------------------+----------------------+ | 9 | SimultConnectivity | This feature | | | | indicates support of | | | | temporary | | | | simultaneous | | | | connectivity over | | | | source and target | | | | PSA at edge | | | | relocation. | +----------------------+----------------------+----------------------+ | 10 | ULBuffering | This feature | | | | indicates support | | | | for Uplink buffering | | | | indication for edge | | | | relocation. | +----------------------+----------------------+----------------------+ | 11 | EDGEAPP | This feature | | | | controls the support | | | | of EDGE applications | | | | related | | | | functionalities | | | | (e.g. support the | | | | provisioning of | | | | event reporting | | | | requirements). | +----------------------+----------------------+----------------------+ | Feature: A short | | | | name that can be | | | | used to refer to the | | | | bit and to the | | | | feature, e.g. | | | | \"Notification\". | | | | | | | | Description: A clear | | | | textual description | | | | of the feature. | | | +----------------------+----------------------+----------------------+
### 5.4.5 Error handling
#### 5.4.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.4.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the TrafficInfluence API.
#### 5.4.5.3 Application Errors
The application errors defined for TrafficInfluence API are listed in table
5.4.5.3-1.
Table 5.4.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.5 NiddConfigurationTrigger API
### 5.5.1 Resources
There is no resource defined for this API.
### 5.5.2 Notifications
#### 5.5.2.1 Introduction
Upon receipt of a NIDD connection establishment request from the SMF and there
is no NIDD configuration for the UE, the NEF may send an HTTP POST message in
order to trigger the AF to start the NIDD configuration procedure as described
in clause 5.6.3.2.3.4 of 3GPP TS 29.122 [4].
Table 5.5.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {no | POST | Request for | | Notification | tificationUri} | | the NIDD | | | | | Configuration | | | | | Trigger | +----------------+----------------+----------------+----------------+
#### 5.5.2.2 Event Notification
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.5.2.2-1.
Table 5.5.2.2-1: Callback URI variables
+-----------------+-----------+--------------------------------------+ | Name | Data type | Definition | +-----------------+-----------+--------------------------------------+ | notificationUri | Link | A URI indicating the notification | | | | destination where N33 notification | | | | requests shall be delivered to. | | | | | | | | This URI shall be preconfigured in | | | | the NEF. | +-----------------+-----------+--------------------------------------+
#### 5.5.2.3 Operation Definition
##### 5.5.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.5.2.3.1-1 and the response data structures and response codes specified in
table 5.5.2.3.1-2.
Table 5.5.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description NiddConfigurationTrigger M 1 The NIDD
Configuration Trigger is provided by the NEF to the AF.
* * *
Table 5.5.2.3.1-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Nid | M | 1 | 200 OK | The trigger | | dConfiguratio | | | | is received | | nTriggerReply | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | Configuration | | | | | | Trigger. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | Configuration | | | | | | Trigger. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Tabl 5.5.2.3.1-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.5.2.3.1-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.5.2.3.2 Notification via Websocket
Not specified in the present specification.
### 5.5.3 Data Model
#### 5.5.3.1 General
This clause specifies the application data model supported by the
NiddConfigurationTrigger API.
#### 5.5.3.2 Reused data types
The data types reused by the NiddConfigurationTrigger API from other
specifications are listed in table 5.5.3.2-1.
Table 5.5.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.5.4-1.
* * *
#### 5.5.3.3 Structured data types
##### 5.5.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.5.3.3.2 Type: NiddConfigurationTrigger
This type represents a NIDD configuration trigger which is sent from the NEF
to the AF.
Table 5.5.3.3.2-1: Definition of type NiddConfigurationTrigger
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | trigger | | | | | | | receiving | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | nefId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | trigger | | | | | | | sending | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | M | 1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.5.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.5.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.5.3.3.3 Type: NiddConfigurationTriggerReply
This data type represents a reply to a NIDD configuration trigger and is sent
from the AF to the NEF.
Table 5.5.3.3.3-1: Definition of type NiddConfigurationTriggerReply
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.5.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.5.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.5.3.4 Simple data types and enumerations
##### 5.5.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.5.3.4.2 Simple data types
The simple data types defined in table 5.5.3.4.2-1 shall be supported.
Table 5.5.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.5.4 Used Features
The table below defines the features applicable to the
NiddConfigurationTrigger API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.5.4-1: Features used by NiddConfigurationTrigger API
* * *
Feature number Feature Name Description
* * *
### 5.5.5 Error handling
#### 5.5.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.5.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the NiddConfigurationTrigger API.
#### 5.5.5.3 Application Errors
The application errors defined for NiddConfigurationTrigger API are listed in
table 5.5.5.3-1.
Table 5.5.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.6 AnalyticsExposure API
### 5.6.1 Resources
#### 5.6.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-analyticsexposure/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-analyticsexposure\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.6.1.1-1 and the resources and HTTP methods used for the AnalyticsExposure
API.
Figure 5.6.1.1-1: Resource URI structure of the AnalyticsExposure API
Table 5.6.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AnalyticsExposure API.
Table 5.6.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Analytics Exposure
Subscriptions /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to analytics exposure Individual Analytics
Exposure Subscription /{afId}/subscriptions /{subscriptionId} GET Read a
subscription to analytics exposure PUT Modify all of the properties of an
existing subscription to analytics exposure DELETE Delete a subscription to
analytics exposure
* * *
#### 5.6.1.2 Resource: Analytics Exposure Subscriptions
##### 5.6.1.2.1 Introduction
This resource allows a AF to read all active analytics exposure subscribtions
for the given AF, or allows a AF to create a new subscription to retrieve
analytics information.
##### 5.6.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-analyticsexposure/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.6.1.2.2-1.
Table 5.6.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.6.1.2.3 Resource Methods
###### 5.6.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.6.1.2.2.
###### 5.6.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.6.1.2.3.2-1.
Table 5.6.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.6.1.2.3.2-2 and the response data structures and response codes specified in
table 5.6.1.2.3.2-3.
Table 5.6.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | The | | ay(AnalyticsE | | | | subscription | | xposureSubsc) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.2.3.3 POST
The POST method creates a new subscription resource to analytics exposure
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.6.1.2.3.3-1 and the response data structures and response codes specified in
table 5.6.1.2.3.3-2.
Table 5.6.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AnalyticsExposureSubsc M 1 Parameters to
request a subscription to retrieve analytics information with the NEF.
* * *
Table 5.6.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 201 Created | The | | ExposureSubsc | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | { | | | | | | apiRoot}/3gpp-anal | | | | | | yticsexposure/v1/{ | | | | | | afId}/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
#### 5.6.1.3 Resource: Individual Analytics Exposure Subscription
##### 5.6.1.3.1 Introduction
This resource allows a AF to read/modify/cancel a subscription to retrieve
analytics information with the NEF.
##### 5.6.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-
analyticsexposure/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.6.1.3.2-1.
Table 5.6.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.6.1.3.3 Resource Methods
###### 5.6.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.6.1.3.2.
###### 5.6.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.6.1.3.3.2-1.
Table 5.6.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.6.1.3.3.2-2 and the response data structures and response codes specified in
table 5.6.1.3.3.2-3.
Table 5.6.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.3.3.3 PUT
The PUT method modifies an existing subscription resource to update a
subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.6.1.3.3.3-1 and the response data structures and response codes specified in
table 5.6.1.3.3.3-2.
Table 5.6.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsExposureSubsc M 1 Modify an
existing subscription to retrieve analytics information with the NEF.
* * *
Table 5.6.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.3.3.4 DELETE
The DELETE method deletes the analytics exposure subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.6.1.3.3.4-1.
Table 5.6.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.6.1.3.3.4-2 and the response data structures and response codes specified in
table 5.6.1.3.3.4-3.
Table 5.6.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.6.1A Custom Operations without associated resources
#### 5.6.1A.1 Overview
Custom operations used for this API are summarized in table 5.6.1A.1-1.
\"apiRoot\" is set as described in clause 5.2.4 of 3GPP TS 29.122 [4].
Table 5.6.1A.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description fetch
{apiRoot}/3gpp-analyticsexposure/v1/{afId}/fetch POST Request to fetch
analytics information
* * *
#### 5.6.1A.2 Operation: fetch
##### 5.6.1A.2.1 Description
The custom operation allows a service consumer to fetch analytics information
via the NEF.
##### 5.6.1A.2.2 Operation Definition
This operation shall support the response data structures and response codes
specified in tables 5.6.1A.2.2-1 and 5.6.1A.2.2-2.
Table 5.6.1A.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsRequest M 1 Parameters to request
to fetch analytics information.
* * *
Table 5.6.1A.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AnalyticsData | M | 1 | 200 OK | The requested | | | | | | analytics | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | request | | | | | | Analytics | | | | | | data does not | | | | | | exist, the | | | | | | NEF shall | | | | | | respond with | | | | | | \"204 No | | | | | | Content\". | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | analytics | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | analytics | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | **Pro | O | 0..1 | 400 Bad | (NOTE 2) | | blemDetails** | | | Request | | +---------------+---+-------------+---------------+---------------+ | **Pro | O | 0..1 | 500 Internal | (NOTE 2) | | blemDetails** | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | ProblemD | O | 0..1 | 500 Internal | The request | | etailsAnalyti | | | Server Error | is rejected | | csInfoRequest | | | | by the NEF | | | | | | and more | | | | | | details (not | | | | | | only the | | | | | | Pr | | | | | | oblemDetails) | | | | | | may be | | | | | | returned. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1A.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1A.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.6.2 Notifications
#### 5.6.2.1 Introduction
Upon receipt of analytics information notification from the NWDAF indicating
the subscribed analytics event is detected, the NEF shall send an HTTP POST
message including the notified analytics event to the AF. The NEF and the AF
shall support the notification mechanism as described in clause 5.2.5 of 3GPP
TS 29.122 [4].
Table 5.6.2.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Event | {notifUri} | POST | The analytics | | Notification | | | event | | | | | notification | | | | | is provided by | | | | | the NEF to the | | | | | AF. | +----------------+--------------+----------------+----------------+
#### 5.6.2.2 Event Notification
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.6.2.2-1.
Table 5.6.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during
creation/modification of the subscription within the AnalyticsExposureSubsc
data type as defined in Table 5.6.3.3.2-1.
* * *
#### 5.6.2.3 Operation Definition
##### 5.6.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.6.2.3.1-1 and the response data structures and response codes specified in
table 5.6.2.3.1-2.
Table 5.6.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsEventNotification M 1 The
analytics event notification is provided by the NEF to the AF.
* * *
Table 5.6.2.3.1-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.2.3.1-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.6.2.3.1-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.6.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the
AnalyticsEventNotification may alternatively be delivered through the
Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.6.3 Data Model
#### 5.6.3.1 General
This clause specifies the application data model supported by the
AnalyticsExposure API.
Table 5.6.3.1-1 specifies the data types defined for the AnalyticsExposure
API.
Table 5.6.3.1-1: AnalyticsExposure API specific Data Types
* * *
Data type Clause defined Description Applicability AbnormalExposure 5.6.3.3.15
Represents a user\'s abnormal behavior information. Abnormal_Behavior
AnalyticsData 5.6.3.3.14 Represents analytics data.  
AnalyticsEvent 5.6.3.4.3 Event that is subscribed.  
AnalyticsEventFilter 5.6.3.3.13 Represents analytics event filter information.  
AnalyticsEventFilterSubsc 5.6.3.3.6 Represents an analytics event filter.  
AnalyticsEventNotif 5.4.3.3.4 Represents an analytics event to be reported.  
AnalyticsEventNotification 5.6.3.3.3 Represents an analytics event(s)
notification.  
AnalyticsEventSubsc 5.6.3.3.5 Represents a subscribed analytics event.  
AnalyticsExposureSubsc 5.6.3.3.2 Represents an analytics exposure
subscription.  
AnalyticsFailureCode 5.6.3.4.4 Identifies the failure reason.  
AnalyticsFailureEventInfo 5.6.3.3.20 Represents an event for which the
subscription request was not successful and including the associated failure
reason.  
AnalyticsRequest 5.6.3.3.12 Represents the parameters to request to retrieve
analytics information.  
CongestInfo 5.6.3.3.16 Represents a UE\'s user data congestion information.
Congestion CongestionAnalytics 5.6.3.3.17 Represents data congestion analytics
for transfer over the user plane, control plane or both.  
NetworkPerfExposure 5.6.3.3.19 Represents network performance information.
Network_Performance QosSustainabilityExposure 5.6.3.3.18 Represents a QoS
sustainability information. QoS_Sustainability TargetUeId 5.6.3.3.7 Represents
the target UE(s) information.  
UeLocationInfo 5.6.3.3.10 Represents a UE location information.  
UeMobilityExposure 5.6.3.3.9 Represents a UE mobility information. Ue_Mobility
* * *
#### 5.6.3.2 Reused data types
The data types reused by the AnalyticsExposure API from other specifications
are listed in table 5.6.3.2-1.
Table 5.6.3.2-1: Re-used Data Types
* * *
Data type Reference Comments AdditionalMeasurement 3GPP TS 29.520 [27]  
AddrFqdn 3GPP TS 29.517 [58]  
AnalyticsSubset 3GPP TS 29.520 [27] Analytics Subset. ReportingInformation
3GPP TS 29.523 [22] Describes the analytics reporting requirement information.
BitRate 3GPP TS 29.571 [8]  
BwRequirement 3GPP TS 29.520 [27]  
CongestionType 3GPP TS 29.520 [27]  
DateTime 3GPP TS 29.122 [4]  
DispersionInfo 3GPP TS 29.520 [27] Dispersion information.
DispersionRequirement 3GPP TS 29.520 [27] Dispersion requirement. Dnai 3GPP TS
29.571 [8] Identifies a user plane access to one or more DN(s). Dnn 3GPP TS
29.571 [8]  
DnPerfInfo 3GPP TS 29.520 [27] DN Performance information. DnPerformanceReq
3GPP TS 29.520 [27] DN Performance requirement. DurationSec 3GPP TS 29.122 [4]
Seconds of duration. EventReportingRequirement 3GPP TS 29.520 [27]  
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
ExceptionId 3GPP TS 29.520 [27]  
ExpectedAnalyticsType 3GPP TS 29.520 [27]  
ExpectedUeBehaviourData 3GPP TS 29.503 [17]  
Float 3GPP TS 29.571 [8]  
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. MatchingDirection 3GPP TS 29.520
[27] Matching direction NetworkPerfRequirement 3GPP TS 29.520 [27]  
NsiIdInfo 3GPP TS 29.520 [27]  
NwdafFailureCode 3GPP TS 29.520 [27] Identifies the analytics failure reason.
ProblemDetailsAnalyticsInfoRequest 3GPP TS 29.520 [27]  
QosRequirement 3GPP TS 29.520 [27]  
RatFreqInformation 3GPP TS 29.520 [27]  
RetainabilityThreshold 3GPP TS 29.520 [27]  
SamplingRatio 3GPP TS 29.571 [8] Indicates Sampling Ratio.
ScheduledCommunicationTime 3GPP TS 29.122 [4]  
ServiceExperienceInfo 3GPP TS 29.520 [27]  
Snssai 3GPP TS 29.571 [8]  
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.6.4-1. ThresholdLevel 3GPP TS 29.520
[27]  
TimeWindow 3GPP TS 29.122 [4]  
TopApplication 3GPP TS 29.520 [27] Top application that contributes the most
to the traffic. UeCommunication 3GPP TS 29.520 [27]  
Uinteger 3GPP TS 29.571 [8] Unsigned integer. Uri 3GPP TS 29.571 [8]
Identifies a referenced resource. LocationArea5G 3GPP TS 29.122 [4]
* * *
#### 5.6.3.3 Structured data types
##### 5.6.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.6.3.3.2 Type: AnalyticsExposureSubsc
This type represents an analytics exposure subscription. The same structure is
used in the subscription request and subscription response.
Table 5.6.3.3.2-1: Definition of type AnalyticsExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | analyE | array(An | M | 1..N | S | | | ventsSubs | alyticsEv | | | ubscribed | | | | entSubsc) | | | analytics | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | ana | Re | O | 0..1 | Reporting | | | lyRepInfo | portingIn | | | re | | | | formation | | | quirement | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | values | | | | | | | within | | | | | | | the | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | data type | | | | | | | apply. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | analytics | | | | | | | event | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifId | string | M | 1 | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array(An | C | 1..N | R | | | ntNotifis | alyticsEv | | | epresents | | | | entNotif) | | | the | | | | | | | Events to | | | | | | | be | | | | | | | reported. | | | | | | | | | | | | | | Shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | immediate | | | | | | | reporting | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true | | | | | | | during | | | | | | | the event | | | | | | | subs | | | | | | | cription, | | | | | | | and the | | | | | | | reports | | | | | | | are | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | failEve | array | O | 1..N | Supplied | | | ntReports | (Analytic | | | by the | | | | sFailureE | | | NWDAF. | | | | ventInfo) | | | | | | | | | | When | | | | | | | a | | | | | | | vailable, | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | event(s) | | | | | | | for which | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | is not | | | | | | | su | | | | | | | ccessful, | | | | | | | including | | | | | | | the | | | | | | | failure | | | | | | | r | | | | | | | eason(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.6.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation, | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | attribute | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | I | | | | | | | ndividual | | | | | | | Analytics | | | | | | | Exposure | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.6.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \"p | | | | | | | artitionC | | | | | | | riteria\" | | | | | | | and | | | | | | | \"no | | | | | | | tifFlag\" | | | | | | | of the | | | | | | | data type | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"EneNA\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.3 Type: AnalyticsEventNotification
Table 5.6.3.3.3-1: Definition of type AnalyticsEventNotification
* * *
Attribute name Data type P Cardinality Description Applicability notifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
analyEventNotifs array(AnalyticsEventNotif) M 1..N Represents the analytics
events to be reported according to the subscription corresponding to the
Notification Correlation ID.
* * *
##### 5.6.3.3.4 Type: AnalyticsEventNotif
Table 5.6.3.3.4-1: Definition of type AnalyticsEventNotif
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | a | Analy | M | 1 | Detected | | | nalyEvent | ticsEvent | | | analytics | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | O | 0..1 | Defines | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | invalid. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | Time at | | | | | | | which the | | | | | | | event is | | | | | | | observed. | | +-----------+-----------+---+-----------+-----------+-----------+ | failN | An | C | 0..1 | I | EneNA | | otifyCode | alyticsFa | | | dentifies | | | | ilureCode | | | the | | | | | | | failure | | | | | | | reason | | | | | | | for the | | | | | | | event | | | | | | | noti | | | | | | | fication. | | | | | | | | | | | | | | It shall | | | | | | | only be | | | | | | | included | | | | | | | if the | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is failed | | | | | | | or the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | is not | | | | | | | ready. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | r | Du | O | 0..1 | Indicates | EneNA | | vWaitTime | rationSec | | | a | | | | | | | re | | | | | | | commended | | | | | | | time | | | | | | | interval | | | | | | | (in | | | | | | | seconds) | | | | | | | which is | | | | | | | used to | | | | | | | determine | | | | | | | the time | | | | | | | when | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | is needed | | | | | | | in | | | | | | | similar | | | | | | | future | | | | | | | event | | | | | | | subsc | | | | | | | riptions. | | | | | | | It may | | | | | | | only be | | | | | | | included | | | | | | | if the | | | | | | | \"failNot | | | | | | | ifyCode\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UNSATI | | | | | | | SFIED_RE | | | | | | | QUESTED_ | | | | | | | ANALYTICS | | | | | | | _TIME\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | array(U | C | 1..N | Contains | Ue\ | | lityInfos | eMobility | | | the UE | _Mobility | | | Exposure) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_MO | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | arra | C | 1..N | Contains | Ue_Comm | | CommInfos | y(UeCommu | | | the | unication | | | nication) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE | | | | | | | _COMM\". | | +-----------+-----------+---+-----------+-----------+-----------+ | abno | array | C | 1..N | Contains | Abnormal\ | | rmalInfos | (Abnormal | | | the | _Behavior | | | Exposure) | | | user\'s | | | | | | | abnormal | | | | | | | behavior | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array(Con | C | 1..N | Contains | C | | gestInfos | gestInfo) | | | the UE\'s | ongestion | | | | | | user data | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"CONG | | | | | | | ESTION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | array(Ne | C | 1..N | Contains | Ne | | PerfInfos | tworkPerf | | | the | twork_Pe | | | Exposure) | | | network | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosSus | array | C | 1..N | Contains | Q | | tainInfos | (QosSusta | | | the QoS | oS_Susta | | | inability | | | susta | inability | | | Exposure) | | | inability | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | di | arr | C | 1..N | Contains | D | | sperInfos | ay(Disper | | | the | ispersion | | | sionInfo) | | | D | | | | | | | ispersion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"DISP | | | | | | | ERSION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | array(Dn | C | 1..N | Contains | DnPe | | PerfInfos | PerfInfo) | | | the DN | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | svcExps | a | C | 1..N | Contains | ServiceE | | | rray(Serv | | | the | xperience | | | iceExperi | | | service | | | | enceInfo) | | | e | | | | | | | xperience | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | "an | | | | | | | alyEvent" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"SERV | | | | | | | ICE_EXPE | | | | | | | RIENCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | tim | DateTime | O | 0..1 | It | EneNA | | eStampGen | | | | defines | | | | | | | the | | | | | | | timestamp | | | | | | | of | | | | | | | analytics | | | | | | | ge | | | | | | | neration. | | +-----------+-----------+---+-----------+-----------+-----------+ | start | DateTime | O | 0..1 | It | EneNA | | | | | | defines | | | | | | | the start | | | | | | | time of | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | valid. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | values of | | | | | | | \"U | | | | | | | NAVAILABL | | | | | | | E_DATA\" | | | | | | | and | | | | | | | \"BOTH\ | | | | | | | _STAT_PR | | | | | | | ED_NOT_ | | | | | | | ALLOWED\" | | | | | | | of the | | | | | | | An | | | | | | | alyticsFa | | | | | | | ilureCode | | | | | | | data type | | | | | | | are not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | \"failNot | | | | | | | ifyCode\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | \"start\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | are both | | | | | | | provided, | | | | | | | the | | | | | | | DateTime | | | | | | | of the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | earlier | | | | | | | than the | | | | | | | DateTime | | | | | | | of the | | | | | | | \"start\" | | | | | | | a | | | | | | | ttribute. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.5 Type: AnalyticsEventSubsc
Table 5.6.3.3.5-1: Definition of type AnalyticsEventSubsc
* * *
Attribute name Data type P Cardinality Description Applicability analyEvent
AnalyticsEvent M 1 Requested analytics event.  
analyEventFilter AnalyticsEventFilterSubsc O 0..1 Represents analytics event
filter. (NOTE) tgtUe TargetUeId O 0..1 Identifies target UE information (NOTE)
NOTE: Applicability is further described in the corresponding data type.
* * *
##### 5.6.3.3.6 Type: AnalyticsEventFilterSubsc
Table 5.6.3.3.6-1: Definition of type AnalyticsEventFilterSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | O | 0..1 | Ident | Abnormal\ | | | ionArea5G | | | ification | _Behavior | | | | | | of | | | | | | | network | C | | | | | | area to | ongestion | | | | | | which the | | | | | | | sub | Ue_Comm | | | | | | scription | unication | | | | | | applies. | | | | | | | | Ue\ | | | | | | (NOTE 1) | _Mobility | | | | | | (NOTE 7) | | | | | | | | Q | | | | | | | oS_Susta | | | | | | | inability | | | | | | | | | | | | | | Ne | | | | | | | twork_Pe | | | | | | | rformance | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the DNN. | | | | | | | (NOTE 7) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | DnPe | | | | | | | rformance | +-----------+-----------+---+-----------+-----------+-----------+ | dnais | ar | O | 1..N | Identifi | DnPe | | | ray(Dnai) | | | cation(s) | rformance | | | | | | of user | | | | | | | plane | ServiceE | | | | | | access to | xperience | | | | | | DN(s) | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | O | 1..N | Each | Abnormal\ | | | ray(Appli | | | element | _Behavior | | | cationId) | | | i | | | | | | | dentifies | Ue_Comm | | | | | | an | unication | | | | | | app | | | | | | | lication. | D | | | | | | (NOTE 7) | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | e | array(E | O | 1..N | R | Abnormal\ | | xcepRequs | xception) | | | epresents | _Behavior | | | | | | a list of | | | | | | | Exception | | | | | | | Ids with | | | | | | | a | | | | | | | ssociated | | | | | | | th | | | | | | | resholds. | | | | | | | | | | | | | | (NOTE 2, | | | | | | | NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Exp | O | 0..1 | R | Abnormal\ | | ptAnaType | ectedAnal | | | epresents | _Behavior | | | yticsType | | | expected | | | | | | | UE | | | | | | | analytics | | | | | | | type. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Expec | O | 0..1 | R | Abnormal\ | | ptUeBehav | tedUeBeha | | | epresents | _Behavior | | | viourData | | | expected | | | | | | | UE | | | | | | | b | | | | | | | ehaviour. | | +-----------+-----------+---+-----------+-----------+-----------+ | ma | Matching | O | 0..1 | A | Q | | tchingDir | Direction | | | matching | oS_Susta | | | | | | direction | inability | | | | | | may be | | | | | | | provided | Co | | | | | | alongside | ngestion, | | | | | | a | | | | | | | t | Ne | | | | | | hreshold. | twork_Pe | | | | | | If | rformance | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value is | | | | | | | CROSSED. | | +-----------+-----------+---+-----------+-----------+-----------+ | reptThlds | arr | O | 1..N | R | C | | | ay(Thresh | | | epresents | ongestion | | | oldLevel) | | | the | | | | | | | levels to | | | | | | | be | | | | | | | reached | | | | | | | in order | | | | | | | to be | | | | | | | notified | | | | | | | by the | | | | | | | NEF. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | ar | C | 1..N | R | Ne | | wPerfReqs | ray(Netwo | | | epresents | twork_Pe | | | rkPerfReq | | | the | rformance | | | uirement) | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | eventId | | | | | | | is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the | | | | | | | network | Q | | | | | | slice | oS_Susta | | | | | | inf | inability | | | | | | ormation. | | | | | | | (NOTE 7) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | C | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | DnPe | | | | | | | rformance | +-----------+-----------+---+-----------+-----------+-----------+ | n | array(N | O | 1..N | Each | ServiceE | | siIdInfos | siIdInfo) | | | element | xperience | | | | | | i | | | | | | | dentifies | DnPe | | | | | | the | rformance | | | | | | S-NSSAI | | | | | | | and the | | | | | | | o | | | | | | | ptionally | | | | | | | a | | | | | | | ssociated | | | | | | | network | | | | | | | slice | | | | | | | ins | | | | | | | tance(s). | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"SER | | | | | | | VICE_EXP | | | | | | | ERIENCE\" | | | | | | | or | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosReq | QosRe | C | 0..1 | R | Q | | | quirement | | | epresents | oS_Susta | | | | | | the QoS | inability | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | eventId | | | | | | | is | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | ar | C | 1..N | R | Q | | owRetThds | ray(Retai | | | epresents | oS_Susta | | | nabilityT | | | the QoS | inability | | | hreshold) | | | flow | | | | | | | reta | | | | | | | inability | | | | | | | th | | | | | | | resholds, | | | | | | | | | | | | | | Shall be | | | | | | | supplied | | | | | | | for the | | | | | | | 5QI of | | | | | | | GBR | | | | | | | resource | | | | | | | type. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | ranUe | array | C | 1..N | R | Q | | ThrouThds | (BitRate) | | | epresents | oS_Susta | | | | | | the RAN | inability | | | | | | UE | | | | | | | t | | | | | | | hroughput | | | | | | | th | | | | | | | resholds. | | | | | | | | | | | | | | Shall be | | | | | | | supplied | | | | | | | for the | | | | | | | 5QI of | | | | | | | non-GBR | | | | | | | resource | | | | | | | type. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | a | O | 1..N | R | D | | isperReqs | rray(Disp | | | epresents | ispersion | | | ersionReq | | | the | | | | uirement) | | | d | | | | | | | ispersion | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | d | array | O | 1..N | R | DnPe | | nPerfReqs | (DnPerfor | | | epresents | rformance | | | manceReq) | | | the DN | | | | | | | pe | | | | | | | rformance | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | bwRequs | ar | O | 1..N | R | ServiceE | | | ray(BwReq | | | epresents | xperience | | | uirement) | | | the | | | | | | | bandwidth | | | | | | | re | | | | | | | quirement | | | | | | | for each | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratFreqs | array(R | O | 1..N | Identifi | ServiceE | | | atFreqInf | | | cation(s) | xperience | | | ormation) | | | of the | | | | | | | RAT type | | | | | | | and/or | | | | | | | fr | | | | | | | equencies | | | | | | | of UE's | | | | | | | serving | | | | | | | cell(s) | | | | | | | which the | | | | | | | subs | | | | | | | criptiont | | | | | | | applies. | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | appSe | array( | C | 1..N | Each of | ServiceE | | rverAddrs | AddrFqdn) | | | the | xperience | | | | | | element | | | | | | | r | DnPe | | | | | | epresents | rformance | | | | | | the | | | | | | | Ap | | | | | | | plication | | | | | | | Server | | | | | | | Instance | | | | | | | (IP | | | | | | | add | | | | | | | ress/FQDN | | | | | | | of the | | | | | | | Ap | | | | | | | plication | | | | | | | Server) | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | listOfA | arra | O | 1..N | The list | EneNA | | naSubsets | y(Analyti | | | of | | | | csSubset) | | | analytics | | | | | | | subsets | | | | | | | can be | | | | | | | used to | | | | | | | indicate | | | | | | | the | | | | | | | content | | | | | | | of the | | | | | | | a | | | | | | | nalytics. | | +-----------+-----------+---+-----------+-----------+-----------+ | extra | EventRe | O | 0..1 | The extra | | | ReportReq | portingRe | | | event | | | | quirement | | | reporting | | | | | | | re | | | | | | | quirement | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppUl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in Uplink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_UL. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppDl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in | | | | | | | Downlink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_DL. | | +-----------+-----------+---+-----------+-----------+-----------+ | visite | arr | O | 1..N | Identi | Ue\ | | dLocAreas | ay(Locati | | | fications | _Mobility | | | onArea5G) | | | of | | | | | | | network | | | | | | | areas | | | | | | | which the | | | | | | | UEs had | | | | | | | p | | | | | | | reviously | | | | | | | been in | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | Visited | | | | | | | Area(s) | | | | | | | of | | | | | | | Interest. | | | | | | | | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. For | | | | | | | \"NETW | | | | | | | ORK_PERF | | | | | | | ORMANCE\" | | | | | | | or | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | event | | | | | | | applied | | | | | | | for all | | | | | | | UEs (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true | | | | | | | within | | | | | | | the | | | | | | | T | | | | | | | argetUeId | | | | | | | data). | | | | | | | For | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Only | | | | | | | \" | | | | | | | excepId\" | | | | | | | and | | | | | | | \"exc | | | | | | | epLevel\" | | | | | | | within | | | | | | | the | | | | | | | Exception | | | | | | | data type | | | | | | | apply to | | | | | | | the | | | | | | | \"exc | | | | | | | epRequs\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Either | | | | | | | \"exc | | | | | | | epRequs\" | | | | | | | or | | | | | | | \"expt | | | | | | | AnaType\" | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | or | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\", | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | \"noti | | | | | | | fMethod\" | | | | | | | within | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | sets to | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | or | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 5: | | | | | | | For | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\", | | | | | | | this | | | | | | | property | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | \"noti | | | | | | | fMethod\" | | | | | | | in | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | is set to | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | or | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The | | | | | | | \"sa | | | | | | | mpRatio\" | | | | | | | attribute | | | | | | | and | | | | | | | \"h | | | | | | | istAnaTim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | within | | | | | | | EventRe | | | | | | | portingRe | | | | | | | quirement | | | | | | | data type | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | present | | | | | | | API. The | | | | | | | a | | | | | | | ttributes | | | | | | | \"accPer | | | | | | | Subset\", | | | | | | | \"offset | | | | | | | Period\", | | | | | | | and | | | | | | | \"timeAn | | | | | | | aNeeded\" | | | | | | | within | | | | | | | the | | | | | | | EventRe | | | | | | | portingRe | | | | | | | quirement | | | | | | | data type | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"EneNA\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | | | | | | | | NOTE 7: | | | | | | | For | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | | | | | | event | | | | | | | with | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | in | | | | | | | \"tgtUe\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true, | | | | | | | | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \" | | | | | | | locArea\" | | | | | | | > and the | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > | | | | | | | mobility | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \"l | | | | | | | ocArea\", | | | | | | | > \" | | | | | | | appIds\", | | | | | | | > \"dnn\" | | | | | | | > and | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > comm | | | | | | | unication | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > shall | | | | | | | > not be | | | | | | | > | | | | | | | requested | | | | | | | > for | | | | | | | > both | | | | | | | > | | | | | | | mobility | | | | | | | > and | | | | | | | > comm | | | | | | | unication | | | | | | | > related | | | | | | | > | | | | | | | analytics | | | | | | | > at the | | | | | | | > same | | | | | | | > time. | | | | | | | | | | | | | | NOTE 8: | | | | | | | If both | | | | | | | the | | | | | | | \" | | | | | | | allFreq\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "allRat\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"r | | | | | | | atFreqs\" | | | | | | | attribute | | | | | | | are | | | | | | | present, | | | | | | | then the | | | | | | | ca | | | | | | | rdinality | | | | | | | shall be | | | | | | | 1 as the | | | | | | | \"all\" | | | | | | | i | | | | | | | ndication | | | | | | | for all | | | | | | | the RAT | | | | | | | type and | | | | | | | Frequency | | | | | | | value the | | | | | | | NWDAF has | | | | | | | received | | | | | | | for the | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 9: | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | provided | | | | | | | when a | | | | | | | consumer | | | | | | | requires | | | | | | | analytics | | | | | | | for an | | | | | | | edge | | | | | | | ap | | | | | | | plication | | | | | | | over a UP | | | | | | | path. | | | | | | | | | | | | | | NOTE 10: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \ | | | | | | | "visitedL | | | | | | | ocAreas\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. If | | | | | | | this | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | the | | | | | | | analytics | | | | | | | target | | | | | | | period | | | | | | | shall be | | | | | | | a past | | | | | | | time | | | | | | | period | | | | | | | (i.e. | | | | | | | only | | | | | | | s | | | | | | | tatistics | | | | | | | is | | | | | | | su | | | | | | | pported). | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.7 Type TargetUeId
Table 5.6.3.3.7-1: Definition of type TargetUeId
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | anyUeInd | boolean | O | 0..1 | Id | Ab | | | | | | entifies | normal_ | | | | | | whether | Behavior | | | | | | the AF | | | | | | | request | Co | | | | | | applies | ngestion | | | | | | to any | | | | | | | UE. | Netw | | | | | | | ork_Per | | | | | | This | formance | | | | | | a | | | | | | | ttribute | QoS | | | | | | shall | _Sustai | | | | | | set to | nability | | | | | | \"true\" | | | | | | | if | Di | | | | | | ap | spersion | | | | | | plicable | | | | | | | for any | DnPer | | | | | | UE, | formance | | | | | | ot | | | | | | | herwise, | S | | | | | | set to | erviceEx | | | | | | \" | perience | | | | | | false\". | | +----------+----------+-------+----------+----------+----------+ | gpsi | Gpsi | O | 0..1 | Id | Ab | | | | | | entifies | normal_ | | | | | | a GPSI | Behavior | | | | | | for an | | | | | | | UE. | Co | | | | | | | ngestion | | | | | | | | | | | | | | Ue_ | | | | | | | Mobility | | | | | | | | | | | | | | U | | | | | | | e_Commu | | | | | | | nication | | | | | | | | | | | | | | Netw | | | | | | | ork_Per | | | | | | | formance | | | | | | | | | | | | | | Di | | | | | | | spersion | | | | | | | | | | | | | | DnPer | | | | | | | formance | | | | | | | | | | | | | | S | | | | | | | erviceEx | | | | | | | perience | +----------+----------+-------+----------+----------+----------+ | exte | Externa | O | 0..1 | Re | Abnorm | | rGroupId | lGroupId | | | presents | al_Beha | | | | | | an | viorUe_ | | | | | | external | Mobility | | | | | | group | | | | | | | id | U | | | | | | entifier | e_Commu | | | | | | and | nication | | | | | | id | | | | | | | entifies | Netw | | | | | | a group | ork_Per | | | | | | of UEs. | formance | | | | | | | | | | | | | | Di | | | | | | | spersion | | | | | | | | | | | | | | DnPer | | | | | | | formance | | | | | | | | | | | | | | S | | | | | | | erviceEx | | | | | | | perience | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | For an | | | | | | | ap | | | | | | | plicable | | | | | | | feature, | | | | | | | only one | | | | | | | a | | | | | | | ttribute | | | | | | | ide | | | | | | | ntifying | | | | | | | the | | | | | | | target | | | | | | | UE shall | | | | | | | be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.8 Void
##### 5.6.3.3.9 Type UeMobilityExposure
Table 5.6.3.3.9-1: Definition of type UeMobilityExposure
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | ts | DateTime | O | 0..1 | This | | | | | | | a | | | | | | | ttribute | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | t | | | | | | | imestamp | | | | | | | when the | | | | | | | UE | | | | | | | arrives | | | | | | | the | | | | | | | l | | | | | | | ocation. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | recur | Sc | O | 0..1 | Id | | | ringTime | heduledC | | | entifies | | | | ommunica | | | time of | | | | tionTime | | | the day | | | | | | | and day | | | | | | | of the | | | | | | | week | | | | | | | which | | | | | | | are | | | | | | | valid | | | | | | | within | | | | | | | the | | | | | | | obs | | | | | | | ervation | | | | | | | period | | | | | | | when the | | | | | | | UE | | | | | | | moves. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | duration | Dur | M | 1 | This | | | | ationSec | | | a | | | | | | | ttribute | | | | | | | id | | | | | | | entifies | | | | | | | the time | | | | | | | duration | | | | | | | the UE | | | | | | | stays in | | | | | | | the | | | | | | | l | | | | | | | ocation. | | | | | | | | | | | | | | If the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs, it | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | average | | | | | | | duration | | | | | | | for the | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | duration | Float | C | 0..1 | This | | | Variance | | | | a | | | | | | | ttribute | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | variance | | | | | | | of the | | | | | | | analysed | | | | | | | d | | | | | | | urations | | | | | | | for the | | | | | | | group of | | | | | | | UEs. It | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | locInfo | array | M | 1..N | This | | | | (UeLocat | | | a | | | | ionInfo) | | | ttribute | | | | | | | includes | | | | | | | a list | | | | | | | of UE | | | | | | | location | | | | | | | inf | | | | | | | ormation | | | | | | | during | | | | | | | the time | | | | | | | d | | | | | | | uration. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | Either | | | | | | | ts or | | | | | | | recur | | | | | | | ringTime | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If this | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | present, | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | the UE | | | | | | | movement | | | | | | | is | | | | | | | p | | | | | | | eriodic. | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | suitable | | | | | | | to be | | | | | | | present | | | | | | | for a | | | | | | | r | | | | | | | ecurring | | | | | | | mobility | | | | | | | in a | | | | | | | long | | | | | | | obs | | | | | | | ervation | | | | | | | time. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.10 Type UeLocationInfo
Table 5.6.3.3.10-1: Definition of type UeLocationInfo
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | loc | Locati | M | 1 | This | | | | onArea5G | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | detailed | | | | | | | l | | | | | | | ocation. | | +----------+----------+-------+----------+----------+----------+ | ratio | Sampl | C | 0..1 | This | | | | ingRatio | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | pe | | | | | | | rcentage | | | | | | | of UEs | | | | | | | in the | | | | | | | group. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | co | Uinteger | C | 0..1 | I | | | nfidence | | | | ndicates | | | | | | | the | | | | | | | co | | | | | | | nfidence | | | | | | | of the | | | | | | | pre | | | | | | | diction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | is a | | | | | | | pre | | | | | | | diction. | | | | | | | | | | | | | | Minimum | | | | | | | = 0. | | | | | | | Maximum | | | | | | | = 100. | | +----------+----------+-------+----------+----------+----------+ | NOTE: If | | | | | | | the | | | | | | | r | | | | | | | equested | | | | | | | period | | | | | | | id | | | | | | | entified | | | | | | | by the | | | | | | | \"s | | | | | | | tartTs\" | | | | | | | and | | | | | | | \ | | | | | | | "endTs\" | | | | | | | at | | | | | | | tributes | | | | | | | in the | | | | | | | \"Eve | | | | | | | ntReport | | | | | | | ingRequi | | | | | | | rement\" | | | | | | | type is | | | | | | | a future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means | | | | | | | the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | is a | | | | | | | pre | | | | | | | diction. | | | | | | | If no | | | | | | | su | | | | | | | fficient | | | | | | | data is | | | | | | | c | | | | | | | ollected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | co | | | | | | | nfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction | | | | | | | before | | | | | | | the time | | | | | | | d | | | | | | | eadline, | | | | | | | a zero | | | | | | | co | | | | | | | nfidence | | | | | | | shall be | | | | | | | r | | | | | | | eturned. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.11 Void
##### 5.6.3.3.12 Type: AnalyticsRequest
Table 5.6.3.3.12-1: Definition of type AnalyticsRequest
* * *
Attribute name Data type P Cardinality Description Applicability analyEvent
AnalyticsEvent M 1 Identifies the analytics type.  
analyEventFilter AnalyticsEventFilter C 0..1 Shall be included to identify the
analytics when filter information is needed for the related event.  
analyRep EventReportingRequirement O 0..1 Identifies the analytics reporting
requirement information. (NOTE)  
tgtUe TargetUeId O 0..1 Identifies the target UE information.  
suppFeat SupportedFeatures M 1 Represents the features supported by the NF
service consumer.  
NOTE: The attributes \"accPerSubset\", \"offsetPeriod\", and \"timeAnaNeeded\"
within the EventReportingRequirement data type are applicable only if the
\"EneNA\" feature is supported.
* * *
##### 5.6.3.3.13 Type AnalyticsEventFilter
Table 5.6.3.3.13-1: Definition of type AnalyticsEventFilter
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | C | 0..1 | This IE | Ue\ | | | ionArea5G | | | r | _Mobility | | | | | | epresents | | | | | | | the | Ue_Comm | | | | | | network | unication | | | | | | area | | | | | | | where the | Ne | | | | | | NF | twork_Pe | | | | | | service | rformance | | | | | | consumer | | | | | | | wants to | Q | | | | | | know the | oS_Susta | | | | | | analytics | inability | | | | | | result. | | | | | | | | Abnormal\ | | | | | | (NOTE 2, | _Behavior | | | | | | NOTE 3) | | | | | | | | C | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the DNN. | | | | | | | (NOTE 3) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | dnais | ar | O | 1..N | Identifi | DnPe | | | ray(Dnai) | | | cation(s) | rformance | | | | | | of user | | | | | | | plane | ServiceE | | | | | | access to | xperience | | | | | | DN(s) | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | arra | C | 1..N | R | Ne | | PerfTypes | y(Network | | | epresents | twork_Pe | | | PerfType) | | | the | rformance | | | | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | eventId | | | | | | | is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | O | 1..N | Each | Ue_Comm | | | ray(Appli | | | element | unication | | | cationId) | | | i | Abnormal\ | | | | | | dentifies | _Behavior | | | | | | an | | | | | | | app | DnPe | | | | | | lication. | rformance | | | | | | The | | | | | | | absence | ServiceE | | | | | | of appIds | xperience | | | | | | means all | | | | | | | appl | D | | | | | | ications. | ispersion | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | excepIds | array(Exc | O | 1..N | R | Abnormal\ | | | eptionId) | | | epresents | _Behavior | | | | | | a list of | | | | | | | Exception | | | | | | | Ids. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Exp | O | 0..1 | R | Abnormal\ | | ptAnaType | ectedAnal | | | epresents | _Behavior | | | yticsType | | | expected | | | | | | | UE | | | | | | | analytics | | | | | | | type. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Expec | O | 0..1 | R | Abnormal\ | | ptUeBehav | tedUeBeha | | | epresents | _Behavior | | | viourData | | | expected | | | | | | | UE | | | | | | | b | | | | | | | ehaviour. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the | | | | | | | network | Q | | | | | | slice | oS_Susta | | | | | | inf | inability | | | | | | ormation. | | | | | | | (NOTE 3) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | C | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | n | array(N | O | 1..N | Each | ServiceE | | siIdInfos | siIdInfo) | | | element | xperience | | | | | | i | | | | | | | dentifies | DnPe | | | | | | the | rformance | | | | | | S-NSSAI | | | | | | | and the | | | | | | | o | | | | | | | ptionally | | | | | | | a | | | | | | | ssociated | | | | | | | network | | | | | | | slice | | | | | | | ins | | | | | | | tance(s). | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"SER | | | | | | | VICE_EXP | | | | | | | ERIENCE\" | | | | | | | or | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosReq | QosRe | C | 0..1 | R | Q | | | quirement | | | epresents | oS_Susta | | | | | | the QoS | inability | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | a | | | | | | | nalyEvent | | | | | | | is | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | listOfA | arra | O | 1..N | The list | EneNA | | naSubsets | y(Analyti | | | of | | | | csSubset) | | | analytics | | | | | | | subsets | | | | | | | can be | | | | | | | used to | | | | | | | indicate | | | | | | | the | | | | | | | content | | | | | | | of the | | | | | | | a | | | | | | | nalytics. | | +-----------+-----------+---+-----------+-----------+-----------+ | d | array | O | 1..N | R | DnPe | | nPerfReqs | (DnPerfor | | | epresents | rformance | | | manceReq) | | | the DN | | | | | | | pe | | | | | | | rformance | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | bwRequs | ar | O | 1..N | R | ServiceE | | | ray(BwReq | | | epresents | xperience | | | uirement) | | | the | | | | | | | media/ap | | | | | | | plication | | | | | | | bandwidth | | | | | | | re | | | | | | | quirement | | | | | | | for each | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | It may | | | | | | | only be | | | | | | | present | | | | | | | if | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratFreqs | array(R | O | 1..N | Identifi | ServiceE | | | atFreqInf | | | cation(s) | xperience | | | ormation) | | | of the | | | | | | | RAT type | | | | | | | and/or | | | | | | | fr | | | | | | | equencies | | | | | | | of UE's | | | | | | | serving | | | | | | | cell(s) | | | | | | | which the | | | | | | | subs | | | | | | | criptiont | | | | | | | applies. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | appSe | array( | C | 1..N | Each of | ServiceE | | rverAddrs | AddrFqdn) | | | the | xperience | | | | | | element | | | | | | | r | DnPe | | | | | | epresents | rformance | | | | | | the | | | | | | | Ap | | | | | | | plication | | | | | | | Server | | | | | | | Instance | | | | | | | (IP | | | | | | | add | | | | | | | ress/FQDN | | | | | | | of the | | | | | | | Ap | | | | | | | plication | | | | | | | Server). | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | a | O | 1..N | R | D | | isperReqs | rray(Disp | | | epresents | ispersion | | | ersionReq | | | the | | | | uirement) | | | req | | | | | | | uirements | | | | | | | of | | | | | | | d | | | | | | | ispersion | | | | | | | a | | | | | | | nalytics. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppUl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in Uplink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | elements | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_UL. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppDl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in | | | | | | | Downlink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | elements | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_DL. | | +-----------+-----------+---+-----------+-----------+-----------+ | visite | arr | O | 1..N | Identi | Ue\ | | dLocAreas | ay(Locati | | | fications | _Mobility | | | onArea5G) | | | of | | | | | | | network | | | | | | | areas | | | | | | | which the | | | | | | | UEs had | | | | | | | p | | | | | | | reviously | | | | | | | been in | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | Visited | | | | | | | Area(s) | | | | | | | of | | | | | | | Interest. | | | | | | | | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | \"e | | | | | | | xcepIds\" | | | | | | | or | | | | | | | \"expt | | | | | | | AnaType\" | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. For | | | | | | | \"NETW | | | | | | | ORK_PERF | | | | | | | ORMANCE\" | | | | | | | or | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | event | | | | | | | applied | | | | | | | for all | | | | | | | UEs (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true | | | | | | | within | | | | | | | the | | | | | | | T | | | | | | | argetUeId | | | | | | | data). | | | | | | | For | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | | | | | | event, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | For | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | | | | | | event | | | | | | | with | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | in | | | | | | | \"tgtUe\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true, | | | | | | | | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \" | | | | | | | locArea\" | | | | | | | > and the | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > | | | | | | | mobility | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \"l | | | | | | | ocArea\", | | | | | | | > \" | | | | | | | appIds\", | | | | | | | > \"dnn\" | | | | | | | > and | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > comm | | | | | | | unication | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > shall | | | | | | | > not be | | | | | | | > | | | | | | | requested | | | | | | | > for | | | | | | | > both | | | | | | | > | | | | | | | mobility | | | | | | | > and | | | | | | | > comm | | | | | | | unication | | | | | | | > related | | | | | | | > | | | | | | | analytics | | | | | | | > at the | | | | | | | > same | | | | | | | > time. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If both | | | | | | | the | | | | | | | \" | | | | | | | allFreq\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "allRat\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"r | | | | | | | atFreqs\" | | | | | | | attribute | | | | | | | are | | | | | | | present, | | | | | | | then the | | | | | | | ca | | | | | | | rdinality | | | | | | | shall be | | | | | | | 1 as the | | | | | | | \"all\" | | | | | | | i | | | | | | | ndication | | | | | | | for all | | | | | | | the RAT | | | | | | | type and | | | | | | | Frequency | | | | | | | value the | | | | | | | NWDAF has | | | | | | | received | | | | | | | for the | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 5: | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | provided | | | | | | | when a | | | | | | | consumer | | | | | | | requires | | | | | | | analytics | | | | | | | for an | | | | | | | edge | | | | | | | ap | | | | | | | plication | | | | | | | over a UP | | | | | | | path. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \ | | | | | | | "visitedL | | | | | | | ocAreas\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. If | | | | | | | this | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | the | | | | | | | analytics | | | | | | | target | | | | | | | period | | | | | | | shall be | | | | | | | a past | | | | | | | time | | | | | | | period | | | | | | | (i.e. | | | | | | | only | | | | | | | s | | | | | | | tatistics | | | | | | | is | | | | | | | su | | | | | | | pported). | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.14 Type AnalyticsData
Table 5.6.3.3.14-1: Definition of type AnalyticsData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | start | DateTime | O | 0..1 | It | EneNA | | | | | | defines | | | | | | | the start | | | | | | | time of | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | valid. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | O | 0..1 | Defines | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | invalid. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | tim | DateTime | O | 0..1 | It | EneNA | | eStampGen | | | | defines | | | | | | | the | | | | | | | timestamp | | | | | | | of | | | | | | | analytics | | | | | | | ge | | | | | | | neration. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | array(U | C | 1..N | Contains | Ue\ | | lityInfos | eMobility | | | the UE | _Mobility | | | Exposure) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_M | | | | | | | OBILITY\" | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | arra | C | 1..N | Contains | Ue_Comm | | CommInfos | y(UeCommu | | | the | unication | | | nication) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"U | | | | | | | E_COMM\" | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | array(Ne | C | 1..N | Contains | Ne | | PerfInfos | tworkPerf | | | the | twork_Pe | | | Exposure) | | | network | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | abno | array | C | 1..N | Contains | Abnormal\ | | rmalInfos | (Abnormal | | | the | _Behavior | | | Exposure) | | | user\'s | | | | | | | abnormal | | | | | | | behavior | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array(Con | C | 1..N | Contains | C | | gestInfos | gestInfo) | | | the UE\'s | ongestion | | | | | | user data | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"CONG | | | | | | | ESTION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosSus | array | C | 1..N | Contains | Q | | tainInfos | (QosSusta | | | the QoS | oS_Susta | | | inability | | | susta | inability | | | Exposure) | | | inability | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | di | arr | C | 1..N | Contains | D | | sperInfos | ay(Disper | | | the | ispersion | | | sionInfo) | | | D | | | | | | | ispersion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"DISP | | | | | | | ERSION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | array(Dn | C | 1..N | Contains | DnPe | | PerfInfos | PerfInfo) | | | the DN | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | svcExps | a | C | 1..N | Contains | ServiceE | | | rray(Serv | | | the | xperience | | | iceExperi | | | service | | | | enceInfo) | | | e | | | | | | | xperience | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"SERV | | | | | | | ICE_EXPE | | | | | | | RIENCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | \"start\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | are both | | | | | | | provided, | | | | | | | the | | | | | | | DateTime | | | | | | | of the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | earlier | | | | | | | than the | | | | | | | DateTime | | | | | | | of the | | | | | | | \"start\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"qosFlo | | | | | | | wRetThd\" | | | | | | | and | | | | | | | \"ranUeT | | | | | | | hrouThd\" | | | | | | | a | | | | | | | ttributes | | | | | | | in | | | | | | | QosSust | | | | | | | ainabilit | | | | | | | yExposure | | | | | | | data type | | | | | | | are not | | | | | | | ap | | | | | | | plicable. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.15 Type AbnormalExposure
Table 5.6.3.3.15-1: Definition of type AbnormalExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | Each | | | | ray(Gpsi) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a UE | | | | | | | which is | | | | | | | affected | | | | | | | with the | | | | | | | E | | | | | | | xception. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | applies | | | | | | | to more | | | | | | | than one | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | excep | Exception | M | 1 | Contains | | | | | | | the | | | | | | | exception | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | O | 0..1 | I | | | | icationId | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | was | | | | | | | provided | | | | | | | within | | | | | | | An | | | | | | | alyticsEv | | | | | | | entFilter | | | | | | | during | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | for event | | | | | | | not | | | | | | | ification | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Abnor | | | | | | dentifies | mal_Beha | | | | | | DNN, a | vior_Ext | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Abnor | | | | | | dentifies | mal_Beha | | | | | | the | vior_Ext | | | | | | network | | | | | | | slice | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratio | Samp | C | 0..1 | This | | | | lingRatio | | | attribute | | | | | | | contains | | | | | | | the | | | | | | | p | | | | | | | ercentage | | | | | | | of UEs | | | | | | | with same | | | | | | | analytics | | | | | | | result in | | | | | | | the group | | | | | | | or among | | | | | | | all UEs. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs or | | | | | | | any UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | add | Add | O | 0..1 | A | | | tMeasInfo | itionalMe | | | dditional | | | | asurement | | | mea | | | | | | | surement. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.16 Type CongestInfo
Table 5.6.3.3.16-1: Definition of type CongestInfo
* * *
Attribute name Data type P Cardinality Description Applicability locArea
LocationArea5G M 1 Network area of interest. (NOTE)  
cngAnas array(CongestionAnalytics) M 1..N Represents data congestion analytics
for transfer over the user plane, control plane or both planes.  
NOTE: The NetworkAreaInfo data within the LocationArea5G data is not
applicable.
* * *
##### 5.6.3.3.17 Type CongestionAnalytics
Table 5.6.3.3.17-1: Definition of type CongestionAnalytics
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | cngType | Conge | M | 1 | R | | | | stionType | | | epresents | | | | | | | c | | | | | | | ongestion | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | tmWdw | T | M | 1 | R | | | | imeWindow | | | epresents | | | | | | | a start | | | | | | | time and | | | | | | | a stop | | | | | | | time | | | | | | | observed | | | | | | | for the | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | nsi | Thres | M | 1 | R | | | | holdLevel | | | epresents | | | | | | | network | | | | | | | c | | | | | | | ongestion | | | | | | | level. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | top | arr | C | 1..N | List of | Cong | | AppListUl | ay(TopApp | | | top | estionExt | | | lication) | | | app | | | | | | | lications | | | | | | | in | | | | | | | Uplink. | | | | | | | Shall be | | | | | | | present | | | | | | | if one of | | | | | | | the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | was set | | | | | | | to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_UL. | | +-----------+-----------+---+-----------+-----------+-----------+ | top | arr | C | 1..N | List of | Cong | | AppListDl | ay(TopApp | | | top | estionExt | | | lication) | | | app | | | | | | | lications | | | | | | | in | | | | | | | Downlink. | | | | | | | Shall be | | | | | | | present | | | | | | | if one of | | | | | | | the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | was set | | | | | | | to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_DL. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.18 Type QosSustainabilityExposure
Table 5.6.3.3.18-1: Definition of type QosSustainabilityExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | M | 1 | Identifi | | | | ionArea5G | | | cation(s) | | | | | | | of | | | | | | | a | | | | | | | pplicable | | | | | | | location | | | | | | | areas | | | | | | | where the | | | | | | | analytics | | | | | | | result | | | | | | | applies. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | startTs | DateTime | M | 1 | R | | | | | | | epresents | | | | | | | the start | | | | | | | time of | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | observing | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | endTs | DateTime | M | 1 | R | | | | | | | epresents | | | | | | | the end | | | | | | | time of | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | observing | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosF | Reta | O | 0..1 | The | | | lowRetThd | inability | | | reporting | | | | Threshold | | | QoS Flow | | | | | | | Reta | | | | | | | inability | | | | | | | Threshold | | | | | | | that are | | | | | | | met or | | | | | | | crossed | | | | | | | for 5QI | | | | | | | of GBR | | | | | | | resource | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ranU | BitRate | O | 0..1 | The | | | eThrouThd | | | | reporting | | | | | | | RAN UE | | | | | | | T | | | | | | | hroughput | | | | | | | Threshold | | | | | | | that are | | | | | | | met or | | | | | | | crossed | | | | | | | for 5QI | | | | | | | of | | | | | | | non-GBR | | | | | | | resource | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | QoS_S | | | | | | dentifies | ustainabi | | | | | | the | lity_Ext | | | | | | network | | | | | | | slice | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 2) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | qosF | | | | | | | lowRetThd | | | | | | | or | | | | | | | ranU | | | | | | | eThrouThd | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | data | | | | | | | within | | | | | | | the | | | | | | | Locat | | | | | | | ionArea5G | | | | | | | data is | | | | | | | not | | | | | | | ap | | | | | | | plicable. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.19 Type NetworkPerfExposure
Table 5.6.3.3.19-1: Definition of type NetworkPerfExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | M | 1 | Ident | | | | ionArea5G | | | ification | | | | | | | of | | | | | | | network | | | | | | | area to | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | applies. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | Networ | M | 1 | The type | | | wPerfType | kPerfType | | | of the | | | | | | | network | | | | | | | pe | | | | | | | rformance | | +-----------+-----------+---+-----------+-----------+-----------+ | rela | Samp | O | 0..1 | The | | | tiveRatio | lingRatio | | | reported | | | | | | | relative | | | | | | | ratio | | | | | | | expressed | | | | | | | in | | | | | | | pe | | | | | | | rcentage. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ab | Uinteger | O | 0..1 | The | | | soluteNum | | | | reported | | | | | | | absolute | | | | | | | number | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 2) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | rela | | | | | | | tiveRatio | | | | | | | or | | | | | | | ab | | | | | | | soluteNum | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | data | | | | | | | within | | | | | | | the | | | | | | | Locat | | | | | | | ionArea5G | | | | | | | data is | | | | | | | not | | | | | | | ap | | | | | | | plicable. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.20 Type AnalyticsFailureEventInfo
Table 5.6.3.3.20-1: Definition of type AnalyticsFailureEventInfo
* * *
Attribute name Data type P Cardinality Description Applicability event
AnalyticsEvent M 1 Event that is subscribed.  
failureCode AnalyticsFailureCode M 1 Identifies the failure reason
* * *
#### 5.6.3.4 Simple data types and enumerations
##### 5.6.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.6.3.4.2 Simple data types
The simple data types defined in table 5.6.3.4.2-1 shall be supported.
Table 5.6.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.6.3.4.3 Enumeration: AnalyticsEvent
The enumeration represents the type of analytics events of which the AF
requests to be notified. It shall comply with the provisions defined in table
5.6.3.4.3-1.
Table 5.6.3.4.3-1: Enumeration AnalyticsEvent
* * *
Enumeration value Description Applicability UE_MOBILITY The AF requests to be
notified about analytics information of UE mobility. Ue_Mobility UE_COMM The
AF requests to be notified about analytics information of UE communication.
Ue_Communication ABNORMAL_BEHAVIOR The AF requests to be notified about
analytics information of UE\'s abnormal behavior. Abnormal_Behavior CONGESTION
The AF requests to be notified about analytics information of user data
congestion information. Congestion NETWORK_PERFORMANCE The AF requests to be
notified about analytics information of network performance information.
Network_Performance QOS_SUSTAINABILITY The AF requests to be notified about
analytics information of QoS sustainability. QoS_Sustainability DISPERSION The
AF requests to be notified about analytics information of Dispersion
information. Dispersion DN_PERFORMANCE The AF requests to be notified about
analytics information of DN performance information. DnPerformance
SERVICE_EXPERIENCE The AF requests to be notified about analytics information
of service experience. ServiceExperience
* * *
##### 5.6.3.4.4 Enumeration: AnalyticsFailureCode
Table 5.6.3.4.4-1: Enumeration AnalyticsFailureCode
* * *
Enumeration value Description Applicability BOTH_STAT_PRED_NOT_ALLOWED The
event is rejected since the start time is in the past and the end time is in
the future, which means the NF service consumer requested both statistics and
prediction for the analytics.  
UNAVAILABLE_DATA The event is rejected since necessary data to perform the
service is unavailable.  
UNSATISFIED_REQUESTED_ANALYTICS_TIME Indicates that the requested event is
rejected since the analytics information is not ready when the time indicated
by the \"timeAnaNeeded\" attribute (as provided during the creation or
modification of subscription) is reached. EneNA OTHER The event is rejected
due to other reasons.
* * *
### 5.6.4 Used Features
The table below defines the features applicable to the AnalyticsExposure API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.6.4-1: Features used by AnalyticsExposure API
+----------------+-------------------------+-------------------------+ | Feature number | Feature Name | Description | +----------------+-------------------------+-------------------------+ | 1 | Ue_Mobility | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE mobility. | +----------------+-------------------------+-------------------------+ | 2 | Ue_Communication | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE communication | | | | information. | +----------------+-------------------------+-------------------------+ | 3 | Abnormal_Behavior | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE\'s abnormal | | | | behaviour. | +----------------+-------------------------+-------------------------+ | 4 | Congestion | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE\'s user data | | | | congestion information. | +----------------+-------------------------+-------------------------+ | 5 | Network_Performance | This feature indicates | | | | support for the | | | | analytics event related | | | | to network performance. | +----------------+-------------------------+-------------------------+ | 6 | QoS_Sustainability | This feature indicates | | | | support for the | | | | analytics event related | | | | to QoS sustainability. | +----------------+-------------------------+-------------------------+ | 7 | Notification_websocket | The delivery of | | | | notifications over | | | | Websocket is supported | | | | as described in | | | | 3GPP TS 29.122 [4]. | | | | This feature requires | | | | that the | | | | No | | | | tification_test_event | | | | feature is also | | | | supported. | +----------------+-------------------------+-------------------------+ | 8 | No | The testing of | | | tification_test_event | notification connection | | | | is supported as | | | | described in | | | | 3GPP TS 29.122 [4]. | +----------------+-------------------------+-------------------------+ | 9 | Dispersion | This feature indicates | | | | support for the | | | | analytics event related | | | | to Dispersion | | | | analytics. | +----------------+-------------------------+-------------------------+ | 10 | EneNA | This feature indicates | | | | support for the | | | | enhancements of network | | | | data analytics | | | | requirements. | +----------------+-------------------------+-------------------------+ | 11 | DnPerformance | This feature indicates | | | | the support of the | | | | analytics event related | | | | to DN performance. | +----------------+-------------------------+-------------------------+ | 12 | ServiceExperience | This feature indicates | | | | support for the event | | | | related to service | | | | experience. | +----------------+-------------------------+-------------------------+ | 13 | CongestionExt | This feature indicates | | | | support for the | | | | extensions to the event | | | | related to user data | | | | congestion, including | | | | support of GPSI and/or | | | | list of Top | | | | applications. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Congestion. | +----------------+-------------------------+-------------------------+ | 14 | Abnormal_Behavior_Ext | This feature indicates | | | | support for the | | | | extensions to the event | | | | related to abnormal | | | | behavior, including | | | | support of exposing DNN | | | | and S-NSSAI | | | | information. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Abnormal_Behavior. | +----------------+-------------------------+-------------------------+ | 15 | Q | This feature indicates | | | oS_Sustainability_Ext | support for the | | | | extensions to the event | | | | related to QoS | | | | sustainability, | | | | including support of | | | | exposing S-NSSAI | | | | information. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | QoS_Sustainability. | +----------------+-------------------------+-------------------------+
### 5.6.5 Error handling
#### 5.6.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.6.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AnalyticsExposure API.
#### 5.6.5.3 Application Errors
The application errors defined for the AnalyticsExposure API are listed in
table 5.6.5.3-1.
Table 5.6.5.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
BOTH_STAT_PRED_NOT_ALLOWED 400 Bad Request For the requested observation
period, the start time is in the past and the end time is in the future, which
means the AF requested both statistics and prediction for the analytics.
UNAVAILABLE_DATA 500 Internal Server Error Indicates the requested statistics
in the past is rejected since necessary data to perform the service is
unavailable. UNSATISFIED_REQUESTED_ANALYTICS_TIME 500 Internal Server Error
Indicates that the requested event is rejected since the analytics information
is not ready when the time indicated by the \"timeAnaNeeded\" attribute (as
provided during the request) is reached.
* * *
## 5.7 5GLANParameterProvision API
### 5.7.1 Resources
#### 5.7.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-5glan-pp/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-5glan-pp\" and \"apiVersion\" shall be set
to \"v1\" for the current version defined in the present document. All
resource URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.7.1.1-1 and the resources and HTTP methods used for the
5GLANParameterProvision API.
Figure 5.7.1.1-1: Resource URI structure of the 5GLANParameterProvision API
Table 5.7.1.1-1 provides an overview of the resources and HTTP methods
applicable for the 5GLANParameterProvision API.
Table 5.7.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description 5GLAN Parameters Provision
Subscriptions /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to provision parameters Individual 5GLAN
Parameters Provision Subscription /{afId}/subscriptions/{subscriptionId} GET
Read an existing subscription identified by {subscriptionId} PUT Modify all of
the properties of an existing subscription identified by {subscriptionId}
PATCH Modify some properties of an existing subscription identified by
{subscriptionId} DELETE Delete a subscription identified by {subscriptionId}
* * *
#### 5.7.1.2 Resource: 5GLAN Parameters Provision Subscriptions
##### 5.7.1.2.1 Introduction
This resource allows a AF to read all active 5GLAN parameters provision
subscribtions for the given AF, or create an new individual 5GLAN parameters
provision subscription to provision parameters to the NEF.
##### 5.7.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-5glan-pp/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.7.1.2.2-1.
Table 5.7.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.7.1.2.3 Resource Methods
###### 5.7.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.7.1.2.2.
###### 5.7.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.7.1.2.3.2-1.
Table 5.7.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.2.3.2-2 and the response data structures and response codes specified in
table 5.7.1.2.3.2-3.
Table 5.7.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array | M | 0..N | 200 OK | All the | | (5GLanParamet | | | | subscription | | ersProvision) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.2.3.3 POST
The POST method creates a new resource to individual 5GLAN parameters
provision subscription for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.7.1.2.3.3-1 and the response data structures and response codes specified in
table 5.7.1.2.3.3-2.
Table 5.7.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParametersProvision M 1 Parameters to
create a subscription to provision parameters.
* * *
Table 5.7.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 201 Created | The | | tersProvision | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure:
{apiRoot}/3gpp-5glan-pp/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.7.1.3 Resource: Individual 5GLAN Parameters Provision Subscription
##### 5.7.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing subscription
to provision 5GLAN parameters.
##### 5.7.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-5glan-
pp/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.7.1.3.2-1.
Table 5.7.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.7.1.3.3 Resource Methods
###### 5.7.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.7.1.3.2.
###### 5.7.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.2-1.
Table 5.7.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.2-2 and the response data structures and response codes specified in
table 5.7.1.3.3.2-3.
Table 5.7.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.3 PUT
The PUT method modifies an existing resource to update a subscription. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.7.1.3.3.3-1 and the response data structures and response codes specified in
table 5.7.1.3.3.3-2.
Table 5.7.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description 5GLanParametersProvision M 1 Modify an
existing subscription to provision parameters.
* * *
Table 5.7.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.4 DELETE
The DELETE method deletes an existing individual 5GLAN parameters provision
subscription for a given AF. The AF shall initiate the HTTP DELETE request
message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.4-1.
Table 5.7.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.4-2 and the response data structures and response codes specified in
table 5.7.1.3.3.4-3.
Table 5.7.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.7.1.3.3.5-1 and the response data structures and response codes specified in
table 5.7.1.3.3.5-2.
Table 5.7.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParametersProvisionPatch M 1 Modify
an existing subscription to provision parameters.
* * *
Table 5.7.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.7.1A Notifications
Notifications are not applicable to this API.
### 5.7.2 Data Model
#### 5.7.2.1 General
This clause specifies the application data model supported by the
5GLANParameterProvision API.
Table 5.7.2.1-1 specifies the data types defined for the
5GLANParameterProvision API.
Table 5.7.2.1-1: 5GLANParameterProvision API specific Data Types
* * *
Data type Clause defined Description Applicability 5GLanParameters 5.7.2.3.3
Represents 5G LAN service related parameters that need to be provisioned.  
5GLanParametersPatch 5.7.2.3.6 Represents 5G LAN service related parameters
that need to be modified.  
5GLanParametersProvision 5.7.2.3.2 Represents an individual 5G LAN parameters
provision subscription resource.  
5GLanParametersProvisionPatch 5.7.2.3.5 Represents the 5G LAN parameters to
request the modification of a subscription to provision parameters.  
AaaUsage 5.7.2.4.3 Represents the usage of the DN-AAA server.  
AppDescriptor 5.7.2.3.4 Represents an operation system and the corresponding
applications.  
AppDescriptorRm 5.7.2.3.7 Represents the same as the AppDescriptor data type
but with the \"nullable: true\" property.
* * *
#### 5.7.2.2 Reused data types
The data types reused by the 5GLANParameterProvision API from other
specifications are listed in table 5.7.2.2-1.
Table 5.7.2.2-1: Re-used Data Types
* * *
Data type Reference Comments ApplicationId 3GPP TS 29.571 [8]  
Dnn 3GPP TS 29.571 [8] Identifies a DNN. ExternalGroupId 3GPP TS 29.122 [4]
External Group Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies
a GPSI. Ipv4Addr 3GPP TS 29.571 [8] Identifies an IPv4 address. Ipv6Addr 3GPP
TS 29.571 [8] Identifies an IPv6 address. Link 3GPP TS 29.122 [4] Identifies a
referenced resource. MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC
provider information for 5G VN Group Configuration authorization. OsId 3GPP TS
29.519 [23] Operating System. PduSessionType 3GPP TS 29.571 [8] PDU session
type. Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP
TS 29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.7.3-1.
* * *
#### 5.7.2.3 Structured data types
##### 5.7.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.7.2.3.2 Type: 5GLanParametersProvision
Table 5.7.2.3.2-1: Definition of type 5GLanParametersProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | p | | | | | | | arameters | | | | | | | provision | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5g | 5GLanP | M | 1 | R | | | LanParams | arameters | | | epresents | | | | | | | the 5G | | | | | | | LAN | | | | | | | service | | | | | | | related | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.3 Type: 5GLanParameters
This type represents the 5G LAN service related parameters need to be
provisioned.
Table 5.7.2.3.3-1: Definition of type 5GLanParameters
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | M | 1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | an 5G | | | | | | | Virtual | | | | | | | Network | | | | | | | Group. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | map(Gpsi) | M | 1..N | R | | | | | | | epresents | | | | | | | the list | | | | | | | of 5G VN | | | | | | | Group | | | | | | | members, | | | | | | | each | | | | | | | member is | | | | | | | i | | | | | | | dentified | | | | | | | by GPSI. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | DNN for | | | | | | | the 5G VN | | | | | | | group, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | aa | Ipv4Addr | O | 1 | I | | | aIpv4Addr | | | | dentifies | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | IPv4 | | | | | | | address | | | | | | | provided | | | | | | | by AF, | | | | | | | for the | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | by DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | aa | Ipv6Addr | O | 1 | I | | | aIpv6Addr | | | | dentifies | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | IPv6 | | | | | | | address | | | | | | | provided | | | | | | | by AF, | | | | | | | for the | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | by DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | aaaUsgs | array( | O | 1..2 | I | | | | AaaUsage) | | | dentifies | | | | | | | the usage | | | | | | | needs for | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | from the | | | | | | | DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for 5G VN | | | | | | | Group | | | | | | | Conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | S-NSSAI | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | PduSe | M | 1 | PDU | | | ssionType | ssionType | | | Session | | | | | | | Type | | | | | | | allowed | | | | | | | for 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | ses | arr | O | 1..N | If | mu | | sionTypes | ay(PduSes | | | further | ltipleSes | | | sionType) | | | PDU | sionTypes | | | | | | Session | | | | | | | Types (in | | | | | | | addition | | | | | | | to the | | | | | | | PDU | | | | | | | Session | | | | | | | Type | | | | | | | indicated | | | | | | | in the | | | | | | | \"sess | | | | | | | ionType\" | | | | | | | a | | | | | | | ttribute) | | | | | | | are | | | | | | | allowed | | | | | | | for the | | | | | | | 5G VN | | | | | | | group, | | | | | | | they are | | | | | | | provided | | | | | | | in this | | | | | | | a | | | | | | | ttribute. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | appDesps | map(AppDe | M | 1..N | Describes | | | | scriptor) | | | the | | | | | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | systems. | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the 5G | | | | | | | > VN | | | | | | | > Group | | | | | | | > Conf | | | | | | | iguration | | | | | | | > | | | | | | | request. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Only one | | | | | | | PDU | | | | | | | Session | | | | | | | type is | | | | | | | applied | | | | | | | for a PDU | | | | | | | Session | | | | | | | of a VN | | | | | | | group at | | | | | | | a time. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.4 Type: AppDescriptor
Table 5.7.2.3.4-1: Definition of type AppDescriptor
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | osId | OsId | M | 1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | operating | | | | | | | system | | | | | | | supported | | | | | | | by the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | map(Appli | M | 1..N | I | | | | cationId) | | | dentifies | | | | | | | app | | | | | | | lications | | | | | | | that is | | | | | | | running | | | | | | | on the | | | | | | | UE\'s | | | | | | | operating | | | | | | | system. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.5 Type: 5GLanParametersProvisionPatch
Table 5.7.2.3.5-1: Definition of type 5GLanParametersProvisionPatch
* * *
Attribute name Data type P Cardinality Description Applicability
5gLanParamsPatch 5GLanParametersPatch O 0..1 Represents the 5G LAN servise
related parameters.
* * *
##### 5.7.2.3.6 Type: 5GLanParametersPatch
Table 5.7.2.3.6-1: Definition of type 5GLanParametersPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ma | O | 1..N | R | | | | p(GpsiRm) | | | epresents | | | | | | | the list | | | | | | | of 5G VN | | | | | | | Group | | | | | | | members, | | | | | | | each | | | | | | | member is | | | | | | | i | | | | | | | dentified | | | | | | | by GPSI. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | appDesps | ma | O | 1..N | Describes | | | | p(AppDesc | | | the | | | | riptorRm) | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | system. | | | | | | | | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.7 Type: AppDescriptorRm
Table 5.7.2.3.7-1: Definition of type AppDescriptorRm
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ma | O | 1..N | I | | | | p(Applica | | | dentifies | | | | tionIdRm) | | | appli | | | | | | | cation(s) | | | | | | | on the | | | | | | | UE\'s | | | | | | | operating | | | | | | | system. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.8 Void
#### 5.7.2.4 Simple data types and enumerations
##### 5.7.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.7.2.4.2 Simple data types
The simple data types defined in table 5.7.2.4.2-1 shall be supported.
Table 5.7.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.7.2.4.3 Enumeration: AaaUsage
Table 5.7.2.4.3-1: Enumeration AaaUsage
The enumeration AaaUsage represents the usage of the DN-AAA server.
* * *
Enumeration value Description \"AUTH\" Secondary authentication/authorization
by DN-AAA server \"IP_ALLOC\" UE IP address allocation by DN-AAA server
* * *
### 5.7.3 Used Features
The table below defines the features applicable to the 5GLANParameterProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.7.3-1: Features used by 5GLANParameterProvision API
* * *
Feature number Feature Name Description 1 multipleSessionTypes Indicates that
multiple allowed PDU Session Types can be provided for a 5G VN group.
* * *
### 5.7.4 Error handling
#### 5.7.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.7.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the 5GLANParameterProvision API.
#### 5.7.4.3 Application Errors
The application errors defined for 5GLANParameterProvision API are listed in
table 5.7.4.3-1.
Table 5.7.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.8 ApplyingBdtPolicy API
### 5.8.1 Resources
#### 5.8.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-applying-bdt-policy/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-applying-bdt-policy\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.8.1.1-1 and the resources and HTTP methods used for the ApplyingBdtPolicy
API.
Figure 5.8.1.1-1: Resource URI structure of the ApplyingBdtPolicy API
Table 5.8.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ApplyingBdtPolicy API.
Table 5.8.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Applied BDT Policy
Subscriptions /{afId}/subscriptions GET Read all applied BDT policy
subscriptions for a given AF. POST Create a new applied policy subscription.
Individual Applied BDT Policy Subscription
/{afId}/subscriptions/{subscriptionId} GET Read an applied BDT policy
subscription. PATCH Modify BDT Reference ID of an existing subscription to a
BDT policy. DELETE Delete an applied BDT policy subscription
* * *
#### 5.8.1.2 Resource: Applied BDT Policy Subscriptions
##### 5.8.1.2.1 Introduction
This resource allows a AF to read all applied BDT policy subscriptions for the
given AF.
##### 5.8.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-applying-bdt-policy/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.8.1.2.2-1.
Table 5.8.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.8.1.2.3 Resource Methods
###### 5.8.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.8.1.2.2.
###### 5.8.1.2.3.2 GET
The GET method allows to read all active applied BDT policy subscriptions for
a given AF. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.2.3.2-1.
Table 5.8.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.2.3.2-2 and the response data structures and response codes specified in
table 5.8.1.2.3.2-3.
Table 5.8.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Appl | M | 0..N | 200 OK | The applied | | iedBdtPolicy) | | | | BDT Policy | | | | | | subscriptions | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.2.3.3 POST
The POST method creates an applied BDT policy subscription for a given AF. The
AF shall initiate the HTTP POST request message and the NEF shall respond to
the message. The NEF shall construct the URI of the created resource.
This method shall support the request data structures specified in table
5.8.1.2.3.3-1 and the response data structures and response codes specified in
table 5.8.1.2.3.3-2.
Table 5.8.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AppliedBdtPolicy M 1 Parameters to create
a subscription of the applied BDT policy.
* * *
Table 5.8.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 201 Created | The | | liedBdtPolicy | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
applying-bdt-policy/v1/{afId}/subscriptions/{SubscriptionId}
* * *
#### 5.8.1.3 Resource: Individual Applied BDT Policy Subscription
##### 5.8.1.3.1 Introduction
This resource allows a AF to read or delete an active subscription of applied
BDT policy.
##### 5.8.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-applying-bdt-
policy/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.8.1.3.2-1.
Table 5.8.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.8.1.3.3 Resource Methods
###### 5.8.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.8.1.3.2.
###### 5.8.1.3.3.2 GET
The GET method allows to read the active applied BDT policy for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.3.3.2-1.
Table 5.8.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.3.3.2-2 and the response data structures and response codes specified in
table 5.8.1.3.3.2-3.
Table 5.8.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 200 OK | The | | liedBdtPolicy | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.3.3.3 PATCH
The PATCH method allows to change some properties of an existing applied BDT
policy subscription. The AF shall initiate the HTTP PATCH request message and
the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.8.1.3.3.3-1 and the response data structures and response codes specified in
table 5.8.1.3.3.3-2.
Table 5.8.1.3.3.3-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AppliedBdtPolicyPatch M 1 Partial update
of a subscription to applying BDT policy subscritpion.
* * *
Table 5.8.1.3.3.3-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 200 OK | The | | liedBdtPolicy | | | | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.3.3.4 DELETE
The DELETE method deletes an existing applied BDT policy subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.3.3.4-1.
Table 5.8.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.3.3.4-2 and the response data structures and response codes specified in
table 5.8.1.3.3.4-3.
Table 5.8.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.8.2 Notifications
Notifications are not applicable to this API.
### 5.8.3 Data Model
#### 5.8.3.1 General
This clause specifies the application data model supported by the
ApplyingBdtPolicy API.
Table 5.8.3.1-1 specifies the data types defined for the ApplyingBdtPolicy
API.
Table 5.8.3.1-1: ApplyingBdtPolicy API specific Data Types
* * *
Data type Clause defined Description Applicability AppliedBdtPolicy 5.8.3.3.2
Represents an applied BDT policy.  
AppliedBdtPolicyPatch 5.8.3.3.3 Represents the parameters to request the
modification of a subscription to applied BDT policy.
* * *
#### 5.8.3.2 Reused data types
The data types reused by the ApplyingBdtPolicy API from other specifications
are listed in table 5.8.3.2-1.
Table 5.8.3.2-1: Re-used Data Types
* * *
Data type Reference Comments BdtReferenceId 3GPP TS 29.122 [4] Identifier of a
selected BDT policy. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.8.4-1.
* * *
#### 5.8.3.3 Structured data types
##### 5.8.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.8.3.3.2 Type: AppliedBdtPolicy
This type represents an applied BDT policy which is sent from the AF to the
NEF.
Table 5.8.3.3.2-1: Definition of type AppliedBdtPolicy
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | bdtRefId | BdtRe | M | 1 | I | | | | ferenceId | | | dentifies | | | | | | | a | | | | | | | selected | | | | | | | policy of | | | | | | | b | | | | | | | ackground | | | | | | | data | | | | | | | transfer. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | C | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a user | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.8.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | I | | | | | | | ndividual | | | | | | | Applied | | | | | | | BDT | | | | | | | Policy | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | p | | | | | | | roperties | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.8.3.3.3 Type: AppliedBdtPolicyPatch
This type represents a subscription of applied BDT policy parameters provided
by the AF to the NEF. The structure is used for HTTP PATCH request.
Table 5.8.3.3.2-1: Definition of type AppliedBdtPolicyPatch
* * *
Attribute name Data type P Cardinality Description Applicability bdtRefId
BdtReferenceId M 1 Identifies a selected policy of background data transfer.
* * *
#### 5.8.3.4 Simple data types and enumerations
##### 5.8.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.8.3.4.2 Simple data types
The simple data types defined in table 5.8.3.4.2-1 shall be supported.
Table 5.8.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.8.4 Used Features
The table below defines the features applicable to the ApplyingBdtPolicy API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.8.4-1: Features used by ApplyingBdtPolicy API
* * *
Feature number Feature Name Description
* * *
### 5.8.5 Error handling
#### 5.8.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.8.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ApplyingBdtPolicy API.
#### 5.8.5.3 Application Errors
The application errors defined for ApplyingBdtPolicy API are listed in table
5.8.5.3-1.
Table 5.8.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.9 IPTVConfiguration API
### 5.9.1 Resources
#### 5.9.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-iptvconfiguration/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-iptvconfiguration\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.9.1.1-1 and the resources and HTTP methods used for the IPTVConfiguration
API.
Figure 5.9.1.1-1: Resource URI structure of the IPTVConfiguration API
Table 5.9.1.1-1 provides an overview of the resources and HTTP methods
applicable for the IPTVConfiguration API.
Table 5.9.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description IPTV Configurations
/{afId}/configurations GET Read all configurations for a given AF POST Create
a new IPTV configuration Individual IPTV Configuration
/{afId}/configurations/{configurationId} GET Read an existing configuration
identified by {configurationId} PUT Modify all of the properties of an
existing configuration identified by **{** configurationId**}** PATCH Modify
some of the properties of an existing configuration identified by
{configurationId} DELETE Delete a configuration identified by **{**
configurationId**}**
* * *
#### 5.9.1.2 Resource: IPTV Configurations
##### 5.9.1.2.1 Introduction
This resource allows a AF to read all active IPTV configurations for the given
AF, or create an new individual IPTV configuration in the NEF.
##### 5.9.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-iptvconfiguration/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.9.1.2.2-1.
Table 5.9.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.9.1.2.3 Resource Methods
###### 5.9.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.9.1.2.2.
###### 5.9.1.2.3.2 GET
The GET method allows to read all active configurations for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.9.1.2.3.2-1.
Table 5.9.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.2.3.2-2 and the response data structures and response codes specified in
table 5.9.1.2.3.2-3.
Table 5.9.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Ip | M | 0..N | 200 OK | All the | | tvConfigData) | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.2.3.3 POST
The POST method creates a new resource to individual IPTV configuration for a
given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message. The NEF shall construct the URI of the created
resource.
This method shall support the request data structures specified in table
5.9.1.2.3.3-1 and the response data structures and response codes specified in
table 5.9.1.2.3.3-2.
Table 5.9.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description IptvConfigData M 1 Parameters to create an
IPTV Configuration resource.
* * *
Table 5.9.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 201 Created | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
iptvconfiguration/v1/{afId}/configurations/{configurationId}
* * *
#### 5.9.1.3 Resource: Individual IPTV Configuration
##### 5.9.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing IPTV
Configuration.
##### 5.9.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-
iptvconfiguration/v1/{afId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.9.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. configurationId string Identifier of the
configuration resource.
* * *
##### 5.9.1.3.3 Resource Methods
###### 5.9.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.9.1.3.2.
###### 5.9.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.9.1.3.3.2-1.
Table 5.9.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.3.3.2-2 and the response data structures and response codes specified in
table 5.9.1.3.3.2-3.
Table 5.9.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | information | | | | | | for the | | | | | | configuration | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.9.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description IptvConfigData M 1 Modify an existing
configuration.
* * *
Table 5.9.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.4 DELETE
The DELETE method deletes an existing individual configuration for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.9.1.3.3.4-1.
Table 5.9.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.3.3.4-2 and the response data structures and response codes specified in
table 5.9.1.3.3.4-3.
Table 5.9.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a configuration. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.9.1.3.3.5-1 and the response data structures and response codes specified in
table 5.9.1.3.3.5-2.
Table 5.9.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description IptvConfigDataPatch M 1 Partial update an
existing configuration.
* * *
Table 5.9.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.9.1A Notifications
Notifications are not applicable to this API.
### 5.9.2 Data Model
#### 5.9.2.1 General
This clause specifies the application data model supported by the
IPTVConfiguration API.
Table 5.9.2.1-1 specifies the data types defined for the IPTVConfiguration
API.
Table 5.9.2.1-1: IPTVConfiguration API specific Data Types
* * *
Data type Clause defined Description Applicability AccessRightStatus 5.9.2.4.3
Represents the access right status for parameter provision.  
IptvConfigData 5.9.2.3.2 Represents an individual IPTV Configuration resource.  
IptvConfigDataPatch 5.9.2.3.4 Represents the parameters to request the
modification of an IPTV Configuration resource.  
MulticastAccessControl 5.9.2.3.3 Represents multicast address access control
information.
* * *
#### 5.9.2.2 Reused data types
The data types reused by the IPTVConfiguration API from other specifications
are listed in table 5.9.2.2-1.
Table 5.9.2.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Ipv4Addr 3GPP TS 29.571 [8]
Identifies an IPv4 address. Ipv6Addr 3GPP TS 29.571 [8] Identifies an IPv6
address. Link 3GPP TS 29.122 [4]  
MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC provider information.
Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS
29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.9.3-1.
* * *
#### 5.9.2.3 Structured data types
##### 5.9.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.9.2.3.2 Type: IptvConfigData
Table 5.9.2.3.2-1: Definition of type IptvConfigData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | IPTV | | | | | | | conf | | | | | | | iguration | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | C | 0..1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppId | string | M | 1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | mult | map(Multi | M | 1..N | I | | | iAccCtrls | castAcces | | | dentifies | | | | sControl) | | | a list of | | | | | | | multicast | | | | | | | address | | | | | | | access | | | | | | | control | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.9.2.3.3 Type: MulticastAccessControl
Table 5.9.2.3.3-1: Definition of type MulticastAccessControl
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | sr | Ipv4Addr | O | 0..1 | I | | | cIpv4Addr | | | | dentifies | | | | | | | the | | | | | | | source | | | | | | | IPv4 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | sr | Ipv6Addr | O | 0..1 | I | | | cIpv6Addr | | | | dentifies | | | | | | | the | | | | | | | source | | | | | | | IPv6 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | multic | Ipv4Addr | O | 0..1 | I | | | astV4Addr | | | | dentifies | | | | | | | the | | | | | | | multicast | | | | | | | IPv4 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | multic | Ipv6Addr | O | 0..1 | I | | | astV6Addr | | | | dentifies | | | | | | | the | | | | | | | multicast | | | | | | | IPv6 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | accStatus | AccessRi | M | 1 | R | | | | ghtStatus | | | epresents | | | | | | | access | | | | | | | right | | | | | | | status of | | | | | | | the | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \ | | | | | | | "multicas | | | | | | | tV4Addr\" | | | | | | | or | | | | | | | \ | | | | | | | "multicas | | | | | | | tV6Addr\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.9.2.3.4 Type: IptvConfigDataPatch
Table 5.9.2.3.4-1: Definition of type IptvConfigDataPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | mult | map(Multi | O | 1..N | I | | | iAccCtrls | castAcces | | | dentifies | | | | sControl) | | | a list of | | | | | | | multicast | | | | | | | address | | | | | | | access | | | | | | | control | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.9.2.4 Simple data types and enumerations
##### 5.9.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.9.2.4.2 Simple data types
The simple data types defined in table 5.9.2.4.2-1 shall be supported.
Table 5.9.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.9.2.4.3 Enumeration: AccessRightStatus
The enumeration AccessRightStatus represents the parameters provision type of
which the AF requests to provision. It shall comply with the provisions
defined in table 5.9.2.4.3-1.
Table 5.9.2.4.3-1: Enumeration AccessRightStatus
* * *
Enumeration value Description FULLY_ALLOWED The User is fully allowed to
access to the channel. PREVIEW_ALLOWED The User is preview allowed to access
to the channel. NO_ALLOWED The User is not allowed to access to the channel.
* * *
### 5.9.3 Used Features
The table below defines the features applicable to the IPTVConfiguration API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.9.3-1: Features used by IPTVConfiguration API
* * *
Feature number Feature Name Description
* * *
### 5.9.4 Error handling
#### 5.9.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.9.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the IPTVConfiguration API.
#### 5.9.4.3 Application Errors
The application errors defined for IPTVConfiguration API are listed in table
5.9.4.3-1.
Table 5.9.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.10 LpiParameterProvision API
### 5.10.1 Resources
#### 5.10.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-lpi-pp/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-lpi-pp\" and \"apiVersion\" shall be set to
\"v1\" for the current version defined in the present document. All resource
URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.10.1.1-1 and the resources and HTTP methods used for the
LpiParameterProvision API.
Figure 5.10.1.1-1: Resource URI structure of the LpiParameterProvision API
Table 5.10.1.1-1 provides an overview of the resources and HTTP methods
applicable for the LpiParameterProvision API.
Table 5.10.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | LPI Parameters | /{afId}/ | GET | Read all LPI | | Provisionings | provisionedLpis | | Parameters | | | | | Provisioning | | | (NOTE) | | resources for a | | | | | given AF | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a new | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | +-----------------+-----------------+-------------+-----------------+ | Individual LPI | /{afId}/prov | GET | Read an | | Parameters | isionedLpis/{pr | | existing | | Provisioning | ovisionedLpiId} | | Individual LPI | | | | | Parameters | | | (NOTE) | | Provisioning | | | | | resource | | | | | identified by | | | | | {pr | | | | | ovisionedLpiId} | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Update all of | | | | | the properties | | | | | of an existing | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | | | | | identified by | | | | | {pr | | | | | ovisionedLpiId} | +-----------------+-----------------+-------------+-----------------+ | | | PATCH | Modify an | | | | | existing | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | | | | | identified by | | | | | {pro | | | | | visionedLpiId}. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | | | | | identified by | | | | | {pr | | | | | ovisionedLpiId} | +-----------------+-----------------+-------------+-----------------+ | NOTE: The path | | | | | segment | | | | | \"pr | | | | | ovisionedLpis\" | | | | | does not follow | | | | | the related | | | | | naming | | | | | convention | | | | | defined in | | | | | clause 5.2. The | | | | | path segment is | | | | | however kept as | | | | | currently | | | | | defined in this | | | | | specification | | | | | for backward | | | | | compatibility | | | | | considerations. | | | | +-----------------+-----------------+-------------+-----------------+
#### 5.10.1.2 Resource: LPI Parameters Provisionings
##### 5.10.1.2.1 Introduction
This resource allows a AF to read all active LPI Parameters Provisionings for
the given AF, or create an new individual LPI Parameters Provisioning resource
to provision parameters to the NEF.
##### 5.10.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-lpi-pp/v1/{afId}/provisionedLpis**
This resource shall support the resource URI variables defined in table
5.10.1.2.2-1.
Table 5.10.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.10.1.2.3 Resource Methods
###### 5.10.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.10.1.2.3.
###### 5.10.1.2.3.2 GET
The GET method allows to read all active LPI Parameters Provisioning resources
for a given AF. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.2.3.2-1.
Table 5.10.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.2.3.2-2 and the response data structures and response codes specified
in table 5.10.1.2.3.2-3.
Table 5.10.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | All the LPI | | ay(LpiParamet | | | | Parameters | | ersProvision) | | | | Provisioning | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.2.3.3 POST
The POST method creates a new resource to LPI Parameters Provisionings for a
given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message. The NEF shall construct the URI of the created
resource.
This method shall support the request data structures specified in table
5.10.1.2.3.3-1 and the response data structures and response codes specified
in table 5.10.1.2.3.3-2.
Table 5.10.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvision M 1 Parameters to
create an Individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 201 Created | The resource | | tersProvision | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-lpi-
pp/v1/{afId}/provisionedLpis/{provisionedLpiId}
* * *
#### 5.10.1.3 Resource: Individual LPI Parameters Provisioning
##### 5.10.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing Individual LPI
Parameters Provisioning resource.
##### 5.10.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-lpi-
pp/v1/{afId}/provisionedLpis/{provisionedLpiId}**
This resource shall support the resource URI variables defined in table
5.10.1.3.2-1.
Table 5.10.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. provisionedLpiId string Identifier of the
provisioning resource.
* * *
##### 5.10.1.3.3 Resource Methods
###### 5.10.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.10.1.3.3.
###### 5.10.1.3.3.2 GET
The GET method allows to read an active Individual LPI Parameters Provisioning
resource for a given AF and provisionedLpiId. The AF shall initiate the HTTP
GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.3.3.2-1.
Table 5.10.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.3.3.2-2 and the response data structures and response codes specified
in table 5.10.1.3.3.2-3.
Table 5.10.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The | | tersProvision | | | | information | | | | | | for the | | | | | | source in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.3 PUT
The PUT method updates an existing resource to update an existing Individual
LPI Parameters Provisioning resource. The AF shall initiate the HTTP PUT
request message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.10.1.3.3.3-1 and the response data structures and response codes specified
in table 5.10.1.3.3.3-2.
Table 5.10.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvision M 1 Update an
existing individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The resource | | tersProvision | | | | was updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | was updated | | | | | | successfully | | | | | | and no | | | | | | additional | | | | | | content is | | | | | | sent in the | | | | | | response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.3A PATCH
The PATCH method modifies an existing resource to update an existing
individual LPI Parameters Provisioning resource. The AF shall initiate the
HTTP PATCH request message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.10.1.3.3.3A-1 and the response data structures and response codes specified
in table 5.10.1.3.3.3A-2.
Table 5.10.1.3.3.3A-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvisionPatch M 1 Modify an
existing individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.3.3.3A-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The resource | | tersProvision | | | | was updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | was updated | | | | | | successfully | | | | | | and no | | | | | | additional | | | | | | content is | | | | | | sent in the | | | | | | response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.3A-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.3A-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.4 DELETE
The DELETE method deletes an existing individual LPI Parameters Provisioning
resource for a given AF. The AF shall initiate the HTTP DELETE request message
and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.3.3.4-1.
Table 5.10.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.3.3.4-2 and the response data structures and response codes specified
in table 5.10.1.3.3.4-3.
Table 5.10.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The resource | | | | | Content | was removed | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.10.2 Data Model
#### 5.10.2.1 General
This clause specifies the application data model supported by the
LpiParameterProvision API.
Table 5.10.2.1-1 specifies the data types defined for the
LpiParameterProvision API.
Table 5.10.2.1-1: LpiParameterProvision API specific Data Types
* * *
Data type Clause defined Description Applicability LpiParametersProvision
5.10.2.3.2 Represents an individual LPI Parameters Provisioning resource.
* * *
#### 5.10.2.2 Reused data types
The data types reused by the LpiParameterProvision API from other
specifications are listed in table 5.10.2.2-1.
Table 5.10.2.2-1: Re-used Data Types
* * *
Data type Reference Comments ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Link
3GPP TS 29.122 [4] Identifies a referenced resource. Lpi 3GPP TS 29.503 [17]
Identifies the Location Privacy Indication information. MtcProviderInformation
3GPP TS 29.571 [8] Indicates MTC provider information for LCS privacy
parameter configuration authorization. SupportedFeatures 3GPP TS 29.571 [8]
Used to negotiate the applicability of the optional features defined in table
5.10.3-1.
* * *
#### 5.10.2.3 Structured data types
##### 5.10.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.10.2.3.2 Type: LpiParametersProvision
Table 5.10.2.3.2-1: Definition of type LpiParametersProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | p | | | | | | | arameters | | | | | | | pro | | | | | | | visioning | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | LpiP | | | | | | | arameters | | | | | | | Provision | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of UEs. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | an UE | | | | | | | with | | | | | | | GPSI. | | | | | | | | | | | | | | (NOTE 1)) | | +-----------+-----------+---+-----------+-----------+-----------+ | lpi | Lpi | M | 1 | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for LCS | | | | | | | privacy | | | | | | | parameter | | | | | | | conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 2)) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the LPI | | | | | | | > | | | | | | | Parameter | | | | | | | > Pro | | | | | | | visioning | | | | | | | > | | | | | | | request. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.10.2.3.3 Type: LpiParametersProvisionPatch
Table 5.10.2.3.3-1: Definition of type LpiParametersProvisionPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | lpi | Lpi | O | 1 | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for LCS | | | | | | | privacy | | | | | | | parameter | | | | | | | conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the LPI | | | | | | | > | | | | | | | Parameter | | | | | | | > Pro | | | | | | | visioning | | | | | | | > mod | | | | | | | ification | | | | | | | > | | | | | | | request. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.10.2.4 Simple data types and enumerations
##### 5.10.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.10.2.4.2 Simple data types
The simple data types defined in table 5.10.2.4.2-1 shall be supported.
Table 5.10.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.10.3 Used Features
The table below defines the features applicable to the LpiParameterProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.10.3-1: Features used by LpiParameterProvision API
* * *
Feature number Feature Name Description 1 PatchUpdate Indicates the support of
enhancements to the northbound interfaces (e.g. support the partial
modification of an existing resource).
* * *
### 5.10.4 Error handling
#### 5.10.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.10.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the LpiParameterProvision API.
#### 5.10.4.3 Application Errors
The application errors defined for LpiParameterProvision API are listed in
table 5.10.4.3-1.
Table 5.10.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.11 ServiceParameter API
### 5.11.1 Resources
#### 5.11.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-service-parameter/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-service-parameter\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.11.1.1-1 and the resources and HTTP methods used for the ServiceParameter
API.
Figure 5.11.1.1-1: Resource URI structure of the ServiceParameter API
Table 5.11.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ServiceParameter API.
Table 5.11.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Service Parameter
Subscripions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new service parameter subscription. Individual Service Parameter
Subscripion /{afId}/subscriptions/{subscriptionId} GET Read an existing
subscription identified by {subscriptionId} PUT Modify all of the properties
of an existing subscription. identified by {subscriptionId} PATCH Modify some
of the properties of an existing subscription identified by {subscriptionId}
DELETE Delete a subscription identified by {subscriptionId}
* * *
#### 5.11.1.2 Resource: Service Parameter Subscriptions
##### 5.11.1.2.1 Introduction
This resource allows a AF to read all active Service Parameter Subscriptions
for the given AF, or create an new individual service parameter subscription
in the NEF.
##### 5.11.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-service-parameter/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.11.1.2.2-1.
Table 5.11.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.11.1.2.3 Resource Methods
###### 5.11.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.11.1.2.3.
###### 5.11.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.11.1.2.3.2-1.
Table 5.11.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
+-----------+-----------+---+-----------+-----------+-----------+ | Name | Data type | P | Ca | De | Appl | | | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | O | 1..N | The GPSI | EnNB | | | ray(Gpsi) | | | of the | | | | | | | requested | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | ip-addrs | arra | O | 1..N | The IP | EnNB | | | y(IpAddr) | | | ad | | | | | | | dress(es) | | | | | | | of the | | | | | | | requested | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | ip-domain | string | O | 1 | The IPv4 | EnNB | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if IPv4 | | | | | | | address | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | ip-addrs | | | | | | | query | | | | | | | p | | | | | | | arameter. | | +-----------+-----------+---+-----------+-----------+-----------+ | mac-addrs | array(M | O | 1..N | The MAC | EnNB | | | acAddr48) | | | ad | | | | | | | dress(es) | | | | | | | of the | | | | | | | requested | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: One | | | | | | | of the | | | | | | | \"gpsis\" | | | | | | | p | | | | | | | arameter, | | | | | | | the | | | | | | | \"i | | | | | | | p-addrs\" | | | | | | | parameter | | | | | | | or the | | | | | | | \"ma | | | | | | | c-addrs\" | | | | | | | parameter | | | | | | | may be | | | | | | | provided | | | | | | | in the | | | | | | | same | | | | | | | request. | | | | | | | If | | | | | | | multiple | | | | | | | elements | | | | | | | are | | | | | | | provided | | | | | | | in the | | | | | | | array | | | | | | | data | | | | | | | s | | | | | | | tructure, | | | | | | | then each | | | | | | | element | | | | | | | shall be | | | | | | | treated | | | | | | | as a | | | | | | | separate | | | | | | | query | | | | | | | p | | | | | | | arameter. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
This method shall support the request data structures specified in table
5.11.1.2.3.2-2 and the response data structures and response codes specified
in table 5.11.1.2.3.2-3.
Table 5.11.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | All the | | rray(ServiceP | | | | subscription | | arameterData) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.2.3.3 POST
The POST method creates a new resource to individual service parameter
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.11.1.2.3.3-1 and the response data structures and response codes specified
in table 5.11.1.2.3.3-2.
Table 5.11.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterData M 1 Parameters to
create a service parameter subscription resource.
* * *
Table 5.11.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 201 Created | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
service-parameter/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.11.1.3 Resource: Individual Service Parameter Subscription
##### 5.11.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing service
parameter subscription.
##### 5.11.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-service-
parameter/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.11.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.11.1.3.3 Resource Methods
###### 5.11.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.11.1.3.3.
###### 5.11.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.11.1.3.3.2-1.
Table 5.11.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.3.3.2-2 and the response data structures and response codes specified
in table 5.11.1.3.3.2-3.
Table 5.11.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.11.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterData M 1 Modify an
existing subscription.
* * *
Table 5.11.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.4 DELETE
The DELETE method deletes an existing individual subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.11.1.3.3.4-1.
Table 5.11.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.3.3.4-2 and the response data structures and response codes specified
in table 5.11.1.3.3.4-3.
Table 5.11.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.11.1.3.3.5-1 and the response data structures and response codes specified
in table 5.11.1.3.3.5-2.
Table 5.11.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterDataPatch M 1 Partial
update an existing subscription.
* * *
Table 5.11.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.11.1A Notifications
#### 5.11.1A.1 Introduction
Upon NEF notify a Service Parameter Authorization Update (e.g. to revoke an
authorization) to AF, or forward a notification event related to invocation of
service parameter provisioning, e.g. the notification of outcome of UE
Policies Delivery to AF, the NEF shall send an HTTP POST message including the
notified event to the AF. The NEF and the AF shall support the notification
mechanism as described in clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.11.1A.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | AF | {notificati | POST | The | | Notifications | onDestination} | | notification | | | | | of service | | | | | parameter | | | | | authorization | | | | | updates and/or | | | | | notification | | | | | event related | | | | | to the result | | | | | of invocation | | | | | of service | | | | | parameter | | | | | provisioning. | +----------------+----------------+----------------+----------------+
#### 5.11.1A.2 AF Notifications
##### 5.11.1A.2.1 Description
The AF Notifications are used by the NEF to send the Service Parameter
Authorization Update (e.g. to revoke an authorization) to the AF, and/or to
send AF subscribed event notification of the outcome related to the invocation
of service parameter provisioning to the AF.
##### 5.11.1A.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.11.1A.2.2-1.
Table 5.11.1A.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
ServiceParameterData data type as defined in Table 5.11.2.3.2-1 or the
ServiceParameterDataPatch data type as defined in Table 5.11.2.3.3-1.
* * *
#### 5.11.1A.3 Operation Definition
##### 5.11.1A.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.11.1A.3.1-1 and the response data structure with response codes specified in
table 5.11.1A.3.1-2.
Table 5.11.1A.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description array(AfNotification) M 1..N Notifications
upon AF Service Parameter Authorization Update, and/or AF subscribed event
notification of the outcome related to the invocation of service parameter
provisioning.
* * *
Table 5.11.1A.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1A.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.11.1A.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.11.1A.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the AF subscribed
outcome event notification related to the invocation of service parameter
provisioning may alternatively be delivered through the Websocket mechanism as
defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.11.2 Data Model
#### 5.11.2.1 General
This clause specifies the application data model supported by the
ServiceParameter API.
Table 5.11.2.1-1 specifies the data types defined for the ServiceParameter
API.
Table 5.11.2.1-1: ServiceParameter API specific Data Types
* * *
Data type Clause defined Description Applicability AfNotification 5.11.2.3.6
Contains the reported event notification or the service parameters
authorization update result. AfNotifications AuthorizationResult 5.11.2.4.4
AfNotifications ConnectionCapabilities 5.11.2.4.6 UE application requests a
network connection with certain capabilities. AfGuideURSP Event 5.11.2.4.3
Identifies the AF subscribed events. AfNotifications EventInfo 5.11.2.3.7
Indicates the event information. AfNotifications Failure 5.11.2.4.5 Represents
the failure reason for the unsuccessful result. AfNotifications
GeographicalArea 5.17.3.3.4 Identifies the geographical area information.
AfGuideURSP ParameterOverPc5 5.11.2.4.2 Represents configuration parameters
for V2X communications over PC5 reference point.  
ParameterOverPc5Rm 5.11.2.4.2 Represents the same as the ParameterOverPc5 data
type but with the \"nullable: true\" property.  
ParameterOverUu 5.11.2.4.2 Represents configuration parameters for V2X
communications over Uu reference point.  
ParameterOverUuRm 5.11.2.4.2 Represents the same as the ParameterOverUu data
type but with the \"nullable: true\" property.  
ParamForProSeDc 5.11.2.4.2 Represents the service parameters for 5G ProSe
direct communications. ProSe ParamForProSeDcRm 5.11.2.4.2 This data type is
defined in the same way as the ParamForProSeDc data type, but with the OpenAPI
nullable property set to true. ProSe ParamForProSeDd 5.11.2.4.2 Represents the
service parameters for 5G ProSe direct discovery. ProSe ParamForProSeDdRm
5.11.2.4.2 This data type is defined in the same way as the ParamForProSeDd
data type, but with the OpenAPI nullable property set to true. ProSe
ParamForProSeRemUe 5.11.2.4.2 Represents the service parameters for 5G ProSe
remote UE. ProSe ParamForProSeRemUeRm 5.11.2.4.2 This data type is defined in
the same way as the ParamForProSeRemUe data type, but with the OpenAPI
nullable property set to true. ProSe ParamForProSeU2NRelUe 5.11.2.4.2
Represents the service parameters for 5G ProSe UE-to-network relay UE. ProSe
ParamForProSeU2NRelUeRm 5.11.2.4.2 This data type is defined in the same way
as the ParamForProSeU2NRelUe data type, but with the OpenAPI nullable property
set to true. ProSe RouteSelectionParameterSet 5.11.2.3.5 Contains parameters
that can be used to guide the Route Selection Descriptors of the URSP.
AfGuideURSP ServiceParameterData 5.11.2.3.2 Represents an individual Service
Parameter subscription resource.  
ServiceParameterDataPatch 5.11.2.3.3 Represents the parameters to request the
modification of a service parameter subscription resource.  
TrafficDescriptorComponents 5.11.2.3.8 Traffic descriptor components for the
requested URSP. AfGuideURSP UrspRuleRequest 5.11.2.3.4 Contains parameters
that can be used to guide the URSP. AfGuideURSP
* * *
#### 5.11.2.2 Reused data types
The data types reused by the ServiceParameter API from other specifications
are listed in table 5.9.2.2-1.
Table 5.11.2.2-1: Re-used Data Types
* * *
Data type Reference Comments AppDescriptor Clause 5.7.2.3.4 Application
descriptor describes the operation systems and the corresponding applications
for each operation systems. Dnn 3GPP TS 29.571 [8] Identifies a DNN.
EthFlowDescription 3GPP TS 29.514 [7] Defines a packet filter for an Ethernet
flow. ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user
group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. IpAddr 3GPP TS 29.571 [8] UE
IP Address. IPv4Addr 3GPP TS 29.571 [8] Identifies an IPv4 address. IPv6Addr
3GPP TS 29.571 [8] Identifies an IPv6 address. Link 3GPP TS 29.122 [4]  
MacAddr48 3GPP TS 29.571 [8] Identifies an MAC address. MtcProviderInformation
3GPP TS 29.571 [8] Indicates MTC provider information. Snssai 3GPP TS 29.571
[8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8] Used to
negotiate the applicability of the optional features defined in table
5.11.3-1. Tai 3GPP TS 29.571 [8] Tracking Area Identity information. Uinteger
3GPP TS 29.571 [8] Unsigned integer.
* * *
#### 5.11.2.3 Structured data types
##### 5.11.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.11.2.3.2 Type: ServiceParameterData
Table 5.11.2.3.2-1: Definition of type ServiceParameterData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | service | | | | | | | parameter | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Se | | | | | | | rvicePara | | | | | | | meterData | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv4 | Ipv4Addr | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv6 | Ipv6Addr | O | 0..1 | The IPv6 | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | O | 0..1 | The MAC | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | R | | | alGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | apply to | | | | | | | any UE. | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | (NOTE 1) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | subNo | arr | C | 1..N | I | AfNoti | | tifEvents | ay(Event) | | | dentifies | fications | | | | | | the AF | | | | | | | s | | | | | | | ubscribed | | | | | | | event(s) | | | | | | | noti | | | | | | | fications | | | | | | | related | | | | | | | to AF | | | | | | | pr | | | | | | | ovisioned | | | | | | | service | | | | | | | pa | | | | | | | rameters. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Uri | C | 0..1 | Contains | AfNoti | | icationDe | | | | the | fications | | stination | | | | callback | | | | | | | URI to | | | | | | | receive | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | from the | | | | | | | NEF. | | | | | | | Shall be | | | | | | | present | | | | | | | If | | | | | | | \"subNoti | | | | | | | fEvents\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | par | Paramet | O | 0..1 | Contains | | | amOverPc5 | erOverPc5 | | | the V2X | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | used over | | | | | | | PC5 | | +-----------+-----------+---+-----------+-----------+-----------+ | pa | Parame | O | 0..1 | Contains | | | ramOverUu | terOverUu | | | the V2X | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | used over | | | | | | | Uu | | +-----------+-----------+---+-----------+-----------+-----------+ | paramF | ParamF | O | 0..1 | Contains | ProSe | | orProSeDd | orProSeDd | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | direct | | | | | | | d | | | | | | | iscovery. | | +-----------+-----------+---+-----------+-----------+-----------+ | paramF | ParamF | O | 0..1 | Contains | ProSe | | orProSeDc | orProSeDc | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | direct | | | | | | | commun | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | par | Par | O | 0..1 | Contains | ProSe | | amForProS | amForProS | | | the | | | eU2NRelUe | eU2NRelUe | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | UE-t | | | | | | | o-network | | | | | | | relay UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | paramForP | ParamForP | O | 0..1 | Contains | ProSe | | roSeRemUe | roSeRemUe | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | remote | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | urs | arra | O | 1..N | Contains | Af | | pGuidance | y(UrspRul | | | the | GuideURSP | | | eRequest) | | | service | | | | | | | parameter | | | | | | | used to | | | | | | | guide the | | | | | | | URSP. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.11.3. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \" | | | | | | | ueIpv4\", | | | | | | | \ | | | | | | | "ueIpv6\" | | | | | | | or | | | | | | | \"ueMac\" | | | | | | | at | | | | | | | tribute), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \ | | | | | | | "exterGro | | | | | | | upnalId\" | | | | | | | a | | | | | | | ttribute) | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | a | | | | | | | ttribute) | | | | | | | shall be | | | | | | | included. | | | | | | | For V2X | | | | | | | and URSP | | | | | | | service | | | | | | | parameter | | | | | | | pro | | | | | | | visioning | | | | | | | (s | | | | | | | ee clause | | | | | | | 4.4.20), | | | | | | | only | | | | | | | \"an | | | | | | | yUeInd\", | | | | | | | \"gpsi\" | | | | | | | and | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | a | | | | | | | ttribute, | | | | | | | \"appId\" | | | | | | | attribute | | | | | | | or the | | | | | | | co | | | | | | | mbination | | | | | | | of | | | | | | | \ | | | | | | | "snssai\" | | | | | | | and | | | | | | | \"dnn\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | | When the | | | | | | | feature | | | | | | | \"AfGu | | | | | | | ideURSP\" | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | only the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | for | | | | | | | providing | | | | | | | guidance | | | | | | | for URSP | | | | | | | deter | | | | | | | mination. | | | | | | | | | | | | | | NOTE 3: | | | | | | | When | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | is | | | | | | | present, | | | | | | | \"appId\" | | | | | | | a | | | | | | | ttribute, | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | or the | | | | | | | co | | | | | | | mbination | | | | | | | of | | | | | | | \ | | | | | | | "snssai\" | | | | | | | attribute | | | | | | | and | | | | | | | \"dnn\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | When the | | | | | | | feature | | | | | | | \"AfGu | | | | | | | ideURSP\" | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | only the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | for | | | | | | | providing | | | | | | | guidance | | | | | | | for URSP | | | | | | | deter | | | | | | | mination. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | when the | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \" | | | | | | | ueIpv4\", | | | | | | | \ | | | | | | | "ueIpv6\" | | | | | | | or | | | | | | | \"ueMac\" | | | | | | | a | | | | | | | ttribute) | | | | | | | is | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.11.2.3.3 Type: ServiceParameterDataPatch
Table 5.11.2.3.3-1: Definition of type ServiceParameterDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability paramOverPc5
ParameterOverPc5Rm O 0..1 Contains the V2X service parameters used over PC5  
paramOverUu ParameterOverUuRm O 0..1 Contains the V2X service parameters used
over Uu  
paramForProSeDd ParamForProSeDdRm O 0..1 Contains the service parameters for
5G ProSe direct discovery. ProSe paramForProSeDc ParamForProSeDcRm O 0..1
Contains the service parameters for 5G ProSe direct communications. ProSe
paramForProSeU2NRelUE ParamForProSeU2NRelUeRm O 0..1 Contains the service
parameters for 5G ProSe UE-to-network relay UE. ProSe paramForProSeRemUe
ParamForProSeRemUeRm O 0..1 Contains the service parameters for 5G ProSe
remote UE. ProSe urspGuidance array(UrspRuleRequest) O 1..N Contains the
service parameter used to guide the URSP. AfGuideURSP subNotifEvents
array(Event) O 1..N Identifies the AF subscribed event(s) notifications
related to AF provisioned service parameters. AfNotifications
notificationDestination Uri O 0..1 Contains the callback URI to receive the
notifications from the NEF. May be present If \"subNotifEvents\" attribute is
included. AfNotifications
* * *
##### 5.11.2.3.4 Type: UrspRuleRequest
Table 5.11.2.3.4-1: Definition of type UrspRuleRequest
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | tr | TrafficDe | O | 0..1 | Traffic | | | afficDesc | scriptorC | | | d | | | | omponents | | | escriptor | | | | | | | c | | | | | | | omponents | | | | | | | for the | | | | | | | requested | | | | | | | URSP. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | relatP | Uinteger | O | 0..1 | R | | | recedence | | | | epresents | | | | | | | the | | | | | | | relative | | | | | | | p | | | | | | | recedence | | | | | | | of the | | | | | | | URSP rule | | | | | | | within | | | | | | | the same | | | | | | | AF | | | | | | | request, | | | | | | | Lower | | | | | | | values | | | | | | | take | | | | | | | p | | | | | | | recedence | | | | | | | over | | | | | | | higher | | | | | | | values. | | | | | | | Its | | | | | | | absence | | | | | | | means | | | | | | | that the | | | | | | | AF has no | | | | | | | relative | | | | | | | p | | | | | | | recedence | | | | | | | re | | | | | | | quirement | | | | | | | for the | | | | | | | provided | | | | | | | URSP | | | | | | | rules. | | +-----------+-----------+---+-----------+-----------+-----------+ | routeSel | array( | O | 1..N | Route | | | ParamSets | RouteSele | | | Selection | | | | ctionPara | | | Parameter | | | | meterSet) | | | Sets, | | | | | | | i.e. sets | | | | | | | of | | | | | | | p | | | | | | | arameters | | | | | | | that may | | | | | | | be used | | | | | | | to guide | | | | | | | the Route | | | | | | | Selection | | | | | | | De | | | | | | | scriptors | | | | | | | of the | | | | | | | URSP. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | if the | | | | | | | \"traf | | | | | | | ficDesc\" | | | | | | | attribute | | | | | | | is not | | | | | | | present, | | | | | | | the NEF | | | | | | | may | | | | | | | derive | | | | | | | the | | | | | | | traffic | | | | | | | d | | | | | | | escriptor | | | | | | | c | | | | | | | omponents | | | | | | | from the | | | | | | | AF | | | | | | | Service | | | | | | | Id | | | | | | | entifier. | | | | | | | | | | | | | | NOTE 2: | | | | | | | if the | | | | | | | \"r | | | | | | | outeSelPa | | | | | | | ramSets\" | | | | | | | attribute | | | | | | | is not | | | | | | | present, | | | | | | | the NEF | | | | | | | may | | | | | | | derive | | | | | | | S- | | | | | | | NSSAI/DNN | | | | | | | and/or | | | | | | | other | | | | | | | related | | | | | | | p | | | | | | | arameters | | | | | | | from the | | | | | | | AF | | | | | | | Service | | | | | | | Identifer | | | | | | | according | | | | | | | to SLA. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.11.2.3.5 Type: RouteSelectionParameterSet
Table 5.11.2.3.5-1: Definition of type RouteSelectionParameterSet
* * *
Attribute name Data type P Cardinality Description Applicability dnn Dnn O
0..1 DNN to be matched with the DNN of the PDU Session.  
snssai Snssai O 0..1 S-NSSAI to be matched with the S-NSSAI of the PDU
Session.  
precedence Uinteger O 0..1 Determines the order in which the Route Selection
Descriptors are to be applied.  
spatialValidityAreas array(GeographicalArea) O 1..N Indicates where the route
selection parameters apply. It may correspond to a geographical area (e.g. a
geographic shape that is known to the AF and is configured by the operator to
correspond to a list of TAIs).  
spatialValidityTais array(Tai) O 1..N Indicates the TAIs in which the route
selection parameters apply. This attribute is applicable only within the 5GC
and it shall not be included in the request messages of untrusted AFs for URSP
guidance.
* * *
##### 5.11.2.3.6 Type: AfNotification
Table 5.11.2.3.6-1: Definition of type AfNotification
* * *
Attribute name Data type P Cardinality Description Applicability subscription
Link M 1 Link to the subscription resource to which this notification is
related.  
reportEvent Event C 0..1 Identifies the reported event notification. May be
present if the \"subNotifEvents\" attribute is included in the AF subscription
transaction. (NOTE)  
authResult AuthorizationResult C 0..1 Indicates the service parameters
authorization update result. (e.g. to revoke an authorization). (NOTE)  
gpsis array(Gpsi) C 1..N Identifies the list of GPSI(s) of the reported UE(s).
May be present if the \"exterGroupId\" attribute or \"anyUeInd\" attribute is
included in the AF subscription transaction and only if the \"authResult\"
attribute is provided.  
dnn Dnn O 0..1 Identifies a DNN.  
snssai Snssai O 0..1 Identifies an S-NSSAI.  
eventInfo EventInfo O 0..1 Indicates the event information.  
NOTE: At least one of \"reportEvent\" attribute and \"authResult\" attribute
shall be included.
* * *
##### 5.11.2.3.7 Type: EventInfo
Table 5.11.2.3.7-1: Definition of type EventInfo
* * *
Attribute name Data type P Cardinality Description Applicability failureCause
Failure O 0..1 Identify the failure reason for an unsuccessful result. May
present if the reportEvent attribute value is \"UNSUCCESS_UE_POL_DEL_SP\".
* * *
##### 5.11.2.3.8 Type: TrafficDescriptorComponents
Table 5.11.2.3.8-1: Definition of type TrafficDescriptorComponents
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appDescs | map(AppDe | C | 1..N | Describes | | | | scriptor) | | | the | | | | | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | systems. | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | flowDescs | arra | C | 1..N | De | | | | y(string) | | | stination | | | | | | | IP 3 | | | | | | | tuple(s) | | | | | | | (IP | | | | | | | address | | | | | | | or IPv6 | | | | | | | network | | | | | | | prefix, | | | | | | | port | | | | | | | number, | | | | | | | protocol | | | | | | | ID of the | | | | | | | protocol | | | | | | | above | | | | | | | IP). The | | | | | | | content | | | | | | | of the | | | | | | | string | | | | | | | has the | | | | | | | same | | | | | | | encoding | | | | | | | as the | | | | | | | IPF | | | | | | | ilterRule | | | | | | | AVP value | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | IET | | | | | | | F RFC 673 | | | | | | | 3 [54], | | | | | | | a | | | | | | | pplicable | | | | | | | only to | | | | | | | the | | | | | | | de | | | | | | | stination | | | | | | | IP 3 | | | | | | | tuple(s). | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | do | arra | C | 1..N | FQDN(s) | | | mainDescs | y(string) | | | or a | | | | | | | regular | | | | | | | e | | | | | | | xpression | | | | | | | which are | | | | | | | used as a | | | | | | | domain | | | | | | | name | | | | | | | matching | | | | | | | criteria. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | eth | array(E | C | 1..N | Desc | | | FlowDescs | thFlowDes | | | riptor(s) | | | | cription) | | | for | | | | | | | de | | | | | | | stination | | | | | | | in | | | | | | | formation | | | | | | | of non-IP | | | | | | | traffic | | | | | | | in which | | | | | | | only | | | | | | | ethernet | | | | | | | flow | | | | | | | de | | | | | | | scription | | | | | | | is | | | | | | | defined. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnns | a | C | 1..N | This is | | | | rray(Dnn) | | | matched | | | | | | | against | | | | | | | the DNN | | | | | | | in | | | | | | | formation | | | | | | | provided | | | | | | | by the | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | connCaps | ar | C | 1..N | This is | | | | ray(Conne | | | matched | | | | ctionCapa | | | against | | | | bilities) | | | the | | | | | | | in | | | | | | | formation | | | | | | | provided | | | | | | | by a UE | | | | | | | ap | | | | | | | plication | | | | | | | when it | | | | | | | requests | | | | | | | a network | | | | | | | c | | | | | | | onnection | | | | | | | with | | | | | | | certain | | | | | | | capa | | | | | | | bilities. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | At least | | | | | | | one | | | | | | | attribute | | | | | | | of the | | | | | | | above | | | | | | | Traffic | | | | | | | d | | | | | | | escriptor | | | | | | | c | | | | | | | omponents | | | | | | | shall be | | | | | | | present. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | in | | | | | | | formation | | | | | | | is used | | | | | | | to | | | | | | | identify | | | | | | | the | | | | | | | Appli | | | | | | | cation(s) | | | | | | | that | | | | | | | is(are) | | | | | | | running | | | | | | | on the | | | | | | | UE\'s OS. | | | | | | | The OSId | | | | | | | does not | | | | | | | include | | | | | | | an OS | | | | | | | version | | | | | | | number. | | | | | | | The | | | | | | | OSAppId | | | | | | | does not | | | | | | | include a | | | | | | | version | | | | | | | number | | | | | | | for the | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 3: | | | | | | | \"fl | | | | | | | owDescs\" | | | | | | | attribute | | | | | | | and | | | | | | | \"ethFl | | | | | | | owDescs\" | | | | | | | attribute | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The match | | | | | | | of this | | | | | | | traffic | | | | | | | d | | | | | | | escriptor | | | | | | | component | | | | | | | does not | | | | | | | require | | | | | | | s | | | | | | | uccessful | | | | | | | DNS | | | | | | | r | | | | | | | esolution | | | | | | | of the | | | | | | | FQDN | | | | | | | provided | | | | | | | by the UE | | | | | | | App | | | | | | | lication. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.11.2.4 Simple data types and enumerations
##### 5.11.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.11.2.4.2 Simple data types
The simple data types defined in table 5.11.2.4.2-1 shall be supported.
Table 5.11.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability ParameterOverPc5 string
Configuration parameters for V2X communication over PC5. Its encoding shall
comply with the UE policies for V2X communication over PC5 as defined in
clause 5.3 of 3GPP TS 24.588 [33].  
ParameterOverPc5Rm string This data type is defined in the same way as the
\"ParameterOverPc5\" data type, but with the OpenAPI \"nullable: true\"
property.  
ParameterOverUu string Configuration parameters for V2X communication over Uu.
Its encoding shall comply with the UE policies for V2X communication over Uu
as defined in clause 5.4 of 3GPP TS 24.588 [33].  
ParameterOverUuRm string This data type is defined in the same way as the
\"ParameterOverUu\" data type, but with the OpenAPI \"nullable: true\"
property.  
ParamForProSeDd string Configuration parameters for 5G ProSe direct discovery.
Its encoding shall comply with the UE policies for 5G ProSe direct discovery
defined in clause 5.3 of 3GPP TS 24.555 [49]. ProSe ParamForProSeDdRm string
This data type is defined in the same way as the \"ParamForProSeDd\" data
type, but with the OpenAPI \"nullable: true\" property. ProSe ParamForProSeDc
string Configuration parameters for 5G ProSe direct communications. Its
encoding shall comply with the UE policies for 5G ProSe direct communications
defined in clause 5.4 of 3GPP TS 24.555 [49]. ProSe ParamForProSeDcRm string
This data type is defined in the same way as the \"ParamForProSeDc\" data
type, but with the OpenAPI \"nullable: true\" property. ProSe
ParamForProSeU2NRelUe string Configuration parameters for 5G ProSe UE-to-
network relay UE. Its encoding shall comply with the UE policies for 5G ProSe
UE-to-network relay UE defined in clause 5.5 of 3GPP TS 24.555 [49]. ProSe
ParamForProSeU2NRelUeRm string This data type is defined in the same way as
the \"ParamForProSeU2NRelUe\" data type, but with the OpenAPI \"nullable:
true\" property. ProSe ParamForProSeRemUe string Configuration parameters for
5G ProSe remote UE. Its encoding shall comply with the UE policies for 5G
ProSe remote UE defined in clause 5.6 of 3GPP TS 24.555 [49]. ProSe
ParamForProSeRemUeRm string This data type is defined in the same way as the
\"ParamForProSeRemUe\" data type, but with the OpenAPI \"nullable: true\"
property. ProSe
* * *
##### 5.11.2.4.3 Enumeration: Event
Table 5.11.2.4.3-1: Enumeration Event
The enumeration Event represents the AF subscribe to event notification of the
outcome related to the invocation of AF provisioned service parameters.
* * *
Enumeration value Description SUCCESS_UE_POL_DEL_SP Successful UE Policy
Delivery related to the invocation of AF provisioned Service Parameters.
UNSUCCESS_UE_POL_DEL_SP Unsuccessful UE Policy Delivery related to the
invocation of AF provisioned Service Parameters.
* * *
##### 5.11.2.4.4 Enumeration: AuthorizationResult
The enumeration AuthorizationResult represents the NEF notify the AF about the
service parameters authorization updates result, e.g. to revoke an
authorization.
Table 5.11.2.4.4-1: Enumeration AuthorizationResult
* * *
Enumeration value Description AUTH_REVOKED Indicated the service parameters
authorization is revoked.
* * *
##### 5.11.2.4.5 Enumeration: Failure
The enumeration Failure represents the failure reason for the unsuccessful
result.
Table 5.11.2.4.5-1: Enumeration Failure
* * *
Enumeration value Description UNSPECIFIED Indicates the PCF received the UE
sent UE policy delivery service cause #111 (Protocol error, unspecified).
UE_NOT_REACHABLE Indicates the PCF received the notification from the AMF that
the UE is not reachable. UNKNOWN Indicates unknown reasons upon no response
from the UE, e.g. UPDS message type is not defined or not implemented by the
UE, or not compatible with the UPDS state, in which the UE shall ignore the
UPDS message. UE_TEMP_UNREACHABLE Indicates the PCF received the notification
from the AMF that the UE is not reachable but the PCF will retry again.
* * *
##### 5.11.2.4.6 Enumeration: ConnectionCapabilities
The enumeration ConnectionCapabilities represents the information provided by
a UE application when it requests a network connection with certain
capabilities.
Table 5.11.2.4.6-1: Enumeration ConnectionCapabilities
* * *
Enumeration value Description IMS Indicates the connection capability to
support IMS service. MMS Indicates the connection capability to support MMS
service. SUPL Indicates the connection capability to support SUPL service.
INTERNET Indicates the connection capability to support Internet service.
* * *
### 5.11.3 Used Features
The table below defines the features applicable to the ServiceParameter API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.11.3-1: Features used by ServiceParameter API
* * *
Feature number Feature Name Description 1 ProSe This feature indicates the
support of UE policy and N2 information provisioning for 5G ProSe. 2 enNB
Indicates the support of enhancements to the northbound interfaces. 3
AfNotifications This feature indicates the support of AF subscribed event(s)
notifications. 4 Notification_websocket The delivery of notifications over
Websocket is supported as described in 3GPP TS 29.122 [4]. This feature
requires that the Notification_test_event feature is also supported. 5
Notification_test_event The testing of notification connection is supported as
described in 3GPP TS 29.122 [4]. 6 AfGuideURSP This feature indicates the
support of AF guidance for URSP determination.
* * *
### 5.11.4 Error handling
#### 5.11.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.11.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ServiceParameter API.
#### 5.11.4.3 Application Errors
The application errors defined for ServiceParameter API are listed in table
5.11.4.3-1.
Table 5.11.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.12 ACSParameterProvision API
### 5.12.1 Resources
#### 5.12.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-acs-pp/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-acs-pp\" and \"apiVersion\" shall be set to
\"v1\" for the current version defined in the present document. All resource
URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.12.1.1-1 and the resources and HTTP methods used for the
ACSParameterProvision API.
Figure 5.12.1.1-1: Resource URI structure of the ACSParameterProvision API
Table 5.12.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ACSParameterProvision API.
Table 5.12.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description ACS Configuration
Subscripions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new ACS configuration subscription. Individual ACS Configuration
Subscripion /{afId}/subscriptions/{subscriptionId} GET Read an existing
subscription identified by {subscriptionId} PUT Update all of the properties
of an existing subscription identified by {subscriptionId}. PATCH Modify an
existing subscription identified by {subscriptionId}. DELETE Delete a
subscription identified by {subscriptionId}
* * *
#### 5.12.1.2 Resource: ACS Configuration Subscriptions
##### 5.12.1.2.1 Introduction
This resource allows a AF to read all active ACS Configuration Subscriptions
for the given AF, or create an new individual ACS Configuration subscription
in the NEF.
##### 5.12.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-acs-pp/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.12.1.2.2-1.
Table 5.12.1.2.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot Clause 5.2.4 of 3GPP TS 29.122 [4]. afId Identifier of
the AF of type string.
* * *
##### 5.12.1.2.3 Resource Methods
###### 5.12.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.12.1.2.3.
###### 5.12.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.12.1.2.3.2-1.
Table 5.12.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.2.3.2-2 and the response data structures and response codes specified
in table 5.12.1.2.3.2-3.
Table 5.12.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | All the | | rray(AcsConfi | | | | subscription | | gurationData) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.2.3.3 POST
The POST method creates a new resource to individual ACS Configuration
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.12.1.2.3.3-1 and the response data structures and response codes specified
in table 5.12.1.2.3.3-2.
Table 5.12.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationData M 1 Parameters to
create an individual ACS Configuration subscription resource.
* * *
Table 5.12.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 201 Created | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-acs-
pp/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.12.1.3 Resource: Individual ACS Configuration Subscription
##### 5.12.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing ACS
Configuration subscription.
##### 5.12.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-acs-
pp/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.12.1.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot Clause 5.2.4 of 3GPP TS 29.122 [4]. afId Identifier of
the AF of type string. subscriptionId Identifier of the subscription resource
of type string.
* * *
##### 5.12.1.3.3 Resource Methods
###### 5.12.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.12.1.3.3.
###### 5.12.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.12.1.3.3.2-1.
Table 5.12.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.3.3.2-2 and the response data structures and response codes specified
in table 5.12.1.3.3.2-3.
Table 5.12.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.3 PUT
The PUT method updates an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.12.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationData M 1 Modify an
existing subscription.
* * *
Table 5.12.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.3A PATCH
The PATCH method modifies an existing resource to update an existing ACS
Configuration Subscripion. The AF shall initiate the HTTP PATCH request
message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.9.1.3.3.3A-1 and the response data structures and response codes specified
in table 5.9.1.3.3.3A-2.
Table 5.12.1.3.3.3A-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationDataPatch M 1 Modify an
existing subscription.
* * *
Table 5.12.1.3.3.3A-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.3A-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.3A-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.4 DELETE
The DELETE method deletes an existing individual subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.12.1.3.3.4-1.
Table 5.12.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.3.3.4-2 and the response data structures and response codes specified
in table 5.12.1.3.3.4-3.
Table 5.12.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.12.2 Data Model
#### 5.12.2.1 General
This clause specifies the application data model supported by the
ACSParameterProvision API.
Table 5.12.2.1-1 specifies the data types defined for the
ACSParameterProvision API.
Table 5.12.2.1-1: ACSParameterProvision API specific Data Types
* * *
Data type Clause defined Description Applicability AcsConfigurationData
5.12.2.3.2 Represents an individual ACS Configuration subscription resource.  
AcsConfigurationDataPatch 5.12.2.3.3 Represents the parameters to request to
modify an existing ACS Configuration subscription. PatchUpdate
* * *
#### 5.12.2.2 Reused data types
The data types reused by the ACSParameterProvision API from other
specifications are listed in table 5.12.2.2-1.
Table 5.12.2.2-1: Re-used Data Types
* * *
Data type Reference Comments AcsInfo 3GPP TS 29.571 [8] Contains the
information of ACS ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Link
3GPP TS 29.122 [4]  
MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC provider information.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.9.4-1.
* * *
#### 5.12.2.3 Structured data types
##### 5.12.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.12.2.3.2 Type: AcsConfigurationData
Table 5.12.2.3.2-1: Definition of type AcsConfigurationData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | service | | | | | | | parameter | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Ac | | | | | | | sConfigur | | | | | | | ationData | | | | | | | Data | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | acsInfo | AcsInfo | M | 1 | Contains | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | of ACS. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.12.3. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | i | | | | | | | ndividual | | | | | | | ACS | | | | | | | conf | | | | | | | iguration | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.12.2.3.3 Type: AcsConfigurationDataPatch
Table 5.12.2.3.3-1: Definition of type AcsConfigurationDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability acsInfo
AcsInfo O 0..1 Contains the information of ACS.  
mtcProviderId MtcProviderInformation O 0..1 Indicates MTC provider
information.
* * *
#### 5.12.2.4 Simple data types and enumerations
##### 5.12.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.12.2.4.2 Simple data types
The simple data types defined in table 5.12.2.4.2-1 shall be supported.
Table 5.12.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.12.3 Used Features
The table below defines the features applicable to the ACSParameterProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.12.3-1: Features used by ACSParameterProvision API
* * *
Feature number Feature Name Description 1 PatchUpdate Indicates the support of
enhancements to the northbound interfaces (e.g. support the partial
modification of an existing subscription resource).
* * *
### 5.12.4 Error handling
#### 5.12.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.12.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ACSParameterProvision API.
#### 5.12.4.3 Application Errors
The application errors defined for ACSParameterProvision API are listed in
table 5.12.4.3-1.
Table 5.12.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.13 MoLcsNotify API
### 5.13.1 Resources
There is no resource defined for this API.
### 5.13.2 Notifications
#### 5.13.2.1 Introduction
Upon receipt of a UE location information update notification from the GMLC,
the NEF shall send an HTTP POST message in order to notify the AF of the
updated UE location information.
#### 5.13.2.2 Event Notification
Callback URI: **{notificationDestination}** shall be used with the callback
URI variables defined in table 5.13.2.2-1.
Table 5.13.2.2-1: Callback URI variables
+-------------------------+-------------------------------------------+ | Name | Definition | +-------------------------+-------------------------------------------+ | notificationDestination | A URI indicating the notification | | | destination where N33 notification | | | requests shall be delivered to. | | | | | | This URI shall be preconfigured in the | | | NEF. | +-------------------------+-------------------------------------------+
#### 5.13.2.3 Operation Definition
##### 5.13.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.13.2.3.1-1 and the response data structures and response codes specified in
table 5.13.2.3.1-2.
Table 5.13.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description LocUpdateData M 1 Delivers UE location to
AF during MO-LR procedure
* * *
Table 5.13.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LocUp | M | 1 | 200 OK | The | | dateDataReply | | | | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.13.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.13.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
### 5.13.3 Data Model
#### 5.13.3.1 General
This clause specifies the application data model supported by the MoLcsNotify
API.
#### 5.13.3.2 Reused data types
The data types reused by the MoLcsNotify API from other specifications are
listed in table 5.13.3.2-1.
Table 5.13.3.2-1: Re-used Data Types
* * *
Data type Reference Comments SupportedFeatures 3GPP TS 29.571 [8] Used to
negotiate the applicability of the optional features defined in table
5.13.4-1. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. LocationInfo 3GPP TS
29.122 [4] Represent user location information for exposure. LcsQosClass 3GPP
TS 29.572 [34] LCS QoS Class. ServiceIdentity 3GPP TS 29.515 [35] Service
identity
* * *
#### 5.13.3.3 Structured data types
##### 5.13.3.3.1 Introduction
This clause defines the structured data types to be used by the MoLcsNotify
API.
##### 5.13.3.3.2 Type: LocUpdateData
This type represents a UE updated location information from the NEF to the AF.
Table 5.13.3.3.2-1: Definition of type LocUpdateData
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Generic Public Subscription identifier  
locInfo LocationInfo M 1 Represent user location information for exposure.  
lcsQosClass LcsQosClass M 1 LCS QoS Class.  
svcId ServiceIdentity O 0..1 Service Identity may be specified by the UE for
LCS request.  
suppFeat SupportedFeatures M 1 Indicates the list of Supported features used
as described in clause 5.13.4.
* * *
##### 5.13.3.3.3 Type: LocUpdateDataReply
This data type represents a reply to a MO LCS notification and is sent from
the AF to the NEF.
Table 5.13.3.3.3-1: Definition of type LocUpdateDataReply
* * *
Attribute name Data type P Cardinality Description Applicability suppFeat
SupportedFeatures M 1 Indicates the list of Supported features used as
described in clause 5.13.4.
* * *
#### 5.13.3.4 Simple data types and enumerations
##### 5.13.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.13.3.4.2 Simple data types
The simple data types defined in table 5.13.3.4.2-1 shall be supported.
Table 5.13.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.13.4 Used Features
The table below defines the features applicable to the MoLcsNotify API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.13.4-1: Features used by MoLcsNotify API
* * *
Feature number Feature Name Description
* * *
### 5.13.5 Error handling
#### 5.13.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.13.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MoLcsNotify API.
#### 5.13.5.3 Application Errors
The application errors defined for MoLcsNotify API are listed in table
5.13.5.3-1.
Table 5.13.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.14 AKMA API
### 5.14.1 Introduction
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-akma/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-akma\" and \"apiVersion\" shall be set to
\"v1\" for the current version defined in the present document. All resource
URIs in the clauses below are defined relative to the above root URI.
### 5.14.2 Resources
There are no resources defined for this API in this release of the
specification.
### 5.14.3 Custom Operations without associated resources
#### 5.14.3.1 Overview
The structure of the custom operation URIs of the AKMA API is shown in Figure
5.14.3.1-1.
Figure 5.14.3.1-1: Custom operation URI structure of the AKMA API
Table 5.14.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.14.3.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description Retrieve
/retrieve POST Request to retrieve AKMA Application Key information
* * *
#### 5.14.3.2 Operation: Retrieve
##### 5.14.3.2.1 Description
The custom operation allows a service consumer to retrieve AKMA application
key information via the NEF.
##### 5.14.3.2.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in tables 5.14.3.2.2-1 and 5.14.3.2.2-2.
Table 5.14.3.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AkmaAfKeyRequest M 1 Parameters to request
to retrieve AKMA Application Key information.
* * *
Table 5.14.3.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AkmaAfKeyData | M | 1 | 200 OK | The requested | | | | | | AKMA | | | | | | Application | | | | | | Key | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | requested | | | | | | data does not | | | | | | exist, the | | | | | | NEF shall | | | | | | respond with | | | | | | \"204 No | | | | | | Content\". | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | subc | | | | | | lause 5.14.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.14.3.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.14.3.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.14.4 Notifications
Notifications are not applicable to this API.
### 5.14.5 Data Model
#### 5.14.5.1 General
This clause specifies the application data model supported by the AKMA API.
#### 5.14.5.2 Reused data types
The data types reused by the AKMA API from other specifications are listed in
table 514.5.2-1.
Table 5.14.5.2-1: Re-used Data Types
* * *
Data type Reference Comments DateTime 3GPP TS 29.122 [4]  
Gpsi 3GPP TS 29.571 [8]  
Supi 3GPP TS 29.571 [8]  
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features.
* * *
#### 5.14.5.3 Structured data types
##### 5.14.5.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.14.5.3.2 Type: AkmaAfKeyRequest
Table 5.14.5.3.2-1: Definition of type AkmaAfKeyRequest
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | AfId | M | 1 | Ident | | | | | | | ification | | | | | | | of AF | | +-----------+-----------+---+-----------+-----------+-----------+ | aKId | AKId | M | 1 | A-KID | | +-----------+-----------+---+-----------+-----------+-----------+ | anonInd | boolean | O | 0..1 | Indicates | | | | | | | whether | | | | | | | an | | | | | | | anonymous | | | | | | | user | | | | | | | access. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if an | | | | | | | anonymous | | | | | | | user | | | | | | | access is | | | | | | | r | | | | | | | equested; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | O | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.14.6. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.14.6 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.14.5.3.3 Type: AkmaAfKeyData
Table 5.14.5.3.3-1: Definition of type AkmaAfKeyData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | kaf | string | M | 1 | K~AF~ | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | M | 1 | E | | | | | | | xpiration | | | | | | | time of | | | | | | | K~AF~. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | Indicates | | | | | | | an | | | | | | | external | | | | | | | ID of the | | | | | | | UE. | | | | | | | (NOTE 2, | | | | | | | NOTE x) | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | Indicates | | | | | | | the SUPI | | | | | | | of the | | | | | | | UE. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | O | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.14.6 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When the | | | | | | | \"AkmaAf | | | | | | | KeyData\" | | | | | | | data | | | | | | | structure | | | | | | | is used | | | | | | | in the | | | | | | | current | | | | | | | release | | | | | | | of this | | | | | | | speci | | | | | | | fication, | | | | | | | the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | and the | | | | | | | \"supi\" | | | | | | | attribute | | | | | | | is not | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 3 | | | | | | | When the | | | | | | | \" | | | | | | | anonInd\" | | | | | | | attribute | | | | | | | contained | | | | | | | in | | | | | | | AkmaAfK | | | | | | | eyRequest | | | | | | | data type | | | | | | | is set to | | | | | | | \"true\" | | | | | | | in the | | | | | | | incoming | | | | | | | request, | | | | | | | the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.14.5.4 Simple data types and enumerations
##### 5.14.5.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.14.5.4.2 Simple data types
The simple data types defined in table 5.14.5.4.2-1 shall be supported.
Table 5.14.5.4.2-1: Simple data types
+-----------+-----------------+-------------------+---------------+ | Type Name | Type Definition | Description | Applicability | +-----------+-----------------+-------------------+---------------+ | AfId | string | Identification of | | | | | AF which is | | | | | formatted as the | | | | | following string: | | | | | | | | | | \"\.\\", wherein, | | | | | \ is the | | | | | FQDN of the AF | | | | | and \ is a string | | | | | of 5 octet and | | | | | the | | | | | identification of | | | | | the Ua* security | | | | | protocol is | | | | | specified as Ua | | | | | security protocol | | | | | identifier in | | | | | Annex H of | | | | | 3GPP | | | | | TS 33.220 [39] | | | | | that the AF will | | | | | use with the UE. | | | | | | | | | | Example: | | | | | | | | | | 1. FQDN: | | | | | ww | | | | | w.app1.com, | | | | | Ua* security | | | | | protocol id: | | | | | 0100BC0001, then | | | | | AfId: | | | | | www.a | | | | | pp1.com.0100BC000 | | | | | 1 | | +-----------+-----------------+-------------------+---------------+ | AKId | string | AKMA Key | | | | | Identifier shall | | | | | be in NAI format | | | | | as specified in | | | | | clause 2.2 of | | | | | IETF | | | | | RFC 7542 [40], | | | | | which is | | | | | formatted as the | | | | | following string: | | | | | | | | | | \"\@\\", | | | | | wherein, | | | | | \ | | | | | shall include | | | | | Routing | | | | | Indicatorand the | | | | | A-TID in the | | | | | format | | | | | \"rid\ | | | | | .atid\\", | | | | | where \"rid\" and | | | | | \"atid\" are | | | | | labels indicating | | | | | Routing Indicator | | | | | and A-TID and | | | | | \ shall | | | | | include Home | | | | | Network Id. | | | | | | | | | | Example: | | | | | | | | | | 1. If Routing | | | | | Indicator: 012, | | | | | A-TID: 019345346 | | | | | and Home Network | | | | | Id: | | | | | 5gc.mnc012.mcc345 | | | | | .3gppnetwork.org, | | | | | then AKId: | | | | | rid0 | | | | | 12.akid019345346\ | | | | | @5gc.mnc012.mcc34 | | | | | 5.3gppnetwork.org | | | | | | | | | | Routing | | | | | Indicator, Home | | | | | Network Id are | | | | | specified in | | | | | 3GPP | | | | | TS 23.003 [55]. | | | | | | | | | | A-TID is | | | | | specified in | | | | | 3GPP | | | | | TS 33.535 [38]. | | +-----------+-----------------+-------------------+---------------+
### 5.14.6 Used Features
The table below defines the features applicable to the AKMA API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.14.6-1: Features used by AKMA API
* * *
Feature number Feature Name Description
* * *
### 5.14.7 Error handling
#### 5.14.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.14.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AKMA API.
#### 5.14.7.3 Application Errors
The application errors defined for the AKMA API are listed in table
5.14.7.3-1.
Table 5.14.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description** K_AKMA_NOT_PRESENT
403 Forbidden Indicates that the K~AKMA~ identified by the A-KID provided in
the AKMA Application Key retrieval request body is not present at the AAnF.
* * *
## 5.15 TimeSyncExposure API
### 5.15.1 Resources
#### 5.15.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-time-sync/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"**3gpp-time-sync** \" and \"apiVersion\" shall
be set to \"v1\" for the current version defined in the present document. All
resource URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.15.1.1-1 and the resources and HTTP methods used for the TimeSyncExposure
API.
Figure 5.15.1.1-1: Resource URI structure of the TimeSyncExposure API
Table 5.15.1.1-1 provides an overview of the resources and HTTP methods
applicable for the TimeSyncExposure API.
Table 5.15.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Time Synchronization
Exposure Subscriptions /{afId}/subscriptions GET Read all subscriptions for a
given AF POST Create a new subscription to time synchronization exposure
Individual Time Synchronization Exposure Subscription
/{afId}/subscriptions/{subscriptionId} GET Read a subscription to time
synchronization exposure PUT Modify all of the properties of an existing
subscription to time synchronization exposure DELETE Delete a subscription to
time synchronization exposure Time Synchronization Exposure Configurations
/{afId}/subscriptions/{subscriptionId}/configurations GET Read all
configurations for a given AF and subscription POST Create a new configuration
to time synchronization exposure Individual Time Synchronization Exposure
Configuration
/{afId}/subscriptions/{subscriptionId}/configurations/{instanceReference} GET
Read a configuration to time synchronization exposure PUT Modify all of the
properties of an existing configuration to time synchronization exposure
DELETE Delete a configuration to time synchronization exposure DELETE DELETE a
new configuration of 5G access stratum time distribution.
* * *
#### 5.15.1.2 Resource: Time Synchronization Exposure Subscriptions
##### 5.15.1.2.1 Introduction
This resource allows an AF to read all active time synchronization exposure
subscribtions for the given AF, or allows an AF to create a new Individual
Time Synchronization Exposure Subscription in the NEF.
##### 5.15.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-sync/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.15.1.2.2-1.
Table 5.15.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.15.1.2.3 Resource Methods
###### 5.15.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.2.2.
###### 5.15.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.15.1.2.3.2-1.
Table 5.15.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.15.1.2.3.2-2 and the response data structures and response codes specified
in table 5.15.1.2.3.2-3.
Table 5.15.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ar | M | 0..N | 200 OK | The | | ray(TimeSyncE | | | | subscription | | xposureSubsc) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.2.3.3 POST
The POST method creates a new subscription resource to time synchronization
exposure subscription for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.15.1.2.3.3-1 and the response data structures and response codes specified
in table 5.15.1.2.3.3-2.
Table 5.15.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsc M 1 Contains the
information for the creation of a new Individual Time Synchronization Exposure
Subscription resource**.**
* * *
Table 5.15.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 201 Created | The | | ExposureSubsc | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
time-sync/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.15.1.3 Resource: Individual Time Synchronization Exposure Subscription
##### 5.15.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing Individual
Time Synchronization Exposure Subscription.
##### 5.15.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-
sync/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.15.1.3.2-1.
Table 5.15.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.15.1.3.3 Resource Methods
###### 5.15.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.3.2.
###### 5.15.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.3.3.2-1.
Table 5.15.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.15.1.3.3.2-2 and the response data structures and response codes specified
in table 5.15.1.3.3.2-3.
Table 5.15.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.3.3.3 PUT
The PUT method modifies an existing subscription resource to update a
subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.15.1.3.3.3-1 and the response data structures and response codes specified
in table 5.15.1.3.3.3-2.
Table 5.15.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsc M 1 Modify an
existing Time Synchronization Exposure Subscription.
* * *
Table 5.15.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.3.3.4 DELETE
The DELETE method deletes the time synchronization exposure subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.3.3.4-1.
Table 5.15.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.3.3.4-2 and the response data structures and response codes specified
in table 5.15.1.3.3.4-3.
Table 5.15.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
#### 5.15.1.4 Resource: Time Synchronization Exposure Configurations
##### 5.15.1.4.1 Introduction
This resource allows an AF to read all active time synchronization exposure
configuration for the given AF and subscription, or allows an AF to create a
new time synchronization configuration and activate the time synchronization
service with the configuration.
##### 5.15.1.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-
sync/v1/{afId}/subscriptions/{subscriptionId}/configurations**
This resource shall support the resource URI variables defined in table
5.15.1.4.2-1.
Table 5.15.1.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.15.1.4.3 Resource Methods
###### 5.15.1.4.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.4.3.
###### 5.15.1.4.3.2 GET
The GET method allows to read all active configurations for a given AF and
subscription. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.4.3.2-1.
Table 5.15.1.4.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.4.3.2-2 and the response data structures and response codes specified
in table 5.15.1.4.3.2-3.
Table 5.15.1.4.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.4.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | The | | ay(TimeSyncEx | | | | configuration | | posureConfig) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.4.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.4.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.4.3.3 POST
The POST method creates a new configuration resource to activate time
synchronization service for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.15.1.4.3.3-1 and the response data structures and response codes specified
in table 5.15.1.4.3.3-2.
Table 5.15.1.4.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfig M 1 Parameters to
create a configuration and to activate time synchronization service.
* * *
Table 5.15.1.2.4.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 201 Created | The | | xposureConfig | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.4.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
time-
sync/v1/{afId}/subscriptions/{subscriptionId}/configurations/{instanceReference}
* * *
#### 5.15.1.5 Resource: Individual Time Synchronization Exposure Configuration
##### 5.15.1.5.1 Introduction
This resource allows an AF to read/modify/cancel a configuration to
active/modify/deactivate Time Synchronization service with the NEF.
##### 5.15.1.5.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-
sync/v1/{afId}/subscriptions/{subscriptionId}/configuration/{instanceReference}**
This resource shall support the resource URI variables defined in table
5.15.1.5.2-1.
Table 5.15.1.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource. instanceReference string Identifier of the PTP instance
resource
* * *
##### 5.15.1.5.3 Resource Methods
###### 5.15.1.5.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.5.2.
###### 5.15.1.5.3.2 GET
The GET method allows to read the active configuration for a given AF,
subscription Id and configuration Id. The AF shall initiate the HTTP GET
request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.5.3.2-1.
Table 5.15.1.5.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.5.3.2-2 and the response data structures and response codes specified
in table 5.15.1.5.3.2-3.
Table 5.15.1.5.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.5.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 200 OK | The | | xposureConfig | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.5.3.3 PUT
The PUT method modifies an existing configuration resource to update a
configuration. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.15.1.5.3.3-1 and the response data structures and response codes specified
in table 5.15.1.5.3.3-2.
Table 5.15.1.5.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfig M 1 Modify an
existing Time Synchronization Exposure Configuration.
* * *
Table 5.15.1.5.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 200 OK | The | | xposureConfig | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.5.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.5.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.5.3.4 DELETE
The DELETE method deletes the time synchronization exposure subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.5.3.4-1.
Table 5.15.1.5.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.5.3.4-2 and the response data structures and response codes specified
in table 5.15.1.5.3.4-3.
Table 5.15.1.5.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.5.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.5.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.5.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.15.2 Custom Operations without associated resources
None.
### 5.15.3 Notifications
#### 5.15.3.1 Introduction
.
Table 5.15.3.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Time | {subsNotifUri} | POST | Time | | S | | | S | | ynchronization | | | ynchronization | | Capability | | | Capability | | Notification | | | Notification | | | | | for a list of | | | | | UEs. | +----------------+----------------+----------------+----------------+ | Time | {c | POST | Current State | | S | onfigNotifUri} | | of Time | | ynchronization | | | S | | Configuration | | | ynchronization | | Notification | | | configuration | | | | | Notification. | +----------------+----------------+----------------+----------------+
#### 5.15.3.2 Time Synchronization Capability Notification
##### 5.15.3.2.1 Description
The Notification is used by the NEF to report the Time Synchronization
Capability to the AF.
##### 5.15.3.2.2 Callback URI
The Callback URI **\"{subsNotifUri}\"** shall be used with the callback URI
variables defined in table 5.15.3.2.2-1.
Table 5.15.3.2.2-1: Callback URI variables
* * *
Name Definition subsNotifUri Callback reference provided by the AF during
creation/modification of the subscription as defined in Table 5.15.4.3.2-1.
* * *
##### 5.15.3.2.3 Operation Definition
###### 5.15.3.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.15.3.2.3.1-1 and the response data structures and response codes specified
in table 5.15.3.2.3.1-2 and the Location Headers specified in table
5.15.3.2.3.1-3 and table 5.15.3.2.3.1-4.
Table 5.15.3.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsNotif M 1 Provides the
time synchroniziation capabilities of a list of UEs by the NEF to the AF.
* * *
Table 5.15.3.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.3.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.15.3.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.15.3.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the Time
Synchroniaition Capability Notification may alternatively be delivered through
the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
#### 5.15.3.3 Time Synchronization Configuration Notification
##### 5.15.3.3.1 Description
The Notification is used by the NEF to report the state of Time
Synchronization service configuration to the AF.
##### 5.15.3.3.2 Callback URI
The Callback URI **\"{configNotifUri}\"** shall be used with the callback URI
variables defined in table 5.15.3.3.2-1.
Table 5.15.3.3.2-1: Callback URI variables
* * *
Name Definition configNotifUri Callback reference provided by the AF during
creation/modification of the configuration as defined in Table 5.15.4.3.6-1.
* * *
##### 5.15.3.3.3 Operation Definition
###### 5.15.3.3.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.15.3.3.3.1-1 and the response data structures and response codes specified
in table 5.15.3.3.3.1-2 and the Location Headers specified in table
5.15.3.3.3.1-3 and table 5.15.3.3.3.1-4.
Table 5.15.3.3.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfigNotif M 1 Provides
the current state of time synchroniziation service configuration by the NEF to
the AF.
* * *
Table 5.15.5.3.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.3.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.15.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.15.3.3.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the state of Time
Synchroniaition Service Configuration Notification may alternatively be
delivered through the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP
TS 29.122 [4].
### 5.15.4 Data Model
#### 5.15.4.1 General
This clause specifies the application data model supported by the
TimeSyncExposure API.
Table 5.15.4.1-1 specifies the data types defined for the TimeSyncExposure
API.
Table 5.15.4.1-1: TimeSyncExposure API specific Data Types
* * *
Data type Clause defined Description Applicability AsTimeResource 5.15.4.4.8
Identifies the supported 5G clock quality.  
ConfigForPort 5.15.4.3.18 Contains configuration information for each port.  
EventFilter 5.15.4.3.10 Contains the filter conditions to match for notifying
the event(s) of time synchronization capabilities.  
GmCapable 5.15.4.4.5 Identifies the supported grandmaster.  
InstanceType 5.15.4.4.7 Identifies supported PTP instance type.  
Protocol 5.15.4.4.4 Identifies the supported protocol.  
PtpCapabilitiesPerUe 5.15.4.3.11 Contains the supported PTP capabilities per
UE.  
PtpInstance 5.15.4.3.12 Contains PTP instance configuration and activation
information requested by the AF.  
StageOfConfiguration 5.15.4.3.17 Contains the PTP port state of the time
synchronization configuration.  
StateOfDstt 5.15.4.3.19 Contains the PTP port state of a DS-TT  
SubscribedEvent 5.15.4.4.6 Identifies the supported event.  
SubsEventNotification 5.15.4.3.8 Represents the notification about a
subscribed Individual Event.  
TimeSyncCapability 5.15.4.3.3 Contains the time synchronization capability.  
TimeSyncExposureConfig 5.15.4.3.6 Contains the Time Synchronization
Configuration parameters.  
TimeSyncExposureConfigNotif 5.15.4.3.9 Contains the notification of time
synchronization service state.  
TimeSyncExposureSubsc 5.15.4.3.2 Contains the requested parameters for the
subscription to time synchronization capability notifications.  
TimeSyncExposureSubsNotif 5.15.4.3.7 Contains the notification of time
synchronization capability.
* * *
#### 5.15.4.2 Reused data types
The data types reused by the TimeSyncExposure API from other specifications
are listed in table 5.15.4.2-1.
Table 5.15.4.2-1: Re-used Data Types
* * *
Data type Reference Comments DateTime 3GPP TS 29.571 [8]  
Dnn 3GPP TS 29.571 [8] Identifies a DNN. ExternalGroupId 3GPP TS 29.122 [4]
External Group Identifier for a user group. NotificationMethod 3GPP TS 29.508
[26]  
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Snssai 3GPP TS 29.571 [8]
Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate
the applicability of the optional features defined in table 5.15.5-1. Uinteger
3GPP TS 29.571 [8] Unsigned integer. Uri 3GPP TS 29.571 [8] Identifies a
referenced resource.
* * *
#### 5.15.4.3 Structured data types
##### 5.15.4.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.15.4.3.2 Type: TimeSyncExposureSubsc
Table 5.15.4.3.2-1: Definition of type TimeSyncExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | C | 0..1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of UE(s) | | | | | | | for which | | | | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | Contains | | | | ray(Gpsi) | | | a list of | | | | | | | UE for | | | | | | | which the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | C | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | (NOTE 1) | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | no | Notificat | O | 0..1 | If | | | tifMethod | ionMethod | | | \"noti | | | | | | | fMethod\" | | | | | | | is not | | | | | | | supplied, | | | | | | | the | | | | | | | default | | | | | | | value | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | C | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | C | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | arra | O | 1..N | I | | | bedEvents | y(Subscri | | | dentifies | | | | bedEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array(Eve | O | 1..N | Contains | | | ntFilters | ntFilter) | | | the | | | | | | | filter | | | | | | | c | | | | | | | onditions | | | | | | | to match | | | | | | | for | | | | | | | notifying | | | | | | | the | | | | | | | event(s) | | | | | | | of time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | for a | | | | | | | list of | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | sub | Uri | M | 1 | Not | | | sNotifUri | | | | ification | | | | | | | URI for | | | | | | | time | | | | | | | sensitive | | | | | | | c | | | | | | | apability | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | string | M | 1 | Not | | | bsNotifId | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | max | Uinteger | O | 0..1 | If | | | ReportNbr | | | | omitted, | | | | | | | there is | | | | | | | no limit. | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | C | 0..1 | This | | | | | | | attribute | | | | | | | indicates | | | | | | | the | | | | | | | expiry | | | | | | | time of | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | after | | | | | | | which the | | | | | | | NEF shall | | | | | | | not send | | | | | | | any event | | | | | | | noti | | | | | | | fications | | | | | | | and the | | | | | | | sub | | | | | | | scription | | | | | | | becomes | | | | | | | invalid. | | | | | | | It may be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | and may | | | | | | | be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | response | | | | | | | based on | | | | | | | operator | | | | | | | policies. | | | | | | | If an | | | | | | | expiry | | | | | | | time was | | | | | | | included | | | | | | | in the | | | | | | | request, | | | | | | | then the | | | | | | | expiry | | | | | | | time | | | | | | | returned | | | | | | | in the | | | | | | | response | | | | | | | should be | | | | | | | less than | | | | | | | or equal | | | | | | | to that | | | | | | | value. If | | | | | | | the | | | | | | | expiry | | | | | | | time is | | | | | | | not | | | | | | | included | | | | | | | in the | | | | | | | response, | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | shall not | | | | | | | associate | | | | | | | an expiry | | | | | | | time for | | | | | | | the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | repPeriod | Du | C | 0..1 | Is | | | | rationSec | | | supplied | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | Method | | | | | | | \"pe | | | | | | | riodic\". | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and the | | | | | | | response | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | Time | | | | | | | Synchr | | | | | | | onization | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Only one | | | | | | | of the | | | | | | | p | | | | | | | roperties | | | | | | | \ | | | | | | | "gpsis\", | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 2 | | | | | | | The | | | | | | | p | | | | | | | roperties | | | | | | | of | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | may be | | | | | | | included | | | | | | | only when | | | | | | | the | | | | | | | p | | | | | | | roperties | | | | | | | of | | | | | | | \"dnn\" | | | | | | | and | | | | | | | \ | | | | | | | "snssai\" | | | | | | | are | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.3 Type: TimeSyncCapability
Table 5.15.4.3.3-1: Definition of type TimeSyncCapability
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | upNodeId | Uint64 | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | NW-TT. | | | | | | | Contains | | | | | | | a TSC | | | | | | | user | | | | | | | plane | | | | | | | node Id. | | | | | | | If | | | | | | | i | | | | | | | ntegrated | | | | | | | with TSN, | | | | | | | the user | | | | | | | plane | | | | | | | node Id | | | | | | | is a | | | | | | | bridge Id | | | | | | | defined | | | | | | | in | | | | | | | IEEE 802. | | | | | | | 1Q [51] | | | | | | | claus | | | | | | | e 14.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | g | array(G | C | 1..N | Indicates | | | mCapables | mCapable) | | | whether | | | | | | | user | | | | | | | plane | | | | | | | node | | | | | | | supports | | | | | | | acting as | | | | | | | a gPTP | | | | | | | and/or | | | | | | | PTP | | | | | | | gra | | | | | | | ndmaster. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | asTimeRes | AsTim | C | 0..1 | Indicates | | | | eResource | | | the | | | | | | | supported | | | | | | | 5G clock | | | | | | | quality | | | | | | | (i.e. the | | | | | | | source of | | | | | | | time used | | | | | | | by the | | | | | | | 5GS). | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ptp | map(Ptp | C | 1..N | Contains | | | CapForUes | Capabilit | | | the PTP | | | | iesPerUe) | | | cap | | | | | | | abilities | | | | | | | supported | | | | | | | by the | | | | | | | list of | | | | | | | UE(s). | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the gpsi. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | and | | | | | | | \"as | | | | | | | TimeRes\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.4 Void
##### 5.15.4.3.5 Void
##### 5.15.4.3.6 Type: TimeSyncExposureConfig
Table 5.15.4.3.6-1: Definition of type TimeSyncExposureConfig
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | upNodeId | Uint64 | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | NW-TT. | | | | | | | Contains | | | | | | | a TSC | | | | | | | user | | | | | | | plane | | | | | | | node Id. | | | | | | | If | | | | | | | i | | | | | | | ntegrated | | | | | | | with TSN, | | | | | | | the user | | | | | | | plane | | | | | | | node Id | | | | | | | is a | | | | | | | bridge Id | | | | | | | defined | | | | | | | in | | | | | | | IEEE 802. | | | | | | | 1Q [41] | | | | | | | claus | | | | | | | e 14.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | reqPtpIns | Pt | M | 1 | I | | | | pInstance | | | dentifies | | | | | | | the PtP | | | | | | | instance | | | | | | | conf | | | | | | | iguration | | | | | | | and | | | | | | | a | | | | | | | ctivation | | | | | | | requested | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gmEnable | boolean | C | 0..1 | Indicates | | | | | | | that the | | | | | | | AF | | | | | | | requests | | | | | | | 5GS to | | | | | | | act as a | | | | | | | gr | | | | | | | andmaster | | | | | | | for PTP | | | | | | | or gPTP | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to true. | | | | | | | The | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | shall | | | | | | | apply, if | | | | | | | the | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | gmPrio | Uinteger | C | 0..1 | Indicates | | | | | | | a | | | | | | | priority | | | | | | | used as | | | | | | | d | | | | | | | efaultDS. | | | | | | | priority1 | | | | | | | when | | | | | | | g | | | | | | | enerating | | | | | | | Announce | | | | | | | message | | | | | | | when 5GS | | | | | | | acts as | | | | | | | (g)PTP | | | | | | | GM. It | | | | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | \"g | | | | | | | mEnable\" | | | | | | | is set to | | | | | | | true. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeDom | Uinteger | M | 1 | Indicate | | | | | | | the | | | | | | | (g)PTP | | | | | | | domain | | | | | | | that the | | | | | | | (TSN)AF | | | | | | | is | | | | | | | located | | | | | | | in. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeSy | Uinteger | O | 0..1 | Indicates | | | ncErrBdgt | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | budget | | | | | | | for the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | in units | | | | | | | of | | | | | | | nan | | | | | | | oseconds. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | +-----------+-----------+---+-----------+-----------+-----------+ | tem | Tempora | O | 0..1 | Indicates | | | pValidity | lValidity | | | the time | | | | | | | period | | | | | | | when the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | for a PTP | | | | | | | instance | | | | | | | is | | | | | | | active. | | +-----------+-----------+---+-----------+-----------+-----------+ | confi | Uri | M | 1 | Not | | | gNotifUri | | | | ification | | | | | | | URI for | | | | | | | conf | | | | | | | iguration | | | | | | | state | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | conf | string | M | 1 | Not | | | igNotifId | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.7 Type: TimeSyncExposureSubsNotif
Table 5.15.4.3.7-1: Definition of type TimeSyncExposureSubsNotif
* * *
Attribute name Data type P Cardinality Description Applicability subsNotifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
eventNotifs array(SubsEventNotification) M 1..N Notifications about subscribed
Individual Events
* * *
##### 5.15.4.3.8 Type SubsEventNotification
Table 5.15.4.3.8-1: Definition of type SubsEventNotification
* * *
Attribute name Data type P Cardinality Description Applicability event
SubscribedEvent M 1 Subscribed events.  
timeSyncCapas array(TimeSyncCapability) O 1..N Contains a list of time
synchronization capabilities for the UE(s).
* * *
##### 5.15.4.3.9 Type: TimeSyncExposureConfigNotif
Table 5.15.4.3.9-1: Definition of type TimeSyncExposureConfigNotif
* * *
Attribute name Data type P Cardinality Description Applicability configNotifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
stateOfConfig StateOfConfiguration M 1 Indicates the current state of time
synchroniztion service configuration
* * *
##### 5.15.4.3.10 Type: EventFilter
Table 5.15.4.3.10-1: Definition of type EventFilter
* * *
Attribute name Data type P Cardinality Description Applicability instanceTypes
array(InstanceType) O 1..N Indicates the PTP instance type(s).  
transProtocols array(Protocol) O 1..N Indicates the transport protocol
type(s).  
ptpProfiles array(string) O 1..N Identifies the supported PTP profiles.
* * *
##### 5.15.4.3.11 Type: PtpCapabilitiesPerUe
Table 5.15.4.3.11-1: Definition of type PtpCapabilitiesPerUe
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Identifies the UE to which the reported PTP instance below apply.  
ptpCaps array(EventFilter) M 1..N Contains the reported PTP capabilities for
the UE.
* * *
##### 5.15.4.3.12 Type: PtpInstance
Table 5.15.4.3.12-1: Definition of type PtpInstance
* * *
Attribute name Data type P Cardinality Description Applicability instanceType
InstanceType M 1 Indicates the PTP instance type.  
protocol Protocol M 1 Indicates the protocol type.  
ptpProfile string M 1 Identifies the PTP profile.  
portConfigs arrary(ConfigForPort) O 1..N Contains the configurations for the
PTP port(s) in the PTP instance.
* * *
##### 5.15.4.3.13 Void
##### 5.15.4.3.14 Void
##### 5.15.4.3.15 Void
##### 5.15.4.3.16 Void
##### 5.15.4.3.17 Type: StateOfConfiguration
Table 5.15.4.3.17-1: Definition of type StateOfConfiguration
* * *
Attribute name Data type P Cardinality Description Applicability stateOfNwtt
boolean O 0..1 When the PTP port state is Leader, Follower or Passive, it is
included and set to true to indicate the state of configuration for NW-TT port
is active; when PTP port state is in any other case, it is included and set to
false to indicate the state of configuration for NW-TT port is inactive.
Default value is false. (NOTE)  
stateOfDstts array(StateOfDstt) O 1..N Contains the PTP port states of the DS-
TT(s).  
NOTE: Leader and Follower terms in this specification are aligned with NOTE 2
in clause 5.27.1.2.2.1 of 3GPP TS 23.501 [3].
* * *
##### 5.15.4.3.18 Type: ConfigForPort
Table 5.15.4.3.18-1: Definition of type ConfigForPort
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | UE/DS-TT | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | n6Ind | boolean | C | 0..1 | Indicates | | | | | | | the N6 | | | | | | | te | | | | | | | rmination | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | ptpEnable | boolean | O | 0..1 | This is | | | | | | | used to | | | | | | | set the | | | | | | | portDS.po | | | | | | | rtEnable. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used | | +-----------+-----------+---+-----------+-----------+-----------+ | log | integer | O | 0..1 | Specifies | | | SyncInter | | | | the mean | | | | | | | time | | | | | | | interval | | | | | | | between | | | | | | | s | | | | | | | uccessive | | | | | | | Sync | | | | | | | messages. | | | | | | | This is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | IE | | | | | | | EE Std 15 | | | | | | | 88 [45] | | | | | | | Boundary | | | | | | | Clock or | | | | | | | IEEE | | | | | | | Std 802.1 | | | | | | | AS [46] | | | | | | | o | | | | | | | peration. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logSyn | boolean | O | 0..1 | When set | | | cInterInd | | | | to FALSE, | | | | | | | the value | | | | | | | of | | | | | | | \"logSy | | | | | | | ncInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | init | | | | | | | ialLogSyn | | | | | | | cInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE S | | | | | | | td 802.1A | | | | | | | S [46]. | | | | | | | When set | | | | | | | to TRUE, | | | | | | | the value | | | | | | | of | | | | | | | \"logSy | | | | | | | ncInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | mgtSetta | | | | | | | bleLogSyn | | | | | | | cInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE S | | | | | | | td 802.1A | | | | | | | S [46]. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | IEEE | | | | | | | Std 802.1 | | | | | | | AS [46] | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logA | integer | O | 0..1 | Specifies | | | nnouInter | | | | the mean | | | | | | | time | | | | | | | interval | | | | | | | between | | | | | | | s | | | | | | | uccessive | | | | | | | Announce | | | | | | | messages. | | | | | | | This is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | IE | | | | | | | EE Std 15 | | | | | | | 88 [45] | | | | | | | Boundary | | | | | | | Clock or | | | | | | | IEEE | | | | | | | Std 802.1 | | | | | | | AS [46] | | | | | | | o | | | | | | | peration. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logAnno | boolean | O | 0..1 | When set | | | uInterInd | | | | to FALSE, | | | | | | | the value | | | | | | | of | | | | | | | \"logAnn | | | | | | | ouInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | initialL | | | | | | | ogAnnounc | | | | | | | eInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IE | | | | | | | EE 802.1A | | | | | | | S [46]. | | | | | | | When set | | | | | | | to TRUE, | | | | | | | the value | | | | | | | of | | | | | | | \"logAnn | | | | | | | ouInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | mgt | | | | | | | SettableL | | | | | | | ogAnnounc | | | | | | | eInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE S | | | | | | | td 802.1A | | | | | | | S [46]. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | IEE | | | | | | | E Std 802 | | | | | | | .1AS [46 | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"n6Ind\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.19 Type: StateOfDstt
Table 5.15.4.3.19-1: Definition of type StateOfDstt
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Identifies the UE/DS-TT which the parameters below apply.  
state boolean M 1 When the PTP port state is Leader, Follower or Passive, it
is included and set to true to indicate the state of configuration for DS-TT
port is active; when PTP port state is in any other case, it is included and
set to false to indicate the state of configuration for DS-TT port is
inactive. Default value is false.  
NOTE: Leader and Follower terms in this specification are aligned with NOTE 2
in clause 5.27.1.2.2.1 of TS 23.501 [3].
* * *
#### 5.15.4.4 Simple data types and enumerations
##### 5.15.4.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.15.4.4.2 Simple data types
The simple data types defined in table 5.15.4.4.2-1 shall be supported.
Table 5.15.4.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.15.4.4.3 Void
##### 5.15.4.4.4 Enumeration: Protocol
Table 5.15.4.4.4-1: Enumeration Protocol
* * *
Enumeration value Description Applicability ETH Indicates Ethernet as defined
in IEEE Std 1588 [45] Annex E is supported.  
IPV4 Indicates IPv4 as defined in IEEE Std 1588 [45] Annex C is supported.  
IPV6 Indicates IPv6 as defined in IEEE Std 1588 [45] Annex D is supported
* * *
##### 5.15.4.4.5 Enumeration: GmCapable
Table 5.15.4.4.5-1: Enumeration GmCapable
* * *
Enumeration value Description Applicability GPTP gPTP grandmaster is
supported.  
PTP PTP grandmaste is supported.
* * *
##### 5.15.4.4.6 Enumeration: SubscribedEvent
Table 5.15.4.4.6-1: Enumeration SubscribedEvent
* * *
Enumeration value Description AVAILABILITY_FOR_TIME_SYNC_SERVICE The AF
requests to be notified when the UE is availablility for time synchronization
service.
* * *
##### 5.15.4.4.7 Enumeration: InstanceType
Table 5.15.4.4.7-1: Enumeration InstanceType
* * *
Enumeration value Description Applicability BOUNDARY_CLOCK Indicates Boundary
Clock as defined in IEEE Std 1588 [45].  
E2E_TRANS_CLOCK Indicates End-to-End Transparent Clock as defined in IEEE Std
1588 [45].  
P2P_TRANS_CLOCK Indicates Peer-to-Peer Transparent Clock as defined in IEEE
Std 1588 [45].  
PTP_RELAY_INSTANCE Indicates PTP Relay instance as defined in IEEE Std 802.1AS
[46]
* * *
##### 5.15.4.4.8 Enumeration: AsTimeResource
The enumeration AsTimeResource represents the supported 5G clock quality (i.e.
the source of time used by the 5GS). It shall comply with the provisions
defined in table 5.15.4.4.8-1.
Table 5.15.4.4.8-1: Enumeration AsTimeResource
* * *
Enumeration value Description Applicability ATOMIC_CLOCK Indicates atomic
clock is supported.  
GNSS Indicates Global Navigation Satellite System is supported.  
TERRESTRIAL_RADIO Indicates terrestrial radio is supported.  
SERIAL_TIME_CODE Indicates serial time code is supported.  
PTP Indicates PTP is supported.  
NTP Indicates NTP is supported.  
HAND_SET Indicates hand set is supported.  
INTERNAL_OSCILLATOR Indicates internal oscillator is supported.  
OTHER Indicates other source of time is supported.
* * *
### 5.15.5 Used Features
The table below defines the features applicable to the TimeSyncExposure API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.15.5-1: Features used by TimeSyncExposure API
* * *
Feature number Feature Name Description 1 Notification_websocket The delivery
of notifications over Websocket is supported as defined in 3GPP TS 29.122 [4].
This feature requires that the Notification_test_event feature is also
supported. 2 Notification_test_event The testing of notification connection is
supported as defined in 3GPP TS 29.122 [4].
* * *
### 5.15.6 Error handling
#### 5.15.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.15.6.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the TimeSyncExposure API.
#### 5.15.6.3 Application Errors
The application errors defined for the TimeSyncExposure API are listed in
table 5.15.6.3-1.
Table 5.15.6.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.16 EcsAddressProvision API
### 5.16.1 Resources
#### 5.16.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-ecs-address-provision/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-ecs-address-provision\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.16.1.1-1 and the resources and HTTP methods used for the EcsAddressProvision
API.
Figure 5.16.1.1-1: Resource URI structure of the EcsAddressProvision API
Table 5.16.1.1-1 provides an overview of the resources and HTTP methods
applicable for the EcsAddressProvision API.
Table 5.16.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | ECS Address | /{a | GET | Read all | | Provision | fId}/configurat | | configurations | | Configurations | ions {#afidconf | | for a given AF | | | igurations .TT} | | identified by | | | ======= | | {afId} | | | =============== | | | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a ne | | | | | w configuration | | | | | to provision E | | | | | CS address(es) | | | | | {#create-a-new- | | | | | configuration-t | | | | | o-provision-ecs | | | | | -addresses .TT} | | | | | ========== | | | | | =============== | | | | | =============== | | | | | =============== | +-----------------+-----------------+-------------+-----------------+ | Individual ECS | /{afId}/co | GET | Read an | | Address | nfigurations/{c | | existing | | Provision | onfigurationId} | | configuration | | Configuration | | | identified by | | | | | {c | | | | | onfigurationId} | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Modify all of | | | | | the properties | | | | | of an existing | | | | | configuration | | | | | identified by | | | | | {c | | | | | onfigurationId} | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete a | | | | | configuration | | | | | identified by | | | | | {c | | | | | onfigurationId} | +-----------------+-----------------+-------------+-----------------+
#### 5.16.1.2 Resource: ECS Address Provision Configurations
##### 5.16.1.2.1 Introduction
This resource allows a AF to read all active ECS Address Provision
Configurations for a given AF, or create an new Individual ECS Address
Provision Configuration to the NEF.
##### 5.16.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ecs-address-
provision/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.16.1.2.2-1.
Table 5.16.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.16.1.2.3 Resource Methods
###### 5.16.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.16.1.2.2.
###### 5.16.1.2.3.2 GET
The GET method allows to read all active configurations for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.16.1.2.3.2-1.
Table 5.16.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.16.1.2.3.2-2 and the response data structures and response codes specified
in table 5.16.1.2.3.2-3.
Table 5.16.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.16.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(EcsAddr | M | 0..N | 200 OK | All the | | essProvision) | | | | c | | | | | | onfigurations | | | | | | for the AF | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.16.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.16.1.2.3.3 POST
The POST method creates a new resource to Individual ECS Address Provision
Configuration for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.16.1.2.3.3-1 and the response data structures and response codes specified
in table 5.16.1.2.3.3-2.
Table 5.16.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EcsAddressProvision M 1 Parameters to
create a confirguation to provision ECS address.
* * *
Table 5.16.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsAdd | M | 1 | 201 Created | The | | ressProvision | | | | configuration | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-ecs-
address-provision/v1/{afId}/configurations/{configurationId}
* * *
#### 5.16.1.3 Resource: Individual ECS Address Provision Configuration
##### 5.16.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing Individual ECS
Address Provision Configuration.
##### 5.16.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ecs-address-
provision/v1/{afId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.16.1.3.2-1.
Table 5.16.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. configurationId string Identifier of the
configuration resource.
* * *
##### 5.16.1.3.3 Resource Methods
###### 5.16.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.16.1.3.2.
###### 5.16.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and a
given configuration Id. The AF shall initiate the HTTP GET request message and
the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.16.1.3.3.2-1.
Table 5.16.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.16.1.3.3.2-2 and the response data structures and response codes specified
in table 5.16.1.3.3.2-3.
Table 5.16.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.16.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsAdd | M | 1 | 200 OK | The | | ressProvision | | | | information | | | | | | for the | | | | | | configuration | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.16.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.16.1.3.3.3 PUT
The PUT method is used to replace an existing Individual ECS Address Provision
Configuration. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.16.1.3.3.3-1 and the response data structures and response codes specified
in table 5.16.1.3.3.3-2.
Table 5.16.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description EcsAddressProvision M 1 Replace an
existing Individual ECS Address Provision Configuration.
* * *
Table 5.16.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsAdd | M | 1 | 200 OK | The | | ressProvision | | | | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.16.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.16.1.3.3.4 DELETE
The DELETE method deletes an existing Individual ECS Address Provision
Configuration. The AF shall initiate the HTTP DELETE request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.4-1.
Table 5.7.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.4-2 and the response data structures and response codes specified in
table 5.7.1.3.3.4-3.
Table 5.7.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.16.1A Notifications
Notifications are not applicable to this API.
### 5.16.2 Data Model
#### 5.16.2.1 General
This clause specifies the application data model supported by the
EcsAddressProvision API.
Table 5.16.2.1-1 specifies the data types defined for the EcsAddressProvision
API.
Table 5.16.2.1-1: EcsAddressProvision API specific Data Types
* * *
Data type Clause defined Description Applicability EcsAddressProvision
5.16.2.3.2 Represents ECS address provision configuration information.
* * *
#### 5.16.2.2 Reused data types
The data types reused by the EcsAddressProvision API from other specifications
are listed in table 5.16.2.2-1.
Table 5.16.2.2-1: Re-used Data Types
* * *
Data type Reference Comments EcsServerAddr 3GPP TS 29.571 [8]  
Link 3GPP TS 29.122 [4] Identifies a referenced resource. SpatialValidityCond
3GPP TS 29.571 [8]  
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.16.3-1.
* * *
#### 5.16.2.3 Structured data types
##### 5.16.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.16.2.3.2 Type: EcsAddressProvision
Table 5.16.2.3.2-1: Definition of type EcsAddressProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | conf | | | | | | | iguration | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecsS | EcsS | M | 1 | R | | | erverAddr | erverAddr | | | epresents | | | | | | | the ECS | | | | | | | add | | | | | | | ress(es). | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | O | 0..1 | Spatial | | | patialVal | patialVal | | | validity | | | idityCond | idityCond | | | c | | | | | | | ondition. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtUe | T | O | 0..1 | Target UE | | | | argetUeId | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.16.2.4 Simple data types and enumerations
##### 5.16.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.16.2.4.2 Simple data types
The simple data types defined in table 5.16.2.4.2-1 shall be supported.
Table 5.16.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.16.3 Used Features
The table below defines the features applicable to the EcsAddressProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.16.3-1: Features used by EcsAddressProvision API
* * *
Feature number Feature Name Description
* * *
### 5.16.4 Error handling
#### 5.16.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.16.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the EcsAddressProvision API.
#### 5.16.4.3 Application Errors
The application errors defined for EcsAddressProvision API are listed in table
5.16.4.3-1.
Table 5.16.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
5.17 AMPolicyAuthorization API
5.17.1 Resources
#### 5.17.1.1 Overview
All resource URIs of this API should have the following root:
> **{apiRoot}/3gpp-am-policyauthorization/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-am-policyauthorization\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the clauses below are defined relative to the
above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.17.1.1-1 and the resources and HTTP methods used for the
AMPolicyAuthorization API.
Figure 5.17.1.1-1: Resource URI structure of the AMPolicyAuthorization API
Table 5.17.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AMPolicyAuthorization API.
Table 5.17.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Application AM Contexts
/{afId}/app-am-contexts POST Create a new Individual application AM context
resource and may create the child AM Policy Events Subscription sub-resource.
Individual application AM Context /{afId}/app-am-contexts/{appAmContextId} GET
Reads an existing Individual application AM context resource. PATCH Updates an
existing Individual application AM context resource. It can also create or
update an AM Policy Events Subscription sub-resource. DELETE Deletes an
existing Individual application AM context resource and the child AM Policy
Events Subscription sub-resource. AM Policy Events Subscription /{afId}/app-
am-contexts/{appAmContextId}/events-subscription PUT Creates a new AM Policy
Events Subscription sub-resource or modifies an existing AM Policy Events
Subscription sub-resource. DELETE Deletes an AM Policy Events Subscription
sub-resource.
* * *
5.17.1.2 Resource: Application AM Contexts
5.17.1.2.1 Introduction
This resource allows an AF to request the creation of a new Individual
application AM context resource.
5.17.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts**
This resource shall support the resource URI variables defined in table
5.17.1.2.2-1.
Table 5.17.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
5.17.1.2.3 Resource Methods
5.17.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.17.1.2.2.
5.17.1.2.3.2 POST
The POST method creates a new resource to Individual application AM context
for a given AF. The AF shall initiate the HTTP POST request message and the
NEF shall respond to the message. The NEF shall construct the URI of the
created resource.
This method shall support the request data structures specified in table
5.17.1.2.3.2-1 and shall support the response data structures and response
codes specified in table 5.17.1.2.3.2-2.
Table 5.17.1.2.3.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AppAmContextExpData M 1 Contains the
exposure information for the creation of a new Individual application AM
context resource.
* * *
Table 5.17.1.2.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AppAmConte | M | 1 | 201 Created | Successful | | xtExpRespData | | | | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | application | | | | | | AM context | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | c | | | | | | lause 5.17.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.17.1.2.3.2-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-am-
policyauthorization/v1/{afId}/ app-am-contexts/{appAmContextId}
* * *
5.17.1.3 Resource: Individual Application AM Context
5.17.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing Individual
application AM context.
5.17.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}**
This resource shall support the resource URI variables defined in table
5.17.1.3.2-1.
**Table 5.17.1.3.2-1: Resource URI variables for this resource**
* * *
**Name** **Data type** **Definition** apiRoot string Clause 5.2.4 of 3GPP TS
29.122 [4]. afId string Identifier of the AF. appAmContextId string Identifier
of the application AM context formatted according to IETF RFC 3986 [44].
* * *
5.17.1.3.3 Resource Methods
5.17.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.17.1.3.2.
5.17.1.3.3.2 GET
The GET method allows to read the existing application AM context for a given
AF and a given application AM context Id. The AF shall initiate the HTTP GET
request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.3.3.2-1.
**Table 5.17.1.3.3.2-1: URI query parameters supported by the GET method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.17.1.3.3.2-2, the response data structures and response codes specified in
table 5.17.1.3.3.2-3 and the Location Headers specified in table
5.17.1.3.3.2-4 and table 5.17.1.3.3.2-5.
**Table 5.17.1.3.3.2-2: Data structures supported by the GET** Request Body on
this resource
* * *
**Data type** **P** **Cardinality** **Description** N/A
* * *
**Table 5.17.1.3.3.2-3: Data structures supported by the GET** Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | AppAmCo | M | 1 | 200 OK | Successful | | ntextExpData | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of an | | | | | | existing | | | | | | Individual | | | | | | application | | | | | | AM context | | | | | | in the | | | | | | request URI | | | | | | is returned. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | retrieval. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | retrieval. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table** 5.17.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table** 5.17.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.1.3.3.3 PATCH
The PATCH method is used to modify an existing Individual application AM
context. The AF shall initiate the HTTP PATCH request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.3.3.3-1.
Table 5.17.1.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.17.1.3.3.3-2, the response data structures and response codes specified in
table 5.17.1.3.3.3-3 and the Location Headers specified in table
5.17.1.3.3.3-4 and table 5.17.1.3.3.3-5.
**Table 5.17.1.3.3.3-2: Data structures supported by the PATCH** Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** AppAmContextExpUpdateData
M 1 Contains the modification(s) to be applied to the Individual application
AM context resource.
* * *
**Table 5.17.1.3.3.3-3: Data structures supported by the PATCH** Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | AppAmContex | M | 1 | 200 OK | Successful | | tExpRespData | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of the | | | | | | updated | | | | | | application | | | | | | AM context. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 204 No | The | | | | | Content | application | | | | | | AM context | | | | | | was updated | | | | | | s | | | | | | uccessfully. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | m | | | | | | odification. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | m | | | | | | odification. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 400 Bad | (NOTE 2) | | oblemDetails | | | Request | | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table** 5.17.1.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table** 5.17.1.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.1.3.3.4 DELETE
The DELETE method deletes an existing Individual application AM context. The
AF shall initiate the HTTP DELETE request message and the NEF shall respond to
the message.
This method shall support the URI query parameters specified in table
5.17.1.3.3.4-1.
**Table 5.17.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.17.1.3.3.4-2 and the response data structures and response codes specified
in table 5.17.1.3.3.4-3, and the Location Headers specified in table
5.17.1.3.3.4-4 and table 5.17.1.3.3.4-5.
**Table 5.17.1.3.3.4-2: Data structures supported by the DELETE** Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** N/A
* * *
**Table 5.17.1.3.3.4-3: Data structures supported by the DELETE** Response
Body on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The | | | | | | application | | | | | | AM context | | | | | | was | | | | | | terminated | | | | | | s | | | | | | uccessfully. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | termination. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | termination. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table** 5.17.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table** 5.17.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.1.4 Resource: AM Policy Events Subscription
5.17.1.4.1 Introduction
This resource allows an AF to create a new AM policy events subscription sub-
resource or modifies an existing AM policy events subscription sub-resource.
5.17.1.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}/events-subscription**
This sub-resource shall support the resource URI variables defined in table
5.17.1.4.2-1.
Table 5.17.1.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. appAmContextId string Identifier of the
application AM context formatted according to IETF RFC 3986 [44].
* * *
5.17.1.4.3 Resource Methods
5.17.1.4.3.1 General
The following clauses specify the resource methods supported by the sub-
resource as described in clause 5.17.1.4.2.
5.17.1.4.3.2 PUT
The PUT method allows to create a new AM policy events subscription sub-
resource in an existing application AM context or modifies an existing AM
policy events subscription sub-resource. The AF shall initiate the HTTP PUT
request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.4.3.2-1.
Table 5.17.1.4.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.17.1.4.3.2-2, the response data structures and response codes specified in
table 5.17.1.4.3.2-3 and the Location Headers specified in table
5.17.1.4.3.2-4, table 5.17.1.4.3.2-5 and table 5.17.1.4.3.2-6.
Table 5.17.1.4.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AmEventsSubscData M 1 Contains the
information for the creation and/or modification of the AM Policy Events
Subscription.
* * *
Table 5.17.1.4.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmEvents | M | 1 | 201 Created | Successful | | SubscRespData | | | | case. | | | | | | | | | | | | The AM policy | | | | | | events | | | | | | subscription | | | | | | sub-resource | | | | | | was created. | | | | | | The | | | | | | r | | | | | | epresentation | | | | | | of the AM | | | | | | Policy Events | | | | | | Subscription | | | | | | sub-resource | | | | | | is included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEv | | | | | | entsSubscData | | | | | | data type. | | | | | | The one or | | | | | | more matched | | | | | | events, if | | | | | | available, | | | | | | are included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEvent | | | | | | sNotification | | | | | | data type. | +---------------+---+-------------+---------------+---------------+ | AmEvents | M | 1 | 200 OK | Successful | | SubscRespData | | | | case. | | | | | | | | | | | | The AM policy | | | | | | events | | | | | | subscription | | | | | | sub-resource | | | | | | was modified | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | sub-resource | | | | | | is returned. | | | | | | The | | | | | | r | | | | | | epresentation | | | | | | of the AM | | | | | | Policy Events | | | | | | Subscription | | | | | | sub-resource | | | | | | is included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEv | | | | | | entsSubscData | | | | | | data type. | | | | | | The one or | | | | | | more matched | | | | | | events, if | | | | | | available, | | | | | | are included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEvent | | | | | | sNotification | | | | | | data type. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The AM policy | | | | | | events | | | | | | subscription | | | | | | sub-resource | | | | | | was modified | | | | | | successfully, | | | | | | with no | | | | | | content to be | | | | | | sent in the | | | | | | response | | | | | | message body. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the AM | | | | | | policy events | | | | | | subscription | | | | | | or | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the AM | | | | | | policy events | | | | | | subscription | | | | | | or | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | c | | | | | | lause 5.17.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.17.1.4.3.2-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description
Location String M 1 Contains the URI of the resource in which an AM policy
events subscription sub-resource has been created, according to the
structure:\ {apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}/events-subscription
* * *
Table 5.17.1.4.3.2-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.17.1.4.3.2-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
5.17.1.4.3.3 DELETE
The DELETE method deletes existing subscribed AM policy event(s) within the
existing Individual application AM context. The AF shall initiate the HTTP
DELETE request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.4.3.3-1.
**Table 5.17.1.4.3.3-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.17.1.4.3.3-2 and the response data structures and response codes specified
in table 5.17.1.4.3.3-3 and the Location Headers specified in table
5.17.1.4.3.3-4 and table 5.17.1.4.3.3-5.
**Table 5.17.1.4.3.3-2: Data structures supported by the DELETE** Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** N/A
* * *
**Table 5.17.1.4.3.3-3: Data structures supported by the DELETE** Response
Body on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The AM | | | | | | policy | | | | | | event(s) | | | | | | subscription | | | | | | resource is | | | | | | deleted. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM policy | | | | | | events | | | | | | deletion. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM policy | | | | | | events | | | | | | deletion. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table** 5.17.1.4.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table** 5.17.1.4.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.2 Notifications
#### 5.17.2.1 Introduction
Upon receipt of AM Event Notification from the PCF indicating the subscribed
AM policy event is detected, the NEF shall send an HTTP POST message including
the notified AM policy event to the AF. The NEF and the AF shall support the
notification mechanism as described in clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.17.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | AM Event | { | POST | The AM policy | | Notification | eventNotifUri} | | changes event | | | | | notification | | | | | is provided by | | | | | the NEF to the | | | | | AF. | +----------------+----------------+----------------+----------------+
#### 5.17.2.2 AM Event Notification
##### 5.17.2.2.1 Description
The AM Event Notification is used by the NEF to report one or several observed
AM policy change events to AF that has subscribed to such Notifications via
the AM policy events subscription sub-resource.
##### 5.17.2.2.2 Callback URI
The Callback URI **\"{eventNotifUri}\"** shall be used with the callback URI
variables defined in table 5.17.2.2.2-1.
Table 5.17.2.2.2-1: Callback URI variables
* * *
Name Definition eventNotifUri Callback reference provided by the AF during
creation/modification of the subscription within the AM policy events
subscription sub-resource as defined in Table 5.17.3.3.2-1 or Table
5.17.3.3.3-1 or Table 5.6.2.4-1 of 3GPP TS 29.534 [43].
* * *
##### 5.17.2.2.3 Operation Definition
###### 5.17.2.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.17.2.2.3.1-1 and the response data structures and response codes specified
in table 5.17.2.2.3.1-2 and the Location Headers specified in table
5.17.2.2.3.1-3 and table 5.17.2.2.3.1-4.
Table 5.17.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AmEventsNotification M 1 Provides
information about the observed access and mobility policy change events by the
NEF to the AF.
* * *
Table 5.17.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.17.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.17.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.17.2.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the AM Event
Notification may alternatively be delivered through the Websocket mechanism as
defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
5.17.3 Data Model
5.17.3.1 General
This clause specifies the application data model supported by the
AMPolicyAuthorization API.
Table 5.17.3.1-1 specifies the data types defined for the
AMPolicyAuthorization API.
Table 5.17.3.1-1: AMPolicyAuthorization API specific Data Types
* * *
Data type Clause defined Description Applicability AppAmContextExpData
5.17.3.3.2 Represents an Individual application AM context exposure resource.  
AppAmContextExpRespData 5.17.3.5.1 Represents a response to a modification or
creation request of an Individual Application AM context resource. It may
contain the notification of the already met events.  
AppAmContextExpUpdateData 5.17.3.3.3 Contains the modification(s) to be
applied to the Individual application AM context exposure resource.  
GeographicalArea 5.17.3.3.4 Contains geographical area information (e.g. a
civic address or shapes).
* * *
5.17.3.2 Reused data types
The data types reused by the AMPolicyAuthorization API from other
specifications are listed in table 5.17.3.2-1.
**Table 5.17.3**.2-1: Re-used Data Types
* * *
Data type Reference Comments AmEventsNotification 3GPP TS 29.534 [43]
Describes the notification about the events occurred within an Individual
application AM context resource. AmEventsSubscData 3GPP TS 29.534 [43]
Identifies the AM policy events the application subscribes to.
AmEventsSubscDataRm 3GPP TS 29.534 [43] This data type is defined in the same
way as the \"AmEventsSubscData\" data type, but with the OpenAPI \"nullable:
true\" property. AmEventsSubscRespData 3GPP TS 29.534 [43] It represents a
response to an AM policy events subscription request and contains the
created/updated AM Policy Events Subscription resource. It may also include
the Notification of the events met at the time of subscription. CivicAddress
3GPP TS 29.572 [34] Identifies the civic address. DurationSec 3GPP TS 29.122
[4] Indicates the time duration. DurationSecRm 3GPP TS 29.122 [4] Indicates
the time duration, same as the \"DurationSec\" data type, but with the OpenAPI
\"nullable: true\" property. GeographicArea 3GPP TS 29.572 [34] Identifies the
geographical information with shapes. Gpsi 3GPP TS 29.571 [8] Identifies a
GPSI. Link 3GPP TS 29.122 [4] Identifies a referenced resource.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.17.4-1. WebsockNotifConfig 3GPP TS
29.122 [4] Contains the configuration parameters to set up notification
delivery over Websocket protocol.
* * *
5.17.3.3 Structured data types
5.17.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.17.3.3.2 Type: AppAmContextExpData
Table 5.17.3.3.2-1: Definition of type AppAmContextExpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | conf | | | | | | | iguration | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | evSubscs | AmEvents | O | 0..1 | R | | | | SubscData | | | epresents | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | to one or | | | | | | | more AM | | | | | | | policy | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | M | 1 | I | | | | | | | dentifies | | | | | | | the GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | hi | boolean | C | 0..1 | Indicates | | | ghThruInd | | | | whether | | | | | | | high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired | | | | | | | for the | | | | | | | indicated | | | | | | | UE | | | | | | | traffic. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | covReqs | array | C | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | the | | | | | | | allowed | | | | | | | geo | | | | | | | graphical | | | | | | | areas. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | polic | Du | O | 0..1 | Indicates | | | yDuration | rationSec | | | the time | | | | | | | duration | | | | | | | that the | | | | | | | policy | | | | | | | shall | | | | | | | last. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | f | | | | | | | eatures.. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | supplied | | | | | | | by the AF | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requests | | | | | | | a | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | ap | | | | | | | plication | | | | | | | AM | | | | | | | context | | | | | | | resource. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | the | | | | | | | response | | | | | | | to the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requests | | | | | | | a | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | ap | | | | | | | plication | | | | | | | AM | | | | | | | context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | \"high | | | | | | | ThruInd\" | | | | | | | attribute | | | | | | | or | | | | | | | \" | | | | | | | covReqs\" | | | | | | | attribute | | | | | | | or both | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.17.3.3.3 Type: AppAmContextExpUpdateData
Table 5.17.3.3.3-1: Definition of type AppAmContextExpUpdateData
* * *
Attribute name Data type P Cardinality Description Applicability evSubscs
AmEventsSubscDataRm O 0..1 Represents the subscription to one or more AM
policy events.  
highThruInd boolean O 0..1 Indicates whether high throughput is desired for
the indicated UE traffic. Set to \"true\" if high throughput is desired;
otherwise set to \"false\".  
covReqs array(GeographicalArea) O 1..N Identifies the allowed geographical
areas. (NOTE)  
policyDuration DurationSecRm O 0..1 Indicates the time duration that the
policy shall last.  
NOTE: The value of the property shall be set to NULL for removal.
* * *
##### 5.17.3.3.4 Type: GeographicalArea
Table 5.17.3.3.4-1: Definition of type GeographicalArea
* * *
Attribute name Data type P Cardinality Description Applicability civicAddress
CivicAddress C 0..1 Identifies a civic address.  
shapes GeographicArea C 0..1 Identifies a geographic area specified by
different shapes.  
NOTE: One of \"civicAddress\" attribute or \"shapes\" attribute shall be
included.
* * *
5.17.3.4 Simple data types and enumerations
5.17.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
5.17.3.4.2 Simple data types
The simple data types defined in table 5.17.3.4.2-1 shall be supported.
**Table 5.17.3**.4.2-1: Simple data types
* * *
**Type Name** **Type Definition** **Description** **Applicability**
* * *
#### 5.17.3.5 Data types describing alternative data types or combinations of
data types
##### 5.17.3.5.1 Type: AppAmContextExpRespData
Table 5.17.3.5.1-1: Definition of type AppAmContextExpRespData as a list of
non-exclusive alternatives
* * *
Data type Cardinality Description Applicability AmEventsNotification 0..1 It
represents the notification of a match event during the creation or
modification of the Individual application AM context data.  
AppAmContextExpData 1 It represents the Individual application AM context
resource.
* * *
5.17.4 Used Features
The table below defines the features applicable to the AMPolicyControl API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
**Table 5.17.4-1: Features used by AMP** olicyAuthorization API
* * *
**Feature number** **Feature Name** **Description** 1 Notification_websocket
The delivery of notifications over Websocket is supported as described in 3GPP
TS 29.122 [4]. This feature requires that the Notification_test_event feature
is also supported. 2 Notification_test_event The testing of notification
connection is supported as described in 3GPP TS 29.122 [4].
* * *
### 5.17.5 Error handling
#### 5.17.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.17.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AMPolicyAuthorization API.
#### 5.17.5.3 Application Errors
The application errors defined for the AMPolicyAuthorization API are listed in
table 5.17.5.3-1.
Table 5.17.5.3-1: Application errors
* * *
Application Error HTTP status code Description INVALID_POLICY_REQUEST 400 Bad
Request The HTTP request is rejected because the service information for the
AM context is invalid or insufficient for the PCF to perform the requested
action. APPLICATION_AM_CONTEXT_NOT_FOUND 404 Not Found The HTTP request is
rejected because the specified Individual Application AM Context does not
exist. POLICY_ASSOCIATION_NOT_AVAILABLE 500 Internal Server Error The PCF
failed in executing binding with the UE/AM Policy Context.
* * *
## 5.18 AMInfluence API
### 5.18.1 Resources
#### 5.18.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-am-influence/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-am-influence\" and \"apiVersion\" shall be
set to \"v1\" for the current version defined in the present document. All
resource URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.18.1.1-1 and the resources and HTTP methods used for the AMInfluence API.
Figure 5.18.1.1-1: Resource URI structure of the AMInfluence API
Table 5.18.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AMInfluence API.
Table 5.18.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description AM Influence Subscription
/{afId}/subscriptions GET Read all subscriptions for a given AF. POST Create a
new subscription to AM influence. Individual AM Influence Subscription
/{afId}/subscriptions/{subscriptionId} GET Read a subscription to AM
influence. PUT Modify all of the properties of an existing subscription to AM
influence. PATCH Modify part of the properties of an existing subscription to
AM influence. DELETE Delete a subscription to AM influence.
* * *
#### 5.18.1.2 Resource: AM Influence Subscription
##### 5.18.1.2.1 Introduction
This resource allows an AF to read all active AM influence subscribtions and
create a new subscription resource for a given AF.
##### 5.18.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-influence/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.18.1.2.2-1.
Table 5.18.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.18.1.2.3 Resource Methods
###### 5.18.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.18.1.2.2.
###### 5.18.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.18.1.2.3.2-1.
Table 5.18.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.18.1.2.3.2-2 and the response data structures and response codes specified
in table 5.18.1.2.3.2-3.
Table 5.18.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.18.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 0..N | 200 OK | The | | y(AmInfluSub) | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.2.3.3 POST
The POST method creates a new subscription resource to AM influence
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.18.1.2.3.3-1 and the response data structures and response codes specified
in table 5.18.1.2.3.3-2.
Table 5.18.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluSub M 1 Parameters to create a
resource for the AM Influence and/or notification about service area coverage
outcome events with the NEF.
* * *
Table 5.18.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 201 Created | The | | | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-am-
Influence/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.18.1.3 Resource: Individual AM Influence Subscription
##### 5.18.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing AM Influence
subscription.
##### 5.18.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-
influence/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.18.1.3.2-1.
Table 5.18.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.18.1.3.3 Resource Methods
###### 5.18.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.18.1.3.2.
###### 5.18.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.18.1.3.3.2-1.
Table 5.18.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.18.1.3.3.2-2 and the response data structures and response codes specified
in table 5.18.1.3.3.2-3.
Table 5.18.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.18.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.3.3.3 PUT
The PUT method is used to replace an existing subscription resource to update
a subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.18.1.3.3.3-1 and the response data structures and response codes specified
in table 5.18.1.3.3.3-2.
Table 5.18.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluSub M 1 Modify an existing AM
Influence subscription.
* * *
Table 5.18.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | was replaced | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was replaced | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.3.3.4 PATCH
The PATCH method allows to change some properties of an existing AM influence
subscription. The AF shall initiate the HTTP PATCH request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.18.1.3.3.4-1 and the response data structures and response codes specified
in table 5.18.1.3.3.4-2.
Table 5.18.1.3.3.4-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluSubPatch M 1 Partial update of a
subscription to AM influence and/or notifications about service area coverage
outcome events with the NEF.
* * *
Table 5.18.1.3.3.4-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.4-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.4-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.3.3.5 DELETE
The DELETE method deletes an existing individual AM influence subscription for
a given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.18.1.3.3.5-1.
Table 5.18.1.3.3.5-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.18.1.3.3.5-2 and the response data structures and response codes specified
in table 5.18.1.3.3.5-3.
Table 5.18.1.3.3.5-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.18.1.3.3.5-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.5-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.5-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.18.2 Notifications
#### 5.18.2.1 Introduction
Upon receipt of a service area coverage outcome event from the PCF, the NEF
shall send an HTTP POST message including the notified event to the AF.The NEF
and the AF shall support the notification mechanism as described in clause
5.2.5 of 3GPP TS 29.122 [4].
Table 5.18.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {notificati | POST | The service | | Notification | onDestination} | | area coverage | | | | | outcome event | | | | | from the NEF | | | | | to the AF. | +----------------+----------------+----------------+----------------+
#### 5.18.2.2 Event Notification
##### 5.18.2.2.1 Description
The Event Notification is used by the NEF to report notification of the
service area coverage outcome event from the PCF to the AF.
##### 5.18.2.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.18.2.2.2-1.
Table 5.18.2.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
AmInfluSub data type as defined in Table 5.18.3.3.2-1 or the AmInfluSubPatch
data type as defined in Table 5.18.3.3.3-1.
* * *
##### 5.18.2.2.3 Operation Definition
##### 5.18.2.2.3.1 Notification via HTTP POST {#notification-via-http-post-8
.H6}
This method shall support the request data structures specified in table
5.18.2.2.3.1-1 and the response data structures and response codes specified
in table 5.18.2.2.3.1-2.
Table 5.18.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluEventNotif M 1 The service area
coverage outcome event notification is provided by the NEF to the AF.
* * *
Table 5.18.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.18.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.18.2.2.3.2 Notification via Websocket {#notification-via-websocket-6
.H6}
If supported by both AF and NEF and successfully negotiated, the
AmInfluEventNotif may alternatively be delivered through the Websocket
mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.18.3 Data Model
#### 5.18.3.1 General
This clause specifies the application data model supported by the AMInfluence
API.
Table 5.18.3.1-1 specifies the data types defined for the AMInfluence API.
Table 5.18.3.1-1: AMInfluence API specific Data Types
* * *
Data type Clause defined Description Applicability AmInfluEvent 5.18.3.4.3
Represents the service area coverage outcome event.  
AmInfluEventNotif 5.18.3.3.4 Represents an AM influence event notification.  
AmInfluSub 5.18.3.3.2 Represents an AM influence subscription.  
AmInfluSubPatch 5.18.3.3.3 Represents parameters to request the modification
of an AM influence subscription resource.  
DnnSnssaiInformation 5.18.3.3.5 Represents a (DNN, SNSSAI) combination.
* * *
#### 5.18.3.2 Reused data types
The data types reused by the AMInfluence API from other specifications are
listed in table 5.18.3.2-1.
Table 5.18.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
DurationSec 3GPP TS 29.122 [4] Indicates the time duration. DurationSecRm 3GPP
TS 29.122 [4] Indicates the time duration, same as the \"DurationSec\" data
type, but with the OpenAPI \"nullable: true\" property. ExternalGroupId 3GPP
TS 29.122 [4] External Group Identifier for a user group. GeographicalArea
5.17.3.3.4 Identifies the geographical area information. Gpsi 3GPP TS 29.571
[8] Identifies a GPSI. LinkRm 3GPP TS 29.122 [4] Indicates a referenced
resource, same as the \"Link\" data type, but with the OpenAPI \"nullable:
true\" property. Link 3GPP TS 29.122 [4] Identifies a referenced resource.
Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS
29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.18.4-1. WebsockNotifConfig 3GPP TS 29.122 [4] Contains the
configuration parameters to set up notification delivery over Websocket
protocol.
* * *
#### 5.18.3.3 Structured data types
##### 5.18.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.18.3.3.2 Type: AmInfluSub
This type represents an AM influence subscription. The same structure is used
in the subscription request and subscription response.
Table 5.18.3.3.2-1: Definition of type AMInfluSub
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | M | 1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tr | | | | | | | ansaction | | | | | | | request, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user | | | | | | | with | | | | | | | GPSI. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of users. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSn | array(Dnn | O | 1..N | Each of | | | ssaiInfos | SnssaiInf | | | the | | | | ormation) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a | | | | | | | co | | | | | | | mbination | | | | | | | of (DNN, | | | | | | | S-NSSAI). | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppIds | arra | O | 1..N | I | | | | y(string) | | | dentifies | | | | | | | applic | | | | | | | ation(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | hi | boolean | C | 0..1 | Indicates | | | ghThruInd | | | | whether | | | | | | | high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired | | | | | | | for UE | | | | | | | traffic. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | C | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas of | | | | | | | the user | | | | | | | where the | | | | | | | request | | | | | | | is | | | | | | | ap | | | | | | | plicable. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | polic | Du | O | 0..1 | Indicates | | | yDuration | rationSec | | | the time | | | | | | | duration | | | | | | | that the | | | | | | | policy | | | | | | | shall | | | | | | | last. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | Link to | | | | | | | the | | | | | | | created | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | A | | | | | | | mInfluSub | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | a | O | 1..N | I | | | bedEvents | rray(AmIn | | | dentifies | | | | fluEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | C | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.18.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.18.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If target | | | | | | | to any | | | | | | | UE, then | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | together | | | | | | | with | | | | | | | \"dnnSnss | | | | | | | aiInfos\" | | | | | | | attribute | | | | | | | or | | | | | | | \"a | | | | | | | fAppIds\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\" | | | | | | | at | | | | | | | tribute), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \" | | | | | | | externalG | | | | | | | roupId\") | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 4: | | | | | | | Any of | | | | | | | the | | | | | | | \"high | | | | | | | ThruInd\" | | | | | | | attribute | | | | | | | or | | | | | | | \"g | | | | | | | eoAreas\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.18.3.3.3 Type: AmInfluSubPatch
This type represents AM influence subscription parameters provided by the AF
to the NEF. The structure is used for HTTP PATCH request.
Table 5.18.3.3.3-1: Definition of type AmInfluSubPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | hi | boolean | O | 0..1 | Indicates | | | ghThruInd | | | | whether | | | | | | | high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired | | | | | | | for UE | | | | | | | traffic. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | O | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas of | | | | | | | the user | | | | | | | where the | | | | | | | UE is | | | | | | | located. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | polic | Dura | O | 0..1 | Indicates | | | yDuration | tionSecRm | | | the time | | | | | | | duration | | | | | | | that the | | | | | | | policy | | | | | | | shall | | | | | | | last. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSn | array(Dnn | O | 1..N | Each of | | | ssaiInfos | SnssaiInf | | | the | | | | ormation) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a | | | | | | | co | | | | | | | mbination | | | | | | | of (DNN, | | | | | | | S-NSSAI). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | a | O | 1..N | I | | | bedEvents | rray(AmIn | | | dentifies | | | | fluEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | LinkRm | O | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppIds | arra | O | 1..N | I | | | | y(string) | | | dentifies | | | | | | | applic | | | | | | | ation(s). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The value | | | | | | | of the | | | | | | | property | | | | | | | shall be | | | | | | | set to | | | | | | | NULL for | | | | | | | removal. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | notif | | | | | | | icationDe | | | | | | | stination | | | | | | | attribute | | | | | | | set to | | | | | | | NULL may | | | | | | | be | | | | | | | included | | | | | | | only if | | | | | | | the | | | | | | | subscri | | | | | | | bedEvents | | | | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | and set | | | | | | | to NULL. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.18.3.3.4 Type: AmInfluEventNotif
Table 5.18.3.3.4-1: Definition of type AmInfluEventNotif
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the AF | | | | | | | request | | | | | | | for AM | | | | | | | policy | | | | | | | influence | | | | | | | that the | | | | | | | event | | | | | | | report is | | | | | | | related | | | | | | | to. | | +-----------+-----------+---+-----------+-----------+-----------+ | event | AmI | M | 1 | Notified | | | | nfluEvent | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | C | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas of | | | | | | | the user | | | | | | | where the | | | | | | | UE is | | | | | | | located. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.18.3.3.5 Type: DnnSnssaiInformation
Table 5.18.3.3.5-1: Definition of type DnnSnssaiInformation
* * *
Attribute name Data type P Cardinality Description Applicability dnn Dnn O
0..1 Identifies a DNN, a full DNN with both the Network Identifier and
Operator Identifier, or a DNN with the Network Identifier only.  
snssai Snssai O 0..1 Identifies an S-NSSAI.
* * *
#### 5.18.3.4 Simple data types and enumerations
##### 5.18.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.18.3.4.2 Simple data types
The simple data types defined in table 5.18.3.4.2-1 shall be supported.
Table 5.18.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.18.3.4.3 Enumeration: AmInfluEvent
The enumeration AmInfluEvent represents the service area coverage outcome
event. It shall comply with the provisions defined in table 5.18.3.4.3-1.
Table 5.18.3.4.3-1: Enumeration AmInfluEvent
* * *
Enumeration value Description SERVICE_AREA_COVRG_OUTCOME Indicates the service
area coverage outcome.
* * *
### 5.18.4 Used Features
The table below defines the features applicable to the AMInfluence API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.18.4-1: Features used by AMInfluence API
+----------------------+----------------------+----------------------+ | Feature number | Feature Name | Description | +----------------------+----------------------+----------------------+ | 1 | Not | The delivery of | | | ification_websocket | notifications over | | | | Websocket is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | | | | This feature | | | | requires that the | | | | Notif | | | | ication_test_event | | | | feature is also | | | | supported. | +----------------------+----------------------+----------------------+ | 2 | Notif | The testing of | | | ication_test_event | notification | | | | connection is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | +----------------------+----------------------+----------------------+ | Feature: A short | | | | name that can be | | | | used to refer to the | | | | bit and to the | | | | feature, e.g. | | | | \"Notification\". | | | | | | | | Description: A clear | | | | textual description | | | | of the feature. | | | +----------------------+----------------------+----------------------+
### 5.18.5 Error handling
#### 5.18.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.18.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AMInfluence API.
#### 5.18.5.3 Application Errors
The application errors defined for AMInfluence API are listed in table
5.18.5.3-1.
Table 5.18.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.19 MBSTMGI API
### 5.19.1 Introduction
The Nnef_MBSTMGI service shall use the MBSTMGI API.
The API URI of MBSTMGI API shall be:
**{apiRoot}/3gpp-mbs-tmgi/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-tmgi\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.19.2 Resources
There are no resources defined for this API in this release of the
specification.
### 5.19.3 Custom Operations without associated resources
#### 5.19.3.1 Overview
The structure of the custom operation URIs of the MBSTMGI API is shown in
Figure 5.19.3.1-1.
Figure 5.19.3.1-1: Custom operation URI structure of the MBSTMGI API
Table 5.19.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.19.3.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description Allocate
/allocate POST Request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated TMGI(s). Deallocate
/deallocate POST Request the deallocation of TMGI(s).
* * *
#### 5.19.3.2 Operation: Allocate
##### 5.19.3.2.1 Description
The custom operation enables an AF to request the allocation of TMGI(s) for
new MBS session(s) or the refresh of the expiry time of already allocated
TMGI(s).
##### 5.19.3.2.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 5.19.3.2.2-1 and table 5.19.3.2.2-2.
Table 5.19.3.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description TmgiAllocRequest M 1 Represents the
parameters to request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated MBS TMGI(s).
* * *
Table 5.19.3.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tmgi | M | 1 | 200 OK | Successful | | AllocResponse | | | | case: The | | | | | | TMGI | | | | | | allocation | | | | | | information | | | | | | (e.g. | | | | | | allocated MBS | | | | | | TMGIs, expiry | | | | | | time) or the | | | | | | refreshed | | | | | | expiry time | | | | | | for the | | | | | | concerned | | | | | | already | | | | | | allocated MBS | | | | | | TMGI(s) | | | | | | is/are | | | | | | returned to | | | | | | the | | | | | | requesting | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.19.3.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.19.3.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
#### 5.19.3.3 Operation: Deallocate
##### 5.19.3.3.1 Description
The custom operation enables an AF to request the deallocation of TMGI(s).
##### 5.19.3.3.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 5.19.3.3.2-1 and table 5.19.3.3.2-2.
Table 5.19.3.3.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description TmgiDeallocRequest M 1 Represents the MBS
TMGI(s) deallocation request information (e.g. list of MBS TMGI(s) to be
deallocated).
* * *
Table 5.19.3.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case: The | | | | | | requested MBS | | | | | | TMGI(s) are | | | | | | deallocated. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.19.3.3.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.19.3.3.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
### 5.19.4 Notifications
#### 5.19.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.19.4.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Notification | {no | POST | Enable the NEF | | of Allocated | tificationUri} | | to notify an | | MBS TMGI(s) | | | AF of the | | Timer Expiry | | | timer expiry | | | | | for already | | | | | allocated MBS | | | | | TMGI(s). | +----------------+----------------+----------------+----------------+
#### 5.19.4.2 Notification of Allocated MBS TMGI(s) Timer Expiry
##### 5.19.4.2.1 Description
The Notification is used by the NEF to report timer expiry of already
allocated TMGI(s) to the AF.
##### 5.19.4.2.2 Target URI
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.19.4.2.2-1.
Table 5.19.4.2.2-1: Callback URI variables
* * *
Name Definition notificationUri Callback URIprovided by the AF during the MBS
TMGI(s) allocation or expiry time refresh request as defined in table
5.19.5.2.2-1.
* * *
##### 5.19.4.2.3 Operation Definition
###### 5.19.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.19.4.2.3.1-1 and the response data structures and response codes specified
in table 5.19.4.2.3.1-2.
Table 5.19.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ExpiryNotif M 1 Represents the MBS TMGI(s)
timer expiry notification information (e.g. list of MBS TMGI(s) for which the
timer has expired).
* * *
Table 5.19.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.19.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.19.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.19.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the Notification
of Allocated MBS TMGI(s) Timer Expiry may alternatively be delivered through
the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.19.5 Data Model
#### 5.19.5.1 General
This clause specifies the application data model supported by the MBSTMGI API.
Table 5.19.5.1-1 specifies the data types defined for the MBSTMGI API.
Table 5.19.5.1-1: MBSTMGI specific Data Types
* * *
Data type Clause defined Description Applicability TmgiAllocRequest 5.19.5.2.2
Represents the full set of parameters to initiate a TMGI(s) allocation request
or the refresh of the expiry time of already allocated TMGI(s).  
TmgiAllocResponse 5.19.5.2.3 Represents TMGI(s) allocation information or the
refreshed expiry time for already allocated TMGI(s).  
TmgiDeallocRequest 5.19.5.2.4 Represents information to request the
deallocation of TMGI(s).  
ExpiryNotif 5.19.5.2.5 Represents TMGI(s) timer expiry notification
information.
* * *
Table 5.19.5.1-2 specifies data types re-used by the MBSTMGI API from other
specifications, including a reference to their respective specifications and
when needed, a short description of their use within the MBSTMGI API.
Table 5.19.5.1-2: MBSTMGI API re-used Data Types
* * *
Data type Reference Comments Applicability ExternalMbsServiceArea 3GPP TS
29.571 [8] Represents an external MBS service area.  
MbsServiceArea 3GPP TS 29.571 [8] Represents an MBS service area.  
Tmgi 3GPP TS 29.571 [8] Contains a TMGI.  
TmgiAllocate 3GPP TS 29.532 [52] Contains parameters to initiate a TMGI(s)
allocation request or the refresh of the expiry time of already allocated
TMGI(s).  
TmgiAllocated 3GPP TS 29.532 [52] Contains the TMGI(s) allocation information
or the refreshed expiry time for already allocated TMGI(s).  
Uri 3GPP TS 29.122 [4] Contains a TMGI.  
WebsockNotifConfig 3GPP TS 29.122 [4] Contains the configuration parameters to
set up notification delivery over Websocket protocol.
* * *
#### 5.19.5.2 Structured data types
##### 5.19.5.2.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.19.5.2.2 Type: TmgiAllocRequest
Table 5.19.5.2.2-1: Definition of type TmgiAllocRequest
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Tmg | M | 1 | Contains | | | mgiParams | iAllocate | | | the | | | | | | | p | | | | | | | arameters | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | a | | | | | | | llocation | | | | | | | of | | | | | | | TMGI(s) | | | | | | | for new | | | | | | | MBS | | | | | | | s | | | | | | | ession(s) | | | | | | | or the | | | | | | | refresh | | | | | | | of the | | | | | | | expiry | | | | | | | time of | | | | | | | already | | | | | | | allocated | | | | | | | MBS | | | | | | | TMGI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | notifi | Uri | O | 0..1 | The | | | cationUri | | | | not | | | | | | | ification | | | | | | | URI via | | | | | | | which the | | | | | | | AF | | | | | | | desires | | | | | | | to | | | | | | | receive | | | | | | | noti | | | | | | | fications | | | | | | | on timer | | | | | | | expiry | | | | | | | for MBS | | | | | | | TMGI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSe | MbsSe | O | 0..1 | Indicates | | | rviceArea | rviceArea | | | the MBS | | | | | | | service | | | | | | | area for | | | | | | | the | | | | | | | TMGI(s) | | | | | | | to be | | | | | | | a | | | | | | | llocated. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | by the AF | | | | | | | for a | | | | | | | local MBS | | | | | | | service. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | extMbsSe | Exte | O | 0..1 | Indicates | | | rviceArea | rnalMbsSe | | | the | | | | rviceArea | | | external | | | | | | | MBS | | | | | | | service | | | | | | | area for | | | | | | | the | | | | | | | TMGI(s) | | | | | | | to be | | | | | | | a | | | | | | | llocated. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | by the AF | | | | | | | for a | | | | | | | local MBS | | | | | | | service. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Indicates | Notific | | stTestNot | | | | whether | ation_te | | ification | | | | sending a | st_event | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | shall be | | | | | | | p | | | | | | | erformed. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | by the AF | | | | | | | to | | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | | | | | | | | Set to | | | | | | | \"false\" | | | | | | | or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | R | Notif | | tifConfig | tifConfig | | | epresents | ication_ | | | | | | conf | websocket | | | | | | iguration | | | | | | | p | | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over the | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | features | | | | | | | supported | | | | | | | by the | | | | | | | AF. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | These | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | Either | | | | | | | one of | | | | | | | them may | | | | | | | be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.19.5.2.3 Type: TmgiAllocResponse
Table 5.19.5.2.3-1: Definition of type TmgiAllocResponse
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | tmgiInfo | Tmgi | M | 1 | Contains | | | | Allocated | | | the MBS | | | | | | | TMGI(s) | | | | | | | a | | | | | | | llocation | | | | | | | in | | | | | | | formation | | | | | | | or the | | | | | | | refreshed | | | | | | | expiry | | | | | | | time for | | | | | | | already | | | | | | | allocated | | | | | | | MBS | | | | | | | TMGI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place and | | | | | | | it was | | | | | | | provided | | | | | | | by the AF | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request | | | | | | | body. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.19.5.2.4 Type: TmgiDeallocRequest
Table 5.19.5.2.4-1: Definition of type TmgiDeallocRequest
* * *
Attribute name Data type P Cardinality Description Applicability afId string M
1 Contains the identifier of the AF that is sending the request.  
tmgis array(Tmgi) M 1..N Contains the list of TMGI(s) to be deallocated.
* * *
##### 5.19.5.2.5 Type: ExpiryNotif
Table 5.19.5.2.5-1: Definition of type ExpiryNotif
* * *
Attribute name Data type P Cardinality Description Applicability tmgis
array(Tmgi) M 1..N Contains the list of previously allocated MBS TMGI(s) for
which the timer expired.
* * *
#### 5.19.5.3 Simple data types and enumerations
##### 5.19.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.19.5.3.2 Simple data types
The simple data types defined in Table 5.19.5.3.2-1 shall be supported.
Table 5.19.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.19.6 Used Features
The table below defines the features applicable to the MBSTMGI API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.19.6-1: Features used by MBSTMGI API
* * *
Feature number Feature Name Description 1 Notification_websocket The delivery
of notifications over Websocket is supported as described in 3GPP TS 29.122
[4]. This feature requires that the Notification_test_event feature is also
supported. 2 Notification_test_event The testing of notification connection is
supported as described in 3GPP TS 29.122 [4].
* * *
### 5.19.7 Error handling
#### 5.19.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following subclauses shall apply.
#### 5.19.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSTMGI API.
#### 5.19.7.3 Application Errors
The application errors defined for the MBSTMGI API are listed in table
5.19.7.3-1.
Table 5.19.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.20 MBSSession API
### 5.20.1 Introduction
The Nnef_MBSSession service shall use the MBSSession API.
The API URI of MBSSession API shall be:
**{apiRoot}/3gpp-mbs-session/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-session\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.20.2 Resources
#### 5.20.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.20.2.1-1 and the resources and HTTP methods used for the MBSSession API.
Figure 5.20.2.1-1: Resource URI structure of the MBSSession API
Table 5.20.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.20.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS Sessions | /mbs-sessions | POST | Create an MBS | | | | | Session. | +----------------+----------------+----------------+----------------+ | Individual MBS | / | PATCH | Modify an | | Session | mbs-sessions/{ | | existing | | | mbsSessionRef} | | Individual MBS | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | MBS Session | /mbs-sessions | GET | Retrieve all | | Subscriptions | /subscriptions | | the MBS | | | | | Session | | | | | Subscriptions | +----------------+----------------+----------------+----------------+ | | | POST | Create an MBS | | | | | Session | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | Individual MBS | /m | GET | Retrieve an | | Session | bs-sessions/su | | existing | | Subscription | bscriptions/{s | | Individual MBS | | | ubscriptionId} | | Session | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | Session | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | MBS Parameters | /mbs-pp | GET | Retrieve all | | Provisionings | | | the MBS | | | | | Parameters | | | | | Provisioning | | | | | resources. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS | | | | | Parameters | | | | | Provisioning. | +----------------+----------------+----------------+----------------+ | Individual MBS | /mb | GET | Retrieve an | | Parameters | s-pp/{mbsPpId} | | existing | | Provisioning | | | individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Request the | | | | | update of an | | | | | existing | | | | | Individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PATCH | Request the | | | | | modification | | | | | of an existing | | | | | Individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Request the | | | | | deletion of an | | | | | existing | | | | | Individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+
#### 5.20.2.2 Resource: MBS sessions
##### 5.20.2.2.1 Introduction
This resource represents the collection of MBS sessions managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.20.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-sessions**
This resource shall support the resource URI variables defined in table
5.20.2.2.2-1.
Table 5.20.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1.
* * *
##### 5.20.2.2.3 Resource Methods
###### 5.20.2.2.3.1 POST
This method enables an AF to request the creation of an MBS session resource
at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.2.3.1-1.
Table 5.20.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability N/A
* * *
This method shall support the request data structures specified in table
5.20.2.2.3.1-2 and the response data structures and response codes specified
in table 5.20.2.2.3.1-3.
Table 5.20.2.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsSessionCreateReq M 1 Representation of
the MBS session to be created at the NEF.
* * *
Table 5.20.2.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsSes | M | 1 | 201 Created | Successful | | sionCreateRsp | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.20.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-mbs-
session/v1/mbs-sessions/{mbsSessionRef}
* * *
##### 5.20.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.3 Resource: Individual MBS Session
##### 5.20.2.3.1 Introduction
This resource represents an Individual MBS Session managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.20.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-sessions/{mbsSessionRef}**
This resource shall support the resource URI variables defined in table
5.20.2.3.2-1.
Table 5.20.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1. mbsSessionRef
string Contains the identifier of the Individual MBS Session resource assigned
by the NEF.
* * *
##### 5.20.2.3.3 Resource Standard Methods
###### 5.20.2.3.3.1 PATCH
The HTTP PATCH method enables an AF to request the modification of an existing
Individual MBS Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.3.3.1-1.
Table 5.20.2.3.3.1-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.3.3.1-2 and the response data structures and response codes specified
in table 5.20.2.3.3.1-3.
Table 5.20.2.3.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 Represents the list
of modifications to be applied to the concerned existing Individual MBS
Session resource, as specified in clause 4.6.1.1.3 of 3GPP TS 29.501 [32].
* * *
Table 5.20.2.3.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS Session | | | | | | resource was | | | | | | successfully | | | | | | modified. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.20.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.3.3.3 DELETE
This method enables an AF to request the deletion of an Individual MBS Session
resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.3.3.3-1.
Table 5.20.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.3.3.3-2 and the response data structures and response codes specified
in table 5.20.2.3.3.3-3.
Table 5.20.2.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS Session | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.20.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.20.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.4 Resource: MBS Session Subscriptions
##### 5.20.2.4.1 Introduction
This resource represents the collection of MBS Session Subscriptions managed
by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.20.2.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-sessions/subscriptions**
This resource shall support the resource URI variables defined in table
5.20.2.4.2-1.
Table 5.20.2.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1.
* * *
##### 5.20.2.4.3 Resource Methods
###### 5.20.2.4.3.1 GET
This method enables an AF to request to retrieve all the MBS Session
Subscription resources managed by the NEF.
This method shall support the URI query parameters specified in table
5.20.2.4.3.1-1.
Table 5.20.2.4.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.4.3.1-2 and the response data structures and response codes specified
in table 5.20.2.4.3.1-3.
Table 5.20.2.4.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.4.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Mbs | M | 0..N | 200 OK | Successful | | SessionSubsc) | | | | case. All the | | | | | | MBS Session | | | | | | Subscription | | | | | | resources | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.4.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.4.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.4.3.2 POST
This method enables an AF to request the creation of an MBS Session
Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.4.3.2-1.
Table 5.20.2.4.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.4.3.2-2 and the response data structures and response codes specified
in table 5.20.2.4.3.2-3.
Table 5.20.2.4.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsSessionSubsc M 1 Representation of the
MBS session to be created at the NEF.
* * *
Table 5.20.2.4.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | Mb | M | 1 | 201 Created | Successful | | sSessionSubsc | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS Session | | | | | | Subscription | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource is | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.20.2.4.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | { | | | | | | apiRoot}/3gpp-mbs- | | | | | | session/v1/mbs-ses | | | | | | sions/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
##### 5.20.2.4.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.5 Resource: Individual MBS Session Subscription
##### 5.20.2.5.1 Introduction
This resource represents an Individual MBS Session Subscription managed by the
NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [3]).
##### 5.20.2.5.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-
sessions/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.20.2.5.2-1.
Table 5.20.2.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1. subscriptionId
string Identifier of the Individual MBS Session Subscription resource.
* * *
##### 5.20.2.5.3 Resource Methods
###### 5.20.2.5.3.1 GET
This method enables an AF to request to retrieve an existing Individual MBS
Session Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.5.3.1-1.
Table 5.20.2.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.5.3.1-2 and the response data structures and response codes specified
in table 5.20.2.5.3.1-3.
Table 5.20.2.5.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Mb | M | 1 | 200 OK | Successful | | sSessionSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS Session | | | | | | Subscription | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.5.3.2 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS Session Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.5.3.2-1.
Table 5.20.2.5.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.5.3.2-2 and the response data structures and response codes specified
in table 5.20.2.5.3.2-3.
Table 5.20.2.5.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.5.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS Session | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
##### 5.20.2.5.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.6 Resource: MBS Parameters Provisionings
##### 5.20.2.6.1 Introduction
This resource represents the collection of MBS Parameters Provisionings
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.20.2.6.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-pp**
This resource shall support the resource URI variables defined in table
5.20.2.6.2-1.
Table 5.20.2.6.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1.
* * *
##### 5.20.2.6.3 Resource Methods
###### 5.20.2.6.3.1 GET
This method enables an AF to request to retrieve all the MBS Parameters
Provisionings resources managed by the NEF.
This method shall support the URI query parameters specified in table
5.20.2.6.3.1-1.
Table 5.20.2.6.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.6.3.1-2 and the response data structures and response codes specified
in table 5.20.2.6.3.1-3.
Table 5.20.2.6.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.6.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 1..N | 200 OK | Successful | | ay(MbsPpData) | | | | case. All the | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisionings | | | | | | resources | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.6.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.6.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.6.3.2 POST
This method enables an AF to request the creation of a new MBS Parameters
Provisioning at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.6.3.2-1.
Table 5.20.2.6.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.6.3.2-2 and the response data structures and response codes specified
in table 5.20.2.6.3.2-3.
Table 5.20.2.6.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsPpData M 1 Representation of the MBS
session to be created in the NEF.
* * *
Table 5.20.2.6.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | MbsPpData | M | 1 | 201 Created | Successful | | | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.20.2.6.3.2-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-mbs-
session/v1/mbs-pp/{mbsPpId}
* * *
##### 5.20.2.6.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.7 Resource: Individual MBS Parameters Provisioning
##### 5.20.2.7.1 Introduction
This resource represents an Individual MBS Parameters Provisioning resource
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [3]).
##### 5.20.2.7.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-pp/{mbsPpId}**
This resource shall support the resource URI variables defined in table
5.20.2.7.2-1.
Table 5.20.2.7.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1. mbsPpId string
Identifier of the Individual MBS Parameters Provisioning resource.
* * *
##### 5.20.2.7.3 Resource Methods
###### 5.20.2.7.3.1 GET
This method enables an AF to request to retrieve an existing Individual MBS
Parameters Provisioning resource managed by the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.1-1.
Table 5.20.2.7.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.1-2 and the response data structures and response codes specified
in table 5.20.2.7.3.1-3.
Table 5.20.2.7.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.7.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsPpData | M | 1 | 200 OK | Successful | | | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.7.3.2 PUT
This method enables an AF to request the update of an existing Individual MBS
Parameters Provisioning resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.2-1.
Table 5.20.2.7.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.2-2 and the response data structures and response codes specified
in table 5.20.2.7.3.2-3.
Table 5.20.2.7.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MbsPpData M 1 Represents the updated
Individual MBS Parameters Provisioning resource representation.
* * *
Table 5.20.2.7.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsPpData | | | 200 OK | Successful | | | | | | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.7.3.3 PATCH
This method enables an AF to request the modification of an existing
Individual MBS Parameters Provisioning resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.3-1.
Table 5.20.2.7.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.3-2 and the response data structures and response codes specified
in table 5.20.2.7.3.3-3.
Table 5.20.2.7.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MbsPpDataPatch M 1 Represents the
requested modifications to the Individual MBS Parameters Provisioning
resource.
* * *
Table 5.20.2.7.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsPpData | | | 200 OK | Successful | | | | | | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.7.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS Parameters Provisioning resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.4-1.
Table 5.20.2.7.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.4-2 and the response data structures and response codes specified
in table 5.20.2.7.3.4-3.
Table 5.20.2.7.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.7.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
##### 5.20.2.7.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.20.3 Custom Operations without associated resources
There are no customoperations without associated resources defined for this
API in this release of the specification.
### 5.20.4 Notifications
#### 5.20.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.20.4.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS Session | {no | POST | Enables to | | Status | tificationUri} | | notify a | | Notification | | | previously | | | | | subscribed AF | | | | | on MBS session | | | | | status | | | | | information. | +----------------+----------------+----------------+----------------+
#### 5.20.4.2 MBS Session Status Notification
##### 5.20.4.2.1 Description
The MBS Session Status Notification is used by the NEF to report MBS session
status information to a subscribed AF.
##### 5.20.4.2.2 Target URI
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.20.4.2.2-1.
Table 5.20.4.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationUri Uri Callback URIprovided by the AF
during the creation/modification of the subscription.
* * *
##### 5.20.4.2.3 Operation Definition
###### 5.20.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.20.4.2.3.1-1 and the response data structures and response codes specified
in table 5.20.4.2.3.1-2.
Table 5.20.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsSessionStatusNotif M 1 Represents the
MBS Session Status information to be reported to the AF.
* * *
Table 5.20.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The MBS | | | | | Content | Session | | | | | | Status | | | | | | notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.20.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.4.2.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the MBS Session
Status Notification may alternatively be delivered through the Websocket
mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.20.5 Data Model
#### 5.20.5.1 General
This clause specifies the application data model supported by the MBSSession
API. Table 5.20.5.1-1 specifies the data types defined for the MBSSession API.
Table 5.20.5.1-1: MBSSession specific Data Types
* * *
Data type Clause defined Description Applicability MbsPpData 5.20.5.2.6
Represents MBS Parameters Provisioning data.  
MbsPpDataPatch 5.20.5.2.8 Represents the requested modification to existing
MBS Parameters Provisioning data.  
MbsSessAuthData 5.20.5.2.7 Represents the MBS Session Authorization data.  
MbsSessionCreateReq 5.20.5.2.2 Represents the parameters to request MBS
Session creation.  
MbsSessionCreateResp 5.20.5.2.3 Represents the parameters to be returned in an
MBS Session creation response.  
MbsSessionSubsc 5.20.5.2.4 Represents an MBS Session Subscription.  
MbsSessionStatusNotif 5.20.5.2.5 Represents an MBS Session Status
notification.
* * *
Table 5.20.5.1-2 specifies data types re-used by the MBSSession API from other
specifications, including a reference to their respective specifications, and
when needed, a short description of their use within the MBSSession API.
Table 5.20.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability 5MbsAuthorizationInfo 3GPP TS
29.503 [17] Contains the MBS Session authorization information.  
DateTime 3GPP TS 29.122 [4] Represents a date and a time  
ExternalGroupId 3GPP TS 29.122 [4] Represents the External Group Identifier
for a user group.  
Gpsi 3GPP TS 29.571 [8] Represents a GPSI.  
MbsSession 3GPP TS 29.571 [8] Represents MBS session information.  
MbsSessionId 3GPP TS 29.571 [8] Represents the identifier of an MBS Session.  
PatchItem 3GPP TS 29.571 [8] Represents the requested modifications to a
resource via the PATCH method.  
MbsSessionEventReportList 3GPP TS 29.571 [8] Represents the list of MBS
Session Event Report(a).  
MbsSessionSubscription 3GPP TS 29.571 [8] Represents an MBS Session
Subscription  
SupportedFeatures 3GPP TS 29.571 [8] Represents the list of supported
feature(s) and used to negotiate the applicability of the optional features.  
Tmgi 3GPP TS 29.571 [8] Represents a TMGI.  
TunnelAddress 3GPP TS 29.571 [8] Represents a Tunnel Address (UDP/IP).  
Uri 3GPP TS 29.122 [4] Represents a URI.
* * *
#### 5.20.5.2 Structured data types
##### 5.20.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.20.5.2.2 Type: MbsSessionCreateReq
Table 5.20.5.2.2-1: Definition of type MbsSessionCreateReq
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | m | M | M | 1 | MBS | | | bsSession | bsSession | | | session | | | | | | | to be | | | | | | | created. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | HTTP POST | | | | | | | request | | | | | | | to create | | | | | | | a new MBS | | | | | | | session, | | | | | | | if | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.3 Type: MbsSessionCreateRsp
Table 5.20.5.2.3-1: Definition of type CreateRspData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | m | M | M | 1 | R | | | bsSession | bsSession | | | epresents | | | | | | | the | | | | | | | created | | | | | | | MBS | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventList | MbsSess | C | 0..1 | Contains | | | | ionEventR | | | a list of | | | | eportList | | | MBS | | | | | | | Session | | | | | | | Status | | | | | | | Event(s) | | | | | | | r | | | | | | | eport(s), | | | | | | | if | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | HTTP POST | | | | | | | response | | | | | | | to a | | | | | | | request | | | | | | | to create | | | | | | | a new MBS | | | | | | | session, | | | | | | | if it was | | | | | | | present | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | HTTP POST | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.4 Type: MbsSessionSubsc
Table 5.20.5.2.4-1: Definition of type MbsSessionSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | sub | MbsS | M | 1 | R | | | scription | essionSub | | | epresents | | | | scription | | | the | | | | | | | p | | | | | | | arameters | | | | | | | of the | | | | | | | MBS | | | | | | | Session | | | | | | | Status | | | | | | | sub | | | | | | | scription | | | | | | | to be | | | | | | | created | | +-----------+-----------+---+-----------+-----------+-----------+ | subsc | string | C | 0..1 | Contains | | | riptionId | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | created | | | | | | | I | | | | | | | ndividual | | | | | | | MBS | | | | | | | Session | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall | | | | | | | only be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | response | | | | | | | to an MBS | | | | | | | session | | | | | | | creation | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.5 Type: MbsSessionStatusNotif
Table 5.20.5.2.5-1: Definition of type MbsSessionStatusNotif
* * *
Attribute name Data type P Cardinality Description Applicability eventList
MbsSessionEventReportList M 1 Contains the reported MBS session event(s) and
the related information.
* * *
##### 5.20.5.2.6 Type: MbsPpData
Table 5.20.5.2.6-1: Definition of type MbsPpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSes | MbsSes | C | 0..1 | Contains | | | sAuthData | sAuthData | | | the MBS | | | | | | | Session | | | | | | | Auth | | | | | | | orization | | | | | | | data that | | | | | | | the AF | | | | | | | requests | | | | | | | to | | | | | | | p | | | | | | | rovision. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | AF | | | | | | | request | | | | | | | to | | | | | | | provision | | | | | | | MBS | | | | | | | Session | | | | | | | Auth | | | | | | | orization | | | | | | | data. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features | | | | | | | among the | | | | | | | ones | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.20.6. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | when | | | | | | | feature | | | | | | | n | | | | | | | egocation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.7 Type: MbsSessAuthData
Table 5.20.5.2.7-1: Definition of type MbsSessAuthData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | e | Extern | M | 1 | R | | | xtGroupId | alGroupId | | | epresents | | | | | | | the | | | | | | | external | | | | | | | group | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | targeted | | | | | | | multicast | | | | | | | MBS | | | | | | | Group. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsisList | map(Gpsi) | C | 1..N | R | | | | | | | epresents | | | | | | | the list | | | | | | | of the | | | | | | | GPSI(s) | | | | | | | of the | | | | | | | member | | | | | | | UE(s) | | | | | | | con | | | | | | | stituting | | | | | | | the | | | | | | | multicast | | | | | | | MBS | | | | | | | group. | | | | | | | | | | | | | | Any value | | | | | | | of type | | | | | | | string | | | | | | | can be | | | | | | | used as a | | | | | | | key of | | | | | | | the map. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | only if | | | | | | | the | | | | | | | multicast | | | | | | | MBS group | | | | | | | has not | | | | | | | yet been | | | | | | | created | | | | | | | or the | | | | | | | list of | | | | | | | its | | | | | | | member(s) | | | | | | | needs to | | | | | | | be | | | | | | | updated. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSess | 5Mb | M | 1 | Contains | | | ionIdList | sAuthoriz | | | the | | | | ationInfo | | | iden | | | | | | | tifier(s) | | | | | | | of the | | | | | | | multicast | | | | | | | MBS | | | | | | | S | | | | | | | ession(s) | | | | | | | that the | | | | | | | multicast | | | | | | | MBS group | | | | | | | is | | | | | | | a | | | | | | | uthorized | | | | | | | to join. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.8 Type: MbsPpDataPatch
Table 5.20.5.2.8-1: Definition of type MbsPpDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability
mbsSessAuthData MbsSessAuthData O 0..1 Contains the modified MBS Session
Authorization data that the AF requests to provision.  
suppFeat SupportedFeatures O 0..1 Contains the modified list of supported
features among the ones defined in clause 5.20.6.
* * *
#### 5.20.5.3 Simple data types and enumerations
##### 5.20.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.20.5.3.2 Simple data types
The simple data types defined in table 5.20.5.3.2-1 shall be supported.
Table 5.20.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.20.6 Used Features
The table below defines the features applicable to the MBSSession API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.20.6-1: Supported Features
* * *
Feature number Feature Name Description
* * *
### 5.20.7 Error handling
#### 5.20.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.20.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSSession API.
#### 5.20.7.3 Application Errors
The application errors defined for the MBSSession API are listed in table
5.20.7.3-1.
Table 5.20.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
TRANS_RESOURCE_RES_FAILURE 500 Internal Server Error Indicates that the MBS
Session creation failed due to transmission resources reservation failure.
INVALID_MBS_SERVICE_INFO 400 Bad Request The provided MBS Service Information
is invalid (e.g. invalid QoS reference), incorrect or insufficient to perform
MBS policy authorization. FILTER_RESTRICTIONS_NOT_OBSERVED 400 Bad Request The
MBS IP flow(s) description provided within the MBS Service Information cannot
be handled due to the restrictions defined in clause 5.3.8 of 3GPP TS 29.214
[64] not being observed. MBS_SERVICE_INFO_NOT_AUTHORIZED 403 Forbidden The
provided MBS Service Information is rejected. MBS_SESSION_ALREADY_CREATED 403
Forbidden The requested MBS session has already been created at the NEF/MB-
SMF. OVERLAPPING_MBS_SERVICE_AREA 403 Forbidden The provided MBS service area
overlaps with the MBS service area of an existing MBS Session that shares the
same MBS session Identifier. UNKNOWN_TMGI 404 Not Found The TMGI provided in
the request does not exist. MBS_SESSION_CONTEXT_NOT_FOUND 404 Not Found The
targeted Individual MBS Session does not exist. UNKNOWN_MBS_SERVICE_AREA 404
Not Found The requested MBS service area (e.g. identified by the Area Session
ID) cannot be found.
* * *
## 5.21 EASDeployment API
### 5.21.1 Resources
#### 5.21.1.1 Overview
All resource URIs of this API should have the following root:
> **{apiRoot}/3gpp-eas-deployment/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-eas-deployment\" and \"apiVersion\" shall
be set to \"v1\" for the current version defined in the present document. All
resource URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.21.1.1-1 and the resources and HTTP methods used for AF provisioned EAS
Deployment information management in the northbound EASDeployment API.
Figure 5.21.1.1-1: Resource URI structure of the northbound EASDeployment API
Table 5.21.1.1-1 provides an overview of the resources and HTTP methods
applicable for the northbound EASDeployment API.
Table 5.21.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description EAS Deployment Information
/{afId}/eas-deployment-info GET Read all EAS Deployment information for a
given AF. POST Create a new Individual EAS Deployment information resource.
Individual EAS Deployment Information /{afId}/eas-deployment-
info/{easDeployInfoId} GET Reads an active Individual EAS Deployment
Information resource. PUT Update an existing Individual EAS Deployment
Information resource. DELETE Deletes an existing Individual EAS Deployment
Information resource.
* * *
#### 5.21.1.2 Resource: EAS Deployment Information
##### 5.21.1.2.1 Introduction
This resource allows an AF to request the creation of a new Individual EAS
Deployment Information resource.
##### 5.21.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-eas-deployment/v1/{afId}/eas-deployment-info**
This resource shall support the resource URI variables defined in table
5.21.1.2.2-1.
Table 5.21.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.21.1.2.3 Resource Methods
###### 5.21.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.21.1.2.2.
###### 5.21.1.2.3.2 GET
The GET method allows to read all active EAS Deployment information for a
given AF and subscription. The AF shall initiate the HTTP GET request message
and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.2.3.2-1.
Table 5.21.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.21.1.2.3.2-2, the response data structures and response codes specified in
table 5.21.1.2.3.2-3, and the location headers specified in table
5.21.1.2.3.2-4 and table 5.21.1.2.3.2-5.
Table 5.21.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.21.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(E | M | 0..N | 200 OK | The | | asDeployInfo) | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during EAS | | | | | | deployment | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during EAS | | | | | | deployment | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.21.1.2.3.3 POST
The POST method creates a new resource of Individual EAS Deployment
Information for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.21.1.2.3.3-1, the response data structures and response codes specified in
table 5.21.1.2.3.3-2, and the Location Headers specified in table
5.21.1.2.3.3-3.
Table 5.21.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EasDeployInfo M 1 EAS Deployment
Information, indicates how edge services are deployed in each Local DN.
* * *
Table 5.21.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EasDeployInfo | M | 1 | 201 Created | The | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-eas-
deployment/v1/{afId}/eas-deployment-info/{easDeployInfoId}
* * *
#### 5.21.1.3 Resource: Individual EAS Deployment Information
##### 5.21.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing Individual
EAS Deployment Information.
##### 5.21.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-eas-deployment/v1/{afId}/eas-deployment-
info/{easDeployInfoId}**
This resource shall support the resource URI variables defined in table
5.21.1.3.2-1.
Table 5.21.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. easDeployInfoId string Identifier of the EAS
Deployment Information formatted according to IETF RFC 3986 [44].
* * *
##### 5.21.1.3.3 Resource Methods
###### 5.21.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.21.1.3.2.
###### 5.21.1.3.3.2 GET
The GET method allows to read the existing EAS Deployment Information for a
given AF and a given EAS Deployment Information Id. The AF shall initiate the
HTTP GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.3.3.2-1.
Table 5.21.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.21.1.3.3.2-2, the response data structures and response codes specified in
table 5.21.1.3.3.2-3, and the Location Headers specified in table
5.21.1.3.3.2-4 and table 5.21.1.3.3.2-5.
Table 5.21.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.21.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EasDeployInfo | M | 1 | 200 OK | Successful | | | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of an | | | | | | existing | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | in the | | | | | | request URI | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.21.1.3.3.3 PUT
The PUT method is used to modify an existing Individual EAS Deployment
Information resource. The AF shall initiate the HTTP PUT request message and
the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.3.3.3-1.
Table 5.21.1.3.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.21.1.3.3.3-2, the response data structures and response codes specified in
table 5.21.1.3.3.3-3, and the Location Headers specified in table
5.21.1.3.3.3-4 and table 5.21.1.3.3.3-5.
Table 5.21.1.3.3.3-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description EasDeployInfo M 1 Modify the Individual
EAS Deployment Information resource.
* * *
Table 5.21.1.3.3.3-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EasDeployInfo | M | 1 | 200 OK | Successful | | | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of the | | | | | | updated EAS | | | | | | Deployment | | | | | | Information. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The EAS | | | | | Content | Deployment | | | | | | change was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.21.1.3.3.4 DELETE
The DELETE method deletes an existing Individual EAS Deployment Information
resource. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.3.3.4-1.
**Table 5.21.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.21.1.3.3.4-2, the response data structures and response codes specified in
table 5.21.1.3.3.4-3, and the Location Headers specified in table
5.21.1.3.3.4-4 and table 5.21.1.3.3.4-5.
Table 5.21.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.21.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.21.2 Custom Operations without associated resources
#### 5.21.2.1 Overview
The structure of the custom operation URIs of the Nnef_EASDeployment service
is shown in Figure 5.21.2.1-1.
Figure 5.21.2.1-1: Custom operation URI structure of the Nnef_EASDeployment
API
Table 5.21.2.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.21.2.1-1: Custom operations without associated resources
* * *
Custom operation URI Mapped HTTP method Description {apiRoot}/3gpp-eas-
deployment/\/remove-edis POST Request the NEF to delete EAS
Deployment Information based on given attributes.
* * *
#### 5.21.2.2 Operation: remove-edis
##### 5.21.2.2.1 Description
The operation is used by the NF service consumer to delete EAS Deployment
Information based on given attributes.
##### 5.21.2.2.2 Operation Definition
This operation shall support the request data structures shown in Table
5.21.2.2.2-1 and the response data structures and error codes specified in
Table 5.21.2.2.2-2.
Table 5.21.2.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description EdiDeleteCriteria M 1 Information about
the criteria to be used for EAS Deployment Information deletion.
* * *
Table 5.21.2.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | request to | | | | | | remove EAS | | | | | | Deployment | | | | | | Information | | | | | | based on | | | | | | given | | | | | | criteria. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.21.3 Notifications
None.
### 5.21.4 Data Model
#### 5.21.4.1 General
This clause specifies the application data model supported by the
EASDeployment API. Table 5.21.4.1-1 specifies the data types defined for the
EASDeployment API.
Table 5.21.4.1-1: EASDeployment API specific Data Types
* * *
Data type Clause defined Description Applicability EasDeployInfo 5.21.4.3.2
EAS Deployment Information, indicates how edge services are deployed in each
Local DN.  
EdiDeleteCriteria 5.21.4.3.5 Contains criteria for deleting EAS Deployment
Information.  
DnaiInformation 5.21.4.3.3 list of DNS server identifier and/or IP address(s)
of the EAS in the local DN for the DNAI.  
DnsServerIdentifier 5.21.4.3.4 DNS server identifier (consisting of IP address
and port).
* * *
#### 5.21.4.2 Reused data types
The data types reused by the EASDeployment API from other specifications are
listed in table 5.21.4.2-1.
Table 5.21.4.2-1: Re-used Data Types
* * *
Data type Reference Comments AfId 5.14.5.4.2 Represents an AF identifier. Dnai
3GPP TS 29.571 [8] Identifies a DNAI. Dnn 3GPP TS 29.571 [8] Identifies a DNN.
DnnSnssaiInformation 5.18.3.3.5 Contains DNN and S-NSSAI information.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
FqdnPatternMatchingRule 3GPP TS 29.571 [8] Identifies the FQDN pattern
matching rule. IpAddr 3GPP TS 29.571 [8] IP Address. Snssai 3GPP TS 29.571 [8]
Identifies the S-NSSAI. Uinteger 3GPP TS 29.571 [8] Unsigned integer. Link
3GPP TS 29.122 [4] Identifies a referenced resource.
* * *
#### 5.21.4.3 Structured data types
##### 5.21.4.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.21.4.3.2 Type: EasDeployInfo
Table 5.21.4.3.2-1: Definition of type EasDeployInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | in | | | | | | | formation | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | fqdnPa | arr | M | 1..N | Supported | | | tternList | ay(FqdnPa | | | FQDN | | | | tternMatc | | | p | | | | hingRule) | | | attern(s) | | | | | | | for | | | | | | | appli | | | | | | | cation(s) | | | | | | | deployed | | | | | | | in the | | | | | | | Local | | | | | | | part of | | | | | | | the DN | | | | | | | where | | | | | | | each FQDN | | | | | | | pattern | | | | | | | is | | | | | | | described | | | | | | | by a FQDN | | | | | | | Pattern | | | | | | | Matching | | | | | | | Rule. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | for which | | | | | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | co | | | | | | | rresponds | | | | | | | to. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | DNN for | | | | | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | S-NSSAI | | | | | | | for the | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | External | | | erGroupId | alGroupId | | | Group ID | | | | | | | for the | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiInfos | ma | O | 1..N | list of | | | | p(DnaiInf | | | DNS | | | | ormation) | | | server | | | | | | | i | | | | | | | dentifier | | | | | | | (c | | | | | | | onsisting | | | | | | | of IP | | | | | | | address | | | | | | | and port) | | | | | | | and/or IP | | | | | | | a | | | | | | | ddress(s) | | | | | | | of the | | | | | | | EAS in | | | | | | | the local | | | | | | | DN for | | | | | | | each | | | | | | | DNAI. The | | | | | | | key of | | | | | | | map is | | | | | | | the DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.21.4.3.3 Type: DnaiInformation
Table 5.21.4.3.3-1: Definition of type DnaiInformation
* * *
Attribute name Data type P Cardinality Description Applicability dnai Dnai M 1
Identifer the DNAI.  
dnsServIds array(DnsServerIdentifier) C 1..N list of DNS server identifier
(consisting of IP address and port) for each DNAI.  
easIpAddrs array(IpAddr) C 1..N IP address(s) of the EASs in the local DN for
each DNAI.  
NOTE: At least one of the \"dnsServIds\" or \"easIpAddrs\" attribute shall be
provided.
* * *
##### 5.21.4.3.4 Type: DnsServerIdentifier
Table 5.21.4.3.4-1: Definition of type DnsServerIdentifier
* * *
Attribute name Data type P Cardinality Description Applicability dnsServIpAddr
IpAddr M 1 DNS server IP address.  
portNumber Uinteger M 1 DNS port number.
* * *
##### 5.21.4.3.5 Type: EdiDeleteCriteria
Table 5.21.4.3.5-1: Definition of type EdiDeleteCriteria
* * *
Attribute name Data type P Cardinality Description Applicability afId AfId C
0..1 AF identifier to be used as deletion criterion. (NOTE)  
dnnSnssai DnnSnssaiInformation C 0..1 DNN and S-NSSAI information to be used
as deletion criterion. (NOTE)  
NOTE: At least one of those attributes shall be provided.
* * *
#### 5.21.4.4 Simple data types and enumerations
##### 5.21.4.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.21.4.4.2 Simple data types
The simple data types defined in table 5.21.4.4.2-1 shall be supported.
Table 5.21.4.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.21.5 Used Features
The table below defines the features applicable to the EASDeployment API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.21.5-1: Features used by EASDeployment API
* * *
Feature number Feature Name Description
* * *
### 5.21.6 Error handling
#### 5.21.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.21.6.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the EASDeployment API.
#### 5.21.6.3 Application Errors
The application errors defined for EASDeployment API are listed in table
5.21.6.3-1.
Table 5.21.6.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.22 ASTI API
### 5.22.1 Resources
#### 5.22.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-asti/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"**3gpp-asti** \" and \"apiVersion\" shall be set
to \"v1\" for the current version defined in the present document. All
resource URIs in the clauses below are defined relative to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.22.1.1-1 and the resources and HTTP methods used for the ASTI API.
Figure 5.22.1.1-1: Resource URI structure of the ASTI API
Table 5.22.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ASTI API.
Table 5.22.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | ASTI | /{afId} | GET | Read all | | Configurations | /configurations | | configurations | | | | | of 5G access | | | | | stratum time | | | | | distribution | | | | | for a given AF | | | | | and | | | | | subscription. | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a new | | | | | configuration | | | | | of 5G access | | | | | stratum time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | | / | retrieve | Retrieval of | | | {afId}/configur | | the status of | | | ations/retrieve | (POST) | access stratum | | | | | time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | Individual ASTI | /{a | PUT | Modify a | | Configuration | fId}/configurat | | configuration | | | ions/{configId} | | configuration | | | | | of 5G access | | | | | stratum time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete a | | | | | configuration | | | | | of 5G access | | | | | stratum time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | | | GET | Query the | | | | | status of the | | | | | access time | | | | | distribution | +-----------------+-----------------+-------------+-----------------+
#### 5.22.1.2 Resource: ASTI Configurations
##### 5.22.1.2.1 Introduction
This resource allows an AF to read all active configurations of 5G access
stratum time distribution for a given AF, or allows an AF to create a new new
configuration of 5G access stratum time distribution.
##### 5.22.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-asti/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.22.1.2.2-1.
Table 5.22.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.22.1.2.3 Resource Methods
###### 5.22.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.22.1.2.2.
###### 5.22.1.2.3.2 GET
The GET method allows to read all active configurations of 5G access stratum
time distribution for a given AF and subscription. The AF shall initiate the
HTTP GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.22.1.2.3.2-1.
Table 5.22.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.22.1.2.3.2-2 and the response data structures and response codes specified
in table 5.22.1.2.3.2-3.
Table 5.22.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.22.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(A | M | 0..N | 200 OK | The | | ccessTimeDist | | | | configuration | | ributionData) | | | | information | | | | | | for the AF | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.22.1.2.3.3 POST
The POST method creates a new configuration of 5G access stratum time
distribution for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.22.1.2.3.3-1 and the response data structures and response codes specified
in table 5.22.1.2.3.3-2.
Table 5.22.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AccessTimeDistributionData M 1 Parameters
to create a configuration of 5G access stratum time distribution.
* * *
Table 5.22.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessTimeDis | M | 1 | 201 Created | The | | tributionData | | | | configuration | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
asti/v1/{afId}/configurations/{configId}
* * *
##### 5.22.1.2.4 Resource Custom Operations
###### 5.22.1.2.4.1 Overview
Table 5.22.1.2.4.1-1: Custom operations
* * *
Operation Name Custom operation URI Mapped HTTP method Description retrieve
/configurations/retrieve retrieve (POST) Request the status of the 5G access
stratum time distribution for a list of UEs.
* * *
###### 5.22.1.2.4.2 Operation: retrieve
###### # 5.22.1.2.4.2.1 Description
This custom operation retrieves the status of the access stratum time
distribution for a list of UEs.
###### # 5.22.1.2.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
5.22.1.2.4.2.2-1 and the response data structure and response codes specified
in table 5.22.1.2.4.2.2-2.
Table 5.22.1.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description StatusRequestData M 1 Parameters to be
sent by the NF service consumer when the status of the 5G access stratum time
distribution for a list of UEs is requested.
* * *
Table 5.22.1.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
* * *
Data type P Cardinality Response codes Description StatusResponseData M 1 200
OK Status of the 5G access stratum time distribution for a list of UEs is
returned. NOTE: The mandatory HTTP error status codes for the POST method
listed in table 5.2.6-1 of 3GPP TS 29.122 [4] also apply.
* * *
#### 5.22.1.3 Resource: Individual ASTI Configuration
##### 5.22.1.3.1 Introduction
This resource allows an AF to read/modify/cancel a configuration of 5G access
stratum time distribution with the NEF.
##### 5.22.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-asti/v1/{afId}/configurations/{configId}**
This resource shall support the resource URI variables defined in table
5.22.1.3.2-1.
Table 5.22.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. configId string Identifier of the
configuration resource.
* * *
##### 5.22.1.3.3 Resource Methods
###### 5.22.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.22.1.3.2.
###### 5.22.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and
configuration Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.22.1.3.3.2-1.
Table 5.22.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.22.1.3.3.2-2 and the response data structures and response codes specified
in table 5.22.1.3.3.2-3.
Table 5.22.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.22.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessTimeDis | M | 1 | 200 OK | The | | tributionData | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.22.1.3.3.3 PUT
The PUT method modifies an existing configuration resource to update a
configuration. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.22.1.3.3.3-1 and the response data structures and response codes specified
in table 5.22.1.3.3.3-2.
Table 5.22.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AccessTimeDistributionData M 1 Modify an
existing configuration of 5G access stratum time distribution.
* * *
Table 5.22.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessTimeDis | M | 1 | 200 OK | The | | tributionData | | | | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.22.1.3.3.4 DELETE
The DELETE method deletes the configuration of 5G access stratum time
distribution for a given AF. The AF shall initiate the HTTP DELETE request
message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.22.1.3.3.4-1.
Table 5.22.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.22.1.3.3.4-2 and the response data structures and response codes specified
in table 5.22.1.3.3.4-3.
Table 5.22.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.22.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.22.2 Custom Operations without associated resources
None.
### 5.22.3 Notifications
None.
### 5.22.4 Data Model
#### 5.22.4.1 General
This clause specifies the application data model supported by the ASTI API.
Table 5.22.4.1-1 specifies the data types defined for the ASTI API.
Table 5.22.4.1-1: ASTI API specific Data Types
* * *
Data type Clause defined Description Applicability AccessTimeDistributionData
5.22.4.3.2 Contains the parameters for the creation of 5G access stratum time
distribution configuration.  
ActiveUe 5.22.4.3.5 Contains the UE identifier whose status of the access
stratum time distribution is active and the optional requested time
synchronization error budget.  
StatusRequestData 5.22.4.3.3 Contains the parameters for retrieval of the
status of the access stratum time distribution for a list of UEs.  
StatusResponseData 5.22.4.3.4 Contains the parameters for the status of the
access stratum time distribution for a list of UEs.
* * *
#### 5.22.4.2 Reused data types
The data types reused by the TimeSyncExposure API from other specifications
are listed in table 5.22.4.2-1.
Table 5.22.4.2-1: Re-used Data Types
* * *
Data type Reference Comments AsTimeDistributionParam 3GPP TS 29.565 [50]
Contains the 5G access stratum time distribution parameters. ExternalGroupId
3GPP TS 29.122 [4] External Group Identifier for a user group. Gpsi 3GPP TS
29.571 [8] Identifies a GPSI. SupportedFeatures 3GPP TS 29.571 [8] Used to
negotiate the applicability of the optional features defined in table
5.22.5-1.
* * *
#### 5.22.4.3 Structured data types
##### 5.22.4.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.22.4.3.2 Type: AccessTimeDistributionData
Table 5.22.4.3.2-1: Definition of type AccessTimeDistributionData
* * *
Attribute name Data type P Cardinality Description Applicability gpsis
array(Gpsi) C 1..N Identifies a list of UE(s). (NOTE)  
exterGroupId ExternalGroupId C 0.1 Represents a group of users. (NOTE)  
asTimeDisParam AsTimeDistributionParam M 1 5G access stratum time distribution
parameters  
suppFeat SupportedFeatures C 0..1 Represents the features supported by the NF
service consumer. This parameter shall be supplied by the NF service consumer
in the POST request and the response that requested the creation of an
Individual ASTI Configuration resource.  
NOTE: One of \"gpsis\" or \"externalGroupId\" attribute shall be provided.
* * *
##### 5.22.4.3.3 Type: StatusRequestData
Table 5.22.4.3.3-1: Definition of type StatusRequestData
* * *
Attribute name Data type P Cardinality Description Applicability gpsis
array(Gpsi) M 1..N Identifies a list of UE(s).
* * *
##### 5.22.4.3.4 Type: StatusResponseData
Table 5.22.4.3.4-1: Definition of type StatusResponseData
* * *
Attribute name Data type P Cardinality Description Applicability inactiveUes
array(Gpsi) O 1..N Indicate the UE(s) whose status of the access stratum time
distribution is inactive.  
activeUes array(ActiveUe) O 1..N Contains the UE identifier(s) whose status of
the access stratum time distribution is active and the optional requested time
synchronization error budget.
* * *
##### 5.22.4.3.5 Type: ActiveUe
Table 5.22.4.3.5-1: Definition of type ActiveUe
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Indicate the UE whose status of the access stratum time distribution is
active.  
timeSyncErrBdgt Uinteger O 0..1 Indicates the time synchronization error
budget in terms of time units of nanoseconds.
* * *
#### 5.22.4.4 Simple data types and enumerations
##### 5.22.4.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.22.4.4.2 Simple data types
The simple data types defined in table 5.22.4.4.2-1 shall be supported.
Table 5.22.4.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.22.5 Used Features
The table below defines the features applicable to the ASTI API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.22.5-1: Features used by ASTI API
* * *
Feature number Feature Name Description
* * *
### 5.22.6 Error handling
#### 5.22.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.22.6.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ASTI API.
#### 5.22.6.3 Application Errors
The application errors defined for the ASTI API are listed in table
5.22.6.3-1.
Table 5.22.6.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.23 DataReporting API
### 5.23.1 Introduction
The Nnef_DataReporting service shall use the DataReporting API.
The API URI of DataReporting API shall be:
{apiRoot}/\/\
The request URIs used in HTTP requests shall have the Resource URI structure
defined in clause 5.2.4 of 3GPP TS 29.122 [2], i.e.:
{apiRoot}/\/\/\
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-data-reporting\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.23.2 Resources
This clause describes the structure for the Resource URIs as shown in Figure
5.23.2-1 and the resources and HTTP methods used for the DataReporting API.
Figure 5.23.2-1: Resource URI structure of the DataReporting API
Table 5.23.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.23.2-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Data Reporting | /sessions | POST | Create a Data | | Sessions | | | Reporting | | | | | Session | +----------------+----------------+----------------+----------------+ | Individual | /sessio | GET | Retreive an | | Data Reporting | ns/{sessionId} | | existing | | Session | | | Individual | | | | | Data Reporting | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | Individual | | | | | existing Data | | | | | Reporting | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual | | | | | Data Reporting | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | report | Report data. | | | | | | | | | (POST) | | +----------------+----------------+----------------+----------------+
#### 5.23.2.2 Resource: Data Reporting Sessions
##### 5.23.2.2.1 Introduction
This resource represents the collection of Data Reporting Sessions managed by
the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.23.2.2.2 Resource definition
Resource URL: **{apiRoot}/3gpp-data-reporting/v1/sessions**
This resource shall support the resource URL variables defined in table
5.23.2.2.2-1.
Table 5.23.2.2.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.213.1.
* * *
##### 5.23.2.2.3 Resource Methods
###### 5.23.2.2.3.1 POST
This method enables an AF to request the creation of a Data Reporting Session
at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.2.3.1-1.
Table 5.23.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.23.2.2.3.1-2 and the response data structures and response codes specified
in table 5.23.2.2.3.1-4.
Table 5.23.2.2.3.1-2: Data structures supported by the POST request body on
this resource
* * *
Data type P Cardinality Description DataReportingSession (NOTE) M 1
Representation of the Data Reporting Session to be created in the NEF. NOTE:
The \"sessionId\" attribute of the DataReportingSession data type shall not be
provided as it is not applicable.
* * *
Table 5.23.2.2.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | DataRep | M | 1 | 201 Created | Successful | | ortingSession | | | | case. A | | | | | | r | | (NOTE 2) | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "sessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.23.2.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-data-reporting/v1/sessions/{sessionId}
* * *
#### 5.23.2.3 Resource: Individual Data Reporting Session
##### 5.23.2.3.1 Introduction
This resource represents an Individual Data Reporting Session managed bythe
NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.23.2.3.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-data-reporting/v1/sessions/{sessionId}**
This resource shall support the resource URI variables defined in table
5.23.2.3.2-1.
Table 5.23.2.3.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.23.1 sessionId string
Represents the identifier of the Individual Data Reporting Sessions resource.
* * *
##### 5.23.2.3.3 Resource standard methods
###### 5.23.2.3.3.1 GET
This method enables an AF to retrieve an existing Individual Data Reporting
Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.3.3.1-1.
Table 5.23.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.23.2.3.3.1-2 and the response data structures and response codes specified
in table 5.23.2.3.3.1-3.
Table 5.23.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.23.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRep | M | 1 | 200 OK | Successful | | ortingSession | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "sessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.23.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.23.2.3.3.2 PUT
This method enables an AF to update an existing Individual Data Reporting
Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.3.3.2-1.
Table 5.23.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description
* * *
This method shall support the request data structures specified in table
5.23.2.3.3.2-2 and the response data structures and response codes specified
in table 5.23.2.3.3.2-4.
Table 5.23.2.3.3.2-2: Data structures supported by the PUT request body on
this resource
* * *
Data type P Cardinality Description DataReportingSession M 1 Parameters to
update the Individual Data Reporting Session resource. NOTE: The "sessionId"
attribute of the DataReportingSession data type shall not be provided as it is
not applicable.
* * *
Table 5.23.2.3.3.2-3: Data structures supported by the PUT response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRep | M | 1 | 200 OK | The | | ortingSession | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | \"sessionId\" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.23.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.23.2.3.3.3 DELETE
This method enables an AF to request the deletion of an Individual Data
Reporting Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.3.3.3-1.
Table 5.23.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.23.2.3.3.3-2 and the response data structures and response codes specified
in table 5.23.2.3.3.3-3.
Table 5.23.2.3.3.3-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.23.2.3.3.3-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.23.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.23.2.3.4 Resource custom operations
##### 5.23.2.3.4.1 Overview {#overview-20 .H6}
Table 5.23.2.3.4.1-1: Custom operations
* * *
Operation name Custom operaration URI Mapped HTTP method Description Report
/sessions/{sessionId}/report POST Enables to send collected UE data reports.
* * *
##### 5.23.2.3.4.2 Operation: Report {#operation-report .H6}
##### 5.23.2.3.4.2.1 Description {#description-13 .H6}
The custom operation enables an AF to send collected UE data reports to the
NEF.
##### 5.23.2.3.4.2.2 Operation Definition {#operation-definition-16 .H6}
This operation shall support the request data structures specified in table
5.23.2.3.4.2.2-1 and the response data structures and response codes specified
in table 5.23.2.3.4.2.2-2.
Table 5.23.2.3.4.2.2-1: Data structures supported by the POST request body on
this resource
* * *
Data type P Cardinality Description DataReport M 1 UE data reported by the
data collection client.
* * *
Table 5.23.2.3.4.2.2-2: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRep | O | 0..1 | 200 OK | The UE data | | ortingSession | | | | report was | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "sessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.4.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.23.2.3.4.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.23.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.23.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.23.5 Data Model
#### 5.23.3.1 General
This clause specifies the application data model supported by the
DataReporting API. Table 5.23.5.1-1 specifies the data types defined for the
DataReporting API.
Table 5.23.5.1-1: DataReporting specific Data Types
* * *
Data type Clause defined Description n/a
* * *
Table 5.23.5.1-2 specifies data types re-used by the DataReporting API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
DataReporting API.
Table 5.23.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability DataReport 3GPP TS 26.532 [60]
Reported data by the AF.  
_DataReportingSession_ 3GPP TS 26.532 [60] Configuration by the AF specifying
the data to be reported.
* * *
### 5.23.6 Used Features
The table below defines the features applicable to the DataReporting API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.23.6-1: Features used by DataReporting API
* * *
Feature number Feature Name Description
* * *
### 5.23.7 Error handling
#### 5.23.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.23.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the DataReporting API.
#### 5.23.7.3 Application Errors
The application errors defined for the DataReporting API are listed in table
5.23.7.3-1.
Table 5.23.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.24 DataReportingProvisioning API
### 5.24.1 Introduction
The Nnef_DataReportingProvisioning service shall use the
DataReportingProvisioning API.
The API URI of the DataReportingProvisioning API shall be:
{apiRoot}/\/\
The request URIs used in HTTP requests shall have the Resource URI structure
defined in clause 5.2.4 of 3GPP TS 29.122 [4], i.e.:
{apiRoot}/\/\/\
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-data-reporting-provisioning\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.24.2 Resources
This clause describes the structure for the Resource URIs as shown in Figure
5.24.2-1 and the resources and HTTP methods used for the
DataReportingProvisioning API.
Figure 5.24.2-1: Resource URI structure of the DataReportingProvisioning API
Table 5.24.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.24.2-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | | | (relative path | | | | | under API URI) | | (service | | | | | operation) | +-----------------+-----------------+-------------+-----------------+ | Data Reporting | /sessions | POST | Create a Data | | Provisioning | | | Reporting | | Sessions | | | Provisioning | | | | | Session. | +-----------------+-----------------+-------------+-----------------+ | Individual Data | /sessi | GET | Retreive an | | Reporting | ons/{sessionId} | | existing | | Provisioning | | | Individual Data | | Session | | | Reporting | | | | | Provisioning | | | | | Session | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | | | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual Data | | | | | Reporting | | | | | Provisioning | | | | | Session | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | Data Reporting | /sessio | POST | Create a new | | Configuration | ns/{sessionId}/ | | Data Reporting | | | | | Configuration. | | | configurations | | | +-----------------+-----------------+-------------+-----------------+ | Individual Data | /sessio | GET | Retrieves an | | Reporting | ns/{sessionId}/ | | existing | | Configuration | | | individual Data | | | co | | Reporting | | | nfigurations/{c | | Configuration | | | onfigurationId} | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Update an | | | | | existing | | | | | individual Data | | | | | Reporting | | | | | Configuration | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | PATCH | Modify an | | | | | existing | | | | | Individual Data | | | | | Reporting | | | | | Configuration | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual Data | | | | | Reporting | | | | | Configuration | | | | | resource. | +-----------------+-----------------+-------------+-----------------+
#### 5.24.2.2 Resource: Data Reporting Provisioning Sessions
##### 5.24.2.2.1 Introduction
This resource represents the collection of Data Reporting Provisioning
Sessions managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.24.2.2.2 Resource definition
Resource URL: **{apiRoot}/3gpp-data-reporting-provisioning/v1/sessions**
This resource shall support the resource URI variables defined in table
5.24.2.2.2-1.
Table 5.24.2.2.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1.
* * *
##### 5.24.2.2.3 Resource Methods
###### 5.24.2.2.3.1 POST
This method enables an AF to request the creation of a Data Reporting
Provisioning Session at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.2.3.1-1.
Table 5.24.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability N/A
* * *
This method shall support the request data structures specified in table
5.24.2.2.3.1-2 and the response data structures and response codes specified
in table 5.24.2.2.3.1-4.
Table 5.24.2.2.3.1-2: Data structures supported by the POST request body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------------+---+-------------+------------------------+ | DataReport | M | 1 | Representation of the | | ingProvisioningSession | | | Individual Data | | | | | Reporting Provisioning | | (NOTE) | | | Session to be created | | | | | in the NEF. | +------------------------+---+-------------+------------------------+ | NOTE: The | | | | | " | | | | | provisioningSessionId" | | | | | attribute of the | | | | | DataReport | | | | | ingProvisioningSession | | | | | data type shall not be | | | | | provided as it is not | | | | | applicable. | | | | +------------------------+---+-------------+------------------------+
Table 5.24.2.2.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | DataRe | M | 1 | 201 Created | Successful | | portingProvis | | | | case. A | | ioningSession | | | | r | | | | | | epresentation | | (NOTE 2) | | | | of the | | | | | | created | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Provisioning | | | | | | Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "provision | | | | | | ingSessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRe | | | | | | portingProvis | | | | | | ioningSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.24.2.2.3.1-4: Headers supported by the _201_ response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-data-reporting-provisioning/v1/sessions/{sessionId}
* * *
#### 5.24.2.3 Resource: Individual Data Reporting Provisioning Session
##### 5.24.2.3.1 Introduction
This resource represents an Individual Data Reporting Provisioning Session
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.24.2.3.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}**
This resource shall support the resource URI variables defined in table
5.24.2.3.2-1.
Table 5.24.2.3.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1 sessionId string
Represents the identifierof the Individual Data Reporting Provisioning Session
resource.
* * *
##### 5.24.2.3.3 Resource standard methods
5.24.2.3.3.1 GETThis method enables an AF to retrieve an existing Individual
Data Reporting Provisioning Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.3.3.1-1.
Table 5.24.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.24.2.3.3.1-2 and the response data structures and response codes specified
in table 5.24.2.3.3.1-3.
Table 5.24.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRe | M | 1 | 200 OK | Successful | | portingProvis | | | | case. The | | ioningSession | | | | requested | | | | | | Individual | | (NOTE 2) | | | | Data | | | | | | Reporting | | | | | | Provisioning | | | | | | Session | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "provision | | | | | | ingSessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRe | | | | | | portingProvis | | | | | | ioningSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.24.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.3.3.2 Void
###### 5.24.2.3.3.3 DELETE
This method enables an AF to request the deletion of an existing Individual
Data Reporting Provisioning Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.3.3.3-1.
Table 5.24.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.24.2.3.3.3-2 and the response data structures and response codes specified
in table 5.24.2.3.3.3-3.
Table 5.24.2.3.3.3-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.3.3.3-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Provisioning | | | | | | Session | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
NEF.
* * *
Table 5.24.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located on an alternative service instance within the same
NEF.
* * *
#### 5.24.2.4 Resource: Data Reporting Configurations
##### 5.24.2.4.1 Introduction
This resource represents the collection of Data Reporting Configurations
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.24.2.4.2 Resource definition
Resource URL: **{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}/configurations**
This resource shall support the resource URI variables defined in table
5.24.2.4.2-1.
Table 5.24.2.4.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1. sessionId string
Represents the identifier of the existing Data Reporting Provisioning Session
resource.
* * *
##### 5.24.2.4.3 Resource Methods
###### 5.24.2.4.3.1 POST
This method enables an AF to request the creation of a Data Reporting
Configuration at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.4.3.1-1.
Table 5.24.2.4.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.24.2.4.3.1-2 and the response data structures and response codes specified
in table 5.24.2.4.3.1-4.
Table 5.24.2.4.3.1-2: Data structures supported by the POST request body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------------+---+-------------+------------------------+ | Data | M | 1 | Representation of the | | ReportingConfiguration | | | Data Reporting | | | | | Configuration to be | | (NOTE) | | | created in the NEF. | +------------------------+---+-------------+------------------------+ | NOTE: The | | | | | "dataRep | | | | | ortingConfigurationId" | | | | | attribute of the | | | | | Data | | | | | ReportingConfiguration | | | | | data type shall not be | | | | | provided as it is not | | | | | applicable. | | | | +------------------------+---+-------------+------------------------+
Table 5.24.2.4.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | DataReporting | M | 1 | 201 Created | Successful | | Configuration | | | | case. A | | | | | | r | | (NOTE 2) | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.24.2.4.3.1-4: Headers supported by the _201_ response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-data-reporting-provisioning
/v1/sessions/{sessionId}/configurations
* * *
Table 5.24.2.4.3.1-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.24.2.4.3.1-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
#### 5.24.2.5 Resource: Individual Data Reporting Configuration
##### 5.24.2.5.1 Introduction
This resource represents an Individual Data Reporting Configuration resource
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.24.2.5.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.24.2.5.2-1.
Table 5.24.2.5.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1 sessionId string
Represents the identifier of the Individual Data Reporting Provisioning
Session resource. configurationId string Represents the identifier of the
Individual Data Reporting Configuration resource.
* * *
##### 5.24.2.5.3 Resource standard methods
###### 5.24.2.5.3.2 GET
This method enables an AF to retrieve an existing Individual Data Reporting
Configuration resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.5.3.2-1.
Table 5.24.2.5.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.24.2.5.3.2-2 and the response data structures and response codes specified
in table 5.24.2.5.3.2-3.
Table 5.24.2.5.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.5.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataReporting | M | 1 | 200 OK | Successful | | Configuration | | | | case. The | | | | | | requested | | (NOTE 2) | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.24.2.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.5.3.3 PUT
This method enables an AF to update an existing Individual Data Reporting
Configuration resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.5.3.3-1.
Table 5.24.2.5.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description
* * *
This method shall support the request data structures specified in table
5.24.2.5.3.3-2 and the response data structures and response codes specified
in table 5.24.2.5.3.3-3.
Table 5.24.2.5.3.3-2: Data structures supported by the PUT request body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------------+---+-------------+------------------------+ | Data | M | 1 | Parameters to | | ReportingConfiguration | | | updatethe Individual | | | | | Data Reporting | | (NOTE) | | | Configuration | | | | | resource. | +------------------------+---+-------------+------------------------+ | NOTE: The | | | | | "dataRep | | | | | ortingConfigurationId" | | | | | attribute of the | | | | | Data | | | | | ReportingConfiguration | | | | | data type shall not be | | | | | provided as it is not | | | | | applicable. | | | | +------------------------+---+-------------+------------------------+
Table 5.24.2.5.3.3-3: Data structures supported by the PUT response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataReporting | M | 1 | 200 OK | The | | Configuration | | | | Individual | | | | | | Data | | (NOTE 2) | | | | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.24.2.5.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.5.3.3A PATCH
The PATCH method is used to modify an existing Individual Data Reporting
Configuration resource.
This method shall support the request data structures specified in table
5.24.2.5.3.3A-1, and the response data structures and response codes specified
in table 5.24.2.5.3.3A-2.
Table 5.24.2.5.3.3A-1: Data structures supported by the PATCH request body on
this resource
* * *
Data type P Cardinality Description DataReportingConfigurationPatch M 1
Parameters to modify for a Data Reporting Configuration resource.
* * *
Table 5.24.2.5.3.3A-2: Data structures supported by the PATCH response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataReporting | M | 1 | 200 OK | The Data | | Configuration | | | | Reporting | | | | | | Configuration | | (NOTE 2) | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | by | | | | | | configuration | | | | | | data | | | | | | provided. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The Data | | | | | Content | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.3A-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.24.2.5.3.3A-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.5.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
Data Reporting Configuration resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.5.3.4-1.
Table 5.24.2.5.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.24.2.5.3.4-2 and the response data structures and response codes specified
in table 5.24.2.5.3.4-3.
Table 5.24.2.5.3.4-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.5.3.4-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.24.2.5.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.24.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.24.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.24.5 Data Model
#### 5.24.5.1 General
This subclause specifies the application data model supported by the
DataReportingProvisioning API. Table 5.24.5.1-1 specifies the data types
defined for the DataReportingProvisioning API.
Table 5.24.5.1-1: DataReportingProvisioning specific Data Types
* * *
Data type Clause defined Description n/a
* * *
Table 5.24.5.1-2 specifies data types re-used by the DataReportingProvisioning
API from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
DataReportingProvisioning API.
Table 5.24.5.1-2: DataReportingProvisioning re-used Data Types
* * *
Data type Reference Comments Applicability _DataReportingProvisioningSession_
3GPP TS 26.532 [60] Configuration by the AF specifying the data to be
collected, processed and reported.  
DataReportingConfiguration 3GPP TS 26.532 [60] Configuration data related to
UE data collection and reporting.  
DataReportingConfigurationPatch 3GPP TS 26.532 [60] Contains the requested
modifications to the configuration data regarding UE data collection and
reporting.
* * *
### 5.24.6 Used Features
The table below defines the features applicable to the
DataReportingProvisioning API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.24.6-1: Features used by DataReportingProvisioning API
* * *
Feature number Feature Name Description
* * *
### 5.24.7 Error handling
#### 5.24.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following subclauses shall apply.
#### 5.24.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the DataReportingProvisioning API.
#### 5.24.7.3 Application Errors
The application errors defined for the DataReportingProvisioning API are
listed in table 5.24.7.3-1.
Table 5.24.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.25 UEId API
### 5.25.1 Introduction
The Nnef_UEId service shall use the UEId API.
The API URI of UEId API shall be:
**{apiRoot}/3gpp-ueid/v1**
with the following components:
\- \"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-ueid\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.25.2 Resources
There are no resources defined for this API in this release of the
specification.
### 5.25.3 Custom Operations without associated resources
#### 5.25.3.1 Overview
The structure of the custom operation URIs of the UEId API is shown in Figure
5.25.3.1-1.
Figure 5.25.3.1-1: Custom operation URI structure of the UEId API
Table 5.25.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.25.3.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description Retrieve
/retrieve POST Request to retrieve AF specific UE ID information.
* * *
#### 5.25.3.2 Operation: Retrieve
##### 5.25.3.2.1 Description
The custom operation allows a service consumer to retrieve AF specific UE ID
information via the NEF.
##### 5.25.3.2.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 5.25.3.2.2-1 and table 5.25.3.2.2-2.
Table 5.25.3.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description UeIdReq M 1 Parameters to request to
retrieve AF specific UE ID information.
* * *
Table 5.25.3.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UeIdInfo | M | 1 | 200 OK | The requested | | | | | | AF specific | | | | | | UE ID | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | If the AF | | roblemDetails | | | | request is | | | | | | not | | | | | | authorized, | | | | | | the NEF shall | | | | | | respond with | | | | | | \"403 | | | | | | Forbidden\". | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the | | roblemDetails | | | | requested UE | | | | | | ID does not | | | | | | exist or not | | | | | | available in | | | | | | the | | | | | | subscription, | | | | | | the NEF shall | | | | | | respond with | | | | | | \"404 Not | | | | | | Found\". | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.25.3.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.25.3.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.25.4 Notifications
There are no Notifications defined for this API in this release of the
specification.
### 5.25.5 Data Model
#### 5.25.5.1 General
This clause specifies the application data model supported by the UEId API.
Table 5.25.5.1-1 specifies the data types defined for the UEId API.
Table 5.25.5.1-1: UEId service specific Data Types
* * *
Data type Clause defined Description Applicability UeIdReq 5.25.5.2.2
Represents the parameters to requestAF specific UE ID retrieval.  
UeIdInfo 5.25.5.2.3 Represents AF specific UE ID information.
* * *
Table 5.25.5.1-2 specifies data types re-used by the UEId API from other
specifications, including a reference to their respective specifications, and
when needed, a short description of their use within the UEId API.
Table 5.25.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
ExternalId 3GPP TS 29.122 [4] Represents an External Identifier. IpAddr 3GPP
TS 29.571 [8] Identifes an IP address. MacAddr48 3GPP TS 29.571 [8] Identifies
a MAC address. MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC
provider information. Port 3GPP TS 29.122 [4] Identifies an application port
ID. Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. Uinteger 3GPP TS 29.571
[8] Represents a unsigned integer.
* * *
#### 5.25.5.2 Structured data types
##### 5.25.5.2.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.25.5.2.2 Type: UeIdReq
Table 5.25.5.2.2-1: Definition of type UeIdReq
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of theAF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | appPortId | Port | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | port ID. | | | | | | | See | | | | | | | clause 9 | | | | | | | .2.3.24.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.0 | | | | | | | 40 [62] | | | | | | | for | | | | | | | further | | | | | | | details. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | IPv4 | | | | | | | address | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | \"u | | | | | | | eIpAddr\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpAddr | IpAddr | C | 0..1 | I | | | | | | | dentifies | | | | | | | a UE IP | | | | | | | Address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMacAddr | MacAddr48 | C | 0..1 | I | | | | | | | dentifies | | | | | | | a UE MAC | | | | | | | Address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.25.6 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | is always | | | | | | | applied. | | | | | | | | | | | | | | NOTE 2: | | | | | | | One of | | | | | | | the | | | | | | | \"u | | | | | | | eIpAddr\" | | | | | | | attribute | | | | | | | or | | | | | | | \"ue | | | | | | | MacAddr\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.25.5.2.3 Type: UeIdInfo
Table 5.25.5.2.3-1: Definition of type UeIdInfo
* * *
Attribute name Data type P Cardinality Description Applicability externalId
ExternalId M 1 Contains the AF specific UE ID in the form of an external
identifier uniquely identifying the user.
* * *
#### 5.25.5.3 Simple data types and enumerations
##### 5.25.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.25.5.3.2 Simple data types
The simple data types defined in table 5.25.5.3.2-1 shall be supported.
Table 5.25.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.25.6 Used Features
The table below defines the features applicable to the UEId API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.25.6-1: Features used by UEId API
* * *
Feature number Feature Name Description
* * *
### 5.25.7 Error handling
#### 5.25.7.1 General
HTTP error handling shall be supported as specified in subclause 5.2.6 of 3GPP
TS 29.122 [4].
In addition, the requirements in the following subclauses shall apply.
#### 5.25.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the UEId API.
#### 5.25.7.3 Application Errors
The application errors defined for the UEId API are listed in table
5.25.7.3-1.
Table 5.25.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
REQUEST_NOT_AUTHORIZED 403 Forbidden Indicates that the request is not
authorized. UE_ID_NOT_AVAILABLE 404 Not Found Indicates that the requested AF
specific UE ID is not available. UE_NOT_FOUND 404 Not Found Indicates that the
requested UE address is not found.
* * *
## 5.26 MBSUserService API
### 5.26.1 Introduction
The Nnef_MBSUserService service shall use the MBSUserService API.
The API URI of MBSUserService API shall be:
**{apiRoot}/3gpp-mbs-us/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-us\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.26.2 Resources
#### 5.26.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.26.2.1-1 and the resources and HTTP methods used for the MBSUserService API.
Figure 5.26.2.1-1: Resource URI structure of the MBSUserService API
Table 5.26.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.26.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS User | /mbs | GET | Retrieve all | | Services | -user-services | | the active MBS | | | | | User Services | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS User | | | | | Service. | +----------------+----------------+----------------+----------------+ | Individual MBS | /mbs-u | GET | Retrieve an | | User Service | ser-services/{ | | existng MBS | | | mbsUserServId} | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existng MBS | | | | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existng MBS | | | | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existng MBS | | | | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+
#### 5.26.2.2 Resource: MBS User Services
##### 5.26.2.2.1 Introduction
This resource represents the collection of MBS User Services managed by the
NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.26.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-us/v1/mbs-user-services**
This resource shall support the resource URI variables defined in table
5.26.2.2.2-1.
Table 5.26.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.26.1.
* * *
##### 5.26.2.2.3 Resource Standard Methods
###### 5.26.2.2.3.1 GET
This method allows an AF to retrieve all the active MBS User Service resources
at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.2.3.1-1.
Table 5.26.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.2.3.1-2 and the response data structures and response codes specified
in table 5.26.2.2.3.1-3.
Table 5.26.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.26.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array _(_ MB | M | 0..N | 200 OK | Successful | | SUserService) | | | | case. All the | | | | | | active MBS | | | | | | User Services | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.2.3.2 POST
This method enables an AF to request the creation of an MBS User Service
resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.2.3.2-1.
Table 5.26.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.2.3.2-2 and the response data structures and response codes specified
in table 5.26.2.2.3.2-3.
Table 5.26.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserService M 1 Contains the parameters
to request the creation of a new MBS User Service at the NEF.
* * *
Table 5.26.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | M | M | 1 | 201 Created | Successful | | BSUserService | | | | case. A new | | | | | | MBS User | | | | | | Service is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | resource URI | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource | | | | | | shall also be | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.26.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {api | | | | | | Root}/3gpp-mbs-us/ | | | | | | v1/mbs-user-servic | | | | | | es/{mbsUserServId} | +----------+-----------+---+-------------+--------------------+
##### 5.26.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.26.2.3 Resource: Individual MBS User Service
##### 5.26.2.3.1 Introduction
This resource represents an Individual MBS User Service managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.26.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-us/v1/mbs-user-services/{mbsUserServId}**
This resource shall support the resource URI variables defined in table
5.26.2.3.2-1.
Table 5.26.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.26.1. mbsUserServId
string Contains the unique identifier of the Individual MBS User Service
resource assigned by the NEF.
* * *
##### 5.26.2.3.3 Resource Standard Methods
###### 5.26.2.3.3.1 GET
This method allows an AF to retrieve an existing Individual MBS User Service
resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.1-1.
Table 5.26.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.1-2 and the response data structures and response codes specified
in table 5.26.2.3.3.1-3.
Table 5.26.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.26.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Successful | | BSUserService | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.3.3.2 PUT
This method enables an AF to request the update of an existing Individual MBS
User Service resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.2-1.
Table 5.26.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.2-2 and the response data structures and response codes specified
in table 5.26.2.3.3.2-3.
Table 5.26.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserService M 1 Contains the updated
representation of the Individual MBS User Service resource that is to be
updated.
* * *
Table 5.26.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Successful | | BSUserService | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.3.3.3 PATCH
This method enables an AF to request the modification of an existing
Individual MBS User Service resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.3-1.
Table 5.26.2.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.3-2 and the response data structures and response codes specified
in table 5.26.2.3.3.3-3.
Table 5.26.2.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserServicePatch M 1 Contains the
parameters to request the modification of the Individual MBS User Service
resource.
* * *
Table 5.26.2.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Successful | | BSUserService | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource was | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.3.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS User Service resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.4-1.
Table 5.26.2.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.4-2 and the response data structures and response codes specified
in table 5.26.2.3.3.4-3.
Table 5.26.2.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.26.2.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.26.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.26.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.26.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.26.5 Data Model
#### 5.26.5.1 General
This clause specifies the application data model supported by the
MBSUserService API. Table 5.26.5.1-1 specifies the data types defined for the
MBSUserService API.
Table 5.26.5.1-1: MBSUserService specific Data Types
* * *
Data type Clause defined Description Applicability
* * *
Table 5.26.5.1-2 specifies data types re-used by the MBSUserService API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MBSUserService API.
Table 5.26.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability MBSUserService 3GPP TS 29.580 [66]
Represents MBS User Service parameters.  
MBSUserServicePatch 3GPP TS 29.580 [66] Represents the requested modifications
to an MBS User Service resource representation.
* * *
#### 5.26.5.2 Structured data types
##### 5.26.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
There are no structured data types defined for this API in this release of the
specification.
#### 5.26.5.3 Simple data types and enumerations
##### 5.26.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.26.5.3.2 Simple data types
The simple data types defined in table 5.26.5.3.2-1 shall be supported.
Table 5.26.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.26.6 Used Features
The table below defines the features applicable to the MBSUserService API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.26.6-1: Features used by MBSUserService API
* * *
Feature number Feature Name Description
* * *
### 5.26.7 Error handling
#### 5.26.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.26.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSUserService API.
#### 5.26.7.3 Application Errors
The application errors defined for the MBSUserService API are listed in table
5.26.7.3-1.
Table 5.26.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.27 MBSUserDataIngestSession API
### 5.27.1 Introduction
The Nnef_MBSUserDataIngestSession service shall use the
MBSUserDataIngestSession API.
The API URI of MBSUserDataIngestSession API shall be:
**{apiRoot}/3gpp-mbs-ud-ingest/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-ud-ingest\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.27.2 Resources
#### 5.27.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.27.2.1-1 and the resources and HTTP methods used for the
MBSUserDataIngestSession API.
Figure 5.27.2.1-1: Resource URI structure of the MBSUserDataIngestSession API
Table 5.27.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.27.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS User Data | /sessions | GET | Retrieve all | | Ingest | | | the active MBS | | Sessions | | | User Data | | | | | Ingest | | | | | Sessions | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS User | | | | | Data Ingest | | | | | Session. | +----------------+----------------+----------------+----------------+ | Individual MBS | /sessio | GET | Retrieve an | | User Data | ns/{sessionId} | | existing | | Ingest Session | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | MBS User Data | /status | GET | Retrieve all | | Ingest Session | -subscriptions | | the active MBS | | Status | | | User Data | | Subscriptions | | | Ingest Session | | | | | Status | | | | | Subscriptions | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS User | | | | | Data Ingest | | | | | Session Status | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | Individual MBS | /status-su | GET | Retrieve an | | User Data | bscriptions/{s | | existing | | Ingest Session | ubscriptionId} | | Individual MBS | | Status | | | User Data | | Subscription | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing MBS | | | | | User Data | | | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existing MBS | | | | | User Data | | | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+
#### 5.27.2.2 Resource: MBS User Data Ingest Sessions
##### 5.27.2.2.1 Introduction
This resource represents the collection of MBS User Data Ingest Sessions
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.27.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/sessions**
This resource shall support the resource URI variables defined in table
5.27.2.2.2-1.
Table 5.27.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1.
* * *
##### 5.27.2.2.3 Resource Standard Methods
###### 5.27.2.2.3.1 GET
This method allows an AF to retrieve all the active MBS User Data Ingest
Sessions managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.2.3.1-1.
Table 5.27.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.2.3.1-2 and the response data structures and response codes specified
in table 5.27.2.2.3.1-3.
Table 5.27.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ar | M | 0..N | 200 OK | Successful | | ray(MBSUserDa | | | | case. All the | | taIngSession) | | | | active MBS | | | | | | User Data | | | | | | Ingest | | | | | | Sessions | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.2.3.2 POST
This method enables an AF to request the creation of an MBS User Data Ingest
Session at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.2.3.2-1.
Table 5.27.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.2.3.2-2 and the response data structures and response codes specified
in table 5.27.2.2.3.2-3.
Table 5.27.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngSession M 1 Contains the
parameters to request the creation of a new MBS User Data Ingest Session at
the NEF.
* * *
Table 5.27.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | MBSUserD | M | 1 | 201 Created | Successful | | ataIngSession | | | | case. A new | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | URI of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | also | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.27.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3gpp-m | | | | | | bs-ud-ingest/v1/se | | | | | | ssions/{sessionId} | +----------+-----------+---+-------------+--------------------+
##### 5.27.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.27.2.3 Resource: Individual MBS User Data Ingest Session
##### 5.27.2.3.1 Introduction
This resource represents an Individual MBS User Data Ingest Session resource
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.27.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/sessions/{sessionId}**
This resource shall support the resource URI variables defined in table
5.27.2.3.2-1.
Table 5.27.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1. sessionId string
Contains the unique identifier of the Individual MBS User Data Ingest Session
resource assigned by the NEF.
* * *
##### 5.27.2.3.3 Resource Standard Methods
###### 5.27.2.3.3.1 GET
This method allows an AF to retrieve an existing \"Individual MBS User Data
Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.1-1.
Table 5.27.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.1-2 and the response data structures and response codes specified
in table 5.27.2.3.3.1-3.
Table 5.27.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserD | M | 1 | 200 OK | Successful | | ataIngSession | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.3.3.2 PUT
This method enables an AF to request the update of an existing \"Individual
MBS User Data Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.2-1.
Table 5.27.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.2-2 and the response data structures and response codes specified
in table 5.27.2.3.3.2-3.
Table 5.27.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngSession M 1 Contains the
updated representation of the Individual MBS User Data Ingest Session resource
that is to be updated.
* * *
Table 5.27.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserD | M | 1 | 200 OK | Successful | | ataIngSession | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.3.3.3 PATCH
This method enables an AF to request the modification of an existing
\"Individual MBS User Data Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.3-1.
Table 5.27.2.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.3-2 and the response data structures and response codes specified
in table 5.27.2.3.3.3-3.
Table 5.27.2.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngSessionPatch M 1 Contains
the parameters to request the modification of the Individual MBS User Data
Ingest Session resource.
* * *
Table 5.27.2.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserD | M | 1 | 200 OK | Successful | | ataIngSession | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.3.3.4 DELETE
This method enables an AF to request the deletion of an existing \"Individual
MBS User Data Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.4-1.
Table 5.27.2.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.4-2 and the response data structures and response codes specified
in table 5.27.2.3.3.4-3.
Table 5.27.2.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.27.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.27.2.4 Resource: MBS User Data Ingest Session Status Subscriptions
##### 5.27.2.4.1 Introduction
This resource represents the collection of MBS User Data Ingest Session Status
Subscriptions managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.27.2.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/status-subscriptions**
This resource shall support the resource URI variables defined in table
5.27.2.4.2-1.
Table 5.27.2.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1.
* * *
##### 5.27.2.4.3 Resource Standard Methods
###### 5.27.2.4.3.1 GET
This method allows an AF to retrieve all the active MBS User Data Ingest
Session Status Subscriptions managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.4.3.1-1.
Table 5.27.2.4.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.4.3.1-2 and the response data structures and response codes specified
in table 5.27.2.4.3.1-3.
Table 5.27.2.4.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.4.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 0..N | 200 OK | Successful | | y(MBSUserData | | | | case. All the | | IngStatSubsc) | | | | active MBS | | | | | | User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscriptions | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.4.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.4.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.4.3.2 POST
This method enables an AF to request the creation of a new MBS User Data
Ingest Sesstion Status Subscription at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.4.3.2-1.
Table 5.27.2.4.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.4.3.2-2 and the response data structures and response codes specified
in table 5.27.2.4.3.2-3.
Table 5.27.2.4.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatSubsc M 1 Contains the
parameters to request the creation of a new MBS User Data Ingest Session
Status Subscription at the NEF.
* * *
Table 5.27.2.4.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | MBSUserDat | M | 1 | 201 Created | Successful | | aIngStatSubsc | | | | case. A new | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | URI of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | also | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.27.2.4.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3gpp- | | | | | | mbs-ud-ingest/v1/s | | | | | | tatus-subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
##### 5.27.2.4.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.27.2.5 Resource: Individual MBS User Data Ingest Session Status
Subscription
##### 5.27.2.5.1 Introduction
This resource represents an Individual MBS User Data Ingest Session Status
Subscription managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.27.2.5.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/status-
subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.27.2.5.2-1.
Table 5.27.2.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1. sessionId string
Contains the unique identifier of the Individual MBS User Data Ingest Session
Status Subscription resource assigned by the NEF.
* * *
##### 5.27.2.5.3 Resource Standard Methods
###### 5.27.2.5.3.1 GET
This method allows an AF to retrieve an existing \"Individual MBS User Data
Ingest Session Status Subscription\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.1-1.
Table 5.27.2.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.1-2 and the response data structures and response codes specified
in table 5.27.2.5.3.1-3.
Table 5.27.2.5.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserDat | M | 1 | 200 OK | Successful | | aIngStatSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.5.3.2 PUT
The PATCH method allows an AF to update an existing \"Individual MBS User Data
Ingest Session Status Subscription\" resource managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.2-1.
Table 5.27.2.5.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.2-2 and the response data structures and response codes specified
in table 5.27.2.5.3.2-3.
Table 5.27.2.5.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatSubsc M 1 Contains the
parameters to request the modification of an existing \"Individual MBS User
Data Ingest Session Status Subscription\" resource.
* * *
Table 5.27.2.5.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserDat | M | 1 | 200 OK | Successful | | aIngStatSubsc | | | | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | updated, and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.5.3.3 PATCH
The PATCH method allows an AF to modify an existing \"Individual MBS User Data
Ingest Session Status Subscription\" resource managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.3-1.
Table 5.27.2.5.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.3-2 and the response data structures and response codes specified
in table 5.27.2.5.3.3-3.
Table 5.27.2.5.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatSubscPatch M 1 Contains
the parameters to request the modification of an existing \"Individual MBS
User Data Ingest Session Status Subscription\" resource.
* * *
Table 5.27.2.5.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserDat | M | 1 | 200 OK | Successful | | aIngStatSubsc | | | | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | modified, and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n//a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.5.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS User Data Ingest Session Status Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.4-1.
Table 5.27.2.5.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.4-2 and the response data structures and response codes specified
in table 5.27.2.5.3.4-3.
Table 5.27.2.5.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.5.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.27.2.5.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.27.3 Custom Operations without associated resources
### There are no custom operations without associated resources defined for
this API in this release of the specification.5.27.4 Notifications
#### 5.27.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.27.4.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | MBS User Data | {notifUri} | POST | This operation | | Ingest Session | | | enables the | | Status | | | NEF to notify | | Notification | | | a previously | | | | | subscribed AF | | | | | on status | | | | | changes of an | | | | | MBS User Data | | | | | Ingest | | | | | Session. | +----------------+--------------+----------------+----------------+
#### 5.27.4.2 MBS User Data Ingest Session Status Change Notification
##### 5.27.4.2.1 Description
The MBS user data ingest session status change notification is used by the NEF
to report one or several observed MBS user data ingest session status change
events to a previously subscribed AF.
##### 5.27.4.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.27.4.2.2-1.
Table 5.27.4.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during the
creation/update/modification of the corresponding MBS User Data Ingest Session
Status Subscription.
* * *
##### 5.27.4.2.3 Operation Definition
###### 5.27.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.27.4.2.3.1-1 and the response data structures and response codes specified
in table 5.27.4.2.3.1-2.
Table 5.27.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatNotif M 1 Provides
information about the observed MBS user data ingest session status change
event notification by the NEF to the AF.
* * *
Table 5.27.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The MBS User | | | | | Content | Data Ingest | | | | | | Session | | | | | | Status Change | | | | | | Notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.27.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.27.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the MBS User Data
Ingest Session Status Change Notification may alternatively be delivered
through the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122
[4].
### 5.27.5 Data Model
#### 5.27.5.1 General
This clause specifies the application data model supported by the
MBSUserDataIngestSession API. Table 5.27.5.1-1 specifies the data types
defined for the MBSUserDataIngestSession API.
Table 5.27.5.1-1: MBSUserDataIngestSession specific Data Types
* * *
Data type Clause defined Description Applicability
* * *
Table 5.27.5.1-2 specifies data types re-used by the MBSUserDataIngestSession
API from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MBSUserDataIngestSession API.
Table 5.27.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability MBSUserDataIngSession 3GPP TS
29.580 [66] Represents MBS User Data Ingest Session parameters.  
MBSUserDataIngSessionPatch 3GPP TS 29.580 [66] Represents the requested
modifications to an MBS User Data Ingest Session resource representation.  
MBSUserDataIngStatNotif 3GPP TS 29.580 [66] Represents an MBS User Data Ingest
Session Status Notification.  
MBSUserDataIngStatSubsc 3GPP TS 29.580 [66] Represents an MBS User Data Ingest
Session Status Subscription.  
MBSUserDataIngStatSubscPatch 3GPP TS 29.580 [66] Represents the requested
modifications to an MBS User Data Ingest Session Status Subscription.
* * *
#### 5.27.5.2 Structured data types
##### 5.27.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
There are no structured data types defined for this API in this release of the
specification.
#### 5.27.5.3 Simple data types and enumerations
##### 5.27.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.27.5.3.2 Simple data types
The simple data types defined in table 5.27.5.3.2-1 shall be supported.
Table 5.27.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.27.6 Used Features
The table below defines the features applicable to the
MBSUserDataIngestSession API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.27.6-1: Features used by MBSUserDataIngestSession API
* * *
Feature number Feature Name Description 1 Notification_websocket The delivery
of notifications over Websocket is supported as described in 3GPP TS 29.122
[4]. This feature requires that the Notification_test_event feature is also
supported. 2 Notification_test_event The testing of notification connection is
supported as described in 3GPP TS 29.122 [4].
* * *
### 5.27.7 Error handling
#### 5.27.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.27.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSUserDataIngestSession API.
#### 5.27.7.3 Application Errors
The application errors defined for the MBSUserDataIngestSession API are listed
in table 5.27.7.3-1.
Table 5.27.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.28 MSEventExposure API
### 5.28.1 Introduction
The Nnef_MSEventExposure service shall use the MSEventExposure API.
The API URI of MSEventExposure API shall be:
**{apiRoot}/3gpp-ms-event-exposure/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-ms-event-exposure\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.28.2 Resources
#### 5.28.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.28.2.1-1 and the resources and HTTP methods used for the MSEventExposure
API.
Figure 5.28.2.1-1: Resource URI structure of the MSEventExposure API
Table 5.28.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.28.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Media | /subscriptions | GET | Reads all the | | Streaming | | | existing Media | | Event Exposure | | | Streaming | | Subscriptions | | | Event Exposure | | | | | Subscriptions. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | Media | | | | | Streaming | | | | | Event | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | Individual | /su | GET | Read an | | Media Sreaming | bscriptions/{s | | existing | | Event Exposure | ubscriptionId} | | Individual | | Subscription | | | Media | | | | | Streaming | | | | | Event Exposure | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing | | | | | Individual | | | | | Media | | | | | Streaming | | | | | Event Exposure | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual | | | | | Media | | | | | Streaming | | | | | Event Exposure | | | | | Subscription. | +----------------+----------------+----------------+----------------+
#### 5.28.2.2 Resource: Media Streaming Event Exposure Subscriptions
##### 5.28.2.2.1 Introduction
This resource represents the collection of Media Streaming Event Exposure
Subscription resources managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.28.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ms-event-exposure/v1/subscriptions**
This resource shall support the resource URI variables defined in table
5.28.2.2.2-1.
Table 5.28.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.28.1.
* * *
##### 5.28.2.2.3 Resource Standard Methods
###### 5.28.2.2.3.1 GET
This method allows an AF to retrieve all the active Media Streaming Event
Exposure Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.2.3.1-1.
Table 5.28.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.2.3.1-2 and the response data structures and response codes specified
in table 5.28.2.2.3.1-3.
Table 5.28.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.28.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | Successful | | rray(AfEventE | | | | case. All the | | xposureSubsc) | | | | active Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscriptions | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.28.2.2.3.2 POST
This method enables an AF to request the creation of a new Media Streaming
Event Exposure Subscription at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.2.3.2-1.
Table 5.28.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.2.3.2-2 and the response data structures and response codes specified
in table 5.28.2.2.3.2-3.
Table 5.28.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfEventExposureSubsc M 1 Contains the
parameters to request the creation of a new Media Streaming Event Exposure
Subscription at the NEF.
* * *
Table 5.28.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | AfEvent | M | 1 | 201 Created | Successful | | ExposureSubsc | | | | case. A new | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | resource URI | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | shall also be | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.28.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3g | | | | | | pp-ms-event-exposu | | | | | | re/v1/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
##### 5.28.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.28.2.3 Resource: Individual Media Streaming Event Exposure Subscription
##### 5.28.2.3.1 Introduction
This resource represents an Individual Media Streaming Event Exposure
Subscription managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.28.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ms-event-
exposure/v1/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.28.2.3.2-1.
Table 5.28.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.28.1. subscriptionId
string Contains the unique identifier of the Individual Media Streaming Event
Exposure Subscription resource assigned by the NEF.
* * *
##### 5.28.2.3.3 Resource Standard Methods
###### 5.28.2.3.3.1 GET
This method allows an AF to retrieve an existing Individual Media Streaming
Event Exposure Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.3.3.1-1.
Table 5.28.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.3.3.1-2 and the response data structures and response codes specified
in table 5.28.2.3.3.1-3.
Table 5.28.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.28.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AfEvent | M | 1 | 200 OK | Successful | | ExposureSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.28.2.3.3.2 PUT
This method enables an AF to request the update of an existing Individual
Media Streaming Event Exposure Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.3.3.2-1.
Table 5.28.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.3.3.2-2 and the response data structures and response codes specified
in table 5.28.2.3.3.2-3.
Table 5.28.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AfEventExposureSubsc M 1 Contains the
updated representation of the Individual Media Streaming Event Exposure
Subscription resource that is to be updated.
* * *
Table 5.28.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AfEvent | M | 1 | 200 OK | Successful | | ExposureSubsc | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.28.2.3.3.3 DELETE
This method enables an AF to request the deletion of an existing Individual
Media Streaming Event Exposure resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.3.3.3-1.
Table 5.28.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.3.3.3-2 and the response data structures and response codes specified
in table 5.28.2.3.3.3-3.
Table 5.28.2.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.28.2.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.28.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.28.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.28.4 Notifications
#### 5.28.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.28.4.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Media | {notifUri} | POST | This operation | | Streaming | | | enables the | | Event Exposure | | | NEF to notify | | Notification | | | a previously | | | | | subscribed AF | | | | | on the Media | | | | | Streaming | | | | | Exposure | | | | | Event(s). | +----------------+--------------+----------------+----------------+
#### 5.28.4.2 Media Streaming Event Exposure Notification
##### 5.28.4.2.1 Description
The Media Streaming Event Exposure notification is used by the NEF to report
one or several observed Media Streaming event(s) to a previously subscribed
AF.
##### 5.28.4.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.28.4.2.2-1.
Table 5.28.4.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during the
creation/update of the corresponding Media Streaming Event Exposure
Subscription.
* * *
##### 5.28.4.2.3 Operation Definition
###### 5.28.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.28.4.2.3.1-1 and the response data structures and response codes specified
in table 5.28.4.2.3.1-2.
Table 5.28.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfEventExposureNotif M 1 Contains the
Media Streaming Event Exposure Notification.
* * *
Table 5.28.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The Media | | | | | Content | Streaming | | | | | | Event | | | | | | Notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.28.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.28.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the Media
Streaming event notification may alternatively be delivered through the
Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.28.5 Data Model
#### 5.28.5.1 General
This clause specifies the application data model supported by the
MSEventExposure API. Table 5.28.5.1-1 specifies the data types defined for the
MSEventExposure API.
Table 5.28.5.1-1: MSEventExposure specific Data Types
* * *
Data type Clause defined Description Applicability
* * *
Table 5.28.5.1-2 specifies data types re-used by the MSEventExposure API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MSEventExposure API.
Table 5.28.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability AfEventExposureNotif 3GPP TS 29.517
[58] Represents a Media Streaming event notification.  
AfEventExposureSubsc 3GPP TS 29.517 [58] Represents a Media Streaming event
exposure subscription. Only applicable to the UE application events exposed
via Data Collection AF as defined in clause 4.1.1 of 3GPP TS 29.517 [58].
* * *
#### 5.28.5.2 Structured data types
##### 5.28.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
There are no structured data types defined for this API in this release of the
specification.
#### 5.28.5.3 Simple data types and enumerations
##### 5.28.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.28.5.3.2 Simple data types
The simple data types defined in table 5.28.5.3.2-1 shall be supported.
Table 5.28.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.28.6 Used Features
The table below defines the features applicable to the MSEventExposure API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.28.6-1: Features used by MSEventExposure API
* * *
Feature number Feature Name Description
* * *
### 5.28.7 Error handling
#### 5.28.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.28.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MSEventExposure API.
#### 5.28.7.3 Application Errors
The application errors defined for the MSEventExposure API are listed in table
5.28.7.3-1.
Table 5.28.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
# 6 Security
TLS shall be used to support the security communication between the NEF and
the AF over NEF Northbound interface as defined in clause 12 of 3GPP TS 33.501
[6]. The access to the NEFnorthbound APIs shall be authorized by means of
OAuth2 protocol (see IETF RFC 6749 [13]), based on local configuration, using
the \"Client Credentials\" authorization grant. If OAuth2 is used, a client,
prior to consuming services offered by the NEF Northbound APIs, shall obtain a
\"token\" from the authorization server.
# 7 Using Common API Framework
## 7.1 General
When CAPIF is used with an NEF that is used for external exposure, the NEF
shall support the following as defined in 3GPP TS 29.222 [12]:
\- the API exposing function and related APIs over CAPIF-2/2e and CAPIF-3/3e
reference points;
\- the API publishing function and related APIs over CAPIF-4/4e reference
point;
\- the API management function and related APIs over CAPIF-5/5e reference
point; and
\- at least one of the security methods for authentication and authorization,
and related security mechanisms.
In a centralized deployment as defined in 3GPP TS 23.222 [11], where the CAPIF
core function and API provider domain functions are co-located, the
interactions between the CAPIF core function and API provider domain functions
may be independent of CAPIF-3/3e, CAPIF-4/4e and CAPIF-5/5e reference points.
## 7.2 Security
When CAPIF is used for external exposure, before invoking the API exposed by
the NEF, the AF as API invoker shall negotiate the security method (PKI, TLS-
PSK or OAUTH2) with CAPIF core function and ensure the NEF has enough
credential to authenticate the AF (see 3GPP TS 29.222 [12], clause 5.6.2.2 and
clause 6.2.2.2).
If PKI or TLS-PSK is used as the selected security method between the AF and
the NEF, upon API invocation, the NEF shall retrieve the authorization
information from the CAPIF core function as described in 3GPP TS 29.222 [12],
clause 5.6.2.4.
As indicated in 3GPP TS 33.122 [14], the access to the NEF northbound APIs may
be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [13]), using
the \"Client Credentials\" authorization grant, where the CAPIF core function
(see 3GPP TS 29.222 [12]) plays the role of the authorization server.
NOTE 1: In this release, only \"Client Credentials\" authorization grant is
supported.
If OAuth2 is used as the selected security method between the AF and the NEF,
the AF, prior to consuming services offered by the NEF northbound APIs, shall
obtain a \"token\" from the authorization server, by invoking the
Obtain_Authorization service, as described in 3GPP TS 29.222 [12], clause
5.6.2.3.2.
The NEF northbound APIs do not define any scopes for OAuth2 authorization. It
is the NEF responsibility to check whether the AF is authorized to use an API
based on the \"token\". Once the NEF verifies the \"token\", it shall check
whether the NEF identifier in the \"token\" matches its own published
identifier, and whether the API name in the \"token\" matches its own
published API name. If those checks are passed, the AF has full authority to
access any resource or operation for the invoked API.
NOTE 2: For aforementioned security methods, the NEF needs to apply admission
control according to access control policies after performing the
authorization checks.
NOTE 3: The security requirement in the current clause does not apply for the
NiddConfigurationTrigger and the MsisdnLessMoSms APIs since they are the NEF
initiated interaction with the AF. How the security scheme works for the
NiddConfigurationTrigger and MsisdnLessMoSms APIs is left to configuration.
###### ## Annex A (normative): OpenAPI representation for **NEF Northbound**
APIs
# A.1 General
This Annex is based on the OpenAPI Specification [5] and provides
corresponding representations of all APIs defined in the present
specification.
NOTE 1: An OpenAPIs representation embeds JSON Schema representations of HTTP
message bodies.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 2: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see clause 5B of the 3GPP TR 21.900
[21] and clause 5.3.1 of the 3GPP TS 29.501 [32] for further information).
# A.2 TrafficInfluence API
openapi: 3.0.0
info:
title: 3gpp-traffic-influence
version: 1.2.1
description: \|
API for AF traffic influence
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-traffic-influence/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: read all of the active subscriptions for the AF
operationId: ReadAllSubscriptions
tags:
\- Traffic Influence Subscription
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateNewSubscription
tags:
\- Traffic Influence Subscription
requestBody:
description: Request to create a new subscription resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
callbacks:
notificationDestination:
\'{request.body#/notificationDestination}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventNotification\'
callbacks:
afAcknowledgement:
\'{request.body#/afAckUri}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AfAckInfo\'
responses:
\'204\':
description: No Content (successful acknowledgement)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
responses:
\'204\':
description: No Content (successful notification)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
responses:
\'201\':
description: Created (Successful creation of subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
get:
summary: read an active subscriptions for the SCS/AS and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual Traffic Influence Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing subscription resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual Traffic Influence Subscription
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
responses:
\'200\':
description: OK (Successful update of the subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'204\':
description: No Content
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partially updates/replaces an existing subscription resource
operationId: PartialUpdateAnSubscription
tags:
\- Individual Traffic Influence Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSubPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'204\':
description: No Content
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual Traffic Influence Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
TrafficInfluSub:
description: Represents a traffic influence subscription.
type: object
properties:
afServiceId:
type: string
description: Identifies a service on behalf of which the AF is issuing the
request.
afAppId:
type: string
description: Identifies an application.
afTransId:
type: string
description: Identifies an NEF Northbound interface transaction, generated by
the AF.
appReloInd:
type: boolean
description: >
Identifies whether an application can be relocated once a location of
the application has been selected.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
anyUeInd:
type: boolean
description: >
Identifies whether the AF request applies to any UE. This attribute shall
set to \"true\" if applicable for any UE, otherwise, set to \"false\".
subscribedEvents:
type: array
items:
\$ref: \'#/components/schemas/SubscribedEvent\'
minItems: 1
description: Identifies the requirement to be notified of the event(s).
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ipv4Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipDomain:
type: string
ipv6Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv6Addr\'
macAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
dnaiChgType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DnaiChangeType\'
notificationDestination:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
requestTestNotification:
type: boolean
description: >
Set to true by the SCS/AS to request the NEF to send a test notification
as defined in clause 5.2.5.3. Set to false or omitted otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
trafficFilters:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
description: Identifies IP packet filters.
ethTrafficFilters:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Identifies Ethernet packet filters.
trafficRoutes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
minItems: 1
description: Identifies the N6 traffic routing requirement.
tfcCorrInd:
type: boolean
tempValidities:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
validGeoZoneIds:
type: array
items:
type: string
minItems: 1
description: >
Identifies a geographic zone that the AF request applies only to the traffic
of UE(s) located in this specific zone.
deprecated: true
geoAreas:
type: array
items:
\$ref:
\'TS29522_AMPolicyAuthorization.yaml#/components/schemas/GeographicalArea\'
minItems: 1
description: Identifies geographical areas within which the AF request
applies.
afAckInd:
type: boolean
addrPreserInd:
type: boolean
simConnInd:
type: boolean
description: >
Indicates whether simultaneous connectivity should be temporarily
maintained for the source and target PSA.
simConnTerm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
maxAllowedUpLat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
easIpReplaceInfos:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/EasIpReplacementInfo\'
minItems: 1
description: Contains EAS IP replacement information.
easRedisInd:
type: boolean
description: Indicates the EAS rediscovery is required for the application if
it is included and set to \"true\".
eventReq:
\$ref:
\'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation\'
eventReports:
type: array
items:
\$ref: \'#/components/schemas/EventNotification\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
allOf:
\- oneOf:
\- required: [afAppId]
\- required: [trafficFilters]
\- required: [ethTrafficFilters]
\- oneOf:
\- required: [ipv4Addr]
\- required: [ipv6Addr]
\- required: [macAddr]
\- required: [gpsi]
\- required: [externalGroupId]
\- required: [anyUeInd]
anyOf:
\- not:
required: [subscribedEvents]
\- required: [notificationDestination]
TrafficInfluSubPatch:
description: >
Represents parameters to request the modification of a traffic influence
subscription resource.
type: object
properties:
appReloInd:
type: boolean
description: >
Identifies whether an application can be relocated once a location of
the application has been selected.
nullable: true
trafficFilters:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
description: Identifies IP packet filters.
ethTrafficFilters:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Identifies Ethernet packet filters.
trafficRoutes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
minItems: 1
description: Identifies the N6 traffic routing requirement.
tfcCorrInd:
type: boolean
nullable: true
tempValidities:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
minItems: 1
nullable: true
validGeoZoneIds:
type: array
items:
type: string
minItems: 1
description: >
Identifies a geographic zone that the AF request applies only to the traffic
of UE(s) located in this specific zone.
nullable: true
deprecated: true
geoAreas:
type: array
items:
\$ref:
\'TS29522_AMPolicyAuthorization.yaml#/components/schemas/GeographicalArea\'
minItems: 1
description: Identifies geographical areas within which the AF request
applies.
nullable: true
afAckInd:
type: boolean
nullable: true
addrPreserInd:
type: boolean
nullable: true
simConnInd:
type: boolean
description: >
Indicates whether simultaneous connectivity should be temporarily maintained
for the source and target PSA.
simConnTerm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
maxAllowedUpLat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UintegerRm\'
easIpReplaceInfos:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/EasIpReplacementInfo\'
minItems: 1
description: Contains EAS IP replacement information.
nullable: true
easRedisInd:
type: boolean
description: Indicates the EAS rediscovery is required for the application if
it is included and set to \"true\".
notificationDestination:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
eventReq:
\$ref:
\'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation\'
EventNotification:
description: Represents a traffic influence event notification.
type: object
properties:
afTransId:
type: string
description: Identifies an NEF Northbound interface transaction, generated by
the AF.
dnaiChgType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DnaiChangeType\'
sourceTrafficRoute:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
subscribedEvent:
\$ref: \'#/components/schemas/SubscribedEvent\'
targetTrafficRoute:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
sourceDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
targetDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
srcUeIpv4Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr\'
srcUeIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
tgtUeIpv4Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr\'
tgtUeIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
ueMac:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
afAckUri:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
required:
\- dnaiChgType
\- subscribedEvent
AfResultInfo:
description: Identifies the result of application layer handling.
type: object
properties:
afStatus:
\$ref: \'#/components/schemas/AfResultStatus\'
trafficRoute:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
upBuffInd:
type: boolean
description: >
If present and set to \"true\" it indicates that buffering of uplink traffic
to the target DNAI is needed.
easIpReplaceInfos:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/EasIpReplacementInfo\'
minItems: 1
description: Contains EAS IP replacement information.
required:
\- afStatus
AfAckInfo:
description: Represents acknowledgement information of a traffic influence
event notification.
type: object
properties:
afTransId:
type: string
ackResult:
\$ref: \'#/components/schemas/AfResultInfo\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
required:
\- ackResult
SubscribedEvent:
anyOf:
\- type: string
enum:
\- UP_PATH_CHANGE
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
description: \|
Possible values are:
\- UP_PATH_CHANGE: The AF requests to be notified when the UP path changes for
the PDU session.
AfResultStatus:
anyOf:
\- type: string
enum:
\- SUCCESS
\- TEMPORARY_CONGESTION
\- RELOC_NO_ALLOWED
\- OTHER
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
description: \|
Possible values are:
\- SUCCESS: The application layer is ready or the relocation is completed.
\- TEMPORARY_CONGESTION: The application relocation fails due to temporary
congestion.
\- RELOC_NO_ALLOWED: The application relocation fails because application
relocation is not allowed.
\- OTHER: The application relocation fails due to other reason.
# A.3 NiddConfigurationTrigger API
openapi: 3.0.0
info:
title: 3gpp-nidd-configuration-trigger
version: 1.1.1
description: \|
API for NIDD Configuration Trigger.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/:
post:
operationId: NiddConfigurationTrigger
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NiddConfigurationTrigger\'
responses:
\'200\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/NiddConfigurationTriggerReply\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
NiddConfigurationTrigger:
description: Represents a NIDD configuration trigger.
type: object
properties:
afId:
type: string
description: Identifies the trigger receiving entity.
nefId:
type: string
description: Identifies the trigger sending entity.
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afId
\- nefId
\- gpsi
\- suppFeat
NiddConfigurationTriggerReply:
description: Represents a reply to a NIDD configuration trigger.
type: object
properties:
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- suppFeat
# A.4 AnalyticsExposure API
openapi: 3.0.0
info:
title: 3gpp-analyticsexposure
version: 1.1.2
description: \|
API for Analytics Exposure.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-analyticsexposure/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
operationId: ReadAllSubscriptions
tags:
\- Analytics Exposure Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: supp-feat
in: query
description: Features supported by the NF service consumer
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateNewSubscription
tags:
\- Analytics Exposure Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
callbacks:
notification:
\'{request.body#/notifUri}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsEventNotification\'
responses:
\'204\':
description: No Content (successful notification)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'204\':
description: >
Successful case. The resource has been successfully created and no additional
content is to be sent in the response message.
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual Analytics Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
\- name: supp-feat
in: query
description: Features supported by the NF service consumer
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing subscription resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual Analytics Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
responses:
\'200\':
description: OK (Successful deletion of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual Analytics Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/fetch:
post:
summary: Fetch analytics information
operationId: FetchAnalyticsInfo
tags:
\- AnalyticsExposure API Fetch analytics information
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsRequest\'
responses:
\'200\':
description: The requested information was returned successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsData\'
\'204\':
description: No Content (The requested Analytics data does not exist)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
description: >
The request is rejected by the NEF and more details (not only the
ProblemDetails)
are returned.
content:
application/problem+json:
schema:
\$ref:
\'TS29520_Nnwdaf_AnalyticsInfo.yaml#/components/schemas/ProblemDetailsAnalyticsInfoRequest\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AnalyticsExposureSubsc:
description: Represents an analytics exposure subscription.
type: object
properties:
analyEventsSubs:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsEventSubsc\'
minItems: 1
analyRepInfo:
\$ref:
\'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifId:
type: string
eventNotifis:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsEventNotif\'
minItems: 1
failEventReports:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsFailureEventInfo\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
requestTestNotification:
type: boolean
description: >
Set to true by the AF to request the NEF to send a test notification
as defined in clause 5.2.5.3 of 3GPP TS 29.122. Set to false or omitted
otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
required:
\- analyEventsSubs
\- notifUri
\- notifId
AnalyticsEventNotification:
description: Represents an analytics event(s) notification.
type: object
properties:
notifId:
type: string
analyEventNotifs:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsEventNotif\'
minItems: 1
required:
\- notifId
\- analyEventNotifs
AnalyticsEventNotif:
description: Represents an analytics event to be reported.
type: object
properties:
analyEvent:
\$ref: \'#/components/schemas/AnalyticsEvent\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeStamp:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
failNotifyCode:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NwdafFailureCode\'
rvWaitTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
ueMobilityInfos:
type: array
items:
\$ref: \'#/components/schemas/UeMobilityExposure\'
minItems: 1
ueCommInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UeCommunication\'
minItems: 1
abnormalInfos:
type: array
items:
\$ref: \'#/components/schemas/AbnormalExposure\'
minItems: 1
congestInfos:
type: array
items:
\$ref: \'#/components/schemas/CongestInfo\'
minItems: 1
nwPerfInfos:
type: array
items:
\$ref: \'#/components/schemas/NetworkPerfExposure\'
minItems: 1
qosSustainInfos:
type: array
items:
\$ref: \'#/components/schemas/QosSustainabilityExposure\'
minItems: 1
disperInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DispersionInfo\'
minItems: 1
dnPerfInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DnPerfInfo\'
minItems: 1
svcExps:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ServiceExperienceInfo\'
minItems: 1
start:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeStampGen:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- analyEvent
\- timeStamp
AnalyticsEventSubsc:
description: Represents a subscribed analytics event.
type: object
properties:
analyEvent:
\$ref: \'#/components/schemas/AnalyticsEvent\'
analyEventFilter:
\$ref: \'#/components/schemas/AnalyticsEventFilterSubsc\'
tgtUe:
\$ref: \'#/components/schemas/TargetUeId\'
required:
\- analyEvent
AnalyticsEventFilterSubsc:
description: Represents an analytics event filter.
type: object
properties:
nwPerfReqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfRequirement\'
minItems: 1
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
appIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
dnais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
excepRequs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/Exception\'
minItems: 1
exptAnaType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExpectedAnalyticsType\'
exptUeBehav:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ExpectedUeBehaviourData\'
matchingDir:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/MatchingDirection\'
reptThlds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ThresholdLevel\'
minItems: 1
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
nsiIdInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NsiIdInfo\'
minItems: 1
qosReq:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/QosRequirement\'
qosFlowRetThds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/RetainabilityThreshold\'
minItems: 1
ranUeThrouThds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
minItems: 1
disperReqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DispersionRequirement\'
minItems: 1
listOfAnaSubsets:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/AnalyticsSubset\'
minItems: 1
dnPerfReqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DnPerformanceReq\'
minItems: 1
bwRequs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/BwRequirement\'
minItems: 1
ratFreqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/RatFreqInformation\'
minItems: 1
appServerAddrs:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AddrFqdn\'
minItems: 1
extraReportReq:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/EventReportingRequirement\'
maxNumOfTopAppUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
maxNumOfTopAppDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
visitedLocAreas:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
minItems: 1
TargetUeId:
description: Represents the target UE(s) information.
type: object
properties:
anyUeInd:
type: boolean
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
UeMobilityExposure:
description: Represents a UE mobility information.
type: object
properties:
ts:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
recurringTime:
\$ref:
\'TS29122_CpProvisioning.yaml#/components/schemas/ScheduledCommunicationTime\'
duration:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DurationSec\'
durationVariance:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Float\'
locInfo:
type: array
items:
\$ref: \'#/components/schemas/UeLocationInfo\'
minItems: 1
required:
\- duration
\- locInfo
UeLocationInfo:
description: Represents a UE location information.
type: object
properties:
loc:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
ratio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- loc
AnalyticsRequest:
description: Represents the parameters to request to retrieve analytics
information.
type: object
properties:
analyEvent:
\$ref: \'#/components/schemas/AnalyticsEvent\'
analyEventFilter:
\$ref: \'#/components/schemas/AnalyticsEventFilter\'
analyRep:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/EventReportingRequirement\'
tgtUe:
\$ref: \'#/components/schemas/TargetUeId\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- analyEvent
\- suppFeat
AnalyticsEventFilter:
description: Represents analytics event filter information.
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
dnais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
nwPerfTypes:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfType\'
minItems: 1
appIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
excepIds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExceptionId\'
minItems: 1
exptAnaType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExpectedAnalyticsType\'
exptUeBehav:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ExpectedUeBehaviourData\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
nsiIdInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NsiIdInfo\'
minItems: 1
qosReq:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/QosRequirement\'
listOfAnaSubsets:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/AnalyticsSubset\'
minItems: 1
dnPerfReqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DnPerformanceReq\'
minItems: 1
bwRequs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/BwRequirement\'
minItems: 1
ratFreqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/RatFreqInformation\'
minItems: 1
appServerAddrs:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AddrFqdn\'
minItems: 1
maxNumOfTopAppUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
maxNumOfTopAppDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
visitedLocAreas:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
minItems: 1
AnalyticsData:
description: Represents analytics data.
type: object
properties:
start:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeStampGen:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ueMobilityInfos:
type: array
items:
\$ref: \'#/components/schemas/UeMobilityExposure\'
minItems: 1
ueCommInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UeCommunication\'
minItems: 1
nwPerfInfos:
type: array
items:
\$ref: \'#/components/schemas/NetworkPerfExposure\'
minItems: 1
abnormalInfos:
type: array
items:
\$ref: \'#/components/schemas/AbnormalExposure\'
minItems: 1
congestInfos:
type: array
items:
\$ref: \'#/components/schemas/CongestInfo\'
minItems: 1
qosSustainInfos:
type: array
items:
\$ref: \'#/components/schemas/QosSustainabilityExposure\'
minItems: 1
disperInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DispersionInfo\'
minItems: 1
dnPerfInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DnPerfInfo\'
minItems: 1
svcExps:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ServiceExperienceInfo\'
minItems: 1
disperReqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/DispersionRequirement\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- suppFeat
NetworkPerfExposure:
description: Represents network performance information.
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
nwPerfType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfType\'
relativeRatio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
absoluteNum:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- locArea
\- nwPerfType
AbnormalExposure:
description: Represents a user\'s abnormal behavior information.
type: object
properties:
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
appId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
excep:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/Exception\'
ratio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
addtMeasInfo:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/AdditionalMeasurement\'
required:
\- excep
CongestInfo:
description: Represents a UE\'s user data congestion information.
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
cngAnas:
type: array
items:
\$ref: \'#/components/schemas/CongestionAnalytics\'
minItems: 1
required:
\- locArea
\- cngAnas
CongestionAnalytics:
description: >
Represents data congestion analytics for transfer over the user plane,
control plane or both.
type: object
properties:
cngType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/CongestionType\'
tmWdw:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
nsi:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ThresholdLevel\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
topAppListUl:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/TopApplication\'
minItems: 1
topAppListDl:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/TopApplication\'
minItems: 1
required:
\- cngType
\- tmWdw
\- nsi
QosSustainabilityExposure:
description: Represents a QoS sustainability information.
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
startTs:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
endTs:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
qosFlowRetThd:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/RetainabilityThreshold\'
ranUeThrouThd:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- locArea
\- startTs
\- endTs
AnalyticsFailureEventInfo:
description: >
Represents an event for which the subscription request was not successful
and including the associated failure reason.
type: object
properties:
event:
\$ref: \'#/components/schemas/AnalyticsEvent\'
failureCode:
\$ref: \'#/components/schemas/AnalyticsFailureCode\'
required:
\- event
\- failureCode
AnalyticsEvent:
anyOf:
\- type: string
enum:
\- UE_MOBILITY
\- UE_COMM
\- ABNORMAL_BEHAVIOR
\- CONGESTION
\- NETWORK_PERFORMANCE
\- QOS_SUSTAINABILITY
\- DISPERSION
\- DN_PERFORMANCE
\- SERVICE_EXPERIENCE
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Possible values are:
\- UE_MOBILITY: The AF requests to be notified about analytics information of
UE mobility.
\- UE_COMM: The AF requests to be notified about analytics information of UE
communication.
\- ABNORMAL_BEHAVIOR: The AF requests to be notified about analytics
information of UE\'s abnormal behavior.
\- CONGESTION: The AF requests to be notified about analytics information of
user data congestion information.
\- NETWORK_PERFORMANCE: The AF requests to be notified about analytics
information of network performance.
\- QOS_SUSTAINABILITY: The AF requests to be notified about analytics
information of QoS sustainability.
\- DISPERSION: The AF requests to be notified about analytics information of
Dispersion analytics.
\- DN_PERFORMANCE: The AF requests to be notified about analytics information
of DN performance.
\- SERVICE_EXPERIENCE: The AF requests to be notified about analytics
information of service experience.
AnalyticsFailureCode:
anyOf:
\- type: string
enum:
\- UNAVAILABLE_DATA
\- BOTH_STAT_PRED_NOT_ALLOWED
\- UNSATISFIED_REQUESTED_ANALYTICS_TIME
\- OTHER
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Possible values are:
\- UNAVAILABLE_DATA: The event is rejected since necessary data to perform the
service is unavailable.
\- BOTH_STAT_PRED_NOT_ALLOWED: The event is rejected since the start time is
in the past and the end time is in the future, which means the NF service
consumer requested both statistics and prediction for the analytics.
\- UNSATISFIED_REQUESTED_ANALYTICS_TIME: Indicates that the requested event is
rejected since the analytics information is not ready when the time indicated
by the timeAnaNeeded attribute (as provided during the creation or
modification of subscription) is reached.
\- OTHER: The event is rejected due to other reasons.
# A.5 5GLANParameterProvision API
openapi: 3.0.0
info:
title: 3gpp-5glan-pp
version: 1.1.1
description: \|
API for 5G LAN Parameter Provision.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-5glan-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
operationId: RealAllSubscriptions
tags:
\- 5GLAN Parameters Provision Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateAnSubscription
tags:
\- 5GLAN Parameters Provision Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing subscription resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
responses:
\'200\':
description: OK (Successful deletion of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial updates an existing subscription resource
operationId: PartialUpdateAnSubscription
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvisionPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
5GLanParametersProvision:
description: Represents an individual 5G LAN parameters provision subscription
resource.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
5gLanParams:
\$ref: \'#/components/schemas/5GLanParameters\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- 5gLanParams
\- suppFeat
5GLanParametersProvisionPatch:
description: >
Represents the 5G LAN parameters to request the modification of a subscription
to provision parameters.
type: object
properties:
5gLanParamsPatch:
\$ref: \'#/components/schemas/5GLanParametersPatch\'
5GLanParameters:
description: Represents 5G LAN service related parameters that need to be
provisioned.
type: object
properties:
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsis:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minProperties: 1
description: >
Contains the list of 5G VN Group members, each member is identified by GPSI.
Any string value can be used as a key of the map.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
aaaIpv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
aaaIpv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
aaaUsgs:
type: array
items:
\$ref: \'#/components/schemas/AaaUsage\'
minItems: 1
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
sessionType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
sessionTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
minItems: 1
description: Further allowed PDU Session types.
appDesps:
type: object
additionalProperties:
\$ref: \'#/components/schemas/AppDescriptor\'
minProperties: 1
description: Describes the operation systems and the corresponding
applications for each operation systems. The key of map is osId.
required:
\- exterGroupId
\- gpsis
\- dnn
\- snssai
\- sessionType
\- appDesps
5GLanParametersPatch:
description: Represents 5G LAN service related parameters that need to be
modified.
type: object
properties:
gpsis:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GpsiRm\'
minProperties: 1
description: >
Contains the list of 5G VN Group members, each member is identified by GPSI.
Any string value can be used as a key of the map.
appDesps:
type: object
additionalProperties:
\$ref: \'#/components/schemas/AppDescriptorRm\'
minProperties: 1
description: >
Describes the operation systems and the corresponding applications for
each operation systems. The key of map is osId.
AppDescriptor:
description: Represents an operation system and the corresponding
applications.
type: object
properties:
osId:
\$ref: \'TS29519_Policy_Data.yaml#/components/schemas/OsId\'
appIds:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minProperties: 1
description: >
Identifies applications that are running on the UE\'s operating system.
Any string value can be used as a key of the map.
required:
\- osId
\- appIds
AppDescriptorRm:
description: >
Represents the same as the AppDescriptor data type but with the nullable:true
property.
type: object
properties:
appIds:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationIdRm\'
minProperties: 1
description: >
Identifies applications that are running on the UE\'s operating system.
Any string value can be used as a key of the map.
AaaUsage:
anyOf:
\- type: string
enum:
\- AUTH
\- IP_ALLOC
\- type: string
description: >
This string identifies the usage of secondary authentication/authorization,
and/or UE IP address allocation from the DN-AAA server.
description: \|
Possible values are:
\- AUTH: secondary authentication/authorization needed from DN-AAA server
\- IP_ALLOC: UE IP address allocation needed from DN-AAA server
# A.6 ApplyingBdtPolicy API
openapi: 3.0.0
info:
title: 3gpp-applying-bdt-policy
version: 1.1.1
description: \|
API for applying BDT policy
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-applying-bdt-policy/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: read all of the active subscriptions for the AF
operationId: ReadAllSubscriptions
tags:
\- Applied BDT Policy Subscription
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateNewSubscription
tags:
\- Applied BDT Policy Subscription
requestBody:
description: Request to create a new subscription resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
responses:
\'201\':
description: Created (Successful creation of subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
get:
summary: read an active subscriptions for the SCS/AS and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual Applied BDT Policy Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial updates/replaces an existing subscription resource
operationId: PartialUpdateAnSubscription
tags:
\- Individual Applied BDT Policy Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicyPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
\'204\':
description: No content. The subscription was modified successfully.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual Applied BDT Policy Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AppliedBdtPolicy:
description: Represents an applied BDT policy.
type: object
properties:
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
bdtRefId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
required:
\- bdtRefId
\- suppFeat
oneOf:
\- required: [gpsi]
\- required: [externalGroupId]
AppliedBdtPolicyPatch:
description: >
Represents the parameters to request the modification of a subscription to
applied BDT policy.
type: object
properties:
bdtRefId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\'
required:
\- bdtRefId
# A.7 IPTVConfiguration API
openapi: 3.0.0
info:
title: 3gpp-iptvconfiguration
version: 1.1.1
description: \|
API for IPTV configuration.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-iptvconfiguration/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/configurations:
get:
summary: read all of the active configurations for the AF
operationId: ReadAllSubscriptions
tags:
\- IPTV Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active configurations for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/IptvConfigData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new configuration resource
operationId: CreateNewSubscription
tags:
\- IPTV Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new configuration creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
responses:
\'201\':
description: Created (Successful creation of configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/configurations/{configurationId}:
get:
summary: read an active configuration for the AF and the configuration Id
operationId: ReadAnSubscription
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing configuration resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing configuration
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
responses:
\'200\':
description: OK (Successful deletion of the existing configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial updates an existing configuration resource
operationId: PartialUpdateAnSubscription
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/IptvConfigDataPatch\'
responses:
\'200\':
description: OK. The configuration was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing configuration
operationId: DeleteAnSubscription
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing configuration)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
IptvConfigData:
description: Represents an individual IPTV Configuration resource.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
afAppId:
type: string
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
multiAccCtrls:
type: object
additionalProperties:
\$ref: \'#/components/schemas/MulticastAccessControl\'
minProperties: 1
description: >
Identifies a list of multicast address access control information.
Any string value can be used as a key of the map.
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afAppId
\- multiAccCtrls
\- suppFeat
IptvConfigDataPatch:
description: >
Represents the parameters to request the modification of an IPTV Configuration
resource.
type: object
properties:
multiAccCtrls:
type: object
additionalProperties:
\$ref: \'#/components/schemas/MulticastAccessControl\'
minProperties: 1
description: >
Identifies a list of multicast address access control information.
Any string value can be used as a key of the map.
MulticastAccessControl:
description: Represents multicast address access control information.
type: object
properties:
srcIpv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
srcIpv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
multicastV4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
multicastV6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
accStatus:
\$ref: \'#/components/schemas/AccessRightStatus\'
required:
\- accStatus
AccessRightStatus:
anyOf:
\- type: string
enum:
\- FULLY_ALLOWED
\- PREVIEW_ALLOWED
\- NO_ALLOWED
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
description: \|
Possible values are:
\- FULLY_ALLOWED: The User is fully allowed to access to the channel.
\- PREVIEW_ALLOWED: The User is preview allowed to access to the channel.
\- NO_ALLOWED: The User is not allowed to access to the channel.
# A.8 LpiParameterProvision API
openapi: 3.0.0
info:
title: 3gpp-lpi-pp
version: 1.1.2
description: \|
API for Location Privacy Indication Parameters Provisioning.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-lpi-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/provisionedLpis:
get:
summary: read all of the active LPI Parameters Provisioning resources for the
AF
operationId: ReadAllResources
tags:
\- LPI Parameters Provisionings
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active resources for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new LPI Parameters Provisioning resource
operationId: CreateNewResource
tags:
\- LPI Parameters Provisionings
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new resource creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/provisionedLpis/{provisionedLpiId}:
get:
summary: read an active LPI Parameters Provisioning resource for the AF and
the provisioned LPI Id
operationId: ReadAnResource
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing LPI Parameters Provisioning
resource
operationId: FullyUpdateAnResource
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
responses:
\'200\':
description: >
OK. The resource has been successfully updated and a representation of the
updated
resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partially modifies an existing LPI Parameters Provisioning resource.
operationId: PartialUpdateAnResource
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
requestBody:
description: Parameters to modify the existing resource.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvisionPatch\'
responses:
\'200\':
description: >
OK. The resource has been successfully modified and a representation of the
updated resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'204\':
description: >
Successful case. The resource has been successfully modified and no additional
content
is sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing LPI Parameters Provisioning resource
operationId: DeleteAnResource
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing resource)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
LpiParametersProvision:
description: Represents an individual LPI Parameters Provisionings resource.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
lpi:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/Lpi\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- lpi
\- suppFeat
LpiParametersProvisionPatch:
description: Represents the parameters to modify an existing Individual LPI
Parameters Provisionings resource.
type: object
properties:
lpi:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/Lpi\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
# A.9 ServiceParameter API
openapi: 3.0.0
info:
title: 3gpp-service-parameter
version: 1.1.3
description: \|
API for AF service paramter
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.9.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-service-parameter/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: read all of the active subscriptions for the AF
operationId: ReadAllSubscriptions
tags:
\- Service Parameter Subscriptions
parameters:
\- name: gpsis
in: query
description: The GPSI of the requested UE(s).
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
\- name: ip-addrs
in: query
description: The IP address(es) of the requested UE(s).
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
minItems: 1
\- name: ip-domain
in: query
description: >
The IPv4 address domain identifier. The attribute may only be provided
if IPv4 address is included in the ip-addrs query parameter.
required: false
schema:
type: string
\- name: mac-addrs
in: query
description: The MAC address(es) of the requested UE(s).
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
minItems: 1
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/ServiceParameterData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateAnSubscription
tags:
\- Service Parameter Subscriptions
requestBody:
description: Request to create a new subscription resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
responses:
\'201\':
description: Created (Successful creation of subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
notificationDestination:
\'{\$request.body#/notificationDestination}\':
post:
requestBody:
description: >
Notifications upon AF Service Parameter Authorization Update,
and/or AF subscribed event notification of the outcome related
to the invocation of service parameters provisioning.
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AfNotification\'
minItems: 1
responses:
\'204\':
description: Expected response to a successful callback processing without a
body
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
get:
summary: read an active subscriptions for the SCS/AS and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual Service Parameter Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing subscription resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual Service Parameter Subscription
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
responses:
\'200\':
description: OK (Successful update of the subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
\'204\':
description: OK (Successful update of the subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial updates/replaces an existing subscription resource
operationId: PartialUpdateAnSubscription
tags:
\- Individual Service Parameter Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/ServiceParameterDataPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
\'204\':
description: OK. The subscription was modified successfully.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual Service Parameter Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
ServiceParameterData:
description: Represents an individual Service Parameter subscription resource.
type: object
properties:
afServiceId:
type: string
description: Identifies a service on behalf of which the AF is issuing the
request.
appId:
type: string
description: Identifies an application.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
anyUeInd:
type: boolean
description: >
Identifies whether the AF request applies to any UE. This attribute
shall set to \"true\" if applicable for any UE, otherwise, set to \"false\".
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ueIpv4:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ueIpv6:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
ueMac:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
subNotifEvents:
type: array
items:
\$ref: \'#/components/schemas/Event\'
minItems: 1
notificationDestination:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
requestTestNotification:
type: boolean
description: >
Set to true by the AF to request the NEF to send a test notification
as defined in clause 5.2.5.3 of 3GPP TS 29.122. Set to false or omitted
otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
paramOverPc5:
\$ref: \'#/components/schemas/ParameterOverPc5\'
paramOverUu:
\$ref: \'#/components/schemas/ParameterOverUu\'
paramForProSeDd:
\$ref: \'#/components/schemas/ParamForProSeDd\'
paramForProSeDc:
\$ref: \'#/components/schemas/ParamForProSeDc\'
paramForProSeU2NRelUe:
\$ref: \'#/components/schemas/ParamForProSeU2NRelUe\'
paramForProSeRemUe:
\$ref: \'#/components/schemas/ParamForProSeRemUe\'
urspGuidance:
type: array
items:
\$ref: \'#/components/schemas/UrspRuleRequest\'
minItems: 1
description: Contains the service parameter used to guide the URSP.
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ServiceParameterDataPatch:
description: >
Represents the parameters to request the modification of a service parameter
subscription resource.
type: object
properties:
paramOverPc5:
\$ref: \'#/components/schemas/ParameterOverPc5Rm\'
paramOverUu:
\$ref: \'#/components/schemas/ParameterOverUuRm\'
paramForProSeDd:
\$ref: \'#/components/schemas/ParamForProSeDdRm\'
paramForProSeDc:
\$ref: \'#/components/schemas/ParamForProSeDcRm\'
paramForProSeU2NRelUe:
\$ref: \'#/components/schemas/ParamForProSeU2NRelUeRm\'
paramForProSeRemUe:
\$ref: \'#/components/schemas/ParamForProSeRemUeRm\'
urspGuidance:
type: array
items:
\$ref: \'#/components/schemas/UrspRuleRequest\'
minItems: 1
description: Contains the service parameter used to guide the URSP.
subNotifEvents:
type: array
items:
\$ref: \'#/components/schemas/Event\'
minItems: 1
nullable: true
notificationDestination:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ParameterOverPc5:
description: >
Represents configuration parameters for V2X communications over PC5 reference
point.
type: string
ParameterOverPc5Rm:
description: >
Represents the same as the ParameterOverPc5 data type but with the
nullable:true property.
type: string
nullable: true
ParameterOverUu:
description: >
Represents configuration parameters for V2X communications over Uu reference
point.
type: string
ParameterOverUuRm:
description: >
Represents the same as the ParameterOverUu data type but with the
nullable:true property.
type: string
nullable: true
ParamForProSeDd:
description: Represents the service parameters for 5G ProSe direct discovery.
type: string
ParamForProSeDdRm:
description: >
This data type is defined in the same way as the ParamForProSeDd data type,
but with the OpenAPI nullable property set to true.
type: string
nullable: true
ParamForProSeDc:
description: Represents the service parameters for 5G ProSe direct
communications.
type: string
ParamForProSeDcRm:
description: >
This data type is defined in the same way as the ParamForProSeDc data type,
but with the OpenAPI nullable property set to true.
type: string
nullable: true
ParamForProSeU2NRelUe:
description: Represents the service parameters for 5G ProSe UE-to-network
relay UE.
type: string
ParamForProSeU2NRelUeRm:
description: >
This data type is defined in the same way as the ParamForProSeU2NRelay data
type,
but with the OpenAPI nullable property set to true.
type: string
nullable: true
ParamForProSeRemUe:
description: Represents the service parameters for 5G ProSe Remate UE.
type: string
ParamForProSeRemUeRm:
description: >
This data type is defined in the same way as the ParamForProSeRemUe data type,
but with the OpenAPI nullable property set to true.
type: string
nullable: true
UrspRuleRequest:
description: Contains parameters that can be used to guide the URSP.
type: object
properties:
trafficDesc:
\$ref: \'#/components/schemas/TrafficDescriptorComponents\'
relatPrecedence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
routeSelParamSets:
type: array
items:
\$ref: \'#/components/schemas/RouteSelectionParameterSet\'
minItems: 1
description: >
Sets of parameters that may be used to guide the Route Selection Descriptors
of the
URSP.
RouteSelectionParameterSet:
description: >
Contains parameters that can be used to guide the Route Selection
Descriptors of the URSP.
type: object
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
precedence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
spatialValidityAreas:
type: array
items:
\$ref:
\'TS29522_AMPolicyAuthorization.yaml#/components/schemas/GeographicalArea\'
minItems: 1
description: >
Indicates where the route selection parameters apply. It may correspond
to a geographical area, for example using a geographic shape that
is known to the AF and is configured by the operator to correspond to a list
of or TAIs.
spatialValidityTais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
description: >
Indicates the TAIs in which the route selection parameters apply. This
attribute is
applicable only within the 5GC and it shall not be included in the request
messages of
untrusted AFs for URSP guidance.
Event:
anyOf:
\- type: string
enum:
  * SUCCESS_UE_POL_DEL_SP
  * UNSUCCESS_UE_POL_DEL_SP
\- type: string
description: >
This string identifies AF subscribe to event(s) notifications related to
AF provisioned service parameters.
description: \|
Possible values are:
\- SUCCESS_UE_POL_DEL_SP: Successful UE Policy Delivery related to
the invocation of AF provisioned Service Parameters.
\- UNSUCCESS_UE_POL_DEL_SP: Unsuccessful UE Policy Delivery related to the
invocation of AF
provisioned Service Parameters.
AfNotification:
description: >
Notifications upon AF Service Parameter Authorization Update e.g. to
revoke the authorization, and/or AF subscribed event notification of the
outcome related to the invocation of service parameter provisioning.
type: object
properties:
subscription:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
reportEvent:
\$ref: \'#/components/schemas/Event\'
authResult:
\$ref: \'#/components/schemas/AuthorizationResult\'
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
eventInfo:
\$ref: \'#/components/schemas/EventInfo\'
required:
\- subscription
anyOf:
\- required: [reportEvent]
\- required: [authResult]
TrafficDescriptorComponents:
description: Traffic descriptor components for the requested URSP.
type: object
properties:
appDescs:
type: object
additionalProperties:
\$ref:
\'TS29522_5GLANParameterProvision.yaml#/components/schemas/AppDescriptor\'
minProperties: 1
description: Describes the operation systems and the corresponding
applications for each
operation systems. The key of map is osId.
flowDescs:
type: array
items:
type: string
minItems: 1
description: Represents a 3-tuple with protocol, server ip and server port for
UL/DL
application traffic. The content of the string has the same encoding as the
IPFilterRule
AVP value as defined in IETF RFC 6733.
domainDescs:
type: array
items:
type: string
minItems: 1
description: FQDN(s) or a regular expression which are used as a domain name
matching
criteria.
ethFlowDescs:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Descriptor(s) for destination information of non-IP traffic in
which only
ethernet flow description is defined.
dnns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
description: This is matched against the DNN information provided by the
application.
connCaps:
type: array
items:
\$ref: \'#/components/schemas/ConnectionCapabilities\'
minItems: 1
description: This is matched against the information provided by a UE
application when it
requests a network connection with certain capabilities.
anyOf:
\- required: [appDescs]
\- required: [flowDescs]
\- required: [domainDescs]
\- required: [ethFlowDescs]
\- required: [dnns]
\- required: [connCaps]
AuthorizationResult:
anyOf:
\- type: string
enum:
\- AUTH_REVOKED
\- type: string
description: >
This string indicates NEF notify the AF about the service parameters
authorization
updates result.
description: \|
Possible values are:
\- AUTH_REVOKED: Indicated the service parameters authorization is revoked.
EventInfo:
description: Indicates the event information.
type: object
properties:
failureCause:
\$ref: \'#/components/schemas/Failure\'
Failure:
oneOf:
\- type: string
enum:
\- UNSPECIFIED
\- UE_NOT_REACHABLE
\- UNKNOWN
\- UE_TEMP_UNREACHABLE
\- type: string
description: >
This string represents the failure reason for the unsuccessful result. May be
present if the reported reportEvent attribute is \"UNSUCCESS_UE_POL_DEL_SP\".
description: \|
Possible values are:
\- UNSPECIFIED: Indicates the PCF received the UE sent UE policy delivery
service cause #111
(Protocol error, unspecified).
\- UE_NOT_REACHABLE: Indicates the PCF received the notification from the AMF
that the UE is
not reachable.
\- UNKNOWN: Indicates unknown reasons upon no response from the UE, e.g. UPDS
message type is
not defined or not implemented by the UE, or not compatible with the UPDS
state, in which
the UE shall ignore the UPDS message.
\- UE_TEMP_UNREACHABLE: Indicates the PCF received the notification from the
AMF that the UE
is not reachable but the PCF will retry again.
ConnectionCapabilities:
anyOf:
\- type: string
enum:
\- IMS
\- MMS
\- SUPL
\- INTERNET
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: >
Possible values are
\- IMS: Indicates the connection capability to support IMS service.
\- MMS: Indicates the connection capability to support MMS service.
\- SUPL: Indicates the connection capability to support SUPL service.
\- INTERNET: Indicates the connection capability to support Internet service.
# A.10 ACSParameterProvision API
openapi: 3.0.0
info:
title: 3gpp-acs-pp
version: 1.1.2
description: \|
API for 5G ACS Parameter Provision.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-acs-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
operationId: ReadAllSubscriptions
tags:
\- ACS Configuration Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AcsConfigurationData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateAnSubscription
tags:
\- ACS Configuration Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing subscription resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
responses:
\'200\':
description: OK (Successful update of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial modifies an existing subscription resource.
operationId: PartialUpdateAnSubscription
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to modify the existing subscription.
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationDataPatch\'
responses:
\'200\':
description: >
OK. The subscription resource was successfully modified and a representation
of the
updated resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
\'204\':
description: >
No Content. The resource has been successfully modified and no additional
content is to
be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AcsConfigurationData:
description: Represents an individual ACS Configuration subscription resource.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
acsInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AcsInfo\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- acsInfo
\- suppFeat
AcsConfigurationDataPatch:
description: >
Represents the parameters to request to modify an existing Individual ACS
Configuration
subscription resource.
type: object
properties:
acsInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AcsInfo\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
# A.11 MoLcsNotify API
openapi: 3.0.0
info:
title: 3gpp-mo-lcs-notify
version: 1.1.1
description: \|
API for UE updated location information notification.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-mo-lcs-notify/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/:
post:
summary: UE location information update notification
operationId: UELocationNotify
tags:
\- AF level UE location update notification operation
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateData\'
required: true
responses:
\'200\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateDataReply\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
LocUpdateData:
description: Represents a UE updated location information.
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
locInfo:
\$ref: \'TS29122_MonitoringEvent.yaml#/components/schemas/LocationInfo\'
lcsQosClass:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsQosClass\'
svcId:
\$ref: \'TS29515_Ngmlc_Location.yaml#/components/schemas/ServiceIdentity\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- gpsi
\- lcsQosClass
\- locInfo
\- suppFeat
LocUpdateDataReply:
description: Represents a reply to a MO LCS notification.
type: object
properties:
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- suppFeat
# A.12 AKMA API
openapi: 3.0.0
info:
title: 3gpp-akma
version: 1.0.1
description: \|
API for AKMA.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-akma/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/retrieve:
post:
summary: Retrieve AKMA Application Key Information.
operationId: RetrieveAKMAAppKey
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AkmaAfKeyRequest\'
responses:
\'200\':
description: The requested information was returned successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AkmaAfKeyData\'
\'204\':
description: No Content.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AkmaAfKeyRequest:
description: >
Represents the parameters to request the retrieval of AKMA Application Key
information.
type: object
properties:
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
afId:
\$ref: \'#/components/schemas/AfId\'
aKId:
\$ref: \'#/components/schemas/AKId\'
anonInd:
type: boolean
description: >
Indicates whether an anonymous user access. Set to \"true\" if an anonymous
user access is
requested; otherwise set to \"false\". Default value is \"false\" if omitted.
default: false
required:
\- afId
\- aKId
AkmaAfKeyData:
description: Represents AKMA Application Key information data.
type: object
properties:
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
expiry:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
kaf:
type: string
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
required:
\- kaf
\- expiry
AfId:
description: Represents an AF identifier.
type: string
AKId:
description: Represents an AKMA Key Identifier.
type: string
# A.13 TimeSyncExposure API
openapi: 3.0.0
info:
title: 3gpp-time-sync-exposure
version: 1.0.1
description: \|
API for time synchronization exposure.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-time-sync/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
operationId: ReadAllSubscriptions
tags:
\- Time Synchronization Exposure Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
operationId: CreateNewSubscription
tags:
\- Time Synchronization Exposure Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
timeSyncSubsNotification:
\'{\$request.body#/subsNotifUri}\':
post:
requestBody:
description: Notification for Time Synchronization Capability for a list of
UEs.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsNotif\'
responses:
\'204\':
description: Expected response to a successful callback processing without a
body
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
operationId: ReadAnSubscription
tags:
\- Individual Time Synchronization Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing subscription resource
operationId: FullyUpdateAnSubscription
tags:
\- Individual Time Synchronization Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
responses:
\'200\':
description: OK (Successful deletion of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureSubsc\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
operationId: DeleteAnSubscription
tags:
\- Individual Time Synchronization Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}/configurations:
get:
summary: read all of the active configurations for the AF
operationId: ReadAllConfirguations
tags:
\- Time Synchronization Exposure Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
description: String identifying the individual synchronization Exposure
Subscription resource in the NEF
in: path
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active configurations for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new configuration resource
operationId: CreateNewConfirguation
tags:
\- Time Synchronization Exposure Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
description: >
String identifying the individual synchronization Exposure Subscription
resource in the NEF.
in: path
required: true
schema:
type: string
requestBody:
description: new configuration creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
timeSyncConfigNotification:
\'{\$request.body#/configNotifUri}\':
post:
requestBody:
description: Notification for Time Synchronization Service status.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfigNotif\'
responses:
\'204\':
description: Expected response to a successful callback processing without a
body
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}/configurations/{instanceReference}:
get:
summary: read an active subscription for the AF and the subscription Id
operationId: ReadTimeSynSubscription
tags:
\- Individual Time Synchronization Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
\- name: instanceReference
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing configuration resource
operationId: FullyUpdateAnConfiguration
tags:
\- Individual Time Synchronization Exposure Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
\- name: instanceReference
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing configuration
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
responses:
\'200\':
description: OK (Successful deletion of the existing configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TimeSyncExposureConfig\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing configuration
operationId: DeleteAnConfiguration
tags:
\- Individual Time Synchronization Exposure Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
\- name: instanceReference
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing configuration)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
TimeSyncExposureSubsc:
description: >
Contains requested parameters for the subscription to the notification
of time synchronization capability.
type: object
properties:
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
description: >
Contains a list of UE for which the time synchronization capabilities is
requested.
anyUeInd:
type: boolean
description: >
Any UE indication. This IE shall be present if the event subscription
is applicable to any UE. Default value \"false\" is used, if not present.
afServiceId:
type: string
description: Identifies a service on behalf of which the AF is issuing the
request.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
subsNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
subsNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
subscribedEvents:
type: array
items:
\$ref: \'#/components/schemas/SubscribedEvent\'
minItems: 1
description: Subscribed events
eventFilters:
type: array
items:
\$ref: \'#/components/schemas/EventFilter\'
minItems: 1
description: >
Contains the filter conditions to match for notifying the event(s)
of time synchronization capabilities for a list of UE(s).
notifMethod:
\$ref:
\'TS29508_Nsmf_EventExposure.yaml#/components/schemas/NotificationMethod\'
maxReportNbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
repPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
requestTestNotification:
type: boolean
description: >
Set to true by the SCS/AS to request the SCEF to send a test notification
as defined in clause 5.2.5.3 of 3GPP TS 29.122. Set to false or omitted
otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- subsNotifUri
\- subsNotifId
TimeSyncCapability:
description: Contains time synchronization capability.
type: object
properties:
upNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
gmCapables:
type: array
items:
\$ref: \'#/components/schemas/GmCapable\'
asTimeRes:
\$ref: \'#/components/schemas/AsTimeResource\'
ptpCapForUes:
type: object
additionalProperties:
\$ref: \'#/components/schemas/PtpCapabilitiesPerUe\'
minProperties: 1
description: >
Contains the PTP capabilities supported by each of the UE(s).
The key of the map is the gpsi.
required:
\- upNodeId
anyOf:
\- required: [gmCapables]
\- required: [asTimeRes]
TimeSyncExposureConfig:
description: Contains the Time Synchronization Configuration parameters.
type: object
properties:
upNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
reqPtpIns:
\$ref: \'#/components/schemas/PtpInstance\'
gmEnable:
type: boolean
description: >
Indicates that the AF requests 5GS to act as a grandmaster for PTP
or gPTP if it is included and set to true.
gmPrio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
timeDom:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
timeSyncErrBdgt:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
configNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
configNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
tempValidity:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
required:
\- upNodeId
\- reqPtpIns
\- timeDom
\- configNotifId
\- configNotifUri
TimeSyncExposureSubsNotif:
description: Contains the notification of time synchronization capability.
type: object
properties:
subsNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
eventNotifs:
type: array
items:
\$ref: \'#/components/schemas/SubsEventNotification\'
minItems: 1
required:
\- subsNotifId
\- eventNotifs
SubsEventNotification:
description: Notifications about subscribed Individual Events.
type: object
properties:
event:
\$ref: \'#/components/schemas/SubscribedEvent\'
timeSyncCapas:
type: array
items:
\$ref: \'#/components/schemas/TimeSyncCapability\'
minItems: 1
required:
\- event
TimeSyncExposureConfigNotif:
description: Contains the notification of time synchronization service state.
type: object
properties:
configNotifId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
stateOfConfig:
\$ref: \'#/components/schemas/StateOfConfiguration\'
required:
\- configNotifId
\- stateOfConfig
PtpCapabilitiesPerUe:
description: Contains the supported PTP capabilities per UE.
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ptpCaps:
type: array
items:
\$ref: \'#/components/schemas/EventFilter\'
minItems: 1
required:
\- gpsi
\- ptpCaps
EventFilter:
description: >
Contains the filter conditions to match for notifying the event(s) of time
synchronization capabilities.
type: object
properties:
instanceTypes:
type: array
items:
\$ref: \'#/components/schemas/InstanceType\'
minItems: 1
transProtocols:
type: array
items:
\$ref: \'#/components/schemas/Protocol\'
minItems: 1
ptpProfiles:
type: array
items:
type: string
minItems: 1
PtpInstance:
description: Contains PTP instance configuration and activation requested by
the AF.
type: object
properties:
instanceType:
\$ref: \'#/components/schemas/InstanceType\'
protocol:
\$ref: \'#/components/schemas/Protocol\'
ptpProfile:
type: string
portConfigs:
type: array
items:
\$ref: \'#/components/schemas/ConfigForPort\'
minItems: 1
required:
\- instanceType
\- protocol
\- ptpProfile
ConfigForPort:
description: Contains configuration for each port.
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
n6Ind:
type: boolean
ptpEnable:
type: boolean
logSyncInter:
type: integer
logSyncInterInd:
type: boolean
logAnnouInter:
type: integer
logAnnouInterInd:
type: boolean
StateOfConfiguration:
description: Contains the state of the time synchronization configuration.
type: object
properties:
stateOfNwtt:
type: boolean
description: >
When the PTP port state is Leader, Follower or Passive, it is included and set
to true
to indicate the state of configuration for NW-TT port is active; when PTP port
state is
in any other case, it is included and set to false to indicate the state of
configuration for NW-TT port is inactive. Default value is false.
stateOfDstts:
description: >
Contains the PTP port states of the DS-TT(s).
type: array
items:
\$ref: \'#/components/schemas/StateOfDstt\'
minItems: 1
StateOfDstt:
description: Contains the PTP port state of a DS-TT.
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
state:
type: boolean
description: >
When the PTP port state is Leader, Follower or Passive, it is included and set
to true
to indicate the state of configuration for DS-TT port is active; when PTP port
state is
in any other case, it is included and set to false to indicate the state of
configuration for DS port is inactive. Default value is false.
required:
\- gpsi
\- state
Protocol:
anyOf:
\- type: string
enum:
\- ETH
\- IPV4
\- IPV6
\- type: string
description: >
This string identifies supported protocol.
description: \|
Possible values are:
\- ETH: Indicates Ethernet as defined in IEEE Std 1588 [45] Annex E is
supported.
\- IPV4: Indicates IPv4 as defined in IEEE Std 1588 [45] Annex C is supported.
\- IPV6: Indicates IPv6 as defined in IEEE Std 1588 [45] Annex D is supported.
GmCapable:
anyOf:
\- type: string
enum:
\- GPTP
\- PTP
\- type: string
description: >
This string identifies supported grandmaster.
description: \|
Possible values are:
\- GPTP: gPTP grandmaster is supported.
\- PTP: PTP grandmaste is supported.
InstanceType:
anyOf:
\- type: string
enum:
\- BOUNDARY_CLOCK
\- E2E_TRANS_CLOCK
\- P2P_TRANS_CLOCK
\- P2P_RELAY_INSTANCE
\- type: string
description: >
This string identifies supported PTP instance type.
description: \|
Possible values are:
\- BOUNDARY_CLOCK: Indicates Boundary Clock as defined in IEEE Std 1588.
\- E2E_TRANS_CLOCK: Indicates End-to-End Transparent Clock as defined in IEEE
Std 1588.
\- P2P_TRANS_CLOCK: Indicates Peer-to-Peer Transparent Clock as defined in
IEEE Std 1588.
\- P2P_RELAY_INSTANCE: Indicates PTP Relay instance as defined in IEEE Std
802.1AS.
SubscribedEvent:
anyOf:
\- type: string
enum:
\- AVAILABILITY_FOR_TIME_SYNC_SERVICE
\- type: string
description: >
This string identifies supported event.
description: \|
Possible values are:
\- AVAILABILITY_FOR_TIME_SYNC_SERVICE: The UE is availability for time
synchronization service.
AsTimeResource:
anyOf:
\- type: string
enum:
\- ATOMIC_CLOCK
\- GNSS
\- TERRESTRIAL_RADIO
\- SERIAL_TIME_CODE
\- PTP
\- NTP
\- HAND_SET
\- INTERNAL_OSCILLATOR
\- OTHER
\- type: string
description: >
This string identifies the supported 5G clock quality.
description: \|
Possible values are:
\- ATOMIC_CLOCK: Indicates atomic clock is supported.
\- GNSS: Indicates Global Navigation Satellite System is supported.
\- TERRESTRIAL_RADIO: Indicates terrestrial radio is supported.
\- SERIAL_TIME_CODE: Indicates serial time code is supported.
\- PTP: Indicates PTP is supported.
\- NTP: Indicates NTP is supported.
\- HAND_SET: Indicates hand set is supported.
\- INTERNAL_OSCILLATOR: Indicates internal oscillator is supported.
\- OTHER: Indicates other source of time is supported.
# A.14 EcsAddressProvision API
openapi: 3.0.0
info:
title: 3gpp-ecs-address-provision
version: 1.0.1
description: \|
API for ECS Address Provisioning.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-ecs-address-provision/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/configurations:
get:
summary: Read all active configurations for a given AF
operationId: ReadAllConfigurations
tags:
\- ECS Address Provision Configurations (Collection)
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active resources for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/EcsAddressProvision\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new configuration resource
operationId: CreateNewConfiguration
tags:
\- ECS Address Provision Configurations (Collection)
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new resource creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddressProvision\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddressProvision\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/configurations/{configurationId}:
get:
summary: Read an active resource for the AF and the configuration Id
operationId: ReadAnConfiguration
tags:
\- Individual ECS Address Provision Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddressProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing resource
operationId: FullyUpdateAnConfiguration
tags:
\- Individual ECS Address Provision Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddressProvision\'
responses:
\'200\':
description: OK (Successful update of the existing resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddressProvision\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing configuration resource
operationId: DeleteAnConfiguration
tags:
\- Individual ECS Address Provision Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing resource)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
EcsAddressProvision:
description: Represents ECS address provision configuration.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
ecsServerAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/EcsServerAddr\'
spatialValidityCond:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SpatialValidityCond\'
tgtUe:
\$ref: \'TS29522_AnalyticsExposure.yaml#/components/schemas/TargetUeId\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- ecsServerAddr
\- suppFeat
# A.15 AMPolicyAuthorization API
openapi: 3.0.0
info:
title: 3gpp-am-policyauthorization
version: 1.0.2
description: \|
API for AM policy authorization.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-am-policyauthorization/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/app-am-contexts:
post:
summary: Creates a new Individual application AM Context resource
operationId: PostAppAmContexts
tags:
\- Application AM Contexts
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new resource creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppAmContextExpData\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppAmContextExpRespData\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
amEventNotification:
\'{\$request.body#/evSubscs/eventNotifUri}\':
post:
requestBody:
description: Notification of an event occurrence.
required: true
content:
application/json:
schema:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/app-am-contexts/{appAmContextId}:
get:
summary: read an existing Individual application AM context
operationId: GetAppAmContext
tags:
\- Individual Application AM Context
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: appAmContextId
in: path
description: Identifier of the Individual application AM context
required: true
schema:
type: string
responses:
\'200\':
description: OK (A representation of the resource is successfully returned)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppAmContextExpData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: partial modifies an existing Individual application AM context
operationId: ModAppAmContext
tags:
\- Individual Application AM Context
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: appAmContextId
in: path
description: Identifier of the application AM context resource
required: true
schema:
type: string
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/AppAmContextExpUpdateData\'
responses:
\'200\':
description: >
successful modification of the resource and a representation of that
resource is returned. If a subscribed event is matched, the event
notification is also included in the response.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppAmContextExpRespData\'
\'204\':
description: The successful modification
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an existing Individual Application AM Context
operationId: DeleteAppAmContext
tags:
\- Individual Application AM Context
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: appAmContextId
in: path
description: string identifying the Individual aaplication AM context resource
required: true
schema:
type: string
responses:
\'204\':
description: The deletion is confirmed without returning additional data.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/app-am-contexts/{appAmContextId}/events-subscription:
put:
summary: creates or modifies an AM Policy Events Subscription sub-resource.
operationId: UpdateAmEventsSubsc
tags:
\- AM Policy Events Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: appAmContextId
in: path
description: string identifying the AM Policy Events Subscription subresource
required: true
schema:
type: string
requestBody:
description: >
Creation or modification of an application AM Policy Events Subscription sub-
resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsSubscData\'
responses:
\'201\':
description: >
The creation of the application AM Policy Events Subscription sub-resource
is confirmed and its representation is returned. If an AM Event is matched,
the response also includes the notification.
content:
application/json:
schema:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsSubscRespData\'
headers:
Location:
description: >
Contains the URI of the created AM Policy Events Subscription
subresource, according to the structure
{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}/events-subscription}
required: true
schema:
type: string
\'200\':
description: >
The modification of the AM Policy Events Subscription subresource is confirmed
and its representation is returned. If an AM Event is matched, the response
also
includes the notification.
content:
application/json:
schema:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsSubscRespData\'
\'204\':
description: >
The modification of the AM Policy Events Subscription subresource is confirmed
without returning additional data.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
amEventNotification:
\'{\$request.body#/evSubscs/eventNotifUri}\':
post:
requestBody:
description: Contains the information for the notification of an event
occurrence.
required: true
content:
application/json:
schema:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsNotification\'
responses:
\'204\':
description: The receipt of the notification is acknowledged.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: deletes the AM Policy Events Subscription sub-resource
operationId: DeleteAmEventsSubsc
tags:
\- AM Policy Events Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: appAmContextId
in: path
description: string identifying the Individual Application AM Context
resource.
required: true
schema:
type: string
responses:
\'204\':
description: >
The deletion of the of the AM Policy Events Subscription subresource
is confirmed without returning additional data.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AppAmContextExpData:
description: Represents an Individual application AM context exposure
resource.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
evSubscs:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsSubscData\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
highThruInd:
type: boolean
covReqs:
type: array
items:
\$ref: \'#/components/schemas/GeographicalArea\'
minItems: 1
nullable: true
policyDuration:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DurationSecRm\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestTestNotification:
type: boolean
description: >
Set to true by the AF to request the NEF to send a test notification
as defined in clause 5.2.5.3 of 3GPP TS 29.122. Set to false or omitted
otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
required:
\- gpsi
anyOf:
\- required: [highThruInd]
\- required: [covReqs]
AppAmContextExpUpdateData:
description: >
Contains the modification(s) to be applied to the Individual application
AM context exposure resource.
type: object
properties:
evSubscs:
\$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsSubscDataRm\'
highThruInd:
type: boolean
covReqs:
type: array
items:
\$ref: \'#/components/schemas/GeographicalArea\'
minItems: 1
policyDuration:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DurationSec\'
GeographicalArea:
description: Contains geographical area information (e.g.a civic address or
shapes).
type: object
properties:
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
shapes:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
AppAmContextExpRespData:
description: >
It represents a response to a modification or creation request of an
Individual
Application AM resource. It may contain the notification of the already met
events
anyOf:
\- \$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AppAmContextData\'
\- \$ref:
\'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/AmEventsNotification\'
# A.16 **AMInfluence** API
openapi: 3.0.0
info:
title: **AMInfluence**
version: 1.0.1
description: \|
**AMInfluence** API Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; **Network Exposure Function Northbound
APIs**.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/
servers:
\- url: \'{apiRoot}/3gpp-am-influence/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials: []
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: Read all of the active subscriptions for the AF.
tags:
\- AM Influence Subscription
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF).
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AmInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Create a new subscription to AM influence.
operationId: Create**AMInfluence** Subcription
tags:
\- AM Influence Subscription
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmInfluSub\'
responses:
\'201\':
description: Create a new Individual AM Influence Subscription resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmInfluSub\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-am-influence/v1/{afId}/subscriptions/{subscriptionId}.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
notificationDestination:
\'{\$request.body#/notificationDestination}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AmInfluEventNotif\'
minItems: 1
responses:
\'204\':
description: No Content, Notification was succesfull
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF.
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource.
required: true
schema:
type: string
get:
summary: Read an active subscription identified by the subscriptionId.
tags:
\- Individual AM Influence Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Update/Replace an existing subscription resource.
tags:
\- Individual AM Influence Subscription
requestBody:
description: Parameters to update/replace the existing subscription.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmInfluSub\'
responses:
\'200\':
description: OK (Successful update of the subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmInfluSub\'
\'204\':
description: No Content
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Update/Replace an existing subscription resource.
tags:
\- Individual AM Influence Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/AmInfluSubPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmInfluSub\'
\'204\':
description: No Content
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete an existing subscription.
tags:
\- Individual AM Influence Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes: {}
schemas:
AmInfluSub:
description: Represents an AM influence subscription.
type: object
properties:
afTransId:
type: string
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
anyUeInd:
type: boolean
description: >
Identifies whether the AF request applies to any UE. This attribute shall
set to \"true\" if applicable for any UE, otherwise, set to \"false\".
dnnSnssaiInfos:
type: array
items:
\$ref: \'#/components/schemas/DnnSnssaiInformation\'
minItems: 1
description: Each of the element identifies a (DNN, S-NSSAI) combination.
afAppIds:
type: array
items:
type: string
minItems: 1
description: Each of the element identifies an application.
highThruInd:
type: boolean
geoAreas:
type: array
items:
\$ref:
\'TS29522_AMPolicyAuthorization.yaml#/components/schemas/GeographicalArea\'
minItems: 1
description: Identifies geographic areas of the user where the request is
applicable.
policyDuration:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DurationSec\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
subscribedEvents:
type: array
items:
\$ref: \'#/components/schemas/AmInfluEvent\'
minItems: 1
description: Indicates one or more AM influence related events.
notificationDestination:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
requestTestNotification:
type: boolean
description: >
Set to true by the AF to request the NEF to send a test notification
as defined in clause 5.2.5.3 of 3GPP TS 29.122. Set to false or omitted
otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afTransId
anyOf:
\- required: [highThruInd]
\- required: [geoAreas]
oneOf:
\- required: [gpsi]
\- required: [externalGroupId]
\- required: [anyUeInd]
AmInfluSubPatch:
description: >
Represents parameters to request the modification of an AM influence
subscription resource.
type: object
properties:
highThruInd:
type: boolean
nullable: true
geoAreas:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
minItems: 1
description: Identifies geographic areas of the user where the request is
applicable.
nullable: true
policyDuration:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DurationSecRm\'
dnnSnssaiInfos:
type: array
items:
\$ref: \'#/components/schemas/DnnSnssaiInformation\'
minItems: 1
nullable: true
description: Each of the element identifies a (DNN, S-NSSAI) combination.
afAppIds:
type: array
items:
type: string
minItems: 1
nullable: true
description: Each of the element identifies an application.
subscribedEvents:
type: array
items:
\$ref: \'#/components/schemas/AmInfluEvent\'
minItems: 1
nullable: true
description: Indicates one or more AM influence related events.
notificationDestination:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LinkRm\'
AmInfluEventNotif:
description: Represents an AM influence event notification.
type: object
properties:
afTransId:
type: string
event:
\$ref: \'#/components/schemas/AmInfluEvent\'
geoAreas:
type: array
items:
\$ref:
\'TS29522_AMPolicyAuthorization.yaml#/components/schemas/GeographicalArea\'
minItems: 1
description: Identifies geographic areas of the user where the request is
applicable.
required:
\- event
\- afTransId
DnnSnssaiInformation:
description: Represents a (DNN, SNSSAI) combination.
type: object
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
# ENUMERATIONS DATA TYPES
#
AmInfluEvent:
description: Represents the service area coverage outcome event.
anyOf:
\- type: string
enum:
\- SERVICE_AREA_COVRG_OUTCOME
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
# A.17 MBSTMGI API
openapi: 3.0.0
info:
title: 3gpp-mbs-tmgi
version: 1.0.3
description: \|
API for the allocation, deallocation and management of TMGI(s) for MBS.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.10.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-mbs-tmgi/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/allocate:
post:
summary: Request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated TMGI(s).
operationId: AllocateTmgi
tags:
\- TMGI Allocation or Timer Expiry Refresh
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TmgiAllocRequest\'
responses:
\'200\':
description: >
OK. Successful case. The allocated TMGI(s) or a refreshed expiry time for the
concerned
already allocated TMGI(s) is/are returned to the requesting AF.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TmgiAllocResponse\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
TmgiTimerExpiryNotification:
\'{\$request.body#/notificationUri}\':
post:
requestBody:
description: >
Represents the MBS TMGI(s) timer expiry notification information (e.g. list of
TMGI(s) for which the timer has expired).
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ExpiryNotif\'
responses:
\'204\':
description: No content. The notification is successfully received.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/deallocate:
post:
summary: Request the deallocation of MBS TMGI(s).
operationId: DeallocateTmgi
tags:
\- MBS TMGI Deallocation
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TmgiDeallocRequest\'
responses:
\'204\':
description: No Content. Successful case, the TMGI(s) are deallocated.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
TmgiAllocRequest:
description: >
Represents the full set of parameters to initiate an MBS TMGI(s) allocation
request
or the refresh of the expiry time of already allocated TMGI(s).
type: object
properties:
afId:
type: string
tmgiParams:
\$ref: \'TS29532_Nmbsmf_TMGI.yaml#/components/schemas/TmgiAllocate\'
notificationUri:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Uri\'
mbsServiceArea:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceArea\'
extMbsServiceArea:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExternalMbsServiceArea\'
requestTestNotification:
type: boolean
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afId
\- tmgiParams
not:
required: [mbsServiceArea, extMbsServiceArea]
TmgiAllocResponse:
description: >
Represents MBS TMGI(s) allocation information or the refreshed expiry time for
already allocated TMGI(s)
type: object
properties:
tmgiInfo:
\$ref: \'TS29532_Nmbsmf_TMGI.yaml#/components/schemas/TmgiAllocated\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- tmgiInfo
TmgiDeallocRequest:
description: Represents information to request the deallocation of MBS
TMGI(s).
type: object
properties:
afId:
type: string
tmgis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tmgi\'
minItems: 1
required:
\- afId
\- tmgis
ExpiryNotif:
description: Represents MBS TMGI(s) timer expiry notification information.
type: object
properties:
tmgis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tmgi\'
minItems: 1
required:
\- tmgis
# A.18 MBSSession API
openapi: 3.0.0
info:
title: 3gpp-mbs-session
version: 1.1.1
description: \|
API for MBS Session Management.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
servers:
\- url: \'{apiRoot}/3gpp-mbs-session/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials: []
paths:
/mbs-sessions:
post:
summary: Request the creation of a new MBS Session.
tags:
\- MBS Sessions collection
operationId: CreateMBSSession
requestBody:
description: Representation of the new MBS session to be created at the NEF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsSessionCreateReq\'
responses:
\'201\':
description: >
Created. Successful creation of a new Individual MBS session resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsSessionCreateRsp\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-mbs-session/v1/mbs-sessions/{mbsSessionRef}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/mbs-sessions/{mbsSessionRef}:
parameters:
\- name: mbsSessionRef
in: path
description: Identifier of the Individual MBS Session resource.
required: true
schema:
type: string
patch:
summary: Request the modification of an existing Individual MBS Session
resource.
operationId: ModifyIndMBSSession
tags:
\- Individual MBS Session
requestBody:
required: true
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
responses:
\'204\':
description: >
No Content. The concerned Individual MBS Session resource was successfully
modified.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Request the Deletion of an existing Individual MBS Session resource.
operationId: DeleteIndMBSSession
tags:
\- Individual MBS Session
responses:
\'204\':
description: >
No Content. Successful deletion of the concerned Individual MBS Session
resource.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/mbs-sessions/subscriptions:
get:
summary: Retrieve all the active MBS Sessions subscriptions.
operationId: ReadMBSSessionsSubscs
tags:
\- MBS Session Subscriptions
responses:
\'200\':
description: >
OK. All the active MBS Session Subscriptions resources managed by the NEF are
returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/MbsSessionSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Request the creation of a new Individual MBS Session subscription
resource.
operationId: CreateMBSSessionsSubsc
tags:
\- MBS Session Subscriptions
requestBody:
description: Request the creation of a new MBS Session subscription resource.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsSessionSubsc\'
responses:
\'201\':
description: >
Created. Successful creation of a new Individual MBS Session subscription.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsSessionSubsc\'
headers:
Location:
description: Contains the URI of the newly created resource, according to the
structure
{apiRoot}/3gpp-mbs-session/v1/mbs-sessions/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
MBSSessionStatusNotification:
\'{request.body#/notificationUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsSessionStatusNotif\'
responses:
\'204\':
description: No Content. Successful reception of the notification.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/mbs-sessions/subscriptions/{subscriptionId}:
parameters:
\- name: subscriptionId
in: path
description: Identifier of the Individual MBS Session Subscription resource.
required: true
schema:
type: string
get:
summary: Retrieve an existing Individual MBS Session Subscription resource.
operationId: ReadIndMBSSessionsSubsc
tags:
\- Individual MBS Session subscription
responses:
\'200\':
description: >
OK. Successful retrieval of the targeted Individual MBS Session subscription
resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsSessionSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Request the deletion of an existing Individual MBS Session
subscription resource.
operationId: DeleteIndMBSSessionsSubsc
tags:
\- Individual MBS Session Subscription
responses:
\'204\':
description: >
No Content. Successful deletion of the existing Individual MBS Session
subscription
resource.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/mbs-pp:
get:
summary: Request to retrieve all the active MBS Parameters Provisioning
resources at the NEF.
operationId: GetMBSParamsProvisionings
tags:
\- MBS Parameters Provisionings
responses:
\'200\':
description: >
OK. All the active MBS Parameters Provisioning resources managed by the NEF
are
returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/MbsPpData\'
minItems: 1
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Request the creation of a new MBS Parameters Provisioning.
tags:
\- MBS Parameters Provisioning
operationId: CreateMBSParamsProvisioning
requestBody:
description: Representation of the new MBS Parameters Provisioning to be
created at the NEF.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsPpData\'
responses:
\'201\':
description: >
Created. Successful creation of a new Individual MBS Parameters Provisioning
resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsPpData\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-mbs-session/v1/mbs-pp/{mbsPpId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/mbs-pp/{mbsPpId}:
parameters:
\- name: mbsPpId
in: path
description: >
Represents the identifier of the Individual MBS Parameters Provisioning
resource.
required: true
schema:
type: string
get:
summary: Request to retrieve an existing Individual MBS Parameters
Provisioning resource.
operationId: GetIndMBSParamsProvisioning
tags:
\- Individual MBS Parameters Provisioning
responses:
\'200\':
description: >
OK. Successful retrieval of the requested Individual MBS Parameters
Provisioning.
resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsPpData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request the update of an existing Individual MBS Parameters
Provisioning resource.
tags:
\- Individual MBS Parameters Provisioning
operationId: UpdateIndMBSParamsProvisioning
requestBody:
description: >
Represents the updated Individual MBS Parameters Provisioning resource
representation.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsPpData\'
responses:
\'200\':
description: >
OK. The Individual MBS Parameters Provisioning resource is successfully
updated and a
representation of the updated resource is returned in the response body.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsPpData\'
\'204\':
description: >
No Content. The Individual MBS Parameters Provisioning resource is
successfully updated.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Request the modification of an existing Individual MBS Parameters
Provisioning resource.
tags:
\- Individual MBS Parameters Provisioning
operationId: ModifyIndMBSParamsProvisioning
requestBody:
description: >
Contains the parameters to request the modification of the Individual
Parameters
Provisioning resource.
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/MbsPpDataPatch\'
responses:
\'200\':
description: >
OK. The Individual MBS Parameters Provisioning resource is successfully
modified and a
representation of the updated resource is returned in the response body.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsPpData\'
\'204\':
description: >
No Content. The Individual MBS Parameters Provisioning resource is
successfully
modified.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Request the deletion of an existing Individual MBS Parameters
Provisioning resource.
tags:
\- Individual MBS Parameters Provisioning
operationId: DeleteIndMBSParamsProvisioning
responses:
\'204\':
description: >
No Content. The Individual MBS Parameters Provisioning resource is
successfully
deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
#
# STRUCTURED DATA TYPES
#
MbsSessionCreateReq:
description: Represents the parameters to request MBS Session creation.
type: object
properties:
afId:
type: string
mbsSession:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSession\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afId
\- mbsSession
MbsSessionCreateRsp:
description: Represents the parameters to be returned in an MBS Session
creation response..
type: object
properties:
mbsSession:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSession\'
eventList:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MbsSessionEventReportList\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- mbsSession
MbsSessionSubsc:
description: Represents an MBS Session Subscription.
type: object
properties:
afId:
type: string
subscription:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionSubscription\'
subscriptionId:
type: string
required:
\- afId
\- subscription
MbsSessionStatusNotif:
description: Represents an MBS Session Status notification.
type: object
properties:
eventList:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MbsSessionEventReportList\'
required:
\- eventList
MbsPpData:
description: Represents MBS Parameters Provisioning data.
type: object
properties:
afId:
type: string
mbsSessAuthData:
\$ref: \'#/components/schemas/MbsSessAuthData\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afId
MbsSessAuthData:
description: Represents the MBS Session Authorization data.
type: object
properties:
extGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsisList:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minProperties: 1
description: >
Represents the list of the GPSI(s) of the member UE(s) constituting the
multicast MBS
group. Any
value of type can be used as a key of the map.
mbsSessionIdList:
\$ref: \'TS29503_Nudm_PP.yaml#/components/schemas/5MbsAuthorizationInfo\'
required:
\- extGroupId
\- mbsSessionIdList
MbsPpDataPatch:
description: >
Represents the requested modification to existing MBS Parameters Provisioning
data.
type: object
properties:
mbsSessAuthData:
\$ref: \'#/components/schemas/MbsSessAuthData\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
# A.19 EASDeployment API
openapi: 3.0.0
info:
title: 3gpp-eas-deployment
version: 1.0.2
description: \|
API for AF provisioned EAS Deployment.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-eas-deployment/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/eas-deployment-info:
get:
summary: Read all EAS Deployment information for a given AF
operationId: ReadAllDeployment
tags:
\- EAS Deployment Information (Collection)
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the EAS Deployment information for the
AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/EasDeployInfo\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Create a new Individual EAS Deployment information resource.
operationId: CreateAnDeployment
tags:
\- EAS Deployment Information (Collection)
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new resource creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeployInfo\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeployInfo\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/eas-deployment-info/{easDeployInfoId}:
get:
summary: Read an active Individual EAS Deployment Information resource for the
AF
operationId: ReadAnDeployment
tags:
\- Individual EAS Deployment Information
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: easDeployInfoId
in: path
description: Identifier of an EAS Deployment Information.
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeployInfo\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Fully updates/replaces an existing resource
operationId: FullyUpdateAnDeployment
tags:
\- Individual EAS Deployment Information
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: easDeployInfoId
in: path
description: Identifier of the EAS Deployment information resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeployInfo\'
responses:
\'200\':
description: OK (Successful update of the existing resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeployInfo\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is
sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing EAS Deployment information resource
operationId: DeleteAnDeployment
tags:
\- Individual EAS Deployment Information
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: easDeployInfoId
in: path
description: Identifier of the EAS Deployment information resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing resource)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/remove-edis:
post:
summary: Remove EAS Deployment Information based on given criteria.
operationId: DeleteEDIs
tags:
\- EAS Deployment Information removal
requestBody:
description: Criteria to be used for deleting EAS Deployment Information that
match them.
content:
application/json:
schema:
\$ref: \'#/components/schemas/EdiDeleteCriteria\'
required: true
responses:
\'204\':
description: >
No Content. The EDIs matching the provided criteria have been successfully
deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
EasDeployInfo:
description: Represents EAS Deployment Information.
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
afServiceId:
type: string
fqdnPatternList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/FqdnPatternMatchingRule\'
minItems: 1
appId:
type: string
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
dnaiInfos:
type: object
additionalProperties:
\$ref: \'#/components/schemas/DnaiInformation\'
minProperties: 1
description: >
list of DNS server identifier (consisting of IP address and port) and/or IP
address(s)
of the EAS in the local DN for each DNAI. The key of map is the DNAI.
required:
\- fqdnPatternList
DnaiInformation:
description: Represents DNAI information.
type: object
properties:
dnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
dnsServIds:
type: array
items:
\$ref: \'#/components/schemas/DnsServerIdentifier\'
minItems: 1
easIpAddrs:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
minItems: 1
required:
\- dnai
anyOf:
\- required: [dnsServIds]
\- required: [easIpAddrs]
DnsServerIdentifier:
description: Represents DNS server identifier (consisting of IP address and
port).
type: object
properties:
dnsServIpAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
portNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- dnsServIpAddr
\- portNumber
EdiDeleteCriteria:
description: >
Contains criteria to be used for deleting EAS Deployment Information entries
that match
them.
type: object
properties:
afId:
\$ref: \'TS29522_AKMA.yaml#/components/schemas/AfId\'
dnnSnssai:
\$ref: \'TS29522_AMInfluence.yaml#/components/schemas/DnnSnssaiInformation\'
anyOf:
\- required: [afId]
\- required: [dnnSnssai]
# A.20 ASTI API
openapi: 3.0.0
info:
title: 3gpp-asti
version: 1.0.1
description: \|
API for ASTI.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-asti/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/configurations:
get:
summary: read all of the active configurations of 5G access stratum time
distribution for the AF
operationId: ReadAllConfigurations
tags:
\- ASTI Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active configurations for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new configuration resource
operationId: CreateNewConfiguration
tags:
\- ASTI Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new configuration creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/configurations/retrieve:
post:
summary: Request the status of the 5G access stratum time distribution
configuration for a list of UEs.
operationId: RetrieveStatusofConfiguration
tags:
\- ASTI Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: Contains the list of GPSIs.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusRequestData\'
responses:
\'200\':
description: Successful retrieval of the status of the 5G access stratum time
distribution
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusResponseData\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/configurations/{configId}:
get:
summary: Reads an active configuration for the AF and the configuration Id
operationId: ReadAnConfiguration
tags:
\- Individual ASTI Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Modifies an active configuration for the AF and the configuration Id
operationId: FullyModifyAnConfiguration
tags:
\- Individual ASTI Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing configuration
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
responses:
\'200\':
description: OK (Successful update of the configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTimeDistributionData\'
\'204\':
description: No Content
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing configuration
operationId: DeleteAnConfiguration
tags:
\- Individual ASTI Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing configuration)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AccessTimeDistributionData:
description: >
Contains the parameters for the creation of 5G access stratum time
distribution configuration.
type: object
properties:
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
asTimeDisParam:
\$ref:
\'TS29565_Ntsctsf_ASTI.yaml#/components/schemas/AsTimeDistributionParam\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- asTimeDisParam
oneOf:
\- required: [gpsis]
\- required: [interGrpId]
StatusRequestData:
description: >
Contains the parameters for retrieval of the status of the access stratum time
distribution
for a list of UEs.
type: object
properties:
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
required:
\- gpsis
StatusResponseData:
description: >
Contains the parameters for the status of the access stratum time distribution
for a list of
UEs.
type: object
properties:
inactiveUes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
activeUes:
type: array
items:
\$ref: \'#/components/schemas/ActiveUe\'
minItems: 1
ActiveUe:
description: >
Contains the UE identifier whose status of the access stratum time
distribution is active and
the optional requested time synchronization error budget.
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
timeSyncErrBdgt:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
# A.21 DataReporting API
openapi: 3.0.0
info:
title: 3gpp-data-reporting
version: 1.0.0
description: \|
API for 3GPP Data Reporting.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.6.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-data-reporting/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/sessions:
post:
summary: Create a new Data Reporting Session.
operationId: CreateDataRepSession
tags:
\- Data Reporting Sessions
requestBody:
description: >
Representation of the Data Reporting Session to be created in the NEF.
required: true
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReportingSession\'
responses:
\'201\':
description: Created. Successful creation of a new Data Reporting Session.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReportingSession\'
headers:
Location:
required: true
schema:
type: string
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-data-reporting/v1/sessions/{sessionId}
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/sessions/{sessionId}:
parameters:
\- name: sessionId
in: path
description: Identifier of the Data Reporting Session.
required: true
schema:
type: string
get:
summary: Request the retrieval of an existing Individual Data Reporting
Session resource.
operationId: GetIndDataRepSession
tags:
\- Individual Data Reporting Session
responses:
\'200\':
description: >
OK. The requested Individual Data Reporting Session resource is
Successfully returned.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReportingSession\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request the update of an existing Individual Data Reporting Session
resource.
operationId: UpdateIndDataRepSession
tags:
\- Individual Data Reporting Session
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReportingSession\'
responses:
\'200\':
description: >
OK. The Individual Data Reporting Session resource was successfully
updated.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReportingSession\'
\'204\':
description: >
No Content. The Individual Data Reporting Session resource was successfully
updated and no content is returned in the response body.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing Data Reporting Session resource.
operationId: DeleteIndDataRepSession
tags:
\- Individual Data Reporting Session
responses:
\'204\':
description: >
No Content. The concerned Individual Data Reporting Session resource was
successfully deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/sessions/{sessionId}/report:
parameters:
\- name: sessionId
in: path
description: Identifier of the Data Reporting Session.
required: true
schema:
type: string
post:
summary: Report collected UE data.
operationId: ReportUEData
tags:
\- Individual Data Reporting Session
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReport\'
responses:
\'200\':
description: OK. The UE data report was successfully received.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReporting.yaml#/components/schemas/DataReportingSession\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
# A.22 DataReportingProvisioning API
openapi: 3.0.0
info:
title: 3gpp-data-reporting-provisioning
version: 1.0.1
description: \|
API for 3GPP Data Reporting and Provisioning.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-data-reporting-provisioning/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/sessions:
post:
summary: Create a new Data Reporting Provisioning Session.
operationId: CreateDataRepProvSession
tags:
\- Data Reporting Provisioning Sessions
requestBody:
description: >
Representation of the Data Reporting Provisioning Session to be created in the
NEF.
required: true
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingProvisioningSession\'
responses:
\'201\':
description: Created. Successful creation of a new Data Reporting Provisioning
Session.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingProvisioningSession\'
headers:
Location:
required: true
schema:
type: string
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-data-reporting-provisioning/v1/sessions/{sessionId}
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/sessions/{sessionId}:
parameters:
\- name: sessionId
in: path
description: Identifier of the Data Reporting Provisioning Session.
required: true
schema:
type: string
get:
summary: Request the retrieval of an existing Individual Data Reporting
Provisioning Session resource.
operationId: GetIndDataRepProvSession
tags:
\- Individual Data Reporting Provisioning Session
responses:
\'200\':
description: >
OK. The requested Individual Data Reporting Provisioning Session resource is
Successfully returned.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingProvisioningSession\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing Individual Data Reporting Provisioning
Session resource.
operationId: DeleteIndDataRepProvSession
tags:
\- Individual Data Reporting Provisioning Session
responses:
\'204\':
description: >
No Content. The concerned Individual Data Reporting Provisioning Session
resource was
successfully deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/sessions/{sessionId}/configurations:
parameters:
\- name: sessionId
in: path
description: Identifier of the Data Reporting Provisioning Session.
required: true
schema:
type: string
post:
summary: Create a new Data Reporting Configuration resource.
operationId: CreateDataRepConfig
tags:
\- Data Reporting Configurations
requestBody:
description: >
Representation of the Data Reporting Configuration to be created in the NEF.
required: true
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfiguration\'
responses:
\'201\':
description: Created. Successful creation of a new Data Reporting
Configuration.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfiguration\'
headers:
Location:
required: true
schema:
type: string
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}/configurations/{configurationId}
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/sessions/{sessionId}/configurations/{configurationId}:
parameters:
\- name: sessionId
in: path
description: Identifier of the Data Reporting Provisioning Session.
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the Data Reporting Configuration.
required: true
schema:
type: string
get:
summary: Request the retrieval of an existing Individual Data Reporting
Configuration resource.
operationId: GetIndDataRepConfig
tags:
\- Individual Data Reporting Configuration
responses:
\'200\':
description: >
OK. The requested Individual Data Reporting Configuration resource is
successfully
returned.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfiguration\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request to update an existing Individual Data Reporting Configuration
resource.
operationId: UpdateIndDataRepConfig
tags:
\- Individual Data Reporting Configuration
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfiguration\'
responses:
\'200\':
description: >
OK. The Individual Data Reporting Configuration resource was successfully
updated.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfiguration\'
\'204\':
description: >
No Content. The Individual Data Reporting Configuration resource was
successfully
updated and no content is returned in the response body.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Request to modify an existing Individual Data Reporting Configuration
resource.
operationId: ModifyIndDataRepConfig
tags:
\- Individual Data Reporting Configuration
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfigurationPatch\'
responses:
\'200\':
description: >
OK. The Individual Data Reporting Configuration resource was successfully
modified.
content:
application/json:
schema:
\$ref:
\'TS26532_Ndcaf_DataReportingProvisioning.yaml#/components/schemas/DataReportingConfiguration\'
\'204\':
description: >
No Content. The Individual Data Reporting Configuration resource was
successfully
modified and no content is returned in the response body.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing Data Reporting Configuration resource.
operationId: DeleteIndDataRepConfig
tags:
\- Individual Data Reporting Configuration
responses:
\'204\':
description: >
No Content. The concerned Individual Data Reporting Configuration resource was
successfully deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
# A.23 UEId API
openapi: 3.0.0
info:
title: 3gpp-ueid
version: 1.0.1
description: \|
API for UE ID service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V17.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-ueid/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/retrieve:
post:
summary: Retrieve AF specific UE ID.
operationId: RetrieveUEId
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeIdReq\'
responses:
\'200\':
description: The requested information was returned successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeIdInfo\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
UeIdReq:
description: Represents the parameters to request the retrieval of AF specific
UE ID.
type: object
properties:
afId:
type: string
appPortId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Port\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
ipDomain:
type: string
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
ueIpAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
ueMacAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
required:
  * afId
oneOf:
\- required: [ueIpAddr]
\- required: [ueMacAddr]
UeIdInfo:
description: Represents UE ID information.
type: object
properties:
externalId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalId\'
required:
\- externalId
# A.24 MBSUserService API
openapi: 3.0.0
info:
title: 3gpp-mbs-us
version: 1.0.2
description: \|
API for MBS User Service.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.9.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
servers:
\- url: \'{apiRoot}/3gpp-mbs-us/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122
security:
\- {}
\- oAuth2ClientCredentials: []
paths:
/mbs-user-services:
get:
summary: Retrieve all the active MBS User Service resources managed by the
NEF.
tags:
\- MBS User Services
operationId: RetrieveMBSUserServices
responses:
\'200\':
description: >
OK. All the active MBS User Services managed by the NEF are returned.
content:
application/json:
schema:
type: array
items:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Request the creation of a new Individual MBS User Service resource.
tags:
\- MBS User Services
operationId: CreateMBSUserService
requestBody:
description: >
Contains the parameters to request the creation of a new MBS User Service at
the NEF.
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
responses:
\'201\':
description: >
Created. A new MBS User Service is successfully created and a representation
of the
created Individual MBS User Service resource is returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-mbs-us/v1/mbs-user-services/{mbsUserServId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/mbs-user-services/{mbsUserServId}:
parameters:
\- name: mbsUserServId
in: path
description: Identifier of the Individual MBS User Service resource.
required: true
schema:
type: string
get:
summary: Retrieve an existing Individual MBS User Service resource.
tags:
\- Individual MBS User Service
operationId: RetrieveIndivMBSUserService
responses:
\'200\':
description: >
OK. The requested Individual MBS User Service resource is successfully
returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request the update of an existing Individual MBS User Service
resource.
tags:
\- Individual MBS User Service
operationId: UpdateIndivMBSUserService
requestBody:
description: >
Contains the updated representation of the Individual MBS User Service
resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
responses:
\'200\':
description: >
OK. The concerned Individual MBS User Service resource is successfully updated
and a
representation of the updated resource is returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
\'204\':
description: >
No Content. The concerned Individual MBS User Service resource is successfully
updated.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Request the modification of an existing Individual MBS User Service
resource.
tags:
\- Individual MBS User Service
operationId: ModifyIndivMBSUserService
requestBody:
description: >
Contains the parameters to request the modification of the Individual MBS User
Service resource.
required: true
content:
application/merge-patch+json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserServicePatch\'
responses:
\'200\':
description: >
OK. The concerned Individual MBS User Service resource is successfully
modified and a
representation of the updated resource is returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserService.yaml#/components/schemas/MBSUserService\'
\'204\':
description: >
No Content. The concerned Individual MBS User Service resource is successfully
modified.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an existing Individual MBS User Service resource.
tags:
\- Individual MBS User Service
operationId: DeleteIndivMBSUserService
responses:
\'204\':
description: >
No Content. The Individual MBS User Service resource is successfully deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
#
# STRUCTURED DATA TYPES
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
# A.25 MBSUserDataIngestSession API
openapi: 3.0.0
info:
title: 3gpp-mbs-ud-ingest
version: 1.0.3
description: \|
API for MBS User Data Ingest Session.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.11.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
servers:
\- url: \'{apiRoot}/3gpp-mbs-ud-ingest/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122
security:
\- {}
\- oAuth2ClientCredentials: []
paths:
/sessions:
get:
summary: Retrieve all the active MBS User Data Ingest Sessions managed by the
NEF.
tags:
\- MBS User Data Ingest Sessions (Collection)
operationId: RetrieveMBSUserDataIngestSessions
responses:
\'200\':
description: >
OK. All the active MBS User Data Ingest Sessions managed by the NEF are
returned.
content:
application/json:
schema:
type: array
items:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Request the creation of a new Individual MBS User Data Ingest Session
resource.
tags:
\- MBS User Data Ingest Sessions (Collection)
operationId: CreateMBSUserDataIngestSession
requestBody:
description: >
Contains the parameters to request the creation of a new MBS User Data Ingest
Session
at the NEF.
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
responses:
\'201\':
description: >
Created. A new MBS User Data Ingest Session is successfully created and a
representation
of the created Individual MBS User Data Ingest Session resource is returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/3gpp-mbs-ud-ingest/v1/sessions/{sessionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/sessions/{sessionId}:
parameters:
\- name: sessionId
in: path
description: Identifier of the Individual MBS User Data Ingest Session
resource.
required: true
schema:
type: string
get:
summary: Retrieve an existing Individual MBS User Data Ingest Session
resource.
tags:
\- Individual MBS User Data Ingest Session (Document)
operationId: RetrieveIndivMBSUserDataIngestSession
responses:
\'200\':
description: >
OK. The requested Individual MBS User Data Ingest Session resource is
successfully
returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request the update of an existing Individual MBS User Data Ingest
Session resource.
tags:
\- Individual MBS User Data Ingest Session (Document)
operationId: UpdateIndivMBSUserDataIngestSession
requestBody:
description: >
Contains the updated representation of the Individual MBS User Data Ingest
Session
resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
responses:
\'200\':
description: >
OK. The concerned Individual MBS User Data Ingest Session resource is
successfully
updated and a representation of the updated resource is returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
\'204\':
description: >
No Content. The concerned Individual MBS User Data Ingest Session resource is
successfully updated.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Request the modification of an existing Individual MBS User Data
Ingest Session resource.
tags:
\- Individual MBS User Data Ingest Session (Document)
operationId: ModifyIndivMBSUserDataIngestSession
requestBody:
description: >
Contains the parameters to request the modification of the Individual MBS User
Data Ingest
Session resource.
required: true
content:
application/merge-patch+json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSessionPatch\'
responses:
\'200\':
description: >
OK. The concerned Individual MBS User Data Ingest Session resource is
successfully
modified and a representation of the updated resource is returned.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngSession\'
\'204\':
description: >
No Content. The concerned Individual MBS User Data Ingest Session resource is
successfully modified.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an existing Individual MBS User Data Ingest Session resource.
tags:
\- Individual MBS User Data Ingest Session (Document)
operationId: DeleteIndivMBSUserDataIngestSession
responses:
\'204\':
description: >
No Content. The Individual MBS User Data Ingest Session resource is
successfully
deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/status-subscriptions:
get:
summary: Retrieve all the active MBS User Data Ingest Session Status
Subscriptions resources managed by the NEF.
tags:
\- MBS User Data Ingest Session Status Subscriptions (Collection)
operationId: RetrieveMBSUserDataIngStatSubscs
responses:
\'200\':
description: >
OK. All the active MBS User Data Ingest Session Status Subscriptions managed
by the NEF
are returned.
content:
application/json:
schema:
type: array
items:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new Individual MBS User Data Ingest Session Status
Subscription resource.
tags:
\- MBS User Data Ingest Session Status Subscriptions (Collection)
operationId: CreateMBSUserDataIngStatSubsc
requestBody:
description: >
Contains the parameters to request the creation of a new MBS User Data Ingest
Session
Status Subscription resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
responses:
\'201\':
description: >
Created. Successful creation of a new Individual MBS User Data Ingest Session
Status Subscription resource.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
mbsUserDataIngestSessionStatusNotif:
\'{request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatNotif\'
responses:
\'204\':
description: No Content. Successful reception of the notification.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/status-subscriptions/{subscriptionId}:
parameters:
\- name: subscriptionId
in: path
description: >
Identifier of the Individual MBS User Data Ingest Session Status Subscription
resource.
required: true
schema:
type: string
get:
summary: Retrieve an existing Individual MBS User Data Ingest Session Status
Subscription resource.
tags:
\- Individual MBS User Data Ingest Session Status Subscription (Document)
operationId: RetrieveIndMBSUserDataIngStatSubsc
responses:
\'200\':
description: >
OK. Successful retrieval of the requested Individual MBS User Data Ingest
Session
Status Subscription resource.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request the update of an existing Individual MBS User Data Ingest
Session Status Subscription resource.
tags:
\- Individual MBS User Data Ingest Session Status Subscription (Document)
operationId: UpdateIndMBSUserDataIngStatSubsc
requestBody:
description: >
Contains the updated representation of the Individual MBS User Data Ingest
Session Status
Subscription resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
responses:
\'200\':
description: >
OK. The concerned Individual MBS User Data Ingest Session Status Subscription
resource
is successfully updated and a representation of the updated resource is
returned in the
response body.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
\'204\':
description: >
No Content. The concerned Individual MBS User Data Ingest Session Status
Subscription
resource is successfully updated and no content is returned in the response
body.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Request the modification of an existing Individual MBS User Data
Ingest Session Status Subscription resource.
tags:
\- Individual MBS User Data Ingest Session Status Subscription (Document)
operationId: ModifyIndMBSUserDataIngStatSubsc
requestBody:
description: >
Contains the parameters to request the modification of the Individual MBS User
Data Ingest
Session Status Subscription resource.
required: true
content:
application/merge-patch+json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubscPatch\'
responses:
\'200\':
description: >
OK. The concerned Individual MBS User Data Ingest Session Status Subscription
resource
is successfully modified and a representation of the updated resource is
returned in the
response body.
content:
application/json:
schema:
\$ref:
\'TS29580_Nmbsf_MBSUserDataIngestSession.yaml#/components/schemas/MBSUserDataIngStatSubsc\'
\'204\':
description: >
No Content. The concerned Individual MBS User Data Ingest Session Status
Subscription
resource is successfully modified and no content is returned in the response
body.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an existing Individual MBS User Data Ingest Session Status
Subscription resource.
tags:
\- Individual MBS User Data Ingest Session Status Subscription (Document)
operationId: DeleteIndMBSUserDataIngStatSubsc
responses:
\'204\':
description: >
No Content. Successful deletion of the existing Individual MBS User Data
Ingest Session
Status Subscription resource.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
#
# STRUCTURED DATA TYPES
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
# A.26 MSEventExposure API
openapi: 3.0.0
info:
title: 3gpp-ms-event-exposure
version: 1.0.1
description: \|
API for Media Streaming Event Exposure.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.522 V17.8.0; 5G System; Network Exposure Function Northbound APIs.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
servers:
\- url: \'{apiRoot}/3gpp-ms-event-exposure/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 5.2.4 of 3GPP TS 29.122
security:
\- {}
\- oAuth2ClientCredentials: []
paths:
/subscriptions:
get:
summary: Retrieve all the active Media Streaming Event Exposure Subscription
resources managed by the NEF.
tags:
\- Media Streaming Event Exposure Subscriptions (Collection)
operationId: RetrieveMSEventExposureSubscs
responses:
\'200\':
description: >
OK. All the active Media Streaming Event Exposure Subscriptions managed by the
NEF are
returned.
content:
application/json:
schema:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Request the creation of a new Individual Media Streaming Event
Exposure Subscription resource.
tags:
\- Media Streaming Event Exposure Subscriptions (Collection)
operationId: CreateMSEventExposureSubsc
requestBody:
description: >
Contains the parameters to request the creation of a new Media Streaming Event
Exposure
Subscriptionat the NEF.
required: true
content:
application/json:
schema:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
responses:
\'201\':
description: >
Created. Successful creation of a new Individual Media Streaming Event
Exposure
Subscription resource.
content:
application/json:
schema:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
headers:
Location:
description: Contains the URI of the newly created resource.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
callbacks:
msEventExposureNotif:
\'{request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureNotif\'
responses:
\'204\':
description: No Content. Successful reception of the notification.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
parameters:
\- name: subscriptionId
in: path
description: Identifier of the Individual Media Streaming Event Exposure
Subscription resource.
required: true
schema:
type: string
get:
summary: Retrieve an existing Individual Media Streaming Event Exposure
Subscription resource.
tags:
\- Individual Media Streaming Event Exposure Subscription (Document)
operationId: RetrieveIndivMSEventExposureSubsc
responses:
\'200\':
description: >
OK. The requested Individual Media Streaming Event Exposure Subscription
resource is
successfully returned.
content:
application/json:
schema:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Request the update of an existing Individual Media Streaming Event
Exposure Subscription resource.
tags:
\- Individual Media Streaming Event Exposure Subscription (Document)
operationId: UpdateIndivMSEventExposureSubsc
requestBody:
description: >
Contains the updated representation of the Individual Media Streaming Event
Exposure
Subscription resource.
resource.
required: true
content:
application/json:
schema:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
responses:
\'200\':
description: >
OK. The concerned Individual Media Streaming Event Exposure Subscription
resource is
successfully updated and a representation of the updated resource is returned
in the
response body.
content:
application/json:
schema:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
\'204\':
description: >
No Content. The concerned Individual Media Streaming Event Exposure
Subscription
resource was successfully updated and no content is returned in the response
body.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Request the deletion of an existing Individual Media Streaming Event
Exposure Subscription resource.
tags:
\- Individual Media Streaming Event Exposure Subscription (Document)
operationId: DeleteIndivMSEventExposureSubsc
responses:
\'204\':
description: >
No Content. The Individual Media Streaming Event Exposure Subscription
resource is
successfully deleted.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
#
# STRUCTURED DATA TYPES
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
#