# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Ngmlc Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the GMLCc.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [5] and
3GPP TS 29.501 [6].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 23.273: \"5G System Location Services (LCS)\".
[5] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[6] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[7] OpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[8] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[9] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[10] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[11] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[12] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[13] ITU Recommendation E.164: \"The international public telecommunication
numbering plan\".
[14] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[15] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[16] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[17] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[18] 3GPP TS 22.071: \"Location Services (LCS); Service description; Stage
1\".
[19] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[20] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[21] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[22] 3GPP TS 33.256: \"Security aspects of Uncrewed Aerial Systems (UAS)\".
[23] 3GPP TS 37.355: \"Technical Specification Group Radio Access Network; LTE
Positioning Protocol (LPP)\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Symbols
Void
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GC 5G Core Network
AMF Access and Mobility Management Function
GAD Geographical Area Description
GMLC Gateway Mobile Location Centre
GPSI Generic Public Subscription Identifier
LCS Location Services
LDR Location Deferred Request
MO-LR Mobile Originated Location Request
MT-LR Mobile Terminated Location Request
NEF Network Exposure Function
NI-LR Network Induced Location Request
NRF Network Repository Function
SUPI Subscription Permanent Identifier
# 4 Overview
The Gateway Mobile Location Centre (GMLC) is the network entity in the 5G Core
Network (5GC) supporting Location Services (LCS). Within the 5GC, the GMLC
offers services to the AMF, GMLC and NEF via the Ngmlc service based interface
(see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).
Figure 4-1 provides the reference model (in service based interface
representation and in reference point representation), with focus on the GMLC:
Figure 4-1: Reference model -- GMLC
The functionalities supported by the GMLC are listed in clause 4.3.3 of 3GPP
TS 23.273 [4].
# 5 Services offered by the GMLC
## 5.1 Introduction
The table 5.1-1 shows the GMLC Services and GMLC Service Operations:
Table 5.1-1: List of GMLC Services
+-----------------+----------------------+------------------+---------------------+ | Service Name | Service Operations | Operation | Example Consumer(s) | | | | | | | | | Semantics | | +=================+======================+==================+=====================+ | Ngmlc_Location | ProvideLocation | Request/Response | H-GMLC, NEF | +-----------------+----------------------+------------------+---------------------+ | | LocationUpdate | Request/Response | AMF, V-GMLC | +-----------------+----------------------+------------------+---------------------+ | | LocationUpdateNotify | Notify | NEF | +-----------------+----------------------+------------------+---------------------+ | | CancelLocation | Request/Response | H-GMLC, NEF | +-----------------+----------------------+------------------+---------------------+ | | EventNotify | Notify | H-GMLC, NEF | +-----------------+----------------------+------------------+---------------------+
Table 5.1-2 summarizes the corresponding APIs defined for this specification.
Table 5.1-2: API Descriptions
Service Name Clause Description OpenAPI Specification File apiName **Annex**
* * *
Ngmlc_Location 6.1 Ngmlc Location Service TS29515_Ngmlc_Location.yaml ngmlc-
loc A.2
## 5.2 Ngmlc_Location Service
### 5.2.1 Service Description
The Ngmlc_Location service enables an NF to request location determination
(current geodetic and optionally local and/or civic location) for a target UE.
The following are the key functionalities of this NF service.
\- Allow the consumer NF to request the current geodetic and optionally local
and/or civic location of a target UE.
\- Allow the consumer NF to subscribe/unsubscribe the geodetic and optionally
local and/or civic location of a target UE for some certain events.
\- Allow the consumer NF to cancel an on-going periodic or triggered location
request of a target UE.
\- Allow the consumer NF to get notified about the geodetic and optionally
local and/or civic location of a target UE when some certain events are
detected.
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
The service operations defined for the Ngmlc_Location services are as follows:
\- ProvideLocation
\- LocationUpdate
\- LocationUpdateSubscribe- LocationUpdateNotify
\- CancelLocation
\- EventNotify
#### 5.2.2.2 ProvideLocation
##### 5.2.2.2.1 General
The following procedures are supported using the \"ProvideLocation\" service
operation:
\- Provide Location of a single UE
\- Provide Locaitons of a group of UEs
##### 5.2.2.2.2 Provide Location of a single UE
The service operation is used during the procedures:
\- 5GC-MT-LR Procedure for the commercial location service (see 3GPP TS 23.273
[4], clause 6.1.2)
\- Deferred 5GC-MT-LR Procedure for Periodic, Triggered and UE Available
Location Events (see 3GPP TS 23.273 [4], clause 6.3.1)
The ProvideLocation service operation is invoked by a NF Service Consumer,
e.g. a NEF or GMLC, towards the GMLC to request to provide the location
information (geodetic location and, optionally local and/or civic location)
for a target UE or to subscribe to periodic or triggered deferred location for
a target UE. See Figure 5.2.2.2.2-1.
Figure 5.2.2.2.2-1: ProvideLocation Request/Response for a target UE
1\. The NF Service Consumer shall send an HTTP POST request to the URI
associated with the \"provide-location\" custom operation. The input
parameters for the request (the target UE identification (SUPI or GPSI),
required QoS, supported GAD shapes, LCS client type, external Service
Identity, Codeword, service coverage, LDR type, serving AMF address, LDR
reference, scheduled location time, integrity requirements) should be included
in the HTTP POST request body, H-GMLC Callback URI may be included in the HTTP
POST request body to V-GMLC (eventually to AMF) for implicit subscripiton of
EventNotify provided by AMF, and NEF Callback URI may be included in the HTTP
POST request body to GMLC/H-GMLC for implicit subscripiton of EventNotify
provided by GMLC/H-GMLC.
2a. On success, \"200 OK\" shall be returned. The response body shall contain
the parameters related to the determined position of the UE if any (geodetic
position, local position, civic location, positioning methods...).
If geographic area(s) are received in the request for area event, the GMLC (or
V-GMLC when roaming) shall convert the received geographic area(s) into a
corresponding list of cell and/or tracking area identities when invoking AMF
location services.
2b On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.2-2 may be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.3.2.2-2.
##### 5.2.2.2.3 Provide Locations of a group of UEs
The service operation is used during the procedures:
\- Bulk Operation of LCS Service Request Targeting to Multiple UEs (see 3GPP
TS 23.273 [4], clause 6.8)
The ProvideLocation service operation is invoked by a NF Service Consumer,
e.g. a NEF, towards the GMLC (e.g. (H)GMLC when roaming) to request to provide
the location information (geodetic location and, optionally local and/or civic
location) for a target group of UEs or to subscribe to periodic or triggered
deferred location for a target group of UEs. See Figure 5.2.2.2.3-1.
Figure 5.2.2.2.3-1: ProvideLocation Request/Response for a target group
1\. The NF Service Consumer shall send an HTTP POST request to the URI
associated with the \"provide-location\" custom operation. The input
parameters the target group identification (the External Group ID or the
Internal Group ID), LCS client type, eventNotificationUri shall be included in
the HTTP POST request body, LDR type, LDR reference shall be also included in
the request if requesting the deferred LCS service, the required QoS,
supported GAD shapes, external Service Identity, service coverage should be
included in the request. If the request is related to location determination
at the scheduled time, the scheduled location time shall be included in the
HTTP POST request body.
GMLC shall translate the target group identification into the list of the UE
identifications which belong to the target group by invoking the related
service provided by UDM, then for each UE in the list, GMLC initiates
following steps of procedures of the 5GC-MT-LR or Deferred 5GC-MT-LR as
defined in 3GPP TS 23.273 [4] clause 6.8.
If geographic area(s) are received in the request for area event, the GMLC (or
V-GMLC when roaming) shall convert the received geographic area(s) into a
corresponding list of cell and/or tracking area identities when invoking AMF
location services.
2a. On success, \"200 OK\" shall be returned. The response body shall contain
the success type.
2b On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.2-2 may be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.3.2.2-2.
#### 5.2.2.3 LocationUpdate
##### 5.2.2.3.1 General
The service operation is used during the procedure:
\- 5GC-MO-LR Procedure (see 3GPP TS 23.273 [4], clause 6.2)
The LocationUpdate enables the NF consumer (e.g. AMF) to update UE location
information towards the GMLC. See Figure 5.2.2.3.1-1.
Figure 5.2.2.3.1-1: LocationUpdate Request/Response
1\. The NF Service Consumer shall send an HTTP POST request to the URI
associated with the \"location-update\" custom operation. The request body
shall contain a LocUpdateData object..
2a. On success, \"204 No content\" shall be returned by the GMLC.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.4.2-2 may be returned. For a 4xx response, the message body may contain
a ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.3.4.2-2.
#### 5.2.2.4 CancelLocation
##### 5.2.2.4.1 General
The service operation is used during the procedure:
\- Deferred 5GC-MT-LR Procedure for Periodic, Triggered and UE Available
Location Events (see 3GPP TS 23.273 [4], clause 6.3.3)
The CancelLocation enables the consumer NF to use the service operation to
cancel a deferred 5GC-MT-LR procedure for periodic or triggered location for a
single UE or for a group. See Figure 5.2.2.4.1-1.
Figure 5.2.2.4.1-1: CancelLocation Request/Response
1\. The NF Service Consumer shall send an HTTP POST request to the URI
associated with the \"cancel-location\" custom operation. The input parameters
for the request ((H-)GMLC contact address, LDR reference number, LMF
identification, serving AMF address) should be included in the HTTP POST
request body.
2a. On success, \"204 No Content\" shall be returned.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.3.2-2 may be returned. For a 4xx response, the message body may contain
a ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.3.3.2-2.
#### 5.2.2.5 EventNotify
##### 5.2.2.5.1 General
The following procedures are supported using the \"EventNotify\" service
operation:
\- EventNotify for a single UE
\- EventNotify for the UEs in a target group
##### 5.2.2.5.2 EventNotify for a single UE
The service operation is used during the procedure:
\- Deferred 5GC-MT-LR Procedure for Periodic, Triggered and UE Available
Location Events (see 3GPP TS 23.273 [4], clause 6.3.1 or clause 6.3.2)
The EventNotify for a single UE enables the consumer NF (e.g. (H)GMLC, NEF) to
get notified about the geodetic and optionally local and/or civic location,
the completion or activation of deferred location, mobility to a different
AMF/MME of a UE with deferred location for a target UE when some certain
events are detected. See Figure 5.2.2.5.2-1.
Figure 5.2.2.5.2-1: EventNotify Notification for a single UE
1\. The GMLC shall send an HTTP POST to the locationNotificationUri to send a
notification. The input parameters for the notification (Notification
Correlation ID, UE (SUPI and if available GPSI), Type of location related
event (e.g. deferred location for the UE available event, activation of
location for periodic or triggered location, mobility of a target UE to a new
AMF or MME for a deferred location, Geodetic Location, Local Location, Civic
Location, Position Methods Used, serving LMF identification etc.) should be
included in the HTTP POST request body. The locationNotificationUri shall be
set to:
If the notification is sent from (V)GMLC to (H)GMLC when roaming with (V)GMLC
used,
\- the hgmlcCallBackURI received from the AMF/LMF;
If the notification is sent from (H)GMLC to NEF,
\- the callback URI of NEF provided by NEF during requesting the
ProvideLocation service operation for the periodic or triggered deferred
location for a target UE or ;
\- the callback URI of NEF locally provisioned in the (H)GMLC.
2a. If the notification is received, the NF Service Consumer shall reply with
the status code 204 indicating the notification is received, in the response
message.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.4.2.3.1-2 may be returned. For a 4xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.4.2.3.1-2.
##### 5.2.2.5.3 EventNotify for the UEs in a target group
The service operation is used during the procedure:
\- Bulk Operation of LCS Service Request Targeting to Multiple UEs (see 3GPP
TS 23.273 [4], clause 6.8)
The EventNotify for the UEs in a target group enables the consumer NF (e.g.
NEF) to get notified about the geodetic and optionally local and/or civic
locations (immediate locations or deferred locations) for the UEs in target
group, the failures of requesting location for the UEs in the target group,
completion or activation of deferred location for the UEs in the target group.
See Figure 5.2.2.5.3-1.
Figure 5.2.2.5.3-1: EventNotify Notification for the UEs in a target group
1\. The GMLC/(H)GMLC shall send an HTTP POST to the locationNotificationUri to
send a notification. The Request body shall contain event report(s) for one or
more UEs in the group. The event report for each UE shall include the LDR
Reference, UE identifier (SUPI or GPSI), location data (location data for
immediate location service request or location data for deferred location
service request) or failure cause of positioning. The locationNotificationUri
shall be set to:
\- the callback URI of NEF provided by NEF during requesting the
ProvideLocation service operation for a target group of UEs or;
\- the callback URI of NEF locally provisioned in the GMLC/(H)GMLC.
2a. If the notification is received, the NF Service Consumer shall reply with
the status code 204 indicating the notification is received, in the response
message.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.4.2.3.1-2 may be returned. For a 4xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.4.2.3.1-2.
#### 5.2.2.6 LocationUpdateNotify
##### 5.2.2.6.1 General
The service operation is used during the procedure:
\- 5GC-MO-LR Procedure (see 3GPP TS 23.273 [4], clause 6.2)
The LocationUpdateNotify enables the NF consumer (e.g. NEF) to get notified
about the UE location information update. See Figure 5.2.2.6.1-1.
Figure 5.2.2.6.1-1: LocationUpdateNotify Notification
1\. The GMLC shall send an HTTP POST request to the callback URI of the NF
consumer (e.g. NEF). The response body shall contain a LocUpdateNotification
object.
The callback URI (e.g. NEF address for callback) is locally configured on GMLC
or discovered via NRF.
2a. On success, \"204 No content\" shall be returned by the NF consumer.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.4.3.3.1-2 may be returned. For a 4xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.4.3.3.1-2.
#### 5.2.2.7 LocationUpdateSubscribe
##### 5.2.2.7.1 General
This service operation is used by a NF Service Consumer (e.g. NEF) to trigger
a subscription to notifications on UE location information update for the 5GC-
MO-LR Procedure (see 3GPP TS 23.273 [4], clause 6.2). See Figure 5.2.2.6A.1-1.
NOTE: This service operation is not used by the current stage 2 specifications
in 3GPP TS 23.273 [4], i.e. the subscription to notifications on UE location
information update is implicit.
Figure 5.2.2.7.1-1: Subscription to UE location information update
1\. The NF service consumer (e.g. NEF) sends a POST request to the parent
resource, i.e. collection of subscriptions (.../loc-update-subs), to create a
subscription to UE location information update for the 5GC-MO-LR Procedure, as
provided in LocUpdateSubs information conveyed in the message body.
2a. On success, \"204 No content\" shall be returned by the GMLC.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.4.2-2 may be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.3.4.2-2.
# 6 API Definitions
## 6.1 Ngmlc_Location Service API
### 6.1.1 Introduction
The Ngmlc_Location service shall use the Ngmlc_Location API.
The API URI of the Ngmlc_Location API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [6], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [6].
\- The \ shall be \"ngmlc-loc\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [5].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [5].
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [5].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [5].
HTTP messages and bodies for the Ngmlc_Location service shall comply with the
OpenAPI [7] specification contained in Annex A.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
##### 6.1.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [9], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [5].
\- The Problem Details JSON Object (IETF RFC 7807 [10]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
The following HTTP custom headers shall be supported:
\- 3gpp-Sbi-Message-Priority: See 3GPP TS 29.500 [5], clause 5.2.3.2.2.
This API does not define any new HTTP custom headers.
### 6.1.3 Custom Operations without associated resources
#### 6.1.3.1 Overview
The structure of the custom operation URIs of the Ngmlc_Location service is
shown in Figure 6.1.3.1-1.
Figure 6.1.3.1-1: Custom operation URI structure of the Ngmlc_Location API
Table 6.1.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 6.1.3.1-1: Custom operations
Custom operation URI Mapped HTTP method Description
* * *
{apiRoot}/ngmlc-loc/\/provide-location POST Request or Subscribe
the geodetic and optionally local and/or civic location of a target UE or a
target group of UEs {apiRoot}/ngmlc-loc/\/cancel-location POST
Cancel an on-going periodic or triggered location request of a target UE or a
target group of UEs {apiRoot}/ngmlc-loc/\/location-update POST
Enable the UE to update UE location information towards the consumer NF
{apiRoot}/ngmlc-loc/\/loc-update-subs POST Enable a NF service
consumer (e.g. NEF) to subscribe to UE location information
#### 6.1.3.2 Operation: provide-location
##### 6.1.3.2.1 Description
This clause will describe the custom operation and what it is used for, and
the custom operations URI.
##### 6.1.3.2.2 Operation Definition
The operation shall support the response data structures and response codes
specified in tables 6.1.3.2.2-1 and 6.1.3.2.2-2.
Table 6.1.3.2.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
InputData M 1 Input parameters to the \"Provide-Location\" operation
Table 6.1.3.2.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | LocationData | M | 1 | 200 OK | This case | | | | | | represents | | | | | | the | | | | | | successful | | | | | | retrieval of | | | | | | the location | | | | | | of the UE or | | | | | | successful | | | | | | subscription | | | | | | of periodic | | | | | | or triggered | | | | | | location of | | | | | | the UE, or | | | | | | represents | | | | | | completely or | | | | | | partially | | | | | | accept of the | | | | | | requesting | | | | | | locations for | | | | | | a target | | | | | | group. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the different | | | | | | parameters of | | | | | | the location | | | | | | data if | | | | | | obtained, | | | | | | such as: | | | | | | | | | | | | > \- | | | | | | > Geographic | | | | | | > Area | | | | | | > | | | | | | > \- Local | | | | | | > Location | | | | | | > | | | | | | > \- Civic | | | | | | > Location | | | | | | > | | | | | | > \- Age of | | | | | | > Location | | | | | | > | | | | | | > \- Accuracy | | | | | | > of Location | | | | | | > | | | | | | > \- | | | | | | > Positioning | | | | | | > methods | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | tthe URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > POSITI | | | | | | ONING_DENIED | | | | | | > | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > UNSUPP | | | | | | ORTED_BY_UE | | | | | | > | | | | | | > \- | | | | | | > D | | | | | | ETACHED_USER | | | | | | | | | | | | See table | | | | | | 6.1.6.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | The \"cause\" | | roblemDetails | | | Server Error | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | > \- | | | | | | > POSITI | | | | | | ONING_FAILED | | | | | | | | | | | | See table | | | | | | 6.1.6.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | The \"cause\" | | roblemDetails | | | Timeout | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | > \- | | | | | | > UNRE | | | | | | ACHABLE_USER | | | | | | | | | | | | - | | | | | | PEER_NO | | | | | | T_RESPONDING | | | | | | | | | | | | See table | | | | | | 6.1.6.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS | | | | | | 29.500 [5] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | when needed | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of 3GPP | | | | | | TS 2 | | | | | | 9.500 [5]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.3 Operation: cancel-location
##### 6.1.3.3.1 Description
This clause will describe the custom operation and what it is used for, and
the custom operation\'s URI.
##### 6.1.3.3.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 6.1.3.3.2-1 and table 6.1.3.3.2-2.
Table 6.1.3.3.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
CancelLocData M 1 The information is used to cancel deferred 5GC-MT-LR for a
single UE or for a group of UE.
Table 6.1.3.3.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | cancellation | | | | | | of location. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > | | | | | | LOCATION_SES | | | | | | SION_UNKNOWN | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.6.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS | | | | | | 29.500 [5] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | when needed | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of 3GPP | | | | | | TS 2 | | | | | | 9.500 [5]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.3.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.4 Operation: location-update
##### 6.1.3.4.1 Description
This clause will describe the custom operation and what it is used for, and
the custom operation\'s URI.
##### 6.1.3.4.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 6.1.3.4.2-1 and table 6.1.3.4.2-2.
Table 6.1.3.4.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
LocUpdateData M 1 Input parameters to the \"location-update\" operation
Table 6.1.3.4.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | update of | | | | | | location. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > UNREQU | | | | | | ESTED_BY_UE | | | | | | > | | | | | | > \- | | | | | | > UNKOWN | | | | | | _EXTERNAL_C | | | | | | LIENT_OR_AF | | | | | | > | | | | | | > \- | | | | | | > UNREACHABLE | | | | | | _EXTERNAL_C | | | | | | LIENT_OR_AF | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.6.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | when needed | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [5]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.4.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.4.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.5 Operation: loc-update-subs
##### 6.1.3.5.1 Description
This clause will describe the custom operation and what it is used for, and
the custom operations URI.
##### 6.1.3.5.2 Operation Definition
The operation shall support the request and response data structures and
response codes specified in tables 6.1.3.5.2-1 and 6.1.3.5.2-2.
Table 6.1.3.5.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality **Description**
* * *
LocUpdateSubs M 1 Contains the subscription to UE location update information
that is to be created.
Table 6.1.3.5.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | ** | | | | | | Description** | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | the | | | | | | successful UE | | | | | | location | | | | | | information | | | | | | subscription | | | | | | creation. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same GMLC or | | | | | | GMLC | | | | | | (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > UNREQU | | | | | | ESTED_BY_UE | | | | | | | | | | | | See table | | | | | | 6.1.6.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS | | | | | | 29.500 [5] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.5.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same GMLC | | | | | | or GMLC | | | | | | (service) set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.1.4 Notifications
#### 6.1.4.1 General
#### 6.1.4.2 Eventnotify
##### 6.1.4.2.1 Description
The EventNotify operation is used to the occurrence of periodic or triggered
location event for a target UE to a consumer NF (e.g. (H)GMLC, NEF) or used to
report the locations (e.g. the immediate locations or deferred locations) for
the UEs in a target group to a consumer NF (e.g. NEF).
##### 6.1.4.2.2 Notification Definition
Call-back URI: {locationNotificationUri}
See clause 5.2.2.5 for the description of how the GMLC obtains the Call-back
URI of the NF Service Consumer.
##### 6.1.4.2.3 Notification Standard Methods
###### 6.1.4.2.3.1 POST {#post .list-paragraph}
This method sends a Location event notify to the NF Service Consumer.
This method shall support the request and response data structures and
response codes specified in table 6.1.4.2.3.1-1 and table 6.1.4.2.3.1-2.
Table 6.1.4.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
EventNotifyDataExt M 1 Input parameters to the \"Event Notify\" operation
Table 6.1.4.2.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | notification | | | | | | of the event. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > | | | | | | LOCATION_SES | | | | | | SION_UNKNOWN | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.6.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS | | | | | | 29.500 [5] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | when needed | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of 3GPP | | | | | | TS 2 | | | | | | 9.500 [5]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
Table 6.1.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
#### 6.1.4.3 LocationUpdateNotify
##### 6.1.4.3.1 Description
The LocationUpdateNotify operation is used to deliver the location update for
a UE to a consumer NF (e.g. NEF).
##### 6.1.4.3.2 Notification Definition
Call-back URI: {locationUpdateCallbackUri}
##### 6.1.4.3.3 Notification Standard Methods
###### 6.1.4.3.3.1 POST {#post-1 .list-paragraph}
This method sends a Location update notification to the NF Service Consumer.
This method shall support the request and response data structures and
response codes specified in table 6.1.4.3.3.1-1 and table 6.1.4.3.3.1-2.
Table 6.1.4.3.3.1-1: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description LocUpdateNotification M 1 Input parameters
to the \"LocationUpdateNotification\" operation
* * *
Table 6.1.4.3.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | notification | | | | | | of the event. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > UNKOWN | | | | | | _EXTERNAL_C | | | | | | LIENT_OR_AF | | | | | | > | | | | | | > \- | | | | | | > UNREACHABLE | | | | | | _EXTERNAL_C | | | | | | LIENT_OR_AF | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.6.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS | | | | | | 29.500 [5] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | when needed | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of 3GPP | | | | | | TS 2 | | | | | | 9.500 [5]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
Table 6.1.4.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
### 6.1.5 Data Model
#### 6.1.5.1 General
This clause specifies the application data model supported by the API.
Table 6.1.5.1-1 specifies the data types defined for the Ngmlc_Location
service based interface protocol.
Table 6.1.5.1-1: Ngmlc_Location specific Data Types
Data type Clause defined Description Applicability
* * *
InputData 6.1.5.2.2 the input parameters in ProvideLocation service operation  
LocationData 6.1.5.2.3 the response parameters in ProvideLocation service
operation  
CancelLocData 6.1.5.2.4 the input parameters in CancelLocation service
operation  
LocUpdateData 6.1.5.2.5 the input parameters in LocationUpdate service
operation  
EventNotifyData 6.1.5.2.6 the input parameters for the target UE in
EventNotify Notification service operation  
UePrivacyRequirements 6.1.5.2.7 UE privacy requirements from (H)GMLC to the
serving AMF or VGMLC(in the roaming case) for the target UE  
LocUpdateNotification 6.1.5.2.9 Location Update Notification  
LocUpdateSubs 6.1.5.2.10 UE location information subscription  
AreaEventInfoAddition 6.1.5.2.13 Additional information for Extended Area
event information  
AreaEventInfoExt 6.1.5.2.14 Extended Area Event Information  
IntegrityRequirements 6.1.5.2.15 GNSS integrity requirements  
AlertLimit 6.1.5.2.16 Alert Limit  
ServiceIdentity 6.1.5.3.2 service identity  
CodeWord 6.1.5.3.2 codeword  
ExternalClientIdentification 6.1.5.3.2 external client identification  
E164CountryCodeOfGeographicArea 6.1.5.3.2 E.164 country codes for geographic
areas  
LcsServiceTypeId 6.1.5.3.2 LCS Service Type Id  
TimeToAlert 6.1.5.3.2 Time-to-Alert  
TargetIntegrityRisk 6.1.5.3.2 Target Integrity Risk  
HorizontalProtectionLevel 6.1.5.3.2 Horizontal Protection Level  
VerticalProtectionLevel 6.1.5.3.2 Vertical Protection Level  
PseudonymIndicator 6.1.5.3.3 It defines if a pseudonym is requested  
LocationRequestType 6.1.5.3.4 NI-LR, MT-LR or MO-LR  
LocationTypeRequested 6.1.5.3.5 the location type requested by the LCS client  
EventNotifyDataType 6.1.5.3.6 the type of event that triggers event
notification  
EventNotifyDataAdditionalInfo 6.1.5.2.11 Additional information to Event
Notify Data  
EventNotifyDataExt 6.1.5.2.12 Extended Event Notify Data for UEs of a target
group  
FailureCause 6.1.5.3.7 Positioning failure cause  
SuccessType 6.1.5.3.8 Success Type to indicate full or partial success
Table 6.1.5.1-2 specifies data types re-used by the Ngmlc_Location service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Ngmlc_Location service based interface.
Table 6.1.5.1-2: Ngmlc_Location re-used Data Types
Data type Reference Comments Applicability
* * *
Gpsi 3GPP TS 29.571 [11]  
Supi 3GPP TS 29.571 [11]  
Uri 3GPP TS 29.571 [11]  
AmfId 3GPP TS 29.571 [11]  
NfInstanceId 3GPP TS 29.571 [11]  
ExternalClientType 3GPP TS 29.572 [12]  
LocationQoS 3GPP TS 29.572 [12]  
LcsQosClass 3GPP TS 29.572 [12]  
SupportedGADShapes 3GPP TS 29.572 [12]  
PeriodicEventInfo 3GPP TS 29.572 [12]  
AreaEventInfo 3GPP TS 29.572 [12]  
MotionEventInfo 3GPP TS 29.572 [12]  
LdrType 3GPP TS 29.572 [12]  
LdrReference 3GPP TS 29.572 [12]  
AgeOfLocationEstimate 3GPP TS 29.572 [12]  
PositioningMethod 3GPP TS 29.572 [12]  
AccuracyFulfilmentIndicator 3GPP TS 29.572 [12]  
LmfIdentification 3GPP TS 29.572 [12]  
LcsServiceType 3GPP TS 29.572 [12]  
VelocityRequested 3GPP TS 29.572 [12]  
LcsPriority 3GPP TS 29.572 [12]  
VelocityEstimate 3GPP TS 29.572 [12]  
TerminationCause 3GPP TS 29.572 [12]  
PositioningMethodAndUsage 3GPP TS 29.572 [12]  
GnssPositioningMethodAndUsage 3GPP TS 29.572 [12]  
LcsServiceAuth 3GPP TS 29.571 [11]  
Ecgi 3GPP TS 29.571 [11]  
Ncgi 3GPP TS 29.571 [11]  
Altitude 3GPP TS 29.572 [12] Altitude  
BarometricPressure 3GPP TS 29.572 [12] Barometric pressure  
MinorLocationQoS 3GPP TS 29.572 [12] Minor Location QoS MUTIQOS
LocationPrivacyVerResult 3GPP TS 29.518 [20]  
ExternalGroupId 3GPP TS 29.571 [11] External Group Identifier  
GroupId 3GPP TS 29.571 [11] Group Identifier  
CivicAddress 3GPP TS 29.572 [12] Civic Address  
GeographicArea 3GPP TS 29.572 [12] Geographic Area  
LocalArea 3GPP TS 29.572 [12] Local area specified by different shape  
RedirectResponse 3GPP TS 29.571 [11]  
DateTime 3GPP TS 29.571 [11] Date and Time  
HighAccuracyGnssMetrics 3GPP TS 29.572 [12] High Accuracy GNSS Metrics
#### 6.1.5.2 Structured data types
##### 6.1.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.5.2.2 Type: InputData
Table 6.1.5.2.2-1: Definition of type InputData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | I | | | | | | | dentifier | | | | | | | | | | | | | | (NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | O | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | | | | | | | | | | | | | (NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | e | Extern | O | 0..1 | This IE | | | xtGroupId | alGroupId | | | may be | | | | | | | present | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | LCS | | | | | | | service | | | | | | | for a | | | | | | | group of | | | | | | | target | | | | | | | UEs, if | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | External | | | | | | | Group ID | | | | | | | | | | | | | | (NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | i | GroupId | O | 0..1 | This IE | | | ntGroupId | | | | may be | | | | | | | present | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | LCS | | | | | | | service | | | | | | | for a | | | | | | | group of | | | | | | | target | | | | | | | UEs, if | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Internal | | | | | | | Group ID | | | | | | | | | | | | | | (NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | externalC | ExternalC | M | 1 | This IE | | | lientType | lientType | | | shall | | | | | | | contain | | | | | | | LCS | | | | | | | client | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | lo | Lo | O | 0..1 | Requested | | | cationQoS | cationQoS | | | location | | | | | | | QoS | | | | | | | | | | | | | | Multiple | | | | | | | QoS Class | | | | | | | (lc | | | | | | | sQosClass | | | | | | | sets to | | | | | | | \"MULTIPL | | | | | | | E_QOS\") | | | | | | | shall | | | | | | | only be | | | | | | | used when | | | | | | | GMLC | | | | | | | support | | | | | | | MUTIQOS | | | | | | | feature. | | +-----------+-----------+---+-----------+-----------+-----------+ | supported | array(S | O | 1..N | Supported | | | GADShapes | upportedG | | | Geo | | | | ADShapes) | | | graphical | | | | | | | Area | | | | | | | De | | | | | | | scription | | | | | | | shapes | | +-----------+-----------+---+-----------+-----------+-----------+ | servic | Servic | O | 0..1 | Service | | | eIdentity | eIdentity | | | identity | | +-----------+-----------+---+-----------+-----------+-----------+ | servic | ar | O | 1..N | A list of | | | eCoverage | ray(E164C | | | E.164 | | | | ountryCod | | | country | | | | eOfGeogra | | | codes for | | | | phicArea) | | | g | | | | | | | eographic | | | | | | | a | | | | | | | reas (see | | | | | | | ITU | | | | | | | Recom | | | | | | | mendation | | | | | | | E.16 | | | | | | | 4 [13]) | | | | | | | where the | | | | | | | LCS | | | | | | | client is | | | | | | | permitted | | | | | | | to | | | | | | | request | | | | | | | and | | | | | | | receive | | | | | | | UE | | | | | | | location | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ldrType | LdrType | C | 0..1 | Location | | | | | | | deferred | | | | | | | request | | | | | | | event | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | periodic | Periodic | C | 0..1 | Periodic | | | EventInfo | EventInfo | | | event | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | location | | | | | | | request | | | | | | | for a | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | area | AreaEve | C | 0..1 | Area | | | EventInfo | ntInfoExt | | | event | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | location | | | | | | | request | | | | | | | for a | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | motion | Motion | C | 0..1 | Motion | | | EventInfo | EventInfo | | | event | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | location | | | | | | | request | | | | | | | for a | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | ldr | Ldr | C | 0..1 | Not | | | Reference | Reference | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | | | | | | | | ID | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | from NEF | | | | | | | if it is | | | | | | | allocated | | | | | | | by NEF | | | | | | | for the | | | | | | | Deferred | | | | | | | 5GC-MT-LR | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | from NEF | | | | | | | for | | | | | | | r | | | | | | | equesting | | | | | | | location | | | | | | | service | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | to VGMLC | | | | | | | for the | | | | | | | Deferred | | | | | | | 5GC-MT-LR | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | hgmlcCa | Uri | O | 0..1 | Not | | | llBackUri | | | | ification | | | | | | | target | | | | | | | address | | | | | | | for HGMLC | | +-----------+-----------+---+-----------+-----------+-----------+ | ev | Uri | O | 0..1 | The | | | entNotifi | | | | call-back | | | cationUri | | | | Uri of NF | | | | | | | service | | | | | | | consumer | | | | | | | (i.e. | | | | | | | NEF) for | | | | | | | implicit | | | | | | | sub | | | | | | | scription | | | | | | | to | | | | | | | not | | | | | | | ification | | | | | | | of | | | | | | | Eve | | | | | | | ntnotify. | | | | | | | | | | | | | | This IE | | | | | | | should be | | | | | | | included | | | | | | | and is | | | | | | | used to | | | | | | | receive | | | | | | | the | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | for UEs | | | | | | | in the | | | | | | | group | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | LCS | | | | | | | service | | | | | | | for a | | | | | | | group of | | | | | | | target | | | | | | | UEs or | | | | | | | r | | | | | | | equesting | | | | | | | deferred | | | | | | | 5GC MT | | | | | | | LCS | | | | | | | service | | | | | | | for a | | | | | | | single | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | e | E | O | 0..1 | External | | | xternalCl | xternalCl | | | LCS | | | ientIdent | ientIdent | | | client | | | ification | ification | | | ident | | | | | | | ification | | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | O | 0..1 | The | | | | | | | ident | | | | | | | ification | | | | | | | of AF | | | | | | | that | | | | | | | initiated | | | | | | | location | | | | | | | request | | +-----------+-----------+---+-----------+-----------+-----------+ | ueP | UeP | O | 0..1 | UE | | | rivacyReq | rivacyReq | | | privacy | | | uirements | uirements | | | re | | | | | | | quirement | | +-----------+-----------+---+-----------+-----------+-----------+ | lcsSe | LcsSe | O | 0..1 | LCS | | | rviceType | rviceType | | | service | | | | | | | type | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | when | | | | | | | being | | | | | | | sent from | | | | | | | HGMLC to | | | | | | | VGMLC. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the LCS | | | | | | | service | | | | | | | type, | | | | | | | which is | | | | | | | mapped | | | | | | | from | | | | | | | attribute | | | | | | | servic | | | | | | | eIdentity | | | | | | | of the | | | | | | | LCS | | | | | | | Request | | | | | | | by the | | | | | | | HGMLC. | | +-----------+-----------+---+-----------+-----------+-----------+ | velocity | Velocity | O | 0..1 | Velocity | | | Requested | Requested | | | of the | | | | | | | target UE | | | | | | | is | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | priority | Lc | O | 0..1 | Priority | | | | sPriority | | | of the | | | | | | | location | | | | | | | request | | +-----------+-----------+---+-----------+-----------+-----------+ | loc | Loc | O | 0..1 | Requested | | | ationType | ationType | | | type of | | | Requested | Requested | | | location, | | | | | | | a | | | | | | | pplicable | | | | | | | to | | | | | | | location | | | | | | | immediate | | | | | | | request | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | m | Age | O | 0..1 | Requested | | | aximumAge | OfLocatio | | | maximum | | | OfLocatio | nEstimate | | | age of | | | nEstimate | | | | the | | | | | | | location | | | | | | | estimate | | +-----------+-----------+---+-----------+-----------+-----------+ | amfId | AmfId | O | 0..1 | The | | | | | | | ident | | | | | | | ification | | | | | | | of | | | | | | | serving | | | | | | | AMF | | +-----------+-----------+---+-----------+-----------+-----------+ | codeWord | CodeWord | O | 0..1 | Code word | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | schedul | DateTime | O | 0..1 | The | | | edLocTime | | | | scheduled | | | | | | | time for | | | | | | | location | | | | | | | dete | | | | | | | rmination | | +-----------+-----------+---+-----------+-----------+-----------+ | relia | boolean | C | 0..1 | This IE | | | bleLocReq | | | | shall be | | | | | | | included | | | | | | | with the | | | | | | | value | | | | | | | \"true\" | | | | | | | to | | | | | | | indicate | | | | | | | that | | | | | | | reliable | | | | | | | UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | required, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 33.2 | | | | | | | 56 [22] | | | | | | | clau | | | | | | | se 5.3.2. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | the | | | | | | | reliable | | | | | | | UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | required | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the | | | | | | | reliable | | | | | | | UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is not | | | | | | | required | | +-----------+-----------+---+-----------+-----------+-----------+ | int | Int | O | 0..1 | When | | | egrityReq | egrityReq | | | present, | | | uirements | uirements | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | integrity | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Checking | | | | | | | of the | | | | | | | Codeword | | | | | | | in UE | | | | | | | applies | | | | | | | only when | | | | | | | the | | | | | | | Codeword | | | | | | | parameter | | | | | | | is | | | | | | | present | | | | | | | and when | | | | | | | the | | | | | | | code | | | | | | | WordCheck | | | | | | | parameter | | | | | | | ( | | | | | | | specified | | | | | | | in | | | | | | | clause 6 | | | | | | | .1.5.2.7) | | | | | | | is | | | | | | | present | | | | | | | and set | | | | | | | to TRUE. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | Loc | | | | | | | ationType | | | | | | | Requested | | | | | | | parameter | | | | | | | is set to | | | | | | | value | | | | | | | \ | | | | | | | "NOTIFICA | | | | | | | TION_VER | | | | | | | IFICATION | | | | | | | _ONLY\", | | | | | | | then the | | | | | | | lcsServic | | | | | | | eAuthInfo | | | | | | | attribute | | | | | | | in the | | | | | | | ueP | | | | | | | rivacyReq | | | | | | | uirements | | | | | | | IE, if | | | | | | | present, | | | | | | | shall be | | | | | | | set to | | | | | | | either | | | | | | | \"NO | | | | | | | TIFICATIO | | | | | | | N_ONLY\" | | | | | | | or | | | | | | | \"NOTI | | | | | | | FICATION\ | | | | | | | _AND_VER | | | | | | | IFICATION | | | | | | | _ONLY\". | | | | | | | | | | | | | | NOTE 3: | | | | | | | If | | | | | | | r | | | | | | | etrieving | | | | | | | the | | | | | | | location | | | | | | | for a | | | | | | | target | | | | | | | UE, the | | | | | | | UE | | | | | | | ident | | | | | | | ification | | | | | | | (a | | | | | | | ttributes | | | | | | | gpsi | | | | | | | and/or | | | | | | | supi) | | | | | | | shall be | | | | | | | included, | | | | | | | if | | | | | | | r | | | | | | | etrieving | | | | | | | the UE | | | | | | | locations | | | | | | | for a | | | | | | | target | | | | | | | group, | | | | | | | the group | | | | | | | ident | | | | | | | ification | | | | | | | (a | | | | | | | ttributes | | | | | | | e | | | | | | | xtGroupId | | | | | | | and/or | | | | | | | int | | | | | | | GroupId), | | | | | | | UE | | | | | | | ident | | | | | | | ification | | | | | | | and group | | | | | | | ident | | | | | | | ification | | | | | | | shall be | | | | | | | included | | | | | | | exc | | | | | | | lusively. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.3 Type: LocationData
Table 6.1.5.2.3-1: Definition of type LocationData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | Id | | | | | | | entitfier | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | O | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | locatio | Geogr | O | 0..1 | G | | | nEstimate | aphicArea | | | eographic | | | | | | | area of | | | | | | | the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | civ | Civ | O | 0..1 | Civic | | | icAddress | icAddress | | | address | | | | | | | of the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | loc | LocalArea | O | 0..1 | When | | | alLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | a local | | | | | | | area in | | | | | | | r | | | | | | | enference | | | | | | | system. | | +-----------+-----------+---+-----------+-----------+-----------+ | age | Age | O | 0..1 | Age of | | | OfLocatio | OfLocatio | | | location | | | nEstimate | nEstimate | | | estimate | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | O | 0..1 | When | | | OfLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | estimated | | | | | | | UTC time | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | cor | | | | | | | responded | | | | | | | to the UE | | | | | | | location | | | | | | | (i.e. | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | and the | | | | | | | actual UE | | | | | | | location | | | | | | | was the | | | | | | | same). | | +-----------+-----------+---+-----------+-----------+-----------+ | p | array | O | 1..N | If | | | ositionin | (Position | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | non-GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | gnssP | array(Gns | O | 1..N | If | | | ositionin | sPosition | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | accuracyF | AccuracyF | O | 0..1 | The | | | ulfilment | ulfilment | | | i | | | Indicator | Indicator | | | ndication | | | | | | | whether | | | | | | | the | | | | | | | obtained | | | | | | | location | | | | | | | estimate | | | | | | | satisfies | | | | | | | the | | | | | | | requested | | | | | | | accuracy | | | | | | | or not | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Velocit | O | 0..1 | Responded | | | eVelocity | yEstimate | | | UE | | | | | | | velocity, | | | | | | | if | | | | | | | requested | | | | | | | and | | | | | | | available | | +-----------+-----------+---+-----------+-----------+-----------+ | ldr | Ldr | C | 0..1 | Not | | | Reference | Reference | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | response | | | | | | | to NEF if | | | | | | | it is | | | | | | | allocated | | | | | | | by HGMLC | | | | | | | for the | | | | | | | the | | | | | | | Deferred | | | | | | | 5GC-MT-LR | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | altitude | Altitude | C | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | altitude | | | | | | | of the | | | | | | | po | | | | | | | sitioning | | | | | | | estimate. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | sent from | | | | | | | (V)GMLC | | | | | | | to | | | | | | | (H)GMLC | | | | | | | if | | | | | | | received | | | | | | | by VGMLC | | | | | | | from AMF | | | | | | | when | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | servin | LMFIdent | C | 0..1 | If | | | gLMFIdent | ification | | | present, | | | ification | | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | ident | | | | | | | ification | | | | | | | of a | | | | | | | serving | | | | | | | LMF for | | | | | | | periodic | | | | | | | or | | | | | | | triggered | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | sent from | | | | | | | (V)GMLC | | | | | | | to | | | | | | | (H)GMLC | | | | | | | if | | | | | | | received | | | | | | | by VGMLC | | | | | | | from AMF | | | | | | | when | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | locati | Locati | C | 0..1 | If | | | onPrivacy | onPrivacy | | | present, | | | VerResult | VerResult | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | result of | | | | | | | location | | | | | | | privacy | | | | | | | ver | | | | | | | ification | | | | | | | by UE. | | | | | | | | | | | | | | The IE | | | | | | | shall be | | | | | | | included | | | | | | | from | | | | | | | (V)GMLC | | | | | | | to | | | | | | | (H)GMLC | | | | | | | if | | | | | | | received | | | | | | | from the | | | | | | | serving | | | | | | | AMF by | | | | | | | (V)GMLC | | | | | | | when | | | | | | | roaming | | | | | | | and a | | | | | | | location | | | | | | | request | | | | | | | with | | | | | | | not | | | | | | | ification | | | | | | | and | | | | | | | privacy | | | | | | | ver | | | | | | | ification | | | | | | | only | | | | | | | i | | | | | | | ndication | | | | | | | is sent | | | | | | | to the | | | | | | | serving | | | | | | | AMF via | | | | | | | (V)GMLC | | | | | | | by | | | | | | | (H)GMLC | | | | | | | during | | | | | | | location | | | | | | | request | | | | | | | pr | | | | | | | ocedure.. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | Su | C | 0..1 | This IE | | | ccessType | ccessType | | | is only | | | | | | | used for | | | | | | | r | | | | | | | equesting | | | | | | | LCS | | | | | | | service | | | | | | | for a | | | | | | | group, | | | | | | | and shall | | | | | | | be | | | | | | | present | | | | | | | to | | | | | | | indicate | | | | | | | one of | | | | | | | the | | | | | | | following | | | | | | | value. | | | | | | | | | | | | | | > \- | | | | | | | > S | | | | | | | UCCESS_C | | | | | | | OMPLETELY | | | | | | | > | | | | | | | > \- | | | | | | | > | | | | | | | SUCCESS_ | | | | | | | PARTIALLY | | | | | | | | | | | | | | The value | | | | | | | \"SUC | | | | | | | CESS_COM | | | | | | | PLETELY\" | | | | | | | indicates | | | | | | | that | | | | | | | requ | | | | | | | esting/su | | | | | | | bscribing | | | | | | | to LCS | | | | | | | service | | | | | | | is | | | | | | | s | | | | | | | uccessful | | | | | | | for all | | | | | | | the UE(s) | | | | | | | within | | | | | | | the group | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | external | | | | | | | /internal | | | | | | | group ID. | | | | | | | | | | | | | | The value | | | | | | | \"SU | | | | | | | CCESS_PA | | | | | | | RTIALLY\" | | | | | | | indicates | | | | | | | that | | | | | | | requ | | | | | | | esting/su | | | | | | | bscribing | | | | | | | to LCS | | | | | | | service | | | | | | | is only | | | | | | | s | | | | | | | uccessful | | | | | | | for a | | | | | | | part of | | | | | | | the UE(s) | | | | | | | within | | | | | | | the group | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | external | | | | | | | /internal | | | | | | | group ID. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value of | | | | | | | this | | | | | | | attribute | | | | | | | is | | | | | | | \"SUC | | | | | | | CESS_COM | | | | | | | PLETELY\" | | | | | | | if this | | | | | | | IE is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | ac | MinorLo | O | 0..1 | When | MUTIQOS | | hievedQos | cationQoS | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | achieved | | | | | | | Location | | | | | | | QoS | | | | | | | Accuracy | | | | | | | of the | | | | | | | estimated | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | accepte | Periodic | C | 0..1 | This IE | | | dPeriodic | EventInfo | | | shall be | | | EventInfo | | | | present | | | | | | | if | | | | | | | received | | | | | | | from | | | | | | | AMF/LMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | provide | | | | | | | the | | | | | | | accepted | | | | | | | periodic | | | | | | | event | | | | | | | reporting | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | haGn | HighA | C | 0..1 | This IE | | | ssMetrics | ccuracyGn | | | should be | | | | ssMetrics | | | included | | | | | | | when | | | | | | | received | | | | | | | from | | | | | | | LMF/AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the high | | | | | | | accuracy | | | | | | | GNSS | | | | | | | metrics | | | | | | | for the | | | | | | | location | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.4 Type: CancelLocData
Table 6.1.5.2.4-1: Definition of type CancelLocData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | can | | | | | | | cellation | | | | | | | of LCS | | | | | | | service | | | | | | | for a | | | | | | | single | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | | | | | | of the | | | | | | | target | | | | | | | UE. | | | | | | | | | | | | | | (NOTE). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | can | | | | | | | cellation | | | | | | | of LCS | | | | | | | service | | | | | | | for a | | | | | | | single | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | target | | | | | | | UE. | | | | | | | | | | | | | | (NOTE). | | +-----------+-----------+---+-----------+-----------+-----------+ | e | Extern | O | 0..1 | This IE | | | xtGroupId | alGroupId | | | may be | | | | | | | present | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | can | | | | | | | cellation | | | | | | | of LCS | | | | | | | service | | | | | | | for a | | | | | | | group of | | | | | | | target | | | | | | | UEs. | | | | | | | | | | | | | | When | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | External | | | | | | | Group ID | | | | | | | | | | | | | | (NOTE). | | +-----------+-----------+---+-----------+-----------+-----------+ | | | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | when | | | | | | | r | | | | | | | equesting | | | | | | | can | | | | | | | cellation | | | | | | | of LCS | | | | | | | service | | | | | | | for a | | | | | | | group of | | | | | | | target | | | | | | | UEs. | | | | | | | | | | | | | | When | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Internal | | | | | | | Group ID | | | | | | | | | | | | | | (NOTE). | | +-----------+-----------+---+-----------+-----------+-----------+ | hgmlcCa | Uri | M | 1 | Not | | | llBackUri | | | | ification | | | | | | | target | | | | | | | address | | +-----------+-----------+---+-----------+-----------+-----------+ | ldr | Ldr | M | 1 | LDR | | | Reference | Reference | | | Reference | | +-----------+-----------+---+-----------+-----------+-----------+ | lmfIdent | LmfIdent | O | 0..1 | The | | | ification | ification | | | latest | | | | | | | LMF | | | | | | | ident | | | | | | | ification | | | | | | | received | | +-----------+-----------+---+-----------+-----------+-----------+ | amfId | AmfId | O | 0..1 | The | | | | | | | ident | | | | | | | ification | | | | | | | of the | | | | | | | serving | | | | | | | AMF | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | c | | | | | | | ancelling | | | | | | | the | | | | | | | location | | | | | | | for a | | | | | | | target | | | | | | | UE, the | | | | | | | UE | | | | | | | ident | | | | | | | ification | | | | | | | (a | | | | | | | ttributes | | | | | | | gpsi | | | | | | | and/or | | | | | | | supi) | | | | | | | shall be | | | | | | | included, | | | | | | | if | | | | | | | c | | | | | | | ancelling | | | | | | | the UE | | | | | | | locations | | | | | | | for a | | | | | | | target | | | | | | | group, | | | | | | | the group | | | | | | | ident | | | | | | | ification | | | | | | | (a | | | | | | | ttributes | | | | | | | e | | | | | | | xtGroupId | | | | | | | and/or | | | | | | | int | | | | | | | GroupId), | | | | | | | UE | | | | | | | ident | | | | | | | ification | | | | | | | and group | | | | | | | ident | | | | | | | ification | | | | | | | shall be | | | | | | | included | | | | | | | exc | | | | | | | lusively. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.5 Type: LocUpdateData
Table 6.1.5.2.5-1: Definition of type LocUpdateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | O | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | id | | | | | | | entitfier | | +-----------+-----------+---+-----------+-----------+-----------+ | pseudonym | Pseudonym | O | 0..1 | Pseudonym | | | Indicator | Indicator | | | indicator | | +-----------+-----------+---+-----------+-----------+-----------+ | l | L | M | 1 | Event | | | ocationRe | ocationRe | | | causing | | | questType | questType | | | the | | | | | | | location | | | | | | | estimate | | | | | | | (5 | | | | | | | GC-MO-LR) | | +-----------+-----------+---+-----------+-----------+-----------+ | locatio | Geogr | M | 1 | G | | | nEstimate | aphicArea | | | eographic | | | | | | | area of | | | | | | | the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | age | Age | M | 1 | Age of | | | OfLocatio | OfLocatio | | | location | | | nEstimate | nEstimate | | | estimate | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | O | 0..1 | When | | | OfLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | estimated | | | | | | | UTC time | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | cor | | | | | | | responded | | | | | | | to the UE | | | | | | | location | | | | | | | (i.e. | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | and the | | | | | | | actual UE | | | | | | | location | | | | | | | was the | | | | | | | same). | | +-----------+-----------+---+-----------+-----------+-----------+ | accuracyF | AccuracyF | M | 1 | The | | | ulfilment | ulfilment | | | i | | | Indicator | Indicator | | | ndication | | | | | | | whether | | | | | | | the | | | | | | | obtained | | | | | | | location | | | | | | | estimate | | | | | | | satisfies | | | | | | | the | | | | | | | requested | | | | | | | accuracy | | | | | | | or not | | +-----------+-----------+---+-----------+-----------+-----------+ | civ | Civ | O | 0..1 | Civic | | | icAddress | icAddress | | | address | | | | | | | of the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | lc | Lc | M | 1 | The LCS | | | sQosClass | sQosClass | | | QoS Class | | | | | | | requested | | | | | | | by the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | e | E | O | 0..1 | Identity | | | xternalCl | xternalCl | | | of the | | | ientIdent | ientIdent | | | LCS | | | ification | ification | | | client | | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | O | 0..1 | Identity | | | | | | | of the AF | | +-----------+-----------+---+-----------+-----------+-----------+ | g | string | C | 0..1 | This IE | | | mlcNumber | | | | shall be | | | | | | | included | | | | | | | by the | | | | | | | AMF in | | | | | | | the | | | | | | | request | | | | | | | to | | | | | | | V-GMLC, | | | | | | | if the | | | | | | | \"mlc | | | | | | | -number\" | | | | | | | IE is | | | | | | | received | | | | | | | in MO | | | | | | | request | | | | | | | from the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the GMLC | | | | | | | Number | | | | | | | (in E.164 | | | | | | | inte | | | | | | | rnational | | | | | | | number | | | | | | | format) | | | | | | | indicated | | | | | | | in the | | | | | | | \"mlc | | | | | | | -number\" | | | | | | | IE of the | | | | | | | MO | | | | | | | request | | | | | | | from the | | | | | | | UE. The | | | | | | | V-GMLC | | | | | | | may query | | | | | | | NRF to | | | | | | | obtain | | | | | | | the | | | | | | | H-GMLC | | | | | | | using the | | | | | | | GMLC | | | | | | | Number. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\ | | | | | | | ^[0-9]{ | | | | | | | 5,15}\$\" | | +-----------+-----------+---+-----------+-----------+-----------+ | lcsSe | LcsServ | O | 0..1 | When | | | rviceType | iceTypeId | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the LCS | | | | | | | Service | | | | | | | Type | | | | | | | received | | | | | | | from the | | | | | | | UE, as | | | | | | | specified | | | | | | | in clause | | | | | | | 6.2 of | | | | | | | 3GP | | | | | | | P TS 23.2 | | | | | | | 73 [4]. | | | | | | | | | | | | | | When | | | | | | | received, | | | | | | | the | | | | | | | H-GMLC | | | | | | | shall map | | | | | | | the | | | | | | | received | | | | | | | LCS | | | | | | | Service | | | | | | | Type to | | | | | | | the | | | | | | | Service | | | | | | | Identity | | | | | | | in | | | | | | | Location | | | | | | | Update | | | | | | | Noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.6 Type: EventNotifyData
Table 6.1.5.2.6-1: Definition of type EventNotifyData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | O | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | ldr | Ldr | M | 1 | LDR | | | Reference | Reference | | | Reference | | +-----------+-----------+---+-----------+-----------+-----------+ | e | E | M | 1 | The type | | | ventNotif | ventNotif | | | of event | | | yDataType | yDataType | | | that | | | | | | | triggers | | | | | | | event | | | | | | | not | | | | | | | ification | | +-----------+-----------+---+-----------+-----------+-----------+ | locatio | Geogr | O | 0..1 | G | | | nEstimate | aphicArea | | | eographic | | | | | | | area of | | | | | | | the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | civ | Civ | O | 0..1 | Civic | | | icAddress | icAddress | | | address | | | | | | | of the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | loc | LocalArea | O | 0..1 | When | | | alLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | a local | | | | | | | area in | | | | | | | r | | | | | | | enference | | | | | | | system. | | +-----------+-----------+---+-----------+-----------+-----------+ | age | Age | O | 0..1 | Age of | | | OfLocatio | OfLocatio | | | location | | | nEstimate | nEstimate | | | estimate | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | O | 0..1 | When | | | OfLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | estimated | | | | | | | UTC time | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | cor | | | | | | | responded | | | | | | | to the UE | | | | | | | location | | | | | | | (i.e. | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | and the | | | | | | | actual UE | | | | | | | location | | | | | | | was the | | | | | | | same). | | +-----------+-----------+---+-----------+-----------+-----------+ | p | array | O | 1..N | If | | | ositionin | (Position | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | non-GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | gnssP | array(Gns | O | 1..N | If | | | ositionin | sPosition | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | lmfIdent | LmfIdent | O | 0..1 | LMF | | | ification | ification | | | ident | | | | | | | ification | | | | | | | that | | | | | | | stores | | | | | | | the | | | | | | | location | | | | | | | context | | | | | | | of the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | amfId | AmfId | O | 0..1 | The | | | | | | | ident | | | | | | | ification | | | | | | | of AMF | | | | | | | that is | | | | | | | serving | | | | | | | the | | | | | | | target UE | | +-----------+-----------+---+-----------+-----------+-----------+ | termina | Termina | C | 0..1 | The IE | | | tionCause | tionCause | | | shall be | | | | | | | included | | | | | | | if event | | | | | | | reporting | | | | | | | has been | | | | | | | t | | | | | | | erminated | | +-----------+-----------+---+-----------+-----------+-----------+ | velocit | Velocit | C | 0..1 | If | | | yEstimate | yEstimate | | | present, | | | | | | | this IE | | | | | | | contain | | | | | | | an | | | | | | | estimate | | | | | | | of the | | | | | | | velocity | | | | | | | of the | | | | | | | target | | | | | | | UE, | | | | | | | composed | | | | | | | by | | | | | | | h | | | | | | | orizontal | | | | | | | speed, | | | | | | | vertical | | | | | | | speed, | | | | | | | and their | | | | | | | r | | | | | | | espective | | | | | | | unc | | | | | | | ertainty. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | sent from | | | | | | | (V)GMLC | | | | | | | to | | | | | | | (H)GMLC | | | | | | | if | | | | | | | received | | | | | | | by VGMLC | | | | | | | from AMF | | | | | | | when | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | altitude | Altitude | C | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | altitude | | | | | | | of the | | | | | | | po | | | | | | | sitioning | | | | | | | estimate. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | sent from | | | | | | | (V)GMLC | | | | | | | to | | | | | | | (H)GMLC | | | | | | | if | | | | | | | received | | | | | | | by VGMLC | | | | | | | from AMF | | | | | | | when | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | NfI | C | 0..1 | For | | | argetNode | nstanceId | | | mobility | | | | | | | of a UE | | | | | | | with | | | | | | | periodic | | | | | | | or | | | | | | | triggered | | | | | | | location, | | | | | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | address | | | | | | | of the | | | | | | | new | | | | | | | serving | | | | | | | node and | | | | | | | shall be | | | | | | | sent from | | | | | | | (V)GMLC | | | | | | | to | | | | | | | (H)GMLC | | | | | | | if | | | | | | | received | | | | | | | by VGMLC | | | | | | | from AMF | | | | | | | when | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | accuracyF | AccuracyF | O | 0..1 | The | | | ulfilment | ulfilment | | | i | | | Indicator | Indicator | | | ndication | | | | | | | whether | | | | | | | the | | | | | | | obtained | | | | | | | location | | | | | | | estimate | | | | | | | satisfies | | | | | | | the | | | | | | | requested | | | | | | | accuracy | | | | | | | or not | | +-----------+-----------+---+-----------+-----------+-----------+ | fai | Fai | C | 0..1 | This IE | | | lureCause | lureCause | | | shall | | | | | | | contain | | | | | | | the | | | | | | | failure | | | | | | | cause for | | | | | | | the UE if | | | | | | | present. | | | | | | | | | | | | | | The IE | | | | | | | shall be | | | | | | | included | | | | | | | if | | | | | | | po | | | | | | | sitioning | | | | | | | has | | | | | | | failed | | | | | | | for the | | | | | | | target UE | | | | | | | in the | | | | | | | target | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | ac | MinorLo | O | 0..1 | When | MUTIQOS | | hievedQos | cationQoS | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | achieved | | | | | | | Location | | | | | | | QoS | | | | | | | Accuracy | | | | | | | of the | | | | | | | estimated | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | haGn | HighA | C | 0..1 | This IE | | | ssMetrics | ccuracyGn | | | should be | | | | ssMetrics | | | included | | | | | | | when | | | | | | | received | | | | | | | from | | | | | | | LMF/AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the high | | | | | | | accuracy | | | | | | | GNSS | | | | | | | metrics | | | | | | | for the | | | | | | | location | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.7 Type: UePrivacyRequirements
Table 6.1.5.2.7-1: Definition of type UePrivacyRequirements
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | lcsServic | LcsSe | O | 0..1 | When | | | eAuthInfo | rviceAuth | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | i | | | | | | | ndication | | | | | | | of | | | | | | | privacy | | | | | | | related | | | | | | | not | | | | | | | ification | | | | | | | or | | | | | | | ver | | | | | | | ification | | | | | | | for the | | | | | | | target | | | | | | | UE. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value of | | | | | | | this | | | | | | | parameter | | | | | | | if not | | | | | | | presents | | | | | | | is | | | | | | | \"LOCATIO | | | | | | | N_ALLOWE | | | | | | | D_WITHOU | | | | | | | T_NOTIFI | | | | | | | CATION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | code | boolean | O | 0..1 | When | | | WordCheck | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the | | | | | | | Codeword | | | | | | | parameter | | | | | | | shall be | | | | | | | checked | | | | | | | in UE. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Checking | | | | | | | of the | | | | | | | Codeword | | | | | | | in UE | | | | | | | applies | | | | | | | only when | | | | | | | the | | | | | | | Codeword | | | | | | | parameter | | | | | | | ( | | | | | | | specified | | | | | | | in | | | | | | | clause 6 | | | | | | | .1.5.2.2) | | | | | | | is | | | | | | | present | | | | | | | and when | | | | | | | the | | | | | | | code | | | | | | | WordCheck | | | | | | | parameter | | | | | | | is | | | | | | | present | | | | | | | and set | | | | | | | to TRUE. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.8 Void
##### 6.1.5.2.9 Type: LocUpdateNotification
Table 6.1.5.2.9-1: Definition of type LocUpdateNotification
Attribute name Data type P Cardinality Description Applicability
* * *
supi Supi O 0..1 Subscription Permanent Identifier  
gpsi Gpsi O 0..1 Generic Public Subscription identitfier  
locationRequestType LocationRequestType M 1 Event causing the location
estimate (5GC-MO-LR)  
locationEstimate GeographicArea M 1 geographic area of the target UE  
ageOfLocationEstimate AgeOfLocationEstimate M 1 Age of location estimate  
timestampOfLocationEstimate DateTime O 0..1 When present, this IE shall
indicate the estimated UTC time when the location estimate corresponded to the
UE location (i.e. when the location estimate and the actual UE location was
the same).  
accuracyFulfilmentIndicator AccuracyFulfilmentIndicator M 1 The indication
whether the obtained location estimate satisfies the requested accuracy or not  
civicAddress CivicAddress O 0..1 Civic address of the target UE  
lcsQosClass LcsQosClass M 1 The LCS QoS Class requested by the target UE  
afId string O 0..1 Identity of the AF  
serviceIdentity ServiceIdentity O 0..1 When present, this IE shall contain
Service Identity mapped from the LCS Service Type specified by the UE, as
specified in clause 6.2 of 3GPP TS 23.273 [4].
##### 6.1.5.2.10 Type: LocUpdateSubs
Table 6.1.5.2.10-1: Definition of type LocUpdateSubs
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | nfI | NfI | M | 1 | Identity | | | nstanceId | nstanceId | | | of the NF | | | | | | | Instance | | | | | | | creating | | | | | | | the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | The URI | | | | | | | via which | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | wants to | | | | | | | receive | | | | | | | noti | | | | | | | fications | | | | | | | related | | | | | | | to this | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | SUPI of | | | | | | | the UE | | | | | | | concerned | | | | | | | by the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | gpsi | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | GPSI of | | | | | | | the UE | | | | | | | concerned | | | | | | | by the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | supi | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.5.2.11 Type: EventNotifyDataAdditionalInfo
Table 6.1.5.2.11-1: Definition of type EventNotifyDataAdditionalInfo
Attribute name Data type P Cardinality Description Applicability
* * *
addEventDataList array(EventNotifyData) O 1..N When present, this IE shall
include a list of event reports of the additional UE(s) which belong to the
target group.
##### 6.1.5.2.12 Type: EventNotifyDataExt
Table 6.1.5.2.12-1: Definition of type EventNotifyDataExt as a list of to be
combined data
Data type Cardinality Description Applicability
* * *
EventNotifyData 1 Event Notification Data  
EventNotifyDataAdditionalInfo 1 Additional information of the Event
Notification Data
##### 6.1.5.2.13 Type: AreaEventInfoAddition
Table 6.1.5.2.13-1: Definition of type AreaEventInfoAddition
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | geoAreaList | array(Ge | O | 1..N | One or more | | | ographicArea) | | | geographic | | | | | | areas for | | | | | | location | | | | | | reporting | | | | | | event | +---------------+---------------+---+-------------+---------------+ | ign | boolean | O | 0..1 | Indicating | | oreAreaDefInd | | | | whether the | | | | | | \"are | | | | | | aDefinition\" | | | | | | IE in | | | | | | Are | | | | | | aEventInfoExt | | | | | | combined data | | | | | | type shall be | | | | | | ignored or | | | | | | not: | | | | | | | | | | | | - true: the | | | | | | \"are | | | | | | aDefinition\" | | | | | | IE shall be | | | | | | ignored. | | | | | | | | | | | | - false | | | | | | (default)\" | | | | | | the | | | | | | \"are | | | | | | aDefinition\" | | | | | | IE shall not | | | | | | be ignored. | +---------------+---------------+---+-------------+---------------+
##### 6.1.5.2.14 Type: AreaEventInfoExt
Table 6.1.5.2.14-1: Definition of type AreaEventInfoExt as a list of to be
combined data
Data type Cardinality Description Applicability
* * *
AreaEventInfo 1 Area Event Information  
AreaEventInfoAddition 1 Addition information for Extended Area Event
Information
##### 6.1.5.2.15 Type: IntegrityRequirements
Table 6.1.5.2.15-1: Definition of type IntegrityRequirements
Attribute name Data type P Cardinality Description
* * *
targetIntegrityRisk TargetIntegrityRisk O 0..1 This IE shall indicate Target
Integrity Risk (TIR), as specified in 3GPP TR 37.355 [23]. timeToAlert
TimeToAlert O 0..1 This IE shall indicate the Time-to-Alert (TTA). alertLimit
AlertLimit O 0..1 This IE shall indicate Alert Limit (AL), as specified in
3GPP TS 37.355 [23].
##### 6.1.5.2.16 Type: AlertLimit
Table 6.1.5.2.16-1: Definition of type AlertLimit
Attribute name Data type P Cardinality Description
* * *
horizontalProtectionLevel HorizontalProtectionLevel M 1 This IE shall indicate
the Horizontal Protection Level, as specified in 3GPP TS 37.355 [23].
verticalProtectionLevel VerticalProtectionLevel O 0..1 This IE shall indicate
the Vertical Protection Level, as specified in 3GPP TS 37.355 [23].
#### 6.1.5.3 Simple data types and enumerations
##### 6.1.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.5.3.2 Simple data types
The simple data types defined in table 6.1.5.3.2-1 shall be supported.
Table 6.1.5.3.2-1: Simple data types
+----------------+----------------+----------------+---------------+ | Type Name | Type | Description | Applicability | | | Definition | | | +================+================+================+===============+ | S | string | Service | | | erviceIdentity | | identity | | +----------------+----------------+----------------+---------------+ | ExternalClient | string | External LCS | | | Identification | | client | | | | | identification | | +----------------+----------------+----------------+---------------+ | CodeWord | string | codeword | | +----------------+----------------+----------------+---------------+ | E16 | string | The | | | 4CountryCodeOf | | combination of | | | GeographicArea | | one, two or | | | | | three digits | | | | | identifying a | | | | | specific | | | | | country, | | | | | countries in | | | | | an integrated | | | | | numbering | | | | | plan, or a | | | | | specific | | | | | geographic | | | | | area | | +----------------+----------------+----------------+---------------+ | Lc | integer | LCS Service | | | sServiceTypeId | | Type Id, as | | | | | specified | | | | | cl | | | | | ause 7.6.11.15 | | | | | of | | | | | 3GPP TS | | | | | 29.002 [xx]. | | | | | | | | | | Minimum = 0. | | | | | Maximum = 127 | | +----------------+----------------+----------------+---------------+ | TimeToAlert | integer | Time-to-Alert | | | | | | | | | | Minimum = 1. | | | | | Maximum = 300 | | +----------------+----------------+----------------+---------------+ | Targe | integer | Target | | | tIntegrityRisk | | Integrity Risk | | | | | | | | | | Minimum = 10. | | | | | Maximum = 90 | | +----------------+----------------+----------------+---------------+ | HorizontalP | integer | Horizontal | | | rotectionLevel | | Protection | | | | | Level | | | | | | | | | | Minimum = 0. | | | | | Maximum = | | | | | 50000 | | +----------------+----------------+----------------+---------------+ | VerticalP | integer | Vertical | | | rotectionLevel | | Protection | | | | | Level | | | | | | | | | | Minimum = 0. | | | | | Maximum = | | | | | 50000 | | +----------------+----------------+----------------+---------------+
##### 6.1.5.3.3 Enumeration: PseudonymIndicator
The enumeration PseudonymIndicator represents whether pseudonym should be used
as the identity of the target UE. It shall comply with the provisions defined
in table 6.1.5.3.3-1.
Table 6.1.5.3.3-1: Enumeration PseudonymIndicator
Enumeration value Description Applicability
* * *
\"PSEUDONYM_REQUESTED\" A pseudonym is requested  
\"PSEUDONYM_NOT_REQUESTED\" A pseudonym is not requested
##### 6.1.5.3.4 Enumeration: LocationRequestType
The enumeration LocationRequestType represents how the location request is
triggered. It shall comply with the provisions defined in table 6.1.5.3.4-1.
Table 6.1.5.3.4-1: Enumeration LocationRequestType
Enumeration value Description Applicability
* * *
\"NI-LR\" Network induced location request  
\"MT-LR\" Mobile terminated location request  
\"MO-LR\" Mobile originated location request
##### 6.1.5.3.5 Enumeration: LocationTypeRequested
The enumeration LocationTypeRequested represents the requested type of
location which is only applicable to location immediate request. It shall
comply with the provisions defined in table 6.1.5.3.5-1.
Table 6.1.5.3.5-1: Enumeration LocationTypeRequested
Enumeration value Description Applicability
* * *
\"CURRENT_LOCATION\" Requesting the current location of the target UE  
\"CURRENT_OR_LAST_KNOWN_LOCATION\" Requesting the current or last known
location of the target UE  
\"INITIAL_LOCATION\" Requesting the initial location of the target UE  
\"NOTIFICATION_VERIFICATION_ONLY\" Requesting notification verification only
##### 6.1.5.3.6 Enumeration: EventNotifyDataType
The enumeration EventNotifyDataType represents the type of event notification.
It shall comply with the provisions defined in table 6.1.5.3.6-1.
Table 6.1.5.3.6-1: Enumeration EventNotifyDataType
+-------------------------+-------------------------+---------------+ | Enumeration value | Description | Applicability | +=========================+=========================+===============+ | \"UE_AVAILABLE\" | UE available event | | +-------------------------+-------------------------+---------------+ | \"PERIODIC\" | Periodic event | | +-------------------------+-------------------------+---------------+ | \ | Entering area event | | | "ENTERING_INTO_AREA\" | | | +-------------------------+-------------------------+---------------+ | \"LEAVING_FROM_AREA\" | Leaving area event | | +-------------------------+-------------------------+---------------+ | \"BEING_INSIDE_AREA\" | Being inside area event | | +-------------------------+-------------------------+---------------+ | \"MOTION\" | Motion event | | +-------------------------+-------------------------+---------------+ | \"MAXIMUM_INTERV | Expiration of maximum | | | AL_EXPIRATION_EVENT\" | reporting interval | | | | event | | +-------------------------+-------------------------+---------------+ | \"LOCATION | Cancellation of | | | _CANCELLATION_EVENT\" | location reporting | | | | event | | +-------------------------+-------------------------+---------------+ | \"ACTIVATION_O | A confirmation that | | | F_DEFERRED_LOCATION\" | periodic or triggered | | | | location was | | | | successfully activated | | | | in the target UE | | +-------------------------+-------------------------+---------------+ | \"UE_MOBILITY_FO | Mobility of the target | | | R_DEFERRED_LOCATION\" | UE to a different NF | | +-------------------------+-------------------------+---------------+ | \"5GC_MT_LR\" | Report of immediate 5GC | | | | mobile terminated | | | | location. | | | | | | | | It is used for | | | | 5GC_MT_LR request | | | | targeting to a group of | | | | UE procedure. | | +-------------------------+-------------------------+---------------+
##### 6.1.5.3.7 Enumeration: FailureCause
The enumeration FailureCause represents the cause of positioning failure. It
shall comply with the provisions defined in table 6.1.5.3.7-1.
Table 6.1.5.3.7-1: Enumeration FailureCause
Enumeration value Description Applicability
* * *
\"POSITIONING_DENIED\" Positioning is denied  
\"UNSUPPORTED_BY_UE\" Positioning is not supported by UE  
\"NOT_REGISTED_UE\" UE doesn\'t register  
\"UNSPECIFIED\" Unspecified
##### 6.1.5.3.8 Enumeration: SuccessType
The enumeration SuccessType represents the type of success. It shall comply
with the provisions defined in table 6.1.5.3.8-1.
Table 6.1.5.3.8-1: Enumeration SuccessType
Enumeration value Description Applicability
* * *
\"SUCCESS_COMPLETELY\" It is completely successful.  
\"SUCCESS_PARTIALLY\" It is partially successful.
### 6.1.6 Error Handling
#### 6.1.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [5].
#### 6.1.6.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [5].
#### 6.1.6.3 Application Errors
The application errors defined for the Ngmlc_Location service are listed in
Table 6.1.6.3-1.
Table 6.1.6.3-1: Application errors
+----------------------+----------------------+----------------------+ | Application Error | HTTP status code | Description | +======================+======================+======================+ | POSITIONING_DENIED | 403 Forbidden | the positioning | | | | procedure was | | | | denied. | +----------------------+----------------------+----------------------+ | UNSPECIFIED | 403 Forbidden | the request is | | | | rejected due to | | | | unspecified reasons. | +----------------------+----------------------+----------------------+ | UNSUPPORTED_BY_UE | 403 Forbidden | the position request | | | | for periodic or | | | | triggered location | | | | is not supported by | | | | the target UE | +----------------------+----------------------+----------------------+ | LOCATI | 403 Forbidden | the location context | | ON_SESSION_UNKNOWN | | was not found | +----------------------+----------------------+----------------------+ | UNREQUESTED_BY_UE | 403 Forbidden | the UE did not | | | | request transfer of | | | | its location to an | | | | LCS Client or AF | +----------------------+----------------------+----------------------+ | UNKOWN_EXTE | 403 Forbidden | the external LCS | | RNAL_CLIENT_OR_AF | | client or AF is | | | | unknown | +----------------------+----------------------+----------------------+ | UNREACHABLE_EXTE | 403 Forbidden | the external LCS | | RNAL_CLIENT_OR_AF | | client or AF is | | | | unreachable | +----------------------+----------------------+----------------------+ | DETACHED_USER | 403 Forbidden | the user is | | | | deregistered in the | | | | AMF | +----------------------+----------------------+----------------------+ | POSITIONING_FAILED | 500 Internal Server | the positioning | | | Error | procedure failed | +----------------------+----------------------+----------------------+ | UNREACHABLE_USER | 504 Gateway Timeout | the user could not | | | | be reached in order | | | | to perform | | | | positioning | | | | procedure | +----------------------+----------------------+----------------------+ | P | 504 Gateway Timeout | No response is | | EER_NOT_RESPONDING | | received from a | | | | remote peer, i.e., | | | | | | | | 1) The response | | | | from the serving AMF | | | | wasn\'t received by | | | | (V)GMLC, or; | | | | | | | | 2) (V)GMLC received | | | | HTTP status code 504 | | | | with | | | | P | | | | EER_NOT_RESPONDING | | | | from AMF. | +----------------------+----------------------+----------------------+
### 6.1.7 Feature negotiation
The optional features in table 6.1.7-1 are defined for the Ngmlc_Location API.
Table 6.1.7-1: Supported Features
+----------------+--------------+------------------------------------+ | Feature number | Feature Name | Description | +================+==============+====================================+ | 1 | MUTIQOS | Support of Multiple Location | | | | QoSes. | | | | | | | | This feature bit indicates whether | | | | the GMLC support that more than | | | | one Location QoSes during | | | | consuming location service are | | | | required. | +----------------+--------------+------------------------------------+
### 6.1.8 Security
As indicated in 3GPP TS 33.501 [15], the access to the Ngmlc_Location API may
be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [16]), using
the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS
29.510 [17]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Ngmlc_Location API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [17], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Ngmlc_Location service.
The Ngmlc_Location API defines scopes for OAuth2 authorization as specified in
3GPP TS 33.501 [15]; it defines a single scope consisting on the name of the
service (i.e., \"ngmlc-loc\"), and it does not define any additional scopes at
resource or operation level.
### 6.1.9 HTTP redirection
An HTTP request may be redirected to a different GMLC service instance, within
the same GMLC or a different GMLC of an GMLC set, e.g. when an GMLC service
instance is part of an GMLC (service) set or when using indirect
communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different GMLC producer instance will return the NF
Instance ID of the new GMLC producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an GMLC within an GMLC set redirects a service request to a different GMLC
of the set using an 307 Temporary Redirect or 308 Permanent Redirect status
code, the identity of the new GMLC towards which the service request is
redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307
Temporary Redirect or 308 Permanent Redirect response as specified in clause
6.10.9.1 of 3GPP TS 29.500 [4].
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the Ngmlc_Location service. It
consists of OpenAPI 3.0.0 specifications, in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see 3GPP TS 29.501 [6] clause 5.3.1
and 3GPP TR 21.900 [19] clause 5B).
# A.2 Ngmlc_Location API
openapi: 3.0.0
info:
version: \'1.1.3\'
title: \'Ngmlc_Location\'
description: \|
GMLC Location Service.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.515 V17.8.0; 5G System; Gateway Mobile Location
Services; Stage 3
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.515/\'
servers:
\- url: \'{apiRoot}/ngmlc-loc/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- ngmlc-loc
paths:
/provide-location:
post:
summary: Request Location of an UE
operationId: RequestLocation
tags:
\- Request Location
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/InputData\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocationData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
EventNotify:
\'{\$request.body#/hgmlcCallBackUri}\':
post:
requestBody:
description: UE Event Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventNotifyDataExt\'
responses:
\'204\':
description: Expected response to a valid notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
EventNotifyNef:
\'{\$request.body#/eventNotificationUri}\':
post:
requestBody:
description: UE Event Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventNotifyData\'
responses:
\'204\':
description: Expected response to a valid notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/cancel-location:
post:
summary: request cancellation of periodic or triggered location
operationId: CancelLocation
tags:
\- Cancel Location
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/CancelLocData\'
required: true
responses:
\'204\':
description: Expected response to a successful cancellation
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/location-update:
post:
summary: update UE location information
operationId: UpdateLocation
tags:
\- Update Location
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateData\'
required: true
responses:
\'204\':
description: Expected response to successful location context transfer
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/loc-update-subs:
post:
summary: subscribe to notifications of UE location information
operationId: LocationUpdateSubcribe
tags:
\- UE location information Subscription creation
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateSubs\'
required: true
responses:
\'204\':
description: Expected response to successful UE location information
subscription
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
LocationUpdateNotify:
\'{\$request.body#/notifUri}\':
post:
requestBody:
description: Location Update Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateNotification\'
responses:
\'204\':
description: Expected response to a valid notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
ngmlc-loc: Access to the Ngmlc_Location API
schemas:
#
# COMPLEX TYPES
#
InputData:
description: Contains the input parameters in ProvideLocation service
operation
type: object
required:
\- externalClientType
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
extGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId\'
intGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
externalClientType:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/ExternalClientType\'
locationQoS:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LocationQoS\'
supportedGADShapes:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/SupportedGADShapes\'
minItems: 1
serviceIdentity:
\$ref: \'#/components/schemas/ServiceIdentity\'
serviceCoverage:
type: array
items:
\$ref: \'#/components/schemas/E164CountryCodeOfGeographicArea\'
minItems: 1
ldrType:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrType\'
periodicEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/PeriodicEventInfo\'
areaEventInfo:
\$ref: \'#/components/schemas/AreaEventInfoExt\'
motionEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/MotionEventInfo\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
hgmlcCallBackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
eventNotificationUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
externalClientIdentification:
\$ref: \'#/components/schemas/ExternalClientIdentification\'
afId:
type: string
uePrivacyRequirements:
\$ref: \'#/components/schemas/UePrivacyRequirements\'
lcsServiceType:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsServiceType\'
velocityRequested:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/VelocityRequested\'
priority:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsPriority\'
locationTypeRequested:
\$ref: \'#/components/schemas/LocationTypeRequested\'
maximumAgeOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
amfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfId\'
codeWord:
\$ref: \'#/components/schemas/CodeWord\'
scheduledLocTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
reliableLocReq:
type: boolean
default: false
integrityRequirements:
\$ref: \'#/components/schemas/IntegrityRequirements\'
LocationData:
description: Contains the response parameters in ProvideLocation service
operation
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
locationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
localLocationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LocalArea\'
ageOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
timestampOfLocationEstimate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
positioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/PositioningMethodAndUsage\'
minItems: 1
gnssPositioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/GnssPositioningMethodAndUsage\'
minItems: 1
accuracyFulfilmentIndicator:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AccuracyFulfilmentIndicator\'
ueVelocity:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/VelocityEstimate\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
altitude:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/Altitude\'
servingLMFIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
locationPrivacyVerResult:
\$ref:
\'TS29518_Namf_Location.yaml#/components/schemas/LocationPrivacyVerResult\'
successType:
\$ref: \'#/components/schemas/SuccessType\'
achievedQos:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/MinorLocationQoS\'
acceptedPeriodicEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/PeriodicEventInfo\'
haGnssMetrics:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/HighAccuracyGnssMetrics\'
CancelLocData:
description: Contains the input parameters in CancelLocation service operation
type: object
required:
\- hgmlcCallBackUri
\- ldrReference
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
extGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId\'
intGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
hgmlcCallBackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
lmfIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
amfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfId\'
LocUpdateData:
description: Contains the input parameters in LocationUpdate service operation
type: object
required:
\- locationRequestType
\- locationEstimate
\- ageOfLocationEstimate
\- accuracyFulfilmentIndicator
\- lcsQosClass
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
pseudonymIndicator:
\$ref: \'#/components/schemas/PseudonymIndicator\'
locationRequestType:
\$ref: \'#/components/schemas/LocationRequestType\'
locationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
ageOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
timestampOfLocationEstimate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
accuracyFulfilmentIndicator:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AccuracyFulfilmentIndicator\'
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
lcsQosClass:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsQosClass\'
externalClientIdentification:
\$ref: \'#/components/schemas/ExternalClientIdentification\'
afId:
type: string
gmlcNumber:
type: string
pattern: \'\^[0-9]{5,15}\$\'
lcsServiceType:
\$ref: \'#/components/schemas/LcsServiceTypeId\'
EventNotifyData:
description: Contains the input parameters for the target UE in EventNotify
Notification service operation
type: object
required:
\- eventNotifyDataType
\- ldrReference
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
eventNotifyDataType:
\$ref: \'#/components/schemas/EventNotifyDataType\'
locationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
localLocationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LocalArea\'
ageOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
timestampOfLocationEstimate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
positioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/PositioningMethodAndUsage\'
minItems: 1
gnssPositioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/GnssPositioningMethodAndUsage\'
minItems: 1
lmfIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
amfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfId\'
terminationCause:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/TerminationCause\'
velocityEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/VelocityEstimate\'
altitude:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/Altitude\'
targetNode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
accuracyFulfilmentIndicator:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AccuracyFulfilmentIndicator\'
failureCause:
\$ref: \'#/components/schemas/FailureCause\'
achievedQos:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/MinorLocationQoS\'
haGnssMetrics:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/HighAccuracyGnssMetrics\'
UePrivacyRequirements:
description: UE privacy requirements from (H)GMLC to the serving AMF or
VGMLC(in the roaming case) for the target UE
type: object
properties:
lcsServiceAuthInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/LcsServiceAuth\'
codeWordCheck:
type: boolean
LocUpdateNotification:
description: Location Update Notification
type: object
required:
\- locationRequestType
\- locationEstimate
\- ageOfLocationEstimate
\- accuracyFulfilmentIndicator
\- lcsQosClass
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
locationRequestType:
\$ref: \'#/components/schemas/LocationRequestType\'
locationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
ageOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
timestampOfLocationEstimate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
accuracyFulfilmentIndicator:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AccuracyFulfilmentIndicator\'
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
lcsQosClass:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsQosClass\'
afId:
type: string
serviceIdentity:
\$ref: \'#/components/schemas/ServiceIdentity\'
LocUpdateSubs:
description: UE location information subscription
type: object
required:
\- nfInstanceId
\- notifURI
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
notifURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
EventNotifyDataExt:
description: Extended Event Notify Data for UEs of a target group
allOf:
\- \$ref: \'#/components/schemas/EventNotifyData\'
\- \$ref: \'#/components/schemas/EventNotifyDataAdditionalInfo\'
EventNotifyDataAdditionalInfo:
description: Additional information to Event Notify Data
type: object
properties:
addEventDataList:
type: array
items:
\$ref: \'#/components/schemas/EventNotifyData\'
minItems: 1
AreaEventInfoAddition:
description: Additional information for Extended Area event information
type: object
properties:
geoAreaList:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
minItems: 1
ignoreAreaDefInd:
type: boolean
default: false
AreaEventInfoExt:
description: Extended Area Event Information
allOf:
\- \$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/AreaEventInfo\'
\- \$ref: \'#/components/schemas/AreaEventInfoAddition\'
IntegrityRequirements:
description: integrity requirements.
type: object
properties:
timeToAlert:
\$ref: \'#/components/schemas/TimeToAlert\'
targetIntegrityRisk:
\$ref: \'#/components/schemas/TargetIntegrityRisk\'
alertLimit:
\$ref: \'#/components/schemas/AlertLimit\'
AlertLimit:
description: Alert Limit.
type: object
required:
\- horizontalProtectionLevel
properties:
horizontalProtectionLevel:
\$ref: \'#/components/schemas/HorizontalProtectionLevel\'
verticalProtectionLevel:
\$ref: \'#/components/schemas/VerticalProtectionLevel\'
#
# SIMPLE TYPES
#
ServiceIdentity:
description: Contains the service identity
type: string
ExternalClientIdentification:
description: Contains the external client identification
type: string
CodeWord:
description: Contains the codeword
type: string
E164CountryCodeOfGeographicArea:
description: Contains the E.164 country codes for geographic areas
type: string
LcsServiceTypeId:
description: LCS Service Type Id.
type: integer
minimum: 0
maximum: 127
TimeToAlert:
description: Contains the time-to-alert
type: integer
minimum: 1
maximum: 300
TargetIntegrityRisk:
description: Contains the target integrity risk
type: integer
minimum: 10
maximum: 90
HorizontalProtectionLevel:
description: Contains the Horizontal Protection Level
type: integer
minimum: 0
maximum: 50000
VerticalProtectionLevel:
description: Contains the Vertical Protection Level
type: integer
minimum: 0
maximum: 50000
#
# ENUMS
#
PseudonymIndicator:
description: It defines if a pseudonym is requested
anyOf:
\- type: string
enum:
\- PSEUDONYM_REQUESTED
\- PSEUDONYM_NOT_REQUESTED
\- type: string
LocationRequestType:
description: NI-LR, MT-LR or MO-LR
anyOf:
\- type: string
enum:
\- NI_LR
\- MT_LR
\- MO_LR
\- type: string
LocationTypeRequested:
description: Contains the location type requested by the LCS client
anyOf:
\- type: string
enum:
\- CURRENT_LOCATION
\- CURRENT_OR_LAST_KNOWN_LOCATION
\- INITIAL_LOCATION
\- NOTIFICATION_VERIFICATION_ONLY
\- type: string
EventNotifyDataType:
description: Contains the type of event that triggers event notification
anyOf:
\- type: string
enum:
\- UE_AVAILABLE
\- PERIODIC
\- ENTERING_INTO_AREA
\- LEAVING_FROM_AREA
\- BEING_INSIDE_AREA
\- MOTION
\- MAXIMUM_INTERVAL_EXPIRATION_EVENT
\- LOCATION_CANCELLATION_EVENT
\- ACTIVATION_OF_DEFERRED_LOCATION
\- UE_MOBILITY_FOR_DEFERRED_LOCATION
\- 5GC_MT_LR
\- type: string
FailureCause:
description: Positioning failure cause
anyOf:
\- type: string
enum:
\- POSITIONING_DENIED
\- UNSUPPORTED_BY_UE
\- NOT_REGISTED_UE
\- UNSPECIFIED
\- type: string
SuccessType:
description: Success Type to indicate full or partial success
anyOf:
\- type: string
enum:
\- SUCCESS_COMPLETELY
\- SUCCESS_PARTIALLY
\- type: string
#