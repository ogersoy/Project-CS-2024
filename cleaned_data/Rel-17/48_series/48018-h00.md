# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The present document specifies or references procedures used on the Base
Station System (BSS) to Serving GPRS Support Node (SGSN) interface for control
of GSM packet data services within the digital cellular telecommunications
system (Phase 2+).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies or references procedures used on the Base
Station System (BSS) to Serving GPRS Support Node (SGSN) interface for control
of GSM packet data services.
The functional split between BSS and SGSN is defined in 3GPP TS 23.060 which
states that a BSS is responsible for local radio resource allocation. The
required procedures between BSS and SGSN are defined in detail in the present
document.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] (void).
[3] (void).
[4] (void).
[5] (void).
[6] (void).
[7] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
Description; Stage 2\".
[8] (void).
[9] (void).
[10] 3GPP TS 43.064: \"Overall description of the GPRS radio interface; Stage
2\".
[11] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[12] 3GPP TS 44.064: \"Mobile Station - Serving GPRS Support Node (MS-SGSN)
Logical Link Control (LLC) Layer Specification\".
[13] (void).
[14] 3GPP TS 48.008: \"Mobile Switching Centre - Base Station System (MSC-BSS)
interface; Layer 3 specification\".
[15] (void).
[16] 3GPP TS 48.016: \"General Packet Radio Service (GPRS); Base Station
System (BSS) - Serving GPRS Support Node (SGSN) interface; Network Service\"
[17] 3GPP TS 29.018: \"General Packet Radio Service (GPRS); Serving GPRS
Support Node (SGSN) - Visitors Location Register (VLR); Gs Interface Layer 3
specification\".
[18] 3GPP TS 32.008: \"Subscriber and equipment trace\".
[19] ITU-T Recommendation X.200 (White Book): \"Information technology \- Open
Systems Interconnection - Basic Reference Model: The basic model\".
[20] 3GPP TS 23.107: \"Quality of Service (QoS) concept and architecture\".
[21] (void).
[22] 3GPP TS 44.060: \"General Packet Radio Service (GPRS); Mobile Station
(MS) - Base Station System (BSS) interface; Radio Link Control/Medium Access
Control (RLC/MAC) protocol\".
[23] 3GPP TS 43.059: \"Functional Stage 2 Description of Location Services
(LCS) in GERAN\".
[24] 3GPP TS 49.031: \"Location Services (LCS); Base Station System
Application Part LCS Extension (BSSAP-LE)\".
[25] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[26] 3GPP TR 44.901: \"External Network Assisted Cell Change (NACC)\".
[27] 3GPP TS 23.236: \"Intra-domain connection of Radio Access Network (RAN)
nodes to multiple Core Network (CN) nodes\".
[28] 3GPP TS 12.20: \"Base Station System (BSS) Management Information\".
[29] 3GPP TS 43.246: \"Multimedia Broadcast Multicast Service (MBMS) in the
GERAN Stage 2\".
[30] 3GPP TS 26.346: \"Multimedia Broadcast Multicast Service Protocols and
Codecs\".
[31] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
[32] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS)
Architecture and Functional Description\".
[33] IETF RFC 3588: \"Diameter Base Protocol\".
[34] 3GPP TS 43.129: \"Packet-switched handover for GERAN A/Gb mode; Stage
2\".
[35] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[36] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access (E-UTRA); S1
Application Protocol (S1AP)\".
[37] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage3\".
[38] 3GPP TS 25.413: \"UTRAN Iu interface Radio Access Network Application
Part (RANAP) signalling\".
[39] 3GPP TS 22.220: \"Service Requirements for Home NodeBs and Home
eNodeBs\".
[40] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[41] 3GPP TS 29.060: \"GPRS Tunnelling Protocol (GTP) across the Gn and Gp
interface".
> [42] 3GPP TS 25.331: \"Technical Specification Group Radio Access Network;
> Radio Resource Control (RRC)\".
>
> [43] 3GPP TS 23.251: \"Network sharing - Architecture and functional
> description\".
>
> [44] 3GPP TS 45.008: \"Radio subsystem link control\".
>
> [45] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
> and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
> description; Stage 2\".
>
> [46] 3GPP TS 29.281: \"General Packet Radio System (GPRS) Tunnelling
> Protocol User Plane (GTPv1-U)\"
>
> [47] 3GPP2 C.S0024-B: \"cdma2000 High Rate Packet Data Air Interface
> Specification\".
>
> [48] 3GPP TS 45.002: \"Technical Specification Group GSM/EDGE Radio Access
> Network; Multiplexing and multiple access on the radio path"
>
> [49] 3GPP TS 24.301: "General Packet Radio Service (GPRS) enhancements for
> Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access".
# 3 Abbreviations {#abbreviations .list-paragraph}
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 and in 3GPP TS 48.016 and the following apply:
ABQP Aggregate BSS QoS Profile
CBL Current Bucket Level
> CCN Cell Change Notification
CS Circuit switched
CSG Closed Subscriber Group
DCN Dedicated Core Network
DCN-ID Dedicated Core Network ID
DL Downlink
eAN evolved Access Network
eDRX Extended Discontinuous Reception
eHRPD enhanced High Rate Packet Data
eNB E-UTRAN NodeB
E-UTRA Evolved UTRA
E-UTRAN Evolved UTRAN
GWCN GateWay Core Network
LCS Location Services
MBMS Multimedia Broadcast Multicast Service
MME Mobility Management Entity
MOCN Multi Operator Core Network
> NACC Network Assisted Cell Change
>
> NRI Network Resource Identifier
NSE Network Service Entity
PFC Packet Flow Context
PFI Packet Flow Identifier
PFM Packet Flow Management
PFT Packet Flow Timer
PS Packet switched
RAN Radio Access Network
RIM RAN Information Management
RRLP Radio Resource LCS Protocol
RSN RIM Sequence Number
SIRUG Service Identification for improved Radio Utilization for GERAN
SON Self-Organizing Networks
SPID Subscriber Profile ID for RAT/Frequency priority
TAI Tracking Area Identity
TMGI Temporary Mobile Group Identity
TOM Tunneling of Messages
RIM RAN Information Management
UL Uplink
## 3.1 Vocabulary
> \- **Coverage Class:** See definition in 3GPP TS 43.064 [10].
\- **CS/PS coordination enhancements:** refers to an improved CS/PS domain
registration coordination function when rerouting is performed in a MOCN or in
a GWCN configuration for network sharing. The improved CS/PS domain
registration coordination is achieved by extended signalling between the BSS
and the CN nodes (see 3GPP TS 23.251 [43]).
\- **Dedicated Core Networks:** Dedicated Core Networks is an optional feature
that enables an operator to deploy multiple dedicated core networks within a
PLMN where each dedicated core network node may be dedicated to serve specific
type (s) of subscribers. The selection of the Dedicated Core Network is based
on "UE Usage Type" obtained from the HSS/HLR and operator specific
configuration in the SGSN (see 3GPP TS 23.401 [49]).
\- **EC operation:** See definition in 3GPP TS 43.064 [10].
> \- **Extended DRX (eDRX):** see 3GPP TS 21.905 [1].
\- **MS assisted** **Dedicated Core Network selection:** MS assisted Dedicated
Core Network selection is an optional feature wherein the selection of the
Dedicated Core Network to which a BSS routes LLC PDUs, in addition to the
selected PLMN, is based on the "DCN-ID" value provided by the MS (see 3GPP TS
23.401 [49]).
\- **Network sharing:** network sharing is an optional feature that allows
different core network operators to connect to the same shared radio access
network in a MOCN configuration, and to the same shared radio access network
and core network nodes in a GWCN configuration (see 3GPP TS 23.251 [43]). When
network sharing is in use within a given cell, the network broadcasts within
system information the PLMN identities of the PLMNs sharing the cell. A mobile
station supporting network sharing uses this information for its PLMN
(re)selection processes and indicates the selected PLMN to the BSS.
\- **Null-NRI:** Has the same format as the NRI and is used to identify the
group of SGSNs that belong to a DCN within a PLMN. A \'null-NRI\' indicates to
a radio node (BSC/RNC) that the NAS Node Selection Function shall be used for
selecting a CN node to receive a message (see 3GPP TS 23.236 [21]).
\- **SGSN Group ID:** A SGSN Group ID identifies a Dedicated Core Network
(DCN) within the PLMN, i.e. the group of SGSNs that belong to a DCN within a
PLMN, see 3GPP TS 23.401[49].
# 4 Logical configuration of the Gb-interface
## 4.1 High-level characteristics of the Gb-interface
In contrast to the A-interface, where a single user has the sole use of a
dedicated physical resource throughout the lifetime of a call irrespective of
information flow, the Gb-interface allows many users to be multiplexed over a
common physical resource.
GPRS signalling and user data may be sent on the same physical resources.
Access rates per user may vary from zero data to the maximum possible
bandwidth (e.g. the available bit rate of an E1).
## 4.2 Position of BSSGP within the protocol stack on the Gb-interface
Across the Gb-interface the following peer protocols have been identified: the
Base Station Subsystem GPRS Protocol (BSSGP) and the underlying network
service (NS). The NS shall transport BSSGP PDUs between a BSS and an SGSN
(refer to 3GPP TS 48.016).
{width="2.911111111111111in" height="1.9708333333333334in"}
Figure 4.1: BSSGP\'s position within the Gb-interface protocol stack
NOTE: The Relay function provides buffering and parameter mapping between the
RLC/MAC and the BSSGP.
EXAMPLE: On the uplink the RLC/MAC shall provide a TLLI. The Relay function
shall then make it available to BSSGP. For a definition of the RLC/MAC
function refer to 3GPP TS 43.064.
The primary functions of the BSSGP include:
\- in the downlink, the provision by an SGSN to a BSS of radio related
information used by the RLC/MAC function;
\- in the uplink, the provision by a BSS to an SGSN of radio related
information derived from the RLC/MAC function; and
\- the provision of functionality to enable two physically distinct nodes, an
SGSN and a BSS, to operate node management control functions.
The present document describes the service model, service primitives,
procedures and PDU formats of the BSSGP.
# 5 Elements for layer-to-layer communication
## 5.1 Definition of service model
In the present document, the communication between adjacent layers and the
services provided by the layers are distributed by use of abstract service
primitives. Only externally observable behaviour resulting from the
description is normatively prescribed by the present document.
The service primitive model used in the present document is based on the
concepts developed in ITU-T Recommendation X.200.
The service model for a BSS and an SGSN is asymmetric. The service models for
a BSS and an SGSN are shown in figure 5.1.
Figure 5.1: BSSGP service model
Primitives consist of commands and their respective responses associated with
the services requested of another layer. The general syntax of a primitive is:
\- XX - Generic name - Type (Parameters);
where XX designates the layer providing or using the service.
In the present document, XX is:
\- \"BSSGP\" for functions controlling the transfer of LLC frames passed
between an SGSN and an MS across the Gb interface;
\- \"RL\" (relay) for functions controlling the transfer of LLC frames between
the RLC/MAC function and BSSGP;
\- \"GMM\" (GPRS mobility management) for functions associated with mobility
management between an SGSN and a BSS; and
\- \"NM\" (network management) for functions associated with Gb-interface and
BSS-SGSN node management;
\- \"PFM\" (packet flow management) for functions associated with the
management of BSS Packet Flow Contexts (PFCs);
\- \"LCS\" (location services) for functions associated with location services
(LCS) procedures;
\- \"RIM\" (RAN Information Management) for functions associated with generic
procedures to communicate between two BSSs over the core network.
\- \"MBMS\" (Multimedia Broadcast Multicast Service) for functions associated
with Multimedia Broadcast Multicast Service (MBMS) procedures.
## 5.2 Service primitives provided by the BSSGP at a BSS
Table 5.2: Service primitives provided by BSSGP at a BSS
+----------+---------+----------+----------+---------+----------+ | Generic | Type | Pa | | | | | name | | rameters | | | | +----------+---------+----------+----------+---------+----------+ | | REQuest | IN | RESponse | CoNFirm | | | | | Dication | | | | +----------+---------+----------+----------+---------+----------+ | RL Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | RL-DL- | - | X | - | - | BVCI, | | UNITDATA | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | DL- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | RL-UL- | X | - | - | - | BVCI, | | UNITDATA | | | | | NSEI, | | | | | | | | | | | | | | LSP, | | | | | | | | | | | | | | Refer to | | | | | | | UL- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | RL- | - | X | - | - | BVCI, | | DL-MBMS- | | | | | NSEI, | | UNITDATA | | | | | | | | | | | | Refer to | | | | | | | DL-MBMS- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | RL- | X | - | - | - | BVCI, | | UL-MBMS- | | | | | NSEI, | | UNITDATA | | | | | | | | | | | | LSP, | | | | | | | | | | | | | | Refer to | | | | | | | UL-MBMS- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | GM | - | X | - | - | BVCI, | | M-PAGING | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | PAGING | | | | | | | PS PDU | | | | | | | | | | | | | | Refer to | | | | | | | PDU | | | | | | | PAGING | | | | | | | CS PDU | +----------+---------+----------+----------+---------+----------+ | G | - | X | - | - | BVCI, | | MM-RA-CA | | | | | NSEI, | | PABILITY | | | | | | | | | | | | Refer to | | | | | | | RA-CA | | | | | | | PABILITY | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM-RA-C | X | - | - | X | BVCI, | | APABILIT | | | | | NSEI, | | Y-UPDATE | | | | | | | | | | | | Refer to | | | | | | | RA-C | | | | | | | APABILIT | | | | | | | Y-UPDATE | | | | | | | PDU, | | | | | | | | | | | | | | Refer to | | | | | | | RA-CAPAB | | | | | | | ILITY-UP | | | | | | | DATE-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM-RADI | X | - | - | - | BVCI, | | O-STATUS | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | RADI | | | | | | | O-STATUS | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM | X | - | - | X | BVCI, | | -SUSPEND | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | SUSPEND | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | SUSPEN | | | | | | | D-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GM | X | - | - | X | BVCI, | | M-RESUME | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | RESUME | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | RESUM | | | | | | | E-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM | X | - | X | - | BVCI, | | -MS-REGI | | | | | NSEI, | | STRATION | | | | | | | -ENQUIRY | | | | | Refer to | | | | | | | MS-REGI | | | | | | | STRATION | | | | | | | -ENQUIRY | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | MS-REGIS | | | | | | | TRATION- | | | | | | | ENQUIRY- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | NM- | - | X | X | - | BVCI, | | FLUSH-LL | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | FLUSH-LL | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | FLUS | | | | | | | H-LL-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-LLC-D | X | - | - | - | BVCI, | | ISCARDED | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | LLC-D | | | | | | | ISCARDED | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM- | X | - | - | X | BVCI, | | FLOW-CON | | | | | NSEI, | | TROL-BVC | | | | | | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-BVC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-BVC | | | | | | | ACK PDU | +----------+---------+----------+----------+---------+----------+ | NM | X | - | - | X | BVCI, | | -FLOW-CO | | | | | NSEI, | | NTROL-MS | | | | | | | | | | | | Refer to | | | | | | | FLOW-CO | | | | | | | NTROL-MS | | | | | | | PDU | | | | | | | Refer to | | | | | | | FLOW-CO | | | | | | | NTROL-MS | | | | | | | ACK PDU | +----------+---------+----------+----------+---------+----------+ | NM- | X | - | - | X | BVCI, | | FLOW-CON | | | | | NSEI, | | TROL-PFC | | | | | | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-PFC | | | | | | | PDU | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-PFC | | | | | | | ACK PDU | +----------+---------+----------+----------+---------+----------+ | N | X | X | - | - | BVCI, | | M-STATUS | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | STATUS | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-B | X | - | - | X | BVCI, | | VC-BLOCK | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | B | | | | | | | VC-BLOCK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | BVC-B | | | | | | | LOCK-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-BVC | X | - | - | X | BVCI, | | -UNBLOCK | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | BVC | | | | | | | -UNBLOCK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | BVC-UNB | | | | | | | LOCK-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-B | X | X | X | X | BVCI, | | VC-RESET | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | B | | | | | | | VC-RESET | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | BVC-R | | | | | | | ESET-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-TRACE | - | X | - | - | BVCI, | | | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | S | | | | | | | GSN-INVO | | | | | | | KE-TRACE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NW- | - | X | - | - | BVCI, | | OVERLOAD | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | OVERLOAD | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | PFM- | X | - | - | - | BVCI, | | DOWNLOAD | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | DOWNLOAD | | | | | | | -BSS-PFC | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PF | - | X | X | - | BVCI, | | M-CREATE | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | CREATE | | | | | | | -BSS-PFC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | CR | | | | | | | EATE-BSS | | | | | | | -PFC-ACK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | CRE | | | | | | | ATE-BSS- | | | | | | | PFC-NACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PF | X | - | - | X | BVCI, | | M-MODIFY | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | MODIFY | | | | | | | -BSS-PFC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | MO | | | | | | | DIFY-BSS | | | | | | | -PFC-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PF | X | X | X | - | BVCI, | | M-DELETE | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | DELETE | | | | | | | -BSS-PFC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | DE | | | | | | | LETE-BSS | | | | | | | -PFC-ACK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | DE | | | | | | | LETE-BSS | | | | | | | -PFC-REQ | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS-H | X | - | - | X | BVCI, | | ANDOVER- | | | | | NSEI, | | REQUIRED | | | | | | | | | | | | Refer to | | | | | | | PS-H | | | | | | | ANDOVER- | | | | | | | REQUIRED | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | PS- | | | | | | | HANDOVER | | | | | | | -REQUIRE | | | | | | | D-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS- | - | X | X | - | BVCI, | | HANDOVER | | | | | NSEI, | | -REQUEST | | | | | | | | | | | | Refer to | | | | | | | PS- | | | | | | | HANDOVER | | | | | | | -REQUEST | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | PS | | | | | | | -HANDOVE | | | | | | | R-REQUES | | | | | | | T-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS-H | X | - | - | - | BVCI, | | ANDOVER- | | | | | NSEI, | | COMPLETE | | | | | | | | | | | | Refer to | | | | | | | PS-H | | | | | | | ANDOVER- | | | | | | | COMPLETE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS | X | - | - | - | BVCI, | | -HANDOVE | | | | | NSEI, | | R-CANCEL | | | | | | | | | | | | Refer to | | | | | | | PS | | | | | | | -HANDOVE | | | | | | | R-CANCEL | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | **LCS Ã³ | | | | | | | BSSGP** | | | | | | +----------+---------+----------+----------+---------+----------+ | LC | - | X | X | - | BVCI, | | S-LOCATE | | | | | NSEI | | | | | | | | | | | | | | Refer to | | | | | | | PERFORM- | | | | | | | LOCATION | | | | | | | -REQUEST | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | P | | | | | | | ERFORM-L | | | | | | | OCATION- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | L | - | X | - | - | BVCI, | | CS-ABORT | | | | | NSEI | | | | | | | | | | | | | | Refer to | | | | | | | PERFOR | | | | | | | M-LOCATI | | | | | | | ON-ABORT | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | LCS-INFO | X | - | - | X | BVCI, | | RMATION- | | | | | NSEI | | TRANSFER | | | | | | | | | | | | Refer to | | | | | | | POSITION | | | | | | | -COMMAND | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | P | | | | | | | OSITION- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | RIM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | RIM-PDU- | X | X | - | - | BVCI, | | TRANSFER | | | | | NSEI | | | | | | | | | | | | | | Refer to | | | | | | | RAN-INFO | | | | | | | RMATION- | | | | | | | REQUEST, | | | | | | | RAN-INFO | | | | | | | RMATION, | | | | | | | RAN- | | | | | | | INFORMAT | | | | | | | ION-ACK, | | | | | | | RA | | | | | | | N-INFORM | | | | | | | ATION-AP | | | | | | | PLICATIO | | | | | | | N-ERROR, | | | | | | | RAN-I | | | | | | | NFORMATI | | | | | | | ON-ERROR | | | | | | | PDUs; | +----------+---------+----------+----------+---------+----------+ | MBMS Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | MB | - | X | X | - | BVCI, | | MS-SESSI | | | | | NSEI | | ON-START | | | | | | | | | | | | Refer to | | | | | | | MB | | | | | | | MS-SESSI | | | | | | | ON-START | | | | | | | -REQUEST | | | | | | | PDU; | | | | | | | | | | | | | | Refer to | | | | | | | MBM | | | | | | | S-SESSIO | | | | | | | N-START- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | M | - | X | X | - | BVCI, | | BMS-SESS | | | | | NSEI | | ION-STOP | | | | | | | | | | | | Refer to | | | | | | | M | | | | | | | BMS-SESS | | | | | | | ION-STOP | | | | | | | -REQUEST | | | | | | | PDU; | | | | | | | | | | | | | | Refer to | | | | | | | MB | | | | | | | MS-SESSI | | | | | | | ON-STOP- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | MBM | - | X | X | - | BVCI, | | S-SESSIO | | | | | NSEI | | N-UPDATE | | | | | | | | | | | | Refer to | | | | | | | MBM | | | | | | | S-SESSIO | | | | | | | N-UPDATE | | | | | | | -REQUEST | | | | | | | PDU; | | | | | | | | | | | | | | Refer to | | | | | | | MBMS | | | | | | | -SESSION | | | | | | | -UPDATE- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+
### 5.2.1 RL-DL-UNITDATA.ind
Receipt of a DL-UNITDATA PDU from an SGSN by a BSS containing an LLC-PDU and
MS control information necessary for the transmission of the LLC-PDU across
the radio interface.
### 5.2.2 RL-UL-UNITDATA.req
Request to send a UL-UNITDATA PDU to an SGSN from a BSS containing an LLC-PDU
and radio interface derived information.
### 5.2.3 (void)
### 5.2.3a RL-DL-MBMS-UNITDATA.ind
Receipt of a DL-MBMS-UNITDATA PDU from an SGSN by a BSS containing an LLC-PDU
for the transmission of the LLC-PDU across the radio interface.
### 5.2.3b RL-UL-MBMS-UNITDATA.req
Request to send a UL-MBMS-UNITDATA PDU to an SGSN from a BSS containing an
LLC-PDU.
### 5.2.4 GMM-PAGING.ind
Receipt of a PAGING-PS or PAGING-CS PDU from an SGSN by a BSS containing
instructions to page an MS within a given group of cells.
### 5.2.5 GMM-RA-CAPABILITY.ind
Receipt of a RA-CAPABILITY PDU from an SGSN by a BSS providing the new Radio
Access capability of an MS.
### 5.2.6 GMM-RA-CAPABILITY-UPDATE.req
Request to send a RA-CAPABILITY-UPDATE PDU to an SGSN from a BSS in order to
receive the current Radio Access capabilities of an MS.
### 5.2.7 GMM-RA-CAPABILITY-UPDATE.cnf
Receipt of a RA-CAPABILITY-UPDATE-ACK PDU from a SGSN by a BSS containing the
current Radio Access capabilities of an MS.
### 5.2.8 GMM-RADIO-STATUS.req
Request to send a RADIO-STATUS PDU to an SGSN from a BSS to report that an
exception condition occurred in the operation of the radio interface for an
MS.
### 5.2.9 GMM-SUSPEND.req
Request to send a SUSPEND PDU to an SGSN from a BSS to mark an MS\'s GPRS
service as suspended.
### 5.2.10 GMM-SUSPEND.cnf
Receipt of a SUSPEND-ACK PDU from an SGSN by a BSS confirming that an SGSN has
marked an MS\'s GPRS service as suspended.
### 5.2.11 GMM-RESUME.req
Request to send a RESUME PDU to an SGSN from a BSS to mark an MS\'s GPRS
service as resumed.
### 5.2.12 GMM-RESUME.cnf
Receipt of a RESUME-ACK PDU from an SGSN by a BSS confirming that an SGSN has
marked an MS\'s GPRS service as resumed.
### 5.2.12a GMM-MS-REGISTRATION-ENQUIRY.req
Request to send a MS-REGISTRATION-ENQUIRY PDU to an SGSN from a BSS enquiring
registration information for a given MS.
### 5.2.12b GMM-MS-REGISTRATION-ENQUIRY.res
Receipt of a MS-REGISTRATION-ENQUIRY-RESPONSE PDU from an SGSN by a BSS,
containing registration information for a given MS.
### 5.2.13 NM-FLUSH-LL.ind
On receipt of a FLUSH-LL PDU by a BSS from an SGSN, the BSS will either delete
queued LLC-PDUs for a TLLI or move the queued LLC-PDUs from an old to a new
BVC. If there is a BSS context for the Mobile Station identified by the TLLI
and the BSS is able to move the queued LLC-PDUs, the BSS has to move the BSS
context from the old to the new BVC, even if it is not able to offer the same
QoS characteristics in the new BVC.
### 5.2.14 NM-FLUSH-LL.res
Sending of a FLUSH-LL-ACK PDU to the SGSN from a BSS to report if queued LLC-
PDU(s) for an MS were deleted or transferred from the old to the new cell
within the routing area. The FLUSH-LL-ACK PDU may also report whether the QoS
characteristics of the BSS context associated to the MS could be kept in the
new cell.
### 5.2.15 NM-LLC-DISCARDED.req
Request to send a LLC-DISCARDED PDU to an SGSN from a BSS indicating that LLC
frames pertaining to an MS have been locally discarded.
### 5.2.16 NM-FLOW-CONTROL-BVC.req
Request to send a FLOW-CONTROL-BVC PDU to an SGSN from a BSS indicating the
ability of a BVC to accept a certain flow of data.
### 5.2.17 NM-FLOW-CONTROL-BVC.cnf
Confirmation that a FLOW-CONTROL-BVC PDU has been received by an SGSN for a
given BVC.
### 5.2.18 NM-FLOW-CONTROL-MS.req
Request to send a FLOW-CONTROL-MS PDU to an SGSN from a BSS indicating the
ability to accept a certain flow of data for a given MS.
### 5.2.19 NM-FLOW-CONTROL-MS.cnf
Confirmation that a FLOW-CONTROL-MS PDU has been received by an SGSN for a
given MS.
### 5.2.19a NM-FLOW-CONTROL-PFC.req
Request to send a FLOW-CONTROL-PFC PDU to an SGSN from a BSS indicating the
ability to accept a certain flow of data for a given PFC of a given MS.
### 5.2.19b NM-FLOW-CONTROL-PFC.cnf
Confirmation that a FLOW-CONTROL-PFC PDU has been received by an SGSN for a
given PFC of a given MS.
### 5.2.20 NM-STATUS.req
Request to send a STATUS PDU to an SGSN from a BSS to report that an exception
condition occurred within the BSS.
### 5.2.21 NM-STATUS.ind
Receipt of a STATUS PDU from an SGSN by a BSS indicating that an exception
condition occurred within an SGSN.
### 5.2.22 NM-BVC-BLOCK.req
Request to send a BVC-BLOCK PDU to an SGSN from a BSS to mark a BVC as
blocked.
### 5.2.23 NM-BVC-BLOCK.cnf
Receipt of a BVC-BLOCK-ACK PDU from an SGSN by a BSS confirming that an SGSN
has marked a BVC as blocked.
### 5.2.24 NM-BVC-UNBLOCK.req
Request to send a BVC-UNBLOCK PDU to an SGSN from a BSS to mark a BVC as
unblocked.
### 5.2.25 NM-BVC-UNBLOCK.cnf
Receipt of a BVC-UNBLOCK-ACK PDU from an SGSN by a BSS confirming that an SGSN
has marked a BVC as unblocked.
### 5.2.26 NM-BVC-RESET.req
Request to send a BVC-RESET PDU to an SGSN from a BSS to reset an SGSN\'s GPRS
BVC contexts.
### 5.2.27 NM-BVC-RESET.res
Sending of a BVC-RESET-ACK PDU to the SGSN from an BSS indicating that a GPRS
BVC context has been reset in the BSS.
### 5.2.28 NM-BVC-RESET.ind
Receipt of a BVC-RESET PDU at a BSS from an SGSN indicating that GPRS BVC
contexts have been reset at the SGSN.
### 5.2.29 NM-BVC-RESET.cnf
Receipt of a BVC-RESET-ACK PDU at a BSS confirming that GPRS BVC context has
been reset at the SGSN.
### 5.2.30 NM-TRACE.ind
Receipt of a SGSN-INVOKE-TRACE PDU at a BSS from an SGSN indicating the need
to produce a trace record on an MS.
### 5.2.30a NW-OVERLOAD.ind
Receipt of an OVERLOAD PDU from an SGSN by a BSS informing the BSS the SGSN is
in an overload state.
### 5.2.31 PFM-DOWNLOAD-BSS-PFC.req
Upon a request to transfer an uplink or downlink LLC PDU for which it
currently does not have a BSS Packet Flow Context, the BSS may send a
DOWNLOAD-BSS-PFC PDU to an SGSN.
### 5.2.32 PFM-CREATE-BSS-PFC.ind
Receipt of a CREATE-BSS-PFC PDU at a BSS from an SGSN indicating that the BSS
should create or modify a BSS Packet Flow Context using the Aggregate BSS QoS
Profile.
### 5.2.33 PFM-CREATE-BSS-PFC.res
Sending of a CREATE-BSS-PFC-ACK PDU to the SGSN from a BSS to respond with an
Aggregate BSS QoS Profile, indicating queuing or successful creation of the
PFC, or a CREATE-BSS-PFC-NACK in case the BSS was unable to create the PFC.
### 5.2.34 PFM-MODIFY-BSS-PFC.req
Request to send a MODIFY-BSS-PFC PDU to an SGSN from a BSS to modify an
Aggregate BSS QoS Profile.
### 5.2.35 (void)
### 5.2.36 (void)
### 5.2.37 PFM-MODIFY-BSS-PFC.cnf
Reception of a MODIFY-BSS-PFC-ACK PDU at a BSS from an SGSN confirming the
modification of an Aggregate BSS QoS Profile.
### 5.2.38 PFM-DELETE-BSS-PFC.ind
Receipt of a DELETE-BSS-PFC PDU at a BSS from an SGSN to delete an Aggregate
BSS QoS Profile.
### 5.2.39 PFM-DELETE-BSS-PFC.res
Sending of a DELETE-BSS-PFC-ACK PDU to an SGSN from a BSS to respond to a
deletion.
### 5.2.39a PFM-DELETE-BSS-PFC.req
Sending of a DELETE-BSS-PFC-REQ PDU to an SGSN from a BSS to request to a
deletion of an Aggregate BSS QoS Profile.
### 5.2.39b PFM-PS-HANDOVER-REQUIRED.req
Request to send a PS-HANDOVER-REQUIRED PDU to the SGSN from the source BSS to
initiate the allocation of resources in the target system at PS handover.
### 5.2.39c PFM-PS-HANDOVER-REQUIRED.cnf
Receipt of a PS-HANDOVER-REQUIRED-ACK PDU from the SGSN by the source BSS
reporting successful allocation of resources in the target system at PS
handover.
### 5.2.39d PFM-PS-HANDOVER-REQUEST.ind
Receipt of a PS-HANDOVER-REQUEST PDU from the SGSN by the target BSS to
initiate the allocation of resources for one or more PFCs during PS handover.
### 5.2.39e PFM-PS-HANDOVER-REQUEST.res
Request to send a PS-HANDOVER-REQUEST-ACK PDU to the SGSN from the target BSS
to report the successful allocation of resources during PS handover.
### 5.2.39f PFM-PS-HANDOVER-COMPLETE.req
Request to send a PS-HANDOVER-COMPLETE PDU to the SGSN from the target BSS to
report a successful channel change during PS handover.
### 5.2.39g PFM-PS-HANDOVER-CANCEL.req
Request to send a PS-HANDOVER-CANCEL PDU to the SGSN from the source BSS to
cancel a previously initiated PS handover.
### 5.2.40 LCS-LOCATE.ind
Receipt of a PERFORM-LOCATION-REQUEST PDU at a BSS from an SGSN requesting a
location procedure for a target MS.
### 5.2.41 LCS-LOCATE.res
Sending of a PERFORM-LOCATION-RESPONSE PDU to an SGSN responding to the
location request for a target MS.
### 5.2.42 LCS-ABORT.ind
Receipt of a PERFORM-LOCATION-ABORT PDU at a BSS from an SGSN indicating a
request of an abort of a location procedure for a target MS.
### 5.2.43 LCS-INFORMATION-TRANSFER.req
Request to send a POSITION-COMMAND PDU to an SGSN from a BSS that has LCS
related information associated with a higher level protocol available to
transfer.
### 5.2.44 LCS-INFORMATION-TRANSFER.cnf
Confirmation in a POSTION-RESPONSE PDU that the higher layer message has been
received and an indication of the result of the message transfer and possibly
including a reply with another higher layer protocol message.
### 5.2.45 RIM-PDU-TRANSFER.req
Sending of a RAN-INFORMATION-REQUEST, RAN-INFORMATION, RAN-INFORMATION-ACK,
RAN-INFORMATION-APPLICATION-ERROR, RAN-INFORMATION-ERROR PDU to an SGSN from a
BSS for routing of the PDU to another BSS.
### 5.2.46 RIM-PDU-TRANSFER.ind
Reception of a RAN-INFORMATION-REQUEST, RAN-INFORMATION, RAN-INFORMATION-ACK,
RAN-INFORMATION-APPLICATION-ERROR, RAN-INFORMATION-ERROR PDU at a BSS from an
SGSN originating from another BSS.
### 5.2.47 (void)
### 5.2.48 (void)
### 5.2.49 (void)
### 5.2.50 (void)
### 5.2.51 (void)
### 5.2.52 (void)
### 5.2.53 MBMS-SESSION-START-REQUEST.ind
Reception of an MBMS-SESSION-START-REQUEST PDU at a BSS from an SGSN
requesting to start an MBMS session.
### 5.2.54 MBMS-SESSION-START-RESPONSE.res
Sending of an MBMS-SESSION-START-RESPONSE PDU to an SGSN from a BSS
acknowledging to start an MBMS session.
### 5.2.55 MBMS-SESSION-STOP-REQUEST.ind
Reception of an MBMS-SESSION-STOP-REQUEST PDU at a BSS from an SGSN requesting
to stop an MBMS session.
### 5.2.56 MBMS-SESSION-STOP-RESPONSE.res
Sending of an MBMS-SESSION-STOP-RESPONSE PDU to an SGSN from a BSS
acknowledging to stop an MBMS session.
### 5.2.57 MBMS-SESSION-UPDATE-REQUEST.ind
Reception of an MBMS-SESSION-UPDATE-REQUEST PDU at a BSS from an SGSN
requesting to update the MBMS service area list of an ongoing MBMS broadcast
service session.
### 5.2.58 MBMS-SESSION-UPDATE-RESPONSE.res
Sending of an MBMS-SESSION-UPDATE-RESPONSE PDU to an SGSN from a BSS
acknowledging to update the MBMS service area list of an ongoing MBMS
broadcast service session.
## 5.3 Service primitives provided by the BSSGP at an SGSN
Table 5.3: Service primitives provided by BSSGP at an SGSN
+----------+---------+----------+----------+---------+----------+ | Generic | Type | Pa | | | | | name | | rameters | | | | +----------+---------+----------+----------+---------+----------+ | | REQuest | IN | RESponse | CoNFirm | | | | | Dication | | | | +----------+---------+----------+----------+---------+----------+ | LL Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | B | X | - | - | - | BVCI, | | SSGP-DL- | | | | | NSEI, | | UNITDATA | | | | | LSP, | | | | | | | | | | | | | | Refer to | | | | | | | DL- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | B | - | X | | | BVCI, | | SSGP-UL- | | | | | NSEI, | | UNITDATA | | | | | | | | | | | | Refer to | | | | | | | UL- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | BSSGP- | X | - | - | - | BVCI, | | DL-MBMS- | | | | | NSEI, | | UNITDATA | | | | | | | | | | | | Refer to | | | | | | | DL-MBMS- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | BSSGP- | - | X | - | - | BVCI, | | UL-MBMS- | | | | | NSEI, | | UNITDATA | | | | | | | | | | | | Refer to | | | | | | | UL-MBMS- | | | | | | | UNITDATA | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | GM | X | - | - | - | BVCI, | | M-PAGING | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | PAGING | | | | | | | PS PDU | | | | | | | | | | | | | | Refer to | | | | | | | PAGING | | | | | | | CS PDU | +----------+---------+----------+----------+---------+----------+ | G | X | | | | BVCI, | | MM-RA-CA | | | | | NSEI, | | PABILITY | | | | | | | | | | | | Refer to | | | | | | | RA-CA | | | | | | | PABILITY | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM-RA-C | - | X | X | - | BVCI, | | APABILIT | | | | | NSEI, | | Y-UPDATE | | | | | | | | | | | | Refer to | | | | | | | RA-C | | | | | | | APABILIT | | | | | | | Y-UPDATE | | | | | | | PDU, | | | | | | | | | | | | | | Refer to | | | | | | | RA-CAPAB | | | | | | | ILITY-UP | | | | | | | DATE-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM-RADI | - | X | - | - | BVCI, | | O-STATUS | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | RADI | | | | | | | O-STATUS | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM | - | X | - | - | BVCI, | | -SUSPEND | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | SUSPEND | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | SUSPEN | | | | | | | D-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GM | - | X | - | - | BVCI, | | M-RESUME | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | RESUME | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | RESUM | | | | | | | E-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | GMM | - | X | X | - | BVCI, | | -MS-REGI | | | | | NSEI, | | STRATION | | | | | | | -ENQUIRY | | | | | Refer to | | | | | | | MS-REGI | | | | | | | STRATION | | | | | | | -ENQUIRY | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | MS-REGIS | | | | | | | TRATION- | | | | | | | ENQUIRY- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | NM- | X | - | - | X | BVCI, | | FLUSH-LL | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | FLUSH-LL | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | FLUS | | | | | | | H-LL-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-LLC-D | - | X | - | - | BVCI, | | ISCARDED | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | LLC-D | | | | | | | ISCARDED | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM- | - | X | - | - | BVCI, | | FLOW-CON | | | | | NSEI, | | TROL-BVC | | | | | | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-BVC | | | | | | | PDU | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-BVC | | | | | | | ACK PDU | +----------+---------+----------+----------+---------+----------+ | NM | - | X | - | - | BVCI, | | -FLOW-CO | | | | | NSEI, | | NTROL-MS | | | | | | | | | | | | Refer to | | | | | | | FLOW-CO | | | | | | | NTROL-MS | | | | | | | PDU | | | | | | | Refer to | | | | | | | FLOW-CO | | | | | | | NTROL-MS | | | | | | | ACK PDU | +----------+---------+----------+----------+---------+----------+ | NM- | - | X | - | - | BVCI, | | FLOW-CON | | | | | NSEI, | | TROL-PFC | | | | | | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-PFC | | | | | | | PDU | | | | | | | Refer to | | | | | | | FLOW-CON | | | | | | | TROL-PFC | | | | | | | ACK PDU | +----------+---------+----------+----------+---------+----------+ | N | X | X | - | - | BVCI, | | M-STATUS | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | STATUS | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-B | - | X | - | - | BVCI, | | VC-BLOCK | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | B | | | | | | | VC-BLOCK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | BVC-B | | | | | | | LOCK-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-BVC | - | X | - | - | BVCI, | | -UNBLOCK | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | BVC | | | | | | | -UNBLOCK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | BVC-UNB | | | | | | | LOCK-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-B | X | X | X | X | BVCI, | | VC-RESET | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | B | | | | | | | VC-RESET | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | BVC-R | | | | | | | ESET-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NM-TRACE | X | - | - | - | BVCI, | | | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | S | | | | | | | GSN-INVO | | | | | | | KE-TRACE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | NW- | X | - | - | - | BVCI, | | OVERLOAD | | | | | NSEI, | | | | | | | | | | | | | | Refer to | | | | | | | OVERLOAD | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | PFM- | - | X | - | - | BVCI, | | DOWNLOAD | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | DOWNLOAD | | | | | | | -BSS-PFC | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PF | X | - | - | X | BVCI, | | M-CREATE | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | CREATE | | | | | | | -BSS-PFC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | CR | | | | | | | EATE-BSS | | | | | | | -PFC-ACK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | CRE | | | | | | | ATE-BSS- | | | | | | | PFC-NACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PF | | X | X | | BVCI, | | M-MODIFY | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | MODIFY | | | | | | | -BSS-PFC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | MO | | | | | | | DIFY-BSS | | | | | | | -PFC-ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PF | X | X | - | X | BVCI, | | M-DELETE | | | | | NSEI | | -BSS-PFC | | | | | | | | | | | | Refer to | | | | | | | DELETE | | | | | | | -BSS-PFC | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | DE | | | | | | | LETE-BSS | | | | | | | -PFC-ACK | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | to | | | | | | | DE | | | | | | | LETE-BSS | | | | | | | -PFC-REQ | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS-H | - | X | X | - | BVCI, | | ANDOVER- | | | | | NSEI, | | REQUIRED | | | | | | | | | | | | Refer to | | | | | | | PS-H | | | | | | | ANDOVER- | | | | | | | REQUIRED | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | PS- | | | | | | | HANDOVER | | | | | | | -REQUIRE | | | | | | | D-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS- | X | - | - | X | BVCI, | | HANDOVER | | | | | NSEI, | | -REQUEST | | | | | | | | | | | | Refer to | | | | | | | PS- | | | | | | | HANDOVER | | | | | | | -REQUEST | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | PS | | | | | | | -HANDOVE | | | | | | | R-REQUES | | | | | | | T-(N)ACK | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS-H | - | X | - | - | BVCI, | | ANDOVER- | | | | | NSEI, | | COMPLETE | | | | | | | | | | | | Refer to | | | | | | | PS-H | | | | | | | ANDOVER- | | | | | | | COMPLETE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | PFM-PS | - | X | - | - | BVCI, | | -HANDOVE | | | | | NSEI, | | R-CANCEL | | | | | | | | | | | | Refer to | | | | | | | PS | | | | | | | -HANDOVE | | | | | | | R-CANCEL | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | LCS Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | LC | X | - | - | X | BVCI, | | S-LOCATE | | | | | NSEI | | | | | | | | | | | | | | Refer to | | | | | | | PERFORM- | | | | | | | LOCATION | | | | | | | -REQUEST | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | P | | | | | | | ERFORM-L | | | | | | | OCATION- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | L | X | - | - | - | BVCI, | | CS-ABORT | | | | | NSEI | | | | | | | | | | | | | | Refer to | | | | | | | PERFOR | | | | | | | M-LOCATI | | | | | | | ON-ABORT | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | LCS-INFO | - | X | X | - | BVCI, | | RMATION- | | | | | NSEI | | TRANSFER | | | | | | | | | | | | Refer to | | | | | | | POSITION | | | | | | | -COMMAND | | | | | | | PDU | | | | | | | | | | | | | | Refer to | | | | | | | P | | | | | | | OSITION- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | RIM Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | RIM-PDU- | X | X | - | - | BVCI, | | TRANSFER | | | | | NSEI | | | | | | | | | | | | | | Refer to | | | | | | | RAN-INFO | | | | | | | RMATION- | | | | | | | REQUEST, | | | | | | | RAN-INFO | | | | | | | RMATION, | | | | | | | RAN- | | | | | | | INFORMAT | | | | | | | ION-ACK, | | | | | | | RA | | | | | | | N-INFORM | | | | | | | ATION-AP | | | | | | | PLICATIO | | | | | | | N-ERROR, | | | | | | | RAN-I | | | | | | | NFORMATI | | | | | | | ON-ERROR | | | | | | | PDUs; | +----------+---------+----------+----------+---------+----------+ | MBMS Ã³ | | | | | | | BSSGP | | | | | | +----------+---------+----------+----------+---------+----------+ | MB | X | - | - | X | BVCI, | | MS-SESSI | | | | | NSEI | | ON-START | | | | | | | | | | | | Refer to | | | | | | | MB | | | | | | | MS-SESSI | | | | | | | ON-START | | | | | | | -REQUEST | | | | | | | PDU; | | | | | | | | | | | | | | Refer to | | | | | | | MBM | | | | | | | S-SESSIO | | | | | | | N-START- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | M | X | - | - | X | BVCI, | | BMS-SESS | | | | | NSEI | | ION-STOP | | | | | | | | | | | | Refer to | | | | | | | M | | | | | | | BMS-SESS | | | | | | | ION-STOP | | | | | | | -REQUEST | | | | | | | PDU; | | | | | | | | | | | | | | Refer to | | | | | | | MB | | | | | | | MS-SESSI | | | | | | | ON-STOP- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+ | MBM | X | - | - | X | BVCI, | | S-SESSIO | | | | | NSEI | | N-UPDATE | | | | | | | | | | | | Refer to | | | | | | | MBM | | | | | | | S-SESSIO | | | | | | | N-UPDATE | | | | | | | -REQUEST | | | | | | | PDU; | | | | | | | | | | | | | | Refer to | | | | | | | MBMS | | | | | | | -SESSION | | | | | | | -UPDATE- | | | | | | | RESPONSE | | | | | | | PDU | +----------+---------+----------+----------+---------+----------+
NOTE: The parameters in the BSSGP-DL-UNITDATA and BSSGP-UL-UNITDATA primitives
that are not included in the corresponding primitives in 3GPP TS 44.064 are
provided or extracted by some intermediate function out of the scope of the
present document.
### 5.3.1 BSSGP-DL-UNITDATA.req
Request to send a DL-UNITDATA PDU to a BSS from an SGSN containing an LLC-PDU
and control information necessary for the transmission of the LLC-PDU across
the radio interface.
### 5.3.2 BSSGP-UL-UNITDATA.ind
Receipt of a UL-UNITDATA PDU from a BSS by an SGSN containing an LLC-PDU and
radio interface derived information.
### 5.3.3 (void)
### 5.3.3a BSSGP-DL-MBMS-UNITDATA.req
Request to send a DL-MBMS-UNITDATA PDU to a BSS from an SGSN containing an
LLC-PDU for the transmission of the LLC-PDU across the radio interface.
### 5.3.3b BSSGP-UL-MBMS-UNITDATA.ind
Receipt of a UL-MBMS-UNITDATA PDU from a BSS by an SGSN containing an LLC-PDU.
### 5.3.4 GMM-PAGING.req
Request to send a PAGING-PS or PAGING-CS PDU from an SGSN to a BSS containing
instructions to page an MS within a given group of cells.
### 5.3.5 GMM-RA-CAPABILITY.req
Request to send a RA-CAPABILITY PDU to the BSS from an SGSN containing the
Radio Access capability of an MS.
### 5.3.6 GMM-RA-CAPABILITY-UPDATE.ind
Receipt of a RA-CAPABILITY-UPDATE PDU from a BSS by an SGSN, requesting that
the SGSN sends the Radio Access capability of an MS to the BSS.
### 5.3.7 GMM-RA-CAPABILITY-UPDATE.res
Sending of a RA-CAPABILITY-UPDATE-ACK PDU to the BSS from an SGSN containing
the current Radio Access capability of an MS.
### 5.3.8 GMM-RADIO-STATUS.ind
Receipt of a RADIO-STATUS PDU from a BSS by an SGSN to report that an
exception condition occurred in the operation of the radio interface for an
MS.
### 5.3.9 GMM-SUSPEND.ind
Receipt of a SUSPEND PDU from a BSS by an SGSN indicating that an MS wishes to
suspended its GPRS service.
### 5.3.10 GMM-RESUME.ind
Receipt of a RESUME PDU from a BSS by an SGSN indicating that an MS wishes to
resume its GPRS service.
### 5.3.10a GMM-MS-REGISTRATION-ENQUIRY.ind
Receipt of a MS-REGISTRATION-ENQUIRY PDU from a BSS by an SGSN enquiring
registration information for a given MS.
### 5.3.10b GMM-MS-REGISTRATION-ENQUIRY.res
Request to send a MS-REGISTRATION-ENQUIRY-RESPONSE PDU to a BSS from an SGSN
containing registration information for a given MS.
### 5.3.11 NM-FLUSH-LL.req
Request to send a FLUSH-LL PDU from an SGSN to a BSS, instructing the BSS to
either delete queued LLC-PDUs for a TLLI or move the queued LLC-PDUs from an
old to a new BVC.
### 5.3.12 NM-FLUSH-LL.cnf
Receipt of a FLUSH-LL-ACK PDU at an SGSN informing if the queued LLC-PDU(s)
for an MS were deleted or transferred from the old to the new cell within the
routing area. The FLUSH-LL-ACK PDU may also report whether the QoS
characteristics of the BSS context associated to the MS could be kept in the
new cell.
### 5.3.13 NM-LLC-DISCARDED.ind
Receipt of a LLC-DISCARDED PDU from a BSS by an SGSN indicating that LLC
frames pertaining to an MS have been locally discarded.
### 5.3.14 NM-FLOW-CONTROL-BVC.ind
Receipt of a FLOW-CONTROL-BVC PDU from a BSS by an SGSN indicating the ability
of a BVC to accept a certain flow of data.
### 5.3.15 NM-FLOW-CONTROL-MS.ind
Receipt of a FLOW-CONTROL-MS PDU from a BSS by an SGSN indicating the ability
to accept a certain flow of data for a given MS.
### 5.3.15a NM-FLOW-CONTROL-PFC.ind
Receipt of a FLOW-CONTROL-PFC PDU from a BSS by an SGSN indicating the ability
to accept a certain flow of data for a given PFC of a given MS.
### 5.3.16 NM-STATUS.req
Request to send a STATUS PDU to a BSS from an SGSN to report that an exception
condition occurred within an SGSN.
### 5.3.17 NM-STATUS.ind
Receipt of a STATUS PDU from a BSS by an SGSN indicating an exception
condition occurred within the BSS.
### 5.3.18 NM-BVC-BLOCK.ind
Receipt of a BVC-BLOCK PDU from a BSS by an SGSN indicating that a BVC shall
be marked as blocked.
### 5.3.19 NM-BVC-UNBLOCK.ind
Receipt of a BVC-UNBLOCK PDU from a BSS by an SGSN indicating that a BVC shall
be marked as unblocked.
### 5.3.20 NM-BVC-RESET.req
Request to send a BVC-RESET PDU to a BSS from an SGSN to reset a BSS\'s GPRS
BVC contexts.
### 5.3.21 NM-BVC-RESET.res
Sending of a BVC-RESET-ACK PDU to the BSS from a SGSN indicating that a GPRS
BVC context has been reset in the SGSN.
### 5.3.22 NM-BVC-RESET.ind
Receipt of a BVC-RESET PDU at an SGSN from a BSS indicating that GPRS BVC
contexts have been reset at the BSS.
### 5.3.23 NM-BVC-RESET.cnf
Receipt of a BVC-RESET-ACK PDU at an SGSN confirming that GPRS BVC contexts
have been reset at the BSS.
### 5.3.24 NM-TRACE.req
Request to send an SGSN-INVOKE-TRACE PDU to a BSS from an SGSN to begin
producing a trace record on an MS.
### 5.3.24a NM-OVERLOAD-START.req
Request to send an OVERLOAD PDU to a BSS from an SGSN to inform the BSS an
overload situation happened in the SGSN.
### 5.3.25 PFM-DOWNLOAD-BSS-PFC.ind
Receipt of a DOWNLOAD-BSS-PFC PDU at an SGSN from a BSS.
### 5.3.26 PFM-CREATE-BSS-PFC.req
Sending of a CREATE-BSS-PFC PDU to a BSS from an SGSN requesting that the BSS
should create or modify a BSS Packet Flow Context using the Aggregate BSS QoS
Profile.
### 5.3.27 PFM-CREATE-BSS-PFC.cnf
Receipt of a CREATE-BSS-PFC-ACK PDU at an SGSN from a BSS confirming the
creation or modification or queuing of a BSS Packet Flow Context using the
Aggregate BSS QoS Profile or a CREATE-BSS-PFC-NACK in to indicate the BSS was
unable to create the PFC.
### 5.3.28 PFM-MODIFY-BSS-PFC.ind
Receipt of a MODIFY-BSS-PFC PDU at an SGSN from a BSS to modify an Aggregate
BSS QoS Profile.
### 5.3.29 PFM-MODIFY-BSS-PFC.res
Sending of a MODIFY-BSS-PFC-ACK PDU to a BSS from an SGSN to respond with an
Aggregate BSS QoS Profile.
### 5.3.30 PFM-DELETE-BSS-PFC.req
Sending of a DELETE-BSS-PFC PDU to a BSS from an SGSN to delete an Aggregate
BSS QoS Profile.
### 5.3.31 PFM-DELETE-BSS-PFC.cnf
Receipt of a DELETE-BSS-PFC-ACK PDU at an SGSN from a BSS to confirm the
deletion of an Aggregate BSS QoS Profile.
### 5.3.31a PFM-DELETE-BSS-PFC.ind
Receipt of a DELETE-BSS-PFC-REQ PDU at an SGSN from a BSS that a deletion of
an Aggregate BSS QoS Profile is requested.
### 5.3.31b PFM-PS-HANDOVER-REQUIRED.ind
Receipt of a PS-HANDOVER-REQUIRED PDU from the source BSS by the SGSN
indicating initiation of a PS handover.
### 5.3.31c PFM-PS-HANDOVER-REQUIRED.res
Request to send a PS-HANDOVER-REQUIRED-ACK PDU from the SGSN to the source BSS
to initiate the channel change attempt during PS handover.
### 5.3.31d PFM-PS-HANDOVER-REQUEST.req
Request to send a PS-HANDOVER-REQUEST PDU from the SGSN to the target BSS to
initiate the allocation of resources for one or more PFCs during PS handover.
### 5.3.31e PFM-PS-HANDOVER-REQUEST.cnf
Receipt of a PS-HANDOVER-REQUEST-ACK PDU from the target BSS by the SGSN
reporting the successful allocation of resources during PS handover.
### 5.3.31f PFM-PS-HANDOVER-COMPLETE.ind
Receipt of a PS-HANDOVER-COMPLETE PDU from the target BSS by the SGSN
reporting a successful channel change during PS handover.
### 5.3.31g PFM-PS-HANDOVER-CANCEL.ind
Receipt of a PS-HANDOVER-CANCEL PDU from the source BSS by the SGSN indicating
cancellation of a previously initiated PS handover.
### 5.3.32 LCS-LOCATE.req
Sending of a PERFORM-LOCATION-REQUEST PDU at an SGSN requesting a location
procedure for a target MS.
### 5.3.33 LCS-LOCATE.cnf
Receipt of a PERFORM-LOCATION-RESPONSE PDU confirming that the location
request for a target MS has been attempted indicating the result of this
attempt.
### 5.3.34 LCS-ABORT.req
Sending of a PERFORM-LOCATION-ABORT PDU from an SGSN to a BSS requesting an
abort of a location procedure for a target MS.
### 5.3.35 LCS-INFORMATION-TRANSFER.ind
Receipt of a POSITION-COMMAND PDU at an SGSN from a BSS requesting a transfer
of a higher level protocol message.
### 5.3.36 LCS-INFORMATION-TRANSFER.res
Sending of a POSITION-RESPONSE PDU from an SGSN to a BSS indicating the result
of the message transfer and possibly including the transfer of a new higher
layer protocol message.
### 5.3.37 RIM-PDU-TRANSFER.req
Sending of a RAN-INFORMATION-REQUEST, RAN-INFORMATION, RAN-INFORMATION-ACK,
RAN-INFORMATION-APPLICATION-ERROR, RAN-INFORMATION-ERROR PDU to a BSS from an
SGSN.
### 5.3.38 RIM-PDU-TRANSFER.ind
Reception of a RAN-INFORMATION-REQUEST, RAN-INFORMATION, RAN-INFORMATION-ACK,
RAN-INFORMATION-APPLICATION-ERROR, RAN-INFORMATION-ERROR PDU at an SGSN from a
BSS for routing of the PDU to another BSS.
### 5.3.39 (void)
### 5.3.40 (void)
### 5.3.41 (void)
### 5.3.42 (void)
### 5.3.43 (void)
### 5.3.44 (void)
### 5.3.45 MBMS-SESSION-START-REQUEST.req
Sending of an MBMS-SESSION-START-REQUEST PDU to a BSS from an SGSN requesting
to start an MBMS session.
### 5.3.46 MBMS-SESSION-START-RESPONSE.cnf
Receipt of an MBMS-SESSION-START-RESPONSE PDU from a BSS acknowledging to
start an MBMS session.
### 5.3.47 MBMS-SESSION-STOP-REQUEST.req
Sending of an MBMS-SESSION-STOP-REQUEST PDU to a BSS from an SGSN requesting
to stop an MBMS session.
### 5.3.48 MBMS-SESSION-STOP-RESPONSE.cnf
Receipt of an MBMS-SESSION-STOP-RESPONSE PDU from a BSS acknowledging to stop
an MBMS session.
### 5.3.49 MBMS-SESSION-UPDATE-REQUEST.req
Sending of an MBMS-SESSION-UPDATE-REQUEST PDU to a BSS from an SGSN requesting
to update the MBMS service area list of an ongoing MBMS broadcast service
session.
### 5.3.50 MBMS-SESSION-UPDATE-RESPONSE.cnf
Receipt of an MBMS-SESSION-UPDATE-RESPONSE PDU from a BSS acknowledging to
update the MBMS service area list of an ongoing MBMS broadcast service
session.
## 5.4 Primitive parameters
### 5.4.1 BSSGP Virtual Connection Identifier (BVCI)
BSSGP Virtual Connections (BVCs) provide communication paths between BSSGP
entities. Each BVC is used in the transport of BSSGP PDUs between peer point-
to-point (PTP) functional entities, peer point-to-multipoint (PTM) functional
entities and peer signalling functional entities. Table 5.4.1 lists the
mapping of the BSSGP PDU to the associated functional entity and the BVCI. The
BVCI is used to enable the lower network service layer to efficiently route
the BSSGP PDU to the peer entity. This parameter is not part of the BSSGP PDU
across the Gb interface, but is used by the network service entity across the
Gb.
Any BSSGP PDU received by the BSS or the SGSN containing a PDU type that does
not fit, according to the mapping defined in table 5.4.1, with the functional
entity identified by the BVCI provided by the network service entity, is
discarded and a STATUS PDU with a cause value set to \"Protocol error -
unspecified\" is sent.
A PTP functional entity is responsible for PTP user data transmission. There
is one PTP functional entity per cell. Within the present document, a cell is
identified by a BVCI unless it is explicitly stated otherwise.
A PTM functional entity is responsible for PTM user data transmission. There
is one or more PTM functional entities per BSS.
A signalling functional entity is responsible for other functions e.g. paging.
There is only one signalling entity per Network Service Entity (NSE).There is
one or more NSEs per BSS.
Each BVC is identified by means of a BSSGP Virtual Connection Identifier
(BVCI) which has end-to-end significance across the Gb interface. Each BVCI is
unique between two peer Network Service Entities.
In the BSS, it shall be possible to configure BVCIs statically by
administrative means, or dynamically. In case of dynamic configuration, the
BSSGP shall accept any BVCI passed by the underlying Network Service entity.
At the SGSN side, BVCIs associated with PTP functional entities shall be
dynamically configured. The BVCIs associated with signalling functional
entities and PTM functional entities are statically configured.
The BVCI value 0000 hex shall be used for the signalling functional entities.
The BVCI value 0001 hex shall be used for the PTM functional entities.
All other values may be used freely by the BSS and shall be accepted by the
SGSN.
Table 5.4.1: BSSGP PDU, BVCI and functional entity mapping
+----------------------------------+----------------------------------+ | BSSGP PDU | Mapping of BVCI to functional | | | entity | +----------------------------------+----------------------------------+ | DL-UNITDATA | PTP | +----------------------------------+----------------------------------+ | UL-UNITDATA | PTP | +----------------------------------+----------------------------------+ | RA-CAPABILITY | PTP | +----------------------------------+----------------------------------+ | DL-MBMS-UNITDATA | PTM | +----------------------------------+----------------------------------+ | UL-MBMS-UNITDATA | PTM | +----------------------------------+----------------------------------+ | PAGING-PS | PTP or SIGNALLING (note 1) | +----------------------------------+----------------------------------+ | PAGING-CS | PTP or SIGNALLING (note 2) | +----------------------------------+----------------------------------+ | RA-CAPABILITY-UPDATE / | PTP | | RA-CAPABILITY-UPDATE-ACK | | +----------------------------------+----------------------------------+ | RADIO-STATUS | PTP | +----------------------------------+----------------------------------+ | SUSPEND / SUSPEND-ACK / | SIGNALLING | | SUSPEND-NACK | | +----------------------------------+----------------------------------+ | RESUME / RESUME-ACK / | SIGNALLING | | RESUME-NACK | | +----------------------------------+----------------------------------+ | FLUSH-LL / FLUSH-LL-ACK | SIGNALLING | +----------------------------------+----------------------------------+ | LLC-DISCARDED | SIGNALLING | +----------------------------------+----------------------------------+ | FLOW-CONTROL-BVC / | PTP | | FLOW-CONTROL-BVC-ACK | | +----------------------------------+----------------------------------+ | FLOW-CONTROL-MS / | PTP | | FLOW-CONTROL-MS-ACK | | +----------------------------------+----------------------------------+ | FLOW-CONTROL-PFC / | PTP | | FLOW-CONTROL-PFC-ACK | | +----------------------------------+----------------------------------+ | STATUS | PTP or PTM or SIGNALLING (note | | | 3) | +----------------------------------+----------------------------------+ | BVC-BLOCK / BVC-BLOCK-ACK | SIGNALLING | +----------------------------------+----------------------------------+ | BVC-UNBLOCK / BVC-UNBLOCK-ACK | SIGNALLING | +----------------------------------+----------------------------------+ | BVC-RESET / BVC-RESET-ACK | SIGNALLING | +----------------------------------+----------------------------------+ | SGSN-INVOKE-TRACE | SIGNALLING | +----------------------------------+----------------------------------+ | DOWNLOAD-BSS-PFC | PTP | +----------------------------------+----------------------------------+ | CREATE-BSS-PFC / | PTP | | CREATE-BSS-PFC-ACK / | | | CREATE-BSS-PFC-NACK | | +----------------------------------+----------------------------------+ | MODIFY-BSS-PFC / | PTP | | MODIFY-BSS-PFC-ACK | | +----------------------------------+----------------------------------+ | DELETE-BSS-PFC / | PTP | | DELETE-BSS-PFC-ACK / | | | DELETE-BSS-PFC-REQ | | +----------------------------------+----------------------------------+ | PS-HANDOVER-REQUIRED / | PTP | | PS-HANDOVER-REQUIRED-ACK / | | | PS-HANDOVER-REQUIRED-NACK | | +----------------------------------+----------------------------------+ | PS-HANDOVER-REQUEST / | PTP | | PS-HANDOVER-REQUEST-ACK / | | | PS-HANDOVER-REQUEST-NACK | | +----------------------------------+----------------------------------+ | PS-HANDOVER-COMPLETE/ | PTP | | PS-HANDOVER-COMPLETE-ACK | | +----------------------------------+----------------------------------+ | PS-HANDOVER-CANCEL | PTP | +----------------------------------+----------------------------------+ | PERFORM-LOCATION-REQUEST / | SIGNALLING | | PERFORM-LOCATION-RESPONSE / | | | PERFORM-LOCATION-ABORT | | +----------------------------------+----------------------------------+ | POSITION-COMMAND / | SIGNALLING | | POSITION-RESPONSE | | +----------------------------------+----------------------------------+ | RAN-INFORMATION-REQUEST/ | SIGNALLING | | RAN-INFORMATION/ | | | RAN-INFORMATION-ACK/ | | | RAN-INFORMATION-ERROR/ | | | R | | | AN-INFORMATION-APPLICATION-ERROR | | +----------------------------------+----------------------------------+ | MBMS-SESSION-START-REQUEST/ | SIGNALLING | | MBMS-SESSION-START-RESPONSE/ | | | MBMS-SESSION-STOP-REQUEST/ | | | MBMS-SESSION-STOP-RESPONSE/ | | | MBMS-SESSION-UPDATE-REQUEST/ | | | MBMS-SESSION-UPDATE-RESPONSE | | +----------------------------------+----------------------------------+ | MS-REGISTRATION-ENQUIRY/ | SIGNALLING | | MS-REGISTRATION-ENQUIRY-RESPONSE | | +----------------------------------+----------------------------------+ | NOTE 1: The network may initiate | | | paging of an MS in READY | | | mobility management state at an | | | indication of a lower layer | | | failure (see 3GPP TS 24.008 | | | sub-clause 4.7.9.1). In this | | | case, the BVCI=PTP may be used. | | | | | | NOTE 2: If the network initiates | | | circuit-switched paging of a MS | | | in READY mobility management | | | state (e.g. a MS in class A or B | | | mode of operation and in packet | | | transfer mode), then the | | | BVCI=PTP. If the MS is in | | | STANDBY state, then the | | | BVCI=SIGNALLING. | | | | | | NOTE 3: The setting of the BVCI | | | is dependent upon the context | | | within which the STATUS PDU was | | | generated. | | +----------------------------------+----------------------------------+
### 5.4.2 Link Selector Parameter (LSP)
The link selector parameter is defined in 3GPP TS 48.016. At one side of the
Gb interface, all BSSGP UNITDATA PDUs related to an MS shall be passed with
the same LSP, e.g. the LSP contains the MS\'s TLLI, to the underlying network
service. The LSPs used at the BSS and SGSN for the same MS may be set to
different values.
### 5.4.3 [functional-name] PDU
The parameters that make up a [functional-name] PDU are defined in clause 10,
\"PDU Functional Definitions and contents\".
### 5.4.4 Network Service Entity Identifier (NSEI)
The Network Service Entity at the BSS and the SGSN provides the network
management functionality required for the operation of the Gb interface. The
Network Service Entity is described in 3GPP TS 48.016.
Each Network Service Entity is identified by means of a Network Service Entity
Identifier (NSEI). The NSEI together with the BVCI uniquely identifies a BSGP
Virtual Connection (e.g. a PTP functional entity) within an SGSN. The NSEI is
used by the BSS and the SGSN to determine the NS-VCs that provides service to
a BVCI.
### 5.4.5 BSS Context
The SGSN can provide a BSS with information related to ongoing user data
transmission. The information related to one MS is stored in a BSS context.
The BSS may contain BSS contexts for several MSs. A BSS context contains a
number of BSS packet flow contexts. A BSS packet flow context is identified by
a packet flow identifier assigned by the SGSN. There are four pre-defined
packet flows identified by four reserved packet flow identifier values. One
preâ€‘defined packet flow is used for best-effort service, one for signalling,
one for SMS, and one for TOM8. The BSS shall not negotiate BSS packet flow
contexts for these pre-defined packet flows with the SGSN.
NOTE: The TOM8 PFI is used to transfer LCS RRLP messages between the MS and
the SGSN.
NOTE: PFC procedures (Create BSS PFC, Modify BSS PFC, Delete BSS PFC) and PS
Handover procedures (PS Handover Required, PS Handover Request, PS Handover
Complete) do not apply to pre-defined packet flows.
### 5.4.6 MBMS Service Context
The SGSN can provide a BSS with information related to ongoing MBMS user data
transmission. The information related to one MBMS Session is stored in an MBMS
Service Context. A TMGI and optionally an MBMS Session Identity identify an
MBMS Service Context. The BSS may contain MBMS Service Contexts for several
MBMS Sessions.
### 5.4.7 TLLI
The TLLI is used to uniquely identify a mobile station and needs to be
included in a number of BSSGP PDUs across the Gb interface.
A change of TLLI may occur as a consequence of a P-TMSI reallocation. The new
TLLI shall be used to address the mobile station after completion on the
network side of the related GMM procedure (see 3GPP TS 24.008). However, the
SGSN should not use the new TLLI for BSSGP addressing purposes towards the BSS
either:
\- until having signalled the change of TLLI to the BSS via the Downlink
UNITDATA procedure (see sub-clause 6.1) or
\- until having received from the BSS any BSSGP PDU including the new TLLI.
# 6 User data and signalling procedures between RL and BSSGP SAPs
## 6.1 Downlink UNITDATA procedure
On the downlink, a DL-UNITDATA PDU shall contain information elements to be
used by the RLC/MAC function and an LLC-PDU. There shall be only one LLC-PDU
per DL-UNITDATA PDU. The LLC-PDU shall always be the last information element
in the DL-UNITDATA PDU, and shall be aligned on a 32 bit boundary for
efficient processing.
An SGSN provides the BSSGP with a current TLLI, identifying the MS. If an SGSN
provides a second TLLI, indicating that an MS has recently changed its TLLI,
this shall be considered as the \"old\" TLLI. A BSS uses the \"old\" TLLI to
locate an MS\'s existing context. Subsequent uplink data transfers for this MS
shall reference the current TLLI, and not the old TLLI.
The SGSN shall include the IMSI in the PDU. As an exception, the SGSN may omit
the IMSI in the PDU if the mobile station identified by the TLLI is in MM non-
DRX mode period (i.e. during a GMM procedure for _GPRS attach_ or _routing
area updating_ defined in 3GPP TS 24.008) and the SGSN does not have a valid
IMSI.
The SGSN may include the _Service UTRAN CCO_ (Cell Change Order) information
element in the PDU (relevant if the network initiated cell change order to
UTRAN, network initiated cell change order to E-UTRAN, PS handover to UTRAN or
PS handover to E-UTRAN procedures are used ). If this information element is
received in multiple PDUs (either DL-UNITDATA PDU(s), CREATE-BSS-PFC PDU(s) or
PS-HANDOVER-REQUEST PDU(s)), the information element contained in the last
received PDU shall take precedence.
If the SGSN has valid DRX Parameters for a TLLI, then the SGSN shall include
them in the PDU. Nevertheless, the SGSN can omit the DRX Parameters if the MS
identified with the TLLI is in MM non-DRX mode period to speed up the
transmission of the LLC-PDU on the radio interface. The SGSN shall not send a
DL-UNITDATA PDU without the DRX Parameters IE if the MS identified with the
TLLI is not in MM non-DRX mode period.
An exception case is when the SGSN has uplink and downlink Coverage Class
information (previously received from the BSS in the UL-UNITDATA PDU) or eDRX
information (negotiated during NAS signalling) or both available for a given
MS in which case it shall proceed as follows when sending a DL-UNITDATA PDU
for that MS:
\- If uplink and downlink Coverage Class information is available for the MS
then the SGSN shall include the Coverage Class information in the DL-UNITDATA.
If a negotiated eDRX value is available then it shall also be included. The
SGSN considers the eDRX to be negotiated upon accepting the eDRX cycle value
requested by a MS during NAS signalling. If a negotiated eDRX value is not
available but DRX information is available then it shall be included. If the
target cell supports EC-GSM-IoT the corresponding LLC-PDU is delivered as
follows:
> \- If the MS is in idle mode a downlink packet resource assignment is sent
> on the EC-AGCH of its EC_CCCH_GROUP (see 3GPP TS 45.002 [32]) using the
> indicated downlink Coverage Class information and the lowest eDRX cycle and
> the LLC PDU is sent thereon.
>
> \- If the MS is in packet transfer mode the LLC PDU is delivered using
> either an existing downlink EC TBF or using a new downlink EC TBF
> established by sending a downlink packet resource assignment on the EC-PACCH
> (see 3GPP TS 44.060 [22]) using the downlink Coverage Class information the
> BSS is currently using for that MS.
\- If Coverage Class information is not available but a negotiated eDRX value
is available for the MS then the SGSN shall include the negotiated eDRX value
in the DL-UNITDATA PDU. If the target cell supports eDRX the corresponding
LLC-PDU is delivered as follows:
> \- If the MS is in idle mode a downlink packet resource assignment is sent
> on the AGCH of its CCCH_GROUP (see 3GPP TS 45.002 [32]) using the lowest
> eDRX cycle and the LLC PDU is sent thereon.
>
> \- If the MS is in packet transfer mode the LLC PDU is delivered using
> either an existing downlink TBF or using a new downlink TBF established by
> sending a downlink packet resource assignment on the PACCH (see 3GPP TS
> 44.060 [22]).
\- The SGSN shall apply these rules also when sending a DL-UNITDATA PDU to a
MS for which the GMM procedure for GPRS attach or routing area updating
(defined in 3GPP TS 24.008) has not yet completed.
An SGSN provides the BSSGP with MS specific information, enabling the RLC/MAC
entity in a BSS to transmit an LLC-PDU to the MS in a user specific manner.
The information made available to the radio interface includes:
\- MS Radio Access Capability. This defines the radio capabilities of the ME.
If there is valid MS Radio Access Capability information known by the SGSN for
the associated MS, the SGSN shall include it in the DLâ€‘UNITDATA PDU.
Otherwise, MS Radio Access Capability shall not be present;
\- Packet Flow Identifier. This identifies the packet flow context associated
with the LLC PDU and is included by the SGSN if the packet flow context
feature is negotiated. If the mobile station does not support the PFC feature
or if the PFI is not known (e.g. the new SGSN did not get the PFI from the old
SGSN during a RAU) then the SGSN shall use the pre-defined PFI to indicate
best-effort QoS;
\- QoS Profile. This defines the (peak) bit rate, the type of BSSGP\'s SDU
(signalling or data), the type of LLC frame (ACK, SACK, or not), the
precedence class, and the transmission mode to be used when transmitting the
LLC-PDU across the radio interface;
\- PDU Lifetime. This defines the remaining time period that the PDU is
considered as valid within the BSS. If the PDU is held for a period exceeding
the \"PDU Lifetime\" time period, the PDU shall be locally discarded. The PDU
Lifetime is set within the SGSN by the upper layers.
An SGSN provides the BSSGP with Enhanced Coverage restriction information
which indicates to the BSS whether the use of enhanced coverage is restricted
or not for a given MS, thereby enabling the BSS to decide the allowable
coverage classes (uplink and/or downlink) for the MS while operating in packet
transfer mode.
A BSS may incorporate the PDU Lifetime, the Precedence and the (peak) bit rate
into its radio resource scheduler. If the PFI is present then the BSS may
incorporate the information from the associated ABQP into its radio resource
scheduler. The algorithm to do this is out of scope of the present document.
If the PFI is known in the BSS and does not correspond to a predefined PFI,
then:
\- the (peak) bit rate and the precedence class fields present in the QoS
Profile IE shall be ignored by the BSS;
\- if the Allocation/Retention Priority was provided at the time the
corresponding PFC was created or last modified, then the 'Priority' IE, if
present in the downlink UNITDATA PDU, is discarded.
Two types of BSSGP SDU are distinguished within the QoS Profile: layer 3
signalling and data. Layer 3 signalling may be transmitted over the Um
interface with higher protection. If the MS has an RR connection to the
network (see 3GPP TS 44.018), Layer 3 signalling may be transmitted over the
Um interface on the main signalling link of the RR connection, provided that
the LLC PDU meets length restrictions imposed by the BSS. In this case, the
BSS shall include the LLC PDU contained in the BSSGP PDU in the correspondent
Layer 3 Um interface message (see 3GPP TS 44.018).
The type of LLC frame indicates if the LLC frame type is an ACK or SACK
command/response, or not (see 3GPP TS 44.064). An ACK or SACK command/response
frame type may be transmitted over the Um interface with higher protection.
Two transmission modes across the radio interface are possible: acknowledged
(using RLC/MAC ARQ functionality) and unacknowledged (using RLC/MAC unitdata
functionality). These transmission modes do not apply when the MS has an RR
connection to the network and BSS uses the main signalling link of the RR
connection, in which case the acknowledged transmission mode is used.
If Priority is present, assuming it shall not be discarded according to the
rule above, only the priority-level field shall be regarded. The management of
priority levels is implementation dependent and under operator control. The
preemption capability indicator, the queuing allowed indicator and preemption
vulnerability indicator shall be ignored in this case.
In addition to constructing the DL-UNITDATA, the SGSN supplies the LSP, the
BVCI, the NSEI, and for an IP sub-network the NS Change IP endpoint,
associated with the MS to the lower layer network service, enabling network
service routeing to the peer entity. These parameters are not transmitted as
part of the BSSGP across the Gb-interface for the purpose of identifying the
receiving endpoint (they are sent in the BSSGP Perform-Location-Request PDU to
identify the serving cell of the target MS).
If the Gb-interface is supported using an IP sub-network, then the Resource
Distribution function at the SGSN may transmit a BSSGP DL-UNITDATA PDU with an
LLC-PDU Length Indicator set to 0. The BSS uses this DLâ€‘UNITDATA to change the
IP endpoint at the SGSN to which any future UL-UNITDATA for the TLLI
(indicated in the DL-UNITDATA) is sent. The LLC-PDU with a Length Indicator
set to 0 is not sent across the radio interface.
In the case where localised service area is supported the SGSN may inform the
BSS as to which LSA identities that the mobile has preferences by sending the
LSA INFORMATION element. The BSS stores this information and uses it e.g. for
network controlled cell re-selection when determining specific cell selection
parameters for the mobile. The algorithm for determining specific cell
selection parameters for the mobile is not defined further in the present
document. The SGSN may inform the BSS about the contents of SPID in the DL-
UNITDATA PDU. In this case the SPID is stored in the BSS.
When the "Service Identification for improved Radio Utilization for GERAN"
(SIRUG) feature (see clause 5.3.5.3 of TS 23.060 [7]) is supported, and the
SGSN receives SCI information in the GTP-U header, the SGSN inserts the SCI IE
and the GGSN/P-GW location IE in the associated DL-UNITDATA PDU(s). The BSS
uses the Home PLMN ID contained within the IMSI and the GGSN/P-GW location
information to determine whether or not it can handle the SCI information for
that GGSN/P-GW. If it cannot, the BSS discards the SCI information and shall
treat the rest of the DL-UNITDATA normally.
In abnormal cases, if the SCI IE is received but the GGSN/P-GW location IE is
missing, then the BSS shall assume that the GGSN/P-GW is located in the VPLMN;
and, if the GGSN/P-GW location IE is received but the SCI IE is missing, then
the BSS shall ignore the GGSN/P-GW location IE.
Specific handling related to MOCN and GWCN configurations of network sharing,
is described in sub-clauses 6.6 and 6.7.
When the SGSN is using a GWCN configuration, and the BSSGP DL-UNITDATA PDU
contains a local TLLI, then the BSC shall use the registered Operator specific
NRI value to identify the corresponding serving operator.
Specific handling releted to Dedicated Core Networks as well as MS assisted
Dedicated Core Network selection is described in sub-clause 6.6.
An exception case is when the SGSN determines that there is data to be
delivered to a MS for which the MPM Timer is running (see sub-clause 8b.2.1).
In this case it shall not attempt delivery of that data until the MPM Timer
expires or is stopped.
### 6.1.1 Abnormal conditions
The following actions are defined in periods of congestion.
To satisfy the maximum number of service requests, the BSS may redistribute
MSs among cells (i.e. network controlled cell reselection is initiated). If
this occurs, the BSS may inform the SGSN through the RADIO-STATUS PDU (Radio
Cause value: cell reselection ordered). The BSS shall update any internal
references that indicate the location of the MS. The BSS may attempt to
internally re-route queued LLC frames to an MS that has been moved to a new
cell. If this functionality is not supported, or if it is not possible to
internally re-route LLC frames, the LLC frame shall be discarded.
It is the responsibility of the higher layer protocols in the SGSN to cope
with discarded LLC frames.
## 6.2 Uplink UNITDATA procedure
On the uplink, a UL-UNITDATA PDU shall contain information elements derived
from the RLC/MAC function (except when GTTP is used in the Um interface, see
3GPP TS 44.018), meaningful to higher-layer protocols in an SGSN, and an LLC-
PDU. There shall be only one LLC-PDU per ULâ€‘UNITDATA PDU. The LLC-PDU shall
always be the last information element in the UL-UNITDATA PDU, and shall be
aligned on a 32 bit boundary for efficient processing.
The BSS shall provide the TLLI associated to the MS to the SGSN.
The BSS shall provide a BVCI and an NSEI indicating the PTP functional entity
(i.e. the cell) upon which the LLCâ€‘PDU was received. The SGSN shall obtain the
BVCI, the NSEI, and in the case of an IP sub-network may obtain the LSP and
the NS Change IP endpoint, from the underlying network service; the BVCI and
the NSEI are not visible in the UL-UNITDATA PDU.
The BSS provides the SGSN with the QoS Profile used in the LLC-PDU
transmission from the mobile station across the radio interface.
\- QoS Profile. This reports the (peak) bit rate, the precedence used at radio
access and the transmission mode used across the radio path. The type of the
BSSGP SDU, layer 3 signalling or data, and the type of LLC frame, SACK, ACK,
or not, are not meaningful on the uplink and shall be ignored.
\- Packet Flow Identifier. This identifies the packet flow context that is
obtained from the mobile. If the mobile station does not provide a PFI then
the BSS shall use the pre-defined PFI to indicate best-effort QoS.
In order to support location based services, the BSS shall include the cell
identifier of the cell upon which the LLCâ€‘PDU was received.
In the case where localised service area is supported, the BSS shall include
the LSA identities of the cell upon which the LLC-SDU was received. The BSS
may exclude LSA identities that are not included in the LSA INFORMATION
element.
If EC-GSM-IoT is supported by the BSS and the SGSN, then the BSS shall provide
in the UL-UNITDATA PDU:
\- The uplink and downlink Coverage Class if the downlink Coverage Class is
reported by the MS during system access see 3GPP TS 44.018 [25].
\- The exception report flag if the UL-UNITDATA PDU contains an LLC PDU sent
by the MS using an uplink EC TBF established in response to an EC PACKET
CHANNEL REQUEST message indicating high priority (i.e. an exception report),
see 3GPP TS 44.018 [25] and 3GPP TS 44.060 [22].
\- The exception report flag if the UL-UNITDATA PDU contains an LLC PDU sent
by the MS using an uplink EC TBF established in response to an EC PACKET
DOWNLINK ACK/NACK message including channel request and indicating high
priority (i.e. an exception report), see 3GPP TS 44.018 [25] and 3GPP TS
44.060 [22].
In addition to constructing the UL-UNITDATA, the BSS supplies the LSP, the
NSEI, the BVCI, and for an IP sub-network the NS Change IP endpoint,
associated with the MS to the lower layer network service, enabling network
service routeing to the peer entity. These parameters are not transmitted as
part of the BSSGP across the Gb-interface. If the Gb-interface is supported
using an IP sub-network, then the Resource Distribution function at the BSS
may transmit a BSSGP UL-UNITDATA PDU with an LLC-PDU Length Indicator set to
0. The SGSN uses this UL-UNITDATA to change the IP endpoint at the BSS to
which any future DL-UNITDATA for the TLLI (indicated in the ULâ€‘UNITDATA) is
sent.
Specific handling related to the use of network sharing in a cell is described
in sub-clauses 6.6 and 6.7 for a mobile station non supporting network
sharing. In the case of a mobile station supporting network sharing the BSS
shall include the selected PLMN ID within the UL-UNIDATA PDU when a foreign
TLLI or a random TLLI is included in the same UL-UNIDATA PDU, as described
within sub-clause 10.2.2; both MS support and selected PLMN ID shall be
derived by the BSS from information within the RLC data block as described
within 3GPP TS 44.060 [22].
Specific handling related to Dedicated Core Network as well as MS assisted
Dedicated Core Network selection is described in sub-clause 6.6.
### 6.2.1 Abnormal conditions
None specified.
## 6.3 RA-CAPABILITY procedure
The SGSN stores an MS\'s current radio access capability (which may be changed
by higher layer mobility management procedures). An MS\'s current radio access
capability, and the TLLI identifying the MS, are conveyed to a BSS in a
RAâ€‘CAPABILITY PDU. The received MS\'s radio access capability, if valid, shall
then replace any radio access capability previously associated with the MS.
### 6.3.1 Abnormal conditions
If the BSS receives an unknown Access Technology Type in the MS Radio Access
Capability field, it shall ignore the fields associated with that Access
Technology type.
If the BSS receives unknown fields within a known Access Technology Type in
the MS Radio Access Capability field, it shall ignore the unknown fields.
## 6.4 Downlink MBMS-UNITDATA procedure
On the downlink, a DL-MBMS-UNITDATA PDU shall contain information elements to
be used by an LLC-PDU. There shall be only one LLC-PDU per DL-MBMS-UNITDATA
PDU. The LLC-PDU shall always be the last information element in the DL-MBMS-
UNITDATA PDU, and shall be aligned on a 32 bit boundary for efficient
processing.
An SGSN provides the BSSGP with a current TMGI, if available, and MBMS Session
Identity, identifying the MBMS Service Context.
The information made available to the radio interface includes:
\- PDU Lifetime. This defines the remaining time period that the PDU is
considered as valid within the BSS. If the PDU is held for a period exceeding
the \"PDU Lifetime\" time period, the PDU shall be locally discarded. The PDU
Lifetime is set within the SGSN by the upper layers.
A BSS may incorporate the PDU Lifetime into its radio resource scheduler.
In addition to constructing the DL-MBMS-UNITDATA, the SGSN supplies the BVCI
and the NSEI to the BSS.
## 6.5 Uplink MBMS-UNITDATA procedure
On the uplink, a UL-MBMS-UNITDATA PDU shall contain an LLC-PDU. There shall be
only one LLC-PDU per ULâ€‘MBMS-UNITDATA PDU. The LLC-PDU shall always be the
last information element in the UL-MBMS-UNITDATA PDU, and shall be aligned on
a 32 bit boundary for efficient processing.
The BSS shall provide the TMGI and, if present in the MBMS Service Context,
the MBMS Session Identity to the SGSN in order to identify the MBMS session.
The BSS shall provide a BVCI and an NSEI indicating the PTM functional entity
upon which the LLCâ€‘PDU was received. The SGSN shall obtain the BVCI, the NSEI,
and in the case of an IP sub-network may obtain the LSP and the NS Change IP
endpoint, from the underlying network service; the BVCI and the NSEI are not
visible in the UL-MBMS-UNITDATA PDU.
In addition to constructing the UL-MBMS-UNITDATA, the BSS supplies the LSP,
the NSEI, the BVCI, and for an IP sub-network the NS Change IP endpoint,
associated with the MBMS session to the lower layer network service, enabling
network service routeing to the peer entity. These parameters are not
transmitted as part of the BSSGP across the Gb-interface. If the Gb-interface
is supported using an IP sub-network, then the resource distribution function
at the BSS may transmit a BSSGP UL-MBMS-UNITDATA PDU in order to change the IP
endpoint at the BSS to which any future DL-MBMS-UNITDATA for the MBMS session
(indicated with TMGI and, if available, MBMS Session Identity in the ULâ€‘MBMS-
UNITDATA) shall be sent from the SGSN.
NOTE: In this version of the specification, the procedure is used for resource
distribution only meaning that the LLC PDU length indicator shall always be
set to zero.
## 6.6 Rerouting procedure in case of MOCN configuration for network sharing,
Dedicated Core Networks or MS assisted Dedicated Core Network selection
### 6.6.1 General
This procedure shall be supported by a BSS if it supports the MOCN
configuration (see [43]), if it supports Dedicated Core Networks or if is
supports MS assisted Dedicated Core Network selection. The rerouting procedure
in a GWCN configuration is described in sub-clause 6.7.
In the MOCN configuration the radio access part of the network is shared.
There may be more than one Gb-Interface towards the PS domain of different CN
operators from the BSS.
Rerouting procedure is a mechanism used as part of the assignment of CN
operator in shared networks with MOCN configuration or GWCN configuration (see
sub-clause 6.7) when an MS not supporting network sharing performs initial
attach/registration. In this case BSS may not know towards which SGSN to route
the initial MS request message and the latter may be rerouted to another SGSN
by BSS.
More precisely, in case of MOCN configuration, the selection of SGSN in BSS is
based on the NRI (valid or invalid) or by random selection. In case where the
SGSN cannot be deduced from the NRI and a _GPRS attach_ or _routing area
updating_ initial layer 3 message (defined in [11]) shall be transferred in
UL-UNITDATA message towards a SGSN, BSS shall choose a SGSN and initiate a
rerouting procedure.
To trigger a rerouting procedure in MOCN configuration, the BSS adds the
Redirect Attempt Flag IE to the UL-UNITDATA message, in order to indicate that
the SGSN shall respond by including either Redirection Indication IE or
Redirection Completed IE in DL-UNITDATA message.
For Dedicated Core Networks (DCNs) multiple DCNs may be deployed within a PLMN
where each DCN may be dedicated to serve specific type(s) of subscribers.
\- For DCN the Rerouting procedure is used as part of the selection of core
network node to serve the MS when it has successfully transmitted an initial
LLC PDU (i.e. Foreign or Random TLLI is used) to a BSS that supports DCN. More
precisely, the procedure provides the BSS with the Null-NRI/SGSN group ID
which the BSS uses to select a SGSN towards which the initial uplink LLC PDU
shall be routed.
\- To trigger a rerouting procedure in the case where a BSS cannot determine
an appropriate DCN for forwarding an uplink LLC PDU, the BSS selects an
available SGSN and adds the Redirect Attempt Flag IE to the UL-UNITDATA
message used to forward the uplink LLC PDU to that SGSN.
\- The inclusion of the Redirect Attempt Flag IE serves as indication to the
SGSN that, after determining where to re-route the LLC PDU, it shall respond
to the BSS by including either Redirection Indication IE or Redirection
Completed IE in the DL-UNITDATA message it sends in response to the UL-
UNITDATA message.
For MS assisted Dedicated Core Network selection the Rerouting procedure is
used for selection of a core network node to serve the MS when it supports MS
assisted Dedicated Core Network selection and has successfully transmitted an
initial LLC PDU to a BSS that supports MS assisted Dedicated Core Network
selection:
\- The BSS selects a DCN for the selected PLMN based on DCN-ID information
received from the MS and configuration information (i.e. information that
allows the BSS to interpret DCN-ID values), see 3GPP TS 44.060 [22].
\- The inclusion of the Redirect Attempt Flag IE in the UL-UNITDATA message
serves as indication to the SGSN that, after determining if it is the correct
DCN or not, it shall respond to the BSS by including either a Redirection
Indication IE or a Redirection Completed IE in the DL-UNITDATA message it
sends in response to the UL-UNITDATA message.
### 6.6.2 Reroute Indication
If the UL-UNITDATA message does not contain the _CS Registered Operator_ IE
and the SGSN cannot serve the request and reroute is possible (error causes
are related to subscription options - defined in [11]), the reject Layer 3
Information LLC-PDU (e.g. GPRS attach Reject) and a _Redirection Indication_
IE containing a Reroute Reject Cause shall be included in the DL-UNITDATA
message for the downlink direction.
When the IMSI, or in case the BSS supports CS/PS coordination enhancements,
the _CS Registered Operator_ IE or the _Selected Operator_ IE, is not included
in the UL-UNITDATA message and CS/PS domain registration coordination is
required (see [43]), the Initial LLC-PDU and a _Redirection Indication_ IE
containing the Reroute Reject Cause set to "CS/PS domain registration
coordination required" shall be included in the DL-UNITDATA message for the
downlink direction. CS/PS domain registration coordination may not be
performed for the operator's own subscribers by the SGSN.
In addition the DL-UNITDATA message shall contain:
\- The Initial LLC-PDU received from the MS;
\- The IMSI, if available;
\- The Unconfirmed send state variable, if available.
If the SGSN supports CS/PS coordination enhancements, the DL-UNITDATA message
shall also contain:
\- The Old Routing Area Identification as indicated by the MS in the Initial
LLC-PDU or,
\- The Attach Indicator in case the Initial LLC-PDU contains a GPRS attach
(see [11]).
In a MOCN configuration, if the BSS does not support CS/PS coordination
enhancements and the _Redirection Indication_ IE in the DL-UNITDATA message is
received from a SGSN which is not the last attempted, then the BSS shall re-
initiate the procedure towards another CN operator when possible (or possibly
to the same CN in case when CS/PS domain registration coordination is
required), with the following additional information in the UL-UNITDATA
message:
\- The Initial LLC-PDU as LLC-PDU;
\- The Redirect Attempt Flag IE;
\- The IMSI, if received from one of previously attempted CN operators;
\- The Unconfirmed send state variable, if received from previously attempted
CN operator.
If the BSS supports CS/PS coordination enhancements and the _Redirection
Indication_ IE in the DL-UNITDATA message is received from a SGSN which is not
the last attempted, it shall proceed as follows:
\- if the DL-UNITDATA message contains the Old Routing Area Identification and
the BSS from this information (and from BSS internal configuration) is able to
uniquely identify one of the CN operators in the shared network, then the BSS
shall re-initiate the procedure towards the SGSN of the identified CN operator
with the Selected Operator, Initial LLC-PDU, Redirect Attempt Flag, IMSI and
Unconfirmed send state variable (if received from previously attempted CN
operator) included in the UL-UNITDATA message;
\- if the DL-UNITDATA message contains the Old Routing Area Identification and
the BSS from this information (and from BSS internal configuration) cannot
identify one of the CN operators in the shared network, then the BSS shall
initiate the MS Registration Enquiry procedure in the CS domain (see [14]);
\- if the DL-UNITDATA message contains the Attach Indicator then the BSS shall
initiate the MS Registration Enquiry procedure in the CS domain (see [14]).
NOTE: The configuration by means the BSS identifies a CN operator from the
received Old Routing Area Identification is implementation dependent and under
operator control.
If, as a result of the MS Registration Enquiry procedure in the CS domain, the
MS is found to be registered with one of the shared CN operators, then the BSS
shall re-initiate the procedure towards the SGSN of the same CN operator with
the CS Registered Operator, Initial LLC-PDU, Redirect Attempt Flag, IMSI and
Unconfirmed send state variable (if received from previously attempted CN
operator) included in the UL-UNITDATA message.
If the MS is not found to be registered in the CS domain with any of the
shared CN operators, then the BSS shall perform CS/PS domain registration
coordination based on the received IMSI and re-initiate the procedure towards
the SGSN of the identified CN operator with the Selected Operator, Initial
LLC-PDU, Redirect Attempt Flag, IMSI and Unconfirmed send state variable (if
received from previously attempted CN operator) included in the UL-UNITDATA
message.
Upon reception of the downlink _Redirection Indication_ IE, the BSS shall
store as part of the Rerouting Function the associated Reroute _Reject Cause_
and _LLC-PDU_ related to this SGSN.
In case the Reroute _Reject Cause_ is set to \"CS/PS domain registration
coordination required\" and the BSS does not support CS/PS coordination
enhancements, then the BSS shall perform CS/PS domain registration
coordination based on the received IMSI. In this case the Reroute _Reject
Cause_ value and the associated _LLC-PDU_ shall not be stored.
For Dedicated Core Networks or for MS assisted Dedicated Core Network
selection, if the SGSN decides to reroute the handling of an initial uplink
LLC PDU to another CN node the DL-UNITDATA message shall also contain:
\- The Initial LLC-PDU received from the MS;
\- The IMSI, if received unencrypted from the MS;
\- The Null-NRI/SGSN group ID;
\- Additional P-TMSI, if available;
\- UE Usage Type.
If the BSS supports Dedicated Core Networks or if the BSS supports MS assisted
Core Network selection and the _Redirection Indication_ IE in the received DL-
UNITDATA message indicates a new SGSN (i.e. different from the previously used
SGSN), it shall select and route the initial uplink LLC PDU to the new SGSN.
The selection is based on the Null-NRI/SGSN Group ID and possibly also based
on the Additional P-TMSI received in the DL-UNITDATA message. If no valid SGSN
can be identified within the set of valid nodes the BSS selects either the
default DCN or an SGSN based on operator configuration see 3GPP TS 23.401. The
UL-UNITDATA message sent to the selected SGSN shall contain:
\- The Initial LLC-PDU received from the MS;
\- The IMSI, if available;
\- The Null-NRI/SGSN group ID;
\- UE Usage Type.
The presence of Null-NRI/SGSN Group ID in the UL-UNITDATA message indicates to
the SGSN that the message is a rerouted message and that the SGSN shall not
further reroute the initial LLC-PDU (see sub-clause 10.2.2). The UE Usage Type
shall be used by the SGSN to select a GGSN.
If the SGSN cannot serve the request, and if the Null-NRI/SGSN Group ID was
provided in the UL-UNITDATA message carrying the initial LLC-PDU, the SGSN
shall include the response LLC PDU (e.g. containing the GPRS attach Reject)
and a _Redirection Indication_ IE containing a Reroute Reject Cause (error
causes are related to subscription options - defined in [11]) in the DL-
UNITDATA message to the BSS.
In case all attempted CN operators have replied with a _Redirection
Indication_ IE, the BSS shall select the most appropriate Layer 3 Information
received from the attempted CN nodes based on the stored information as part
of the Rerouting procedure and send it back to the MS (see [11).
### 6.6.3 Reroute complete
If the SGSN can serve the request, the _Redirection Completed_ IE with outcome
value set to \"MS is accepted\" or \"MS is already registered\" and Layer 3
Information LLC-PDU (e.g. GPRS Attach Accept) shall be included in the DL-
UNITDATA message for the downlink direction.
Upon reception of the UL-UNITDATA message containing the _CS Registered
Operator_ IE, the SGSN supporting CS/PS coordination enhancements shall
conclude the Rerouting procedure and include the _Redirection Completed_ IE in
the DL-UNITDATA message.
Upon reception of the downlink _Redirection Completed_ IE, the BSS shall send
back the included LLC-PDU to the MS and terminate the Rerouting procedure.
### 6.6.4 Abnormal Conditions
If the SGSN cannot serve the request and rerouting is not possible, the
_Redirection Completed_ IE with outcome value set to \"MS is not accepted\"
and Layer 3 Information LLC-PDU (e.g. GPRS Attach Reject) shall be included in
the DL-UNITDATA message for the downlink direction.
If, as a result of the analysis of the DL-UNITDATA message, the MS
Registration Enquiry procedure is initiated in the CS domain and the MSC does
not support CS/PS coordination enhancements, then the BSS shall behave as if
the MS is not registered with the CN operator of that MSC.
## 6.7 Rerouting procedure in case of GWCN configuration for network sharing
### 6.7.1 General
This procedure shall be supported by a BSS and an SGSN if and only if both
nodes support CS/PS coordination enhancements in a GWCN configuration (see
3GPP TS 23.251 [43]). The rerouting procedure in a MOCN configuration is
described in sub-clause 6.6.
In the GWCN configuration the radio access part of the network as well as the
core network nodes (MSC and SGSN) are shared between the different CN
operators.
Rerouting procedure is a mechanism used as part of the assignment of a CN
operator in a shared network when a MS not supporting network sharing performs
initial attach/registration. Upon reception of the initial MS request message,
the BSS may not know which CN operator to select and thus which CN operator to
forward the initial MS request message to. If the initial MS request is not
accepted by the CN operator selected by the BSS, a reroute of the initial MS
request message to another CN operator within the shared network may be
needed.
More precisely, the selection of a CN operator in the BSS is based on the NRI
(valid or invalid) or by random selection. In case the CN operator cannot be
deduced from the NRI and a _GPRS attach_ or _routing area updating_ initial
layer 3 message (defined in [11]) shall be transferred in the UL-UNITDATA
message, the BSS shall select a CN operator and initiate the rerouting
procedure.
To trigger a rerouting procedure in a GWCN configuration, the BSS includes the
Redirect Attempt Flag IE in the UL-UNITDATA message. By including the Redirect
Attempt Flag IE in the UL-UNITDATA message, the SGSN supporting GWCN shall
respond by including either the Redirection Indication IE or the Redirection
Completed IE in the DL-UNITDATA message.
### 6.7.2 Reroute indication
If the UL-UNITDATA message does not contain the _CS Registered Operator_ IE
and the CN operator selected by the BSS cannot serve the MS and rerouting is
possible (error causes are related to subscription options \- defined in
[11]), the reject Layer 3 Information (e.g. GPRS Attach Reject) and a
_Redirection Indication_ IE containing a Reroute Reject Cause shall be
included in the DL-UNITDATA message for the downlink direction.
When neither the _CS Registered Operator_ IE nor the _Selected Operator_ IE is
included in the UL-UNITDATA message and CS/PS domain registration coordination
is required (see 3GPP TS 23.251 [43]), the Initial LLC-PDU and a _Redirection
Indication_ IE containing the Reroute Reject Cause set to "CS/PS domain
registration coordination required" shall be included in the DL-UNITDATA
message for the downlink direction. CS/PS domain registration coordination may
not be performed by the SGSN for the operator's own subscribers.
In addition the DL-UNITDATA message shall contain:
\- The Initial LLC-PDU received from the MS;
\- The IMSI, if available;
\- The Unconfirmed send state variable, if available.
\- The Old Routing Area Identification as indicated by the MS in the Initial
LLC-PDU or,
\- The Attach Indicator in case the Initial LLC-PDU contains a GPRS attach
(see 3GPP TS 24.008 [11]).
If the DL-UNITDATA message containing the _Redirection Indication_ IE is not
related to the last attempted CN operator, then the BSS shall proceed as
follows:
\- if the DL-UNITDATA message contains the Old Routing Area Identification and
the BSS from this information (and from BSS internal configuration) is able to
uniquely identify one of the CN operators in the shared network, then the BSS
shall re-initiate the procedure towards the identified CN operator with the
Selected Operator, Initial LLC-PDU, Redirect Attempt Flag, IMSI and
Unconfirmed send state variable (if received from previously attempted CN
operator) included in the UL-UNITDATA message;
\- if the DL-UNITDATA message contains the Old Routing Area Identification and
the BSS from this information (and from BSS internal configuration) cannot
identify one of the CN operators in the shared network, then the BSS shall
initiate the MS Registration Enquiry procedure in the CS domain (see 3GPP TS
48.008 [14]);
\- if the DL-UNITDATA message contains the Attach Indicator then the BSS shall
initiate the MS Registration Enquiry procedure in the CS domain (see 3GPP TS
48.008 [14]).
NOTE: The configuration by means the BSS identifies a CN operator from the
received Old Routing Area Identification is implementation dependent and under
operator control.
If, as a result of the MS Registration Enquiry procedure in the CS domain, the
MS is found to be registered with one of the shared CN operators, then the BSS
shall re-initiate the procedure towards the same CN operator with the CS
Registered Operator, Initial LLC-PDU, Redirect Attempt Flag, IMSI and
Unconfirmed send state variable (if received from previously attempted CN
operator) included in the UL-UNITDATA message.
If the MS is not found to be registered in the CS domain with any of the
shared CN operators, then the BSS shall perform CS/PS domain registration
coordination based on the received IMSI and re-initiate the procedure towards
the SGSN of the identified CN operator with the Selected Operator, Initial
LLC-PDU, Redirect Attempt Flag, IMSI and Unconfirmed send state variable (if
received from previously attempted CN operator) included in the UL-UNITDATA
message.
Upon reception of the _Redirection Indication_ IE, the BSS shall store as part
of the Rerouting Function the associated Reroute _Reject Cause_ and _LLC-PDU_
related to this CN operator.
In case all attempted CN operators have replied with a _Redirection
Indication_ IE, the BSS shall select the most appropriate Layer 3 Information
received from the attempted CN operators based on the stored information as
part of the Rerouting procedure and send it back to the MS (see 3GPP TS 24.008
[11]).
### 6.7.3 Reroute complete
If the selected CN operator accepts the initial request from the MS, then the
SGSN shall respond to the BSS with the _Redirection Completed_ IE, with the
Outcome value field set to \"MS is accepted\" or \"MS is already registered\",
and the Layer 3 Information LLC-PDU (e.g. GPRS Attach Accept) included in the
DL-UNITDATA message.
Upon reception of the UL-UNITDATA message containing the _CS Registered
Operator_ IE, the SGSN shall conclude the Rerouting procedure and include the
_Redirection Completed_ IE in the DL-UNITDATA message.
Upon reception of the DL-UNITDATA message with the _Redirection Completed_ IE
included in the message, the BSS shall send the LLC-PDU to the MS and
terminate the Rerouting procedure.
### 6.7.4 Abnormal Conditions
If the selected CN operator cannot serve the initial request from the MS and
rerouting to another CN operator is not possible, then the SGSN shall send the
DL-UNITDATA message to the BSS with the Outcome value field set to \"MS is not
accepted\" within the _Redirection Completed_ IE, and the Layer 3 Information
LLC-PDU (e.g. GPRS Attach Reject) included in the message.
If, as a result of the analysis of the DL-UNITDATA message, the MS
Registration Enquiry procedure is initiated in the CS domain and the MSC does
not support CS/PS coordination enhancements, then the BSS shall behave as if
the MS is not registered with any of the CN operators of that MSC.
# 7 Signalling procedures between GMM SAPs
## 7.1 Paging procedure
When an SGSN initiates the paging procedure for GPRS services as defined in
3GPP TS 24.008, it shall send one or more PAGING-PS PDUs to the BSS.
When instructed by an MSC/VLR to initiate a paging procedure for non-GPRS
services as defined in 3GPP TS 24.008, an SGSN shall send one or more PAGING-
CS PDUs to the BSS.
These paging PDUs shall contain the information elements necessary for the BSS
to initiate paging for an MS within a group of cells.
The SGSN provides an indication of the cells within which the BSS shall page
the MS. The levels of resolution within one BSS are: all cells within the BSS,
all cells on the BSS within one location area, all cells on the BSS within one
routing area, and one BVCI (i.e. cell). A routing area, a location area, or a
BSS area is associated with one or more NSEIs. If the cells in which to page
the MS are served by several NSEIs then one paging PDU must be sent to each of
these NSEIs.
A paging PDU shall be used to generate the corresponding radio interface
paging request message(s) to be transmitted at the appropriate time.
It should be noted that each paging PDU relates to only one MS and therefore a
BSS may pack pages for different MSs into the relevant 3GPP TS 24.008 or 3GPP
TS 44.060 radio interface paging request messages.
In the case of paging for non-GPRS services, the SGSN shall provide the MS\'s
IMSI and DRX Parameters. The SGSN shall also include the Global CN-Id
information element in the paging PDU when this information element is
received from the MSC/VLR. The Global CN-Id information element is received
from the MSC/VLR if paging using only the IMSI parameter as identifier of the
MS is performed via the SGSN when the MSC/VLR applies intra domain connection
of RAN nodes to multiple CN nodes as described in 3GPP TS 23.236. The BSS
shall then buffer this information element until receiving the paging response
from the MS in order to route the paging response to the correct MSC/VLR.
In the case of paging for GPRS services, the SGSN shall provide the MS\'s
IMSI. If DRX Parameters are available, the SGSN shall also provide the DRX
Parameters. If eDRX Parameters are available, the SGSN shall also provide the
eDRX Parameters (see sub-clause 7.1a).
NOTE: The IMSI and the DRX Parameters enable the BSS to derive the paging
population number. Paging without DRX parameters may require a considerable
extension of the paging duration.
An SGSN may provide the BSSGP with MS specific information, enabling a BSS to
execute the paging procedure in an MS specific manner. This includes:
\- QoS Profile. The Precedence parameter is set by the upper layers (in the
SGSN). The SGSN shall set the bit rate parameter to \"best effort\". The SGSN
shall set the transmission mode to unacknowledged. The BSS shall ignore the
received bit rate, the BSSGP SDU type, LLC type, and transmission mode
parameters;
\- PFI or an aggregate BSS QoS profile information which indicates if the page
is for signalling, for SMS, for TOM8, for best-effort, or for a specific
packet flow. The aggregate BSS QoS profile in this case is used for paging
only and is not stored by the BSS. If both of the optional PFI and ABQP IEs
are present, the ABQP takes precedence.
\- the most recently received downlink Coverage Class and the cell identity
for the cell where the Coverage Class was reported by the MS, if previously
received from the BSS in the UL-UNITDATA PDU.
\- MS Radio Access Capability defining the radio capabilities of the MS. If
there is valid MS Radio Access Capability information known by the SGSN for
the associated MS, the SGSN shall include it in the PAGING-PS PDU. Otherwise,
the MS Radio Access Capability shall not be present.
\- Paging Attempt Information consisting of Paging Attempt Count and Intended
Number of Paging Attempts information. If Paging Attempt Information is
provided then the Paging Attempt Count field shall be increased by one at each
new paging attempt performed for delivering a packet data payload available
for delivery. If the SGSN cannot determine the number of intended paging
attempts the SGSN shall use the code point 0000 corresponding to Â´Information
not availableÂ´.
If an SGSN provides a P-TMSI in a PAGING-PS PDU, then the BSS shall use the
P-TMSI to address the MS. If the SGSN does not provide the P-TMSI in the
PAGING-PS PDU, then the BSS shall use the IMSI to address the MS.
If the BSS determines that the nominal paging group of the MS occurs too far
into the future (e.g. the BSS is unable to buffer the paging request until the
next occurrence of the nominal paging group for the indicated MS) it responds
to the PAGING-PS PDU by sending a PAGING-PS-REJECT PDU to the SGSN and
includes information indicating the time until the next paging occasion
therein.
If an SGSN provides a TLLI in a PAGING-CS PDU and a radio context identified
by the TLLI exists within the BSS, then the paging request message shall be
directly sent to the MS. If the SGSN does not provide the TLLI in the PAGING-
CS PDU or if no radio context identified by the TLLI exists within the BSS,
then the BSS shall use the TMSI, if provided in the PAGING-CS PDU, else the
IMSI, to address the MS.
The PAGING-CS PDU consists of the parameters described above for a PAGING-PS
PDU (except the P-TMSI, PFI, ABQP and QoS profile parameters) and, optionally,
some or all of the following parameters; TMSI, TLLI, Global CN-Id, Channel
Needed and eMLPP-Priority. The Channel Needed and eMLPP-Priority information
shall be handled transparently by the BSS.
The SGSN may send the BSS a DUMMY-PAGING-PS PDU at any time to determine the
time until the next paging occasion for the MS indicated therein. The BSS uses
the information provided within the DUMMY-PAGING-PS PDU to calculate the time
until the next paging occasion for the indicated MS and includes it within a
DUMMY-PAGING-PS-RESPONSE PDU it sends back to the SGSN.
A SGSN that supports Multilateration Timing Advance (MTA) procedure (see 3GPP
TS 44.031 and 3GPP TS 43.059 [23]) shall not send a PAGING-PS PDU to a BSS if
the MPM timer is running for the corresponding MS. Otherwise, if neither the
MPM timer nor Ready timer is running it may send a PAGING-PS PDU indicating
'positioning event triggered' in response to receiving a location request (see
sub-clause 8b.1). If the SGSN receives a corresponding page response it sends
the BSS managing the serving cell a PERFORM-LOCATION-REQUEST PDU and starts
the Ready timer. If the UL-UNITDATA PDU containing the page response includes
the "MultilaterationTiming Advance", "MS Sync Accuracy" and "BTS Reception
Accuracy Level" information elements the SGSN includes them in the PERFORM-
LOCATION-REQUEST PDU it sends to the serving BSS.
In case the network supports restricted use of enhanced coverage (see 3GPP TS
24.008 [46]), and the MS camps on a cell not supporting EC-GSM-IoT, the SGSN
may at any time check the status of Enhanced Coverage Restriction (RestrictEC
indication in 3GPP TS 24.008 [46]) obtained from HSS/HLR or retrieve the
status from the stored MS context and include it in the PAGING-PS PDU (see
sub-clauses 10.3.1 and 11.3.141) in order to inform the BSS about restriction
on the use of enhanced coverage. The BSS relays the restriction information to
the corresponding MS using PS domain paging procedures.
## 7.1a Paging procedure for Extended Coverage and eDRX
An SGSN may have any combination of uplink and downlink Coverage Class
information (previously received from the BSS in an UL-UNITDATA PDU) and eDRX
information (negotiated during NAS signalling) available for a given MS when
it determines that paging is necessary for that MS. When sending a PAGING-PS
PDU to a BSS to trigger paging for a given MS the SGSN shall include the most
recently received Coverage Class information and the most recent eDRX value
negotiated during NAS signalling for that MS. If the BVC-RESET procedure (see
sub-clauses 8.4 and 11.3.84) is performed and indicates a change to the eDRX
capability for a BSS, it shall not impact the most recent eDRX value
negotiated during NAS signalling for that MS.
In case the network supports restricted use of enhanced coverage (see 3GPP TS
24.008 [46]), and the MS camps on a cell supporting EC-GSM-IoT, the SGSN may
at any time check the status of Enhanced Coverage Restriction (RestrictEC
indication in 3GPP TS 24.008 [46]) obtained from HSS/HLR or retrieve the
status from the stored MS context and include it in the PAGING-PS PDU (see
sub-clauses 10.3.1 and 11.3.141) in order to inform the BSS about a
restriction on the use of enhanced coverage. The BSS relays the restriction
information to the corresponding MS using PS domain paging procedures.
### 7.1a.1 Coverage Class and eDRX information available
If uplink and downlink Coverage Class information and a negotiated eDRX value
are available for the MS the SGSN sends the BSS a PAGING-PS PDU that indicates
the available uplink and downlink Coverage Class information and the
negotiated eDRX information.
\- If a cell in the area targeted for paging supports EC-GSM-IoT and eDRX the
MS is paged on the EC-PCH of its EC_CCCH_GROUP using the indicated downlink
Coverage Class and eDRX information (see 3GPP TS 45.002 [48]).
\- If a cell in the area targeted for paging supports EC-GSM-IoT but not eDRX
the MS is paged on the EC-PCH of its EC_CCCH_GROUP using the lowest eDRX cycle
(see 3GPP TS 45.002 [48]) only if the PAGING-PS PDU indicates the lowest eDRX
cycle. Otherwise the MS is not paged.
\- If a cell in the area targeted for paging does not support EC-GSM-IoT the
MS is paged on the PCH using the indicated eDRX information if the MS Radio
Access Capability IE (see sub-clause 11.3.22) indicates that the MS supports
GPRS/EGPRS. The MS is not paged if the MS Radio Access Capability IE indicates
that the MS does not support GPRS/EGPRS.
### 7.1a.2 Coverage Class information not available, eDRX information
available
If uplink and downlink Coverage Class information is not available but a
negotiated eDRX value is available for the MS the SGSN sends the BSS a PAGING-
PS PDU that indicates the negotiated eDRX information. The MS is paged on the
PCH, using the indicated eDRX information, in the cell(s) in the area targeted
for the paging.
### 7.1a.3 Coverage Class information available, eDRX information not
available
If uplink and downlink Coverage Class information is available but a
negotiated eDRX value is not available for the MS the SGSN sends the BSS a
PAGING-PS PDU that indicates the available Coverage Class and DRX information
(if available).
\- If a cell in the area targeted for paging supports EC-GSM-IoT the MS is
paged on the EC-PCH of its EC_CCCH_GROUP (see 3GPP TS 45.002 [32]) using the
indicated downlink Coverage Class information and the lowest eDRX cycle.
\- If a cell in the area targeted for paging does not support EC-GSM-IoT the
MS is paged on the PCH using DRX (the SGSN may include DRX information in the
PAGING-PS PDU) if the MS Radio Access Capability IE indicates that the MS
supports GPRS/EGPRS. The MS is not paged if the MS Radio Access Capability IE
indicates that the MS does not support GPRS/EGPRS.
## 7.1b Paging Procedure for Extended Coverage with Paging Indication
If the downlink Coverage Class information included in the PAGING-PS PDU
indicates CC3 or CC4 and the MSRAC capability indicates that the MS supports
monitoring of the EC-PICH, the BSS triggers for cells in the area targeted for
paging and broadcasting the support of EC-PICH, the sending of a paging
indication in the EC-PICH block, corresponding to the paging block for the
paging group of the MS, before scheduling the paging message in the paging
block. If the MSRAC capability does not indicate support for EC-PICH
monitoring, the BSS does not trigger the sending of a paging indication before
scheduling the paging message for the MS.
## 7.2 Radio Access Capability Update procedure
The BSS may request an MS\'s current Radio Access capability and/or its IMSI
by sending to an SGSN a RAâ€‘CAPABILITY-UPDATE PDU which includes the TLLI of
the MS and a Tag. The allocation of the Tag is implementation specific. The
BSS then starts timer T5.
The SGSN shall respond by sending a RA-CAPABILITY-UPDATE-ACK PDU which
includes the TLLI of the MS, the Tag received in the corresponding RA-
CAPABILITY-UPDATE PDU, and an RA-Cap-UPD-Cause field; the IMSI of the MS is
also included when known. The BSS shall stop timer T5.
If the RA-Cap-UPD-Cause is set to \"OK\", then an MS Radio Access Capability
field and the IMSI shall be present. The received MS\'s radio access
capability, if valid, shall then replace any radio access capability
previously associated with the MS. If the RA-Cap-UPD-Cause is not set to
\"OK\", then neither the MS Radio Access Capability nor the IMSI shall be
present in the RA-CAPABILITY-UPDATE-ACK PDU.
### 7.2.1 Abnormal conditions
If an SGSN receives a RA-CAPABILITY-UPDATE PDU which includes an unknown TLLI,
it shall answer with a RAâ€‘CAPABILITY-UPDATE-ACK PDU which includes the RA-CAP-
UPD-Cause set to the value \"TLLI unknown\".
If an SGSN receives a RA-CAPABILITY-UPDATE PDU which includes a known TLLI,
but there are no Radio Access parameters or IMSI known to the SGSN for the
associated MS, the SGSN shall reply to the request with a
RAâ€‘CAPABILITYâ€‘UPDATE-ACK PDU in which the RA-CAP-UPD-Cause is set to: \"no RA
capability or IMSI available\".
If a BSS receives a RA-CAPABILITY-UPDATE-ACK PDU containing a Tag which is
different from the last transmitted Tag by the BSS, it shall ignore the
reception of this PDU.
If a BSS sends a RA-CAPABILITY-UPDATE PDU to an SGSN and the RA-CAPABILITY-
UPDATE-ACK is not returned within a period T5 with the same Tag value as
provided in the request, the RA-CAPABILITY-UPDATE procedure shall be repeated
a maximum of RA-CAPABILITY-UPDATE-RETRIES attempts. The Tag value shall be
changed by the BSS at each new retry.
## 7.3 Radio Status procedure
A BSS and an MS radio interface communication status may change due to the
following:
1) the MS goes out of coverage and is lost;
This condition is signalled by setting the Radio Cause value to \"Radio
contact lost with MS\".
2) the link quality is too bad to continue the communication;
This condition is signalled by setting the Radio Cause value to \"Radio link
quality insufficient to continue communication\".
3) the BSS has ordered the MS to perform a cell reselection.
This condition is signalled by setting the Radio Cause value to \"Cell
reselection ordered\".
4) the BSS is preparing to order the MS to perform a cell-reselection to a new
cell and internal re-routing of packets to the new cell is not possible.
This condition is signalled by setting the Radio Cause value to \"Cell
reselection preparation\".
5) the BSS has detected that the packet cell change order has failed.
This condition is signalled by setting the Radio Cause value to \"Cell
reselection failure\".
Conditions 1) and 2) indicate that attempts to communicate between an MS and
an SGSN via this cell should be suspended or abandoned. An SGSN shall stop
sending LLC-PDUs to the cell for the MS. The criteria for deciding whether
condition 1) or 2) has occurred is not in the scope of the present document.
The conditions for resuming a suspended or abandoned communication between an
MS and SGSN are defined in 3GPP TS 24.008.
Condition 3) indicates that the SGSN should wait for a cell update before
resuming the transmission of LLC-PDUs to the BSS.
Condition 4) indicates that the SGSN shall suspend downlink transmission of
LLC-PDUs. This condition shall only be signalled if the Enhanced Radio Status
feature has been negotiated. For this condition the SGSN shall wait for
either:
a) a cell update from the MS in a new Cell . In this case the SGSN should
resume downlink transmission in the new Cell.
b) or a new RADIO-STATUS PDU from the BSS with a different Radio Cause value.
In this case the SGSN should follow the procedures specified for that Radio
Cause value.
Condition 5) indicates that the SGSN shall resume the transmission of LLC-PDUs
to the BSS in case the downlink transmission has been suspended. This
condition shall only be signalled if the Enhanced Radio Status feature has
been negotiated.A BSS shall signal these exception conditions to an SGSN by
sending a RADIO-STATUS PDU. It shall contain a reference to the MS, either
TLLI or TMSI or IMSI, and an indication of the exception condition, i.e. the
Radio Cause value.
After receipt of a RADIO-STATUS PDU with cause value indicating Condition 1-4,
the SGSN may try to locate the mobile station in case any downlink LLC PDU
needs to be sent to the mobile station, as it can not expect to receive
systematically an uplink LLC PDU from the mobile station or a RADIO-STATUS PDU
with cause value indicating Condition 5 from the BSS to resume the downlink
transfer. To this avail, the SGSN should send a PAGING-PS PDU towards the
mobile station.
## 7.4 SUSPEND procedure
If the MS signals to the BSS that it wishes its GPRS service to be suspended,
the BSS shall send a SUSPEND PDU to the SGSN and start timer T3. Actions
within the SGSN while an MS is suspended are not specified, but paging is
typically stopped. The SUSPEND PDU contains:
\- the TLLI of the MS; and
\- the Routeing Area of the MS as received in the Layer 3 Um interface message
GPRS Suspension Request (see 3GPP TS 44.018).
For each SUSPEND PDU received by an SGSN, a SUSPEND-ACK PDU shall be returned
to the BSS. Upon reception of the SUSPEND-ACK PDU, the BSS shall stop T3. The
SUSPEND-ACK PDU contains:
\- the TLLI of the MS as received in the SUSPEND PDU;
\- the Routeing Area of the MS as received in the SUSPEND PDU; and
\- the Suspend Reference Number.
The SGSN generates the Suspend Reference Number in a manner that it enables it
to differentiate between different SUSPEND PDUs relating to the same MS.
### 7.4.1 Abnormal conditions
If a SUSPEND-ACK PDU is not received for a SUSPEND PDU within T3 seconds, then
the SUSPEND PDU procedure shall be repeated a maximum of SUSPEND-RETRIES
attempts. After SUSPEND-RETRIES attempts the procedure is stopped and the O&M
system is informed.
If a SUSPEND-ACK PDU is received for an MS that is already marked as
suspended, then the SUSPEND-ACK PDU is ignored.
If a SUSPEND PDU refers to an MS which is unknown in the SGSN, then a SUSPEND-
NACK PDU is returned containing a cause value (Cause value: Unknown MS). The
BSS shall stop the SUSPEND procedure.
If the Suspend procedure is supported on the Gn interface, in case of an
inter-SGSN suspend procedure the MS shall not be treated as unknown in the
SGSN when the RA indicated in the SUSPEND PDU is not served by the SGSN.
## 7.5 RESUME procedure
When the reason why a GPRS-attached MS was suspended disappears, i.e.:
\- it leaves dedicated mode, disconnecting the MS from the MSC; or
\- it is handed over to a cell that supports DTM;
the BSS shall either a) instruct the MS to initiate the Routeing Area Update
procedure, or b) signal to the SGSN that an MS\'s GPRS service shall be
resumed.
If the BSS executes a), then no further action is required.
If the BSS executes b), then the BSS shall send a RESUME PDU containing the
same Suspend Reference Number received in the SUSPEND-ACK PDU to the SGSN and
start timer T4. The RESUME PDU contains:
\- the TLLI of the MS;
\- the Routeing Area of the MS; and
\- the Suspend Reference Number.
For each RESUME PDU received by an SGSN, a RESUME-ACK PDU shall be returned to
the BSS. Upon reception of the RESUME-ACK PDU, the BSS shall stop T4. The
RESUME-ACK PDU contains:
\- the TLLI of the MS; and
\- the Routeing Area of the MS.
### 7.5.1 Abnormal conditions
If a RESUME-ACK PDU is not received for a RESUME PDU within T4 seconds, then
the RESUME PDU procedure shall be repeated a maximum of RESUME-RETRIES
attempts. After RESUME-RETRIES attempts the procedure is stopped, the O&M
system is informed and the MS shall be instructed to initiate the Routeing
Area Update procedure.
If a RESUME-ACK PDU is received for an MS that is not suspended, then the
RESUME-ACK PDU is ignored.
If a RESUME PDU refers to an MS which is unknown in the SGSN, then a RESUME-
NACK PDU is returned containing a cause value (Cause value: Unknown MS). The
BSS shall stop the RESUME procedure and the MS shall be instructed to initiate
the Routeing Area Update procedure.
## 7.6 MS Registration Enquiry
### 7.6.1 General
This procedure shall be supported by a BSS if it supports CS/PS coordination
enhancements in a MOCN configuration (see sub-clause 6.6) or in a GWCN
configuration (see sub-clause 6.7).
The purpose of the MS Registration Enquiry procedure is to aquire registration
information for a given MS from the core network. More precisely, triggered
e.g. by the Rerouting procedure in the CS domain (see 3GPP TS 48.008 [14]),
the BSS sends an enquiry to the SGSN(s) whether a given MS is already
registered with any of the core network operators in the shared network.
### 7.6.2 Registration enquiry
The MS Registration Enquiry procedure is triggered by the BSS sending the MS
REGISTRATION ENQUIRY message to the SGSN containing the IMSI for the MS for
which the registration enquiry concerns.
To avoid a possible change of serving operator when the MS performs inter-RAT
mobility from E-UTRAN to GERAN (see 3GPP TS 23.251 [43]), the MS registration
enquiry may also need to be sent from the SGSN to the MME of the same CN
operator. For this reason the BSS includes the MME Query indicator in the MS
REGISTRATION ENQUIRY message.
The MS REGISTRATION ENQUIRY message is sent to each SGSN connected to the BSS.
However, in order to minimise the signalling in the core network, the MME
Query indicator shall only be included in one of the MS REGISTRATION ENQUIRY
messages addressing the same CN operator.
The SGSN responds with the MS REGISTRATION ENQUIRY RESPONSE message indicating
whether the MS is served by (one of) the CN operator(s) sharing the network.
### 7.6.3 Registration response
If the MS is found to be registered with (one of) the CN operator(s) sharing
the network, the SGSN shall return the MS REGISTRATION ENQUIRY RESPONSE
message to the BSS with the IMSI and the PS Registered Operator IE (containing
the serving CN operator) included in the message.
If the MS is not registered with (any of) the sharing CN operator(s), the SGSN
excludes the PS Registered Operator IE from the MS REGISTRATION ENQUIRY
RESPONSE message.
Upon reception of the MS REGISTRATION ENQUIRY RESPONSE message with the PS
Registered Operator IE included in the message, the BSS may terminate the MS
Registration Enquiry procedure regardless if one or more SGSNs have not yet
responded to the MS REGISTRATION ENQUIRY message.
# 8 Signalling procedures between NM SAPs
## 8.1 FLUSH-LL (logical link) procedure
When an SGSN detects a cell change of an MS from a cell update or a routing
area update, the SGSN shall send a FLUSH-LL PDU to the old BVC to initiate the
following procedures:
\- at a cell change within one NSE (e.g. the BSS is a NSE) and within one
routing area, LLC-PDU(s) for a given TLLI stored at an \"old\" BVCI
(corresponding to the old cell) are either deleted or transferred to a \"new\"
BVCI (corresponding to the new cell) with which the TLLI is currently
associated; or
\- at a cell change between two NSEs within one routing area, LLC PDU(s) for a
given TLLI stored at an \"old\" BVCI (corresponding to the old cell) are
either deleted or transferred to a \"new\" BVCI (corresponding to the new
cell) with which the TLLI is currently associated. In that case, transferring
of LLC PDU(s) can only be requested by the SGSN if the NSE underlying the
\"old\" BVCI indicated support for the \"Inter-NSE re-routing\";
\- at a cell change within the same routing area, and within one NSE or
between two NSEs, the on-going location procedure, if any, is either
maintained in the BSS after the cell reselection or aborted by the BSS towards
the SMLC; or
\- at a cell change between two routing areas, LLC-PDU(s) stored at the
\"old\" BVCI for the TLLI are deleted.
The SGSN provides the BSSGP with:
\- a MS\'s TLLI identifying the MS;
\- the \"old\" BVCI identifying the cell in which to find buffered LLC-PDU(s)
for the MS;
\- the \"new\" BVCI identifying the cell to which the MS is currently
associated (only when within the same routing area); and
\- if the SGSN supports \"Inter-NSE re-routing\" or \"LCS Procedures\" and the
old NSE supports the \"Inter-NSE re-routing\" or \"LCS Procedures\", the
\"new\" NSEI identifying the cell to which the MS is currently associated
(only when within the same routing area but between two NSEs). The NSEI
associated to the \"old\" BVCI shall be assumed if the \"new NSEI\" field is
not provided.
If there is a BSS context for the MS in the \"old\" BVCI and there is a
\"new\" BVCI in the FLUSH-LL PDU, the BSS shall interpret this as a request to
transfer the BSS context to the new cell. The BSS shall assume that the ABQP
that was negotiated for each PFC in the \"old\" BVCI is requested in the
\"new\" BVCI by the SGSN. Also, the values of the Packet Flow Timer and the
Service UTRAN CCO Information Elements should be kept for each transferred
PFC. If, when receiving the BSS context at the \"new\" BVCI, the BSS has
already obtained the information related to one or several PFC(s) from the
SGSN by means of the Create BSS PFC procedure (see sub-clause 8a.1), then the
BSS shall disregard the information corresponding to this (these) PFC(s)
within the BSS context transferred from the \"old\" BVCI. If a Create BSS PFC
procedure is ongoing when receiving the BSS context at the \"new\" BVCI, the
BSS shall either apply the received information or carry on with the currently
used ABQP until the procedure completes.
If a \"new\" BVCI is not provided, then the FLUSH-LL PDU shall be interpreted
as an instruction to delete the queued LLC-PDU(s) at the old BVC, and also to
delete the BSS context associated to the MS identified by the TLLI, if any
exists in the \"old\" BVCI.
Queued BSSGP signalling, e.g. pages, shall not be affected by this procedure.
In response to a FLUSH-LL PDU the BSS shall send a FLUSH-LL-ACK PDU to the
SGSN containing:
\- the TLLI received in the FLUSH-LL PDU;
\- an indication of whether the LLC-PDU(s) were \"transferred\" or
\"deleted\". In case the SDUs were \"transferred\" the BVCI (new) IE, and the
NSEI (new) IE if present in the FLUSH-LL PDU, shall be included;
\- the number of octets that have been transferred or deleted.
NOTE: In situations where the BSS was unable to transfer the queued LLC-PDUs
upon a transfer request from the SGSN, the BSS may indicate in the FLUSH-LL-
ACK PDU a flush action set to \"deleted\" together with the number of octets
actually deleted.
On receipt of a FLUSH-LL-ACK PDU by the SGSN, indicating that the LLC-PDU(s)
associated with the old BVC have been \"deleted\", the SGSN may choose to:
\- immediately retransmit all unacknowledged LLC-PDU(s) (in acknowledged LLC
operation) to the MS at the new BVC (i.e. new cell); or
\- rely on LLC retransmission mechanism to transmit unacknowledged LLC-PDU(s).
On receipt of a FLUSH-LL-ACK PDU by the SGSN, indicating that the LLC-PDU(s)
associated with the old BVC have been \"transferred\", the SGSN shall not take
any of the above actions.
If the \"new\" BVCI could not accept the QoS characteristics of all PFCs of
the BSS context, the BSS context shall still be transferred and the BSS shall
then initiate in the \"new\" BVCI a Modify BSS PFC procedure for each PFC for
which the requested ABQP could not be accepted. The BSS may resume the
transfer of downlink LLC PDU(s) before the Modify BSS PFC procedure is
completed.
In order to avoid desequencing DL LLC PDU (in LLC acknowledged or
unacknowledged operation) during the FLUSH procedure, upon sending a FLUSH-LL
PDU to the BSS requesting the rerouting of DL LLC PDUs to a new cell, the SGSN
should wait for the receipt of the FLUSH-LL-ACK PDU or rely on an internal
guard timer, before starting to transmit subsequent DL LLC PDUs on the new
BVCI. In the case the SGSN does not request the BSS to reroute DL LLC PDUs to
a new cell, it may immediately resume the transmission of subsequent DL LLC
PDUs on the new BVCI, or start the Create BSS PFC procedure, without waiting
for the receipt of the FLUSH-LL-ACK PDU.
### 8.1.1 Abnormal Conditions
If the BSS receives a FLUSH-LL PDU for an unknown BVCI or TLLI not associated
with the given BVCI, then the FLUSH-LL PDU is discarded and no FLUSH-LL-ACK
PDU is returned.
If the SGSN does not receive a FLUSH-LL-ACK PDU in response to a FLUSH-LL PDU,
no further action is taken.
## 8.2 Flow Control procedure
### 8.2.1 General model of operation
From the perspective of the BSSGP, the flow control mechanism is based on the
following model:
\- there is a downlink buffer for each BVC, as identified by a BVCI, in a BSS;
\- the transfer of BSSGP UNITDATA PDUs for an MS from the SGSN is controlled
by the BSS; and
\- only downlink BSSGP UNITDATA PDU transfer to the BSS is managed via flow
control procedures. Uplink flow control is not performed.
### 8.2.2 Mode of operation
The flow control mechanism manages the transfer of BSSGP UNITDATA PDUs sent by
the SGSN on the Gb interface to the BSS.
The BSS shall control the flow of BSSGP UNITDATA PDUs to its BVC buffers by
indicating to the SGSN the maximum allowed throughput in total for each BVC.
The BSS shall control the flow of BSSGP UNITDATA PDUs to the BVC buffer for an
individual MS by indicating to the SGSN the maximum allowed throughput for a
certain TLLI. If the PFC Flow Control feature is negotiated, the BSS may
control the flow of BSSGP UNITDATA PDUs to the BVC buffer for a certain PFC of
an individual MS by indicating to the SGSN the maximum allowed throughput for
a certain PFI.
If the Gigabit Interface feature has been negotiated, the granularity of the
Flow Control related information elements such as the _BVC Bucket Size_ IE,
the _BVC Bucket Leak Rate_ IE and the _PFC flow control parameters_ IE shall
be indicated through the _Flow Control Granularity_ IE included in the same
PDU (see sub-clauses 10.4.4, 10.4.6 and 10.4.24).
The BSS uses flow control to adjust the flow of BSSGP UNITDATA PDUs to a BVC
buffer. The amount of buffered BSSGP UNITDATA PDUs in the BSS should be
optimised to efficiently use the available radio resource. The volume of
buffered BSSGP UNITDATA PDUs for a BVC or MS or PFC should be low. BSSGP
UNITDATA PDUs queued within the BSS that are not transferred across the radio
interface before the PDU Lifetime expires shall be locally deleted from the
BSS. The local deletion of BSSGP UNITDATA PDUs in the BSS shall be signalled
to the SGSN by the transmission of a LLC-DISCARDED PDU.
For each FLOW-CONTROL PDU received by an SGSN, a confirmation shall always be
sent across the Gb interface by the SGSN. The confirmation uses the Tag that
was received in the FLOW-CONTROL PDU, which was set by the BSS to associate
the response with the request. When receiving no confirmation to a FLOW-
CONTROL PDU, the reasons that gave rise to the triggering of a flow control
message may trigger another message, or, if the condition disappears, it may
not. For the repetition of non-confirmed FLOW-CONTROL PDUs, the maximum
repetition rate still applies in the BSS.
### 8.2.3 Flow Control of Traffic from an SGSN to BSS
#### 8.2.3.1 Control of the downlink throughput by the SGSN
The principle of the BSSGP flow control procedures is that the BSS sends to
the SGSN flow control parameters which allow the SGSN to locally control its
transmission output in the SGSN to BSS direction. The SGSN shall perform flow
control on each BVC, on each MS and optionally on each PFC for an MS. The flow
control is performed on each LLCâ€‘PDU first by the PFC flow control mechanism
if applicable and if negotiated, then by the MS flow control mechanism and
then by the BVC flow control mechanism.
If the PFC Flow Control feature has been negotiated and the LLC-PDU
corresponds to a PFC for which the SGSN has received some flow control
parameters, then the SGSN has to check that the LLC-PDU is passed by the
individual PFC flow control. If it is passed or if the PFC flow control has
not been negotiated, or if it has been negotiated but no flow control
parameter has been received for the PFC corresponding to the LLC-PDU, the SGSN
applies the MS flow control. If passed, the SGSN finally applies the BVC flow
control to the LLC-PDU. If an LLC-PDU is passed by all flow control
mechanisms, the entire LLC-PDU is delivered to the Network Services for
transmission to the BSS (see figure 8.1).
Figure 8.1: BSSGP Flow control
The flow control parameters sent by the BSS to the SGSN consist of the
following information:
\- the bucket size (Bmax) for a given BVC or MS or PFC in the downlink
direction; and
\- the bucket leak rate (R) for a given BVC or MS or PFC in the downlink
direction; and
\- the bucket full ratio for a given BVC or MS or PFC in the downlink
direction, if the Current Bucket Level (CBL) feature is negotiated.
NOTE: The information for a given PFC is only received if the PFC flow control
feature is negotiated.
The SGSN shall perform flow control on an individual MS using SGSN determined
values of Bmax and R unless it receives a FLOW-CONTROL-MS PDU from the BSS
regarding that MS. The SGSN shall continue to perform flow control for a
particular MS using the Bmax and R values received from the BSS for at least
Th seconds after receiving a FLOW-CONTROL-MS PDU from the BSS regarding that
MS. When timer Th has expired or when the MS changes cells, the SGSN may
reinitialise the SGSN internal flow control variables for that MS and begin to
use SGSN generated values for Bmax and R.
The SGSN shall start performing flow control on a given PFC for an individual
MS as soon as it receives the first FLOW-CONTROL-PFC PDU for that PFC and the
feature has been negotiated; it shall stop applying PFC flow control for a
given PFC of an individual MS as soon as it receives subsequently a FLOW-
CONTROL-MS PDU for that MS or if more than Tf seconds have elapsed since the
last FLOW-CONTROL-PFC PDU was received for that PFC. When the MS changes
cells, the SGSN shall stop performing flow control per PFC, until it receives
a FLOWâ€‘CONTROL-PFC PDU .
In case the MS flow control parameters needs to be updated and the PFC flow
control feature is negotiated and the PFC flow control parameters for that MS
remains unchanged then the FLOW-CONTROL-PFC PDU is used by the BSS to update
the MS flow control parameters. The \"Number of PFCs\" IE within the \"PFC
Flow Control parameters\" IE shall be set to \"0\" in this case.
The BSSGP flow control model is the algorithm shown in Figure 8.2. The model
of the algorithm is that an LLC-PDU is passed by the algorithm as long as the
bucket counter (B) plus the length of the LLC-PDU does not exceed the bucket
size Bmax. When the LLC-PDU is passed, the LLC-PDU length is added to B. Any
PDU not transmitted is delayed until B plus the LLC-PDU length is less than
Bmax.
#### 8.2.3.2 Flow Control Conformance Definition
A BSSGP flow control algorithm shall be implemented in the SGSN. The BSSGP
flow control conformance algorithm is defined in figure 8.2.
The conformance definition is used to decide which LLC-PDUs are conforming to
the flow to the PFC of an MS, to an MS or in a BSSGP virtual connection (BVC)
over the Gb interface. The conformance definition should not be interpreted as
the required implementation algorithm, as the SGSN manufacturer may use any
algorithm as long as the operation of the BSSGP flow control does not violate
the objectives of compliant BVCs or MSs or PFC. That is, the SGSN shall never
transmit more data than can be accommodated within the BSS buffer for a BVC or
individual MS or for a given PFC of an MS.
{width="6.201388888888889in" height="3.546527777777778in"}
Figure 8.2: Conformance Definition Algorithm for BSSGP Flow Control
The variables used by the algorithm are:
> Bmax Bucket Size. Set by the BSS for each cell and each mobile station and
> optionally for each PFC of an MS. Bmax shall be large enough to accommodate
> at least one LLC-PDU;
>
> R leak rate of the bucket;
>
> B bucket counter;
>
> B* predicted value of the bucket counter;
>
> L(p) length of LLC-PDU p;
>
> Tp the time that the last LLC-PDU p was transferred; and
>
> Tc arrival time of LLC-PDU p.
The initial conditions of these variables in the SGSN are:
\- Bmax = 0 for BVCs or MSs. For BVCs, this value is valid until Bmax is
received in the FLOW-CONTROL-BVC. For MSs, this value is valid until
Bmax_default_ MS is received in the FLOW-CONTROL-BVC PDU. Thereafter, sub-
clause 8.2.3.6, shall apply;
\- Bmax = 0 for PFCs until a FLOW-CONTROL-BVC PDU is received for the cell in
which the PFC is running. Thereafter, Bmax for a PFC shall not be greater than
Bmax of the corresponding MS until PFC flow control applies for the PFC. As
long as PFC flow control applies, Bmax shall then not be greater than the
value of Bmax provided in the latest valid FLOW-CONTROL-PFC PDU ;
\- R = 0 for BVC or MSs. For a BVC, this value is valid until a FLOW-CONTROL-
BVC PDU is received. For an MS, this value is valid until a FLOW-CONTROL-BVC
PDU is received. Thereafter, sub-clause 8.2.3.6 shall apply;
\- R = 0 for PFCs until a FLOW-CONTROL-BVC PDU is received for the cell in
which the PFC is running. Thereafter, R for a PFC shall not be greater than R
of the corresponding MS until PFC flow control applies for the PFC. As long as
PFC flow control applies, R shall then not be greater than the value of R
provided in the latest valid FLOW-CONTROL-PFC PDU ;
\- B = 0 (the bucket is empty); and Tp = the current time for the first LLC-
PDU.
The SGSN shall not transmit a LLC-PDU on a BVC until a FLOW-CONTROL-BVC PDU is
received from the BSS for that BVC.
When a LLC-PDU p arrives at current time Tc, the variable B* is set to the
predicted bucket size if the LLC-PDU were to be transferred to the BSS. This
is given by the previous bucket size plus the new LLC-PDU size, B* = B + L(p),
less the amount that the bucket will have leaked away since the last compliant
LLC-PDU, R x (Tc - Tp). If this is less than L(p) then the LLC-PDU is
compliant and the bucket size B is reset to L(p) and the LLC-PDU is passed.
When a compliant LLC-PDU is passed the last LLC-PDU transfer time is set to
the current time, Tp = Tc.
If the bucket has not completely leaked away then the bucket has to be checked
to see if the limit Bmax is going to be exceeded, B* > Bmax. If the limit is
exceeded then the LLC-PDU is non compliant and is delayed for some time
period, and no updates are done on the variables. If the bucket limit Bmax is
not exceeded then the LLC-PDU is compliant and the bucket counter (B) is set
equal to the value of B*. When a conforming LLC-PDU is passed then the last
LLC-PDU transfer time is set to the current time, Tp = Tc.
On receipt of a FLUSH-LL-ACK PDU by the SGSN, indicating that the LLC-PDU(s)
associated with the old BVC have been \"deleted\", the SGSN should update the
value of the bucket counter (B) for the MS and for the old BVC, B = max (B -
N, 0). N is provided by FLUSH-LL-ACK PDU, indicating the number of octets
deleted by the BSS.
On receipt of a FLUSH-LL-ACK PDU by the SGSN, indicating that the LLC-PDU(s)
associated with the old BVC have been \"transferred\" within the NSE, the SGSN
should update the value of the bucket counter (B) for the old BVC, B = max (B
- N, 0). The value of B for the new BVC should also be updated, B = min (B +
N, Bmax). N is provided by FLUSH-LL-ACK PDU, indicating the number of octets
transferred by the BSS.
On receipt of a LLC-DISCARDED PDU by the SGSN, indicating that the LLC-PDU(s)
associated with the MS or the PFC of an MS have been locally deleted by the
BSS, the SGSN should update the value of the bucket counter (B) for the MS or
the PFC and for the BVC, B = max (B - N, 0). N is provided by LLC-DISCARDED
PDU, indicating the number of octets deleted by the BSS.
The BSS may update the values of Bmax and R within the SGSN at any time by
transmitting a new Flow Control PDU containing the new Bmax and R values. The
variables B, B*, Tp and Tc are local to the SGSN and are not affected by the
reception of a Flow-Control-BVC or Flow Control-MS PDU.
If the Current Bucket Level (CBL) feature is negotiated, the SGSN shall update
the variable B based upon the Bucket_Full_Ratio information element received
in the Flow Control PDU. During the time period when SGSN does not receive a
Flow Control PDU, it shall continue computing the bucket counter (B) as
defined above.
#### 8.2.3.3 Response time within the SGSN to flow control messages
Upon reception of flow control requests from a BSS, the SGSN shall modify its
downlink transmission as instructed within 100 ms.
#### 8.2.3.4 Frequency of sending BVC or MS or PFC Flow Control PDUs
The rate at which the BSS is allowed to send flow control PDUs for a given BVC
or MS or PFC is limited and defined by the following rule: the BSS may send a
new Flow Control PDU every C seconds, where C is a value which is preâ€‘defined
and common to the BSS and SGSN.
If the BSS detects a missing FLOW-CONTROL-ACK PDU from the SGSN and the
condition which causes the sending of a FLOW-CONTROL PDU still remains, the
FLOW-CONTROL PDU may be retransmitted immediately. In this case the BSS may
violate the repetition rate defined by the C value.
After a BVC reset procedure, the BSS may send a BVC-BLOCK PDU. Otherwise, the
BSS shall send a BVC-FLOW-CONTROL PDU. When the blocked BVC is unblocked, a
BVC-FLOW-CONTROL PDU shall be sent.
#### 8.2.3.5 FLOW-CONTROL PDUs
Based on the criteria for flow control, a BSS shall send to an SGSN a FLOW-
CONTROL PDU containing a list of IEs.
For BVC Flow Control, the following information is sent:
\- the maximum bucket size (Bmax) for the BVC on the Gb Interface;
\- the leak rate parameter (R) to be applied to the bucket;
\- the bucket full ratio to resynchronize the bucket counter for the BVC, if
the Current Bucket Level (CBL) feature is negotiated;
\- the default MS bucket size (Bmax_default_MS);
\- the default MS leak rate (R_default_MS); and
\- the optional measurement of the delay for PDU delivery inside that BVC.
For MS Flow Control, the following information is sent:
\- the TLLI identifying the MS;
\- the maximum bucket size (Bmax) for this MS on the Gb interface;
\- the leak rate parameter (R) to be applied to the bucket; and
\- the bucket full ratio to resynchronize the bucket counter for the MS, if
the Current Bucket Level (CBL) feature is negotiated.
For PFC Flow Control, the following information is sent:
\- the TLLI identifying the MS;
\- the maximum bucket size (Bmax) for this MS on the Gb interface (optional);
\- the leak rate parameter (R) to be applied to the bucket (optional);
\- the bucket full ratio to resynchronize the bucket counter for the MS, if
the Current Bucket Level (CBL) feature is negotiated (optional);
\- the number of PFCs for which flow control parameters are included;
for each PFC:
\- the PFI identifying the PFC for that MS;
\- the maximum bucket size (Bmax) for this PFC on the Gb interface;
\- the leak rate parameter (R) to be applied to the bucket;
\- the bucket full ratio to resynchronize the bucket counter for the PFC, if
the Current Bucket Level (CBL) feature is negotiated.
NOTE: The supply of the MS flow control parameters inside the FLOW-CONTROL-PFC
PDU allows the SGSN utilising the most up-to-date parameters both for PFC and
MS flow control. Also, because the receipt of a FLOW-CONTROL-MS PDU notifies
the end of PFC flow control for a given MS, if the MS flow control parameters
have changed since the last update, then it is necessary to provide the MS
flow control parameters inside the FLOW-CONTROL-PFC PDU.
#### 8.2.3.6 Condition of Bmax for MS after Initial Flow-Control-BVC
The SGSN may use the following (informative) equation to generate an initial
bucket size, Bmax, for an MS.
Bmax (bits) = min (R_default_MS for 1 s, 72 000, max MS throughput for 1 s,
(max MS throughput for 1 s + current throughput of all other MSs in the cell
for 1 s) / number of MSs in the cell)
where, the number of MSs in the cell includes the MS being added.
Under no circumstance shall the SGSN use a value of Bmax greater than
Bmax_default_MS for an MS unless it receives a FLOW-CONTROL-MS PDU from the
BSS for that MS.
The SGSN shall not use a leak rate (R) for an MS greater than R_default_MS
unless it receives a FLOW-CONTROL-MS PDU from the BSS for that MS.
### 8.2.4 Flow Control of Uplink Traffic from a BSS to an SGSN
No flow control procedures are defined between the BSS and the SGSN in uplink
direction.
## 8.3 BVC blocking and unblocking procedure
### 8.3.1 PTP BVC
The following statement applies only for PTP BVC.
The BVC blocking and unblocking procedures are initiated by the BSS to remove
from use, or bring in to use, a BVC.
A BSS may block one BVC because of:
\- operation and Maintenance intervention for a cell;
\- equipment failure at the BSS;
\- cell equipment failure at the BSS; or
\- other causes not regarded in phase 1 of the implementation of GPRS (Cause
Value: \"reserved for future use\").
When a BSS wishes to block a BVC, the BSS shall mark that BVC as blocked,
thereafter discarding any traffic sent to the BVC in the uplink direction. The
cell associated with the BVC should not accept data in the downlink direction.
The BSS shall send a BVC-BLOCK PDU to the SGSN and start timer T1. The BVC-
BLOCK PDU contains:
\- the BVCI of the BVC to be blocked; and
\- a Cause element indicating the reason for blocking (typical cause values:
O&M intervention, Equipment failure).
On receipt of a BVC-BLOCK PDU, the SGSN shall mark the indicated BVC as
blocked and stop transmitting traffic addressed to this BVC. The SGSN shall
then acknowledge the blocking of the BVC by sending a BVC-BLOCK-ACK PDU to the
BSS.
The BVC-BLOCK-ACK PDU contains the BVCI received in the BVC-BLOCK PDU.
On receipt of the BVC-BLOCK-ACK PDU the BSS shall stop timer T1.
The BVC shall be seen as blocked by an SGSN until a BVC-UNBLOCK PDU is
received indicating that the BVC\'s status has changed.
During the BVC blocking procedure, traffic in transit to or from a cell is in
an indetermined state and may be lost. When unblocking a BVC both the BSS and
SGSN shall be in an operational state, i.e. the underlying network service and
the BVC shall be available for use.
If a BSS wishes to unblock a blocked BVC it shall send a BVC-UNBLOCK PDU, and
start timer T1.
The BVC-UNBLOCK PDU contains:
\- the BVCI of the BVC to be unblocked.
If a BVC-UNBLOCK PDU is received by an SGSN for a blocked BVC, the BVC shall
be marked as unblocked and a BVC-UNBLOCK-ACK PDU shall be returned to the BSS,
containing the BVCI received in the BVC-UNBLOCK PDU.
The BSS shall stop timer T1 on receipt of the BVC-UNBLOCK-ACK PDU and mark the
BVC as unblocked.
### 8.3.2 Signalling BVC
The blocking and unblocking procedure is not applicable for the signalling
BVC. The signalling BVC shall never be blocked.
### 8.3.3 Abnormal Conditions
The following statements apply only for a signalling BVC.
If a BVC-BLOCK PDU is received by an SGSN for the signalling BVC, the PDU is
ignored.
If a BVC-BLOCK-ACK PDU is received by a BSS for the signalling BVC, the PDU is
ignored.
If BVC-UNBLOCK PDU is received by an SGSN for the signalling BVC, the PDU is
ignored.
If BVC-UNBLOCK-ACK PDU is received by an BSS for the signalling BVC, the PDU
is ignored.
The following statements apply only for PTP BVC.
If a BVC-BLOCK-ACK PDU is not received for a BVC-BLOCK PDU within T1 seconds,
then the BVC-BLOCK PDU procedure shall be repeated a maximum of BVC-BLOCK-
RETRIES attempts. After BVC-BLOCK-RETRIES attempts the BVC remains blocked,
the procedure is stopped and the O&M system is informed.
If a BVC-UNBLOCK-ACK PDU is not received for a BVC-UNBLOCK PDU within T1
seconds, then the BVC-UNBLOCK PDU procedure shall be repeated a maximum of
BVC-UNBLOCK-RETRIES attempts. After BVC-UNBLOCK-RETRIES attempts the status of
the BVC remains blocked, the procedure is stopped and the O&M system is
informed.
If traffic is received on a BVC that is marked at a BSS or at an SGSN as
blocked, and no BVC-Unblocking procedure is pending, the received PDU shall
not be accepted and a STATUS PDU (Cause value: BVC blocked) shall be sent to
the peer entity on the signalling BVC. The STATUS PDU shall indicate the BVCI
of the BVC upon which the error was detected.
If a BVC-BLOCK PDU is received by an SGSN for a blocked BVC, a BVC-BLOCK-ACK
PDU shall be returned.
If a BVC-UNBLOCK PDU is received by an SGSN for an unblocked BVC, a BVC-
UNBLOCK-ACK PDU shall be returned.
If an unexpected BVC-BLOCK-ACK PDU is received by a BSS, and it is related to
a BVC that is locally blocked, the BVC-BLOCK-ACK PDU is discarded. If the BVC-
BLOCK-ACK PDU is related to a BVC that is not locally blocked, then a BVC
unblock procedure shall be performed.
If an unexpected BVC-UNBLOCK-ACK PDU is received by a BSS and it is related to
a BVC that is locally not blocked, the BVC-UNBLOCK-ACK PDU is discarded. If
the BVC-UNBLOCK-ACK PDU is related to a BVC that is locally blocked, then a
BVC block procedure shall be performed.
## 8.4 BVC-RESET procedure
The purpose of the BVC-RESET procedure is to synchronise the initialisation of
GPRS BVC related contexts at a BSS and SGSN. This enables the BSS and SGSN to
begin communication in known states. A BVC-RESET procedure is performed
because of recovery procedures related to:
\- a system failure in the SGSN or BSS that affects GPRS BVC functionality
(e.g. processor recovery);
\- an underlying network service system failure; or
\- a change in the transmission capability of the underlying network service,
where the \"change\" is from zero kbps to greater-than-zero kbps;
\- a change in mapping between the BVCI and cell identifier.
The BSS may also send BVC-RESET as a means to create the initial mapping
between BVCIs and cell identifications.
After any of the possible events stated above, the status of the affected BVCs
may be inconsistent at the SGSN and the BSS. After performing the BVC Reset
procedure all affected BVCs are assumed to be unblocked at the SGSN. The reset
procedure forces a consistent state upon SGSN and BSS by requiring that after
the completion of the BVC-Reset procedure the BSS initiates the block
procedure for all affected BVCs that are marked as blocked at the BSS.
Before a BSS (or SGSN) sends a BVC-RESET PDU, the operational status of the
associated network service shall be obtained by the BSS (or SGSN).
If the associated network service is operational, the BSS (or SGSN) shall send
a BVC-RESET PDU to its peer entity and start timer T2. The BSS (or SGSN) may
receive BVC related signalling and UNITDATA PDUs before the procedure is
acknowledged, but shall not transmit PDUs.
If the associated network service is not operational, the BVC-RESET procedure
is postponed until internal periodic status checks indicate that it is
operational.
The BVC-RESET PDU contains:
\- the BVCI of the reset BVC;
\- a cause element indicating the reason for reset;
\- the cell identifier, when the reset is for a PTP BVC and BSS is initiator
of the reset;
\- feature bitmap, when the reset is for a signalling BVC.
After the SGSN (or BSS) has initialised all affected GPRS related contexts, a
BVC-RESET-ACK PDU is returned.
The BVC-RESET-ACK PDU contains:
\- the BVCI of the reset BVC;
\- the cell identifier, when the reset is for a PTP BVC and SGSN is initiator
of the reset.
Upon reception by a BSS (or SGSN) of the BVC-RESET-ACK PDU the timer T2 is
stopped.
### 8.4.1 Signalling BVC
After any failure affecting the NSE, the party (BSS or SGSN) where the failure
resided shall reset the signalling BVC. After sending or receiving a BVC-RESET
PDU for the signalling BVC, the BSS shall stop all traffic and initiate the
BVC-RESET procedure for all BVCs corresponding to PTP functional entities of
the underlying network service entity. The BSS must complete the BVC-RESET
procedure for signalling BVC before starting PTP BVC-RESET procedures.
The Feature bitmap is sent to identify the optional features that can be
supported by the network service entity. After completion of the signalling
BVC-RESET procedure both entities shall locally determine the common set of
optional features supported by both NSEs. This is done by performing the bit
AND operation of the received Feature bitmap with its own Feature bitmap.
If the Feature bitmap IE is missing in a signalling BVC-RESET or BVC-RESET-ACK
PDU or if the result of the AND operation is \'0\' then no optional features
are activated.
After sending or receiving a BVC-RESET PDU for the signalling BVC, the SGSN
shall stop all traffic in the PTP BVCs of the corresponding NSE.
### 8.4.2 PTP BVC
After any failure affecting only part of the BVC functionality not including
the signalling BVC the party where the failure resided shall reset only the
affected BVCs.
If the BSS was the initiator of the BVC-RESET procedure, the BSS may initiate
the blocking procedure upon receipt of a BVC-RESET-ACK PDU. If the SGSN was
the initiator of the BVC-RESET procedure while the affected BVC is marked as
blocked at the BSS side, the BSS shall initiate the BVC-Blocking procedure
after having returned the BVCâ€‘RESET-ACK PDU to the SGSN.
Upon reception of a BVC-RESET PDU, the SGSN (or BSS) shall discard UNITDATA
PDUs addressed to the reset BVC.
After reset of a PTP BVC, UNITDATA PDUs addressed to the BVC may then be
received and transmitted, unless it is blocked.
### 8.4.3 Abnormal Conditions
The following statements are valid for both signalling and PTP BVC.
If a BSS (or SGSN) sends a BVC-RESET PDU to an SGSN (or BSS) and the BVC-
RESET-ACK PDU is not returned within a period T2, the BVC-RESET procedure
shall be repeated a maximum of BVC-RESET-RETRIES attempts. After BVC-RESET-
RETRIES attempts the procedure is stopped and the O&M system is informed. In
case of PTP BVC, the status of all affected BVCs at the BSS (or SGSN) shall be
blocked as a consequence.
If the BSS receives a BVC-RESET PDU for a BVCI which is unknown in the BSS,
then the BSS shall return a STATUS PDU towards the SGSN including the BVCI and
the cause value \'BVCI unknown\'.
If the BSS (or SGSN) has sent a BVC-RESET PDU for a BVCI to the SGSN (or BSS)
and is awaiting a BVC-RESET-ACK PDU in response, but instead receives a BVC-
RESET PDU indicating the same BVCI, then this shall be interpreted as a BVC-
RESET ACK PDU and the T2 timer shall be stopped.
The BVC_RESET for signalling BVC overrides all pending procedures for PTP BVC,
i.e. other pending procedures are stopped and corresponding running timers are
stopped.
If the BSS (or SGSN) receives an unexpected BVC-RESET ACK PDU, this shall be
ignored.
If the BSS has sent a BVC-UNBLOCK PDU and receives a BVC-RESET PDU before the
BVC-UNBLOCK-ACK PDU has been received from the SGSN, then the BSS shall
consider the corresponding BVC marked as unblocked.
## 8.5 Trace procedure
The purpose of the trace invocation procedure is to inform the receiving
entity that it should begin producing a trace record on an MS. The trace is
invoked by an SGSN by sending an SGSN-INVOKE-TRACE PDU to the peer entity. The
SGSN-INVOKE-TRACE PDU is not acknowledged.
The events and parameters to be recorded are indicated in the \"Trace type\"
information element are defined in 3GPP TS 32.008.
The remaining elements, when received, are to be passed transparently to the
OMC receiving the trace record.
The element \"OMCId\", if present, indicates the OMC to which the record is
destined.
The PDU includes a trace reference which is allocated by the entity which
triggered the trace.
The element \"TriggerId\", if present, indicates the entity which triggered
the trace.
The Trace Reference and TriggerId IEs are used to tag the trace record to
allow simpler construction of the total record by the entity which combines
trace records.
## 8.6 Overload Control procedure
### 8.6.1 General
This procedure is defined to control the traffic to the SGSN from BSC when the
SGSN is in an overload situation.
The philosophy used at BSS side is:
\- If T15 is not running and an OVERLOAD PDU including the _Priority Class
Indicator_ IE is received, then traffic for the indicated priority class
should be reduced by one step. At the same time, timers T15 and T16 should be
started.
\- During T15, all received OVERLOAD PDU should be ignored.
\- If T16 expires, the traffic should be increased by one step and T16 should
be re-started unless full load has been resumed.
\- The number of steps and the method of reducing/increasing the load are
considered to be an implementation specific function.
### 8.6.2 Overload Operation
The SGSN could indicate to the BSS that it is in a congested state by sending
an OVERLOAD PDU and request the BSS to reduce the traffic for the category of
MSs indicated in the _Priority Class Indicator_ IE.
The BSS receiving the OVERLOAD PDU shall assume the SGSN sending the PDU as
being in an overloaded state and reduce the traffic to the SGSN using the
algorithm described in sub-clause 8.6.1.
The amount of traffic could be reduced by using the Access Control Class in
the system information message defined in 3GPP TS 44.018. However it is
implemention specific regarding how the BSS reduces the traffic in response to
receiving an OVERLOAD PDU.
# 8a Signalling procedures between PFM SAPs
## 8a.1 Create BSS PFC procedure
### 8a.1.0 General
If the BSS receives a request to transfer an uplink or downlink LLC PDU for
which it currently does not have a BSS packet flow context and the PFI does
not indicate best-effort or SMS or TOM8 or signalling then the BSS should send
a DOWNLOAD-BSS-PFC PDU to the SGSN and start timer T6. In the uplink case the
TLLI, optional Radio Priority, and optional Packet Flow ID are received from
the MS as defined in 3GPP TS 44.060. Until the BSS receives the BSS PFC the
BSS shall handle uplink and downlink transfers according to a best-effort
default aggregate BSS QoS profile. For uplink transfers the best-effort
default profile is specific to the radio priority level.
If the BSS receives a request to transfer an uplink or downlink LLC PDU
associated to a PFI indicating best-effort or SMS or TOM8 or signalling then
the BSS may handle the corresponding transfer according to an operator-defined
aggregate BSS QoS profile. Indeed the latter cannot be negotiated with the
SGSN for those flows. It is also up to the implementation what
Allocation/Retention Priority is granted to those flows.
If the BSS does not receive a PFI from the MS, e.g. from a R97 or R98 MS, the
BSS shall not send a DOWNLOAD-BSS-PFC PDU to the SGSN. In this case the QoS
Profile IE is utilized instead.
Following a DOWNLOAD-BSS-PFC PDU if there is not an ongoing Delete PFC
procedure for that corresponding PFI, the SGSN shall send a CREATE-BSS-PFC PDU
to the BSS with a requested Aggregate BSS QoS Profile and start timer T7. On
receipt of CREATE-BSS-PFC PDU the BSS stops timer T6 and responds with a
CREATE-BSS-PFC-ACK PDU containing the negotiated Aggregate BSS QoS Profile.
The BSS may restrict the requested ABQP given its capabilities and the current
load. The SGSN may include the _Service UTRAN CCO_ (Cell Change Order)
information element in the PDU (relevant if the network initiated cell change
order to UTRAN, network initiated cell change order to E-UTRAN, PS handover to
UTRAN or PS Handover to E-UTRAN procedures are used). If this information
element is received in multiple PDUs (either DL-UNITDATA PDU(s), CREATE-BSS-
PFC PDU(s) or PS-HANDOVER-REQUEST PDU(s)), the information element contained
in last received PDU shall take precedence. If there is an ongoing Delete PFC
procedure the SGSN shall not send a CREATE-BSS-PFC-PDU (see subclause 8a.3).
The SGSN may also initiate the Create BSS PFC procedure. It is not required
that the SGSN receive a DOWNLOADâ€‘BSS-PFC PDU before sending a CREATE-BSS-PFC
request.
The CREATE-BSS-PFC PDU may trigger a call admission control algorithm in the
BSS to check whether the requested ABQP can be served. If there is valid MS
Radio Access Capability IE known by the SGSN for the associated MS, the SGSN
shall include it in the CREATE-BSS-PFC PDU. If the MS Radio Access Capability
IE are not present in the request, then the Radio Access Capability Update
procedure may be called.
The BSS may return a CREATE-BSS-PFC-NACK with a cause if it is unable to
create or modify the PFC. On receipt of a CREATE-BSS-PFC-ACK PDU which does
not convey the cause \'PFC queuing\' (cf. sub-clause 8a.1.0a) or of a CREATE-
BSS-PFC-NACK PDU the SGSN shall stop timer T7.
The Packet Flow Timer (PFT) is provided to the BSS by the SGSN. It is defined
as the maximum time the BSS may hold the PFC during periods of inactivity for
a PFC. The timer is started upon the receipt of a CREATE-BSS-PFC PDU and
restarted after the transmission of an uplink PDU for that PFC. The timer is
also restarted upon the transfer of the corresponding PFC from an old to a new
cell.
If a CREATE-BSS-PFC PDU is received for an MS which has a BSS PFC in the BSS,
then this shall be interpreted by the BSS as a request to:
\- create a new PFC if the PFI included in the PDU is not known in the BSS,
\- modify an existing PFC if the PFI included in the PDU is already known in
the BSS.
The SGSN may inform the BSS about the contents of SPID in the CREATE-BSS-PFC
PDU. In this case the SPID is stored in the BSS.
### 8a.1.0a Allocation/Retention Priority handling
The SGSN may include the _Allocation/Retention Priority_ information element
in the CREATE-BSS-PFC- PDU. If this information element is received and the
BSS supports ARP handling, the BSS shall establish or modify the resources
according to the values of the _Allocation/Retention Priority_ IE (priority
level, pre-emption indicators, queuing) and the resource situation as follows:
\- The BSS shall consider the priority level of the requested PFC, when
deciding on the resource allocation.
\- If the requested PFC is allowed for queuing and the resource situation so
requires, the BSS may place the PFC in the establishment queue.
\- The priority levels and the pre-emption indicators may (singularly or in
combination) be used to determine whether the PFC assignment has to be
performed unconditionally and immediately. If the requested PFC is marked as
\"may trigger pre-emption\" and the resource situation so requires, the BSS
may trigger the pre-emption procedure which may then cause the forced release
of a lower priority PFC which is marked as \"pre-emptable\". Whilst the
process and the extent of the pre-emption procedure is operator dependent, the
pre-emption indicators, if given in the CREATE-BSS-PFC PDU, shall be treated
as follows:
1\. The values of the last received _Pre-emption Vulnerability_ IE and
_Priority Level_ IE shall prevail.
2\. If the _Pre-emption Capability_ IE is set to \"may trigger pre-emption\",
then this allocation request may trigger the pre-emption procedure.
3\. If the _Pre-emption Capability_ IE is set to \"shall not trigger pre-
emption\", then this allocation request shall not trigger the pre-emption
procedure.
4\. If the _Pre-emption Vulnerability_ IE is set to \"pre-emptable\", then
this connection shall be included in the pre-emption process.
5\. If the _Pre-emption Vulnerability_ IE is set to \"not pre-emptable\", then
this connection shall not be included in the pre-emption process.
6\. If the _Priority Level_ IE is set to \"no priority\" the given values for
the _Pre-emption Capability_ IE and _Pre-emption Vulnerability_ IE shall not
be considered. Instead the values \"shall not trigger pre-emption\" and \"not
pre-emptable\" shall prevail.
\- If the _Allocation/Retention Priority_ IE is not given in the CREATE-BSS-
PFC -PDU, the allocation request shall not trigger the pre-emption process and
the connection may be pre-empted and considered to have the value \"lowest\"
as priority level. Moreover, queuing shall not be allowed.
\- The BSS pre-emption process shall keep the following rules:
1) The BSS shall only preâ€‘empt PFCs with lower priority, in ascending order of
priority.
2) The pre-emption may be done for PFCs belonging to the same MS or to other
MSs.
If the BSS is unable to create the PFC immediately and the ARP IE was present
in the CREATE-BSS-PFC PDU indicating that queuing is allowed for the PFC, the
BSS may put the PFC creation request or modification in a queue. In that case,
it shall send a CREATE-BSS-PFC-ACK PDU including the cause \'PFC queuing\' to
the SGSN and start the timer T10. This timer specifies the maximum time for
queuing of the request of establishment or modification; its value is provided
by the SGSN in the CREATE-BSS-PFC PDU. Several PFCs for a given MS may be
queued in parallel. While a PFC is queued, the BSS shall handle the
corresponding uplink or downlink transfers according to a best-effort default
aggregate BSS QoS profile.
For each PFC that is queued the following outcomes shall be possible:
\- successfully established or modified;
\- failed to establish or modify;
\- failed due to expiry of the timer T10.
When the SGSN receives the response that the requested PFC is queued, the SGSN
shall expect the BSS to provide the outcome of the queuing function for the
PFC before expiry of T7. In case the timer T7 expires, the SGSN shall consider
the create BSS PFC procedure terminated and failed.
The BSS shall report the outcome of the queuing for every queued PFC. The BSS
shall stop the timer T10 associated to a given PFC when it has been
successfully established or modified. The BSS shall then send a CREATE-BSS-
PFC-ACK PDU with cause \'PFC created successfully\' to the SGSN for that PFC,
informing the SGSN of the negotiated ABQP. Upon receipt of the CREATE-BSS-PFC-
ACK PDU with cause \'PFC created successfully\' from the BSS, the SGSN shall
stop timer T7.
In the case the timer T10 expires, the create BSS PFC procedure terminates in
the BSS for the corresponding PFC and the BSS shall send a CREATE-BSS-PFC-NACK
PDU with cause \'PFC create failure\'. The SGSN shall then consider the create
BSS PFC procedure terminated and failed.
In case the SGSN wishes to delete a PFC which is being queued, it shall stop
timer T7 and start the delete BSS PFC procedure. Upon receipt of the request
to delete the PFC, the BSS shall take it out from the queue and proceed with
the rest of the procedure, as described in sub-clause 8a.3.
In case the SGSN wishes to modify a PFC which is being queued, it shall
restart timer T7 and send a CREATE-BSS-PFC PDU as described in sub-clause
8a.1. Upon receipt of the request to modify the PFC, the BSS shall take it out
from the queue and treat the new request.
### 8a.1.1 Abnormal conditions
If the SGSN receives a DOWNLOAD-BSS-PFC PDU with an unknown PFI it shall not
respond with a CREATE-BSS-PFC PDU.
If a CREATE-BSS-PFC PDU is not received for a DOWNLOAD-BSS-PFC PDU within T6
seconds, then the DOWNLOAD-BSS-PFC PDU shall be repeated a maximum of
DOWNLOAD-BSS-PFC-RETRIES attempts. After DOWNLOAD-BSS-PFC-RETRIES + 1 attempts
the procedure is stopped and the O&M system is informed. If a BSS PFC is not
received then the BSS shall handle uplink and downlink transfers according to
a best-effort default aggregate BSS QoS profile.
If a CREATE-BSS-PFC-ACK or CREATE-BSS-PFC-NACK PDU is not received in response
to a CREATE-BSS-PFC PDU within T7 seconds, then the CREATE-BSS-PFC PDU shall
be repeated a maximum of CREATE-BSS-PFC-RETRIES attempts. After CREATE-BSS-
PFC-RETRIES+1 attempts the procedure is stopped and the O&M is informed.
If a BSS not supporting ARP handling is unable to create the PFC then a
CREATE-BSS-PFC-NACK PDU is returned with a cause value (e.g. Cause value: PFC
create failure). The SGSN shall stop the Create BSS PFC procedure.
If a BSS supporting ARP handling is unable to create the PFC immediately and
the ARP IE was not present in the CREATE-BSS-PFC PDU or the ARP IE was present
but queuing is not allowed for the PFC, then a CREATE-BSS-PFC-NACK PDU is
returned with cause value \'PFC create failure\'. The SGSN shall then stop the
Create BSS PFC procedure.
If a CREATE-BSS-PFC PDU is received in the BSS for an MS for which the PS
Handover Required procedure is ongoing, the BSS shall ignore the CREATE-BSS-
PFC PDU and return a CREATE-BSS-PFC-NACK PDU to the SGSN indicating Cause \"MS
under PS Handover treatment\".
## 8a.2 Modify BSS PFC procedure
The BSS may request modification of the contents of an existing BSS PFC at any
time via the MODIFY-BSS-PFC PDU, e.g. due to a change in resource availability
at the BSS. The BSS sends the MODIFY-BSS-PFC PDU and start timer T8. The SGSN
inserts the modified parameters in the MODIFY-BSS-PFC PDU into the relevant
PDP contexts. The SGSN shall respond to a modify request with a MODIFY-BSS-
PFC-ACK PDU except when there is an ongoing Delete BSS PFC procedure for that
PFI (see sub-clause 8a.3). The SGSN may restrict the requested aggregate BSS
QoS profile given its capabilities and current load. The Packet Flow Timer
(PFT) may be provided to the BSS by the SGSN. This timer is (started or)
restarted upon the receipt of the MODIFYâ€‘BSSâ€‘PFC-ACK PDU and restarted after
the transmission of an uplink PDU for that PFC. On receipt of a response to
the Modify procedure the BSS shall stop timer T8.
The SGSN can reject the profile proposed by the BSS by answering with a
MODIFY-BSS-PFC-ACK PDU containing the previous ABQP. The SGSN may request the
modification of the contents of a BSS PFC at any time via the CREATE-BSS-PFC
PDU, e.g. due to the activation, modification, or deactivation of a PDP
context. It shall not use the MODIFY-BSS-PFC PDU. If the BSS PFC already
exists the BSS shall interpret the PDU as a modification request and the BSS
shall reply with a CREATE-BSS-PFC-ACK. The BSS may restrict the requested ABQP
given its capabilities and the current load.
The Modify BSS PFC procedure shall never be initiated for an MS for which the
PS Handover Required procedure is ongoing.
### 8a.2.1 Abnormal conditions
If a MODIFY-BSS-PFC-ACK is not received in response to a MODIFY-BSS-PFC PDU
within T8 seconds, then the MODIFY-BSS-PFC PDU shall be repeated a maximum of
MODIFY-BSS-PFC-RETRIES attempts. After MODIFYâ€‘BSS-PFC-RETRIES+1 attempts the
procedure is stopped and the O&M is informed.
## 8a.3 Delete BSS PFC procedure
The SGSN may request the deletion of a BSS PFC at any time using the DELETE-
BSS-PFC PDU. The BSS shall respond with a DELETE-BSS-PFC-ACK PDU. In case of
user inactivity the BSS may delete a BSS packet flow context without notifying
the SGSN. In case the BSS is no longer able to support the BSS PFC ABQP, it
may send a DELETE-BSS-PFC-REQ PDU with cause 'PFC pre-empted' or 'ABQP no more
supported' to the SGSN. The SGSN may either start the Delete BSS PFC procedure
or a new Create BSS PFC procedure. In case the BSS receives neither a DELETE-
BSS-PFC PDU nor a CREATE-BSS-PFC PDU the behaviour in the BSS is
implementation specific.
The Delete BSS PFC procedure takes precedence over the Modify BSS PFC and the
Create BSS PFC procedures, i.e. when the BSS receives a DELETE-BSS-PFC PDU it
shall abort any ongoing Create BSS PFC or Modify BSS PFC procedure for that
PFI.
If a DELETE-BSS-PFC PDU is received for an MS for which the PS Handover
Required procedure is ongoing, the BSS shall initiate the PS Handover Cancel
procedure and continue the Delete BSS PFC procedure for the corresponding MS.
## 8a.4 PS Handover Required procedure
In the case of an intra-BSS PS Handover or intra-BSS DTM Handover, the
optimized intra-BSS handover procedure may be used (see 3GPP TS 44.060); in
such case, the PS Handover Required procedure is not used.
When a BSS initiates a PS handover or DTM Handover it shall initiate the PS
Handover Required procedure and send the PS-HANDOVER-REQUIRED PDU to the SGSN.
Except in the case of DTM Handover, the BSS shall then start timer T12 (see
NOTE).
NOTE: The DTM Handover procedure is guarded at the source BSS by the BSSMAP
timer T23 (see 3GPP TS 48.008).
If DTM Handover is ongoing and was initiated for a reason specific to the
packet resources, or PS Handover is ongoing, the _Cause_ IE of the PS-
HANDOVER-REQUIRED PDU should be set to an appropriate value (e.g. \"Uplink
quality\", \"Uplink strength\", \"Downlink quality\", \"Downlink strength\",
\"Distance\", \"Better cell\", \"Traffic\" or \"O&M intervention\").
NOTE: The radio related cause values are not applicable to the DTM Handover.
If DTM Handover is ongoing, and was initiated for a reason specific to the
dedicated resource, the _Cause_ IE shall indicate \"CS cause\".
The BSS should not initiate the PS handover required procedure in the case of
an MOCN or a GWCN configuration if the Rerouting procedure is ongoing.
The BSS shall not initiate the PS handover required procedure in case CS to PS
SRVCC from GERAN to UTRAN or to E-UTRAN [25] is ongoing. The reception of a
PS-HANDOVER-REQUIRED PDU will initiate the PS Handover Required procedure in
the SGSN and the allocation of resources in the target system.
If PS handover to A/Gb mode is required, the source BSS shall include the
_Source BSS to Target BSS Transparent Container_ IE and the _Target Cell
Identifier_ IE in the PS-HANDOVER-REQUIRED PDU.
If PS handover to Iu mode is required, the source BSS shall include the
_Source to Target Transparent Container_ IE and the _Target RNC Identifier_ IE
in the PS-HANDOVER-REQUIRED PDU. The _Source to Target Transparent Container_
IE shall be encoded as the _Source RNC to Target RNC Transparent Container_ IE
as specified in 3GPP TS 25.413 or 3GPP TS 44.118.
If PS handover to a UTRAN CSG cell or hybrid cell is required, the source BSS
shall include the _Source to Target Transparent Container_ IE, _Target RNC
Identifier_ IE and the _CSG Identifier_ IE in the PS-HANDOVER-REQUIRED PDU.
The source BSS shall set the value of the _Cell Access Mode_ field in the _CSG
Identifier_ IE according to the information received from the MS through
measurement reporting as defined in 3GPP TS 44.060. The _Source to Target
Transparent Container_ IE shall be encoded as the _Source RNC to Target RNC
Transparent Container_ IE as specified in 3GPP TS 25.413.
NOTE: In this specification: A CSG cell is a reported cell for which the
access mode indicates "Closed access mode" as defined in [39] and Hybrid Cell
is a reported cell for which the access mode indicates "Hybrid access mode" as
defined in [39].
If PS handover to E-UTRAN is required, the source BSS shall include the
_Source to Target Transparent Container_ IE and the _Target eNB Identifier_ IE
or the _Target RNC Identifier_ IE (carrying the Corresponding RNC-ID of the
target eNB) in the PS-HANDOVER-REQUIRED PDU. The _Source to Target Transparent
Container_ IE shall be encoded as the _Source eNB to Target eNB Transparent
Container_ IE as specified in 3GPP TS 36.413.
If PS handover to a E-UTRAN CSG cell or hybrid cell is required, the source
BSS shall include the _Source to Target Transparent Container_ IE, the _Target
eNB Identifier_ IE, _Tracking Area Code_ IE and the _CSG Identifier_ IE in the
PS-HANDOVER-REQUIRED PDU. The source BSS shall set the value of the _Cell
Access Mode_ field in the _CSG Identifier_ IE according to the information
received from the MS through measurement reporting as defined in 3GPP TS
44.060. The _Source to Target Transparent Container_ IE shall be encoded as
the _Source eNB to Target eNB Transparent Container_ IE as specified in 3GPP
TS 36.413.
The _Active PFCs List_ IE informs the SGSN about which PFCs that are active
for the MS in the source cell at the time of sending the PS-HANDOVER-REQUIRED
PDU. The concept of \"Active PFCs\" is defined in 3GPP TS 43.129. The _Active
PFCs List_ IE shall not contain any pre-defined PFIs.
For DTM Handover to A/Gb mode, the source BSS shall include the _CS Indication
IE_ in the _Source BSS to Target BSS Transparent Container_ IE. The contents
of the _CS Indication_ IE shall uniquely identify, for this MS, the handover
attempt, and shall be identical to the contents of the _PS Indication_ IE
included in the BSSMAP HANDOVER REQUIRED message (see 3GPP TS 48.008). The
_Target Cell Identifier_ IE shall identify the same cell as the one specified
in the _Cell Identifier List (preferred)_ IE in the corresponding BSSMAP
HANDOVER REQUIRED message (see 3GPP TS 48.008).
For DTM Handover to UTRAN, the source BSS shall set the _Number of Iu
Instances_ IE equal to 2 in the _Source RNC to Target RNC Transparent
Container_ IE (see 3GPP TS 25.413)
When the resource allocation in the target system is complete, the SGSN shall
send a PS-HANDOVER-REQUIRED-ACK PDU to the source BSS and end the PS Handover
Required procedure.
The _Target BSS to Source BSS Transparent Container_ IE, or the _Target to
Source Transparent Container_ IE as received from the target system, shall be
included in the PS-HANDOVER-REQUIRED-ACK PDU.
Except in the case of DTM Handover, the source BSS shall, on reception of the
PS-HANDOVER-REQUIRED-ACK PDU from the SGSN, stop timer T12, trigger the
transmission of the PS HANDOVER COMMAND message towards the MS (as specified
in 3GPP TS 44.060) and end the PS Handover Required procedure. In the case of
DTM Handover, the PS Handover Required procedure is terminated when timer T23
is stopped for any reason or expires as specified in 3GPP TS 48.008. The
subsequent behaviour of the network is specified in 3GPP TS 48.008.
In case of unsuccessful PS Handover, the source BSS shall be notified through
the PS-HANDOVER-REQUIRED-NACK PDU.
When the SGSN terminates the PS Handover Required procedure by sending a PS-
HANDOVER-REQUIRED-NACK PDU to the source BSS, the _Cause_ IE should be set to
an appropriate value (e.g. \"PFC create failure\", \"Cell traffic
congestion\", \"Equipment failure\", \"O&M intervention\" , \"PS Handover
Target not allowed\" or \"PS Handover not Supported in Target BSS or Target
System\").
Except in the case of DTM Handover, upon reception of a PS-HANDOVER-REQUIRED-
NACK PDU from the SGSN, the source BSS shall stop timer T12 and terminate the
ongoing PS Handover Required procedure.
For DTM Handover, the source BSS behaviour on receipt of a PS-HANDOVER-
REQUIRED-NACK PDU is described as part of the Handover Required procedure (see
3GPP TS 48.008).
The source BSS shall always include the "_Reliable Inter RAT Handover Info_ "
indicator set to '1'in the PS-HANDOVER-REQUIRED-PDU when the target is a GERAN
A/Gb mode BSS if the _Inter RAT Handover Info_ IE is available and was
received from the SGSN in a PS-HANDOVER-COMPLETE-ACK or a CREATE-BSS-PFC PDU
or a PS-HANDOVER-REQUEST PDU with _"Reliable Inter RAT Handover Info
Indicator"_ set to "1". It shall be set to '0' otherwise.
If the SGSN receives the _CSG Identifier_ IE in the PS-HANDOVER-REQUIRED PDU
and the _Cell Access Mode_ field is set to "CSG cell", it shall perform access
control as specified in 3GPP TS29.060. If the MS is allowed to access the
target cell, the SGSN shall continue the PS handover to the target side as
specified in 3GPP TS 29.060. If the MS is not allowed to access the target
cell, the SGSN shall send the PS-HANDOVER-REQUIRED-NACK PDU with the _Cause_
IE set to "Invalid CSG cell"to the source BSS. If the _Cell Access Mode_ field
in the _CSG Identifier_ IE is set to "Hybrid cell", the SGSN shall provide the
CSG membership status of the MS and the _CSG Id_ to the target side as
specified in 3GPP TS 29.060.
### 8a.4.1 Abnormal conditions
Except in the case of DTM Handover, if timer T12 expires in the source BSS and
there has been no response from the SGSN to the PS-HANDOVER-REQUIRED PDU, the
source BSS may initiate a new PS Handover Required procedure for the same
mobile station, either directly or after first having cancelled the previous
PS Handover Required procedure by initiating the PS Handover Cancel procedure
with the value for the _Cause_ IE set to \"T12 expiry\".
NOTE: For the case of DTM Handover, the abnormal condition caused by the
expiry of BSSMAP timer T23 is described in 3GPP TS 48.008.
## 8a.5 PS Handover Request procedure
The SGSN shall initiate the PS Handover Request procedure by sending a PS-
HANDOVER-REQUEST PDU, including the NAS container for PS Handover
corresponding to the PFCs to be set-up (except in the case of intra-SGSN PS
handover), to the target BSS and starting timer T13. The PS-HANDOVER-REQUEST
PDU shall be sent on the point-to-point BVC indicated by the target Cell
identity received from the old system.
On receipt of a PS-HANDOVER-REQUEST PDU containing a _CS Indication_ IE (i.e.
a DTM Handover procedure is ongoing), then the target BSS shall proceed as
follows:
\- If the timer T24 (see 3GPP TS 48.008) is not running, then the target BSS
shall start timer T24.
\- When both PS-HANDOVER-REQUEST PDU and BSSMAP HANDOVER REQUEST messages have
been received and the contents of the _CS Indication_ IE and _PS Indication_
IE are identical, the target BSS shall stop timer T24 (see 3GPP TS 48.008),
and, provided that a dedicated resource has been allocated (see 3GPP TS
48.008), attempt to create a new BSS Context for the MS, create PFCs according
to the received ABQP parameters and allocate TBF resources within the
capabilities of the mobile station.
On receipt of a PS-HANDOVER-REQUEST PDU which does not contain a _CS
Indication_ IE, the target BSS shall create a new BSS Context for the MS,
create PFCs according to the received ABQP parameters and allocate TBFs for
uplink and, if needed, for downlink transmission.
The SGSN may include the _Service UTRAN CCO_ (Cell Change Order) information
element in the PS-HANDOVER-REQUEST PDU (relevant if the network initiated cell
change order to UTRAN, network intitiated cell change order to E-UTRAN,PS
handover to UTRAN or PS Handover to E-UTRAN procedures are used). If this
information element is received in multiple PDUs (either DL-UNITDATA PDU(s),
CREATE-BSS-PFC PDU(s) or PS-HANDOVER-REQUEST PDU(s)), the information element
contained in the last received PDU shall take precedence.
The SGSN receiving the _Reliable Inter RAT Handover Info_ IE in the PS-
HANDOVER-REQUIRED PDU shall forward this IE to the target BSS in the PS-
HANDOVER-REQUEST PDU.
The Packet Flow Timer (PFT) is provided to the target BSS by the SGSN for each
corresponding PFC. It is defined as the maximum time the BSS may hold the PFC
during periods of inactivity for a PFC. The timer is started upon the
initiation of the PS Handover Complete procedure (see sub-clause 8a.7) and
restarted after the transmission of an uplink PDU for that PFC. The timer is
also restarted upon the transfer of the corresponding PFC from an old to a new
cell.
When resources have been successfully allocated by the target BSS, it shall
send a PS-HANDOVER-REQUEST-ACK PDU to the SGSN. From this point in time, the
target BSS shall be prepared to receive downlink LLC PDUs for the
corresponding MS on the allocated resources. The target BSS shall also be
prepared to receive uplink RLC data blocks or a PS HANDOVER ACCESS message
upon successful MS access in the target cell (as specified in 3GPP TS 44.060).
The PS-HANDOVER-REQUEST-ACK PDU shall include the _Target BSS to Source BSS
Transparent Container_ IE (see sub-clause 11.3.79) which contains either a
complete PS HANDOVER COMMAND message or, in the case of DTM Handover, a
complete DTM HANDOVER COMMAND message. For the definition of the PS HANDOVER
COMMAND and DTM HANDOVER COMMAND messages, see 3GPP TS 44.060. In addition,
the BSS shall include in the _Target BSS to Source BSS Transparent Container_
IE the _SI/PSI Container_ IE (see sub-clause 11.3.95b) if the _PS Handover
Indications_ IE indicating \"SI/PSI requested\" was present in the _Source BSS
to Target BSS Transparent Container_ of the incoming PS-HANDOVER-REQUEST PDU.
In the case where the target cell supports network sharing and the MS Radio
Access Capability information element included in the Source BSS to Target BSS
Transparent Container received in the PS-HANDOVER-REQUEST PDU indicates MS
supporting network sharing , the target BSS shall include in the SI/PSI
messages sent to the source BSS (if included in the Target BSS to Source BSS
Transparent Container) the same PLMN ID as the one receieved in the _Target
Cell Identifier_ IE in the PS-HANDOVER-REQUEST PDU.
Upon reception of the PS-HANDOVER-REQUEST-ACK PDU, the SGSN shall stop timer
T13, end the PS Handover Request procedure and start timer T14 for supervision
of the PS Handover Complete procedure.
The target BSS may choose to terminate the PS Handover Request procedure by
sending a PS-HANDOVER-REQUEST-NACK PDU to the SGSN due to any of the following
reasons:
\- A BSS Context could not be allocated for the MS;
\- None of the PFCs in the _PFCs To Be Set-up List_ IE of the PS-HANDOVER-
REQUEST PDU could be granted the requested QoS;
\- No uplink TBF could be allocated for the MS in the BVCI.
In addition, the target BSS may choose to terminate the PS Handover Request
procedure by sending a PS-HANDOVER-REQUEST-NACK PDU to the SGSN if at least
one of the PFCs in the _PFCs To Be Set-up List_ IE of the PS-HANDOVER-REQUEST
PDU could not be granted the requested QoS and the _Cause_ IE indicates a non-
critical PS or DTM handover.
NOTE: The cause values \"Better cell\", \"Traffic\" indicate a non-critical PS
or DTM handover.
When a PS-HANDOVER-REQUEST-NACK PDU has been sent, no knowledge of the MS
should be kept by the target BSS.
Except in case of an attempted DTM Handover, when the target BSS decides to
terminate the PS Handover Request procedure by sending a PS-HANDOVER-REQUEST-
NACK PDU to the SGSN, the _Cause_ IE should be set to an appropriate value
(e.g. \"PFC create failure\", \"Cell traffic congestion\", \"Equipment
failure\" or \"O&M intervention\").
In the case of an attempted DTM Handover, if the target BSS has failed to
allocate PS resources, it shall send a PS-HANDOVER-REQUEST-NACK PDU with cause
\"DTM Handover - PS Allocation failure\" to the SGSN. The target BSS may
continue with the corresponding Handover Resource Allocation procedure,
allocating only a dedicated resource (see 3GPP TS 48.008).
In the case of an attempted DTM Handover, if the target BSS does not allocate
a CS resource, it shall not allocate any PS resources, and shall send a PS-
HANDOVER-REQUEST-NACK PDU with cause \"DTM Handover - No CS resource\" to the
SGSN.
The SGSN may inform the BSS about the contents of SPID in the PS-HANDOVER-
REQUEST PDU. In this case the SPID is stored in the BSS.
### 8a.5.1 Abnormal conditions
If there is no response from the target BSS to the PS-HANDOVER-REQUEST PDU
before timer T13 expires, the SGSN shall initiate the Delete BSS PFC procedure
for each of the PFCs in the _PFCs to be Set-up List_ IE for the corresponding
MS.
If the timer T24 (see 3GPP TS 48.008) expires and the target BSS has received
a PS-HANDOVER-REQUEST PDU (i.e. no corresponding BSSMAP HANDOVER REQUEST
message has been received) the target BSS shall terminate the PS Handover
Request procedure by sending a PS-HANDOVER-REQUEST-NACK PDU to the SGSN with
cause \"DTM Handover - T24 expiry\".
If a PS-HANDOVER-REQUEST PDU is received which contains a _CS Indication_ IE
which corresponds to a DTM Handover attempt which was previously terminated
for this MS, then the BSS shall terminate the PS Handover Request procedure by
sending a PS-HANDOVER-REQUEST-NACK PDU to the SGSN with cause \"DTM Handover -
Invalid CS Indication IE\". Any ongoing Handover Resource Allocation procedure
(see 3GPP TS 48.008) for this mobile shall not be aborted in this case.
NOTE: Other failure cases related to the expiry of the A interface timer T24
are described in 3GPP TS 48.008).
If timer T14 expires before the SGSN receives a PS-HANDOVER-COMPLETE PDU, it
shall initiate the Delete BSS PFC procedure for each allocated PFC (i.e. for
each PFC included in the _List of Set-up_ _PFCs_ IE in the corresponding PS-
HANDOVER-REQUEST-ACK PDU) towards the target BSS to release the resources
allocated for all PFCs allocated for the MS.
## 8a.6 PS Handover Complete procedure
The target BSS shall initiate the PS Handover Complete procedure:
\- in the case of PS Handover, on reception of the first correct RLC data
block (sent in normal burst format as defined in 3GPP TS 44.060) from the MS
in the target Cell;
\- in the case of DTM Handover, on receipt of an RR HANDOVER COMPLETE message
on the main DCCH in the target cell (see 3GPP TS 44.018).
The target BSS shall send a PS-HANDOVER-COMPLETE PDU to the SGSN.
From this point in time, the target BSS shall be prepared to receive uplink
LLC PDUs from the corresponding MS on the allocated resources. Uplink LLC PDUs
shall be sent from the target BSS to the SGSN with the TLLI received through
the PS Handover Request procedure.
The target BSS supporting inter-RAT PS handover to UTRAN shall request the
_Inter RAT Handover Info_ IE from the SGSN upon successful PS handover
completion in the following cases:
\- PS handover from UTRAN to GERAN; in this case the BSS shall replace the
_Inter RAT Handover Info_ received from the source RNC with the new value
received from the SGSN in the PS-HANDOVER-COMPLETE-ACK PDU.
\- PS handover from GERAN _A/Gb mode_ if it received PS-HANDOVER-REQUEST PDU
with _Reliable Inter RAT Handover Info_ IE missing or set to \"0\"; in this
case the BSS shall replace the _Inter RAT Handover Info_ received from the
source BSS with the new value received from the SGSN in the PS-HANDOVER-
COMPLETE-ACK PDU.
\- PS handover from GERAN _A/Gb mode_ if the _\"INTER RAT HANDOVER INFO\"_ is
missing in the _Source BSS to Target BSS Transparent Container_ IE.
\- PS handover from E-UTRAN if the _\"INTER RAT HANDOVER INFO\"_ is missing in
the _Source BSS to Target BSS Transparent Container_ IE.
At reception of the PS-HANDOVER-COMPLETE PDU, the SGSN shall stop timer T14
(if running) and
\- in case of non-optimised intra-BSS or intra-SGSN inter-BSS PS Handover,
initiate the Delete BSS PFC procedure(s) towards the source BSS for each PFC
corresponding to the MS in the source cell as described in sub-clause 8a.3; or
\- in case of inter-SGSN PS Handover, send a Forward Relocation Complete
message to the old SGSN (see 3GPP TS 29.060). The old SGSN shall initiate a
Delete BSS PFC procedure for each PFC corresponding to the MS in the source
cell towards the source BSS as described in sub-clause 8a.3.
### 8a.6.1 Abnormal conditions
If the SGSN does not receive a PS-HANDOVER-COMPLETE PDU before timer T14
expires, it shall initiate the Delete BSS PFC procedure towards the target BSS
to release the resources for all PFCs allocated for the MS.
If a PS-HANDOVER-COMPLETE PDU refers to an MS which is unknown in the SGSN, it
shall be ignored.
## 8a.7 PS Handover Cancel procedure
The source BSS may at any time, up to the time when the PS HANDOVER COMMAND or
DTM HANDOVER COMMAND message is sent to the MS (as defined in 3GPP TS 44.060),
initiate the PS Handover Cancel procedure. The reasons for cancellation could
e.g. be \"T12 expiry\", \"MS back on old channel\", \"Not all requested PFCs
created\" or \"CS cause\".
The source BSS shall initiate the PS Handover Cancel procedure if the cell
change attempt fails and the MS returns to the old cell and sends either a
PACKET CELL CHANGE FAILURE message as specified in 3GPP TS 44.060 (for PS
Handover) or an RR HANDOVER FAILURE message as specified in 3GPP TS 44.018
(for DTM Handover) using the old radio resources.
During the normal intra-BSS or inter-BSS PS Handover, the source BSS shall
also initiate the PS Handover Cancel procedure if it detects the loss of radio
contact with MS (see 3GPP TS 44.060).The cause value in the PS-HANDOVER-CANCEL
PDU shall be set to \"Radio contact lost with MS\". In the case of DTM
Handover, the source BSS shall initiate the PS Handover Cancel procedure in
the following additional cases defined in the list of Abnormal Cases for the
Handover Required Indication procedure (see 3GPP TS 48.008):
a) Timer T23 expires and the source BSS has received a PS-HANDOVER-REQUIRED-
ACK PDU from the SGSN;
b) The source BSS receives a PS-HANDOVER-REQUIRED-ACK PDU and a BSSMAP
HANDOVER REQUIRED REJECT message (see 3GPP TS 48.008);
c) If the DTM Handover is ongoing and T8 expires (see 3GPP TS 48.008).
The cause value in the PS-HANDOVER-CANCEL PDU shall be set to:
in case a) above: \"DTM Handover - T23 expiry\";
in case b) above: \"DTM Handover - MSC error\";
in case c) above: \"Radio contact lost with MS\".
When the source BSS decides to cancel an ongoing PS handover or DTM Handover,
it shall initiate the PS Handover Cancel procedure by sending a PS-HANDOVER-
CANCEL PDU to the SGSN. The source BSS shall regard all procedures related to
PS handover or DTM Handover for the given MS as terminated after having sent
the PS-HANDOVER-CANCEL PDU to the SGSN.
Upon reception of a PS-HANDOVER-CANCEL PDU, (in the case of Inter-SGSN PS
handover or Inter-SGSN DTM handover) the SGSN shall initiate a Forward
Relocation Cancel procedure according to 3GPP TS 29.060.
Upon reception of a PS-HANDOVER-CANCEL PDU, (in the case of Intra-SGSN PS
handover or Intra-SGSN DTM handover or Inter-RAT PS handover) the SGSN shall
\- in case of GERAN _A/Gb mode_ to GERAN _A/Gb mode_ PS/DTM handover, initiate
the Delete BSS PFC procedure towards the target BSS to release the resource
allocated for the MS.
\- in case of GERAN _A/Gb mode_ to UTRAN PS/DTM handover, initiate the Iu
Release procedure towards the target RNC to release the resource allocated for
the UE (see 3GPP TS 25.413).
\- in case of GERAN _A/Gb mode_ to E-UTRAN PS handover, initiate the
Relocation Cancel procedure towards target MME which initiates the release of
the resources allocated for the UE by the target eNB (see 3GPP TS 36.413).
NOTE: In case of cancellation due to CS call establishment, current behaviour
regarding possible suspension of GPRS services applies after the PS Handover
Cancel procedure is completed.
### 8a.7.1 Abnormal conditions
If a PS-HANDOVER-CANCEL PDU refers to an MS/UE which is unknown in the SGSN,
it shall be ignored.
An SGSN shall ignore a PS-HANDOVER-CANCEL PDU which refers to an MS for which
the SGSN has already received a PS-HANDOVER-COMPLETE PDU from the target BSS
(in the case of intra-SGSN PS handover) or a FORWARD RELOCATION COMPLETE
message from the new SGSN (in the case of inter-SGSN PS handover).
# 8b Signalling Procedures between LCS SAPs
## 8b.1 Location Procedure
When the SGSN receives a location request, and the BSS supports LCS, the SGSN
starts the location procedure by sending a PERFORM-LOCATION-REQUEST PDU. An
exception case is when the SGSN supports the MTA procedure and receives a
location request (i.e. a "MAP Provide Subscriber Location" message is received
from the GMLC) for a MS that supports the MTA procedure (determined by the MS
Radio Access Capability of the target MS \-- see sub-clause 11.3.22) in which
case it shall proceed as follows:
\- If the MPM timer is running for the target MS (see sub-clause 8b.2.1) it
shall send a system failure indication to the corresponding GMLC.
\- If the MPM timer is not running but the Ready timer is running for the
target MS the SGSN sends a PERFORM-LOCATION-REQUEST PDU to the BSS managing
the serving cell.
\- If neither the MPM nor Ready timer is running, the SGSN sends a PAGING-PS
PDU indicating 'positioning event triggered' (see sub-clause 10.3.1) to each
BSS in the set of BSSs managing cells in the paging area corresponding to the
target MS and waits for a page response as described in sub-clause 7.1.
The SGSN shall provide the BVCI and the NSEI indicating the PTP functional
entity (i.e. the cell) upon which the last LLC-PDU was received from the MS as
well as the Cell ID received together with that LLC-PDU. The SGSN shall also
provide the IMSI. If the SGSN has valid DRX Parameters for a TLLI, then the
SGSN shall include them in the PDU. If the SGSN has valid eDRX Parameters for
a TLLI, then the SGSN shall include them in the PDU. The SGSN shall also
provide the downlink Coverage Class associated with the MS, if previously
received from the BSS in the UL-UNITDATA PDU.
If LLC ciphering is not activated at SGSN, SGSN may include "MTA Access
Security Required" in the PERFORM LOCATION REQUEST PDU, if integrity
protection for the radio access part of the MTA procedure is required. BSS
upon receipt of this IE shall request SMLC to perform the location request.
The "MTA Access Security Required" may indicate MTA Access Security method or
the BSS Duplication Detection method is to be performed. For the case where
the MTA Access Security method is performed, on receipt of "MTA Signature" and
"MTA Sequence" included in the response sent by SMLC to BSS, the BSS forwards
them to SGSN in PERFORM-LOCATION-RESPONSE-PDU as "MTA Signature" IE and "MTA
Sequence" IE. SGSN upon receiving PERFORM-LOCATION-RESPONSE-PDU checks the
presence of "MTA Signature" and "MTA Sequence ", and if present, generates a
local MTA Signature using "MTA Sequence". The generated local MTA Signature is
then compared against received "MTA Signature".
If MS Radio Access Capability information is available in the SGSN for the
associated MS, the SGSN shall include it in the PERFORM-LOCATION-REQUEST PDU.
The Location Type indicates which type of location information the SGSN is
requesting. The LCS capability IE reports the PS LCS capabilities of the MS
and is included by the SGSN if it has been received from the MS. LCS Priority
and LCS QoS are provided if available in the SGSN. The SGSN may provide the
IMEI of the Mobile Station.
On receipt of the PERFORM-LOCATION-REQUEST PDU for positioning of the target
MS, the BSS transfers the positioning request to the SMLC according to the
procedures defined in 3GPP TS 43.059 and 3GPP TS 49.031 and awaits the result.
An exception case is when the BSS receives a PERFORM-LOCATION-REQUEST PDU for
which the "MultilaterationTiming Advance", "MS Sync Accuracy" and "BTS
Reception Accuracy Level" information elements are included in which case the
BSS proceeds as follows:
\- If a packet data transfer is ongoing for the target MS (see 3GPP TS 44.018
[25]) the BSS waits for up to 5 seconds for the packet data transfer to
complete (i.e. all TBF resources are released) before sending a positioning
request to the SMLC (see 3GPP TS 43.059 and 3GPP TS 49.031).
\- Upon completing the ongoing packet data transfer (within 5 seconds) or if
no packet resources are assigned upon receiving the PERFORM-LOCATION-REQUEST
PDU the BSS sends a positioning request to the SMLC, includes the
"MultilaterationTiming Advance", "MS Sync Accuracy" and "BTS Reception
Accuracy Level" information elements therein and awaits the positioning
result.
\- If packet resources remain assigned for more than 5 seconds after receiving
the PERFORM-LOCATION-REQUEST PDU the BSS returns a PERFORM-LOCATION-RESPONSE
PDU with a LCS cause value indicating 'Target MS Unreachable' (see sub-clause
11.3.58) and aborts the Location procedure.
The BSS then returns the result of positioning to the SGSN in the PERFORM-
LOCATION-RESPONSE PDU and stops the MPM Timer (if running). This PDU contains
the PTP BVCI indicating the PTP functional entity (i.e. the cell) upon which
the last LLC-PDU was received from the MS, a location estimate and optionally
positioning data. Upon reception of the PERFORM-LOCATION-RESPONSE PDU the SGSN
stops the MPM timer (if running).
If assistance data was instead requested by the SGSN for an MS, the BSS
transfers the request to the SMLC according to the procedures defined in 3GPP
TS 43.059 and 3GPP TS 49.031 and awaits the result. If the Requested GPS or
GANSS Assistance Data IE was received from the MS, it is forwarded to the BSS.
If the SMLC indicates to the BSS that it was able successfully to transfer
this to the MS, the BSS shall return a PERFORM-LOCATION-RESPONSE PDU to the
SGSN. This PDU shall contain the PTP BVCI indicating the PTP functional entity
(i.e. the cell) upon which the last LLC-PDU was received from the MS but no
other optional or conditional information elements. The absence of an LCS
Cause parameter in this case implies that the transfer was successful.
Otherwise, if the deciphering keys were requested for LCS broadcast assistance
data, the BSS transfers the request to the SMLC according to the procedures
defined in 3GPP TS 43.059 and 3GPP TS 49.031 and awaits the result. If the BSS
receives the deciphering keys, the BSS shall send them to the SGSN in a
PERFORM-LOCATION-RESPONSE PDU containing also the PTP BVCI indicating the PTP
functional entity (i.e. the cell) upon which the last LLC-PDU was received
from the MS.
### 8b.1.1 Unsuccessful Operation
If the BSS fails to respond to the PERFORM-LOCATION-REQUEST PDU it returns a
PERFORM-LOCATION-RESPONSE PDU with a LCS cause value indicating the failure
cause.
If the BSS receives a failure indication from the SMLC it shall send a
PERFORM-LOCATION-RESPONSE PDU to the SGSN with the LCS cause value that it
received from the SMLC and stop the MPM timer (if running). Upon reception of
the PERFORM-LOCATION-RESPONSE PDU the SGSN shall stop the MPM timer (if
running).
### 8b.1.2 Abnormal Conditions
The following condition may occur:
If the SGSN needs to abort previously initiated location request, it shall
send the PERFORM-LOCATION-ABORT PDU to the BSS. This PDU shall include the PTP
BVCI indicating the PTP functional entity (i.e. the cell) upon which the last
LLC-PDU was received from the MS. As a result of reception of this PDU the BSS
shall abort activities related to positioning of the target MS or assistance
data delivery. The BSS shall return a PERFORM-LOCATION-RESPONSE PDU with a
cause value indicating the abortion of location request. The SGSN may
reattempt the positioning request after the PERFORM-LOCATION-RESPONSE PDU is
received from the BSS, but not before the PDU is received.
If the P-TMSI is reallocated for a target MS during the location procedure,
the SGSN shall abort the location procedure.
If a SUSPEND PDU is received for a target MS during the location procedure,
the SGSN shall abort the location procedure.
If a Routing Area Update request is received from a target MS during the
location procedure, the SGSN shall abort the location procedure.
If an Inter NSE Cell Change, within the same routing area, occurs for a target
MS during the location procedure, the SGSN shall provide the new NSEI and new
BVCI in the FLUSH-LL PDU sent to the BSS, in order for the BSS to maintain the
on-going location procedure, if possible. In case the BSS is unable to
maintain the on-going location procedure, then a location abort shall be
triggered by the BSS towards the SMLC.
### 8b.1.3 Overload
For location requests initiated by the SGSN, the BSC may employ the same
procedures defined for an SMLC in 3GPP TS 49.031 to alleviate an overload
condition in the BSS.
## 8b.2 Position Command Procedure
The position command procedure is used to convey an embedded RRLP message
between the BSS and the MS.
### 8b.2.1 Position Command
The BSS initiates the position command procedure by sending the POSTION-
COMMAND PDU to the SGSN. The procedure is only valid while a location
procedure for the target MS is ongoing.
The POSITION-COMMAND PDU shall include the RRLP Flags and the RRLP APDU
information elements and the PTP BVCI indicating the PTP functional entity
(i.e. the cell) upon which the last LLC-PDU was received from the MS. The RRLP
APDU information element carries the RRLP message and the RRLP Flags
information element carries control information for RRLP.
The SGSN shall extract the RRLP message from the RRLP APDU information element
and forward it, together with the RRLP Flags, to the MS in a TOM message
carried in an LLC-PDU, see 3GPP TS 44.064.
An exception case is when the POSITION-COMMAND PDU contains the
Multilateration Timer IE (i.e. the MTA procedure has been selected by the
SMLC, see sub-clause 11.3.136) and the SGSN determines that it has neither
coverage class nor eDRX information available for the target MS. In this case
the SGSN sends a POSITION-RESPONSE PDU to the BSS with a 'LCS cause' value
indicating 'Target MS Unreachable' (see sub-clause 11.3.58) and aborts the
Location procedure. Otherwise, the SGSN proceeds as follows:
\- A MPM timer is started for the target MS and the SGSN shall not attempt to
deliver downlink data to that MS or page that MS for as long as the MPM timer
continues to run.
\- The DL-UNITDATA PDU used to relay the RRLP message to the BSS includes a
Timing Advance Request IE (see sub-clause 10.2.1) if the POSITION-COMMAND PDU
includes a Timing Advance Request IE (see sub-clause 10.5.4) indicating that
timing advance information is needed.
If an UL-UNITDATA PDU is sent from the BSS to the SGSN for the target MS when
a corresponding MPM timer is running then both the BSS and SGSN shall stop
their respective MPM timers and abort the location procedure for that MS.
### 8b.2.2 Position Response
The SGSN initiates the position response procedure when it receives a TOM
message in an LLC-PDU carrying an RRLP message for a target MS. The procedure
is only valid while a location procedure for the target MS is ongoing.
When the SGSN receives a TOM message in an LLC-PDU carrying an RRLP message
for a target MS, the SGSN shall extract the RRLP message and forward it to the
BSS in a POSITION-RESPONSE PDU. The RRLP message shall be included in the RRLP
APDU information element. The RRLP Flags information shall be extracted from
the TOM header and be included in the RRLP Flags information element The
POSITION-RESPONSE PDU shall also include the PTP BVCI indicating the PTP
functional entity (i.e. the cell) upon which the last LLC-PDU was received
from the MS.
### 8b.2.3 Unsuccessful Operation
If the SGSN fails to process the POSITION-COMMAND PDU it returns a POSITION-
RESPONSE PDU with a LCS cause value indicating the failure cause.
If a POSITION-COMMAND PDU is received by the SGSN while a location procedure
for the target MS is not ongoing a POSITION-RESPONSE PDU with a LCS cause
value indicating this failure cause is returned.
If a POSITION-RESPONSE PDU is received by the BSS while a location procedure
for the target MS is not ongoing the BSS shall ignore the PDU.
# 8c Signalling procedures between RIM SAPs
## 8c.1 General
### 8c.1.1 Introduction
The following sub-clauses describe the generic RAN Information Management
(RIM) procedures which support the exchange of information, via the core
network, between peer application entities located in a GERAN, in a UTRAN, in
an E-UTRAN or in an eHRPD evolved access network.
The RIM function is performed through the interaction of the following sub-
layers:
\- the underlying part of BSSGP used to transport and route the RIM PDUs from
a BSS to an SGSN or from an SGSN to a BSS over the Gb interface;
\- the RIM protocol allowing the exchange of the information between two BSSs
or between a BSS and an RNS or between a BSS and an eNodeB or between an
eNodeB and an eHRPD eAN transparently through the core network;
\- the application part on the top of the RIM protocol, referred to as the
\"RIM application\" in this specification.
NOTE: The functional split between the RIM application and the RIM protocol is
provided for information in the present specification and should allow for
various implementations.
The PDUs conveying the RAN information between two RIM entities are including
containers that shall not be interpreted by the core network nodes. The
exchange of information is triggered by the application in a controlling BSS
or, in the case of the Multilateration Timing Advance procedure (see 3GPP TS
43.059 [23]), by the originating BSS.
The support of different applications is achieved by the appropriate
definition of specific application containers for those applications.
If the RAN Information Management (RIM) feature is supported by both the BSS
and the SGSN, the RIM procedures can be used by any RIM application running on
this BSS and requiring information transfer between two BSSs via the core
network.
NOTE: Specific requirements applicable to RIM between GERAN and UTRAN or
between GERAN and E-UTRAN and between E-UTRAN and eHRPD eAN are specified in
sub-clause 8c.1.4.
### 8c.1.2 Definitions
#### 8c.1.2.1 Controlling, serving, originating and receiving nodes
The BSS requesting the information is called the \"controlling BSS\", the BSS
providing the requested information is called the \"serving BSS\". Considering
a pair of BSSs, each may be at the same time both a controlling BSS and a
serving BSS. An exception is when an application uses the RIM procedure to
transfer information related to the Multilateration Timing Advance procedure
(see 3GPP TS 43.059 [23]) in which case the BSS receiving the information is
called the "receiving BSS" and the BSS autonomously providing the information
is called the "originating BSS".
In the present specification the term \"BSS\" should be understood as \"RNC,
eNodeB or eAN\" in the relevant situations (e. g. NACC from UTRAN/E-UTRAN to
GERAN), unless it is explicitly stated otherwise.
#### 8c.1.2.2 RIM association
A RIM association links unambiguously either a cell in the serving BSS with
the controlling BSS that has initiated an information request related to that
cell for a given application, or a cell in the controlling BSS with the
serving BSS that receives the RAN-INFORMATION-REQUEST PDU for a given
application, and is identified by the following pieces of information:
\- Controlling BSS identifier, or, for some particular values of the SON
Transfer Application Identity for which the Reporting Cell Identifier is a
cell in the controlling BSS (see TS 36.413 [36]), the serving BSS identifier.
\- Cell Identifier in the serving BSS, or, for some particular values of the
SON Transfer Application Identity (see TS 36.413 [36]), Cell Identifier in the
controlling BSS.
> \- RIM Application Identity
>
> \- SON Transfer Application Identity (only applicable if the RIM Application
> Identity indicates \"SON Transfer\").
#### 8c.1.2.3 RIM variables
In this protocol description, variables are used to represent the status of
the relevant entity as a result of an event, such as the reception of an
information element in a message. The variables serve the purpose of
specifying an abstract model of the protocol entity, and do not therefore
impose any particular implementation.
The following variables are defined in the serving BSS:
\- MULTIPLE_REPORTING_ONGOING: this variable indicates whether event-based
multiple reporting is active or not for a given RIM association. This variable
is initialised to FALSE prior to the reception of any request related to the
corresponding association from the controlling BSS, then it is updated
according to the relevant procedure requirements.
\- MULTIPLE_REPORT_SETTING_RSN: this variable stores the RSN of the last
request having initiated or re-initiated multiple reporting in the serving BSS
and is used as a reference to ascertain whether any further request received
for this association is outdated or not. The value of this variable is only
significant when multiple reporting is active (i.e. MULTIPLE_REPORTING_ONGOING
set to TRUE).
### 8c.1.3 RIM PDUs description
#### 8c.1.3.1 RAN-INFORMATION-REQUEST PDU
The RAN-INFORMATION-REQUEST PDU is used by the controlling BSS to request or
interrupt an information transfer from a serving BSS. The RAN-INFORMATION-
REQUEST PDU specifies the requested operation and the expected information
when applicable. The following RAN-INFORMATION-REQUEST PDU type extensions are
defined:
\- RAN-INFORMATION-REQUEST/Single Report is used to request a single report.
\- RAN-INFORMATION-REQUEST/Multiple Report is used to request event-driven
multiple reports.
\- RAN-INFORMATION-REQUEST/Stop is used to stop event-driven multiple reports.
#### 8c.1.3.2 RAN-INFORMATION PDU
The RAN-INFORMATION PDU is used by the serving BSS to transmit the requested
information to the controlling BSS or by the originating BSS to autonomously
send Multilateration Timing Advance (see 3GPP TS 43.059 [23]) related
information to the receiving BSS. The following RAN-INFORMATION PDU type
extensions are defined:
\- RAN-INFORMATION/Single Report is used to acknowledge the reception of a
RAN-INFORMATION-REQUEST/Single Report and to transmit the requested single
report information. The RAN-INFORMATION/Single Report is the only RAN-
INFORMATION PDU type extension used to transfer information related to the
Multilateration Timing Advance procedure (see 3GPP TS 43.059 [23]).
\- RAN-INFORMATION/Initial Multiple Report is used to acknowledge the
reception of a RAN-INFORMATION-REQUEST/Multiple Report and to transmit the
initial report of the event-driven multiple reporting.
\- RAN-INFORMATION/Multiple Report is used to transmit subsequent reports
while event-driven multiple reporting is active.
\- RAN-INFORMATION/Stop is used to acknowledge the reception of a RAN-
INFORMATION-REQUEST/Stop.
\- RAN-INFORMATION/End is used to indicate that the serving BSS will not
longer send multiple reports for other reasons than the reception of a RAN-
INFORMATION-REQUEST/Stop.
#### 8c.1.3.3 RAN-INFORMATION-ACK PDU
The RAN-INFORMATION-ACK PDU is used by the controlling BSS to acknowledge the
reception of a previous RAN-INFORMATION PDU if so requested by the serving BSS
and is used by the serving BSS to acknowledge the reception of a previous RAN-
INFORMATION-APPLICATION-ERROR PDU if so requested by the controlling BSS. The
RAN-INFORMATION-ACK PDU is also used by the receiving BSS to acknowledge the
reception of a previous RAN-INFORMATION PDU autonomously send by the
originating BSS.
#### 8c.1.3.4 RAN-INFORMATION-ERROR PDU
The RAN-INFORMATION-ERROR PDU is used, by either the controlling, the serving
or the receiving BSS, to report an error diagnosed at the RIM protocol level
to the peer entity.
#### 8c.1.3.5 RAN-INFORMATION-APPLICATION-ERROR PDU
The RAN-INFORMATION-APPLICATION-ERROR PDU is used by the controlling or the
receiving BSS to inform the peer application in the serving BSS about
erroneous application information in a previously received RAN-INFORMATION
PDU.
### 8c.1.4 RIM addressing and routing principles
#### 8c.1.4.1 RIM routing address
##### 8c.1.4.1.1 GERAN BSS identification
As there is no BSS address identifier defined as such in the 3GPP
specifications, RIM makes use of the cell identifier (RAI + CI - see sub-
clause 11.3.9 in the present document and 3GPP TS 23.003) of any cell parented
by the BSS:
\- the cell identifier of the source cell is used to identify the BSS issuing
a RIM PDU;
\- the cell identifier of the destination cell is used to identify the BSS
towards which a RIM PDU is issued.
The source cell identifying the BSS issuing a RAN-INFORMATION-REQUEST PDU may
be chosen arbitrarily within all the cells parented by the controlling BSS.
The deletion or the re-parenting of any cell used as a source cell in the
controlling BSS shall trigger the actions described in sub-clause 8c.5.2.
##### 8c.1.4.1.2 UTRAN RNS identification
When RIM is used to support the exchange of information with a peer
application entity located in UTRAN, the RNC identifier (see sub-clause
11.3.70) shall be used as the RIM Routing Address (Source Cell Identifier or
Destination Cell Identifier) to identify the corresponding RNS.
##### 8c.1.4.1.3 E-UTRAN eNodeB identification
When RIM is used to support the exchange of information with a peer
application entity located in E-UTRAN, an eNB identifier (see sub-clause
11.3.70) shall be used as the RIM Routing Address (Source Cell Identifier or
Destination Cell Identifier) to identify the corresponding eNodeB.
##### 8c.1.4.1.4 eHRPD eAN identification
When RIM is used to support the exchange of information with a peer
application entity located in eHRPD, an _eHRPD Sector ID_ IE (see sub-clause
11.3.70) shall be used as the RIM Routing Address (Source Cell Identifier or
Destination Cell Identifier) to identify the corresponding eHRPD eAN.
#### 8c.1.4.2 Routing via the core network
The RIM PDUs shall be conveyed transparently by the core network toward the
destination BSS, RNS, eNodeB or eHRPD eAN. A SGSN or MME shall use the
destination address included in each RIM PDU either to send the PDU to the
relevant BSS, RNS, eNodeB or eAN through the Gb, the Iu, the S1 or the S121
interface respectively, or to tunnel the PDU towards the target SGSN or MME
parenting the destination node through the Gn or S3 interface respectively.
If a RIM PDU has been tunnelled through the Gn or S3 interface to a
destination SGSN or MME that does not support RIM the PDU is discarded without
further action.
#### 8c.1.4.3 Address mirroring
The following address mirroring principles shall be applied:
\- the serving BSS shall mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the received RAN-INFORMATION-REQUEST
PDU into the _Destination Cell Identifier_ IE and the _Source Cell Identifier_
IE, respectively, of the related RAN-INFORMATION PDU(s);
\- the controlling BSS shall mirror the _Source Cell Identifier_ IE value and
the _Destination Cell Identifier_ IE value of the RAN-INFORMATION PDU to be
acknowledged into the _Destination Cell Identifier_ IE and the _Source Cell
Identifier_ IE, respectively, of the related RAN-INFORMATION-ACK PDU;
\- the receiving BSS shall mirror the _Source Cell Identifier_ IE value and
the _Destination Cell Identifier_ IE value of the RAN-INFORMATION PDU to be
acknowledged into the _Destination Cell Identifier_ IE and the _Source Cell
Identifier_ IE, respectively, of the related RAN-INFORMATION-ACK PDU;
\- the BSS having identified an error at the RIM protocol level in a received
RAN-INFORMATION-REQUEST PDU, RAN-INFORMATION PDU, RAN-INFORMATION-ACK PDU or
RAN-INFORMATION-APPLICATION-ERROR PDU shall mirror the _Source Cell
Identifier_ IE value and the _Destination Cell Identifier_ IE value of the
erroneous PDU into the _Destination Cell Identifier_ IE and the _Source Cell
Identifier_ IE, respectively, of the RAN-INFORMATION-ERROR PDU;
\- the controlling BSS having identified an error at application level in a
received PDU shall mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION PDU which
carried the erroneous application information into the _Destination Cell
Identifier_ IE and the _Source Cell Identifier_ IE, respectively, of the RAN-
INFORMATION-APPLICATION-ERROR PDU.
### 8c.1.5 In-order delivery and reliable transfer - RSN
#### 8c.1.5.1 General
A BSS shall allocate a RIM Sequence Number (RSN) to any RAN-INFORMATION-
REQUEST PDU, RAN-INFORMATION PDU or RAN-INFORMATION-APPLICATION-ERROR PDU sent
by this BSS. The purpose of the RSN is twofold:
\- to assess whether a RAN-INFORMATION-REQUEST PDU or a RAN-INFORMATION PDU
received for a given RIM association is providing up-to-date information or is
outdated if having been overtaken by a PDU received previously;
\- to identify the PDU acknowledged with a RAN-INFORMATION-ACK PDU or reported
in a RAN-INFORMATION-ERROR PDU.
For the purpose of comparing any RSN value to a given RSN X, the RSN numbering
space is halved in two equal parts (see figure 8c.1) located on either sides
of RSN X, the half part \"below\" RSN X (modulo RSN MAX+1) defining the RSN
values \"older\" than RSN X, the half part \"above\" (modulo RSN MAX+1) RSN X
defining the RSN values \"newer\" than RSN X.
> Figure 8c.1: Comparing RSN values
#### 8c.1.5.2 Allocating RSN values at the sending BSS
The RSN allocated to a RAN-INFORMATION-REQUEST PDU, RAN-INFORMATION PDU or
RAN-INFORMATION-APPLICATION-ERROR PDU shall be greater (modulo 2**32) than the
RSN value allocated to the previous PDU of the same type sent for this
association. In case a given PDU needs to be resent, this PDU may be re-issued
with either the same RSN value or an increased RSN value (modulo 2**32).
NOTE: The RSN values allocated to two different PDUs sent successively for a
given RIM association need not be consecutive (e.g. the RSN values could be
uniquely allocated for a given application or within the whole BSS). However,
in order to avoid RSN values depletion, the sending BSS should allocate the
next higher RSN value (modulo 2**32) to the next PDU to be sent.
To allow a receiving entity to assess whether two PDUs are received in the
same relative order they have been sent or not, the difference between the RSN
values allocated to those two PDUs should not exceed an RSN window size of
2**31 (see sub-clause 8c.1.5.3).
NOTE: In order to cope with RSN values outside the RSN window for a given RIM
association, the relevant RIM procedures might be triggered on a timely basis
for advancing the RSN window.
#### 8c.1.5.3 Comparing RSN values at the receiving BSS
Let PDU1 and PDU2 be two PDUs received at the BSS and related to the same RIM
association, PDU1 is considered as having been sent earlier than PDU2 if the
difference between the associated RSNs is less than an RSN window size of
2**31 (see sub-clause 8c.1.5.2), i.e.:
(RSN2 - RSN1) mod (2**32) \ set the content of the RAN-INFORMATION-REQUEST/Single Report PDU as
follows:
2> set the _PDU type_ IE, the _Destination Cell Identifier_ IE and the _Source
Cell Identifier_ IE;
2> set the content of the _RIM Container_ IE as follows:
3> set the _RIM Application Identity_ IE and the _RIM Sequence Number_ IE;
3> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION-REQUEST/Single Report\";
3> set the _RIM Protocol Version Number_ IE if necessary (see sub-clause
8c.1.6);
3> include the _Application Container_ IE according to the requirements of the
application;
1> send the RAN-INFORMATION-REQUEST/Single Report PDU;
1> start T(RIR);
##### 8c.2.2.1.2 Reception of a valid RAN-INFORMATION-REQUEST/Single Report
PDU by the serving BSS
Upon reception of a valid RAN-INFORMATION-REQUEST/Single Report PDU as defined
in sub-clause 8c.3.2 the serving BSS shall:
1> set the content of the RAN-INFORMATION/Single Report PDU as follows:
2> set the _PDU type_ IE; mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION-REQUEST/Single
Report PDU respectively into the _Destination Cell Identifier_ IE and the
_Source Cell Identifier_ IE of the RAN-INFORMATION/Single Report PDU;
2> set the content of the _RIM Container_ IE as follows:
3> set the _RIM Application Identity_ IE as required by the application;
3> set the _RIM Sequence Number_ IE and, if necessary, the _RIM Protocol
Version Number_ IE (see sub-clause 8c.1.6);
3> set the _ACK_ indicator in the _RIM PDU Indications_ IE to \"No ACK
requested\";
3> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION/Single Report\";
3> include either the RAN-INFORMATION _Application Container_ IE or the
_Application Error Container_ IE according to the requirements of the
application;
1> send the RAN-INFORMATION/Single Report PDU to the controlling BSS.
##### 8c.2.2.1.3 Reception of a valid RAN-INFORMATION/Single Report PDU by the
controlling BSS
Upon reception of a valid RAN-INFORMATION/Single Report PDU as defined in sub-
clause 8c.3.2 the controlling BSS shall:
1> stop T(RIR) for this RIM association;
1> deliver the relevant information to the application;
and the procedure ends.
##### 8c.2.2.1.4 Expiration of T(RIR) in the controlling BSS
If T(RIR) expires the controlling BSS shall as an implementation option either
inform the application that the procedure has failed or restart the RAN
Information Request/Single Report procedure a finite number of times as
described in sub-clause 8c.2.2.1.1.
#### 8c.2.2.2 RAN Information Request/Multiple Report procedure
Figure 8c.2.2.2: Successful RAN Information Request/Multiple Report Procedure
##### 8c.2.2.2.1 Initiation by the controlling BSS
Upon initiation of the procedure, the controlling BSS shall:
1> set the content of the RAN-INFORMATION-REQUEST/Multiple Report PDU as
follows:
2> set the _PDU type_ IE, the _Destination Cell Identifier_ IE and the _Source
Cell Identifier_ IE;
2> set the content of the _RIM Container_ IE as follows:
3> set the _RIM Application Identity_ IE and the _RIM Sequence Number_ IE;
3> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION-REQUEST/Multiple Report\";
3> set the _RIM Protocol Version Number_ IE if necessary (see sub-clause
8c.1.6);
3> include the _Application Container_ IE according to the requirements of the
application;
1> send the RAN-INFORMATION-REQUEST/Multiple Report PDU;
1> Start T(RIR);
##### 8c.2.2.2.2 Reception of a valid RAN-INFORMATION-REQUEST/Multiple Report
PDU by the serving BSS
Upon reception of a valid RAN-INFORMATION-REQUEST/Multiple Report PDU as
defined in sub-clauses 8c.3.2 the serving BSS shall:
1> if MULTIPLE_REPORTING_ONGOING is set to TRUE for this RIM association and
if the received RAN-INFORMATION-REQUEST/Multiple Report PDU is considered as
having been sent earlier (see sub-clause 8c.1.5) than the PDU whose RSN is
stored in MULTIPLE_REPORT_SETTING_RSN, then:
2> discard the PDU without further actions and the procedure ends;
1> otherwise:
2> set the MULTIPLE_REPORTING_ONGOING variable to TRUE for this RIM
association;
2> store the _RIM Sequence Number_ IE value of the received PDU in the
MULTIPLE_REPORT_SETTING_RSN variable;
> 2> set the content of the RAN-INFORMATION/Initial Multiple Report PDU as
> follows:
3> set the _PDU type_ IE; mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION-REQUEST/Multiple
Report PDU respectively into the _Destination Cell Identifier_ IE and the
_Source Cell Identifier_ IE of the RAN-INFORMATION/Initial Multiple Report
PDU;
3> set the content of the _RIM Container_ IE as follows:
4> set the _RIM Application Identity_ IE as required by the application;
4> set the _RIM Sequence Number_ IE and, if necessary, the _RIM Protocol
Version Number_ IE (see sub-clause 8c.1.6);
4> set the _ACK_ indicator in the _RIM PDU Indications_ IE to \"No ACK
requested\";
4> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION/Initial Multiple Report\";
4> include either the RAN-INFORMATION _Application Container_ IE or the
_Application Error Container_ IE according to the requirements of the
application;
2> send the RAN-INFORMATION/Initial Multiple Report PDU.
##### 8c.2.2.2.3 Reception of a valid RAN-INFORMATION PDU/Initial Multiple
Report PDU by the controlling BSS
Upon reception of a valid RAN-INFORMATION/Initial Multiple Report PDU as
defined in sub-clause 8c.3.2 the controlling BSS shall:
1> stop T(RIR) for this RIM association;
1> deliver the relevant information to the application;
and the procedure ends.
##### 8c.2.2.2.4 Expiration of T(RIR) in the controlling BSS
If T(RIR) expires the controlling BSS shall as an implementation option either
inform the application that the procedure has failed or restart the RAN
Information Request/Multiple Report procedure a finite number of times as
described in sub-clause 8c.2.2.2.1.
#### 8c.2.2.3 RAN Information Request/Stop procedure
Figure 8c.2.2.3: RAN Information Request/Stop Procedure
##### 8c.2.2.3.1 Initiation by the controlling BSS
Upon initiation of the procedure, the controlling BSS shall:
1> set the content of the RAN-INFORMATION-REQUEST/Stop PDU as follows:
2> set the _PDU type_ IE, the _Destination Cell Identifier_ IE and the _Source
Cell Identifier_ IE;
2> set the content of the _RIM Container_ IE as follows:
3> set the _RIM Application Identity_ IE and the _RIM Sequence Number_ IE;
3> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION-REQUEST/Stop\";
3> set the _RIM Protocol Version Number_ IE if necessary (see sub-clause
8c.1.6);
3> include the _Application Container_ IE according to the requirements of the
application;
1> send the RAN-INFORMATION-REQUEST/Stop PDU;
1> start T(RIR).
##### 8c.2.2.3.2 Reception of a valid RAN-INFORMATION-REQUEST/Stop PDU by the
serving BSS
Upon reception of a valid RAN-INFORMATION-REQUEST/Stop PDU as defined in sub-
clause 8c.3.2, the serving BSS shall:
1> if MULTIPLE_REPORTING_ONGOING is set to TRUE for this RIM association and
if the received RAN-INFORMATION-REQUEST/Stop PDU is considered as having been
sent earlier (see sub-clause 8c.1.5) than the PDU whose RSN is stored in
MULTIPLE_REPORT_SETTING_RSN, then:
2> discard the PDU without further actions and the procedure ends;
1> otherwise:
2> set the MULTIPLE_REPORTING_ONGOING variable to FALSE for this RIM
association;
2> set the content of the RAN-INFORMATION/Stop as follows:
3> set the _PDU type_ IE; mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION-REQUEST/Stop PDU
respectively into the _Destination Cell Identifier_ IE and the _Source Cell
Identifier_ IE of the RAN-INFORMATION/Stop PDU;
3> set the content of the _RIM Container_ IE as follows:
4> set the _RIM Application Identity_ IE as required by the application;
4> set the _RIM Sequence Number_ IE and, if necessary, the _RIM Protocol
Version Number_ IE (see sub-clause 8c.1.6);
4> set the _ACK_ indicator in the _RIM PDU Indications_ IE to \"No ACK
requested\";
4> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION/Stop\";
4> include either the _Application Container_ IE or the _Application Error
Container_ IE according to the requirements of the application;
2> send the RAN-INFORMATION/Stop PDU.
##### 8c.2.2.3.3 Reception of a valid RAN-INFORMATION/Stop PDU by the
controlling BSS
Upon reception of a valid RAN-INFORMATION/Stop PDU as defined in sub-clause
8c.3.2 the controlling BSS shall:
1> stop T(RIR) for this RIM association;
1> deliver the relevant information to the application;
and the procedure ends.
##### 8c.2.2.3.4 Expiration of T(RIR) in the controlling BSS
If T(RIR) expires the controlling BSS shall as an implementation option either
inform the application that the procedure has failed or restart the RAN
Information Request/Stop procedure a finite number of times as described in
sub-clause 8c.2.2.3.1.
### 8c.2.3 RAN Information Send procedure
Fig 8c.2.3: Acknowledged RAN Information Send procedure
### 8c.2.3a Autonomous RAN Information Send procedure
Fig 8c.2.3: Acknowledged Autonomous RAN Information Send procedure
#### 8c.2.3a.1 Initiation by the originating BSS
This RIM procedure is used for sending Multilateration Timing Advance related
information from an originating BSS to a receiving BSS.
The autonomous RAN Information Send procedure is initiated by the application
in the originating BSS when it realizes there is multilaration related
information to be sent (using the RAN-INFORMATION/Single Report PDU) and it
has not triggered the Multilateration Timing Advance procedure (see 3GPP TS
43.059 [23]).
Upon initiation of the procedure, the originating BSS shall:
1\. set the content of the RAN-INFORMATION PDU as follows:
a. set the _PDU type_ IE, the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value where the _Destination Cell Identifier_
IE corresponds to the 8 octet _Source Identity IE (Cell Identity+Routing Area
Identity)_ received in an uplink RLC data block as part of a Multilateration
Timing Advance procedure (see 3GPP TS 44.060 [22];
b. set the content of the _RIM Container_ IE as follows:
i set the _RIM Application Identity_ IE and the _RIM Sequence Number_ IE;
ii set the _RIM Protocol Version Number_ IE if necessary (see sub-clause
8c.1.6)
iii set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION/Single Report\";
iv for a RAN-INFORMATION/Single Report PDU, set the _ACK_ indicator to \"ACK
requested\";
v set the _Application Container_ IE according to the requirements of the
Multilateration Timing Advance application (see sub-clause 11.3.63.2.6);
2\. send the RAN-INFORMATION PDU;
3\. if the _ACK_ indicator has been set to \"ACK requested\", start a T(RI)
instance for this RAN-INFORMATION PDU;
4\. otherwise the procedure ends.
#### 8c.2.3a.2 Reception of a valid RAN-INFORMATION PDU by the receiving BSS
Upon reception of a valid RAN-INFORMATION/Single Report the receiving BSS
shall:
1\. deliver the relevant information to the application;
a) if the _ACK_ indicator in the _RIM PDU Indications_ IE included in the RIM
container of the RAN-INFORMATION PDU is set to \"ACK requested\", the
receiving BSS shall:
2\. set the content of the RAN-INFORMATION-ACK PDU as follows:
i set the _PDU type_ IE; mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION PDU respectively
into the _Destination Cell Identifier_ IE and the _Source Cell Identifier_ IE
of the RAN-INFORMATION-ACK PDU;
ii set the content of the _RIM Container_ IE as follows:
ii.1 mirror the _RIM Sequence Number_ IE value and the _RIM Application
Identity_ IE value included in the RIM container of the RAN-INFORMATION PDU
respectively into the _RIM Sequence Number_ IE and the _RIM Application
Identity_ IE of the RAN-INFORMATION-ACK PDU;
ii.2 set, if necessary, the _RIM Protocol Version Number_ IE (see sub-clause
8c.1.6);
3\. send the RAN-INFORMATION-ACK PDU.
b) otherwise, the procedure ends.
#### 8c.2.3a.3 Reception of a valid RAN-INFORMATION-ACK PDU in the originating
BSS
Upon reception of a valid RAN-INFORMATION-ACK PDU as defined in sub-clause
8c.3.2 the originating BSS shall:
1\. if the _RIM Sequence Number_ IE value contained in the RAN-INFORMATION-ACK
PDU matches the RSN of the RAN-INFORMATION PDU having initiated the procedure
then:
a) stop the T(RI) instance corresponding to the acknowledged PDU;
and the procedure ends.
#### 8c.2.3a.4 Expiration of T(RI) in the originating BSS
Upon expiration of the T(RI) instance the originating BSS shall, as an
implementation option, either inform the application that the procedure has
failed or restart the RAN Information Send procedure a finite number of times
as described in sub-clause 8c.2.3.1.
#### 8c.2.3.1 Initiation by the serving BSS
If multiple reporting has been requested for a given RIM association (i.e. the
MULTIPLE_REPORTING_ONGOING variable is set to TRUE), the RAN Information Send
procedure is initiated by the application in the serving BSS either to send
updated information (using the RAN-INFORMATION/Multiple Report PDU) or to
indicate that multiple reporting has been deactivated on the serving BSS side
(using the RAN-INFORMATION/End PDU).
Upon initiation of the procedure, the serving BSS shall:
1> set the content of the RAN-INFORMATION PDU as follows:
2> set the _PDU type_ IE, mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION-REQUEST/Multiple
Report PDU that is identified by the RSN stored in the
MULTIPLE_REPORT_SETTING_RSN variable respectively into the _Destination Cell
Identifier_ IE and the _Source Cell Identifier_ IE of the RAN-INFORMATION PDU;
2> set the content of the _RIM Container_ IE as follows:
3> mirror the _RIM Application Identity_ IE value of the RAN-INFORMATION-
REQUEST/Multiple Report PDU that is identified by the RSN stored in the
MULTIPLE_REPORT_SETTING_RSN variable into the _RIM Application Identity_ IE of
the RAN-INFORMATION PDU;
3> set the _RIM Sequence Number_ IE and, if necessary, the _RIM Protocol
Version Number_ IE (see sub-clause 8c.1.6);
3> set the _PDU Type Extension_ field in the _RIM PDU Indications_ IE to
\"RAN-INFORMATION/Multiple Report\" or \"RAN-INFORMATION/End\" as required by
the application;
3> for a RAN-INFORMATION/Multiple Report PDU, set the _ACK_ indicator to the
value required by the application; for a RAN-INFORMATION/End PDU, set the
_ACK_ indicator to \"ACK requested\";
3> set the _Application Container_ IE according to the requirements of the
application;
1> if the RAN-INFORMATION PDU is a RAN-INFORMATION/End (multiple reporting
deactivated), set the MULTIPLE_REPORTING_ONGOING variable to FALSE;
1> send the RAN-INFORMATION PDU;
1> if the _ACK_ indicator has been set to \"ACK requested\", start a T(RI)
instance for this RAN-INFORMATION PDU;
1> otherwise the procedure ends.
#### 8c.2.3.2 Reception of a valid RAN-INFORMATION PDU by the controlling BSS
Upon reception of a valid RAN-INFORMATION/Multiple Report or RAN-
INFORMATION/End PDU as defined in sub-clause 8c.3.2 the controlling BSS shall:
1> deliver the relevant information to the application;
1> if the _ACK_ indicator in the _RIM PDU Indications_ IE included in the RIM
container of the RAN-INFORMATION PDU is set to \"ACK requested\", the
controlling BSS shall:
2> set the content of the RAN-INFORMATION-ACK PDU as follows:
3> set the _PDU type_ IE; mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION PDU respectively
into the _Destination Cell Identifier_ IE and the _Source Cell Identifier_ IE
of the RAN-INFORMATION-ACK PDU;
3> set the content of the _RIM Container_ IE as follows:
4> mirror the _RIM Sequence Number_ IE value and the _RIM Application
Identity_ IE value included in the RIM container of the RAN-INFORMATION PDU
respectively into the _RIM Sequence Number_ IE and the _RIM Application
Identity_ IE of the RAN-INFORMATION-ACK PDU;
4> set, if necessary, the _RIM Protocol Version Number_ IE (see sub-clause
8c.1.6);
NOTE: If the RAN-INFORMATION PDU is a RAN-INFORMATION/End, the controlling BSS
shall consider that multiple reporting is deactivated for this RIM association
in the serving BSS.
2> send the RAN-INFORMATION-ACK PDU.
1> otherwise, the procedure ends.
#### 8c.2.3.3 Reception of a valid RAN-INFORMATION-ACK PDU in the serving BSS
Upon reception of a valid RAN-INFORMATION-ACK PDU as defined in sub-clause
8c.3.2 the serving BSS shall:
1> if the _RIM Sequence Number_ IE value contained in the RAN-INFORMATION-ACK
PDU matches the RSN of the RAN-INFORMATION PDU having initiated the procedure
then:
2> stop the T(RI) instance corresponding to the acknowledged PDU;
and the procedure ends.
#### 8c.2.3.4 Expiration of T(RI) in the serving BSS
Upon expiration of the T(RI) instance the serving BSS shall, as an
implementation option, either inform the application that the procedure has
failed or restart the RAN Information Send procedure a finite number of times
as described in sub-clause 8c.2.3.1.
### 8c.2.4 RAN Information Application Error procedure
Fig 8c.2.4: RAN Information Application Error procedure
#### 8c.2.4.1 Initiation by the controlling or receiving BSS
Upon initiation of the procedure, the controlling/receiving BSS shall:
1\. set the content of the RAN-INFORMATION-APPLICATION-ERROR PDU as follows:
a) set the _PDU type_ IE, mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION PDU with the
erroneous application container respectively into the _Destination Cell
Identifier_ IE and the _Source Cell Identifier_ IE of the RAN-INFORMATION-
APPLICATION-ERROR PDU;
b) set the content of the _RIM Container_ IE as follows:
i set the _RIM Application Identity_ IE and the _RIM Sequence Number_ IE;
> ii set the _RIM Protocol Version Number_ IE if necessary (see sub-clause
> 8c.1.6);
iii set the _ACK_ indicator in the _RIM PDU Indications_ IE according to the
requirements of the application;
iv include the _Application Error Container_ IE according to the requirements
of the application
2\. send the RAN-INFORMATION-APPLICATION-ERROR PDU to the serving/originating
BSS;
3\. if the _ACK_ indicator has been set to \"ACK requested\", start a T(RIAE)
instance for this RAN-INFORMATION-APPLICATION-ERROR PDU;
4\. otherwise the procedure ends.
#### 8c.2.4.2 Reception of a valid RAN-INFORMATION-APPLICATION-ERROR PDU by
the serving BSS
Upon reception of a valid RAN-INFORMATION-APPLICATION-ERROR PDU as defined in
sub-clause 8c.3.2 the serving BSS shall:
1> deliver the relevant information to the application;
1> if the _ACK_ indicator in the _RIM PDU Indications_ IE included in the RIM
container of the RAN-INFORMATION-APPLICATION-ERROR PDU is set to \"ACK
requested\", then the serving BSS shall:
2> set the content of the RAN-INFORMATION-ACK PDU as follows:
3> set the _PDU type_ IE, mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the RAN-INFORMATION-APPLICATION-
ERROR PDU respectively into the _Destination Cell Identifier_ IE and the
_Source Cell Identifier_ IE of the RAN-INFORMATION-ACK PDU;
3> set the content of the _RIM Container_ IE as follows:
4> mirror the _RIM Sequence Number_ IE value and the _RIM Application
Identity_ IE value included in the RIM container of the RAN-INFORMATION-
APPLICATION-ERROR PDU respectively into the _RIM Sequence Number_ IE and the
_RIM Application Identity_ IE of the RAN-INFORMATION-ACK PDU;
4> set the _RIM Protocol Version Number_ IE if necessary (see sub-clause
8c.1.6);
2> send the RAN-INFORMATION-ACK PDU.
1> otherwise, the procedure ends.
#### 8c.2.4.3 Reception of a valid RAN-INFORMATION-ACK PDU by the controlling
or receiving BSS
Upon reception of a valid RAN-INFORMATION-ACK PDU as defined in sub-clause
8c.3.2, the controlling or receiving BSS shall:
1> if the _RIM Sequence Number_ IE value contained in the RAN-INFORMATION-ACK
PDU matches the RSN of the RAN-INFORMATION-APPLICATION-ERROR PDU having
initiated the procedure
2> then stop the T(RIAE) instance corresponding to the acknowledged PDU;
1> else discard the PDU without further action;
and the procedure ends.
#### 8c.2.4.4 Expiration of T(RIAE) in the controlling or receiving BSS
At the expiration of the T(RIAE) instance corresponding to the RAN-
INFORMATION-APPLICATION-ERROR PDU sent previously by the controlling or
receiving BSS, the controlling or receiving BSS shall, as an implementation
option, either inform the application that the procedure has failed or restart
the RAN Information Application Error procedure a finite number of times as
described in sub-clause 8c.2.4.1.
### 8c.2.5 RAN Information Error procedure
Fig 8c.2.5: RAN Information Error procedure
The RAN Information Error procedure is initiated by the RIM in the source BSS
(controlling originating, receiving or serving) to transfer error information
to the RIM entity in the associated BSS.
The procedure is described in sub-clause 8c.3.4.
## 8c.3 Abnormal conditions
### 8c.3.0 General
Two levels of abnormal conditions are defined for the RIM function:
\- the abnormal conditions encountered at the BSSGP level as described in sub-
clause 8c.3.1, affecting the routing mechanisms and the related IEs in the RIM
PDUs;
\- the abnormal conditions encountered in the RIM container as described in
sub-clauses 8c.3.2 and 8c.3.3.
The errors encountered in the application container are handled by the
application and are made known to the peer application entity by including the
_Application Error container_ IE.
### 8c.3.1 Abnormal conditions at the BSSGP level
#### 8c.3.1.1 General
The general protocol error handling as defined in section 9 applies.
However, the RIM containers being defined as general containers for passing
field elements transparently between BSSs via the core network are not subject
to error handling at the BSSGP level but only at the RIM protocol level (see
sub-clause 8c.3.2).
Additionally the abnormal conditions defined in the following sub-clauses
apply.
#### 8c.3.1.2 RIM addressing error in BSS
If a BSS receives from an SGSN a RIM PDU with a _Destination Cell Identifier_
IE value which does not match the cell identifier of any of its parented
cells, the PDU shall be discarded and a STATUS PDU with the cause value set to
\"Unknown Destination address\" shall be sent back to the SGSN.
#### 8c.3.1.3 RIM addressing error in the CN
If an SGSN receives from a BSS a RIM PDU with an invalid destination address,
the PDU shall be discarded and a STATUS PDU with the cause value set to
\"Unknown Destination address\" shall be sent back to the BSS.
#### 8c.3.1.4 RIM PDU addressed to a BSS not supporting RIM
If an SGSN receives a RIM PDU addressed to a parented BSS that does not
support the RIM procedures, the PDU shall be discarded without further action.
### 8c.3.2 Abnormal conditions encountered in the RIM container
#### 8c.3.2.1 Unknown RIM Application Identity
If the RIM container included in a RAN-INFORMATION PDU, RAN-INFORMATION-
REQUEST PDU, RAN-INFORMATION-ACK PDU or RAN-INFORMATION-APPLICATION-ERROR PDU
contains an unknown value in the _RIM Application Identity_ IE, or if the RIM
container contains an unknown value in the _SON Transfer Application Identity_
IE in case the _RIM Application Identity_ IE is set to \"SON Transfer\", or if
the RIM application is disabled when receiving a RAN-INFORMATION-REQUEST PDU,
the BSS shall send a RAN-INFORMATION-ERROR PDU with the _RIM Cause_ IE set to
\"Unknown RIM Application Identity or RIM application disabled\" back to the
originating BSS (see sub-clause 8c.3.4.2) and discard the received PDU.
If the RIM container included in a RAN-INFORMATION-ERROR PDU contains an
unknown value in the _RIM Application Identity_ IE, or if the RIM container
contains an unknown value in the _SON Transfer Application Identity_ IE in
case the _RIM Application Identity_ IE is set to \"SON Transfer\", the BSS
shall discard the RIM PDU without further action.
#### 8c.3.2.2 Erroneous PDU Type Extension field
If the _PDU Type Extension_ field in the _RIM PDU Indications_ IE included in
the RIM container of a RAN-INFORMATION-REQUEST PDU does not indicate \"RAN-
INFORMATION-REQUEST/Multiple Report\", \"RAN-INFORMATION-REQUEST/Stop\" or
\"RAN-INFORMATION-REQUEST/Single Report\", the serving BSS shall send a RAN-
INFORMATION-ERROR PDU containing the complete received PDU and with the _RIM
Cause_ IE set to \"PDU not compatible with the feature set\" back to the
originating BSS (see sub-clause 8c.3.4.2) and shall discard the received PDU.
If the _PDU Type Extension_ field in the _RIM PDU Indications_ IE included in
the RIM container of a RAN-INFORMATION PDU does not indicate \"RAN-
INFORMATION/Single Report\", \"RAN-INFORMATION/Multiple Report\", \"RAN-
INFORMATION/Initial Multiple Report\", \"RAN-INFORMATION/Stop\" or \"RAN-
INFORMATION/End\", the serving BSS shall send a RAN-INFORMATION-ERROR PDU
containing the complete received PDU and with the _RIM Cause_ IE set to \"PDU
not compatible with the feature set\" back to the originating BSS (see sub-
clause 8c.3.4.2) and shall discard the received PDU.
#### 8c.3.2.3 Missing conditional IE
If an expected conditional Information Element is not included in the RIM
container of a RAN-INFORMATION PDU, RAN-INFORMATION-REQUEST PDU, RAN-
INFORMATION-ACK PDU or RAN-INFORMATION-APPLICATION-ERROR PDU, the BSS shall
send a RAN-INFORMATION-ERROR PDU containing the complete received PDU and with
the _RIM Cause_ IE set to \"Missing Conditional IE\" back to the originating
BSS (see sub-clause 8c.3.4.2) and discard the received PDU.
If an expected conditional Information Element is not included in the RIM
container of a RAN-INFORMATION-ERROR PDU, the BSS shall discard the received
PDU without further action.
#### 8c.3.2.4 Missing mandatory IE
If a mandatory Information Element is not included in the RIM container of a
RAN-INFORMATION PDU, RAN-INFORMATION-REQUEST PDU, RAN-INFORMATION-ACK PDU or
RAN-INFORMATION-APPLICATION-ERROR PDU, the BSS shall send a RAN-INFORMATION-
ERROR PDU containing the complete received PDU and with the _RIM Cause_ IE set
to \"Missing Mandatory IE\" back to the originating BSS (see sub-clause
8c.3.4.2) and discard the received PDU.
If a mandatory Information Element is not included in the RIM container of a
RAN-INFORMATION-ERROR PDU, the BSS shall discard the received PDU without
further action.
#### 8c.3.2.5 Syntactical error in an expected conditional IE
If a syntactical error is detected in an expected conditional Information
Element included in the RIM container of a RAN-INFORMATION PDU, RAN-
INFORMATION-REQUEST PDU, RAN-INFORMATION-ACK PDU or RAN-INFORMATION-
APPLICATION-ERROR PDU, the BSS shall send a RAN-INFORMATION-ERROR PDU
containing the complete received PDU and with the _RIM Cause_ IE set to
\"Conditional IE error\" back to the originating BSS (see sub-clause 8c.3.4.2)
and discard the received PDU.
If a syntactical error is detected in an expected conditional Information
Element included in the RIM container of a RAN-INFORMATION-ERROR PDU, the BSS
shall discard the received PDU without further action.
#### 8c.3.2.6 Syntactical error in a mandatory IE
> If a syntactical error is detected in a mandatory IE included in the RIM
> container of a RAN-INFORMATION PDU, RAN-INFORMATION-REQUEST PDU, RAN-
> INFORMATION-ACK PDU or RAN-INFORMATION-APPLICATION-ERROR PDU, the BSS shall
> send a RAN-INFORMATION-ERROR PDU containing the complete received PDU and
> with the _RIM Cause_ IE set to \"Invalid mandatory information\" back to the
> originating BSS (see sub-clause 8c.3.4.2) and discard the received PDU.
For this rule the following exceptions apply:
\- unknown _RIM Application Identity_ IE (see sub-clause 8c.3.2.1); or
\- erroneous _PDU Type Extension_ field (see sub-clause 8c.3.2.2)
If a syntactical error is detected in a mandatory IE included in the RIM
container of a RAN-INFORMATION-ERROR PDU, the BSS shall discard the received
PDU without further action.
#### 8c.3.2.7 Unexpected conditional IE
If an unexpected conditional Information Element is received in the RIM
container of a RAN-INFORMATION PDU, RAN-INFORMATION-REQUEST PDU, RAN-
INFORMATION-ACK PDU or RAN-INFORMATION-APPLICATION-ERROR PDU, the BSS shall
send a RAN-INFORMATION-ERROR PDU containing the complete received PDU and with
the _RIM Cause_ IE set to \"Unexpected Conditional IE\" back to the
originating BSS (see sub-clause 8c.3.4.2) and discard the received PDU.
If an unexpected conditional Information Element is received in the RIM
container of a RAN-INFORMATION-ERROR PDU, the BSS shall discard the received
PDU without further action.
#### 8c.3.2.8 Containers with out-of-sequence information elements
The receiving BSS may accept RIM containers that include information elements
that do not appear to be in the correct sequence. Elements that occur more
than once in a RIM container shall be assumed to have been transmitted in the
correct order. Recipients that do not accept out of sequence information
elements shall regard the RIM container as containing unexpected and/or
missing information elements and follow the procedures defined in the rest of
this sub-clause 8c.3.2.
#### 8c.3.2.9 Container with semantically incorrect content
When any IE with semantically incorrect contents is received within a RIM
container, the receiving BSS shall react according to the relevant protocol
specification. If however no such reactions are specified, the receiving BSS
shall ignore that IE and treat the rest of the RIM container. If the rest of
the RIM container can no longer be handled because this IE was ignored then
the receiving BSS shall send a RAN-INFORMATION-ERROR PDU containing the
complete received PDU and with the _RIM Cause_ IE set to \"Semantically
incorrect PDU\" back to the originating BSS (see sub-clause 8c.3.4.2) and
discard the received PDU.
### 8c.3.3 Unexpected RIM PDU
If a BSS receives a RIM PDU in a case not covered by the RIM procedures
specified in sub-clause 8c.2, it shall discard the RIM PDU without further
action.
### 8c.3.4 RIM error reporting
#### 8c.3.4.1 General
A BSS diagnosing any of the abnormal cases identified in sub-clause 8c.3.2 in
a received RIM PDU shall inform the originating BSS by sending in return a
RAN-INFORMATION-ERROR PDU as described in sub-clause 8c.3.4.2.
The tasks to be performed upon reception of the RAN-INFORMATION-ERROR PDU are
described in sub-clause 8c.3.4.3.
#### 8c.3.4.2 Sending of a RAN-INFORMATION-ERROR PDU
A BSS receiving an erroneous RIM PDU according to sub-clause 8c.3.2 shall:
1> set the _PDU type_ IE, mirror the _Source Cell Identifier_ IE value and the
_Destination Cell Identifier_ IE value of the erroneous RIM PDU respectively
into the _Destination Cell Identifier_ IE and the _Source Cell Identifier_ IE
of the RAN-INFORMATION-ERROR PDU
1> set the content of _RIM Container_ IE as follows:
2> mirror the _RIM Application Identity_ IE value of the erroneous RIM PDU
into the _RIM Application Identity_ IE in the _RIM Container_ IE of the RAN-
INFORMATION-ERROR PDU;
2> set the _RIM Cause_ IE and, if necessary, the _RIM Protocol Version Number_
IE (see sub-clause 8c.1.6);
2> include the complete erroneous RIM PDU in to the _PDU in Error_ IE;
1> send the RAN-INFORMATION-ERROR PDU.
#### 8c.3.4.3 Reception of a RAN-INFORMATION-ERROR PDU in the BSS
Upon reception of an erroneous RAN-INFORMATION-ERROR PDU according to sub-
clause 8c.3.2 the BSS shall discard the received PDU without further action.
The actions to be taken upon reception of a valid RAN-INFORMATION-ERROR PDU
are an implementation-dependent option.
## 8c.4 RIM timers
The following RIM timers are defined:
T(RIR) is used in the controlling BSS to control the reception of the response
to a previously transmitted RAN-INFORMATION-REQUEST PDU.
T(RI) is used in the serving BSS used to control the reception of the
acknowledgement of a previously transmitted RAN-INFORMATION PDU.
T(RIAE) is used in the controlling BSS used to control the reception of the
acknowledgement of a previously transmitted RAN-INFORMATION-APPLICATION-ERROR
PDU.
Table 8c.4: RIM timers
* * *
Timer Start Stop Action at expiry T(RIR) Transmission of a RAN-INFORMATION-
REQUEST/Multiple Report PDU Reception of the answering RAN-INFORMATION/Initial
Multiple Report Either (implementation option) inform the application that the
procedure has failed or restart the procedure a finite number of times
Transmission of a RAN-INFORMATION-REQUEST/Single Report PDU Reception of the
answering RAN-INFORMATION/Single Report Either (implementation option) inform
the application that the procedure has failed or restart the procedure a
finite number of times Transmission of a RAN-INFORMATION-REQUEST/Stop PDU
Reception of the answering RAN-INFORMATION/Stop Either (implementation option)
inform the application that the procedure has failed or restart the procedure
a finite number of times T(RI) Transmission of a RAN-INFORMATION/Multiple
Report, RAN-INFORMATION/Single Report or RAN-INFORMATION/End PDU Reception of
the answering RAN-INFORMATION-ACK Either (implementation option) inform the
application that the procedure has failed or restart the procedure a finite
number of times T(RIAE) Transmission of a RAN-INFORMATION-APPLICATION-ERROR
PDU Reception of the answering RAN-INFORMATION-ACK Either (implementation
option) inform the application that the procedure has failed or restart the
procedure a finite number of times
* * *
## 8c.5 Action upon deletion of a cell in a BSS
### 8c.5.0 General
The deletion of a cell in a BSS should trigger the actions described in this
sub-clause to ensure the proper operation of the RIM procedures for RIM
associations related to this cell.
### 8c.5.1 Actions due to the deletion of the cell
If the deleted cell has to report to one or more controlling BSS(s), the
serving BSS parenting the deleted cell shall trigger a RAN Information Send
procedure to inform each of the corresponding controlling BSS(s) that multiple
reporting has been deactivated by the sending of a RAN-INFORMATION/End PDU.
The controlling BSS parenting the deleted cell may also decide that, as a
consequence of the deletion of this cell, some multiple reports previously
requested from some cells parented by other BSS(s) are no longer needed and
shall trigger the relevant RAN Information Request/Stop procedure.
### 8c.5.2 Additional actions in the case the deleted cell is used as a source
cell by RIM
If the cell identifier of the cell being deleted has been used as the _Source
Cell Identifier_ IE value in a previous RAN-INFORMATION-REQUEST/Multiple
report PDU, the deletion of this cell shall trigger the following additional
actions to update this information in the serving BSS, as the _Source Cell
Identifier_ IE is used by the serving BSS to address the controlling BSS
(address mirroring - see sub-clause 8c.1.4.3):
\- The controlling BSS parenting this cell shall trigger a RAN Information
Request/Stop procedure for each of the involved cells in the serving BSS;
\- After the completion of this procedure the parenting BSS shall, if event-
based multiple reporting is still needed from the involved cells, trigger
further RAN Information Request/Multiple Report procedure(s) with a different
cell identifier as _Source Cell Identifier_ IE value.
## 8c.6 Specific requirements related to RIM applications
### 8c.6.0 General requirements
Any error condition detected in the _Application Error Container_ IE included
in the _RIM Container_ IE of a valid RIM PDU shall not be reported to the peer
application entity.
Any error condition detected in the _Application Container_ IE included in the
_RIM Container_ IE of an erroneous RIM PDU shall not trigger a RAN Information
Application Error procedure.
A controlling BSS shall not send another RAN-INFORMATION-REQUEST PDU for the
same association before the first RAN-INFORMATION-REQUEST PDU has been
acknowledged or before T(RIR) associated to this request has expired.
### 8c.6.1 Requirements related to the NACC RIM application
The rules specified in this sub-clause apply when the _RIM Application
Identity_ IE is set to \"Network Assisted Cell Change (NACC)\":
\- The RAN-INFORMATION-REQUEST PDU is used by a controlling BSS to request the
system information required for NACC operation in the controlling BSS and
related to a single cell parented by a serving BSS. The _Destination Cell
Identifier_ IE of the RAN-INFORMATION-REQUEST PDU shall be set to the value of
the _Reporting Cell Identifier_ field contained in the application container
of the PDU.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION-REQUEST PDU.
\- The RAN-INFORMATION PDU is used by a serving BSS to send the system
information required for NACC operation (i.e. if a PBCCH is allocated in the
cell, PSI1, a consistent set of PSI2 and PSI14 messages; if no PBCCH is
allocated in the cell, SI3, SI13 and, if available, SI1 messages - see 3GPP TS
4.060) related to a single reporting cell, to a controlling BSS.
\- In the present specification, NACC between UTRAN and GERAN is restricted to
the case of a controlling RNS and a serving BSS (i.e. assistance is provided
for MSs moving from UTRAN to GERAN) and NACC between E-UTRAN and GERAN is
restricted to the case of a controlling eNodeB and a serving BSS (i.e.
assistance is provided for MSs moving from E-UTRAN to GERAN). The reporting
cell located in the serving BSS is therefore always a GERAN cell and shall be
addressed as such (RAI + CI) in the NACC application containers.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION PDU, except in the case of a RAN-
INFORMATION/Initial Multiple Report PDU and of a RAN-INFORMATION/Single Report
PDU, where the _Application Error Container_ IE may be included instead.
\- When multiple reports from a certain cell have been requested, the RAN-
Information Send procedure shall be triggered every time the set of NACC
related (packet) system information for this cell is changed; the NACC
application shall request acknowledgements.
\- The _Application Container_ IE included in the _RIM container_ IE of a RAN-
INFORMATION/End PDU or of a RAN-INFORMATION/Stop PDU shall contain only the
identity of the reporting cell.
### 8c.6.2 SI3 application
The rules specified in this sub-clause apply when the _RIM Application
Identity_ IE is set to \"SI3\":
\- the RAN-INFORMATION-REQUEST PDU is used by a controlling BSS to request
system information type 3 related to a single cell parented by a serving BSS.
The _Destination Cell Identifier_ IE of the RAN-INFORMATION-REQUEST PDU shall
be set to the value of the _Reporting Cell Identifier_ field contained in the
application container of the PDU.
\- The presence of the _Application Container_ IE is mandatory in the _RIM_ C
_ontainer_ IE of the RAN-INFORMATION-REQUEST PDU.
\- The RAN-INFORMATION PDU is used by a serving BSS to send system information
type 3 related to a single reporting cell, to a controlling BSS.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION PDU, except in the case of a RAN-
INFORMATION/Initial Multiple Report PDU and of a RAN-INFORMATION/Single Report
PDU, where the _Application Error Container_ IE may be included instead.
\- When multiple reports from a certain cell have been requested, the RAN-
Information Send procedure shall be triggered every time the system
information type 3 for this cell is changed; the SI3 application shall request
acknowledgements.
\- The _Application Container_ IE included in the _RIM container_ IE of a RAN-
INFORMATION/End PDU or of a RAN-INFORMATION/Stop PDU shall contain only the
identity of the reporting cell.
### 8c.6.3 MBMS data channel application
The rules specified in this sub-clause apply when the _RIM Application
Identity_ IE is set to \"MBMS data channel\":
\- The RAN-INFORMATION-REQUEST PDU is used by a controlling BSS to request the
information about the MBMS data channels established in a single cell
controlled by a serving BSS. The _Destination Cell Identifier_ IE of the RAN-
INFORMATION-REQUEST PDU shall be set to the value of the _Reporting Cell
Identifier_ field contained in the application container of the PDU.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION-REQUEST PDU.
\- The RAN-INFORMATION PDU is used by a serving BSS to send the information
about the MBMS data channels established in a single reporting cell, to a
controlling BSS.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION PDU, except in the case of a RAN-
INFORMATION/Initial Multiple Report PDU and of a RAN-INFORMATION/Single Report
PDU, where the _Application Error Container_ IE may be included instead.
> \- When multiple reports from a certain cell have been requested, the RAN-
> Information Send procedure shall be triggered every time the allocation of
> the MBMS data channel is changed (i.e. established, reconfigured, abnormally
> released) for any MBMS session ongoing in the reporting cell. The MBMS data
> channel application shall request acknowledgements. However the normal
> release (i.e. resulting from a MBMS-SESSION-STOP-REQUEST PDU received from
> the SGSN) of the MBMS data channel at the end of a session shall not trigger
> the RAN-Information Send procedure, but assumed implicitly as done at the
> end of the session by the the controlling BSS.
\- The _Application Container_ IE included in the _RIM container_ IE of a RAN-
INFORMATION/End PDU or of a RAN-INFORMATION/Stop PDU shall contain only the
identity of the reporting cell.
### 8c.6.4 Requirements related to the SON Transfer RIM application
The introduction of generic SON Transfer containers in TS 36.413 [36] means
that the RIM procedure itself has to be understood in a more generic way for
the SON Transfer RIM application: the RIM procedure triggered by the
Controlling BSS is used to exchange between BSSs SON Transfer Request
container (controlling ---> serving) and SON Transfer Response container
(serving ---> controlling), the precise content of these containers (possibly
NULL) being linked with the SON Transfer Application in use.The Reporting Cell
Identifier may either identify a cell in the serving BSS or in the controlling
BSS, depending on the value of the SON Transfer Application Identity as
specified in TS 36.413 [36].
The rules specified in this sub-clause apply when the _RIM Application
Identity_ IE is set to \"SON Transfer\":
\- The RAN-INFORMATION-REQUEST PDU is used by a controlling BSS to send the
SON Transfer Request container to the serving BSS as specified in TS 36.413
[36].
\- The procedure shall be triggered using single report or multiple reports.
\- The RAN-INFORMATION PDU is used by a serving BSS to send the SON Transfer
Response Container to a controlling BSS as specified in TS 36.413 [36].
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION PDU, except in the case of a RAN-
INFORMATION/Initial Multiple Report PDU and of a RAN-INFORMATION/Single Report
PDU, where the _Application Error Container_ IE may be included instead.
\- When multiple reports have been requested, the RAN-Information Send
procedure shall be triggered every time a SON Transfer Response Container must
be sent. The RAN-Information Send procedure shall be used with lower priority
with respect to the MS/UE dedicated signalling.
### 8c.6.5 Requirements related to the UTRA SI RIM application
The rules specified in this sub-clause apply when the _RIM Application
Identity_ IE is set to \"UTRA System Information (UTRA SI)\":
\- The RAN-INFORMATION-REQUEST PDU is used by a controlling BSS to request the
UTRA system information in the controlling BSS and related to a cell parented
by a serving BSS.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION-REQUEST PDU.
\- The RAN-INFORMATION PDU is used by a serving BSS to send the UTRA system
information related to a cell, to a controlling BSS.
\- In the present specification, UTRA SI is transferred only to E-UTRAN. The
reporting cell located in the serving BSS is always a cell and shall be
addressed by the UTRAN Source Cell ID in the UTRA SI application containers.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION PDU, except in the case of a RAN-
INFORMATION/Initial Multiple Report PDU and of a RAN-INFORMATION/Single Report
PDU, where the _Application Error Container_ IE may be included instead.
\- When multiple reports from a certain cell have been requested, the RAN-
Information Send procedure shall be triggered every time the set of UTRA
system information managed by the UTRA SI RIM application for this cell is
changed; the UTRA SI application shall request acknowledgements.
\- The _Application Container_ IE included in the _RIM container_ IE of a RAN-
INFORMATION/End PDU or of a RAN-INFORMATION/Stop PDU shall contain only the
identity of the reporting cell.
### 8c.6.6 Multilateration Timing Advance application
The rules specified in this sub-clause apply when the _RIM Application
Identity_ IE is set to \"Multilateration Timing Advance\":
\- The RAN-INFORMATION PDU is used by an originating BSS to send information
related to an ongoing Multilaration Timing Advance procedure (see 3GPP TS
43.059 [23]), to a receiving BSS.
\- The presence of the _Application Container_ IE is mandatory in the _RIM
Container_ IE of the RAN-INFORMATION PDU, except in the case of a RAN-
INFORMATION/Single Report PDU, where the _Application Error Container_ IE
applicable to the Multilateration Timing Advance Application (see sub-clause
11.3.64.6) may be included instead.
\- When included, the contents of the _Application Container_ IE is set
according to the requirements of the Multilateration Timing Advance
application as described in sub-clause 11.3.63.2.6.
# 8d Signalling procedures between MBMS SAPs
## 8d.1 General
Upon receiving an MBMS-SESSION-START-REQUEST PDU from the SGSN, if the BSS
controls cells in any of the MBMS Service Areas in the MBMS service area list
the BSS creates an MBMS Service Context, and acknowledges the SGSN using an
MBMS-SESSION-START-RESPONSE PDU. More than one MBMS-SESSION-START-RESPONSE PDU
can be sent from one BSS to the SGSN for the same MBMS-SESSION-START-REQUEST
PDU.
Upon receiving an MBMS-SESSION-UPDATE-REQUEST PDU from the SGSN, the BSS
updates the MBMS service area list for the ongoing MBMS broadcast service
session and acknowledges the SGSN using an MBMS-SESSION-UPDATE-RESPONSE PDU.
More than one MBMS-SESSION-UPDATE-RESPONSE PDU can be sent from one BSS to the
SGSN for the same MBMS-SESSION-UPDATE-REQUEST PDU.
At the end of the MBMS Session the BSS receives an MBMS-SESSION-STOP-REQUEST
PDU from the SGSN indicating that the MBMS Session can be released. The BSS
acknowledges the request to end the MBMS Session by sending the MBMS-SESSION-
STOP-RESPONSE PDU to the SGSN. See 3GPP TS 43.246 ([29]).
## 8d.2 MBMS Session Start
The BSS creates an MBMS Service Context if the BSS controls cells in the MBMS
service area list upon reception of an MBMS-SESSION-START-REQUEST PDU from the
SGSN.
If the data is received by the BSS and no MBMS bearer is established on the
radio interface for that MBMS Session the BSS may buffer the data.
At reception of an MBMS-SESSION-START-REQUEST PDU that leads to an MBMS
Service Context creation in the BSS, the BSS shall respond to the SGSN with an
MBMS-SESSION-START-RESPONSE PDU with a Cause Value indicating that data
transfer shall be initiated on the Point-to-Multipoint BVC from that SGSN.
The SGSN may include the _Allocation/Retention Priority_ information element
in the MBMS-SESSION-START-REQUEST PDU. If this information element is received
and the BSS supports ARP handling, the BSS shall establish or modify the
resources according to the values of the _Allocation/Retention Priority_ IE
(priority level, pre-emption indicators) and the resource situation as
follows:
\- The BSS shall consider the priority level of the requested MBMS bearer,
when deciding on the resource allocation.
\- The priority levels and the pre-emption indicators may (singularly or in
combination) be used to determine whether the MBMS bearer establishment has to
be performed unconditionally and immediately. If the requested MBMS bearer is
marked as \"may trigger pre-emption\" and the resource situation requires so,
the BSS may trigger the pre-emption procedure which may then cause the forced
release of a lower priority bearer which is marked as \"pre-emptable\". Whilst
the process and the extent of the pre-emption procedure is operator-dependent,
the pre-emption indicators, if given in the MBMS-SESSION-START-REQUEST PDU,
shall be treated as follows:
1\. If the _Pre-emption Capability_ IE is set to \"may trigger pre-emption\",
then this allocation request may trigger the pre-emption procedure. The BSS
shall only preâ€‘empt bearers (other MBMS bearers or MS specific bearers) with
lower priority, in ascending order of priority.
2\. If the _Pre-emption Capability_ IE is set to \"shall not trigger pre-
emption\", then this allocation request shall not trigger the pre-emption
procedure.
3\. If the _Pre-emption Vulnerability_ IE is set to \"pre-emptable\", then
this connection shall be included in the pre-emption process.
4\. If the _Pre-emption Vulnerability_ IE is set to \"not pre-emptable\", then
this connection shall not be included in the pre-emption process.
5\. If the _Priority Level_ IE is set to \"no priority\" the given values for
the _Pre-emption Capability_ IE and _Pre-emption Vulnerability_ IE shall not
be considered. Instead the values \"shall not trigger pre-emption\" and \"not
pre-emptable\" shall prevail.
> \- If the _Allocation/Retention Priority_ IE is not given in the MBMS-
> SESSION-START-REQUEST PDU, the allocation request shall not trigger the pre-
> emption process and the connection may be pre-empted and considered to have
> the value \"lowest\" as priority level.
>
> \- The SGSN shall not include, and the BSS shall ignore, any queuing allowed
> indication in the _Allocation/Retention Priority_ IE of the MBMS-SESSION-
> START-REQUEST PDU.
The _MBMS Session Repetition Number_ IE shall be included in the MBMS-SESSION-
START-REQUEST PDU in case the _MBMS Session Identity_ IE is included in the
same PDU (and vice versa). The _MBMS Session Repetition Number_ IE allows the
BSS to recognize retransmissions of a specific session of an MBMS bearer
service. The value part of this IE may be used for e.g. deciding whether or
not to initiate the counting procedure on a per cell basis (see 3GPP TS
44.018, 3GPP TS 44.060) or, in conjunction with the values of
_Allocation/Retention Priority_ IE, whether or not to establish an MBMS radio
bearer for the session on a per cell basis.
At reception of an MBMS-SESSION-START-REQUEST PDU with the same TMGI IE and
MBMS Session Identity IE as an ongoing MBMS Service Context, the BSS shall
respond to the SGSN with an MBMS-SESSION-START-RESPONSE PDU with a Cause Value
indicating that data transfer has already been initiated on the Point-to-
Multipoint BVC from another SGSN.
At reception of an MBMS-SESSION-START-RESPONSE PDU, the SGSN shall either
start data transfer or not depending on the received Cause Value.
After transmission of the MBMS-SESSION-START-RESPONSE PDU, the BSS shall wait
at least the time specified in the value part of the _Time to MBMS Data
Transfer_ IE included in the MBMS-SESSION-START-REQUEST PDU and at most a time
exceeding by 5 seconds the value part of the _Time to MBMS Data Transfer_ IE
for the first reception of the associated data before the BSS validates
whether or not there is another SGSN that previously has sent an MBMS-SESSION-
START-REQUEST PDU.
If after the start of the data flow associated to an MBMS Service Context, the
BSS does not receive data for at least 30 seconds and the BSS has not received
the MBMS-SESSION-STOP-REQUEST PDU, the BSS validates whether or not there is
another SGSN that previously has sent an MBMS-SESSION-START-REQUEST PDU.
If, in any of the two cases mentioned above, another SGSN has sent an MBMS-
SESSION-START-REQUEST PDU, the BSS shall send an MBMS-SESSION-START-RESPONSE
PDU to such an SGSN with a Cause Value indicating that data transfer shall be
initiated on the Point-to-Multipoint BVC from that SGSN. Otherwise, the BSS
shall end the MBMS Service Context.
In any case, the BSS will send an MBMS-SESSION-START-RESPONSE PDU with a Cause
Value indicating that the MBMS Service Context has been released due to
interrupted data flow to the SGSN that previously has been ordered to perform
data transfer.
If the BSS does not support any MBMS Service Area in the MBMS Service Area
Identity List the BSS will send an MBMS-SESSION-START-RESPONSE PDU to the SGSN
with Cause Value indicating that none of the listed MBMS Service Areas are
supported by the BSS.
Figure 8d.2: MBMS Session Start procedure
### 8d.2.1 Abnormal Conditions
In any failure case in BSS the BSS may send an MBMS-SESSION-START-RESPONSE PDU
including a Cause Value indicating the reason for the failure.
If an MBMS-SESSION-START-RESPONSE PDU is not received in response to an MBMS-
SESSION-START-REQUEST PDU within T11 seconds, then the MBMS-SESSION-START-
REQUEST PDU shall be repeated a maximum of MBMS-SESSION-START-REQUEST-RETRIES
attempts. After MBMS-SESSION-START-REQUEST-RETRIES + 1 attempts the procedure
is stopped and the O&M is informed.
## 8d.3 MBMS Session Stop
The SGSN may terminate an MBMS Session in the BSS by sending the MBMS-SESSION-
STOP-REQUEST PDU to the BSS. The SGSN shall include the _MBMS Stop Cause_ IE
in the MBMS-SESSION-STOP-REQUEST PDU to indicate to the BSS if the MBMS
Session termination has been ordered by an upstream node or if the SGSN itself
has decided to terminate the MBMS Session (due to e.g. that the last MS that
has an active MBMS UE Context for the MBMS Session within the SGSN has left
the routing area(s) handled by the BSS).
The BSS ends an MBMS Service Context upon reception of an MBMS-SESSION-STOP-
REQUEST PDU, including the _MBMS Stop Cause_ IE indicating that an upstream
node is terminating the MBMS Session, from the SGSN and acknowledges with an
MBMS-SESSION-STOP-RESPONSE PDU.
At reception of an MBMS-SESSION-STOP-REQUEST PDU including the _MBMS Stop
Cause_ IE indicating that the SGSN is terminating the MBMS Session, the BSS
shall validate whether or not there is another SGSN that previously has sent
an MBMS-SESSION-START-REQUEST PDU or, in case of an MBMS broadcast service
session, an MBMS-SESSION-UPDATE-REQUEST PDU.
If another SGSN has sent an MBMS-SESSION-START-REQUEST PDU or an MBMS-SESSION-
UPDATE-REQUEST PDU, the BSS shall send an MBMS-SESSION-START-RESPONSE PDU or
an MBMS-SESSION-UPDATE-RESPONSE PDU, respectively, to such an SGSN with a
Cause Value indicating that data transfer shall be initiated on the Point-to-
Multipoint BVC from that SGSN. Otherwise, the BSS shall end the MBMS Service
Context. The BSS shall then acknowledge the MBMS-SESSION-STOP-REQUEST PDU by
sending an MBMS-SESSION-STOP-RESPONSE PDU to the SGSN.
Figure 8d.3: MBMS Session Stop procedure
### 8d.3.1 Abnormal Conditions
If an MBMS-SESSION-STOP-RESPONSE PDU is not received in response to an MBMS-
SESSION-STOP-REQUEST PDU within T11 seconds, then the MBMS-SESSION-STOP-
REQUEST PDU shall be repeated a maximum of MBMS-SESSION-STOP-REQUEST-RETRIES
attempts. After MBMS-SESSION-STOP-REQUEST-RETRIES + 1 attempts the procedure
is stopped and the O&M is informed.
## 8d.4 MBMS Session Update
Upon reception of an MBMS-SESSION-UPDATE-REQUEST PDU from the SGSN for an
ongoing MBMS broadcast service session, the BSS creates an MBMS Service
Context if the BSS controls cells in the MBMS service area list and there is
no ongoing MBMS Service Context identified with the same _TMGI_ IE and, if
available, _MBMS Session Identity_ IE in the BSS.
Upon reception of an MBMS-SESSION-UPDATE-REQUEST PDU with the same _TMGI_ IE
and, if available, _MBMS Session Identity_ IE as an ongoing MBMS Service
Context but with (a) new MBMS Service Area(s) added to the _MBMS Service Area
Identity List_ IE, the BSS may send assignments for the ongoing MBMS broadcast
service session to the mobile stations in the new MBMS Service Area(s) and
repeat notifications to the mobile stations in the old MBMS Service Area(s).
Upon reception of an MBMS-SESSION-UPDATE-REQUEST PDU with the same _TMGI_ IE
and, if available, _MBMS Session Identity_ IE as an ongoing MBMS Service
Context but without (an) old MBMS Service Area(s) included any longer in the
_MBMS Service Area Identity List_ IE, the BSS shall release MBMS radio bearers
relevant to the ongoing MBMS broadcast service session in the old MBMS Service
Area(s).
The _MBMS Session Information_ IE shall denote a Broadcast MBMS Session.
The _Allocation/Retention Priority_ IE, if available, and the _MBMS Session
Repetition Number_ IE, if available, shall be handled by the BSS as described
in the MBMS Session Start procedure (see sub-clause 8d.2).
If the _Allocation/Retention Priority_ IE is not present in the MBMS-SESSION-
UPDATE-REQUEST PDU, the allocation request shall not trigger the pre-emption
process and the connection may be pre-empted and considered to have the value
\"lowest\" as priority level.
If the data is received by the BSS and no MBMS bearer is established on the
radio interface for that MBMS Session, the BSS may buffer the data.
At reception of an MBMS-SESSION-UPDATE-REQUEST PDU that leads to an MBMS
Service Context creation in the BSS, the BSS shall respond to the SGSN with an
MBMS-SESSION-UPDATE-RESPONSE PDU with a Cause Value indicating that data
transfer shall be initiated on the Point-to-Multipoint BVC from that SGSN.
At reception of an MBMS-SESSION-UPDATE-REQUEST PDU with the same _TMGI_ IE
and, if available, _MBMS Session Identity_ IE as an ongoing MBMS Service
Context and including new and/or removing old MBMS Service Area(s), the BSS
shall respond to the SGSN with an MBMS-SESSION-UPDATE-RESPONSE PDU with a
Cause Value indicating either that data transfer shall continue on the Point-
to-Multipoint BVC from that SGSN (see note) or that data transfer has already
been initiated on the Point-to-Multipoint BVC from another SGSN.
NOTE: The Cause Value indicating that data transfer shall continue on the
Point-to-Multipoint BVC from that SGSN is set to the same one denoting that
data transfer shall be initiated on the Point-to-Multipoint BVC from that
SGSN, i.e. '0001' (see sub-clause 11.3.74).
If the BSS does not support any MBMS Service Area in the _MBMS Service Area
Identity List_ IE, the BSS shall send an MBMS-SESSION-UPDATE-RESPONSE PDU to
the SGSN with a Cause Value indicating that none of the listed MBMS Service
Areas are supported by the BSS.
At reception of an MBMS-SESSION-UPDATE-RESPONSE PDU, the SGSN shall either
start/continue data transfer or not depending on the received Cause Value.
After transmission of the MBMS-SESSION-UPDATE-RESPONSE PDU, the BSS shall wait
at least the time specified in the value part of the _Time to MBMS Data
Transfer_ IE included in the MBMS-SESSION-UPDATE-REQUEST PDU and at most a
time exceeding by 5 seconds the value part of the _Time to MBMS Data Transfer_
IE for the first reception of the associated data before the BSS validates
whether or not there is another SGSN that previously has sent an MBMS-SESSION-
UPDATE-REQUEST PDU or an MBMS-SESSION-START-REQUEST PDU with the same content
of the received MBMS-SESSION-UPDATE-REQUEST PDU.
If after the start of the data flow associated to an MBMS Service Context, the
BSS does not receive data for at least 30 seconds and the BSS has not received
the MBMS-SESSION-STOP-REQUEST PDU, the BSS validates whether or not there is
another SGSN that previously has sent an MBMS-SESSION-UPDATE-REQUEST PDU or an
MBMS-SESSION-START-REQUEST PDU with the same content of the received MBMS-
SESSION-UPDATE-REQUEST PDU.
If, in any of the two cases mentioned above, another SGSN has sent an MBMS-
SESSION-UPDATE-REQUEST PDU or an MBMS-SESSION-START-REQUEST PDU, the BSS shall
send an MBMS-SESSION-UPDATE-RESPONSE PDU or an MBMS-SESSION-START-RESPONSE
PDU, respectively, to such an SGSN with a Cause Value indicating that data
transfer shall be initiated on the Point-to-Multipoint BVC from that SGSN.
Otherwise, the BSS shall end the MBMS Service Context.
In any case, the BSS shall send an MBMS-SESSION-UPDATE-RESPONSE PDU with a
Cause Value indicating that the MBMS Service Context has been released due to
interrupted data flow to the SGSN that previously has been ordered to perform
data transfer.
Figure 8d.4: MBMS Session Update procedure
### 8d.4.1 Abnormal Conditions
In any failure case in BSS the BSS may send an MBMS-SESSION-UPDATE-RESPONSE
PDU including a Cause Value indicating the reason for the failure.
If an MBMS-SESSION-UPDATE-RESPONSE PDU is not received in response to an MBMS-
SESSION-UPDATE-REQUEST PDU within T11 seconds, then the MBMS-SESSION-UPDATE-
REQUEST PDU shall be repeated a maximum of MBMS-SESSION-UPDATE-REQUEST-RETRIES
attempts. After MBMS-SESSION-UPDATE-REQUEST-RETRIES + 1 attempts the procedure
is stopped and the O&M is informed.
# 9 General Protocol Error Handling
Refer to General Protocol Error Handling/3GPP TS 48.016. In addition:
\- any type of BSSGP PDU received without an expected conditional IE is
discarded and a STATUS PDU (cause \"Missing conditional IE\") is sent;
\- any type of BSSGP PDU received without a mandatory IE is discarded and a
STATUS PDU (cause \"Missing mandatory IE\") is sent;
\- any type of BSSGP PDU received with a syntactical error in an expected
conditional IE is discarded and a STATUS PDU (cause \"Conditional IE error\")
is sent;
\- any type of BSSGP PDU received with a syntactical error in a mandatory IE
is discarded and a STATUS PDU (cause \"Invalid mandatory information\") is
sent;
\- any type of BSSGP PDU received for a feature that is not negotiated is
discarded and a STATUS PDU (cause \"PDU not compatible with the feature set\")
is sent.
Some BSSGP PDU shall contain one and only one conditional IE amongst a defined
list of possible conditional IE (e.g. PAGING-PS PDU). If such a BSSGP PDU is
received with more than one conditional IE amongst the defined list of
possible conditional IE, as defined in sub-clause 10, the PDU is discarded and
a STATUS PDU (cause \"Unexpected conditional IE\") is sent.
# 10 PDU functional definitions and contents
## 10.1 General Structure Of A PDU
Refer to General Structure Of A PDU/3GPP TS 48.016 [16].
## 10.2 PDU functional definitions and contents at RL and BSSGP SAPs
### 10.2.1 DL-UNITDATA
This PDU is sent to the BSS to transfer an LLC-PDU across the radio interface
to an MS.
PDU type: DL-UNITDATA
Direction: SGSN to BSS
Table 10.2.1: DL-UNITDATA PDU contents
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | element | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI (current) | TLLI/11.3.35 | M | V | 4 | +-------------------+-------------------+----------+--------+--------+ | QoS Profile (note | QoS | M | V | 3 | | 1) | Profile/11.3.28 | | | | +-------------------+-------------------+----------+--------+--------+ | PDU Lifetime | PDU | M | TLV | 4 | | | Lifetime/11.3.25 | | | | +-------------------+-------------------+----------+--------+--------+ | MS Radio Access | MS Radio Access | O | TLV | 7-? | | Capability (note | C | | | | | 2) | apability/11.3.22 | | | | +-------------------+-------------------+----------+--------+--------+ | Priority (note 3) | Priority/11.3.27 | O | TLV | 3 | +-------------------+-------------------+----------+--------+--------+ | DRX Parameters | DRX | O | TLV | 4 | | (note 11) | P | | | | | | arameters/11.3.11 | | | | +-------------------+-------------------+----------+--------+--------+ | IMSI (note 14) | IMSI/11.3.14 | O | TLV | 5-10 | +-------------------+-------------------+----------+--------+--------+ | TLLI (old) | TLLI/11.3.35 | O | TLV | 6 | +-------------------+-------------------+----------+--------+--------+ | PFI | PFI/11.3.42 | O | TLV | 3 | +-------------------+-------------------+----------+--------+--------+ | LSA Information | LSA | O | TLV | 7-? | | | In | | | | | | formation/11.3.19 | | | | +-------------------+-------------------+----------+--------+--------+ | Service UTRAN CCO | Service UTRAN | O | TLV | 3 | | | CCO/11.3.47 | | | | +-------------------+-------------------+----------+--------+--------+ | Subscriber | Subscriber | O | TLV | 3 | | Profile ID for | Profile ID for | | | | | RAT/Frequency | RAT/Frequency | | | | | priority (note 5) | priority/11.3.105 | | | | +-------------------+-------------------+----------+--------+--------+ | Redirection | Redirection | O | TLV | 3 | | Indication (note | In | | | | | 6) | dication/11.3.112 | | | | +-------------------+-------------------+----------+--------+--------+ | Redirection | Redirection | O | TLV | 3 | | Completed (note | C | | | | | 7) | ompleted/11.3.113 | | | | +-------------------+-------------------+----------+--------+--------+ | Unconfirmed send | Unconfirmed send | C | TLV | 4 | | state variable | state | | | | | (note 9) | variable/11.3.114 | | | | +-------------------+-------------------+----------+--------+--------+ | SCI (note 10) | SCI/ 11.3.116 | O | TLV | 3 | +-------------------+-------------------+----------+--------+--------+ | GGSN/P-GW | GGSN/P-GW | O | TLV | 3 | | location (note | location/11.3.117 | | | | | 10) | | | | | +-------------------+-------------------+----------+--------+--------+ | eDRX Parameters | eDRX | O | TLV | 3 | | (note 11) | Pa | | | | | | rameters/11.3.122 | | | | +-------------------+-------------------+----------+--------+--------+ | Coverage Class | Coverage | O | TLV | 3 | | | Class/11.3.124 | | | | +-------------------+-------------------+----------+--------+--------+ | Old Routing Area | Old Routing Area | O | TLV | 8 | | Identification | Identi | | | | | (note 12) | fication/11.3.127 | | | | +-------------------+-------------------+----------+--------+--------+ | Attach Indicator | Attach | O | TLV | 3 | | (note 13) | I | | | | | | ndicator/11.3.128 | | | | +-------------------+-------------------+----------+--------+--------+ | SGSN Group | SGSN Group | C | TLV | 5 | | Identity (note | Identity/11.3.131 | | | | | 15) | | | | | +-------------------+-------------------+----------+--------+--------+ | Additional P-TMSI | Additional | C | TLV | 6 | | (note 15) | P-TMSI/11.3.132 | | | | +-------------------+-------------------+----------+--------+--------+ | UE Usage Type | UE Usage | C | TLV | 3 | | (note 15) | Type/11.3.133 | | | | +-------------------+-------------------+----------+--------+--------+ | Alignment octets | Alignment | O | TLV | 2-5 | | | octets/11.3.1 | | | | +-------------------+-------------------+----------+--------+--------+ | LLC-PDU (note 4) | LLC-PDU/11.3.15 | M | TLV | 2-? | +-------------------+-------------------+----------+--------+--------+ | Initial LLC-PDU | LLC-PDU/11.3.15 | O | TLV | 2-? | | (note 8) | | | | | +-------------------+-------------------+----------+--------+--------+ | Timing Advance | Timing Advance | O | TLV | 3 | | Request | Request/11.3.140 | | | | +-------------------+-------------------+----------+--------+--------+ | Enhanced Coverage | Enhanced Coverage | O | TLV | 3 | | Additional | Additional | | | | | Information | Inf | | | | | | ormation/11.3.141 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: Some | | | | | | attributes of the | | | | | | QoS Profile shall | | | | | | be discarded if | | | | | | the PFI field is | | | | | | present and | | | | | | corresponds to a | | | | | | known PFC in the | | | | | | BSS. | | | | | | | | | | | | NOTE 2: The field | | | | | | shall be present | | | | | | if there is valid | | | | | | MS Radio Access | | | | | | Capability | | | | | | information known | | | | | | by the SGSN; the | | | | | | field shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | NOTE 3: The | | | | | | priority field | | | | | | shall be | | | | | | discarded if the | | | | | | PFI field is | | | | | | present and | | | | | | corresponds to a | | | | | | known PFC in the | | | | | | BSS for which the | | | | | | ARP field was | | | | | | received. | | | | | | | | | | | | NOTE 4: The | | | | | | LLC-PDU Length | | | | | | Indicator may be | | | | | | zero. | | | | | | | | | | | | NOTE 5: This IE | | | | | | may be included | | | | | | if available in | | | | | | the SGSN. If the | | | | | | Service UTRAN CCO | | | | | | IE is present | | | | | | with the value of | | | | | | \"shall not\" the | | | | | | Service UTRAN CCO | | | | | | IE takes | | | | | | precedence over | | | | | | this IE. | | | | | | | | | | | | NOTE 6: This IE | | | | | | shall be included | | | | | | if Redirect | | | | | | Attempt flag was | | | | | | present in | | | | | | UL-UNITDATA and | | | | | | the CN requests | | | | | | rerouting by the | | | | | | BSC to another CN | | | | | | operator. | | | | | | | | | | | | NOTE 7: This IE | | | | | | shall be included | | | | | | if Redirect | | | | | | Attempt flag was | | | | | | present in | | | | | | UL-UNITDATA and | | | | | | the redirection | | | | | | is completed. | | | | | | | | | | | | NOTE 8: The | | | | | | initial Layer 3 | | | | | | Information | | | | | | received from MS. | | | | | | Only present when | | | | | | Redirection | | | | | | Indication is | | | | | | present. | | | | | | | | | | | | NOTE 9: Contains | | | | | | the value of the | | | | | | V(U) as defined | | | | | | in 3GPP TS 44.064 | | | | | | [12] if | | | | | | Redirection | | | | | | Indication IE is | | | | | | present. | | | | | | | | | | | | NOTE 10: These | | | | | | IEs are included | | | | | | when the SGSN | | | | | | supports the | | | | | | SIRUG feature and | | | | | | the received | | | | | | GTP-U packet | | | | | | contained the SCI | | | | | | IE. | | | | | | | | | | | | NOTE 11: If the | | | | | | SGSN has valid | | | | | | eDRX Parameters | | | | | | for a TLLI it | | | | | | shall include the | | | | | | eDRX Parameters | | | | | | IE (see | | | | | | sub-clause 6.1) | | | | | | in which case the | | | | | | DRX Parameters IE | | | | | | shall not be | | | | | | included. | | | | | | | | | | | | NOTE 12: This IE | | | | | | is only included | | | | | | when Redirection | | | | | | Indication is | | | | | | present and the | | | | | | SGSN supports | | | | | | CS/PS | | | | | | coordination | | | | | | enhancements. | | | | | | | | | | | | NOTE 13: This IE | | | | | | indicates a GPRS | | | | | | attach request | | | | | | from the MS. It | | | | | | may only be | | | | | | included if | | | | | | Redirection | | | | | | Indication is | | | | | | present and the | | | | | | SGSN supports | | | | | | CS/PS | | | | | | coordination | | | | | | enhancements. | | | | | | | | | | | | NOTE 14: This IE | | | | | | is included if | | | | | | the IMSI was | | | | | | retrieved | | | | | | unencrypted from | | | | | | the MS and the | | | | | | SGSN supports | | | | | | Dedicated Core | | | | | | Networks. | | | | | | | | | | | | NOTE 15: This IE | | | | | | is included if | | | | | | the SGSN supports | | | | | | Dedicated Core | | | | | | Networks and is | | | | | | included when the | | | | | | "Redirection | | | | | | Indication" IE is | | | | | | present. | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.2.2 UL-UNITDATA
This PDU transfers an MS\'s LLC-PDU and its associated radio interface
information across the Gb-interface.
PDU type: UL-UNITDATA
Direction: BSS to SGSN
Table 10.2.2: UL-UNITDATA PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | element | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI | TLLI/11.3.35 | M | V | 4 | +-------------------+-------------------+----------+--------+--------+ | QoS Profile | QoS | M | V | 3 | | | Profile/11.3.28 | | | | +-------------------+-------------------+----------+--------+--------+ | Cell Identifier\ | Cell | M | TLV | 10 | | (note 5) | Identifier/11.3.9 | | | | +-------------------+-------------------+----------+--------+--------+ | PFI | PFI/11.3.42 | O | TLV | 3 | +-------------------+-------------------+----------+--------+--------+ | LSA Identifier | LSA Identifier | O | TLV | 3-? | | List | List/11.3.18 | | | | +-------------------+-------------------+----------+--------+--------+ | Redirect Attempt | Redirect Attempt | O | TLV | 3 | | Flag (Note 3) | Flag/11.3.111 | | | | +-------------------+-------------------+----------+--------+--------+ | IMSI (note 2) | IMSI/11.3.14 | O | TLV | 5-10 | +-------------------+-------------------+----------+--------+--------+ | Unconfirmed send | Unconfirmed send | O | TLV | 4 | | state variable | state | | | | | (note 4) | variable/11.3.114 | | | | +-------------------+-------------------+----------+--------+--------+ | Selected PLMN ID | Selected PLMN | O | TLV | 5 | | (note 5) | ID/11.3.118 | | | | +-------------------+-------------------+----------+--------+--------+ | Coverage Class | Coverage | O | TLV | 3 | | | Class/11.3.124 | | | | | (note 7) | | | | | +-------------------+-------------------+----------+--------+--------+ | Exception Report | Exception Report | O | TLV | 3 | | Flag (note 6) | Flag/11.3.126 | | | | +-------------------+-------------------+----------+--------+--------+ | Selected Operator | PLMN | O | TLV | 5 | | (note 8, 9) | Identity/11.3.129 | | | | +-------------------+-------------------+----------+--------+--------+ | CS Registered | PLMN | O | TLV | 5 | | Operator (note 8, | Identity/11.3.129 | | | | | 10) | | | | | +-------------------+-------------------+----------+--------+--------+ | SGSN Group | SGSN Group | O | TLV | 5 | | Identity | Identity | | | | | | /11.3.131 | | | | | (note 11) | | | | | +-------------------+-------------------+----------+--------+--------+ | UE Usage Type | UE Usage | O | TLV | 3 | | | Type/11.3.133 | | | | | (note 11) | | | | | +-------------------+-------------------+----------+--------+--------+ | DCN-ID (note 12) | DCN-ID/11.3.134 | O | TLV | 4 | +-------------------+-------------------+----------+--------+--------+ | Alignment octets | Alignment | O | TLV | 2-5 | | | octets/11.3.1 | | | | +-------------------+-------------------+----------+--------+--------+ | LLC-PDU (note 1) | LLC-PDU/11.3.15 | M | TLV | 2-? | +-------------------+-------------------+----------+--------+--------+ | Mult | Mult | O | TLV | 4 | | ilaterationTiming | ilaterationTiming | | | | | Advance (note 13) | Advance/11.3.137 | | | | +-------------------+-------------------+----------+--------+--------+ | MS Sync Accuracy | MS Sync | O | TLV | 3 | | (note 13) | Accuracy/11.3.138 | | | | +-------------------+-------------------+----------+--------+--------+ | BTS Reception | BTS Reception | O | TLV | 3 | | Accuracy Level | Accuracy | | | | | (note 13) | Level/11.3.139 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: The | | | | | | LLC-PDU Length | | | | | | Indicator may be | | | | | | zero. | | | | | | | | | | | | NOTE 2: IMSI | | | | | | shall be included | | | | | | if available and | | | | | | if Redirect | | | | | | Attempt Flag is | | | | | | present. | | | | | | | | | | | | NOTE 3: This | | | | | | element indicates | | | | | | that the core | | | | | | network shall | | | | | | respond with | | | | | | either | | | | | | Redirection | | | | | | Indication IE or | | | | | | Redirection | | | | | | Completed IE in | | | | | | DL_UNITDATA | | | | | | | | | | | | NOTE 4: | | | | | | Unconfirmed send | | | | | | state variable | | | | | | shall be included | | | | | | if received in | | | | | | the previous | | | | | | DL_UNITDATA. | | | | | | | | | | | | NOTE 5: Selected | | | | | | PLMN ID shall be | | | | | | included in the | | | | | | case of a mobile | | | | | | station | | | | | | supporting | | | | | | network sharing | | | | | | when a foreign | | | | | | TLLI or a random | | | | | | TLLI is included | | | | | | in the UL-UNIDATA | | | | | | PDU; in such a | | | | | | case the Common | | | | | | PLMN ID shall be | | | | | | included within | | | | | | the Cell | | | | | | Identifier IE. | | | | | | | | | | | | NOTE 6: The | | | | | | exception report | | | | | | flag shall be | | | | | | included | | | | | | | | | | | | a) if the | | | | | | UL-UNITDATA PDU | | | | | | contains an LLC | | | | | | PDU sent by the | | | | | | MS using an | | | | | | uplink EC TBF | | | | | | established in | | | | | | response to an EC | | | | | | PACKET CHANNEL | | | | | | REQUEST message | | | | | | indicating high | | | | | | priority (i.e. an | | | | | | exception | | | | | | report). | | | | | | | | | | | | b) if the | | | | | | UL-UNITDATA PDU | | | | | | contains an LLC | | | | | | PDU sent by the | | | | | | MS using an | | | | | | uplink EC TBF | | | | | | established in | | | | | | response to an EC | | | | | | PACKET DOWNLINK | | | | | | ACK/NACK message | | | | | | including channel | | | | | | request and | | | | | | indicating high | | | | | | priority(i.e. an | | | | | | exception | | | | | | report). | | | | | | | | | | | | NOTE 7: The | | | | | | values indicated | | | | | | by this IE are | | | | | | the uplink and | | | | | | downlink coverage | | | | | | classes used by | | | | | | the mobile | | | | | | station in the | | | | | | access request | | | | | | initiating the | | | | | | transmission of | | | | | | the LLC-PDU | | | | | | included in the | | | | | | UL-UNITDATA PDU. | | | | | | | | | | | | NOTE 8: Only one | | | | | | of these two | | | | | | optional IEs | | | | | | shall be present | | | | | | in the message. | | | | | | | | | | | | NOTE 9: This IE | | | | | | indicates the BSS | | | | | | selected CN | | | | | | operator. It is | | | | | | only included if | | | | | | the BSS supports | | | | | | CS/PS | | | | | | coordination | | | | | | enhancements. | | | | | | | | | | | | NOTE 10: This IE | | | | | | is included if | | | | | | the BSS supports | | | | | | CS/PS | | | | | | coordination | | | | | | enhancements and | | | | | | if the mobile | | | | | | station is served | | | | | | by one of the | | | | | | shared CN | | | | | | operators in the | | | | | | CS domain. | | | | | | | | | | | | Note 11: This IE | | | | | | is included if | | | | | | the BSS supports | | | | | | Dedicated Core | | | | | | Networks or if it | | | | | | supports MS | | | | | | assisted | | | | | | Dedicated Core | | | | | | Network selection | | | | | | and is included | | | | | | if the "Redirect | | | | | | Attempt Flag" IE | | | | | | is present. | | | | | | | | | | | | Note 12: This IE | | | | | | is included if | | | | | | provided by the | | | | | | MS, see 3GPP TS | | | | | | 44.060 [22] and | | | | | | if the LLC PDU | | | | | | contains an | | | | | | intial LLC PDU. | | | | | | It shall not be | | | | | | included if the | | | | | | SGSN Group | | | | | | Identity is | | | | | | included. | | | | | | | | | | | | Note 13: This IE | | | | | | is included if | | | | | | the BSS receives | | | | | | a page response | | | | | | sent using a RLC | | | | | | data block that | | | | | | includes the "MS | | | | | | Transmission | | | | | | Offset" and "MS | | | | | | Sync Accuracy" | | | | | | parameters (see | | | | | | 3GPP TS 44.018 | | | | | | [25] and 3GPP | | | | | | TS 44.060 | | | | | | [22]). | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.2.3 RA-CAPABILITY
This PDU informs the BSS of the new Radio Access Capability of an MS.
PDU type: RA-CAPABILITY
Direction: SGSN to BSS
Table 10.2.3: RA-CAPABILITY PDU content
* * *
Information element Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 MS Radio Access Capability MS
Radio Access Capability/11.3.22 M TLV 7-?
* * *
### 10.2.4 (void)
### 10.2.5 DL-MBMS-UNITDATA
This PDU is sent to the BSS to transfer an LLC-PDU across the radio interface.
PDU type: DL-MBMS-UNITDATA
Direction: SGSN to BSS
Table 10.2.5: DL-MBMS-UNITDATA PDU contents
* * *
Information element Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 PDU Lifetime PDU Lifetime/11.3.25 M TLV 4 TMGI TMGI/
11.3.77 M TLV 3-8 MBMS Session Identity MBMS Session Identity/ 11.3.71 O TLV 3
Alignment octets Alignment octets/11.3.1 O TLV 2-5 LLC-PDU LLC-PDU/11.3.15 M
TLV 3-?
* * *
### 10.2.6 UL-MBMS-UNITDATA
This PDU transfers an LLC-PDU for an MBMS session across the Gb-interface.
PDU type: UL-MBMS-UNITDATA
Direction: BSS to SGSN
Table 10.2.6: UL-MBMS-UNITDATA PDU contents
* * *
Information element Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/ 11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/ 11.3.71 O TLV 3 Alignment octets Alignment octets/11.3.1 O
TLV 2-5 LLC-PDU (note 1) LLC-PDU/11.3.15 M TLV 2-? NOTE: The LLC-PDU Length
Indicator shall be zero in this version of the specifications.
* * *
## 10.3 PDU functional definitions and contents at GMM SAP
### 10.3.1 PAGING PS
This PDU indicates that a BSS shall initiate the packet paging procedure for
an MS within a group of cells.
PDU type: PAGING-PS
Direction: SGSN to BSS
Table 10.3.1: PAGING PS PDU content
+------------------+------------------+------------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +------------------+------------------+------------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +------------------+------------------+------------+--------+--------+ | IMSI | IMSI/11.3.14 | M | TLV | 5 -10 | +------------------+------------------+------------+--------+--------+ | DRX Parameters | DRX | O | TLV | 4 | | (note 3) | Pa | | | | | | rameters/11.3.11 | | | | +------------------+------------------+------------+--------+--------+ | BVCI (note 1) | BVCI/11.3.6 | C | TLV | 4 | +------------------+------------------+------------+--------+--------+ | Location Area | Location | C (note 2) | TLV | 7 | | (note 1) | Area/11.3.17 | | | | +------------------+------------------+------------+--------+--------+ | Routeing Area | Routeing | C (note 2) | TLV | 8 | | (note 1) | Area/11.3.31 | | | | +------------------+------------------+------------+--------+--------+ | BSS Area | BSS Area | C | TLV | 3 | | Indication (note | I | | | | | 1) | ndication/11.3.3 | | | | +------------------+------------------+------------+--------+--------+ | PFI | PFI/11.3.42 | O | TLV | 3 | +------------------+------------------+------------+--------+--------+ | ABQP | ABQP/11.3.43 | O | TLV | 13-? | +------------------+------------------+------------+--------+--------+ | QoS Profile | QoS | M | TLV | 5 | | | Profile/11.3.28 | | | | +------------------+------------------+------------+--------+--------+ | P-TMSI | TMSI/11.3.36 | O | TLV | 6 | +------------------+------------------+------------+--------+--------+ | eDRX Parameters | eDRX | O | TLV | 3 | | (note 3) | Par | | | | | | ameters/11.3.122 | | | | +------------------+------------------+------------+--------+--------+ | Coverage Class | Coverage | O | TLV | 3 | | | Class/11.3.124 | | | | +------------------+------------------+------------+--------+--------+ | Enhanced | Enhanced | O | TLV | 3 | | Coverage | Coverage | | | | | Additional | Additional | | | | | Information | Information | | | | | | /11.3.141 | | | | +------------------+------------------+------------+--------+--------+ | Cell Identifier | Cell | O | TLV | 10 | | (note 4) | I | | | | | | dentifier/11.3.9 | | | | +------------------+------------------+------------+--------+--------+ | MS Radio Access | MS Radio Access | O | TLV | 7-? | | Capability (note | Ca | | | | | 5) | pability/11.3.22 | | | | +------------------+------------------+------------+--------+--------+ | Paging Attempt | Paging Attempt | O | TLV | 3 | | Information | Info | | | | | (note 6) | rmation/11.3.125 | | | | +------------------+------------------+------------+--------+--------+ | NOTE 1: One and | | | | | | only one of the | | | | | | conditional IEs | | | | | | shall be | | | | | | present. No | | | | | | repeated | | | | | | instances of the | | | | | | conditional IEs | | | | | | are permissible | | | | | | (e.g. one and | | | | | | only one | | | | | | Location Area | | | | | | shall be | | | | | | present). | | | | | | | | | | | | NOTE 2: When | | | | | | network sharing | | | | | | is supported, | | | | | | the PLMN | | | | | | included in the | | | | | | Location Area/ | | | | | | Routeing Area | | | | | | elements can be | | | | | | either the | | | | | | Common PLMN or | | | | | | an Additional | | | | | | PLMN (see 3GPP | | | | | | TS 44.018 | | | | | | [25]). | | | | | | | | | | | | NOTE 3: If the | | | | | | SGSN has valid | | | | | | eDRX Parameters | | | | | | for a TLLI it | | | | | | shall include | | | | | | the eDRX | | | | | | Parameters IE in | | | | | | which case the | | | | | | DRX Parameters | | | | | | IE shall not be | | | | | | included. For | | | | | | the case where | | | | | | PSM is enabled | | | | | | with eDRX and | | | | | | the Active timer | | | | | | is running the | | | | | | SGSN shall | | | | | | always include | | | | | | the negotiated | | | | | | eDRX value in | | | | | | the eDRX | | | | | | Parameters IE. | | | | | | | | | | | | NOTE 4: The cell | | | | | | identity for the | | | | | | cell where the | | | | | | Coverage Class | | | | | | was reported by | | | | | | the MS shall be | | | | | | included if | | | | | | available at the | | | | | | SGSN. | | | | | | | | | | | | NOTE 5: The | | | | | | field shall be | | | | | | present if there | | | | | | is valid MS | | | | | | Radio Access | | | | | | Capability | | | | | | information for | | | | | | the MS known by | | | | | | the SGSN; the | | | | | | field shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | NOTE 6: The | | | | | | field shall be | | | | | | present if the | | | | | | SGSN is paging a | | | | | | MS due to a | | | | | | positioning | | | | | | event. | | | | | +------------------+------------------+------------+--------+--------+
### 10.3.2 PAGING CS
This PDU indicates that a BSS shall initiate a circuit-switched paging
procedure for an MS within a group of cells.
PDU type: PAGING-CS
Direction: SGSN to BSS
Table 10.3.2: PAGING CS PDU content
+------------------+------------------+------------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +------------------+------------------+------------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +------------------+------------------+------------+--------+--------+ | IMSI | IMSI/11.3.14 | M | TLV | 5 -10 | +------------------+------------------+------------+--------+--------+ | DRX Parameters | DRX | M | TLV | 4 | | | Pa | | | | | | rameters/11.3.11 | | | | +------------------+------------------+------------+--------+--------+ | BVCI (note 1) | BVCI/11.3.6 | C | TLV | 4 | +------------------+------------------+------------+--------+--------+ | Location Area | Location | C (note 3) | TLV | 7 | | (note 1) | Area/11.3.17 | | | | +------------------+------------------+------------+--------+--------+ | Routeing Area | Routeing | C (note 3) | TLV | 8 | | (note 1) | Area/11.3.31 | | | | +------------------+------------------+------------+--------+--------+ | BSS Area | BSS Area | C | TLV | 3 | | Indication (note | I | | | | | 1) | ndication/11.3.3 | | | | +------------------+------------------+------------+--------+--------+ | TLLI | TLLI/11.3.35 | O | TLV | 6 | +------------------+------------------+------------+--------+--------+ | Channel needed | Channel | O | TLV | 3 | | (note 2) | needed/11.3.10 | | | | +------------------+------------------+------------+--------+--------+ | eMLPP-Priority | eMLPP- | O | TLV | 3 | | (note 2) | Priority/11.3.12 | | | | +------------------+------------------+------------+--------+--------+ | TMSI (note 2) | TMSI/11.3.36 | O | TLV | 6 | +------------------+------------------+------------+--------+--------+ | Global CN-Id | Global | O | TLV | 7 | | (note 2) | CN-Id/11.3.69 | | | | +------------------+------------------+------------+--------+--------+ | NOTE 1: One and | | | | | | only one of the | | | | | | conditional IEs | | | | | | shall be | | | | | | present. No | | | | | | repeated | | | | | | instances of the | | | | | | conditional IEs | | | | | | are permissible | | | | | | (e.g. one and | | | | | | only one | | | | | | Location Area | | | | | | shall be | | | | | | present). | | | | | | | | | | | | NOTE 2: These | | | | | | fields are | | | | | | provided by the | | | | | | MSC via the | | | | | | Gs-Interface. | | | | | | | | | | | | NOTE 3: When | | | | | | network sharing | | | | | | is supported, | | | | | | the PLMN | | | | | | included in the | | | | | | Location Area/ | | | | | | Routeing Area | | | | | | elements can be | | | | | | either the | | | | | | Common PLMN or | | | | | | an Additional | | | | | | PLMN (see 3GPP | | | | | | TS 44.018 | | | | | | [25]). | | | | | +------------------+------------------+------------+--------+--------+
### 10.3.3 RA-CAPABILITY-UPDATE
This PDU requests that the SGSN send an MS\'s current Radio Access capability
or IMSI to the BSS.
PDU type: RA-CAPABILITY-UPDATE
Direction: BSS to SGSN
Table 10.3.3: RA-CAPABILITY-UPDATE PDU content
* * *
Information element Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Tag Tag/11.3.34 M TLV 3
* * *
### 10.3.4 RA-CAPABILITY-UPDATE-ACK
This PDU provides the BSS with an MS\'s current Radio Access capability and
IMSI.
PDU type: RA-CAPABILITY-UPDATE-ACK
Direction: SGSN to BSS
Table 10.3.4: RA-CAPABILITY-UPDATE-ACK PDU content
* * *
Information element Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Tag Tag/11.3.34 M TLV 3 IMSI
(note) IMSI/11.3.14 C TLV 5 -10 RA-Cap-UPD-CAUSE RA-Cap-UPD-CAUSE/11.3.30 M
TLV 3 MS Radio Access Capability MS Radio Access Capability/11.3.22 C TLV 7-?
NOTE: If RA-Cap-UPD-CAUSE is not set to \"OK\", then neither the MS Radio
Access Capability nor the IMSI shall be present. Otherwise, the IMSI shall be
present.
* * *
### 10.3.5 RADIO-STATUS
This PDU indicates that an exception condition related to the radio interface
has occurred.
PDU type: RADIO-STATUS
Direction: BSS to SGSN
Table 10.3.5: RADIO-STATUS PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI (note) TLLI/11.3.35 C TLV 6 TMSI (note) TMSI/11.3.36 C
TLV 6 IMSI (note) IMSI/11.3.14 C TLV 5-10 Radio Cause Radio Cause/11.3.29 M
TLV 3 NOTE: One and only one of the conditional IEs shall be present.
* * *
### 10.3.6 SUSPEND
This PDU indicates that an MS wishes to suspend its GPRS service.
PDU type: SUSPEND
Direction: BSS to SGSN
Table 10.3.6: SUSPEND PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Routeing Area Routeing
Area/11.3.31 M TLV 8
* * *
### 10.3.7 SUSPEND-ACK
This PDU positively acknowledges the reception of a SUSPEND PDU for an MS.
PDU type: SUSPEND-ACK
Direction: SGSN to BSS
Table 10.3.7: SUSPEND-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Routeing Area Routeing
Area/11.3.31 M TLV 8 Suspend Reference Number Suspend Reference Number/11.3.33
M TLV 3
* * *
### 10.3.8 SUSPEND-NACK
This PDU negatively acknowledges the reception of a SUSPEND PDU for an MS.
PDU type: SUSPEND-NACK
Direction: SGSN to BSS
Table 10.3.8: SUSPEND-NACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Routeing Area Routeing
Area/11.3.31 M TLV 8 Cause Cause/11.3.8 O TLV 3
* * *
### 10.3.9 RESUME
This PDU indicates that an MS wishes to RESUME its GPRS service.
PDU type: RESUME
Direction: BSS to SGSN
Table 10.3.9: RESUME PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Routeing Area Routeing
Area/11.3.31 M TLV 8 Suspend Reference Number Suspend Reference Number/11.3.33
M TLV 3
* * *
### 10.3.10 RESUME-ACK
This PDU positively acknowledges the reception of a RESUME PDU for an MS.
PDU type: RESUME-ACK
Direction: SGSN to BSS
Table 10.3.10: RESUME-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Routeing Area Routeing
Area/11.3.31 M TLV 8
* * *
### 10.3.11 RESUME-NACK
This PDU negatively acknowledges the reception of a RESUME PDU for an MS.
PDU type: RESUME-NACK
Direction: SGSN to BSS
Table 10.3.11: RESUME-NACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Routeing Area Routeing
Area/11.3.31 M TLV 8 Cause Cause/11.3.8 O TLV 3
* * *
### 10.3.12 DUMMY PAGING PS
This PDU indicates that a BSS shall calculate the time until the next paging
occasion for the MS indicated in the message.
PDU type: DUMMY-PAGING-PS
Direction: SGSN to BSS
Table 10.3.12: DUMMY PAGING PS PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 IMSI IMSI/11.3.14 M TLV 5 -10 Routeing Area Routeing
Area/11.3.31 O TLV 8 eDRX Parameters eDRX Parameters/11.3.122 O TLV 3
* * *
### 10.3.13 DUMMY PAGING PS RESPONSE
This PDU provides the SGSNwith the time until the next paging occasion for the
MS indicated in the message.
PDU type: DUMMY-PAGING-PS-RESPONSE
Direction: BSS to SGSN
Table 10.3.13: DUMMY PAGING PS RESPONSE PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 IMSI IMSI/11.3.14 M TLV 5 -10 Time Until Next Paging
Occasion Time Until Next Paging Occasion/11.3.123 M TLV 4
* * *
### 10.3.14 PAGING PS REJECT
This PDU indicates that a BSS has determined the nominal paging group of the
MS occurs too far into the future.
PDU type: PAGING-PS-PDU
Direction: BSS to SGSN
Table 10.3.14: PAGING PS REJECT PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 IMSI IMSI/11.3.14 M TLV 5 -10 P-TMSI (note 1) TMSI/11.3.36
O TLV 6 Time Until Next Paging Occasion Time Until Next Paging
Occasion/11.3.123 M TLV 4 NOTE 1: Included if present in the corresponding
PAGING-PS PDU.
* * *
### 10.3.15 MS REGISTRATION ENQUIRY
This PDU allows the BSS to request registration information for a given mobile
station. It is used in MOCN and GWCN configurations for network sharing.
> PDU type: MS-REGISTRATION-ENQUIRY
>
> Direction: BSS to SGSN
Table 10.3.15: MS REGISTRATION ENQUIRY PDU content
* * *
**Information elements** **Type / Reference** **Presence** **Format**
**Length** PDU type PDU type/11.3.26 M V 1 IMSI IMSI/11.3.14 M TLV 5-10 MME
Query MME Query/11.3.130 O TLV 3
* * *
### 10.3.16 MS REGISTRATION ENQUIRY RESPONSE
This PDU is sent to the BSS to provide registration information for a given
mobile station. It is used in MOCN and GWCN configurations for network
sharing.
> PDU type: MS-REGISTRATION-ENQUIRY-RESPONSE
>
> Direction: SGSN to BSS
Table 10.3.16: MS REGISTRATION ENQUIRY RESPONSE PDU content
* * *
**Information elements** **Type / Reference** **Presence** **Format**
**Length** PDU type PDU type/11.3.26 M V 1 IMSI IMSI/11.3.14 M TLV 5-10 PS
Registered Operator (note 1) PLMN Identity/11.3.129 O TLV 5 NOTE 1: This IE
identifies the serving CN operator for the mobile station associated to the
IMSI. Omitting this IE from the message has the significance of no serving CN
operator for the mobile station (IMSI).
* * *
## 10.4 PDU functional definitions and contents at NM SAP
### 10.4.1 FLUSH-LL
This PDU informs a BSS that an MS has moved from one cell to another.
PDU type: FLUSH-LL
Direction: SGSN to BSS
Table 10.4.1: FLUSH-LL PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 BVCI (old) BVCI/11.3.6 M TLV 4
BVCI (new) BVCI/11.3.6 O TLV 4 NSEI (new) NSEI/11.3.48 O (note) TLV 4 NOTE:
NSEI (new) is included if the SGSN supports \"Inter-NSE re-routing\" or \"LCS
Procedures\" and the old NSE supports the \"Inter-NSE re-routing\" or \"LCS
Procedures\" and the cell change is an Inter-NSE cell change within a routing
area.
* * *
### 10.4.2 FLUSH-LL-ACK
This PDU indicates that LLC-PDU(s) buffered for an MS in the old cell have
been either deleted or transferred to the new cell within the routing area.
PDU type: FLUSH-LL-ACK
Direction: BSS to SGSN
Table 10.4.2: FLUSH-LL-ACK PDU content
+------------------+------------------+------------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +------------------+------------------+------------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +------------------+------------------+------------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +------------------+------------------+------------+--------+--------+ | Flush Action | Flush | M | TLV | 3 | | | Action/11.3.13 | | | | +------------------+------------------+------------+--------+--------+ | BVCI (new) | BVCI/11.3.13 | C (note 1) | TLV | 4 | +------------------+------------------+------------+--------+--------+ | Number of octets | Number of octets | M | TLV | 5 | | affected | affected/11.3.41 | | | | +------------------+------------------+------------+--------+--------+ | NSEI (new) | NSEI/11.3.48 | C (note 2) | TLV | 4 | +------------------+------------------+------------+--------+--------+ | NOTE 1: BVCI | | | | | | (new) is | | | | | | included only if | | | | | | Flush action | | | | | | indicated that | | | | | | LLC-PDUs are | | | | | | transferred. | | | | | | | | | | | | NOTE 2: NSEI | | | | | | (new) is | | | | | | included only if | | | | | | BVCI(new) is | | | | | | included and | | | | | | NSEI (new) is | | | | | | received in the | | | | | | FLUSH-LL PDU. | | | | | +------------------+------------------+------------+--------+--------+
### 10.4.3 LLC-DISCARDED
This PDU indicates that a number of buffered LLC-PDUs in a cell for an MS have
been deleted inside the BSS (because of PDU Lifetime expiration or radio
outage for example). The LLC frames and the related octets deleted by the BSS
as a consequence of a FLUSH-LL procedure (see sub-clause 8.1) shall not be
reported a second time by means of an LLC-DISCARDED PDU.
PDU type: LLC-DISCARDED
Direction: BSS to SGSN
Table 10.4.3: LLC-DISCARDED PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 LLC Frames Discarded LLC Frames
Discarded/11.3.16 M TLV 3 BVCI BVCI/11.3.6 M TLV 4 Number of octets deleted
Number of octets affected/11.3.41 M TLV 5 PFI (note) PFI/11.3.42 O TLV 3 NOTE:
The PFI may be provided in case the PFC flow control feature is negotiated. It
corresponds to the Packet Flow Identifier of the PFC for which LLC frames have
been discarded.
* * *
### 10.4.4 FLOW-CONTROL-BVC
This PDU informs the flow control mechanism at an SGSN of the status of a
BVC\'s maximum acceptable SGSN to BSS throughput on the Gb interface.
PDU type: FLOW-CONTROL-BVC
Direction: BSS to SGSN
Table 10.4.4: FLOW-CONTROL-BVC PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Tag Tag/11.3.34 M TLV 3 BVC Bucket Size BVC Bucket
Size/11.3.5 M TLV 4 Bucket Leak Rate Bucket Leak Rate/11.3.4 M TLV 4 Bmax
default MS Bmax default MS/11.3.2 M TLV 4 R_default_MS R_default_MS/11.3.32 M
TLV 4 Bucket_Full Ratio Bucket_Full Ratio/11.3.46 C TLV 3 BVC Measurement BVC
Measurement/11.3.7 O TLV 4 Flow Control Granularity (note) Flow Control
Granularity/11.3.102 O TLV 3 NOTE: The Flow Control Granularity shall be
provided in case the Gigabit Interface feature is negotiated.
* * *
### 10.4.5 FLOW-CONTROL-BVC-ACK
This PDU informs the flow control mechanism at the BSS that the SGSN has
received the FLOW-CONTROL-BVC PDU indicated by the Tag.
PDU type: FLOW-CONTROL-BVC-ACK
Direction: SGSN to BSS
Table 10.4.5: FLOW-CONTROL-BVC-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Tag Tag/11.3.34 M TLV 3
* * *
### 10.4.6 FLOW-CONTROL-MS
This PDU informs the flow control mechanism at an SGSN of the status of an
MS\'s maximum acceptable SGSN to BSS throughput on the Gb interface.
PDU type: FLOW-CONTROL-MS
Direction: BSS to SGSN
Table 10.4.6: FLOW-CONTROL-MS PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Tag Tag/11.3.34 M TLV 3 MS Bucket
Size MS Bucket Size/11.3.21 M TLV 4 Bucket Leak rate Bucket Leak rate/11.3.4 M
TLV 4 Bucket_Full Ratio Bucket_Full Ratio/11.3.46 C TLV 3 Flow Control
Granularity (note) Flow Control Granularity/11.3.102 O TLV 3 NOTE: The Flow
Control Granularity shall be provided in case the Gigabit Interface feature is
negotiated.
* * *
### 10.4.7 FLOW-CONTROL-MS-ACK
This PDU informs the flow control mechanism at the BSS that the SGSN has
received the FLOW-CONTROL-MS PDU indicated by the TLLI and the Tag.
PDU type: FLOW-CONTROL-MS-ACK
Direction: SGSN to BSS
Table 10.4.7: FLOW-CONTROL-MS-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Tag Tag/11.3.34 M TLV 3
* * *
### 10.4.8 BVC-BLOCK
This PDU indicates that the contained BVC shall be blocked at the recipient
entity.
PDU type: BVC-BLOCK
Direction: BSS to SGSN
Table 10.4.8: BVC-BLOCK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 BVCI BVCI/11.3.6 M TLV 4 Cause Cause/11.3.8 M TLV 3
* * *
### 10.4.9 BVC-BLOCK-ACK
This PDU acknowledges that a BVC has been blocked.
PDU type: BVC-BLOCK-ACK
Direction: SGSN to BSS
Table 10.4.9: BVC-BLOCK-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 BVCI BVCI/11.3.6 M TLV 4
* * *
### 10.4.10 BVC-UNBLOCK
This PDU indicates that the identified BVC shall be unblocked at the recipient
entity.
PDU type: BVC-UNBLOCK
Direction: BSS to SGSN
Table 10.4.10: BVC-UNBLOCK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 BVCI BVCI/11.3.6 M TLV 4
* * *
### 10.4.11 BVC-UNBLOCK-ACK
This PDU acknowledges that a BVC has been unblocked.
PDU type: BVC-UNBLOCK-ACK
Direction: SGSN to BSS
Table 10.4.11: BVC-UNBLOCK-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 BVCI BVCI/11.3.6 M TLV 4
* * *
### 10.4.12 BVC-RESET
This PDU indicates that BVC initialisation is required, e.g. because of a BVC
failure.
PDU type: BVC-RESET
Direction: SGSN to BSS, BSS to SGSN
Table 10.4.12: BVC-RESET PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | BVCI | BVCI/11.3.6 | M | TLV | 4 | +-------------------+-------------------+----------+--------+--------+ | Cause | Cause/11.3.8 | M | TLV | 3 | +-------------------+-------------------+----------+--------+--------+ | Cell Identifier | | C | TLV | 10 | | (note 1) | | | | | +-------------------+-------------------+----------+--------+--------+ | Feature bitmap | Feature | O | TLV | 3 | | (note 2) | bitmap/11.3.45 | | | | +-------------------+-------------------+----------+--------+--------+ | Extended Feature | Extended Feature | O | TLV | 3 | | Bitmap (note 3) | Bitmap/11.3.84 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: The Cell | | | | | | Identifier IE is | | | | | | mandatory in the | | | | | | BVC-RESET PDU | | | | | | sent from BSS to | | | | | | SGSN in order to | | | | | | reset a BVC | | | | | | corresponding to | | | | | | a PTP functional | | | | | | entity. The Cell | | | | | | Identifier IE | | | | | | shall not be used | | | | | | in any other | | | | | | BVC-RESET PDU. | | | | | | | | | | | | NOTE 2: The | | | | | | Feature bitmap is | | | | | | only sent in a | | | | | | BVC-RESET PDU | | | | | | related to the | | | | | | signalling BVC. | | | | | | Absence of this | | | | | | IE implies no | | | | | | optional features | | | | | | are available | | | | | | over the NSE. | | | | | | | | | | | | NOTE 3: The | | | | | | Extended Feature | | | | | | Bitmap is only | | | | | | sent in a | | | | | | BVC-RESET PDU | | | | | | related to the | | | | | | signalling BVC. | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.4.13 BVC-RESET-ACK
This PDU indicates that BVC initialisation has been executed.
PDU type: BVC-RESET-ACK
Direction: BSS to SGSN, SGSN to BSS
Table 10.4.13: BVC-RESET-ACK PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | BVCI | BVCI/11.3.6 | M | TLV | 4 | +-------------------+-------------------+----------+--------+--------+ | Cell Identifier | | C | TLV | 10 | | (note 1) | | | | | +-------------------+-------------------+----------+--------+--------+ | Feature bitmap | Feature | O | TLV | 3 | | (note 2) | bitmap/11.3.45 | | | | +-------------------+-------------------+----------+--------+--------+ | Extended Feature | Extended Feature | O | TLV | 3 | | Bitmap (note 3) | Bitmap/11.3.84 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: The Cell | | | | | | Identifier IE is | | | | | | mandatory in the | | | | | | BVC-RESET-ACK PDU | | | | | | sent from BSS to | | | | | | SGSN in response | | | | | | to reset a BVC | | | | | | corresponding to | | | | | | a PTP functional | | | | | | entity. The Cell | | | | | | Identifier IE | | | | | | shall not be used | | | | | | in any other | | | | | | BVC-RESET-ACK | | | | | | PDU. | | | | | | | | | | | | NOTE 2: The | | | | | | Feature bitmap is | | | | | | only sent in a | | | | | | BVC-RESET-ACK PDU | | | | | | related to the | | | | | | signalling BVC. | | | | | | Absence of this | | | | | | IE implies no | | | | | | optional features | | | | | | are available | | | | | | over the NSE. | | | | | | | | | | | | NOTE 3: The | | | | | | Extended Feature | | | | | | Bitmap is only | | | | | | sent in a | | | | | | BVC-RESET-ACK PDU | | | | | | related to the | | | | | | signalling BVC. | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.4.14 STATUS
This PDU indicates that an exception condition occurred.
PDU type: STATUS
Direction: SGSN to BSS, BSS to SGSN
Table 10.4.14: STATUS PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Cause Cause/11.3.8 M TLV 3 BVCI BVCI/11.3.6 C TLV 4 PDU In
Error (note) PDU In Error/11.3.24 O TLV 3-? NOTE: This is the whole PDU
(starting with the [PDU type]) within which an error was detected. This PDU
may be truncated if it exceeds the information carrying capacity of the
underlying network service.
* * *
#### 10.4.14.1 Static conditions for BVCI
The \"BVCI\" IE shall be included when the \"Cause\" IE is set to one of the
following values:
a) \"BVCI blocked\";
b) \"BVCI unknown\";
and shall not be included otherwise.
### 10.4.15 SGSN-INVOKE-TRACE
This PDU indicates that the BSS shall begin the production of a trace record
for an MS.
PDU type: SGSN-INVOKE-TRACE
Direction: SGSN to BSS
Table 10.4.15: SGSN-INVOKE-TRACE PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Trace Type Trace Type/11.3.38 M TLV 3 Trace Reference Trace
Reference/11.3.37 M TLV 4 Trigger Id Trigger Id/11.3.40 O TLV 4-24 Mobile Id
Mobile Id/11.3.20 O TLV 3-10 OMC Id OMC Id/11.3.23 O TLV 4-24 TransactionId
TransactionId/11.3.39 O TLV 4
* * *
### 10.4.16 DOWNLOAD-BSS-PFC
This PDU requests a SGSN to initiate a CREATE-BSS-PFC procedure.
PDU type: DOWNLOAD-BSS-PFC
Direction: BSS to SGSN
Table 10.4.16: DOWNLOAD-BSS-PFC PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3
* * *
### 10.4.17 CREATE-BSS-PFC
This PDU allows the SGSN to request that a BSS create or modify a BSS Packet
Flow Context.
PDU type: CREATE-BSS-PFC
Direction: SGSN to BSS
Table 10.4.17: CREATE-BSS-PFC PDU content
+------------------+------------------+------------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +------------------+------------------+------------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +------------------+------------------+------------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +------------------+------------------+------------+--------+--------+ | IMSI | IMSI/11.3.14 | O (note 4) | TLV | 5 -10 | +------------------+------------------+------------+--------+--------+ | PFI | PFI/11.3.42 | M | TLV | 3 | +------------------+------------------+------------+--------+--------+ | PFT | GPRS | M | TLV | 3 | | | Timer/11.3.44 | | | | +------------------+------------------+------------+--------+--------+ | ABQP | ABQP/11.3.43 | M | TLV | 13-? | +------------------+------------------+------------+--------+--------+ | Service UTRAN | Service UTRAN | O | TLV | 3 | | CCO | CCO/11.3.47 | | | | +------------------+------------------+------------+--------+--------+ | MS Radio Access | MS Radio Access | O (note 1) | TLV | 7-? | | Capability | Ca | | | | | | pability/11.3.22 | | | | +------------------+------------------+------------+--------+--------+ | Allo | Priority/11.3.27 | O | TLV | 3 | | cation/Retention | | | | | | Priority | | | | | +------------------+------------------+------------+--------+--------+ | T10 | GPRS | C (note 2) | TLV | 3 | | | Timer/11.3.44 | | | | +------------------+------------------+------------+--------+--------+ | Inter RAT | Inter RAT | O (note 3) | TLV | 3-? | | Handover Info | Handover | | | | | | Info/11.3.94 | | | | +------------------+------------------+------------+--------+--------+ | E-UTRAN Inter | E-UTRAN Inter | O (note 3) | TLV | 3-? | | RAT Handover | RAT Handover | | | | | Info | Info/11.3.104 | | | | +------------------+------------------+------------+--------+--------+ | Subscriber | Subscriber | O | TLV | 3 | | Profile ID for | Profile ID for | | | | | RAT/Frequency | RAT/Frequency | | | | | priority (note | p | | | | | 5) | riority/11.3.105 | | | | +------------------+------------------+------------+--------+--------+ | NOTE 1: This | | | | | | Information | | | | | | Element shall be | | | | | | present if there | | | | | | is valid MS | | | | | | Radio Access | | | | | | Capability | | | | | | information | | | | | | known by the | | | | | | SGSN. | | | | | | | | | | | | NOTE 2: This | | | | | | information | | | | | | element shall be | | | | | | present if the | | | | | | Allo | | | | | | cation/Retention | | | | | | Priority IE is | | | | | | present and if | | | | | | queuing is | | | | | | allowed for the | | | | | | PFC. | | | | | | | | | | | | NOTE 3: This | | | | | | information | | | | | | element shall be | | | | | | present if | | | | | | available in the | | | | | | SGSN. | | | | | | | | | | | | NOTE 4: This | | | | | | information | | | | | | element shall be | | | | | | present if the | | | | | | IMSI is | | | | | | available in the | | | | | | SGSN. | | | | | | | | | | | | NOTE 5: This IE | | | | | | may be included | | | | | | if available in | | | | | | the SGSN. If the | | | | | | Service UTRAN | | | | | | CCO IE is | | | | | | present with the | | | | | | value of \"shall | | | | | | not\" the | | | | | | Service UTRAN | | | | | | CCO IE takes | | | | | | precedence over | | | | | | this IE. | | | | | +------------------+------------------+------------+--------+--------+
### 10.4.18 CREATE-BSS-PFC-ACK
This PDU allows the BSS to acknowledge a request from the SGSN for the
creation or modification of a BSS Packet Flow Context.
PDU type: CREATE-BSS-PFC-ACK
Direction: BSS to SGSN
Table 10.4.18: CREATE-BSS-PFC-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3 ABQP
ABQP/11.3.43 M TLV 13-? Cause Cause/11.3.8 O TLV 3
* * *
### 10.4.19 CREATE-BSS-PFC-NACK
This PDU allows the BSS to Nack a request from the SGSN for the creation of a
BSS Packet Flow Context.
PDU type: CREATE-BSS-PFC-NACK
Direction: BSS to SGSN
Table 10.4.19: CREATE-BSS-PFC-NACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3 Cause
Cause/11.3.8 M TLV 3
* * *
### 10.4.20 MODIFY-BSS-PFC
This PDU allows the BSS to request a modification of a BSS Packet Flow
Context.
PDU type: MODIFY-BSS-PFC
Direction: BSS to SGSN
Table 10.4.20: MODIFY-BSS-PFC PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3 ABQP
ABQP/11.3.43 M TLV 13-?
* * *
### 10.4.21 MODIFY-BSS-PFC-ACK
This PDU allows the SGSN to acknowledge a modification to a BSS Packet Flow
Context.
PDU type: MODIFY-BSS-PFC-ACK
Direction: SGSN to BSS
Table 10.4.21: MODIFY-BSS-PFC-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3 PFT GPRS
Timer/11.3.44 M TLV 3 ABQP ABQP/11.3.43 M TLV 13-?
* * *
### 10.4.22 DELETE-BSS-PFC
This PDU allows the SGSN to request that a BSS delete a BSS Packet Flow
Context.
PDU type: DELETE-BSS-PFC
Direction: SGSN to BSS
Table 10.4.22: DELETE-BSS-PFC PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3
* * *
### 10.4.23 DELETE-BSS-PFC-ACK
This PDU allows the BSS to acknowledge a request for the deletion of a BSS
Packet Flow Context.
PDU type: DELETE-BSS-PFC-ACK
Direction: BSS to SGSN
Table 10.4.23: DELETE-BSS-PFC-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3
* * *
### 10.4.24 FLOW-CONTROL-PFC
This PDU provides the SGSN with flow control information regarding one or more
PFC(s) of a given Mobile Station.
PDU type: FLOW-CONTROL-PFC
Direction: BSS to SGSN
Table 10.4.24: FLOW-CONTROL-PFC PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Tag Tag/11.3.34 M TLV 3 MS Bucket
Size MS Bucket Size/11.3.21 O TLV 4 Bucket Leak rate Bucket Leak rate/11.3.4 O
TLV 4 Bucket_Full Ratio Bucket_Full Ratio/11.3.46 O TLV 3 PFC flow control
parameters PFC flow control parameters/11.3.68 M TLV  
Flow Control Granularity (note) Flow Control Granularity/11.3.102 O TLV 3
NOTE: The Flow Control Granularity shall be provided in case the Gigabit
Interface feature is negotiated.
* * *
### 10.4.25 FLOW-CONTROL-PFC-ACK
This PDU informs the flow control mechanism at the BSS that the SGSN has
received the FLOW-CONTROL-PFC PDU indicated by the TLLI and the Tag.
PDU type: FLOW-CONTROL-PFC-ACK
Direction: SGSN to BSS
Table 10.4.25: FLOW-CONTROL-PFC-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Tag Tag/11.3.34 M TLV 3
* * *
### 10.4.26 DELETE-BSS-PFC-REQ
This PDU allows the BSS to inform the SGSN that the BSS Packet Flow Context
cannot be supported anymore
PDU type: DELETE-BSS-PFC-REQ
Direction: BSS to SGSN
Table 10.4.26: DELETE-BSS-PFC-REQ PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 PFI PFI/11.3.42 M TLV 3 Cause
Cause/11.3.8 M TLV 3
* * *
### 10.4.27 PS-HANDOVER-REQUIRED
This PDU initiates the allocation of resources in the target system for an MS.
PDU type: PS-HANDOVER-REQUIRED
Direction: BSS to SGSN
Table 10.4.27: PS-HANDOVER-REQUIRED PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Cause Cause/11.3.8 M TLV 3 Source
Cell Identifier Cell Identifier/11.3.9 M TLV 10 Target Cell Identifier (note
2) Cell Identifier/11.3.9 C TLV 10 Source BSS to Target BSS Transparent
Container (note 1) Source BSS to Target BSS Transparent Container/11.3.79 C
TLV 10-? Target RNC Identifier (note 2) (note 3) RNC Identifier/11.3.87 C TLV
10 Source to Target Transparent Container (note 1) Source to Target
Transparent Container/11.3.85 C TLV 3-? Active PFCs List Active PFCs
List/11.3.95c M TLV 3-? Target eNB identifier (note 2) (note 3) eNB
Identifier/11.3.103 C TLV 3-n Reliable Inter RAT Handover Info (note 4)
Reliable Inter RAT Handover Info/11.3.107 C TLV 3 CSG Identifier (note 5) CSG
Identifier/11.3.109 C TLV 7 TAC (note 6) Tracking Area Code/11.3.110 C TLV 5
NOTE 1: One and only one of these two conditional IEs shall be present
depending on the target RAT as specified in subclause 8a.4.  
NOTE 2: One and only one of these three conditional IEs shall be present
depending on the target RAT as specified in subclause 8a.4.  
NOTE 3: In case of PS handover to E-UTRAN, the Target RNC Identifier IE
(carrying the Corresponding RNC-ID) may be present as an alternative to the
Target eNB identifier IE.  
NOTE 4: This IE shall be present when the target cell is a GERAN cell.  
NOTE 5: This IE shall be present when the target cell is a CSG or hybrid cell.  
NOTE 6: This IE shall be present when the target cell is a E-UTRAN CSG or
hybrid cell.
* * *
### 10.4.28 PS-HANDOVER-REQUIRED-ACK
This PDU indicates that resources have been allocated in the target system and
that the BSS may initiate the channel change attempt for the corresponding MS.
PDU type: PS-HANDOVER-REQUIRED-ACK
Direction: SGSN to BSS
Table 10.4.28: PS-HANDOVER-REQUIRED-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 List of set-up PFCs List of set-
up PFCs/11.3.83 M TLV 3-? Target BSS to Source BSS Transparent Container
(note) Target BSS to Source BSS Transparent Container/11.3.80 C TLV 3-? Target
to Source Transparent Container (note) Target to Source Transparent
Container/11.3.86 C TLV 3-? NOTE: One and only one of these two conditional
IEs shall be present depending on the target RAT as specified in subclause
8a.4.
* * *
### 10.4.29 PS-HANDOVER-REQUIRED-NACK
This PDU informs the source BSS about failed resource allocation in the target
system.
PDU type: PS-HANDOVER-REQUIRED-NACK
Direction: SGSN to BSS
Table 10.4.29: PS-HANDOVER-REQUIRED-NACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Cause Cause/11.3.8 M TLV 3
* * *
### 10.4.30 PS-HANDOVER-REQUEST
This PDU initiates the allocation of resources for one or more PFCs in the
target BSS for an MS.
PDU type: PS-HANDOVER-REQUEST
Direction: SGSN to BSS
Table 10.4.30: PS-HANDOVER-REQUEST PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +-------------------+-------------------+----------+--------+--------+ | IMSI | IMSI/11.3.14 | M | TLV | 5-10 | +-------------------+-------------------+----------+--------+--------+ | Cause | Cause/11.3.8 | M | TLV | 3 | +-------------------+-------------------+----------+--------+--------+ | Source Cell | Cell | C | TLV | 10 | | Identifier (note | Identifier/11.3.9 | | | | | 1) | | | | | +-------------------+-------------------+----------+--------+--------+ | Source RNC | RNC | C | TLV | 10 | | Identifier (note | I | | | | | 1) | dentifier/11.3.87 | | | | +-------------------+-------------------+----------+--------+--------+ | Target Cell | Cell | M | TLV | 10 | | Identifier | Identifier/11.3.9 | | | | +-------------------+-------------------+----------+--------+--------+ | Source BSS to | Source BSS to | M | TLV | 7-? | | Target BSS | Target BSS | | | | | Transparent | Transparent | | | | | Container | Container/11.3.79 | | | | +-------------------+-------------------+----------+--------+--------+ | PFCs to be set-up | PFCs to be set-up | M | TLV | 22-? | | list | list/11.3.82 | | | | +-------------------+-------------------+----------+--------+--------+ | NAS container for | NAS container for | O | TLV | 3-? | | PS Handover | PS | | | | | | Handover/11.3.81 | | | | +-------------------+-------------------+----------+--------+--------+ | Service UTRAN CCO | Service UTRAN | O | TLV | 3 | | | CCO/11.3.47 | | | | +-------------------+-------------------+----------+--------+--------+ | Subscriber | Subscriber | O | TLV | 3 | | Profile ID for | Profile ID for | | | | | RAT/Frequency | RAT/Frequency | | | | | priority (note 2) | priority | | | | | | /11.3.105 | | | | +-------------------+-------------------+----------+--------+--------+ | Reliable Inter | Reliable Inter | C | TLV | 3 | | RAT Handover Info | RAT Handover | | | | | (note 3) | Info/11.3.107 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: In case | | | | | | of PS handover | | | | | | from GERAN or | | | | | | UTRAN, one and | | | | | | only one of these | | | | | | two conditional | | | | | | IEs shall be | | | | | | present depending | | | | | | on the source | | | | | | RAT. In case of | | | | | | PS handover from | | | | | | E-UTRAN, neither | | | | | | of these two | | | | | | conditional IEs | | | | | | shall be present. | | | | | | | | | | | | NOTE 2: This IE | | | | | | may be included | | | | | | if available in | | | | | | the SGSN. If the | | | | | | Service UTRAN CCO | | | | | | IE is present | | | | | | with the value of | | | | | | \"shall not\" the | | | | | | Service UTRAN CCO | | | | | | IE takes | | | | | | precedence over | | | | | | this IE. | | | | | | | | | | | | NOTE 3: This IE | | | | | | shall be included | | | | | | if sent by the | | | | | | source BSS. | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.4.31 PS-HANDOVER-REQUEST-ACK
This PDU acknowledges the successful allocation of resources in the target
BSS.
PDU type: PS-HANDOVER-REQUEST-ACK
Direction: BSS to SGSN
Table 10.4.31: PS-HANDOVER-REQUEST-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 List of set-up PFCs List of set-
up PFCs/11.3.83 M TLV 3-? Target BSS to Source BSS Transparent Container
Target BSS to Source BSS Transparent Container/11.3.80 M TLV 3-?
* * *
### 10.4.32 PS-HANDOVER-REQUEST-NACK
This PDU informs the SGSN about failed resource allocation in the target BSS.
PDU type: PS-HANDOVER-REQUEST-NACK
Direction: BSS to SGSN
Table 10.4.32: PS-HANDOVER-REQUEST-NACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Cause Cause/11.3.8 M TLV 3
* * *
### 10.4.33 PS-HANDOVER-COMPLETE
This PDU informs the SGSN about successful channel change for an MS.
PDU type: PS-HANDOVER-COMPLETE
Direction: BSS to SGSN
Table 10.4.33: PS-HANDOVER-COMPLETE PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +-------------------+-------------------+----------+--------+--------+ | IMSI | IMSI/11.3.14 | M | TLV | 5-10 | +-------------------+-------------------+----------+--------+--------+ | Target Cell | Cell | O | TLV | 10 | | Identifier (note | Identifier/11.3.9 | | | | | 1) | | | | | +-------------------+-------------------+----------+--------+--------+ | Request for Inter | Request for Inter | O | TLV | 3 | | RAT Handover Info | RAT Handover | | | | | (note 2) | Info/11.3.106 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: The | | | | | | Target Cell | | | | | | Identifier IE is | | | | | | included only for | | | | | | optimised | | | | | | Intra-BSS PS | | | | | | Handover. | | | | | | | | | | | | NOTE 2: This IE | | | | | | shall be included | | | | | | if the BSS | | | | | | supports | | | | | | inter-RAT PS | | | | | | handover to | | | | | | UTRAN. | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.4.34 PS-HANDOVER-CANCEL
This PDU cancels the handover for an MS.
PDU type: PS-HANDOVER-CANCEL
Direction: BSS to SGSN
Table 10.4.34: PS-HANDOVER-CANCEL PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Cause Cause/11.3.8 M TLV 3 Source
Cell Identifier Cell Identifier/11.3.9 M TLV 10 Target Cell Identifier (note
1) Cell Identifier/11.3.9 C TLV 10 Target RNC Identifier (note 1) (note 2) RNC
Identifier/11.3.87 C TLV 10 Target eNB Identifier (note 1) (note 2) eNB
Identifier/11.3.103 C TLV 3-n NOTE 1: One and only one of these three
conditional IEs shall be present depending on the target RAT as specified in
subclause 8a.7.  
NOTE 2: In case of PS handover to E-UTRAN, the Target RNC Identifier IE
(carrying the Corresponding RNC-ID) may be present as an alternative to the
Target eNB identifier IE.
* * *
### 10.4.35 PS-HANDOVER-COMPLETE-ACK
This PDU provides to the BSS the _Inter RAT Handover Info_ IE. It is sent only
if requested by the BSS.
PDU type: PS-HANDOVER-COMPLETE-ACK
Direction: SGSN to BSS
Table 10.4.35: PS-HANDOVER-COMPLETE-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 Inter RAT Handover Info Inter RAT
Handover Info/11.3.94 M (note 1) TLV 3-? E-UTRAN Inter RAT Handover Info
E-UTRAN Inter RAT Handover Info/11.3.104 O (note 1) TLV 3-? NOTE 1: Only Inter
RAT Handover Info IE shall be present in the message. _E-UTRAN Inter RAT
Handover Info_ IE was defined in an earlier version of the protocol and shall
not be used.
* * *
10.4.36 OVERLOAD
This PDU informs the BSS that the SGSN sending the PDU is in an overload
situation and the signalling traffic to the SGSN should be reduced.
PDU type: OVERLOAD
Direction: SGSN to BSS
Table 10.4.36: OVERLOAD PDU content
* * *
**Information elements** **Type / Reference** **Presence** **Format**
**Length** PDU type PDU type/11.3.26 M V 1 Priority Class Indicator Priority
Class Indicator/11.3.118 M TLV 3
* * *
## 10.5 PDU functional definitions and contents at LCS SAP
### 10.5.1 PERFORM-LOCATION-REQUEST
This PDU allows the SGSN to request the BSS to perform a location procedure
for the target MS.
PDU type: PERFORM-LOCATION-REQUEST
Direction: SGSN to BSS
Table 10.5.1: PERFORM-LOCATION-REQUEST PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +-------------------+-------------------+----------+--------+--------+ | IMSI | IMSI/11.3.14 | M | TLV | 5-10 | +-------------------+-------------------+----------+--------+--------+ | DRX Parameters | DRX | O | TLV | 4 | | (note 1) | P | | | | | | arameters/11.3.11 | | | | +-------------------+-------------------+----------+--------+--------+ | BVCI (PCU-PTP) | BVCI/11.3.6 | M | TLV | 4 | +-------------------+-------------------+----------+--------+--------+ | NSEI (PCU-PTP) | NSEI/11.3.48 | M | TLV | 4-? | +-------------------+-------------------+----------+--------+--------+ | Location Type | Location | M | TLV | 3-? | | | Type/11.3.53 | | | | +-------------------+-------------------+----------+--------+--------+ | Cell Identifier | Cell | M | TLV | 10 | | | Identifier/11.3.9 | | | | +-------------------+-------------------+----------+--------+--------+ | LCS Capability | LCS | O | TLV | 3-? | | (note 2) | C | | | | | | apability/11.3.59 | | | | +-------------------+-------------------+----------+--------+--------+ | LCS Priority | LCS | O | TLV | 3-? | | | Priority/11.3.57 | | | | +-------------------+-------------------+----------+--------+--------+ | LCS QoS | LCS QoS/11.3.50 | O | TLV | 3-? | +-------------------+-------------------+----------+--------+--------+ | LCS Client Type | LCS Client | C | TLV | 3-? | | (note 3) | Type/11.3.51 | | | | +-------------------+-------------------+----------+--------+--------+ | Requested GPS | Requested GPS | O | TLV | 3-? | | Assistance Data | Assistance | | | | | (note 4) | Data/11.3.52 | | | | +-------------------+-------------------+----------+--------+--------+ | IMEI (note 5) | IMEI/11.3.91 | O | TLV | 10 | +-------------------+-------------------+----------+--------+--------+ | GANSS Location | GANSS Location | C | TLV | 3 | | Type | Type / 11.3.100 | | | | +-------------------+-------------------+----------+--------+--------+ | Requested GANSS | Requested GANSS | O | TLV | 3-? | | Assistance Data | Assistance | | | | | (note 6) | Data/11.3.99 | | | | +-------------------+-------------------+----------+--------+--------+ | eDRX Parameters | eDRX | O | TLV | 3 | | (note 7) | Pa | | | | | | rameters/11.3.122 | | | | +-------------------+-------------------+----------+--------+--------+ | Coverage Class | Coverage | O | TLV | 3 | | | Class/11.3.124 | | | | +-------------------+-------------------+----------+--------+--------+ | MS Radio Access | MS Radio Access | O | TLV | 7-? | | Capability (note | C | | | | | 8) | apability/11.3.22 | | | | +-------------------+-------------------+----------+--------+--------+ | Mult | Mult | O | TLV | 4 | | ilaterationTiming | ilaterationTiming | | | | | Advance (note 9) | Advance/11.3.137 | | | | +-------------------+-------------------+----------+--------+--------+ | MS Sync Accuracy | MS Sync | O | TLV | 3 | | (note 9) | Accuracy/11.3.138 | | | | +-------------------+-------------------+----------+--------+--------+ | BTS Reception | BTS Reception | O | TLV | 3 | | Accuracy Level | Accuracy | | | | | (note 9) | Level/11.3.139 | | | | +-------------------+-------------------+----------+--------+--------+ | MTA Access | MTA Access | O | TLV | 3 | | Security Required | Security | | | | | (note 10) | Required/11.3.142 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: This IE | | | | | | is present if the | | | | | | SGSN has valid | | | | | | DRX Parameters | | | | | | for the TLLI. | | | | | | | | | | | | NOTE 2: This IE | | | | | | is present if the | | | | | | SGSN has received | | | | | | the information | | | | | | from the MS. | | | | | | | | | | | | NOTE 3: This IE | | | | | | is present if the | | | | | | location type | | | | | | indicates a | | | | | | request for a | | | | | | location estimate | | | | | | and is optional | | | | | | otherwise. | | | | | | | | | | | | NOTE 4: This IE | | | | | | is present if GPS | | | | | | assistance data | | | | | | is requested. | | | | | | | | | | | | NOTE 5: The IMEI | | | | | | could be sent in | | | | | | addition to the | | | | | | IMSI for the | | | | | | purpose of | | | | | | allowing | | | | | | correlation | | | | | | between the two | | | | | | identities. | | | | | | | | | | | | NOTE 6 This IE is | | | | | | present if GANSS | | | | | | assistance data | | | | | | is requested. | | | | | | | | | | | | NOTE 7: If the | | | | | | SGSN has valid | | | | | | eDRX Parameters | | | | | | for a TLLI it | | | | | | shall include the | | | | | | eDRX Parameters | | | | | | IE in which case | | | | | | the DRX | | | | | | Parameters IE | | | | | | shall not be | | | | | | included. | | | | | | | | | | | | NOTE 8: The field | | | | | | shall be present | | | | | | if there is valid | | | | | | MS Radio Access | | | | | | Capability | | | | | | information for | | | | | | the MS known by | | | | | | the SGSN; the | | | | | | field shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | NOTE 9: The IE | | | | | | shall be present | | | | | | if it was | | | | | | received for a | | | | | | given MS no more | | | | | | than 5 seconds | | | | | | prior to sending | | | | | | the | | | | | | PERFORM | | | | | | -LOCATION-REQUEST | | | | | | PDU to the BSS | | | | | | for that MS; the | | | | | | field shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | Note 10: The IE | | | | | | is included if | | | | | | SGSN does not | | | | | | support LLC | | | | | | security and | | | | | | decides to | | | | | | request the use | | | | | | of MTA Access | | | | | | Security (MTA | | | | | | Access Security | | | | | | method or the BSS | | | | | | Duplication | | | | | | Detection method | | | | | | may be | | | | | | indicated). | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.5.2 PERFORM-LOCATION-RESPONSE
This PDU allows the BSS to respond to the SGSN after the completion of the
location procedure.
PDU type: PERFORM-LOCATION-RESPONSE
Direction: BSS to SGSN
Table 10.5.2: PERFORM-LOCATION-RESPONSE PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +-------------------+-------------------+----------+--------+--------+ | BVCI (PCU-PTP) | BVCI/11.3.6 | M | TLV | 4 | +-------------------+-------------------+----------+--------+--------+ | Location Estimate | Location | C | TLV | 3-? | | (note 1) | Estimate/11.3.54 | | | | +-------------------+-------------------+----------+--------+--------+ | Positioning Data | Positioning | O | TLV | 3-? | | | Data/11.3.55 | | | | +-------------------+-------------------+----------+--------+--------+ | Deciphering Keys | Deciphering | C | TLV | 3-? | | (note 2) | Keys/11.3.56 | | | | +-------------------+-------------------+----------+--------+--------+ | LCS Cause (note | LCS Cause/11.3.58 | O | TLV | 3-? | | 3) | | | | | +-------------------+-------------------+----------+--------+--------+ | Velocity Data | Velocity | O | TLV | 3-? | | | Data/11.3.96 | | | | +-------------------+-------------------+----------+--------+--------+ | GANSS Positioning | GANSS Positioning | O | TLV | 3-? | | Data | Data / 11.3.101 | | | | +-------------------+-------------------+----------+--------+--------+ | MTA Sequence | MTA | O | TLV | 7-? | | | Sequence/11.3.143 | | | | +-------------------+-------------------+----------+--------+--------+ | MTA Signature | MTA | O | TLV | 6 | | | S | | | | | | ignature/11.3.144 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: This IE | | | | | | is present if the | | | | | | location of the | | | | | | target MS was | | | | | | requested and the | | | | | | procedure | | | | | | succeeded. | | | | | | | | | | | | NOTE 2: This IE | | | | | | is present if the | | | | | | deciphering keys | | | | | | were requested | | | | | | and the procedure | | | | | | succeeded. | | | | | | | | | | | | NOTE 3: This IE | | | | | | is present if the | | | | | | procedure failed. | | | | | +-------------------+-------------------+----------+--------+--------+
### 10.5.3 PERFORM-LOCATION-ABORT
This PDU allows the SGSN to request the BSS to ABORT the LCS procedure.
PDU type: PERFORM-LOCATION-ABORT
Direction: SGSN to BSS
Table 10.5.3: PERFORM-LOCATION-ABORT PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 BVCI (PCU-PTP) BVCI/11.3.6 M TLV
4 LCS Cause LCS Cause/11.3.58 M TLV 3-?
* * *
### 10.5.4 POSITION-COMMAND
This PDU allows the BSS to request the SGSN to perform the position command
procedure.
PDU type: POSITION-COMMAND
Direction: BSS to SGSN
Table 10.5.4: POSITION-COMMAND PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TLLI TLLI/11.3.35 M TLV 6 BVCI (PCU-PTP) BVCI/11.3.6 M TLV
4 RRLP Flags RRLP Flags/11.3.60 M TLV 3 RRLP APDU RRLP APDU/11.3.49 M TLV 3-?
Multilateration Timer Multilateration Timer/11.3.136 O TLV 3 Timing Advance
Request Timing Advance Request/11.3.140 O TLV 3
* * *
### 10.5.5 POSITION-RESPONSE
This PDU allows the SGSN to respond to the position command request procedure.
PDU type: POSITION-RESPONSE
Direction: SGSN to BSS
Table 10.5.5: POSITION-RESPONSE PDU content
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | elements | | | | | +-------------------+-------------------+----------+--------+--------+ | PDU type | PDU type/11.3.26 | M | V | 1 | +-------------------+-------------------+----------+--------+--------+ | TLLI | TLLI/11.3.35 | M | TLV | 6 | +-------------------+-------------------+----------+--------+--------+ | BVCI (PCU-PTP) | BVCI/11.3.6 | M | TLV | 4 | +-------------------+-------------------+----------+--------+--------+ | RRLP Flags a) | RRLP | C | TLV | 3 | | | Flags/11.3.60 | | | | +-------------------+-------------------+----------+--------+--------+ | RRLP APDU a) | RRLP APDU/11.3.49 | C | TLV | 3-? | +-------------------+-------------------+----------+--------+--------+ | LCS Cause b) | LCS Cause/11.3.58 | O | TLV | 3-? | +-------------------+-------------------+----------+--------+--------+ | a) This IE is | | | | | | present if the | | | | | | procedure | | | | | | succeeded. | | | | | | | | | | | | b) This IE is | | | | | | present if the | | | | | | procedure failed. | | | | | +-------------------+-------------------+----------+--------+--------+
## 10.6 PDU functional definitions and contents at RIM SAP
### 10.6.1 RAN-INFORMATION-REQUEST
The RAN-INFORMATION-REQUEST PDU allows a controlling BSS to request
information from another BSS.
PDU type: RAN-INFORMATION-REQUEST
Direction: BSS to SGSN\ SGSN to BSS
Table 10.6.1: RAN-INFORMATION-REQUEST PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Destination Cell Identifier RIM Routing Information/11.3.70
M TLV 3-? Source Cell Identifier RIM Routing Information/11.3.70 M TLV 3-? RIM
Container RAN-INFORMATION-REQUEST RIM Container/11.3.62a.1 M TLV 3-?
* * *
### 10.6.2 RAN-INFORMATION
The RAN-INFORMATION PDU allows a serving or originating BSS to send
information to a controlling or receiving BSS respectively.
PDU type: RAN-INFORMATION
Direction: BSS to SGSN\ SGSN to BSS
Table 10.6.2: RAN-INFORMATION-PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Destination Cell Identifier RIM Routing Information/11.3.70
M TLV 3-? Source Cell Identifier RIM Routing Information/11.3.70 M TLV 3-? RIM
Container RAN-INFORMATION RIM Container/11.3.62a.2 M TLV 3-?
* * *
### 10.6.3 RAN-INFORMATION-ACK
The RAN-INFORMATION-ACK PDU allows a controlling or receiving BSS to
acknowledge the reception of a RAN-INFORMATION PDU and a serving or
originating BSS to acknowledge the reception of a RAN-INFORMATION-APPLICATION-
ERROR PDU.
PDU type: RAN-INFORMATION-ACK
Direction: BSS to SGSN\ SGSN to BSS
Table 10.6.3: RAN-INFORMATION-ACK PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Destination Cell Identifier RIM Routing Information/11.3.70
M TLV 3-? Source Cell Identifier RIM Routing Information/11.3.70 M TLV 3-? RIM
Container RAN-INFORMATION-ACK RIM Container/11.3.62a.3 M TLV 3-?
* * *
### 10.6.4 RAN-INFORMATION-ERROR
The RAN-INFORMATION-ERROR PDU allows a BSS to send an error PDU back to an
originating BSS as a response to a RAN-INFORMATION, a RAN-INFORMATION-REQUEST,
a RAN-INFORMATION-ACK or a RAN-INFORMATION-APPLICATION-ERROR PDU.
PDU type: RAN-INFORMATION-ERROR
Direction: BSS to SGSN\ SGSN to BSS
Table 10.6.4: RAN-INFORMATION-ERROR content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Destination Cell Identifier RIM Routing Information/11.3.70
M TLV 3-? Source Cell Identifier RIM Routing Information/11.3.70 M TLV 3-? RIM
Container RAN-INFORMATION-ERROR RIM Container/11.3.62a.4 M TLV 3-?
* * *
### 10.6.5 RAN-INFORMATION-APPLICATION-ERROR
The RAN-INFORMATION-APPLICATION-ERROR PDU allows a controlling or receiving
BSS to inform the serving BSS or originating BSS (respectively) about
erroneous application information in a previously received RAN-INFORMATION
PDU.
PDU type: RAN-INFORMATION-APPLICATION-ERROR
Direction: BSS to SGSN\ SGSN to BSS
Table 10.6.5: RAN-INFORMATION-APPLICATION-ERROR PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 Destination Cell Identifier RIM Routing Information/11.3.70
M TLV 3-? Source Cell Identifier RIM Routing Information/11.3.70 M TLV 3-? RIM
Container RAN-INFORMATION-APPLICATION-ERROR RIM Container/11.3.62a.5 M TLV 3-?
* * *
## 10.7 PDU functional definitions and contents at MBMS SAP
### 10.7.1 MBMS-SESSION-START-REQUEST
This PDU allows a SGSN to request BSS to start an MBMS session.
PDU type: MBMS-SESSION-START-REQUEST
Direction: SGSN to BSS
Table 10.7.1: MBMS-SESSION-START-REQUEST PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/11.3.71 O TLV 3 ABQP ABQP/11.3.43 M TLV 13-? MBMS Service
Area Identity List MBMS Service Area Identity List/11.3.73 M TLV 4-? MBMS
Routing Area List MBMS Routing Area List/11.3.75 M TLV 3-? MBMS Session
Duration MBMS Session Duration/11.3.72 M TLV 3-? MBMS Session Information MBMS
Session Information/11.3.76 M TLV 3 Time to MBMS Data Transfer Time to MBMS
Data Transfer/11.3.92 M TLV 3 Allocation/Retention Priority Priority/11.3.27 O
TLV 3 MBMS Session Repetition Number MBMS Session Repetition Number/11.3.93 O
TLV 3
* * *
### 10.7.2 MBMS-SESSION-START-RESPONSE
This PDU allows a BSS to acknowledge to SGSN that it will start an MBMS
session or to indicate to SGSN why the MBMS Service Context cannot be created
or is released by the BSS.
PDU type: MBMS-SESSION-START-RESPONSE
Direction: BSS to SGSN
Table 10.7.2: MBMS-SESSION-START-RESPONSE PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/ 11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/ 11.3.71 O TLV 3 MBMS Response MBMS Response/ 11.3.74 M TLV 3
* * *
### 10.7.3 MBMS-SESSION-STOP-REQUEST
This PDU allows a SGSN to request BSS to stop an MBMS session.
PDU type: MBMS-SESSION-STOP-REQUEST
Direction: SGSN to BSS
Table 10.7.3: MBMS-SESSION-STOP-REQUEST PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/ 11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/ 11.3.71 O TLV 3 MBMS Stop Cause MBMS Stop Cause/11.3.78 M
TLV 3
* * *
### 10.7.4 MBMS-SESSION-STOP-RESPONSE
This PDU allows a BSS to acknowledge to SGSN that it will stop an MBMS
session.
PDU type: MBMS-SESSION-STOP-RESPONSE
Direction: BSS to SGSN
Table 10.7.4: MBMS-SESSION-STOP-RESPONSE PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/ 11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/ 11.3.71 O TLV 3 MBMS Response MBMS Response/ 11.3.74 M TLV 3
* * *
### 10.7.5 MBMS-SESSION-UPDATE-REQUEST
This PDU allows an SGSN to request BSS to update the MBMS service area list of
an ongoing MBMS broadcast service session.
PDU type: MBMS-SESSION-UPDATE-REQUEST
Direction: SGSN to BSS
Table 10.7.5: MBMS-SESSION-UPDATE-REQUEST PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/11.3.71 O TLV 3 ABQP ABQP/11.3.43 M TLV 13-? MBMS Service
Area Identity List MBMS Service Area Identity List/11.3.73 M TLV 4-? MBMS
Routing Area List MBMS Routing Area List/11.3.75 M TLV 3-? MBMS Session
Duration MBMS Session Duration/11.3.72 M TLV 3-? MBMS Session Information MBMS
Session Information/11.3.76 M TLV 3 Time to MBMS Data Transfer Time to MBMS
Data Transfer/11.3.92 M TLV 3 Allocation/Retention Priority Priority/11.3.27 O
TLV 3 MBMS Session Repetition Number MBMS Session Repetition Number/11.3.93 O
TLV 3
* * *
### 10.7.6 MBMS-SESSION-UPDATE-RESPONSE
This PDU allows a BSS to acknowledge to SGSN that it will update the MBMS
service area list of an ongoing MBMS broadcast service session or to indicate
to SGSN why the MBMS Service Context cannot be created or is released by the
BSS.
PDU type: MBMS-SESSION-UPDATE-RESPONSE
Direction: BSS to SGSN
Table 10.7.6: MBMS-SESSION-UPDATE-RESPONSE PDU content
* * *
Information elements Type / Reference Presence Format Length PDU type PDU
type/11.3.26 M V 1 TMGI TMGI/ 11.3.77 M TLV 3-8 MBMS Session Identity MBMS
Session Identity/ 11.3.71 O TLV 3 MBMS Response MBMS Response/ 11.3.74 M TLV 3
* * *
# 11 General information elements coding
The figures and text in this sub-clause describe the Information Elements
contents.
## 11.1 General structure of the information elements
Refer to General Structure Of The Information Elements/3GPP TS 48.016.
## 11.2 Information element description
Refer to Information Element Description/3GPP TS 48.016.
## 11.3 Information Element Identifier (IEI)
An Information Element Identifier (IEI) is identified by the same coding in
all BSSGP PDUs.
Table 11.3: IEI types
* * *
IEI coding\ IEI Types (hexadecimal)
x00 Alignment Octets
x01 Bmax default MS
x02 BSS Area Indication
x03 Bucket Leak Rate
x04 BVCI
x05 BVC Bucket Size
x06 BVC Measurement
x07 Cause
x08 Cell Identifier
x09 Channel needed
x0a DRX Parameters
x0b eMLPP-Priority
x0c Flush Action
x0d IMSI
x0e LLC-PDU
x0f LLC Frames Discarded
x10 Location Area
x11 Mobile Id
x12 MS Bucket Size
x13 MS Radio Access Capability
x14 OMC Id
x15 PDU In Error
x16 PDU Lifetime
x17 Priority
x18 QoS Profile
x19 Radio Cause
x1a RA-Cap-UPD-Cause
x1b Routeing Area
x1c R_default_MS
x1d Suspend Reference Number
x1e Tag
x1f TLLI
x20 TMSI
x21 Trace Reference
x22 Trace Type
x23 TransactionId
x24 Trigger Id
x25 Number of octets affected
x26 LSA Identifier List
x27 LSA Information
x28 Packet Flow Identifier
x29 GPRS Timer
x3a Aggregate BSS QoS Profile (ABQP)
x3b Feature Bitmap
x3c Bucket_Full Ratio
x3d Service UTRAN CCO (Cell Change Order)
x3e NSEI
x3f RRLP APDU
x40 LCS QoS
x41 LCS Client Type
x42 Requested GPS Assistance Data
x43 Location Type
x44 Location Estimate
x45 Positioning Data
x46 Deciphering Keys
x47 LCS Priority
x48 LCS Cause
x49 LCS Capability
x4a RRLP Flags
x4b RIM Application Identity
x4c RIM Sequence number
x4d RAN-INFORMATION-REQUEST Application Container
x4e RAN-INFORMATION Application Container
x4f RIM PDU Indications
x50 This value is reserved for future use and shall be treated by the
recipient as an unknown IEI
x51 This value should not be used, as it has been used in earlier versions of
this protocol.
x52 PFC flow control parameters
x53 Global CN-Id
x54 RIM Routing Information
x55 RIM Protocol Version Number
x56 Application Error Container
x57 RAN-INFORMATION-REQUEST RIM Container
x58 RAN-INFORMATION RIM Container
x59 RAN-INFORMATION-APPLICATION-ERROR RIM Container
x5a RAN-INFORMATION-ACK RIM Container
x5b RAN-INFORMATION-ERROR RIM Container
x5c TMGI
x5d MBMS Session Identity
x5e MBMS Session Duration
x5f MBMS Service Area Identity List
x60 MBMS Response
x61 MBMS Routing Area List
x62 MBMS Session Information
x63 MBMS Stop Cause
x64 Source BSS to Target BSS Transparent Container
x65 Target BSS to Source BSS Transparent Container
x66 NAS container for PS Handover
x67 PFCs to be set-up list
x68 List of set-up PFCs
x69 Extended Feature Bitmap
x6a Source to Target Transparent Container
x6b Target to Source Transparent Container
x6c RNC Identifier
x6d Page Mode
x6e Container ID
x6f Global TFI
x70 IMEI
x71 Time to MBMS Data Transfer
x72 MBMS Session Repetition Number
x73 Inter RAT Handover Info
x74 PS Handover Command
x75 PS Handover Indications
x76 SI/PSI Container
x77 Active PFCs List
x78 Velocity Data
x79 DTM Handover Command
x7a CS Indication
x7b Requested GANSS Assistance Data
x7c GANSS Location Type
x7d GANSS Positioning Data
x7e Flow Control Granularity
x7f eNB Identifier
x80 E-UTRAN Inter RAT Handover Info
x81 Subscriber Profile ID for RAT/Frequency priority
x82 Request for Inter RAT Handover Info
x83 Reliable Inter RAT Handover Info
x84 SON Transfer Application Identity
x85 CSG Identifier
x86 TAC
x87 Redirect Attempt Flag
x88 Redirection Indication
x89 Redirection Completed
x8a Unconfirmed send state variable
x8b IRAT Measurement Configuration
x8c SCI
X8d GGSN/P-GW location
x8e Selected PLMN ID
x8f Priority Class Indicator
x90 Source Cell ID
x91 IRAT Measurement Configuration (extended E-ARFCNs)
x92 eDRX Parameters
x93 Time Until Next Paging Occasion
x98 Coverage Class
X99 Paging Attempt Information
X9a Exception Report Flag
x9b Old Routing Area Identification
x9c Attach Indicator
x9d PLMN Identity
x9e MME Query
x9f SGSN Group Identity
xa0 Additional P-TMSI
xa1 UE Usage Type
xa2 Multilateration Timer
xa3 Multilateration Timing Advance
xa4 MS Sync Accuracy
xa5 BTS Reception Accuracy Level
xa6 Timing Advance Request
* * *
### 11.3.1 Alignment octets
The Alignment Octets are used to align a subsequent IEI onto a 32 bit
boundary. The element coding is:
Table 11.3.1: Alignment octets IE
* * *
                                                                                       8                         7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator (note)  
octet 3-5 spare octet  
NOTE: The Length Indicator may indicate that from 0 to 3 spare octets are
present.
* * *
### 11.3.2 Bmax default MS
This information element indicates the default bucket size (Bmax) in octets
for an MS. The element coding is:
Table 11.3.2: Bmax default MS IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-4 Bmax
* * *
The Bmax field is coded as Bmax of BVC Bucket Size, see sub-clause 11.3.5.
### 11.3.3 BSS Area Indication
This element is used to indicate that the paging shall be done in all the
cells within the BSS. The element coding is:
Table 11.3.3: BSS Area Indication IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 BSS indicator
* * *
The coding of octet 2 is a binary number indicating the Length of the
remaining element.
The coding of octet 3 shall not be specified. The recipient shall ignore the
value of this octet.
### 11.3.4 Bucket Leak Rate (R)
This information element indicates the leak rate (R) to be applied to a flow
control bucket. The element coding is:
Table 11.3.4: Bucket Leak Rate IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 R Value (MSB)  
octet 4 R Value (LSB)
* * *
If the Gigabit Interface feature has not been negotiated, the R field is the
binary encoding of the rate information expressed in 100 bits/s increments,
starting from 0 x 100 bits/s until 65 535 x 100 bits/s (6 Mbps).
If the Gigabit Interface feature has been negotiated, the R field is the
binary encoding of the rate information expressed in increments as defined by
the _Flow Control Granularity_ IE.
### 11.3.5 BVC Bucket Size
This information element indicates the maximum bucket size (Bmax) in octets
for a BVC. The element coding is:
Table 11.3.5: BVC Bucket Size IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Bmax (MSB)  
octet 4 Bmax (LSB)
* * *
If the Gigabit Interface feature has not been negotiated, the Bmax field is
the binary encoding of the bucket-size information expressed in 100 octet
increments, starting from 0 x 100 octets until 65 535 x 100 octets (6 Mbytes).
If the Gigabit Interface feature has been negotiated, the Bmax field is the
binary encoding of the rate information expressed in increments as defined by
the _Flow Control Granularity_ IE.
### 11.3.6 BVCI (BSSGP Virtual Connection Identifier)
The BVCI identifies a BVC. The element coding is:
Table 11.3.6: BVCI IE
* * *
                8                    7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-4 Unstructured value
* * *
### 11.3.7 BVC Measurement
This information element describes average queuing delay for a BVC. The
element coding is:
Table 11.3.7: BVC Measurement IE
* * *
                8                                7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3,4 Delay Value (in centi-seconds)
* * *
The Delay Value field is coded as a 16-bit integer value in units of centi-
seconds (one hundredth of a second). This coding provides a range of over 10
minutes in increments of 10 ms. As a special case, the hexadecimal value
0xFFFF (decimal 65 535) shall be interpreted as \"infinite delay\".
### 11.3.8 Cause
The Cause information element indicates the reason for an exception condition.
The element coding is:
Table 11.3.8.a: Cause IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Cause value
* * *
Table 11.3.8.b: Cause coding
* * *
Cause value\ Semantics of coding Hexadecimal
                 All values not listed below shall be treated as \"protocol error - unspecified\"
x00 Processor overload
x01 Equipment failure
x02 Transit network service failure
x03 Network service transmission capacity modified from zero kbps to greater
than zero kbps
x04 Unknown MS
x05 BVCI unknown
x06 cell traffic congestion
x07 SGSN congestion
x08 O&M intervention
x09 BVCI-blocked
x0a PFC create failure
x0b PFC preempted
x0c ABQP no more supported
x20 Semantically incorrect PDU
x21 Invalid mandatory information
x22 Missing mandatory IE
x23 Missing conditional IE
x24 Unexpected conditional IE
x25 Conditional IE error
x26 PDU not compatible with the protocol state
x27 Protocol error - unspecified
x28 PDU not compatible with the feature set
x29 Requested Information not available
x2a Unknown Destination address
x2b Unknown RIM Application Identity or RIM application disabled
x2c Invalid Container Unit Information
x2d PFC queuing
x2e PFC created successfully
x2f T12 expiry
x30 MS under PS Handover treatment
x31 Uplink quality
x32 Uplink strength
x33 Downlink quality
x34 Downlink strength
x35 Distance
x36 Better cell
x37 Traffic
x38 Radio contact lost with MS
x39 MS back on old channel
x3a T13 expiry
x3b T14 expiry
x3c Not all requested PFCs created
x3d CS cause
x3e Requested ciphering and/or integrity protection algorithms not supported
x3f Relocation failure in target system
x40 Directed Retry
x41 Time critical relocation
x42 PS Handover Target not allowed
x43 PS Handover not Supported in Target BSS or Target System
x44 Incoming relocation not supported due to PUESBINE feature
x45 DTM Handover - No CS resource
x46 DTM Handover - PS Allocation failure
x47 DTM Handover - T24 expiry
x48 DTM Handover - Invalid CS Indication IE
x49 DTM Handover - T23 expiry
x4a DTM Handover - MSC Error
x4b Invalid CSG cell
x80 to x87 Reserved for further definition of non-critical PS handover cause
values
* * *
NOTE: If received, cause values x80 to x87 inclusive indicate a non-critical
PS Handover (see sub-clause 8a.5).
### 11.3.9 Cell Identifier
This information element uniquely identifies one cell. The element coding is:
Table 11.3.9: Cell Identifier IE
* * *
                8                                                                                                                                                                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octets 3-8 Octets 3 to 8 contain the value part (starting with octet 2) of the
_Routing Area Identification IE_ defined in 3GPP TS 24.008, not including 3GPP
TS 24.008 IEI  
octets 9-10 Octets 9 and 10 contain the value part (starting with octet 2) of
the _Cell Identity IE_ defined in 3GPP TS 24.008, not including 3GPP TS 24.008
IEI
* * *
### 11.3.10 Channel needed
This information element is coded as defined in 3GPP TS 29.018. It is relevant
to circuit-switched paging requests. The element coding is:
Table 11.3.10: Channel needed IE
* * *
                8                                                                                                                                                                   7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Rest of element coded as the value part of the Channel Needed PDU
defined in 3GPP TS 29.018, not including 3GPP TS 29.018 IEI and 3GPP TS 29.018
length indicator
* * *
### 11.3.11 DRX Parameters
This information element contains MS specific DRX information. The element
coding is:
Table 11.3.11: DRX Parameters IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 24.008,
not including 3GPP TS 24.008 IEI and 3GPP TS 24.008 octet length indicator
* * *
### 11.3.12 eMLPP-Priority
This element indicates the eMLPP-Priority of a PDU. The element coding is:
Table 11.3.12: eMLPP-Priority IE
* * *
                8                                                                                                                                                                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Rest of element coded as the value part of the eMLPP-Priority IE
defined in 3GPP TS 48.008, not including 3GPP TS 48.008 IEI and 3GPP TS 48.008
length indicator
* * *
### 11.3.13 Flush Action
The Flush action information element indicates to the SGSN the action taken by
the BSS in response to the flush request. The element coding is:
Table 11.3.13.a: Flush Action IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Action value
* * *
Table 11.3.13.b: Action coding
* * *
Action value\ Semantics of coding Hexadecimal
x00 LLC-PDU(s) deleted
x01 LLC-PDU(s) transferred
                  All values not explicitly shown are reserved for future use
* * *
### 11.3.14 IMSI
This information element contains the International Mobile Subscriber Identity
(see 3GPP TS 23.003). The element coding is:
Table 11.3.14: IMSI IE
* * *
                                                                                                       8                                                                                                           7   6   5   4   3   2   1
octet 1 IEI
octet 2, 2a Length Indicator
octet 3-n Octets 3-n contain an IMSI coded as the value part of the _Mobile
Identity_ IE defined in 3GPP TS 24.008\  
(NOTE 1)
NOTE 1: The _Type of identity_ field in the _Mobile Identity_ IE shall be
ignored by the receiver.
* * *
### 11.3.15 LLC-PDU
This information element contains an LLC-PDU. The element coding is:
Table 11.3.15: LLC-PDU IE
* * *
                8                      7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 LLC-PDU (first part)  
octet n LLC-PDU (last part)
* * *
### 11.3.16 LLC Frames Discarded
This element describes the number of LLC frames that have been discarded
inside a BSS. The element coding is:
Table 11.3.16: LLC Frames Discarded IE
* * *
                8                                             7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Number of frames discarded (in hexadecimal)
* * *
### 11.3.17 Location Area
This element uniquely identifies one Location Area. The element coding is:
Table 11.3.17: Location Area IE
* * *
                8                                                                                                                                                                   7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octets 3-7 Octets 3 to 7 contain the value part (starting with octet 2) of the
_Location Area Identification IE_ defined in 3GPP TS 24.008, not including
3GPP TS 24.008 IEI
* * *
The coding of octet 2 is a binary number indicating the Length of the
remaining element.
### 11.3.18 LSA Identifier List
This information element uniquely identifies LSAs. The element coding is:
Table 11.3.18: LSA Identifier List IE
* * *
                8                                                                                                                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-? Rest of element coded as in 3GPP TS 48.008, not including 3GPP TS
48.008 IEI and 3GPP TS 48.008 length indicator
* * *
### 11.3.19 LSA Information
This information element uniquely identifies LSAs, the priority of each LSA
and the access right outside these LSAs. The element coding is:
Table 11.3.19: LSA Information IE
* * *
                8                                                                                                                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-? Rest of element coded as in 3GPP TS 48.008, not including 3GPP TS
48.008 IEI and 3GPP TS 48.008 length indicator
* * *
### 11.3.20 Mobile Id
The element coding is:
Table 11.3.20: Mobile Id IE
* * *
                8                                                                                                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Octets 3-n contain either the IMSI, IMEISV or IMEI coded as the
value part (starting with octet 3) of the _Mobile Identity IE_ defined in 3GPP
TS 24.008, not including 3GPP TS 24.008 IEI and 3GPP TS 24.008 length indcator
* * *
### 11.3.21 MS Bucket Size
This information element indicates an MS\'s bucket size (Bmax). The element
coding is:
Table 11.3.21: MS Bucket Size IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-4 Bmax
* * *
The Bmax field is coded as Bmax of BVC Bucket Size, see sub-clause 11.3.5.
### 11.3.22 MS Radio Access Capability
This information element contains the capabilities of the ME. The element
coding is:
Table 11.3.22: MS Radio Access Capability IE
* * *
                8                                                                                                                                                7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-? Rest of element coded as the value part defined in 3GPP TS 24.008,
not including 3GPP TS 24.008 IEI and 3GPP TS 24.008 octet length indicator.
* * *
### 11.3.23 OMC Id
The element coding is:
Table 11.3.23: OMC Id IE
* * *
                8                                         7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-22 For the OMC identity, see 3GPP TS 12.20
* * *
### 11.3.24 PDU In Error
The element coding is:
Table 11.3.24: PDU In Error IE
* * *
                8                     7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-? Erroneous BSSGP PDU
* * *
### 11.3.25 PDU Lifetime
This information element describes the PDU Lifetime for a PDU inside the BSS.
The element coding is:
Table 11.3.25: PDU Lifetime IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-4 Delay Value
* * *
The Delay Value field is coded as Delay Value of BVC Measurement, see sub-
clause 11.3.7.
### 11.3.26 PDU Type
The first octet of a BSSGP PDU shall contain the PDU type IE. The PDU type IE
is one octet long.
Table 11.3.26: PDU Types
* * *
PDU type coding\ PDU Types (Hexadecimal)
                                                                                                  PDUs between RL and BSSGP SAPs
x00 DL-UNITDATA
x01 UL-UNITDATA
x02 RA-CAPABILITY
x03 reserved (Note 1)
x04 DL-MBMS-UNITDATA
x05 UL-MBMS-UNITDATA
                                                                                                  PDUs between GMM SAPs
x06 PAGING-PS
x07 PAGING-CS
x08 RA-CAPABILITY-UPDATE
x09 RA-CAPABILITY-UPDATE-ACK
x0a RADIO-STATUS
x0b SUSPEND
x0c SUSPEND-ACK
x0d SUSPEND-NACK
x0e RESUME
x0f RESUME-ACK
x10 RESUME-NACK
x11 PAGING-PS-REJECT
x12 DUMMY-PAGING-PS
x13 DUMMY-PAGING-PS-RESPONSE
x14 MS-REGISTRATION-ENQUIRY
x15 MS-REGISTRATION-ENQUIRY-RESPONSE
                                                                                                  PDUs between NM SAPs
x20 BVC-BLOCK
x21 BVC-BLOCK-ACK
x22 BVC-RESET
x23 BVC-RESET-ACK
x24 BVC-UNBLOCK
x25 BVC-UNBLOCK-ACK
x26 FLOW-CONTROL-BVC
x27 FLOW-CONTROL-BVC-ACK
x28 FLOW-CONTROL-MS
x29 FLOW-CONTROL-MS-ACK
x2a FLUSH-LL
x2b FLUSH-LL-ACK
x2c LLC-DISCARDED
x2d FLOW-CONTROL-PFC
x2e FLOW-CONTROL-PFC-ACK
x40 SGSN-INVOKE-TRACE
x41 STATUS
x42 OVERLOAD
                                                                                                  **PDUs between PFM SAPs**
0x50 DOWNLOAD-BSS-PFC
0x51 CREATE-BSS-PFC
0x52 CREATE-BSS-PFC-ACK
0x53 CREATE-BSS-PFC-NACK
0x54 MODIFY-BSS-PFC
0x55 MODIFY-BSS-PFC-ACK
0x56 DELETE-BSS-PFC
0x57 DELETE-BSS-PFC-ACK
0x58 DELETE-BSS-PFC-REQ
0x59 PS-HANDOVER-REQUIRED
0x5a PS-HANDOVER-REQUIRED-ACK
0x5b PS-HANDOVER-REQUIRED-NACK
0x5c PS-HANDOVER-REQUEST
0x5d PS-HANDOVER-REQUEST-ACK
0x5e PS-HANDOVER-REQUEST-NACK
0x91 PS-HANDOVER-COMPLETE
0x92 PS-HANDOVER-CANCEL
0x93 PS-HANDOVER-COMPLETE-ACK
                                                                                                  PDUs between LCS SAPs
0x60 PERFORM-LOCATION-REQUEST
0x61 PERFORM-LOCATION-RESPONSE
0x62 PERFORM-LOCATION-ABORT
0x63 POSITION-COMMAND
0x64 POSITION-RESPONSE
                                                                                                  PDUs between RIM SAPs
0x70 RAN-INFORMATION
0x71 RAN-INFORMATION-REQUEST
0x72 RAN-INFORMATION-ACK
0x73 RAN-INFORMATION-ERROR
0x74 RAN-INFORMATION-APPLICATION-ERROR
                                                                                                  **PDUs between MBMS SAPs**
0x80 MBMS-SESSION-START-REQUEST
0x81 MBMS-SESSION-START-RESPONSE
0x82 MBMS-SESSION-STOP-REQUEST
0x83 MBMS-SESSION-STOP-RESPONSE
0x84 MBMS-SESSION-UPDATE-REQUEST
0x85 MBMS-SESSION-UPDATE-RESPONSE
RESERVED all values not explicitly shown are reserved for future use
NOTE 1: This value was allocated in an earlier version of the protocol and
shall not be used.
* * *
### 11.3.27 Priority
This element indicates the priority of a PDU. The element coding is:
Table 11.3.27: Priority IE
* * *
                8                                                                                                                                                            7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Rest of element coded as the value part of the Priority IE defined in
3GPP TS 48.008, not including 3GPP TS 48.008 IEI and 3GPP TS 48.008 length
indicator
* * *
### 11.3.28 QoS Profile
This information element describes the QoS Profile associated with a PDU. The
element coding is:
Table 11.3.28.a: QoS Profile IE
* * *
                                                                       8                                              7     6   5   4            3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-4 Peak bit rate provided by the network (note)  
octet 5 Peak Bit Rate Granularity C/R T A Precedence  
NOTE: The bit rate 0 (zero) shall mean \"best effort\" in this IE.
* * *
\"Peak bit rate\" is coded as shown below:
Table 11.3.28.a1: Peak bit rate
* * *
            8                           7   6   5   4   3   2   1
octet 3 Peak bit rate value (MSB)  
octet 4 Peak bit rate value (LSB)
* * *
If the Gigabit Interface feature has not been negotiated, the \"Peak bit
rate\" field is the binary encoding of the peak bit rate information expressed
in 100 bits/s increments, starting from 0 x 100 bits/s until 65 535 x 100
bits/s (6 Mbps).
If the Gigabit Interface feature has been negotiated, the \"Peak bit rate\"
field is the binary encoding of the peak bit rate information expressed in
increments as defined by the _Peak Bit Rate Granularity_ field.
\"Precedence\" is coded as shown below (complying with 3GPP TS 23.060).
Table 11.3.28.b: Precedence coding
* * *
coding semantic  
DL-UNITDATA UL-UNITDATA 000 High priority Radio priority 1 001 Normal priority
Radio priority 2 010 Low priority Radio priority 3 011 Reserved Radio priority
4 100 Reserved Radio Priority Unknown
* * *
All values not allocated are reserved. All reserved values shall be
interpreted as value 010.
\"A-bit\" is coded as shown below.
Table 11.3.28.c: \"A bit\" coding
* * *
coding semantic 0 Radio interface uses RLC/MAC ARQ functionality 1 Radio
interface uses RLC/MAC-UNITDATA functionality
* * *
\"T-bit\" is coded as shown below.
Table 11.3.28.d: \"T bit\" coding
* * *
coding semantic 0 The SDU contains signalling (e.g. related to GMM) 1 The SDU
contains data
* * *
\"C/R-bit\" is coded as shown below.
Table 11.3.28.e: \"C/R bit\" coding
* * *
coding semantic 0 The SDU contains a LLC ACK or SACK command/response frame
type 1 The SDU does not contain a LLC ACK or SACK command/response frame type
* * *
\"Peak Bit Rate Granularity\" is coded as shown below.
Table 11.3.28.f: \"Peak Bit Rate Granularity\" coding
* * *
coding semantic 00 100 bits/s increments 01 1000 bits/s increments 10 10000
bits/s increments 11 100000 bits/s increments
* * *
This field provides the granularity to be used for deriving the peak bit rate
value if the Gigabit Interface feature is negotiated.
### 11.3.29 Radio Cause
This information element indicates the reason for an exception condition on
the radio interface. The element coding is:
Table 11.3.29.a: Radio Cause IE
* * *
                8                   7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Radio Cause value
* * *
Table 11.3.29.b: Radio Cause value
* * *
radio cause value\ Semantics of coding Hexadecimal
x00 Radio contact lost with the MS
x01 Radio link quality insufficient to continue communication
x02 cell-reselection ordered
x03 Cell reselection prepare. See Note below.
x04 Cell reselection failure. See Note below.
                                                                                                                                                                                                                                                                               All values not explicitly listed are reserved. If received, they shall be handled as \"radio contact lost with the MS\".
NOTE: In case the Enhanced Radio Status feature has not been negotiated the
Radio Cause values in range of x03-x04 should if received be handled as
\"radio contact lost with the MS\". This is in order to be backwards
compatible with earlier releases of the standard.
* * *
### 11.3.30 RA-Cap-UPD-Cause
The RA-Cap-UPD-Cause indicates the success of the RA-CAPABILITY-UPDATE
procedure or the reason of the failure. The element coding is:
Table 11.3.30.a: RA-Cap-UPD-Cause IE
* * *
                8                        7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 RA-Cap-UPD Cause value
* * *
Table 11.3.30.b: RA-Cap-UPD Cause value
* * *
RA-Cap-UPD cause value\ Semantics of coding Hexadecimal
x00 OK, RA capability IE present
x01 TLLI unknown in SGSN
x02 No RA Capabilities or IMSI available for this MS
                            All values not explicitly listed are reserved. If received, they shall be handled as \"TLLI unknown in SGSN\".
* * *
### 11.3.31 Routeing Area
This element uniquely identifies one routeing area. The element coding is:
Table 11.3.31: Routeing Area IE
* * *
                8                                                                                                                                                                7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octets 3-8 Octets 3 to 8 contain the value part (starting with octet 2) of the
Routing Area Identification IE defined in 3GPP TS 24.008, not including 3GPP
TS 24.008 IEI
* * *
The coding of octet 2 is a binary number indicating the Length of the
remaining element.
### 11.3.32 R_default_MS
This information element indicates the default bucket leak rate (R) to be
applied to a flow control bucket for an MS. The element coding is:
Table 11.3.32: R_default_MS IE
* * *
                8                      7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-4 R_default_MS value
* * *
The R_default_MS value field is coded as The \"R Value\" of Bucket Leak Rate,
see sub-clause 11.3.4.
### 11.3.33 Suspend Reference Number
The Suspend Reference Number information element contains an un-formatted
reference number for each suspend/resume transaction. The element coding is:
Table 11.3.33: Suspend Reference Number IE
* * *
                8                          7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Suspend Reference Number
* * *
The Suspend Reference Number is an un-formatted 8 bit field.
### 11.3.34 Tag
This information element is used to correlate request and response PDUs. The
element coding is:
Table 11.3.34: Tag IE
* * *
                8                    7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Unstructured value
* * *
### 11.3.35 Temporary logical link Identity (TLLI)
The element coding is:
Table 11.3.35: TLLI IE
* * *
                    8                                                                                                                              7   6   5   4   3   2   1
**octet 1** IEI  
**octet 2, 2a** Length Indicator  
**octet 3-6** Rest of element coded as the value part of the TLLI information
element in 3GPP TS 44.018, not including 3GPP TS 44.018 IEI.
* * *
### 11.3.36 Temporary Mobile Subscriber Identity (TMSI)
The element coding is:
Table 11.3.36: TMSI IE
* * *
                    8                                                                                                                                     7   6   5   4   3   2   1
**octet 1** IEI  
**octet 2, 2a** Length Indicator  
**octet 3-6** Rest of element coded as the value part of the TMSI/P-TMSI
information element in 3GPP TS 24.008, not including 3GPP TS 24.008 IEI.
* * *
### 11.3.37 Trace Reference
This element provides a trace reference number allocated by the triggering
entity. The element coding is:
Table 11.3.37: Trace Reference IE
* * *
                    8                  7   6   5   4   3   2   1
**octet 1** IEI  
**octet 2, 2a** Length Indicator  
**octet 3-4** Trace Reference
* * *
### 11.3.38 Trace Type
This element provides the type of trace information to be recorded. The
element coding is:
Table 11.3.38: Trace Type IE
* * *
                    8                                                                       7   6   5   4   3   2   1
**octet 1** IEI  
**octet 2, 2a** Length Indicator  
**octet 3** This is coded as specified in Technical Specification 3GPP TS
32.008.
* * *
### 11.3.39 Transaction Id
This element indicates a particular transaction within a trace. The element
coding is:
Table 11.3.39: Transaction Id IE
* * *
                    8                  7   6   5   4   3   2   1
**octet 1** IEI  
**octet 2, 2a** Length Indicator  
**octet 3-4** Transaction Id
* * *
### 11.3.40 Trigger Id
This element provides the identity of the entity which initiated the trace.
The element coding is:
Table 11.3.40: Trigger Id IE
* * *
                    8                                              7   6   5   4   3   2   1
**octet 1** IEI  
**octet 2, 2a** Length Indicator  
**octet 3-22** Entity Identity ( typically an OMC identity)
* * *
### 11.3.41 Number of octets affected
This information element indicates, for an MS, the number of octets
transferred or deleted by BSS. The element coding is:
Table 11.3.41: Number of octets affected IE
* * *
                8                                         7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-5 number of octets transferred or deleted
* * *
The number of octets transferred or deleted by the BSS may be higher than the
maximum Bmax value (6 553 500). SGSN shall handle any value higher than 6 553
500 as the value 6 553 500.
### 11.3.42 Packet Flow Identifier (PFI)
This information element indicates the Packet Flow Identifier for a BSS Packet
Flow Context. The element coding is:
Table 11.3.42: Packet Flow Identifier (PFI) IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Rest of element coded as the value part of the Packet Flow Identifier
information element in 3GPP TS 24.008, not including 3GPP TS 24.008 IEI
* * *
The BSS shall not negotiate BSS PFCs for the following pre-defined PFI values:
Best Effort, Signaling, SMS, and TOM8.
PFIs have local significance to a mobile station. A BSS Packet Flow Context
shall be uniquely identified by the PFI along with the IMSI or TLLI within a
routeing area.
### 11.3.42a (void)
### 11.3.43 Aggregate BSS QoS Profile
This information element indicates the Aggregate BSS QoS Profile (ABQP) for a
BSS Packet Flow Context or an MBMS Service Context. The ABQP is considered to
be a single parameter with multiple data transfer attributes as defined in
3GPP TS 23.107.
The element coding is:
Table 11.3.43: Aggregate BSS QoS Profile IE
* * *
                8                                                                                                                                                                                                                           7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-? Rest of element coded as the value part of the QoS information
element in 3GPP TS 24.008, not including 3GPP TS 24.008 IEI and length
indicator. The shorter 3-byte form of QoS information is not allowed in BSSGP
PDUs.
* * *
### 11.3.44 GPRS Timer
The purpose of the _GPRS timer_ information element is to specify GPRS
specific timer values, e.g. the Packet Flow timer.
Table 11.3.44: GPRS Timer IE
* * *
                8                  7             6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Unit Value Timer value
* * *
Timer value: Bits 5 to 1 represent the binary coded timer value.
Unit value: Bits 6 to 8 defines the timer value unit for the GPRS timer as
follows:
Bits
**8 7 6**
0 0 0 value is incremented in multiples of 2 s
0 0 1 value is incremented in multiples of 1 minute
0 1 0 value is incremented in multiples of decihours
0 1 1 value is incremented in multiples of 500 msec
1 1 1 value indicates that the timer does not expire.
Other values shall be interpreted as multiples of 1 minute in this version of
the protocol.
### 11.3.45 Feature Bitmap
The Feature bitmap information element indicates the optional features
supported by the underlying NSE. The element coding is:
Table 11.3.45.a: Feature Bitmap IE
* * *
                8                  7                       6        5     4     3     2     1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 MBMS Enhanced Radio Status PFC-FC RIM LCS INR CBL PFC
* * *
Table 11.3.45.b: \"PFC bit\" coding
* * *
coding Semantic 0 Packet Flow Context Procedures not supported 1 Packet Flow
Context Procedures supported
* * *
Table 11.3.45.c: \"CBL bit\" coding
* * *
coding Semantic 0 Current Bucket Level Procedures not supported 1 Current
Bucket Level Procedures supported
* * *
Table 11.3.45.d: \"INR bit\" coding
* * *
coding Semantic 0 Inter-NSE re-routing not supported 1 Inter-NSE re-routing
supported
* * *
Table 11.3.45.e: \"LCS bit\" coding
* * *
coding Semantic 0 LCS Procedures not supported 1 LCS Procedures supported
* * *
Table 11.3.45.f: \"RIM bit\" coding
* * *
coding Semantic 0 RAN Information Management (RIM) procedures not supported 1
RAN Information Management (RIM) procedures supported
* * *
Table 11.3.45.g: \"PFC-FC\" coding
* * *
coding Semantic 0 PFC Flow Control Procedures not supported 1 PFC Flow Control
Procedures supported
* * *
Table 11.3.45.h: \"Enhanced Radio Status\" coding
* * *
coding Semantic 0 Enhanced Radio Status Procedures not supported 1 Enhanced
Radio Status Procedures supported
* * *
Table 11.3.45.i: \"MBMS\" coding
* * *
coding Semantic 0 MBMS Procedures not supported 1 MBMS Procedures supported
* * *
### 11.3.46 Bucket Full Ratio
This information element is used to convey the current bucket counter. It is
binary encoded as follows: B~current~ x (100 / B~max~). The element coding is:
Table 11.3.46: Bucket Full Ratio IE
* * *
                8                                                 7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Ratio of the bucket that is filled up with data
* * *
The field ranges from zero (00000000) to two hundred and fifty five
(11111111). A value of zero means that the bucket is empty. A value of hundred
means that the bucket is exactly full, while a value of two hundred and fifty
five means that the bucket is at least 2.55 times B~max~
### 11.3.47 Service UTRAN CCO
The Service UTRAN CCO (Cell Change Order) information element indicates
whether Network initiated Cell Change Order to UTRAN or E-UTRAN or PS Handover
to UTRAN or E-UTRAN should be used for the mobile station or not, and it is
relevant if at least one of the procedures is used:
Table 11.3.47.a: Service UTRAN CCO IE
* * *
                8                  7                                6                              5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare Service E-UTRAN CCO Value part Service UTRAN CCO Value part
* * *
Table 11.3.47.b: Service UTRAN CCO Value part coding
* * *
coding bits\ Semantic 321
000 Network initiated cell change order to UTRAN or PS handover to UTRAN
procedure should be performed
001 Network initiated cell change order to UTRAN or PS handover to UTRAN
procedure should not be performed
010 Network initiated cell change order to UTRAN or PS handover to UTRAN
procedure shall not be performed
111 If received, shall be interpreted as no information available (bits 4-5
valid)
Other values If received, shall be interpreted as no information available
* * *
Table 11.3.47.c: Service E-UTRAN CCO Value part coding
* * *
coding bits\ Semantic 54
01 Network initiated cell change order to E-UTRAN or PS handover to E-UTRAN
procedure should be performed
10 Network initiated cell change order to E-UTRAN or PS handover to E-UTRAN
procedure should not be performed
11 Network initiated cell change order to E-UTRAN or PS handover to E-UTRAN
procedure shall not be performed
00 If received, shall be interpreted as no information available
* * *
### 11.3.48 NSEI (Network Service Entity Identifier)
The NSEI unambiguously identifies a NSE. The element coding is:
Table 11.3.48: NSEI IE
* * *
                8                                 7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 most significant octet of NSEI  
octet 4 least significant octet of NSEI
* * *
### 11.3.49 RRLP APDU
This information element conveys an embedded message associated with a higher
level protocol. The element coding is:
Table 11.3.49: RRLP APDU IE
* * *
                8                                                                                                                                                                                                                                                            7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-? The rest of the information element contains an embedded RRLP
message whose content and encoding are defined according to the 3GPP TS
44.031. The RRLP protocol is not octet aligned. Therefore, the unused bits in
the last octet are padded with zeroes.
* * *
### 11.3.50 LCS QoS
This information element provides the LCS QoS. The element coding is:
Table 11.3.50: LCS QOS IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 48.008,
not including 3GPP TS 48.008 IEI and 3GPP TS 48.008 octet length indicator
* * *
### 11.3.51 LCS Client Type
This information element provides the LCS Client Type. The element coding is:
Table 11.3.51: LCS Client Type IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.52 Requested GPS Assistance Data
This information element provides the information on which GPS Assistance Data
has been requested. The element coding is:
Table 11.3.52: Requested GPS Assistance Data IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.53 Location Type
This information element provides the Location Type. The element coding is:
Table 11.3.53: Location Type IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.54 Location Estimate
This information element provides the Location Estimate. The element coding
is:
Table 11.3.54: Location Estimate IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 48.008,
not including 3GPP TS 48.008 IEI and 3GPP TS 48.008 octet length indicator
* * *
### 11.3.55 Positioning Data
This information element provides Positioning Data. The element coding is:
Table 11.3.55: Positioning Data IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.56 Deciphering Keys
This information element provides the Deciphering Keys. The element coding is:
Table 11.3.56: Deciphering Keys IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.57 LCS Priority
This information element provides the data/information on LCS Priority. The
element coding is:
Table 11.3.57: LCS Priority IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.58 LCS Cause
This information element provides the data/information on LCS Cause. The
element coding is:
Table 11.3.58: LCS Cause IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.59 LCS Capability
This information element provides the data/information on LCS Capability. The
element coding is:
Table 11.3.59: LCS Capability IE
* * *
                8                                                                                                                                                        7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Rest of element coded as the value part of the _PS LCS Capability_ IE
defined in 3GPP TS 24.008, not including 3GPP TS 24.008 IEI and length
indicator
* * *
### 11.3.60 RRLP Flags
This information element provides control information for the RRLP APDU. The
element coding is:
Table 11.3.60: RRLP Flags IE
* * *
                8                  7        6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare Flag 1
* * *
The fields are coded as follows:
Flag 1 (Octet 3, bit 1):
0 Position Command (BSS to SGSN) or final response (SGSN to BSS);
1 Not a Positioning Command or final response.
Spare These bits shall be ignored by the receiver and set to zero by the
sender.
### 11.3.61 RIM Application Identity
This information element specifies the addressed application within the target
BSS node. The element coding is:
Table 11.3.61.a: RIM Application Identity IE
* * *
                8                          7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 RIM Application Identity
* * *
RIM Application Identity is coded as shown below.
Table 11.3.61.b: RIM Application Identity coding
* * *
Coding Semantic 0000 0000 Reserved 0000 0001 Network Assisted Cell Change
(NACC) 0000 0010 System Information 3 (SI3) 0000 0011 MBMS data channel 0000
0100 SON Transfer 0000 0101 UTRA System Information (UTRA SI) 0000 0110
Multilateration Timing Advance 0000 0111 - 1111 1111 Reserved
* * *
All values not allocated are reserved.
### 11.3.62 RIM Sequence Number
This information element defines the sequence number allocated to the PDU by
the source node. The element coding is:
Table 11.3.62: RIM Sequence Number IE
* * *
                8                                          7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 RIM Sequence Number (Higher order octet)  
Octet 4 RIM Sequence Number  
Octet 5 RIM Sequence Number  
Octet 6 RIM Sequence Number (Lower order octet)
* * *
### 11.3.62a RIM Container
#### 11.3.62a.0 General
The coding of the _RIM Container_ IE value part depends on the value of the
PDU type according to the following sub-clauses:
#### 11.3.62a.1 RAN-INFORMATION-REQUEST RIM Container
This information element defines the RIM container used in the RAN-
INFORMATION-REQUEST PDU. The element coding is:
Table 11.3.62a.1.a: RAN-INFORMATION-REQUEST RIM Container IE
* * *
                8                                                                                      7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-? RAN-INFORMATION-REQUEST RIM Container Contents coded as defined in
table 11.3.62a.1b
* * *
Table 11.3.62a.1.b: RAN-INFORMATION-REQUEST RIM Container Contents
+-------------------+-------------------+----------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | Elements | | | | | +-------------------+-------------------+----------+--------+--------+ | RIM Application | RIM Application | M | TLV | 3 | | Identity | Identity/11.3.61 | | | | +-------------------+-------------------+----------+--------+--------+ | RIM Sequence | RIM Sequence | M | TLV | 6 | | Number | Number/11.3.62 | | | | +-------------------+-------------------+----------+--------+--------+ | RIM PDU | RIM PDU | M | TLV | 3 | | Indications | In | | | | | | dications/11.3.65 | | | | +-------------------+-------------------+----------+--------+--------+ | RIM Protocol | RIM Protocol | O | TLV | 3 | | Version Number | Version | | | | | | Number/11.3.67 | | | | +-------------------+-------------------+----------+--------+--------+ | Application | RAN-IN | C | TLV | 4-? | | Container (note | FORMATION-REQUEST | | | | | 1) | Application | | | | | | Co | | | | | | ntainer/11.3.63.1 | | | | +-------------------+-------------------+----------+--------+--------+ | SON Transfer | SON Transfer | C | TLV | 3-m | | Application | Application | | | | | Identity (note 2) | Identity/11.3.108 | | | | +-------------------+-------------------+----------+--------+--------+ | NOTE 1: The | | | | | | presence of the | | | | | | Application | | | | | | Container depends | | | | | | on the value of | | | | | | the _RIM | | | | | | Application | | | | | | Identity_ IE. | | | | | | | | | | | | NOTE 2: The _SON | | | | | | Transfer | | | | | | Application | | | | | | Identity_ IE | | | | | | shall be present | | | | | | if and only if | | | | | | the _RIM | | | | | | Application | | | | | | Identity_ IE is | | | | | | set to \"SON | | | | | | Transfer\". | | | | | +-------------------+-------------------+----------+--------+--------+
#### 11.3.62a.2 RAN-INFORMATION RIM Container
This information element defines the RIM container used in the RAN-INFORMATION
PDU. The element coding is:
Table 11.3.62a.2.a: RAN-INFORMATION RIM Container IE
* * *
                8                                                                              7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-? RAN-INFORMATION RIM Container Contents coded as defined in table
11.3.62a.2b
* * *
Table 11.3.62a.2.b: RAN-INFORMATION RIM Container Contents
+------------------+------------------+------------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | Elements | | | | | +------------------+------------------+------------+--------+--------+ | RIM Application | RIM Application | M | TLV | 3 | | Identity | Identity | | | | | | /11.3.61 | | | | +------------------+------------------+------------+--------+--------+ | RIM Sequence | RIM Sequence | M | TLV | 6 | | Number | Number /11.3.62 | | | | +------------------+------------------+------------+--------+--------+ | RIM PDU | RIM PDU | M | TLV | 3 | | Indications | Indications | | | | | | /11.3.65. | | | | +------------------+------------------+------------+--------+--------+ | RIM Protocol | RIM Protocol | O | TLV | 3 | | Version Number | Version | | | | | | Number/11.3.67 | | | | +------------------+------------------+------------+--------+--------+ | Application | RAN-INFORMATION | C (Note 1) | TLV | 4-? | | Container (NOTE | Application | | | | | 1) | Container | | | | | | /11.3.63.2 | | | | +------------------+------------------+------------+--------+--------+ | Application | Application | C (Note 1) | TLV | n | | Error Container | Error | | | | | (NOTE 1) | C | | | | | | ontainer/11.3.64 | | | | +------------------+------------------+------------+--------+--------+ | SON Transfer | SON Transfer | C | TLV | 3-m | | Application | Application | | | | | Identity (note | I | | | | | 2) | dentity/11.3.108 | | | | +------------------+------------------+------------+--------+--------+ | NOTE 1: The | | | | | | presence of | | | | | | application | | | | | | information | | | | | | depends on the | | | | | | value of the | | | | | | _RIM Application | | | | | | Identity_ IE. If | | | | | | application | | | | | | information is | | | | | | mandatory either | | | | | | the _Application | | | | | | Error Container_ | | | | | | IE or the | | | | | | _Application | | | | | | Container_ IE is | | | | | | present. | | | | | | | | | | | | NOTE 2: The _SON | | | | | | Transfer | | | | | | Application | | | | | | Identity_ IE | | | | | | shall be present | | | | | | if and only if | | | | | | the _RIM | | | | | | Application | | | | | | Identity_ IE is | | | | | | set to \"SON | | | | | | Transfer\". | | | | | +------------------+------------------+------------+--------+--------+
#### 11.3.62a.3 RAN-INFORMATION-ACK RIM Container
This information element defines the RIM container used in the RAN-
INFORMATION-ACK PDU. The element coding is:
Table 11.3.62a.3.a: RAN-INFORMATION-ACK RIM Container IE
* * *
                8                                                                                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-16 RAN-INFORMATION-ACK RIM Container Contents coded as defined in
table 11.3.62a.3b
* * *
Table 11.3.62a.3.b: RAN-INFORMATION-ACK RIM Container Contents
* * *
Information Elements Type / Reference Presence Format Length RIM Application
Identity RIM Application Identity /11.3.61 M TLV 3 RIM Sequence Number RIM
Sequence Number /11.3.62 M TLV 6 RIM Protocol Version Number RIM Protocol
Version Number/11.3.67 O TLV 4 SON Transfer Application Identity (note 1) SON
Transfer Application Identity/11.3.108 C TLV 3-m NOTE 1: The _SON Transfer
Application Identity_ IE shall be present if and only if the _RIM Application
Identity_ IE is set to \"SON Transfer\".
* * *
#### 11.3.62a.4 RAN-INFORMATION-ERROR RIM Container
This information element defines the RIM container used in the RAN-
INFORMATION-ERROR PDU. The element coding is:
Table 11.3.62a.4.a: RAN-INFORMATION-ERROR RIM Container IE
* * *
                8                                                                                    7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-? RAN-INFORMATION-ERROR RIM Container Contents coded as defined in
table 11.3.62a.4b
* * *
Table 11.3.62a.4.b: RAN-INFORMATION-ERROR RIM Container Contents
* * *
Information Elements Type / Reference Presence Format Length RIM Application
Identity RIM Application Identity /11.3.61 M TLV 3 RIM Cause Cause/11.3.8 M
TLV 3 RIM Protocol Version Number RIM Protocol Version Number/11.3.67 O TLV 3
PDU in Error PDU in Error/11.3.24 M TLV 3-? SON Transfer Application Identity
(note 1) SON Transfer Application Identity/11.3.108 C TLV 3-m NOTE 1: The _SON
Transfer Application Identity_ IE shall be present if and only if the _RIM
Application Identity_ IE is set to \"SON Transfer\".
* * *
#### 11.3.62a.5 RAN-INFORMATION-APPLICATION-ERROR RIM Container
This information element defines the RIM container used in the RAN-
INFORMATION-APPLICATION-ERROR PDU. The element coding is:
Table 11.3.62a.5.a: RAN-INFORMATION-APPLICATION-ERROR RIM Container IE
* * *
                8                                                                                                7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-? RAN-INFORMATION-APPLICATION-ERROR RIM Container Contents coded as
defined in table 11.3.62a.5b
* * *
Table 11.3.62a.5.b: RAN-INFORMATION-APPLICATION-ERROR RIM Container Contents
* * *
Information Elements Type / Reference Presence Format Length RIM Application
Identity RIM Application Identity /11.3.61 M TLV 3 RIM Sequence Number RIM
Sequence Number /11.3.62 M TLV 6 RIM PDU Indications RIM PDU Indications
/11.3.65. M TLV 3 RIM Protocol Version Number RIM Protocol Version
Number/11.3.67 O TLV 3 Application Error Container Application Error
Container/11.3.64 M TLV n SON Transfer Application Identity (note 1) SON
Transfer Application Identity/11.3.108 C TLV 3-m NOTE 1: The _SON Transfer
Application Identity_ IE shall be present if and only if the _RIM Application
Identity_ IE is set to \"SON Transfer\".
* * *
### 11.3.63 Application Container
#### 11.3.63.1 RAN-INFORMATION-REQUEST Application Container
##### 11.3.63.1.0 General
The coding of the _Application Container_ value part within the RAN-
INFORMATION-REQUEST RIM container depends on the value of the _RIM Application
Identity_ IE included into the RIM container according to the following sub-
clauses.
##### 11.3.63.1.1 RAN-INFORMATION-REQUEST Application Container for the NACC
Application
The coding of the _Application Container_ IE within the RAN-INFORMATION-
REQUEST RIM container for the NACC application is specified as follows:
Table 11.3.63.1.1: RAN-INFORMATION-REQUEST Application Container coding for
NACC
* * *
                8                           7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-10 Reporting Cell Identifier
* * *
**Reporting Cell Identifier:** This field is encoded as the Cell Identifier
defined in sub-clause 11.3.9
##### 11.3.63.1.2 RAN-INFORMATION-REQUEST Application Container for the SI3
Application
The coding of the _Application Container_ IE within the RAN-INFORMATION-
REQUEST RIM container for the SI3 application is specified as follows:
Table 11.3.63.1.2: RAN-INFORMATION-REQUEST Application Container coding for
SI3
* * *
                8                           7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-10 Reporting Cell Identifier
* * *
**Reporting Cell Identifier:** This field is encoded as the Cell Identifier
defined in sub-clause 11.3.9
##### 11.3.63.1.3 RAN-INFORMATION-REQUEST Application Container for the MBMS
data channel Application
The coding of the _Application Container_ IE within the RAN-INFORMATION-
REQUEST RIM container for the MBMS data channel application is specified as
follows:
Table 11.3.63.1.3: RAN-INFORMATION-REQUEST Application Container coding for
MBMS data channel
* * *
                8                           7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-10 Reporting Cell Identifier
* * *
**Reporting Cell Identifier:** This field is encoded as the Cell Identifier
defined in sub-clause 11.3.9
##### 11.3.63.1.4 RAN-INFORMATION-REQUEST Application Container for the SON
Transfer Application
The coding of the _Application Container_ IE within the RAN-INFORMATION-
REQUEST RIM container for the SON Application is specified as follows:
Table 11.3.63.1.4: RAN-INFORMATION-REQUEST Application Container coding for
SON Transfer
* * *
                  **8**                            **7**   **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-m Reporting Cell Identifier  
Octet (m+1)-n SON Transfer Request Container
* * *
**Reporting Cell Identifier:**
\- If the request concerns an E-UTRAN cell, this field is encoded as the _E-
UTRAN CGI_ IE as defined in 3GPP TS 36.413 [36].
\- If the request concerns a UTRAN cell, this field is encoded as the _Source
Cell Identifier_ IE (UTRAN Source Cell ID) as defined in 3GPP TS 25.413 [38].
\- If the request concerns a GERAN cell, this field is encoded as the _Cell
Identifier IE_ defined in sub-clause 11.3.9.
\- If the request concerns an eHRPD eAN cell,this field is encoded as the
_eHRPD Sector ID_ IE as specified in 3GPP2 C.S0024-B [47].
**SON Transfer Request Container:** This field is encoded as the _SON Transfer
Request Container_ IE as defined in 3GPP TS 36.413 [36].
##### 11.3.63.1.5 RAN-INFORMATION-REQUEST Application Container for the UTRA
SI Application
The coding of the _Application Container_ IE within the RAN-INFORMATION-
REQUEST RIM container for the UTRA SI application is specified as follows:
Table 11.3.63.1.5: RAN-INFORMATION-REQUEST Application Container coding for
UTRA SI
* * *
                **8**                       **7**   **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-m Reporting Cell Identifier
* * *
**Reporting Cell Identifier:** This field is encoded as the _Source Cell
Identifier_ IE (UTRAN Source Cell ID) as defined in 3GPP TS 25.413 [38].
#### 11.3.63.2 RAN-INFORMATION Application Container Unit
##### 11.3.63.2.0 General
The coding of the _Application Container_ value part within the RAN-
INFORMATION RIM container depends on the value of the _RIM Application
Identity_ IE included into the RIM container according to the following sub-
clauses.
##### 11.3.63.2.1 RAN-INFORMATION Application Container for the NACC
Application
The coding of the _Application Container_ IE within the RAN-INFORMATION RIM
container for the NACC application is specified as follows:
Table 11.3.63.2.1.a: RAN-INFORMATION Application Container coding for NACC
* * *
                8                           7      6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-10 Reporting Cell Identifier  
Octet 11 Number of SI/PSI Type  
Octet 12-n SI/PSI
* * *
**Reporting Cell Identifier:** This field is encoded as the value part of the
Cell Identifier IE defined in sub-clause 11.3.9, not including IEI and Length
Indicator.
**Type:** This field indicates the type of SI/PSI messages provided by the
reporting cell. The _Type_ field is coded as shown below:
Table 11.3.63.2.1.b: Type coding
* * *
Coding Semantic 0 SI messages as specified for BCCH (3GPP TS 44.018) follow 1
PSI messages as specified for PBCCH (3GPP TS 44.060) follow
* * *
**Number of SI/PSI:** This field indicates the number of SI/PSI provided by
the reporting cell contained in the _SI/PSI field_. This number may be zero.
For system information messages with multiple instances, each instance is
counted as one SI/PSI message. The _Number of SI/PSI_ field is coded as shown
below:
Table 11.3.63.2.1.c: Number of SI/PSI coding
* * *
Coding Semantic 000 0000 0 \"SI/PSI\" follows 000 0001 1 \"SI/PSI\" follow \'
\" 111 1111 127 \"SI/PSI\" follow
* * *
**SI/PSI:** This field contains a list of either system information or packet
system information messages valid for the reporting cell. The number of
(packet) system information messages is indicated in the _Number of SI/PSI_
field specified above. Furthermore:
\- If the _Type_ field indicates that \"SI messages as specified for BCCH
(3GPP TS 44.018) follow\" then the _SI/PSI_ field contains System Information
message instances encoded for BCCH as specified in 3GPP TS 44.018. Each System
Information message contains the _Message type_ octet followed by all the IEs
composing the message payload. Each message is 21 octets long.
\- If the _Type_ field indicates that \"PSI messages as specified for PBCCH
(3GPP TS 44.060) follow\" then the _SI/PSI_ field contains Packet System
Information message instances encoded for PBCCH as specified in 3GPP TS
44.060. Each Packet System Information message contains the _MESSAGE_TYPE_
field followed by the PSI message content. Each message is 22 octets long.
##### 11.3.63.2.2 RAN-INFORMATION Application Container for the SI3
Application
The coding of the value part of the _Application Container_ IE within the RAN-
INFORMATION RIM container for the SI3 application is specified as follows:
Table 11.3.63.2.2: RAN-INFORMATION Application Container coding for SI3
* * *
                8                           7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-10 Reporting Cell Identifier  
Octet 11-31 SI3
* * *
**Reporting Cell Identifier:** The parameter is encoded as the value part of
the Cell Identifier IE defined in sub-clause 11.3.9, not including IEI and
Length Indicator.
**SI3:** contains the SYSTEM INFORMATION type 3 message encoded for BCCH as
specified in 3GPP TS 44.018. It contains the _Message type_ octet followed by
all the IEs composing the message payload. The message is 21 octets long.
##### 11.3.63.2.3 RAN-INFORMATION Application Container for the MBMS data
channel Application
The coding of the _Application Container_ IE within the RAN-INFORMATION RIM
container for the MBMS data channel application is specified as follows :
Table 11.3.63.2.3.a: RAN-INFORMATION Application Container coding for MBMS
data channel
* * *
                8                           7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-10 Reporting Cell Identifier  
Octet 11-n MBMS data channel report
* * *
**Reporting Cell Identifier:** This field is encoded as the value part of the
Cell Identifier IE defined in sub-clause 11.3.9, not including IEI and Length
Indicator.
**MBMS data channel report** : This field contains a CSN1 encoded structure
coded as shown below:
Table 11.3.63.1.3.b: MBMS data channel report
+----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ > | | } **0 | | | | {1 | | | | \ > | | | | \ \--default value | | common to all described bearer Id using this frequency allocation | | | | { 1 | | | | \ > _\-- MBMS service identifier_ | | | | { 0 \| 1 \ } _\-- session | | identifier of the particular MBMS service_ | | | | \ | | | | \ | | | | { 0 \| 1 \> } | | | | { _0_ \| 1 \ } -- | | dedicated value for this bearer, overwrites the default value | | | | { _0_ \| 1 \ } | | | | { 0 \| 1 \ > | | } | | | | _\ >_ | | | | { 0 \| 1 _\ _ } | | | | } ** 0 -- _End of list of MBMS bearer identifiers sharing the | | same PDCH (frequency parameters)_ | | | | } ** 0 -- _End of list of PDCHs for this cell_ | | | | { null \| 0 bit** = \ | | | | \| 1 _\-- Rel-7 Additions_ | | | | { 1 | | | | { 0 \| 1 \ \--choice bit indicates presence or | | not of parameters for the MBMS bearer | | | | { 0 \| 1 \ > } | | | | } | | | | } ** 0 -- _End of list of MBMS bearers. The list of MBMS bearers | | is ordered as described by the loops in the earlier releases part._ | | | | } | | | | \ \-- to fill the last octet | +----------------------------------------------------------------------+
**MBMS Frequency List:** This field contains a _MBMS Frequency List struct_ as
specified in 3GPP TS 44.060
**MBMS p-t-m Frequency Parameters:** This field contains a _MBMS p-t-m
Frequency Parameters struct_ as specified in 3GPP TS 44.060
**DOWNLINK_TIMESLOT_ALLOCATION:** This field contains a
_DOWNLINK_TIMESLOT_ALLOCATION_ field as specified in 3GPP TS 44.060
**TMGI:** This field contains a _TMGI_ IE as specified in 3GPP TS 44.060
**MBMS Session Identity:** This field contains a MBMS _Session Identity_ field
as specified in 3GPP TS 44.060
**MBMS Bearer Identity:** This field contains a _MBMS Bearer Identity_ IE as
specified in 3GPP TS 44.060
**EGPRS Window Size:** This field contains a **_EGPRS Window Size_** IE as
specified in 3GPP TS 44.060
**TIMESLOT_ALLOCATION_UPLINK_FEEDBACK_CHANNEL:** This field contains a
_TIMESLOT_ALLOCATION_UPLINK_FEEDBACK_CHANNEL_ field as specified in 3GPP TS
44.060
**MBMS Radio Bearer Starting Time:** This field is encoded as value part of
the type 3 information element _Starting Time_ in 3GPP TS 44.018.
**MBMS In-band Signalling Indicator:** This field contains a _MBMS In-band
Signalling Indicator_ IE as specified in 3GPP TS 44.060. **NPM Transfer
Time:** This field contains a **_NPM Transfer Time_** IE as specified in 3GPP
TS 44.060.**USF:** This field contains a _USF_ field as specified in 3GPP TS
44.060
**MPRACH Control Parameters:** This field contains a _MPRACH Control
Parameters_ IE as specified in 3GPP TS 44.060.
##### 11.3.63.2.4 RAN-INFORMATION Application Container for the SON Transfer
Application
The coding of the _Application Container_ IE within the RAN-INFORMATION RIM
container for the SON Transfer Application is specified as follows :
Table 11.3.63.2.4: RAN-INFORMATION Application Container coding for SON
Transfer
* * *
                  **8**                             **7**               **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Spare RAT discriminator  
Octet 4-m Reporting Cell Identifier  
Octet (m+1)-n SON Transfer Response Container
* * *
The coding of _RAT discriminator_ (bits 4 to 1 of octet 3) is a binary number
indicating the RAT of the Reporting Cell Identifier. The _RAT discriminator_
is coded as follows:
Bits
**4321**
**0000** The reporting RAT is GERAN.
**0001** The reporting RAT is UTRAN.
**0010** The reporting RAT is E-UTRAN.
**0011** The reporting RAT is eHRPD eAN
All other values are reserved.
**Reporting Cell Identifier:**
\- If the _RAT discriminator_ field indicates E-UTRAN, this field is encoded
as the _E-UTRAN CGI_ IE as defined in 3GPP TS 36.413 [36].
\- If the _RAT discriminator_ field indicates UTRAN, this field is encoded as
the _Source Cell Identifier_ IE (UTRAN Source Cell ID) as defined in 3GPP TS
25.413 [38].
\- If the _RAT discriminator_ field indicates GERAN, this field is encoded as
the value part of the _Cell Identifier_ IE defined in sub-clause 11.3.9, not
including IEI and Length Indicator.
\- If the _RAT discriminator_ field indicates eHRPD, this field is encoded as
_eHRPD Sector ID_ IE as defined in 3GPP2 C.S0024-B [47].
**SON Transfer Response Container:** This field is encoded as the _SON
Transfer Response Container_ IE as defined in 3GPP TS 36.413 [36].
##### 11.3.63.2.5 RAN-INFORMATION Application Container for the UTRA SI
Application
The coding of the _Application Container_ IE within the RAN-INFORMATION RIM
container for the UTRA SI application is specified as follows:
Table 11.3.63.2.5: RAN-INFORMATION Application Container coding for UTRA SI
* * *
                  **8**                       **7**   **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-m Reporting Cell Identifier  
Octet (m+1)-n UTRA SI Container
* * *
**Reporting Cell Identifier:** This field is encoded as the _Source Cell
Identifier_ IE (UTRAN Source Cell ID) as defined in 3GPP TS 25.413 [38].
**UTRA SI Container:** This field contains System Information Container valid
for the reporting cell encoded as defined in TS 25.331 [42].
##### 11.3.63.2.6 RAN-INFORMATION Application Container for the
Multilateration Timing Advance Application
The coding of the _Application Container_ IE within the RAN-INFORMATION RIM
container for the Multilateration Timing Advance application is specified as
follows:
Table 11.3.63.2.6: RAN-INFORMATION Application Container coding for
Multilateration Timing Advance
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | **8** | **7** | **6** | **5** | **4** | **3** | **2** | **1** | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Octet | IEI | | | | | | | | | 1 | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Octet | L | | | | | | | | | 2, 2a | ength | | | | | | | | | | Indi | | | | | | | | | | cator | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Octet | TLLI | | | | | | | | | 3-6 | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Octet | MS | MTA | | | | | | | | 7 | Sync | High | | | | | | | | | Acc | | | | | | | | | | uracy | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Octet | MTA | BTS | | | | | | | | 8 | Low | Rece | | | | | | | | | | ption | | | | | | | | | | Acc | | | | | | | | | | uracy | | | | | | | | | | Level | | | | | | | | | | | | | | | | | | | | High | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Octet | BTS | Spare | | | | | | | | 9 | Rece | | | | | | | | | | ption | | | | | | | | | | Acc | | | | | | | | | | uracy | | | | | | | | | | Level | | | | | | | | | | | | | | | | | | | | Low | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
**TLLI:** This field is encoded as the value part of the TLLI information
element in 3GPP TS 44.018, not including 3GPP TS 44.018 IEI.
**Multilateration Timing Advance (MTA):** The MTA field is coded according to
the value part of the Multilateration Timing Advance information element
described in 3GPP TS 49.031 (i.e. not including 3GPP TS 49.031 IEI).
**MS Sync Accuracy:** The MS Sync Accuracy field is coded according to the
value part of the MS Sync Accuracy information element described in 3GPP TS
49.031 (i.e. not including 3GPP TS 49.031 IEI).
**BTS Reception Accuracy Level:** The BTS Reception Accuracy Level field is
coded according to the value part of the BTS Reception Accuracy Level
information element described in 3GPP TS 49.031 (i.e. not including 3GPP TS
49.031 IEI).
### 11.3.64 Application Error Container
#### 11.3.64.1 Application Error Container layout for the NACC application
The coding of the _Application Error Container_ IE for the NACC application is
specified as follows:
Table 11.3.64.1.a: Application Error Container coding for NACC
* * *
                8                                                      7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 NACC Cause  
Octet 4-n Erroneous Application Container including IEI and LI
* * *
**NACC Cause:** This field indicates the cause why the _Application Error
Container_ IE is sent. The _NACC Cause_ field is coded as shown below:
Table 11.3.64.1.b: NACC Cause coding
* * *
Coding Semantic 0000 0000 Other unspecified error 0000 0001 Syntax error in
the Application Container 0000 0010 Reporting Cell Identifier does not match
with the Destination Cell Identifier or with the Source Cell Identifier. 0000
0011 SI/PSI type error 0000 0100 Inconsistent length of a SI/PSI message 0000
0101 Inconsistent set of messages Other values reserved
* * *
**\"Other unspecified error\"** : none of the error description below fits
with the detected error
**\"Syntax error in the Application Container\"** : the _Application
Container_ IE is syntactically incorrect
**\"Reporting Cell Identifier does not match with the Destination Cell
Identifier or with the Source Cell Identifier\"** : the _Reporting Cell
Identifier_ in the _Application Container_ IE does not match with the
_Destination Cell Identifier_ IE value (in the case of a RAN-INFORMATION-
REQUEST PDU) or with the _Source Cell Identifier_ IE value (in the case of a
RAN-INFORMATION PDU) of the RIM PDU
**\"SI/PSI type error\":** the _Application Container_ IE contains system
information messages instead of packet system information messages or
conversely
**\"Inconsistent length of a SI/PSI message\":** the length contained in one
SI/PSI message does not fit with the content of the message
**\"Inconsistent set of messages\":** the status of the change marks reported
in the (packet) system information message set is inconsistent
**Erroneous Application Container:** this field contains the erroneous
_Application Container_ IE
#### 11.3.64.2 Application Error Container for the SI3 application
The coding of the _Application Error Container_ IE for the SI3 application is
specified as follows:
Table 11.3.64.2.a: Application Error Container coding for SI3
* * *
                8                                                      7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 SI3 Cause  
Octet 4-n Erroneous Application Container including IEI and LI
* * *
**SI3 Cause:** This field indicates the cause why the _Application Error
Container_ IE is sent. The _SI3 Cause_ field is coded as shown below:
Table 11.3.64.2.b: SI3 Cause coding
* * *
Coding Semantic 0000 0000 Other unspecified error 0000 0001 Syntax error in
the Application Container 0000 0010 Reporting Cell Identifier does not match
with the Destination Cell Identifier or with the Source Cell Identifier. 0000
0011 Inconsistent length of a SI3 message Other values Reserved
* * *
**\"Other unspecified error\":** None of the error description below fits with
the detected error;
**\"Syntax error in the Application Container\":** the Error Application
Container is syntactically incorrect;
**\"Reporting Cell Id does not match with the Destination Cell Identifier or
with the Source Cell Identifier\":** the _Reporting Cell Identifier_ in the
_Application Container_ IE does not match with the _Destination Cell
Identifier_ IE value (in the case of a RAN-INFORMATION-REQUEST PDU) or with
the _Source Cell Identifier_ IE value (in the case of a RAN-INFORMATION PDU)
of the RIM PDU;
**\"Inconsistent length of a SI3 message\":** the length contained in the SI3
message does not fit with the content of the message;
**Erroneous Application Container:** This field contains the erroneous
_Application Container_ IE.
#### 11.3.64.3 Application Error Container for the MBMS data channel
application
The coding of the _Application Error Container_ IE for the MBMS data channel
application is specified as follows:
Table 11.3.64.3.a: Application Error Container coding for MBMS data channnel
* * *
                8                                                      7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 MBMS data channel Cause  
Octet 4-n Erroneous Application Container including IEI and LI
* * *
**MBMS data channel Cause:** This field indicates the cause why the
_Application Error Container_ IE is sent. The _MBMS data channel Cause_ \"
field is coded as shown below:
Table 11.3.64.3.b: MBMS DATA CHANNEL Cause coding
* * *
Coding Semantic 0000 0000 Other unspecified error 0000 0001 Syntax error in
the Application Container 0000 0010 Reporting Cell Identifier does not match
with the Destination Cell Identifier or with the Source Cell Identifier. 0000
0011 RAN-INFORMATION/Initial Multiple Report or RAN-INFORMATION/Single Report
PDU exceeds the maximum supported length 0000 0100 Inconsistent MBMS data
channel description Other values reserved
* * *
**\"Other unspecified error\"** : None of the error description below fits
with the detected error.
**\"Syntax error in the Application Container\":** the _Application Container_
IE is syntactically incorrect.
**\"Reporting Cell Id does not match with the Destination Cell Identifier or
Source Cell Identifier respectively\":** the _Reporting Cell Identifier_ in
the _Application Container_ IE does not match with the _Destination Cell
Identifier_ IE value (in the case of a RAN-INFORMATION-REQUEST PDU) or with
the _Source Cell Identifier_ IE value (in the case of a RAN-INFORMATION PDU)
of the RIM header.
**\"RAN-INFORMATION/Initial Multiple Report or RAN-INFORMATION/Single Report
PDU exceeds the maximum supported length\":** the RAN-INFORMATION/Initial
Multiple Report PDU exceeds the maximum length supported by the system.
**\"Inconsistent MBMS data channel description\":** failure in a MBMS data
channel description.
**Erroneous Application Container:** This field contains the erroneous
_Application Container_ IE .
#### 11.3.64.4 Application Error Container for the SON Transfer Application
The coding of the _Application Error Container_ IE for the SON Transfer
Application is specified as follows:
Table 11.3.64.4: Application Error Container coding for SON Transfer
* * *
                   **8**                                                  **7**   **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-m SON Transfer Cause  
Octet (m+1)- n Erroneous Application Container including IEI and LI
* * *
**SON Transfer Cause:** This field indicates the cause why the _Application
Error Container_ IE is sent. The \"_SON Transfer Cause_ \" field is encoded as
the _SON Transfer Cause_ IE as defined in 3GPP TS 36.413 [36].
#### 11.3.64.5 Application Error Container for the UTRA SI Application
The coding of the _Application Error Container_ IE for the UTRA SI Application
is specified as follows:
Table 11.3.64.5.a: Application Error Container coding for UTRA SI
* * *
                **8**                                                  **7**   **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 UTRA SI Cause  
Octet 4-n Erroneous Application Container including IEI and LI
* * *
**UTRA SI Cause:** This field indicates the cause why the _Application Error
Container_ IE is sent. The _UTRA SI Cause_ field is coded as shown below:
Table 11.3.64.5.b: UTRA SI Cause coding
* * *
**Coding** **Semantic** 0000 0000 Unspecified 0000 0001 Syntax Error in the
Application Container 0000 0010 Inconsistent Reporting Cell Identifier Other
values Reserved
* * *
**\"Unspecified\"** : Sent when none of the above cause values applies.
**\"Syntax Error in the Application Container\":** The _Application Container_
IE is syntactically incorrect.
**\"Inconsistent Reporting Cell Identifier\":** The _cell identified by
Reporting Cell Identifier_ in the _Application Container_ IE is unknown in the
RNC identified by the _Destination Cell Identifier_ IE value in the RAN-
INFORMATION-REQUEST PDU.
**Erroneous Application Container:** This field contains the erroneous
_Application Container_ IE.
#### 11.3.64.6 Application Error Container for the Multilateration Timing
Advance Application
The coding of the _Application Error Container_ IE for the Multilateration
Timing Advance Application is specified as follows:
Table 11.3.64.5.a: Application Error Container coding for Multilateration
Timing Advance
* * *
                **8**                                                  **7**   **6**   **5**   **4**   **3**   **2**   **1**
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Multilateration Timing Advance Cause  
Octet 4-n Erroneous Application Container including IEI and LI
* * *
**Multilateration Timing Advance Cause:** This field indicates the cause why
the _Application Error Container_ IE is sent. The _Multilateration Timing
Advance Cause_ field is coded as shown below:
Table 11.3.64.5.b: Multilateration Timing Advance Cause coding
* * *
**Coding** **Semantic** 0000 0000 Unspecified error 0000 0001 Syntax Error in
the Application Container Other values Reserved
* * *
**\"Unspecified\"** : Sent when none of the above cause values applies.
**\"Syntax Error in the Application Container\":** The _Application Container_
IE is syntactically incorrect.
**Erroneous Application Container:** This field contains the erroneous
_Application Container_ IE.
### 11.3.65 RIM PDU Indications
#### 11.3.65.0 General
This information element contains various indications related to a RAN-
INFORMATION-REQUEST PDU, RAN-INFORMATION PDU or RAN-INFORMATION-APPLICATION-
ERROR PDU.
The element coding is:
Table 11.3.65.a: RIM PDU Indications IE
* * *
                8                  7                    6     5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Reserved PDU Type Extension ACK
* * *
**ACK:** this field indicates whether the source side is requesting a RAN-
INFORMATION-ACK PDU as response to a RAN-INFORMATION or to a RAN-INFORMATION-
APPLICATION-ERROR PDU. This field is coded as shown below.
Table 11.3.65.b: ACK coding
* * *
Coding Semantic 0 No ACK requested 1 ACK requested
* * *
**PDU Type Extension:** This field specifies the type extension of the PDU.
The defined values depend on the PDU type.
#### 11.3.65.1 RAN-INFORMATION-REQUEST RIM PDU Indications
The _ACK_ field is not used and shall be considered as spare.
The following values of the _PDU Type Extension_ field are defined:
Table 11.3.65.1: RAN-INFORMATION-REQUEST PDU Type Extension coding
* * *
Coding Semantic 000 RAN-INFORMATION-REQUEST/Stop PDU 001 RAN-INFORMATION-
REQUEST/Single Report PDU 010 RAN-INFORMATION-REQUEST/Multiple Report PDU 011
Reserved 100 Reserved 101 Reserved 110 Reserved 111 Reserved
* * *
#### 11.3.65.2 RAN-INFORMATION RIM PDU Indications
The _ACK_ field is defined as specified in sub-clause 11.3.65.0.
The following values of the _PDU Type Extension_ field are defined:
Table 11.3.65.2: RAN-INFORMATION PDU Type Extension coding
* * *
Coding Semantic 000 RAN-INFORMATION/Stop PDU 001 RAN-INFORMATION/Single Report
PDU 010 RAN-INFORMATION/Initial Multiple Report PDU 011 RAN-
INFORMATION/Multiple Report PDU 100 RAN-INFORMATION/End PDU 101 Reserved 110
Reserved 111 Reserved
* * *
#### 11.3.65.3 RAN-INFORMATION-APPLICATION-ERROR RIM PDU Indications
The _ACK_ field is defined as specified in sub-clause 11.3.65.0.
The _PDU Type Extension_ field is not used and shall be considered as spare.
### 11.3.66 (void)
### 11.3.67 RIM Protocol Version Number
This information element defines which version number of the RIM protocol is
in use in the PDU. The element coding is:
Table 11.3.67.a: RIM Protocol Version Number IE
* * *
                8                             7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 RIM Protocol Version Number
* * *
RIM Protocol Version Number is coded as follows:
Table 11.3.67.b: RIM Protocol Version Number IE coding
* * *
Coding Semantic 0000 0000 Reserved 0000 0001 Version 1 Other values Reserved
* * *
If this Information Element is omitted the value \"Version 1\" should be
assumed.
### 11.3.68 PFC Flow Control parameters
This information element contains the flow control parameters for one or more
PFC(s) of a certain MS. The element coding is:
Table 11.3.68.a: PFC Flow Control parameters IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Number of PFCs  
Octet 4 PFI (1)  
Octet 5-6 Bmax_PFC (1)  
Octet 7-8 R_PFC (1)  
Octet 9 B_PFC (1)  
Octet ? PFI (2)  
Octet ?-? Bmax_PFC (2)  
Octet ?-? R_PFC (2)  
Octet ? B_PFC (2)  
\" \"  
Octet ? PFI (n)  
Octet ?-? Bmax_PFC (n)  
Octet ?-? R_PFC (n)  
Octet ? B_PFC (n)
* * *
**Number of PFCs:** Number of PFCs for which flow control parameters are
provided. For each of those PFCs follows its identifier and the value of the
flow control parameters. The \"Number of PFCs\"parameter is coded as shown
below:
Table 11.3.68.b: Number of PFCs
* * *
Coding Semantic 0000 0000 0 PFC 0000 0001 1 PFC ... ... 0000 1011 11 PFCs 0000
1100 Reserved \' \" 1111 1111 Reserved
* * *
**PFI:** Packet Flow Identifier. Coded as the value part of the Packet Flow
Identifier information element in 3GPP TS 24.008, not including 3GPP TS 24.008
IEI.
**Bmax_PFC:** Bucket size of the PFC. Coded like the value part of BVC Bucket
Size, see sub-clause 11.3.5.
**R_PFC:** Bucket Leak Rate of the PFC. Coded as the value part of Bucket Leak
Rate (R), see sub-clause 11.3.4.
**B_PFC:** Bucket Full Ratio of the PFC. This field is only present if the
Current Bucket Level (CBL) feature is negotiated. Otherwise, the flow control
parameters for the next PFC, if any, are provided instead. This field if coded
as the value part of the Bucket Full Ratio, see sub-clause 11.3.46.
### 11.3.69 Global CN-Id
The Global CN-Id consists of a PLMN-Id and a CN-Id, see 3GPP TS 23.003. The
value part of the Global CN-Id is coded as defined in 3GPP TS 29.018. The CN-
Id is an integer defined by O&M. The element coding is:
Table 11.3.69: Global CN-Id IE
* * *
                8                                                                          7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-7 Coded as octets 3 to 7 of the Global CN-Id IE, defined in 3GPP TS
29.018
* * *
### 11.3.70 RIM Routing Information
This information element uniquely identifies either a cell within a GERAN BSS,
a UTRAN RNC, an E-UTRAN eNodeB or an eHRPD eAN. The element coding is:
Table 11.3.70: RIM Routing Information IE
+-----------------+---------------------+---------------------+---+---+---+---+---+---+ | | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | +-----------------+---------------------+---------------------+---+---+---+---+---+---+ | **octet 1** | IEI | | | | | | | | +-----------------+---------------------+---------------------+---+---+---+---+---+---+ | **octet 2, 2a** | Length Indicator | | | | | | | | +-----------------+---------------------+---------------------+---+---+---+---+---+---+ | **octet 3** | Spare | RIM Routing Address | | | | | | | | | | | | | | | | | | | | discriminator | | | | | | | +-----------------+---------------------+---------------------+---+---+---+---+---+---+ | **octet 4-n** | RIM Routing Address | | | | | | | | +-----------------+---------------------+---------------------+---+---+---+---+---+---+
The coding of _RIM Routing Address discriminator_ (bits 4 to 1 of octet 3) is
a binary number indicating which type of address is provided in octet 4-n. The
RIM _Routing Address discriminator_ is coded as follows:
Bits
**4321**
**0000** A Cell Identifier is used to identify a GERAN cell.
**0001** An RNC identifier is used to identify a UTRAN RNC.
**0010** An eNB identifier is used to identify an E-UTRAN eNodeB or HeNB
**0011** An eHRPD Sector ID is used to identify an eHRPD eAN
All other values are reserved.
The coding of octet 4-n depends on the _RIM Routing Address discriminator_
(octet 3) as it is specified below.
**[RIM Routing Address discriminator = 0000:]{.underline}**
The _RIM Routing Address_ field contains a Cell Identifier and is coded as the
value part (octet 3 to octet 10) of the _Cell Identifier_ information element
specified in sub-clause 11.3.9.
**[RIM Routing Address discriminator = 0001:]{.underline}**
The _RIM Routing Address_ field contains an RNC identifier and is coded as
follows:
* * *
8 7 6 5 4 3 2 1  
Octets 4 to 9 contain the value part (starting with octet 2) of the _Routing
Area Identification_ IE defined in 3GPP TS 24.008, not including 3GPP TS
24.008 IEI octets 4-9  
RNC-ID (or Extended RNC-ID) octet 10  
RNC-ID (or Extended RNC-ID) (continued) octet 11
* * *
The octets 10-11 contain the RNC-ID (0..4095) or the Extended RNC-ID
(4096..65535) - see 3GPP TS 25.413:
\- The least significant bit of RNC-ID is octet 11 bit 1 and most significant
bit is octet 10 bit 4. In the octet 10 bits 5-8 are set to \"0000\".
\- The least significant bit of Extended RNC-ID is octet 11 bit 1 and most
significant bit is octet 10 bit 8.
**[RIM Routing Address discriminator = 0010:]{.underline}**
The _RIM Routing Address_ field contains an eNB identifier and is coded as
follows:
* * *
8 7 6 5 4 3 2 1  
Octets 4 to 8 contain the value part (starting with octet 2) of the _Tracking
Area Identity_ IE defined in 3GPP TS 24.301 [37], not including 3GPP TS 24.301
IEI [37] octet 4-8  
Global eNB ID octet 9-n
* * *
Octets 9-n contain the Global eNB ID (see 3GPP TS 36.413 [36] sub-clause
9.3.4, _Global-ENB-ID_ Sequence) of the eNodeB.
**[RIM Routing Address discriminator = 0011:]{.underline}**
The _RIM Routing Address_ field contains an eHRPD evolved Access Network
identifier and is coded as follows:
* * *
8 7 6 5 4 3 2 1  
eHRPD Sector ID octet 4-n
* * *
Octets 4-n contain the eHRPD Sector ID defined in 3GPP2 C.S0024-B [47].
### 11.3.71 MBMS Session Identity
The MBMS Session Identity is an identification of the MBMS Session as defined
in 3GPP TS 23.246 [32]. The element coding is:
Table 11.3.71: MBMS Session Identity IE
* * *
                8                                                                                                                                7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 MBMS-Session-Identity AVP encoded as in 3GPP TS 29.061 [31], excluding
AVP Header fields as defined in IETF RFC 3588 [33].
* * *
### 11.3.72 MBMS Session Duration
The MBMS Session Duration defines the (remaining) duration of the MBMS Session
as defined in 3GPP TS 23.246 [32]. The element coding is:
Table 11.3.72: MBMS Session Duration IE
* * *
                8                                                                                                                                7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-m MBMS-Session-Duration AVP encoded as in 3GPP TS 29.061 [31],
excluding AVP Header fields as defined in IETF RFC 3588 [33].
* * *
### 11.3.73 MBMS Service Area Identity List
The MBMS Service Area Identity List identifies the Service Areas Identities
for the Service Areas where the MBMS Session shall be active as defined in
3GPP TS 29.061. The element coding is:
Table 11.3.73: MBMS Service Area Identity List IE
* * *
                  8                                                                                                                       7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 - 514 MBMS-Service-Area AVP encoded as in 3GPP TS 29.061, excluding
AVP Header fields (as defined in IETF RFC 3588 [33]).
* * *
### 11.3.74 MBMS Response
The MBMS Response identifies the Cause Values from the BSS regarding MBMS.
Table 11.3.74.a: MBMS Response IE
* * *
                8                  7       6       5       4             3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Spare Spare Spare Spare Cause Value
* * *
Table 11.3.74.b: Cause Value
+----------------------------------------------------------------------+ | (octet 3) | | | | Bits 8 7 6 5 Spare | | | | Bits | | | | 4 3 2 1 | | | | 0 0 0 0 Acknowledge | | | | 0 0 0 1 Acknowledge, initiate data transfer | | | | 0 0 1 0 Acknowledge, data transfer initiated from other SGSN | | | | 0 0 1 1 Reject - Congestion | | | | 0 1 0 0 Reject - None of the listed MBMS Service Areas are supported | | by BSS | | | | 0 1 0 1 Reject - MBMS Service Context is released due to interrupted | | data flow | | | | 0 1 1 0 | | | | : Unspecified in this version of the protocol | | | | 1 1 1 1 | +----------------------------------------------------------------------+
### 11.3.75 MBMS Routing Area List
The MBMS Routing Area List identifies each Routing Area that contains at least
one PMM-IDLE MS that has activated the MBMS bearer service. The list may be
empty.
Table 11.3.75.a: MBMS Routing Area List IE
* * *
                    8                                        7       6       5       4       3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Number of Routing Area Identifications Spare Spare Spare Spare  
octet 4 - 11 Routing Area Identification 1  
octet 12 - 19 Routing Area Identification 2  
octet 20 - 27 Routing Area Identification 3  
octet 28 - 35 Routing Area Identification 4  
octet 36 - 43 Routing Area Identification 5  
octet 44 - 51 Routing Area Identification 6  
octet 52 - 59 Routing Area Identification 7  
octet 60 - 67 Routing Area Identification 8  
octet 68 - 75 Routing Area Identification 9  
octet 76 - 83 Routing Area Identification 10  
octet 84 - 91 Routing Area Identification 11  
octet 92 - 99 Routing Area Identification 12  
octet 100 - 107 Routing Area Identification 13  
octet 108 - 115 Routing Area Identification 14
* * *
Table 11.3.75.b: MBMS Routing Area List information element details
+----------------------------------------------------------------------+ | **Number of Routing Areas** (octet 3)\ | | **8 7 6 5** \ | | 0 0 0 0 Notification shall not be sent to any Routing Areas in the | | BSS\ | | 0 0 0 1 \"1\" Routing Area Identities\ | | :\ | | : | | | | 1 1 1 0 \"14\" Routing Area Identities\ | | 1 1 1 1 Notification shall be sent in all Routing Areas in the BSS\ | | \ | | **4 3 2 1** (octet 3)\ | | Spare | +----------------------------------------------------------------------+ | **Routing Area Identification** **i** 7 octets (octet 4, 12, 20, 28, | | 36, 44, 52, 60, 68, 76, 84, 92, 100 and 108)\ | | The element is coded as the Routing Area Identification information | | element in 3GPP TS 24.008, not including 3GPP TS 24.008 IEI and 3GPP | | TS 24.008 length indicator. | +----------------------------------------------------------------------+
### 11.3.76 MBMS Session Information
The MBMS Session Information carries information about the MBMS Session from
the SGSN to the BSS.
Table 11.3.76.a: MBMS Session Information IE
* * *
                8                  7       6       5       4       3       2       1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare Spare Spare Spare Spare Spare Spare BC/MC
* * *
Table 11.3.76.b: MBMS Session Information information element details
* * *
**BC/MC** (octet 3)\ This field indicates wheter it is a Broadcast or an
Multicast MBMS Session.\ Bit\ **1** \ 0 Broadcast Session\ 1 Multicast
Session\ \ **8 7 6 5 4 3 2** (octet 3)\ Spare
* * *
### 11.3.77 TMGI (Temporary Mobile Group Identity)
The purpose of TMGI is for group paging in MBMS as defined in 3GPP TS 24.008.
Table 11.3.77: TMGI IE
* * *
               8                                                                                                                   7   6   5   4   3   2   1
octet 1 IEI  
octet 2,2a Length Indicator  
octet 3-8 Rest of element coded as in 3GPP TS 24.008, not including 3GPP TS
24.008 IEI and 3GPP TS 24.008 length indicator.
* * *
### 11.3.78 MBMS Stop Cause
The MBMS Stop Cause identifies the Cause Values for stopping an MBMS Session.
Table 11.3.74.a: MBMS Stop Cause IE
* * *
                8                  7       6       5       4             3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Spare Spare Spare Spare Cause Value
* * *
Table 11.3.74.b: Cause Value
+--------------------------------------------------+ | (octet 3) | | | | Bits 8 7 6 5 Spare | | | | Bits | | | | 4 3 2 1 | | | | 0 0 0 0 MBMS Session terminated by upstream node | | | | 0 0 0 1 MBMS Session terminated by SGSN | | | | 0 0 1 0 | | | | : Unspecified in this version of the protocol | | | | 1 1 1 1 | +--------------------------------------------------+
### 11.3.79 Source BSS to Target BSS Transparent Container
This information element contains the information needed in the Target BSS to
execute a PS Handover.
The element coding is:
Table 11.3.79.a: Source BSS to Target BSS Transparent Container coding
* * *
                8                                                                                             7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-? Source BSS to Target BSS Transparent Container Contents coded as
defined in table 11.3.79.b
* * *
Table 11.3.79.b: Source BSS to Target BSS Transparent Container Contents
+----------------+----------------+----------------+--------+--------+ | Information | Type / | Presence | Format | Length | | Elements | Reference | | | | +----------------+----------------+----------------+--------+--------+ | MS Radio | MS Radio | M | TLV | 7-? | | Access | Access | | | | | Capability | Capa | | | | | | bility/11.3.22 | | | | +----------------+----------------+----------------+--------+--------+ | Inter RAT | Inter RAT | O (note 1) | TLV | 3-? | | Handover Info | Handover | | | | | | Info/11.3.94 | | | | +----------------+----------------+----------------+--------+--------+ | Page Mode | Page | O (note 2, | TLV | 3 | | | Mode/11.3.88 | note 3) | | | +----------------+----------------+----------------+--------+--------+ | Container ID | Container | O (note 2) | TLV | 3 | | | ID/11.3.89 | | | | +----------------+----------------+----------------+--------+--------+ | Global TFI | Global | O (note 2, | TLV | 3 | | | TFI/11.3.90 | note 3) | | | +----------------+----------------+----------------+--------+--------+ | PS Handover | PS Handover | O | TLV | 3 | | Indications | Indica | | | | | | tions/11.3.95a | | | | +----------------+----------------+----------------+--------+--------+ | CS Indication | CS | O (note 3) | TLV | 3 | | | Indi | | | | | | cation/11.3.98 | | | | +----------------+----------------+----------------+--------+--------+ | E-UTRAN Inter | E-UTRAN Inter | O (note 1) | TLV | 3-? | | RAT Handover | RAT Handover | | | | | Info | Info/11.3.104 | | | | +----------------+----------------+----------------+--------+--------+ | IRAT | IRAT | O | TLV | 3-? | | Measurement | Measurement | | | | | Configuration | Configur | (note 4) | | | | | ation/11.3.115 | | | | +----------------+----------------+----------------+--------+--------+ | Source Cell ID | Source Cell | O | TLV | 8-? | | | ID/11.3.120 | | | | | | | (note 4, note | | | | | | 5) | | | +----------------+----------------+----------------+--------+--------+ | IRAT | IRAT | O | TLV | 3-? | | Measurement | Measurement | | | | | Configuration | Configuration | (note 4) | | | | (extended | (extended | | | | | E-ARFCNs) | E-AR | | | | | | FCNs)/11.3.121 | | | | +----------------+----------------+----------------+--------+--------+ | NOTE1: This | | | | | | information | | | | | | element shall | | | | | | be present if | | | | | | available in | | | | | | the source | | | | | | BSS. | | | | | | | | | | | | NOTE2: This | | | | | | information | | | | | | element shall | | | | | | be present in | | | | | | case of PS | | | | | | Handover from | | | | | | A/Gb mode. | | | | | | | | | | | | NOTE3: This | | | | | | information | | | | | | element shall | | | | | | be present in | | | | | | case of DTM | | | | | | Handover from | | | | | | A/Gb mode. | | | | | | | | | | | | NOTE4: This | | | | | | information | | | | | | element may be | | | | | | present in | | | | | | case of PS | | | | | | Handover from | | | | | | E-UTRAN (see | | | | | | 3GPP TS | | | | | | 36.413 [36]) | | | | | | | | | | | | NOTE 5: This | | | | | | information | | | | | | element shall | | | | | | be present in | | | | | | case either | | | | | | the _IRAT | | | | | | Measurement | | | | | | Configuration_ | | | | | | information | | | | | | element or the | | | | | | _IRAT | | | | | | Measurement | | | | | | Configuration | | | | | | (extended | | | | | | E-ARFCNs)_ | | | | | | information | | | | | | element is | | | | | | present. | | | | | +----------------+----------------+----------------+--------+--------+
### 11.3.80 Target BSS to Source BSS Transparent Container
This information element contains the information needed in the Source BSS to
execute a PS Handover.
The element coding is:
Table 11.3.80.a: Target BSS to Source BSS Transparent Container coding
* * *
               8                                                                                             7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 2a Length Indicator  
Octet 3-? Target BSS to Source BSS Transparent Container Contents coded as
defined in table 11.3.80.b
* * *
Table 11.3.80.b: Target BSS to Source BSS Transparent Container Contents
+------------------+------------------+------------+--------+--------+ | Information | Type / Reference | Presence | Format | Length | | Elements | | | | | +------------------+------------------+------------+--------+--------+ | PS Handover | PS Handover | O (Note 2) | TLV | 4-? | | Command | Command/11.3.95 | | | | +------------------+------------------+------------+--------+--------+ | SI/PSI Container | SI/PSI | O (Note 1) | TLV | 3-? | | | Co | | | | | | ntainer/11.3.95b | | | | +------------------+------------------+------------+--------+--------+ | DTM Handover | DTM Handover | O (Note 2) | TLV | 22-? | | Command | Command/11.3.97 | | | | +------------------+------------------+------------+--------+--------+ | NOTE 1: This | | | | | | information | | | | | | element shall be | | | | | | included when | | | | | | requested in the | | | | | | PS- | | | | | | HANDOVER-REQUEST | | | | | | PDU. | | | | | | | | | | | | NOTE 2: Only one | | | | | | of these | | | | | | information | | | | | | elements shall | | | | | | be included. | | | | | +------------------+------------------+------------+--------+--------+
### 11.3.81 NAS container for PS Handover
This information element contains the NAS container for PS Handover. The value
part of this IE is to be included in the PS Handover Command message within
the _Target BSS to Source BSS Transparent Container_ IE.
The element coding is:
Table 11.3.81: NAS container for PS Handover coding
* * *
                8                                                            7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-? NAS container for PS HO coded as defined in 3GPP TS 24.008
* * *
### 11.3.82 PFCs to be set-up list
This information element contains the Packet Flow Context parameters for one
or more PFC(s), that the SGSN requests the target BSS to set-up.
The element coding is:
Table 11.3.82.a: PFCs to be set-up list IE
* * *
                8                                   7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Number of PFCs  
Octet 4-6 PFI (1)  
Octet 7-9 PFT (1)  
Octet 10-? ABQP (1)  
Octet ?-? Allocation/Retention Priority (1)  
Octet ?-? T10 (1)  
Octet ?-? PFI (2)  
Octet ?-? PFT (2)  
Octet ?-? ABQP (2)  
Octet ?-? Allocation/Retention Priority (2)  
Octet ?-? T10 (2)  
\" \"  
Octet ?-? PFI (n)  
Octet ?-? PFT (n)  
Octet ?-? ABQP (n)  
Octet ?-? Allocation/Retention Priority (n)  
Octet ?-? T10 (n)
* * *
**Number of PFCs:** Number of PFCs for which packet flow context parameters
are provided. For each of those PFCs follows its identifier and the packet
flow context parameters. The \"Number of PFCs\" parameter is coded as shown
below:
Table 11.3.82.b: Number of PFCs
* * *
Coding Semantic 0000 0000 Reserved 0000 0001 1 PFC ... ... 0000 1011 11 PFCs
0000 1100 Reserved \' \" 1111 1111 Reserved
* * *
**PFI:** Packet Flow Identifier. Coded as the Packet Flow Identifier
information element**, see sub-clause 11.3.42**
**PFT:** Packet Flow Timer. Coded as the GPRS Timer information element, see
sub-clause 11.3.44.
**ABQP:** Aggregate BSS QoS Profile. Coded as the Aggregate BSS QoS Profile
information element, see sub-clause 11.3.43.
**Allocation/Retention Priority:** Allocation Retention Priority. Coded as the
Priority information element, see sub-clause 11.3.27. This information element
is optionally included.
**T10:** T10. Coded as the GPRS Timer information element, see sub-clause
11.3.44. This information element shall be present for a PFC if the
Allocation/Retention Priority is present and if queuing is allowed for the
PFC.
### 11.3.83 List of set-up PFCs
This information element contains the Packet Flow Identifiers of the PFCs that
were successfully allocated in the target system during a PS handover. The
element coding is:
Table 11.3.83.a: List of set-up PFCs IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Number of PFCs  
Octet 4 PFI (1)  
Octet 5 PFI (2)  
\" \"  
Octet ? PFI (n)
* * *
**Number of PFCs:** Number of PFCs for which corresponding Packet Flow
Identifiers are provided. The \"Number of PFCs\" parameter is coded as shown
below:
Table 11.3.83.b: Number of PFCs
* * *
Coding Semantic 0000 0000 0 PFC 0000 0001 1 PFC ... ... 0000 1011 11 PFCs 0000
1100 Reserved \' \" 1111 1111 Reserved
* * *
**PFI:** Packet Flow Identifier. Coded as the value part of the Packet Flow
Identifier information element in 3GPP TS 24.008, not including 3GPP TS 24.008
IEI.
### 11.3.84 Extended Feature Bitmap
The Extended Feature bitmap information element indicates the optional
features supported by the underlying NSE. The element coding is:
Table 11.3.84.a: Extended Feature Bitmap IE
* * *
                8                  7      6     5            4             3      2                   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 MSADCN eDRX DCN EC-GSM-IoT CS/PS coord MOCN Gigabit Interface PS
Handover
* * *
Table 11.3.84.b: \"PS Handover\" coding
* * *
coding Semantic 0 PS Handover not supported 1 PS Handover supported
* * *
Table 11.3.84.c: \"Gigabit Interface\" coding
* * *
coding Semantic 0 Gigabit Interface not supported 1 Gigabit Interface
supported
* * *
Table 11.3.84.d: \"Multi Operator Core Network" coding
* * *
coding Semantic 0 Multi Operator Core Network not supported 1 Multi Operator
Core Network supported
* * *
Table 11.3.84.e: \"CS/PS coordination enhancements" coding
* * *
**coding** **Semantic** 0 CS/PS coordination enhancements not supported 1
(note) CS/PS coordination enhancements supported
* * *
Table 11.3.84.f: \"EC-GSM-IoT" coding
* * *
**coding** **Semantic** 0 EC-GSM-IoT not supported 1 EC-GSM-IoT supported
* * *
Table 11.3.84.g: "eDRX" coding
+----------------------------------+----------------------------------+ | **coding** | **Semantic** | +----------------------------------+----------------------------------+ | 0 | eDRX is not supported (see Note | | | 1) | +----------------------------------+----------------------------------+ | 1 | eDRX is supported | +----------------------------------+----------------------------------+ | > Note 1: A SGSN shall consider | | | > a BSS that indicates it does | | | > not support eDRX but indicates | | | > it supports EC-GSM-IoT as only | | | > supporting the lowest eDRX | | | > cycle (see 3GPP TS 23.682). | | +----------------------------------+----------------------------------+
Table 11.3.84.h: \"DCN" coding
* * *
**coding** **Semantic** 0 Dedicated Core Network not supported 1 Dedicated
Core Network supported
* * *
Table 11.3.84.i: \"MSADCN" coding
* * *
**coding** **Semantic** 0 MS assisted Dedicated Core Network selection not
supported 1 MS assisted Dedicated Core Network selection supported
* * *
NOTE: The CS/PS coordination enhancements bit may only be set to '1' if the
Multi Operator Core Network bit is set to '1'.
### 11.3.85 Source to Target Transparent Container
This information element contains the information needed in the target RAN
node to execute a inter-RAT PS or DTM Handover.
The element coding is:
Table 11.3.85: Source to Target Transparent Container coding
* * *
                8                                                                                                        7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-? Source to Target Transparent Container content coded as specified
in 3GPP TS 25.413 or 3GPP TS 36.413.
* * *
In inter-RAT handovers to _Iu_ mode this IE includes the Source RNC to Target
RNC Transparent container. The Source RNC to Target RNC Transparent Container
content structure and encoding is defined in relevant RANAP specification 3GPP
TS 25.413, excluding RANAP tag.
In inter-RAT handover to E-UTRAN this IE includes the Source eNB to Target eNB
Transparent container. The Source eNB to Target eNB Transparent Container
content structure and encoding is defined in 3GPP TS 36.413.
### 11.3.86 Target to Source Transparent Container
This information element contains the information needed in the Source BSS to
execute a inter-RAT PS Handover.
The element coding is:
Table 11.3.86: Target to Source Transparent Container coding
* * *
                8                                                                                                                                                                                                                                                                                                                                                                                                                   7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-? Rest of element coded as either a complete Handover to UTRAN
Command radio interface message (as defined in 3GPP TS 25.331) or a complete
Radio Bearer Reconfiguration radio interface message (as defined in 3GPP TS
44.118) or a HandoverCommand message that consists only of the _DL-DCCH-
Message_ including a complete _RRCConnectionReconfiguration_ radio interface
message (as defined in 3GPP TS 36.331)
* * *
### 11.3.87 RNC Identifier
This information element contains the identifier of the RNC in case of PS
Handover to UTRAN or the Corresponding RNC-ID of the eNB in case of PS
handover to E-UTRAN as specified in 3GPP TS 25.413.
The element coding is:
Table 11.3.87: RNC Identifier coding
* * *
                8                                                                                                                                                                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-8 Octets 3 to 8 contain the value part (starting with octet 2) of the
_Routing Area Identification_ IE defined in 3GPP TS 24.008, not including 3GPP
TS 24.008 IEI  
Octet 9 RNC ID (or Extended RNC-ID or Corresponding RNC-ID)  
Octet 10 RNC ID (or Extended RNC-ID or Corresponding RNC-ID) (continued)
* * *
**RNC ID** (or **Extended RNC-ID or Corresponding RNC-ID**)**:** The octets
9-10 contain the RNC-ID (0..4095) or the Corresponding RNC-ID (0..4095) or the
Extended RNC-ID (4096..65535) - see 3GPP TS 25.413:
\- The least significant bit of RNC-ID is octet 10 bit 1 and most significant
bit is octet 9 bit 4. In the octet 9 bits 5-8 are set to \"0000\".
\- The least significant bit of Extended RNC-ID is octet 10 bit 1 and most
significant bit is octet 9 bit 8.
For detailed definition of the RNC-Id see 3GPP TS 23.003.
### 11.3.88 Page Mode
This information element contains the Page Mode to be used by the MS.
The element coding is:
Table 11.3.88: Page Mode coding
* * *
                8                  7                                                 6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Reserved PAGE_MODE coded as specified in 3GPP TS 44.060
* * *
### 11.3.89 Container ID
This information element contains the identity of the neighbour cell system
information container previously sent to the MS.
The element coding is:
Table 11.3.89: Container ID coding
* * *
                8                  7                                                   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Reserved Container ID coded as specified in 3GPP TS 44.060
* * *
### 11.3.90 Global TFI
This information element contains the TFI of the mobile station\'s downlink or
uplink TBF.
The element coding is:
Table 11.3.90: Global TFI coding
* * *
                8                  7                                                 6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Reserved Global TFI coded as specified in 3GPP TS 44.060
* * *
### 11.3.91 IMEI
This information element contains the International Mobile Station Equipment
Identity (see 3GPP TS 23.003). The element coding is:
Table 11.3.91: IMEI IE
* * *
                                                                                                       8                                                                                                             7   6   5   4   3   2   1
octet 1 IEI
octet 2, 2a Length Indicator
octet 3-10 Octets 3-10 contain the IMEI coded as the value part of the _Mobile
Identity IE_ defined in 3GPP TS 24.008\  
(NOTE 1)
NOTE 1: The _Type of identity_ field in the _Mobile Identity_ IE shall be
ignored by the receiver.
* * *
### 11.3.92 Time to MBMS Data Transfer
The Time to MBMS Data Transfer denotes the time occurring between the
transmission of the MBMS-SESSION-START-REQUEST PDU or the MBMS-SESSION-UPDATE-
REQUEST PDU to the BSS and the actual start of the data transfer at the BM-SC.
Table 11.3.92.a: Time to MBMS Data Transfer IE
* * *
                8                                       7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Time to MBMS Data Transfer Value Part
* * *
Table 11.3.92.b: Time to MBMS Data Transfer Value Part Coding
+----------------------+ | Bits | | | | 8 7 6 5 4 3 2 1 | | | | 0 0 0 0 0 0 0 0 1s | | | | 0 0 0 0 0 0 0 1 2s | | | | 0 0 0 0 0 0 1 0 3s | | | | : | | | | 1 1 1 1 1 1 1 1 256s | +----------------------+
### 11.3.93 MBMS Session Repetition Number
The MBMS Session Repetition Number denotes the repetition number of the MBMS
session as defined in 3GPP TS 23.246 [32]. The element coding is:
Table 11.3.93: MBMS Session Repetition Number IE
* * *
                8                                                                                                                                         7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 MBMS-Session-Repetition-Number AVP encoded as in 3GPP TS 29.061 [31],
excluding AVP Header fields as defined in IETF RFC 3588 [33].
* * *
### 11.3.94 Inter RAT Handover Info
This information element contains UTRAN related information needed to be
transferred to the target RNC during a PS Handover to UTRAN. The element
coding is:
Table 11.3.94: Inter RAT Handover Information coding
* * *
                8                                                                                          7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-? Inter RAT Handover Information coded as specified in 3GPP Technical
Specification 25.331
* * *
### 11.3.95 PS Handover Command
This information element contains the radio interface message to be sent to
the mobile station.
The element coding is:
Table 11.3.95: PS Handover Command coding
* * *
               8                                                                                                                                                                7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 2a Length Indicator  
Octet 3-? Rest of element coded as a complete PS Handover Command radio
interface message as defined in 3GPP TS 44.060 (carrying the _PS Handover to
A/Gb Mode Payload_)
* * *
### 11.3.95a PS Handover Indications
The _PS Handover Indications_ information element provides indications related
to the PS Handover procedure. The element coding is:
Table 11.3.95a.a: PS Handover Indications IE
* * *
                8                  7               6        5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare DMLC Carriers SI/PSI
* * *
Table 11.3.95a.b: \"SI/PSI\" coding
* * *
coding Semantic 0 SI/PSI not requested 1 SI/PSI requested
* * *
Table 11.3.95a.c: \"DLMC Carriers\" coding
* * *
coding Semantic 00 2 or 3 carriers currently assigned 01 4 or 5 carriers
currently assigned 10 6 or 7 carriers currently assigned 11 8 or more carriers
currently assigned
* * *
### 11.3.95b SI/PSI Container
The _SI/PSI Container_ information element provides the (Packet) System
Information messages of the GSM target cell that are required by the mobile
station for PS Handover. The element coding is:
Table 11.3.95b.a: SI/PSI Container coding
* * *
                8                  7      6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Number of SI/PSI Type  
Octet 4-n SI/PSI
* * *
**Type:** This field indicates the type of the (Packet) System Information
messages provided by the target cell. The _Type_ field is coded as shown
below:
Table 11.3.95b.b: Type coding
* * *
Coding Semantic 0 SI messages as specified for BCCH (3GPP TS 44.018) follow 1
PSI messages as specified for PBCCH (3GPP TS 44.060) follow
* * *
**Number of SI/PSI:** This field indicates the number of (Packet) System
Information messages contained in the _SI/PSI field_. For (Packet) System
Information messages with multiple instances, each instance is counted as one
SI/PSI message. The _Number of SI/PSI_ field is coded as shown below:
Table 11.3.95b.c: Number of SI/PSI coding
* * *
Coding Semantic 000 0000 0 \"SI/PSI\" follows 000 0001 1 \"SI/PSI\" follow \'
\" 111 1111 127 \"SI/PSI\" follow
* * *
**SI/PSI:** This field contains either a list of System Information or a list
of Packet System Information messages of the GSM target cell that are required
by the mobile station for PS Handover as specified in 3GPP TS 44.060. The
number of (Packet) System Information messages is indicated in the _Number of
SI/PSI_ field specified above. Furthermore:
\- If the _Type_ field indicates that \"SI messages as specified for BCCH
(3GPP TS 44.018) follow\" then the _SI/PSI_ field contains the subset of
System Information message instances encoded for BCCH as specified in 3GPP TS
44.018. Each System Information message contains the _Message type_ octet
followed by all the IEs composing the message payload. Each message is 21
octets long.
\- If the _Type_ field indicates that \"PSI messages as specified for PBCCH
(3GPP TS 44.060) follow\" then the _SI/PSI_ field contains the subset of
Packet System Information message instances encoded for PBCCH as specified in
3GPP TS 44.060. Each Packet System Information message contains the
_MESSAGE_TYPE_ field followed by the PSI message content. Each message is 22
octets long.
### 11.3.95c Active PFCs List
This information element contains the Packet Flow Identifiers of the PFCs that
are active in the source BSS at the time the PS Handover Required message is
sent. The element coding is:
Table 11.3.95c.a: Active PFCs List IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Number of PFCs  
Octet 4 PFI (1)  
Octet 5 PFI (2)  
\" \"  
Octet ? PFI (n)
* * *
**Number of PFCs:** Number of PFCs for which corresponding Packet Flow
Identifiers are provided. The \"Number of PFCs\" parameter is coded as shown
below:
Table 11.3.95c.b: Number of PFCs
* * *
Coding Semantic 0000 0000 Reserved 0000 0001 1 PFC ... ... 0000 1011 11 PFCs
0000 1100 Reserved \' \" 1111 1111 Reserved
* * *
**PFI:** Packet Flow Identifier. Coded as the value part of the Packet Flow
Identifier information element in 3GPP TS 24.008, not including 3GPP TS 24.008
IEI. This IE shall not contain any pre-defined PFIs.
### 11.3.96 Velocity Data
This is a variable length information element providing an estimate of a
velocity data. The element coding is:
> Table 11.3.96: Velocity Data IE
+---------+---------------------+---+---+---+---+---+---+---+ | | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | +---------+---------------------+---+---+---+---+---+---+---+ | Octet 1 | IEI | | | | | | | | +---------+---------------------+---+---+---+---+---+---+---+ | Octet 2 | Length indicator | | | | | | | | +---------+---------------------+---+---+---+---+---+---+---+ | Octet 3 | The rest of the | | | | | | | | | | information element | | | | | | | | | to | contains an octet | | | | | | | | | | sequence identical | | | | | | | | | Octet n | to that for | | | | | | | | | | Description of | | | | | | | | | | Velocity defined in | | | | | | | | | | 3GPP TS 23.032. | | | | | | | | +---------+---------------------+---+---+---+---+---+---+---+
### 11.3.97 DTM Handover Command
This information element contains the radio interface message to be sent to
the mobile station.
The element coding is:
Table 11.3.97: DTM Handover Command coding
* * *
                8                                                                                                                                                                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-? Rest of element coded as a complete DTM Handover Command radio
interface message as defined in 3GPP TS 44.060 (carrying the _DTM Handover to
A/Gb Mode Payload_)
* * *
### 11.3.98 CS Indication
This information element indicates to the target BSS that this PS Handover is
part of a DTM Handover Procedure.
The element coding is:
Table 11.3.98: CS Indication coding
* * *
                8                        7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 CS Indication Contents
* * *
**CS Indication Contents:** This identifies a particular handover attempt for
this MS. This shall be identical to the _PS Indication Contents_ value in the
corresponding _PS Indication IE_ included in the _Old BSS to New BSS
Information_ IE (see 3GPP TS 48.008). The choice of the value of this field is
implementation specific, with the requirement that consecutive handover
attempts for the same mobile station shall not have the same _CS Indication
Contents_ value.
### 11.3.99 Requested GANSS Assistance Data
This information element provides the information on which GANSS Assistance
Data has been requested. The element coding is:
Table 11.3.99: Requested GANSS Assistance Data IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.100 GANSS Location Type
This information element provides the GANSS Location Type. The element coding
is:
Table 11.3.53: Location Type IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Rest of element coded as the value part defined in 3GPP TS 49.031, not
including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.101 GANSS Positioning Data
This information element provides GANSS Positioning Data. The element coding
is:
Table 11.3.55: Positioning Data IE
* * *
                8                                                                                                                                               7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3-n Rest of element coded as the value part defined in 3GPP TS 49.031,
not including 3GPP TS 49.031 IEI and 3GPP TS 49.031 octet length indicator
* * *
### 11.3.102 Flow Control Granularity
This information element provides the granularity to be used for deriving the
Flow Control parameters values in the _BVC Bucket Size_ IE, the _BVC Bucket
Leak Rate_ IE and the _PFC flow control parameters_ IE when the Gigabit
Interface feature is negotiated. The element coding is:
Table 11.3.102: Flow Control Granularity IE
* * *
                8                  7             6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Reserved Granularity
* * *
Table 11.3.102.a: \"Granularity\" coding
* * *
coding Semantic 00 100 octets or bits/s increments 01 1000 octets or bits/s
increments 10 10000 octets or bits/s increments 11 100000 octets or bits/s
increments
* * *
### 11.3.103 eNB Identifier
This information element contains the information required to identify an eNB
within a PLMN.
The element coding is:
Table 11.3.103: eNB Identifier coding
* * *
                8                                                                                                                                                                           7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-7 Octets 3 to 7 contain the value part (starting with octet 2) of the
_Tracking Area Identity_ IE defined in 3GPP TS 24.301 [37], not including 3GPP
TS 24.301 IEI [37]  
Octet 8-n _Global eNB ID_
* * *
Octets 8-n contain the Global eNB ID (see 3GPP TS 36.413 [36] sub-clause
9.3.4, _Global-ENB-ID_ Sequence) of the eNodeB.
### 11.3.104 E-UTRAN Inter RAT Handover Info
This information element contains E-UTRAN related information needed to be
transferred to the target eNB during a PS Handover to E-UTRAN. The element
coding is:
Table 11.3.104: E-UTRAN Inter RAT Handover Information coding
* * *
                8                                                                                                                                                                                                                            7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octets 3-? Formatted and coded according to the _UE-EUTRA-Capability IE_
defined in 3GPP Technical Specification 36.331. The most significant bit of
the first octet of the octet string contains bit 8 of the first octet of the
IE.
* * *
### 11.3.105 Subscriber Profile ID for RAT/Frequency priority
This information element may be used by the BSS to provide individual
priorities (see 3GPP TS 44.060) to mobile stations.
The element coding is:
Table 11.3.105.1: Subscriber Profile ID for RAT/Frequency priority coding
* * *
            8                                                                                             7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 Octet 3 contains the value part of the Subscriber Profile ID for
RAT/Frequency priority IE.
* * *
Octet 3 contains a number in binary representation ranging from 0 to 255\. The
Subscriber Profile ID for RAT/Frequency priority is given by the indicated
value +1.
### 11.3.106 Request for Inter-RAT Handover Info
The _Request for Inter RAT Handover Info_ information element provides the
request from the BSS to the SGSN for the _Inter RAT Handover Info_ IE for
UTRAN necessary for inter-RAT PS Handover procedure to UTRAN. The element
coding is:
Table 11.3.106.a: Request for Inter RAT Handover Info IE
+------------+------------+------------+------------+---+---+---+---+---+ | | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | +------------+------------+------------+------------+---+---+---+---+---+ | octet 1 | IEI | | | | | | | | +------------+------------+------------+------------+---+---+---+---+---+ | octet 2, | Length | | | | | | | | | 2a | Indicator | | | | | | | | +------------+------------+------------+------------+---+---+---+---+---+ | octet 3 | Spare | E-UTRAN | Inter RAT | | | | | | | | | Inter RAT | Handover | | | | | | | | | Handover | Info Req | | | | | | | | | Info | | | | | | | | | | | | | | | | | | | | Req | | | | | | | +------------+------------+------------+------------+---+---+---+---+---+
Table 11.3.106.b: \"Inter RAT Handover Info Req\" coding
* * *
Coding Semantic 0 Inter RAT Handover Info not requested 1 Inter RAT Handover
Info requested
* * *
Table 11.3.106.c: \"E-UTRAN Inter RAT Handover Info Req\" coding
* * *
coding Semantic 0 See note NOTE: The value \'1\' was allocated in a previous
version of the protocol and shall not be used.
* * *
### 11.3.107 Reliable Inter-RAT Handover Info
The _Reliable Inter RAT Handover Info_ information element provides to the
target BSS the indication that the source BSS has received the _Inter RAT
Handover Info_ for UTRAN from the SGSN in the CREATE-BSS-PFC-PDU or in the PS-
HANDOVER-COMPLETE-ACK PDU upon successful completion of PS handover or a PS-
HANDOVER-REQUEST PDU with "_Reliable Inter RAT Handover Info Indicator_ " set
to "1". The element coding is:
Table 11.3.107.a: Reliable Inter RAT Handover Info IE
* * *
                8                  7                                            6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare Reliable Inter RAT Handover Info Indicator
* * *
Table 11.3.107.b: \"Reliable Inter RAT Handover Info Indicator" coding
* * *
Coding Semantic 0 Inter RAT Handover Info not reliable 1 Inter RAT Handover
Info reliable
* * *
### 11.3.108 SON Transfer Application Identity
This information element specifies the addressed SON Transfer application
within the target BSS node. The element coding is:
Table 11.3.108: SON Transfer Application Identity IE
* * *
                8                                   7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3-m SON Transfer Application Identity
* * *
**SON Transfer Application Identity:** This field is encoded as the _SON
Transfer Application Identity_ IE as defined in 3GPP TS 36.413 [36].
### 11.3.109 CSG Identifier
The _CSG Identifier_ information element indicates the identifier of the
Closed Subscriber Group within the PLMN, as defined in [40], and the cell
access mode of the CSG cell as defined in [22], [39]. The element coding is:
Table 11.3.109.a: CSG Identifier IE
* * *
                8                                                                                                                                                                                                     7                      6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octets 3-6 Octets 3 to 6 contain the _CSG Identity (CSG-ID)_ of the cell
(defined in 3GPP TS 23.003) as reported by the mobile station (see 3GPP TS
44.060). Bits 4 to 8 of octet 6 are spare and set to zero.  
**octet 7** **Spare** **Cell Access Mode**
* * *
Table 11.3.109.b: Cell Access Mode field element details
* * *
**Cell Access Mode** (bit 1 of octet 7)\ This field indicates the cell access
mode of the cell as reported by the mobile station.\ Bit\ **1** \ 0 CSG cell\
1 Hybrid cell
* * *
Spare bits are reserved and coded with zeroes.
### 11.3.110 Tracking Area Code
The TAC information element provides an unambiguous identification of tracking
areas needed for routing of the PS handover signalling to the target cell. The
element coding is:
Table 11.3.110: TAC IE
* * *
                8                                                                                                         7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octets 3-5 Octets 3 to 5 contain the value part (starting with octet 2) of the
TAC _IE_ defined in 3GPP TS 24.301.
* * *
### 11.3.111 Redirect Attempt Flag
This information element provides control information for the MOCN, GWCN and
for the DCN rerouting procedure. It indicates that the CN shall include in the
answer either Redirection Indication IE or Redirection Completed IE.
The element coding is:
Table 11.3.111: Redirect Attempt Flag IE
* * *
                8                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 spare
* * *
### 11.3.112 Redirection Indication
This information element provides control information for the MOCN, GWCN and
for the DCN rerouting procedure. It indicates that the CN requests rerouting
by the BSS to another CN operator. The Reroute Reject cause is given.
Table 11.3.112: Redirection Indication IE
* * *
                8                            7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Reroute Reject Cause value
* * *
* * *
Reroute Reject cause value (octet 3)  
Bits  
8 7 6 5 4 3 2 1  
0 0 0 0 0 0 0 0 Reserved \" \" 0 0 0 0 1 0 1 0 Reserved 0 0 0 0 1 0 1 1 PLMN
not allowed (meaning is defined in 3GPP TS 24.008 [11]) 0 0 0 0 1 1 0 0
location area not allowed (meaning is defined in 3GPP TS 24.008 [11]) 0 0 0 0
1 1 0 1 roaming not allowed in this location area (meaning is defined in 3GPP
TS 24.008 [11]) 0 0 0 0 1 1 1 0 GPRS services not allowed in this PLMN
(meaning is defined in 3GPP TS 24.008 [11]) 0 0 0 0 1 1 1 1 no suitable cell
in location area (meaning is defined in 3GPP TS 24.008 [11]) 0 0 0 1 0 0 0 0
CS/PS domain registration coordination required (meaning defined in 3GPP TS
23.251 [43]) 0 0 0 1 0 0 0 1 Network failure (meaning is defined in 3GPP TS
24.008 [11]) 0 0 0 1 0 0 1 0 Rerouting to a DCN required 0 0 0 1 0 0 1 1
Reserved \" \" 1 1 1 1 1 1 1 1 Reserved
* * *
### 11.3.113 Redirection Completed
This information element provides control information for the MOCN, GWCN and
for the DCN rerouting procedure. It indicates that the reroute procedure is
completed.
The element coding is:
Table 11.3.113: Redirection Completed IE
* * *
                8                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 Outcome value
* * *
* * *
**Outcome value (octet 3)**  
Bits  
8 7 6 5 4 3 2 1  
0 0 0 0 0 0 0 0 Reserved 0 0 0 0 0 0 0 1 MS is accepted 0 0 0 0 0 0 1 0 MS is
not accepted 0 0 0 0 0 0 1 1 MS is already registered 0 0 0 0 0 1 0 0 Reserved
" " 1 1 1 1 1 1 1 1 Reserved
* * *
### 11.3.114 Unconfirmed send state variable
This IE indicates the value of the Unconfirmed send state variable as defined
in 3GPP TS 44.064 [12].
The element coding is:
Table 11.3.114: Unconfirmed send state variable IE
* * *
                8                  7          6   5   4   3   2   1
Octet 1 IEI  
Octet 2, 2a Length Indicator  
Octet 3 spare V(U) MSB  
Octet 4 V(U)
* * *
Octet 2 and bit 1 of octet 3 contain a number in binary representation ranging
from 0 to 511. The least significant bit is bit 1 of octet 3, and the most
significant bit is bit 1 of octet 2.
### 11.3.115 IRAT Measurement Configuration
The _IRAT Measurement Configuration_ IE is used to indicate to the BSS which
frequency measurement results of the source RAT shall be collected after a
successful inter-system handover. The _IRAT Measurement Configuration_ IE is
used by the source RAT to specify the E-UTRA frequencies for which the
corresponding EARFCN is less than 65535 to be reported back to the source RAT
(each of them associated with a measurement bandwidth), the minimum radio
quality and the period of time that the measurements should last before
triggering a _HO Report_ for unnecessary handover to another RAT.
NOTE 1: _HO Report_ is defined in 3GPP TS 36.413 [36].
NOTE 2: The functionality of Unnecessary IRAT HO is described in 3GPP TS
36.300 [45].
NOTE 3: E-UTRA frequencies corresponding to E-ARFCNs in the value range from
65536 to 262143 shall be indicated using the _IRAT Measurement Configuration
(extended E-ARFCNs)_ IE (see subclause 11.3.121); in such a case, E-UTRA
frequencies corresponding to E-ARFCNs in the value range from 0 to 65534
(value 65535 is reserved and shall not be used) shall be indicated using the
_IRAT Measurement Configuration_ IE.
The element coding is:
Table 11.3.115: IRAT Measurement Configuration IE
* * *
                   8                        7                       6                      5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 Spare REP_QUANT REPORTING_THRESHOLD  
Octet 4 Measurement _Duration  
Octets 5-6 E-ARFCN  
Octet 7 Spare Measurement Bandwidth  
Octets 8-9 E-ARFCN  
Octet 10 Spare Measurement Bandwidth  
" "  
Octets m-(m+1) E-ARFCN  
Octet m+2 Spare Measurement Bandwidth
* * *
**REPORTING_THRESHOLD:** defines the reporting threshold to be used for
measurement results analysis according to REP_QUANT. This threshold is used to
compare against the measurement results received from the MS. It is a value
between 0 and 63 encoded on 6 bits according to 3GPP TS 45.008 [44] sub-
section 8.1.5.4.
**REP_QUANT:** indicates the measurement quantity for E-UTRAN cells coded as
follows: 0=RSRP 1=RSRQ.
**Measurement _Duration: defines (in seconds) how long the BSS shall collect
the measurements results received from the MS after a successful inter-RAT
handover. It is a** number in binary representation ranging from 1 to 100.
**E- ARFCN:** designates a specific E-UTRA frequency for which the target RAT
should continue to collect the measurement results received from MS of this
frequency. It is coded as a number in binary representation ranging from 0 to
65534 (value 65535 is reserved and shall not be used).
**Measurement Bandwidth:** defines the measurement bandwidth of the E-UTRA
frequency signalled in the two previous octets. It is coded on 3 bits
according to 3GPP TS 44.018 [25].
### 11.3.116 SCI
The SCI information element provides information on the service class of the
user data. The element coding is:
Table 11.3.116-1: SCI IE
* * *
                8                                                                                           7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Octet 3 contains the value part (octet 2) of the SCI IE defined in
3GPP TS 29.281 [46].
* * *
Octet 3 specifies the Service Class value for LLC PDUs of applications
benefitting from specific RRM behaviour.
### 11.3.117 GGSN/P-GW location
The GGSN/P-GW location information element provides information on the
location of the GGSN/P-GW that encoded the SCI. The element coding is:
Table 11.3.117.a: GGSN/P-GW location IE
* * *
                8                    7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 GGSN/P-GW location
* * *
In octet 3, bits 8 to 4 are spare, set to zero by the SGSN and shall be
ignored by the BSS. The coding of bits 3 to 1 is specified in Table
11.3.117.b.
Table 11.3.117.b: GGSN/P-GW location coding
* * *
Octet 3 Semantic Bit:  
3 2 1  
0 0 0 HPLMN 0 0 1 VPLMN 0 1 0 Operator Group GGSN 0 1 1 Unknown 1 0 0 to 1 1 1
For future use (treat as VPLMN)
* * *
The conditions under which the SGSN indicates the values defined in Table
11.3.117.b are specified in 3GPP TS 23.060 [7].
### 11.3.118 Selected PLMN ID
The purpose of the _Selected PLMN ID_ information element is to provide the
SGSN with the PLMN ID selected by a mobile station supporting network sharing
when network sharing is in use in a cell.
Table 11.3.116: Selected PLMN ID IE
* * *
                8                  7           6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
Octet 3 MCC dig 2 MCC dig 1  
Octet 4 MNC dig 3 MCC dig 3  
Octet 5 MNC dig 2 MNC dig 1
* * *
NOTE: The MCC and MNC value field is coded as specified within 3GPP TS 24.008
[11].
### 11.3.119 Priority Class Indicator
This information element indicates that overload has occurred in the SGSN and
traffic for the indicated priority class should be reduced.
Table 11.3.118: Priority Class Indicator IE
* * *
            8                                        7   6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 Value part of Priority Class Indicator
* * *
The _Value part of Priority Class Indicator_ is coded as a bit string with
length of 8. Each bit represents a kind of priority class as specified below.
If a bit is set to "1", the signalling traffic of the respective priority
class should be reduced.
Bit (0) = A mobile station configured for \"low access priority\" as defined
in TS 44.060.
Bits (1...7) are spare. The SGSN shall set them to \"0 \". The BSS shall
ignore them.
### 11.3.120 Source Cell ID IE
The _Source Cell ID_ IE is used to indicate to the BSS the identification of
the source cell, e.g. in the Unnecessary IRAT HO case (see _IRAT Measurement
Configuration IE_ description, subclause 11.3.115).
The element coding is:
Table 11.3.120: Source Cell ID IE
* * *
                 8                        7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3-7 Tracking Area Identity  
Octet 8-m E-UTRAN CGI  
Octet(m+1)-n Global eNB ID
* * *
**Tracking Area Identity** : Octets 3 to 7 contain the value part of the
_Tracking Area Identity_ IE defined in 3GPP TS 24.301, not including 3GPP TS
24.301 IEI.
**E-UTRAN CGI:** Octets 8 - m contain the E-UTRAN CGI (see 3GPP TS 36.413 sub-
clause 9.3.4, _EUTRAN-CGI_ Sequence) for the source cell.
**Global eNB ID:** Octets (m+1)-n contain the Global eNB ID (see 3GPP TS
36.413 sub-clause 9.3.4, _Global-ENB-ID_ Sequence) for the source eNB.
### 11.3.121 IRAT Measurement Configuration (extended E-ARFCNs)
The _IRAT Measurement Configuration (extended E-ARFCNs)_ IE is used to
indicate to the BSS which frequency measurement results of the source RAT
shall be collected after a successful inter-system handover. The _IRAT
Measurement Configuration_ IE is used by the source RAT to specify the E-UTRA
frequencies for which the corresponding E-ARFCN is greater than 65535 to be
reported back to the source RAT (each of them associated with a measurement
bandwidth), the minimum radio quality and the period of time that the
measurements should last before triggering a _HO Report_ for unnecessary
handover to another RAT.
NOTE 1: _HO Report_ is defined in 3GPP TS 36.413 [36].
NOTE 2: The functionality of Unnecessary IRAT HO is described in 3GPP TS
36.300 [45].
The element coding is:
Table 11.3.121: IRAT Measurement Configuration (extended E-ARFCN) IE
* * *
                   8                        7            6                       5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 Spare REP_QUANT REPORTING_THRESHOLD  
Octet 4 Measurement _Duration  
Octets 5-6 E-ARFCN  
Octet 7 E-ARFCN Spare Measurement Bandwidth  
Octets 8-9 E-ARFCN  
Octet 10 E-ARFCN Spare Measurement Bandwidth  
" "  
Octets m-(m+1) E-ARFCN  
Octet m+2 E-ARFCN Spare Measurement Bandwidth
* * *
**REPORTING_THRESHOLD:** see subclause 11.3.115.
**REP_QUANT:** see subclause 11.3.115.
**Measurement _Duration:** see subclause 11.3.115.
**E- ARFCN:** designates a specific E-UTRA frequency for which the target RAT
should continue to collect the measurement results received from MS of this
frequency. It is coded as a number in binary representation ranging from 65536
to 262143 in which bit 8 octet m is the most significant bit while bit 7 octet
(m+2) is the least significant bit.
**Measurement Bandwidth:** see subclause 11.3.115.
### 11.3.122 eDRX Parameters
This information element is used to indicate the eDRX cycle value the BSS is
to use for determining the reachability of a MS that has enabled eDRX
operation. The element coding is:
Table 11.3.122: eDRX Parameters IE
* * *
                8                  7                  6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare eDRX Cycle Value
* * *
The BSS uses the eDRX cycle value indicated by the eDRX Parameters IE along
with the IMSI to determine the nominal paging group of a mobile station (see
3GPP TS 45.002 [48]). The eDRX cycle value is coded as specified within 3GPP
TS 24.008 [11]).
### 11.3.123 Time Until Next Paging Occasion
This information element is used to indicate the time until the next paging
occasion for a MS for which the BSS has rejected a PS-PAGING PDU received from
the SGSN. The element coding is:
Table 11.3.123: Time Until Next Paging Occasion IE
* * *
                8                  7         6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare Minutes  
octet 4 Spare Seconds
* * *
The BSS uses information provided by the PAGING-PS PDU to calculate the time
until the next paging occasion in minutes and seconds and includes it within
this IE.
The "Minutes" field is coded as shown below.
Table 11.3.123.a: \"Minutes\" coding
* * *
coding semantic 000000 0 minutes 000001 1 minute 000010 2 minutes 000011 3
minutes ....  
110100 52 minutes All other values are reserved.
* * *
The "Seconds" field is coded as shown below.
Table 11.3.123.b: \"Seconds\" coding
* * *
coding semantic 0000 0000 0 seconds 0000 0001 1 second 0000 0010 2 seconds
0000 0011 3 seconds ....  
0011 1011 59 seconds All other values are reserved.
* * *
### 11.3.124 Coverage Class
This information element is used to indicate the uplink and downlink Coverage
Class associated with a given MS supporting EC operation. The element coding
is:
Table 11.3.124.a: Coverage Class IE
* * *
                8                  7                   6                   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 spare DL Coverage Class UL Coverage Class
* * *
**UL Coverage Class:** Octet 3, bits 1 to 3, contain the value part of the
uplink Coverage Class.\ **DL Coverage Class:** Octet 3, bits 4 to 6, contain
the value part of the downlink Coverage Class.
The UL Coverage Class field is coded as shown below:
Table 11.3.124.b: UL Coverage Class field
* * *
Coding Semantic 000 reserved 001 UL Coverage Class 1 010 UL Coverage Class 2
011 UL Coverage Class 3 100 UL Coverage Class 4 101 UL Coverage Class 5 All
other values are reserved.
* * *
The DL Coverage Class field is coded as shown below:
Table 11.3.124.c: DL Coverage Class field
* * *
Coding Semantic 000 reserved 001 DL Coverage Class 1 010 DL Coverage Class 2
011 DL Coverage Class 3 100 DL Coverage Class 4 All other values are reserved.
* * *
Spare bits are reserved and coded with zeroes.
### 11.3.125 Paging Attempt Information
This information element provides the BSS with paging attempt count and
intended number of paging attempts information for a given paging procedure
for an MS.\ The element coding is:
Table 11.3.125.a: Paging Attempt Information IE
* * *
                8                  7                                    6                      5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 PEI Intended Number of Paging Attempts Paging Attempt Count
* * *
The Paging Attempt Count field is coded as shown below:
Table 11.3.125.b: Paging Attempt Count field
* * *
Coding Semantic 000 1^st^ paging attempt 001 2^nd^ paging attempt 010 3^rd^
paging attempt 011 4^th^ paging attempt 100 5^th^ paging attempt 101 6^th^
paging attempt 110 7^th^ paging attempt 111 8^th^ paging attempt
* * *
The Intended Number of Paging Attempts field is coded as shown below:
Table 11.3.125.c: Intended Number of Paging Attempts field
* * *
Coding Semantic 0000 Information not available 0001 1 page attempt 0010 2 page
attempts 0011 3 page attempts 0100 4 page attempts 0101 5 page attempts 0110 6
page attempts 0111 7 page attempts 1000 8 page attempts All other values are
reserved
* * *
The PEI (Positioning Event Indicator) field is coded as shown below:
Table 11.3.125.d: \"PEI\" coding
* * *
coding Semantic 0 Positioning event not triggered 1 Positioning event
triggered
* * *
### 11.3.126 Exception Report Flag
This information element is included if the LLC PDU carried within the UL-
UNITDATA PDU was sent by the MS using an uplink EC TBF established in response
to an EC PACKET CHANNEL REQUEST message or an EC PACKET DOWNLINK ACK/NACK
message including a channel request, indicating high priority (i.e. an
exception report), see 3GPP TS 44.018 [25] and 3GPP TS 44.060 [22].
The element coding is:
Table 11.3.126a: Exception Report Flag IE
* * *
                8                  7   6   5   4   3   2   1
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 Spare
* * *
### 11.3.127 Old Routing Area Identification
This information element provides the BSS with the Old Routing Area
Identification (RAI) as reported by the MS in the intitial Layer 3 message. It
is used in MOCN and GWCN configurations for network sharing.
The element coding is:
Table 11.3.127: Old Routing Area Identification IE
* * *
                **8**                                                                                                                                                            **7**   **6**   **5**   **4**   **3**   **2**   **1**
octet 1 IEI  
octet 2, 2a Length Indicator  
octets 3-8 Octets 3 to 8 contain the value part (starting with octet 2) of the
Routing Area Identification IE defined in 3GPP TS 24.008, not including 3GPP
TS 24.008 IEI
* * *
### 11.3.128 Attach Indicator
This information element provides the BSS with the information of an ongoing
GPRS attach for a given mobile station. It is used in MOCN and GWCN
configurations for network sharing.
The element coding is:
Table 11.3.128: Attach Indicator IE
* * *
                **8**              **7**   **6**   **5**   **4**   **3**   **2**   **1**
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 spare
* * *
### 11.3.129 PLMN Identity
The purpose of the _PLMN Identity_ information element is to identify a given
CN operator. It is used in MOCN and GWCN configurations for network sharing.
The element coding is:
Table 11.3.129: PLMN Identity IE
* * *
                **8**              **7**       **6**   **5**   **4**   **3**   **2**   **1**
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 MCC dig 2 MCC dig 1  
octet 4 MNC dig 3 MCC dig 3  
octet 5 MNC dig 2 MNC dig 1
* * *
The MCC and MNC value fields are coded as specified within 3GPP TS 24.008
[11].
### 11.3.130 MME Query
This information element provides control information for the MS Registration
Enquiry procedure. The purpose of the _MME Query_ IE is to request the SGSN to
send a registration information enquiry to each MME that may hold the context
for a given MS. It is used in MOCN and GWCN configurations for network
sharing.
The element coding is:
Table 11.3.130: MME Query IE
* * *
                **8**              **7**   **6**   **5**   **4**   **3**   **2**   **1**
octet 1 IEI  
octet 2, 2a Length Indicator  
octet 3 spare
* * *
### 11.3.131 SGSN Group Identity
This information element provides the BSS with the DCN related information
within the PLMN for identification of CN node as described in 23.401 [49].
The element coding is:
Table 11.3.131.a: SGSN Group Identity IE
* * *
              8                                             7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 Choice bits for type of SGSN Group Identity  
Octet 4-5 Null-NRI/SGSN Group ID
* * *
The Choice bit field is coded as shown below:
Table 11.3.131.b: Choice bits for type of SGSN Group Identity field
* * *
Coding Semantic 00000000 Octets 4-5 contain the Null-NRI 00000001 Octets 4-5
contain the SGSN Group ID All other values are reserved
* * *
**Null-NRI** : The 10 most significant bits of Octets 4 to 5 contain the Null-
NRI, the remaining bits are spare.
**SGSN Group ID:** Octets 4-5 contain the SGSN Group ID and is coded as
specified in 3GPP TS 23.401 [49].
### 11.3.132 Additional P-TMSI
This information element provides the BSS with the Additional P-TMSI.
The element coding is:
Table 11.3.132: Additional P-TMSI IE
* * *
              8                   7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3-6 Additional P-TMSI
* * *
**Additional P-TMSI:** Octets 3-6 contain the Additional P-TMSI, see 3GPP TS
24.008 [11]
### 11.3.133 UE Usage Type
This information element provides the BSS with the UE Usage Type.
The element coding is:
Table 11.3.133: UE Usage Type IE
* * *
            8                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 UE Usage Type
* * *
**UE Usage Type:** Octet 3 contains the UE Usage Type.
### 11.3.134 DCN-ID
This information element provides the SGSN with the DCN-ID, see 3GPP TS 23.401
[49] and 3GPP TS 44.060 [22].
The element coding is:
Table 11.3.133: DCN-ID IE
* * *
            8                  7   6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 DCN-ID (Octet 1)  
Octet 4 DCN-ID (Octet 2)
* * *
**DCN-ID:** Octet 3 and 4 contains the DCN-ID and is coded as the DCN-ID field
in 3GPP TS 44.060 [22].
### 11.3.135 Void
### 11.3.136 Multilateration Timer
The inclusion of this information element indicates the MTA procedure or MOTD
procedure has been triggered and provides the specific timer value used by the
BSS for that procedure. The element coding is:
Table 11.3.136: Multilateration Timer IE
* * *
            8                  7           6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 Spare MPM Timer
* * *
The fields are coded as follows:
MPM Timer (bits 1, 2 and 3 of octet 3): This field is coded according to the
value part of the of the MPM Timer field defined in 3GPP TS 49.031 [24].
Spare: these bits shall be ignored by the receiver and set to zero by the
sender.
### 11.3.137 Multilateration Timing Advance
This parameter identifies the Multilateration Timing Advance value the BSS
determines to be applicable for a MS at the point when it receives a
corresponding RLC Data Block containing a page response, a "MS Transmission
Offset" parameter and a "MS Sync Accuracy" parameter (see 3GPP TS 44.060
[22]).
Table 11.3.137: Multilateration Timing Advance IE
* * *
            8                  7                 6         5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 spare MTA Granularity MTA Low  
octet 4 MTA High
* * *
The MTA Granularity and MTA fields are coded according to the value parts of
the Multilateration Timing Advance information element described in 3GPP TS
49.031 [24] (i.e. not including 3GPP TS 49.031 IEI)
### 11.3.138 MS Sync Accuracy
This parameter identifies the downlink synchronization accuracy the MS
determines to be applicable at the point of sending the RLC Data Block
containing a page response, a "MS Transmission Offset" parameter and the "MS
Sync Accuracy" parameter (see 3GPP TS 44.060 [22]).
Table 11.3.138: MS Sync Accuracy IE
* * *
            8                  7                  6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 spare MS Sync Accuracy
* * *
The MS Sync Accuracy field is coded according to the value part of the MS Sync
Accuracy information element described in 3GPP TS 49.031 [24] (i.e. not
including 3GPP TS 49.031 IEI).
### 11.3.139 BTS Reception Accuracy Level
This parameter identifies the BTS Reception Accuracy Level the BSS determines
to be applicable at the point when it receives a RLC Data Block containing a
page response, a "MS Transmission Offset" parameter and a "MS Sync Accuracy"
parameter (see 3GPP TS 44.060 [22]).
Table 11.3.139: BTS Reception Accuracy Level IE
* * *
            8                  7                              6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 spare BTS Reception Accuracy Level
* * *
The BTS Reception Accuracy Level field is coded according to the value part of
the BTS Reception Accuracy Level information element described in 3GPP TS
49.031 [24] (i.e. not including 3GPP TS 49.031 IEI).
### 11.3.140 Timing Advance Request (TAR)
This parameter indicates whether or not MS specific timing advance information
("MS Transmission Offset" and "MS Sync Accuracy" parameters \-- see 3GPP TS
44.060 [22]) needs to be aquired.
Table 11.3.140.1: Timing Advance Request IE
* * *
            8                  7     6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 spare TAR
* * *
The TAR field is coded as shown below and has a value determined by the SMLC
when it triggers the Multilateration Timing Advance procedure or the MOTD
procedure (see 3GPP TS 49.031 [24]):
Table 11.3.140.2: \"TAR\" coding
* * *
coding Semantic 0 Timing Advance information not needed 1 Timing Advance
information needed
* * *
### 11.3.141 Enhanced Coverage Additional Information
This information element provides the BSS with the Enhanced Coverage
Additional Information.
The element coding is:
Table 11.3.141.a: Enhanced Coverage Additional Information
* * *
            8                  7      6   5   4   3   2   1
Octet 1 IEI  
Octet 2 Length Indicator  
Octet 3 Spare ECRR
* * *
The Enhanced Coverage Restriction Removed (ECRR) field is coded as shown
below:
Table 11.3.141.b: ECRR field
* * *
Coding Semantic 0 Restriction on use of enhanced coverage 1 No restriction on
use of enhanced coverage
* * *
### 11.3.142 MTA Access Security Required(MTASR)
This parameter indicates SGSN request to MS to provide MTA Signature.
Table 11.3.142.1: MTA Access Security Required IE
* * *
            8                  7       6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 spare MTASR
* * *
The MTASR field is coded as shown below and has a value determined by the
SGSN.
Table 11.3.142.2: \"MTASR\" coding
* * *
coding Semantic 0 0 MTA Access Security not required 0 1 MTA Access Security
Method requested 1 0 BSS Duplication Detection method requested 1 1 spare
* * *
### 11.3.143 MTA Sequence
This parameter is provided by BSS to SGSN. The BSS obtains this parameter from
SMLC.
Table 11.3.143.1: MTA Sequence IE
* * *
            8                          7   6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 MTA Sequence (octet 1)  
octet 4 MTA Sequence (octet 2)  
octet 5 MTA Sequence (octet 3)  
octet 6 MTA Sequence (octet 4)  
octet 7 MTA Sequence (octet 5)
octet n MTA Sequence (octet n-2)
* * *
### 11.3.144 MTA Signature
This parameter is provided by BSS to SGSN. BSS obtains this parameter from
SMLC.
Table 11.3.144.1: MTA Signature IE
* * *
            8                         7   6   5   4   3   2   1
octet 1 IEI  
octet 2 Length Indicator  
octet 3 MTA Signature (octet 1)  
octet 4 MTA Signature (octet 2)  
octet 5 MTA Signature (octet 3)  
octet 6 MTA Signature (octet 4)
* * *
# 12 List of system variables
## 12.1 General Variables
Table 12.1.a: Procedure timers
* * *
Timer mnemonic Value range Notes Relation to other timers T1 1 s \ C
* * *
#