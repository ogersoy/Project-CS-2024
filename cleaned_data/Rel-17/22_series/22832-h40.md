# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
> z the third digit is incremented when editorial only changes have been
> incorporated in the document.
The present document implements Option 2 for decimal and thousands separator
characters: \"The decimal sign shall be a full-stop (period). The thousands
separator shall be a comma.\" (TR 21.801 v16.2.0 Clause 6.6.7).
# Introduction
This document studies further enhancements to the 5G system for the support of
cyber-physical control applications in vertical domains.
This document collects new use cases and enhanced functionality for
communication in automation in vertical domains in clause 5. Potential new 5G
service requirements for Rel.17 are derived for each use case.
Use cases and enhanced functionality are collected for the following topics:
\- Industrial Ethernet integration, which includes time synchronization,
different time domains, integration scenarios, and support for time-sensitive
networking (TSN) in clauses 5.2, 5.3, 5.4, and 5.15;
\- Non-public networks, non-public networks as private slices, and further
implications on security for non-public networks in clause 5.14;
\- Network operation and Maintenance in 5G non-public networks for cyber-
physical control applications in vertical domains; Enhanced QoS monitoring,
communication service and networks diagnostics; Communication service
interface between application and 5G systems, e.g. information to the network
for setting up communication services for cyber-physical control applications
and corresponding monitoring in clauses 5.5, 5.6, 5.7, 5.13, 5.17, and 5.19;
\- Network performance requirements for cyber-physical control applications in
vertical domains in clauses 5.8, 5.16, and 5.18;
\- Positioning enhancements, including relative positioning information and
vertical directions / dimension for Industrial IoT in clauses 5.9 and 5.12;
\- Device-to-device/ProSe communication for cyber-physical applications in
vertical domains in clauses 5.10, 5.11, and 5.13.
The potential new 5G service requirements are consolidated in clause 6.
Additional information of specific concepts of communication in automation in
vertical domains and of cyber-physical control applications is given in clause
4 and in several of the annexes. This information is given for clarification
and in order to help in correlating the application behaviour and 5G service
requirements to the 5G system.
# 1 Scope
The present document identifies further Stage 1 potential 5G service
requirements for cyber-physical control applications in vertical domains.
The present document provides specific use cases to provide clarity and to
motivate the additional service requirements. Relative to the Rel-16 baseline,
there are more specific requirements or additional requirements for closely-
related additional functionality in order to improve the applicability of 5G
systems to vertical domains.
The aspects addressed are:
\- Industrial Ethernet integration, which includes time synchronization,
different time domains, integration scenarios, and support for time-sensitive
networking (TSN);
\- Non-public networks, non-public networks as private slices, and further
implications on security for non-public networks;
\- Network operation and Maintenance in 5G non-public networks for cyber-
physical control applications in vertical domains; Enhanced QoS monitoring,
communication service and networks diagnostics; Communication service
interface between application and 5G systems, e.g. information to the network
for setting up communication services for cyber-physical control applications
and corresponding monitoring;
\- Network performance requirements for cyber-physical control applications in
vertical domains;
\- Positioning with focus on the vertical dimension for Industrial IoT;
\- Device-to-device/ProSe communication for cyber-physical applications in
vertical domains.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
> [2] 3GPP TS 22.104: \"Service requirements for cyber-physical control
> applications in vertical domains\".
[3] \"IEEE Standard for Local and Metropolitan Area Networks--Timing and
Synchronization for Time-Sensitive Applications,\" IEEE Std 802.1AS-Rev/D8.0,
pp. 1-466, January 2019.
[4] IEC 61158: \"Industrial communication networks -- fieldbus
specification\".
[5] IEC 61907: \"Communication network dependability engineering\".
[6] 3GPP TS 22.186: \"Enhancement of 3GPP support for V2X scenarios\".
[7] 3GPP TS 22.261: \"Service requirements for the 5G system\".
[8] 3GPP TS 23.222: \"Common API Framework for 3GPP Northbound APIs\".
[9] IEEE 802.1Q-2018: \"IEEE Standard for Local and Metropolitan Area Network
--Bridges and Bridged Networks\"
[10] IEEE P802.1CS: \"IEEE Draft Standard for Local and Metropolitan Area
Networks -- Link-local Registration Protocol\"
[11] IEEE P802.1Qdd: \"IEEE Draft Standard for Local and Metropolitan Area
Networks -- Bridges and Bridged Networks -- Amendment: Resource Allocation
Protocol (RAP)\"
[12] IEC/IEEE 60802: \"Time-Sensitive Networking Profile for Industrial
Automation\", Joint Project of IEC SC65C/MT9 and IEEE 802
(https://1.ieee802.org/tsn/iec-ieee-60802/).
[13] IEEE 802.3: \"IEEE Standard for Ethernet\" (http://www.ieee802.org/3/)\"
[14] Void
[15] IEC/IEEE 61850-9-3: \"Communication networks and systems for power
utility automation -- Part 9-3: Precision time protocol profile for power
utility automation\"
[16] ISO GUIDE 98-1: \"Uncertainty of measurement -- Part 1: Introduction to
the expression of uncertainty in measurement\", 2009.
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**global time domain** : synchronization domain using TAI (_temps atomique
international_) or similar as timescale.
**non-public network** : a network that is intended for non-public use [7] .
**sync device: device that synchronizes itself to the master clock of the
synchronization domain.**
**sync master: device serving as the master clock of the synchronization
domain.**
**synchronisation domain** : Set of devices for which time is synchronized to
the sync master of the synchronization domain and that use the same
synchronization domain identifier. Other terms are _time domain_ or _clock
domain_.
**working clock** : a user-specific synchronization clock for a localized set
of UEs collaborating on a specific task or work function. [2]
**working clock domain** : synchronization domain for a localized set of
devices collaborating on a specific task or work function.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5QI 5G QoS Identifier
ACSI Application Communication Service Interface
AR Application Relation
C2C Controller to controller
C2D Controller to device
CAPIF Common API Framework
CR Communication Relation
D2Cmp Device to Compute
DCS Distributed Control System
Dsp Descriptive Parameters
ERP Enterprise Resource Planning
FW Firewall
gPTP generalized precision time protocol
IIoT Industrial IoT
IWS Industrial Wireless Sensor
L2 Layer 2 communication based on IEEE 802.3 [13]
L2C Line controller to controller
L3 Layer 3 communication, routed IP-based communication
LRP Link-local Registration Protocol
MES Manufacturing Execution System
MSRP Multiple Stream Registration Protocol
> MTBF Mean Time Between Failures
MTTR Mean Time To Repair
NAT Network Address Translation
NPN Non-public network
OPC/UA Open Platform Communications Unified Architecture, a machine to machine
communication protocol for industrial automation developed by the OPC
Foundation
OT Operational Technology
PDB Packet Delay Budget
PER Packet Error Rate
PLC Programmable Logic Controller
PTP precision time protocol
QoSp QoS Parameters
RAP Resource Allocation Protocol
Scp Security Parameters
Sfp Safety Parameters
WAN Wide Area Network
# 4 Overview
## 4.1 Overview of use cases
This document describes vertical use cases of cyber-physical control
applications that provide further potential service requirements in addition
to the 5G service requirements in TS 22.261 and TS 22.104. The description is
from a system's perspective at a summary level. It also provides clarification
on vertical use cases in TS 22.104 where needed and leading to additional
potential 5G service requirements.
## 4.2 Discussion on network performance requirements
### 4.2.1 KPIs from TS 22.104 and TS 22.261
The key performance requirements for cyber-physical control applications in
vertical domains are specified in TS 22.104, including the new KPIs in
addition to the usual KPIs (i.e., end-to-end latency, message size, service
bit rate, and transfer interval):
Survival time - The maximum survival time indicates the time period the
communication service may not meet the application\'s message delay
requirement before there is an application layer failure such that the
communication service is deemed to be in an unavailable state.
Communication service availability - This KPI indicates if the communication
system works as contracted (\"available\"/\"unavailable\" state). The
communication service is in the \"available\" state as long as the
availability criteria for transmitted messages are met. The communication
service is unavailable if the messages received at the target are impaired
and/or untimely (e.g. update time > stipulated maximum), resulting in survival
time being exceeded.
Communication service reliability - Mean time between failures is one of the
typical indicators for communication service reliability. This KPI states the
mean value of how long the communication service is available before it
becomes unavailable.
### 4.2.2 KPIs from TS 23.501
Meanwhile the 5G QoS characteristics are specified in TS 23.501 to describe
the packet forwarding treatment that a QoS Flow receives edge-to-edge between
the UE and the UPF. The most relevant performance characteristics to the
identified key performance requirements are:
Packet Delay Budget - The Packet Delay Budget (PDB) defines an upper bound for
the time that a packet may be delayed between the UE and the UPF that
terminates the N6 interface. For a certain 5QI the value of the PDB is the
same in UL and DL. In the case of 3GPP access, the PDB is used to support the
configuration of scheduling and link layer functions (e.g. the setting of
scheduling priority weights and HARQ target operating points).
Packet Error Rate - The Packet Error Rate (PER) defines an upper bound for the
rate of PDUs (e.g. IP packets) that have been processed by the sender of a
link layer protocol (e.g. RLC in RAN of a 3GPP access) but that are not
successfully delivered by the corresponding receiver to the upper layer (e.g.
PDCP in RAN of a 3GPP access) within the packet delay budget. Thus, the PER
defines an upper bound for a rate of packet losses. The purpose of the PER is
to allow for appropriate link layer protocol configurations (e.g. RLC and HARQ
in RAN of a 3GPP access). For every 5QI the value of the PER is the same in UL
and DL.
### 4.2.3 Relationships between KPIs for 5G system design
The communication service reliability and communication service availability
are complementary to packet error rate (PER). PER can be used to indicate the
significance of individual packet losses which for many of the industrial
applications differs from the significance of losing several consecutive
packets (packet is 'lost' if it is not delivered intact within PDB). For
example, loss of a single packet may only slightly reduce the quality of
experience of an industrial application (e.g.. precision of a motion control
application), while loss of several consecutive packets is considered as
communication service unavailability potentially resulting in an emergency
stop in the application. Packet error rate (PER) is directly related to
communication service reliability and communication service availability only
in the special case where 'failure' of the communication system is specified
to be loss of a single packet ( e.g., survival time is zero and 1 message is
contained in 1 packet) for periodic deterministic traffic.
Communication service availability and communication service reliability
indicate the significance of how packet losses are distributed in time domain.
For example, if 5G system design considers avoidance of multiple consecutive
packet losses with higher priority than individual packet losses, this may
result in a system design that improves the quality of experience of the
industrial applications. Both communication service availability and
communication service reliability are meaningful only when specified in
context with survival time.
Communication service reliability can be quantified as the mean time between
failures. Failure refers to the event when the communication service becomes
'unavailable' considering the application specific requirements. For many of
the industrial applications, the communication service is considered
unavailable if survival time is exceeded. For applications that have survival
time equal to zero, any loss of packet triggers this unavailability, while for
applications with non-zero survival time only two or more consecutive packet
losses will trigger unavailability (depending on the agreed traffic
periodicity and length of the survival time). The communication service is
considered available again when it successfully delivers a packet, or the full
set of packets constituting a message when message segmentation is utilized,
within the delay constraints.
The communication service reliability and communication service availability
can be considered in 5G system design e.g., by developing solutions that
reduce the probability of exceeding the survival time.
Communication service availability can also be estimated from the mean time
between failures (MTBF) and the mean time to repair (MTTR) of the
communication service;
communication service availability ≈ MTBF / (MTBF + MTTR)
In this context, MTBF excludes downtime, as illustrated in Figure 4.2-1, while
MTTR refers to the mean time until the communication service is available
after a failure, i.e., until the next valid packet has been received .
{width="6.132638888888889in" height="0.8784722222222222in"}
Figure 4.2-1: MTBF and MTTR
Survival time is another indicator that may be considered for 3GPP 5G system
design to allow the performance requirements of cyber-physical control
applications to be met. If survival time is assumed to be zero, the 5G system
may over-provision the PER targets which may lead to significant reduction is
system capacity and/or reduce the communication service reliability and
communication service availability (e.g., in the case when there is resource
conflict between two URLLC service flows) When message segmentation is
utilized in the 5G system, survival time relates to the successful delivery of
all packets comprising an application layer message rather than a single
packet.
For many IIoT applications individual packet errors can be tolerated but
exceeding survival time cannot. This allows that
> target PER >1 -- Communication Service Availability
One potential use of survival time could be to adjust PER if survival time is
in jeopardy. For example, if packet errors are detected but survival time has
not yet expired, steps could be taken to ensure delivery of subsequent packets
within survival time.
The dependencies between communication service availability, communication
service reliability and survival time might be considered in the 5G system to
see if more efficient optimization can be achieved. One dependency to be
considered is the number of packets lost during the survival time interval.
## 4.3 Survival time vs. consecutive message loss
Survival time is defined in TS22.104 as \"the time that an application
consuming a communication service may continue without an anticipated
message\". It has been identified as one influential quantity for periodic
deterministic communication (Table 5.2-1 in TS 22.104). The survival time
indicates to the communication service the time available to recover from
message delivery failures. The survival time is expressed as a time period
which, especially with cyclic traffic, accommodates the maximum number of
consecutive incorrectly received or lost messages that can be tolerated
without causing an application layer failure.
An example for periodic communication is given in Figure 4.3-1. The automation
application delivers the messages to the ingress of the 5G system at a given
transfer interval. When the messages are correctly received by the automation
application at the egress of the 5G system, it is labelled as per message
network status \"UP\" as well as communication service status \"UP\". Per
message network status refers to the status as perceived by the application.
Incorrectly received or lost messages lead to the per message network status
\"DOWN\". In practice if there is no message correctly received within the
receiving window (e.g., based on the transfer interval and the latency), it
will be considered as per message network down time. If that down time is
within the limit of the pre-defined survival time such transmission errors can
be compensated by the application. A communication service failure occurs when
more consecutive messages are lost than the survival time allows, which also
leads to a failure on the application layer. In an application layer failure
situation, the application stops and then has to be restarted again after the
communication service has recovered. This is represented by the application
recovery time in Figure 4.3-1. This figure illustrates the specific case when
one message is contained in one packet.
{width="6.731944444444444in" height="3.634027777777778in"}
{width="6.75in" height="2.6368055555555556in"}
Figure 4.3-1: survival time vs. message loss
For cyber physical control applications, most messages will be small and may
not need segmentation. In case messages are segmented into multiple packets,
message delivery is only successful if all packets of the message are received
within the PDB. Thus, it may not be sufficient to successfully deliver one
packet after a packet failure to detect communication service availability,
rather successful delivery of one full message is needed. It may be necessary
to map the maximum allowed consecutive message loss to the maximum allowed
consecutive packet loss in a 5G system, which depends on factors such as
survival time, transfer interval and the message size.
# 5 Use cases
## 5.1 Introduction
Clause 5 describes vertical use cases of cyber-physical control applications
that provide further potential service requirements in addition to the 5G
service requirements in TS 22.261 and TS 22.104. The description is from a
system's perspective (at a summary level).
Annex E provides the mapping of the potential new service requirements of the
use cases in clause 5 to the consolidated and merged potential service
requirements in clause 6.
## 5.2 Integration of 5G networks with TSN networks (time synchronization)
### 5.2.1 Description
Time-Sensitive Networking (TSN) is an important functionality of industrial
communication networks. Such industrial communication networks are usually
IEEE 802.1-based networks with Ethernet links (non-3GPP network). Time
synchronization is an important functionality for TSN and is specified in IEEE
802.1AS [3].
5G networks provide advantages for cyber-physical control applications with
respect to flexibility and mobility due to their radio access network with low
latency, high availability, high reliability, and time synchronization
capabilities over wireless links. On the other hand, IEEE 802.1-based TSN
networks provide advantages with wired connectivity for cyber-physical control
applications, especially for demanding real-time control applications and
periodic-deterministic communication, also with very high availability
requirements.
Due to the different pros and cons, many industrial communication networks
will deploy both, non-public 5G networks and IEEE 802.1-based TSN networks. An
integration of 5G networks and IEEE 802.1-based TSN networks is necessary.
This integration is further necessitated by the large number of installed
industrial communication networks on the basis of IEEE 802.1/3 technology
(non-3GPP networks).
The integration between the IEEE 802.1-based non-3GPP networks and the 5G
networks will be through the 5G LAN service of the 5G network on the network
side and/or on the UE side (see Figure 5.2.1-1). The integration on the UE
side is used, for instance, in use cases where machinery, AGVs, or robots with
their own internal network (wired, TSN) are connected to the backhaul part of
the industrial communication network through a 5G wireless link in order to
enable mobility or tetherless movements.
{width="6.747222222222222in" height="2.3152777777777778in"}
Figure 5.2.1-1: Integration of IEEE 802.1-based TSN networks with 5G networks
(network side, UE side)
Depending on the actual physical process, the actual cyber-physical control
application, the design of the machinery, AGVs, and robots, and the design of
the integrated industrial communication network, different mappings of
TSN/time synchronization functionalities to 5G network elements are possible.
In general, the different functionalities for the time/clock synchronization
are completely unrelated to the industrial communication network except that
they need the communication network for distributing the time/clock
synchronization messages. Especially, the functionalities of sync master and
sync device can be associated with any network device in the industrial
communication network. Clause 5.2.2 lists different options for the mapping of
sync master and sync device to 5G network elements. Clause 5.2.3 provides
important and interesting mappings of sync devices and sync master on an
integrated 5G network / TSN network.
Time/clock synchronization is done within time domains or synchronization
domains. There is usually one global time domain, that covers the whole
industrial communication network, and multiple working clock domains, that are
local and restricted to the devices that work together. More information on
time domains, global time domain, and working clock domains can be found in TS
22.104 [2] Annex D. The generalized precision time protocol (gPTP) is used for
time/clock synchronization in IEEE 802.1AS [3].
### 5.2.2 Possible locations of sync master/sync device
#### 5.2.2.1 General assumption
A device may be sync master for one domain and sync device for another domain
concurrently.
#### 5.2.2.2 Location of sync master
In general, the sync master can be located on any device that is performant
enough to provide the sync master functionality.
For the global time domain, the sync master is usually located in the backhaul
part or central part of the industrial communication network (non-3GPP
network). This often leads to gPTP messages entering the 5G network through
the 5G LAN service on the network side.
For the working clock domains, the location of the sync master depends on the
layout of the integrated 5G network / TSN network and the design of the
machinery and production cell (the scope of the working clock domain). The
following mappings for the sync master of a working clock domain are possible:
\- on a device in the non-3GPP network connected to the 5G network through the
5G LAN service on the network side,
\- on a device in the core network of the 5G network,
\- on a device in the RAN of the 5G network,
\- on a UE,
\- on a device in the non-3GPP network connected to the 5G network through the
5G LAN service on the UE.
#### 5.2.2.3 Location of sync device
In general, any device that is performant enough to handle the sync device
functionality can be a sync device. Usually, all end devices with time/clock
synchronization will be sync devices.
The location of a sync device depends on the layout of the integrated 5G
network / TSN network and the design of the machinery and production cell (the
scope of a working clock domain). The following mappings for a sync device in
a time/synchronization domain are possible:
\- on a device in the non-3GPP network connected to the 5G network through the
5G LAN service on the network side,
\- on a UE,
\- on a device in the non-3GPP network connected to the 5G network through the
5G LAN service on the UE.
### 5.2.3 Integration Scenarios
#### 5.2.3.1 General assumption
It is assumed that the following integration scenarios are located in the same
factory. Working clock domains are localized.
#### 5.2.3.2 5G network on the path of sync messages (one wireless link)
{width="6.743055555555555in" height="2.313888888888889in"}
Figure 5.2.3.2-1: 5G network on path of synchronization messages with one
wireless link (DL)
The 5G network is on the path of gPTP time/clock synchronization messages (see
Figure 5.2.3.2-1). The sync master is in the non-3GPP TSN network connected to
the 5G network through the 5G LAN service on the network side. Several sync
devices are in the non-3GPP TSN network connected to the 5G network through
the 5G LAN service on the UE.
Each sync device needs to support up to four synchronization domains -- global
time and a working clock domain plus redundant synchronization domains (global
time and working clock) for zero failover time.
#### 5.2.3.3 5G network on the path of sync messages (two wireless links)
{width="6.74375in" height="2.5368055555555555in"}
Figure 5.2.3.3-1: 5G network on path of synchronization messages with two
wireless links (both, UL and DL)
The 5G network is on the path of gPTP time/clock synchronization messages (see
Figure 5.2.3.3-1). The sync master is in the non-3GPP TSN network connected to
the 5G network through the 5G LAN service on a UE (UE A). Several sync devices
in the non-3GPP TSN network are connected to the 5G network through the 5G LAN
service on another UE (UE B).
#### 5.2.3.4 5G network on the path of sync messages (multiple synchronization
domains through 5G network)
{width="6.749305555555556in" height="2.3131944444444446in"}
Figure 5.2.3.4-1: 5G network on path of synchronization messages for multiple
synchronization domains
The devices of the non-3GPP TSN networks behind the 5G UEs belong to different
working clock domains. Each UE connects to a single non-3GPP TSN network, and
all devices of this non-3GPP TSN network belong to the same synchronization
domains.
The sync devices are connected to the 5G network through the 5G LAN service on
this single UE. The different sync masters are in the non-3GPP TSN network
behind the 5G network, that is, the sync masters are connected to the 5G
network through the 5G LAN service on the network side.
The 5G network has to handle multiple working clock domains / sync message
flows (up to maximum possible number of synchronization domains).
Each sync device needs to support four synchronization domains -- global time
and a working clock domain plus redundant synchronization domains (global time
and working clock) for zero failover time. The UE has to handle multiple
working clock domains / sync message flows (four -- global time domain and
working clock domain plus redundant synchronization domains).
#### 5.2.3.5 5G UE as sync device
{width="6.743055555555555in" height="2.313888888888889in"}
Figure 5.2.3.5-1: 5G UE as sync device
A cyber-physical control application may connect through a 5G UE directly to
the 5G network. The 5G UE will be a sync device.
Each sync device, in this case the UE, needs to support four synchronization
domains -- global time and a working clock domain plus redundant
synchronization domains (global time and working clock) for zero failover
time.
#### 5.2.3.6 5G UE as sync master
{width="6.745138888888889in" height="2.3256944444444443in"}
Figure 5.2.3.6-1: 5G UE as sync master
A 5G UE may be the sync master for the working clock domain in the non-3GPP
TSN network that is connected to the 5G network through this UE.
The UE is a sync device in the synchronization domain for the global time.
### 5.2.4 General
Arbitrary combinations of mappings between sync master / sync device and
network elements of an integrated 5G network / non-3GPP TSN network are
supported.
### 5.2.5 Existing features partly or fully covering the use case
functionality
General requirements for clock synchronization and TSN are contained in TS
22.104 [2]. Relevant requirements in TS 22.104 are the following:
TS 22.104 Clause 5.6:
The 5G system shall support a mechanism to process and transmit IEEE 1588v2 /
Precision Time Protocol messages to support 3^rd^-party applications which use
this protocol.
The 5G system shall support a mechanism to synchronize the user-specific time
clock of UEs with a working clock.
The 5G system shall support at least 2 simultaneous working clock domains on a
UE.
The 5G system shall provide a media dependent interface for one or multiple
IEEE 802.1AS sync domains.
The 5G system shall provide an interface to the 5G sync domain which can be
used by applications to derive their working clock domain or global time
domain (Reference Clock Model).
The 5G system shall provide an interface at the UE to determine and to
configure the precision and time scale of the working clock domain.
TS 22.104 Clause 6.2:
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support clock synchronisation defined by IEEE 802.1AS across
5G-based Ethernet links with PDU-session type Ethernet.
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support clock synchronisation defined by IEEE 802.1AS across
5G-based Ethernet links and other ethernet transports such as wired and
optical (EPON.)
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support enhancements for time-sensitive networking as
defined by IEEE 802.1Q, e.g. time-aware scheduling with absolute cyclic time
boundaries defined by IEEE 802.1Qbv [19], for 5G-based Ethernet links with PDU
sessions type Ethernet.
For infrastructure dedicated to high performance Ethernet applications,
absolute cyclic time boundaries shall be configurable for flows in DL
direction and UL direction.
### 5.2.6 Potential New Requirements needed to support the use case
[PR-5.2.6-001] The 5G system shall be able to support up to four
synchronization domains on a UE.
NOTE: The four synchronization domains are used, for example, as two
synchronization domains for global time and two working clock domains. One
pair of global time and working clock is used as redundant synchronization
domains for zero failover time.
[PR-5.2.6-002] The 5G system shall be able to support clock synchronization
through the 5G network if the sync master and the sync devices are in non-3GPP
TSN networks connected to the 5G network through different UEs. (Flow of clock
synchronization messages is both, UL and DL.)
Requirement [PR-5.2.6-002] highlights a specific integration scenario under
the existing TSN requirements that requires the flow of clock synchronization
messages to be both, UL and DL.
[PR-5.2.6-003] The 5G system shall be able to support arbitrary placement of
sync master functionality and sync device functionality in integrated 5G /
non-3GPP TSN networks. (Flow of clock synchronization messages is both, UL and
DL.)
## 5.3 Multiple Working Clock Domains in gNB
### 5.3.1 Description
Time-sensitive networking (TSN) will be used in industrial automation (e.g.
for control loops in industrial communication networks on the factory floor)
and in energy automation (e.g. for communication networks in substations). 5G
networks with TSN capabilities will be integrated in such kind of industrial
communication networks.
Working clock domains are TSN synchronization domains with a common time
synchronization. A working clock domain includes all the devices in a local
area that need to cooperate in the physical world, e.g. robots, robot arms,
AGVs, conveyor belts, machines, etc. Working clock domains are structured
according to the production process. A working clock domain has an arbitrary
time scale (starting at 0 and counting) and a precision of ±1 µs. For a
description of working clock domains see [2].
A gNB usually serves several UEs. A common deployment is a general 5G network
infrastructure serving the factory floor without any mapping to the structure
of the production processes (machine -- cell -- production line -- factory).
This leads to the situation that multiple working clock domains communicate
through the same gNB (see Figure 5.3.1-1).
{width="5.381944444444445in" height="3.5833333333333335in"}
Figure 5.3.1-1: Multiple working clock domains communicating through the same
gNB
In the working clock domains A..E, there might be a non-3GPP TSN network
behind a UE. The sync master of the working clock domain is inside the working
clock domain and may be in the non-3GPP TSN network behind on of the
corresponding UEs (see working clock domains A and D in Figure 5.3.1-1) or on
one of the UEs (see working clock domains B and C in Figure 5.3.1-1).
### 5.3.2 Pre-conditions
The 5G network with TSN / time synchronisation support is set up in an area of
the factory. Multiple working clock domains are configured and initialized.
Each working clock domain contains at least one UE served by the same gNB. The
working clock domains are independent from each other, especially with respect
to time scale and precision of time synchronization.
It can be assumed that network planning avoids spatial reuse of working clock
domain identifiers at the same gNB.
### 5.3.3 Service Flows
TSN messages for time synchronization are sent within the working clock
domains, including the path UE x1 -- gNB 1 -- UE x2 (with x being A,B,C, D, or
E). gNB 1 needs to handle the TSN messages from different working clock
domains (see Figure 5.3.3-1).
{width="6.748611111111111in" height="4.357638888888889in"}
Figure 5.3.3-1: Multiple working clock domains to be handled at gNB
### 5.3.4 Post-conditions
Each working clock domain is time synchronized independently from the other
working clock domains with the required precision.
### 5.3.5 Existing features partly or fully covering the use case
functionality
The 5G system shall support a mechanism to process and transmit IEEE 1588v2 /
Precision Time Protocol messages to support 3^rd^-party applications which use
this protocol. [2]
The 5G system shall support a mechanism to synchronize the user-specific time
clock of UEs with a working clock. [2]
The 5G system shall support networks with up to 32 working clock domains. [2]
The 5G system shall support at least 2 simultaneous working clock domains on a
UE. [2]
The working clock domains shall provide time synchronization with precision of
≤ 1 μs. [2]
NOTE 1: The required precision of ≤ 1 μs is between the sync master and any
device of the clock domain.
NOTE 2: Different working clock domains are independent and can have different
precision.
### 5.3.6 Potential New Requirements needed to support the use case
[PR-5.3.6-001] The 5G System shall be able to support up to the maximum number
of working clock domains for UEs connected through a 5G network.
NOTE 1: The maximum number of working clock domains is 32 in TS 22.104 [2]
v16.1.0.
The domain number (synchronization domain identifier) is defined with one
octet (unsigned integer) in IEEE 802.1AS [3]. This allows for 128
synchronization domains (1 global time domain and 127 working clock domains).
[PR-5.3.6-002] The 5G System shall be able to support up to 128
synchronization domains (with different synchronization domain identifiers /
domain numbers).
## 5.4 Merging of working clock domains
### 5.4.1 Description
One key issue of the integration of TSN and 5G wireless networks that has to
be handled is mobility. The integration of 5G wireless communication into the
industrial communication infrastructure allows for mobility in the
manufacturing process. This mobility enhances flexibility in the manufacturing
process, e.g. through adding certain manufacturing capabilities on-demand by
having a machine move to the respective production line. This means that
machines that are synchronized to different working clock domains may need to
interact with each other.
**Mobile machines/AGVs providing additional functionality or material for
stationary production line**
In a flexible manufacturing process, some specialized manufacturing
capabilities are provided by mobile machines. The mobile machine has its own
internal TSN network with its own working clock domain (restricted to the
mobile machine). After the mobile machine has arrived at the intended location
and is stationary again, the two interacting working clock domains of the
stationary production line and the mobile machine have to be synchronized with
each other. Otherwise interaction and collaboration might not be possible
without interfering with ongoing operations. An example is an autonomous
mobile handling robot adding parts to an assembly line. Without
synchronization between both, correct placement of the parts would be
impossible. Similarly, the working clock domains of AGVs providing material or
work pieces to a production line need to be merged if they need to interact
and to collaborate.
**Cooperative work of mobile robots**
In a future smart factory, otherwise independent mobile robots may gather in
order to do a certain task together in a cooperative way, such as carrying a
large or heavy work piece. In order to do such demanding cyber-physical
control task, the mobile robots require synchronized clocks (time
synchronization) between each other. They have to be in the same working clock
domain. Each of the mobile robots has its own internal TSN network with its
own working clock domain (restricted to the mobile robot) when it is on its
own (i.e. not collaborating with any other mobile robot or machine). After the
mobile robots have come together to do the cooperative task, the different
interacting working clock domains of the mobile robots have to be synchronized
with each other. Otherwise interaction and collaboration will not be possible.
However, it is not always desired that working clock domains are merged if the
meet or get into range of each other. For instance, the working clock domains
of an AGV and a production line have to stay separate if the AGV just pases
the production line. Therefore, the interaction between different working
clock domains requires a concept for controlling the merging and non-merging
of different working clock domains.
{width="6.745833333333334in" height="2.7736111111111112in"}
Figure 5.4.1-1: Working clock domain interactions \"Merge\" and \"Separate\"
When members of different working clock domains interact, there are two
possible options (Figure 5.4.1-1). Which option is used depends on the
manufacturing process, the cyber-physical control application and its
requirements.
\- Merge: The working clock domains merge into one. This option can be used in
applications where synchronization is critical, e.g. high precision robots
interacting with each other.
\- Separate: The members of the different working clock domains interact while
keeping their own separate time synchronizations. This option can be used in
applications where synchronization is non-critical, e.g. an AGV collecting
finished products from a production line.
### 5.4.2 Pre-conditions
The different entities of the production process (mobile robots, AGVs,
production line) have their own separate working clock domains.
### 5.4.3 Service Flows
The different entities of the production process come to together:
a) mobile robot and production line
b) mobile robots for cooperative task
c) AGV passing production line
In cases a) and b) collaboration and interaction is intended. The different
working clock domains merged in order to achieve a common clock
synchronization with the necessary precision.
In case c) collaboration and interaction are not intended. The different
working clock domains stay separate.
After finishing the cooperative task, the different entities part and go their
own way. The common working clock domain needs to be split into different
working clock domains at the different entities.
### 5.4.4 Post-conditions
Working clock domains are identified and distinguished by the time domain
indentifier, the domain number in IEEE 802.1AS [3]. If two working clock
domains have the same domain number and get connected (are in the same network
and can receive all gPTP messages from both working clock domains), gPTP
mechanisms will ensure that there is only one active sync master in this
combined working clock domain.
The different entities of the production process (mobile robots, AGVs,
production line) have their own separate working clock domains again. The
corresponding time domain identifiers / domain numbers are assigned in such a
way, that there is no accidential merging of different working clock domains
due to equal time domain identifiers / domain numbers.
### 5.4.5 Existing features partly or fully covering the use case
functionality
Clock synchronisation service level requirements from TS 22.104 [2] Clause
5.6.1:
The 5G system shall support a mechanism to process and transmit IEEE 1588v2 /
Precision Time Protocol messages to support 3^rd^-party applications which use
this protocol.
The 5G system shall support a mechanism to synchronize the user-specific time
clock of UEs with a working clock.
The 5G system shall support networks with up to 32 working clock domains.
The 5G system shall provide an interface at the UE to determine and to
configure the precision and time scale of the working clock domain.
### 5.4.6 Potential New Requirements needed to support the use case
[PR-5.4.6-001] The 5G system shall provide a suitable means to support the
management of the merging and separation of working clock domains.
NOTE: The management of the merging and separation of working clock domains
includes configuration, supporting management functions, and management of
synchronization domain identifiers.
[PR-5.4.6-002] The 5G system shall be able to support merging/separation of
working clock domains in integrated 5G networks / TSN networks that is
interoperable with the corresponding mechanisms of TSN and IEEE 802.1AS.
## 5.5 Communication monitoring for CAV applications
### 5.5.1 Description
The communication behaviour of the devices hosting Cyber-physical control
applications normally can be predefined or predicted by OT control system,
i.e. one device communicates with the specified applications or specified
devices. The 3GPP network is able to monitor the communication of the devices
according to the predicted behaviour information provided by OT control
system, so it can detect the abnormal communication behaviour of the devices
and the potential attack on the devices and perform the necessary actions to
ensure the security of the devices and control applications.
### 5.5.2 Pre-conditions
The applications that are utilized by devices such as AGV and Sensor devices
in smart factory, UAV for logistics service are controlled by OT control
system.
Based on the agreement between factory owner and factory OT network operator,
the authorized OT control system is allowed to provide the preferred
communication behavior information to 3GPP network.
### 5.5.3 Service Flows
1) The OT server provides the preferred behavior information per device or a
group of devices to 3GPP network, including the allowed application
information, the expected action when detecting the abnormal communication
behavior i.e. blocking the data communication between the device and the un-
allowed application.
2) According to the information from OT control system, 3GPP network monitors
UE behavior. The scenarios include:
\- The UE sends the data to the application server which is not the allowed
application for this UE, and the 3GPP network will reject to send the data or
access to this application server.
\- One application which is not the allowed application for this UE i.e. one
malicious application sends the data to the device, and the 3GPP network will
reject to send the data to the device.
\- The UE frequently sends/receives data during the period that it is expected
to be in sleep status, and the 3GPP network is able to restrict the data
communication for the UE.
\- For the device such as AGV which works in the specified area or follow
specific routes, the 3GPP network monitors the device's real-time location and
detects whether the device is in the permitted geographic area or trajectory.
3) 3GPP network also sends the notification to the OT server to report this
abnormal event.
### 5.5.4 Post-conditions
The communication between the UE and the un-allowed applications is blocked by
3GPP network, and the potential attach on the device is avoided.
### 5.5.5 Existing features partly or fully covering the use case
functionality
### 5.5.6 Potential New Requirements needed to support the use case
[PR-5.5.6-001] 3GPP network shall be able to provide suitable and secured
means to allow the authorized 3^rd^ party application to provide the 3GPP
network with the expected communication behaviour of UE(s) via encrypted
connection (e.g. the allowed application(s) to communicate with, the time the
UE is allowed to communicate, the allowed geographic area), as well as the
expected network's actions when detecting the unexpected communication
behavior(s) (e.g. terminate the UE's communication, block the transferred data
between UE and the un-allowed application, notify the 3^rd^ party
application).
NOTE: E.g. when detecting the unexpected communication behaviour from UE to
avoid malicious attack on devices and applications.
## 5.6 Network energy efficiency and resource optimization with application
assistance
### 5.6.1 Description
Normally network energy consumption and cost occupied significant portion of
the network Operation cost, so improve network energy efficiency will be
beneficial to not only OT network operator but also the factory or processing
plant owner.When many of the devices in certain area of the factory or
processing plant are switched off or not needed network connection for a
period time, the corresponding network resource can be released and the
network energy can be saved. For the devices serving for Cyber-physical
control applications in factory NPN, not only the number of devices in the
certain area, but also their behaviours such as entering sleep model during
off work period and waking-up before working are normally controlled by OT
control application with relative fixed routine or can be predicted ahead of
time. Therefore, the 3GPP network will be able to perform the network energy
actions according to the device communication behaviour information to reduce
the network energy consuming. Those device communication behaviour information
can be predefined static information, which network can used by network
operation and management system for the network planning, or can be dynamic
but predictable information, so network can act dynamically for network energy
saving and resource optimization.
### 5.6.2 Pre-conditions
A working zone in a factory which composes several machines with 5G devices.
This work zone only produces products during certain period time of the day,
and those 5G devices with the machine will enter sleep model or release the
connection during off work period and enter active model when the machine
start working.
The OT control system provides the device behavior information to 3GPP NPN
network which serves this smart factory.
### 5.6.3 Service Flows
1) At 6:00 PM, the devices deployed in product line enters sleep model
according to the instruction from OT control system, and the scheduled wakeup
time is 8:00 AM next day. The OT control application provides the scheduled
sleep and wakeup time of each device or device group to 3GPP network.
2) 3GPP network enters more power-reduced mode to save network energy
consumption as well as conduct other resource optimization operations during
the UE sleep period, i.e. adjusting network coverage in the geographic area,
the network sleep operation. 3GPP network still provides network service for
the alive devices such as sensor devices and video supervision devices.
3) Earlier than the device wakeup time in next work round e.g. 15 minutes,
3GPP network wakes up in advance and perform the required restore operation
before the device wake up.
4) The devices wake up, and the network provides network services for these
devices.
### 5.6.4 Post-conditions
During device sleep period, the energy consumed by 3GPP network is reduced,
and the 3GPP network still provides the required network service for the
devices which are still working.
### 5.6.5 Existing features partly or fully covering the use case
functionality
The current 3GPP specifications provide a feature for network receiving some
predicative behaviour information of a UE or a group of UEs, i.e. UE's the
scheduled communication time. This type of parameters is utilized by network
to provide better service to the individual UE basing on the predictive
behaviour information, e.g. optimizing the paging operation for the UE. Those
information is not sufficient enough for network energy saving and resource
optimization for a certain geographic area.
### 5.6.6 Potential New Requirements needed to support the use case
[PR-5.6.6-001] 5G network shall be able to provide secure means to provide
communication scheduling information (e.g., time period UE(s) will use
communication service) to an NPN via encrypted connection in order, e.g., for
5G network to perform network energy saving and network resource optimization.
## 5.7 Consideration on Communication Service interface
### 5.7.1 Description
In enabling industrial application to use 5G services, it is necessary that
well-specified interfaces are defined for the exchange of service initiation
messages. Generally, the kind of service initiation information exchanged
between the 5G network and industrial application depends on the kind of
service being requested. It is the goal of this contribution to illustrate the
building blocks for enabling such means for setting up communication services
provisioned over a 5G network.
The requirements of industrial applications on communication services in
communication networks can be classified under real-time, non-real-time,
safety requirements, and integrity requirements. Real-time and non-real time
requirements may be deterministic or non-deterministic.
Descriptive parameters (Dsp) describe the inherent attributes of the
communication service required by the application. Examples are communication
relation (CR), transfer interval, message size, and send time.
Quality of Service parameters (Qosp) describe the requirements of the
communication service relative to measurable parameters. Examples are end-to-
end latency, communication service availability, communication service
reliability, update time, and survival time.
Security parameters (Scp) describe the security requirements such as
validation, authentication, and authorization.
Safety parameters (Sfp) describe parameters of the application that are
required to meet safety concerns.
These requirements are classified in accordance with 3GPP TS 22.104.
### 5.7.2 Pre-conditions
For general information in using the communication service interface, see
clause A.4.
### 5.7.3 Service Flows
For general information in using the communication service interface, see
clause A.4.
### 5.7.4 Post-conditions
For general information in using the communication service interface, see
clause A.4.
### 5.7.5 Existing features partly or fully covering the use case
functionality
### 5.7.6 Potential New Requirements needed to support the use case
[PR-5.7.6-001] The 5G system shall support the means for setup, monitoring,
modification, and disengagement of communication services in the 5G network
that support communication for cyber-physical control applications as
described in TS 22.104.
## 5.8 Mobile operation panel for production lines
### 5.8.1 Description
The use case describes a mobile operation panel as opposed to wired operation
panels currently used in an industrial setting. Operation of machines or
production units via a mobile operation panel provides higher flexibility and
comfort for human operators and can lead to increased productivity and lower
cost compared to existing wired solutions. This is because a single mobile
operation panel can be used to manage more than one production system at a
time due to its mobility in the factory. The operation panel provides relevant
information for configuration, control of industrial machines, as well as
monitoring of relevant data generated during the construction of a product.
The monitoring data is generally considered to be less time-critical
subsequently requiring non-real-time communication. On the other hand, the
operation panel supports safety-critical functions such as emergency stops or
enabling or changing the position of robots and other machines. These
functions are generally considered to have strict ultra-low latencies and
reliable transmission requirements that must follow strict safety standards
making them time-critical (real-time communication).
Several safety protocols are designed to be independent of characteristics of
the underlying transmission channel. The transmission rate, the physical
characteristics of the transmission media (wired/wireless) and any mechanisms
for error mitigation and error detection in the transmission protocol are
considered a black channel. Safety considerations do not take these into
account. This approach frees users of such safety protocols from requiring a
safety assessment of the individual communication paths of the system.
Nevertheless, reliable wireless transmission is necessary. Functional safety
protocols specify the necessary requirements on the wireless communication
such as latency and transfer interval (see Table 5.8.6-1, use case scenario on
emergency stop). Furthermore, functional safety protocols may specify further
requirements, e.g. that the communication path is without a single point of
failure. A prominent example of a functional safety application is a wireless
emergency stop.
{width="4.436805555555556in" height="3.4444444444444446in"}
Figure 5.8.1-1 Mobile Operation Panel
One mobile operation panel (Mobile Control Panel) is moving from one cell
coverage to another cell coverage and continuously communicates with mobile
robots in different cell coverages.
One scenario is the use of a mobile operation panel to monitor and to control
mobile robots/production lines (personal mobile operation panel). The mobile
operation panel is connected to the mobile robot/production line. If the
monitoring and control tasks are finished, the mobile operation panel is
disconnected and taken to another mobile robot for monitoring and control
(potentially in a different 5G cell).
Another scenario is the use of a mobile operation panel to control mobile
robots in the production process. The robot (and the mobile operation panel)
moves across several production lines under different cell coverages.
Consideration for the use case in the 3GPP 5G network or system provides the
following benefits:
\- Management of multiple production lines or traffic flows with different
end-to-end latency and other QoS requirements while utilizing a common
infrastructure.
\- Dynamic reconfiguration of a running industrial system.
**\- Enabling wireless connectivity with safety-critical features in
industrial application.**
Consideration for the use case in the 3GPP 5G network or system provides the
following demands and challenges:
**Security:** Connectivity over wireless transmission technology such as 3GPP
5G network may introduce a scenario where information transmitted over the
wireless medium can be prone to potential attacks on the production line as
unauthorized parties may get access to the control and production data. For
example, the injection of malicious messages such as false emergency-stop
commands can be very detrimental to the production system. This is a general
concern for the overall acceptance of wireless technology in the industrial
domain albeit performance degradation issues.
**Dynamic flow control and seamless handover:** high Signal-to-Noise-Ratio
(SNR) and fading radio channels may result in fluctuations in a dynamic
factory due to mobility support. This therefore requires well specified worst-
case scenarios for re-configuration of communication services over the network
in order to guarantee QoS. Furthermore, potential handovers from one access
point to another can cause additional delays or packet losses.
**Interference and co-existence of communication services:** The panel
supports different services such as monitoring and control. Each of these
services require different communication services with varied QoS guarantee.
It is therefore important that the co-existence of these services on the
network can be clearly supported in terms of identification and QoS
guarantees. Also, interference from other panels may lead to performance
degradation in a wireless network.
**Robustness, availability, and latency:** These are key communication service
performance indicators for the use case which has very deterministic bounds
and as such is very difficult to guarantee on wireless and mostly non-
industrial networks.
**Safety** : The mobile operation panel is used to perform safety-critical
control services, including the control of mobile robots and emergency stop
functionality.
### 5.8.2 Pre-conditions
\- The mobile operation panel, mobile robot, and the production terminal have
been registered as UEs on the 5G network.
\- The UE / mobile operation panel is in range of the 5G network and close to
the mobile robot/product line it wants to connect.
\- The mobile operation panel contains several applications. Each application
has an identification that distinguishes it from another application on the
same device. A mobile operation panel can be distinguished from another
device.
### 5.8.3 Service Flows
#### 5.8.3.1 Overview
The mobile operation panel contains several applications that can be triggered
by pressing a button. Each application has an identification that
distinguishes it from another application on the same device. The different
applications on the mobile operation panel require communication services with
varied Quality of Service (QoS) guarantees. The communication service
requirements are organised as profiles which can be submitted as network
requirements to a 3GPP system based on the requested service as part of a
session initiation/session management. The information for the service
provisioning is communicated over a network service interface which is exposed
to the applications.
The services that can be requested by a mobile operation panel are defined as
follows:
\- communication service between a mobile operation panel to a mobile robot(s)
or production line(s),
\- monitoring information or update regarding an existing communication
service,
\- modification of an existing communication service due to changing QoS
indicators,
\- disengagement of a communication service.
The mobile operation panel communicates via a wireless gNodeB with the mobile
robots/production lines. The traffic includes sporadic data, e.g. arbitrary
sensor data, as well as deterministic real-time data for safety purposes.
A monitoring tool continuously logs major performance parameters of the
connectivity. While the mobile panel is initially associated to a first
gNodeB, the user may carry the panel into the direction of a second gNodeB.
The monitoring tool should be able to capture how the increasing distance
between the panel and the first access point affects major performance metrics
(e.g. packet loss, latency). Once communication is established over the 5G
network, the connection shall be maintained till a disengagement of the
session is initiated regardless of location changes.
As the user approaches a second gNodeB, the 5G network should detect the need
for handover and re-routing and should seamlessly re-configure the network
path to maintain QoS indicators.
#### 5.8.3.2 Establishing connectivity for emergency stop
Establishing connectivity between mobile operation panel and production
line/mobile robot for emergency stop requires the following steps:
> 1) The mobile operation panel establishes connectivity to the 5G network and
> the mobile robot/production line for the emergency stop application. The
> communication service requirements for the emergency stop service are in
> Table 5.8.6-1.
2) The mobile operation panel then begins to exchange encrypted data for the
emergency stop application (periodic deterministic traffic for connectivity
availability / aperiodic deterministic traffic for emergency stop events) with
the production line/mobile robot.
3) The 5G network terminates the session when requested.
The emergency stop service is a safety-critical application. It utilises
functional safety protocols and requires certification.
### 5.8.4 Post-conditions for establishing connectivity for emergency stop
Connectivity between mobile operation panel and production line/mobile robot
has been established:
\- The communication service between UEs has been maintained on the 5G network
for the entire duration without drops so far as UEs stayed within the 5G
network coverage or until an explicit tear-down had been initiated.
\- Data transfer between UEs has been encrypted and secured through the 5G
network.
\- The 5G network maintains service guarantees within negotiated bounds for
the entire duration of the connectivity.
\- Initiation of a new communication service from the mobile operation panel
does not cause any service degradation effect on existing communication
services.
### 5.8.5 Existing features partly or fully covering the use case
functionality
The following requirements for the support of the mobile operation panel are
party or fully covered by 3GPP TS 22.104 clauses 4 to 5:
\- The 5G system shall be able to support safety-relevant real-time traffic
with fixed transfer intervals less than or equal to 10 ms. Table 5.2-1 of TS
22.104 contains two KPI sets for mobile control panels with transfer intervals
of ≤10 ms and ≤15 ms respectively for periodic deterministic communication and
communication service availability of up to 99.999 999 %.
\- The 5G system shall be able to support safety-relevant real-time traffic
with fixed, short packet sizes (e.g., 64 Byte) as well as support sporadic TCP
traffic with moderate data rates (kbit/s -- Mbit/s).
\- The 5G system shall be able to support sporadic TCP traffic with reasonable
latency for human-in-the-loop (e.g., 1 s).
\- The 5G system shall be able to support high performance enhancements for
time-sensitive networking as defined by IEEE 802.1Q.
\- The 5G system shall support cryptographic security to safe-guard or protect
data transmitted over the network.
### 5.8.6 Potential New Requirements needed to support the use case
[PR-5.8.6-001] The 5G system shall be able to support the functionality to
enable functional safety protocols and safety communication by supporting the
performance KPIs in Table 5.8.6-1.
[PR-5.8.6-004] The 5G system shall be able to support seamless mobility with
handovers between different gNodeBs in the same 5G network without any impact
on the safety-critical functions (handover latency ≤ 30 ms).
Table 5.8.6-1: Potential new requirements for mobile operation panel use cases
Use case | Characteristic parameter |  | Influence quantity |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
5.8 – Mobile Operation Panel | Communication service availability: target value [%] | Communication service reliability: mean time between failure | End-to-end latency, transfer interval [ms] | Bit rate [bit/s] | Direction | Message size [byte] | Survival time [ms] | UE speed | # of UEs connection | Service area [m²]  
Manufacturing data stream | 99.999 9 to 99.999 99 | 1 day | up to [x] | 12 M | Uplink  
Downlink | 250 to 1,500 | N/A | quasi-static; up to 10 km/h | 2 or more | 30 x 30  
Emergency stop | 99.999 999 | 1 day |  5** **> 2.5** **> 1.7** | **0** **Transfer interval** **2 x Transfer interval** | **≤6** | **2-8** | 10 x 10 x 5; 50 x 5 x 5  
**Cooperative carrying – elastic work pieces** | 99.999 9 % to 99.999 999 % | ~ 10 years | ** 5** **> 2.5** **> 1.7** | **0** **Transfer interval** **2 x Transfer interval** | **≤12** | **2-8** | 10 x 10 x 5; 50 x 5 x 5  
NOTE 1: Service Area for direct communication. The group of UEs with direct communication might move throughout the whole factory site (up to several km²) NOTE 2: The first value is the application requirement, the other values are the requirement with multiple transmission of the same information (two or tree times respectively). |  |  |  |  |  |  |  |  |  |  |   
The use case scenario \"cooperative carrying -- elastic work pieces\" allows a
larger tolerance in the precision of the movements of the collaborating mobile
robots /AGV compared to the use case scenario \"cooperative carrying --
fragile work pieces\". The larger tolerance in the coordinated movements
allows for either faster movement of the work piece or longer transfer
intervals (tradeoff between UE speed and transfer interval). A longer transfer
interval relaxes the requirement on the maximum end-to-end latency.
The values given in Table 5.11.6-1 are the upper boundary of the required
KPIs. There is a broad variety in the actual use cases of cooperative carrying
and several parameters and deployment options have some flexibility in their
value range or implementation. Relaxed KPI requirements can already satisfy a
substantial set of cooperative carrying use cases depending on the actual
physical characteristics (e.g. carrying speed, type of carried work piece).
The actual physical use case setting, such as the kind of workpiece to be
carried, determines the necessary requirements on the communication service
and the possible tradeoffs. Also the employed control algorithms and recovery
mechanisms may further relax the necessary requirements and KPIs. Furthermore,
the careful design of the mobile robots / AGVs (e.g. placement of UEs) can
further improve the reliability of the wireless communication. Tradeoffs are
especially possible between the carrying speed and the transfer interval /
end-to-end latency as well as the communication service reliability. A
reduction of the carrying speed reduces the requirements on the transfer
interval / end-to-end latency or on the packet error ratio. The latter is
possible, for instance, if the increased time budget is used for more
transmissions.
## 5.12 Providing relative positioning information of the device with no or
bad network coverage
### 5.12.1 Description
The factory is more like metal forest with a complicated environment for 5G
radio (such as frequent and unpredictable crane movements, the installation of
new metal equipment, etc). This make the 5G radio planning very challenge to
achieve full coverage of the factory floor. There will be some areas which
have bad or no 5G coverage. When the factory devices with 5G connection, such
as asset tracking devices, machine tool, AGVs, go into those shallow area,
factory's owner still need to find ways to local those devices with relative
position or absolute position information.
### 5.12.2 Pre-condition
As defined in TS 22.104, relative positioning requirement for the tracking of
tools at the work place location is \ 99 % | N/A | 1 s | \5 >2.5 >1.7  
(note 2) | 0 transfer interval 2 x transfer interval (note 2) | ≤6 | 2-8 | 10 x 10 x 5;  
50 x 5 x 5  
(note 3)  
Cooperative carrying – elastic work pieces | 99.999 9 to 99.999 999 | ~ 10 years | ** 5** **> 2.5** **> 1.7** **(note 2)** | **0** **transfer interval** **2 x transfer interval** **(note 2)** | **≤12** | **2-8** | 10 x 10 x 5;  
50 x 5 x 5  
(note 3)  
NOTE 1: The mobile operation panel is connected wirelessly to the 5G system. If the mobile robot/production line is also connected wirelessly to the 5G system, the communication includes two wireless links. NOTE 2: The first value is the application requirement, the other values are the requirement with multiple transmission of the same information (two or tree times respectively). NOTE 3: Service Area for direct communication between UEs. The group of UEs with direct communication might move throughout the whole factory site (up to several km²) |  |  |  |  |  |  |  |  |  |  |   
The use case scenario \"cooperative carrying -- elastic work pieces\" allows a
larger tolerance in the precision of the movements of the collaborating mobile
robots /AGV compared to the use case scenario \"cooperative carrying --
fragile work pieces\". The larger tolerance in the coordinated movements
allows for either faster movement of the work piece or longer transfer
intervals (tradeoff between UE speed and transfer interval). A longer transfer
interval relaxes the requirement on the maximum end-to-end latency.
The values given in Table 6.4-1 for use case \"cooperative carrying\" are the
upper boundary of the required KPIs. There is a broad variety in the actual
use cases of cooperative carrying and several parameters and deployment
options have some flexibility in their value range or implementation. Relaxed
KPI requirements can already satisfy a substantial set of cooperative carrying
use cases depending on the actual physical characteristics (e.g. carrying
speed, type of carried work piece).
The actual physical use case setting, such as the kind of workpiece to be
carried, determines the necessary requirements on the communication service
and the possible tradeoffs. Also the employed control algorithms and recovery
mechanisms may further relax the necessary requirements and KPIs. Furthermore,
the careful design of the mobile robots / AGVs (e.g. placement of UEs) can
further improve the reliability of the wireless communication. Tradeoffs are
especially possible between the carrying speed and the transfer interval /
end-to-end latency as well as the communication service reliability. A
reduction of the carrying speed reduces the requirements on the transfer
interval / end-to-end latency or on the packet error ratio. The latter is
possible, for instance, if the increased time budget is used for more
transmissions.
Table 6.4-2: Periodic deterministic communication
Use case # | Characteristic parameter | Influence quantity |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
| Communication service availability: target value [%] | Communication service reliability: mean time between failure | End-to-end latency: maximum | Data rate [Mbit/s] | Transfer interval | Survival time | UE speed | # of UEs | Service area (note 1)  
Control-to-Control: 100 Mbit/s link replacement | 99.999 9 to 99.999 999 | ~ 10 years |  \ | N/A | \ 3 m | 90 % | | s | | rvice | | co | | | | | | | Level | | ntrol | | | | | | | 2 | | p | | | | | | | | | anels | | | | | | | | | with | | | | | | | | | s | | | | | | | | | afety | | | | | | | | | func | | | | | | | | | tions | | | | | | | | | ( | | | | | | | | | non-d | | | | | | | | | anger | | | | | | | | | z | | | | | | | | | ones) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Pr | \ \ | N/A | \ 3 m | 90 % | | s | km/h | rvice | | autom | | | | | | | Level | | ation | | | | | | | 3 | | -- | | | | | | | | | plant | | | | | | | | | asset | | | | | | | | | manag | | | | | | | | | ement | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Augm | \ \ | \ | \ 3 m | 99 % |  \ 9 | \ | \ 3 m | 9.9 % |  \ | N/A | 1 s | \ 3 m | 99 % | | | km/h | rvice | | mo | | | | | | | Level | | dular | | | | | | | 5 | | ass | | | | | | | | | embly | | | | | | | | | area | | | | | | | | | in | | | | | | | | | smart | | | | | | | | | fact | | | | | | | | | ories | | | | | | | | | (for | | | | | | | | | auton | | | | | | | | | omous | | | | | | | | | vehi | | | | | | | | | cles, | | | | | | | | | only | | | | | | | | | for | | | | | | | | | monit | | | | | | | | | oring | | | | | | | | | purp | | | | | | | | | oses) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | In | \ \ 9 | N/A | 10 ms | \ 3 m | 9.9 % | | | km/h | rvice | | logi | (if | | | | | | Level | | stics | supp | | | | | | 6 | | for | orted | | | | | | | | man | by | | | | | | | | ufact | fu | | | | | | | | uring | rther | | | | | | | | (for | se | | | | | | | | dr | nsors | | | | | | | | iving | like | | | | | | | | tr | ca | | | | | | | | aject | mera, | | | | | | | | ories | GNSS, | | | | | | | | (if | IMU) | | | | | | | | supp | | | | | | | | | orted | | | | | | | | | by | | | | | | | | | fu | | | | | | | | | rther | | | | | | | | | se | | | | | | | | | nsors | | | | | | | | | like | | | | | | | | | ca | | | | | | | | | mera, | | | | | | | | | GNSS, | | | | | | | | | IMU) | | | | | | | | | of | | | | | | | | | i | | | | | | | | | ndoor | | | | | | | | | auton | | | | | | | | | omous | | | | | | | | | dr | | | | | | | | | iving | | | | | | | | | syst | | | | | | | | | ems)) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | In | \ \ | N/A | \ 20 | 99 % | | s | km/h | rvice | | logi | | > cm | | | | | Level | | stics | | | | | | | 7 | | for | | | | | | | | | man | | | | | | | | | ufact | | | | | | | | | uring | | | | | | | | | (for | | | | | | | | | st | | | | | | | | | orage | | | | | | | | | of | | | | | | | | | g | | | | | | | | | oods) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE: | | | | | | | | | This | | | | | | | | | table | | | | | | | | | is | | | | | | | | | from | | | | | | | | | TS 2 | | | | | | | | | 2.104 | | | | | | | | | R | | | | | | | | | el.16 | | | | | | | | | Table | | | | | | | | | 5 | | | | | | | | | .7-1, | | | | | | | | | only | | | | | | | | | the | | | | | | | | | c | | | | | | | | | olumn | | | | | | | | | \"Ver | | | | | | | | | tical | | | | | | | | | accur | | | | | | | | | acy\" | | | | | | | | | is a | | | | | | | | | new | | | | | | | | | m | | | | | | | | | erged | | | | | | | | | pote | | | | | | | | | ntial | | | | | | | | | se | | | | | | | | | rvice | | | | | | | | | re | | | | | | | | | quire | | | | | | | | | ment. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 6.5-2: Relation between merged and new potential service requirements
from use cases
+----------------+----------------+----------------+----------------+ | Merged | Based on New | Merged | Based on New | | Potential | Potential | Potential | Potential | | Service | Service | Service | Service | | Requirement | Requirements | Requirement | Requirements | | (clause 6) | (clause 5) | (clause 6) | (clause 5) | +----------------+----------------+----------------+----------------+ | [MPR-2 | [P | Table 6.5-1 | [ | | 2832-6.5-00a] | R-5.12.6-001] | | PR-5.9.6-001] | | | | | | | | | | [ | | | | | PR-5.9.6-002] | | | | | | | | | | [ | | | | | PR-5.9.6-003] | | | | | | | | | | [ | | | | | PR-5.9.6-004] | | | | | | | | | | [ | | | | | PR-5.9.6-005] | +----------------+----------------+----------------+----------------+
## 6.6 Device-to-device/ProSe communication
This clause contains merged and consolidated potential service requirements
related to device-to-device/ProSe communication for cyber-physical
applications in vertical domains.
### 6.6.1 General requirements
[MPR-22832-6.6-00a] The 5G system shall allow UEs to use ProSe communication
when the UEs are not served by a RAN.
[MPR-22832-6.6-00b] The 5G system shall be able to support ProSe communication
between UEs in close proximity using spectrum different than the spectrum
being used for the 5GC-based communication.
[MPR-22832-6.6-00c] The 5G system shall be able to support 5G LAN-type service
to UEs using ProSe communication.
[MPR-22832-6.6-00d] The 5G system shall be able to support multicast
communication between the UEs within the group of UEs connected by ProSe
communication.
### 6.6.2 Related to network performance
[MPR-22832-6.6-00e] The 5G system shall be able to support direct wireless
communication (ProSe) between a group of UEs for periodic deterministic
communication (both unicast and multicast) with respective service performance
requirements in Table 6.4-1.
[MPR-22832-6.6-00f] The 5G system shall be able to support mobility of the
group of UEs connected by ProSe communication with respective service
performance requirements in Table 6.4-1.
[MPR-22832-6.6-00g] The 5G system shall be able to support ProSe communication
with respective service performance requirements in Table 6.4-1 between UEs up
to 50 m distance.
### 6.6.3 Related to clock synchronization
[MPR-22832-6.6-00h] The 5G system shall be able to support time
synchronization (working clock domain) between the UEs within the group of UEs
connected by ProSe communication.
### 6.6.4 Related to service continuity
[MPR-22832-6.6-00i] The 5G system shall be able to support service continuity
of a group of UEs using ProSe communication with respective service
performance requirements in Table 6.4-1 when the group moves between a non-
public network and a PLMN (subject to operator policies and agreement between
the operators and service providers).
### 6.6.5 Related to indirect communication
[MPR-22832-6.6-00j] The 5G system shall be able to support indirect 3GPP
communication with respective service performance requirements in Table 6.4-1
between UEs out of transmission range by one intermediate UE.
[MPR-22832-6.6-00k] The 5G system shall be able to provide service to an out-
of-coverage UE via indirect communication while meeting the performance
requirements specified for the process automation use cases in TS 22.104,
Table 5.2-1 Annex A.2.3.2 and A.2.3.3.
### 6.6.6 Relation between merged and use case new potential service
requirements
Table 6.6.6-1: Relation between merged and new potential service requirements
from use cases
* * *
Merged Potential Service Requirement (clause 6) Based on New Potential Service
Requirements (clause 5) Merged Potential Service Requirement (clause 6) Based
on New Potential Service Requirements (clause 5)
[MPR-22832-6.6-00a] [PR-5.10.6-001] [MPR-22832-6.6-00e] [PR-5.11.6-001]\
[PR-5.11.6-004]
[MPR-22832-6.6-00b] [PR-5.10.6-003] [MPR-22832-6.6-00f] [PR-5.11.6-006]
[MPR-22832-6.6-00c] [PR-5.11.6-002] [MPR-22832-6.6-00g] [PR-5.11.6-010]
[MPR-22832-6.6-00d] [PR-5.11.6-005]
[MPR-22832-6.6-00h] [PR-5.11.6-003] [MPR-22832-6.6-00i] [PR-5.11.6-007]
[MPR-22832-6.6-00j] [PR-5.11.6-008]
[MPR-22832-6.6-00k] [PR-5.13.6-001]
* * *
# 7 Conclusions
This document has studied enhancements for cyber-physical control applications
in vertical domains. Many use case have been provided in clause 5. Several new
potential service requirements have been derived.
The merged and consolidated potential 5G service requirements in clause 6 are
proposed for normative 5G service requirements in TS 22.104 and TS 22.261.
###### ### Annex A: Considerations on communication service interface
## A.1 Overview
This section classifies requirements of industrial applications necessary for
5G communication service and provides further classification of the
requirements for different types of communications services.
It also provides consideration for definition of communication service
interface.
## A.2 Classification of Application Requirements
Industrial networks support a wide range of automation functions
(Applications) with varied requirements on communication. These requirements
are mostly use-case centric. Regardless, there exist general requirements on
communication which may differ in absolute threshold values of measuring
parameters but not necessarily the parameters themselves.
The requirements on communication can be classified under four themes:
Real-time Requirements
Non-Real-time Requirements
Safety Requirements
Integrity Requirement
Real-time and Non-real-time requirements are communication requirements based
on timeliness of delivery of messages or data between interacting
applications.
Safety requirements are centred on normal operation of the industrial
application such that failure in communication does not results in
endangerment of neither the user nor result in financial loss (catastrophic
situations). These requirements are mostly focused around communication
service network dependability requirements. This requirement defines the
ability of the communication service to perform as and when required. The
dependability requirements subsume communication service availability,
reliability and maintainability requirements described in [7].
Integrity Requirements focuses on the ability of the communication service or
network to ensure that information sent via the network stay uncorrupted. This
also falls partly under network security and dependability requirements.
Under the theme Real-time and Non-Real Time, the communication is classified
into deterministic and non-deterministic communication class.
Deterministic class represents requirements on traffics with strict measure on
predictable service outcomes on transmission of messages whether periodic or
aperiodic. If a requirement is deterministic and at the same time periodic,
the requirement are be termed deterministic periodic requirement. Likewise,
aperiodic requirements are termed deterministic aperiodic requirement. A real-
time deterministic requirement therefore subsumes all requirements periodic
and non-periodic that specifies stringent and predictable bounds QoS measure
on timeliness of transmission.
On the other hand, Non-Real-time requirements subsume all other types of
requirements that do not specify predictable bounds on QoS measure on
timeliness. In this classification, timeliness is not a parameter under
consideration. As well, the periodicity of is irrelevant since requirements on
QoS measure are not stringent. Therefore, classification of requirements'
membership to this class is based on the absence of one or more communication
service QoS performance measure.
The timeliness parameter should consider end-to-end latency (lateness or
earliness).
### A.2.1 Characteristic parameters for identification of requirement classes
Deterministic requirement class maintains a constant bound on descriptive
parameters and QoS measures throughout its operation. Non-deterministic
requirement class imposes no bounds pertaining to any descriptive
characteristic and QoS parameter throughout the service operation.
### A.2.2 Descriptive parameters (Dsp)
Application Relation (AR) and Communication Relation (CR): Most industrial
communications happen between two or more applications [6]. AR parameter
identifies the expected communication or traffic pattern between interacting
applications. CR parameter describes the different type of communication
occurring in an AR instance. CR specifies the unique QoS requirements of
between a pair of interacting applications and can be interpreted during
service provisioning for optimized resource allocations (configuration). The
AR/CR is described by three main labels: 1. Unicast 2. Multicast_One-2-M 3.
Multicast_M-2-1. Where unicast models one-to-one relation, Multicast_one-2-M
models a one-to-many relation and Multicast_M-2-one models a many to one
relation. In a nontrivial, an application may specify additional identifiers
for other application it may wish to send messages to. This can as well add an
extra layer of security for authorization and authentication.
Transfer interval: measures the time duration for which an application can
repeat a routine task.
Message size: measure the amount of data (in bits/bytes) that can be
transmitted at an instance of time by an application. The message size for
periodic applications shall constitute the sum of all messages that are sent
within a cycle.
Send time: Measures the time instance for which an application can begin
transmission of its data. This is required for only scheduled applications.
### A.2.3 Quality of Service Parameters (QoSp)
These are parameters that measure the requirement of the application relative
to communication service performance measurements.
Latency: measure the time required for a message to be transferred from the
ingress to the egress of a network (referenced endpoints). This is measured
relative to the application send-time in the context of deterministic periodic
and aperiodic.
Availability: measures the ability of a service to be in a state to perform as
and when required given that all necessary conditions (internal or external)
are provided. This forms part of the dependability requirements [7].
Reliability: Ability of the service a service to perform as required without
failures for a given time interval. This falls under dependability safety
requirement [7].
Jitter: measures the variation in latency (delay) over time. This is measured
in the context of a stream or flow.
Update-time: the time interval between a message and a follow-up message from
an application measured between two reference interfaces or point.
Survival Time: the absolute time interval between start of a communication
service run time and start of down time [7].
Grace-time: measures the number of repetitions for which data sent between
communicating applications (transmitting and receiving) can be lost without
affecting normal operation. Any value above this threshold, the message is
considered unusable thus resulting in failure.
## A.3 Requirement classification
### A.3.1 Deterministic Periodic
Deterministic periodic requirements are univocally described by pre-set
4-tuples \ where the presence of bounds descriptive parameter transfer-interval,
message per transfer-interval, QoS identifies this group.
### A.3.2 Deterministic Aperiodic
Deterministic aperiodic requirements are univocally identified by the absence
or presence of the 3-tuples \
where the absence of descriptive parameter transfer-interval and presence of
bounds on message-size and QoS identifies this group.
### A.3.3 Non-Deterministic
This requirement class specifies no bounds on QoS and descriptive parameters
within the duration of its operation. Once again it must be emphasized that,
transfer-interval is an irrelevant parameter within this class. It should be
identified by the absence of bounds on descriptive as well as QoS parameters.
### A.3.4 Real-time and Non-Real-time Classification
Application requirements are classified under the Real-time and Non-Real-time
themes only by the degree of measure QoS parameters on timeliness. Whilst the
descriptive parameters can unambiguously identify an application's
requirements to be deterministic or non-deterministic (periodic and/or
aperiodic), it is only the QoS measurement parameters on timeliness that can
identify a requirement to be real-time (critical) and non-real-time (non-
critical). The criticality of the requirements is not an objective fact but a
subjective one (use-case or domain centric). This is particularly the case
given that, QoS bounds that are considered critical in one network domain or
use-case may pass as non-critical in another. It is therefore advised that
Real-time and Non-real-time criteria should be defined in the context of a
domain or use-case. Where a network domain includes but not limited to:
industrial automation, data center, IoT, Telecommunication domains, etc. Each
domain may define a degree of membership for which QoS measure can be
classified as belonging to real-time (Critical) and non-real-time (Non-
critical).
### A.3.5 Other Classifications.
Other aspects worth consideration is safety and integrity (security)
requirements. Though these are currently out of scope of this work on the
communication service interface, their presence can give a complete picture of
requirements pertaining to accessibility, confidentiality and data integrity.
Safety aspects are worth consideration particularly in industry automation.
Safety classification should be based communication service availability,
reliability, maintainability requirement defined in [7].
Table A.3.5-1
* * *
Parameters Requirements Type  
RR NRR SR IR  
DPR DAR  
Message size   ±   num Transfer interval      num Send time     
time E2E Latency   ± ±  num Availability      num Reliability    
± Boolean/num Jitter  ± ± ±  num Update Time    ±  num Survival time  
  ± num Grace Time    ± ± num  - relevant;  - not relevant; ± - may be
relevant
* * *
## A.4 General Use Case for Communication Service Interface
### A.4.1 General Consideration
In order to achieve clear understanding and separation, the Application
Communication Interface shall consist of
**ACSI_{( input Block), (Output Block)}**
The interface shall describe an objective, service identification, service
reference points, and a description of service parameters.
The Input block shall define the service request from the application or user
perspective (UE). That is all requisite parameters a 5G network requires from
the application in order to provide the service. The Output block describes
the service request response and additional information pertaining to the
communication service from the provider perspective (3GPP network).
### A.4.2 Pre-conditions
\- An industrial UE on a 5G network shall be identifiable to the 5G network
and vice-versa.
\- Session communication session can be initiated by UEs.
\- UE shall be authenticated and authorised to initiate a communication
service.
\- UE shall be under the coverage of the 5G network
### A.4.3 Service Flows
a) Requesting a communication service for transfer of control data between a
control application on a Mobile operation panel and Mobile Robot.
1) A control function needs a connection to a mobile robot to provide it new
control information for the production line. It initiates a service session by
invoking a communication service interface by providing the following service
parameters _ACSI_Input {add, ApplicationId, authentication code,
Mobile_robotId, {2 ms, 120 byte per}}._
_2) The 5G network upon receiving the communication service request, firstly
validates the UE's authentication and authorization, checks the objective of
the request from the input block and run it internal routine to setup a
communication service. If setup is successful, see 3) otherwise see 5)._
3) 5G network provides a positive response with requisite information
specified in the output block. That is, the communication service Id, status.
4) The control application upon reception of the response message then begins
to send control data on reserved resources over the 5G network.
5) 5G network provides a negative response with requisite information
specified in the output block. That is, status and reason for unsuccessful
setup.
b) Requesting KPIs on a communication service between control application on a
Mobile operation panel and Mobile Robot.
1) Mobile Operation panel wants to monitor the performance of the
communication service in order to make modification to negotiated service
guarantee. It initiate a service session by invoking a communication service
interface by providing the following service parameters _ACSI_Input {monitor,
csId, authentication code, latency, packet loss rate } and requires of the 5G
network to provide information pertaining the request by specifying what the
information it requires w.r.t the specified communication service._
_2) A 5G network upon receiving the communication service request, firstly
validates the UE's authentication and authorization, checks the objective of
the request from the input block and run it internal routine to collate KPIs
pertaining to the specified communication service if it exists (see 3)
otherwise see 5._
3) The 5G networks returns a positive response by providing requested
information in as specified in an output block.
4) The 5G networks returns a negative response by providing status, which
includes reason for unsuccessful service.
### A.4.4 Post-conditions
a) Requesting a communication service for transfer of control data between a
control application on a Mobile operation panel and Mobile Robot
1) Control application on the Mobile operation panel should be able to
exchange control stream with the Mobile robot after a positive response from
the 5G network. Otherwise, data exchange between the control application and
the Mobile robot should not be possible.
b) Requesting KPIs on a communication service between control application on a
Mobile operation panel and Mobile Robot.
1) Mobile control panel shall receive KPIs on the communication service
interface.
2) The communication service shall continue in normal operation mode.
## A.5 Requirements on Communication Service Interface
The 5G system provide a communication service interface that contains two
functional blocks: 1. Input block 2. Output block.
### A.5.1 Output block
This functional block represents the service response status and additional
information pertaining to the communication service. The content of the output
block is to be determined by the operation or objective of the service request
defined in clause A.6.1. The contents of the output block are provided by the
communication service provider.
### A.5.2 Input block
This functional block represents the service request description which
includes descriptive parameters (clause A.2.2) and communication service QoS
requirements of the applications. {Input block contents}. The content of the
input block is specified by the communication service requestor.
The following are set of parameters that can be considered for input and
Output functional block:
COMMUNICATION SERVICE reference end points: This identifies univocally the end
(egress) and start (ingress) interfaces from which a communication service can
be provisioned. The endpoint identifies a single entity or a group of
entities. It can be a physical and/or logical endpoint. It should be known to
both the service provider and service requester(s) (Application).
Descriptive Parameter (Dsp): these are parameter that describes the inherent
attributes of the application. These may include as well QoS requirements.
QoS Parameter (QoSp): These are parameters that measure the quality of service
requirements of the applications pertaining to the communication service
provided.
Security Parameter (Scp): It should validate and authenticate the access
control, confidentiality and data integrity requirements of the application
pertaining to the communication service.
Safety parameter (Sfp): these are parameters pertaining to safety requirements
of the application.
It must also be emphasized that, Sfp and QoSp are also dependability
requirements needed by the application from the communication service.
### A.5.3 Communication Service Interface consideration for 5G Systems
The application-service interface definition is subject to 5G communication
services and capabilities. In scenarios where an application's requirement
does not have a direct mapping to a service parameter or capability as defined
by the 5G vertical requirements, the mapping can be made on the parameters
that subsumes a similar or analogous functionality to the definition and
purpose of the parameter as described by the 5G system.
The interface consists of mandatory and optional artefacts. The optional
artefacts only apply in the context of the application requirement relating to
Dsp and QoSp. The absence of one or more parameters in either of the two
artefact groups should not result in ambiguity of the classification thus the
communication service outcome. The mandatory artefacts on the other hand are
always required for service identification, mapping decisions and response.
The absence of these mandatory artefacts should result in immediate
cancellation of the any request made on the communication service. These
artefacts may therefore not at any time be null. The mandatory artefacts are
marked by \"m\" and optional artefacts by \"o\".
### A.5.4 General application & communication service interface format
> _ACSI_{{input Block}, {Output Block}}_
this presents a high-level format of a communication service interface.
> _ACSI_Input_Block { Objective\ ,Service Identification\, reference
> Endpoints\, Dsp\, Sfp\, QoSp\, Scp\, AR\,CS\}_
this represent the input block format.
> _ACSI_Output_Block { ServiceIdentification\ , status\,
> (Dsp,sfp,QoSp)\}_
The interface should describe an objective, service identification, service
reference points, descriptive parameters, and communication service
dependability requirements which include (Sfp, Qosp, Scp).
Service Identification: this represents any form of identification that can
uniquely identify a communication service request amongst several other
communication services. It should be univocally identified with a
communication service on the provider network.
Service Reference Endpoints: this is a unique id that identifies the endpoints
of a communication service. This can be any form of ID that uniquely
identifies the network ingress and egress interfaces or the user end station
equipment (UE).
## A.6 Communication Service objectives and candidate parameters
A service interface defines a set of mandatory and optional parameter required
to achieve the desired objective of the communication service requestor. The
service objective may consist of four operations: disengagement, setup,
modification and monitoring. Clauses A.6.1, A.6.2, A.6.3, and A.6.4 illustrate
these operations and parametric consideration under each operation.
### A.6.1 Communication Service Disengagement
This operation triggers a tire down of an existing communication service.
Additional parameters required for such tire down should be provided according
the communication service mandatory and/or optional parameters. Upon
successful processing of this operation, applications should not be able send
and receive message via the network thus, no communication of any sought
should occur between the application via the network. Blow is an example
format for communication service disengagement.
a) communication service disengagement:
> _ACSI_Input{del\ ,id\,Scp\ referenceEndpoints\},_
>
> _ACSI_Output{id\ , status\}_
b) ACSI_Input: should include the service identification (id) and the service
objective (del). Reference endpoints may be optional. The service id should
identify univocally the communication service that supports the applications
from all other communication services. It must map to a unique communication
service on the network. It should not be null. The Scp should not be null.
That is, a requester should provide valid authentication credential to carry
out the operation.
c) ACSI_Output: include the service (id) and the status of the service
operation. The status should provide information regarding positive (success)
and negative (failure) acknowledge of the operation.
### A.6.2 Communication Service Setup
This triggers the configuration or provisioning of a new communication
service. A successful setup operation should result in a communication service
via which the involved application can exchange messages. An unsuccessful
setup operation should result in a scenario where application cannot exchange
information via the network. Below is an example format for communication
setup:
a) communication service setup:
> _ACSI_Input {add\ , id\, Scp\, referenceEndpoint\, {one or more
> (Dsp, Qosp,sfp)\ } }_
>
> _ACSI_Output{id\ , status\, referenceEndpoints\, Dsp\}_
b) ACSI_Input: include the service identification (id) and the service
objective (add). Reference endpoints may be optional. The service id should
identify univocally the communication service that supports the applications
from all other communication services. It must map to a unique communication
service on the network and should not be null. Additionally, it may include
one or more parameters from 8.2.1.
c) ACSI_Output: includes the service (id) and the status of the service
operation. The status should provide information regarding positive (success)
and negative (failure) acknowledge of the operation. In addition, the output
may include one or more parameters from the Dsp. Especially in the case of
scheduled communication, the network may be required to provide information of
the send-time or the time an application can commence usage of the
communication service. It may also provide reference point to attachment of
applications to the network should the need be such information.
### A.6.3 Communication Service Modification
This operation triggers a change request to modify an existing communication
service. This operation should specify a service id that can be used to
identify a service on the network.
a) communication service modification:
> _ACSI_Input{mod\ ,id\, Scp\, referenceEndpoint\, {one or more
> (Dsp, Qosp,sfp)\} }_
>
> _ACSI_Output{id\ , status\, referenceEndpoints\, {one or more (Dsp,
> Qosp, sfp)\}}_
b) ACSI_Input: include the service identification (id) and the service
objective (mod). The service id should identify univocally the communication
service that supports the applications from all other communication services.
It must map to a unique communication service on the network and should not be
null. Additionally, it should include the parameters affecting the
modification of the service. Scp and id should not be null.
c) ACSI_Output: should include the service (id) and the status of the service
operation. The status should provide information regarding positive (success)
and negative (failure) acknowledge of the operation. In addition, the output
may include one or more parameters from the Dsp. Especially in the case of
scheduled communication, the network may be required to provide information of
the send-time or the time an application can commence usage of the
communication service. It may also provide reference point to attachment of
applications to the network should the need be such information.
### A.6.4 Communication Service Monitoring
This should trigger a query request for statistical information on an existing
communication service. This operation should not result in any changes to the
communication service on the network. The network should provide read only
information regarding the specified communication service.
a) communication service monitoring:
> _ACSI_Input{mon\ , id\, Scp\, {one or more (Qosp,sfp)\}}_
>
> _ACSI_Output{id\ , Scp\, status\, {one or more (Qosp,sfp)\}}_
b) ACSI_Input: include the service identification (id) and the service
objective (mon). The service id should identify univocally the communication
service that supports the applications from all other communication services.
It must map to a unique communication service on the network and should not be
null. Additionally, it should include the parameters to be monitored. Scp and
id should not be null. If no QoSp nor Sfp parameters are specified, all
performance metrics related to the CS should be considered.
c) ACSI_Output: should include the service (id) and the status of the service
operation. The status should provide information regarding positive (success)
and negative (failure) acknowledge of the operation. A success should result
in the information regarding the communication service for the requested
metrics.
###### ### Annex B: Considerations on absolute and relative positioning
At the beginning all positioning is relative, because positioning always
involves measurements relative to other entities. Absolute positions in
general are defined as an interpretation of relative positions in relation to
a fixed/defined coordinate system.
{width="4.9in" height="2.8652777777777776in"}
Figure B-1: Relative position and absolute position in relation to a defined
coordinate system
In practice, the differentiation between absolute and relative positioning can
be important for various reasons:
\- When the definition of a fixed coordinate system is difficult or not
feasible, only relative positioning might be possible. E.g., UE relative to
another moving UE outside of coverage.
\- When absolute positions are not required, and the effort of defining a
fixed coordinate system can be avoided; e.g. distance between two UEs or speed
of a specific UE can be derived from relative positions.
Beside the differentiation between absolute and relative positioning, it is
important to notice, that distances are not positions, but can be derived from
absolute as well as relative positions. Likewise, velocity can be derived from
a time series of absolute or relative positions, but also from a time series
of distances. Methods like sidelink ranging (possibly introduced with Release
17) could be used to measure distances and velocity directly, while bypassing
positioning.
Considering multi-hop distance measurements or positioning, additional error
sources occur from:
\- relative movement between units and depends on the velocity of the
movement,
\- deployment of the UEs (geometrical dilution of precision),
\- surveying error of UEs taking part in the measurement process.
Due to those additional errors, multi-hop relative positioning (especially for
dynamic scenarios) may not be able to provide required accuracy.
Overview of relative positioning mentioned in technical specifications (TS):
When providing a Location Estimate, the LCS Server may provide the vertical
location of an UE in terms of either absolute height/depth or relative
height/depth to local ground level (TS 22.071).
The vertical location of the UE shall be expressed in terms defined by local
regulatory requirements which may include absolute height/depth or relative
height/depth to ground level (TS 22.071).
The 3GPP system shall support relative lateral position accuracy of 0.1 m
between UEs supporting V2X application (TS 22.186).
The 3GPP system shall support relative longitudinal position accuracy of less
than 0.5 m for UEs supporting V2X application for platooning in proximity (TS
22.186).
The 5G system shall provide different 5G positioning services, supported by
different single and hybrid positioning methods to supply absolute and
relative positioning (TS 22.261).
Relative positioning is between two UEs within 10 m of each other or between
one UE and 5G positioning nodes within 10 m of each others (TS 22.261).
The 5G system shall provide positioning information for a UE that is out of
coverage of the network, with accuracy of \ stipulated maximum).
A failure occurs when the survival time has elapsed. In a failure situation,
the application has to be stopped and restarted again after the communication
service has recovered. The application may stop and start automatically by
itself, and it is not necessarily this has to done from outside. During such a
failure situation, the communication system is in the \"unavailable\" state.
For every failure situation the complete application has to be recovered until
it is up-running again. Depending on the application this recovery time can
last up to several minutes, for example a robot has to be moved to a \"safe\"
re-starting point.
An example is illustrated in Figure D.1-1. A single failure of the
communication service occurred in Figure D.1-1, which resulted from the
downtime of the communication service in the network exceeding the survival
time. The duration of the down state of the application depends on the
application recovery time.
Figure D.1-1: Communication service status vs. application layer experience
In Figure D.1-1, the communication service and the application are in the up
state (0). A failure occurs in the communication service in the network
(packet loss) and from the network viewpoint theswitches to the down state
(1). After the survival time has elapsed, the communication service (from the
application view) also turns into the down state, as does the application (2).
The failure is solved and the communication service changes to the up state
(3). After the recovery time, the application is restored and switches to the
up state (4).
The time needed for recovering has to be counted for each failure situation,
which contributes to the \"unavailability\" of production application. The
availability of the overall production asset varies depending on the frequency
of downtime occurrences of the communication service and the recovery time
required by the application. For simplicity reason we consider a communication
service with 99.999 9 % availability, which would allow only 30 seconds
downtime in a year (365 days). It is also assumed that the survival time is 10
s and that it takes 480 seconds to get the application recovered, i.e.
recovery time = 480 s.
Table D.1-1 Calculation of Availability
+----------------------+----------------------+----------------------+ | Survival time: 10 s | Case 1 | Case 2 | | | | | | Application recovery | 1 x 30 s downtime | 2 x 15 s downtime | | time: 480 s | per year | per year | +----------------------+----------------------+----------------------+ | Communication | 30 s | 2 x 15 s = 30 s | | service down time | | | | (application view) | 30 s + 10 s = 40 s | 2 x (15 s + 10 s) = | | | | 50 s | | Communication | 30 s + 480 s = 510 s | | | service down time | | 2 x (15 s + 480 s) = | | (network view) | | 990 s | | | | | | Application down | | | | time | | | +----------------------+----------------------+----------------------+ | Communication | 99.999 90 % | 99.999 90 % | | service availability | | | | (application view) | 99.999 87 % | 99.999 84 % | | | | | | Communication | 99.998 38 % | 99.996 86 % | | service availability | | | | (network view) | | | | | | | | Application | | | | availability | | | +----------------------+----------------------+----------------------+
Communication service availability can also be estimated from the mean time
between failures (MTBF) and the mean time to repair (MTTR) of the
communication service:
communication service availability ≈ MTBF / (MTBF + MTTR)
In this context, MTBF excludes downtime, as illustrated in Figure D.1-3, while
MTTR refers to the mean time until the communication service is available
after a failure, i.e., until the next valid packet has been received.
{width="6.132638888888889in" height="0.8784722222222222in"}
Figure D.1-3: MTBF and MTTR
Note that the time for an application to recover from a failure (recovery
time) due to e.g. a robot arm having to be moved to a safe start position, is
totally dependent on the application, which the communication service can
hardly influence. In general, the application with a long recovery time may
require very stringent communication service reliability as any occurrence of
communication failure greatly impacts the application down-time and hence the
overall production system availability. On the other hand, if the application
recovers very fast, it can likely tolerate more frequent failures of the
communication system, while achieving the same overall production system
availability target. In such case the communication service reliability could
be more relaxed (compared to the above case).
## D.2 Communication system parameters and influence quantities
While application availability is the KPI for industrial automation, the
application per se is outside the scope of 3GPP. 3GPP's scope includes
providing communications system which, with the appropriate deployment
options, can meet the performance indicators to support application's
communications needs. A number of parameters and influence quantities can be
taken into account to maximize support for application availability, to the
extent possible by the 3GPP system. From the illustrations above, these
include communication service availability, communication service reliability,
and survival time.
###### ### Annex E: Requirements mapping use case to merged
The potential new requirements of the studied use cases in clause 5 have been
consolidated into the merged potential service requirements in clause 6. Table
E-1 provides this mapping from the potential new requirements of the use cases
to the corresponding merged and consolidated potential service requirements
for all use cases. This documented mapping supports the assessment of the
consolidation process (e.g. whether all potential new requirements of the use
cases have been consolidated), provides transparency to the consolidation
process, and provides the first part of the necessary linkage for tracing to
follow up the implementation of the use case specific 5G service requirements
in the 3GPP specification process.
Table E-1: Mapping of potential new requirements of use cases to merged
potential service requirements
* * *
Potential new requirement of use case (clause 5) Corresponding merged
potential service requirement (clause 6) Potential new requirement of use case
(clause 5) Corresponding merged potential service requirement (clause 6)
[PR-5.2.6-001] [MPR-22832-6.1-00a] [PR-5.3.6-001] [MPR-22832-6.1-00d]
[PR-5.2.6-002] [MPR-22832-6.1-00c] [PR-5.3.6-002] [MPR-22832-6.1-00d]
[PR-5.2.6-003] [MPR-22832-6.1-00b]  
[PR-5.4.6-001] [MPR-22832-6.1-00e] [PR-5.5.6-001] [MPR-22832-6.3-00a];
[MPR-22832-6.3-00b] [PR-5.4.6-002] [MPR-22832-6.1-00e]  
[PR-5.6.6-001] [MPR-22832-6.3-00c] [PR-5.7.6-001] [MPR-22832-6.3-00d]
[PR-5.8.6-001] [MPR-22832-6.4-00b]; [MPR-22832-6.4-00c]; [MPR-22832-6.4-00d] -
Mobile Operation Panel [PR-5.9.6-001] Table 6.5.1 [PR-5.8.6-004]
[MPR-22832-6.4-00a] [PR-5.9.6-002] Table 6.5.1 [PR-5.9.6-003] Table 6.5.1
[PR-5.9.6-004] Table 6.5.1 [PR-5.9.6-005] Table 6.5-1 [PR-5.11.6-001]
[MPR-22832-6.4-00b] Cooperative carrying; [MPR-22832-6.6-00a];
[MPR-22832-6.6-00e] [PR-5.11.6-002] [MPR-22832-6.6-00c] [PR-5.11.6-003]
[MPR-22832-6.6-00h] [PR-5.11.6-004] [MPR-22832-6.6-00e] [PR-5.11.6-005]
[MPR-22832-6.6-00d] [PR-5.11.6-006] [MPR-22832-6.6-00f] [PR-5.11.6-007]
[MPR-22832-6.6-00i] [PR-5.11.6-009] [MPR-22832-6.6-00j] [PR-5.11.6-010]
[MPR-22832-6.6-00g] [PR-5.12.6-001] [MPR-22832-6.5-00a] [PR-5.13.6-001]
[MPR-22832-6.6-00k] [PR-5.15.6-001] [MPR-22832-6.1-00f] [PR-5.15.6-002]
[MPR-22832-6.1-00g] [PR-5.15.6-003] [MPR-22832-6.1-00h] Table 5.16.6-1 Table
6.4-2 and Table 6.4‑4 [PR-5.17.6-001] [MPR-22832-6.3-00e] [PR-5.18.6-001]
[MPR-22832-6.4-00e]
* * *
#