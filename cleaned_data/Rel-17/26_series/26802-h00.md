# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
This Technical Report identifies and evaluates potential enhancements to the
5G Media Streaming (5GMS) [1] in order to provide multicast-broadcast media
streaming services. It has the following objectives:
\- Define scenarios where multicast ingestion or multicast distribution might
be used, including potential IGMP termination options [2], [3], and [4].
Examples for such collaboration scenarios are transparent multicast delivery,
multicast linear IPTV delivery, hybrid unicast/multicast (e.g. MooD or service
continuity), and multicast Adaptive Bit Rate (ABR) for Over the Top (OTT) live
streaming.
\- Identify the relevant key issues and gaps in 5GMS to support the above
scenarios based on the existing 5GS multicast architecture.
\- Document architecture extensions and procedures to support the above-
defined scenarios.
\- Identify protocols to support the above extensions and procedures in 5GMS.
\- Identify Procedures for managing downlink multicast streaming and session
lifecycle.
\- Select a subset of relevant scenarios that should be supported in
extensions to 5G Media Streaming.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non-specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 26.501: \"5G Media Streaming (5GMS); General description and
architecture"\".
[2] IETF RFC 2236: \"Internet Group Management Protocol, Version 2\".
[3] IETF RFC 4604: \"Using Internet Group Management Protocol Version 3
(IGMPv3) and Multicast Listener Discovery Protocol Version 2 (MLDv2) for
Source-Specific Multicast\".
[4] IETF RFC 3376: \"Internet Group Management Protocol, Version 3\".
[5] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[6] 3GPP TS 23.246: \"MBMS Architecture and functional description\".
[7] 3GPP TR 23.757: \"Study on architecture enhancements for 5G multicast-
broadcast services\".
[8] 3GPP TS 23.316: \"Wireless and wireline convergence access support for the
5G system\".
[9] 3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".
[10] 3GPP TS 23.502: \"System architecture for the 5G System (5GS)\".
[11] 3GPP TS 23.503: \"System architecture for the 5G System (5GS)\".
[12] ETSI TS 103 769: \"Digital Video Broadcasting (DVB); Adaptive media
streaming over IP multicast\", v1.1.1, November 2020.
[13] CableLabs OC-TR-IP-MULTI-ARCH-C01: \"IP Multicast Adaptive Bit Rate
Architecture Technical Report\", October 2016. Internet Available
https://www.cablelabs.com/specifications/ip-multicast-adaptive-bit-rate-
architecture-technical-report
[14] ETSI TS 103 285: \"Digital Video Broadcasting (DVB); MPEG-DASH Profile
for Transport of ISO BMFF Based DVB Services over IP Based Networks\".
[15] 3GPP TS 26.348: \"Northbound Application Programming Interface (API) for
Multimedia Broadcast/Multicast Service (MBMS) at the xMB reference point\",
Release 16.
[16] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and Codecs\", Release 16.
[17] ATSC A/331: \"ATSC Standard: Signaling, Delivery, Synchronization, and
Error Protection\".
[18] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 Reference Point; Stage 3\".
[19] 3GPP TS 23.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
Stage 2\".
[20] RFC 6733: \"Diameter Base Protocol\", October 2012.
[21] 3GPP TS 26.347: \"Multimedia Broadcast/Multicast Service (MBMS);
Application Programming Interface and URL\", Release 16.
[22] 3GPP TS 22.146: \"Multimedia Broadcast/Multicast Service (MBMS); Stage
1\", Release 16.
[23] RFC 5053: "Raptor Forward Error Correction Scheme for Object Delivery",
October 2007.
[24] RFC 5445: "Basic Forward Error Correction (FEC) Schemes", March 2009.
[25] RFC 3695: "Compact Forward Error Correction (FEC) Schemes", February
2004.
[26] 3GPP TS 23.247, v0.1.0: \"Architectural enhancements for 5G multicast-
broadcast services; Stage 2;\" Release 17.
[27] 3GPP TS 26.511: \"5G Media Streaming (5GMS); Profiles, codecs and
formats\".
[28] 3GPP TS 26.512: \"5G Media Streaming (5GMS); Protocols\".
# 3 Definitions of terms, symbols, and abbreviations
## 3.1 Terms
For the present document, the terms given in 3GPP TR 21.905 [5], TS 26.501
[1], TR 23.757 [7] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in TR
21.905 [5] or TS 26.501 [1].
**5MBS User Service:** Services provided to the end user by means of 5MBS
transport and possibly other capabilities.
**Broadcast MBS Session:** See TS 23.247 [26].
**MBS Session:** See TS 23.247 [26].
**Multicast adaptive bit rate (MABR):** a method of media streaming in which
source media segments are encapsulated into the delivery units of a multicast
media transport protocol, and are delivered over a multicast-capable network
to a client-side function that is capable of switching dynamically between
available unicast or multicast delivery of the ABR media with differing
technical characteristics (e.g. different quality and bit rate) according to
prevailing packet reception conditions.
NOTE: The multicast-capable network could be a 3GPP or non-3GPP network.
Specifically in the present document, the multicast-capable network refers to
5MBS network.
**Multicast MBS Session:** See TS 23.247 [26].
**Multimedia Broadcast/Multicast Service (MBMS):** See TS 22.146 [22].
## 3.2 Abbreviations
For the present document, the abbreviations given in TR 21.905 [5] and the
following apply. An abbreviation defined in the present document takes
precedence over the definition of the same abbreviation, if any, in TR 21.905.
**5MBS 5G Multicast/Broadcast Service**
**5GMS 5G Media Streaming.**
**ABR Adaptive Bit Rate.**
**AL‑FEC Application-Level Forward Error Correction**
**ATSC Advanced Television Systems Committee**
BM-SC Broadcast-Multicast - Service Centre
**CMAF Common Media Application Format**
**DASH Dynamic Adaptive Streaming over HTTP**
**DNS Domain Name Service**
**DVB Digital Video Broadcasting**
**FEC Forward Error Correction**
**FLUTE File deLivery over Unidirectional Transport**
**HLS HTTP Live Streaming**
**HTTP HyperText Transfer Protocol**
**IGMP Internet Group Management Protocol**
**IPTV Internet Protocol Television**
**ISO BMFF International Standardization Organization Base Media File Format**
**MABR Multicast ABR**
**MBMS Multimedia Broadcast/Multicast Service**
**MBS** Multicast/Broadcast Service
MBSF Multicast/Broadcast Service Function
MBSTF Multicast/Broadcast Service Transport Function
MLD Multicast Listener Discovery
MPEG Moving Picture Experts Group
OTT Over-The-Top
**RoHC Robust Header Compression**
**ROUTE Real-time transport Object delivery over Unidirectional Transport**
**TMGI Temporary Mobile Group Identity**
**XML Extensible Markup Language**
# 4 5G Media Streaming General Service Architecture and Principles
## 4.1 Introduction
3GPP has originally developed MBMS and later eMBMS [6] to support
multicast/broadcast streaming services. Most recently, multicast/broadcast is
viewed as one of the basic capabilities of 5G. Architecture enhancement for 5G
multicast-broadcast services is being studied in SA2 in the scope of TR 23.757
[7]. The objective is to support general multicast and broadcast
communications services, e.g. transparent IPv4/IPv6 multicast delivery, IPTV,
software delivery over wireless, group communications and IoT applications,
V2X applications, and public safety.
Additionally, without assuming any multicast capability in NR, a multicast
IPTV architecture has also been specified in TS 23.316 [8], as enhancements of
the stage 2 system architecture, procedures and flows, policy and charging
control for the 5G system (5GS) defined in TS 23.501 [9], TS 23.502 [10], and
TS 23.503 [11] in order to support wireline access network and fixed wireless
access. Specifically, in clause 7.7.1.1.3 of TS 23.316, a procedure is
specified on how to transmit multicast packets related to IPTV service over
5GC.
The unicast downlink streaming architecture and associated procedures are
specified in TS 26.501 [1]. A multicast/‌broadcast architecture has the
potential to play an important role in 5G media streaming. However, the impact
on TS 26.501 of the abovementioned multicast/broadcast-related 5G service
requirements and existing architecture in TS 23.316 has not yet been studied.
In addition to 3GPP, DVB [12] and CableLabs' work on multicast ABR [13] is
gaining traction in industry. There is a desire to understand its potential
implications on 5GMS as well.
## 4.2 Related 5G multicast and broadcast work in 3GPP
### 4.2.1 General
This clause provides a brief summary of existing multicast and broadcast
related specifications in 3GPP as well as ongoing multicast and broadcast
standardization work in 3GPP.
### 4.2.2 Existing 3GPP specifications on MBMS
#### 4.2.2.1 Introduction
The existing MBMS architecture in 3GPP allows data to be transmitted from a
single source entity to multiple recipients. This clause summarises the MBMS
delivery methods (described in clause 4.2.2.2) and user services (see clause
4.2.2.3), and the procedures between an Application Service Provider and the
BM-SC function.
NOTE: The terms \"Application Service Provider\" and \"Application and Content
Provider\" are used interchangably in TS 26.347 [21]. These, in turn, are
equivalent to the term \"Content Provider\" used in TS 26.348 [15].
{width="6.708661417322834in" height="1.1771653543307086in"}
Figure 4.2.2.1-1: End-to-end architecture for Application Service Providers
using eMBMS for delivery
Figure 4.2.2.1‑1 above (reproduced from TS 26.347 [21] clause 4.1) shows the
end-to-end application architecture of the MBMS System between an Application
Service Provider and an MBMS-aware Application running on a UE.
1\. The Application Service Provider publishes content to a BM‑SC in the
network via reference point xMB (see clause 4.2.2.4).
2\. The BM‑SC uses MBMS User Services as well as MBMS Bearer Services and
unicast bearers to communicate with an MBMS Client embedded in the UE.
3\. The MBMS-aware Application communicates with the MBMS Client via a set of
Application Programmer's Interfaces called MBMS-APIs specified in TS 26.347
[21]. The APIs may be invoked directly by the MBMS-aware Application, or the
MBMS URL Handler may use the MBMS-APIs after receiving an MBMS URL from a
generic application (see clause 4.2.2.7).
#### 4.2.2.2 MBMS Delivery Methods
Four delivery methods are defined, namely download, streaming, transparent,
and group communications. These delivery methods are used to transmit
downstream service content received over the interface between the Content
Provider and the BM-SC. The delivery method is set based on "Session Type"
property, as described in tables 5.4A-2, 5.4A-3, 5.4A-4, 5.4A-5, and 5.4A-6 in
TS 26.346 [16].
The MBMS Delivery layer uses MBMS bearers or point-to-point bearers to deliver
MBMS content to a receiving application. Bearers provide a mechanism by which
IP data is transported. MBMS bearers are defined in TS 23.246 [6] and TS
22.146 [22]. They provide a means of efficient one-to-many transport for
multicast and broadcast traffic. The MBMS Bearer Service is identified by a
TMGI. For example, in EPS, an MBMS Bearer Service could be used to transport
data for one or more MBMS download, streaming, transparent or Group
Communications session.
#### 4.2.2.3 MBMS User Service
The MBMS User Service enables applications. It presents a complete service
offering to the end-user and allows the end-user to activate or deactivate the
service. For example, a DASH-over-MBMS could use the download delivery method
to deliver content to MBMS subscribers. MBMS User service interfaces to the
MBMS System via the BM-SC, GGSN (for GPRS) or MBMS GW (for EPS), and the UE,
as depicted in Figure 4.2.2.3-1.
Figure 4.2.2.3-1: MBMS network architecture model for EPS
MBMS User Service procedures and protocols, including User Service
Discovery/Announcement, User Service Initiation/Termination, and MBMS Data
Transfer Procedure are specified in clause 5 of TS 26.346 [16].
MBMS User Services as defined in TS 26.346 [16] have been evolved over several
releases. In particular, the following functionalities had been introduced to
support different functionalities:
> \- DASH-over-MBMS.
>
> \- Generic Application Service to support HLS over MBMS as well as hybrid
> DASH/HLS over MBMS.
>
> \- Service continuity to support reception of MBMS user services over
> unicast for different purposes.
>
> \- Associated Delivery Procedures to support different functionalities such
> as file repair, consumption reporting, QoE reporting, etc.
>
> \- Different service announcement modes.
>
> \- MBMS Operation on Demand.
Relevant deployment profiles had been collected in Annex L in the document for
service announcement, download delivery, and transparent delivery.
#### 4.2.2.4 xMB reference point between content provider and BM-SC
This clause and the next one summarise two existing reference points between
the Content Provider and the BM-SC. For Group Communications Services, the
standard interface to and from BM-SC is **MB2** , specified in TS 29.468 [18]
and TS 23.468 [19]. For services other than Group Communications, the standard
reference point between the content provider and the BM-SC is **xMB** ,
defined in TS 26.348 [15]. Clauses 4.2.2.4 and 4.2.2.5 review xMB interface
and MB2 interface, respectively.
Figure 4.2.2.4-1 reproduced from TS 26.348 [15] specified the xMB interface
between a Content Provider and the BM‑SC. Using the xMB reference point and
the procedures supported by BM-SC, the Content Provider can authenticate and
authorize BM-SC, create, modify and terminate a service or a session, query
information, and deliver content to the BM-SC. The BM-SC may forward the
received content for unicast delivery. BM-SC, on the other hand, can use xMB
reference point to authenticate and authorize a content provider, notify the
content provider of the status of an MBMS user service usage, and retrieve
content from the content provider.
The Content Provider can use four user plane procedures to ingest content to
BM-SC. The details of these user plane procedures, including file push, file
pull, RTP streaming, and transport are specified in clause 5.5 of TS 26.348
[15].
In file ingestion with Pull, the content provider provides the file URLs to
the BM-SC and the BM-SC fetches the files using HTTP GET. In file ingestion
with Push, the Content Provider pushes the files using HTTP PUT.
Figure 4.2.2.4-1: The xMB reference model
RTP streaming mode and transport mode are more relevant to legacy multicast
live streaming. In RTP streaming mode, the BM-SC establishes an RTP session to
the content provider and starts the streaming session to relay media streams.
Figure 4.2.2.4-2: MBMS Streaming with RTP
In transport mode, the BM-SC listens on one IP address and one port number to
receive UDP packets. These UDP packets received over xMB-U interface are then
transmitted to downstream using Transparent Delivery methods. The transparent
delivery method delivers application data units as part of UDP or IP flows
over an MBMS bearer to the UE.
There are two xMB-U options for the Transparent Delivery method. In
Transparent delivery with proxy, as depicted in Figure 4.2.2.4-3, the payload
of UDP streams is opaque to the MBMS session and MBMS Client is expected to
make the UDP payloads available to an application, without further knowledge
on the content. The BM-SC re-wraps the UDP payload with an IP Multicast
address and uses the MBMS bearer to deliver the UDP payload.
Figure 4.2.2.4-3: Transparent Delivery with Proxy mode
The following Session Properties allow the configuration of this xMB-U mode:
_\- Session Type_ is set by the Content Provider to _Transport-Mode._
_\- Delivery Mode Configuration for user plane_ (Session Type specific
property) is set by the Content Provider to _Proxy._
_\- Session Description Parameters for User Plane_ (Session Type specific
property) is set by the Content Provider and contains the UDP flow mapping
descriptions.
\- When _Session Announcement Mode_ (Session Type specific property) is set by
the Content Provider to _SACH_ , the BM-SC will add according session
description into the SACH. In this case the MBMS Client (cf. TS 26.347) will
offer the service to an application.
\- When _Session Announcement Mode_ (Session Type specific property) is set by
the Content Provider to _Content Provider_ then the Content Provider is
responsible to announce services to UEs (e.g. using GC1). The BM-SC provides
at least the TMGIs as the value of the _Delivery Session Description
Parameters_ property.
In Transparent Delivery with Forward-Only mode in Figure 4.2.2.4-4, the
transport protocol on top of IP is opaque to the MBMS session and an MBMS
client is expected to make the UDP payloads available to an application. In
this mode, the BM-SC is not aware of the IP Multicast layer beyond UDP layer
in the Content Provider.
Figure 4.2.2.4-4: Transparent Delivery with Forward-Only
The following Session Properties allow the configuration of this xMB-U mode:
\- Session Type is set by the Content Provider to Transport-Mode.
\- Delivery Mode Configuration for user plane (Session Type specific property)
is set by the Content Provider to Forward-only.
\- Session Description Parameters for User Plane (Session Type specific
property) is set by the Content Provider and contains the UDP flow mapping
descriptions.
\- When Session Announcement Mode (Session Type specific property) is set by
the Content Provider to SACH, the BM-SC will add according session description
into the SACH. In this case the MBMS Client (cf. TS 26.347) will offer the
service to an application.
\- When Session Announcement Mode (Session Type specific property) is set by
the Content Provider to Content Provider then the Content Provider is
responsible to announce services to UEs (e.g. using GC1). The BM-SC provides
at least the TMGIs as the value of the Delivery Session Description Parameters
property.
Table 4.2.2.4-1 summarizes the xMB-U procedures and corresponding delivery
methods specified in TS 26.348:
Table 4.2.2.4-1: xMB User Plane procedures and delivery options
xMB User Plane procedure xMB Delivery mode
* * *
File ingestion with Pull Download File ingestion with Push  
DASH content ingestion with Pull  
DASH content ingestion with Push  
HLS content ingestion with Pull/Push  
RTP streaming MBMS streaming Transport Transparent delivery
#### 4.2.2.5 MB2 reference point
MB2 reference point, specified in TS 29.468 [18] and TS 23.468 [19], is used
when the MBMS network provides Group Communication Services (such as MCPTT)
delivery to the UE [16], as shown in Figure 4.2.2.5-1.
Figure 4.2.2.5-1: MBMS network architecture model for GCS Delivery
Editor's Note: For services other than Group Communications, the standard
reference point between the content provider and the BM-SC is defined in TS
26.348, and reviewed in clause 4.2.2.4.
The MB2 interface carries both control and user plane data, and provides a
standardized way for an external entity, e.g. GCS AS to connect to BM-SC. A
high-level reference model of the architectural elements relevant to
understand the MB2 reference point is shown in Figure 4.2.2.5-2, reproduced
from [18]. More complete reference models for GCS are contained in TS 23.468
[19].
Figure 4.2.2.5-2: Reference model for MB2 reference point
For MBMS delivery, the MB2 interface provides:
\- MB2‑C procedures defined in TS 23.468 [19], for requesting the BM‑SC to
activate, deactivate, modify an MBMS bearer, allocate/deallocate TMGI, and
apply FEC and RoHC
\- Forwarding of data to be delivered via an MBMS bearer to the BM‑SC via the
MB2‑U reference point.
The MBMS session is identified by TMGI and Flow Identifier, which are assigned
by TMGI upon request of the AS function.
The MB2-U Protocol stack is specified in clause 7 of TS 29.468 [18], as
reproduced in Figure 4.2.2.5-3:
Figure 4.2.2.5-3: The user plane protocol stack
MB2-C protocol is a Diameter-based protocol as defined in RFC 6733 [20] and TS
29.468 Annex B [18]. BM-SC is the Diameter server in the sense that it is the
network element that handles action requests and sends notifications. The AS
function acts as the Diameter client in the sense it is the network element
requesting actions and handles notification from the BM-SC. Transport protocol
of Diameter messages over MB2-C interfaces make use of SCTP or TCP.
#### 4.2.2.6 MBMS reference client architecture
{width="5.8125in" height="4.1855544619422576in"}
Figure 4.2.2.6‑1: General client reference architecture
Figure 4.2.2.6‑1 above (reproduced from TS 26.347 [21] clause 5.1) shows a
general service architecture including a reference client.
1\. On the network side, an Application and Content Provider publishes media
content to a BM-SC, typically through the xMB-U interface, and initiates MBMS
services and sessions through the xMB-C interface (see clause 4.2.2.4).
2\. The BM‑SC establishes MBMS User Services and the lower layers support the
delivery of the data through regular 3GPP unicast as well as MBMS
multicast/broadcast bearers.
3\. A client-side component called the MBMS Client communicates with the BM‑SC
according to the interface specified in TS 26.346 [16]. This includes both
unicast and broadcast/multicast services. The MBMS Client offers a set of
Application Programming Interfaces called the MBMS-APIs to the MBMS-aware
Application.
4\. The MBMS-aware Application intiaites communication with the MBMS Client
either by directly invoking the MBMS-API, or indirectly via URL handlers (see
clause 4.2.2.7 below).
5\. The MBMS Client identifies the relevant services and supplies received
user data to the MBMS-Aware Application.
6\. The MBMS-aware Application controls the Media Client.
#### 4.2.2.7 MBMS Application Programming Interface and URL
Figure 4.2.2.7-1 (reproduced from TS 26.347 [21]) provides a graphical
overview of the Application Programming Interface (API) and URL between the
MBMS client and MBMS-aware Application (MAA), referred to as MBMS Application
Programming Interfaces (MBMS-APIs). MBMS-aware Application communicates with
the MBMS client through MBMS-APIs in the user space.
An MBMS-URL is a universal resource locator that enables a general (i.e. non-
MBMS-aware) application to access resources delivered through an MBMS User
Service using the MBMS URL handler which translates the MBMS-URL to a sequence
of MBMS-API calls.
{width="3.25in" height="2.7604166666666665in"}
Figure 4.2.2.7-1: MBMS Application Programming API
Details of the following MBMS-APIs can be found in TS 26.347 [21]:
> \- File Delivery Application Service API.
>
> \- Media Streaming Service API.
>
> \- MBMS Packet Delivery Service API.
### 4.2.3 SA2 5MBS study item on architectural enhancements for 5G multicast-
broadcast
3GPP SA2 workgroup has been exploring potential solutions to enhance 5G
multicast-broadcast functionalities in TR 23.757 [7]. This 5MBS study item was
completed in March 2021, except for those aspects with RAN2 decisions needed.
This clause reviews the SA2 working group's activities on enhanced 5G
multicast-broadcast architecture from TR 23.757 [7].
The goal of the SA2 5MBS study is to identify and evaluate potential
enhancements to the 5G system architecture to provide multicast-broadcast
services that might be used for different vertical businesses. How to use the
provisioned capabilities in a specific service type is out of the scope of SA2
5MBS study. The objectives are:
• Define the framework, including the functional split between (R)AN and CN,
to support multicast/broadcast services, e.g. _ad hoc_ multicast/broadcast
streams, transparent IPv4/IPv6 multicast delivery, IPTV, software delivery
over wireless, group communications and broadcast/multicast IoT applications,
V2X applications, public safety.
• Support for different levels of services (e.g., transport only mode vs. full
service mode).
• Enable flexible (i.e., distributed vs. centralized) network deployment and
operation (e.g. separation of the control plane and user plane).
• Address whether and how relevant QoS and PCC rules apply to
multicast/broadcast services.
• Support use cases and requirements (e.g. service continuity) for public
safety, identified in SA1 and SA6 specifications (e.g., TS 22.179 and TS
22.280).
In the SA2 study, only NR or NG-RAN is considered as a wireless access
technology. Support for UEs using or moving to an access network not
supporting multicast/broadcast should be considered. The impact on RAN is to
be analysed by and coordinated with the relevant RAN WGs. Currently, about 46
solutions are focusing on the following key issues:
1\. MBS Session Management.
2\. Definition of Service Levels.
3\. Levels of authorization for Multicast communication services.
4\. QoS level support for Multicast and Broadcast communication services.
5\. Support for Broadcast TV Video and Radio communication services. _(Not
within Release 17.)_
6\. Local MBS service.
7\. Reliable delivery method switching between unicast and multicast.
8\. Reliable switching between unicast and broadcast delivery methods. _(Not
within Release 17.)_
9\. Minimizing the interruption of public safety services upon transition
between NR/5GC and E-UTRAN/EPC.
The study assumes the sequence to establish and deliver a Multicast Broadcast
(MBS) session is as follows:
1\. Optional delivery of 5G MBS service information from application/service
layer to 5GC.
2\. UEs participate in receiving MBS flow, i.e. UE requests to join an MBS
session (for Multicast Session).
3\. Establishment of MBS flow transport. This step may happen before step 2
for individual UEs joining an MBS session which is already started.
4\. MBS data delivery to UEs.
5\. UEs stop receiving MBS flow (for Multicast Session).
6\. Release of MBS flow transport (what used to be session stop).
Multiple **delivery methods** may be used to deliver MBS traffic in the 5GS
from a single data source to multiple UEs. TR 23.757 [7] further described
delivery methods in 5G CN and RAN. Two delivery methods are possible from the
5G Core Network's point of view:
\- **5GC Individual MBS traffic delivery method** : 5G CN receives a single
copy of MBS data packets and delivers separate copies of those MBS data
packets to individual UEs via per-UE PDU sessions.
\- **5GC Shared MBS traffic delivery method** : 5G CN receives a single copy
of MBS data packets and delivers a single copy of those MBS packets packet to
a RAN node, which then delivers them to one or multiple UEs.
NOTE 1: The Shared MBS traffic delivery method and Individual MBS traffic
delivery method are defined in SA2 WG and are listed here for reference only.
From the RAN's point of view, in the case of the shared delivery, two
**delivery methods** are available for the transmission of MBS packet flows
over the radio interface:
\- **Point-to-Point (PTP) delivery method** : a RAN node delivers separate
copies of MBS data packet over radio to individual UE.
\- **Point-to-Multipoint (PTM) delivery method** : a RAN node delivers a
single copy of MBS data packets over radio to a set of UEs.
A RAN node may use any combination of the PTP/PTM delivery methods to deliver
an MBS packet to a population of UEs. As shown in Figure 4.2.3-1, reproduced
from TR 23.757 for the convenience of discussion, the Shared PTP or PTM
delivery method and Individual delivery method may be used at the same time
for a 5G MBS session.
NOTE 2: The PTP and PTM delivery methods are defined in RAN WG and are listed
here for reference only.
Figure 4.2.3-1: Overview of User Plane for a multicast session
A set of interim requirements for 5G MBS session management are agreed in TR
23.757 [7]:
\- For multicast solutions, signalling from the UE to the network to join a
multicast session should be supported by UE and network. Join/leave operation
via Control Plane (NAS) signalling should be supported.
\- For N3 transport of the shared delivery method, GTP-U tunnelling using a
transport layer IP multicast method and shared N3 (GTP-U) Point-to-Point
tunnel should be supported with support for QoS.
\- Both 5GC Shared MBS traffic delivery method and 5GC Individual MBS traffic
delivery method should be standardized for multicast data delivery.
\- The network should be able to prepare and start the multicast traffic
transmission for an MBS session after MBS service is started.
\- The network should support the selection of MB-SMF or SMF (depending on
solution) at session join.
\- For N3 transport of the 5GC shared MBS delivery method, and for unicast
transport, there should be 1-1 mapping between MBS Session and GTP-U tunnel
towards a RAN node. And for multicast transport, there should be 1-1 mapping
between MBS Session and the GTP-U tunnel.
A reference architecture is provided in Annex A.3 of [7], reproduced as Figure
4.2.3-2 here:
Figure 4.2.3-2: 5G MBS Reference Architecture from TR 23.757
The MBSF performs the following functions:
\- Service level functionality to support MBS and interworking with LTE MBMS.
\- Interacting with AF and MB-SMF for MBS session operations and transport.
\- Selection of MB-SMF for MBS Session.
\- Controlling the MBSTF (if it is used).
The MBSTF performs the following functions:
\- Modification of encoding of MBS data.
\- Media anchor for MBS data traffic if needed.
NOTE 3: The MBSF and the MBSTF may be co-located or deployed separately.
## 4.3 Related multicast and broadcast streaming standardization efforts
outside 3GPP
4.3.1 Introduction
This clause provides a review of related multicast and broadcast streaming
standardization efforts outside 3GPP.
Editor's note: We focus on streaming-related work to understand their
implications on 5GMS.
### 4.3.2 DVB‑MABR Phase 1
#### 4.3.2.1 Motivation
The DVB-MABR Phase 1 technical specification [12] defines a logical reference
architecture for providing linear and non-linear media services efficiently
and at scale over a combination of multicast transport sessions, supplemented
by optional Application-Level Forward Erasure Correction (AL‑FEC) and/or
unicast repair of lost multicast packet payloads. The underlying design
principles of the technical specification are:
1\. To maintain compatibility with existing segmented media packaging formats,
in particular DVB's profile of MPEG‑DASH and MPEG‑CMAF [14]. (Provision is
also made in the specification to support different CMAF-based segmented media
streaming technologies, in particular HLS.)
2\. To minimise changes to existing encoding, packaging and publication
workflows that produce media in these formats.
3\. To maintain compatibility with existing terminal equipment, such as IP-
connected television sets and set-top boxes, that consume media in these
formats.
4\. To use multicast transmission as a transparent optimisation of existing
unicast flows, while maintaining the use of those unicast flows in parallel
for exceptional repair and fast channel change purposes. The load on unicast
servers is thereby reduced to a significant degree, achieving the
aforementioned scalability objective.
The DVB-MABR Phase 1 technical specification includes a logical reference
architecture, summarised in Figure 4.3.2.1‑1 below, that specifies the logical
functions of the system as well as named reference points at the interfaces
between them.
{width="6.484615048118985in" height="4.360696631671041in"}
Figure 4.3.2.1‑1: Simplified DVB-MABR functional architecture
#### 4.3.2.2 DVB‑MABR data plane
At the heart of the data plane architecture, a _Multicast server_ function
(c.f. BM‑SC in the MBMS architecture [6]) produces a set of multicast
transport sessions at reference point **M** which are consumed by a population
of _Multicast gateway_ functions (c.f. MBMS Client).
NOTE 1: A multicast transport session is the equivalent of a FLUTE session in
the MBMS architecture [16]. The equivalent of a time-bound MBMS session is
called a multicast session in the DVB‑MABR architecture.
The _Multicast server_ is responsible for ingesting media objects, such as DVB
DASH segments, by means of:
a. **pull-based content ingest** at reference point **O~in~** from an external
_Content hosting_ function which, in the case of segmented media, is
technically identical to conventional unicast acquisition at reference point
**A** ; or else
b. **push-based content ingest** at reference point **P~in~′** directly from
the _Content preparation_ function.
NOTE 2: These two reference points are comparable with interface **xMB‑U** in
the MBMS architecture [15].
Having ingested a media object, the _Multicast server_ serialises it into a
sequence of multicast packets compliant with a well-defined multicast media
transport protocol. Two alternative multicast media transport protocols are
mandated by the DVB‑MABR Phase 1 specification:
**Annex F:** An extended profile of the 3GPP FLUTE profile documented in Annex
L of TS 26.346 [16].
**Annex H:** An extended profile of the ROUTE protocol specified in ATSC A/331
[17].
Implementations are required to support at least one of the two protocols.
There is scope to specify additional optional multicast media transport
protocols in subsequent technical specification phases.
Both protocols support low-latency modes of operation in which multicast
transmission of media objects provided in accordance with clause 4.2.9 of [14]
can begin before the object has been completely ingested by the _Multicast
server_.
Provision is also made for the _Multicast server_ to optionally transmit
AL‑FEC repair packets alongside the source packets as part of a multicast
transport session, addressed to the same or a different multicast destination
address.
NOTE 3: The AL‑FEC mechanism is equivalent to the FEC Repair Stream in TS
26.346 [16].
The _Multicast gateway_ subscribes to multicast transport sessions at
reference point **M** using conventional IGMP (or MLD) interactions with the
underlying network and then begins to receive a stream of multicast packets
which it attempts to reassemble into the original media object. Any packet
losses that cannot be made good with available AL‑FEC repair packets are
repaired using efficient unicast HTTP byte-range requests to the _Content
hosting_ function at reference point **A**.
NOTE 4: The unicast repair feature is comparable with the byte-range-based
File Repair Procedure, one of the Associated Delivery Procedures specified in
clause 9 of TS 26.346 [16].
Intact media objects are presented to a generic MPEG‑DASH media player (the
_Content playback_ function in figure 4.3.2.1‑1 above) at reference point
**L**. This interface is functionally equivalent to conventional unicast
acquisition at reference point **A** , although the DASH presentation manifest
(or HLS media playlist) may be artificially delayed or otherwise modified by
the _Multicast gateway_ in order to give it extra time to perform these
multicast repair functions.
#### 4.3.2.3 DVB‑MABR control plane
DVB‑MABR Phase 1 specifies a common XML-based schema for describing multicast
session configurations, and procedures for configuring both _Multicast server_
instances (**C~MS~**) and _Multicast gateway_ instances (**C~MR~**). The
multicast gateway configuration is a subset of the multicast server
configuration. The definitive current multicast session configuration resides
in the _Provisioning_ function, and both pull- and push-based RESTful HTTP
interfaces are specified for transferring it from there to other functions in
the system that require it.
NOTE 1: Reference point **C~MS~** is equivalent to **xMB-C** [15], although
the latter supports only a push-based configuration method.
In addition, a special multicast gateway configuration transport session is
specified which enables configuration for a large population of _Multicast
gateway_ instances to be carouselled by the _Multicast server_ at reference
point **M**. This is designed as a more scalable alternative to sending the
multicast gateway configuration over the unicast path at **C~MR~**.
NOTE 2: This feature is especially useful in unidirectional broadcast networks
that lack a return path.
NOTE 3: This feature is equivalent to the MBMS Service Announcement Channel
[16].
#### 4.3.2.4 DVB‑MABR deployment architecture
In contrast to the MBMS architecture, where the MBMS Client is always embedded
in the UE, the DVB‑MABR Phase 1 does not require that the _Multicast gateway_
is embedded in a terminal device. As well as this fully embedded scenario, the
DVB specification allows for a second possible deployment model where the
_Multicast gateway_ is embedded in a home gateway router device, and also a
third model where this function is deployed at the access-facing edge of the
core network, such as Multi-access Edge Compute node.
#### 4.3.2.5 DVB‑MABR session bootstrapping
Like the MBMS Client, a _Multicast gateway_ operates as an HTTP reverse proxy.
The aim is to make the delivery system as transparent as possible to the
_Content playback_ function, so that the latter remains unaware of the
multicast optimisation. To that end, the DVB‑MABR Phase 1 reference
architecture specifies a _Multicast rendezvous service_ that has knowledge of
the _Multicast gateway_ instances deployed in the network and their current
status. It also has access to the current multicast session configuration from
the _Provisioning_ function.
All presentation manifest requests from the _Content playback_ function are
initially directed to the _Multicast rendezvous service_ at reference point
**B**. Depending on the state of the system and the requested manifest, it
responds by either:
a. redirecting the _Content playback_ function to a local _Multicast gateway_
at reference point **L** (if one is active, and if the requested presentation
is part of the multicast session configuration), or else
b. redirecting the _Content playback_ function to the _Content hosting_ origin
for conventional unicast-only playback.
Even for unidirectional broadcast deployments with no available return path,
the _Multicast rendezvous service_ function is deployed co-locally with the
_Multicast gateway_ and the same session bootstrapping sequence followed.
Alternatively, provision is made in the specification for local discovery of
these two functions using, for example, multicast DNS techniques. The exact
mechanism employed is left to the discretion of individual implementations.
## 4.4 Common architectural requirements and principles
### 4.4.1 General
The following common architectural requirements and principles apply.
### 4.4.2 5G Media Streaming (5GMS) general architecture
The architecture reference model defined in TS 26.501 [1] is used as the
baseline architecture for supporting multicast and broadcast services in this
study. In particular, Figure 4.4.2-1 shows the 5G Media Streaming general
architecture.
Figure 4.4.2-1: 5G Media Streaming General Architecture
### 4.4.3 5G Multicast--Broadcast Services (5MBS) system architecture
Figure 4.4.3‑1 below illustrates the 5G Multicast--Broadcast Services (5MBS)
system architecture in reference point representation. It is logically
identical to Figure 5.1‑2 in TS 23.247 [26].
{width="6.695138888888889in" height="3.1354166666666665in"}
Figure 4.4.3-1: 5G Multicast--Broadcast Services system architecture in
reference point representation
### 4.4.4 Baseline Network Reference Architectures
#### 4.4.4.1 General
This clause presents a variant of the network reference architecture in clause
5 of TS 23.247 [26] with the following changes:
\- Reference point "xMB" only refers to an interface that is provided by the
BM-SC. For the 5MBS media delivery functions, the MBSTF exposes an interface
that is xMB-U based.
\- The MBSF is integrated into a 5GMS AF function that may expose an internal
API resembling xMB-C. Support for standalone MBSF is for study.
\- A standalone MBSF may be needed for different interworking scenarios.
Interworking with legacy systems is for further study.
Legend for Figure 4.4.4.2-1 and Figure 4.4.4.3-1:
\- Blue boxes: control plane functions as shown in TS 23.247 Figure 5.1-2.
\- Orange boxes: user plane functions as shown in TS 23.247 Figure 5.1-2.
\- White boxes: Application servers and functions, for example, a 5GMSd AF and
AS.
\- Blue lines: control plane interfaces.
\- Red lines: user plane interfaces.
\- Black labeled interfaces: existing reference points from Release 16.
\- Coloured labeled interfaces: newly coined reference points for Release 17
for 5MBS in the 5GMS architecture.
#### 4.4.4.2 5GMSA functions in the Trusted DN
The following diagram illustrates a network reference architecture with all
5GMS and 5MBS functions within the Trusted DN. A 5GMS Application Provider
(typically) in an External DN configures the 5GMS features via a Release 17
version of M1d interface. Two different models are considered:
1: The usage of 5MBS for media distribution is completely hidden from the 5GMS
Application Provider. The 5GMS System selects usage of 5MBS based on internal
criteria.
2: By means of 5GMS provisioning procedures at (extended) M1d, the 5GMS
Application Provider explicitly controls the potential usage of 5MBS in
certain areas and for certain content. For example, some content might not be
authorized for 5MBS distribution by content rights owners. Or, some content
might only be authorized for 5MBS distribution.
{width="4.46875in" height="5.145833333333333in"}
Figure 4.4.4.2-1: 5MBS architecture combined with 5GMS hosted in Trusted DN
#### 4.4.4.3 5GMSA functions in an External DN
The following diagram illustrates a network reference architecture with all
5GMS within an external DN. Only the MBSTF resides inside a trusted DN. A 5GMS
Application Provider (typically) in an external DN configures the 5GMS
features via a Release 17 version of M1d interface.
{width="4.46875in" height="5.385416666666667in"}
Figure 4.4.4.3-1: 5MBS architecture combined with 5GMS hosted in External DN
### 4.4.5 Client Architectures
#### 4.4.5.1 Introduction
Clause 4.4.4 introduces two network architectures, but client architectures
are not provided. This clause provides client architectures and differentiates
two different cases:
1\. **5MBS standalone architecture.** In this case no 5G Media Streaming
components may be present and may serve also the case for which 5MBS is used
for other services than 5G Media Streaming in clause 4.4.5.2.
2\. **5MBS combined with 5GMS.** In this case the 5GMS Application Provider is
potentially unaware of 5MBS being used for media distributions in clause
4.4.5.3.
#### 4.4.5.2 Standalone 5MBS client architecture
Figure 4.4.5.2-1 provides an architecture for which 5MBS is used independently
of 5GMS. Note that the network part may have different instantations and
implementation models, and is hence is not fully documented.
Figure 4.4.5.2-1: 5MBS architecture independent of 5GMS
The key aspects of the client architecture are:
1\. The existence of a 5MBS client on the UE. This client is expected to have
similar functionalities of an MBMS client as defined in TS 26.346 [21].
2\. An API from the 5MBS client to the MBSF for the purpose of 5MBS control
plane and service handling referred to as interface MBS-5. It is expected that
this API has similar functionalities to those of the User Service Description
as defined in TS 26.346 [21].
3\. An interface between the 5MBS Client and the MBSTF for the purpose of 5MBS
user data exchange at MBS‑4. This interface includes:
\- MBS-4-MC dealing with unidirectional and multicast delivery from the MBSTF
to the 5MBS client. It is expected that this interface has similar
functionalities as defined in the delivery methods defined in TS 26.346 [21].
Editor's Note: Whether or not the architecture requires an interface MBS-4-UC
for bidirectional and unicast-based delivery between the 5MBS AS and the 5MBS
Client, and how the 5MBS AS is configured, is for further study.
4\. An interface MBS‑8 between the 5MBS Application Provider and the 5MBS
Aware-Application in order to announce 5MBS services.
5\. An API-based interface MBS‑6 exposed by the 5MBS Client and used by the
5MBS-Aware Application to manage and control 5MBS services. It is expected
that this API has similar functionalities to the control interfaces defined in
clause 6 of TS 26.347 [21].
6\. An API-based interface MBS‑7 exposed by the 5MBS Client and used by the
5MBS-Aware Application to receive user data information about 5MBS services.
It is expected that this API has similar functionalities as the data
interfaces defined in clause 7 of TS 26.347 [21].
NOTE: In the case where the 5MBS Client is deployed in a 5G Residential
Gateway and the 5MBS-Aware Application is deployed in a separate end device,
reference points MBS‑6 and MBS‑7 span the network interface between these
devices.
A further decomposition of the above client architecture is provided in Figure
4.4.5.2-2 for which the 5MBS Client is separated into two components, namely:
> _-_ An **MBSF Client** communicating with the MBSF function and
> predominantly dealing with user service description aspects. This function
> exposes the aforementioned MBS-6 API.
>
> _-_ An **MBSTF Client** communicating with the MBSTF function for delivery
> functions. This function exposes the aforementioned MBS-7 API.
Figure 4.4.5.2-2: Extended 5MBS architecture independent of 5GMS
Two new APIs are introduced, namely:
> _-_ MBS-6′ that predominantly provides an API to control and manage the
> delivery functions of the MBSTF Client.
>
> _-_ MBS-7′ that provides information logically assigned to MBS-5 delivery
> (user service information) through MBS-7′.
Some open question remain on details (see also clause 5.6 key issues):
> _-_ Are there deployments that do not require an MBSF Client and hence,
> MBS‑6′ is directly exposed to the 5MBS defined application.
>
> _-_ Are there deployments for which no unicast is used? In this case MBS‑5
> is completely served through MBS‑7′.
>
> _-_ Is it useful to separate the MBSTF Client into a multicast delivery and
> a unicast delivery component?
>
> _-_ On the MBS‑4‑UC requests, which unicast requests are proxied through
> 5MBS, for example to detect consumption, and which are served through M8?
NOTE: The 5MBS-Aware Application itself may be a media function and may
include a media player, independently of the 5GMS architecture.
#### 4.4.5.3 5GMS client architecture using 5MBS (option A)
Based on the architectures in clause 4.4.5.2, the 5GMS Client can be viewed as
a 5MBS-Aware Application and the 5GMS-Aware Application is basically unaware
of 5MBS usage. The network aspects are again not detailed here: it is assumed
that MBSF and MBSTF exist.
Figure 4.4.5.3-1: Combined 5GMS and MBS client architecture (option A)
In this case:
\- The Media Session Handler, based on information via M6 and M5, identifies
the existence of a 5GMS service that is available through 5MBS and uses this
information to:
\- Initialize and control the 5MBS through MBS-6.
\- Initialize the Media Player through M7, to the extent that MBS-7 is used
for service delivery.
> _-_ The Media Player, based on static and dynamic information from the 5MSB
> client uses MBS-7 and/or M4 for receiving media.
Some open question remain on details (see also clause 5.6 key issues):
\- Where is the manifest served from, through MBS-7, through M4, both, or
either?
\- How different deployment scenarios in terms of hybrid, MooD, can be
realized?
#### 4.4.5.4 5GMS client architecture using 5MBS (option B)
The alternative client architecture depicted in Figure 4.4.5.4‑1 below
combines the 5GMS architecture with that of 5MBS. It differs from Figure
4.4.5.3‑1 in the use of an additional core function, the 5MBS AS, to terminate
unicast file repair requests from the 5MBS Client at reference point MBS-4-UC.
The interface at this reference point is technically identical to that at M4,
i.e. unicast HTTP. The Media Player continues to use reference point M4 for
non-5MBS media retrieval from the 5GMS AS.
Figure 4.4.5.4-1: Combined 5GMS and MBS client architecture (option B)
In practical deployments that combine 5G Media Streaming with 5MBS, the MBSF
is likely to be co-located with the 5GMS AF, as described in clause 4.4.1 of
the present document. In addition, the 5MBS AS is likely to be co-located with
the 5GMS AS in such deployments because the two functions share a high degree
of commonality. Figure 4.4.5.4‑2 below illustrates this likely deployment
architecture.
{width="6.695138888888889in" height="4.854414916885389in"}
Figure 4.4.5.4-2: Combined 5GMS and MBS client architecture (option B)
depicting likely co-location
In both of the above figures, the 5MBS AS exposes an interface at reference
point MBS‑4‑UC that is technically identical to M4, and which is potentially
useful to the 5MBS Client in at least the following contexts:
1\. **Fast 5GMS session start-up** via unicast while the 5MBS Client is
waiting for initial multicast/broadcast packets to start arriving via MBS‑4.
2\. **Unicast recovery** of the application payload data carried in
multicast/broadcast packets that are not successfully received via MBS‑4, in a
manner that is transparent to the 5GMS Client.
3\. **5GMS session continuity** when multicast/broadcast service is
temporarily unavailable, in a manner that is transparent to the 5GMS Client.
4\. Switching the operating mode of a 5GMS session to unicast under the
direction of network-based **multicast operation on demand** (MooD), in a
manner that is transparent to the 5GMS Client.
Relevant issues to be studied include:
\- How the 5MBS AS is configured.
\- Shared use of a single PDU Session by M4 and MBS‑4‑UC. (The solution to
this may be trivial.)
\- Whether the presentation manifest is delivered via M4 or MBS-7.
\- How different deployment scenarios such as hybrid operation and MooD are
realised.
# 5 Key Issues
## 5.1 General
This clause identifies relevant key issues and gaps in existing 5GMS to
support collaboration scenarios where multicast ingestion or multicast
distribution might be used.
## 5.2 Key Issue#1: Support of multicast ABR in 5G Media Streaming
Architecture
### 5.2.1 Description
It has been observed that a small number of popular live linear TV channels
account for large viewership in over-the-top media service deployment. It is
expected that multicast could be used to deliver ABR-packaged media segments
in 5G Media Streaming so that a shared multicast/broadcast packet stream can
be delivered to the RAN nodes, without having the capacity costs associated
with unicast video delivery.
Some relevant features of a generic MABR functional architecture are described
below in terms of the DVB‑MABR architecture reproduced in Figure 4.3.1.1‑1:
\- Media objects (e.g. presentation manifests, media segments) can be made
available by the _Multicast server_ on different multicast transport sessions
(i.e. IP multicast groups) at reference point M, with the _Multicast gateway_
function selecting between them using standard multicast join/leave procedures
under the influence of requests from the _Content playback_ function at
reference point L.
\- In the case where there is more than one set of media object streams
encoded from the same source media stream (e.g. DASH adaptation set) in a
presentation, an additional set of multicast transport sessions can be
provided for each such set of media object streams.
\- The _Content playback_ function is an unmodified ABR media player (e.g. a
DASH player). However, specific APIs may additionally be provided to support
player operation.
\- The _Multicast gateway_ may be a media-aware HTTP(S) proxy or may be media-
unaware.
NOTE: Bit rate adaptation by a _Multicast gateway_ is for future study.
\- The purpose of the _Multicast rendezvous service_ is to maintain records of
managed _Multicast gateway_ instances, and to handle the initial request from
the _Content playback_ function for a presentation manifest. The _Multicast
rendezvous service_ redirects the _Content playback_ function to use a
_Multicast gateway_ for a particular media presentation, when this is
appropriate. This HTTP-level redirection is "sticky" and therefore is only
needed in the case of the _Content playback_ function's initial request for a
presentation manifest at the start of the presentation session. Subsequent
requests for the presentation manifest in the same presentation session go
straight to the _Multicast gateway_.
\- Once the _Content playback_ function has decided to use the _Multicast
gateway_ for a given media presentation, the request for the presentation
manifest is proxied through the _Multicast gateway_. This gives the _Multicast
gateway_ the opportunity to modify the presentation manifest. Notably, the
_Multicast gateway_ can arrange for the _Content playback_ function to direct
certain media segment requests to the _Multicast gateway_ at reference point L
by selectively changing the origin in some of the URL base paths.
\- The same media segments made available via multicast at reference point M
are also available via unicast at reference point A. This enables a _Multicast
gateway_ to offer transparent unicast-based repair of media not received
intact at reference point M and irreparable using AL‑FEC (if available).
Unicast retrieval of media segments is also useful for supporting fast
presentation start-up and for patching gaps when switching between multicast
transport sessions.
Editor's Note: Other relevant features may be identified and added at a later
point during the course of the study.
In the CableLabs IP Multicast ABR architecture Technical Report [13], similar
to DVB‑MABR, the term "Multicast Adaptive Bit Rate" is also used to refer to
the multicast delivery of video segment files to a gateway or proxy which
subsequently delivers these segments via HTTP when they are requested by a
streaming video Player. As with DVB‑MABR, each multicast stream typically
carries a single bit rate (e.g. a single DASH representation).
This key issue is aimed at studying how to provide support two scenarios:
1\. For a 5G Media Streaming Service provider to implement "Multicast ABR"
like functionalities in 5G Media Streaming leveraging 5G MBS functionalities.
For details see clause 5.2.3.
2\. For an external Multicast ABR provider to interface with 5G Media
Streaming and 5G MBS to distributed data over 5G System. For details see
clause 5.2.4.
Where appropriate, solutions addressing this Key Issue may include the reuse
of existing concepts, functions and/or interfaces from Release 16, including
the 5G Media Streaming architecture and the MBMS Service Layer.
Editor's Note: DASH-over-MBMS and the generic Application Service specified in
TS 26.346 already supports many of the required functions.
### 5.2.2 Scenario #1: MABR operation of 5MBS-enhanced 5GMS System
In this scenario, a 5MBS-capable 5GMS System operator wants to deliver linear
television and radio services to a population of 5GMS Clients running in
mobile UEs or fixed wireless access customer premises equipment, some of which
are multicast-capable. The 5GMS System operator could use 5MBS functions in
the Trusted DN to generate multicast transport sessions.
With reference to the simplified DVB functional architecture depicted in
figure 4.3.1.1-1, in this scenario the _Multicast server_ logical function
corresponds to a new function in the 5G System and the _Multicast gateway_
logical function corresponds to a function in the UE.
### 5.2.3 Scenario #2: External DVB‑MABR System interworking with 5MBS-
enhanced 5GMS System
In this scenario, an existing DVB-MABR System operator wants to deliver linear
television and radio services to an additional population of 5MBS-capable DVB
_Multicast gateway_ s running on UEs in an MNO's PLMN. The DVB-MABR System
operator feeds these additional _Multicast gateway_ instances from the same
DVB _Multicast server_ which is already used to target the _Multicast gateway_
instances in non-3GPP access networks. Some other aspects of this scenario
include:
1\. The UE-deployed _Multicast_ gateway instances discover the current set of
multicast sessions using standard DVB-MABR multicast session configuration and
control procedures.
2\. The UE-deployed _Multicast gateway_ instances are able to adapt
dynamically between multicast transport sessions of the same media
representation offered at different bit rates according to prevailing 5MBS
reception conditions using standard 5MBS procedures.
3\. The UE-deployed _Multicast gateway_ instances are able to repair
uncorrectable packet erasures in the currently subscribed multicast transport
sessions using the DVB-MABR unicast repair mechanism.
4\. The _Multicast_ gateway instances use standard DVB reporting mechanisms.
### 5.2.4 Initial assessment
A summary of the aforementioned MABR operation scenario and the DVB-MABR
interworking scenario is provided in Table 5.2.4-1 below.
Table 5.2.4‑1: Comparison between scenarios for MABR deployment
Category Scenario #1 (MABR operation) Scenario #2 (DVB-MABR interworking)
* * *
Deployment model MABR is an internal network optimisation by the 5GMS System
operator. DVB-MABR delivers content to DVB _Multicast gateway_ running on UEs
in a MNO PLMN. Network elements MABR is a 5MBS function in a Trusted DN that
generates a service addressing the requirements. DVB-MABR _Multicast server_
generates DVB-MABR multicast transport sessions. Client discovery 5GMS Client
discovers MABR Session. Discover MABR Session using DVB-MABR procedures.
Client ABR behaviour 5GMS Client adapts dynamically between 5MBS-advertised
multicast streams. DVB‑MABR _Multicast gateway_ adapts dynamically between
DVB-advertised multicast transport sessions. Repair 5GMS Client unicast repair
mechanism at M4d. DVB‑MABR _Multicast gateway_ unicast repair mechanism. Gap
analysis Check correspondence with DVB-MABR functions. Re-use of TS 26.346
functionalities. Define interfaces that permit external ABR technologies to
use 5G MBS.
### 5.2.5 Scope of study
For Scenario #1, the following is expected to be studied:
1\. A mapping of relevant Multicast ABR logical functions into the 5G
Multicast/Broadcast Service architecture and the 5G Media Streaming
architecture, including which reference points and protocols are required to
support Multicast ABR functionality.
2\. Outline procedures for configuring the Multicast ABR features relevant to
the scenario in the 5MBS System and/or in the (extended) 5GMS System.
3\. Outline procedures for discovering and establishing a Multicast ABR
session, for switching dynamically between multicast transport sessions, for
recovering from multicast packet loss and for reporting usage statistics and
Quality of Experience metrics for the purpose of optimal service management.
4\. Identifying network provisioning of different Representations, for example
using different QoS, different FEC settings etc.
Any gaps identified during the analysis will also be documented.
It is noted that Scenario #2 is primarily about wrapping the DVB-MABR
architecture around SA2\'s 5MBS architecture and interfacing it with a 5MBS-
extended 5G Media Streaming architecture. The problems relevant to 5G Media
Streaming for which solutions need to be studied are:
1\. How to realise the DVB _Multicast gateway_ function in a 5GMS UE and how
best to interface with the 5GMS Client. This includes studying options for bit
stream compatibility between DVB-MABR multicast transport sessions and 5MBS.
2\. How best to provide DVB-MABR multicast session configuration to a
_Multicast gateway_ using either native DVB-MABR mechanisms, 5MBS Service
Announcements or a blend of the two.
3\. How best to realise the DVB-MABR unicast repair mechanism. This could be
over-the-top repair requests via the unicast PDU Session, mediated through the
5GMS AS at M4, or a blend of the two.
4\. How best to integrate the _Multicast gateway_ with the DVB‑MABR reporting
mechanism. This could use native reporting over unicast PDU Session, or an
extension of the existing reporting mechanisms between the Media Session
Handler and 5GMS AF, or a blend of the two.
Editor's Note: Whereas Scenario #2 is possibly interesting to enable such
external services, it is more the duty of DVB as an example to make use of 5GS
capabilities than new definitions in 3GPP. Scenario #2 is more of relevance
for external organizations being users or 5GS technologies. It is thus
proposed to prioritize scenario #1.
### 5.2.6 Identified gaps
#### 5.2.6.1 Scenario #1: MABR operation of 5MBS-enhanced 5GMS System
In connection with the mapping to Collaboration B0, the following gaps are
identified in clause 7.2.1:
1\. A named reference point between the MBSF and 5MBS AS to enable the former
to publish 5BMS User Services session descriptions to the latter so that they
can be retrieved via unicast in cases where they are not conveyed in a service
announcement channel.
2\. The procedures for a 5MBS Client to retrieve these session descriptions
via MBS‑4‑UC.
3\. The means to announce these unicast-hosted session descriptions to the
5MBS Client at MBS‑5.
4\. The means to describe multiple object delivery sessions corresponding to
different representations of the same media adaptation set within a 5MBS User
Services session description consumed by the 5MBS Client.
NOTE 1: Clause 5.2.2.2 of TS 26.346 permits one FLUTE Download session to be
described by each session description instamce. It permits multiple session
description instances to be contained in one session description object, but
this is not further specified. Alternatively, the constraint on the number of
FLUTE channels per FLUTE Download session specified in clause 7.3.2.2 of TS
26.346 could be relaxed.
NOTE 2: In the Scenario #1 mapping presented in clause 7.2.1 it is assumed
that dynamic adaptation is performed by the 5MBS Client, but alternative
implementations are also possible.
#### 5.2.6.2 Scenario #2: External DVB‑MABR System interworking with 5MBS-
enhanced 5GMS System
For interworking between an external Application Function and the 5MBS System
according to Collaboration C, the following gaps are identified in clause
7.2.2.2:
1\. Configuration of a transparent multicast delivery session at Nmbsmf such
that it can be advertised in a 5MBS User Services session description and
consumed by a 5MBS Client.
2\. The means to describe multiple transparent object delivery sessions within
a 5MBS User Services session description provided via Nmbsmf, and the means to
deliver this session description to the 5BMS Client via MBS‑5.
3\. Client-side injection of a synthetic 5MBS User Services session
description from the 5MBS-Aware Application to the 5MBS Client at MBS‑6.
For interworking between an external Application Function and the 5MBS System
according to Collaboration D, the following gaps are identified in clause
7.2.2.3:
4\. Configuration of a transport-only multicast delivery session at Nmbsmf
such that it can be advertised in a 5MBS User Services session description and
consumed by a 5MBS Client.
5\. The means to describe multiple transport-only object delivery sessions
within a 5MBS User Services session description provided via Nmbsmf, and the
means to deliver this session description to the 5MBS Client via MBS‑5.
6\. Exposure of 5MBS User Services session descriptions to the 5MBS‑Aware
Application at MBS‑6.
7\. Control over multicast session delivery selection by the 5MBS‑Aware
Application at MBS‑6.
### 5.2.7 Conclusions and next steps
Through the exercise of mapping the relevant MABR logical functions into 5G
Multicast/Broadcast Service architecture, it is agreed that Multicast ABR is a
useful service layer feature that can be realised on top of the generic 5MBS
architecture proposed in TR 23.757 [7] and specified in TS 23.247 [26].
\- The potential solution for Scenario #1 documented in clause 7.2.1 describes
how the multicast ABR feature could be directly integrated into a 5MBS System.
\- The potential solutions for Scenario #2 documented in clause 7.2.2
demonstrate two different ways in which an external Application Function can
use a 5MBS System to realise multicast ABR operation by means of interworking.
This level of analysis is helpful in identifying potential gaps. To support
Scenario #2, however, the gaps are not only in the 5G System: the DVB-MABR
System additionally needs to support required interfaces such as Nmbsmf, N33
and N6. Specifying how to achieve this interworking lies beyond the scope of
3GPP.
As agreed in clause 7.3.1, 5MBS-delivered ABR media streaming could be
realised as a 5MBS User Service that allows streaming of DASH content as
defined in TS 26.501 [1], using a 5MBS Session to deliver the DASH segments in
multicast. When delivering content to a 5MBS Client, the MBSTF uses one or
more 5MBS Delivery Methods.
In order to support Scenario #1, it is proposed that normative work includes
the following objectives:
1\. Provide a general description and architecture for delivering media
services over 3GPP multicast/‌broadcast in TS 26.501 [1], with reference to
the Collaboration B0 mapping in clause 7.2.1.4.
2\. Define a logical reference point between the MBSF and the 5MBS AS that
allows 5BMS User Services session descriptions to be published by the former
to the latter.
3\. Define a procedure that allows the 5MBS Client to retrieve 5MBS User
Services session descriptions via logical reference point MBS‑4‑UC.
4\. Define a procedure at logical reference point MBS‑5 for announcing to the
5MBS Client a set of 5MBS User Services session descriptions that are hosted
on the 5MBS AS.
5\. Define the means to describe multiple object delivery sessions in a 5MBS
User Services session description.
6\. Define procedures for discovering and establishing a Multicast ABR
session, for dynamically (de)selecting multicast transport sessions, for
recovering from multicast packet loss and for reporting usage statistics and
Quality of Experience metrics for the purpose of optimal service management.
## 5.3 Key Issue 2: Nmb2 Design Considerations
### 5.3.1 Description
#### 5.3.1.1 General
In 5MBS, the existing BM-SC function is split into control plane (MBSF) and
user plane (MBSTF) functions, so that a single control plane function can
(potentially) control one or more user plane functions. A new interface Nmb2
is introduced between the control and user plane functions.
According to TR 23.757 [7]:
\- The new user plane function (MBSTF) receives the traffic using (an
evolution of) the xMB‑U interface and/or the MB2-U interface.
\- The new control plane function (MBSF) receives provisioning and control
commands using either existing MB2‑C or (an evolution of) xMB-C.
The present key issue studies how existing control plane procedures from xMB-C
impact Nmb2 transactions. It is assumed that corresponding BM-SC features
(like the MBMS Download Delivery, Streaming Delivery or Transparent Delivery)
are migrated into 5MBS.
NOTE: The present clause uses BM-SC function terminology. For 5MBS, the
functions may be renamed.
#### 5.3.1.2 Model of a BM-SC User-Plane Function for MBMS Download Delivery
The model in Figure 5.3.1.2-1 below assumes that a FLUTE function according to
MBMS Download Delivery (clause 7 in TS 26.346 [16]) is mapped into the MBSTF.
NOTE: FLUTE is used in this clause for illustrative purposes to study the
interface between a BM-SC control and user-plane. The reuse, evolution or
replacement of this object delivery protocol in Release 17 should be studied
in a separate Key Issue.
The purpose of this simplified model is to help identify the xMB-C parameters
(xMB Service and Session Parameters) needed to configure an MBSTF at Nmb2.
{width="6.725325896762905in" height="3.412638888888889in"}
Figure 5.3.1.2-1: Simplified User Plane model for FLUTE (as an MBSTF function)
The model depicts some key functions from an xMB-U ingest to an MB-UPF ingest
(N6). In the case of 5MBS Download (e.g. used for DASH/HLS over MBMS or
generic file delivery) the MBSTF operates as follows:
1\. The **HTTP File Receiver** is responsible for ingesting content resources
intended for multicast transmission at xMB-U. It supports two basic content
ingest modes:
a) **HTTP Pull** , in which the MBSTF pulls resources from an upstream HTTP
server, such as the 5GMSd AS. In this mode, the Nmb2 API is used to provide
individual URLs to be downloaded.
b) **HTTP Push** , in which resources are uploaded to the MBSTF by an upstream
client using HTTP PUT. In this mode, the Nmb2 API is used to provide a base
URL for ingesting data to the API invoker.
2\. The MBSTF may store partial or complete resources in a local **File
Cache** prior to transmission at N6. Optimized implementations may pipe files
through with only minimal buffering/caching.
3\. HTTP metadata such as Content-Location (resource URL), Content-Length
(resource size), and Content-Type (MIME content type) is provided by the HTTP
File Receiver to the **FDT Instance creation** function. This acts as input
(with other Nmb2 parameters) to form the FDT Instance XML document.
4\. The **File partitioning** function segments resources (including FDT
Instances) into one or more multicast packet payloads. In the case where a
Forward Error Correction scheme such as Raptor FEC (RFC 5053 [23]) or Compact
No-Code FEC (RFC 5445 [24]) is used, there are recommended schemes and
parameters to partition a resource into a sequence of packet paylods (called
encoding symbols).
5\. The **Delivery object packetization** function creates a sequence of IP
packets (incl UDP and FLUTE packet headers) for the delivery object. It
inserts FLUTE header parameters such as the TSI, sequence number (FEC Symbol
ID according to No-Code FEC, RFC 3695 [25] or Raptor FEC, RFC 5053 [23]), etc.
As result, a complete UDP packet payload is created, which can be written to a
UDP socket at the appropriate time of transmission.
6\. Finally, the **Streamer & Pacer** function sends the multicast UDP packets
according to a defined bit rate to the configured MP-UPF ingest point, which
can be an MB2-U tunnel, some direct multicast, or similar.
#### 5.3.1.3 Handling of In-band ancillary Information for MBMS Download
Delivery
TS 26.346 [16] allows transmission of Service Announcement Metadata fragments
in band with the session or out of band. Annex L.2.8 of [16] further defines
handling of in-band fragments within the Service Announcement Channel (SACH)
profile.
The usage of in-band fragments to update service announcement metadata
fragments is specifically needed in cases of eMBMS-only transmissions, e.g. in
areas of high receiver density or when offering services through a Shared MBMS
Network (cf. TS 23.247, Clause 7.5). The usage of unicast is preferably
avoided in areas of high receiver density to prevent congestion situations.
The service announcement for 5MBS User Services may evolve. In-band ancillary
information is logically part of the 5MBS User Service announcement, and the
information objects are sent in-band with the content stream using the same
MBS Session. Only 5MBS Clients that have activated reception of the 5MBS
Session will receive the in-band ancillary information.
In-band ancillary information objects are typically XML instance documents
formatted as regular FLUTE transmission objects and received by the 5MBS
Client. In-band ancillary information may be interleaved with other content
objects, i.e. the BM-SC sends the packets comprising the in-band ancillary
information interleaved with those comprising content object(s). In-band
ancillary information may be repeated multiple times in carousel fashion to
assist with unsynchronised acquisition by the MBMS Client. When repeating the
transmission object corresponding to an in-band ancillary information object
it is beneficial to keep the same FLUTE parameters, specifically the Transport
Object Identifier (TOI), so that the FLUTE receiver in the 5MBS Client can
efficiently detect and ignore repetitions.
The model in Figure 5.3.1.3-1 below extends the FLUTE model from clause
5.3.1.2 to include in-band ancillary information. The in-band-related
functions are depicted in green; blue components are identical to those in
Figure 5.3.1.2‑1.
{width="6.691871172353456in" height="2.9142016622922133in"} Figure 5.3.1.3-1:
In-band ancillary information related functions (in green) of an MBSTF
Two categories of in-band ancillary information objects are considered in the
context of 5MBS:
1: **_5MBS Delivery function related_** , i.e. sending ancillary information
objects (in band) to the 5MBS Client, such as file repair configuration
information.
2: **_5MBS User Service function related_** , i.e. sending ancillary
information objects (in band) to an application component behind the 5MBS
Client, such as a Media Player.
The model adds in-band ancillary information related functions to the user
plane model:
1\. The **Ingest** function is responsible for receiving the control object
for in-band delivery. It may support push- or pull-based ingest (similar to
xMB-U). Alternatively, in-band ancillary information may be embedded in an
Nmb2 control payload, e.g. using Base64 encoding. The control object is
typically an XML instance doucment.
2\. The **Partitioning, packetization and FDT Instance Creation** function is
converting the ingested control object into a sequence of FLUTE packets,
including the corresponding FDT Instance object. In-band control objects are
identified in the FDT Instance by a distinct MIME content type.
3\. The **Cache** function is used to retain a copy of the packetised control
object for repetitions.
4\. The **In-band ancillary information** **insertion** function interleaves
the in-band control object packets with those of other user plane objects.
#### 5.3.1.4 Multiplexing of In-band ancillary information
In-band ancillary information can be multiplexed on different levels into the
main 5MBS data stream. The 5MBS client need to filter out and process in-band
ancillary information.
a) MBS session/TMGIs
b) Multicast addresses
c) UDP Ports
d) FLUTE Transport Session Id (TSI)
e) FLUTE Transport Object Id (TOI), e.g. FDT Instances always on TOI 0
f) MIME Type (Today in eMBMS)
#### 5.3.1.5 Review of existing xMB properties for MBMS Download MBSTF
configuration
This section contains a copy of the xMB service (clause 5.3.7) and Session
(clause 5.4.6) properties. The column "related to User Plane" indicates
whether the property is related to the user plane handling, e.g. defining the
xMB-U ingest, etc. In this case, the MBSTF need to be provisioned with the
property value. Likely, the property is exposed via Nmb2.
Table 5.3.1.5-1: List of existing xMB Service Properties
* * *
Property Name Related to User Plane\ Note (i.e. forwarded to MBSTF)
* * *
Id No
ServiceID No
Service Class No
Service Languages No
Service Names No
Receive Only Mode For Study This flag is for ROM services.
Service Announcement Mode No
Consumption Reporting Configuration For Study
Push Notification URL Yes
Push Notification Configuration Yes
* * *
Table 5.3.1.5-2: List of existing xMB Session Properties
+----------------------+----------------------+----------------------+ | Property Name | Related to User | Note | | | Plane\ | | | | (i.e. forwarded to | | | | MBSTF) | | +======================+======================+======================+ | id | | | +----------------------+----------------------+----------------------+ | Session start | Yes | The MBSTF needs to | | | | know when to start | | | | generating user | | | | plane packets. | +----------------------+----------------------+----------------------+ | Session stop | Yes | The MBSTF needs to | | | | know when to stop | | | | generating user | | | | plane packets. | +----------------------+----------------------+----------------------+ | Max Bitrate | Yes | | +----------------------+----------------------+----------------------+ | Max Delay | Yes | | +----------------------+----------------------+----------------------+ | Session State | Partially | A session state is | | | | needed, but without | | | | the state "Session | | | | Announced". | +----------------------+----------------------+----------------------+ | Service Announcement | No | | | start time | | | +----------------------+----------------------+----------------------+ | Geographical Area | FFS | | +----------------------+----------------------+----------------------+ | QoE Reporting | No | | +----------------------+----------------------+----------------------+ | QoE Report URL | No | | +----------------------+----------------------+----------------------+ | Session Type | yes | | +----------------------+----------------------+----------------------+ | Header Compression | FFS | Unclear whether RoHC | | | | header compression | | | | is in RAN. | +----------------------+----------------------+----------------------+ | FEC | yes | | +----------------------+----------------------+----------------------+ | Transport Mode | | | +----------------------+----------------------+----------------------+ | Session Description | yes | | | Parameters for User | | | | Plane | | | +----------------------+----------------------+----------------------+ | Delivery Mode | yes | | | Configuration for | | | | user plane | | | +----------------------+----------------------+----------------------+ | Delivery Session | yes | | | Description | | | | Parameters | | | +----------------------+----------------------+----------------------+ | Streaming | | | +----------------------+----------------------+----------------------+ | SDP URL | yes | | +----------------------+----------------------+----------------------+ | TimeShifting | | | +----------------------+----------------------+----------------------+ | Application | | | | (including DASH) | | | +----------------------+----------------------+----------------------+ | Application Service | | | | Description | | | +----------------------+----------------------+----------------------+ | Ingest Mode | yes | | +----------------------+----------------------+----------------------+ | Application Entry | | | | Point URL | | | +----------------------+----------------------+----------------------+ | Push URL | yes | | +----------------------+----------------------+----------------------+ | Unicast Delivery | | | +----------------------+----------------------+----------------------+ | Components | | | +----------------------+----------------------+----------------------+ | Files | | | +----------------------+----------------------+----------------------+ | Ingest Mode | yes | | +----------------------+----------------------+----------------------+ | File List | yes | Except Unicast | | | | availability. | | | | | | | | Target Reception | | | | Completion time is | | | | FFS, since unicast | | | | File Repair is | | | | included. | +----------------------+----------------------+----------------------+ | Carousel Mode | | | +----------------------+----------------------+----------------------+ | Carousel Scheduled | yes | | | Interval | | | +----------------------+----------------------+----------------------+ | File delivery | yes | | | manifest URL | | | +----------------------+----------------------+----------------------+ | Push URL | yes | | +----------------------+----------------------+----------------------+ | Display Base URL | yes | | +----------------------+----------------------+----------------------+ | SA file URL | no | An SA-file like | | | | concept is needed, | | | | but the MBSTF is not | | | | handling it. | +----------------------+----------------------+----------------------+ | Mission Critical | | | +----------------------+----------------------+----------------------+ | MC-Extension | | | +----------------------+----------------------+----------------------+ | TMGI | no | The MBSTF only need | | | | the MB-N6 tunnel | | | | information to | | | | ingest the data into | | | | the MB-UPF. The MBSF | | | | handles the TMGI. | +----------------------+----------------------+----------------------+ | QoS‑Information | no | The MBSTF is not | | | | responsible for | | | | control plane | | | | interactions with | | | | the MB-SMF. | +----------------------+----------------------+----------------------+
#### 5.3.1.6 Model of a BM-SC User-Plane Function for Group Communication
Delivery
The model in Figure 5.3.1.6-1 below assumes that the BM-SC FEC encoding
function according to Group Communication Delivery Method (Clause 8A in TS
26.346 [16]) is mapped into the MBSTF. According to TR 23.757 [7], the MBSTF
exposes an MB2-U interface, which should be used (only?) when FEC needs to be
added to Group Communication. When no FEC is needed, the GCS AS may directly
send the traffic to the MB-UPF using N6.
The purpose of this simplified model is to help identify the MB2-C parameters
needed to configure an MBSTF at Nmb2. The function "FEC Payload creation"
generates a new RTP flow carrying the FEC redundancy information to protect
one or more RTP media flows.
{width="6.613695319335083in" height="2.90007217847769in"}
Figure 5.3.1.6-1: Simplified User Plane model for Group Communication Delivery
with FEC\ (as an MBSTF function)
The model depicts some key functions from an MB2-U ingest to an MB-UPF ingest
(N6). In the case of Group Communication Delivery the MBSTF operates as
follows:
> 1\. The **MB2-U Receiver** is responsible for receiving the MB2-U packets.
> The IP multicast user plane packets are encapsulated into the MB2-U packets.
> The MB2-U receiver may duplicate the packets so that the original packet can
> be passed through to the output and the copy remains in the Packet Cache for
> FEC source block creation.
>
> 2\. The **RTP Passthrough** passes the source packets directly to the
> output.
Editor's Note: It is ffs, whether the RTP Passthough function appends FEC
information (like a source block id), without modifying the original parts.
> 3\. **FEC Payload Creation** calculates the FEC redundancy information which
> is then carried as a separate RTP flow to the receiver.
>
> 4\. **RTP packet creation** prepends RTP header fields to the payloads of
> the FEC flow.
>
> 5\. The **Streamer & Pacer** ensures a smooth output bit rate according to
> the configured Guaranteed Bit Rate.
NOTE: Since FEC redundancy is added to the stream, the output bit rate is
higher than the input bit rate.
When a GCS AS activates an MB2 session with FEC, the GCS AS provides the
following information to the BM‑SC:
\- **FEC configuration information** (see clause 6.4.27 of TS 29.468 [18]). A
list of the FEC Framework configuration information according to clause 8A.5
of TS 26.346 [16] is depicted in Figure 5.3.1.5-2 below.
{width="6.69375in" height="3.78125in"}
Figure 5.3.1.6-2: FEC Framework configuration information according to TS
26.346 Clause 8A.5
As response, the GCS AS receives the MB2-U tunnel endpoint information (i.e.
the BM‑SC Address AVP and BM‑SC Port AVP).
When the BM‑SC is split into MBSF and MBSTF, the MBSF interacts with the MB-
SMF in order to obtain the N6 ingest parameters for the MB-UPF. The MBSF
provides the FEC framework configuration information together with the MB-UPF
N6 ingest information to the MBSTF via Nmb2. The MBSTF allocates the MB2-U
tunnel endpoint information and passes the MB2-U ingest information back to
the MBSF.
The MBSF may pass the FEC Framework configuration information to the MBSTF as
an Octet Stream (see clause 6.4.27 of TS 29.468 [18]) so that the MBSTF parses
the SDP information.
### 5.3.2 Identified gaps
1\. For the 5MBS Object Delivery Method (former Download Delivery), the Nmb2
API should re-use the xMB-C property for configuration. The configuration
should be extended with N6-mb parameters and Streamer parameters (e.g. bit
rate). A TMGI or MBS Session Id is not needed.
2\. For the 5MBS Transparent delivery methods and Group Communication delivery
method, the Nmb2 API should accommodate FEC Framework configuration data. In
addition, the N6mb parameters and Streamer parameters (e.g. bit rate) are
needed. A TMGI or MBS Session Id is not needed.
3\. It is for discussion whether the MBSTF functionality for the Group
Communication delivery method can be merged with the Transparent delivery
method. It seems that the only differences are configuration aspects, such as
usage of MB2-C or xMB-C.
4\. The MBSTF is a user plane only function and should not create any
ancillary information. The MBSF and/or the AF/AS should be the source of any
in-band ancillary information, which are ingested and transmitted by the MBSTF
according to Nmb2 received instructions.
5\. The Nmb2 API should support the ingest of in-band ancillary information. A
separate ingest point to the delivery function is needed to provide the
ancillary information, either embedded in Nmb2 or as separate interface.
NOTE: Ancillary information may be distributed either using unicast or 5MBS.
Distribution of ancillary information in-band with other MBS data on the same
MBS Session (c.f. MBMS Bearer) may only be needed in some scenarios.
6\. The existing xMB-C API does not support the ingest of 5MBS User Service
related in-band ancillary information. The 5MBS version of xMB-C (Nmbsf)
should be evolved to include this suppport.
### 5.3.3 Conclusions
In order to support 5MBS User Service features through two separate network
functions (i.e. MBSF and MBSTF), it is proposed that normative work includes
the following objectives.
1\. Define the API at the Nmb2 reference point between the MBSF and MBSTF
which is used to control the transport services offered by the MBSTF.
a. The Nmb2 API should re-use the xMB-C concepts and properties identified in
clause 5.3.1.4.
b. The Nmb2 API should support configuration with N6-mb parameters.
c. The Nmb2 API should allow selection and configuration of different 5MBS
delivery methods, in particular a new 5MBS object delivery method and a 5MBS
transparent delivery method.
2\. It is assumed that the MBSTF does not need to support a separate Group
Communication method. Instead, the MBSF instantiates a version of a 5MBS
transparent delivery method. It is recommended that an informative clause
describes the usage of 5MBS transparent delivery for Group Communication
support.
3\. The MBSF is the control plane function, which generates and manages
metadata to access the 5MBS User Service session. In some cases, the 5MBS User
Service session access metadata is sent as ancillary information in band with
user plane data. The Nmb2 API should support the ingest of in-band ancillary
information. It is for study whether a separate ingest point should be
supported or whether the ancillary information objects can be embedded in
Nmb2.
4\. Decide multiplexing level of in-band ancillary information (e.g. keep MIME
Type based like in eMBMS). In case a different QoS profile is used for in-band
ancillary information, then the MB-UPF needs to filter/identify the in-band
ancillary information.
5\. The existing xMB-C API does not support the ingest of 5MBS User Service
related in-band ancillary information. The 5MBS version of xMB-C (Nmbsf)
should be evolved to include this suppport.
## 5.4 Key Issue #3: Collaboration and deployment scenarios
### 5.4.1 Description
In the following, four different deployment models are presented. The key
guiding assumption here is that the MBSF contains key IP Multicast related BM-
SC functions such as a FLUTE Sender (which belongs to the "MBMS Download and
Streaming Delivery Function"). The intention is to identify important
collaboration scenarios for the normative work.
The existing 5GMSA APIs M1d, M2d, M4d and M5d maybe be extended during 3GPP
Release 17 with 5MBS (and other) functions.
It is further assumed that Nmbsf is an evolution of xMB-C and Nmbstf an
evolaution of xMB-U.
A general assumption for all the collaboration scenarios is that the 5GMSd
functions are used for unicast content distribution, e.g. CDN functionality
for DASH streaming is used.
### 5.4.2 Collaboration A
**Collaboration A** depicts a deployment where all 5MBS and 5GMSd functions
are deployed inside the trusted DN. Three different variants are depicted.
The 5GMSd AF and AS are responsible for unicast content distribution (e.g.
CDN), i.e. M5d and M4d are exposed by the 5GMSd functions.
The MBSF and MBSTF functions are for 5MBS distribution. The MBSF is the
control and interacts with the MB-SMF using Nmbsmf.
\- A0: The MBSF is integrated within the 5GMSd AF.
\- A1: Fully separated functions.
\- A2: Integrated control and user plane functions.
Collaboration A0 describes a model where the MBSF function is integrated into
the 5GMSd AF and the MBSTF function is still standalone. Background here is
that the user plane functions are more specialized, i.e. optimized HTTP
servers for unicast and optimized multicast delivery functions for multicast.
The 5GMSd AF uses the newly developed Nx2 API to configure and control the
multicast delivery functions. The 5GMSd AS might be extended to cut-though any
push ingest into the Nmbstf (former xMB-U).
{width="6.5in" height="2.327419072615923in"}
Figure 5.4.2-1: Collaboration A0: MBSF integrated within the 5GMSd AF
{width="6.25in" height="2.2379035433070866in"}
Figure 5.4.2-2: Collaboration A1: Fully separated functions
{width="6.5in" height="2.327419072615923in"}
Figure 5.4.2-3: Collaboration A2: Integrated Control and User Plane functions
### 5.4.3 Collaboration B
**Collaboration B** depicts a mixed deployment where only the 5MBS related-
functions are deployed in the trusted DN. Configuration B in Figure A.3.2-2
(TR 23.757) indicates that an external AF uses the NEF as control plane entry
point. It is assumed that the Nmbsf interface (based on xMB-C) is passed
through the NEF and that the NEF adds security-related functions
transparently.
Like in Collaboration A (and C), the 5GMSd functions are used for unicast
content distribution, e.g. CDN functionality for DASH streaming is in an
external DN. The functions in the trusted DN are leveraged to prepare the
content for 5MBS delivery. Here is it assumed that unicast functions such as
unicast content reception (e.g. DASH) and features like file repair can be
offered by the 5GMSd AS from the external DN.
Note that Collaboration B2 does not contain 5GMSA functions. This
collaboration scenario is associated with Collaboration B because the MBSF and
MBSTF functions are within the Trusted DN.
Also, for Collaboration B, three different variants are depicted:
\- B0: The MBSF is presented in the Trusted DN for service management.
\- B1: The MBSF is absent and only an MBSTF is used.
\- B2: Only 5MBS functions, without 5GMSA functions.
{width="7.236111111111111in" height="2.590994094488189in"}
Figure 5.4.3-1: Collaboration B0: Mixed external and Trusted DN functions
{width="6.729166666666667in" height="2.4094761592300964in"}
Figure 5.4.3-2: Collaboration B1: Mixed external and trusted DN functions
{width="6.283333333333333in" height="2.775in"}
Figure 5.4.3-3: Collaboration B2: Mixed external and trusted DN functions
deployed without 5GMS functions
### 5.4.4 Collaboration C
**Collaboration C** depicts a deployment where all media related functions are
deployed in an external DN and the 5G System offers only connectivity
services, i.e. either unicast connectivity or 5MBS transport-only
connectivity.
{width="6.17231627296588in" height="3.1944444444444446in"}
Figure 5.4.4-1: Collaboration C: All media functions in external DN
One could wonder why 3GPP should consider this deployment option. The
consideration here is that a 5GMSd Client (including a new 5MBS Client) in the
UE can still be leveraged as a multicast receiver, supporting reception of
3GPP-defined "DASH over 5MBS" generic file delivery and RTP streaming. An
"MBSTF-like" function would generate a bit stream compliant with TS 26.346
[16]. An external Application Function (AF) may use Nmbsmf (via NEF) to
activate a transport-only type of delivery into the MB-UPF (according to
Configuration 1 in Figure A.3.2-2 of TR 23.757 [7]).
### 5.4.5 Collaboration D
**Collaboration D** depicts a deployment similar to Collaboration #4 in TS
26.501 [1]. Here, the media plane does not follow 3GPP specifications. An
Application Function (AF) may use Nmbsmf (via NEF) to activate a transport-
only type of delivery into the MB-UPF (according to Configuration 1 in Figure
A.3.2-2 of TR 23.757 [7]). Still, a 3GPP-defined Media Session Handler is
interacting with a 3GPP-defined 5GMSd AF.
{width="6.896646981627296in" height="2.4694444444444446in"}
Figure 5.4.5-1: Collaboration D: Usage of transport-only delivery with
non-3GPP protocols at M4d-mb
### 5.4.6 Conclusion
Different collaboration scenarios have been studied. It is concluded that the
normative work should focus on Collaboration B2.
Collaboration scenario B1 will not be supported because the MBSTF must be in
the same Data Network (e.g. within the trusted data network) as the
controlling MBSF.
Other collaboration and deployment scenarios will be supported by the
technical specification. It is recommended to illustrate the different
collaboration and deployment scenarios (independently from 5GMS) in the new
5MBS User Service Technical Specification.
## 5.5 Key Issue #4: Reuse of MBMS service layer
### 5.5.1 Description
The following aspects are proposed in order to study the reuse of MBMS service
layer:
> 1\. Study the re-use of relevant "MBMS Service layer" functionalities (as
> defined in TS 26.346) for 5G MBS Session (as to be defined in Rel-17, TR
> 23.757) with full multicast support. In particular relevant functionalities
> are:
>
> o Service Announcement and Discovery as defined in TS 26.346.
>
> o Download Delivery method, File Delivery as defined in TS 26.346, clause 7.
>
> o DASH/HLS over MBMS (both broadcast/multicast only as well as hybrid) as
> defined in TS 26.346, clause 5.3.
>
> o Transparent delivery method as defined in TS 26.346, clause 8B.
>
> o Associated delivery procedures as defined in TS 26.346, clause 9.
>
> 2\. Study the necessary extensions of relevant "MBMS Service Layer"
> functionalities to support 5GS and 5G MBS Sessions (as to be defined in
> Rel-17, TR 23.757) in the context of 5G Media Streaming
>
> 3\. Identify harmonization potentials for the 5G Media Streaming APIs (as
> defined in TS 26.501 and TS 26.512) with APIs defined in TS 26.348 (xMB), TS
> 26.346 (Protocols) and TS 26.347 (Client APIs) and integrate the "MBMS user
> service" relevant functions into 5G Media Streaming either by reference or
> by creating a new specification TS 26.51x.
>
> 4\. Study the separation of the User Plane and Control Plane Functionalities
> of "BMSC" and map this to the relevant 5GMSd AS and AF.
>
> 5\. Study the separation the User Plane and Control Plane
> Functionalities/APIs of "MBMS client" and map to or extend 5GMSd client
> functionalities/APIs (Clause 6 in TS 26.347 is control, clause 7 in TS
> 26.347 is user).
### 5.5.2 Conclusions
Based on the discussions in this TR, the following re-use aspects are
proposed.
1\. The following "user service" functionalities (as defined in TS 26.346)
with proper mapping to 5G MBS architecture (as to be defined in Rel-17, TS
23.247) are proposed to be reused and extended if needed. The combination with
5G Media Streaming is one deployment scenario.
a) Service Announcement and Discovery as defined in TS 26.346 based on
userServiceDescription. Stage-3 aspects may be reconsidered, for example to
align with 5GS design principles.
b) Object delivery Method that includes:
\- Download delivery method, File Delivery as defined in TS 26.346, clause 7.
\- DASH/HLS over MBMS as defined in TS 26.346, clause 5.6 and 5.7, including
Low-Latency CMAF as defined in 5GMS.
c) A common packet delivery method that includes the relevant delivery aspects
of transparent delivery method, group communication delivery method and
streaming delivery method as defined in TS 26.346, clause 8B, 8A and 8
respectively.
d) The relevant functions as now defined as Associated Delivery Procedures in
TS 26.346, clause 9, and aligning with 5GMS.
2\. Define the necessary extensions of relevant "MBMS Service Layer"
functionalities to support 5GS and 5G MBS Sessions (as to be defined in
Rel-17, TS 23.247). This pre-dominantly includes the definition or proper
delivery method establishment.
3\. Provide the relevant functions and protocols for northbound interfaces
based on the xMB API defined in TS 26.348.
4\. Define the separation of the User Plane and Control Plane Functionalities
of "BM-SC" (now MBSF and MBSTF) and define the API between MBSF and MBSTF
(named \'Nmb2\').
5\. Define the User Plane and Control Plane Functionalities/APIs of the 5MBS
Client based on the MBMS Client functions as defined in TS 26.347 (Clause 6 is
control, clause 7 is user-plane).
## 5.6 Key Issue #5: Client Architecture Options
### 5.6.1 Description
Clause 4.4.2 provides different client architectures. Open questions resulting
from the stand-alone architecture are formulated:
> _-_ Are there deployments that do not require an MBSF client and hence,
> MBS-6's is directly exposed to the 5MBS defined application.
>
> _-_ Are there deployments for which no unicast is used. In this case MBS-5
> is completely served through MBS-7'
>
> _-_ Is it useful to separate the 5MBSU client into a multicast delivery and
> a unicast delivery component?
>
> _-_ On the MBS-4-UC requests, it needs to be understood what unicast
> requests are proxied through 5MBS, for example to detect consumption, or
> whether this is served through M8?
### 5.6.2 Approach to solve
In order to solve the above questions, different scenarios and use cases need
to be document and call flows need to be provided. In particular the following
services are studied:
> _-_ Services using transport-only mode.
>
> _-_ Services using file delivery mode including segment-based streaming.
>
> _-_ 5MBS multicast/broadcast only services without unicast.
>
> _-_ Different flavours of hybrid services (see details in clause 5.7).
### 5.6.3 Conclusions
It is proposed to define the User Plane and Control Plane Functionalities and
APIs of a 5MBS Client, as the counterpart of "MBMS Client" API in clause 6 in
TS 26.347 for the control plane and clause 7 in TS 26.347 for the user plane.
As significant similarities between MBMS-APIs and 5MBS-APIs are expected, an
extension of TS 26.347 may be considered to also include 5MBS-APIs.
## 5.7 Key Issue #6: Hybrid Services
### 5.7.1 Description
#### 5.7.1.1 Definition
A hybrid service is defined as a service that fulfills at least one of the
following aspects:
> 1\. The same service is available on different delivery systems, for example
> on multicast, on broadcast or on unicast
>
> 2\. A service available on one delivery system may be enhanced by additional
> resources available on a different delivery system
>
> 3\. The service include sufficient information such that a client can
> synchronize or seamlessly replace the service on one delivery system with
> the one on a different one.
The following key aspects need to be studied:
− Study the support for external hybrid services (as defined in clause
5.7.1.2) including live TV services with latency constraints) to support
different functionalities such as service continuity etc.
− Study the support for 5GMS-based hybrid services (as defined in clause
5.7.1.3) (including live TV services with latency constraints) to support
different functionalities such as service continuity etc.
#### 5.7.1.2 Use Case 1: External Hybrid Service
An overview of the considered system is shown below for which DVB-I (including
DVB-I Service Discovery, ABR multicast, DVB-DASH and DVB-AVC codecs) can be
used to suitable distribute DVB services to any type of device.
A service provider offers a service in a service list. The services are the
same content services, but they are distributed over different distribution
means. The service provider wants to include all relevant 5G distribution
systems available up to Rel-17.
> 1\. 5GMS using APIs as defined in TS 26.501
>
> 2\. 5G based broadcast as defined in ETSI TS 103 720 with APIs based on TS
> 26.348.
5MBS delivery as is expected to be defined in Rel-17.
{width="6.231944444444444in" height="3.834722222222222in"}
Figure 5.7.1.2-1: External hybrid service
Services may be made available completely or partially on different delivery
means. Clients capable of one or multiple 5G Media distribution systems should
be able to select suitable delivery services, combine them and/or dynamically
switch across these systems. In particular relevant is the hybrid combination
that allows that a service may not only be available through a single
distribution mean, but may be augmented and enhanced by other means, for
example in case no broadcast coverage is available.
One potential use case is provided in the following:
> _-_ A Broadcast operator operates a HPHT distribution, for example in a
> dedicated broadcast spectrum or any other spectrum that is accessible for
> HPHT distribution
>
> _-_ The Broadcast operator primarily targets non-TV devices (smart phones,
> tablets, etc.) but also provides the services to TV devices (TV, STB).
>
> _-_ The Broadcast operator provides multiple services, for example public
> free-to-air or private.
>
> _-_ Broadcast operator has the ambition to run a hybrid service (integrated
> broadcast/unicast distribution) from day one, for some of the following
> reasons:
>
> o Perceptually good service continuity to ensure coverage, in particular
> indoor and urban.
>
> o Providing the same services to devices that do not support
> broadcast/multicast reception.
>
> o Unicast-based ad insertion (targeted to users, regions, etc.).
>
> o Targeted regional content.
>
> o Service Signalling.
>
> o Content Protection on service/app level (for subscription services).
>
> o QoE metrics reporting.
>
> o Consumption Reporting for operational purposes.
>
> o Enhanced content quality by additional unicast (e.g. through
> scalable/layered coding or equivalent means) subject to availability of DVB
> codecs supporting this.
>
> o Fast service start-up and service acquisition while maintaining efficient
> delivery on broadcast. Different aspects may matter depending on device and
> service types.
>
> o Unicast-based error recovery if reception on a primary distribution is
> lossy.
>
> o Auxiliary components on unicast, for example alternative languages or
> views.
>
> o Audience Measurement
>
> o Ad Tracking
The key aspects of the use case for 5MBS are as follows:
> _-_ The service needs to be provisioned
>
> _-_ Ingest needs to be enabled
>
> _-_ The service needs to be announced and discovered
>
> _-_ The MBS-aware application may dynamically monitor and switch on/off the
> service reception
>
> _-_ The MBS-aware application expects sufficient information to switch
> across delivery methods
>
> _-_ The MBS-aware application expects sufficient information to consume
> media received on different delivery systems jointly.
#### 5.7.1.3 Use Case 2: 5GMS Hybrid Service
In a similar fashion as discussed in clause 5.7.1.2, a hybrid service is now
offered by an MNO as part of 5G Media Streaming, according to the client
architecture depicted in Figure 4.4.2.3‑1. The service integrates 5GMS
unicast-based and 5MBS-based delivery. The integration of 5G Broadcast based
on enTV as defined in ETSI TS 103 720 is covered in key issue #7 in clause
5.8.
In the hybrid case, the following functionalities are supported:
> _-_ Same service is offered through 5GMS unicast and 5MBS. Client decides
> which service to use depending on among others its capabilities, reception
> quality, etc.
>
> _-_ Content may be targeted, for example for ad insertion (targeted to
> users, regions, etc.).
>
> _-_ Enhanced content quality by additional unicast (e.g. through
> scalable/layered coding or equivalent means) subject to availability of DVB
> codecs supporting this.
>
> _-_ Content may be offered that certain components are available on unicast
> only, but are combined in the 5GMS client for a combined service.
>
> _-_ Fast service start-up and service acquisition while maintaining
> efficient delivery on broadcast. Different aspects may matter depending on
> device and service types.
>
> _-_ Unicast-based error recovery if reception on a primary distribution is
> lossy.
>
> _-_ Auxiliary components on unicast, for example alternative languages or
> views.
>
> _-_ Audience Measurement.
>
> _-_ Ad Tracking.
### 5.7.2 Identified Issues
#### 5.7.2.1 General
This clause collects identified issues for different flavours of the hybrid
use case.
#### 5.7.2.2 Use Case 1: External Hybrid Service
For use case 1, this is expected to be solved outside 3GPP. A service provider
may provide the same service with different instances over different 5G
distribution systems. DVB is currently developing the relevant Commercial
Requirements for this purpose.
No immediate gaps in 3GPP are identified.
#### 5.7.2.3 Use Case 2: 5GMS Hybrid Service
The use case is depicted in the figures provided in clause 4.4.5.3 and
4.4.5.4. Three different options are considered, that only marginally
differentiate.
In the following, ten different scenarios are identified:
1\. **Fast 5GMS session start-up** via unicast while the 5MBS Client is
waiting for initial multicast/broadcast packets to start arriving via MBS‑4.
2\. **Unicast recovery** of the application payload data carried in
multicast/broadcast packets that are not successfully received via MBS‑4, in a
manner that is transparent to the 5GMS Client.
3\. **5GMS session continuity** when multicast/broadcast service is
temporarily unavailable, in a manner that is transparent to the 5GMSd-aware
application.
4\. Switching the operating mode of a 5GMS session to unicast under the
direction of network-based **multicast operation on demand** (MooD), in a
manner that is transparent to the 5GMS Client.
5\. **Enhanced service quality** , for which content quality is enhanced by
additional unicast (e.g. through scalable/layered coding or equivalent means).
6\. **Component replacement** , for example a component provided over 5MBS
session is replaced by a unicast component.
7\. **Time-shifted viewing** : a 5GMSd client decided to watch the service in
timeshift mode and hence switches to unicast distribution.
8\. **Content may be targeted** , for example for ad insertion (targeted to
users, regions, etc.).
9\. **Reporting** is done also for the 5MBS service.
10\. **Interactive Service** for example with a presentation layer being
included.
Categorization of the scenarios above can be done in the following four
dimensions:
A. Is the same content provided through 5GMS unicast and 5MBS?
\- yes: scenario 2 (unicast recovery), scenario 3 (session continuity) and
scenario 4 (MooD).
\- no: scenario 5 (enhanced service quality), scenario 6 (component
replacement), scenario 8 (content targeting) and 10 (interactive service).
\- unclear: scenario 1 (Fast Start-up) and scenario 7 (time-shifted viewing).
\- orthogonal: scenario 9 (Reporting).
B. Is only one delivery mode (i.e. either 5MBS or unicast) consumed at the
same time or multiple simultaneously?
\- multiple continuously: scenario 5 (enhanced service quality), scenario 6
(component replacement), scenario 9 (Reporting), 10 (interactive service).
\- multiple sporadically: scenario 1 (Fast Startup), scenario 2 (unicast
recovery).
\- only one mode at a time: scenario 3 (session continuity), scenario 4
(MooD), scenario 7 (time-shifted viewing), scenario 8 (content targeting).
C. Which entity decides the delivery mode (unicast, 5MBS) to be used:
Application, Media Player, Media Ssession Handler, 5MBS Client, 5GMS AF,
MBSTF?
\- Application: 10 (interactive service).
\- Media Session Handler: scenario 9 (Reporting).
\- Media Player: scenario 1 (Fast Start-up), scenario 5 (enhanced service
quality), scenario 6 (component replacement), scenario 7 (time-shifted
viewing), scenario 8 (content targeting).
\- 5MBS client: scenario 2 (unicast recovery) scenario 3 (session continuity).
\- AF: scenario 4 (MooD).
D. Which setups provide requirements for 5GMSd AS to Media Player delivery
latency?
\- Unicast and 5MBS the same: scenario 3 (session continuity), scenario 4
(MooD), scenario 5 (enhanced service quality), scenario 6 (component
replacement).
\- Unicast faster than 5MBS: scenario 1 (Fast Startup), scenario 2 (unicast
recovery).
\- No requirements: scenario 9 (Reporting), 10 (interactive service).
\- 5MBS faster than unicast: scenario 7 (time-shifted viewing), scenario 8
(content targeting).
### 5.7.3 Conclusions and Next Steps
As a result of the content of this technical report, the following next steps
are proposed:
1\. Architectural Extensions: Architecture and call flows for the following
hybrid 5GMS unicast and 5MBS scenarios with high priority (based on existing
functionalities in eMBMS): (i) Interactive Service, (ii) Session Continuity,
(iii) Time-shifted viewing, (iv) Targeted content replacement, (v) Reporting,
and (vi) Unicast recovery. Additional functionalities such as (i) Enhanced
service quality, (ii) Component replacement, and (iii) Fast start-up may be
addressed as well if time permits.
2\. Protocol Extensions: The required functions of the reference points for
hybrid services need to be checked against existing functions in TS 26.501, TS
26.511, TS 26.512, TS 26.346, TS 26.347 and TS 26.348 and extended if needed.
## 5.8 Key Issue #7: 5GMS via eMBMS
### 5.8.1 Description
This key issue proposes to study interworking of 5GMS with EPC and in
particular with eMBMS and provide a solution such that the same service may be
provided through EPC (unicast/broadcast) and 5GC (unicast/multicast).
In particular relevant is a 5GMS service with eMBMS and ROM-services as well
as High-Power High Tower (HPHT) and Single Frequency Network (SFN) services,
that are not supported in Rel-17 5MBS.
Figure 5.8.1-1 Interworking of 5GMS with EPC
The following aspects need to be considered
> _-_ The AF may be an "old" AF and only use 3GPP Release 16 xMB APIs
>
> _-_ The AF may be a "new" AF and may support both, 3GPP Rel 16 xMB APIs and
> new 3GPP Rel 17 M1 or MB-M1 APIs.
A similar topic referred to as Interworking is also studied TR 23.757 [7]. In
particular, solution 46 addresses some aspects on this matter. However, this
proposes a solution to maintain service continuity when a UE moves between an
NG-RAN that supports MBS and an E-UTRAN that supports eMBMS. The solution is
based on solution 10 and architecture A.2 and requires the deployment of N26.
It is not considered further in the present document.
### 5.8.2 Identified Issues
#### 5.8.2.1 Introduction
The key issue under consideration in this key topic is the ability for a
network provider to deploy 5GMS-based media streaming, using eMBMS bearers as
developed for TV-distribution in Rel-16 to address the 5G Broadcast
requirements to distribute the entire service or parts of the service. The
combination of the two technologies is expected to be done to support use
cases similarly as documented in clause 5.7.2.3 on the Hybrid 5MBS/5GMS
service.
The combination of 5GMSd-based distribution with 5MBS is not considered in
this key issue, because it relates to the hybrid service in clause 5.7. The
main identified issue is the combination of 5GMSd unicast and eMBMS.
The core issues under discussion are different architecture options.
#### 5.8.2.2 Option A: 5GMS uses MBMS User Service
Figure 5.8.2-1 Hybrid Services of 5GMS with eMBMS User Service (Option A)
In Option A, the 5GMSd Service provider acts as an eMBMS Content Provider.
Figure 5.8.2-1 provides an architecture for which a 5GMSd Service provider
uses xMB and MBMS user services for the distribution. Either of the following
cases is expected to be of interest:
\- The unicast option is unavailable, and the content is distributed via eMBMS
only.
\- The unicast option is available, and the hybrid functionalities as defined
in clause 5.7.2 are supported.
#### 5.8.2.2 Option B: 5MBS uses MBMS Transport-only Mode
Figure 5.8.2-2 Hybrid Services of 5GMS with eMBMS Transport only mode (Option
B)
In Option B, provides the case for which the 5G MBS Service provider uses the
transport-only mode of eMBMS in order to deliver content generated in the
MBSTF. Figure 5.8.2-2 provides an architecture for which a 5G MBS Service
provider interfaces with the relevant BM‑SC functionalities into MBSTF and
MBSF for the theMBMS distribution. Again, both use cases are of interest:
\- The unicast option is unavailable, and the content is distributed via MBMS
Bearer only.
\- The unicast option is available, and the hybrid functionalities as defined
in clause 5.7.2 are supported.
At the client side, the 5MBS client acts as a MBMS-aware application and
translates the service announcement into an MBMS service.
#### 5.8.2.3 Option C: 5GC integration of MBMS
In a third option (Option C), support of physical layer distribution over enTV
is supported in 5GC. This option is not considered as it would have impacts on
5GC outside of the control of SA4.
#### 5.8.2.4 Comparison of options
Table 5.8.2-1 provides an overview of benefits and drawbacks.
Table 6.3.2-1: Impacted Reference Points for different scenarios
+----------------------+----------------------+----------------------+ | Options | Benefits | Drawbacks | +======================+======================+======================+ | Option A:\ | This has no impact | Someone deploying | | 5GMS uses MBMS User | on the 5MBS System; | 5MBS and eMBMS needs | | Service | only 5GMS needs to | to implement both, | | | be updated to | BMSC and MBSF/MBSTF | | | provide content over | functionalities on | | | eMBMS and the 5GMS | the server and the | | | client can find the | MBMS client and the | | | MBMS service and | 5MBS client need to | | | connect to get | be implement. | | | access to the | | | | bearer. | | | | | | | | It is a benefit that | | | | 5GMS can be combined | | | | quite easily with | | | | eMBMS for delivering | | | | 5GMS content over | | | | eMBMS as well as to | | | | provide hybrid | | | | services. | | +----------------------+----------------------+----------------------+ | Option B:\ | It is expected that | The MBSTF needs a | | 5MBS uses MBMS | the MBSTF will | new interface to | | transport-only mode | provide most of the | provide connection | | | delivery functions | to BMSC for | | | that are anyway | transport-only | | | needed from the | delivery. The same | | | BM‑SC. Based on | for the MBSF. | | | this, adding the | Similar the 5MBS | | | relevant MBMS Bearer | client needs these | | | service to the MBSTF | interfaces. | | | should be trivial. | | | | | To deliver 5GMS | | | The delivery | content via eMBMS, | | | functions can | 5MBS needs to be | | | re-used and | implemented. | | | harmonized in a | | | | single | | | | specification. | | | | | | | | The benefits of | | | | extensions to the | | | | new interfaces and | | | | protocols defined in | | | | 5MBS are also | | | | available to the | | | | MBMS Bearer service. | | +----------------------+----------------------+----------------------+ | Option C:\ | The equipment needed | MBMS GW | | 5MBS implements MBMS | to support both enTV | functionality is | | M1 interface | and and 5MBS is | simple, so no | | | minimized as 5MBS | benefit for this. | | | includes the MBMS GW | | | | functionality. | | +----------------------+----------------------+----------------------+
### 5.8.3 Conclusions
Based on the discussion, it is proposed to
1) focus on Option A as it is the simplest way to distribute 5GMS content via
MBMS
2) further study option B to what extent this option is feasible based on the
SA2 defined architecture
3) not pursue option C.
To support 5GMS over eMBMS, it is proposed to define the architectural
enhancements, call flows and procedures for 5GMS using MBMS User Services as
well as hybrid 5GMS services via MBMS User Services and unicast. Stage-3
aspects to support these functionalities include extensions on 5GMS Protocols
as well as extensions in xMB, MBMS user services and MBMS-APIs.
Furthermore, it is proposed to further study to what extent \"5MBS uses MBMS
transport-only mode" as introduced in clause 5.8.2.2 is feasible based on the
SA2 defined architecture and address potential normative work at a later
stage.
### 5.8.4 Recommended Next Steps
Based on the considerations in clause 5.8.2, the following aspects deserve
normative documentation.
For Option A:
1\. Architecture for 5GMS using MBMS User Services.
2\. Call flows for:
a. 5GMS uses MBMS User Services without unicast support.
b. Hybrid 5GMS services using MBMS User Services and unicast.
3\. M1d extensions to provision MBMS User Service delivery.
4\. xMB extensions to identify content as 5GMSd Service.
5\. M5d extensions provide the Service Access Information for MBMS.
6\. 5GMSd extensions to support the MBMS-APIs.
7\. Support for hybrid cases in combination with 7.3.4.
For option B, it is proposed to further study to what extent this option is
feasible based on the SA2 defined architecture and address potential normative
work at a later stage. Initially, it has been identified the following aspects
need to be further studied
1\. For stand-alone service without unicast:
a. Nmb2 extensions to provision for using xMB as ingest.
b. M5d extensions provide the service signaling for MBMS-based 5MBS.
c. Extensions to deliver 5GMS content through support MBMS transport-only mode
using the MBSTF.
2\. In addition, for a service that also leverages the use of 5GMSd unicast,
the selected hybrid scenarios introduced in clause 6.2.3 may be provided.
# 6 Potential Standardization Areas
## 6.1 General
This clause documents potential standardization areas in 5G Media Streaming
Release 17 in the context of this Technical Report.
## 6.2 Potential Standardization Areas
### 6.2.1 Introduction
Initially, the following areas are identified as potential standardization
areas:
> \- Create Delivery Methods in the MBSTF to support 5MBS User Service to use
> 5MBS capabilities.
>
> \- Define Service aspects in MBSF, such as User Service Announcements.
>
> \- Using 5MBS together with 5G Media Streaming Architecture is one scenario.
>
> \- Define Nmb6 (based on xMB-C) and Nmb4 (based on xMB-U). It is assumed
> that MB2 interface will be supported in Release 17 "as is".
>
> \- Define the realization of Nmb2 (between MBSF and MBSTF), which configures
> and controls the delivery functions (like object delivery).
>
> \- Expect to have a new spec TS 26.502 to document these potential
> standardization areas.
### 6.2.2 5MBS User Service Architecture
Figure 6.2-1 provides a view of the network architecture for 5MBS User Service
delivery and control. In this figure, two potential standardization areas are
identified:
1\. How AF and MBSF interact to support MBS session operations and transport
(i.e. xMB-C and MB2-C reference points).
2\. How to provide MBSTF functionality related to MBS data handling (e.g.
encoding) via xMB-U and MB2-U interfaces. Based on the definition in TS
23.247, MBSTF performs generic packet transport functionalities available to
any IP multicast-enabled application such as framing, multiple flows, packet
FEC (encoding). It also performs multicast/broadcast delivery of input files
as objects or object flows. If needed, MBSTF provides a media anchor for MBS
data traffic and sourcing of IP multicast.
Figure 6.2-1: Network Architecture for 5MBS User Service Delivery and Control
### 6.2.3 5GMS Hybrid Services
With reference to the architecture depicted in Figure 4.4.5.4-2, Table 6.3.2-1
provides impacted reference points for the ten different hybrid scenarios
described in clause 5.7.2.3.
Table 6.3.2-1: Impacted Reference Points for different hybrid scenarios
+----------------------+----------------------+----------------------+ | Scenario | Impacted reference | Requirements | | | points | | +======================+======================+======================+ | 1 - Fast startup | M1: General | Fast start-up | | | Provisioning and | Representations need | | | fast startup feature | to be available on | | | is provisioned. | 5GMS AS for early | | | | access. | | | M2: General ingest | | | | and signaling of | The Media player | | | unicast fast | needs to be able to | | | start-up | switch to 5MBS | | | Representations in | distribution once | | | presentation | the same content is | | | manifest. | available on | | | | unicast. | | | M4: Signaling of the | | | | unicast available | | | | content and the | | | | content available on | | | | 5MBS in the | | | | manifest. | | | | | | | | M4: Signaling | | | | availability of | | | | unicast fast | | | | start-up | | | | Representations in | | | | manifest. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | M5: Potential usage | | | | of dynamic policies | | | | and/or network | | | | assistance for | | | | unicast fast | | | | start-up | | | | Representations. | | | | | | | | MBS-4-MC: 5BMS | | | | object delivery of | | | | non-fast-start up | | | | Representations. | | | | | | | | MBS-6: Announcement | | | | of non-fast-start up | | | | Representations by | | | | 5MBS Client. | | | | | | | | MBS-7: Providing the | | | | non-fast-start up | | | | Representations from | | | | 5MBS Client. | | +----------------------+----------------------+----------------------+ | 2 - Unicast recovery | M1: General | The unicast URLs | | | Provisioning | need to be announced | | | | to the 5MBS Client. | | | M2: General Ingest. | | | | | | | | MBS-5: Service | | | | announcement | | | | including signaling | | | | of unicast repair | | | | server. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5MBS | | | | object delivery of | | | | content | | | | Representations. | | | | | | | | MBS-4-UC: File | | | | repair. | | | | | | | | MBS-7: Partial file | | | | delivery in case | | | | repair fails or | | | | delivery timeline is | | | | expired. | | +----------------------+----------------------+----------------------+ | 3 - Session | M1: | The 5MBS client | | continuity | Session-continuity | needs to inform the | | | feature is | Media Player about | | | provisioned. | the (non-) | | | | availability and of | | | M2: Ingest of | resources through | | | content by 5GMS AS. | 5MBS distribution. | | | | | | | M4: Signaling | The service also | | | availability of | needs to work with | | | different content on | low-latency DASH. | | | different delivery | | | | means in the | | | | manifest, on 5GMS AS | | | | and on 5MBS. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content for 5MBS | | | | distribution. | | | | | | | | MBS-5: Signaling of | | | | identical and | | | | alternative content. | | | | | | | | MBS-4-MC: 5MBS | | | | object delivery of | | | | content | | | | Representations. | | | | | | | | MBS-4-UC: File | | | | repair for session | | | | continuity for | | | | certain amount of | | | | time. | | | | | | | | MBS-7: Dynamic | | | | switching of Media | | | | Player from 5MBS | | | | content to unicast | | | | content (panic | | | | button) when unicast | | | | repair starts to | | | | fail. | | | | | | | | MBS-6/M6: | | | | Availability | | | | information of 5MBS | | | | distribution. | | +----------------------+----------------------+----------------------+ | 4 - MooD | No considerations | None. | | | for this Release | | +----------------------+----------------------+----------------------+ | 5 - Enhanced service | M1: General | The 5MBS Client | | quality | provisioning and | needs to support the | | | enhanced service | retrieval of | | | quality feature is | components from 5MBS | | | provisioned. | and unicast at the | | | | same time. | | | M2: General Ingest | | | | including of | The service also | | | enhanced quality | needs to work with | | | content ingest by | low-latency DASH. | | | 5GMS AS. | | | | | | | | M4: Signaling | | | | availability of | | | | different content on | | | | different delivery | | | | means in the | | | | manifest, on 5GMS AS | | | | and on 5MBS. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5MBS | | | | distribution of | | | | content | | | | Representations. | | | | | | | | M4: Unicast | | | | distribution of | | | | enhanced service | | | | quality. | | | | | | | | M5: Optional use of | | | | dynamic policy and | | | | network assistance | | | | on unicast | | | | distribution. | | +----------------------+----------------------+----------------------+ | 6 - Component | M1: General | The 5MBS client | | replacement | provisioning | needs to support to | | | Component | retrieve components | | | replacement feature | from 5MBS and | | | is provisioned. | unicast at the same | | | | time. | | | M2: Ingest of | | | | replacement content | The service also | | | by 5GMS AS. | needs to work with | | | | low-latency DASH. | | | M4: Signaling | | | | availability of | | | | different content on | | | | different delivery | | | | means in the | | | | manifest, on 5GMS AS | | | | and on 5MBS.. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5MBS | | | | object delivery of | | | | content | | | | Representations. | | | | | | | | M4: Unicast | | | | distribution of | | | | replacement | | | | component. | | | | | | | | M5: Optional use of | | | | dynamic policy and | | | | network assistance | | | | on unicast | | | | distribution. | | +----------------------+----------------------+----------------------+ | 7 - Time-shifted | M1: Time-shifted | The transition | | viewing | viewing feature is | should be seamless, | | | provisioned. | i.e. in a way that | | | | the user is not | | | M2: Ingest of | aware that the | | | time-shifted | delivery mode is | | | content. | changed. | | | | | | | M4: Signaling | | | | availability of | | | | different content on | | | | different delivery | | | | means in the | | | | manifest, on 5GMS AS | | | | and on 5MBS.. | | | | | | | | Nmb2: identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5MBS | | | | object delivery of | | | | content | | | | Representations. | | | | | | | | M4: distribution of | | | | time-shifted | | | | content. | | +----------------------+----------------------+----------------------+ | 8 -- Targeted | M1: Replacement | The transition | | content replacement | content on unicast | between unicast | | | is provisioned. | targeted content and | | | | 5MBS content is | | | M2: Ingest of | expected to be | | | replacement content. | seamless | | | | | | | M4: Signaling | | | | availability of | | | | different content on | | | | different delivery | | | | means in the | | | | manifest, on 5GMS | | | | AS, and on 5MBS. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5BMS | | | | distribution of live | | | | main content. | | | | | | | | M4: Distribution of | | | | targeted unicast | | | | content for | | | | replacement. | | | | | | | | M5: Optional use of | | | | dynamic policy and | | | | network assistance | | | | on unicast | | | | distribution. | | +----------------------+----------------------+----------------------+ | 9 -- Reporting | M1: Reporting | | | | feature is | | | | provisioned. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5MBS | | | | object delivery of | | | | content. | | | | | | | | M5: Reporting. | | +----------------------+----------------------+----------------------+ | 10 - Interactive | M1: Interactive | | | service | content distribution | | | | is provisioned. | | | | | | | | M2: Ingest of | | | | interactive content. | | | | | | | | Nmb2: Identification | | | | of content for 5MBS | | | | distribution. | | | | | | | | M8: Content is | | | | announced through | | | | interactive | | | | application. | | | | | | | | M4: Presentation | | | | Layer content is | | | | delivered that | | | | includes reference | | | | to multiple content | | | | items delivered over | | | | 5MBS. | | | | | | | | M6/M7/MBS-6: Find | | | | content on 5MBS. | | | | | | | | Nmb4/xMB-U: Ingest | | | | of content by MBSTF | | | | for 5MBS | | | | distribution. | | | | | | | | MBS-4-MC: 5MBS | | | | object delivery of | | | | content. | | +----------------------+----------------------+----------------------+
# 7 Potential Solutions
## 7.1 General
This clause provides potential solutions for the standardization areas
identified in clause 6.
## 7.2 Support of multicast ABR in 5G Media Streaming Architecture
### 7.2.1 Mapping of DVB‑MABR and CableLabs MABR reference architectures to
5MBS reference architecture for Scenario #1
#### 7.2.1.1 Introduction
With reference to Multicast ABR operation of a 5MBS-enhanced 5GMS Systerm as
described in Scenario #1 (see clause 5.2.2), it is useful to map the logical
functions and reference points of the DVB‑MABR and CableLabs ABR reference
models into the proposed 5MBS and 5GMS combined functional architecture that
is summarised in clause 4.4 of the present document. In addition, a mapping to
the existing MBMS User Services architecture is also provided for illustrative
purposes.
Multicast ABR Scenario #1 may be realised by the following deployment models
outlined in clause 5.4 of the present document:
\- **Collaboration A** (see clause 5.4.2) where all 5MBS and 5GMSd functions
are deployed inside the Trusted DN.
\- **Collaboration B** (see clause 5.4.3) where the 5MBS functions are
deployed inside the Trusted DN and the 5GMSd functions are deployed in an
External DN.
In both collaborations, the objective is to achieve Multicast ABR operation
over a 5MBS Segment Streaming service that is roughly equivalent to the
forerunner MBMS Download Delivery service.
#### 7.2.1.2 Mapping of logical functions
Table 7.2.1.2 below provides a mapping of the DVB-MABR logical functions [12]
reproduced in Figure 4.3.1.1‑1, and those of the CableLabs reference model
described in [13] to the xMB reference model from TS 26.348 [15] reproduced as
Figure 4.2.2.4‑1 in the present document, to the MBMS User Services
architecture in TS 26.347 [21] and to the 5MBS and 5GMS combined functional
architecture proposed in clause 4.4.2 of the present document.
Table 7.2.1.2: Mapping of DVB-MABR and CableLabs M‑ABR logical functions\ to
the 5MBS reference model
+----------+----------+----------+----------+----------+----------+ | DVB‑MABR | C | xMB | MBMS | C | | | logical | ableLabs | r | User | andidate | | | function | M‑ABR | eference | Services | function | | | | function | model | r | | | | | | function | eference | | | | | | [15] | model | | | | | | | function | | | | | | | [21] | | | +==========+==========+==========+==========+==========+==========+ | | | | | 5MBS | 5GMS | +----------+----------+----------+----------+----------+----------+ | Content | M | Content | App | | 5GMS | | Provider | ulticast | Provider | lication | | App | | control | co | | and | | lication | | | ntroller | | Content | | Provider | | | | | Provider | | | +----------+----------+----------+----------+----------+----------+ | Content | | | | | | | Provider | | | | | | | metrics | | | | | | | capture | | | | | | +----------+----------+----------+----------+----------+----------+ | Content | Packager | | | | | | pre | | | | | | | paration | | | | | | +----------+----------+----------+----------+----------+----------+ | Content | Or | Content | Media | | 5GMS AS\ | | hosting\ | igin/CDN | Source | and | | (MBSTF | | (as | | | Content | | content | | content | | | Server | | source) | | source) | | | | | | +----------+----------+----------+----------+----------+----------+ | Prov | BSS, NMS | Content | MBMS | | 5GMS AF | | isioning | | Provider | Ma | | | | | | | nagement | | | | | | | System | | | +----------+----------+----------+----------+----------+----------+ | M | M | BM‑SC | MBSF, | | | | ulticast | ulticast | | MBSTF | | | | server | server | | | | | +----------+----------+----------+----------+----------+----------+ | App | IP STB | Content | MB | 5M | 5G | | lication | | Receiver | MS-Aware | BS-Aware | MS-Aware | | | | | App | App | Applic | | | | | lication | lication | | +----------+----------+----------+----------+----------+----------+ | Content | | | Media | | Media | | playback | | | Client | | player | +----------+----------+----------+----------+----------+----------+ | M | _Tra |_ Tra | MBSF | Media | | | ulticast | nsparent | nsparent | Client? | Session | | | re | sessions | session | | Handler? | | | ndezvous | handled | in | | | | | service | using | itiation | | | | | | channel | not | | | | | | mapping | su | | | | | | tec | pported. | | | | | | hnique._| Non-tra | | | | | | | nsparent | | | | | | | mbms: | | | | | | | URL can | | | | | | | instead | | | | | | | be used | | | | | | | for | | | | | | | session | | | | | | | init | | | | | | | iation._ | | | | +----------+----------+----------+----------+----------+----------+ | M | Embedded | MBMS | 5MBS | | | | ulticast | M | Client | Client | | | | gateway | ulticast | | (incor | | | | | Gateway | | porating | | | | | inside | | MBS | | | | | Gateway | | F Client | | | | | | | and | | | | | | | MBSTF | | | | | | | Client) | | | +----------+----------+----------+----------+----------+----------+ | Content | Or | BM‑SC\ | 5MBS AS | | | | hosting\ | igin/CDN | (byte | | | | | (for | | range | | | | | HTTP | | file | | | | | fi | | repair | | | | | le-based | | over | | | | | repair) | | HTTP) | | | | +----------+----------+----------+----------+----------+----------+ | Unicast | M | | BM‑SC\ | _It is | | | repair\ | ulticast | | (symb | proposed | | | (see | server | | ol-based | that | | | NOTE 1) | ( | | file | symb | | | | optional | | repair | ol-based | | | | support | | service | unicast | | | | for | | over | repair | | | | negative | | HTTP) | is not | | | | a | | | s | | | | cknowled | | | upported | | | | gements) | | | for 5G | | | | | | | Media | | | | | | | S | | | | | | | treaming | | | | | | | (see | | | | | | | N | | | | | | | OTE 2)._ | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | This | | | | | | | function | | | | | | | offers | | | | | | | pack | | | | | | | et-level | | | | | | | (\ | | | | | | | "symbol- | | | | | | | based\") | | | | | | | repair | | | | | | | only to | | | | | | | the | | | | | | | M | | | | | | | ulticast | | | | | | | gateway. | | | | | | | | | | | | | | NOTE 2: | | | | | | | it is | | | | | | | assumed | | | | | | | that the | | | | | | | 5MBS | | | | | | | Client | | | | | | | is able | | | | | | | to | | | | | | | perform | | | | | | | e | | | | | | | fficient | | | | | | | obje | | | | | | | ct-level | | | | | | | (\"file- | | | | | | | based\") | | | | | | | unicast | | | | | | | repair | | | | | | | either | | | | | | | directly | | | | | | | or | | | | | | | in | | | | | | | directly | | | | | | | with the | | | | | | | 5MBS AS | | | | | | | function | | | | | | | and that | | | | | | | pack | | | | | | | et-level | | | | | | | (\ | | | | | | | "symbol- | | | | | | | based\") | | | | | | | unicast | | | | | | | repair | | | | | | | is not | | | | | | | required | | | | | | | in order | | | | | | | to | | | | | | | support | | | | | | | 5G Media | | | | | | | St | | | | | | | reaming. | | | | | | | Pack | | | | | | | et-level | | | | | | | unicast | | | | | | | repair | | | | | | | may, | | | | | | | however, | | | | | | | be | | | | | | | required | | | | | | | to | | | | | | | support | | | | | | | other | | | | | | | uses of | | | | | | | 5MBS. | | | | | | +----------+----------+----------+----------+----------+----------+
The following open questions remain concerning this mapping:
1\. Which function provides the equivalent mechanism to the DVB Multicast
rendezvous service (see clause 4.3.1.5) to support transparent session
bootstapping to a 5GMS-Aware Application that is unaware of 5MBS operation.
This function could be provided by the Media Session Handler or by the MBSF
Client.
#### 7.2.1.3 Mapping of logical reference points
Table 7.2.1.3 below provides a mapping of the reference points defined by DVB-
MABR logical reference model [12] reproduced in Figure 4.3.1.1‑1, and those of
the CableLabs reference model [13] to the proposed 5MBS and 5GMS combined
functional architecture.
Table 7.2.1.3: Mapping of DVB-MABR and CableLabs logical reference points\ to
the 5MBS reference model
+----------+----------+----------+----------+----------+----------+ | DVB‑MABR | C | MBMS | C | | | | referen | ableLabs | referen | andidate | | | | ce point | M‑ABR | ce point | referen | | | | | referen | | ce point | | | | | ce point | | | | | +==========+==========+==========+==========+==========+==========+ | | | | 5MBS | 5GMS | | +----------+----------+----------+----------+----------+----------+ | * | Content | mc-pkg | xMB-C | Confi | M1 | | _C~CP~__| provider | | | guration | | | | prov | | | of | | | | isioning | | | MB‑SMF | | | | | | | by MBSF | | | | | | | (Npcf, | | | | | | | Nmbsmf) | | +----------+----------+----------+----------+----------+----------+ | * | M | mc-ms | | Nx2\ | | |_ C~MS~**| ulticast | | | (based | | | | server | | | on | | | | confi | | | xMB‑C) | | | | guration | | | | | +----------+----------+----------+----------+----------+----------+ | * | M | mc-emc | Service | MBS‑5 | | | *C~MR~** | ulticast | | Ann | | | | | gateway | | oucement | | | | | confi | | over | | | | | guration | | unicast | | | | | | | (OMA) or | | | | | | | in-band | | | | | | | via SACH | | | | | | | | | | | | | | SG-mb + | | | | | | | M1 + Uu? | | | +----------+----------+----------+----------+----------+----------+ | **\---** | M | _I | | MBS‑5 | M5 | | | ulticast | mplicit_ | | Session | confi | | | re | | | Annou | guration | | | ndezvous | | | ncement? | of Media | | | confi | | | | Session | | | guration | | | | Handler? | +----------+----------+----------+----------+----------+----------+ | * | Content | pkg-cdn | _Out of | | M2 | |_ P~in~**| ingest | | scope* | | | | | by | | | | | | | Content | | | | | | | hosting | | | | | | | from | | | | | | | Content | | | | | | | pre | | | | | | | paration | | | | | | | ( | | | | | | | unicast) | | | | | +----------+----------+----------+----------+----------+----------+ | ** | Pu | pkg-ms | xMB-U\ | xMB‑U | | | P~in~′** | sh-based | | (push | ( | | | | content | | mode) | Rel‑17)\ | | | | ingest | | | (push | | | | by | | | mode) | | | | M | | | | | | | ulticast | | | | | | | server | | | | | | | from | | | | | | | Content | | | | | | | pre | | | | | | | paration | | | | | | | ( | | | | | | | unicast) | | | | | +----------+----------+----------+----------+----------+----------+ | * | Pu | cdn-ms | xMB-U | xMB‑U | | | _O~in~__| ll-based | | | ( | | | | content | | (pull | Rel‑17)\ | | | | ingest | | mode) | (pull | | | | by | | | mode) | | | | M | | | | | | | ulticast | | | | | | | server | | | | | | | from | | | | | | | Content | | | | | | | hosting | | | | | | | ( | | | | | | | unicast) | | | | | +----------+----------+----------+----------+----------+----------+ |__M_ _| M | ms-emc | SGi-mb + | MBS‑4-MC | | | | ulticast | | M1 +Uu | | | | | t | | | | | | | ransport | | | | | +----------+----------+----------+----------+----------+----------+ |__B_ _| Session |_ I | * | | M6 or | | | b | mplicit _| Explicit | | M7? | | | ootstrap | | use of | | | | | ( | | mbms: | | | | | unicast) | | URL | | | | | | | across | | | | | | | MB | | | | | | | MS-API._ | | | +----------+----------+----------+----------+----------+----------+ | **L** | Content | cpe | MBMS-API | | M7 | | | playback | | | | | | | r | | | | | | | etrieval | | | | | | | ( | | | | | | | unicast) | | | | | +----------+----------+----------+----------+----------+----------+ | **U** | Pack | ms-emc | HTTP(S) | _Not | | | | et-based | | over | s | | | | repair | | point- | upported | | | | ( | | to-point | for 5G | | | | unicast) | | bearer | Media | | | | | | | St | | | | | | | reaming_ | | +----------+----------+----------+----------+----------+----------+ | **A** | Fi | cdn-gw | | MBS‑4‑UC | | | | le-based | | | | | | | repair | | | | | | | ( | | | | | | | unicast) | | | | | +----------+----------+----------+----------+----------+----------+ | * | Metrics | _Out of |_ DASH | | M6, M5 | | _R~PM~__| r | scope_ | QoE | | | | | eporting | | metrics | | | | | from | | via | | | | | Content | | R | | | | | playback | | eception | | | | | | | r | | | | | | | eporting | | | | | | | p | | | | | | | rocedure | | | | | | | below._| | | +----------+----------+----------+----------+----------+----------+ |__R~S~__| Metrics | mc-emc | R | MBS‑5 | | | | r | | eception | | | | | eporting | | r | | | | | from | | eporting | | | | | M | | and | | | | | ulticast | | con | | | | | gateway | | sumption | | | | | | | r | | | | | | | eporting | | | | | | | via | | | | | | | unnamed | | | | | | | r | | | | | | | eference | | | | | | | point | | | +----------+----------+----------+----------+----------+----------+ | * | R | ossi |_ Out of | | M1 | | _R~CP~__| eporting | | scope | | | | | from | | for xMB_ | | | | | Prov | | | | | | | isioning | | | | | | | to | | | | | | | Content | | | | | | | provider | | | | | +----------+----------+----------+----------+----------+----------+
A number of open questions arise from this initial mapping exercise:
1\. The reference point used by the MBSTF to ingest content from the 5GMS AS
(designated xMB-U in the SA2 study [7]) needs to be studied. If it resembles
the media ingest interface, supporting both push- and pull-based operating
modes, it could be similar to M2; if it more closely resembles the media
consumption interface, it could instead be more like M4.
2\. How is the session bootstap mechanism (Multicast rendezvous service)
configured to enable transparent operation? It could be configured by means of
Session Annoumcements delivered via an MBS‑5 Session Announcement Channel, or
the Session Announcements could be delivered via unicast means (e.g. via M5 to
the Media Session Handler).
3\. How is transparent operation achieved in practice? Which client-side
function is able to intercept the initial presentation manifest request at the
start of a streaming session and to determine that 5MBS operation is
available? Is it necessary to modify the presentation manifest to achieve this
goal, or is it possible to realise the desired transparency using HTTP
redirects alone?
4\. Is the file-based repair mechanism part of the 5MBS architecture, an
extended use of the 5GMS AS or does it straddle both architectures?
5\. Does the MBSF report 5MBS-related metrics back to the MBSF via MBS‑5?
#### 7.2.1.4 Mapping to Collaboration B0
Figure 7.2.1.4‑1 below shows how the DVB‑MABR reference model (blue functions
and reference points) maps onto the 5MBS reference model proposed in the
present document (green functions and reference points) and the 5MBS reference
model for 5GC (grey functions and reference points) in the case of
**Collaboration B0**.
{width="9.915382764654419in" height="4.857534995625547in"}
Figure 7.2.1.4‑1: Mapping of the DVB‑MABR reference model onto the 5MBS
reference model (Collaboration B0)
In this mapping:
1\. The _Multicast server_ function is realised by the MBSTF.
\- Configuration at DVB‑MABR reference point **C~MS~** is achieved using xMB-C
(Rel-17) MBS session provisioning procedures with the MBSF rather than using
the DVB‑MABR multicast transport configuration. This results in configuration
of the MBSTF via Nx2.
Editor's Note: xMB-C (Rel‑17) may be redesignated Nmbsf or Nx4 following
consultation with SA2.
\- The Object delivery method is provisioned.
\- Pull-based content ingest at reference point **O~in~** is realised by
provisioning xMB-U pull mode procedures.
\- Push-based content at reference point **P~in~′** is realised by
provisioning xMB-U push mode procedures.
Editor's Note: xMB-U may be redesignated Nmbstf or Nx5 following consultation
with SA2.
2\. Reference point **M** is realised by MBS‑4‑MC.
\- The MBSTF generates a bitstream according to the specification of the
Object delivery method.
3\. The MBS session is announced to the 5MBS Client at MBS-5.
\- The session descripion may be delivered via a 5MBS session announcement
channel generated by the MBSTF at MBS‑4‑MC. This realises the DVB‑MABR
multicast gateway configuration transport session.
\- Alternatively, the 5MBS Client may retrieve the session description from
the 5MBS AS via MBS‑4‑UC. This realises reference point **C~MR~** in the
DVB‑MABR reference model.
In the UE:
3\. The _Content playback_ function and the _Multicast rendezvous service_ are
realised as a 5MBS-Aware Application.
4\. The _Multicast gateway_ function is realised by the 5MBS Client.
\- New sessions are notified to the _Multicast rendezvous service_ via MBS‑6
so that it can configure its redirect behaviour.
\- The 5BMS Client provides object reassembly and repair functions in line
with the 5MBS Object delivery method.
\- The 5MBS Client implements dynamic adaptation between multicast transport
sessions corresponding to different representations of the same adaptation
set.
5\. HTTP-based object repair at reference point **A** is realised by MBS‑4‑UC.
\- The 5MBS AS may act as a unicast proxy for the external _Content hosting_
function.
\- Alternatively, the associated delivery procedures described in the 5MBS
session announcement may direct the 5MBS Client to use the _Content hosting_
function directly for HTTP-based object repair.
6\. Reference point **L** is realised by MBS‑7.
\- Intact playback delivery objects are exposed to the _Content playback_
function, as required.
The following potential gaps merit study in relation to Collaboration B0:
1\. What interface is used by the MBSF to publish session descriptions to the
5MBS AS?
2\. How are multicast delivey sessions corresponding to different
representations of the same adaptation set configured as part of a single 5MBS
session description at xMB‑C (Rel‑17), Nx2 and MBS‑5?
Editor's Note: xMB-C (Rel‑17) may be redesignated Nmbsf/Nx4 following
consultation with SA2.
3\. How is dynamic adaptation achieved in the 5MBS Client between multicast
transport sessions corresponding to different representations of the same
adaptation set?
### 7.2.2 Interworking of DVB‑MABR reference architecture with 5MBS reference
architecture for Scenario #2
#### 7.2.2.1 Introduction
With reference to an external Multicast ABR system interworking with a 5MBS
System as described in clause 5.2.3, a different arrangement of logical
functions and reference points is needed from that of Scenario #1.
NOTE: The collaborations further elaborated in this clause illustrate how an
external system may interwork with the 5MBS and 5G Media Streaming
architectures. This level of analysis is helpful in identifying potential
gaps. It does not imply that interworking solutions will be documented in the
normative specification.
Multicast ABR Scenario #2 may be realised by the following deployment models
outlined in clause 5.4 of the present document:
**\- Collaboration C** (see clause 5.4.4) where all media-related functions
are deployed in an External DN and a multicast packet stream (optionally
encapsulated in a unicast tunnel) is injected directly into the MB‑UPF in the
Trusted DN at reference point N6, as depicted in Figure 4.4.1.3‑1. The
multicast packet stream may include AL‑FEC repair packets. Because the
externally generated multicast packet stream emulates the candidate 5MBS
Delivery Method for segmented media, the 5MBS Client can receive it and can
perform AL‑FEC and unicast repair procedures on the packet payloads as needed.
In this collaboration, the _Provisioning_ function plays the role of an
externally hosted 5GMSd AF; the _Content hosting_ function plays the role of
an externally hosted 5GMSd AS and the _Multicast server_ provides the "MBSTF-
like" function. HTTP-based unicast repair operations use the _Content hosting_
function in the External DN. The 5MBS-Aware Application resembles a 5GMSd
Client, although the _Multicast rendezvous service_ also needs to be provided
as part of the former.
This collaboration is further described in clause 7.2.2.2 below.
\- **Collaboration D** (see clause 5.4.5) which is the same as Collaboration C
except that the externally generated multicast packet stream injected into the
MB‑UPF at N6 is in an application-specific format that differs from the
candidate 5MBS Delivery Method for segmented media, for example the DVB-MABR
profile of ROUTE or the CableLabs profile of NORM. In this case, the 5MBS
Client can receive the packet payloads, but cannot repair them using 5MBS
AL‑FEC or 5MBS HTTP-based unicast repair procedures. The received packet
payloads are instead delivered to a 5MBS-Aware Application at MBS‑7 that is
responsible for media object reassembly, repair procedures and onward delivery
to a media player.
In this collaboration, the DVB-MABR _Multicast gateway_ function could, for
example, play the role of the 5MBS-Aware Application.
This collaboration is further described in clause 7.2.2.3 below.
#### 7.2.2.2 Interworking architecture for Collaboration C
Figure 7.2.2.2‑1 below shows how the DVB‑MABR reference model (blue functions
and reference points) integrates with the 5MBS reference model proposed in the
present document (green functions and reference points) and the 5MBS reference
model for 5GC (grey functions and reference points) in the case of
Collaboration C.
{width="9.90515748031496in" height="4.5128762029746285in"}
Figure 7.2.2.2‑1: Interworking between the DVB‑MABR reference model and the
5MBS reference model (Collaboration C)
In the control plane of the end-to-end system:
1\. An "MBSF-like" subfunction of the content provider's _Provisioning_
function in the External DN interworks with the MB‑SMF in the Trusted DN by
invoking Nmbsmf APIs via the NEF. These are used to provision a transparent
delivery session for each target DVB-MABR multicast transport session, plus an
additional delivery session to convey the DVB-MABR multicast gateway
configuration transport session.
As part of this interaction, the multicast address(es) to be used in the data
plane are nominated by the MB‑SMF and returned to the "MBSF-like" subfunction.
2\. The _Provisioning_ function configures the DVB‑MABR multicast transport
session(s) in the _Multicast server_ as usual via C~MS~. (This replaces the
notional Nx2 interface in this collaboration.)
NOTE 1: The multicast address(es) nominated by the MB‑SMF are included in the
DVB-MABR multicast server configuration instance document passed at reference
point C~MS~. (This includes the transport parameters for each multicast
transport session, plus those for the multicast gateway configuration
transport session.)
NOTE 2: This step is outside the scope of 3GPP standardisation.
3\. The availability of the transport-only multicast delivery session(s) is
advertised to the 5MBS Client in the conventional manner at reference point
MBS‑5. This advertisement is realised in one of three different ways:
a. The "MBSF-like" subfunction of the Provisioning function publishes a
session description to the 5MBS AS and then includes its URL in the session
advertisement so that the 5MBS Client can fetch the advertisement via
MBS‑4‑UC.
b. The "MBSTF-like" subfunction of the _Multicast server_ derives a 5MBS-
compliant session description from the configuration it has received at
**C~MS~** and adds this to a 5MBS-compliant session announcement channel.
c. The _Multicast gateway_ synthesises a 5MBS-compliant session description
from the DVB‑MABR muticast gateway configuration it has received at reference
point **M** and injects that into the 5MBS Client by invoking an API at MBS‑6.
The advertisement includes the address of the 5MBS AS to support interworking
of HTTP-based unicast repair.
4\. The DVB‑MABR _Rendezvous service_ and _Multicast gateway_ are notified by
the 5MBS Client about the availability of transport-only multicast delivery
sessions via the MBS‑6 API.
In the user plane of the end-to-end system:
5\. Multicast packets produced by the _Multicast server_ are likely conveyed
between the External DN and the Trusted DN in a unicast tunnel.
6\. The MB‑UPF transparently delivers these multicast packets to the 5MBS
Client on the UE via MBS‑4‑MC, subject to traffic policing rules in the MB-UFP
that protect the network from being flooded.
7\. Using the notifications received from the 5MBS Client in step 4 above, the
_Rendezvous service_ configures itself such that presentation manifest
requests made at reference point **B** are redirected to the _Multicast
gateway_ when the corresponding media is available from an advertised
multicast delivery session.
8\. Using the notifications received from the 5MBS Client in step 4 above, the
combined _Multicast gateway_ and 5MBS Client function subscribes to the
desired multicast delivery session(s). Dynamic adaptation between multicast
delivery sessions is achieved inside this function by making appropriate low-
level API calls to unsubscribe from one and subscribe to another.
9\. The 5MBS Client receives multicast packets at MBS‑4‑MC for subscribed
multicast delivery sessions. Using the information in the session announcement
received in step 3 above, the 5MBS Client applies AL‑FEC repair to the
received packets.
For any unrecoverable packet payloads, the 5MBS Client performs HTTP-based
unicast repair with the 5MBS AS via MBS‑4‑UC, using the relevant associated
delivery procedures configuration from the session announcement received in
step 3 above.
10\. The 5MBS Client exposes intact playback delivery objects to the correct
5MBS-Aware Application (here, the _Content playback_ function) via reference
point MBS‑7. This realises DVB‑MABR reference point **L**.
11\. Intact playback delivery objects are exposed to the _Content playback_
function as normal at reference point L.
NOTE 3: This step is outside the scope of 3GPP standardisation.
A number of changes to the DVB‑MABR reference architecture are required in
order to support interworking according to Collaboration C:
1\. The _Content provisioning_ function needs to implement an additional
"MBSF-like" subfunction in order to provision 5MBS transparent delivery
services.
2\. The _Multicast server_ function needs to implement an additional "MBSTF-
like" subfunction in order to generate at reference point **M** a multicast
packet stream compliant with MBS‑4‑MC that is suitable for consumption by the
5MBS Client.
This may include generating a session announcement channel to convey 5MBS
session description delivery objects derived from the multicast server
configuration instance document provided via **C~MS~**. This session
announcement channel effectively replaces the multicast gateway configuration
transport session in this collaboration.
3.. The _Content hosting_ function needs to implement a "5MBS AS-like"
subfunction in order to provide HTTP-based file repair at MBS‑5. (Since this
is so similar to DVB‑MABR reference point **A** , this is likely to be
trivial.)
The "5MBS-like" subfunction may additionally need to host 5MBS session
descriptions. These effectively replace the multicast gateway configuration
instance document when it is delivered via **C~MR~**.
The following potential gaps may be of interest in relation to Collaboration
C:
1\. Is it possible to configure a transparent multicast delivery session
configured at Nmbsmf in such a way that it can then be successfully advertised
to a 5MBS Client in a session description?
2\. How are multicast delivery sessions corresponding to different
representations of the same adaptation set configured as part of a single 5MBS
session description at Nmbsmf and MBS‑5?
3\. How is dynamic adaptation achieved in the 5MBS Client between multicast
delivery sessions corresponding to different representations of the same
adaptation set?
4\. How is a synthetic 5MBS session description best injected into a 5MBS
Client at MBS‑6?
#### 7.2.2.3 Interworking architecture for Collaboration D
Figure 7.2.2.3‑1 below shows how the DVB‑MABR reference model (blue functions
and reference points) integrates with the 5MBS reference model proposed in the
present document (green functions and reference points) and the 5MBS reference
model for 5GC (grey functions and reference points) in the case of
Collaboration D.
{width="9.922222222222222in" height="4.518619860017497in"}
NOTE: Because use of the unicast path is uncoordinated with 5MBS functions in
this collaboration, reference point MB‑N9 between the MB-UPF and UPF is
omitted.
Figure 7.2.2.3‑1: Interworking between the DVB‑MABR reference model and the
5MBS reference model (Collaboration D)
In the control plane of the end-to-end system:
1\. The content provider's _Provisioning_ function in the External DN
interworks with the MB‑SMF in the Trusted DN by invoking Nmbsmf APIs via the
NEF. These are used to provision a transport-only multicast delivery session
for each target DVB-MABR multicast transport session, plus an additional
delivery session to convey the DVB-MABR multicast gateway configuration
transport session.
As part of this interaction, the multicast address(es) to be used in the data
plane are nominated by the MB‑SMF.
2\. The _Provisioning_ function configures the DVB‑MABR multicast transport
session(s) in the _Multicast server_ as usual via C~MS~.
NOTE 1: The multicast address(es) nominated by the MB‑SMF are included in the
DVB-MABR multicast server configuration instance document passed at reference
point C~MS~. (This includes the transport parameters for each multicast
transport session, plus those for the multicast gateway configuration
transport session.)
NOTE 2: This step is outside the scope of 3GPP standardisation.
3\. The availability of the transport-only multicast delivery session(s) is
advertised to the 5MBS Client in the conventional manner at reference point
MBS‑5. This advertisement is realised in one of two different ways:
a. The _Multicast server_ derives a 5MBS-compliant session description from
the configuration it has received at **C~MS~** and adds this to a 5MBS-
compliant session announcement channel at MBS‑4‑MC.
b. The _Multicast gateway_ synthesises a 5MBS-compliant session description
from the multicast gateway configuration it has received at reference point
**M** and injects that into the 5MBS Client by invoking an API at MBS‑6.
4\. The DVB‑MABR _Rendezvous service_ and _Multicast gateway_ are notified by
the 5MBS Client about the availability of transport-only multicast delivery
sessions via the MBS‑6 API.
In the user plane of the end-to-end system:
5\. Multicast packets produced by the _Multicast server_ are likely conveyed
between the External DN and the Trusted DN in a unicast tunnel.
6\. The MB‑UPF transparently delivers these multicast packets to the 5BMS
Client on the UE via MBS‑4‑MC, subject to traffic policing rules in the MB-UFP
that protect the network from being flooded.
7\. Using the notifications received from the 5MBS Client in step 4 above, the
_Rendezvous service_ configures itself such that presentation manifest
requests made at reference point **B** are redirected to the _Multicast
gateway_ when the corresponding media is available from an advertised
multicast delivery session.
8\. Using the notifications received from the 5MBS Client in step 4 above, the
_Multicast gateway_ function subscribes to the multicast delivery sessions
corresponding to the desired DVB‑MABR multicast transport sessions by invoking
the appropriate MBS‑6 API call on the 5MBS Client. Dynamic adaptation between
multicast transport sessions is achieved by making appropriate MBS‑6 API calls
to unsubscribe from one and subscribe to another.
9\. In particular, the _Multicast gateway_ subscribes to the multicast gateway
configuration transport session as soon as it is announced at MBS-6 in order
to acquire the multicast gateway configuration instance document and any other
multicast delivery objects provided on the multicast gateway configuration
transport session, such as presentation manifests and/or initialisation
segments.
10\. The 5MBS Client receives multicast packets at MBS‑4‑MC for subscribed
multicast delivery sessions and routes them to the correct 5MBS-Aware
Application (here, the _Multicast gateway_ function) via reference point
MBS‑7.
NOTE 3: The 5MBS Client does not attempt to make good any missing or corrupted
multicast packets in this collaboration scenario.
NOTE 4: The realisation of MBS‑7 in this collaboration is most likely a
virtual network interface on the UE that supplies UDP packet payloads received
by the modem directly to the 5MBS-Aware Application. The 5MBS Client remains
in control and is responsible for passing the name of the appropriate virtual
network interface to the 5MBS-Aware Application, but the user plane bypasses
the 5BMS Client.
11\. The _Multicast gateway_ parses and reassembles received multicast packets
into playback delivery objects, as normal. It may apply Application‑Level
Forward Error Correction to repair missing packets, as configured in the
multicast gateway configuration instance document received in step 9. It may
also perform HTTP-based unicast repair at reference point A, as configured in
the multicast gateway configuration instance document. Reference point A is
realised via a conventional PDU Session.
NOTE 5: This step is outside the scope of 3GPP standardisation, beyond the use
of a PDU Session.
12\. Intact playback delivery objects are exposed to the _Content playback_
function as normal at reference point L.
NOTE 6: This step is outside the scope of 3GPP standardisation.
A number of changes to the DVB‑MABR reference architecture are required in
order to support interworking according to Collaboration D:
1\. The _Content provisioning_ function needs to implement Nmbsmf in order to
provision 5MBS transport-only delivery services.
2\. The _Multicast server_ function may need to generate a session
announcement channel to advertise 5MBS transport-only session description
delivery objects derived from the multicast server configuration instance
document provided via **C~MS~**. (This session announcement channel is in
addition to the multicast gateway configuration transport session.)
The following potential gaps may be of interest in relation to Collaboration
D:
1\. Is it possible to configure a transport-only multicast delivery session
configured at Nmbsmf in such a way that it can then be successfully advertised
to a 5MBS Client in a session description?
2\. How is a synthetic 5MBS session description best injected into a 5MBS
Client at MBS‑6?
## 7.3 Multicast--Broadcast User Service
### 7.3.1 Introduction
An "MBMS user service"-like support is expected to be provided by the MBSF and
MBSTF. 5MBS User Services enable applications. It presents a complete service
offering to an end-user, via a set of APIs that allows the 5MBS Client to
activate or deactivate reception of the service.
The 5MBS User Service architecture is independent of 5G Media Streaming (5GMS)
and may be used without 5GMS. There are scenarios where 5GMS is the northbound
application function, as depicted in clause 5.4 where four different
deployment models are presented. In another example, 5G Multicast ABR media
streaming service could be a User Service where the 5MBS User Services allow
streaming of DASH content as defined in TS 26.501, and it also includes the
use of an MBS session to deliver the DASH segments in multicast. When
delivering content to a 5MBS Client, the MBSTF uses one or more 5MBS Delivery
Methods.
Figure 7.3.1-1 depicts a potential solution for functional entities in MBSF
and MBSTF to support 5G Multicast-Broadcast User Service.
Figure 7.3.1-1: 5GS multicast-broadcast user service functional entities
### 7.3.2 MBSF
The following functions in the MBSF to support 5MBS will be defined in 3GPP TS
23.247 [26]:
\- Interacting with MB-SMF for MBS session operations, determination of N6mb
transport parameters, and session transport (via interface Nmb1).
\- Selection of serving MB-SMF for an MBS Session (via interface Nmb1).
NOTE: The equivalent reference point of Nmb1 in MBMS control plane is SGmb.
\- Configuration (via interface Nmb2) of the sender IP multicast address to
use for the MBS session in cases where the IP multicast stream is originated
by the MBSTF.
The following MBSF functionality and procedures related to service and MBS
data handling to support 5MBS User Service are studied in the present
document:
\- Interacting with the MBSTF (if needed) for 5MBS Delivery Method control
(via Nmb2).
\- Interacting with the AF (optionally via NEF) (via Nmb6/xMB-C).
NOTE: It is assumed that MB2-C interface will be supported in Release 17 "as
is", as specified in 3GPP TS 29.468 [18] and RFC 6733 [20].
\- Interacting with the PCF (via Nmb7) to relay or initiate a request for
different PCF treatment.
\- Interacting with the UE (via MBS-5).
NOTE: The MBS-5 interface might be abstract, i.e. using an undefined/external
transport.
\- The User Service Discovery/Announcement provides session access
information, which is necessary to initiate the reception of a 5MBS User
Service. The session access information may contain information for
presentation to the end-user, as well as application parameters used in
generating service content to the 5MBS Client.
### 7.3.3 MBSTF
In MBSTF, the use of reference point Nmb5 to provide IP multicast traffic
delivery to the MB-UPF will be defined in 3GPP TS 23.247 [26].
NOTE: The equivalent reference point of Nmb5 in MBMS is SGi-mb.
The following MBSTF functionality and Delivery Methods related to MBS data
handling, to support 5MBS User Services, will be studied in the present
document.
\- Interacting with the AS (via interface Nmb4/xMB-U).
\- Interacting with the UE (via MBS-4-MC).
A set of 5MBS Delivery Methods are provided by the MBSTF. These provide
functionality such as security and key distribution, reliability control (by
means of FEC techniques) and associated delivery procedures. The following
Delivery Methods will be studied in the present document:
**_\- Object delivery method:_** Functionally, this is equivalent to the
"Download Delivery Method" in TS 26.346 [16] and also supports the real-time
delivery of media segments (as special objects) including Low-Latency CMAF
delivery.
Figure 5.3.1.1-1 illustrates a simplified user plane model of FLUTE as an
example of a possible MBSTF object delivery method. However, the protocol to
support the object delivery function is for future study.
**_\- Transparent delivery method:_** This supports the IP streaming use
cases, for which UDP payloads (also referred to as Application Data Units) are
distributed as part of UDP or IP flows carried to the UE over an MBS session.
Examples of higher layer protocols are RTP, packetized MPEG-2 TS or other UDP-
based streams.
**_\- Group Communication delivery method:_** This delivers a multicast UDP/IP
packet flow to the UE.
Editor's Notes:The potential merger of the Transparent delivery method and
Group Communication delivery method is for future study. For details also
refer to clause 5.5.2.
The above Delivery Methods may use either a multicast or broadcast session to
deliver content to a receiving application, and may also make use of a set of
5MBS associated delivery procedures.
**_MBS session_** refers to a multicast session or a broadcast session, as
defined in TS 23.247 [26].
\- In a **_Multicast MBS session_** , an MBS session delivers the multicast
communication service. A Multicast MBS session is characterised by the content
to send, by the list of UEs that may receive the service, and, optionally, by
a multicast area in which to distribute it
\- In a **_Broadcast MBS session_** , an MBS session delivers the broadcast
communication service. A broadcast MBS session is characterised by the content
to send and the geographical area for content distribution.
### 7.3.4 5MBS together with 5G Media Streaming Architecture
Figure 7.3.4-1 depicts a deployment of 5G Media Downlink Streaming delivery
over multicast. The 5GMSd Application Provider is a combined external
application entity and content-specific media functionality (e.g. media
creation, encoding, and formatting) that uses the 5GMS System to distribute
media to a 5GMSd-Aware Application.
Figure 7.3.4-1: 5G multicast media streaming User Service functional entities
The 5GMSd AF provides 5G Media Downlink Streaming provisioning and various
control functions to the Media Session Handler in the 5GMS Client located in
the UE. It may relay or initiate a request for different PCF treatments.
In the deployment architecture, as shown by Figure 7.3.4-1, the 5GMSdAF and
MBSF are fully separated logical functions. Alternatively, as depicted in
Figure 5.4.2-1, the MBSF could be integrated within the 5GMSd AF. In such a
deployment, the embedded MBSF still uses the Nmb2 to configure and control the
multicast delivery functionality of the MBSTF.
Detailed deployment options in the UE are described in clause 4.4.2 of the
present document.
### 7.3.5 Hybrid 5GMS unicast and 5MBS services
Based on the principle considerations in Table 6.2.3-1, for all different
hybrid unicast/5MBS services except MooD, the following needs to be done:
\- Architecture for Hybrid 5GMS unicast and 5MBS services,
\- Call flows for the hybrid services need to be defined.
\- The required functions of the reference points need to be checked against
existing functions in TS 26.501, TS 26.511, TS 26.512, TS 26.346, TS 26.347
and TS 26.348.
The required functions need to be documented and extended as needed.
# 8 Conclusions and Next Steps
## 8.1 General
Table 8.1-1 points to conclusions and next steps for each of the key issues
studied in the present document.
Table 8.1-1: Index of Key Issues, Conclusions, and Next Steps
Key Issue Conclusions and Next Steps clause
* * *
Key Issue#1: How to support multicast ABR in 5G Media Streaming Architecture
5.2.7 Key Issue#2: How to design Nmb2 interface 5.3.3 Key Issue#3:
Collaboration and deployment scenarios 5.4.6 Key Issue #4: Reuse of MBMS
service layer 5.5.2 Key Issue #5: Client architecture options 5.6.3 Key Issue
#6: Hybrid 5GMS services 5.7.3 Key Issue #7: 5GMS via eMBMS 5.8.3 and 5.8.4
## 8.2 Conclusions
Based on the conclusions for the key issues studied in the present document
(as summarized in clause 8.1 above), the following consolidated conclusions
are reached as an agreed baseline for potential standardization:
1\. Define 5G Media Streaming services delivered via 5MBS, including hybrid
services.
2\. Define 5G Media Streaming services delivered via eMBMS, including hybrid
services.
3\. Define service aspects in the MBSF, such as the User Service announcement.
This includes the definition of a data model for 5MBS services including a
session model and its mapping to 5MBS transport.
4\. Define the Delivery Methods in the MBSTF to realise 5MBS User Services in
the MBSF using available 5MBS capabilities, including support for Group
Communication delivery.
5\. Define 5MBS associated delivery procedures, including file repair and
delivery reporting.
6\. Define the realization of Nmb2 (between MBSF and MBSTF), which configures
and controls the Delivery Methods (such as object delivery).
7\. Define reference point Nmb6 for provisioning the MBSF (based on xMB-C) and
Nmb4 for ingesting content into the MBSTF (based on xMB-U).
NOTE: It is assumed that the existing MB2 interface will be supported in
Release 17 "as is".
8\. Define the functionalities and APIs of the 5MBS Client.
9\. Define procedures for discovering and establishing a Multicast ABR
session, for dynamically (de)selecting multicast transport sessions, for
recovering from multicast packet loss and for reporting usage statistics and
Quality of Experience metrics for optimal service management.
10\. Any new specification will take into consideration the need to maximize
the reuse of components already specified in MBMS.
Note that the specific conclusions for each key issue as documented in Table
8.1-1 are expected to be taken into account in the detailed definition of new
functionalities.
## 8.3 Recommended normative work
To document the potential standardization areas identified in clause 8.2
above, it is expected that several new specifications are produced and several
existing specifications are extended.
In particular, the following normative specification work is recommended for
immediate action:
1\. A new architecture specification (as an example, TS 26.502) to define a
5MBS User Service architecture, including the following reference
points/interfaces and entities:
> a. New entities MBSF, MBSTF, 5MBS Client, and 5MBS AS.
>
> b. The northbound reference points Nmb6 and Nmb4.
>
> c. The reference point Nmb2 between the MBSF and the MBSTF.
>
> d. The interfaces between the 5MBS Client and 5MBS network functions:
> MBS-4-UC, MBS-4-MC and MBS‑5.
>
> e. the 5MBS Client reference points MBS-6 and MBS-7.
>
> Editor's Note: there is a dependency on SA2's work on Rel-17 TS 23.247,
> which should be functionally frozen in June 2021.
>
> This specification also includes:
f. Relevant call flows and procedures to support 5GMS over 5MBS.
g. Relevant call flows and procedures to support 5GMS hybrid services.
h. Relevant call flows and procedures for 5GMS independent usage of 5MBS.
2\. In combination with the new 5MBS User Service Architecture specification
(e.g. TS 26.502) above, extend TS 26.501 by providing a general description
and architecture of:
a. 5GMS via 5MBS.
b. 5GMS hybrid services.
c. 5GMS via eMBMS.
d. Multicast ABR with 5GMS and 5MBS.
The following normative work is expected subsequently:
3\. A new specification (as an example TS 26.513) to define the 5MBS User
Service transport/application protocols and Delivery Methods for the
interfaces defined in the 5MBS User Service Architecture specification (e.g.
TS 26.502) above. This specification will take into consideration the need to
maximize the reuse of components of already specified MBMS.
4\. Extend TS 26.347 to provide Client APIs for 5MBS User Services, as defined
in the 5MBS User Service Architecture specification (e.g. TS 26.502) above.
5\. Extend relevant clauses in TS 26.512 [28] to realise the procedures
defined in the 5MBS User Service Architecture specification (e.g. TS 26.502)
above for 5GMS via 5MBS, 5GMS hybrid services, 5GMS via eMBMS, and Multicast
ABR with 5GMS and 5MBS, as needed.
6\. Extend relevant clauses in TS 26.346 [16] to define protocols and codecs
for 5GMS via 5MBS, 5GMS hybrid services, 5GMS via eMBMS, and Multicast ABR
with 5GMS and 5MBS, as needed.
# Annex A (informative): Change history
+-------+-------+-------+-------+-------+-------+-------+-------+ | **C | | | | | | | | | hange | | | | | | | | | hist | | | | | | | | | ory** | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | **D | * |** T | * | ** | ** | **Su |** New | | ate**| *Meet | Doc** | _CR_ _| Rev_ _| Cat_ _| bject | vers | | | ing_ _| | | | | /Comm | ion_ _| | | | | | | | ent_ * | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | S4- | - | - | - | S4-2 | 0.0.1 | | 20-05 | 109-e | 20941 | | | | 0941: | | | | | | | | | Pro | | | | | | | | | posed | | | | | | | | | Ske | | | | | | | | | leton | | | | | | | | | TR | | | | | | | | | 2 | | | | | | | | | 6.802 | | | | | | | | | a | | | | | | | | | greed | | | | | | | | | in | | | | | | | | | SA4# | | | | | | | | | 109-e | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | | | | | Incl | 0.0.2 | | 20-08 | 110-e | | | | | usion | | | | | | | | | of | | | | | | | | | docu | | | | | | | | | ments | | | | | | | | | a | | | | | | | | | greed | | | | | | | | | in | | | | | | | | | S | | | | | | | | | A4#1 | | | | | | | | | 10-e: | | | | | | | | | | | | | | | | | | S4-2 | | | | | | | | | 01137 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | | | | | Incl | 0.1.0 | | 20-11 | 111-e | | | | | usion | | | | | | | | | of | | | | | | | | | docu | | | | | | | | | ments | | | | | | | | | a | | | | | | | | | greed | | | | | | | | | in | | | | | | | | | S | | | | | | | | | A4#1 | | | | | | | | | 11-e: | | | | | | | | | | | | | | | | | | S4-2 | | | | | | | | | 01628 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4 | | | | | Incl | 0.1.8 | | 20-12 | MBS | | | | | usion | | | | SWG | | | | | of | | | | AH | | | | | S4aI2 | | | | Telco | | | | | 01102 | | | | | | | | | a | | | | | | | | | greed | | | | | | | | | in | | | | | | | | | SA4 | | | | | | | | | MBS | | | | | | | | | SWG | | | | | | | | | AdHoc | | | | | | | | | Telco | | | | | | | | | on | | | | | | | | | Dec | | | | | | | | | 10, | | | | | | | | | 2020 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | | | | | Incl | 0.2.2 | | 21-02 | 112-e | | | | | usion | | | | | | | | | of | | | | | | | | | S4-21 | | | | | | | | | 0079, | | | | | | | | | S4-21 | | | | | | | | | 0152, | | | | | | | | | and | | | | | | | | | S4-2 | | | | | | | | | 01384 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | | | | | Incl | 0.3.0 | | 21-02 | 112-e | | | | | usion | | | | | | | | | of | | | | | | | | | S4-21 | | | | | | | | | 0239, | | | | | | | | | S4-21 | | | | | | | | | 0308, | | | | | | | | | S4-21 | | | | | | | | | 0250, | | | | | | | | | S4-2 | | | | | | | | | 10249 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA\ | | | | | Subm | 1.0.0 | | 21-03 | #91-e | | | | | itted | | | | | | | | | to SA | | | | | | | | | for | | | | | | | | | i | | | | | | | | | nform | | | | | | | | | ation | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4-e | | | | | Incl | 1.0.8 | | 21-03 | (AH) | | | | | usion | | | | MBS | | | | | of | | | | SWG | | | | | S4aI2 | | | | post | | | | | 01152 | | | | 112-e | | | | | and | | | | | | | | | S4aI2 | | | | | | | | | 01153 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | | | | | Incl | 1.2.0 | | 21-04 | 113-e | | | | | usion | | | | | | | | | of | | | | | | | | | S4-21 | | | | | | | | | 0616, | | | | | | | | | S4-21 | | | | | | | | | 0638, | | | | | | | | | and | | | | | | | | | S4-2 | | | | | | | | | 10588 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4- | | | | | Incl | 1.2.8 | | 21-04 | 4(AH) | | | | | usion | | | | MBS | | | | | of | | | | SWG | | | | | S4aI2 | | | | post | | | | | 11172 | | | | 113-e | | | | | and | | | | | | | | | edit | | | | | | | | | orial | | | | | | | | | ch | | | | | | | | | anges | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA4# | | | | | Incl | 1.3.0 | | 21-05 | 114-e | | | | | usion | | | | | | | | | of | | | | | | | | | S4-21 | | | | | | | | | 0901, | | | | | | | | | S4-21 | | | | | | | | | 0905, | | | | | | | | | S4-21 | | | | | | | | | 0906, | | | | | | | | | S4-21 | | | | | | | | | 0907, | | | | | | | | | S4-21 | | | | | | | | | 0922, | | | | | | | | | S4-2 | | | | | | | | | 10923 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | Post | | | | | Submi | 2.0.0 | | 21-06 | SA4# | | | | | ssion | | | | 114-e | | | | | to SA | | | | | | | | | pl | | | | | | | | | enary | | | | | | | | | for | | | | | | | | | app | | | | | | | | | rova; | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | SA\ | SP-2 | | | | Spe | 1 | | 21-06 | #92-e | 10379 | | | | cific | 7.0.0 | | | | | | | | ation | | | | | | | | | br | | | | | | | | | ought | | | | | | | | | under | | | | | | | | | C | |