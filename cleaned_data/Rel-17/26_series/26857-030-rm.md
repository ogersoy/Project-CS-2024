# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# Introduction
In recent studies and specification work, it was identified that 5G Media
functions and 5G System functions need to be made attractive for third-party
applications, in particular those that include media delivery. Hence, it is
important that these functions are accessible to third-party applications
independent of a 3GPP service. For this purpose, it is considered to introduce
normative specifications in 3GPP SA4 that are
\- more than just a core functionality, e.g. a codec, without any connection
to a service or application
\- less than a full service that includes all aspects of session
establishment, delivery, codecs, rendering and a full user experience
Such new specifications are referred to 5G "Media Service Enablers".
# 1 Scope
The present document introduces and defines the concept of Media Service
Enablers which includes among others
  * Definition of the principal properties of Media Service Enablers
  * Definition of minimum and typical functionalities of Media Service Enablers
  * Definition of a specification template for Media Service Enablers
  * Identification of possibly relevant stage-2 and stage-3 work for Media Service Enablers
  * Collection of a set of initially relevant Media Service Enablers for normative work
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[ISO-23090-8] ISO/IEC 23090-8:2020, Information technology --- Coded
representation of immersive media --- Part 8: Network based media processing
[x] \ \[ ([up to and
including]{yyyy[-mm]\|V\}[onwards])]: \"\\".
It is preferred that the reference to 21.905 be the first in the list.
# 3 Definitions of terms, symbols and abbreviations
This clause and its three subclauses are mandatory. The contents shall be
shown as \"void\" if the TS/TR does not define any terms, symbols, or
abbreviations.
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
Definition format (Normal)
**\ :** \.
**example:** text used to clarify abstract rules by applying them literally.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Symbol format (EW)
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
MSE Media Service Enabler
# 4 Motivation for Media Service Enablers
Editor's Note: In recent studies and specification work, it was identified
that 5G Media functions and 5G System functions need to be made attractive for
third-party applications, in particular those that include media delivery.
Hence, it is important that these functions are accessible to third-party
applications independent of a 3GPP service. For this purpose, it is proposed
to introduce normative specifications in 3GPP SA4 that are (i) more than just
a core functionality, e.g. a codec, without any connection to a service or
application (ii) less than a full service that includes all aspects of session
establishment, delivery, codecs, rendering and a full user experience
This clause should also add examples of other specifications addressing the
need.
## 4.1 General
In recent studies and specification work, it was identified that 5G Media
functions and 5G System functions need to be made attractive for third-party
applications, in particular those that include media delivery. Examples for
such approaches are MBMS or 5G Media Streaming. Hence, it is important that
these functions are accessible to third-party applications independent of a
3GPP service. For this purpose, it is considered to introduce normative
specifications in 3GPP that are
  * more than just a core functionality, e.g. a codec, without any connection to a service or application
  * less than a full service that includes all aspects of session establishment, delivery, codecs, rendering and a full user experience
The specification should also not only address a pure textual description but
provide additional functionalities such as test and validation tools.
Several examples of specifications at least partially addressing such needs
are provided in the remainder of this clause.
## 4.2 Examples in 3GPP
### 4.2.1 MBMS Client
Editor's Notes: Add details on the following examples and templates
  * TS 26.347 MBMS client
    *     * https://developer.android.com/reference/android/telephony/mbms/package-summary
    * Developed in parallel with Android/Google
    * Go back to Google and see if they engage
    * No specification, Test harness and so on was done
{width="4.146449037620298in" height="2.9874398512685914in"}
### 4.2.2 MSH as defined TS 26.512
Editor's Note:
  * We will have a discussion with the 5G-MAG developers on this topic on March 25, 2022
  * Can we create background services
    * Android APIs
    * What about using HTTP-APIs?
    * Transparent
### 4.2.3 Media Player as defined TS 26.512
Details tbd
### 4.2.4 SA6 Application Frameworks
Editor's Note:
  * Rapporteur will speak with SA6 chair on March 25, 2022
## 4.3 External Specifications
EDITOR#S Note.
W3C way
> Significant testing environment
>
> 2 interoperable implementations
CTA WAVE 5003 Device Playback specification
> {width="5.88333552055993in" height="2.257465004374453in"}
Android SDKs
  * OpenXR SDKs
  * API definitions
  * Exact ways to write description
  * ASCIIDoctor is the document generator tool (see attached)
  * Header files are generated
  * Validation is generated
  * RESTful APIs
{width="6.695138888888889in" height="4.104166666666667in"}
{width="6.695138888888889in" height="3.2125in"}
{width="6.695138888888889in" height="3.922222222222222in"}
## 4.4 MSE frameworks
### 4.4.1 MSE framework proposal #1
#### 4.4.1.1 Architecture
Figure 4.4.1.1-1 shows a possible framework for Media Service Enablers. The
MSE framework consists of two parts: the _MSE specification_ (on the left of
the figure) and the _MSE implementation_ (on the right).
Figure 4.4.1.1-1. Media Service Enablers Framework
#### 4.4.1.2 MSE Specification
An MSE Specification defines:
1\. _Media aspects_
a. Functional description of the MSE including the mandatory and optional
features.
b. The control interfaces such as provisioning, authentication that is used by
the application, and other functions to interact with this MSE.
c. The media interfaces that includes all inputs and outputs format and
protocols.
d. Network interface including system and radio network.
e. Event, notifications, reporting, and monitoring.
f. Error handling.
2\. _MSE Configuration_
a. An _MSE Description Document (MDD)_ that describes:
1\. Functions supported by an MSE implementation and their configuration
parameters.2. Optionally the performance/cost metrics for the different
features/options.
b. An _MSE Configuration API (MCA)_ abstraction for:
1\. Retrieving the MSE Description Document.
2\. Configuring the MSE instantiation.
3\. Retrieving the state and status of the MSE instantiation.
c. A service API for the MSE Configuration API.
Media aspects (1) are usually covered by SA4 specifications. However, the MSE
Configuration (2) is absent from current SA4 specifications and is what the
MSE Specification adds. The value of this is that, for any SDK or service that
is conforming to the MSE specification, a description of the features and
their configuration parameters can be retrieved by an external function or
service. Additionally, the external function or service can set a specific
configuration for running that SDK. Furthermore, the state and status of the
running SDK can be retrieved at any time.
The language and syntax of the MSE Description Document and the general
framework of the MSE Configuration API can be defined uniformly for all SA4
Media Service Enabler specifications and only specific codepoints are defined
in that specification. An external function or application understanding the
MSE Description Document syntax, as well as supporting the MSE Configuration
API, can retrieve the information from an MSE implementation. If it recognizes
the MSE Specification identifier, it can parse and process the MSE Description
Document and its configuration parameters.
An example of an MSE Description Document can be found in ISO/IEC 23090-8
[ISO-23090-8]. The function description document is a JSON document that
describes the functionalities and features that a function provides as well as
its configuration parameters.
#### 4.4.1.3 MSE implementation
An MSE implementation may consist of up to three aspects:
1\. The MSE SDK abstraction, an abstract SDK definition intended to be
realized as a Software Development Kit, which includes the followings:
i. Media aspects conforming to the MSE specification.
ii. MSE Description Document and MSE Configuration API.
2\. The MSE SDK instantiation which is an SDK implementation in a specific
environment and conforms to the following:
i. Media aspects conforming to the MSE Specification.
ii. MSE Description Document and a specific implementation of the MSE
Configuration API.
3\. The MSE service which is the MSE implementation as a service, i.e with
APIs that are platform-independent (such as web-based APIs) and conforms to
the following:
i. Media aspects conforming to the MSE Specification.
ii. MSE Description Document and a platform-independent implementation of the
MSE Configuration API.
As shown in Figure 4.4.1.1-1, while the MSE SDK abstraction and the MSE
Service are platform-independent, the MSE SDK is an instantiaton of the MSE
SDK abstraction for a specific platform/environment.
An MSE Specification does not required to include all three aspects. For
instance, if an MSE is only intended to be realized as software development
kit, then its specification would include specificatons for the SDK
abstraction and one or more SDK instantiation.
#### 4.4.1.3 Example
As shown in figure 4.4.1.1-1, the MSE Specification can be deployed in two
different ways: as an SDK for running on devices or as a microservice running
on an Application Server. To demonstrate converting an existing 3GPP
specification to an MSE specification, we use the 5GMS Media Session Handler
defined in TS 26.501 [?], shown in figure 4.4.1.4-1.
Figure 4.4.1.4-1. Media Session Handler as defined in 26.501
Figure 4.4.1.4-2. Media Session Handler as MSE SDK abstraction, MSE SDK
instantiations, and MSE service
The MSE Specification for the Media Session Handler (MSH) shown in Figure
4.4.1.4-2 describes the following:
1\. Media aspects:
a. Functional description of:
i. Service Access Information.
ii. Consumption Reporting.
iii. Metrics Reporting.
iv. Dynamic policies.
v. Network Assistance.
b. M5d, M6d, M7d API definitions:
i. M5d as is already defined.
ii. M6d and M7d as abstract APIs.
iii. M6d and M7d as service APIs.
2\. MSE Configuration
a. An MSE Description Document which describes:
i. An identifier that shows this MSE conforms to (1).
ii. Optional features of (1a) and (1b) with their configuration parameters.
iii. Optionally the performance/cost metrics for the different
features/options.
b. Abstract API definitions for:
i. Retrieving the MSE Description Document (2a).
ii. Configuring the MSE instantiation.
iii. Retrieving the state and status of the MSE instantiation.
c. A service API for the abstract API (2b).And MSE SDK implementation of the
above specification for Android should support the following:
3\. Media aspects conforming to (1), including a specific implementation of
the M6d and M7d service APIs.
4\. The MSE Description Document (2a) and a specific implementation of the
abstract APIs (2b).
The MSE Description Document describes the features implemented by the MSE.
The abstract APIs allow an external Android process to retrieve this document
and configure the SDK with a set of configurable parameters that are described
in the MSE Description Document. They also allow it to interrogate the state
and status of the running SDK.
# 5 Properties and Functionalities of MSE
Editor's Note: In implementations and deployments, such packaged functions are
typically referred to as Software development kit (SDK) and they are usable by
applications through well-defined APIs. A few potential properties of a Media
Service Enabler are provided:
  * Set of functions that may be used to develop applications on top of 5G Systems.
  * Set of robust features and functionalities which reduce the complexity of developing applications
  * Functions to leverage system and radio optimizations as well as features defined in 5G System (5G Core Network and 5G NR)
  * Usability of the set of functions by well-defined and well-documented APIs
  * Provision of network interfaces to connect to the 5G System
  * A testable set of functions. Testing and conformance may be addressed outside 3GPP by an appropriate MRP or Industry forum.
  * Guidelines and examples to make use of this set functionalities
A general initial idea on how to define media service enablers are documented
below:
  * combine functions defined in 3GPP (for example a codec) and/or may reference technologies defined outside of 3GPP, for example in MPEG or Khronos, and provide relevant subsets and profiles of those
  * include mandatory, recommended and optional functions. Define signaling and capability negotiation for all functions
  * specify requirements for client and network functions, as needed
  * may include relevant functions such as QoE metrics and KPIs
> In order to establish the above concept in 3GPP, a clear set of guidelines
> and requirements for Media Service Enabler specifications is needed.
What may constitute an MSE specification?
  * Reference and profile 3GPP specifications and external specifications
  * Includes requirements for Codecs & Protocols & Processing & Formats
  * Includes capabilities, APIs, reference points, interfaces
  * May include QoS Requirements for 5G System
What interfaces are addressed in an MSE specification?
APIs to control the SDK/MSE
  * Methods
  * Events
  * Notifications
  * Errors
Network interfaces
  * What terminates/originates in the MSE
  * Output to app/display
  * Buffers (raw media or encoded media, files)
How should the APIs be designed?
  * Should have the following properties
  * Should document abstract APIs with semantical descriptions
  * APIS can be implemented afterwards
  * Directly in Android
  * below an existing Android API such that Android can be built on top
What may be properties of an MSE?
  * It may have states: idle, active, inactive
  * Follow functional requirements
  * Possibly even fulfil performance requirements?
What may be documented for an an MSE or an MSE profile?
  * Call flows and procedures should be made mandatory
  * Methods and APIs
  * Pre and post conditions
> Use TS 26.347 as a baseline for MSE documentation, but improve on
> systematics. Reuse some concepts from HTML-5 video element and MSE.
# 6 Tools and Languages for better specifications
Editor's Note:
> What are reasonable abstraction languages?
  * YAML/OpenAPIs => RESTFul APIs
  * WebIDL
  * others
> Can we help documentation and specification using more tools?
  * MSC
  * IDL Editors
  * Editing in markdown?
# 7 Specification Template for MSE
Editor's Note: add recipe on how develop a good specification for an MSE
# 8 Potentially Relevant 5G Media Service Enablers
Editor's Note: collect MSEs that may be defined
# 9 Conclusions and Recommendations
###### ## Annex \ (informative): \
Start each annex on a new page.
Annexes are labelled A, B, C, etc. and designated either \"normative\" or
\"informative\" depending on their content.
Normative annexes only to appear in Technical Specifications. Use style
\"Heading 8\".
###### ##
#