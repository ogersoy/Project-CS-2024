# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope {#scope-1}
The present document studies the charging aspects of Edge Computing based on:
\- architecture, procedures and information flows for enabling Edge
Applications over 3GPP network specified in TS 23.558 [4].
\- capabilities for 5GS to support edge computing specified in TS 23.501 [3],
TS 23.502 [9] and TS 23.503 [10] incorporating enhancements from TR 23.748
[11] conclusions.
The ETSI ISG MEC framework is also considered.
The charging aspects encompasses:
\- End user charging when accessing edge applications enabled over 3GPP
networks.
\- Inter-Provider charging by considering the different business roles (i.e.
ASP, ECSP and MNO).
The investigation includes different charging scenarios with potential
business requirements, alternative solutions with potential impact on charging
architecture, charging functions and charging procedures.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[3] 3GPP TS 23.501: \"System architecture for the 5G System (5GS); Stage 2\".
[4] 3GPP TS 23.558: \"Architecture for enabling Edge Applications\".
[5] 3GPP TS 32.290: \"Telecommunication management; Charging management; 5G
system; Services, operations and procedures of charging using Service Based
Interface (SBI)\".
[6] 3GPP TS 32.255: \"Telecommunication management; Charging management; 5G
Data connectivity domain charging; stage 2\".
[7] 3GPP TS 32.256: \"Telecommunication management; 5G connection and mobility
domain charging; Stage 2\".
[8] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
[9] 3GPP TS 23.502: \"Procedure for the 5G System (5GS); Stage 2\".
[10] 3GPP TS 23.503: \"Policy and charging control framework for the 5G System
(5GS); Stage 2\".
[11] 3GPP TR 23.748: \"Study on enhancement of support for Edge Computing in
5G Core network (5GC)\".
[12] 3GPP TR 28.814: \"Study on enhancements of edge computing management\".
[13] 3GPP TS 28.552: \"Management and orchestration; 5G performance
measurements\".
[14] 3GPP TS 28.554: \"Management and orchestration; 5G end to end Key
Performance Indicators (KPI)\".
[15] 3GPP TR 28.550: \"Management and orchestration; Performance assurance\".
[16] 3GPP TS 28.622: \"Telecommunication management; Generic Network Resource
Model (NRM) Integration Reference Point (IRP); Information Service (IS)\".
[17] 3GPP TS 28.532: \"Management and orchestration; Generic management
services\".
[18] 3GPP TS 28.522: \"Telecommunication management; Performance Management
(PM) for mobile networks that include virtualized, network functions; Stage
2\".
[19] ETSI GS NFV-IFA 008 (V3.4.1): \"Network Functions Virtualisation (NFV)
Release 3; Management and Orchestration; Ve-Vnfm reference point - Interface
and Information Model Specification\".
[20] 3GPP TS 23.548 \"5G System Enhancements for Edge Computing; Stage 2\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1] and
the following apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1].
## 3.2 Symbols
Void.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
AC Application Client
ACR Application Context Relocation
ASP Application Service Provider
CEF Charging Enablement Function
CHF Charging Function
EAS Edge Application Server
ECS Edge Configuration Server
ECSP Edge Computing Service Provider
EDN Edge Data Network
EES Edge Enabler Server
MNO Mobile Network Operator
MnS Management Service
# 4 Business roles
Edge computing in 5G environment involves the services or capabilities
provided by multiple service providers and entities in the form of following
business roles:
\- ASP providing edge application service to the subscribers;
\- ECSP providing edge data network environment (e.g. infrastructure and
platform) and edge enabling service (e.g. EAS deployment, registration and
discovery) to ASP;
\- MNO providing 5GS capabilities supporting edge computing.
In the deployments, there could be scenarios where one or more of the business
roles are supported by a single enterprise, i.e., one enterprise may play a
single business role or multiple business roles, for instance the enterprise
may only play the MNO role, or play both MNO and ESCP roles. The present
document does not impose any restrictions to the possible deployment
scenarios.
# 5 Concepts and overview
There could be various business models in terms of charging between the
service providers and the served consumer(s) for edge computing in 5G
environment in manifold business modes such as B2C, B2B and B2B2X, for example
(but not limited to):
\- Subscriber charging
\- MNO charges the subscribers for usage of 5GS capabilities supporting edge
computing.
\- Service-provider charging
\- MNO charges the industry consumer (e.g., ECSP) for 5GS capabilities
provided to support edge computing in total instead of for each individual
subscriber;
\- ECSP charges the ASP for the edge enabling service.
The solutions described in the present document aim to flexibly support the
charging scenarios for edge computing in 5G environment without restriction to
any specific business model.
# 6 Architecture considerations
## 6.1 5GS and edge application enabling architecture assumptions
### 6.1.1 Edge Computing enabling architectures
For enabling edge applications, the baseline architecture is per clause 6.1.3
of the present document; for supporting edge computing in 5GS, the
architecture defined in TS 23.548 [20] based on TS 23.501 [3] per clause 6.1.2
of the present document applies.
### 6.1.2 5GS architecture for Edge Computing
The 5GS architecture for supporting Edge Computing is defined in TS 23.548
[20] based on the reference architectures specified in clause 4.2 of TS 23.501
[8].
Figure 6.1.2-1 depicts 5GS architecture for non-roaming scenario supporting
Edge Computing with UL CL/BP.
Figure 6.1.2-1: 5GS providing access to EAS with UL CL/BP for non-roaming
scenario
Figure 6.1.2-2 depicts 5GS architecture for non-roaming scenario supporting
Edge Computing without UL CL/BP.
Figure 6.1.2-2: 5GS providing access to EAS without UL CL/BP for non-roaming
scenario
### 6.1.3 Architecture for enabling edge applications
The Figure 6.1.3-1 shows the architecture for enabling edge applications as
defined in TS 23.558 [4].
Figure 6.1.3-1: Architecture for enabling edge applications
The Edge Data Network is a local Data Network. Edge Application Server(s) and
the Edge Enabler Server are contained within the EDN. The Edge Configuration
Server provides configurations related to the EES, including details of the
Edge Data Network hosting the EES. The UE contains Application Client(s) and
the Edge Enabler Client. The Edge Application Server(s), the Edge Enabler
Server and the Edge Configuration Server may interact with the 3GPP Core
Network.
## 6.2 Potential converged charging architectures for edge computing
### 6.2.1 General
The converged charging architectures for edge computing aime to support
charging for the following services or capabilities:
\- Edge enabling service;
\- 5GS capabilities supporting edge computing;
The architectures for converged charging for edge enabling service and 5GS
capabilities supporting edge computing are depicted for the possible
solution(s) in the corresponding sections in clause 7.
The architectures for converged charging for 5GS are defined in other TSs
(such as TS 32.240 [2], TS 32.255 [6] and TS 32.256 [7]) and are referenced by
the present document where it applies.
Details on the interfaces and functions can be found in TS 32.240 [2] for the
general architecture components. Nchf is described in TS 32.290 [5].
# 7 Charging scenarios and key issues
## 7.1 5GS capability usage based charging for edge computing
### 7.1.1 Use cases
#### 7.1.1.1 Use case #1a: MNO charging subscriber for 5GS capabilities usage
for accessing edge application
This use case focuses on MNO and subscriber business roles.
A UE has a subscription with the MNO which allows usage of 5GS for accessing
edge applications.
5GS provides the capabilities to support edge computing, and the MNO may
charge these 5GS capabilities in the following ways:
\- Charge the individual subscribers for using the 5G capabilities supporting
edge computing for accessing edge applications.
The subscriber charging could be based on data volume or in-session (PDU
session) time that the UE has been connected to the edge applications, and
potentially with consideration of the following factors:
\- User\'s location;
\- Access RAT type;
\- Subscribed QoS information;
\- Authorized QoS information.
#### 7.1.1.2 Use case #1b: MNO charging ECSP for 5GS capabilities usage
This use case focuses on MNO and ECSP business roles.
The ECSP has an agreement to use the 5GS capabilities of the MNO.
\- Charge the ECSP for the 5GS capabilities provided for edge computing.
> The inter-provider charging by MNO could be based on the total data volume
> transferred in the PLMN for the EDN (Edge Data Network).
#### 7.1.1.3 Use case #1c: MNO charging ASP for 5GS capabilities usage
This use case focuses on MNO and ASP business roles.
The ASP has an agreement to use the 5GS capabilities of the MNO.
\- Charge the ASP for the 5GS capabilities provided for edge computing.
The inter-provider charging by MNO could be based on the total data volume
transferred in the PLMN for the edge application.
#### 7.1.1.4 Use case #1d: MNO charging subscriber for 5GS based on monitored
QoS
5GS offers the capabilities of QoS control and delivery to support edge
applications with sensitive performance requirements, especially on the delay
(for the URLLC service).
The actual QoS delivered by the 5GS for supporting edge computing may matter
to the charging of the 5GS capabilities provided to the subscribers. For
example, for two subscribes who have consumed the same amount of data in the
same PLMN for the same edge application, if they have been offered different
QoS, they may need to be charged differently based on the monitored QoS for
them respectively.
#### 7.1.1.5 Use case #1e: MNO charging ECSP/ASP for 5GS based on monitored
QoS
5GS offers the capabilities of QoS control and delivery to support edge
applications with sensitive performance requirements, especially on the delay
(for the URLLC service).
The actual QoS delivered by the 5GS for supporting edge computing may matter
to the charging of the 5GS capabilities provided to the ECSP/ASP. For example,
for two ECSPs can if they have been offered different QoS, be charged
differently based on the monitored QoS.
### 7.1.2 Potential charging requirements
#### 7.1.2.1 Potential requirements for subscriber based charging
**REQ-CH_EC_5GS-01:** The SMF should support the following extensions to the
charging requirements defined in TS 32.255 [6]:
\- The SMF should support converged charging for each edge application, i.e.,
charging per rating group per PDU session with information about edge
application.
\- The charging information of PDU session, service flow or QoS flow provided
by SMF should be able to indicate or be correlated with the edge application
that the user accesses to.
\- The SMF should support converged charging and charging information
reporting for each edge application optionally based on the following
criteria:
\- User\'s location;
\- Access RAT type;
\- Subscribed QoS information;
\- Authorized QoS information.
**REQ-CH_EC_5GS-02:** The 5G system should support collecting charging
information per UE on usage of 5GS capabilities based on edge application.
**REQ-CH_EC_5GS-03:** The 5G system should support converged charging and
charging information reporting for each edge application optionally based on
the following criteria:
\- Monitored QoS in terms of packet delay (see TS 23.501 [3], clause 5.33.3).
#### 7.1.2.2 Potential requirements for inter-provider based charging
**REQ-CH_EC_5GS_SP-01:** The charging mechanism for 5G system should support
collecting charging information on usage of 5GS capabilities per UE EDN (edge
data network).
**REQ-CH_EC_5GS_SP-02:** The charging mechanism for 5G system should support
collecting charging information on usage of 5GS capabilities per edge
application.
**REQ-CH_EC_5GS_SP-03:** The charging mechanism for 5GS should support
converged inter-provider charging for the 5GS capabilities based on
performance measurements or KPIs of average UL/DL packet delay of the UEs in
5GS accessing the edge application.
### 7.1.3 Key issues
The following key issues are identified:
\- **Key Issue #1a:** The charging information reported by SMF needs to
contain the parameter for correlation between 5GS and edge application that
the user has accessed to.
\- **Key Issue #1b:** The charging mechanism for 5GS (including the management
system) needs to support converged inter-Provider charging for the 5G
capabilities provided to support edge computing to its consumer based on the
total UL/DL data volume transferred for the edge application.
\- **Key Issue #1c:** SMF needs to support converged charging and charging
information reporting for each edge application optionally based on monitored
QoS in terms of packet delay.
\- **Key Issue #1d:** How to support converged inter-provider charging for the
5GS capabilities based on performance measurements and/or KPIs related to
average UL/DL packet delay between PSA UPF and UE.
### 7.1.4 Possible solutions
#### 7.1.4.1 Possible solutions for subscriber based charging
##### 7.1.4.1.1 Possible solutions for MNO charging subscriber for 5GS usage
for accessing edge application
The possible solutions to support the potential requirements **REQ-
CH_EC_5GS-01, REQ-CH_EC_5GS-02** and Key Issue #**1a** could be the following
enhancements or extensions to the PDU session charging solutions defined in TS
32.255 [6]:
**Solution #1a** : Reuse the \"AF Charging Identifier" (see TS 32.255 [6] and
TS 29.512 [8]) or \"afChargId" (see TS 29.512 [8]) parameter for correlating
the Charging Data Request, charging information and CHF record data with the
edge application for PDU session charging.
The \"AF Charging Identifier" or \"afChargId" parameter is provided to SMF in
the PCC rule for one or more service flows and could be contained in the \"PDU
Container Information" that is provided in the Charging Data Request sent by
SMF and CHF record data.
**Solution #1b** : Reuse the \"Network Slice Instance Identifier" parameter
(see TS 32.255 [6]) for correlating the Charging Data Request, charging
information and CHF record data with the edge application for PDU session
charging.
The \"Network Slice Instance Identifier" parameter is contained in the \"PDU
Session Charging Information" and needs to be provided in the Charging Data
Request sent by SMF and CHF record data.
The assumption for this solution is that each edge application is associated
with a dedicated network slice.
**Solution #1c** : Use the \"Application Identifier", \"flowDescription" or
\"ethFlowDescription" parameter (see \"appId" in TS 29.512 [8]) for
correlating the Charging Data Request, charging information and CHF record
data with the edge application for PDU session charging.
The \"Application Identifier", \"flowDescription" or \"ethFlowDescription"
parameter is provided to SMF in the PCC rule for one or more service flows.
Including either of these parameters in the Charging Data Request sent by SMF
and CHF record data would enable the CHF to correlate them with the edge
application.
**Solution #1d** : Use the \"Rating Group" parameter for correlating the
Charging Data Request, charging information and CHF record data with the edge
application for PDU session charging.
The \"Rating Group" is provided to SMF in the PCC rule for one or more service
flows.
**Solution #1e** : Use the \"Service Identifier" parameter for correlating the
Charging Data Request, charging information and CHF record data with the edge
application for PDU session charging.
The \"Service Identifier" is provided to SMF in the PCC rule for one or more
service flows.
**Solution #1f** : Use the \"Sponsor Identity" parameter for correlating the
Charging Data Request, charging information and CHF record data with the edge
application for PDU session charging.
The \"Sponsor Identity" are provided to SMF in the PCC rule for one or more
service flows.
##### 7.1.4.1.2 Possible solutions for MNO charging subscriber for 5GS usage
for edge computing based on monitored QoS
The possible solutions to support the potential requirements **REQ-
CH_EC_5GS-03** and Key Issue #**1c** could be based on the 5G data
connectivity converged charging architecture defined in TS 32.255 [6], with
the extension of including **monitored QoS result for URLLC service on Edge
Computing in the usage report** , as described below.
**Solution #1g** : **Including the monitored QoS result in the usage report**
Figure 7.1.4.1.2-1: Subscriber charging for 5GS usage for edge computing based
on monitored QoS
The CHF of MNO is configured with quota and reporting threshold for subscriber
charging for usage of 5GS capabilities supporting edge computing.
> **1) UE starts using an edge application:** Triggers is are according to TS
> 32.255 [6] and TS 32.290 [5].
>
> **2) Charging Data Request [Initial, Quota Requested]:** the SMF sends the
> request to the CHF to reserve a number of units if determined.
>
> **3) Account, Rating, Reservation Control:** the CHF checks if corresponding
> funds can be reserved on the edge application\'s account balance, for each
> Rating Group. If the account has sufficient funds, the CHF rates the request
> and performs the corresponding reservation for each Rating Group.
>
> **4) Open CDR:** based on policies, the CHF opens a CDR related to the
> service for edge application.
>
> **5) Charging Data Response [Initial, Quota Granted]:** the CHF grants the
> reserved number of units to SMF for each Rating Group.
>
> **6) Granted Units Supervision:** The SMF monitors the consumption of the
> granted units and the delivered QoS if the monitored QoS result for URLLC
> service on Edge Computing is requested for charging.
NOTE: how to request the monitored QoS results for charging is not addressed
in the present document.
> **7) UE edge application usage ongoing:** the SMF continues to deliver the
> service.
>
> **8) Quota management Trigger:** A Trigger associated to Quota management is
> met. Units determination is performed when applicable.
>
> **9) Charging Data Request [Update, Quota Requested, Usage Reporting]:** the
> SMF sends the request to the CHF, to be granted with more unit for the
> service to continue, and also for reporting the used units. For the usage
> reporting, the monitored QoS result (e2e packet delay in 5GS) is included.
>
> **10) Account, Rating, Reservation Control:** same as step 4, with the
> option to also deduct the funds corresponding to the usage on the account
> balance.
>
> **11) Update CDR:** based on policies, the CHF updates the CDR with charging
> data related to the service.
>
> **12) Charging Data Response [Update, Quota Granted]:** The CHF grants quota
> to SMF for the service, with the reserved number of units for each Rating
> Group.
>
> **13) Service delivery ongoing:** the NF (CTF) continues to deliver the
> service.
>
> **14) UE stops using the edge application:** the SMF is requested to end the
> service delivery and does this.
>
> **15) Charging Data Request [Termination]:** the SMF sends the request to
> the CHF, for charging data related to the service termination with the final
> consumed units for each Rating Group.
>
> **16) Account, Rating Control:** the CHF performs the service termination
> process which involve using the reported charging data to rate the usage and
> deduct the funds corresponding to the usage on the account balance.
>
> **17) Close CDR:** based on policies, the CHF closes the CDR with charging
> data related to the service termination and the last reported units for each
> Rating Group.
>
> **18) Charging Data Response [Termination]:** The CHF informs the SMF on the
> result of the request.
#### 7.1.4.2 Possible solutions for inter-provider based charging
##### 7.1.4.2.1 Possible solutions for inter-provider charging for 5GS
capabilities usage
The possible solutions to support the inter-provider charging related
potential requirements **REQ-CH_EC_5GS_SP-01, REQ-CH_EC_5GS_SP-02** and Key
Issue #**1b** are based on the 5G data connectivity converged charging
architecture defined in TS 32.255 [6], with the extension of CHF to support
inter-provider charging for 5GS supporting edge computing per edge application
and/or per EDN.
Figure 7.1.4.2-1: 5G data connectivity converged charging architecture defined
in TS 32.255 [6]
**Solution #1h** : **Aggregation of SMF reported usage by CHF**
In this solution, the total data volume transferred for the edge application
in the 5GS is obtained by CHF from each individual UE usage reported by SMF.
Figure 7.1.4.2-2: 5GS Inter-provider charging for edge computing (aggregation
of SMF reported usage)
The CHF of MNO is configured with quota and reporting threshold for 5GS inter-
provider charging.
> **1) UE starts using an edge application:** Triggers is are according to TS
> 32.255 [6] and TS 32.290 [5].
>
> **2) Charging Data Request [Initial, Quota Requested]:** the SMF sends the
> request to the CHF to reserve a number of units if determined in step 2.
>
> **3) Account, Rating, Reservation Control:** the CHF rates the request,
> checks if corresponding funds can be reserved on the edge application\'s
> account balance. If the account has sufficient funds, the CHF performs the
> corresponding reservation.
>
> **4) Open CDR:** based on policies, the CHF opens a CDR related to the
> service for edge application.
>
> **5) Charging Data Response [Initial, Quota Granted]:** the CHF grants the
> reserved number of units to SMF.
>
> **6) Granted Units Supervision:** The SMF monitors the consumption of the
> granted units.
>
> **7) UE edge application usage ongoing:** the SMF continues to deliver the
> service.
>
> **8) Quota management Trigger:** A Trigger associated to Quota management is
> met. Units determination is performed when applicable.
>
> **9) Charging Data Request [Update, Quota Requested]:** the SMF sends the
> request to the CHF, to be granted with more unit for the service to
> continue, and also for reporting the used units.
>
> **10) Account, Rating, Reservation Control:** same as step 4, with the
> option to also deduct the funds corresponding to the usage on the account
> balance.
>
> **11) Update CDR:** based on policies, the CHF updates the CDR with charging
> data related to the service.
>
> **12) Charging Data Response [Update, Quota Granted]:** The CHF grants quota
> to SMF for the service, with the reserved number of units.
>
> **13) Service delivery ongoing:** the NF (CTF) continues to deliver the
> service.
>
> **14) UE stops using the edge application:** the SMF is requested to end the
> service delivery and does this.
>
> **15) Charging Data Request [Termination]:** the SMF sends the request to
> the CHF, for charging data related to the service termination with the final
> consumed units.
>
> **16) Account, Rating Control:** the CHF performs the service termination
> process which involve using the reported charging data to rate the usage and
> deduct the funds corresponding to the usage on the account balance.
>
> **17) Close CDR:** based on policies, the CHF closes the CDR with charging
> data related to the service termination and the last reported units.
>
> **18) Charging Data Response [Termination]:** The CHF informs the SMF on the
> result of the request.
The CHF aggregates the reported units from SMF(s) at a pre-configured interval
for each edge application for all UEs, and reports the aggregated usage to
Billing domain via CGF.
**Solution #1i** : **Aggregation of SMF reported usage by Billing domain**
In this solution, the total data volume transferred for the edge application
in 5GS is obtained by CHF as in solution #2a but only reported per UE, it
would be the billing domain that then aggregates the usage based on the
received CDRs and edge application indication in these CDRs. This also means
that the account is on UE and not on edge application.
##### 7.1.4.2.2 Possible solutions for inter-provider charging for 5GS
capabilities usage based on monitored QoS
**Solution #1j** : **Aggregation of SMF reported usage based on monitored QoS
by CHF**
In this solution, the charging mechanism between SMF and CHF for 5GS
capabilities usage supporting edge computing based on monitored QoS is the
same as Solution #1g, in addition, the CHF aggregates the reported units with
monitored QoS results from SMF(s) at a pre-configured interval for each edge
application and/or EDN, and reports the aggregated usage to Billing domain via
CGF.
**Solution #1k** : **Aggregation of SMF reported usage based on monitored QoS
by Billing domain**
In this solution, the charging mechanism between SMF and CHF for 5GS
capabilities usage supporting edge computing based on monitored QoS is the
same as Solution #1g, and CHF reports the usage with monitored QoS results in
the CDRs per UE. It would be the billing domain that then aggregates the usage
based on the received CDRs and edge application indication in these CDRs.
#### 7.1.4.3 Possible solutions for edge application access charging via EAS
**Solution #1l** : The possible solutions to support the subscriber based
charging related potential requirements **REQ-CH_EC_5GS-02** , and **Key Issue
#1b** could be the following architecture.
The solution is appliable to the scenario where EAS is provided by the MNO.
Figure 7.1.4.3-1: EAS based solution
The solution with CTF embedded in the EAS is illustrated in Figure 7.1.4.3-2.
Figure 7.1.4.3-2: duration based charging for 5GS capabilities (with EAS
supporting CTF)
The CHF of MNO is configured with quota and reporting threshold for duration
charging.
The operations is the same with the 7.1.4.2-2, with EAS instead of the SMF.
### 7.1.5 Evaluation
#### 7.1.5.1 Evaluation of possible solutions for MNO charging subscriber for
5GS usage for accessing edge application
This clause evaluates the following solutions for correlating the 5GS charging
related messages with edge application:
**Solution #1a** :
This solution reuses the \"AF Charging Identifier" (see TS 32.255 [6] and TS
29.512 [8]) or \"afChargId" (see TS 29.512 [8]) parameter.
The \"AF Charging Identifier" or \"afChargId" parameter initially comes from
AF, and 3GPP cannot control and guarantee its uniqueness and its relationship
with edge application. Therefore, this solution needs offline coordination
between PLMN operator and ECSP/ASP to ensure the correctness of the
correlation between this parameter and edge application.
**Solution #1b** :
This solution reuses the \"Network Slice Instance Identifier" parameter (see
TS 32.255 [6]).
This solution works on an assumption that each edge application is associated
with a dedicated network slice. It makes impossible for a PLMN to support
multiple edge applications by one network slice, which in some cases may be
needed. Therefore, this solution is restrictive.
**Solution #1c** :
This solution uses the \"Application Identifier", \"flowDescription" or
\"ethFlowDescription" parameter (see \"appId" in TS 29.512 [8]).
These parameters reference to the application or service flow detection filter
configured at the UPF, and can be mapped to edge application without
restrictive assumption.
**Solution #1d** :
This solution uses the \"Rating Group" parameter.
This solution works on an assumption that each edge application is associated
with a dedicated Rating Group. It makes impossible for a PLMN to support
multiple applications by one Rating Group, which in some cases may be needed.
Therefore, this solution is restrictive.
**Solution #1e** :
This solution uses the \"Service Identifier" parameter.
This solution requires that the \"Service Identifier" parameter is able to
identify the instance of the edge application, but not only the identity of
the service (e.g., edge computing service).
**Solution #1f** : Use the \"Sponsor Identity" parameter.
This solution works in the scenario that the edge computing related
connectivity and usage are sponsored (by a service provider, e.g., ASP).
However, this is not the only scenario for supporting edge computing in 5GS,
and there could be also the non-sponsored case. Another perspective is that,
to make this solution work, this parameter needs to be extended to be able to
identify the application but not only the service provider.
#### 7.1.5.2 Evaluation of possible solutions for MNO charging subscriber for
5GS usage for edge computing based on monitored QoS
This clause evaluates the following solution for MNO charging subscriber for
5GS usage for edge computing based on monitored QoS:
**Solution #1g** : **Including the monitored QoS result in the usage report**.
This solution enables the SMF to monitor the QoS for charging purpose by the
PCC rule or an explicit request from CHF, and include the monitored QoS result
in the usage report. This solution is feasible for charging subscriber for 5GS
usage for edge computing based on monitored QoS.
#### 7.1.5.3 Evaluation of possible solutions for inter-provider charging for
5GS capabilities usage
This clause evaluates the following solutions for inter-provider charging for
5GS capabilities usage:
**Solution #1h** : **Aggregation of SMF reported usage by CHF**.
This solution enables the CHF to collect the 5GS usage supporting edge
computing per UE from SMF and aggregate the usage for each edge application.
This solution can support PEC of the inter-provider charging for 5GS
capabilities usage supporting each edge application, and save the bandwidth
from CHF to Billing domain for transferring the usage for every UE.
**Solution #1i** : **Aggregation of SMF reported usage by Billing domain**.
This solution requires the CHF to report the 5GS usage supporting each edge
application per UE, which can be supported by existing 5GS usage charging
solutions.
#### 7.1.5.4 Evaluation of possible solutions for inter-provider charging for
5GS capabilities usage based on monitored QoS
This clause evaluates the following solutions for inter-provider charging for
5GS capabilities usage:
**Solution #1j** : **Aggregation of SMF reported usage based on monitored QoS
by CHF**.
This solution enables the CHF to collect the 5GS usage supporting edge
computing based on the monitored QoS per UE from SMF and aggregate the usage
for each edge application. This solution can support PEC of the inter-provider
charging for 5GS capabilities usage based on monitored QoS supporting each
edge application, and save the bandwidth from CHF to Billing domain for
transferring the usage for every UE.
**Solution #1k** : **Aggregation of SMF reported usage based on monitored QoS
by Billing domain**.
This solution requires the CHF to report the 5GS usage supporting each edge
application based on monitored QoS per UE, which has no additional changes on
charging interfaces to the **solution #1g** for MNO charging subscriber for
5GS usage based on monitored QoS.
#### 7.1.5.5 Evaluation of possible solutions for edge application access
charging via EAS
**Solution #1l** support edge application access charging via EAS, for the
scenario that the EAS is provided by the MNO. However, EAS may be provided by
an ASP which does not belong to the same enterprise of the MNO, and in Rel-17
3GPP has no standards on application level communication between EAS and UE,
so it is not feasible to have standard charging information to support CTF in
EAS in Rel-17.
### 7.1.6 Conclusion
#### 7.1.6.1 Conclusion of possible solutions for MNO charging subscriber for
5GS usage for accessing edge application
Based on the evaluation in clause 7.1.5.1, the **Solution #1c** is the most
feasible and preferrable solution for MNO charging subscriber for 5GS usage
for accessing edge application, which is supported by existing charging
capability.
#### 7.1.6.2 Conclusion of possible solutions for MNO charging subscriber for
5GS usage for edge computing based on monitored QoS
Based on the evaluation in clause 7.1.5.2, the **Solution #1g** is feasible
for MNO charging subscriber for 5GS usage for edge computing based on
monitored QoS.
#### 7.1.6.3 Conclusion of possible solutions for inter-provider charging for
5GS capabilities usage
Based on the evaluation in clause 7.1.5.3, the **Solution #1i,** which can be
supported by existing 5GS usage charging solutions, is the most feasible and
preferrable solution for inter-provider charging for 5GS capabilities usage.
#### 7.1.6.4 Conclusion of possible solutions for inter-provider charging for
5GS capabilities usage based on monitored QoS
Based on the evaluation in clause 7.1.5.4, the **Solution #1k** is the most
feasible and preferrable solution for inter-provider charging for 5GS
capabilities usage based on monitored QoS.
#### 7.1.6.5 Conclusion of possible solutions for edge application access
charging via EAS
Based on the evaluation in clause 7.1.5.5, the **Solution #1l** for edge
application access charging via EAS as described in clause 7.1.4.3 is feasible
with restrictive to some special deployment scenario (where the EAS is
provided by MNO). Because of the lack of standard solutions to define the
application level communication to support CTF in EAS based on the 3GPP R17
Edge Computing related specifications, therefore it is not recommended to be a
normative solution in Rel-17.
## 7.2 Edge enabling infrastructure resource charging
### 7.2.1 Use cases
#### 7.2.1.1 Use case #2a: Edge enabling infrastructure resource usage
charging
ECSP provides the following infrastructure resources to ASP to enable the EAS
to be running in the EDN:
\- EDN environment and infrastructure resources (e.g., virtual CPU, virtual
memory, virtual disk and virtual network resources);
ECSP may charge the ASP for the infrastructure resources usage to enable and
support the EAS(s). This inter-provider charging may be based on the
infrastructure resources actually used by the EAS(s).
#### 7.2.1.2 Use case #2b: Edge enabling infrastructure resource performance
charging
ECSP provides the EDN environment and infrastructure resources and
capabilities (e.g. virtual CPU, virtual memory, virtual disk and virtual
network resources) to ASP to enable the EAS to be running in the EDN. To do
this it may have performance assurance of EES and ECS.
ECSP may charge the ASP based on the performance of the infrastructure
resources provided to enable and support the EAS(s).
### 7.2.2 Potential charging requirements
**REQ-CH_EC_EEIR-01:** The charging mechanism for ECSP should support
converged charging based on the usage of infrastructure resources supporting
the EAS(s).
**REQ-CH_EC_EEIR-02:** The charging mechanism for ECSP should support
collecting charging information related to usage of infrastructure resource
supporting each EAS.
**REQ-CH_EC_EEIR03:** The charging mechanism for 5GS (including the management
system) should support converged charging for the edge enabling infrastructure
resource based on performance.
### 7.2.3 Key issues
The following key issues are identified:
**\- Key Issue #2a** : How does the charging mechanism for ECSP collect the
information about the charged infrastructure resources as described in **REQ-
CH_EC_EEIR-02**.
**\- Key Issue #2b** : What infrastructure resources should be charged as
described in **REQ-CH_EC_EEIR-01 and REQ-CH_EC_EEIR-02**.
**\- Key Issue #2c** : How to support the charging for edge enabling
infrastructure resource based on performance as described in **REQ-
CH_EC_EEIR-03**.
### 7.2.4 Possible solutions
#### 7.2.4.1 Potential charging architectures
The possible solutions for charging for edge enabling infrastructure resources
are based on the following potential converged charging architectures. In
these architectures, it is assumed that all the entities are owned by the same
enterprise.
Figure 7.2.4.1-1: Converged charging architecture for edge enabling
infrastructure resource with MnS producer supporting CTF
Figure 7.2.4.1-2: Converged charging architecture for edge enabling
infrastructure resource with MnS producer
NOTE: the MnSs for managing edge computing are described in TR 28.814 [12].
#### 7.2.4.2 Possible solutions for edge enabling infrastructure resource
usage charging
The charging for edge enabling infrastructure resources could be supported
with CTF embedded in the MnS producer or with CEF to enable the charging for
MnS producer.
The solutions are only applicable to the case that the EAS is implemented as
VNF.
**Solution #2a:** Edge enabling infrastructure resource usage charging \- CTF
embedded in the MnS producer
**The solution with CTF embedded in the MnS producer is illustrated in Figure
7.2.4.2-1.**
Figure 7.2.4.2-1: Edge enabling infrastructure resource usage (with MnS
producer supporting CTF)
This solution uses performance data to report the usage of edge enabling
infrastructure resources.
**1) Generate performance data for resource usage for EAS:** performance
assurance MnS producer generates performance data (measurements or KPI) about
usage of edge enabling infrastructure resource supporting the EAS based on the
mapping of VR usage measurements received from ETSI NFV MANO system as
specified in TS 28.522 [18]. The performance data about edge enabling
infrastructure resource could be related to data volume transferred for the
EAS, virtual CPU usage of the EAS, virtual memory usage of the EAS, virtual
disk usage of the EAS, or the virtual storage of the EAS.
**1ch-a) Charging Data Request [Event]:** performance assurance MnS Producer
generates charging data related to the collected resource usage and sends the
charging data request for the CHF to process the related charging data for CDR
generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the performance
assurance MnS Producer on the result of the request.
**2) Report the CDR to BD:** The CHF reports the CDR to BD (via CGF).
**Solution #2b:** Edge enabling infrastructure resource usage charging \--
with CEF enabling charging for MnS producer
**The solution with CEF enabling charging for MnS producer is illustrated in
Figure 7.2.4.2-2.**
Figure 7.2.4.2-2: Edge enabling infrastructure resource usage (with CEF
enabling charging for MnS producer)
This solution uses performance data to report the usage of edge enabling
infrastructure resources.
**1) Create measurement job:** The CEF creates measurement job to collect the
performance data related to VR resource usage for EAS to performance assurance
MnS producer (see TS 28.550 [15]).
**1a) Subscribe to performance data file notifications:** If file reporting
method is chosen for the measurement job, the CEF subscribes to the
performance data file notifications.
**2) Generate performance data for resource usage for EAS:** performance
assurance MnS producer generates the performance data (measurements or KPI)
about usage of edge enabling infrastructure resource supporting the EAS based
on the mapping of the VR usage measurements received from ETSI NFV MANO system
as specified in TS 28.522 [18], the MnS producer reports the performance data
to the CEF. The performance data about edge enabling infrastructure resource
could be related to data volume transferred for the EAS, virtual CPU usage of
the EAS, virtual memory usage of the EAS, virtual disk usage of the EAS, or
the virtual storage of the EAS.
**3) Performance data report to CEF:** the performance assurance MnS
**producer** reports the performance data to the CEF according the reporting
method selected by the CEF for the measurement job.
If the file data reporting method is selected:
**3a)** The performance data are reported by a notifyFileReady notification
(see TS 28.532 [17]);
**3b) CEF fetches the file containing the performance data.**
If the streaming data reporting method is selected:
**3c) and 3d)** The performance assurance MnS **producer establishes the
streaming connection with the CEF if the connection has not been established**
(see TS 28.532 [17]);
3e) The performance data are reported by the reportStreamData operation (see
TS 28.532 [17]).
**3ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the collected resource usage and sends the charging data request
for the CHF to process the related charging data for CDR generation purpose.
**3ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**3ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
**4) Report the CDR to BD:** The CHF reports the CDR to BD (via CGF).
For both solutions, the reported usage may be used by BSS for interactions
with OAM. For example if the limit of the authorized usage is reached, the BSS
may request OAM to disable the operational state of the EAS (e.g., by
consuming the provisioning MnS via modifyMOIAttributes operation) and OAM may
request ETSI NFV MANO to stop the corresponding VNF/VNFC instances (e.g., via
OperateVnfRequest operation, see ETSI GS NFV-IFA 008 [19]). The interactions
between BSS and OAM are out of scope of the present document.
#### 7.2.4.3 Possible solutions for edge enabling infrastructure resource
performance charging
The charging for edge computing performance could be supported with CTF
embedded in the MnS producer or with CEF to enable the charging for MnS
producer.
**Solution #2c:** Edge enabling infrastructure resource performance charging
-- CTF embedded in the MnS producer.
The procedure is the same as the solution #2a **as illustrated in Figure
7.2.4.2-1** , except the performance measurements in this solution are related
to edge enabling infrastructure resource performance.
**Solution #2d:** Edge enabling infrastructure resource performance charging
-- with CEF enabling charging for MnS producer.
The procedure is the same as the solution #**2b** as illustrated in Figure
7.2.4.2-2, except the performance measurements in this solution are related to
edge enabling infrastructure resource performance.
### 7.2.5 Evaluation
**Solution #2a** and **Solution #2b** support edge enabling infrastructure
resource usage charging when EAS is implemented as VNF for two scenarios
respectively - CTF embedded in the MnS producer and with CEF enabling charging
for MnS producer.
Since there is no need for quota management (requesting and granting units),
both solutions are equally appropriate. The solution #2b with CEF enabling
charging for MnS producer has one advantage and that is that it doesn\'t
require the MnS Producer to implement more interfaces like Nchf or Nnrf.
**Solution #2c** and **Solution #2d** support edge enabling infrastructure
resource performance charging when EAS is implemented as VNF for two scenarios
respectively - CTF embedded in the MnS producer and with CEF enabling charging
for MnS producer.
Since there is no need for quota management (requesting and granting units),
both solutions are equally appropriate. The solution #2d with CEF enabling
charging for MnS producer has one advantage and that is that it doesn\'t
require the MnS Producer to implement more interfaces like Nchf or Nnrf.
### 7.2.6 Conclusion
Based on the evaluation in clause 7.2.5,
\- **Solution #2b** is the feasible and preferable solution for edge enabling
infrastructure resource usage charging when EAS is implemented as VNF; and
\- **Solution #2d** is the feasible and preferable solution for edge enabling
infrastructure resource performance charging when EAS is implemented as VNF.
## 7.3 Charging for edge application server deployment
### 7.3.1 Use case
#### 7.3.1.1 Use case #3a: Edge enabling application server deployment
charging
ECSP provides the EDN environment and infrastructure resources and
capabilities (e.g. virtual CPU, memory, disk and network resources) to ASP to
enable the EAS to be running in the EDN.
ECSP provides edge enabling services to ASP to enable the EAS to be running in
the EDN:
\- EAS deployment (e.g., EAS instantiation, update, and termination);
ECSP may charge the ASP for the infrastructure resources and services provided
to enable and support the EAS(s). This inter-provider charging may be based on
the infrastructure resources allocated to the EAS(s).
### 7.3.2 Potential charging requirements
**REQ-CH_EC_EA-01:** The charging mechanism for ECSP should support converged
charging for the following EAS deployment related procedures:
\- EAS instantiation;
\- EAS update;
\- EAS termination.
### 7.3.3 Key issues
The following key issues are identified:
\- **Key Issue #3a** : How does the charging mechanism for ECSP support
converged charging for the EAS deployment related procedures as depicted in
**REQ-CH_EC_EA-01**.
### 7.3.4 Possible solutions
#### 7.3.4.1 Potential charging architectures
The possible solutions for charging for edge enabling infrastructure resources
and services are based on the following potential converged charging
architectures. In these architectures, it is assumed that the MnS producer,
CHF, CEF and Billing Domain are owned by the same ECSP.
Figure 7.3.4.1-1: Converged charging architecture for edge application server
deployment with MnS producer supporting CTF
Figure 7.3.4.1-2: Converged charging architecture for edge application server
deployment with MnS producer not supporting CTF
NOTE: the MnSs for managing edge computing are described in TR 28.814 [12].
#### 7.3.4.2 Possible solutions for EAS deployment charging
The charging for EAS deployment could be supported with CTF embedded in the
MnS producer or with CEF to enable the charging for MnS producer.
**Solution #3a:** EAS deployment charging - CTF embedded in the MnS producer
**The solution with CTF embedded in the MnS producer is illustrated in Figure
7.3.4.2-1.**
Figure 7.3.4.2-1: Charging for EAS deployment (with MnS producer supporting
CTF) - PEC
**1) Chargeable event trigger configuration:** The MnS Producer (CTF) is
configured for which events there is a need to have charging interaction.
**2) EAS deployment request:** The MnS consumer sends the EAS deployment
request (i.e., instantiation, update, or termination) to the MnS producer.
**3) EAS deployment process:** the MnS producer processes and executes the EAS
deployment request according to the request.
**4) EAS deployment response:** The MnS consumer sends the EAS deployment
request to the MnS producer.
**4ch-a) Charging Data Request [Event]:** The MnS Producer generates charging
data related to the EAS deployment request and sends the charging data request
for the CHF to process the related charging data for CDR generation purpose.
**4ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**4ch-c) Charging Data Response [Event]:** The CHF informs the MnS Producer on
the result of the request.
**Solution #3b:** EAS deployment charging - with CEF enabling charging for MnS
producer
**The solution with CEF enabling charging for MnS producer is illustrated in
Figure 7.3.4.2 -2.**
Figure 7.3.4.2-2: Charging for EAS deployment (with CEF enabling charging for
MnS producer) - PEC
**1) CEF consumes the MnS:** The CEF consumes the MnS (see TS 28.622 [16]) and
subscribes to notifications for the EAS deployment reporting.
**2) EAS deployment request:** The MnS consumer sends the EAS deployment
request (i.e., instantiation, update, or termination) to the MnS producer.
**3) EAS deployment process:** the MnS producer processes and executes the EAS
deployment request according to the request.
**4) EAS deployment response:** The MnS producer sends the EAS deployment
request to the MnS consumer.
**5) EAS deployment notification:** The MnS producer sends the EAS deployment
notification to the CEF. That means the CEF needs to subscribe to the EAS
deployment notification from the MnS producer beforehand.
**5ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the EAS deployment notification and sends the charging data
request.
**5ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**5ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
### 7.3.5 Evaluation
**Solution #3a** and **Solution #3b** support EAS deployment charging for two
scenarios respectively - CTF embedded in the MnS producer and with CEF
enabling charging for MnS producer.
Since there is no need for quota management (requesting and granting units),
both solutions are equally appropriate. The solution #3b with CEF enabling
charging for MnS producer has one advantage and that is that it doesn\'t
require the MnS Producer to implement more interfaces like Nchf or Nnrf.
### 7.3.6 Conclusion
Based on the evaluation in clause 7.3.5, the **Solution #3b** is the feasible
and preferable solution for EAS deployment charging.
## 7.4 Charging for edge enabling services usage
### 7.4.1 Use case
#### 7.4.1.1 Use case #4a: ECSP charging ASP for indirect 3GPP Core network
capabilities usage
ECSP provides edge enabling services to ASP to enable the EAS to be running in
the EDN. Some edge enabling services may be provided to ASP indirectly via
3GPP Core network capabilities. The edge enabling services include following
3GPP Core network capabilities exposed to the EAS as described in TS 23.558
[4]:
\- Obtaining UE location (see TS 23.558 [4]);
\- ACR management events subscription (see TS 23.558 [4]);
\- Session with QoS (see TS 23.558 [4]).
#### 7.4.1.2 Use case #4b: ECSP charging ASP for edge enabling services
provided by ECSP
ECSP provides edge enabling services to ASP to enable the EAS to be running in
the EDN. Some edge enabling services are provided directly by ECSP. The edge
enabling services include following EES capabilities exposed to the EAS as
described in TS 23.558 [4]:
\- EAS registration (see TS 23.558 [4]);
\- EAS discovery (see TS 23.558 [4]);
\- Support to Service Continuity (see TS 23.558 [4]);
\- Application Client information subscription/notification (see TS 23.558
[4]).
### 7.4.2 Potential charging requirements
**REQ-CH_EC_ES-01:** The charging mechanism for ECSP should support converged
charging for the following EAS signalling procedures:
\- EAS registration;
\- EAS discovery;
\- EAS application context relocation,
**REQ-CH_EC_ES-02:** The charging mechanism for ECSP should support converged
charging for the following EAS service consumption:
\- Support to Service Continuity;
\- Obtaining UE location;
\- ACR management events subscription;
\- Application Client information subscription/notification;
\- Session with QoS.
### 7.4.3 Key issues
The following key issues are identified:
**\- Key Issue #4a** : How does the charging mechanism for ECSP support
converged charging for the EAS signalling procedures as depicted in **REQ-
CH_EC_ES-01**.
**\- Key Issue #4b** : How does the charging mechanism for ECSP support
converged charging for the EAS service consumption as depicted in **REQ-
CH_EC_ES-02**.
### 7.4.4 Possible solutions
#### 7.4.4.1 Potential charging architectures
The solutions for edge enabling services usage charging are based on the
following potential converged charging architectures. In these architectures,
it is assumed that the EES, CHF and Billing Domain are owned by the same ECSP.
Figure 7.4.4.1-1: Converged charging architecture for edge enabling services
with EES supporting CTF
#### 7.4.4.2 Possible solutions for EAS registration charging
**Solution #4a** : The solution for EAS registration charging based on IEC is
illustrated in the Figure 7.4.4.2-1.
Figure 7.4.4.2-1: Charging for EAS registration - IEC
1\. The EAS sends the Edge Application Server Registration request (see TS
23.558 [4]) to the EES.
**1ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the Edge Application Server Registration request and sends the
charging data request for the CHF to process the related charging data for CDR
generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
2\. The EES sends Edge Application Server Registration response (see TS 23.558
[4]) to the EAS.
**Solution #4b** : The solution for EAS registration charging based on PEC is
illustrated in the Figure 7.4.4.2-2.
Figure 7.4.4.2-2: Charging for EAS registration - PEC
1\. The EAS sends the Edge Application Server Registration request (see TS
23.558 [4]) to the EES.
2\. The EES sends Edge Application Server Registration response (see TS 23.558
[4]) to the EAS.
**2ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the Edge Application Server Registration and sends the charging
data request for the CHF to process the related charging data for CDR
generation purpose.
**2ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**2ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
#### 7.4.4.3 Possible solutions for EAS discovery charging
**Solution #4c** : The solution for EAS discovery charging based on IEC is
illustrated in the Figure 7.4.4.3-1.
Figure 7.4.4.3-1: Charging for EAS discovery - IEC
1\. The EEC sends the Edge Application Server discovery request (see TS 23.558
[4]) to the EES.
**1ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the Edge Application Server discovery request and sends the
charging data request for the CHF to process the related charging data for CDR
generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
2\. The EES sends Edge Application Server discovery response (see TS 23.558
[4]) to the EEC.
**Solution #4d** : The solution for EAS discovery charging based on PEC is
illustrated in the Figure 7.4.4.3-2.
Figure 7.4.4.3-2: Charging for EAS discovery - PEC
1\. The EEC sends the Edge Application Server discovery request (see TS 23.558
[4]) to the EES.
2\. The EES sends Edge Application Server discovery response (see TS 23.558
[4]) to the EEC.
**2ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the Edge Application Server discovery and sends the charging data
request for the CHF to process the related charging data for CDR generation
purpose.
**2ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**2ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
#### 7.4.4.4 Possible solutions for EAS application context transfer charging
**Solution #4e** : The solution for EAS application context transfer charging
based on IEC is illustrated in the Figure 7.4.4.4-1.
Figure 7.4.4.4-1: Charging for EAS application context transfer - IEC
1\. The EEC sends the Application Context Relocation request (see TS 23.558
[4]) to the S-EES.
**1ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the Application Context Relocation request and sends the charging
data request for the CHF to process the related charging data for CDR
generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
2\. The S-EES sends Application Context Relocation Notify (see TS 23.558 [4])
to the S-EAS.
3\. The S-EAS sends Application Context Relocation Complete (see TS 23.558
[4]) to the S-EES.
4\. The S-EES sends Application Context Relocation Complete (see TS 23.558
[4]) to the EEC.
**Solution #4f** : The solution for EAS application context transfer charging
based on PEC is illustrated in the Figure 7.4.4.4-2.
Figure 7.4.4.4-2: Charging for EAS application context transfer - PEC
1\. The EEC sends the Application Context Relocation request (see TS 23.558
[4]) to the S-EES.
2\. The S-EES sends Application Context Relocation Notify (see TS 23.558 [4])
to the S-EAS.
3\. The S-EAS sends Application Context Relocation Complete (see TS 23.558
[4]) to the S-EES.
**3ch-a) Charging Data Request [Event]:** The CEF generates charging data
related to the Application Context Relocation and sends the charging data
request for the CHF to process the related charging data for CDR generation
purpose.
**3ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**3ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
result of the request.
4\. The S-EES sends Application Context Relocation Complete (see TS 23.558
[4]) to the EEC.
**Solution #4g** : The solution for EAS application context transfer charging
based on ECUR is illustrated in the Figure 7.4.4.4-3.
Figure 7.4.4.4-3: Charging for EAS application context transfer - ECUR
1\. The EEC sends the Application Context Relocation request (see TS 23.558
[4]) to the S-EES.
**1ch-a) Charging Data Request (initial, quota request):** The S-EES generates
charging data related to the Application Context Relocation request and sends
the charging data request to the CHF for quota request and CDR opening
purpose.
**1ch-b) Create CDR:** the CHF stores received information, conducts the
account, rating and reservation control and opens a CDR related to the
Application Context Relocation procedure.
**1ch-c) Charging Data Response (initial, quota granted):** The CHF informs
the S-EES on the result of the request.
2\. If the quota request was granted, the S-EES sends Application Context
Relocation Notify (see TS 23.558 [4]) to the S-EAS.
3\. The S-EAS sends Application Context Relocation Complete (see TS 23.558
[4]) to the S-EES.
4\. The S-EES sends Application Context Relocation Complete (see TS 23.558
[4]) to the EEC.
**4ch-a) Charging Data Request (termination, used quota):** The S-EES
generates charging data related to the Application Context Relocation Complete
and sends the charging data request to the CHF for CDR closing purpose.
**4ch-b) Close CDR:** the CHF stores received information conducts the account
and rating control and closes the CDR related to the Application Context
Relocation procedure.
**4ch-c) Charging Data Request (termination):** The CHF informs the S-EES on
the result of the request.
#### 7.4.4.5 Possible solutions for UE location obtaining charging
##### 7.4.4.5.1 One-time UE location request
**Solution #4h** : The solution for one-time UE location request charging
based on IEC is illustrated in the Figure 7.4.4.5.1-1.
Figure 7.4.4.5.1-1: Charging for one-time UE location request - IEC
1\. The EAS sends the UE location request (see TS 23.558 [4]) to the EES.
**1ch-a) Charging Data Request [Event]:** The EES generates charging data
related to UE location request and sends the charging data request for the CHF
to process the related charging data for CDR generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
2\. The EES checks the UE location with 3GPP network (see TS 23.558 [4]).
3\. The EES sends the UE location response (see TS 23.558 [4]) to the EAS.
**Solution #4i** : The solution for one-time UE location request charging
based on PEC is illustrated in the Figure 7.4.4.5.1-2.
Figure 7.4.4.5.1-2: Charging for one-time UE location request - PEC
1\. The EAS sends the UE location request (see TS 23.558 [4]) to the EES.
2\. The EES checks the UE location with 3GPP network (see TS 23.558 [4]).
3\. The EES sends the UE location response (see TS 23.558 [4]) to the EAS.
**3ch-a) Charging Data Request [Event]:** The EES generates charging data
related to UE location request and sends the charging data request for the CHF
to process the related charging data for CDR generation purpose.
**3ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
##### 7.4.4.5.2 UE location subscription and notification
**Solution #4j** : The solution for UE location subscription charging based on
IEC is illustrated in the Figure 7.4.4.5.2-1.
Figure 7.4.4.5.2-1: Charging for UE location subscription - IEC
1\. The EAS sends the UE location subscribe request (see TS 23.558 [4]) to the
EES.
**1ch-a) Charging Data Request [Event]:** The EES generates charging data
related to UE location subscribe request and sends the charging data request
for the CHF to process the related charging data for CDR generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
2\. The EES subscribes to UE location from 3GPP Core Network (see TS 23.558
[4]).
3\. The EES may subscribe to UE expected behaviour analytics (UE mobility)
from 3GPP Core Network (see TS 23.558 [4]).
4\. The EES sends the UE location subscribe response (see TS 23.558 [4]) to
the EAS.
**Solution #4k** : The solution for UE location subscription charging based on
PEC is illustrated in the Figure 7.4.4.5.2-2.
Figure 7.4.4.5.2-2: Charging for UE location subscription - PEC
1\. The EAS sends the UE location subscribe request (see TS 23.558 [4]) to the
EES.
2\. The EES subscribes to UE location from 3GPP Core Network (see TS 23.558
[4]).
3\. The EES may subscribe to UE expected behaviour analytics (UE mobility)
from 3GPP Core Network (see TS 23.558 [4]).
4\. The EES sends the UE location subscribe response (see TS 23.558 [4]) to
the EAS.
**4ch-a) Charging Data Request [Event]:** The EES generates charging data
related to UE location subscription and sends the charging data request for
the CHF to process the related charging data for CDR generation purpose.
**4ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
**Solution #4l** : The solution for UE location notification charging based on
PEC is illustrated in the Figure 7.4.4.5.2-3.
Figure 7.4.4.5.2-3: Charging for UE location notification - PEC
1\. The EES detects the UE location (see TS 23.558 [4]).
2\. The EES sends the UE location notification (see TS 23.558 [4]) to the EAS.
**2ch-a) Charging Data Request [Event]:** The EES generates charging data
related to UE location notification and sends the charging data request for
the CHF to process the related charging data for CDR generation purpose.
**2ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
#### 7.4.4.6 Possible solutions for Application Client information
subscription and notification charging
**Solution #4m** : The solution for Application Client (AC) information
subscription charging based on IEC is illustrated in the Figure 7.4.4.6-1.
Figure 7.4.4.6-1: Charging for AC information subscription - IEC
1\. The EAS sends the AC information subscription request (see TS 23.558 [4])
to the EES.
**1ch-a) Charging Data Request [Event]:** The EES generates charging data
related to AC information subscription request and sends the charging data
request for the CHF to process the related charging data for CDR generation
purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
2\. The EES processes the request (see TS 23.558 [4]).
3\. The EES sends the AC information subscription response to EAS (see TS
23.558 [4]).
**Solution #4n** : The solution for AC information subscription charging based
on PEC is illustrated in the Figure 7.4.4.6-2.
Figure 7.4.4.6-2: Charging for AC information subscription - PEC
1\. The EAS sends the AC information subscription request (see TS 23.558 [4])
to the EES.
2\. The EES processes the request (see TS 23.558 [4]).
3\. The EES sends the AC information subscription response to EAS (see TS
23.558 [4]).
**3ch-a) Charging Data Request [Event]:** The EES generates charging data
related to AC information subscription and sends the charging data request for
the CHF to process the related charging data for CDR generation purpose.
**3ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
**Solution #4o** : The solution for AC information notification charging based
on PEC is illustrated in the Figure 7.4.4.6-3.
Figure 7.4.4.6-3: Charging for AC information notification - PEC
1\. The EEC triggers for AC updates with EES (see TS 23.558 [4]).
2\. The EES sends the AC information notification (see TS 23.558 [4]) to the
EAS.
**2ch-a) Charging Data Request [Event]:** The EES generates charging data
related to AC information notification and sends the charging data request for
the CHF to process the related charging data for CDR generation purpose.
**2ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.7.4.4.7 Possible solutions for ACR management events
subscription
#### 7.4.4.7 Possible solutions for ACR management events subscription
charging
**Solution #4p** : The solution for ACR management events subscription
charging based on IEC is illustrated in the Figure 7.4.4.7-1.
Figure 7.4.4.7-1: Charging for ACR management event subscription - IEC
1\. The EAS sends the ACR management event subscribe request (see TS 23.558
[4]) to the EES.
**1ch-a) Charging Data Request [Event]:** The EES generates charging data
related to ACR management event subscribe request and sends the charging data
request for the CHF to process the related charging data for CDR generation
purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
2\. The EES checks the user plane path management event of the requesting UE
with 3GPP Core Network (see TS 23.558 [4]).
3\. The EES may subscribe to UE expected behaviour analytics (UE mobility)
from 3GPP Core Network (see TS 23.558 [4]).
4\. The EES sends the ACR management event subscribe response (see TS 23.558
[4]) to the EAS.
**Solution #4q** : The solution for ACR management event subscription charging
based on PEC is illustrated in the Figure 7.4.4.7-2.
Figure 7.4.4.7-2: Charging for ACR management events subscription - PEC
1\. The EAS sends the ACR management event subscribe request (see TS 23.558
[4]) to the EES.
2\. The EES checks the user plane path management event of the requesting UE
with 3GPP Core Network (see TS 23.558 [4]).
3\. The EES may subscribe to UE expected behaviour analytics (UE mobility)
from 3GPP Core Network (see TS 23.558 [4]).
4\. The EES sends the ACR management event subscribe response (see TS 23.558
[4]) to the EAS.
**4ch-a) Charging Data Request [Event]:** The EES generates charging data
related to ACR management event subscription and sends the charging data
request for the CHF to process the related charging data for CDR generation
purpose.
**4ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
#### 7.4.4.8 Possible solutions for charging for Session with QoS
**Solution #4r** : for key issue #4b on charging for creation of Session with
QoS based on IEC is illustrated in the Figure 7.4.4.8-1.
Figure 7.4.4.8-1: Charging for creation of Session with QoS - IEC
1\. The EAS sends the Session with QoS create request (see TS 23.558 [4]) to
the EES.
**1ch-a) Charging Data Request [Event]:** The EES generates charging data
related to Session with QoS create request and sends the charging data request
for the CHF to process the related charging data for CDR generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
2\. The EES subscribes to PDU session status monitoring and request data
session with specific QoS from 3GPP 5G Core Network (see TS 23.558 [4]).
3\. The EES sends Session with QoS create response (see TS 23.558 [4]) to the
EAS.
**Solution #4s** : for key issue #4b on charging for creation of Session with
QoS based on PEC is illustrated in the Figure 7.4.4.8-2.
Figure 7.4.4.8-2: Charging for creation of Session with QoS - PEC
1\. The EAS sends the Session with QoS create request (see TS 23.558 [4]) to
the EES.
2\. The EES subscribes to PDU session status monitoring and request data
session with specific QoS from 3GPP 5G Core Network (see TS 23.558 [4]).
3\. The EES sends Session with QoS create response (see TS 23.558 [4]) to the
EAS.
**3ch-a) Charging Data Request [Event]:** The EES generates charging data
related to Session with QoS creation and sends the charging data request for
the CHF to process the related charging data for CDR generation purpose.
**3ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
**Solution #4t** : for key issue #4b on charging for update of Session with
QoS based on IEC is illustrated in the Figure 7.4.4.8-3.
Figure 7.4.4.8-3: Charging for update of Session with QoS - IEC
1\. The EAS sends the Session with QoS update request (see TS 23.558 [4]) to
the EES.
**1ch-a) Charging Data Request [Event]:** The EES generates charging data
related to Session with QoS update request and sends the charging data request
for the CHF to process the related charging data for CDR generation purpose.
**1ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
2\. The EES updates data session with specific QoS with 3GPP 5G Core Network
(see TS 23.558 [4]).
3\. The EES sends Session with QoS update response (see TS 23.558 [4]) to the
EAS.
**Solution #4u** : for key issue #4b on charging for update of Session with
QoS based on PEC is illustrated in the Figure 7.4.4.8-4.
Figure 7.4.4.8-4: Charging for update of Session with QoS - PEC
1\. The EAS sends the Session with QoS update request (see TS 23.558 [4]) to
the EES.
2\. The EES updates data session with specific QoS with 3GPP 5G Core Network
(see TS 23.558 [4]).
3\. The EES sends Session with QoS update response (see TS 23.558 [4]) to the
EAS.
**3ch-a) Charging Data Request [Event]:** The EES generates charging data
related to Session with QoS update and sends the charging data request for the
CHF to process the related charging data for CDR generation purpose.
**3ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
**Solution #4v** : for key issue #4b on charging for Session with QoS
notification based on PEC is illustrated in the Figure 7.4.4.x-5.
Figure 7.4.4.8-5: Charging for Session with QoS notification - PEC
1\. The EES detects User Plane event for Session with QoS from 3GPP 5G Core
Network (see TS 23.558 [4]).
2\. The EES sends Session with QoS notification to EAS (see TS 23.558 [4]).
**2ch-a) Charging Data Request [Event]:** The EES generates charging data
related to Session with QoS notification and sends the charging data request
for the CHF to process the related charging data for CDR generation purpose.
**2ch-b) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
result of the request.
#### 7.4.4.9 Possible solutions for aggregated charging
**Solution #4w** : this is an alternative solution to support the key issue
#4a and #4b based on the following potential converged charging architecture.
Figure 7.4.4.9-1: Converged charging architecture with ECS supporting CEF
In this architecture, the CEF could be deployed with the ECS as depicted in
Figure 7.4.4.9-1, the CEF within ECS:
\- subscribes notification from the EES to receive required information for
charging.
> \- aggregate the information for charging received from the EES.
>
> \- generates charging event when the trigger conditions are met.
>
> Alternatively, the CEF could be deployed as standalone functionality and the
> CEF:
\- subscribes notification from the EES to receive required information for
charging.
> \- aggregate the information for charging received from the EES.
>
> \- generates charging event when the trigger conditions are met.
The possible solutions to support key issue #4x is illustrated in the Figure
7.4.4.9-2. In this solution, the CEF is deployed with the ECS.
Figure 7.4.4.9-2: Aggregated charging for edge enabling services
1) The CEF subscribes notification from the EES to receive required
information for charging. The subscription request may include EAS ID and a
reporting rule of how a certain measurement shall be reported (e.g., when
detecting a service/event had been invoked by the EAS for N times).
2) The EAS invokes edge enabling service as defined in clause 7.4.1.
3) The EES sends notification to the CEF when the reporting rule is met.
4) The CEF aggregates the information for charging (e.g., amount of event)
reported by one or multiple EES.
5ch-a. **Charging Data Request [Event]:** The CEF generates charging
information related to the collected information and sends the charging data
request to the CHF when the triggers condition is met.
5ch-b. **Create CDR:** The CHF stores received charging information, creates a
CDR related to the event.
5ch-c. **Charging Data Response [Event]:** The CHF sends the response to the
CEF on the result of the request.
### 7.4.5 Evaluation
#### 7.4.5.1 Evaluation of possible solutions for EAS registration charging
**Solution #4a** and **Solution #4b** support EAS registration charging based
on IEC and PEC, where the EES interacts with CHF to deduct the ASP\'s account
balance before or after finishing the EAS registration respectively and both
are valid options.
#### 7.4.5.2 Evaluation of possible solutions for EAS discovery charging
**Solution #4c** and **Solution #4d** support EAS discovery charging based on
IEC and PEC, where the EES interacts with CHF to deduct the ASP\'s account
balance before or after finishing the EAS registration respectively and both
are valid options.
#### 7.4.5.3 Evaluation of possible solutions for EAS application context
transfer charging
**Solution #4e, Solution #4f and Solution #4g** support EAS application
context transfer charging based on IEC, PEC and ECUR respectively. Due to the
EAS application context transfer involves multiple steps (step 1 to step 4 in
**Solution #4e, Solution #4f and Solution #4g**), the final EAS application
context transfer may fail (at step 4) even if the Application Context
Relocation Request is accepted by the EAS (at step 2), therefore the
**Solution #4e** based on IEC where CHF charges the Application Context
Relocation Request (for step 1) without knowing whether the EAS application
context transfer finally succeed or fail (in step 4) is not optimal. The
**Solution #4f** based on PEC supports charging after finishing the EAS
application context transfer, and **Solution #4g** based on ECUR supports
quota management and usage reporting for EAS application context transfer,
both are valid charging options.
#### 7.4.5.4 Evaluation of possible solutions for UE location obtaining
charging
There are various scenarios related to charging for re-exposing the 5GC APIs
by EES:
1) ECSP and 5GC MNO belong to different enterprises, so the APIs exposed by
5GC and re-exposed by EES need to be charged respectively by 5GC MNO and ESCP;
2) ESCP and 5GC MNO belong to the same enterprise, however the APIs exposed by
5GC is not duplicatedly re-exposed by EES to the same consumer (ASP),
therefore the APIs exposed by 5GC and re-exposed by EES need to be charged
respectively by 5GC MNO and ESCP.
3) ESCP and 5GC MNO belong to the same enterprise, however the same API is
duplicatedly exposed and re-exposed by 5GC and EES to the same consumer (ASP).
whether this is a valid scenario and whether an optimized solution is needed
to avoid duplicated charging is not addressed in the present technical report.
**Solution #4h** and **Solution #4i** support one-time UE location request
charging based on IEC and PEC, where the EES interacts with CHF to deduct the
ASP\'s account balance before or after finishing UE location obtaining
respectively and both are valid options for scenarios 1) and 2) described
above.
**Solution #4j** and **Solution #4k** support UE location subscription
charging based on IEC and PEC, where the EES interacts with CHF to deduct the
ASP\'s account balance before or after finishing UE location subscription
respectively and both are valid options for scenarios 1) and 2) described
above.
**Solution #4l** supports UE location notification charging based on PEC,
which is a valid option for scenarios 1) and 2) described above.
#### 7.4.5.5 Evaluation of possible solutions for Application Client
information subscription and notification charging
**Solution #4m** and **Solution #4n** support AC information subscription
charging based on IEC and PEC, where the EES interacts with CHF to deduct the
ASP\'s account balance before or after finishing AC information subscription
respectively and both are valid options.
**Solution #4o** supports AC information notification charging based on PEC,
which is a valid option.
#### 7.4.5.6 Evaluation of possible solutions for ACR management events
subscription charging
**Solution #4p** and **Solution #4q** support ACR management events
subscription charging based on IEC and PEC, where the EES interacts with CHF
to deduct the ASP\'s account balance before or after finishing ACR management
events subscription respectively and both are valid options for scenarios 1)
and 2) as described in clause 7.4.5.4.
#### 7.4.5.7 Evaluation of possible solutions for Session with QoS charging
**Solution #4r** and **Solution #4s** support charging for creation of Session
with QoS based on IEC and PEC, where the EES interacts with CHF to deduct the
ASP\'s account balance before or after finishing the creation of Session with
QoS respectively and both are valid options for scenarios 1) and 2) as
described in clause 7.4.5.4.
**Solution #4t** and **Solution #4u** support charging for update of Session
with QoS based on IEC and PEC, where the EES interacts with CHF to deduct the
ASP\'s account balance before or after finishing the update of Session with
QoS respectively and both are valid options for scenarios 1) and 2) as
described in clause 7.4.5.4.
**Solution #4v** supports charging for Session with QoS notification based on
PEC, which is a valid option for scenarios 1) and 2) as described in clause
7.4.5.4.
#### 7.4.5.8 Evaluation of possible solutions for aggregated charging
**Solution #4w** support aggregated charging for edge enabling services usage,
where requires all of the services provided EES to EAS to be reported to CEF
(which may be co-located with the ECS). However, EES does not need to provide
the notifications to another entity for all edge enabling services, that means
the EES needs to be enhanced in order to send notifications for all of the
edge enabling services to CEF.
### 7.4.6 Conclusion
#### 7.4.6.1 Conclusion of possible solutions for EAS registration charging
Based on the evaluation in clause 7.4.5.1, both **Solution #4a** and
**Solution #4b** are feasible and preferrable solutions for EAS registration
charging.
#### 7.4.6.2 Conclusion of possible solutions for EAS discovery charging
Based on the evaluation in clause 7.4.5.2, both **Solution #4c** and
**Solution #4d** are feasible and preferrable solutions for EAS discovery
charging.
#### 7.4.6.3 Conclusion of possible solutions for EAS application context
transfer charging
Based on the evaluation in clause 7.4.5.3, the **Solution #4f** and **Solution
#4g** are feasible and preferrable solutions for EAS application context
transfer charging.
#### 7.4.6.4 Conclusion of possible solutions for UE location obtaining
charging
Based on the evaluation in clause 7.4.5.4, all the **Solution #4h** ,
**Solution #4i** , **Solution #4j** , **Solution #4k** and **Solution #4l**
are feasible and preferrable solutions for UE location obtaining charging for
scenarios 1) and 2) as described in clause 7.4.5.4.
#### 7.4.6.5 Conclusion of possible solutions for Application Client
information subscription and notification charging
Based on the evaluation in clause 7.4.5.5, all the **Solution #4m** ,
**Solution #4n** , and **Solution #4o** are feasible and preferrable solutions
for AC information subscription and notification charging.
#### 7.4.6.6 Conclusion of possible solutions for ACR management events
subscription charging
Based on the evaluation in clause 7.4.5.6, both **Solution #4p** and
**Solution #4q** are feasible and preferrable solutions for ACR management
events subscription charging for scenarios 1) and 2) as described in clause
7.4.5.4.
#### 7.4.6.7 Conclusion of possible solutions for Session with QoS charging
Based on the evaluation in clause 7.4.5.7, all the **Solution #4r** ,
**Solution #4s** , **Solution #4t** , **Solution #4u** and **Solution #4v**
are feasible and preferrable solutions for Session with QoS charging for
scenarios 1) and 2) as described in clause 7.4.5.4.
#### 7.4.6.8 Conclusion of possible solutions for aggregated charging
Based on the evaluation in clause 7.4.5.8, the **Solution #4w** for aggregated
charging **as described in clause** 7.4.4.9 is restrictive to some special
deployment scenario and needs enhancements on EES in order to send
notifications for all edge enabling services, therefore it is not a
recommended solution for charging the edge enabling services usage in Rel-17
normative work.
# 8 Conclusions and recommendations
The present technical report described the business roles (see clause 4),
concepts (see clause 5) and architecture considerations (see clause 6) for
edge computing charging. This technical report also identified and documented
the use cases and key issues, derived the corresponding potential
requirements, and developed and evaluated the possible solutions (see clause
7) for edge computing charging. This TR made conclusions on the following
aspects:
\- 5GS capability usage based charging for edge computing, including
subscriber charging and inter-provider charging, in clause 7.1.6;
\- Edge enabling infrastructure resource charging, in clause 7.2.6;
\- Edge application server deployment charging, in clause 7.3.6; and
\- Edge enabling services usage charging, in clause 7.4.6.
To support converged charging for edge computing in normative work, it is
recommended to specify the requirements, architectures and solutions for the
aspects mentioned above based on the conclusions of the corresponding
solutions documented in clauses 7.1.6, 7.2.6, 7.3.6 and 7.4.6 of the present
document.
#