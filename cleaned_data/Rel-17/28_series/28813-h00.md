# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document investigates the opportunities for defining new Energy
Efficiency (EE) KPIs and new Energy Saving (ES) solutions. It identifies and
documents key issues related to energy efficiency and energy saving, documents
and evaluates potential solutions, and provides recommendations for the
normative work.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"5G; System Architecture for the 5G System\".
[3] 3GPP TS 32.130: \"Telecommunication management; Network sharing; Concepts
and requirements\".
[4] 3GPP TS 28.552: \"Management and orchestration; 5G performance
measurements\".
[5] 3GPP TS 28.554: \"Management and orchestration; 5G end to end Key
Performance Indicators (KPI)\".
[6] ETSI ES 203 228 v1.2.1: \"Environmental Engineering (EE); Assessment of
mobile network energy efficiency\".
[7] Void
[8] 3GPP TS 28.622: \"Telecommunication management; Generic Network Resource
Model (NRM) Integration Reference Point (IRP); Information Service (IS)\".
[9] Draft ETSI GR NFV-IFA 015 V3.4.1 (2020-05): \"Network Functions
Virtualisation (NFV) Release 3; Management and Orchestration; Report on NFV
Information Model\".
[10] ETSI GR NFV 003 V1.5.1 (2020-01): \"Network Functions Virtualisation
(NFV); Terminology for Main Concepts in NFV\".
[11] 3GPP TS 28.809: \"Management and orchestration; Study on enhancement of
Management Data Analytics (MDA)\".
[12] 3GPP TS 28.310: \"Management and orchestration; Energy efficiency of
5G\".
[13] IETF RFC 5136: \"Defining Network Capacity\".
[14] ETSI GS NFV-TST 008 V3.3.1: \"Network Functions Virtualisation (NFV)
Release 3; Testing; NFVI Compute and Network Metrics Specification\".
[15] Void
[16] 3GPP TR 21.866: \"Study on Energy Efficiency Aspects of 3GPP Standards\".
[17] 3GPP TS 28.313: \"Management and orchestration; Self-Organizing Networks
(SON) for 5G networks\".
[18] 3GPP TS 28.555: \"Management and orchestration; Network policy management
for 5G mobile networks; Stage 1\".
[18] ETSI GS NFV-IFA 027 V4.0.2 (2020-11): \"Network Functions Virtualisation
(NFV) Release 4; Management and Orchestration; Performance Measurements
Specification\".
[19] ETSI ES 202 336-12 V1.2.1 (2019-02): \"Environmental Engineering (EE);
Monitoring and control interface for infrastructure equipment (power, cooling
and building environment systems used in telecommunication networks); Part 12:
ICT equipment power, energy and environmental parameters monitoring
information model\".
[20] ETSI GS NFV-IFA 006 V3.4.1 (2020-06): \"Network Functions Virtualisation
(NFV) Release 3; Management and Orchestration; Vi-Vnfm reference point -
Interface and Information Model Specification\".
[21] ETSI ES 203 539: \"Environmental Engineering (EE); Measurement method for
energy efficiency of Network Functions Virtualisation (NFV) in laboratory
environment\".
[22] Void.
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1] and
the following apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1].
## 3.2 Symbols
Void.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
MOP Master Operator
POP Participating Operator
# 4 Key Issues and potential solutions
## 4.1 Key Issue #1: EE KPI in case of NG-RAN sharing
### 4.1.1 Description
#### 4.1.1.1 Existing NG-RAN EE KPI and related measurements
In TS 28.554 [5] -- clause 6.7.1, the NG-RAN data Energy Efficiency KPI is
defined as follows:
EE~MN,DV~
~\ ~{width="2.9368055555555554in" height="0.2916666666666667in"} - for non-
split gNBs;
{width="4.113888888888889in" height="0.3958333333333333in"} - for split-gNBs.
For non-split gNBs, the data volume measurements used in this KPI are defined
in TS 28.552 [4] -- clause 5.1.2.1, as follows:
\- UL PDCP SDU Data Volume: provides the Data Volume (amount of PDCP SDU bits)
in the uplink delivered from PDCP layer to higher layers. The measurement is
calculated per PLMN ID and per QoS level (mapped 5QI) and per S-NSSAI;
\- DL PDCP SDU Data Volume: provides the Data Volume (amount of PDCP SDU bits)
in the downlink delivered to PDCP layer. The measurement is calculated per
PLMN ID and per QoS level (mapped 5QI) and per S-NSSAI.
NOTE: For the rest of the discussion, it is important to note that these
measurements can be obtained per PLMN ID.
#### 4.1.1.2 5G RAN sharing
TS 23.501 [2] -- figure 5.1.18-1 gives a network sharing architecture allowing
multiple Participating Operators (POP) (see TS 32.130 [3]) to share resources
of a single shared radio access network made available by a Master Operator
(MOP) [3] according to a RAN sharing contract.
{width="6.685416666666667in" height="2.517361111111111in"}
Figure 4.1.1.2-1: 5G RAN sharing
#### 4.1.1.3 Problem statement
In case of RAN sharing:
\- The energy consumed, which measurement (see PEE.Energy [4]) is collected by
the Master Operator and calculated per gNB only, with no split between Master
and Participating Operators;
\- The data volume measurements are collected by the Master Operator and
calculated:
\- at gNB level, i.e. not per PLMN ID. In this case, these measurements don\'t
separate the traffic between the Master Operator and each Participating
Operator. As a consequence, the existing EE KPI is obtained by dividing all
Operators included Data Volume, by gNB Energy Consumption:
\- for the Master Operator, the resulting EE KPI value does not reflect that
the gNB is shared,
\- for Participating Operators, they are unable to measure the EE KPI value
for this shared gNB, though they have some traffic across this shared gNB.
\- per PLMN ID. In this case, these measurements can be obtained separately
for the Master Operator and for each Participating Operator:
\- For the Master Operator and all Participating Operators, the resulting EE
KPI value is the per Operator Data Volume divided by the all Operators
included Energy Consumption of the shared gNB.
As explained above, in case of a shared gNB, the value of the existing
EE~MN,DV~ may be biased depending on how it is calculated.
### 4.1.2 Potential solutions
#### 4.1.2.1 Potential solution #1: EE KPI with estimated Energy Consumption
##### 4.1.2.1.1 Introduction {#introduction-1}
In this potential solution, a per Operator EE KPI is defined as follows:
{width="3.2715277777777776in" height="0.5402777777777777in"}
where:
\- EE~DV,\ Shared\ gNB~ is the per Operator EE KPI in case of a shared gNB.
\- DV~Per\ Operator\ (measured)~ is the per Operator Data Volume, measured.
\- EC~Per\ Operator\ (estimated)~ is the per Operator Energy Consumption,
estimated. An estimation can be made by calculating the proportion of each
Operator Data Volume over all Operators included Data Volume, and then apply
this proportion in the estimation of the per Operator Energy Consumption.
##### 4.1.2.1.2 Description
In this potential solution #1, given that each Operator Energy Consumption
(EC) is estimated proportionally to its measured Data Volume (DV), the
resulting EE KPI value is the same for all Operators, i.e. for the Master
Operator (MOP) and the Participating Operators (POP).
In a RAN sharing deployment, depending on the agreement between the MOP and
the POPs:
\- either the MOP provides each POP with its own measured DV and estimated EC
values, and each POP calculates the resulting EE KPI value; or
\- the MOP calculates the EE KPI per POP and provide each POP with its own
value.
#### 4.1.2.2 Potential solution #2: EE KPI with measured Energy Consumption
##### 4.1.2.2.1 Introduction {#introduction-2}
In this potential solution, the per Operator EE KPI is defined as follows:
{width="3.3916666666666666in" height="0.5604166666666667in"}
where:
\- EE~DV,\ Shared\ gNB~ is the per Operator EE KPI in case of a shared gNB;
\- DV~Per\ Operator\ (measured)~ is the per Operator Data Volume, measured
over a given period of time;
\- EC~gNB~ is the gNB Energy Consumption, measured over the same period of
time.
##### 4.1.2.2.2 Description
In this potential solution #2, the EE KPI value is, for each operator sharing
the gNB, proportional to the Data Volume carried by the gNB on behalf of the
operator. The higher the Data Volume used by a sharing operator via a shared
gNB is, the higher his EE KPI is.
In a RAN sharing deployment using this potential solution, depending on the
agreement between the MOP and the POPs:
\- either the MOP provides each POP with its own measured DV and measured
global gNB EC value, and each POP calculates the resulting EE KPI value; or
\- the MOP calculates the EE KPI per POP and provide each POP with its own
value.
### 4.1.3 Conclusion - Impact on normative work
The ultimate goal of this key issue analysis is to define a per-Operator EE
KPI in case of shared gNB.
The potential solution #1, if it was applied, would result in that
Participating Operators would all have the same EE KPI value, regardless of
their traffic volume. This potential solution brings little value.
The potential solution #2, if it was applied, would consider the whole shared
gNB (measured) EC, instead of a per-Operator EC, given that there is so far no
standardized means to measure the energy consumed by each Participating
Operator separately. Each POP EE KPI value would be a proportion of the total
shared gNB EC value, based on each POP data volume. This potential solution
would thus not provide a realistic EE KPI value.
Consequently, none of the above potential solutions are proposed to be
introduced into TS 28.554 [5].
## 4.2 Key Issue #2: EE KPI for 5GC
### 4.2.1 Description
TS 28.554 [5] -- clause 6.7 (Energy Efficiency (EE) KPI) contains so far one
single KPI definition: NG-RAN data Energy Efficiency (EE) (see clause 6.7.1).
A corresponding EE KPI is missing for 5GC.
A Generic 5GC EE KPI could be expressed as the follows:
{width="4.846527777777778in" height="0.4597222222222222in"}
where:
\- \'Useful Output of 5GC\' ({width="0.9430555555555555in"
height="0.1701388888888889in"}) is the useful output of 5GC;
\- \'Energy Consumption of 5GC\' ({width="0.35694444444444445in"
height="0.1701388888888889in"}) is the Energy Consumption of 5GC.
UsefulOutput~5GC~ can be defined differently, depending on which 5GC network
functions are considered:
\- UsefulOutput~5GC,UP~ is the useful output of 5GC when only User Plane (UP)
functions are considered. UsefulOutput~5GC,UP,DV~ is the useful output of 5GC
when the Data Volume (DV) of 5GC user plane network functions is considered.
In this case, UsefulOutput~5GC,UP,DV~ is similar to DV~5GC~;
\- UsefulOutput~5GC,CP~ is the useful output of 5GC when only Control Plane
(CP) functions are considered. UsefulOutput~5GC,CP~ can have various
definitions depending on which 5GC control plane functions are considered --
see clause 4.2a.2.2;
\- When both 5GC UP and CP functions are considered and the Data Volume (DV)
carried by entire 5GC (denoted as DV~5GC~) is used, UsefulOutput~5GC~ is
similar to DV~5GC~ and the generic 5GC EE KPI can be expressed as:
{width="1.0854166666666667in" height="0.34652777777777777in"}
In clause 4.2.2, the potential solutions propose to apply the generic 5GC EE
KPI introduced above and consider 5GC User Plane Functions and/or 5GC Control
Plane Functions and focus on how to measure the Data Volume (DV) carried by
the 5G core network: DV~5GC~.
The potential solutions for defining the Useful Output of 5GC are described in
clause 4.2a.2.2.
### 4.2.2 Potential solutions
#### 4.2.2.1 Potential solution #1 for DV~5GC~: User Plane DV based solution
##### 4.2.2.1.1 Introduction {#introduction-3}
This potential solution #1 focuses on the definition of DV~5GC~.
For this potential solution, it is proposed to apply the same principle as for
NG-RAN (see [5] clause 6.7.1 \'NG-RAN data Energy Efficiency (EE)\'), i.e. to
measure only the User Plane traffic volume. Therefore, the DV part of the EE
KPI for 5GC is measured only at the User Plane Functions (UPF) that constitute
the 5GC. 5GC Control Plane traffic is not considered.
In case of redundant transmission paths for high reliability, it is expected
that the data volume is counted once only. The main reason for this is that,
if the traffic is counted more than once, it will increase artificially the
EE~5GC,DV~ KPI.
##### 4.2.2.1.2 Potential alternative#1 -- based on N3 interface
###### 4.2.2.1.2.1 Introduction {#introduction-4}
In this proposed alternative, both incoming and outgoing traffic are measured
at the GTP-U layer on the N3 interface. This potential alternative applies
only to UPFs with N3 interfaces connected.
###### 4.2.2.1.2.2 Description
The considered traffic is the traffic between the 5G-AN and UPFs that
constitute the 5GC via the N3 interface. All UL and DL traffic:
\- between 5G AN node and UPF, as well as;
\- between N3IWF and UPF
is considered.
In case of redundant transmission paths over the N3 interface for high
reliability communication (see TS 23.501 [2] clause 5.33.2), it is expected
that the data volume is counted once. In particular:
\- In case of Dual Connectivity based end to end Redundant User Plane Paths
(see TS 23.501 [2] clause 5.33.2.1), in which a UE may set up two redundant
PDU Sessions over the 5G network, the Data Volume related to only one PDU
session is to be considered;
\- In case of redundant transmission with two N3 tunnels between the PSA UPF
and a single NG-RAN node (see TS 23.501 [2] figure 5.33.2.2-1) which are
associated with a single PDU Session, the Data Volume related to only one N3
tunnel is to be considered;
\- In case of two N3 and N9 tunnels between NG-RAN and PSA UPF for redundant
transmission (see TS 23.501 [2] figure 5.33.2.2-2) associated with a single
PDU Session, the Data Volume related to only one N3 tunnel is to be
considered.
For this use case related to the measurement of the energy efficiency of the
5G core network, the 3GPP management system in charge of collecting the data
volume measurements listed here below will have to consider them only once in
case of redundant transmission over the N3 interface.
In this potential alternative, the following would have to be done: introduce
a new EE KPI in TS 28.554 [5] -- clause 6.7:
{width="1.336111111111111in" height="0.4361111111111111in"}
where DV~5GC~, expressed in bits, would be defined as follows:
{width="5.918055555555555in" height="0.5694444444444444in"}
and:
\- GTP.InDataOctN3UPF already defined in TS 28.552 [4) clause 5.4.1.3 (Number
of octets of incoming GTP data packets on the N3 interface, from (R)AN to
UPF); and
\- GTP.OutDataOctN3UPF already defined in TS 28.552 [4) clause 5.4.1.4 (Number
of octets of outgoing GTP data packets on the N3 interface, from UPF to
(R)AN).
##### 4.2.2.1.3 Potential alternative#2 -- based on N6 interface
###### 4.2.2.1.3.1 Introduction {#introduction-5}
In this proposed alternative, both incoming and outgoing traffic are measured
at the IP layer on the N6 interface. This potential alternative applies only
to UPFs with N6 interfaces connected.
###### 4.2.2.1.3.2 Description
The considered traffic is the traffic between the DN and UPFs that constitute
the 5GC via the N6 interface.
In this potential alternative, DV~5GC~, expressed in bits, would be defined as
follows:
{width="6.595138888888889in" height="0.6055555555555555in"}
and:
\- IP.N6IncLinkUsage.N6RP already defined in TS 28.552 [4] clause 5.4.2.1 (N6
incoming link usage, in bit/sec),
\- IP.N6OutLinkUsage.N6RP already defined in TS 28.552 [4] clause 5.4.2.2 (N6
outgoing link usage, in bit/sec),
\- MeasurementDuration is the duration, in seconds, of the measurement period.
IP.N6IncLinkUsage.N6RP and IP.N6OutLinkUsage.N6RP definitions in TS 28.552 [4]
refer to IETF RFC 5136 [13] definition of IP-type-P link usage, defined as
follows:
\'The average usage of a link L, Used (L,T,I), is the actual number of IP-
layer bits from any source, correctly received over link L during the interval
[T, T+I], divided by I.\'.
Though IETF RFC 5136 [13] does not state it, it is our understanding that Used
(L,T,I) measurement unit is bit/s.
Therefore, it is proposed that Used (L,T,I) be multiplied by the duration of
the observation period of time (in seconds).
This potential solution cannot support per S-NSSAI data volume measurements,
mainly due to that it depends on IETF defined metrics.
#### 4.2.2.2 Potential solution #2 for DV~5GC~: User + Control Plane DV based
solution
##### 4.2.2.2.1 Introduction {#introduction-6}
This potential solution #2 focuses on the definition of DV~5GC~.
For this proposed solution, the assumption is made that all traffic within all
network functions of the 5GC is considered, i.e. Control Plane and User Plane
traffic. Therefore, the DV part of the EE KPI for 5GC is measured at all
network functions that constitute the 5GC.
##### 4.2.2.2.2 Description
In this proposed solution, the traffic is measured at the IP layer, regardless
the network functions are control plane or user plane network functions. The
following network functions are considered (see clause 4.2.2 of TS 23.501
[2]):
\- Authentication Server Function (AUSF):
\- Access and Mobility Management Function (AMF)
\- Unstructured Data Storage Function (UDSF)
\- Network Exposure Function (NEF)
\- Intermediate NEF (I-NEF)
\- Network Repository Function (NRF)
\- Network Slice Selection Function (NSSF)
\- Policy Control Function (PCF)
\- Session Management Function (SMF)
\- Unified Data Management (UDM)
\- Unified Data Repository (UDR)
\- User Plane Function (UPF)
\- UE radio Capability Management Function (UCMF)
\- Application Function (AF)
\- 5G-Equipment Identity Register (5G-EIR)
\- Network Data Analytics Function (NWDAF)
\- CHarging Function (CHF).
In this proposed solution, the traffic is measured at the IP layer of
aforementioned network functions.
#### 4.2.2.3 Potential solution #3: Useful Output based solution
##### 4.2.2.3.1 Introduction {#introduction-7}
This potential solution #3 proposes a two-step approach, where the first step
consists in defining the 5GC EE KPI as the useful output of the 5G core
network divided by its energy consumption, and the second step consists in
defining further the useful output of the 5G core network.
##### 4.2.2.3.2 Description
In this potential solution, a generic 5GC EE KPI is defined as the ratio
between the useful output of the 5G core network and the energy consumption of
the 5G core network.
{width="4.847222222222222in" height="0.4597222222222222in"}
In a second step, the useful output of the 5G core network is further defined.
The following options are possible. It should be noted that the options
proposed below are a) not exhaustive and b) not excluding each other.
\- Option #1: Useful output of the 5GC user plane
In this option, the useful output of the 5GC is measured by considering both
incoming and outgoing traffic at the GTP-U layer on the N3 interface(s) of
I-UPF(s), as described in clause 4.2.2.1.2.
{width="5.898611111111111in" height="0.46458333333333335in"}
The resulting definition of the EE KPI for the 5GC, based on the Useful Output
(UO) of the User Plane (UP) measured by its Data Volume (DV) is:
{width="5.213888888888889in" height="0.41458333333333336in"}
\- Option #2: Useful output of the 5GC control plane
See clause 4.2a.2.2.
### 4.2.3 Conclusion - Impact on normative work
The potential solution #1for defining DV~5GC~ applies the same principle as
for NG-RAN (see [5] clause 6.7.1 \'NG-RAN data Energy Efficiency (EE)\'), by
considering the User Plane traffic volume only.
Its alternative #1 considers both incoming and outgoing traffic measured at
the GTP-U layer on the N3 interface. It applies only to UPFs with N3
interfaces connected. It relies on measurements which are defined in TS 28.552
[4] and which can be refined per S-NSSAI. This alternative #1 is a) simple
since it relies on measurements made at some UPFs only and b) powerful since
it enables to refine those measurements per S-NSSAI.
Its alternative #2 considers both incoming and outgoing traffic measured at
the IP layer on the N6 interface. It applies only to UPFs with N6 interfaces
connected. It relies on metrics which are defined in IETF RFC 5136 [13] and do
not support per S-NSSAI data volume measurements. This alternative #2 is a)
simple since it relies on measurements made at some UPFs only and b) less
powerful than alternative #1 as it does not enable to obtain per S-NSSAI
measurements.
The potential solution #2 for defining DV~5GC~ considers all network functions
that constitute the 5GC, i.e. control plane and user plane functions. It
proposes to measure data volumes at the IP layer. This potential solution #2
is a) more complex than the potential solution #1 because it requires to
collect measurements at each and every network function of the 5GC and b) less
powerful than potential solution #1 / alternative #1 because it does not
enable to obtain per S-NSSAI measurements.
The potential solution #3 proposes a two-step approach, where the first step
consists in defining the 5GC EE KPI as the useful output of the 5G core
network divided by its energy consumption, and the second step consists in
defining further the useful output of the 5G core network. The option #1 of
the potential solution #3 focuses on defining the useful output of the 5GC at
the user plane, by considering data volumes at N3 interface(s) of the 5GC.
Consequently, it is proposed to introduce both the generic 5GC EE KPI
definition and the option #1 of the potential solution #3, which considers
both incoming and outgoing traffic measured at the GTP-U layer on the N3
interface(s) of the 5GC, in TS 28.554.
## 4.2a Key Issue #2a: Resource Efficiency KPI for 5GC
### 4.2a.1 Description
With Network Functions Virtualisation (NFV), physical equipment in the telecom
network architecture can be replaced by virtual network functions running on
standard server platform. Since the 5GC can be fully virtualized, and the 5GC
NF can be composed of VNF(s), the 5GC Resource Efficiency KPI is introduced
as:
{width="3.2333333333333334in" height="0.575in"}
The term Useful Output was introduced in the ES 203 539 [21] as the maximum
capacity of the system under test which is depending on the different
functions in both data plane / user plane or control plane. As the Useful
Output can be defined for both data plane and control plane network functions,
it can be expressed as the number of Erlang (Erl), Packets/s (PPS),
Subscribers (Sub) or Simultaneously Attached Users (AU). And within ES 203 539
[21], the Useful Output is also expressed as bits/s (bps) or the number of
sessions.
When the Useful Output is expressed as Packets/s (PPS) or bps, it can be used
as metric for throughput of data plane or user plane network function. And
when the Useful Output is expressed as Subscribers (Sub) or Simultaneously
Attached Users (AU) or number of sessions, it can be used as the metric for
control plane network function.
The Useful Output of 5GC is denoted as UsefulOutput~5GC~, it can be defined
for both data plane and control plane network functions.
In ES 203 539 [21], the measurement of Resource Consumption of VNF under test
which solely running on NFVI platform was introduced as a method for energy
consumption measurement of VNF indirectly.
As the 5GC can be fully virtualized, the Resource Consumption of 5GC is
denoted as ResourceConsumption~5GC~.
The ES 203 539 [21] is intended to be used in laboratory environment. For the
environment of the operational network, such as the one studied within the
scope of the present document, the measurement or estimation of the Useful
Output of 5GC and Resource Consumption of 5GC needs to be studied.
Depending on the solution, new measurements may have to be defined in TS
28.552 [4].
### 4.2a.2 Potential solutions
#### 4.2a.2.1 Potential solution #1 for ResourceConsumption~5GC~ Estimation
##### 4.2a.2.1.1 Introduction
This potential solution focuses on the definition of ResourceConsumption~5GC~
appeared in:
{width="3.2333333333333334in" height="0.575in"}
##### 4.2a.2.1.2 Description
The ResourceConsumption~5GC~ (which is also denoted as R~5GC~) is defined as
the resource allocated to all 5GC NF.
{width="1.28125in" height="0.39305555555555555in"}
where R~NF~ represents the resource allocated to a 5GC NF.
Since the 5GC NF is composed of 1 to many VNFs, the resource allocated to 5GC
NF is the sum of the resource allocated to the VNFs composing the 5GC NF.
{width="1.3340277777777778in" height="0.38472222222222224in"}
where R~VNF~ represents ResourceConsumption.
The resource considered are Virtualization Container (VC) resources and
Virtual Network resources. Therefore, **_R~5GC~_** can be further denoted as
{**_R~5GC,\ cpu,~ R~5GC,\ memory~_** , **_R~5GC,\ storage~_**}. Moreover, as
5GC NF is composed of 1 to many VNFs, the following definitions are proposed:
**_\- R~NF,\ cpu~_** is CPU resource consumption, defined as the sum of the
used CPU capacity of the underlying VCs allocated to each of the VNFs
composing the 5GC NF.
**_\- R~NF,\ memory~_** is memory resource consumption, defined as the sum of
the total memory used of the underlying VCs allocated to each of the VNFs
composing the 5GC NF.
**_\- R~NF,\ storage~_** is storage resource consumption, defined as the sum
of the total storage used of the underlying VCs allocated to each of the VNFs
composing the 5GC NF.
NOTE 1: NF is composed of VNF(s). VNFs are composed of VNFC(s). VNFC is
deployed on Virtualization Container(s). Therefore, the summation of the
resource used by the VNFs composing the 5GC NF is based on the measurement of
the corresponding VNFCs\' resource consumption on the VCs. And this can be
expressed as the following:
{width="1.6652777777777779in" height="0.38055555555555554in"}
NOTE 2: The consumption of the resource of different kinds may not be able to
be added together. But the consumption of the resource of the same kind will
be added together. Therefore, for each VNF, there will be a summation of
resource consumption for each kind of resource, e.g. the total CPU resource
consumption, the total memory resource consumption, etc. And they will be used
or considered separately. And similarly, for each NF, there will be a
summation of resource consumption for each kind of resource, based on the
resource consumption of the VNFs. And they also will be used or considered
separately. And so is for the 5GC.
Since each of the VNFs composing the 5GC NF may not be the only VNF running on
a NFVI, the virtual resource consumption of the each VNF needs to be measured
separately.
In this version of the present document, it is assumed that:
\- the resource allocated to a NF/VNF/VNFC other than CPU and Memory are not
included.
\- each VNFC instance pertains to one and only one VNF instance,
\- each VNF instance pertains to one and only one Network Function,
\- each VNFC instance utilizes virtual CPUs pertaining to one and only one
NFVI node.
Resource consumption can be measured through performance monitoring, which
could be external monitoring tools or monitoring functions provided by NFV
infrastructure.
The CPU resource consumption of the VNFC is denoted as **_R~VNFC,CPU~_** and
it can be derived based on all the vCPUs allocated to it as the following:
{width="3.1756944444444444in" height="0.3645833333333333in"}
For each vCPU allocated to the VNFC instance, the vCPU Resource Usage is
calculated as the average Processor Utilization of the VNFC instance during a
given time period multiplied by cpu clock speed and number of cores of the
underlying VC where the VNFC is located, and its unit is MegaHertz (MHz)**.**
Processor Utilization is defined in [14] clause 6.6 as the ratio of the total
time that one or more compute resources (according to the defined scope)
execute instructions in the specified execution context during the measurement
interval to the time in the measurement interval, expressed as a percentage.
NOTE 3: Virtual Machine and OS Container are examples of Virtualisation
Container [10].
The measurement of the memory resource consumption of the VNFC is denoted
**_R~VNFC,\ memory~_ and it** can be derived as the amount of memory used by
VNFC (see the metric \'Memory Used\' defined in ETSI GS NFV-TST 008 clause
8.6).
The storage usage of the VNFC is denoted as **_R~VNFC,\ storage~_**. As the
methods of measurement for storage systems vary widely and depend on the
implementation, the measurement of the **_R~VNFC,\ storage~_** may not be
defined in this version of the present document.
Based on the CPU resource consumption of the VNFC, the CPU resource
consumption of the VNF can be estimated as the following:
{width="2.6493055555555554in" height="0.3645833333333333in"}
And the CPU resource consumption of the NF and the 5GC can be estimated
accordingly:
{width="2.1847222222222222in" height="0.3645833333333333in"}
{width="2.1958333333333333in" height="0.3638888888888889in"}
Similarly, the memory resource consumption of the VNF, NF, and 5GC can be
estimated:
{width="2.9180555555555556in" height="0.3645833333333333in"}
{width="2.6347222222222224in" height="0.3645833333333333in"}
{width="2.5381944444444446in" height="0.3638888888888889in"}
And the estimation of the resource consumption of the NF and 5GC can be
derived based on CPU resource consumption only:
{width="1.9631944444444445in" height="0.17777777777777778in"}
{width="2.1666666666666665in" height="0.17777777777777778in"}
Or they can be derived based on memory resource consumption only:
{width="2.1166666666666667in" height="0.17847222222222223in"}
{width="2.29375in" height="0.17847222222222223in"}
Or they can be derived as the couple with two dimensions based on CPU resource
consumption and memory resource consumption:
{width="3.4618055555555554in" height="0.17777777777777778in"}
{width="3.6368055555555556in" height="0.17777777777777778in"}
NOTE 4: The estimation of the resource consumption of the NF and 5GC based on
memory resource consumption only is for information only.
NOTE 5: The estimation of the resource consumption of the NF and 5GC as the
couple with two dimensions based on CPU resource consumption and memory
resource consumption is for information only and a Euler distance between a
vector with 2 dimensions and the origin can be used as metric for this
estimation.
#### 4.2a.2.2 Potential solution #2 for measuring UsefulOutput~5GC~
##### 4.2a.2.2.1 Introduction
This potential solution focuses on the definition of UsefulOuput~5GC~ appeared
in:
{width="3.2333333333333334in" height="0.575in"}
For this proposed solution, it can be applied to both User Plane Function
(UPF) and Control Plane network functions that constitute the 5GC. And it is
assumed that the definition of the useful output for UPF and control plane
network function are different.
##### 4.2a.2.2.2 Description
The useful output of a 5GC NF is defined as the capacity of the 5GC NF, and
depending on the different type of 5GC NFs, it may be:
  * throughput (e.g. bps) for 5GC User Plane network functions
  * capacity (e.g. subscribers, sessions) for 5GC Control Plane network functions.
The UsefulOuput~5GC~ is composed of the useful output of all the 5GC NFs that
constitute the 5GC. Therefore, the UsefulOuput~5GC~ can be divided into:
\- UsefulOutput~5GC,UP~, when only User Plane (UP) network functions are
considered,
\- UsefulOutput~5GC,CP~, when only Control Plane (CP) functions are
considered, and which can be further divided into:
\- UsefulOuput~5GC,CP,subscribers~
\- UsefulOuput~5GC,CP,sessions~.
Since each type of the useful output is one dimension used to describe the
UsefulOuput~5GC~, when one or multiple types of useful output are used for
calculation, such as the calculation of resource efficiency ratio, the
calculation is made with respect to each type of useful output, i.e. the
useful output of the same kind can be added together, while the useful output
of different kinds cannot be added together.
In this proposed solution, the following network functions may be considered
(see clause 4.2.2 of TS 23.501 [2]):
\- Access and Mobility Management Function (AMF)
\- Session Management Function (SMF)
\- User Plane Function (UPF)
The UsefulOuput~5GC,UP~ can be taken as the measurement of the Useful Output
of the UPF(s) that constitute the 5GC. Therefore, the UsefulOuput~5GC,\ UP~ is
equivalent to the Data Volume of UPF(s) that constitute the 5GC, defined in TS
28.552 [4] clause 5.4.1. See also clause 4.2.2.1.2 of the present document.
The Useful Output of the AMF can be measured by the mean number of the
registered subscribers defined in TS 28.552 [4] clause 5.2.1. The
UsefulOutput~5GC,CP,subscribers~ is taken as the measurement of the Useful
Output of the AMF(s) that constitute the 5GC. Therefore, the
UsefulOutput~5GC,CP,subscribers~ is equivalent to the mean number of the
registered subscribers of the AMF(s) that constitute the 5GC.
Considering the mean number of the registered subscriber defined in TS 28.552
[4] clause 5.2.1, the UsefulOuput~5GC,\ CP,\ subscribers~ can be expressed as
follows:
where:
\- RM.RegisteredSubNbrMean.SNSSAI is the mean number of registered state
subscribers per S-NSSAI per AMF, as defined in TS 28.552 [4] clause 5.2.1.
The Useful Output of the SMF can be measured by the mean number of the PDU
sessions defined in TS 28.552 [4] clause 5.3.1. The
UsefulOutput~5GC,CP,sessions~ is taken as the measurement of the Useful Output
of the SMF. Therefore, the UsefulOutput~5GC,CP,sessions~ is equivalent to the
mean of the number of PDU Sessions of SMF.
Considering the mean number of the PDU sessions defined in TS 28.552 [4]
clause 5.3.1, the UsefulOuput~5GC,\ CP,\ sessions~ can be expressed as
follows:
where:
\- SM.SessionNbrMean.SNSSAI is the mean number of PDU sessions per S-NSSAI per
SMF, as defined in TS 28.552 [4] clause 5.3.1.
### 4.2a.3 Conclusion - Impact on normative work
There are two solutions being discussed. The potential solution #1 is for
ResourceConsumption~5GC~ estimation, and the potential solution #2 is for
UsefulOuput~5GC~ measurement. The ResourceConsumption~5GC~ and
UsefulOuput~5GC~ can be used for defining the RE~5GC,\ RC~.
In the potential solution #1, ResourceConsumption~5GC~ is defined based on the
resources allocated to all 5GC NFs. The resources considered are
Virtualization Container (VC) resources and Virtual Network resources, which
can be further denoted as virtual CPU resource and virtual memory resource.
With regard to virtual CPU resource usage, the CPU core number and the CPU
clock speed used by the potential solution are maintained by VIM and it is not
clear whether they are or will be made available by ETSI NFV MANO to 3GPP
management system. This issue had been discussed within SA5 and the LS asking
ETSI NFV to feedback further information was sent.
In the potential solution #2, UsefulOuput~5GC~ is defined as the useful output
of the 5GC NFs. In this solution, the definitions of Useful Output of AMF, SMF
and UPF are provided.
Consequently, the conclusion is proposed as follows:
\- The estimation of ResourceConsumption~5GC~ is still open and the potential
solution #1 needs further study in upcoming Rel-18 work;
\- The potential solution #2 may move to the normative phase as solutions for
measuring the Useful Output of AMF, SMF and UPF;
\- Key Issue #2a: Resource Efficiency KPI for 5GC is still open and the study
may continue in the Rel-18 EE study within SA5.
## 4.3 Key Issue #3: Network data analysis assisted energy saving
### 4.3.1 Description
The following use case related to energy saving in the 5GC states the
following:
_\"_
_In particular, the network data analysis may indicate that all the UEs served
by some UPF instances are low priority UEs. Based on this information, the SMF
can intentionally re-allocate the low priority UEs among fewer dedicated UPF
instances which are used only for serving the low priority UEs at night and
running on fewer dedicated servers. As a result, there can be more UPF
instances having no UE allocated to them and can be removed by the NFV
orchestrator. Consequently, there can be more physical resources, such as
servers, to be shut down at night and less energy to be consumed._
_\"._
From the present document\'s point of view, some points are to be
investigated, including:
1) It is not clear:
a) how UEs are characterized as low or high priority and on which criteria
(e.g. user profile, etc.),
b) where NWDAF gets this information from,
c) whether UE priority is relative to within a given network slice (i.e.
priority amongst UEs of a given network slice) or across network slices (i.e.
priority amongst UEs of different network slices);
2) It is not clear if the main criteria for reallocating traffic from some UPF
instances to fewer UPF instances is the UE priority or the time of the day
(the above text mentions \'at night\') or service level parameters. In other
words, can\'t the reallocation of traffic from some UPF instances to fewer UPF
instances be decided only based on the traffic load at some time of the day /
night?
3) Since UEs can be attached to up to eight network slices simultaneously and
UPF instances either belong to a single network slice (in such a case, traffic
reallocation can be done only between UPF instances of the same network slice)
or are shared amongst two or more network slices (in such a case, traffic
reallocation can be done between UPF instances of different network slices
serving the low priority UEs), the re-allocation of the traffic from some UPF
instances to some other UPF instances would need to take this into
consideration, implying that the NWDAF would have this knowledge prior to
taking any decision;
4) Is it necessary that NWDAF have the information about which UPF instances
are susceptible to receive traffic from other UPF instances? If yes, how does
it obtain this information?
5) Migrating the traffic from some UPF instances to other UPF instances so as
to switch off some servers requires interacting with NFV MANO functions (e.g.
for VNF instance migration / termination). How NWDAF interacts with NFV MANO
function(s) and via which reference point(s) is not specified. The reference
point Os-Ma-Nfvo is for interactions between NFV Orchestrator and OSS/BSS and,
consequently, can\'t be used by NWDAF;
6) Reallocating traffic from some UPF instances to other UPF instances may
have to take into consideration additional information such as e.g.:
a) When ordering a network slice to his Network Slice Provider (NSP), a
Network Slice Customer (NSC) may express isolation requirements such as e.g.
\'I want my UPF instances be physically isolated from any other UPF instances
allocated to other NSCs\'. NWDAF has no knowledge of this, only OSS can have
such information;
b) All concerned UPF instances may not be on the same site / data centre,
which potentially are not powered by the same source of energy. The network
operator may be willing to privilege green sources of energy. In addition, the
cost of energy may highly differ between sites / data centres. NWDAF has no
knowledge of this, only OSS can have such information;
c) All these UPF instances may be hosted on different types of servers, where
some types of servers can be more energy efficient than others, so that the
network operator may be willing to privilege these energy efficient servers.
NWDAF has no knowledge of this, only OSS can have such information.
NOTE: A potential solution, in which MDAF plays a central role, is proposed in
clause 4.3.2.1.
### 4.3.2 Potential solutions
#### 4.3.2.1 Potential solution #1: OA&M centric energy saving
##### 4.3.2.1.1 Introduction {#introduction-8}
In this potential solution, the 3GPP management system, in particular the
MDAF, plays the central role during the observation phase, the analytics phase
and the decision phase (see TS 28.809 [11] clause 5.1). A Management Function,
in charge of energy saving, consumes analytics produced by MDAF and takes
appropriate decisions so as to save energy in the 5G core network.
##### 4.3.2.1.2 Description
After a preparation phase, this potential solution is divided into four
phases, as described in TS 28.809 [11] clause 5.1:
\- Observation,
\- Analytics,
\- Decision,
\- Execution.
**Preparation phase:**
{width="6.533333333333333in" height="3.2333333333333334in"}
Figure 4.3.2.1.2-1: Preparation phase
1\. The Management Function in charge of energy saving sends a request to MDAF
asking to get 5GC Energy Saving analytics report;
2\. MDAF subscribes to UE Communication analytics from NWDAF;
3\. NWDAF subscribes to UE Communication information from SMF. In Release 16
TS 23.288, the NWDAF can\'t collect information from UPF. So it is assumed
here that this UE Communication information is collected from SMF;
4\. MDAF subscribes to UPF and SMF related lifecycle and configuration
management from the Provisioning MnS Producer (see NOTE 3);
5\. MDAF subscribes to UPF and SMF related fault management data from the
Fault Supervision MnS Producer (see NOTE 3);
6\. MDAF creates a Performance Management job to collect UPF load value; the
selected reporting method is streaming;
NOTE 1: Steps 2 to 3 might not be needed, depending on whether UE
Communication analytics are actually needed for this use case (see clause
4.3.1 items 1, 2).
NOTE 2: See TR 28.809 [11] for the mechanisms for interaction between MDAS
consumer and MDAS producer.
NOTE 3: In the above procedure, the Performance Assurance MnS Producer,
Provisioning MnS Producer and Fault Supervision MnS Producer are to be
considered as logical entities which can be either embedded in Network
Functions (UPF and SMF), or part of an 5GC Element Management System.
**Observation phase:**
{width="6.5368055555555555in" height="3.5944444444444446in"}
Figure 4.3.2.1.2-2: Observation phase
1\. SMF notifies NWDAF of UE Communication information;
2\. Once NWDAF has produced UE Communication analytics, it notifies MDAF of
these analytics;
3\. MDAF receives OA&M LCM/CM notifications about SMF and UPF, if any, from
the Provisioning MnS Producer;
4\. MDAF receives OA&M FM notifications about SMF and UPF, if any, from the
Fault Supervision MnS Producer;
5\. MDAF receives requested OA&M performance measurements related to UPF load,
from the Performance Assurance MnS Producer.
NOTE 4: Steps 1 to 2 might not be needed, depending on whether UE
Communication analytics are actually needed for this use case (see clause
4.3.1 items 1, 2).
NOTE 5: In the above procedure, the Performance Assurance MnS Producer,
Provisioning MnS Producer and Fault Supervision MnS Producer are to be
considered as logical entities which can be either embedded in Network
Functions (UPF and SMF) or part of a 5GC Element Management System.
**Analytics phase:**
{width="6.527777777777778in" height="3.245138888888889in"}
Figure 4.3.2.1.2-3: Analytics phase
NOTE 6: See TR 28.809 [11] for the mechanisms for interaction between MDAS
consumer and MDAS producer.
**Decision phase:**
{width="6.532638888888889in" height="2.527083333333333in"}
Figure 4.3.2.1.2-4: Decision phase
NOTE 7: Which decision is taken by the Management Function in charge of energy
saving with regard to saving the energy consumed by the VNF instances
corresponding to UPFs A and B is not addressed in the present document.
**Execution phase:**
{width="6.528472222222222in" height="2.5180555555555557in"}
Figure 4.3.2.1.2-5: Execution phase
1\. The Management Function in charge of energy saving instructs the SMF to
redirect the traffic from UPFs A and B to UPFs C and D;
2\. Once traffic has been redirected, SMF informs the Management Function in
charge of energy saving;
3\. Depending on which decision has been taken by the Management Function in
charge of energy saving, it sends a request to the NFVO to either terminate
part of or all the VNF instances corresponding to UPFs A and B and remove them
from their respective Network Service(s), or scale in the VNF instances, or
any other action (see NOTE 5);
4\. Once the NFVO has executed the requested action, NFVO informs the
Management Function in charge of energy saving.
### 4.3.3 Conclusion - Impact on normative work
The potential solution #1 describes an OA&M centric energy saving use case and
corresponding procedure flows. However, conditions under which the energy
saving mode of UPF(s) can be deactivated, and associated procedure flows, are
not described in this document.
Consequently, it is proposed to pursue describing the potential solution #1 in
a future study on energy efficiency of 5G network.
## 4.4 Key Issue #4: EE KPI for network slice types
### 4.4.1 Description
Besides defining EE KPIs for NG-RAN and 5GC, there is a need to define EE KPIs
for standardized network slice types. A Generic Network Slice EE KPI could be
expressed as follows:
{width="6.304861111111111in" height="0.4097222222222222in"}
where:
\- Performance of network slice\' (P~ns~) is defined per type of network
slice. For example:
\- For eMBB, \'Performance of network slice\' could be the Data Volume (DV)
carried through network slices of type eMBB. The higher the Data Volume
carried by an eMBB network slice is, the higher its Performance of network
slice is;
\- For URLLC, \'Performance of network slice\' could be related to the network
slice end-to-end latency or reliability, or a combination of both. The lower
the latency or higher the reliability within a URLLC network slice is, the
higher its Performance of network slice is;
\- For MIoT, \'Performance of network slice\' could be the number of
registered subscribers, the number of active UEs, etc.. The higher the number
of registered subscribers or active UEs supported by a MIoT network slice is,
the higher its Performance of network slice is;
\- For V2X, \'Performance of network slice\' is still not addressed here.
> In clause 4.4.2, potential solutions to define the Performance of network
> slice of aforementioned types of network slice are proposed.
\- EC~ns~ is the Energy Consumption of the network slice.
### 4.4.2 Potential solutions
#### 4.4.2.1 Potential solution #1: Performance of network slice for eMBB
##### 4.4.2.1.1 Introduction {#introduction-9}
In this potential solution, the Performance of network slice (P~ns~) for eMBB
type of network slice is obtained by summing up UL and DL traffic volumes at
N3 interface, on a per S-NSSAI basis.
This potential solution applies to end-to-end network slices (RAN + TN + CN)
and to 5G Core Network only network slices.
##### 4.4.2.1.2 Description
The Performance of network slice (P~ns~) for eMBB type of network slice is
obtained by summing up UL and DL traffic volumes at N3 interface, on a per
S-NSSAI basis:
{width="6.677083333333333in" height="0.4895833333333333in"}
The final Network Slice EE KPI definition, based on Data Volume, for eMBB type
of slice, would be defined as follows:
{width="6.6930555555555555in" height="0.43819444444444444in"}
The following measurements, defined in TS 28.552 [4], are used:
\- GTP.InDataOctN3UPF.SNSSAI: Number of octets of incoming GTP data packets on
the N3 interface, from (R)AN to UPF), where SNSSAI identifies the S-NSSAI, as
defined in TS 28.552 [4] clause 5.4.1.3;
\- GTP.OutDataOctN3UPF.SNSSAI: Number of octets of outgoing GTP data packets
on the N3 interface, from (R)AN to UPF), where SNSSAI identifies the S-NSSAI,
as defined in TS 28.552 [4] clause 5.4.1.4.
#### 4.4.2.1a Potential solution #1a: Performance of RAN-only network slice
for eMBB
##### 4.4.2.1a.1 Introduction
This potential solution applies to cases where the network slice covers NG-RAN
only, e.g. when a NG-RAN network slice subnet is solely exposed as a network
slice.
In this potential solution, the Performance of network slice (P~ns~) for eMBB
type of network slice is measured at NG-RAN, on a per S-NSSAI basis.
##### 4.4.2.1a.2 Description
The Performance of network slice (P~ns~) for RAN-only eMBB type of network
slice is obtained by summing up UL and DL traffic volumes measured at gNB, on
a per S-NSSAI basis, during an observation period.
For non-split gNBs:
{width="6.6875in" height="0.4909722222222222in"}
where:
\- DRB.PdcpSduVolumeUl._SNSSAI_ is the Data Volume (amount of PDCP SDU bits)
in the uplink delivered to PDCP layer per S-NSSAI - see TS 28.552 [4] clause
5.1.2.1.2.1,
\- DRB.PdcpSduVolumeDl._SNSSAI_ is the Data Volume (amount of PDCP SDU bits)
in the downlink delivered to PDCP layer per S-NSSAI - see TS 28.552 [4] clause
5.1.2.1.1.1.
For split gNBs:
{width="6.692361111111111in" height="0.5152777777777777in"}
where:
\- DRB.F1uPdcpSduVolumeDl._SNSSAI_ is the number of DL PDCP SDU bits sent to
GNB-DU (F1-U interface) per S-NSSAI - see TS 28.552 [4] clause 5.1.3.6.2.3,
\- DRB.F1uPdcpSduVolumeUl._SNSSAI_ is the number of UL PDCP SDU bits entering
the GNB-CU-UP from GNB-DU (F1-U interface) per S-NSSAI - see TS 28.552 [4]
clause 5.1.3.6.2.4,
\- DRB.XnuPdcpSduVolumeDl._SNSSAI_ is the number of DL PDCP SDU bits sent to
external gNB-CU-UP (Xn-U interface) per S-NSSAI - see TS 28.552 [4] clause
5.1.3.6.2.3,
\- DRB.XnuPdcpSduVolumeUl._SNSSAI_ is the number of UL PDCP SDU bits entering
the GNB-CU-UP from external gNB-CU-UP (Xn-U interface) per S-NSSAI - see TS
28.552 [4] clause 5.1.3.6.2.4,
\- DRB.X2uPdcpSduVolumeDl._SNSSAI_ is the number of DL PDCP SDU bits sent to
external eNB (X2-U interface) per S-NSSAI - see TS 28.552 [4] clause
5.1.3.6.2.3,
\- DRB.X2uPdcpSduVolumeUl._SNSSAI_ is the number of UL PDCP SDU bits entering
the GNB-CU-UP from external eNB (X2-U interface) per S-NSSAI - see TS 28.552
[4] clause 5.1.3.6.2.4.
The final Network Slice EE KPI definition, based on Data Volume, for RAN-only
eMBB type of network slice, would be defined as follows:
{width="2.911111111111111in" height="0.5076388888888889in"}
where EC~RANonlyns~ is the energy consumption of the RAN-only network slice
over the same observation period.
NOTE: The definition of EC~RANonlyns~ is FFS in clause 4.8.2.
#### 4.4.2.2 Potential solution #2: Performance of network slice for URLLC
##### 4.4.2.2.1 Introduction {#introduction-10}
This potential solution focuses on the Low Latency (LL) characteristic of the
URLLC type of network slice. The \'Ultra Reliable\' (UR) characteristic of the
URLLC type of network slice is not addressed by this potential solution.
In this potential solution, the Performance of network slice (P~ns~) for URLLC
type of network slice is the inverse of the end-to-end User Plane (UP) latency
of the network slice.
##### 4.4.2.2.2 Description
The Performance of network slice (P~ns~) for URLLC type of network slice is
the inverse of the end-to-end User Plane (UP) latency of the network slice:
{width="3.8229166666666665in" height="0.46875in"}
, where Network Slice Latency is defined as:
{width="5.1125in" height="0.4076388888888889in"}
The final Network Slice EE KPI definition, based on Latency, for URLLC type of
slice, would be defined as follows:
{width="5.666666666666667in" height="0.46875in"}
The following KPIs, defined in TS 28.554 [5], are used to calculate Network
Slice Latency:
\- DelayE2EUlNs: Average e2e uplink delay for a network slice, defined in TS
28.554 [5] clause 6.3.1.8.1 as the average e2e UL packet delay between the PSA
UPF and the UE for a network slice;
\- DelayE2EDlNs: Average e2e downlink delay for a network slice, defined in TS
28.554 [5] clause 6.3.1.8.2 as the average e2e DL packet delay between the PSA
UPF and the UE for a network slice.
#### 4.4.2.2a Potential solution #2a: Performance of network slice for URLLC
##### 4.4.2.2a.1 Introduction
This potential solution focuses on the Low Latency (LL) characteristic of the
URLLC type of network slice. The \'Ultra Reliable\' (UR) characteristic of the
URLLC type of network slice is not addressed by this potential solution.
In this potential solution, data volume and latency are two factors considered
for evaluating the performance of network slice, i.e. the performance of
network slice (P~ns~) for URLLC type of network slice is the sum of UL and DL
traffic data volumes multiplied by the inverse of the end-to-end User Plane
(UP) latency of the network slice. This solution is applicable for the cases
where, for example, the URLLC network slice is deployed and operators want to
evaluate the Energy Efficiency of the slice at different periods of time such
as the busy hours in the morning and the idle hours in the mid night, in which
both the latency performance and the data volume performance can vary.
##### 4.4.2.2a.2 Description
The performance of network slice (P~ns~) for URLLC type of network slice is
the sum of UL and DL traffic volumes at N3 interface or N9 interface of the
PSA UPF on a per S-NSSAI basis multiplied by the inverse of the end-to-end
User Plane (UP) latency of the network slice:
{width="4.389583333333333in" height="0.39375in"}
where:
{width="5.977777777777778in" height="0.32083333333333336in"}
{width="5.975694444444445in" height="0.3034722222222222in"}
w~N3~ and w~N9~ are the weight for DV~N3~ and DV~N9~ respectively. w~N3~ and
w~N9~ can be decided according to the deployment of PSA UPF. For example, in
cases where PSA UPF has only N9 tunnels, such as the ones described in TS
23.501 [2] clause 5.6.4 and clause 5.33.2.2, w~N3~ can be set to 0 and W~N9~
can be set to 1, so that only N9 interface is considered. In the cases where
PSA UPF has only N3 tunnels, w~N3~ can be set to 1 and w~N9~ can be set to 0,
so that only N3 interface is considered.
The final Network Slice EE KPI definition, based on both Latency and Data
Volume (DV), would be defined as follows:
{width="6.057638888888889in" height="0.4597222222222222in"}
The following measurements, defined in TS 28.552 [4], are used:
\- GTP.InDataOctN3UPF.SNSSAI: Number of octets of incoming GTP data packets on
the N3 interface, from (R)AN to UPF), where SNSSAI identifies the S-NSSAI, as
defined in TS 28.552 [4] clause 5.4.1.3;
\- GTP.OutDataOctN3UPF.SNSSAI: Number of octets of outgoing GTP data packets
on the N3 interface, from (R)AN to UPF), where SNSSAI identifies the S-NSSAI,
as defined in TS 28.552 [4] clause 5.4.1.4;
\- GTP.InDataOctN9PsaUpf._SNSSAI_ : number of octets of GTP data PDUs received
on the N9 interface by the PSA UPF per S-NSSAI, where SNSSAI identifies the
S-NSSAI, as defined in TS 28.552 [4] clause 5.4.4.2.3;
\- GTP.OutDataOctN9PsaUpf._SNSSAI,_ number of octets of outgoing GTP data PDUs
sent on the N9 interface by the PSA UPF per S-NSSAI, where SNSSAI identifies
the S-NSSAI, as defined in TS 28.552 [4] clause 5.4.4.2.4.
NOTE: In cases of redundant transmission paths for high reliability as
described in TS 23.501 [2] clause 5.33.2.2, it is expected that only one of
the multiple N3/N9 tunnels for redundant transmission connecting to PSA UPF is
taken into account. The main reason for this is that, if the traffic is
counted more than once, it will increase artificially the
_EE~URLLC,DV,Latency~_ KPI.
The following KPIs, defined in TS 28.554 [5], are used to calculate Network
Slice Latency:
\- DelayE2EUlNs: Average e2e uplink delay for a network slice, defined in TS
28.554 [5] clause 6.3.1.8.1 as the average e2e UL packet delay between the PSA
UPF and the UE for a network slice;
\- DelayE2EDlNs: Average e2e downlink delay for a network slice, defined in TS
28.554 [5] clause 6.3.1.8.2 as the average e2e DL packet delay between the PSA
UPF and the UE for a network slice.
#### 4.4.2.3 Potential solution #3: Performance of network slice for MIoT
##### 4.4.2.3.1 Solution based on the number of registered subscribers
###### 4.4.2.3.1.1 Introduction {#introduction-11}
This potential solution focuses on the number of registered subscribers to the
MIoT type of network slice. It does not consider the number of active UEs.
In this potential solution, the Performance of network slice (P~ns~) for MIoT
type of network slice is obtained by the maximum number of registered
subscribers per AMF, on a per S-NSSAI basis.
###### 4.4.2.3.1.2 Description
The Performance (Pns) for MIoT type of network slice, based on the maximum
number of registered subscribers per AMF, on a per S-NSSAI basis, is defined
as:
{width="4.78125in" height="0.5520833333333334in"}
The following measurement, defined in TS 28.552 [4], is used:
\- RM.RegisteredSubNbrMax.SNSSAI: maximum number of registered state
subscribers per AMF, where SNSSAI identifies the S-NSSAI, as defined in TS
28.552 [4] clause 5.2.1.2.
The final Network Slice EE KPI definition, based on the maximum number of
registered subscribers, for MIoT type of slice, would be defined as follows:
{width="5.041666666666667in" height="0.4895833333333333in"}
##### 4.4.2.3.2 Solution based on the number of active UEs
###### 4.4.2.3.2.1 Introduction {#introduction-12}
This potential solution focuses on the number of active UEs to the MIoT type
of network slice.
In this potential solution, the Performance of network slice (P~ns~) for MIoT
type of network slice is obtained by summing up the number of active UEs in
the DL per cell and the number of active UEs in the UL per cell of the
considered network elements over the measurement period, on a per S-NSSAI
basis. The samples are aggregated at the NG-RAN node level.
###### 4.4.2.3.2.2 Description
The Performance of network slice (P~ns~) for MIoT type of network slice, based
on the number of active UEs in the DL per cell and the number of active UEs in
the UL per cell, on a per S-NSSAI basis, is defined as:
{width="6.677083333333333in" height="0.5in"}
The following measurements, defined in TS 28.552 [4], are used:
\- DRB.MeanActiveUeDl._SNSSAI,_ where _SNSSAI_ identifies the S-NSSAI, as
defined in TS 28.552 [4] clause 5.1.1.23.1.
\- DRB.MeanActiveUeUl._SNSSAI,_ where _SNSSAI_ identifies the S-NSSAI, as
defined in TS 28.552 [4] clause 5.1.1.23.3.
The final Network Slice EE KPI definition, based on summing up the number of
active UEs in the DL per cell and the number of active UEs in the UL per cell
of the considered network elements over the measurement period, for MIoT type
of slice, would be defined as follows:
{width="6.6875in" height="0.4166666666666667in"}
### 4.4.3 Conclusion - Impact on normative work
The definitions of:
\- Generic network slice EE KPI - see clause 4.4.1,
\- EE KPI for eMBB based on Data Volume (𝐸𝐸~𝑒𝑀𝐵𝐵,𝐷𝑉~) - see clause 4.4.2.1.2,
\- EE KPI for RAN-only eMBB based on Data Volume (EE~RANonlyeMBB,DV~) -- see
clause 4.4.2.1a.2,
\- EE KPI for URLLC based on network slice latency (EE~URLLC,Latency~) - see
clause 4.4.2.2.2,
\- EE KPI for URLLC based on network slice data volume and latency
(EE~URLLC,DV,Latency~) -- see clause 4.4.2.2a.2,
\- EE KPI for MIoT based on the maximum number of registered subscribers
(EE~MIoT,RegSubs~) - see clause 4.4.2.3.1.2,
\- EE KPI for MIoT based on the mean number of active UEs (EE~MIoT,ActiveUEs~)
- see clause 4.4.2.3.2.2,
have been introduced in clause 6.7.2 of TS 28.554 [5].
## 4.5 Key Issue #5: 5GC NF Energy Consumption estimation
### 4.5.1 Description
In Release 16, the Energy Consumption (EC), as defined in TS 28.552 [4] clause
5.1.1.19, is defined for Physical Network Functions (PNF) only, and associated
to corresponding ManagedElement IOC instances.
In case of 5GC Network Functions (NF) composed of Virtualized Network
Functions (VNF) running on a Network Function Virtualization Infrastructure
(NFVI), it is expected to be able to measure the energy consumption of each
VNF separately, aggregate it at the Network Function level and associate it to
corresponding ManagedFunction IOC instances.
However, in a NFVI, the finest grain at which Energy Consumption can be
measured is the NFVI Node, making it impossible to measure the energy consumed
by each and every VNF separately given that a) a VNF can run on more than one
NFVI node and b) a NFVI node can support more than one VNF.
As a workaround, it is proposed to estimate the Energy Consumption of each and
every VNF instance composing Network Functions, aggregate it at the Network
Function level and associate it to the ManagedFunction IOC instance
representing the management view of the Network Function.
### 4.5.2 Potential solutions
#### 4.5.2.1 Potential solution #1: 5GC NF EC estimation based on relative
vCPU usage
##### 4.5.2.1.1 Introduction {#introduction-13}
In TS 28.622 [8] clause 4.3.4.2, the ManagedFunction IOC attribute
\'vnfParametersList\' lists the VNF instance(s) forming the ManagedFunction.
This ManagedFunction IOC relation to VNF class is also represented in [9] as
follows:
{width="2.1354166666666665in" height="1.7604166666666667in"}
Figure 4.5.2.1.1-1: Managed Function-VNF relationship
ETSI GR NFV-IFA 015 [9] states that:
\- a VNF is composed of 1-to-many VNF Component(s) (VNFC) -- see diagram
below.
\- a VNFC runs over a single VirtualisationContainer -- see diagram below.
{width="1.7416666666666667in" height="3.283333333333333in"}
Figure 4.5.2.1.1-2: VNF-VNFC-Virtualisation Container relationship
where a Virtualisation Container is defined in ETSI GR NFV 003 [10] as
follows:
\"
_partition of a compute node that provides an isolated virtualised computation
environment._
_NOTE: Examples of virtualisation container includes virtual machine and OS
container._
\".
Hence, a Virtualisation Container runs on a single NFVI Compute Node. A NFVI
Compute Node may support 1-to-many Virtualisation Container(s).
To summarize:
\- A network function (e.g. SMF in 5GC), represented from the management point
of view by a ManagedFunction IOC instance, when realized by software running
on NFVI, is composed of 1-to-many VNF instances, where each VNF instance
pertains to one and only one Network Function (see NOTE 1);
\- Each VNF instance may be composed of 1-to-many VNFC instances, where each
VNFC instance pertains to one and only one VNF instance;
\- Each VNFC instance runs on one and only one Virtualisation Container, which
is a partition of a NFVI Compute Node;
\- Each VNFC instance utilizes virtual CPUs of one single NFVI Compute Node;
\- Each NFVI Compute Node hosts zero-to-many VNFC instances.
NOTE 1: How a 5GC NF is composed of VNFs is implementation specific. In
particular, whether a VNF instance is shared or not between more than one NF
is implementation specific. Hence, the case where a VNF instance is shared
between multiple NFs is out of scope of the present potential solution.
Given that it is impossible to measure the energy consumed by each and every
VNFC instance separately, aggregate it at the VNF instance level and then at
the network function (e.g. SMF) level, it is proposed here to estimate VNFC
instance energy consumption relatively to the NFVI Compute Node (on which it
runs) energy consumption, in the same proportion as the VNFC instance virtual
CPU usage relatively to the NFVI Compute Node (on which it runs) CPU usage
during the same measurement period. This proposed solution does not consider
NFVI Storage Nodes.
Here below is an illustration of the proposed solution on a virtualized SMF
instance:
1\. Consider SMF-1 is a 5GC Network Function instance;
2\. Consider SMF-1 is composed of 2 VNF instances:
\- VNF-11 (e.g. a load balancer), and
\- VNF-12 (e.g. where the SMF logic is running);
3\. Consider VNF-11 is composed of 2 VNFC instances (output from network
planning):
\- VNFC-111 (running on NVFI Node X), and
\- VNFC-112 (running on NFVI Node Y);
4\. Consider VNF-12 is composed of 2 VNFC instances (e.g. output from network
dimensioning):
\- VNFC-121 (running on NFVI Node Z), and
\- VNFC-122 (running on NFVI Node T);
5\. Consider NFVI Node X hosts 3 vCPU instances:
\- X-1,
\- X-2, and
\- X-3;
6\. Consider NFVI Node Y hosts 4 vCPU instances:
\- Y-1,
\- Y-2,
\- Y-3, and
\- Y-4;
7\. Suppose that, during a given time period:
7.1 VNFC-111 has used 30 % of the vCPU X-1 of NFVI Node X (calculated by VNFM
based on input data from the VIM in charge of NFVI Node X),
7.2. VNFC-112 has used 35 % of the vCPU Y-1 of NFVI Node Y (calculated by VNFM
based on input data from the VIM in charge of NFVI Node Y),
7.3. VNFC-121 has used 20 % of the vCPU X-2 of NFVI Node X (calculated by VNFM
based on input data from the VIM in charge of NFVI Node X),
7.4. VNFC-122 has used 60 % of the vCPU Y-2 of NFVI Node Y (calculated by VNFM
based on input data from the VIM in charge of NFVI Node Y);
7.5. vCPU instance X-3 has been used by a VNFC instance from another NF (vCPU
usage = 50 %),
7.6 vCPU instances Y-3 and Y-4 have been used by a VNFC instance from yet
another NF (vCPU usage = 25 % and 45 % respectively);
{width="5.375in" height="3.0833333333333335in"}
Figure 4.5.2.1.1-3: SMF energy consumption estimation
8\. Based on the measurement obtained at step 7.1, it can be estimated that
VNFC-111 has consumed 30% (= 30 / (30 + 20 + 50)) of the energy consumed by
NFVI Node X during the same time period;
9\. Based on the measurement obtained at step 7.2, it can be estimated that
VNFC-112 has consumed 21% (= 35 / (35 + 60 + 25 + 45)) of the energy consumed
by NFVI Node Y during the same time period;
10\. Based on the measurement obtained at step 7.3, it can be estimated that
VNFC-121 has consumed 20% (= 20 / (30 + 20 + 50)) of the energy consumed by
NFVI Node X during the same time period;
11\. Based on the measurement obtained at step 7.4, it can be estimated that
VNFC-122 has consumed 55% (= 60 / (35 + 60 + 25 + 45)) of the energy consumed
by NFVI Node Y during the same time period;
12\. The energy consumed by NFVI Nodes X and Y during the same time period,
named EC-X and EC-Y respectively, are measured separately;;
13\. Finally, the energy consumed by SMF-1 can be estimated by the sum of:
a. 50 % (= 30 + 20) of EC-X,
b. 76 % (= 21 + 55) of EC-Y.
14\. End.
NOTE 2: In the above procedure, it is assumed that the multiple vCPUs located
within the same NVFI Node are identical.
##### 4.5.2.1.2 Description
{width="6.535416666666666in" height="6.136805555555555in"}
Figure 4.5.2.1.2-1
Pre-condition #1: the management function in charge of estimating the energy
consumption of the 5G core network knows, per NF, on which NFVI node(s), its
constituent VNF/VNFC instances run.
Pre-condition #2: NFVI nodes are equipped with embedded or external sensors
(see ETSI ES 202 336-12).
1\. The management function in charge of estimating the energy consumption of
the 5G core network collects Power, Energy and Environmental (PEE)
measurements from NFVI nodes (see ETSI ES 202 336-12), during a given period
of time. The procedure described here is independent from whether the NFVI
nodes are equipped with embedded sensors or external sensors (see ETSI ES 202
336-12);
2\. The management function in charge of estimating the energy consumption of
the 5G core network subscribes to PM notifications towards the VNFM, so as to
receive notifications about the vCPU mean usage of each VNF/VNFC instance of
the 5GC NF (see ETSI GS NFV IFA 008 [14] clause 7.4.4) for a given period of
time;
3\. The management function in charge of estimating the energy consumption of
the 5G core network requests the VNFM to create a PM job to collect the vCPU
usage of each VNF/VNFC instance of the 5GC NF (see ETSI GS NFV IFA 008 [14]
clause 7.4.2);
4\. The VNFM subscribes to PM notifications towards the VIM, so as to receive
notifications about the vCPU usage of the virtual compute instances on which
each VNF/VNFC instance runs (see ETSI GS NFV IFA 006 [20] clause 7.7.5);
5\. The VNFM requests the VIM to create a PM job to collect the vCPU usage of
the virtual compute instances on which each VNF/VNFC instance runs and whose
id\'s are provided as input parameters of the CreatePMJob request (see ETSI GS
NFV IFA 006 [20] clause 7.7.2);
6\. The VIM gets, at pre-defined intervals, the process utilization compute
metric values from all CPU Cores of the NFVI (see ETSI NFV TST 008 [14] --
clause 6.6). Whether the VIM gets this data in pull mode or in push mode is
out of scope of the present document;
7\. The VIM aggregates them per virtual compute resource and calculates their
arithmetic mean per virtual compute resource; this per virtual compute
resource arithmetic mean of process utilization compute metric values is
called VCpuUsageMean (see ETSI GS NFV IFA 027 clause 7.1.2);
8\. The VIM notifies the VNFM about VCpuUsageMean measurement(s) for the
virtual compute instance(s) (see ETSI GS NFV IFA 006 [20] clause 7.7.6);
9\. The VNFM maps the received VCpuUsageMean measurement(s) from virtual
compute instances to the VNF/VNFC instance(s);
10\. The VNFM generates the measurement for the subject VNF/VNFC instances by
assigning the value of the multiple VCpuUsageMean measurements received (see
ETSI GS NFV IFA 027 [18] clause 7.2.2);
11\. The VNFM notifies the Management Function in charge of estimating the 5GC
NF EC, about the average VCpuUsageMean of each virtual compute instance used
by the VNF/VNFC instance(s) which constitute the NF (see ETSI GS NFV IFA 008
[14] clause 7.4.5);
12\. NF energy consumption can be now estimated as follows:
\- The energy consumed by the NF is the sum of the energy consumed by all its
constituent VNF/VNFC instances.
\- For each VNF/VNFC instance, its estimated energy consumption is a
proportion of the NFVI node energy consumption (see step 1 above) on which it
runs.
\- This proportion is equal to the vCPU mean usage of the VNF/VNFC instance
relatively to the sum of the vCPU mean usage of all VNF/VNFC instances running
on the same NFVI node.
In this potential solution #1, the Energy Consumption (EC) of a 5G Network
Function (NF) is a KPI obtained by summing up the EC of PNF(s) and VNF
instance(s) that compose the NF. The energy consumption of a PNF is measured
at the corresponding ManagedElement level (see TS 28.552 [4] clause 5.1.1.19).
The energy consumption of a VNF instance is the sum of the energy consumption
of all its constituent VNF Component instance(s) (VNFC). The energy
consumption of a VNFC instance is equal to the energy consumption of the
virtual compute resource on which it runs.
The energy consumption of a virtual compute resource X is estimated as a
proportion of the energy consumption of the NFVI node on which the virtual
compute resource runs, this proportion being obtained by dividing the vCPU
mean usage of the virtual compute resource X, by the sum of the vCPU mean
usage of all virtual compute resources running on the same NFVI Node as X, as
defined by the equation below:
{width="5.78125in" height="0.4076388888888889in"}
where:
\- VCpuUsageMean is the mean vCPU usage of the virtual compute resource during
the observation period, provided by NFV MANO,
\- {width="1.9131944444444444in" height="0.4152777777777778in"} is sum of the
vCPU mean usage of all virtual compute resources running on the same NFVI Node
during the same observation period, all separately provided by NFV MANO (see
clause 7.1.2 of [A],
\- EC~NFVINode,measured~ is the measured energy consumption of the NFVI node
on which the virtual compute resource runs, during the same observation
period, as per ETSI ES 202 336-12 [19].
NOTE: the above definition of EC~virtualCompute,estimated~ offers a coarse-
grained estimation of the energy consumed by a virtual compute resource, based
on its vCPU mean usage (provided by VIM to VNFM) only. For a more accurate
estimation, more factors need to be considered such as e.g. (this list is not
exhaustive) the number of vCPUs used by the virtual compute resource, the
type/architecture of physical CPUs of the NFVI Node, CPU clock rate, etc. A
more accurate estimation could be obtained if the NFV MANO system could
provide 3GPP management system with such information. In addition, the
percentage of physical CPU allocated to each virtual compute resource would be
needed; however, this measurement is not defined yet in ETSI NFV IFA 027
v4.0.2 [18].
As each VNFC instance is hosted by a single virtual compute resource, the
estimated energy consumption of a VNF instance is equal to the estimated
energy consumption of the virtual compute resource on which it runs, as
defined here below:
{width="5.040277777777778in" height="0.29305555555555557in"}
Based on this, the estimated energy consumption of a VNF instance is equal to
the sum of the energy consumption of all constituent VNFC instances, as
defined by the equation below:
{width="5.040277777777778in" height="0.5694444444444444in"}
And the estimated energy consumption of a Network Function is defined as the
sum of the measured energy consumption of all its constituent PNF instances
and the estimated energy consumption of all its constituent VNF instances, as
defined by the equation below:
{width="5.040277777777778in" height="0.5694444444444444in"}
The unit of this KPI is J.
In this potential solution #1, it is assumed that:
\- the energy consumption of each NFVI node can be measured (see ETSI ES 202
336-12 [19]),
\- the energy consumption of VNF / VNFC instances is not measurable hence it
should be estimated,
\- each VNFC instance pertains to one and only one VNF instance (see ETSI GR
NFV-IFA 015 [9]),
\- each VNF instance pertains to one and only one Network Function (see TS
28.622 [8] clause 4.3.4.2),
\- there is a 1-to-1 relationship between VNFC instance and virtual compute
resource (see ETSI GR NFV‑IFA 015 [9]),
\- there is a 1-to-many relationship between virtual compute resource and
vCPU,
\- there is a 1-to-many relationship between vCPU and CPU Core,
\- there is a 1-to-many relationship between NFVI Node and Physical CPU,
\- there is a 1-to-many relationship between Physical CPU and CPU Core,
\- all CPU cores allocated to a vCPU run on the same Physical CPU,
\- VNF / VNFC instances are not containerized,
as illustrated in the figure below.
{width="6.684722222222222in" height="3.4506944444444443in"}
Figure 4.5.2-1
### 4.5.3 Conclusion - Impact on normative work
Based on the potential solution #1 proposing a KPI definition and a
measurement method for an estimated energy consumption of a 5G NF, the 5G NF
Energy Consumption KPI definition is introduced in TS 28.554 [5] clause
6.7.3.1.
## 4.6 Key Issue #6: Energy saving in 5G NR based on service type
### 4.6.1 Description
Traditional energy saving (ES) solutions include centralized energy saving
solution and distributed energy saving solution. TS 28.310 [12] clause 6.2.1
gives an overview about the ES solutions for the scenarios where the capacity
booster cell is fully or partially overlaid by the candidate cell(s). The cell
activation/deactivation decision is typically based on the load information of
the related cells and the energy saving policies (like the allowed ES time
period, ES candidate cell relations) without special considering information
such as service type of cell load, etc. Since the 5G system is expected to be
able to provide support for a variety of different communication services such
as eMBB services, URLLC services, MIoT services and V2X services, etc., the
content of different communication services needs to be considered for cell
activation/deactivation decision to reach a more efficient ES.
This key issue studies whether and how to support a balance between ES and SLA
assurance for NG-RAN ES based on service types. For example, if 3GPP
management system only considers ES from traditional cell load point of view,
then it may not take good care of SLA assurance. If 3GPP management system
takes too much care about the SLA aspect, the ES aspect may not be fulfilled
very well, therefore, there needs a balance between ES and SLA assurance. In
particular, this KI addresses:
\- Which kind of service content information is needed for ES? For example, ES
may be needed for the services which consume more energy and may not be needed
for others service consuming less energy.
\- How does 3GPP management system know about the service content information
of the ES related cells?
\- How does 3GPP management system use the service content information of the
ES related cells to achieve a balance of ES and SLA assurance?
### 4.6.2 Potential solutions
#### 4.6.2.1 Potential solution #1: Energy saving in 5G NR based on service
related information
##### 4.6.2.1.1 Introduction {#introduction-14}
The ES cell activation/deactivation decision is typically based on the load
information of the related cells and the energy saving policies (like the
allowed ES time period, ES candidate cell relations) without considering
information such as service type of cell traffic, or tenant information, etc.
In this potential solution, ES cell activation/deactivation decision takes
service related information as one kind of energy saving policies.
##### 4.6.2.1.2 Description
This potential solution is based on the following information:
The service related information may include service characteristic information
or tenant information of service.
The service characteristic information may include service type information,
service name information, and service priority information:
\- The service type information indicates the type of service that is being
provided via traffic carried by cells under observation, it can be decided by
operator\'s policy, for example, one kind of service type may be eMBB, URLLC,
mIoT, or V2X etc, or another kind of service type may be voice, video,
industrial control, web browsing, or autonomous driving;
\- The service name may be human-readable name according to operator\'s
policy;
\- The service priority information may be, for example, high priority, medium
priority, or low priority.
The tenant information of service may include tenant type information, tenant
name information, tenant priority information:
\- The tenant type may be, for example, Business to Consumer (B2C) tenant,
Business to Business (B2B) tenant, Business to Household (B2H) tenant,
Business to Business to Everything (B2B2X) tenant;
\- The tenant name may be human-readable name according to operator\'s policy;
\- The tenant priority information may be, for example, high priority, medium
priority, or low priority.
The service related information can be obtained from UEs, 5GC NFs (such as
UPFs or SMFs) or operators\' information provisioned in 3GPP management
system.
Based on the load information of the related cells and the service related
information of the area under consideration, 3GPP management system decides ES
actions for the corresponding cells. 3GPP management system may use different
weight values for the factors that can influence the ES actions - load
information of the related cells and the service related information of the
analysis area.
NOTE: How the weight values are assigned by the operator is not subject to
standardization.
### 4.6.3 Conclusion - Impact on normative work
#### 4.6.3.1 Conclusion for potential solution #1
ES activation procedure and ES deactivation procedure may be initiated in
different ways as below:
\- Centralized ES solution:
\- Consumer of centralized MnS for ES requests the producer to configure ES
procedure trigger points (e.g. service characteristic information or tenant
information of service, cell traffic load crossing threshold), monitoring the
traffic situation of capacity booster cells and candidate cells.
\- Consumer of centralized MnS for ES requests the producer to instruct the
capacity booster cells to move from notEnergySaving state into energySaving
state (e.g. according to some traffic performance measurements which cross
below some load thresholds and service characteristic information or tenant
information of service)
\- Consumer of centralized MnS for ES requests the producer to instruct the
capacity booster cells to move from energySaving state into notEnergySaving
state (e.g. according to some traffic performance measurements which cross
above some load thresholds and service characteristic information or tenant
information of service)
\- Distributed ES solution
\- NF provisioning MnS consumer requests the producer to set policies and
conditions when these policies/conditions are met, the capacity booster cells
will move from notEnergySaving state into energySaving state. Examples for
policies/conditions are: A time period, during which energy saving is or not
allowed; load thresholds to be considered for energy saving decisions; which
of the RATs should be considered with priority in Inter-RAT scenario; service
characteristic information or tenant information of service.
\- Based on these policies/conditions and further information - e.g. the
operational status of the candidate cell to take over the coverage- the NG-RAN
node controls the energy saving procedures (ES activation procedure and ES
deactivation procedure) in the network nodes. The network operator is informed
about configuration changes which are triggered by the NG-RAN nodes. For
example, the gNB owning the capacity booster cells moves itself to/from
energySaving state autonomously and sends notifications of configuration
changes to operator.
Consequently, it is proposed to update clause 6.2 solutions for energy saving
in TS 28.310 [12] to introduce the potential solution #1, which considers
service characteristic information or tenant information of service for energy
saving.
## 4.7 Key Issue #7: Area based energy saving
### 4.7.1 Description
Traditional energy saving (ES) solutions include centralized energy saving
solution and distributed energy saving solution. These solutions are mainly
targeting for the scenarios illustrated as Figure 5.1.3.2.1-1 NR capacity
booster cell partially overlaid by candidate cells and Figure 5.1.3.3-1 gNB
capacity booster cell fully overlaid by candidate cell(s), see TS 28.310 [12].
No specific consideration for the case of area based ES which means there are
multiple capacity booster cells in the area to consider ES at the same time as
a whole so far.
Considering ES from an area aspect would be beneficial for improving ES
efficiency and effect. For example, see figure 4.7.1-1, separate cell
activation/deactivation decisions for capacity cell B1, B2 and B3 may lead to
Ping-Pong activation/deactivation effect on the related cells (i.e. some
capacity cells and coverage cells) in an area in some special cases.
{width="5.40625in" height="2.75in"}
Figure 4.7.1-1: Example of area based energy saving
This key issue studies whether and how to support an area based ES which means
there are multiple capacity booster cells in the geographical area to consider
ES as a whole. In particular, this KI addresses:
\- How does 3GPP management system divide the managed network into appropriate
areas? For example, suppose there are 1 000 capacity booster cells in the
whole managed network, the 3GPP management system needs to divide the 1 000
capacity booster cells into different geographical areas, and in each of the
allocated ES area there are corresponding capacity booster cells and coverage
cells to improve ES efficiency and effect.
\- How does 3GPP management system decide the activation/deactivation on the
related cells inside each ES area?
### 4.7.2 Potential solutions
#### 4.7.2.1 Potential solution #1: Centralized energy saving for RAN domain
area
##### 4.7.2.1.1 Introduction {#introduction-15}
In this potential solution, 3GPP management system provides centralized ES for
RAN domain area.
##### 4.7.2.1.2 Description
Figure 4.7.2.1.2-1 describes the 3GPP management system provides centralized
ES for RAN domain area:
{width="5.402083333333334in" height="5.2340277777777775in"}
Figure 4.7.2.1.2-1: 3GPP management system provides centralized ES for RAN
domain area
In this figure:
\- RAN Network Function (NF) corresponds to RAN domain area in which there are
multiple capacity booster cells and coverage cells which provide basic
coverage for the whole area.
\- To provide centralized ES for RAN domain area, 3GPP management system
performs the following functionalities:
\- **Monitoring** : 3GPP management system, for ES purpose, collects the
information of the capacity booster cells and coverage cells inside the RAN
domain area, which may include current load information, historical load
information which was logged, cell priority information, or traffic service
type information of the capacity booster cells and coverage cells. Other than
traditional ES solutions which consider the capacity booster cells and their
first-level (direct) neighboring cells as candidate cells for ES, to provide
centralized ES for RAN domain area, 3GPP management system considers capacity
booster cells with their multiple-level neighboring cells as candidate cells
for ES. The first-level neighboring cell is the direct neighboring cell of
source cell, the second-level neighboring cell is the direct neighboring cell
of the first-level neighboring cell of source cell, etc.
\- **Analysis and Decision** : For capacity booster cells and coverage cells
in the area, based on the monitoring information of current load information,
historical load information, cell priority information, or traffic service
type information of those cells, 3GPP management system makes the analysis and
decision for ES based on the full view of the corresponding cells in the area.
> \- For example, neighboring cells of capacity booster cell B3 are cell B2,
> A12, A20, A21, A30 and A31. A21 is first-level neighbor of B3. A20, A31 and
> B2 are first-level neighbours of A21 and are therefore second-level
> neighbours of B3. A30 and A12 are third-level neighbours of B3. Based on the
> historical load information, cell priorities, or traffic service types of
> those neighboring cells B2, A12, A20, A21, A30 and A31, 3GPP management
> system may determine the ES candidate cells of B3 are cells B2, A20, A21 and
> A31. At moment T1, the capacity booster cell B3 is in low load state and may
> be qualified for 3GPP management system to determine to enter into energy
> saving state. However, according to analysis of the historical load
> information of the candidate capacity booster cell B2, 3GPP management
> system concludes that cell B2 will also be in a low load state shortly after
> T1. In this case, 3GPP management system determines whether or not to allow
> energy saving for cell B2 and cell B3 based on the analysis of historical
> load information, current load status, priority or traffic service type of
> corresponding candidate cells A20, A21 and A31. As an example, in case the
> 3GPP management system estimates that, according to historical load
> information of cell A21, the load of cell A21 will soon increase high at
> moment T3 which is shorter after moment T2 which is between moment T1 and
> T3, the decision from the 3GPP management system regarding the allowing
> energy saving of cell B2 and B3 may vary including one of the following
> cases:
1) Only cell B2 is allowed to enter into the energy saving state and no energy
saving of cell B3. In this case, cell B3, A20, or A31 provides network
services for some UEs from the high load cell A21 at T3.
2) Only cell B3 is allowed to enter into energy saving state. In this case,
cell B2, A20 or A31 provides network services for some UEs from the high load
cell A21 at T3.
3) Both cell B2 and cell B3 enter into energy saving state. In this case, cell
A20 or A31 provides network services for some UEs from the high load cell A21
at T3.
4) Both cell B2 and cell B3 do not enter into the energy saving state. In this
case, cell B2 and cell B3 need to provide network services for some UEs from
the high load cell A21 at T3.
\- **Execution** : 3GPP management system decides the activation and/or
deactivation on the related cells inside RAN domain area. For example, see
figure 4.7.2.1.2-1, coordinated cell activation/deactivation decisions made
from 3GPP management system for capacity cell B1, B2 and B3 avoids Ping-Pong
ES activation/deactivation effect on the related cells (i.e. some capacity
cells of B1, B2 and B3 and corresponding coverage cells) in the RAN domain
area.
\- **Evaluation** : 3GPP management system evaluates whether the ES actions
have been optimized, and may apply further ES management actions.
By introducing AI (Artificial Intelligence) **technology** , 3GPP management
system can provide centralized ES for RAN domain area with following
improvements while keeping KPIs (e.g. RRC connections setup success rate,
E-RAB setup success rate, Handover success rate, UE throughput) stable:
\- ES in more areas: ES can be applied to more areas in a network depending on
various situations, more cells can be decided as candidate ES cells.
\- ES in more accurate time periods: based on historical traffic data and
predicted traffic data, more accurate time periods for cell energy saving can
be decided.
Figure 4.7.2.1.2-2, as an example, shows 3GPP management system providing
additional ES periods with adaptive AI ES threshold setting comparing with
manual ES threshold setting:
{width="5.98125in" height="3.0868055555555554in"}
Figure 4.7.2.1.2-2: Additional ES periods by adaptive ES threshold setting
with AI
In this figure:
With AI technology, 3GPP management system can set different ES thresholds for
different cells in the ES targeting area adaptively. Using cell PRB usage as
an example for traffic load threshold for ES, comparing with manual PRB usage
threshold setting, additional ES time periods, as the result of more accurate
PRB usage threshold setting from AI, can be identified to save more energy for
the cells while keeping basic KPIs stable for SLA assurance.
#### 4.7.2.2 Potential solution #2: Area based energy efficiency improvement
##### 4.7.2.2.1 Introduction {#introduction-16}
The potential solution focuses on area based energy saving to improve the
energy efficiency of the network.
##### 4.7.2.2.2 Description
The energy efficiency values of different networks may behave quite
differently and are not comparable because of the different wireless network
characteristics, e.g. the traffic model (dense urban, urban, sub-urban,
rural), user distribution, service type and the climate zones. However, the
energy efficiency values of cells which run under common or similar conditions
could be considered to be comparable. In order to improve the energy
efficiency of the network one of the effective solution is to define area
based energy efficiency management groups.
An area based energy efficiency management group is a number of cells/nodes in
a certain area. Furthermore, the cells/nodes in the group run under common or
similar conditions such as traffic model, service type, etc. For example the
cells/nodes in the group are the cells/nodes in a dense urban district in a
city with reqired service type, Massive MIMO scenario and updated network
equipments. In the area based energy efficiency management group the EE of all
of the cells/nodes will be collected and the average EE value of all of the
cells will be calculated as a reference EE value. By comparing the EE values
of all cells the cells with lower EE could be recognized and the EE of these
cells will be improved.
In an energy efficiency management group the centralized energy saving process
is performed：
\- Monitoring: The management system collects the energy efficiency parameters
of all of the cells in the energy efficiency management group, which may
include the performance information, such as DV and EC. And then calculate the
energy efficiency values of all of the cells and the reference EE value of the
energy efficiency management group;
\- Analysis: The management system analyzes the energy efficiency of all of
the cells in the energy efficiency management group, and sort all of the cells
according to the EE values. Tell out and distinguish the lower EE value cells
by setting a shreshold (e.g. the reference EE value) which is predetermined.
For the lower EE value cells do the root cause analysis according to traffic
load, energy consumption, service types, and the equipment of the network. And
give the recommendations for improving the energy efficiency;
\- Decision: According to the recommadations, the management system performs
the solution evaluation and determination, and decides the most efficient
energy saving improvement policies for the lower EE KPI cells;
\- Execution: The management system executes the energy saving policies for
the lower EE value cells;
\- Evaluation: The management system evaluates whether the EE KPI of the lower
EE KPI cells has been optimized, and the new reference EE value of the energy
efficiency management group will be introduced.
### 4.7.3 Conclusion - Impact on normative work
#### 4.7.3.1 Conclusion for potential solution #1
To provide centralized ES for RAN domain area, 3GPP management system performs
the functionalities as monitoring, analysis, decision, execution and
evaluation. With AI technology, 3GPP management system can provide more
efficient ES for RAN domain area while keeping basic KPIs stable for SLA
assurance.
Consequently, it is proposed to introduce the potential solution #1 which with
AI technology in further normative work for Rel-18.
## 4.8 Key Issue #8: Network slice energy consumption
### 4.8.1 Description
Clause 4.4 of the present document proposes a generic network slice EE KPI,
defined as \'Network Slice Performance\' divided by \'Network Slice Energy
Consumption\'. Potential solutions for defining \'Network Slice Performance\'
are provided in clause 4.4.2.
The present key issue focuses on defining \'Network Slice Energy
Consumption\'.
### 4.8.2 Potential solutions
#### 4.8.2.1 Potential solution #1: Sum of participating NF EC\'s
##### 4.8.2.1.1 Introduction {#introduction-17}
Given that a network slice may be composed of a RAN network slice subnet, a
Transport Network (TN) network slice subnet and a 5GC network slice subnet,
they all participate to the energy consumption of the network slice.
NOTE 1: The definition and way to measure the energy consumption of the TN
segment is not in the scope of the present document.
##### 4.8.2.1.2 Description
This potential solution is based on the following principles:
\- In case a Network Function (NF) or a gNB is composed of Physical Network
Functions (PNF), clause 5.1.1.19.3 (PNF Energy consumption) of TS 28.552 [4]
applies. The 3GPP management system responsible for the management of the NF
can collect PNF Energy Consumption measurement data from all PNFs in the NF.
This measurement is obtained according to the method defined in ETSI ES 202
336-12 [19] -- clauses 4.4.3.1, 4.4.3.4, Annex A;
\- In case a NF is composed of Virtualized Network Functions (VNF), the
potential solution #1 of the key issue #5 (5GC NF energy consumption
estimation) applies. It is based on the mean vCPU usage of constituent
VNF/VNFC instance(s);
\- In case a NF is composed of both PNF(s) and VNF(s), the two above
statements apply;
\- In case a NF is dedicated to a network slice, the energy consumption of the
NF is entirely attributable to the network slice;
\- In case a NF is shared between multiple network slices, the participation
of the NF to the energy consumption of the network slice has to be estimated,
as it can\'t be measured:
\- In case of a gNB shared between multiple network slices, the energy
consumption attributable to each network slice is estimated as a proportion of
the total gNB energy consumption, where the proportion is calculated as the
data volume of the network slice relatively to the total data volume carried
by the gNB,
\- In case of a 5GC NF shared between multiple network slices, the energy
consumption attributable to each network slice is estimated as a proportion of
the total estimated NF energy consumption, as follows: if the NF supports N
network slices, the energy consumption attributed to each network slice is
1/N.
### 4.8.3 Conclusion - Impact on normative work
The definition of the Energy Consumption (EC) of a network slice (ECns), as
proposed by the potential solution #1, is introduced in TS 28.554 [5] --
clause 6.7.3.
## 4.9 Key Issue #9: 5GC Energy Consumption
### 4.9.1 Description
In order to be able to calculate the energy efficiency KPI of a 5G core
network, it is necessary to define the energy consumption of the 5G core
network.
### 4.9.2 Potential solutions
#### 4.9.2.1 Potential solution #1
##### 4.9.2.1.1 Introduction {#introduction-18}
This potential solution #1 proposes to define the energy consumption of the 5G
core network as the sum of the energy consumption of all NFs which compose the
5G core network.
##### 4.9.2.1.2 Description
In this potential solution #1, it is proposed to define a KPI that shows the
Energy Consumption (EC) of a 5G core network. This KPI is obtained by summing
up the EC of the NFs that compose the 5GC. For the definition of the energy
consumption of a NF, refer to clause 4.5.2 of the present document.
This KPI is defined as:
{width="1.5104166666666667in" height="0.5652777777777778in"}
The unit of this KPI is J.
### 4.9.3 Conclusion - Impact on normative work
Based on the potential solution #1 proposing a KPI definition for the energy
consumption of the 5GC, the 5GC Energy Consumption KPI definition is
introduced in TS 28.554 [5] clause 6.7.3.2.
## 4.10 Key Issue #10: TR 21.866 EE control framework
### 4.10.1 Description
In TR 21.866 [16] clause 6.3, an energy efficiency control framework is
described to define the key common functions and the control sequence and
procedures for controlling and managing energy efficiency.
\-- Start of quote from TR 21.866 [16] clause 6.3.2:
\"
Figure 6.3.2-1: A general framework of EE Control
The key functions in self-managed automated energy efficiency control
processes should include:
> \- **EE Policy Management:** defines and manages the energy efficiency
> control policies related to the energy consumption status and control
> operations at the network, equipment and site levels. It translates the
> policy information into configurations at the EE optimisation entities at
> network, equipment and site levels, where applicable. The policy may be
> adjusted according to achievable EE KPI and the variations of QoS/QoE.
\- **EE Control and Coordination:** the energy efficiency control is designed
to be a self-managed and automated process to control and coordinate the power
saving operations across all the relevant elements at a network, equipment and
site levels.
The operating conditions such as traffic load and density at the network and
equipment levels and operational conditions such as temperature and humidity
at the site level are monitored and reported. According to the energy
efficiency control policy and the current status, energy efficiency control
operations are activated/deactivated in each of the EE optimisation entities.
The embedded energy metering function in each EE optimisation entity collects
the necessary statistics such as EE KPI and QoS/QoE and then report the
information to the EE Profiles Management. The energy efficiency optimisation
entity can be a logical or physical component to execute the EE policies and
the corresponding energy consumption optimisation operations.
\- **EE Profiles Management:** monitors, collects, processes, stores and
provides EE related information and statistics including the profiles for
traffic, operating conditions, the corresponding achievable EE KPI, the
variations of QoS/QoE in reference to the pre-fined QoS/QoE requirements from
the embedded energy metering functions in each of the EE optimisation
entities. The information is assessed and then sent to the EE Control and
Coordination for adjusting the power saving control operations and possible
policy adjustment by the EE Policy Control.
\"
\-- End of quote from TR 21.866 [16] --
### 4.10.2 Potential solutions
#### 4.10.2.1 Potential solution #1: C-SON as EE control framework
##### 4.10.2.1.1 Introduction {#introduction-19}
In this potential solution, the C-SON process, as described by figure
4.1.2.1-1 of TS 28.313 [17], provides support to the TR 21.866 [16] EE control
framework.
##### 4.10.2.1.2 Description
Figure 4.1.2.1-1 of TS 28.313 [17] describes the C-SON process:
{width="3.873611111111111in" height="2.3333333333333335in"}
Figure 4.10.2.1.2-1
In this figure:
\- CN and RAN Network Functions (NF) correspond to EE Optimization Entities of
TR 21.866 EE control framework;
\- The 3GPP management system comprises EE Policy Management, EE Control &
Coordination, and EE Profiles Management of TR 21.866 EE control framework.
The SON algorithm functionalities can be mapped to TR 21.866 EE control
framework functions as follows:
\- Monitoring is one of the responsibilities of TR 21.866 [16] EE Profiles
Management,
\- Both Analysis and Decision are responsibilities of TR 21.866 [16] EE
Control & Coordination. In the 3GPP management system, Policy Management (as
defined in TS 28.555 [18]) is one of the responsibilities of TR 21.866 EE
Policy Management,
\- Execution is one of the responsibilities of TR 21.866 [16] EE Optimization
Entities,
\- Evaluation is one of the responsibilities of TR 21.866 [16]EE Control &
Coordination.
### 4.10.3 Conclusion - Impact on normative work
The energy efficiency control framework described in TR 21.866 [16] clause 6.3
defines the key common functions and the control sequence and procedures for
controlling and managing energy efficiency. The potential solution #1 shows
that the C-SON process, as described by figure 4.1.2.1-1 of TS 28.313 [17],
may provide support to the TR 21.866 [16] EE control framework.
No further normative work is required.
#