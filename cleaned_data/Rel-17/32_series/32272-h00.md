# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is part of a series of Technical Specifications (TSs)
that specify charging functionality and charging management in GSM/UMTS
networks. The GSM/UMTS core network charging architecture and principles are
specified in TS 32.240 [1], which provides an umbrella for other charging
management TSs that specify:
\- the content of the CDRs per domain and subsystem (offline charging);
\- the content of real-time charging messages per domain / subsystem (online
charging);
\- the functionality of online and offline charging for those domains and
subsystems;
\- the interfaces that are used in the charging framework to transfer the
charging information (i.e. CDRs or charging events).
The complete document structure for these TSs is defined in TS 32.240 [1].
The present document specifies the offline and online charging description for
the \"Push-to-Talk over Cellular\" (PoC) service, based on the functional
description of the PoC service in TR 23.979 \"3GPP enablers for OMA PoC
Services\" [200], in OMA-AD-POC \"Push to talk over Cellular (PoC) -
Architecture\" [203], in OMA-CP-POC \"OMA PoC Control Plane\" [204] and in
OMA-UP-POC: \"OMA POC User Plane\"[205], respectively. This charging
description includes the offline and online charging architecture and
scenarios specific to PoC, as well as the mapping of the common 3GPP charging
architecture specified in TS 32.240 [1] onto the PoC service. It further
specifies the structure and content of the CDRs for offline charging, and the
charging events for online charging. The present document is related to other
3GPP charging TSs as follows:
\- The common 3GPP charging architecture is specified in TS 32.240 [1];
\- The parameters, abstract syntax and encoding rules for the CDRs are
specified in TS 32.298 [51];
\- A transaction based mechanism for the transfer of CDRs within the network
is specified in TS 32.295 [54];
\- The file based mechanism used to transfer the CDRs from the network to the
operator\'s billing domain (e.g. the billing system or a mediation device) is
specified in TS 32.297 [52];
\- The 3GPP Diameter application that is used for PoC offline and online
charging is specified in TS 32.299 [50].
All terms, definitions and abbreviations used in the present document, that
are common across 3GPP TSs, are defined in the 3GPP Vocabulary, TR 21.905
[100]. Those that are common across charging management in GSM/UMTS domains or
subsystems are provided in the umbrella document TS 32.240 [1] and are copied
into clause 3 of the present document for ease of reading. Finally, those
items that are specific to the present document are defined exclusively in the
present document.
Furthermore, requirements that govern the charging work are specified in TS
22.115 [101].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[2] - [9] Void.
[10] 3GPP TS 32.250: \"Telecommunication management; Charging management;
Circuit Switched (CS) domain charging\".
[11] 3GPP TS 32.251: \"Telecommunication management; Charging management;
Packet Switched (PS) domain charging\".
[12] - [19] Void.
[20] 3GPP TS 32.260: \"Telecommunication management; Charging management; IP
Multimedia Subsystem (IMS) charging\".
[21] - [29] Void.
[30] 3GPP TS 32.270: \"Telecommunication management; Charging management;
Multimedia Messaging Service (MMS) charging\".
[31] - [49] Void.
[50] 3GPP TS 32.299: \"Telecommunication management; Charging management;
Diameter charging application\".
[51] 3GPP TS 32.298: \"Telecommunication management; Charging management;
Charging Data Record (CDR) parameter description\".
[52] 3GPP TS 32.297: \"Telecommunication management; Charging management;
Charging Data Record (CDR) file format and transfer\".
[53] Void.
[54] 3GPP TS 32.295: \"Telecommunication management; Charging management;
Charging Data Record (CDR) transfer\".
[55] - [99] Void.
[100] 3GPP TR 21.905: \"Vocabulary for 3GPP specifications\".
[101] 3GPP TS 22.115: \"Service aspects; Charging and billing\".
[102] - [199] Void.
[200] 3GPP TR 23.979: \"3GPP enablers for Open Mobile Alliance (OMA): Push-to-
talk over Cellular (PoC) services; Stage 2\".
[201] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[202] 3GPP TS 24.228: \"Signalling flows for the IP multimedia call control
based on Session Initiation Protocol (SIP) and Session Description Protocol
(SDP); Stage 3\".
[203] OMA-AD-POC: \"Push to talk over Cellular (PoC) - Architecture\".
[204] OMA-CP-POC: \"OMA PoC Control Plane\".
[205] OMA-UP-POC: \"OMA POC User Plane\".
[206] 3GPP TS 24.002: \"GSM - UMTS Public Land Mobile Network (PLMN) Access
Reference Configuration\".
[207] 3GPP TS 25.305: \"Stage 2 functional specification of User Equipment
(UE) positioning in UTRAN\".
[208] 3GPP TS 43.059: \"Functional stage 2 description of Location Services
(LCS) in GERAN\".
[209] - [300] Void.
[301] ITU-T Recommendation Q.1001
[302] -- [402] Void.
[403] IETF RFC 1350 (1992): \"The TFTP Protocol (Revision 2)\".
[404] IETF RFC 3261(2002): \"**SIP: Session Initiation Protocol** \".
[405] IETF RFC 3966 (2004): \"The tel URI for Telephone Numbers\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [50], TS 32.240 [1] and the following apply:
**1-1 PoC session:** feature enabling a PoC user to establish a PoC session
with another PoC user
**ad-hoc PoC group session:** feature enabling a PoC user to establish a PoC
session with multiple PoC users without first creating a PoC group.\ This sort
of PoC session for multiple PoC users that does not involve the use or
definition of a pre-arranged or chat PoC group session.
**application data:** information / data specific to an application other than
the MMS User Agent / VASP which is intended to be transported without
alteration by using MMS\ Application Data may be of any content type and
format.
**charging destination:** also referred to as a destination for charging, this
is a nominal reference defining the point of termination of a connection for
charging purposes
**charging function:** entity inside the core network domain, subsystem or
service that is involved in charging for that domain, subsystem or service
**charging origin:** nominal reference defining the point of origin of a
connection for charging purposes
**chat PoC group:** persistent group in which each member individually joins
the PoC session, i.e. the establishment of a PoC session to a chat PoC group
does not result in other members of the chat PoC group being invited
**chat PoC group session:** PoC session established to a chat PoC group.\ In a
chat PoC group, PoC subscribers shall be able to join and leave the chat PoC
group session themselves. If the chat PoC group is restricted, then only group
members shall be able to join.
**controlling PoC function:** function implemented in a PoC Server and
provides centralized PoC session handling, which includes RTP media
distribution, talk burst control, policy enforcement for participation in
group sessions, and the participant information
**delivery report:** feedback information provided to an originator MMS User
Agent by an MMS R/S (MMS R/S) about the status of the delivery of an MM
**forwarded MM:** MM originally sent from a sender to an intended recipient
which is then forwarded to other recipient(s) and to which a delivery report
and/or read-reply report may refer and which may be subject to further
forwarding
**forwarding MMS User Agent:** MMS User Agent that is the intended recipient
of an MM and that requests forwarding of the MM for delivery to other
recipient(s) without having to first download the MM
**GTP\':** GPRS protocol used for CDR transport.\ It is derived from GTP with
enhancements to improve transport reliability necessary for CDRs.
NOTE: This protocol is not used for tunnelling.
**Instant personal alert:** feature in which a PoC user sends a SIP based
instant message to a PoC user requesting a 1‑1 PoC session.
**LCS Client:** software and/or hardware entity that interacts with a LCS
Server for the purpose of obtaining location information for one or more
Mobile Stations (MSs).\ LCS Clients subscribe to LCS in order to obtain
location information. LCS Clients may or may not interact with human users.
The LCS Client is responsible for formatting and presenting data and managing
the user interface (dialogue). The LCS Client may reside in the Mobile Station
(MS).
**LCS Server:** software and/or hardware entity offering LCS capabilities.\
The LCS Server accepts requests, services requests, and sends back responses
to the received requests.\ The LCS Server consists of LCS components, which
are distributed to one or more PLMN and/or service provider.
**Location Based Service (LBS):** service provided either by teleoperator or a
3rd party service provider that utilizes the available location information of
the terminal.\ Location Application offers the User Interface for the service.
LBS is either a pull or a push type of service (see Location Dependent
Services and Location Independent Services).\ In ETSI/GSM documentation of
SoLSA, LBS is called \"Location Related Service\".\ ETSI and/or 3GPP -wide
terminology harmonization is expected here.
**Location Estimate:** geographic location of an UE and/or a valid Mobile
Equipment (ME), expressed in latitude and longitude data.\ The Location
Estimate is represented in a well-defined universal format. Translation from
this universal format to another geographic location system may be supported,
although the details are considered outside the scope of the primitive
services.
**message ID:** unique identifier for an MM
**MMSE:** collection of MMS-specific Elements under the control of a single
administration.
**MMS Relay/Server (MMS R/S):** MMS-specific network entity/application that
is under the control of an MMS service provider.\ An **MMS R/S** transfers
messages, provides operations of the MMS that are specific to or required by
the mobile environment and provides (temporary and/or persistent) storage
services to the MMS.
**MMS User Agent:** application residing on a user equipment, an MS or an
external device that performs MMS‑specific operations on a user\'s behalf
and/or on another application\'s behalf. An MMS User Agent is not considered
part of an MMSE.
**Multimedia Messaging Service Network Architecture (MMSNA):** encompasses all
the various elements that provide a complete MMS to a user.
**on-demand session:** an on-demand session is a PoC session set-up mechanism
in which all media parameters are negotiated at PoC session establishment.
**online charging:** charging mechanism where charging information can affect,
in real-time, the service rendered and therefore a direct interaction of the
charging mechanism with session/service control is required.
**Online Charging System (OCS):** entity that performs real-time credit
control.\ Its functionality includes transaction handling, rating, online
correlation and management of subscriber account balances.
**original MM:** (initial) MM sent from a sender to a recipient and to which a
delivery report and/or a read-reply report and/or a reply-MM may refer and/or
which may be subject to being forwarded.
**originator MMS User Agent:** MMS User Agent associated with the sender of an
MM.
**participating PoC function:** function implemented in a PoC Server, and
provides PoC session handling, which includes policy enforcement for incoming
PoC sessions and relays talk burst control messages between the PoC Client and
the PoC Server performing the controlling PoC function.\ The participating PoC
function may also relay RTP media between the PoC Client and the PoC Server
performing the controlling PoC function.
**PoC Client:** PoC functional entity that resides on the PoC user equipment
that supports the PoC service.
**PoC group** : a PoC group is a predefined set of PoC users together with its
attributes. A PoC group is identified by a SIP URI.
**PoC group advertisement:** a PoC group advertisement is a feature that
provides the capability to inform other PoC users of the existence of a PoC
group.
**PoC group identity** : the PoC group identity is a SIP URI of the pre-
arranged PoC group or chat PoC group.
**PoC Server:** implements the application level network functionality for the
PoC service.\ A PoC Server may perform the role of the controlling PoC
function or participating PoC function, or both at the same time.
**PoC session:** the present document supports the following types of PoC
sessions: 1-1 PoC session, ad-hoc PoC group session, pre-arranged PoC group
session, or chat PoC group session.
**PoC session identity:** SIP URI received by the PoC Client during the PoC
session establishment in the contact header and/or in the Talk Burst Control
Protocol (TBCP) connect message in case of using pre-established session.
**PoC user:** user of the PoC service.
**positioning method (/locating method):** method or technical solution, which
is used to get an estimate of the target mobile\'s geographical location.
EXAMPLE: Positioning methods based on radio cell coverage, GPS or Assisted GPS
methods, which are based on the Time-Of-Arrival (TOA) algorithm, and OTDOA or
E-OTD methods, which are based on the Time-Difference-Of-Arrival (TDOA)
algorithm.\ The positioning methods are further described in UTRAN Stage 2 TS
25.305 [63] and GERAN Stage 2 TS 43.059 [64].
**pre-arranged PoC group session:** is a persistent PoC session Identity that
has an associated set of PoC members.\ The establishment of a PoC session to a
pre-arranged PoC group results in all members being invited.
**pre-established session:** signalling exchange to negotiate media parameters
between the PoC Client and the home PoC Server before establishing a PoC
session.
**read-reply report:** feedback information to an originator MMS User Agent by
a recipient MMS User Agent about the status of handling/rendering of an
original MM in a recipient MMS User Agent**.**
**recipient MMS User Agent:** MMS User Agent associated with the recipient of
an MM.
**reply-MM:** in case of reply-charging the first reply accepted by the
recipient MMS R/S (after checking the reply charging limitations, such as the
latest time of submission) is called a reply-MM.
**Reporting Area: Service Area for which an MS\'s location is reported.**
**RTP media:** RTP media is the media carried in an RTP payload.
**Service Area:** defined in the same way as the Service Area according to
ITU-T Recommendation Q.1001 [310].\ In contrast to the PLMN area it is not
based on the coverage of a PLMN.\ Instead it is based on the area in which a
fixed network user can call a mobile user without knowing its location.\ For
example, the Service Area can therefore change when the signalling system is
being extended.
**simultaneous PoC session** : When a PoC user is a participant in more than
one PoC session simultaneously using the same PoC Client.
**talk burst:** media recording, transport and playback that occurs from the
point the PoC Client has got the permission to send media until the permission
is released.
**Talk Burst Control Protocol (TBCP):** is a protocol for performing talk
burst control, as defined in OMA-UP-POC: \"OMA POC User Plane\" [205].
**target UE:** UE being positioned.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
A Interface between an MSC and a BSC
Bc Reference point for the CDR file transfer from the Circuit Switched CGF to
the BD
Bi Reference point for the CDR file transfer from the IMS CGF to the BD
Bl Reference point for the CDR file transfer from the GMLC CGF to the BD
Bm Reference point for the CDR file transfer from the MMS CGF to the BD
Bmb Reference point for the CDR file transfer from the MBMS CGF to the BD
Bo Reference point for the CDR file transfer from the OCF CGF to the BD
Bp Reference point for the CDR file transfer from the Packet Switched CGF to
the BD
Bs Reference point for the CDR file transfer for CAMEL services to the BD,
i.e. from the SCF CGF to the BD
Bt Reference point for the CDR file transfer from the PoC CGF to the BD
Bw Reference point for the CDR file transfer from the WLAN CGF to the BD
Bx Reference point for CDR file transfer between any (generic) 3G domain,
subsystem or service CGF and the BD
C Interface between a HLR and a SMSC
CAP Reference point for CAMEL between a network element with integrated SSF
and the OCS
Ci Charging trigger in combined MMS R/S
D Interface between a MSC and a HLR
D\' Reference point between an MSCa pre-R6 HSS/HLR and a BSC.3GPP AAA Server
Dw Reference point between a 3GPP AAA Server and an SLF
E Interface between a MSC and a SMSC
Ga Reference point for CDR transfer between a CDF and the CGF
Gb Interface between an SGSN and a BSC
Gc Interface between an GGSN and an HLR
Gd Interface between an SMS-GMSC and an SGSN, and between a SMS-IWMSC and an
SGSN
Ge Interface between a SGSN and a CAMEL GSM SCF
Gf Interface between an SGSN and an EIR
Gi Interface between the Packet-Switched domain and an external packet data
network
Gm Reference point between the UE and an P-CSCF
Gn Interface between two GSNs within the same PLMN
Gp Interface between two GSNs in different PLMNs
Gr Interface between an SGSN and an HLR
Gr\' Reference point between a pre-R6 HSS/HLR and a 3GPP AAA Server
Gs Interface between an SGSN and an MSC/VLR
Gx Reference point between a CRF and a TPF
Gy Online charging reference point between a TPF and an OCS
Gz Offline charging reference point between a TPF and a CDF
Iu Interface between the RNS and the core network
kbit/s kilobits per second. 1 kbit/s = 210 bits per second
Lr Interface between Gateway MLCs
Mbit/s Megabits per second. 1 Mbit/s = 220 bits per second
Mc Interface between the MGW and (G)MSC server
Mi Charging trigger in MMS R/S for MMBox Management
MM1 Reference point between the MMS User Agent and the MMS R/S
MM2 Reference point between the MMS Relay and the MMS Server
MM3 Reference point between the MMS R/S and external (legacy) messaging
systems
MM4 Reference point between the MMS R/S and another MMS R/S that is within
another MMSE
MM5 Reference point between the MMS R/S and the Home Location Register (HLR)
MM6 Reference point between the MMS R/S and the MMS User Databases
MM7 Reference point between the MMS R/S and MMS VAS Applications
MM8 Reference point between the MMS R/S and the post-processing system
MM9 Reference point between the MMS R/S and the online charging system
MM10 Reference point between the MMS R/S and a MSCF
Mw Reference point between one CSCF and another CSCF
Oi Charging trigger in Originator MMS R/S
R Reference point between a non-ISDN compatible TE and MT. Typically this
reference point supports a standard serial interface.
Rf Offline charging reference point between a PoC Server and the CDF.
Ri Charging trigger in Recipient MMS R/S
Ro Online charging reference point between a PoC Server and the OCS
Rx Reference point between the CRF and an AF
Um Interface between the Mobile Station (MS) and the GSM fixed network part
Ut Reference point between the UE and an GLMS
Uu Interface between the Mobile Station (MS) and the UMTS fixed network part
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations defined in TR
21.905 [50], TS 32.240 [1] and the following apply:
ABNF Augmented Backus-Naur Form
ACA ACcounting Answer
ACR ACcounting Request
APN Access Point Name
AF Application Function
AMF Account balance Management Function
AoC Advice of Charge
APN Access Point Name
AS Application Server
AVP Attribute Value Pair
B2BUA Back-to-Back User Agent
BCF Bearer Charging Function
BCSM Basic Call State Model
BD Billing Domain
BGCF Breakout Gateway Control Function
BM-SC Broadcast Multicast - Service Centre
BS Billing System
BSC Base Station Controller
BSS Base Station Subsystem
BTS Base Transceiver Station
CAI Charge Advice Information
CAMEL Customised Applications for Mobile network Enhanced Logic
CAP CAMEL Application Part
CCA Credit Control Answer
CCF Charging Collection Function
CCR Credit Control Request
CDF Charging Data Function
CDR Charging Data Record
CG Charging Gateway
CGF Charging Gateway Function
CI Cell Identity
CRF Charging Rules Function
CS Circuit Switched
CSCF Call Session Control Function (I-Interrogating; P-Proxy and S-Serving)
CSE CAMEL Service Environment
CTF Charging Trigger Function
DCCA Diameter Credit Control Applications
DP Detection Point
DRP Data Record Packet
EBCF Event Based Charging Function
ECUR Event Charging with Unit Reservation
EDP Event Detection Point
EIR Equipment Identity Register
EM Element Management
EMS-Digits North American Emergency Service Routing - Digits
EMS-Key North American Emergency Service Routing - Key
FCI Furnish Charging Information
FQPC Fully Qualified Partial CDR
FTAM File Transfer, Access and Management
GERAN GSM EDGE Radio Access Network
GGSN Gateway GPRS Support Node
GMLC Gateway MLC
GMSC Gateway MSC
GPRS General Packet Radio Service
gsmSCF GSM Service Control Function
gsmSSF GSM Service Switching Function
GSM Global System for Mobile communication
GSN GPRS Support Node (either SGSN or GGSN)
GTP GPRS Tunnelling Protocol
GTP\' The GPRS protocol used for CDR transport. It is derived from GTP with
enhancements to improve transport reliability necessary for CDRs.
G-CDR GGSN (PDP context) generated - CDR
HLR Home Location Register
HPLMN Home PLMN
HSCSD High Speed Circuit Switched Data
HSS Home Subscriber Server
H-GMLC Home - GMLC
IANA Internet Assigned Numbers Authority
IE Information Element
IEC Immediate Event Charging
IHOSS:OSP Internet Hosted Octet Stream Service: Octet Stream Protocol
IMEI International Mobile Equipment Identity
IMS IP Multimedia Subsystem
IMSI International Mobile Subscriber Identity
IMS-GWF IMS - GateWay Function
IP Internet Protocol
IPv4 Internet Protocol version 4
IPv6 Internet Protocol version 6
ISC IMS Service Control
ISDN Integrated Services Digital Network
ITU-T International Telecommunication Union - Telecommunications
standardization sector
JIP Jurisdiction Information Parameter
LAC Location Area Code
LAN Local Area Network
LCS LoCation Service
LR Location Request
LRN Location Routing Number
MAP Mobile Application Part
MBMS Multimedia Broadcast/Multicast Service
MCC Mobile Country Code (part of IMSI)
ME Mobile Equipment
MGCF Media Gateway Control Function
MGW Media GateWay
MIME Multipurpose Internet Mail Extensions
MLC Mobile Location Center
MMI Man-Machine Interface
MMS Multimedia Messaging Service
MMSE Multimedia Messaging Service Environment
MMSNA Multimedia Messaging Service Network Architecture
MMSO Multimedia Messaging Service Originator
MMSR Multimedia Messaging Service Recipient
MMS R/S Multimedia Messaging Relay/Server
MNC Mobile Network Code (part of IMSI)
MO Mobile Originated
MOC Mobile Originated Call (attempt)
MO-LR Mobile Originated Location Request
MRF Media Resource Function
MRFC MRF Controller
MRFP Multimedia Resource Function Processor
MS Mobile Station
MSC Mobile Switching Centre
MSCF Messaging Service Control Function
MSISDN Mobile Station ISDN number
MSRN Mobile Station Roaming Number
MT Mobile Terminated
MTC Mobile Terminated Call (attempt)
MT-LR Mobile Terminated - Location Request
M-CDR Mobility management generated - Charging Data Record
NAR North America Region
NA-ESRD North American - Emergency Service Routing Digits
NA-ESRK North American - Emergency Service Routing Key
NE Network Element
NI Network Identifier (part of the APN)
NI-LR Network Induced - Location Request
NP Number Portability
NPDB Number Portability Data Base
OCF Online Charging Function
OCS Online Charging System
OI Operator Identifier (part of the APN)
O-CSI Originating - CAMEL Subscription Information
PDN Packet Data Network
PDP Packet Data Protocol (e.g. IP)
PDU Packet Data Unit
PLMN Public Land Mobile Network
PMD Pseudonym Mediation Device functionality
PoC Push-to-talk over Cellular
PPP Point-to-Point Protocol
PPR Privacy Profile Register
PS Packet-Switched
PSPDN Packet-Switched Public Data Network
PSTN Public Switched Telephony Network
PT Protocol Type (Field in GTP\' header)
QoS Quality of Service
RAB Radio Access Bearer
RAC Routing Area Code
RAN Radio Access Network
RF Rating Function
RNC Radio Network Controller
RNS Radio Network Subsystem
RPC Reduced Partial CDR
RTP Real Time Protocol
R-GMLC Requesting - GMLC
SAC Service Area Code
SBCF Session Based Charging Function
SCCP Signalling Connection Control Part
SCUR Session Charging with Unit Reservation
SDP Session Description Protocol
SCF Service Control Function
SCI Subscriber Controlled Input
SCI Send Charging Information
SGSN Serving GPRS Support Node
SIM Subscriber Identity Module
SIP Session Initiation Protocol
SMS Short Message Service
SSF Service Switching Function
SS7 Signalling System No. 7
SCCP Signalling Connection Control Part
S-CDR SGSN (PDP context) generated - CDR
S-SMO-CDR SGSN delivered Short message Mobile Originated - CDR
S-SMT-CDR SGSN delivered Short message Mobile Terminated - CDR
TAP Transferred Account Procedure
TBCP Talk Burst Control Protocol
TDP Trigger Detection Point
TID Tunnel IDentifier
TLV Type, Length, Value (GTP header format)
TPF Traffic Plane Function
TR Technical Report
TS Technical Specification
TV Type, Value
T-CSI Terminating - CAMEL Subscription Information
UA User Agent
UE User Equipment
UMTS Universal Mobile Telecommunications System
URA UTRAN Registration Area
USIM User Service Identity Module
USSD Unstructured Supplementary Service Data
UTRAN Universal Terrestrial Radio Access Network
VAS Value Added Service
VASP Value Added Service Provider
VLR Visitor Location Register
VMSC Visited MSC
VPLMN Visited PLMN
VT-CSI Visited Terminating CAMEL Subscription Information
V-GMLC Visited GMLC
WLAN Wireless LAN
XDMS XML Document Management Server
XML Extensible Mark-up Language
# 4 Architecture considerations
## 4.1 High level PoC architecture
Figure 4.1.1 depicts the PoC reference architecture, as described in TR 23.979
[200].
Figure 4.1.1: PoC service elements in the IMS architecture
NOTE: The I-CSCF and HSS are not shown in figure 4.1.1 for the sake of
simplicity.
The OMA-AD-POC [203] leverages IMS as the underlying SIP-based IP-core
network. The PoC Server implementing the application level network
functionality for the PoC service is essentially seen as an Application Server
(AS) from the IMS perspective. Consequently, communications between the IMS
core and the PoC Server utilize the ISC interface defined in TS 23.228 [201].
The XML Document Management Server (XDMS) is used by the PoC users to manage
groups and lists (e.g. contact and access lists) that are needed for the PoC
service. In the IMS architecture, the Ut interface provides these functions,
hence communications between the XDMS and the UE (PoC Client) utilize the Ut
interface. The XDMS is seen as a separate AS that could be also connected to
other entities in addition to PoC Server (e.g. to Presence Server).
As described in the following clauses only the PoC Server is relevant for
charging.
Editor\'s note: The figure may be replaced by an OMA version.
### 4.1.1 PoC functional entities
In the next two subclauses the PoC functional entities, PoC Client and PoC
Server are presented as described in OMA‑AD-POC [203]. Also different roles of
the PoC Server that impact the PoC charging architecture are described.
#### 4.1.1.1 PoC Client
The PoC Client resides on the mobile terminal and is used to access PoC
service. In figure 4.1.1.2.1, the UE is acting as a PoC Client.
#### 4.1.1.2 PoC Server
The PoC Server implements the application level network functionality for the
PoC service.
The PoC Server may perform a controlling PoC function or participating PoC
function. The controlling PoC function and participating PoC function are
different roles of the PoC Server. The figures in this clause show the flow of
signalling traffic and media and media-related signalling traffic between
controlling PoC function and participating PoC function in various
configurations.\ Unless otherwise mentioned, the traffic flows shown in each
figure apply to both signalling traffic and media and media-related signalling
traffic in that configuration.\ Figure 4.1.1.2.1 shows the distribution of the
functionality during a 1-1 PoC session in a single network.\ A PoC Server may
perform both a controlling PoC function and a participating PoC function at
the same time.
{width="5.9875in" height="2.667361111111111in"}
Figure 4.1.1.2.1: Relationship between controlling PoC function,\
participating PoC functions and the PoC Clients for 1-1 PoC session in a
single network
The determination of the PoC Server role (controlling PoC function and
participating PoC function) takes place during the PoC session set-up and
lasts for the duration of the whole PoC session.\ In case of 1-1 PoC session
and ad-hoc PoC group session the PoC Server of the inviting user shall perform
the controlling PoC function. I\ n case of the chat PoC group and pre-arranged
group session the PoC Server owning/hosting the group identity shall perform
the controlling PoC function.
Figure 4.1.1.2.2: Relationship between the controlling PoC function,\
participating PoC function and PoC Clients for 1-1 PoC session in a multiple
network
In a PoC session there shall be only one PoC Server performing the controlling
PoC function.\ There can be one or more PoC Servers performing the
participating PoC function in the PoC session.\ Figure 4.1.1.2.2 shows the
distribution of the functionality during a 1-1 PoC session in a multiple
network environment.
The PoC Server performing the controlling PoC function has _N_ number of SIP
sessions and media and talk burst control communication paths in one PoC
session, where _N_ is number of participants in the PoC session.\ The PoC
Server performing the PoC controlling function has no direct communication to
the PoC Client for PoC session signalling, but interacts with the PoC Client
via the PoC Server performing the participating functioning for the PoC
Client.
The PoC Server performing the controlling PoC function normally also routes
the media and media-related signalling such as talk burst arbitration to the
PoC Client via the PoC Server performing the participating functioning for the
PoC Client. However, local policy in the PoC Server performing the
participating PoC function may allow the PoC Server performing the controlling
PoC function to have a direct communication path for media and media-related
signalling to each PoC Client.\ Figure 4.1.1.2.3 shows the signalling and
media paths in this configuration for a controlling PoC function,
participating PoC function and PoC Client served in the same network.
A PoC Server performing the participating PoC function has always a direct
communication path with a PoC Client and a direct communication path with the
PoC Server performing the controlling PoC function for PoC session signalling.
Figure 4.1.1.2.3: Direct media flow between controlling PoC function and PoC
Client
Figure 4.1.1.2.4 depicts the relation between the controlling PoC function,
participating PoC function and the PoC Client in multiple network environment
for a PoC group session.
{width="5.447222222222222in" height="3.509027777777778in"}
Figure 4.1.1.2.4: Relationship between the controlling PoC function,\
participating PoC function and PoC Clients for PoC group session
## 4.2 PoC offline charging architecture
Figure 4.2 depicts the PoC offline charging architecture, as described in TR
23.979 [200].
Figure 4.2: Charging architecture for PoC offline charging
As described in TS 32.240 [1], the PoC Server contains an integrated CTF that
generates charging events and forwards them to the CDF. The CDF, in turn,
generates CDRs which are then transferred to the CGF. Finally, the CGF creates
CDR files and forwards them to the Billing Domain (BD). The possible mapping
onto physical components and interfaces for the charging functions is
described in TS 32.240 [1].
## 4.3 PoC online charging architecture
Figure 4.3 depicts the PoC online charging architecture, as described in TR
23.979 [200].
Figure 4.3: Charging architecture for PoC online charging
When PoC Server fulfils the controlling PoC function, then it provides
centralized charging reports. When it fulfils the participant PoC function,
then it provides the participant charging reports. For online charging, the
PoC Server uses the Ro interface and application towards the OCS as specified
in TS 32.299 [50].\ The OCS considers and treats controlling PoC Server online
charging reports and participant PoC Server online charging reports as
independent reports (independent events if IEC is used or independent sessions
if charging is SCUR based).
# 5 PoC charging principles and scenarios
## 5.0 General
PoC charging architecture support service based charging. If there is a
support required for traffic based charging than the FBC should be used refer
TS 32.251 [11].
Editor\'s note: The investigation on subscription based charging is needed.
## 5.1 PoC charging principles
### 5.1.1 PoC session related charging
PoC allows users to satisfy real time, half-duplex speech communication in a
simple and easy way.\ A PoC subscriber may either join an existing PoC session
or may create a PoC session spontaneously.\ A PoC participant, who wants to
speak, typically initiates a PoC session on its terminal and starts to speak.\
Other participants of the PoC group session simultaneously listen to the
speaker\'s voice.
The charged parties may be any of the PoC participants, depending on the role
he is taking. These roles are:
\- PoC session owner;
\- PoC participant.
The charging of the PoC session owner is measured by the controlling PoC
function. Note that PoC session owner does not have to participate in a
specific PoC session (e.g. pre-arranged PoC group session). It provides
centralized charging reports. In the PoC architecture the participating PoC
function measures and sends charging reports to the charging system for the
charging of the participant.
Charging should be done according the following types of PoC sessions
according OMA-AD-POC [203]:
\- 1-1 PoC session;
\- PoC group session:
\- ad-hoc PoC group session;
\- pre-arranged PoC group session;
\- chat PoC group session.
Editor\'s note: The use of PoC communication methods (single participant in a
1-1 PoC session, PoC group in a 1‑many session or in a 1-many-1 session.) is
FFS.
There are two mechanisms for PoC session establishment signalling supporting
as described in OMA-AD-POC [203]:
\- on-demand sessions,
\- pre-established sessions.
An 1-1 PoC session along with PoC group session can be established on-demand
or within a pre-established session. Charging should distinguish both
scenarios.
PoC user can participate in PoC session in three types according to OMA-AD-POC
[203]:
\- Normal;
\- NW PoC Box;
\- UE PoC Box.
Charging should distinguish the three scenarios above for support of traffic
based charging.
The charging of the PoC participant and/or PoC session owner can be done:
  * **for the following services:**
1\. PoC session participation (per time period independent of usage).
2\. Talk burst sending: Amount of talk bursts sent by the participant. Amount
of talk bursts shall be measured as a number of talk bursts and/or as a
duration and/or volume of talk bursts.\ \ When talk burst sending is charged
as a number of talk bursts, only the TBCP talk burst granted message (in
response to TBCP talk burst request message) received in PoC Client should be
taken into account. Note that TBCP talk burst granted message could be lost.
In this case, timer T11 expires in PoC Client and it sends a TBCP talk burst
request message again OMA-UP-POC: \"OMA POC User Plane\" [205]. Therefore,
several TBCP talk burst granted message could be unsuccessfully sent and they
should not be charged. To fulfil this aim, PoC Server shall meter one talk
burst:
\- when it receives the first RTP media packet for this talk burst, or
\- when it receives the TBCP talk burst release message, independently if the
PoC Client sent RTP media toward the PoC Server when PoC Client had the floor.
3\. Talk burst receiving: Amount of talk bursts received by the participant.
Amount of talk bursts shall be measured as a number of talk bursts and/or as a
duration and/or volume of talk bursts.
Editor\'s note: Sent/Received talk burst may be independent of the talk burst
control protocol messages, means the successful or unsuccessful delivery.
Editor\'s note: The interruption of the PoC session with \"media put on
hold/off hold\" is FFS.
**\- for the following rating parameters:**
1\. PoC session type as defined above;
2\. number, type or list(s) of participants/talk burst receivers (see clause
5.1.3);
3\. identity of the serving network (e.g. SGSN PLMN identifier for the charged
party);
4\. date and time of PoC service usage.
Session related PoC charging is SCUR based. Hence, number of \"Right-to-
Speak\" and talk burst exchange shall be charged by SCUR and the metering will
be performed in the PoC Server. This is an important efficiency improvement
since event based talk burst charging would imply the need to generate events
or CDRs for each talk burst potentially for each charged party.
The PoC Server decides whether the session owner and/or the participants are
to be charged for the services, e.g. session owner is charged for session
participation and each participant is charged for talk burst exchange. This
decision is based on configuration in the offline case and is governed by the
OCS in the online case. Units for service usage are reported independently,
e.g. separate minutes for session participation and number of sent and
received talk bursts.
Details how this is supported are specific to online and offline charging and
will be given in the subsequent clauses.
### 5.1.2 PoC session unrelated charging
To reflect chargeable events not directly related to a PoC session, offline
and online charging procedures have to consider the occurrence of the
following session unrelated SIP procedures:
\- Sending/Receiving instant personal alert. Unsuccessful message shall not be
charged.
\- Sending/Receiving PoC group advertisement. Unsuccessful message shall not
be charged.
\- PoC Client subscription to the conference state (based on a PoC group
identity of the PoC group or on a PoC session identity).
\- PoC Client adding a user to a PoC session.
\- PoC Client adding/removing media type to/from a PoC session.
\- PoC Client handling for PoC session locking in a particular PoC session
(simultaneous session control): the PoC Client may request to lock itself in a
particular PoC session while initiating a PoC session or at any time later
when a valid PoC session exists.
\- Early session setting-up.
\- PoC Client handling for PoC session priority in a particular PoC session
(simultaneous session control): the PoC Client may set a PoC session priority
in a particular PoC session while initiating a PoC session or at any time
later when a valid PoC session exists.
### 5.1.3 Charging based on number of participants
Charging based on number of participants is possible at both the controlling
and participating PoC Servers if the information is provided by the
controlling PoC Server to the participating PoC Server as defined by OMA PoC
User Plane [205].
## 5.2 PoC offline charging scenarios
### 5.2.0 General
Editor\'s note: \
### 5.2.1 Basic principles
The charging models as given in clause 5.1are supported for offline charging.
CDRs are generated for the charged parties that are configured in the PoC
Server.
These CDRs contain distinguished service usage data for any of the described
sub-services. They may contain only usage data related to one subscriber or
may aggregate service usage. The latter case occurs e.g. in the charging model
where the session owner is charged for all session participants. Accumulated
or detailed talk burst usage data given in the CDRs will hold duration, volume
and number of talk bursts. It is up to the Billing Domain (BD) to rate them
according to selected rate plans.
Event CDRs are generated for the early session establishment and instant
personal alerts delivery.
Interim and final CDRs are generated for PoC session participation and talk
burst usage. The generation of interim CDRs will be governed by configurable
timers at the PoC Server, changes to the session, and any changes in location
of the user made known to the PoC Server.
### 5.2.2 Message flows
The flows described in the present document specify the charging
communications between PoC Server and the charging functions for different
charging scenarios. The SIP messages associated with these charging scenarios
are shown primarily for general information and to illustrate the charging
triggers. They are not intended to be exhaustive of all the SIP message flows
discussed in TS 24.228 [202].
#### 5.2.2.1 Message flows - Successful cases and scenarios
##### 5.2.2.1.1 Successful PoC session establishment
Figure 5.2.2.1.1 shows the Charging Data transactions that are required
between PoC Server and CDF during PoC session establishment originated by a
PoC Client. The Charging Data Request triggers the first CPF-CDR sequence in
the controlling PoC Server and the first PPF-CDR sequence is generated for
each participant in the participating PoC Server. More CPF-CDR sequences
possible for additional participants.
Figure 5.2.2.1.1: Message sequence chart for offline charging PoC session
establishment
##### 5.2.2.1.2 PoC talk burst exchange
Figure 5.2.2.1.2 shows the Charging Data transactions that are required
between PoC Server and CDF during talk burst exchange.
Figure 5.2.2.1.2: Message sequence chart for offline charging PoC talk burst
exchange
##### 5.2.2.1.3 Instant personal alert
Figure 5.2.2.1.3 shows the Charging Data transactions that are required
between participating PoC Server and CDF for the \"Instant Personal Alert\"
delivery.
Figure 5.2.2.1.3: Message sequence chart for offline charging Instant personal
alert
##### 5.2.2.1.4 Pre-established session set-up
Figure 5.2.2.1.4 shows the Charging Data transactions that are required
between participating PoC Server and CDF for the pre-established session with
the early session indication.
Figure 5.2.2.1.4: Message sequence chart for offline charging pre-established
session set-up
##### 5.2.2.1.5 Mid PoC session procedures
Figure 5.2.2.1.5 shows the Charging Data transactions that are required
between PoC Server and CDF in the Mid-PoC session when SIP INVITE or SIP BYE
request are received at the PoC Server. The Charging Data Request [ Start]
triggers the first CPF-CDR sequence in the Controlling PoC Server and the
first PPF-CDR sequence is generated for each participant in the Participating
PoC Server. When SIP INVITE or SIP BYE request are sent to controlling server,
Controlling PoC Server performs service control function, to recognize if the
request is a chargeable event. If so, the Controlling PoC Server sends
Charging Data Request[Interim].
Figure 5.2.2.1.5: Message sequence chart for offline charging in Mid PoC
session
### 5.2.3 CDR generation
The controlling PoC function CDR (CPF-CDR) and participating PoC function CDR
(PPF-CDR) are generated by the PoC Server to collect charging information that
they subsequently transfer to the Charging Gateway Function (CGF).
### 5.2.4 GTP\' record transfer flows
The principles and protocol applications specified in TS 32.295 [54].
### 5.2.5 B~T~ CDR file transfer
The CDR file transfer for PoC charging is supported on the B~T~ interface, as
specified in TS 32.240 [1].\ For further details on the BT protocol
application refer to TS 32.297 [52].
## 5.3 PoC online charging scenarios
### 5.3.1 Basic principles
PoC online charging is done according to the general principles of Debit /
Reserve Units operation as specified in TS 32.299 [50]. The PoC Server
generates online charging messages that contain distinguishable service usage
data for any of the sub-services.
PoC online charging utilizes one time event charging for early (pre-
established) sessions (session set-up is charged only) and instant personal
alerts and session charging for PoC session and PoC talk burst exchange. Thus
the PoC online charging interface will address both the Session Based Charging
Function (SBCF) and the Event Based Charging Function (EBCF) with the OCS.
There is a general PoC service with four sub-services in the interface. Each
of the sub-services has specific charging information and behaviour. The DCCA
concept of multiple service credit control are supported. As described by
DCCA, unused reserved units for PoC session participation are released on
session termination.
Talk burst exchange is a session based service with SCUR which may be metered
by duration, volume or number.\ The metering is done on the PoC Server and
governed in a DCCA conformal way by the OCS.\ Upon charging request it returns
granted units of either of the three types. Unused reserved units for talk
burst exchange are released at PoC session termination or based on an
inactivity timer. For number of talk burst level reporting, the service
specific unit shall be used to represent individual talk bursts. For talk
burst duration reporting, the time based unit shall be used. For talk burst
volume reporting, the volume unit shall be used.
For an \"Instant Personal Alert\", which is an event unrelated to a PoC
session, the PoC online charging utilizes event charging for the message
including a unit reservation i.e. ECUR.
### 5.3.2 Diameter message flows
#### 5.3.2.1 Successful PoC session establishment
Figure 5.3.2.1 shows the Debit / Reserve Units operation that are required
between PoC Server and OCS during PoC session establishment originated by a
PoC Client.
Figure 5.3.2.1: Message sequence chart for online charging PoC session
establishment
Editor\'s Note: Detailed message description including the handling of RSU,
GSU and USU should be added.
#### 5.3.2.2 PoC talk burst exchange
Figure 5.3.2.2 shows the Debit / Reserve Units operation that are required
between PoC Server and OCS during talk burst exchange.
Figure 5.3.2.2: Message sequence chart for online charging PoC talk burst
exchange
#### 5.3.2.3 Instant personal alert
Figure 5.3.2.3 shows the Debit / Reserve Units operation that are required
between participating PoC Server and OCS for the (successful) \"Instant
Personal Alert\" delivery. Each \"Instant Personal Alert\" shall be treated
independently
Figure 5.3.2.3: Message sequence chart for online charging Instant personal
alert
NOTE: The SIP 200 OK response to the PoC Client A has been omitted from figure
5.3.2.3 but can occur at any point after the SIP 200 OK is received from PoC
Client B.
For successful message delivery, the Debit Units Request[ Terminate] shall
report the used quota.
For unsuccessful message delivery, determined by a response timeout or a SIP
error response e.g. 4xx, the PoC Server return the quota as unused within the
Debit Units Request[ Terminate].
#### 5.3.2.4 Early session set-up
Early session set-up is a preparation process for later PoC session
establishment. The required negotiations, media negotiation, bearing
parameters negotiation, etc, among different PoC users are also different,
which occupy different resources that PoC Server can not predict before. ECUR
is referred here.
Figure 5.3.2.4 shows the charging flow between PoC Server (participating) and
OCS for pre-established session (early session):
Figure 5.3.2.4: Message sequence chart for Pre-established session Set-up
online charging
1\. PoC Client sends SIP INVITE request to PoC Server (participating) for
early session setup.
2\. After receiving the request PoC Server sends Reserve Units
Request[Initial] to OCS for reservation by RSU(Requested-Service-Unit).
3\. The OCS performs unit reservation.
4\. The OCS sends back the response to PoC Server (participating) to authorize
the service request with GSU(Granted-Service-Unit)
5\. PoC Server (participating) starts to initiate the early session for PoC
Client.
6\. When finishing early session setup PoC Server responses back the result to
PoC Client.
7\. Also PoC Server (participating) sends Debit Units Request[Terminate] to
OCS by USU(Used-Service-Unit) to indicate resource usage and result of early
session setup.
8\. OCS performs debit.
9\. OCS sends back CCA to PoC Server (participanting) to indicate charging
control result.
#### 5.3.2.5 Participant number based charging
Figure 5.3.2.5 shows the Debit / Reserve Units operation that are required
between Controlling PoC Server and OCS in participant number based charging
for the session owner.
Figure 5.3.2.5: Message sequence chart for offline charging in Mid PoC session
1\. PoC Client sends SIP INVITE request to controlling PoC Server to generate
a multi-participants session.
2\. Controlling PoC Server sends Reserve Units Request[Initial] to OCS, with
the pre-defined group participant number for quota reservation. In case of the
Ad-hoc session, Controlling PoC Server sends Reserve Units Request[Initial]
for quota reservation, with initial invited participant number.
3\. OCS performs Quota reservation.
4\. OCS responses the CCA with enabling trigger condition of
CHANGE_IN_PARTICIPANTS_NMB or CHANGE_IN_ THRSHLD_OF_PARTICIPANTS_NMB.
5\. Controlling PoC Server forward the SIP INVITE request to participants.
6\. During the session ongoing, participant can send SIP BYE or SIP 200 OK to
Participating PoC Server.
7\. Participating PoC Server forwards the message to Controlling PoC Server.
8\. Controlling PoC Server monitors the trigger conditions, if one of the
conditions occurs, it goes to next procedure.
9\. Controlling PoC Server sends update request, with the changed Rating
Group.
10\. OCS performs re-authorization.
11\. OCS sends CCA to Controlling PoC Server.
#### 5.3.2.6 Participating type based charging
Figure 5.3.2.6 shows the Debit / Reserve Units operation that are required
between Controlling PoC Server and OCS in participant type based charging for
the session owner and participants.
Figure 5.3.2.6: Message sequence chart for online charging Participating type
1\. PoC Server receives SIP INVITE.
2\. PoC Server sends Reserve Units Request[Initial] to OCS.
3\. OCS performs Quota reservation.
4\. OCS responses the CCA with enabling trigger condition of
CHANGE_IN_USER_PARTICIPATING_TYPE.
5\. PoC Server forwards the SIP INVITE request to participants.
6\. PoC Server receives the SIP 200 OK for SIP INVITE.
7\. PoC session start.
8\. During the session ongoing, participant can send SIP INVITE to PoC Server
to invite PoC Box.
9\. Controlling PoC Server monitors the trigger conditions, if one of the
conditions occurs, it goes to next procedure.
10\. PoC Server sends Reserve Units Request [Update] request, with the changed
Rating Group.
11\. OCS performs re-authorization.
12\. OCS sends CCA to PoC Server.
13\. PoC Server forwards SIP INVITE to PoC Box.
14\. PoC Box response to PoC Server with SIP 200 OK.
15\. PoC session continues.
# 6 Definition of charging information
## 6.1 Data description for PoC offline charging
### 6.1.0 General
The PoC Server generates charging information that can be transferred from the
CTF to the CDF with the Charging Data transfer operation. Detailed information
about the usage of the Charging Data transfer operation is described in TS
32.299 [50].
### 6.1.1 Rf message contents
#### 6.1.1.1 Summary of offline charging message formats
The PoC Charging application for offline charging employs the Charging Data
Request and Charging Data Response. The Charging Data Request can be of type
start, stop, interim and event and includes all charging information. The
Charging Data Response is just an acknowledgement of the CHARGING DATA
REQUEST.
Table 6.1.1.1 describes the use of these messages for offline charging.
Table 6.1.1.1: Offline charging messages reference table
* * *
Message Source Destination Charging Data Request PoC Server CDF Charging Data
Response CDF PoC Server
* * *
#### 6.1.1.2 Structure for the Charging Data message formats
##### 6.1.1.2.0 Introduction
PoC offline charging used the Charging Data transfer with the two messages
Charging Data Request and Charging Data Response. The request can be of type
Start, Stop, Interim and Event. The Charging Data Request message includes all
charging information and the answer is just an acknowledgement of the request
message. Detailed information about the offline charging application is
described in TS 32.299 [50].
This clause describes the different fields used in the Charging Data messages.
and the category in the tables are used according to the charging data
configuration defined in clause 5.4 of TS 32.240 [1]
##### 6.1.1.2.1 Charging Data Request message
Table 6.1.1.2.1.1 illustrates the basic structure of a Charging Data Request
message as used for PoC offline charging.
Table 6.1.1.2.1.1: Charging Data Request message contents for offline charging
+-----------------------+----------+----------------------------+ | Information Element | Category | Description | +-----------------------+----------+----------------------------+ | Session Identifier | M | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Originator Host | M | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Originator Domain | M | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Destination Domain | M | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Operation Type | M | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Operation Number | M | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Operation Identifier | OM | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | | OC | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | User Name | OC | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Destination Host | OC | Used as described in TS | | | | 32.299 [50]. | +-----------------------+----------+----------------------------+ | Operation Interval | OC | | +-----------------------+----------+----------------------------+ | Origination State | OC | | +-----------------------+----------+----------------------------+ | Origination Timestamp | OC | | +-----------------------+----------+----------------------------+ | Proxy Information | - | Not used in 3GPP. | +-----------------------+----------+----------------------------+ | Route Information | - | Not used in 3GPP. | +-----------------------+----------+----------------------------+ | Operation Token | O~M~ | Used as described in TS | | | | 32.299 [50] | +-----------------------+----------+----------------------------+ | Service Information | OM | This field holds the PoC | | | | specific parameter and is | | | | described in clause 6.3. | | | | | | | | Subscription-Id is used as | | | | described in TS 32.299 | | | | [50] | +-----------------------+----------+----------------------------+
NOTE: Detailed descriptions of the fields are provided in TS 32.299 [50].
##### 6.1.1.2.2 Charging Data Response message
Table 6.1.1.2.2.1 illustrates the basic structure of a Charging Data Response
message as used for PoC charging. This message is always used by the CDF as
specified below, regardless of the PoC Server it is received from and the
Charging Data Request record type that is being replied to.
Table 6.1.1.2.2.1: Charging Data Response message contents for offline
charging
* * *
Information Element Category Description Session Identifier M Used as
described in TS 32.299 [50]. Operation Result M Used as described in TS 32.299
[50]. Originator Host M Used as described in TS 32.299 [50]. Originator Domain
M Used as described in TS 32.299 [50]. Operation Type M Used as described in
TS 32.299 [50]. Operation Number M Used as described in TS 32.299 [50].
Operation Identifier OC Used as described in TS 32.299 [50]. Error Reporting
Host - Not used in 3GPP. Operation Interval OC Used as described in TS 32.299
[50]. Origination State OC Used as described in TS 32.299 [50]. Origination
Timestamp OC Used as described in TS 32.299 [50].
* * *
### 6.1.2 GTP\' message contents
Editor\'s note:
\
{Not applicable. Refer to clause 5.2.4 for further information.}
### 6.1.3 CDR description on the B~T~ interface
#### 6.1.3.1 CDR field types
The content of the PoC CDR type is defined in table 6.1.3.3.1 and table
6.1.3.3.2. For the CDR type the field definition includes the field name,
category and description. The category in the tables are used according to the
charging data configuration defined in clause 5.4 of TS 32.240 [1]. The
detailed field descriptions are provided in TS 32.298 [51].
The CDF provides the CDRs at the B~T~ interface in the format and encoding
described in TS 32.298 [51]. Additional CDR formats and contents may be
available at the interface to the billing system to meet the requirements of
the billing system, these are outside of the scope of 3GPP standardization.
#### 6.1.3.2 CDR triggers
##### 6.1.3.2.1 PoC session related CDRs
Reflecting the usage of PoC sessions CDRs are generated by the CDF on a per
session basis. In the scope of the present document the term \"PoC session\"
refers to the following cases:
\- 1 to 1 PoC sessions;
\- PoC group sessions (1 to many).
Accounting information for SIP sessions is transferred from the PoC Server to
the CDF using Charging Data Request [start, interim and stop] messages. A PoC
session CDR is opened in the CDF upon reception of a Diameter Charging Data
Request [start] message.\ Partial CDRs may be generated upon reception of a
Charging Data Request [interim] message.\ The Diameter Charging Data Request
[Interim] message is sent by the network entity towards the CDF due to a
session modification procedure (i.e. change in media) , due to a change to
location of the user, or due to usage threshold (e.g. volume, duration, number
of change conditions).\ Session CDRs are updated, or partial CDRs are
generated upon reception of a Charging Data Request [Interim] message, which
is sent by the network entity due to expiration of the Accounting-Interim-
Interval parameter.\ The CDF closes the final session CDR upon reception of a
Charging Data Request [stop] message, which indicates that the SIP session is
terminated.
Accounting information for unsuccessful session set-up attempts may be sent by
the PoC Server to the CDF employing the Charging Data Request [event] message.
The behaviour of the CDF upon receiving Charging Data Request [event] messages
is specified in clause 6.1.3.2.2.
##### 6.1.3.2.2 Session unrelated CDRs
To reflect chargeable events not directly related to a PoC session the CDF may
generate CDRs upon the occurrence of session unrelated SIP procedures, such
as:
\- Sending/Receiving instant personal alert. Unsuccessful message shall not be
charged.
\- Sending/Receiving PoC group advertisement. Unsuccessful message shall not
be charged.
\- PoC Client subscription to the conference state (based on a PoC group
identity of the PoC group or on a PoC session identity).
\- PoC Client adding a user to a PoC session
\- PoC Client handling for PoC session locking in a particular PoC session
(simultaneous session control): the PoC Client may request to lock itself in a
particular PoC session while initiating a PoC session or at any time later
when a valid PoC session exists.
\- PoC Client handling for PoC session priority in a particular PoC session
(simultaneous session control): the PoC Client may set a PoC session priority
in a particular PoC session while initiating a PoC session or at any time
later when a valid PoC session exists.
Accounting information for SIP session-unrelated procedures is transferred
from the PoC Server to the CDF using Diameter Charging Data Request [event]
messages. Session unrelated CDRs are created in the CDF in a \"one-off\"
action based on the information contained in the Diameter Charging Data
Request [event] message. One session unrelated CDR is created in the CDF for
each Diameter Charging Data Request [event] message received, whereas the
creation of partial CDRs is not applicable for session unrelated CDRs.
#### 6.1.3.3 PoC CDR content
The detailed description of the field is provided in TS 32.298 [51].
##### 6.1.3.3.1 Participating PoC Function
Table 6.1.3.3.1.1 contains the content of Participating PoC Function (PPF)
CDR.
Table 6.1.3.3.1.1: Charging data of PPF-CDR
* * *
Field Category Description Record Type M Identifies the PoC service record.
Retransmission OC This parameter, when present, indicates that information
from retransmitted Diameter Charging Data Requests has been used in this CDR.
SIP Method OC Specifies the SIP-method for which the CDR is generated. Only
available in session unrelated cases. This parameter corresponds to Event-
Type. Node Address OM This item holds the address of the node providing the
information for the CDR. This may either be the IP address or the FQDN of the
IMS node generating the accounting data. This parameter corresponds to the O
_rigin-Host._ Session ID OM The Session identification. For a SIP session the
Session-ID contains the SIP Call ID as defined in the Session Initiation
Protocol RFC 3261 [404]. This parameter corresponds to User-Session-ID.
Calling Party Address OM The address (Public User ID) of the party requesting
a service or initiating a session. This field holds either the SIP URI
(according to RFC 3261 [404]) or the TEL URI (according to RFC 3966 [405]) of
the calling party. This parameter corresponds to Calling-Party-Address. Called
Party Address OM In the context of an end-to-end SIP transaction this field
holds the address of the party (Public User ID) to whom the SIP transaction is
posted. This parameter corresponds to Called-Party-Address. Service Request
Time Stamp OM This field contains the time stamp which indicates the time at
which the service was requested. This parameter corresponds to SIP-Request-
Timestamp in Charging Data Request[Start]. Service Delivery Start Time Stamp
OM This field holds the time stamp reflecting either: successful session set-
up, a delivery unrelated service, an unsuccessful session set-up and an
unsuccessful session unrelated request. This parameter corresponds to SIP-
Response-Timestamp in Charging Data Request[Start]. Service Delivery End Time
Stamp OC This field records the time at which the service delivery was
terminated. It is Present only in SIP session related case. This parameter
corresponds to SIP-Request-Timestamp. in Charging Data Request[Stop]. Record
Opening Time OC A time stamp reflecting the time the CDF opened this record.
Present only in SIP session related case. Record Closure Time OM A Time stamp
reflecting the time the CDF closed the record. Inter Operator Identifiers OC
Holds the identification of the home network (originating and terminating) if
exchanged via SIP signalling, as recorded in the _Inter-Operator-Identifier_.
Originating IOI OC This parameter corresponds to Originating-IOI. Terminating
IOI OC This parameter corresponds to Terminating-IOI. Local Record Sequence
Number OM This field includes a unique record number created by this node. The
number is allocated sequentially for each partial CDR (or whole CDR) including
all CDR types. The number is unique within the CDF. Record Sequence Number OC
This field contains a running sequence number employed to link the partial
records generated by the CDF for a particular session. Cause For Record
Closing OM This field contains a reason for the release of the CDR. Incomplete
CDR Indication OC This field provides additional diagnostics when the CDF
detects missing Charging Data Requests. IMS Charging Identifier OM This
parameter holds the IMS charging identifier (ICID) as generated by the IMS
node for the SIP session. This parameter corresponds to IMS-Charging-
Identifier (ICID). SDP Session Description OC Holds the Session portion of the
SDP data exchanged between the User Agents if available in the SIP
transaction. This parameter corresponds to SDP‑Session‑Description. List of
SDP Media Components OC This is a grouped field comprising several sub-fields
associated with one media component. It may occur several times in one CDR.
The field is present only in a SIP session related case. SIP Request Timestamp
OM This parameter contains the time of the SIP Request (usually a (Re)Invite).
This parameter corresponds to SIP-Request-Timestamp in INTERIM Charging Data
Request. SIP Response Timestamp OM This parameter contains the time of the
response to the SIP Request (usually a 200 OK). This parameter corresponds to
SIP-Response-Timestamp in INTERIM Charging Data Request. SDP Media Components
OM This is a grouped field comprising several sub-fields associated with one
media component. Since several media components may exist for a session in
parallel these sub-fields may occur several times. This parameter corresponds
to SDP‑Media-Component. SDP Media Name OM This field holds the name of the
media as available in the SDP data. This parameter corresponds to SDP-Media-
Name. SDP Media Description OM This field holds the attributes of the media as
available in the SDP data. This parameter corresponds to SDP-Media-
Description. GPRS Charging ID OC This parameter holds the GPRS charging ID
(GCID) which is generated by the GGSN for a GPRS PDP context. This parameter
corresponds to GPRS-Charging-Id. Media Initiator flag OC This field indicates
if the called party has requested the session modification and it is present
only if the initiator was the called party. Media Initiator Party OC This
field indicates the address (SIP URI or TEL URI) of the party (Public User ID
or Public Service ID) who initiates the media action, like adding/removing the
media. GGSN Address OC This parameter holds the control plane IP address of
the GGSN that handles one or more media component(s) of a IMS session. This
parameter corresponds to the P‑Charging-Vector header. Service Delivery
Failure Reason OC Holds the reason for why a requested service could not be
successfully provided (i.e. SIP error codes taken from _SIP-Method_). This
field is not present in case of a successful service delivery. Service
Specific Data OC This field contains service specific data. List of Message
Bodies OC This grouped field comprising several sub-fields describing the data
that may be conveyed end-to-end in the body of a SIP message. Since several
message bodies may be exchanged via SIP-signalling, this grouped field may
occur several times. Content Type OC This sub-field of Message Bodies holds
the MIME type of the message body, Examples are: application/zip, image/gif,
audio/mpeg, etc. This parameter corresponds to Event-Type / Content-Type.
Content Disposition OC This sub-field of Message Bodies holds the content
disposition of the message body inside the SIP signalling, Content-disposition
header field equal to \"render\", indicates that \"the body part should be
displayed or otherwise rendered to the user\". Content disposition values are:
session, render, inline, icon, alert, attachment, etc. This parameter
corresponds to Event-Type / Content-Disposition. Content Length OC This sub-
field of Message Bodies holds the size of the data of a message body in bytes.
This parameter corresponds to Event-Type / Content-Length. Originator OC This
sub-field of the \"List of Message Bodies\" indicates the originating party of
the message body. This parameter corresponds to P-Asserted-Identity header.
PoC Information OC A set of PoC specific parameters such as PoC session Type,
PoC Server Role and the accumulated send/received talk burst information of
the participant. . See clause 6.3.1.2. User Location Info O~C~ This field
holds information about the location of the user to the level of that made
available to the PoC Server. If no location information is available then this
parameter is not included. Service Context Id O~M~ Holds the context
information to which the CDR belongs Record Extensions OC A set of
operator/manufacturer specific extensions to the record, conditioned upon
existence of an extension.
* * *
##### 6.1.3.3.2 Controlling PoC Function
Table 6.1.3.3.2.1 contains the content of Controlling PoC Function (CPF) CDR.
Table 6.1.3.3.2.1: Charging data of CPF-CDR
* * *
Field Category Description Record Type M Identifies the PoC service record.
Retransmission OC This parameter, when present, indicates that information
from retransmitted Diameter Charging Data Requests has been used in this CDR.
SIP Method OC Specifies the SIP-method for which the CDR is generated. Only
available in session unrelated cases. This parameter corresponds to Event-
Type. Node Address OM This item holds the address of the node providing the
information for the CDR. This may either be the IP address or the FQDN of the
IMS node generating the accounting data. This parameter corresponds to the O
_rigin-Host._ Session ID OM The Session identification. For a SIP session the
Session-ID contains the SIP Call ID as defined in the Session Initiation
Protocol RFC 3261 [404]. This parameter corresponds to User-Session-ID.
Calling Party Address OM The address (Public User ID) of the party requesting
a service or initiating a session. This field holds either the SIP URI
(according to RFC 3261 [404]) or the TEL URI (according to RFC 3966 [405]) of
the calling party. This parameter corresponds to Calling-Party-Address. Called
Party Address OM In the context of an end-to-end SIP transaction this field
holds the address of the party (Public User ID) to whom the SIP transaction is
posted. This parameter corresponds to Called-Party-Address. Service Request
Time Stamp OM This field contains the time stamp which indicates the time at
which the service was requested. This parameter corresponds to SIP-Request-
Timestamp in START Charging Data Request. Service Delivery Start Time Stamp OM
This field holds the time stamp reflecting either: successful session set-up,
a delivery unrelated service, an unsuccessful session set-up and an
unsuccessful session unrelated request. This parameter corresponds to SIP-
Response-Timestamp in START Charging Data Request. Service Delivery End Time
Stamp OC This field records the time at which the service delivery was
terminated. It is Present only in SIP session related case. This parameter
corresponds to SIP-Request-Timestamp in STOP Charging Data Request. Record
Opening Time OC A time stamp reflecting the time the CDF opened this record.
Present only in SIP session related case. Record Closure Time OM A Time stamp
reflecting the time the CDF closed the record. Inter Operator Identifiers OC
Holds the identification of the home network (originating and terminating) if
exchanged via SIP signalling, as recorded in the _Inter-Operator-Identifier._
Originating IOI OC This parameter corresponds to Originating-IOI. Terminating
IOI OC This parameter corresponds to Terminating-IOI. Local Record Sequence
Number OM This field includes a unique record number created by this node. The
number is allocated sequentially for each partial CDR (or whole CDR) including
all CDR types. The number is unique within the CDF. Record Sequence Number OC
This field contains a running sequence number employed to link the partial
records generated by the CDF for a particular session. Cause For Record
Closing OM This field contains a reason for the release of the CDR. Incomplete
CDR Indication OC This field provides additional diagnostics when the CDF
detects missing Charging Data Requests. IMS Charging Identifier OM This
parameter holds the IMS charging identifier (ICID) as generated by the IMS
node for the SIP session. This parameter corresponds to IMS-Charging-
Identifier (ICID). SDP Session Description OC Holds the Session portion of the
SDP data exchanged between the User Agents if available in the SIP
transaction. This parameter corresponds to SDP‑Session‑Description. List of
SDP Media Components OC This is a grouped field comprising several sub-fields
associated with one media component. It may occur several times in one CDR.
The field is present only in a SIP session related case. SIP Request Timestamp
OM This parameter contains the time of the SIP Request (usually a (Re)Invite).
This parameter corresponds to SIP-Request-Timestamp in INTERIM Charging Data
Request. SIP Response Timestamp OM This parameter contains the time of the
response to the SIP Request (usually a 200 OK). This parameter corresponds to
SIP-Response-Timestamp in INTERIM Charging Data Request. SDP Media Components
OM This is a grouped field comprising several sub-fields associated with one
media component. Since several media components may exist for a session in
parallel these sub-fields may occur several times. This parameter corresponds
to SDP‑Media-Component. SDP Media Name OM This field holds the name of the
media as available in the SDP data. This parameter corresponds to SDP-Media-
Name. SDP Media Description OM This field holds the attributes of the media as
available in the SDP data. This parameter corresponds to SDP-Media-
Description. Media Initiator flag OC This field indicates if the called party
has requested the session modification and it is present only if the initiator
was the called party. Media Initiator Party OC This field indicates the
address (SIP URI or TEL URI) of the party (Public User ID or Public Service
ID) who initiates the media action, like adding/removing the media. GGSN
Address OC This parameter holds the control plane IP address of the GGSN that
handles one or more media component(s) of a IMS session. This parameter
corresponds to the P‑Charging-Vector header. For the controlling PoC Server,
this is only included if the charged party is participating in the session.
Service Delivery Failure Reason OC Holds the reason for why a requested
service could not be successfully provided (i.e. SIP error codes taken from
_SIP-Method_). This field is not present in case of a successful service
delivery. Service Specific Data OC This field contains service specific data.
List of Message Bodies OC This grouped field comprising several sub-fields
describing the data that may be conveyed end-to-end in the body of a SIP
message. Since several message bodies may be exchanged via SIP-signalling,
this grouped field may occur several times. Content Type OC This sub-field of
Message Bodies holds the MIME type of the message body, Examples are:
application/zip, image/gif, audio/mpeg, etc. This parameter corresponds to
Event-Type / Content-Type. Content Disposition OC This sub-field of Message
Bodies holds the content disposition of the message body inside the SIP
signalling, Content-disposition header field equal to \"render\", indicates
that \"the body part should be displayed or otherwise rendered to the user\".
Content disposition values are: session, render, inline, icon, alert,
attachment, etc. This parameter corresponds to Event-Type / Content-
Disposition. Content Length OC This sub-field of Message Bodies holds the size
of the data of a message body in bytes. This parameter corresponds to Event-
Type / Content-Length. Originator OC This sub-field of the \"List of Message
Bodies\" indicates the originating party of the message body. This parameter
corresponds to P-Asserted-Identity header. PoC Information OC A set of PoC
specific parameters such as PoC session Type, PoC Server Role, Number and List
of Participants and the accumulated talk burst information during the PoC
session. See clause 6.3.1.2. User Location Info O~C~ This field holds
information about the location of the charged party to the level of that made
available to the PoC Server. If no location information is available then this
parameter is not included. For the controlling PoC Server, this additionally
is only included if the charged party is participating in the session. Service
Context Id O~M~ Holds the context information to which the CDR belongs Record
Extensions OC A set of operator/manufacturer specific extensions to the
record, conditioned upon existence of an extension.
* * *
## 6.2 Data description for PoC online charging
### 6.2.0 General
PoC online charging is using Debit / Reserve Units operation. with the two
messages Debit / Reserve Units Request and Debit / Reserve Units Reponse The
request performs rating of the PoC service and reserves units on the users
account. The answer replies back with amount of reserved units or an error
code if the user is out of credit.
Detailed information about the used of Diameter Credit-Control Application is
described in TS 32.299 [50]
Table 6.2.0.1 describes the use of these messages for online charging.
Table 6.2.0.1: Online charging messages reference table
* * *
Message Source Destination Debit / Reserve Units Request PoC Server OCS Debit
/ Reserve Units Reponse OCS PoC Server
* * *
The structure of the Debit / Reserve Units Request and Debit / Reserve Units
Reponse messages defined in the following clauses. The category in the tables
are used according to the charging data configuration defined in clause 5.4 of
TS 32.240 [1]..
### 6.2.1 Ro message contents
#### Void.
#### 6.2.1.1 Debit / Reserve Units Request message
Table 6.2.1.1 illustrates the basic structure of a Debit / Reserve Units
Request message from the PoC Server as used for PoC online charging.
Table 6.2.1.1: Debit / Reserve Units Request message contents
* * *
Information Element Category Description Session Identifier M Used as
described in TS 32.299 [50]. Originator Host M Used as described in TS 32.299
[50]. Originator Domain M Used as described in TS 32.299 [50]. Destination
Domain M Used as described in TS 32.299 [50]. Operation Identifier M Used as
described in TS 32.299 [50]. Operation Token M Used as described in TS 32.299
[50] Operation Type M Used as described in TS 32.299 [50]. Operation Number M
Used as described in TS 32.299 [50]. Destination Host OC Used as described in
TS 32.299 [50]. User Name OC Used as described in TS 32.299 [50]. Origination
State OC Used as described in TS 32.299 [50]. Origination Timestamp OC Used as
described in TS 32.299 [50]. Subscriber Identifier OC Used as described in TS
32.299 [50]. Termination Cause OC Used as described in TS 32.299 [50].
Requested -Action OC Used as described in TS 32.299 [50]. Multiple Operation
OM Used as described in TS 32.299 [50]. Multiple Unit Operation OC Used as
described in TS 32.299 [50]. Subscriber Equipment Number - Not used in PoC
charging. Proxy Information - Not used. Route Information OC Used as described
in TS 32.299 [50]. Service-Information OM This field holts the PoC specific
parameter and is described in clause 6.3.
* * *
The protocol specific parameter definition is specified in TS 32.299 [50].
#### 6.2.1.2 Debit / Reserve Units Response message
Table 6.2.1.2.1 illustrates the basic structure of a Debit / Reserve Units
Response message as used for the PoC Server. This message is always used by
the OCS as specified below, independent of the receiving PoC Server and the
Debit / Reserve Units Request request type that is being replied to.
Table 6.2.1.2.1: Debit / Reserve Units Response message
* * *
Information Element Category Description Session Identifier M Used as
described in TS 32.299 [50]. Operation Result M Used as described in TS 32.299
[50]. Originator Host M Used as described in TS 32.299 [50]. Originator Domain
M Used as described in TS 32.299 [50]. Operation Identifier M Used as
described in TS 32.299 [50]. Operation Type M Used as described in TS 32.299
[50]. Operation Number M Used as described in TS 32.299 [50]. Operation
Failover O~C~ Used as described in TS 32.299 [50]. Multiple Unit Operation
O~C~ Used as described in TS 32.299 [50]. Operation Failure Action O~C~ Used
as described in TS 32.299 [50]. Operation Event Failure ActionRedirection Host
- Not used in PoC charging. O~C~ Used as described in TS 32.299 [50].
Redirection Host Usage O~C~ Used as described in TS 32.299 [50]. Redirection
Cache Time O~C~ Used as described in TS 32.299 [50]. Proxy Information - Not
used in PoC charging . Route Information O~C~ Used as described in TS 32.299
[50]. Failed parameter O~C~ Used as described in TS 32.299 [50].
* * *
## 6.3 PoC charging specific parameters
### 6.3.1 Definition of the PoC charging information
#### 6.3.1.0 General
The PoC Information parameter used for PoC charging is provided in the Service
Information parameter.
#### 6.3.1.1 PoC charging information assignment for Service Information
The components that are used for PoC charging are provided in the Service
Information as described in table 6.3.1.1.1.
Table 6.3.1.1.1: Components of the Service Information used for PoC charging
* * *
Information Element Category Description Service Information OM A set of
fields hold the 3GPP specific parameter as defined in TS 32.299 [50]. For MMS
Charging the PS Information, IMS Information and PoC Information are used.
Subscriber Identifier OM Used as defined in TS 32.260 [20]. PS Information OC
A set of fields hold the PS specific parameters. The details are defined in TS
32.251 [11]. User Location Info OC Used as defined in TS 32.251 [11]. GGSN
Address OC Used as defined in TS 32.251 [11]. IMS Information OC A set of
fields hold the IMS specific parameters. The details are defined in TS 32.260
[20]. Event Type OC Used as defined in TS 32.260 [20]. User Session ID OC Used
as defined in TS 32.260 [20]. Calling Party Address OC Used as defined in TS
32.260 [20]. Called Party Address OC Used as defined in TS 32.260 [20]. Time
stamp OC Used as defined in TS 32.260 [20]. Inter Operator Identifier OC Used
as defined in TS 32.260 [20]. IMS Charging Identifier OC Used as defined in TS
32.260 [20]. SDP Session Description OC Used as defined in TS 32.260 [20]. SDP
Media Components OC Used as defined in TS 32.260 [20]. Cause Code OC Used as
defined in TS 32.260 [20]. PoC Information OM A set of fields hold the PoC
specific parameters. The details are defined in clause 6.3.1.2.
* * *
#### 6.3.1.2 Definition of the PoC Information
PoC specific charging information is provided within the PoC_Information. The
detailed structure of the PoC_Information can be found in table 6.3.1.2.1.
Table 6.3.1.2.1: Structure of the PoC Information
+----------------------------+----------+----------------------------+ | Information Element | Category | Description | +----------------------------+----------+----------------------------+ | PoC Server Role | OM | Identifies the PoC Server | | | | as participating or | | | | controlling PoC Server. | +----------------------------+----------+----------------------------+ | PoC User Role | OC | Identifies the PoC user's | | | | role detailed information | | | | which should be a list of | | | | roles information group. | | | | See further details in | | | | OMA-AD-POC document | | | | [203]. | +----------------------------+----------+----------------------------+ | PoC Session Type | OM | Type of the PoC session as | | | | defined in appendix C.5.1 | | | | in OMA-CP-POC [204]. | +----------------------------+----------+----------------------------+ | Number Of Participants | OM | Indicates the number of | | | | invited parties of the PoC | | | | session when included in | | | | the initial charging | | | | request message. When | | | | included in interim / | | | | update charging messages, | | | | it indicates the number of | | | | parties currently who are | | | | attached to the session at | | | | the time the interim / | | | | update charging messages | | | | are sent. | +----------------------------+----------+----------------------------+ | List Of Participants | OC | Holds the information for | | | | participants, e.g., the | | | | addresses, the access | | | | priority, the user | | | | participating type of the | | | | invited parties of the PoC | | | | session when included in | | | | the initial charging | | | | request message. When | | | | included in the interim | | | | /update charging messages, | | | | it holds the addresses and | | | | access priority of the | | | | parties currently who are | | | | attached to the session at | | | | the time the interim / | | | | update charging messages | | | | are sent. | +----------------------------+----------+----------------------------+ | Called Party Address | OC | The address (Public User | | | | ID, SIP URL, E.164, etc.) | | | | of the participants. | +----------------------------+----------+----------------------------+ | Participant Access | OC | Indicates the user | | Priority | | priority level when | | | | participating in the PoC | | | | session. | +----------------------------+----------+----------------------------+ | User Participating Type | OC | Indicates the | | | | participating user type | | | | when participating in the | | | | PoC session, i.e. Normal, | | | | NW PoC Box, UE PoC Box. | +----------------------------+----------+----------------------------+ | PoC Session initiation | OC | Indicates PoC session | | type | | initiation type. It can be | | | | only used for the served | | | | parties. | +----------------------------+----------+----------------------------+ | PoC Event Type | OC | Indicates PoC session | | | | unrelated charging event. | +----------------------------+----------+----------------------------+ | List Of Talk | OC | Applicable to offline | | Burst-Exchange | | charging only - a list of | | | | changes in charging | | | | conditions for the PoC | | | | session, each change is | | | | time stamped. Charging | | | | conditions are used to | | | | categorize charging, such | | | | as per tariff period or | | | | based on the number of | | | | participants. A set of | | | | charging data (number of | | | | talk bursts, talk burst | | | | bearer volume, sum of talk | | | | bursts time) for sent and | | | | received talk burst. | +----------------------------+----------+----------------------------+ | PoC Controlling Address | O~C~ | Identifies the PoC Server | | | | performing the controlling | | | | function. This is only | | | | included when PoC Server | | | | Role indicates | | | | \"participating\". This | | | | information may be | | | | obtained from the | | | | \"Contact\" header of SIP | | | | message received from the | | | | controlling PoC function. | +----------------------------+----------+----------------------------+ | PoC Group Name | O~C~ | Identifies a pre-arranged | | | | group. Included if the | | | | session is a pre-arranged | | | | group session. This | | | | information may be | | | | obtained from the | | | | \"P-Asserted-Identity\" | | | | header of the SIP message | | | | received from the | | | | controlling PoC function, | | | | or from the | | | | \"Request-URI\" header | | | | from the PoC user. | +----------------------------+----------+----------------------------+ | PoC Session Id | O~C~ | Uniquely identifies an | | | | end-to-end PoC session. | | | | | | | | Note that the PoC | | | | Session-Id may not be | | | | available in the initial | | | | charging interactions for | | | | the PoC session. | +----------------------------+----------+----------------------------+ | Served Party | OM | Applicable to offline | | | | charging only -- holds the | | | | identity of the party that | | | | the charging information | | | | relates to. | +----------------------------+----------+----------------------------+
### 6.3.2 Formal parameter description
#### 6.3.2.1 PoC charging information for CDRs
The detailed definitions, abstract syntax and encoding of the PoC CDR
parameters are specified in TS 32.298 [51].
#### 6.3.2.2 PoC charging information for charging events
The detailed charging event parameter definitions are specified in TS 32.299
[50].
###### ## Annex A (informative): Bibliography
This Annex is a placeholder for documents which are not explicitly cited in
this specification.
#