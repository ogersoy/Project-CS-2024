# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document is part of a series of documents that specify charging
functionality and charging management in 3GPP networks. The 3GPP core network
charging architecture and principles are specified in 3GPP TS 32.240 [2],
which provides an umbrella for other charging management TSs that specify:
\- the content of the CDRs per domain / subsystem / service (offline
charging);
\- the content of real-time charging messages per domain / subsystem / service
(online charging);
\- the functionality of online and offline charging for those domains /
subsystems / services;
\- the interfaces that are used in the charging framework to transfer the
charging information (i.e. CDRs or charging events).
The complete document structure for these TSs is defined in 3GPP TS 32.240
[2].
The present document specifies the converged offline and online charging
description for the Edge Computing domain based on the functional stage 2
description in 3GPP TS 23.501 [8] and 3GPP TS 23.558 [9].
Edge computing in 5G environment involves the services or capabilities
provided by multiple service providers and entities in the form of following
business roles:
\- ASP providing edge application service to the subscribers;
\- ECSP providing edge enabling infrastructure and edge enabling services to
ASP;
\- MNO providing 5GS capabilities supporting edge computing.
The present document specifies following charging aspects for Edge Computing:
\- Subscriber charging:
\- MNO charges the subscribers for usage of 5GS capabilities supporting edge
computing.
\- Service-provider charging:
\- MNO charges the industry consumer (e.g. ECSP, ASP) for 5GS capabilities
provided to support edge computing in total instead of for each individual
subscriber;
\- ECSP charges the ASP for the edge enabling infrastructure and services.
NOTE: In the Edge Computing deployments, there could be scenarios where one or
more of the business roles are supported by a single enterprise, i.e. one
enterprise may play a single business role or multiple business roles, for
instance the enterprise may only play the MNO role, or play both MNO and ESCP
roles. There could be various business models between the service providers
and the served consumer(s) for edge computing in 5G environment in manifold
business modes such as B2C, B2B and B2B2X, for example (but not limited to).
The present document does not impose restrictions to any possible business
model or deployment scenario for Edge Computing.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[3] 3GPP TS 32.298: \"Telecommunication management; Charging management;
Charging Data Record (CDR) parameter description\".
[4] 3GPP TS 32.297: \"Telecommunication management; Charging management;
Charging Data Record (CDR) file format and transfer\".
[5] 3GPP TS 32.295: \"Telecommunication management; Charging management;
Charging Data Record (CDR) transfer\".
[6] 3GPP TS 32.290: \"Telecommunication management; Charging management; 5G
system; Services, operations and procedures of charging using Service Based
Interface (SBI)\".
[7] 3GPP TS 32.291: \"Telecommunication management; Charging management; 5G
system, charging service; Stage 3\".
[8] 3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".
[9] 3GPP TS 23.558: \"Architecture for enabling Edge Applications\".
[10] 3GPP TS 23.548 \"5G System Enhancements for Edge Computing; Stage 2\".
[11] 3GPP TS 32.255: \"Telecommunication management; Charging management; 5G
Data connectivity domain charging; stage 2\".
[12] 3GPP TS 28.538: \"Management and orchestration; Edge Computing
Management\".
[13] 3GPP TS 28.552: \"Management and orchestration; 5G performance
measurements\".
[14] 3GPP TS 28.550: \"Management and orchestration; Performance assurance\".
[15] 3GPP TS 28.532: \"Management and orchestration; Generic management
services\".
[16] 3GPP TS 32.254: \"Telecommunication management; Charging management;
Exposure function Northbound Application Program Interfaces (APIs) charging\".
[17] 3GPP TS 29.558: \"Enabling Edge Applications; Application Programming
Interface (API) specification; Stage 3\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Bee Reference point for the CDR file transfer from the EDGE CGF to the BD.
Ga Reference point for CDR transfer between a CDF and CGF.
Nchf Service based interface exhibited by CHF.
N49 Reference point between EES and CHF.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1], 3GPP TS 23.501 [8], 3GPP TS 23.558 [9], 3GPP TS 23.548 [10] and
the following apply. An abbreviation defined in the present document takes
precedence over the definition of the same abbreviation, if any, in 3GPP TR
21.905 [1], 3GPP TS 23.501 [8], 3GPP TS 23.558 [9] and 3GPP TS 23.548 [10].
ASP Application Service Provider
CEF Charging Enablement Function
CHF Charging Function
EAS Edge Application Server
ECSP Edge Computing Service Provider
EES Edge Enabler Server
MNO Mobile Network Operator
MnS Management Service
MOI Managed Object Instance
# 4 Architecture considerations
## 4.1 High-level architectures
### 4.1.1 High-level 5G System architecture
#### 4.1.1.1 5GS Reference Architecture for Supporting Edge Computing
The 5GS architecture for supporting Edge Computing is defined in 3GPP TS
23.548 [10] based on the reference architectures specified in clause 4.2 of
3GPP TS 23.501 [8].
Figure 4.1.1.1-1 depicts 5GS architecture for non-roaming scenario supporting
Edge Computing with UL CL/BP.
Figure 4.1.1.1-1: 5GS providing access to EAS with UL CL/BP for non-roaming
scenario
Figure 4.1.1.1-2 depicts 5GS architecture for non-roaming scenario supporting
Edge Computing without UL CL/BP.
Figure 4.1.1.1-2: 5GS providing access to EAS without UL CL/BP for non-roaming
scenario
### 4.1.2 High-level architecture for enabling edge applications
The following high-level architectures for enabling edge applications are
defined in 3GPP TS 23.558 [9]. Figure 4.1.2‑1 depicts the service based
representation of architecture for enabling edge applications.
Figure 4.1.2-1: Architecture for enabling edge applications - service-based
representation
Figure 4.1.2-2 depicts the service-based representation for utilization of the
5GS network services.
Figure 4.1.2-2: Utilization of 5GS network services based on the 5GS SBA -\
service based representation
Figure 4.1.2-3 depicts the reference point representation of the architecture
for edge enabling applications.
Figure 4.1.2-3: Architecture for enabling edge applications - reference points
representation
## 4.2 Edge Computing domain converged charging architecture
### 4.2.1 Converged charging architecture for 5GS usage based charging for
Edge Computing
For 5GS usage based charging for Edge Computing, the 5G data connectivity
domain converged charging architecture defined in 3GPP TS 32.255 [11] is
applied.
### 4.2.2 Converged charging architecture with MnS producer enabled by CEF
The CEF consumes the MnS from the MnS producer for EAS management (see 3GPP TS
28.538 [12]), and determines the occurrence of charging events towards to the
CHF for converged charging processing. The CDRs generation is performed by the
CHF acting as a CDF, which _transfers them to the CGF.\ Finally, the CGF
creates CDR files and forwards them to the BD._
If the CGF is external, the CHF acting as a CDF, forwards the CDRs to the CGF
across the Ga interface.\ If the CGF is integrated, there is only one internal
interface between the CHF and the CGF. In this case, the relationship between
CHF and CGF is 1:1. An integrated CGF may support the Ga interface from other
CDFs.
When an external CGF is used, this CGF may also be used by other, i.e.
non-5GCS, network elements, according to network design and operator decision.
It should be noted that the CGF may also be an integrated component of the BD
- in this case, the Bd interface does not exist and is replaced by a
proprietary solution internal to the BD.
Figure 4.2.2-1 depicts the architectural options for converged charging with
support of MnS producer.
Figure 4.2.2-1: Converged charging architecture with MnS producer enabled by
CEF
### 4.2.3 Converged charging architecture with CTF embedded in EES
The EES embedding the CTF, generates _charging events towards the CHF_ for
edge enabling services usage.
Figure 4.2.3-1 depicts the architectural options for converged charging of
edge enabling services.
Figure 4.2.3-1: Converged charging architecture with CTF embedded in EES
Figure 4.2.3-2 depicts the edge enabling services charging architecture in
reference point representation.
Figure 4.2.3-2: Edge enabling services charging architecture in reference
point representation
# 5 Edge Computing charging principles and scenarios
## 5.1 Edge Computing charging principles
### 5.1.1 Overview
The charging for Edge Computing domain includes charging for the following
aspects:
\- 5GS usage for Edge Computing (in clause 5.1.2);
\- Edge enabling infrastructure resource usage (in clause 5.1.3);
\- Edge application server deployment (in clause 5.1.4); and
\- Edge enabling services usage (in clause 5.1.5).
### 5.1.2 Charging principles for 5GS usage for Edge Computing
#### 5.1.2.1 General
The charging for 5GS usage for Edge Computing is based on the charging
functions and principles for 5G data connectivity charging specified in 3GPP
TS 32.255 [11].
And, the charging information for PDU sessions and service data flows are
correlated to each edge application.
The charging functions for 5GS usage for Edge Computing supports both
subscriber based charging and inter-provider based charging.
The charging for 5GS usage for each application should be able to take the
monitored QoS (e2e packet delay in 5GS, see 3GPP TS 23.501 [8]) into account.
#### 5.1.2.2 Requirements
The following are high-level charging requirements specific to the charging
for 5GS usage for Edge Computing, derived from the requirements in 3GPP TS
23.501 [8], 3GPP TS 23.548 [10], and based on the 5G data connectivity
charging requirements specified in 3GPP TS 32.255 [11]:
\- The SMF shall be able to provide the information for correlating the PDU
session and service data flow to the edge application for charging.
\- The SMF should be able to report the monitored QoS result (e2e packet delay
in 5GS, see 3GPP TS 23.501 [8]) along with the 5GS usage for each edge
application.
#### 5.1.2.3 Charging information
The charging information for 5GS usage for Edge Computing is collected for
each UE and each edge application by the SMFs, and are specified in TS 32.255
[11].
#### 5.1.2.4 CHF selection
The CHF Address(es) selection by the SMF for 5GS usage for Edge Computing are
specified in TS 32.255 [11].
### 5.1.3 Charging principles for edge enabling infrastructure resource usage
#### 5.1.3.1 General
In the present specification, the charging is specified for the usage of edge
enabling infrastructure resources in the EDN of an ECSP to run the virtualized
EAS (i.e. EAS is implemented as VNF) provided by an ASP.
The charging for edge enabling infrastructure resources usage, is based on the
MnS(s) for performance assurance of Edge Computing specified in 3GPP TS 28.538
[12], including following resources usage for EAS:
\- mean virtual CPU usage;
\- mean virtual memory usage;
\- mean virtual disk usage;
\- data volumes.
The time window during which the charging for edge enabling infrastructure
resource usage needs to be enabled, and the criteria (e.g. thresholds) for
triggering the charging may be locally configured to CEF, and cannot be
controlled by CHF.
#### 5.1.3.2 Requirements
The following are high-level charging requirements specific to the edge
enabling infrastructure resources charging:
\- The CEF shall be able to consume the MnS (see 3GPP TS 28.538 [12]) to
collect the following performance measurements about the usage of enabling
infrastructure resources that are supporting to run the virtualized EAS, and
enable converged charging when the CEF has fetched the performance data file
containing these measurements or the CEF receives the performance data of
these measurements by the reportStreamData operation from MnS producer:
\- mean virtual CPU usage (see 3GPP TS 28.552 [13]);
\- mean virtual memory usage (see 3GPP TS 28.552 [13]);
\- mean virtual disk usage (see 3GPP TS 28.552 [13]);
\- data volumes (see 3GPP TS 28.552 [13]).
#### 5.1.3.3 Charging information
Charging information for edge enabling infrastructure resources usage charging
is collected for each EAS by the CEF from the MnS, with the information
identifying the EDN where the edge enabling infrastructure resources are
allocated and the information indicating the collection period of the
measurements related to the edge enabling infrastructure resources usage.
#### 5.1.3.4 CHF selection
The CHF Address(es) selection by the CEF is done during the EAS deployment
process based on the following options:
\- NRF based discovery.
\- CEF locally provisioned charging characteristics.
The priority order between these options depends on Operator\'s policies.
Once selected, these CHF Address(es) shall be used as long as the EAS is
deployed in the EDN.
### 5.1.4 Charging principles for edge application server deployment
#### 5.1.4.1 General
In the present specification, the charging is specified for deployment of
virtualized EAS in the EDN by an ECSP for an ASP.
The charging for edge application server deployment, is based on the MnS(s)
for LCM (LifeCycle Management) of Edge Computing specified in 3GPP TS 28.538
[12], including following deployment activities for EAS:
\- EAS instantiation;
\- EAS upgrade;
\- EAS termination.
#### 5.1.4.2 Requirements
The following are high-level charging requirements specific to the EAS
deployment charging:
\- The CEF shall be able to consume the MnS (see 3GPP TS 28.538 [12]) to
receive the notifications about EAS deployment, and enable charging for the
EAS deployment which includes:
\- EAS instantiation (see 3GPP TS 28.538 [12]);
\- EAS upgrade (see 3GPP TS 28.538 [12]);
\- EAS termination (see 3GPP TS 28.538 [12]).
#### 5.1.4.3 Charging information
Charging information for EAS deployment charging is collected for each EAS by
the CEF from the MnS.
The CEF collects the following charging information for converged charging of
EAS deployment charging:
\- EAS deployment requirements: the requirements for EAS deployment (e.g. the
topological or geographical service areas, software image information), see TS
28.538 [12];
\- EAS: the charging information identifying the EAS which the LCM is for;
\- EDN: the charging information identifying the EDN where the EAS is/was
deployed;
\- LCM Event Type: the charging information identifying the EAS deployment
notification;
\- LCM start time: the charging information indicating the start time of the
LCM process;
\- LCM end time: the charging information indicating the end time of the LCM
process.
#### 5.1.4.4 CHF selection
The CHF Address(es) selection by the CEF is done during the EAS deployment
process based on the following options:
\- NRF based discovery.
\- CEF locally provisioned charging characteristics.
The priority order between these options depends on Operator\'s policies.
Once selected, these CHF Address(es) shall be used as long as the EAS is
deployed in the EDN.
### 5.1.5 Charging principles for edge enabling services
#### 5.1.5.1 General
In the present specification, the charging is specified for edge enabling
services provided by an ECSP to an ASP.
The charging for edge enabling services, is based on the edge application
enabling functionalities specified in 3GPP TS 23.558 [9], including the
services directly provided by ECSP to ASP, and the 3GPP 5GC NF services
exposed by ECSP to ASP:
\- Edge enabling services directly provided by ECSP to ASP:
\- EAS registration;
\- EAS discovery;
\- Support to Service Continuity;
\- Application Client information subscription/notification;
\- Edge enabling services exposed by ECSP to ASP:
\- Obtaining UE location;
\- ACR management events subscription;
\- Session with QoS.
#### 5.1.5.2 Requirements
The following are high-level charging requirements specific to the edge
enabling services charging:
\- The EES shall support converged charging for edge enabling services using
service based interface.
\- The EES shall support converged charging per EAS registration.
\- The EES shall support converged charging per EAS discovery.
\- The EES shall support converged charging per Service Continuity support.
\- The EES shall support converged charging per Application Client information
exposure.
\- The EES shall support converged charging per UE location Obtaining.
\- The EES shall support converged charging ACR management events
subscription.
\- The EES shall support converged charging per Session with QoS.
#### 5.1.5.3 Charging information
Charging information for edge enabling services charging is collected for each
EAS by EES(es).
The EES collects the following charging information for converged charging of
edge enabling services charging:
\- EAS: the charging information identifying the EAS for which the edge
enabling service is provided;
\- EDN: the charging information identifying the EDN where the EAS is/was
deployed;
\- EES: the charging information indicating the EES which triggers the
charging;
\- Triggering event: the triggering events of charging for edge enabling
services;
\- Triggering event specific information: the charging information specific to
the triggering event of charging for edge enabling services.
#### 5.1.5.4 CHF selection
The CHF Address(es) selection by the CEF is done during the EAS deployment
process based on the following options:
\- NRF based discovery.
\- CEF locally provisioned charging characteristics.
The priority order between these options depends on Operator\'s policies.
Once selected, these CHF Address(es) shall be used as long as the EAS is
deployed in the EDN.
## 5.2 Edge Computing converged online and offline charging scenarios
### 5.2.1 Charging scenarios for 5GS usage for Edge Computing
#### 5.2.1.1 General
The scenarios, principles, message flows, CDR generation, Ga record transfer
flows and Bd CDR file transfer for converged online and offline charging for
5G data connectivity specified in 3GPP TS 32.255 [11] are also applied to 5GS
usage charging for Edge Computing.
In addition, the SMF provides the information for correlating the PDU session
and service data flow to the edge application for charging, and optionally
reports the monitored QoS result (e2e packet delay obtained by QoS monitoring
in 5GS, see 3GPP TS 23.501 [8]) along with the 5GS usage for charging.
### 5.2.2 Charging scenarios for edge enabling infrastructure resource usage
#### 5.2.2.1 Basic principles
##### 5.2.2.1.1 General
Converged charging for edge enabling infrastructure resources usage may be
performed by the CEF interacting with CHF using Nchf specified in 3GPP TS
32.290 [6] and 3GPP TS 32.291 [7]. In order to provide the data required for
the management activities outlined in 3GPP TS 32.240 [1] (Credit-Control,
accounting, billing, statistics, etc.), the CEF shall be able to perform
converged charging for each of the following:
\- virtual CPU usage (see VR.VCpuUsageMean in clause 5.7.1.1.1 of 3GPP TS
28.552 [13]);
\- virtual memory usage (see VR.VMemoryUsageMean in clause 5.7.1.2.1 of 3GPP
TS 28.552 [13]);
\- virtual disk usage (see VR.VDiskUsageMean in clause 5.7.1.3.1 in 3GPP TS
28.552 [13]);
\- data volumes (see DataVolum.InBytesEAS in clause 5.7.2.1 and
DataVolum.OutBytesEAS in clause 5.7.2.2 of 3GPP TS 28.552 [13]).
The CEF shall request the MnS producer to create the measurement job for
collecting the performance measurements on the usage of edge infrastructure
resource for supporting the EAS.
Once the performance measurements on the usage of edge infrastructure resource
are received or obtained, the CEF shall be able to report the corresponding
charging events to CHF for CDR generation.
A detailed formal description of the converged charging parameters defined in
the present document is to be found in 3GPP TS 32.291 [7].
A detailed formal description of the CDR parameters defined in the present
document is to be found in 3GPP TS 32.298 [3].
##### 5.2.2.1.2 Applicable Triggers in the CEF
When a charging event is issued towards the CHF by the CEF, it includes
details of charging information, such as EAS identifier (e.g. EAS ID, see 3GPP
TS 23.558 [9]).
Each trigger condition (i.e. chargeable event) defined for edge enabling
infrastructure resource usage charging, is specified with the associated
behaviour when they are met.
The immediate report is applied to the chargeable events for edge enabling
infrastructure resource usage charging, i.e. the chargeable events for which.
When the CEF consumes the MnS to create measurement job, the converged
charging is activated. When the CEF receives or gets the performance data
report containing the usage of edge enabling infrastructure resource, the CEF
invokes a Charging Data Request to report the charging data based on PEC to
CHF.
The charging for edge enabling infrastructure resources usage cannot be
enabled and disabled by CHF.
Table 5.2.2.1.2-1 summarizes the set of default trigger conditions and their
category which shall be supported by the CEF when charging is active for the
edge enabling infrastructure resource usage charging.
Table 5.2.2.1.2-1: Default Trigger conditions in CEF
Trigger Conditions Trigger level Default category CHF allowed to change
category CHF allowed to enable and disable Message when \"immediate
reporting\" category
* * *
**Edge enabling infrastructure resource usage reporting**  
CEF has fetched the performance data file containing the measurements for the
usage of edge enabling infrastructure resources, based on the notifyFileReady
notification from the MnS producer, see 3GPP TS 28.532 [15] - Immediate Not
Applicable No PEC: Charging Data Request [Event] CEF receives the performance
data containing the measurements for the usage of edge enabling infrastructure
resources, by the reportStreamData operation from MnS producer, see 3GPP TS
28.532 [15] - Immediate Not Applicable No PEC: Charging Data Request [Event]
#### 5.2.2.2 Message flows
##### 5.2.2.2.1 General
The flows in the present document specify the interactions between the MnS
producer, CEF and CHF for edge enabling infrastructure resource usage
converged charging.
The interaction between MnS producer and CEF is based on MnS procedures for
performance assurance specified in 3GPP TS 28.538 [12] and 3GPP TS 28.550
[14].
This interaction between CEF and CHF is based on Charging Data Request
/Response specified in 3GPP TS 32.290 [6].
##### 5.2.2.2.2 Edge enabling infrastructure resource usage charging enabled
by CEF
Figure 5.2.2.2.2-1 describes an edge enabling infrastructure resource usage
charging message flows in PEC, based on the converged charging architecture
with MnS producer enabled by CEF (see clause 4.2.2).
Figure 5.2.2.2.2-1: Edge enabling infrastructure resource usage charging \-
PEC
> **1) Create measurement job:** The CEF creates measurement job to collect
> the performance measurements related to Virtualized Resource (VR) usage for
> EAS to performance assurance MnS producer (see 3GPP TS 28.538 [12] and 3GPP
> TS 28.550 [14]). The performance measurements can be one or more of the
> following:
>
> \- mean virtual CPU usage (see VR.VCpuUsageMean in clause 5.7.1.1.1 of 3GPP
> TS 28.552 [13]);
>
> \- mean virtual memory usage (see VR.VMemoryUsageMean in clause 5.7.1.2.1 of
> 3GPP TS 28.552 [13]);
>
> \- mean virtual disk usage (see VR.VDiskUsageMean in clause 5.7.1.3.1 in
> 3GPP TS 28.552 [13]);
>
> \- incoming data volume (see DataVolum.InBytesEAS in clause 5.7.2.1 of 3GPP
> TS 28.552 [13]);
>
> \- outgoing data volume (see DataVolum.OutBytesEAS in clause 5.7.2.2 of 3GPP
> TS 28.552 [13]).
>
> **1a) Subscribe to performance data file notifications:** If file reporting
> method is chosen for the measurement job, the CEF subscribes to the
> performance data file notifications, see 3GPP TS 28.532 [15].
>
> **2) Generate performance measurements for resource usage for EAS:**
> performance assurance MnS producer generates the performance measurements
> according to the measurement job.
>
> **3) Performance data report to CEF:** the performance assurance MnS
> **producer** reports the performance data to the CEF according to the
> reporting method selected by the CEF for the measurement job.
>
> If the file data reporting method is selected:
>
> **3a)** The performance data are reported by a notifyFileReady notification
> (see 3GPP TS 28.532 [15]);
>
> **3b) CEF fetches the file containing the performance data.**
>
> If the streaming data reporting method is selected:
>
> 3c) and 3d) The performance assurance MnS producer establishes the streaming
> connection with the CEF if the connection has not been established (see 3GPP
> TS 28.532 [15]);
>
> 3e) The performance data are reported by the reportStreamData operation (see
> 3GPP TS 28.532 [15]).
>
> **3ch-a) Decide whether to trigger the charging:** CEF decides whether to
> trigger the charging. If charging is triggered.
>
> **3ch-b) Charging Data Request [Event]:** The CEF generates charging data
> for the collected resource usage and sends the charging data request for the
> CHF to process the related charging data for CDR generation purpose.
>
> **3ch-c) Create CDR:** the CHF stores received information and decides
> whether to store the information for future aggregation or to create a CDR
> related to the event.
>
> **3ch-d) Charging Data Response [Event]:** The CHF informs the CEF on the
> result of the request.
#### 5.2.2.3 CDR generation
##### 5.2.2.3.1 Introduction
The CHF CDRs for edge enabling infrastructure resource usage charging are
generated by the CHF to collect charging information that they subsequently
transfer to the Charging Gateway Function (CGF).
The following clauses describe in detail the conditions for generating the CHF
CDR.
##### 5.2.2.3.2 Triggers for CHF CDR
##### 5.2.2.3.2.1 General {#general-7 .H6}
An edge enabling infrastructure resource usage charging CHF CDR is used to
collect charging information related to edge enabling infrastructure resource
usage chargeable events.
##### 5.2.2.3.2.2 Triggers for CHF CDR generation {#triggers-for-chf-cdr-
generation .H6}
The CHF decides whether to create a CDR for each received Charging Data
Request [Event].
#### 5.2.2.4 Ga record transfer flows
For Ga protocol application refer to 3GPP TS 32.295 [5].
### 5.2.3 Charging scenarios for EAS deployment
#### 5.2.3.1 Basic principles
##### 5.2.3.1.1 General
Converged charging for EAS deployment may be performed by the CEF interacting
with CHF using Nchf specified in 3GPP TS 32.290 [6] and 3GPP TS 32.291 [7]. In
order to provide the data required for the management activities outlined in
3GPP TS 32.240 [1] (Credit-Control, accounting, billing, statistics etc.), the
CEF shall be able to perform converged charging for each of the following:
\- EAS deployment (see clause 5.1.2 3GPP TS 28.538 [12]);
\- EAS modification (see clause 5.1.5 3GPP TS 28.538 [12]);
\- EAS termination (see clause 5.1.3 3GPP TS 28.538 [12]).
The CEF shall subscribe to the notifications from the provisioning MnS
producer for EAS LCM.
Once the notification about EAS LCM is received, the CEF shall be able to
report the corresponding charging events to CHF for CDR generation.
A detailed formal description of the converged charging parameters defined in
the present document is to be found in 3GPP TS 32.291 [7].
A detailed formal description of the CDR parameters defined in the present
document is to be found in 3GPP TS 32.298 [3].
##### 5.2.3.1.2 Applicable Triggers in the CEF
When a charging event is issued towards the CHF by the CEF, it includes
details of charging information, such as EAS identifier (e.g. EAS ID, see 3GPP
TS 23.558 [9]).
Each trigger condition (i.e. chargeable event) defined for EAS deployment
charging, is specified with the associated behaviour when they are met.
The immediate report is applied to the chargeable events for EAS deployment
charging, i.e. the chargeable events for which, when occurring, the current
counts are closed and sent together with the charging data generated by the
CEF towards the CHF in a Charging Data Request. New counts are started by the
CEF.
When the CEF subscribes to the notifications about EAS LCM from the MnS
producer, the converged charging is activated. When the CEF receives
notifications about EAS LCM , the CEF invokes a Charging Data Request the CHF
to report the EAS LCM activity as PEC.
Table 5.2.3.1.2-1 summarizes the set of default trigger conditions and their
category which shall be supported by the CEF when charging is active for the
EAS deployment charging.
Table 5.2.3.1.2-1: Default Trigger conditions in CEF
Trigger Conditions Trigger level Default category CHF allowed to change
category CHF allowed to enable and disable Message when \"immediate
reporting\" category
* * *
**EAS deployment charging**  
CEF receives the notifyMOICreation notification for an MOI of EASFunction from
MnS producer, see 3GPP TS 28.532 [15]. - Immediate Not Applicable No PEC:
Charging Data Request [Event] CEF receives the notifyMOIAttributeValueChanges
notification for an MOI of EASFunction from MnS producer, see 3GPP TS 28.532
[15]. - Immediate Not Applicable No PEC: Charging Data Request [Event] CEF
receives the notifyMOIDeletion notification for an MOI of EASFunction from MnS
producer, see 3GPP TS 28.532 [15]. - Immediate Not Applicable No PEC: Charging
Data Request [Event]
#### 5.2.3.2 Message flows
##### 5.2.3.2.1 General
The flows in the present document specify the interactions between the MnS
producer, CEF and CHF for EAS deployment converged charging.
The interaction between MnS producer and CEF is based on MnS for subscribing
to and reporting notifications specified in 3GPP TS 28.532 [15] and 3GPP TS
28.538 [12].
This interaction between CEF and CHF is based on Charging Data Request
/Response specified in 3GPP TS 32.290 [6].
##### 5.2.3.2.2 EAS deployment charging enabled by CEF
Figure 5.2.3.2.2-1 describes an EAS deployment charging message flows in PEC,
based on the converged charging architecture with MnS producer enabled by CEF
(see clause 4.2.2).
Figure 5.2.3.2.2-1: EAS deployment charging - PEC
**1) CEF subscribes to the notifications about EAS LCM from the MnS:** The CEF
consumes the provisioning MnS (see 3GPP TS 28.532 [15]) to subscribe to the
notifications about EAS LCM, including notifyMOICreation,
notifyMOIAttributeValueChanges, and notifyMOIDeletion.
**2) EAS LCM request:** The MnS consumer sends the EAS LCM request to the MnS
producer, the EAS LCM request is done via createMOI, modifyMOIAttributes or
deleteMOI operation (see 3GPP TS 28.532 [15]) for the EASFunction IOC (see
3GPP TS 28.538 [12]).
**3) EAS LCM process:** The MnS producer processes and executes the EAS LCM
according to the request (e.g. instantiation, upgrade, deletion).
**4) EAS LCM response:** The MnS producer sends the EAS LCM result to the MnS
consumer.
**5) EAS LCM notification:** The MnS producer sends the EAS LCM notification
(i.e. notifyMOICreation, notifyMOIAttributeValueChanges, or notifyMOIDeletion)
to the CEF:
> **5ch-a) Charging Data Request [Event]:** The CEF generates charging data
> related to the EAS LCM notification and sends the charging data request.
>
> **5ch-b) Create CDR:** The CHF stores received information and create a CDR
> related to the event.
>
> **5ch-c) Charging Data Response [Event]:** The CHF informs the CEF on the
> result of the request.
#### 5.2.3.3 CDR generation
##### 5.2.3.3.1 Introduction
The CHF CDRs for EAS deployment charging are generated by the CHF to collect
charging information that they subsequently transfer to the Charging Gateway
Function (CGF).
The following clauses describe in detail the conditions for generating the CHF
CDR.
##### 5.2.3.3.2 Triggers for CHF CDR
##### 5.2.3.3.2.1 General {#general-10 .H6}
An EAS deployment charging CHF CDR is used to collect charging information
related to EAS deployment chargeable events.
##### 5.2.3.3.2.2 Triggers for CHF CDR generation {#triggers-for-chf-cdr-
generation-1 .H6}
A CHF CDR shall be generated by the CHF for each received Charging Data
Request [Event].
#### 5.2.3.4 Ga record transfer flows
For Ga protocol application refer to 3GPP TS 32.295 [5].
#### 5.2.3.5 Bee CDR file transfer
For Bee protocol application refer to 3GPP TS 32.297 [4].
### 5.2.4 Charging scenarios for edge enabling services
#### 5.2.4.1 Basic principles
##### 5.2.4.1.1 General
Converged charging for edge enabling services, when activated may be performed
by the EES interacting with CHF using Nchf specified in 3GPP TS 32.290 [6] and
3GPP TS 32.291 [7]. In order to provide the data required for the management
activities outlined in 3GPP TS 32.240 [1] (Credit-Control, accounting,
billing, statistics, etc.), the EES shall be able to perform converged
charging for each of the following:
\- Edge enabling services directly provided by ECSP to ASP (see 3GPP TS 23.558
[9]):
\- EAS registration;
\- EAS discovery;
\- Support to Service Continuity;
\- Application Client information exposure;
\- Edge enabling services exposed by ECSP to ASP (see 3GPP TS 23.558 [9]):
\- Obtaining UE location;
\- ACR management events subscription;
\- Session with QoS.
The EES shall be able to perform converged charging by interacting with CHF,
for charging data related to the evens mentioned above. The Charging Data
Request and Charging Data Response are exchanged between the EES and the CHF,
based on either IEC or PEC scenarios as specified in 3GPP TS 32.290 [6].
The contents and purpose of each charging event that triggers interaction with
CHF, as well as the chargeable events that trigger them, are described in the
following clauses.
A detailed formal description of the converged charging parameters defined in
the present document is to be found in 3GPP TS 32.291 [7].
A detailed formal description of the CDR parameters defined in the present
document is to be found in 3GPP TS 32.298 [3].
NOTE: How to avoid double triggering or support correlation of charging events
from both NEF and EES is not addressed in the present document.
##### 5.2.4.1.2 Applicable triggers in the EES
When a charging event is issued towards the CHF by the EES, it includes
details of charging information, such as EAS identifier (e.g. EAS ID, see 3GPP
TS 23.558 [9]).
Each trigger condition (i.e. chargeable event) defined for edge enabling
services charging, is specified with the associated behaviour when they are
met.
The immediate report is applied to the chargeable events for edge enabling
services charging, i.e. the chargeable events for which, when occurring, the
current counts are closed and sent together with the charging data generated
by the EES towards the CHF in a Charging Data Request. New counts are started
by the EES.
Table 5.2.4.1.2-1 summarizes the set of default trigger conditions and their
category which shall be supported by the EES when charging is active for the
edge enabling services charging.
Table 5.2.4.1.2-1: Default Trigger conditions in EES
Trigger Conditions Trigger level Default category CHF allowed to change
category CHF allowed to enable and disable Message when \"immediate
reporting\" category
* * *
**Charging for edge enabling services directly provided by EES**  
EAS registration request - Immediate Not Applicable Yes IEC: Charging Data
Request [Event] EAS registration response - Immediate Not Applicable Yes PEC:
Charging Data Request [Event] EAS discovery request Immediate Not Applicable
Yes IEC: Charging Data Request [Event] EAS discovery response Immediate Not
Applicable Yes PEC: Charging Data Request [Event] ACR request - Immediate Not
Applicable Yes IEC: Charging Data Request [Event] ACR response - Immediate Not
Applicable Yes PEC: Charging Data Request [Event] ACR status update request -
Immediate Not Applicable Yes IEC: Charging Data Request [Event] ACR status
update response - Immediate Not Applicable Yes PEC: Charging Data Request
[Event] AC information subscribe request Immediate Not Applicable Yes IEC:
Charging Data Request [Event] AC information subscribe response Immediate Not
Applicable Yes PEC: Charging Data Request [Event] AC information subscription
update request Immediate Not Applicable Yes IEC: Charging Data Request [Event]
AC information subscription update response Immediate Not Applicable Yes PEC:
Charging Data Request [Event] AC information notification Immediate Not
Applicable Yes PEC: Charging Data Request [Event] **Charging for edge enabling
services exposed by EES**  
UE location request - Immediate Not Applicable Yes IEC: Charging Data Request
[Event] UE location response - Immediate Not Applicable Yes PEC: Charging Data
Request [Event] UE location subscribe request Immediate Not Applicable Yes
IEC: Charging Data Request [Event] UE location subscribe response Immediate
Not Applicable Yes PEC: Charging Data Request [Event] UE location subscription
update request Immediate Not Applicable Yes IEC: Charging Data Request [Event]
UE location subscription update response Immediate Not Applicable Yes PEC:
Charging Data Request [Event] UE location notification - Immediate Not
Applicable Yes PEC: Charging Data Request [Event] ACR management event
subscribe request Immediate Not Applicable Yes IEC: Charging Data Request
[Event] ACR management event subscribe response Immediate Not Applicable Yes
PEC: Charging Data Request [Event] ACR management event subscription update
request Immediate Not Applicable Yes IEC: Charging Data Request [Event] ACR
management event subscription update response Immediate Not Applicable Yes
PEC: Charging Data Request [Event] Session with QoS create request Immediate
Not Applicable Yes IEC: Charging Data Request [Event] Session with QoS create
response Immediate Not Applicable Yes PEC: Charging Data Request [Event]
Session with QoS update request Immediate Not Applicable Yes IEC: Charging
Data Request [Event] Session with QoS update response Immediate Not Applicable
Yes PEC: Charging Data Request [Event] Session with QoS event notification
Immediate Not Applicable Yes PEC: Charging Data Request [Event]
#### 5.2.4.2 Message flows
##### 5.2.4.2.1 General
The flows in the present document specify the interactions between the EES and
CHF for edge enabling services converged charging, based on the procedures and
flows specified in 3GPP TS 23.558 [9].
This interaction is based on Charging Data Request /Response specified in 3GPP
TS 32.290 [6], exchanged between the EES embedding the CTF and the CHF, in
compliance with the converged charging architecture defined in clause 4.2.3.
##### 5.2.4.2.2 EAS registration charging
##### 5.2.4.2.2.1 General {#general-13 .H6}
The clauses below describe the EAS registration charging message flows.
For EAS registration charging, the following scenarios specified in 3GPP TS
32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.2.2 EAS registration charging - IEC {#eas-registration-charging
---iec .H6}
Figure 5.2.4.2.2.2-1 describes an EAS registration charging message flow in
IEC charging.
Figure 5.2.4.2.2.2-1: Charging for EAS registration - IEC
1) The EAS determines that registration to the EES is needed (e.g. the EAS is
instantiated and started up).
2) The EAS sends an EAS registration request to the EES. The request shall
include the EAS profile and may include proposed expiration time for the
registration.
3) The EES performs an authorization check to verify whether the EAS has the
authorization to register on the EES. If authorized:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the EAS Registration request and sends the charging data request
> for the CHF to process the related charging data for CDR generation purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
4) The EES sends EAS response (see 3GPP TS 23.558 [9]) to the EAS.
##### 5.2.4.2.2.3 EAS registration charging - PEC {#eas-registration-charging
---pec .H6}
Figure 5.2.4.2.2.3-1 describes an EAS registration charging message flow in
PEC charging.
Figure 5.2.4.2.2.3-1: Charging for EAS registration - PEC
1) The EAS determines that registration to the EES is needed (e.g. the EAS is
instantiated and started up).
2) The EAS sends an EAS registration request to the EES. The request shall
include the EAS profile and may include proposed expiration time for the
registration.
3) The EES performs an authorization check to verify whether the EAS has the
authorization to register on the EES, if authorized.
4) Upon successful authorization, the EES stores the EAS Profile for later use
(e.g. for serving EAS discovery requests received from EECs, etc.) and replies
to the EAS with an EAS registration response:
> **4ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the EAS Registration and sends the charging data request for the
> CHF to process the related charging data for CDR generation purpose.
>
> **4ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.3 EAS discovery charging
##### 5.2.4.2.3.1 General {#general-14 .H6}
The clauses below describe the EAS discovery charging message flows.
For EAS discovery charging, the following scenarios specified in 3GPP TS
32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.3.2 EAS discovery charging - IEC {#eas-discovery-charging---iec
.H6}
Figure 5.2.4.2.3.2-1 describes an EAS discovery charging message flow in IEC
charging.
Figure 5.2.4.2.3.2-1: Charging for EAS discovery - IEC
1) The EEC sends the EES discovery request to the EES.
2) Upon receiving the request from the EEC, the EES checks if the EEC is
authorized to discover the requested EAS(s). If authorized:
> **2ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the EAS discovery request and sends the charging data request for
> the CHF to process the related charging data for CDR generation purpose.
>
> **2ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
3) The EES sends EAS discovery response to the EEC.
##### 5.2.4.2.3.3 EAS discovery charging - PEC {#eas-discovery-charging---pec
.H6}
Figure 5.2.4.2.3.3-1 describes an EAS discovery charging message flow in PEC
charging.
Figure 5.2.4.2.3.3-1: Charging for EAS discovery - PEC
1) The EEC sends the EAS discovery request to the EES.
2) Upon receiving the request from the EEC, the EES checks if the EEC is
authorized to discover the requested EAS(s).
3) The EES sends EAS discovery response to the EEC:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the EAS discovery and sends the charging data request for the CHF
> to process the related charging data for CDR generation purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.4 Support to Service Continuity charging
##### 5.2.4.2.4.1 General {#general-15 .H6}
The clauses below describe the Support to Service Continuity charging message
flows.
For Support to Service Continuity charging, the following scenarios specified
in 3GPP TS 32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.4.2 ACR charging - IEC {#acr-charging---iec .H6}
Figure 5.2.4.2.4.2-1 describes an ACR charging message flow in IEC charging.
Figure 5.2.4.2.4.2-1: Charging for ACR - IEC
1) The EEC or S-EAS sends the ACR request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the ACR request and sends the charging data request for the CHF
> to process the related charging data for CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES checks the authorization and processes the request.
3) The EES sends ACR response to the EEC or S-EAS.
##### 5.2.4.2.4.3 ACR charging - PEC {#acr-charging---pec .H6}
Figure 5.2.4.2.4.3-1 describes an ACR charging message flow in PEC charging.
Figure 5.2.4.2.4.3-1: Charging for ACR - PEC
1) The EEC or S-EAS sends the ACR request to the EES.
2) The EES checks the authorization and processes the request.
3) The EES sends ACR response to the EEC or S-EAS.
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the ACR and sends the charging data request for the CHF to
> process the related charging data for CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.4.4 ACR status update charging - IEC {#acr-status-update-
charging---iec .H6}
Figure 5.2.4.2.4.4-1 describes an ACR status update charging message flow in
IEC charging.
Figure 5.2.4.2.4.4-1: Charging for ACR status update - IEC
1) The EAS sends the ACR status update request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the ACR status update request and sends the charging data request
> for the CHF to process the related charging data for CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES processes the request.
3) The EES sends ACR status update response to the EAS.
##### 5.2.4.2.4.5 ACR status update charging - PEC {#acr-status-update-
charging---pec .H6}
Figure 5.2.4.2.4.5-1 describes an ACR status update charging message flow in
PEC charging.
Figure 5.2.4.2.4.5-1: Charging for ACR status update - PEC
1) The EAS sends the ACR status update request to the EES.
2) The EES processes the request.
3) The EES sends ACR response to the EAS:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to the ACR status update and sends the charging data request for the
> CHF to process the related charging data for CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.5 Application Client information exposure charging
##### 5.2.4.2.5.1 General {#general-16 .H6}
The clauses below describe the Application Client information exposure
charging message flows.
For Application Client information exposure charging, the following scenarios
specified in 3GPP TS 32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.5.2 Application Client information subscription charging - IEC
{#application-client-information-subscription-charging---iec .H6}
Figure 5.2.4.2.5.2-1 describes an Application Client information subscription
charging message flow in IEC charging.
Figure 5.2.4.2.5.2-1: Charging for AC information subscription - IEC
1) The EAS sends the AC information subscription request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to AC information subscription request and sends the charging data
> request for the CHF to process the related charging data for CDR generation
> purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES processes the request.
3) The EES sends the AC information subscription response to EAS.
##### 5.2.4.2.5.3 Application Client information subscription charging - PEC
{#application-client-information-subscription-charging---pec .H6}
Figure 5.2.4.2.5.3-1 describes an Application Client information subscription
charging message flow in PEC charging.
Figure 5.2.4.2.5.3-1: Charging for AC information subscription - PEC
1) The EAS sends the AC information subscription request to the EES.
2) The EES processes the request.
3) The EES sends the AC information subscription response to EAS:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to AC information subscription and sends the charging data request
> for the CHF to process the related charging data for CDR generation purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.5.4 Application Client information subscription update charging
- IEC {#application-client-information-subscription-update-charging---iec .H6}
Figure 5.2.4.2.5.4-1 describes an Application Client information subscription
update charging message flow in IEC charging.
Figure 5.2.4.2.5.4-1: Charging for AC information subscription update - IEC
1) The EAS sends the AC information subscription update request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to AC information subscription update request and sends the charging
> data request for the CHF to process the related charging data for CDR
> generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES processes the request.
3) The EES sends the AC information subscription update response to EAS.
##### 5.2.4.2.5.5 Application Client information subscription update charging
- PEC {#application-client-information-subscription-update-charging---pec .H6}
Figure 5.2.4.2.5.5-1 describes an Application Client information subscription
update charging message flow in PEC charging.
Figure 5.2.4.2.5.5-1: Charging for AC information subscription update - PEC
1) The EAS sends the AC information subscription update request to the EES.
2) The EES processes the request.
3) The EES sends the AC information subscription update response to EAS:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to AC information subscription update and sends the charging data
> request for the CHF to process the related charging data for CDR generation
> purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.5.6 Application Client information notification charging - PEC
{#application-client-information-notification-charging---pec .H6}
Figure 5.2.4.2.5.6-1 describes an Application Client information notification
charging message flow in PEC charging.
Figure 5.2.4.2.5.6-1: Charging for AC information notification - PEC
1) The EEC triggers for AC updates with EES.
2) The EES sends the AC information notification to the EAS:
> **2ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to AC information notification and sends the charging data request
> for the CHF to process the related charging data for CDR generation purpose.
>
> **2ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.6 UE location obtaining charging
##### 5.2.4.2.6.1 General {#general-17 .H6}
The clauses below describe the UE location obtaining charging message flows.
For UE location obtaining charging, the following scenarios specified in 3GPP
TS 32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.6.2 UE location request charging - IEC {#ue-location-request-
charging---iec .H6}
Figure 5.2.4.2.6.2-1 describes a UE location request charging message flow in
IEC charging.
Figure 5.2.4.2.6.2-1: Charging for UE location request - IEC
1) The EAS sends the UE location request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location request and sends the charging data request for the
> CHF to process the related charging data for CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES checks the UE location with 3GPP network.
3) The EES sends the UE location response to the EAS.
##### 5.2.4.2.6.3 UE location request charging - PEC {#ue-location-request-
charging---pec .H6}
Figure 5.2.4.2.6.3-1 describes a UE location request charging message flow in
PEC charging.
Figure 5.2.4.2.6.3-1: Charging for UE location request - PEC
1) The EAS sends the UE location request to the EES.
2) The EES checks the UE location with 3GPP network.
3) The EES sends the UE location response to the EAS:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location response and sends the charging data request for the
> CHF to process the related charging data for CDR generation purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.6.4 UE location subscription charging - IEC {#ue-location-
subscription-charging---iec .H6}
Figure 5.2.4.2.6.4-1 describes a UE location subscription charging message
flow in IEC charging.
Figure 5.2.4.2.6.4-1: Charging for UE location subscription - IEC
1) The EAS sends the UE location subscribe request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location subscribe request and sends the charging data request
> for the CHF to process the related charging data for CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES subscribes to UE location from 3GPP Core Network.
3) The EES may subscribe to UE expected behaviour analytics (UE mobility) from
3GPP Core Network.
4) The EES sends the UE location subscribe response to the EAS.
##### 5.2.4.2.6.5 UE location subscription charging - PEC {#ue-location-
subscription-charging---pec .H6}
Figure 5.2.4.2.6.5-1 describes a UE location subscription charging message
flow in PEC charging.
Figure 5.2.4.2.6.5-1: Charging for UE location subscription - PEC
1) The EAS sends the UE location subscribe request to the EES.
2) The EES subscribes to UE location from 3GPP Core Network.
3) The EES may subscribe to UE expected behaviour analytics (UE mobility) from
3GPP Core Network (see 3GPP TS 23.558 [9]).
4) The EES sends the UE location subscribe response to the EAS:
> **4ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location subscribing and sends the charging data request for
> the CHF to process the related charging data for CDR generation purpose.
>
> **4ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.6.6 UE location subscription update charging - IEC {#ue-
location-subscription-update-charging---iec .H6}
Figure 5.2.4.2.6.6-1 describes a UE location subscription update charging
message flow in IEC charging.
Figure 5.2.4.2.6.6-1: Charging for UE location subscription - IEC
1) The EAS sends the UE location subscription update request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location subscription update request and sends the charging
> data request for the CHF to process the related charging data for CDR
> generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES updates the UE location subscription to 3GPP Core Network.
3) The EES may subscribe to updated UE expected behaviour analytics (UE
mobility) from 3GPP Core Network (see 3GPP TS 23.558 [9]).
4) The EES sends the UE location subscription update response to the EAS.
##### 5.2.4.2.6.7 UE location subscription update charging - PEC {#ue-
location-subscription-update-charging---pec .H6}
Figure 5.2.4.2.6.7-1 describes a UE location subscription update charging
message flow in PEC charging.
Figure 5.2.4.2.6.7-1: Charging for UE location subscription - PEC
1) The EAS sends the UE location subscription update request to the EES.
2) The EES updates the UE location subscription to 3GPP Core Network.
3) The EES may subscribe to updated UE expected behaviour analytics (UE
mobility) from 3GPP Core Network (see 3GPP TS 23.558 [9]).
4) The EES sends the UE location subscription update response to the EAS:
> **4ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location subscription update and sends the charging data
> request for the CHF to process the related charging data for CDR generation
> purpose.
>
> **4ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.6.8 UE location notification charging - PEC {#ue-location-
notification-charging---pec .H6}
Figure 5.2.4.2.6.8-1 describes a UE location notification charging message
flow in PEC charging.
Figure 5.2.4.2.6.8-1: Charging for UE location notification - PEC
1) The EES detects the UE location.
2) The EES sends the UE location notification to the EAS:
> **2ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to UE location notification and sends the charging data request for
> the CHF to process the related charging data for CDR generation purpose.
>
> **2ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.7 ACR management events subscription charging
##### 5.2.4.2.7.1 General {#general-18 .H6}
The clauses below describe the ACR management events subscription charging
message flows.
For ACR management events subscription charging, the following scenarios
specified in 3GPP TS 32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.7.2 ACR management events subscription charging - IEC {#acr-
management-events-subscription-charging---iec .H6}
Figure 5.2.4.2.7.2-1 describes an ACR management events subscription charging
message flow in IEC charging.
Figure 5.2.4.2.7.2-1: Charging for ACR management event subscription - IEC
1) The EAS sends the ACR management event subscribe request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to ACR management event subscribe request and sends the charging
> data request for the CHF to process the related charging data for CDR
> generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES checks the user plane path management event of the requesting UE
with 3GPP Core Network.
3) The EES may subscribe to UE expected behaviour analytics (UE mobility) from
3GPP Core Network.
4) The EES sends the ACR management event subscribe response to the EAS.
##### 5.2.4.2.7.3 ACR management events subscription charging - PEC {#acr-
management-events-subscription-charging---pec .H6}
Figure 5.2.4.2.7.3-1 describes an ACR management events subscription charging
message flow in PEC charging.
Figure 5.2.4.2.7.3-1: Charging for ACR management event subscription - PEC
1) The EAS sends the ACR management event subscribe request to the EES.
2) The EES checks the user plane path management event of the requesting UE
with 3GPP Core Network.
3) The EES may subscribe to UE expected behaviour analytics (UE mobility) from
3GPP Core Network.
4) The EES sends the ACR management event subscribe response to the EAS:
> **4ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to ACR management event subscribing and sends the charging data
> request for the CHF to process the related charging data for CDR generation
> purpose.
>
> **4ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.7.4 ACR management events subscription update charging - IEC
{#acr-management-events-subscription-update-charging---iec .H6}
Figure 5.2.4.2.7.4-1 describes an ACR management events subscription update
charging message flow in IEC charging.
Figure 5.2.4.2.7.4-1: Charging for ACR management event subscription update -
IEC
1) The EAS sends the ACR management event subscription update request to the
EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to ACR management event subscription update request and sends the
> charging data request for the CHF to process the related charging data for
> CDR generation purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES checks the user plane path management event of the requesting UE
with 3GPP Core Network.
3) The EES updates UE expected behaviour analytics (UE mobility) to 3GPP Core
Network.
4) The EES sends the ACR management event subscription update response (see
3GPP TS 23.558 [9]) to the EAS.
##### 5.2.4.2.7.5 ACR management events subscription update charging - IEC
{#acr-management-events-subscription-update-charging---iec-1 .H6}
Figure 5.2.4.2.7.5-1 describes an ACR management events subscription update
charging message flow in IEC charging.
Figure 5.2.4.2.7.5-1: Charging for ACR management event subscription update -
PEC
1) The EAS sends the ACR management event subscription update request to the
EES.
2) The EES checks the user plane path management event of the requesting UE
with 3GPP Core Network.
3) The EES updates UE expected behaviour analytics (UE mobility) to 3GPP Core
Network.
4) The EES sends the ACR management event subscription update response to the
EAS:
> **4ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to ACR management event subscription update and sends the charging
> data request for the CHF to process the related charging data for CDR
> generation purpose.
>
> **4ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **4ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.8 Session with QoS charging
##### 5.2.4.2.8.1 General {#general-19 .H6}
The clauses below describe the Session with QoS charging message flows.
For Session with QoS charging, the following scenarios specified in 3GPP TS
32.290 [6] are supported:
\- IEC;
\- PEC.
##### 5.2.4.2.8.2 Session with QoS creation charging - IEC {#session-with-qos-
creation-charging---iec .H6}
Figure 5.2.4.2.8.2-1 describes a Session with QoS creation charging message
flow in IEC charging.
Figure 5.2.4.2.8.2-1: Charging for creation of Session with QoS - IEC
1) The EAS sends the Session with QoS create request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to Session with QoS create request and sends the charging data
> request for the CHF to process the related charging data for CDR generation
> purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES subscribes to PDU session status monitoring and request data
session with specific QoS from 3GPP 5G Core Network.
3) The EES sends Session with QoS create response to the EAS.
##### 5.2.4.2.8.3 Session with QoS creation charging - PEC {#session-with-qos-
creation-charging---pec .H6}
Figure 5.2.4.2.8.3-1 describes a Session with QoS creation charging message
flow in PEC charging.
Figure 5.2.4.2.8.3-1: Charging for creation of Session with QoS - PEC
1) The EAS sends the Session with QoS create request to the EES.
2) The EES subscribes to PDU session status monitoring and request data
session with specific QoS from 3GPP 5G Core Network.
3) The EES sends Session with QoS create response to the EAS:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to Session with QoS creation and sends the charging data request for
> the CHF to process the related charging data for CDR generation purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.8.4 Session with QoS update charging - IEC {#session-with-qos-
update-charging---iec .H6}
Figure 5.2.4.2.8.4-1 describes a Session with QoS update charging message flow
in IEC charging.
Figure 5.2.4.2.8.4-1: Charging for update of Session with QoS - IEC
1) The EAS sends the Session with QoS update request to the EES:
> **1ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to Session with QoS update request and sends the charging data
> request for the CHF to process the related charging data for CDR generation
> purpose.
>
> **1ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **1ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
2) The EES updates data session with specific QoS with 3GPP 5G Core Network.
3) The EES sends Session with QoS update response to the EAS.
##### 5.2.4.2.8.5 Session with QoS update charging - PEC {#session-with-qos-
update-charging---pec .H6}
Figure 5.2.4.2.8.5-1 describes a Session with QoS update charging message flow
in PEC charging.
Figure 5.2.4.2.8.5-1: Charging for update of Session with QoS - PEC
1) The EAS sends the Session with QoS update request to the EES.
2) The EES updates data session with specific QoS with 3GPP 5G Core Network.
3) The EES sends Session with QoS update response to the EAS:
> **3ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to Session with QoS update and sends the charging data request for
> the CHF to process the related charging data for CDR generation purpose.
>
> **3ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **3ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
##### 5.2.4.2.8.6 Session with QoS notification charging - PEC {#session-with-
qos-notification-charging---pec .H6}
Figure 5.2.4.2.8.6-1 describes a Session with QoS notification charging
message flow in PEC charging.
Figure 5.2.4.2.8.6-1: Charging for Session with QoS notification - PEC
1) The EES detects User Plane event for Session with QoS from 3GPP 5G Core
Network.
2) The EES sends Session with QoS notification to EAS:
> **2ch-a) Charging Data Request [Event]:** The EES generates charging data
> related to Session with QoS notification and sends the charging data request
> for the CHF to process the related charging data for CDR generation purpose.
>
> **2ch-b) Create CDR:** The CHF stores received information and creates a CDR
> related to the event.
>
> **2ch-c) Charging Data Response [Event]:** The CHF informs the EES on the
> result of the request.
#### 5.2.4.3 CDR generation
##### 5.2.4.3.1 Introduction
The CHF CDRs for edge enabling services charging are generated by the CHF to
collect charging information that they subsequently transfer to the Charging
Gateway Function (CGF).
The following clauses describe in detail the conditions for generating the CHF
CDR.
##### 5.2.4.3.2 Triggers for CHF CDR
##### 5.2.4.3.2.1 General {#general-20 .H6}
An edge enabling services charging CHF CDR is used to collect charging
information related to edge enabling services chargeable events for IEC and
PEC.
##### 5.2.4.3.2.2 Triggers for CHF CDR generation {#triggers-for-chf-cdr-
generation-2 .H6}
A CHF CDR shall be generated by the CHF for each received Charging Data
Request [Event].
#### 5.2.4.4 Ga record transfer flows
For Ga protocol application refer to 3GPP TS 32.295 [5].
#### 5.2.4.5 Bee CDR file transfer
For Bee protocol application refer to 3GPP TS 32.297 [4].
# 6 Definition of Edge Computing charging information
## 6.1 Definition of charging information for edge enabling infrastructure
resource usage charging
### 6.1.1 Data description for edge enabling infrastructure resource usage
charging
#### 6.1.1.1 Message contents
##### 6.1.1.1.1 General
The Charging Data Request and Charging Data Response are specified in 3GPP TS
32.290 [6] and include charging information. The Charging Data Request can be
of type [Event].
Table 6.1.1.1.1-1 describes the use of these messages for converged charging.
Table 6.1.1.1.1-1: Converged charging messages reference table
Message Source Destination
* * *
Charging Data Request CEF CHF Charging Data Response CHF CEF
The following clauses describe the different fields used in the Charging Data
messages and the category in the tables is used according to the charging data
configuration defined in clause 5.4 of 3GPP TS 32.240 [2].
##### 6.1.1.1.2 Charging Data Request message
Table 6.1.1.1.2-1 illustrates the basic structure of a Charging Data Request
message from the CEF as used for edge enabling infrastructure resource usage
converged charging.
Table 6.1.1.1.2-1: Charging Data Request message contents
+-----------------------+--------------------+-----------------------+ | Information Element | Converged Charging | Description | | | | | | | Category | | +=======================+====================+=======================+ | Session Identifier | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Subscriber Identifier | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | NF Consumer | M | Described in 3GPP TS | | Identification | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Functionality | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Name | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Address | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF PLMN ID | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Charging Identifier | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Timestamp | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Sequence | - | This field is not | | Number | | applicable. | +-----------------------+--------------------+-----------------------+ | Retransmission | O~C~ | Described in 3GPP TS | | Indicator | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | One-time Event | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | One-time Event Type | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Notify URI | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Supported Features | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Service Specification | O~C~ | Described in 3GPP TS | | Information | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Triggers | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Multiple Unit Usage | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | EAS ID | O~M~ | This field holds the | | | | EAS ID, see 3GPP TS | | | | 23.558 [9]. | +-----------------------+--------------------+-----------------------+ | EDN ID | O~M~ | This field holds the | | | | DN of EdgeDataNetwork | | | | MOI, see 3GPP TS | | | | 28.538 [12]. | +-----------------------+--------------------+-----------------------+ | EAS Provider | O~M~ | The identifier of the | | Identifier | | ASP that provides the | | | | EAS, see 3GPP TS | | | | 23.558 [9]. | +-----------------------+--------------------+-----------------------+ | Edge Enabling | O~M~ | This field holds the | | Infrastructure | | for edge enabling | | Resource Usage | | infrastructure | | Charging Information | | resource usage | | | | charging specific | | | | information described | | | | in clause 6.1.2.1.2. | +-----------------------+--------------------+-----------------------+
##### 6.1.1.1.3 Charging data response message
Table 6.1.1.1.3-1 illustrates the basic structure of a Charging Data Response
message from the CHF as used for edge enabling infrastructure resource usage
converged charging.
Table 6.1.1.1.3-1: Charging Data Response message contents
+-----------------------+--------------------+-----------------------+ | Information Element | Converged Charging | Description | | | | | | | Category | | +=======================+====================+=======================+ | Session Identifier | - | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Timestamp | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Result | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Invocation Result | O~C~ | Described in 3GPP TS | | > Code | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Failed parameter | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Failure Handling | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Sequence | - | This field is not | | Number | | applicable. | +-----------------------+--------------------+-----------------------+ | Session Failover | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Supported Features | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Triggers | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Multiple Unit | O~C~ | Described in 3GPP TS | | Information | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Result Code | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Rating Group | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Granted Unit | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Validity Time | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Final Unit | - | This field is not | | > Indication | | applicable. | +-----------------------+--------------------+-----------------------+ | > Time Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Volume Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Unit Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Quota Holding Time | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Triggers | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+
#### 6.1.1.2 Ga message contents
See clause 5.2.2.4.
#### 6.1.1.3 CDR description on the Bee interface
##### 6.1.1.3.1 General
This clause describes the CDR content and format generated for edge enabling
infrastructure resource usage charging.
The following tables provide a brief description of each CDR parameter. The
category in the tables is used according to the charging data configuration
defined in clause 5.4 of 3GPP TS 32.240 [2]. Full definitions of the CDR
parameters, sorted by the name in alphabetical order, are provided in 3GPP TS
32.298 [3].
##### 6.1.1.3.2 Edge enabling infrastructure resource usage charging CHF CDR
data
If enabled, CHF CDRs for edge enabling infrastructure resource usage charging
shall be produced for each performance measurement report.
The fields of enabling infrastructure resource usage charging CHF CDR are
specified in table 6.1.1.3.2-1.
Table 6.1.1.3.2-1: Edge enabling infrastructure resource usage charging CHF
record data
+----------------------------+----------+----------------------------+ | Field | Category | Description | +============================+==========+============================+ | Record Type | M | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Recording Network Function | O~M~ | Described in 3GPP TS | | ID | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Tenant Identifier | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | MnS Consumer Identifier | O~C~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | NF Consumer Information | M | This field holds the | | | | information of the CEF | | | | that used the charging | | | | service | +----------------------------+----------+----------------------------+ | > NF Functionality | M | This field contains the | | | | function of the node (i.e. | | | | CEF) | +----------------------------+----------+----------------------------+ | > NF Name | O~C~ | This field holds the name | | | | of the CEF used | +----------------------------+----------+----------------------------+ | > NF Address | O~C~ | This fields holds the IP | | | | Address of the CEF used | +----------------------------+----------+----------------------------+ | > NF PLMN ID | O~C~ | This field holds the PLMN | | | | identifier (MCC MNC) of | | | | the CEF | +----------------------------+----------+----------------------------+ | Charging Identifier | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Triggers | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | List of Multiple Unit | O~M~ | This field holds a list of | | Usage | | changes in charging | | | | conditions for the edge | | | | enabling infrastructure | | | | resource usage | +----------------------------+----------+----------------------------+ | > Rating Group | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | > Used Unit Container | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | > Time | O~M~ | This field holds the | | | | amount of used time | +----------------------------+----------+----------------------------+ | > Uplink Volume | O~M~ | This field holds the | | | | information of incoming | | | | data volume for the EAS, | | | | see DataVolum.InBytesEAS | | | | in clause 5.7.2.1 of 3GPP | | | | TS 28.552 [13] | +----------------------------+----------+----------------------------+ | > Downlink Volume | O~M~ | This field holds the | | | | information of outgoing | | | | data volume for the EAS, | | | | see DataVolum.OutBytesEAS | | | | in clause 5.7.2.2 of 3GPP | | | | TS 28.552 [13] | +----------------------------+----------+----------------------------+ | Duration | M | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Record Sequence Number | C | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Cause for Record Closing | M | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Local Record Sequence | O~M~ | Described in 3GPP TS | | Number | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Record Extensions | O~C~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Service Specification | O~C~ | Described in 3GPP TS | | Information | | 32.298 [3] | +----------------------------+----------+----------------------------+ | EAS ID | O~M~ | This field holds the EAS | | | | ID, see 3GPP TS 23.558 | | | | [9] | +----------------------------+----------+----------------------------+ | EDN ID | O~M~ | This field holds the DN of | | | | EdgeDataNetwork MOI, see | | | | 3GPP TS 28.538 [12] | +----------------------------+----------+----------------------------+ | EAS Provider Identifier | O~M~ | The identifier of the ASP | | | | that provides the EAS, see | | | | 3GPP TS 23.558 [9] | +----------------------------+----------+----------------------------+ | Edge Enabling | O~M~ | This field holds the for | | Infrastructure Resource | | edge enabling | | Usage Charging Information | | infrastructure resource | | | | usage charging specific | | | | information described in | | | | clause 6.1.2.1.2 | +----------------------------+----------+----------------------------+
### 6.1.2 Edge enabling infrastructure resource usage charging specific
parameters
#### 6.1.2.1 Definition of edge enabling infrastructure resource usage
charging information
##### 6.1.2.1.1 General
The Charging Information parameter used for edge enabling infrastructure
resource usage charging is provided in the following clauses.
##### 6.1.2.1.2 Definition of edge enabling infrastructure resource usage
specific charging information
Specific charging information used for edge enabling infrastructure resource
usage charging is provided within the Edge Enabling Infrastructure Resource
Usage Charging Information.
The detailed structure of the Edge Enabling Infrastructure Resource Usage
Charging Information can be found in table 6.1.2.1.2-1.
Table 6.1.2.1.2-1: Structure of Edge Enabling Infrastructure Resource Usage
Charging Information
* * *
Information Element Category Description Mean Virtual CPU Usage O~C~ This
field holds the information of mean virtual CPU usage for the EAS, see
VR.VCpuUsageMean in clause 5.7.1.1.1 of 3GPP TS 28.552 [13]. Mean Virtual
Memory Usage O~C~ This field holds the information of mean virtual memory
usage for the EAS, see VR.VMemoryUsageMean in clause 5.7.1.2.1 of 3GPP TS
28.552 [13]. Mean Virtual Disk Usage O~C~ This field holds the information of
mean virtual disk usage for the EAS, see VR.VDiskUsageMean in clause 5.7.1.2.1
of 3GPP TS 28.552 [13]. Measured Incoming Bytes O~C~ This field holds the
measurement of number of incoming bytes received by the EAS, see
DataVolum.InBytesEAS in clause 5.7.2.1 of TS 28.552 [13] Measured Outgoing
Bytes O~C~ This field holds the measurement of number of outgoing bytes
transmitted from the EAS, see DataVolum.OutBytesEAS in clause 5.7.2.2 of TS
28.552 [13] Duration Start Time O~C~ This field holds the start time of the
collection period, see 3GPP TS 28.550 [14]. Duration End Time O~C~ This field
holds the end time of the collection period, see 3GPP TS 28.550 [14].
* * *
#### 6.1.2.2 Formal edge enabling infrastructure resource usage charging
parameter description
##### 6.1.2.2.1 Edge enabling infrastructure resource usage CHF CDR parameters
The detailed definitions, abstract syntax and encoding of edge enabling
infrastructure resource usage CHF CDRs parameters are specified in 3GPP TS
32.298 [3].
##### 6.1.2.2.2 Edge enabling infrastructure resource usage resources
attributes
The detailed definitions of resources attributes used for edge enabling
infrastructure resource usage charging are specified in 3GPP TS 32.291 [7].
#### 6.1.2.3 Detailed message format for converged charging
The following clause specifies per Operation Type the charging data that are
sent by CEF for edge enabling infrastructure resource usage converged
charging.
The Operation Types are listed in the following order: I (Initial)/U
(Update)/T (Termination)/E (Event). Therefore, when all Operation Types are
possible it is marked as IUTE. If only some Operation Types are allowed for a
node, only the appropriate letters are used (i.e. IUT or E) as indicated in
the table heading. The omission of an Operation Type for a particular field is
marked with \"-\" (i.e. IU-E). Also, when an entire field is not allowed in a
node the entire cell is marked as \"-\".
Table 6.1.2.3-1 defines the basic structure of the supported fields in the
_Charging Data Request_ message for edge enabling infrastructure resource
usage converged charging.
Table 6.1.2.3-1: Supported fields in Charging Data Request message
+----------------------+----------------------+----------------------+ | Information Element | Functionality of CEF | Edge enabling | | | | infrastructure | | | | resource usage | | | | charging | +======================+======================+======================+ | | Supported Operation | E | | | Types | | +----------------------+----------------------+----------------------+ | Session Identifier | - | | +----------------------+----------------------+----------------------+ | Subscriber | - | | | Identifier | | | +----------------------+----------------------+----------------------+ | NF Consumer | E | | | Identification | | | +----------------------+----------------------+----------------------+ | > NF Functionality | E | | +----------------------+----------------------+----------------------+ | > NF Name | E | | +----------------------+----------------------+----------------------+ | > NF Address | E | | +----------------------+----------------------+----------------------+ | > NF PLMN ID | E | | +----------------------+----------------------+----------------------+ | Charging Identifier | E | | +----------------------+----------------------+----------------------+ | Invocation Timestamp | E | | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | | | Number | | | +----------------------+----------------------+----------------------+ | Retransmission | E | | | Indicator | | | +----------------------+----------------------+----------------------+ | One-time Event | E | | +----------------------+----------------------+----------------------+ | One-time Event Type | E | | +----------------------+----------------------+----------------------+ | Notify URI | - | | +----------------------+----------------------+----------------------+ | Supported Features | E | | +----------------------+----------------------+----------------------+ | Service | E | | | Specification | | | | Information | | | +----------------------+----------------------+----------------------+ | Triggers | E | | +----------------------+----------------------+----------------------+ | Multiple Unit Usage | E | | +----------------------+----------------------+----------------------+ | EAS ID | E | | +----------------------+----------------------+----------------------+ | EDN ID | E | | +----------------------+----------------------+----------------------+ | EAS Provider | E | | | Identifier | | | +----------------------+----------------------+----------------------+ | Edge Enabling | E | | | Infrastructure | | | | Resource Usage | | | | Charging Information | | | +----------------------+----------------------+----------------------+
Table 6.1.2.3-2 defines the basic structure of the supported fields in the
_Charging Data Response_ message for edge enabling infrastructure resource
usage converged charging.
Table 6.1.2.3-2: Supported fields in Charging Data Response message
+----------------------+----------------------+----------------------+ | Information Element | Functionality of CEF | Edge enabling | | | | infrastructure | | | | resource usage | | | | charging | +======================+======================+======================+ | | Supported Operation | E | | | Types | | +----------------------+----------------------+----------------------+ | Session Identifier | E | | +----------------------+----------------------+----------------------+ | Invocation Timestamp | E | | +----------------------+----------------------+----------------------+ | Invocation Result | E | | +----------------------+----------------------+----------------------+ | > Invocation Result | E | | | > Code | | | +----------------------+----------------------+----------------------+ | > Failed parameter | E | | +----------------------+----------------------+----------------------+ | > Failure Handling | E | | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | | | Number | | | +----------------------+----------------------+----------------------+ | Session Failover | - | | +----------------------+----------------------+----------------------+ | Supported Features | E | | +----------------------+----------------------+----------------------+ | Triggers | - | | +----------------------+----------------------+----------------------+ | Multiple Unit | - | | | Information | | | +----------------------+----------------------+----------------------+ | > Result Code | - | | +----------------------+----------------------+----------------------+ | > Rating Group | - | | +----------------------+----------------------+----------------------+ | > Granted Unit | - | | +----------------------+----------------------+----------------------+ | > Tariff Time Change | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Units | | | +----------------------+----------------------+----------------------+ | > Validity Time | - | | +----------------------+----------------------+----------------------+ | > Final Unit | - | | | > Indication | | | +----------------------+----------------------+----------------------+ | > Time Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Volume Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Unit Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Quota Holding Time | - | | +----------------------+----------------------+----------------------+ | > Triggers | - | | +----------------------+----------------------+----------------------+
### 6.1.3 Bindings for edge enabling infrastructure resource usage converged
charging
The mapping between the Information Elements, resource attributes and CHF CDR
parameters for edge enabling infrastructure resource usage converged charging
is described in 3GPP TS 32.291 [7].
## 6.2 Definition of charging information for EAS deployment charging
### 6.2.1 Data description for EAS deployment charging
#### 6.2.1.1 Message contents
##### 6.2.1.1.1 General
The Charging Data Request and Charging Data Response are specified in 3GPP TS
32.290 [6] and include charging information. The Charging Data Request can be
of type [Event].
Table 6.2.1.1.1-1 describes the use of these messages for converged charging.
Table 6.2.1.1.1-1: Converged charging messages reference table
Message Source Destination
* * *
Charging Data Request CEF CHF Charging Data Response CHF CEF
The following clauses describe the different fields used in the Charging Data
messages and the category in the tables is used according to the charging data
configuration defined in clause 5.4 of 3GPP TS 32.240 [2].
##### 6.2.1.1.2 Charging Data Request message
Table 6.2.1.1.2-1 illustrates the basic structure of a Charging Data Request
message from the CEF as used for EAS deployment converged charging.
Table 6.2.1.1.2-1: Charging Data Request message contents
+-----------------------+--------------------+-----------------------+ | Information Element | Converged Charging | Description | | | | | | | Category | | +=======================+====================+=======================+ | Session Identifier | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Subscriber Identifier | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | NF Consumer | M | Described in 3GPP TS | | Identification | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Functionality | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Name | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Address | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF PLMN ID | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Charging Identifier | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Timestamp | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Sequence | - | This field is not | | Number | | applicable. | +-----------------------+--------------------+-----------------------+ | Retransmission | O~C~ | Described in 3GPP TS | | Indicator | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | One-time Event | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | One-time Event Type | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Notify URI | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Supported Features | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Service Specification | O~C~ | Described in 3GPP TS | | Information | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Triggers | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Multiple Unit Usage | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Rating Group | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Requested Unit | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Used Unit Container | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | EAS ID | O~M~ | This field holds the | | | | EAS ID, see 3GPP TS | | | | 23.558 [9]. | +-----------------------+--------------------+-----------------------+ | EDN ID | O~M~ | This field holds the | | | | DN of EdgeDataNetwork | | | | MOI, see 3GPP TS | | | | 28.538 [12]. | +-----------------------+--------------------+-----------------------+ | EAS Provider | O~M~ | The identifier of the | | Identifier | | ASP that provides the | | | | EAS, see 3GPP TS | | | | 23.558 [9]. | +-----------------------+--------------------+-----------------------+ | EAS Deployment | O~M~ | This field holds the | | Charging Information | | for EAS deployment | | | | charging specific | | | | information described | | | | in clause 6.2.2.1.2. | +-----------------------+--------------------+-----------------------+
##### 6.2.1.1.3 Charging data response message
Table 6.2.1.1.3-1 illustrates the basic structure of a Charging Data Response
message from the CHF as used for EAS deployment converged charging.
Table 6.2.1.1.3-1: Charging Data Response message contents
+-----------------------+--------------------+-----------------------+ | Information Element | Converged Charging | Description | | | | | | | Category | | +=======================+====================+=======================+ | Session Identifier | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Timestamp | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Result | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Invocation Result | O~C~ | Described in 3GPP TS | | > Code | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Failed parameter | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Failure Handling | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Sequence | - | This field is not | | Number | | applicable. | +-----------------------+--------------------+-----------------------+ | Session Failover | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Supported Features | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Triggers | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Multiple Unit | O~C~ | Described in 3GPP TS | | Information | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Result Code | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Rating Group | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Granted Unit | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Validity Time | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Final Unit | - | This field is not | | > Indication | | applicable. | +-----------------------+--------------------+-----------------------+ | > Time Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Volume Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Unit Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Quota Holding Time | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Triggers | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+
#### 6.2.1.2 Ga message contents
See clause 5.2.3.4.
#### 6.2.1.3 CDR description on the Bee interface
##### 6.2.1.3.1 General
This clause describes the CDR content and format generated for EAS deployment
charging.
The following tables provide a brief description of each CDR parameter. The
category in the tables is used according to the charging data configuration
defined in clause 5.4 of 3GPP TS 32.240 [2]. Full definitions of the CDR
parameters, sorted by the name in alphabetical order, are provided in 3GPP TS
32.298 [3].
##### 6.2.1.3.2 EAS deployment charging CHF CDR data
If enabled, CHF CDRs for EAS deployment charging shall be produced for each
EAS LCM notification (i.e. notifyMOICreation, notifyMOIAttributeValueChanges,
or notifyMOIDeletion).
The fields of EAS deployment charging CHF CDR are specified in table
6.2.1.3.2-1.
Table 6.2.1.3.2-1: EAS deployment charging CHF record data
+----------------------------+----------+----------------------------+ | Field | Category | Description | +============================+==========+============================+ | Record Type | M | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Recording Network Function | O~M~ | Described in 3GPP TS | | ID | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Tenant Identifier | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | MnS Consumer Identifier | O~C~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | NF Consumer Information | M | This field holds the | | | | information of the CEF | | | | that used the charging | | | | service. | +----------------------------+----------+----------------------------+ | > NF Functionality | M | This field contains the | | | | function of the node (i.e. | | | | CEF) | +----------------------------+----------+----------------------------+ | > NF Name | O~C~ | This field holds the name | | | | of the CEF used. | +----------------------------+----------+----------------------------+ | > NF Address | O~C~ | This fields holds the IP | | | | Address of the CEF used. | +----------------------------+----------+----------------------------+ | > NF PLMN ID | O~C~ | This field holds the PLMN | | | | identifier (MCC MNC) of | | | | the CEF. | +----------------------------+----------+----------------------------+ | Charging Identifier | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Triggers | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | List of Multiple Unit | O~M~ | Described in 3GPP TS | | Usage | | 32.298 [3] | +----------------------------+----------+----------------------------+ | > Rating Group | O~M~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Duration | M | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Record Sequence Number | C | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Cause for Record Closing | M | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Local Record Sequence | O~M~ | Described in 3GPP TS | | Number | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Record Extensions | O~C~ | Described in 3GPP TS | | | | 32.298 [3] | +----------------------------+----------+----------------------------+ | Service Specification | O~C~ | Described in 3GPP TS | | Information | | 32.298 [3] | +----------------------------+----------+----------------------------+ | EAS ID | O~M~ | This field holds the EAS | | | | ID, see 3GPP TS 23.558 | | | | [9]. | +----------------------------+----------+----------------------------+ | EDN ID | O~M~ | This field holds the DN of | | | | EdgeDataNetwork MOI, see | | | | 3GPP TS 28.538 [12]. | +----------------------------+----------+----------------------------+ | EAS Provider Identifier | O~M~ | The identifier of the ASP | | | | that provides the EAS, see | | | | 3GPP TS 23.558 [9]. | +----------------------------+----------+----------------------------+ | EAS Deployment Charging | O~M~ | This field holds the EAS | | Information | | deployment charging | | | | specific information | | | | defined in clause | | | | 6.2.2.1.2. | +----------------------------+----------+----------------------------+
### 6.2.2 EAS deployment charging specific parameters
#### 6.2.2.1 Definition of EAS deployment charging information
##### 6.2.2.1.1 General
The Charging Information parameter used for EAS deployment charging is
provided in the following clauses.
##### 6.2.2.1.2 Definition of EAS deployment specific charging information
Specific charging information used for EAS deployment charging is provided
within the EAS Deployment Charging Information.
The detailed structure of the EAS Deployment Charging Information can be found
in table 6.2.2.1.2-1.
Table 6.2.2.1.2-1: Structure of EAS Deployment Charging Information
* * *
Information Element Category Description EAS Deployment Requirements O~C~ This
field holds the EAS Deployment Requirements, see 3GPP TS 28.538 [12],
including the Required EAS Serving Location, Software Image Info, Affinity
Anti Affinity ,Service Continuity and virtual Resource. LCM Event Type Oc This
field identifies the LCM Event type based on management operation notification
of success. See clause 11.1.1 in TS 28.532 [15] LCM Start Time M This field
holds the start time of the EAS LCM process, see Start Time in clause 8.3.6.5
Type measJobInfo-ResourceType in 3GPP TS 28.550 [14]. LCM End Time M This
field holds the end time of the EAS LCM process, see Stop Time in clause
8.3.6.5 Type measJobInfo-ResourceType in 3GPP TS 28.550 [14].
* * *
#### 6.2.2.2 Formal EAS deployment charging parameter description
##### 6.2.2.2.1 EAS deployment CHF CDR parameters
The detailed definitions, abstract syntax and encoding of EAS deployment CHF
CDRs parameters are specified in 3GPP TS 32.298 [3].
##### 6.2.2.2.2 EAS deployment resources attributes
The detailed definitions of resources attributes used for EAS deployment
charging are specified in 3GPP TS 32.291 [7].
#### 6.2.2.3 Detailed message format for converged charging
The following clause specifies per Operation Type the charging data that are
sent by CEF for EAS deployment converged charging.
The Operation Types are listed in the following order: I (Initial)/U
(Update)/T (Termination)/E (Event). Therefore, when all Operation Types are
possible it is marked as IUTE. If only some Operation Types are allowed for a
node, only the appropriate letters are used (i.e. IUT or E) as indicated in
the table heading. The omission of an Operation Type for a particular field is
marked with \"-\" (i.e. IU-E). Also, when an entire field is not allowed in a
node the entire cell is marked as \"-\".
Table 6.2.2.3-1 defines the basic structure of the supported fields in the
_Charging Data Request_ message for EAS deployment converged charging.
Table 6.2.2.3-1: Supported fields in Charging Data Request message
+----------------------+----------------------+----------------------+ | Information Element | Functionality of CEF | EAS deployment | | | | charging | +======================+======================+======================+ | | Supported Operation | E | | | Types | | +----------------------+----------------------+----------------------+ | Session Identifier | - | | +----------------------+----------------------+----------------------+ | Subscriber | - | | | Identifier | | | +----------------------+----------------------+----------------------+ | NF Consumer | E | | | Identification | | | +----------------------+----------------------+----------------------+ | > NF Functionality | E | | +----------------------+----------------------+----------------------+ | > NF Name | E | | +----------------------+----------------------+----------------------+ | > NF Address | E | | +----------------------+----------------------+----------------------+ | > NF PLMN ID | E | | +----------------------+----------------------+----------------------+ | Charging Identifier | E | | +----------------------+----------------------+----------------------+ | Invocation Timestamp | E | | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | | | Number | | | +----------------------+----------------------+----------------------+ | Retransmission | E | | | Indicator | | | +----------------------+----------------------+----------------------+ | One-time Event | E | | +----------------------+----------------------+----------------------+ | One-time Event Type | E | | +----------------------+----------------------+----------------------+ | Notify URI | - | | +----------------------+----------------------+----------------------+ | Supported Features | E | | +----------------------+----------------------+----------------------+ | Service | E | | | Specification | | | | Information | | | +----------------------+----------------------+----------------------+ | Triggers | E | | +----------------------+----------------------+----------------------+ | Multiple Unit Usage | E | | +----------------------+----------------------+----------------------+ | > Rating Group | E | | +----------------------+----------------------+----------------------+ | > Requested Unit | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Units | | | +----------------------+----------------------+----------------------+ | > Used Unit | - | | | > Container | | | +----------------------+----------------------+----------------------+ | > Service Identifier | - | | +----------------------+----------------------+----------------------+ | > Quota management | - | | | > Indicator | | | +----------------------+----------------------+----------------------+ | > Triggers | - | | +----------------------+----------------------+----------------------+ | > Trigger Timestamp | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Unit | | | +----------------------+----------------------+----------------------+ | > Event Time Stamps | - | | +----------------------+----------------------+----------------------+ | > Local Sequence | - | | | > Number | | | +----------------------+----------------------+----------------------+ | EAS ID | E | | +----------------------+----------------------+----------------------+ | EDN ID | E | | +----------------------+----------------------+----------------------+ | EAS Provider | E | | | Identifier | | | +----------------------+----------------------+----------------------+ | Edge Enabling | E | | | Infrastructure | | | | Resource Usage | | | | Charging Information | | | +----------------------+----------------------+----------------------+
Table 6.2.2.3-2 defines the basic structure of the supported fields in the
_Charging Data Response_ message for EAS deployment converged charging.
Table 6.2.2.3-2: Supported fields in Charging Data Response message
+----------------------+----------------------+----------------------+ | Information Element | Functionality of CEF | EAS deployment | | | | charging | +======================+======================+======================+ | | Supported Operation | E | | | Types | | +----------------------+----------------------+----------------------+ | Session Identifier | E | | +----------------------+----------------------+----------------------+ | Invocation Timestamp | E | | +----------------------+----------------------+----------------------+ | Invocation Result | E | | +----------------------+----------------------+----------------------+ | > Invocation Result | E | | | > Code | | | +----------------------+----------------------+----------------------+ | > Failed parameter | E | | +----------------------+----------------------+----------------------+ | > Failure Handling | E | | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | | | Number | | | +----------------------+----------------------+----------------------+ | Session Failover | - | | +----------------------+----------------------+----------------------+ | Supported Features | E | | +----------------------+----------------------+----------------------+ | Triggers | - | | +----------------------+----------------------+----------------------+ | Multiple Unit | - | | | Information | | | +----------------------+----------------------+----------------------+ | > Result Code | - | | +----------------------+----------------------+----------------------+ | > Rating Group | - | | +----------------------+----------------------+----------------------+ | > Granted Unit | - | | +----------------------+----------------------+----------------------+ | > Tariff Time Change | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Units | | | +----------------------+----------------------+----------------------+ | > Validity Time | - | | +----------------------+----------------------+----------------------+ | > Final Unit | - | | | > Indication | | | +----------------------+----------------------+----------------------+ | > Time Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Volume Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Unit Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Quota Holding Time | - | | +----------------------+----------------------+----------------------+ | > Triggers | - | | +----------------------+----------------------+----------------------+
### 6.2.3 Bindings for EAS deployment converged charging
The mapping between the Information Elements, resource attributes and CHF CDR
parameters for EAS deployment converged charging is described in 3GPP TS
32.291 [7].
## 6.3 Definition of charging information for edge enabling services charging
### 6.3.1 Data description for edge enabling services charging
#### 6.3.1.1 Message contents
##### 6.3.1.1.1 General
The Charging Data Request and Charging Data Response are specified in 3GPP TS
32.290 [6] and include charging information. The Charging Data Request can be
of type [Event].
Table 6.3.1.1.1-1 describes the use of these messages for converged charging.
Table 6.3.1.1.1-1: Converged charging messages reference table
**Message** **Source** **Destination**
* * *
Charging Data Request EES CHF Charging Data Response CHF EES
The following clauses describe the different fields used in the Charging Data
messages and the category in the tables is used according to the charging data
configuration defined in clause 5.4 of 3GPP TS 32.240 [2].
##### 6.3.1.1.2 Charging data request message
Table 6.3.1.1.2-1 illustrates the basic structure of a Charging Data Request
message from the EES as used for edge enabling services converged charging.
Table 6.3.1.1.2-1: Charging Data Request message contents
+-----------------------+--------------------+-----------------------+ | Information Element | Converged Charging | Description | | | | | | | Category | | +=======================+====================+=======================+ | Session Identifier | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Subscriber Identifier | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | NF Consumer | M | Described in 3GPP TS | | Identification | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Functionality | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Name | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF Address | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > NF PLMN ID | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Charging Identifier | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Timestamp | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Sequence | - | This field is not | | Number | | applicable. | +-----------------------+--------------------+-----------------------+ | Retransmission | O~C~ | Described in 3GPP TS | | Indicator | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | One-time Event | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | One-time Event Type | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Notify URI | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Supported Features | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Service Specification | O~C~ | Described in 3GPP TS | | Information | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Triggers | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Multiple Unit Usage | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Rating Group | O~M~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Requested Unit | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Used Unit Container | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | EAS ID | O~M~ | This field holds the | | | | EAS ID, see 3GPP TS | | | | 23.558 [9]. | +-----------------------+--------------------+-----------------------+ | EAS Provider | O~M~ | The identifier of the | | Identifier | | ASP that provides the | | | | EAS, see 3GPP | | | | TS 23.558 [9]. | +-----------------------+--------------------+-----------------------+ | Direct Edge Enabling | O~M~ | This field holds the | | Service Charging | | charging information | | Information | | described in | | | | clause 6.3.2.1.2 | | | | specific for charging | | | | of the edge enabling | | | | services directly | | | | provided by EES, used | | | | if structured | | | | charging information | | | | is required. | +-----------------------+--------------------+-----------------------+ | Exposed Edge Enabling | O~M~ | This field is mapped | | Service Charging | | to the NEF API | | Information | | Charging information | | | | defined in 3GPP TS | | | | 32.254 [16], clause | | | | 6.3.1.4, and holds | | | | the charging | | | | information described | | | | in clause 6.3.2.1.3. | +-----------------------+--------------------+-----------------------+
##### 6.3.1.1.3 Charging data response message
Table 6.3.1.1.3-1 illustrates the basic structure of a Charging Data Response
message from the CHF as used for edge enabling services converged charging.
Table 6.3.1.1.3-1: Charging Data Response message contents
+-----------------------+--------------------+-----------------------+ | Information Element | Converged Charging | Description | | | | | | | Category | | +=======================+====================+=======================+ | Session Identifier | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Timestamp | M | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Result | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Invocation Result | O~C~ | Described in 3GPP TS | | > Code | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Failed parameter | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Failure Handling | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Invocation Sequence | - | This field is not | | Number | | applicable. | +-----------------------+--------------------+-----------------------+ | Session Failover | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | Supported Features | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Triggers | - | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | Multiple Unit | O~C~ | Described in 3GPP TS | | Information | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Result Code | O~C~ | Described in 3GPP TS | | | | 32.290 [6]. | +-----------------------+--------------------+-----------------------+ | > Rating Group | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Granted Unit | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Validity Time | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Final Unit | - | This field is not | | > Indication | | applicable. | +-----------------------+--------------------+-----------------------+ | > Time Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Volume Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Unit Quota | - | This field is not | | > Threshold | | applicable. | +-----------------------+--------------------+-----------------------+ | > Quota Holding Time | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+ | > Triggers | - | This field is not | | | | applicable. | +-----------------------+--------------------+-----------------------+
#### 6.3.1.2 Ga message contents
See clause 5.2.4.4.
#### 6.3.1.3 CDR description on the Bee interface
##### 6.3.1.3.1 General
This clause describes the CDR content and format generated for edge enabling
services charging.
The following tables provide a brief description of each CDR parameter. The
category in the tables is used according to the charging data configuration
defined in clause 5.4 of 3GPP TS 32.240 [2]. Full definitions of the CDR
parameters, sorted by the name in alphabetical order, are provided in 3GPP TS
32.298 [3].
##### 6.3.1.3.2 Edge enabling services charging CHF CDR data
If enabled, CHF CDRs for edge enabling services charging shall be produced for
each triggering event.
The fields of edge enabling services charging CHF CDR are specified in table
6.3.1.3.2-1.
Table 6.3.1.3.2-1: Edge enabling services charging CHF record data
+----------------------------+----------+----------------------------+ | Field | Category | Description | +============================+==========+============================+ | Record Type | M | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Recording Network Function | O~M~ | Described in 3GPP TS | | ID | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Tenant Identifier | O~M~ | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | MnS Consumer Identifier | O~C~ | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | NF Consumer Information | M | This field holds the | | | | information of the EES | | | | that used the charging | | | | service. | +----------------------------+----------+----------------------------+ | > NF Functionality | M | This field contains the | | | | function of the node (i.e. | | | | EES). | +----------------------------+----------+----------------------------+ | > NF Name | O~C~ | This field holds the name | | | | of the EES used. | +----------------------------+----------+----------------------------+ | > NF Address | O~C~ | This fields holds the IP | | | | Address of the EES used. | +----------------------------+----------+----------------------------+ | > NF PLMN ID | O~C~ | This field holds the PLMN | | | | identifier (MCC MNC) of | | | | the EES. | +----------------------------+----------+----------------------------+ | Charging Identifier | O~M~ | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Triggers | O~M~ | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | List of Multiple Unit | O~M~ | Described in 3GPP TS | | Usage | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | > Rating Group | O~M~ | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Duration | M | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Record Sequence Number | C | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Cause for Record Closing | M | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Local Record Sequence | O~M~ | Described in 3GPP TS | | Number | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Record Extensions | O~C~ | Described in 3GPP TS | | | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | Service Specification | O~C~ | Described in 3GPP TS | | Information | | 32.298 [3]. | +----------------------------+----------+----------------------------+ | EAS ID | O~M~ | This field holds the EAS | | | | ID, see 3GPP TS 23.558 | | | | [9]. | +----------------------------+----------+----------------------------+ | EAS Provider Identifier | O~M~ | The identifier of the ASP | | | | that provides the EAS, see | | | | 3GPP TS 23.558 [9]. | +----------------------------+----------+----------------------------+ | Direct Edge Enabling | O~M~ | This field holds the | | Service Charging | | charging information | | Information | | described in | | | | clause 6.3.2.1.2 specific | | | | for charging of the edge | | | | enabling services directly | | | | provided by EES, may be | | | | used if structured | | | | charging information is | | | | required. | +----------------------------+----------+----------------------------+ | Exposed Edge Enabling | O~M~ | This field is mapped to | | Service Charging | | the NEF API Charging | | Information | | information defined in | | | | 3GPP TS 32.254 [16], | | | | clause 6.3.1.4, and holds | | | | the charging information | | | | described in clause | | | | 6.3.2.1.3. | +----------------------------+----------+----------------------------+
### 6.3.2 Edge enabling services charging specific parameters
#### 6.3.2.1 Definition of edge enabling services charging information
##### 6.3.2.1.1 General
The Charging Information parameter used for edge enabling services charging is
provided in the following clauses.
##### 6.3.2.1.2 Definition of direct edge enabling services charging specific
charging information
Specific charging information used for edge enabling services charging of EAS
registration, EAS discovery, ACR, ACR status, AC information, is provided
within the Edge Enabling Service Charging Information, specied in 3GPP TS
23.558 [9], clause 8. May be used detailed information is required, otherwise
Edge Enabling Service specific charging information clause 6.3.1.2.1.3 shall
be used.
The detailed structure of the Edge Enabling Service Charging Information is
described in table 6.3.2.1.2-1, and it reuses the structure of the \"**NEF API
Charging Information** \" defined in 3GPP TS 32.254 [16], table 6.3.1.4.1.
Table 6.3.2.1.2-1: Structure of Direct Edge Enabling Service Charging
Information
* * *
Direct Edge Enabling Service Charging Information Category Description
External Individual Identifier O~C~ The identifier of the UE (i.e. GPSI or
identity token), see 3GPP TS 23.558 [9]. External Group Identifier - This
field is not applicable. Internal Group Identifier - This field is not
applicable. API Direction M Described in 3GPP TS 32.254 [16], table 6.3.1.4.1.
API Target Network Function O~C~ This field holds the identifier of the
network function or type of server that either is the destination of the API
invocation or triggers the notification, see 3GPP TS 32.254 [16], table
6.3.1.4.1. API Result Code O~C~ Described in 3GPP TS 32.254 [16], table
6.3.1.4.1. API Name M This field holds the name of the API invoked, see 3GPP
TS 23.558 [9], table 6.7.2-2. API Reference O~C~ This field holds the
reference to 3GPP TS 29.558 [17], either as the TS number and release (e.g.
\"3GPP TS 29.558 Rel-17\") or the URI to the specification. API Content O~C~
Described in 3GPP TS 29.558 [17], see also 3GPP TS 32.254 [16], table
6.3.1.4.1.
* * *
##### 6.3.2.1.3 Definition of exposed Edge Enabling Service specific charging
information
Specific charging information used for exposed Edge Enabling service charging
is provided within the Exposed Edge Enabling Service Charging Information.
The detailed structure of the Exposed Edge Enabling Service Charging
Information is described in table 6.3.2.1.3-1 and it reuses the \"**NEF API
Charging Information** \" defined in 3GPP TS 32.254 [16], table 6.3.1.4.1.
Table 6.3.2.1.3-1: Structure of Exposed Edge Enabling Service Charging
Information
Exposed Edge Enabling Service Charging Information Category Description
* * *
External Individual Identifier O~C~ The identifier of the UE (i.e, GPSI or
identity token), see 3GPP TS 23.558 [9]. External Group Identifier - This
field is not applicable. Internal Group Identifier - This field is not
applicable. API Direction M Described in 3GPP TS 32.254 [16], table 6.3.1.4.1.
API Target Network Function O~C~ This field holds the identifier of the
network function or type of server that either is the destination of the API
invocation or triggers the notification, see 3GPP TS 32.254 [16], table
6.3.1.4.1. API Result Code O~C~ Described in 3GPP TS 32.254 [16], table
6.3.1.4.1. API Name M This field holds the name of the API invoked, see 3GPP
TS 23.558 [9], table 6.7.2-2. API Reference O~C~ This field holds the
reference to 3GPP TS 29.558 [17], either as the TS number and release (e.g.
\"3GPP TS 29.558 Rel‑17\") or the URI to the specification. API Content O~C~
Described in 3GPP TS 29.558 [17], see also 3GPP TS 32.254 [16], table
6.3.1.4.1.
#### 6.3.2.2 Formal edge enabling services charging parameter description
##### 6.3.2.2.1 Edge enabling services CHF CDR parameters
The detailed definitions, abstract syntax and encoding of edge enabling
services CHF CDRs parameters are specified in 3GPP TS 32.298 [3].
##### 6.3.2.2.2 Edge enabling services resources attributes
The detailed definitions of resources attributes used for edge enabling
services charging are specified in 3GPP TS 32.291 [7].
#### 6.3.2.3 Detailed message format for converged charging
The following clause specifies per Operation Type the charging data that are
sent by EES for edge enabling services converged charging.
The Operation Types are listed in the following order: I (Initial)/U
(Update)/T (Termination)/E (Event). Therefore, when all Operation Types are
possible it is marked as IUTE. If only some Operation Types are allowed for a
node, only the appropriate letters are used (i.e. IUT or E) as indicated in
the table heading. The omission of an Operation Type for a particular field is
marked with \"-\" (i.e. IU-E). Also, when an entire field is not allowed in a
node the entire cell is marked as \"-\".
Table 6.3.2.3-1 defines the basic structure of the supported fields in the
_Charging Data Request_ message for edge enabling services converged charging.
Table 6.3.2.3-1: Supported fields in Charging Data Request message
+----------------------+----------------------+----------------------+ | Information Element | Functionality of EES | Edge enabling | | | | services charging | +======================+======================+======================+ | | Supported Operation | E | | | Types | | +----------------------+----------------------+----------------------+ | Session Identifier | - | | +----------------------+----------------------+----------------------+ | Subscriber | - | | | Identifier | | | +----------------------+----------------------+----------------------+ | NF Consumer | E | | | Identification | | | +----------------------+----------------------+----------------------+ | > NF Functionality | E | | +----------------------+----------------------+----------------------+ | > NF Name | E | | +----------------------+----------------------+----------------------+ | > NF Address | E | | +----------------------+----------------------+----------------------+ | > NF PLMN ID | E | | +----------------------+----------------------+----------------------+ | Charging Identifier | E | | +----------------------+----------------------+----------------------+ | Invocation Timestamp | E | | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | | | Number | | | +----------------------+----------------------+----------------------+ | Retransmission | E | | | Indicator | | | +----------------------+----------------------+----------------------+ | One-time Event | E | | +----------------------+----------------------+----------------------+ | One-time Event Type | E | | +----------------------+----------------------+----------------------+ | Notify URI | - | | +----------------------+----------------------+----------------------+ | Supported Features | E | | +----------------------+----------------------+----------------------+ | Service | E | | | Specification | | | | Information | | | +----------------------+----------------------+----------------------+ | Triggers | E | | +----------------------+----------------------+----------------------+ | Multiple Unit Usage | - | | +----------------------+----------------------+----------------------+ | > Rating Group | - | | +----------------------+----------------------+----------------------+ | > Requested Unit | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Units | | | +----------------------+----------------------+----------------------+ | > Used Unit | - | | | > Container | | | +----------------------+----------------------+----------------------+ | > Service Identifier | - | | +----------------------+----------------------+----------------------+ | > Quota management | - | | | > Indicator | | | +----------------------+----------------------+----------------------+ | > Triggers | - | | +----------------------+----------------------+----------------------+ | > Trigger Timestamp | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Unit | | | +----------------------+----------------------+----------------------+ | > Event Time Stamps | - | | +----------------------+----------------------+----------------------+ | > Local Sequence | - | | | > Number | | | +----------------------+----------------------+----------------------+ | EAS ID | E | | +----------------------+----------------------+----------------------+ | EAS Provider | E | | | Identifier | | | +----------------------+----------------------+----------------------+ | Direct Edge Enabling | E | | | Service Charging | | | | Information | | | +----------------------+----------------------+----------------------+ | Exposed Edge | E | | | Enabling Service | | | | Charging Information | | | +----------------------+----------------------+----------------------+
Table 6.3.2.3-2 defines the basic structure of the supported fields in the
_Charging Data Response_ message for edge enabling services converged
charging.
Table 6.3.2.3-2: Supported fields in Charging Data Response message
+----------------------+----------------------+----------------------+ | Information Element | Functionality of EES | Edge enabling | | | | services charging | +======================+======================+======================+ | | Supported Operation | E | | | Types | | +----------------------+----------------------+----------------------+ | Session Identifier | E | | +----------------------+----------------------+----------------------+ | Invocation Timestamp | E | | +----------------------+----------------------+----------------------+ | Invocation Result | E | | +----------------------+----------------------+----------------------+ | > Invocation Result | E | | | > Code | | | +----------------------+----------------------+----------------------+ | > Failed parameter | E | | +----------------------+----------------------+----------------------+ | > Failure Handling | E | | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | | | Number | | | +----------------------+----------------------+----------------------+ | Session Failover | - | | +----------------------+----------------------+----------------------+ | Supported Features | E | | +----------------------+----------------------+----------------------+ | Triggers | - | | +----------------------+----------------------+----------------------+ | Multiple Unit | - | | | Information | | | +----------------------+----------------------+----------------------+ | > Result Code | - | | +----------------------+----------------------+----------------------+ | > Rating Group | - | | +----------------------+----------------------+----------------------+ | > Granted Unit | - | | +----------------------+----------------------+----------------------+ | > Tariff Time Change | - | | +----------------------+----------------------+----------------------+ | > Time | - | | +----------------------+----------------------+----------------------+ | > Total Volume | - | | +----------------------+----------------------+----------------------+ | > Uplink Volume | - | | +----------------------+----------------------+----------------------+ | > Downlink Volume | - | | +----------------------+----------------------+----------------------+ | > Service Specific | - | | | > Units | | | +----------------------+----------------------+----------------------+ | > Validity Time | - | | +----------------------+----------------------+----------------------+ | > Final Unit | - | | | > Indication | | | +----------------------+----------------------+----------------------+ | > Time Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Volume Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Unit Quota | - | | | > Threshold | | | +----------------------+----------------------+----------------------+ | > Quota Holding Time | - | | +----------------------+----------------------+----------------------+ | > Triggers | - | | +----------------------+----------------------+----------------------+
### 6.3.3 Bindings for edge enabling services converged charging
The mapping between the Information Elements, resource attributes and CHF CDR
parameters for edge enabling services converged charging is described in 3GPP
TS 32.291 [7].
#