# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document provides a study into providing a Customized Alerting
Tones in the 3GPP CS domain. The document covers the functional description,
network architecture and protocol definition to support CAT in the 3GPP CS
domain for speech and multimedia calls.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.182: \"Customized Alerting Tone (CAT) requirements; Stage 1\".
[3] 3GPP TS 23.205: \"Bearer independent circuit-switched core network; Stage
2\".
[4] ITU-T Recommendation H.324 Amendment 1: \"New Annex K \"Media Oriented
Negotiation Acceleration Procedure\" and associated changes to Annex\".
[5] 3GPP TR 26.911: \"Terminal Implementor's Guide\"
[6] 3GPP TS 22.078: \"Customized Applications for Mobile network Enhanced
Logic (CAMEL); Service Description; Stage 1\".
[7] ITU-T Recommendation H.324 (09/2005): \"Terminal for low bit-rate
communication\"
[8] ITU-T Recommendation H.245 (05/2006) : \"Control protocol for multimedia
communication\"
[9] 3GPP TS 23.014: \"Support of Dual Tone Multi-Frequency (DTMF) signalling\"
[10] 3GPP TS 23.231: \"SIP-I based Circuit Switched Core Network ; Stage 2\"
[11] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\"
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and 3GPP TS 22.182 [2] and the following apply. A term
defined in the present document takes precedence over the definition of the
same term, if any, in 3GPP TR 21.905 [1] and 3GPP TS 22.182 [2].
Customized Alerting Tone: same definition as in 3GPP TS 22.182 [2], limited to
audio and video.
CAT capable (resp. non CAT capable) UE: UE supporting (resp. not supporting)
the CAT signalling enhancements and functionalities specified in this
specification.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
A party Calling party
B party Called party
CAT-A CAT of the calling party A
CAT-B CAT of the called party B
GMSC-X GMSC of the called party X
MSC-A Originating MSC of the calling party A
MSC-B Terminating MSC of the called party B
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and 3GPP TS 22.182 [2] and the following apply. An abbreviation
defined in the present document takes precedence over the definition of the
same abbreviation, if any, in 3GPP TR 21.905 [1] and 3GPP TS 22.182 [2].
# 4 Overview of CAT service requirements in the 3GPP CS domain
## 4.1 Overview of CAT service requirements
CAT service requirements are specified in 3GPP TS 22.182 [2].
The basic CAT functionalities applicable to the 3GPP CS domain are :
\- CAT service is an operator specific service by which an operator enables
the subscriber to customize the alerting tone which is played to the calling
party. CAT service should not negatively affect the conversation between
calling and called parties, e.g. no voice/video clipping, no longer call setup
time.
\- The service user shall be able to subscribe the CAT service, activate the
CAT service, update the settings, e.g. to change his active CAT.
\- The CAT subscriber should be able to configure the CAT service. The CAT
service should be able to select the appropriate CAT according to the rules.
The CAT subscriber profile is based on the following parameters:
> 1\. CAT content descriptor - Pointing to the right content or combination of
> contents (e.g. personal prompt plus chosen music track).
>
> 2\. CAT timing descriptor - Time of day, day of week, specific date and
> intervals based on each of those parameters.
>
> 3\. User (called/calling party) descriptor - user ID (or group ID of users),
> user presence, user location, CAT user charging mode
>
> The CAT service shall be able to select the appropriate CAT according to the
> CAT user profile.
>
> NOTE 1: As location information may be restricted in some instances , the
> default user location may be a generic \"unknown\".
>
> NOTE 2: Presence information for a CS user is limited to attached or
> detached
\- It should be possible to inform the user about status and changes in his
CAT service, e.g. close expiry date for the CAT service or a particular CAT
content.
> NOTE: In the CS domain, this information may be provided by existing means
> such as SMS and web access.
\- The called party shall be able to pre-configure the CAT service. The
preconfigured service is played upon receipt of an incoming call notification.
This may be based upon the calling party identity.
\- The calling party shall be able to experience the CAT set by the called CAT
service subscriber.
\- In CS, the calling party shall be able to experience the CAT set by the
calling CAT service subscriber when in the HPLMN. When roaming this function
may not be available.
\- If the calling party is in the CS domain, when the called party answers the
call the CAT shall stop.
\- The CAT shall override the default alerting tone towards the calling party.
\- The operator should have the capability to store multiple CATs per CAT
service subscriber.
\- The operator shall be able to charge for the CAT service.
\- It shall be possible for a CAT subscriber to subscribe to a CAT that is
provided by a third party content provider.
\- The calling user shall have the possibility to copy the CAT of a called
user as his own CAT while the CAT is being played. The pre-requisites are that
the called user has enabled CAT sharing, if applicable, for that instance of
CAT and that both users are subscribers to the same HPLMN and the calling user
is within the HPLMN.
> NOTE 1: A CAT might also be copied offline via e.g. web interface but that
> functionality does not require standardisation.
>
> NOTE 2: The expression \"to copy the CAT\" does not necessarily mean that
> the CAT is actually copied. It may also mean that a purchase request is
> being sent to the CAT service provider.
\- When the CAT is playing, the calling party shall be able to stop it,
subject to service provider policy, and then he shall experience the default
alerting tone for the duration of the call establishment. The pre-requisites
are that both called and calling user are subscribers to the same HPLMN and
the calling user is within the HPLMN.
> NOTE 3: The default alerting tone may be a CAT selected by the operator in
> the event of e.g. CAT STOP.
\- The calling party should be able to reject the CAT service based on rules
e.g. time, the identity of the called party.
\- The calling party's operator shall be able to configure which CAT should
have priority, the one set by the called or calling CAT service subscriber. By
default, if no preference is set, the CAT set by the calling party has
priority.
## 4.2 Analysis of CAT service requirements
1) The following requirements do not impact CSCN protocols and do therefore
not require any specific work in the scope of this report.
1.1 CAT charging : CAT charging is handled separately by the CAT server ; no
specific charging evolutions are expected from (G)MSC servers.
1.2 The provisioning of the CAT \"content\" is handled outside of the CS
signalling domain.
1.3 TS 22.182, sub-clause 4.1 : \" It should be possible to inform the user
about status and changes in his CAT service, e.g. close expiry date for the
CAT service or a particular CAT content\".\ In the CS domain, this information
is assumed to be provided by existing means such as SMS and web access
2) The following comments were agreed regarding service requirements specified
in 3GPP TS 22.182 [2]:
2.1 For calls involving both the IMS and CS domains (i.e. CS originated calls
towards IMS and vice-versa), the service requirement more precisely depends on
whether the calling or the called party is located in the CS domain or in IMS.
The CS domain is the domain that will constrain the service ultimately.
Besides, the CAT server will normally not be aware of the calling party\'s
location (in IMS or CSCN).
2.2 TS 22.182, sub-clause 4.1 : \" When the CAT is playing, the calling party
shall be able to stop it, then he shall experience the default alerting tone
for the duration of the call establishment\"
> The following comments were expressed on SA1 proposal to use DTMFs to signal
> the CAT server to stop an on-going CAT and play a default CAT :
\- from a service perspective, it was questioned how the calling parties would
get the knowledge that DTMF may be used to stop the CAT or which specific
DTMFs to send to stop the CAT ? Though the subscribers of the operator
providing CAT services can be educated to learn how to stop the CAT played by
the HPLMN, it is unclear how calling parties that would belong to other PLMNs
or other networks/countries would get that knowledge.
\- Transmission of DTMFs during the alerting phase would require that the
bearer from the calling party to the CAT server is two-way through-connected
during the alerting phase (in networks where DTMFs are sent inband). Though
signalling extensions are defined in ISUP v3 to allow this, this can not be
guaranteed in ISUP v2 networks. So whether the service can be provided will
depend on the networks crossed by the call.
\- Calls originating from PBXs may be prevented from transmitting DTMF prior
to answer.
> How to render the service needs therefore further technical investigations
> in CT4.
2.3 CAT is not a new standardized supplementary service, i.e. the CAT service
is not activated, configured, deactivated from the UE like the traditional
supplementary service e.g. calling line presentation.
2.4 The scope of the CAT copy service is limited between subscribers of the
same PLMN.
> In particular, no new interfaces e.g. between PLMNs or between CAT servers
> needs to be defined to allow exchange of CAT information.
>
> With regard to the statement \"The calling user may have the possibility to
> copy the CAT of a called user as his own CAT provided the called user has
> enabled CAT sharing for that instance of CAT\", it is agreed that
> configuration of CAT sharing from called party is implemented at the CAT
> Content service level, e.g. within the web domain, i.e. it has no impact on
> the existing CSCN protocols/ procedures.
>
> Since DTMF is proposed as the solution to carry the CAT copy request, this
> TR does only need to specify the requirements allowing the sending of DTMF
> from the calling UE to the CAT Server. It is out of the scope of the TR to
> specify the CAT copy procedure itself.
2.5 CT4 assumes that presence information in the CS domain (\'user detached\')
may be used to send a specific CAT to the calling party when the called party
is not reachable, e.g. prior to forwarding the call. No other service
requirements are expected with regards to the \'user detached\' or \'user
attached\' presence information.
2.6. The service requirement \"The calling party should be able to reject the
CAT service based on rules e.g. time, the identity of the called party.\" may
be supported by requiring the calling subscriber to configure CAT-A service
and give priority to CAT-A over CAT-B whenever CAT-B is not desired. Taking
into account rules e.g. time or identity of the called party would then
require that the network supports CAT priority as per calling party\'s
preference.
# 5 Architectural aspects
## 5.1 Architectural requirements
## 5.2 Reference model
### 5.2.1 Logical network architecture
An overview of the logical network architecture to provide CAT in the 3GPP CS
domain is given in Fig.5.2.1.1.
Figure 5.2.1.1: Logical network architecture for CAT in the 3GPP CS domain
NOTE: Cc and Cb are new reference points for the control and bearer planes
between the CAT Server and respectively the (G)MSC Server and the MGW.
The interface between the CAT Server A and the GMSC-B/MGW of the terminating
PLMN only applies to the CAT server switch architecture, see sub-clause 5.2.2.
#### 5.2.1.1 (G)MSC Server switch architecture
In this approach, for called party configured CAT service the (G)MSC server
controls the establishment, switch and release of the legs associated to the
calling party, called party and CAT media. If the called party configured CAT
service is triggered, the GMSC establishes a leg towards the CAT Server B
which selects the appropriate audio or video CAT and delivers the associated
media. The ring back tone is played during the alerting phase till the called
party picks up the call. At this point in time, the GMSC Server through-
connects the calling and called parties and releases the leg towards the CAT
server B. For multimedia calls, a new end to end H.245 call is then set up
between the calling and the called parties.
For calling party configured CAT service, it is similar to the called party
configured CAT described above with the exceptions:\ \- The originating VMSC
server and CAT server A instead of the GMSC server and CAT server B
respectively.
This is illustrated on the following figures for called party configured CAT
service.
{width="6.698611111111111in" height="2.96875in"}
Figure 5.2.1.1.1: (G)MSC Server switch architecture --called party configured
CAT during alerting phase
Figure 5.2.1.1.2: (G)MSC Server switch architecture -- Called party picks up
the call
Call flows are further detailed in sub-clause 7.1.
#### 5.2.1.2 CAT Server switch architecture
In this approach, the CAT server controls the switch of the bearer for CAT
media delivery and for conversation.
For called party configured CAT service, the GMSC establishes the call towards
the CAT Server B if the called party configured CAT service is triggered and
the CAT server B establishes the call to the terminating VMSC server. During
the alerting phase till the called party picks up the call, the CAT server B
selects the appropriate audio or video CAT and delivers the associated media
to the calling party. After the called party picks up the call, the CAT Server
B both-way through-connects the bearer to the calling and called parties for
conversation in a voice call. In a multimedia call, the CAT server B continues
to delivery the multimedia CAT media to the calling party till the complete of
the H.245 call setup towards the called party after the called party picks up
the call to improve the calling party's experience. This is illustrated figure
5.2.1.2.1 and 5.2.1.2.2.
For calling party configured CAT service, it is similar to the called party
configured CAT described above with the modification:
\- The originating VMSC server and CAT server A instead of the GMSC server and
CAT server B respectively.
Figure 5.2.1.2.1: CAT Server switch architecture -- called party configured
CAT playing phase
Figure 5.2.1.2.2: CAT Server switch architecture -- conversation phase
#### 5.2.1.3 (G)MSC Server bridge architecture
Same as defined for the (G)MSC Server switch architecture as specified in sub-
clause 5.2.1.1 with the modification below.
For multimedia calls, the (G)MSC server or the originating VMSC server bridges
two H.245 calls, one between the calling party and the (G)MSC/MGW or the
originating VMSC/MGW, and another between the (G)MSC/MGW or the originating
VMSC/MGW and the called party. The multimedia CAT may be continue to be
delivered to the calling party during the second H.245 call setup towards the
called party after the called party picks up the call to improve the calling
party's experience.
#### 5.2.1.4 CAT Server switch architecture with routing back to GMSC Server
In this approach, the CAT server controls the switch of the bearer for CAT
media delivery and for conversation.
For called party configured CAT service, the GMSC establishes the call towards
the CAT Server B if the called party configured CAT service is triggered and
the CAT server B routes the call back to the GMSC Server. The second HLR
inquiry in GMSC Server provides the roaming number and the call will be routed
to the terminating VMSC server. During the alerting phase till the called
party picks up the call, the CAT server B selects the appropriate audio or
video CAT and delivers the associated media to the calling party. After the
called party picks up the call a second H.245 session is established between
the CAT Server and the called subscriber. The CAT Server B bridges the 2
multimedia sessions. This is illustrated figure 5.2.1.4.1 and 5.2.1.4.2.
For calling party configured CAT service, it is similar to the called party
configured CAT described above with the exceptions:
\- The originating VMSC server and CAT server A instead of the GMSC server and
CAT server B respectively.
This is illustrated on the following figures for called party configured CAT
service.
{width="6.6875in" height="2.948611111111111in"}
Figure 5.2.1.4.1: CAT Server switch architecture with routing back to GMSC --
CAT playing phase
{width="6.6875in" height="2.948611111111111in"}
Figure 5.2.1.4.2: CAT Server switch architecture with routing back to GMSC --
conversation phase
#### 5.2.1.5 (G)MSC Server switch architecture use based on UE capabilities
In this approach, the (G)MSC server controls the switch of the bearer for CAT
media delivery and for conversation. For multimedia CAT the CAT server stays
in conversation phase in the call path or is released depending on UE
capabilities (H.245 session reset support or indication if UE is CAT capable
in Setup message).
UEs which support the session reset capability can re- negotiate the H.245
after a session reset. The information if an UE supports session reset is
available in the CAT server during the first H.245 negotiation. The CAT server
provides this information to the GMSC Server (f.e. with an additional
connection) as illustrated in figure 5.2.1.5.1.
Also UEs which are CAT capable and provide this information in the Setup
message to the Originating MSC Server can re- negotiate the H.245. For
providing CAT capable information in the Setup message a spare bit of the
Classmark 2 field can be used. The (G)MSC server can retrieve the Classmark 2
with the help of the ATI/PSI MAP operations as illustrated in figure
5.2.1.5.2.
In the case that UE A does not support session reset or is not CAT capable the
CAT server needs to stay in the connection path during the whole video call.
In the case that the UE-A supports the session reset or is CAT capable the
connection path to the CAT server can be released after the CAT phase. This is
illustrated figure 5.2.1.5.3 and 5.2.1.5.4.
{width="6.6875in" height="2.948611111111111in"}
Figure 5.2.1.5.1: (G)MSC Server switch architecture based on UE capabilities
-- CAT playing phase - UE session reset capability indicated by CAT-Server
{width="6.6875in" height="2.948611111111111in"}
Figure 5.2.1.5.2: (G)MSC Server switch architecture based on UE capabilities
-- CAT playing phase - UE CAT capability retrieved with ATI/PSI
{width="6.6875in" height="2.948611111111111in"}
Figure 5.2.1.5.3: (G)MSC Server switch architecture based on UE capabilities
-- conversation phase if no session reset support or UE non CAT capable
{width="6.6875in" height="2.948611111111111in"}
Figure 5.2.1.5.4: (G)MSC Server switch architecture based on UE capabilities
-- conversation phase if session reset support or UE CAT capable
#### 5.2.1.6 Terminating MSC Server switch architecture
In this approach, for called party configured CAT service the terminating MSC
server controls the establishment, switch and release of the legs associated
to the calling party, called party and CAT media. If the called party
configured CAT service is triggered, the terminating MSC establishes a leg
towards the CAT Server B which selects the appropriate audio or video CAT and
delivers the associated media. The CAT media is played during the alerting
phase till the called party picks up the call. After the call is answered, the
terminating MSC Server through-connects the calling and called parties and
releases the leg towards the CAT server B. For multimedia calls, a new end to
end H.245 call is then set up between the calling and the called parties.
This is illustrated on the following figures for called party configured CAT
service.
Figure 5.2.1.6.1: Terminating MSC Server switch architecture when called party
configured CAT is playing during the alerting phase
Figure 5.2.1.6.2: Terminating MSC Server switch architecture after the called
party answered the call
Call flows are further detained in sub-clause 7.5.
## 5.3 Functional Entities
The following entities are involved in the delivery of CAT services.
Originating MSC:
This is the MSC from which the calling party originates the call. It may be
located within the subscriber\'s HPLMN or a VPLMN.
It initiates an outgoing call to the CAT server to provide CAT-A if applicable
(e.g. if the calling party has subscribed the CAT-A service).
In the (G)MSC Server switch and bridge architectures, it also routes the on-
going call towards the called party, and controls the through-connection,
switch and release of the legs associated to the calling party, called party
and CAT media (if applicable).
GMSC:
It interrogates the HLR for routing information in order to route a mobile
terminating call to the terminating MSC where the called party is roaming. It
is located within the subscriber\'s HPLMN.
If the GMSC is the node in charge of setting the connection towards the CAT
server:
  * it initiates an outgoing call to the CAT server to provide CAT-B if applicable, e.g. if the called party has subscribed to customized ring back tones, or e.g. to send a customized call forwarding tone;
  * In the (G)MSC Server switch and bridge architectures, it also routes the call towards the terminating MSC, and controls the through-connection, switch and release of the legs associated to the calling party, called party and CAT media (if applicable).
If the terminating MSC is the node in charge of setting the connection towards
the CAT server:
  * it routes the call towards the terminating MSC.
Terminating MSC:
This is the MSC from which the called party receives the terminating call. It
may be located within the subscriber\'s HPLMN or a VPLMN.
If the GMSC is the node in charge of setting the connection towards the CAT
server:
  * it establishes the call towards the called party.
If the terminating MSC is the node in charge of setting the connection towards
the CAT server:
  * it initiates an outgoing call to the CAT server to provide CAT-B if applicable, e.g. if the called party has subscribed to customized ring back tones or e.g. to send a customized call waiting tone;
  * it establishes the call towards the called party and controls the through-connection, switch and release of the legs associated to the calling party, called party and CAT media.
NOTE: Different approaches are studied with either the GMSC or the terminating
MSC being in charge of setting the connection towards the CAT server. Only one
approach should be retained ultimately.
HLR:
It stores on per subscriber basis subscription information to provide CAT-A
and CAT-B.
CAT server:
It stores the CAT subscriber\'s profile as specified in section 4.1.
It stores the CAT audio/multimedia media/file locally for playing CAT media to
the calling party.
It selects the appropriate audio or multimedia CAT to be experienced by the
calling party according to the information collected for the ongoing call, the
CAT subscriber\'s rules selection and/or operator's policy.
It delivers the media of the selected audio or multimedia customized alerting
tone while the CAT is playing.
In the CAT Server switch architecture, it also routes the on-going call
towards the called party, and controls the through-connection, switch and
release of the legs associated to the calling party, called party and CAT
media.
CAT server A provides the calling party with CAT-A. It is located in the
calling subscriber\'s PLMN.
CAT server B provides the calling party with CAT-B. It is located in the
called subscriber\'s PLMN.
The Originating MSC, GMSC and Terminating MSC may or may not be co-located on
the same node.
SCP:
In the (G)MSC Server switch architecture use based on UE capabilities and use
of CAMEL-based triggering methods (e.g. T-CSI/O-CSI) the SCP controls the CAT
service.
Depending on the UE-capabilities the SCP orders the GMSC server (CAT-B) or
originating MSC (CAT-A) to connect the CAT-server in the call path during the
whole multimedia call or only during the CAT-phase.
## 5.4 Interfaces
### 5.4.1 Cc Interface
Cc interface is for the control of the CAT service between the CAT Server and
the (G)MSC Server. Any suitable protocol used on the Nc interface in the
Bearer Independent Core Network may be used for the purpose.
Editor\'s note: The recommendation on the Cc interface protocol may be further
studied.
#### 5.4.1.1 BICC based Cc interface
The same procedures for the BICC based Nc interface may be used for the
control of the CAT service between the CAT Server and the (G)MSC Server.
Editor\'s note: The procedures for the BICC based Cc interface different from
the BICC based Nc interface shall be highlighted in the description of the CAT
call flows and the interactions with other features.
#### 5.4.1.2 SIP-I based Cc interface
The same procedures for the SIP-I based Nc interface may be used for the
control of the CAT service between the CAT Server and the (G)MSC Server.
Editor\'s note: The procedures for the BICC based Cc interface different from
the BICC based Nc interface shall be highlighted in the description of the CAT
call flows and the interactions with other features.
#### 5.4.1.3 ISUP based Cc interface
The same procedures for the ISUP based Nc interface may be used for the
control of the CAT service between the CAT Server and the (G)MSC Server.
Editor\'s note: The procedures for the ISUP based Cc interface different from
the ISUP based Nc interface shall be highlighted in the description of the CAT
call flows and the interactions with other features.
### 5.4.2 Cb Interface
Cb interface is for the control of the CAT service between the CAT Server and
the MGW. The same profiles for the BICC and SIP-I based Nb interface should be
used for BICC and SIP-I based Cc interface respectively.
# 6 CAT service provisioning, activation & deactivation, configuration
## 6.1 CAT copy/ stop methods
### 6.1.1 Principles
DTMF is proposed as the method to convey the CAT copy request and CAT stop
request from the calling UE to the CAT Server. Consequently it is out of the
scope of the TR to specify CAT copy and CAT stop procedures.
DTMF is transmitted from the calling UE to the CAT Server as specified in sub-
clause 8.2.6. In CAT architectures where the CAT Server does not remain in the
path during the conversation phase, the DTMF can only be transmitted to the
CAT Server during the alerting phase.
An end to end both-way through-connection will necessarily exist when a
multimedia CAT is played to the calling party. It is therefore always possible
to transfer the DTMF from the calling UE to the CAT Server to request copying
or stopping a multimedia CAT.
An end to end both-way through-connection is not required to play an audio CAT
to the calling party. To allow transferring DTMF to request copying or
stopping an audio CAT, a both-way through-connection is required for the GMSC
and any intermediary nodes when DTMF is transmitted inband in both sides. A
both-way through connection is not required when DTMF is transported out of
band in either side of (G)MSC and any intermediary nodes.
### 6.1.2 CAT copy
The CAT copy can be supported when the calling and called parties have
subscribed to CAT services and subscribed to the same PLMN since no interface
is standardized to copy CAT between CAT Servers.
When DTMF is transported inband, the request to copy an audio CAT can be
conveyed to the CAT Server only if an end to end both-way through-connection
exists between the calling party and the CAT Server. See the corresponding
discussion in sub-clause 10.1.1.2.
Upon receipt of a DTMF denoting a CAT copy request, the CAT server normally
copies the called party\'s CAT being played to the calling party subscriber,
after optionally performing authorization checks as required by local policy.
### 6.1.3 CAT stop
The CAT stop can be supported when the calling party is receiving a CAT. The
calling party may be a CAT subscriber or not. The calling and called party may
belong to the same or different PLMNs. However the calling party needs to know
which DTMF to press to request stopping the CAT of the called party, which may
restrict the service to subscribers belonging to the same PLMN.
When DTMF is transported inband, the request to stop an audio CAT can be
conveyed to the CAT Server only if an end to end both-way through-connection
exists between the calling party and the CAT Server. See the corresponding
discussion in sub-clause 10.1.1.2.
Upon receiving the DTMF denoting a CAT stop request, the CAT server normally
stop playing it and play instead the default alerting tone.
## 6.2 CAT-A / CAT-B priority handling
### 6.2.1 Introduction
In call scenarios where both the calling and called parties subscribed and
activated respectively CAT-A and CAT-B services, the CAT experienced by the
calling party may be prioritized as follows :
  * the calling party\'s operator has configured which CAT should have the priority , as per 3GPP TS 22.182 requirement [2];
  * the calling party has configured which CAT he prefers to experience, potentially on a per called party basis (requirement not currently in 3GPP TS 22.182 [2] but requested to be investigated by 3GPP SA1).
NOTE: Assuming that the originating MSC triggers CAT-A service only if the
calling party is in its HPLMN, the calling party\'s operator is the operator
of the MSC to which the calling party is currently connected.
Both approaches are investigated further down.
### 6.2.2 CAT priority configured by the calling party\'s operator
When the originating MSC and GMSC are co-located, e.g. the calling and called
parties are two subscribers pertaining to the same PLMN and served by the same
HPLMN MSC, a single MSC Server is engaged in the call. If the calling and the
called party subscribed respectively CAT-A or CAT-B service, this MSC Server
can decide which CAT prevails as per local operator policy and request the CAT
Server to play the corresponding CAT.
Editor\'s note: how the MSC indicates to the CAT Server whether to play CAT-A
or CAT-B is ffs.
When the originating MSC is not co-located with the GMSC of the called party,
e.g. the calling party is calling a called party of a foreign PLMN, the
following issues arise :
  * the GMSC does not know whether the originating MSC wishes to insert a CAT-A (if CAT-A should prevail over CAT-B); it may consequently uselessly require the CAT Server B to generate a CAT-B.
  * the originating MSC can not know, for a speech call, whether the GMSC inserted or not a CAT-B. Indeed the \"in-band information\" OBCI indication reported in the ACM or CPG message does not allow to differentiate whether a normal ring back tone has been inserted by the terminating MSC, or whether the GMSC has inserted a CAT-B; this prevents the originating MSC to give preference to CAT-B over CAT-A. The originating MSC could know, for a multimedia call, whether the GMSC inserted or not a CAT-B by checking the \"in-band information\" OBCI indicator.
In other words, with the current signalling protocols used in 3GPP CSCN, only
the following services are possible:
  * CAT-A prioritized over CAT-B for speech or multimedia calls (CAT-B is played useslessly) ;
  * CAT-B priorititized for multimedia call.
The following signalling extensions could be envisaged to remove the
aforementioned limitations:
  * In IAM message : a new \'inhibit CAT in-band information\' could be sent, as an option, when the originating MSC intends to insert a CAT in-band information locally (i.e. when CAT-A has always priority over CAT-B as per local configuration). This would indicate to the downstream node that it does not need to insert a CAT itself.
  * In ACM/CPG message : a \'CAT in-band information\' could be sent when the GMSC inserts a CAT inband information locally to inform the upstream node that a CAT has been inserted.
When CAT-A would be prioritized over CAT-B :
  * the originating MSC would send an IAM with the \'inhibit CAT in-band information\' set;
  * a GMSC receiving this information could refrain from inserting CAT-B;
  * the originating MSC would insert CAT-A locally;
  * if CAT-A can not be played for any reason, the calling party would experience the default ring back tone received from the terminating MSC for a speech call. For a multimedia call, the originating MSC would send a normal ALERTING message to the calling UE, which would then optionally play a default alerting indication (as if there were no CAT at all).
When CAT-B would be prioritized over CAT-A:
  * the originating MSC would send an IAM without the \'inhibit CAT in-band information\' ;
  * a GMSC receiving this information would insert CAT-B locally and would return the \'CAT in-band information\' in the ACM or CPG message;
  * the originating MSC would transit the CAT-B towards the calling party, if announced in the ACM or CPG message, otherwise would insert CAT-A locally.
NOTE: The originating MSC would not receive any explicit indication from
legacy GMSC implementations on whether a CAT-B was inserted or not.
Prioritization of audio CAT-B over CAT-A will not be possible with those
legacy implementations.
Editor\'s note: the encoding of those extensions is ffs.
### 6.2.3 CAT priority as per calling party\'s preference
One possible approach could rely on the following principles :
  * The calling party\'s preference needs to be stored in the CAT Server, globally or on a per called party basis.
  * The originating MSC could send an IAM message to CAT Server to request the playing of CAT-A. If the calling party configured a preference to CAT-B for the call, the CAT server could release the call with a specific reason. The originating MSC would then through-connect the calling party to the GMSC (or CAT-B leg for co-located originating MSC/GMSC). Otherwise the CAT server would accept sending CAT-A by returning an ACM message.
However, if the calling party prioritizes CAT-B for the call, no CAT would be
played to the calling party if the CAT-B could not be played, e.g. called
party has no CAT-B service subscription or CAT is not supported by the called
party\'s PLMN. To avoid those service restrictions, the originating MSC would
have to let the called party \'s GMSC insert CAT-B, and if CAT-B is really
received, it would indicate to the CAT-A Server to check the calling party\'s
preference as above.
Editor\'s note: how the MSC would indicate this to the CAT Server is ffs.
NOTE: In this scenario, a CAT-B could be played by the CAT Server B though the
calling party could experience his own CAT-A. The same applies if the CAT
priority is configured by the calling party\'s operator, and CAT-A is
prioritized over CAT-B, and the originating MSC does not send the new optional
\'inhibit CAT in-band information\'. In those cases, the charging mode \'Fee
per CAT usage\' would charge the B party for a CAT-B that would not be
received by the calling party.
Another possible approach could consist in handling some specific subscriber
marks (e.g. OSSS codes) in the HLR, that would be downloaded to the
originating MSC during the MAP Update Location procedure and that would allow
to indicate whether the subscriber has subscribed to CAT-A, which CAT the
subscriber as a calling party prioritizes (CAT-A or CAT-B) and whether he
would accept to receive or not CAT-B. The originating MSC would take those
marks into account upon the subsequent establishment of mobile originated
calls by the subscriber. The same CAT prioritization would apply for all calls
originated by the subscriber, without taking into account any other parameters
(e.g. called party number, time of the day...).
# 7 CAT call flows
## 7.1 Alternative 1 -- (G)MSC Server switch architecture
### 7.1.1 Triggering methods
One or several marks, e.g. specific OSSS code(s) or routing information (e.g.
routing code -- new subscription information)., are configured in the HLR on a
per subscriber\'s record to indicate support of audio or/and multimedia CAT-A
and CAT-B services.
The originating VMSC triggers CAT-A service if the calling party has
subscribed and activated the CAT-A service and is in its HPLMN. It retrieves
the subscription data of the subscriber during the location update procedure.
NOTE: Support of CAT-A service for roaming subscribers would require CAT to be
standardized as a new supplementary service, which is not envisaged.
The GMSC triggers CAT-B service upon arrival of an incoming call to a CAT
subscriber having subscribed and activated the CAT-B service. The GMSC server
retrieves the subscription data of the subscriber during the HLR
interrogation.
### 7.1.2 Trigger points in the call
The originating MSC server shall trigger the calling party configured CAT
service if the calling party has subscribed and activated the CAT service.
The GMSC server shall trigger the called party configured CAT service if the
called party has subscribed and activated the CAT service.
The originating MSC (for CAT-A) and GMSC (for CAT-B) decides to play CAT
during the alerting phase by establishing a connection to the CAT Server upon
receipt from the succeeding node of an ACM message with the Called Party
Status in the Backward Call Indicators set to \'Subscriber free\' or upon
receipt of a CPG message with the Event Information set to Alerting, if this
is the first \"Subscriber free or Alerting\" indication received for the call
and neither the \"Call Diversion Information\" IE nor the Generic Notification
Indicator IE set to \' Call diverting\' nor the ANSI Notification Indicator
set to \'Call is forwarded/deflected\' has been received.
NOTE: The SS notification may be optional depending on the vendor\'s
implementation. The first \"Subscriber free or Alerting\" indication may be
received from the forwarded-to switch but the receiver does not know.\"
If the GMSC and the terminating MSC are co-located, the Alerting message from
called party will be the trigger to connect the CAT server.
Editor\'s note: Interactions between CAT-A and CAT-B services are not
considered yet either.
### 7.1.3 Nominal call flows
#### 7.1.3.1 Speech call
##### 7.1.3.1.1 Ring back tone provided by CAT server B
It is assumed in this sub-clause that the calling party has either not
subscribed or not activated CAT service, or that it has activated CAT service
but with CAT settings indicating preferences to CAT-B service.
To play an audio CAT during a speech call, GMSC-B through-connects the speech
bearer from the the calling party A to the CAT server B when the called party
B is free, which is transparent to the A party. When the B party answers the
call, GMSC-B through-connects the calling and called parties.
{width="6.156944444444444in" height="7.051388888888889in"}
Figure 7.1.3.1.1.1: Audio Ring back tone provided by CAT server B
1 to 4 As per normal mobile terminating (speech) call scenario.
5 SRI ACK includes a specific mark (e.g. OSSS code) to indicate that the
called party supports audio CAT-B during ringing phase.
6 to 9 As per normal mobile terminating (speech) call scenario.
10 As instructed by the subscriber mark (e.g. OSSS code) received in the SRI-
ACK message (5), the GMSC establishes a call towards the CAT server B with the
called party number including UE-B's MSISDN. The CAT server's address is
decided on local policy or UE-B's MSISDN.
Editor\'s Note: The exact means to convey the called party number to the CAT
server is ffs. E.g. the called party number could contain RBT steering
(routeing) digits followed by the UE-B\'s MSISDN.
11 Upon receipt of the ACM message from the CAT server, the GMSC through-
connect the originating call with the call established towards the CAT server.
The audio CAT is played to the calling UE.
12 The GMSC sends an ACM message towards the originating MSC indicating that
in-band information is available.
NOTE: Steps 12 can be performed in parallel with step 10 to avoid delaying
call handling.
13 Upon receipt of the ANM message from the terminating MSC (once UE answers
the call), the GMSC releases the connection with the CAT server and through-
connects the originating call with the called party.
NOTE: If the Originating MSC is co-located with the GMSC, the message 1 is
SETUP, message 10 is ALERTING, message 15 is CONNECT.
NOTE: A very short clipping might occur till the GMSC through-connects the
calling and called parties.
Editor\'s Note: The originating MSC needs to know whether a CAT-B is played or
not to determine whether a CAT-A may be played or not. It is ffs how this can
be signalled.
#### 7.1.3.2 Multimedia call
It is assumed in that sub-clause that the calling party has either not
subscribed or not activated CAT service, or that it has activated CAT service
but with CAT settings indicating preferences to CAT-B service. It is also
assumed that the CAT server support H.324m.
To play the video CAT, two successive H.245 negotiations are performed :
\- a first one between the calling party\'s UE and the CAT server during the
alerting phase ; the end to end bearer connection between the calling party\'s
UE and the CAT server shall be two-way through-connected to allow the H.245
negotiation ;
\- a second one between the calling and the called parties\'s UE when the
called party picks up the call. I.e. when the called party answers, the
calling party\'s UE shall be instructed to release the H.245 call with the CAT
server and to setup the 2nd H.245 connection with the called party\'s UE.
Video CATs can only be delivered to handsets supporting the corresponding
capabilities (not supported by pre-Rel8 handsets).
It should be further investigated during the normative specification work to
define a forward indicator to indicate support for MuMe CAT in the Ue/MSC-A.
Additionally a specific indication in the backward direction should be
considered to clearly identify to the originating MSC that a Multimedia CAT is
required as an alternative to the option to provide inband information
indicator in the Optional backward call indicators IE.
Both the above proposals would require enhancements to ISUP -- either as new
ISUP parameters (with associated compatibility information) or via the APM
mechanism; preferably a 3G specific APM -- the specific solution is FFS.
{width="6.634722222222222in" height="9.625in"}
Figure 7.1.3.2.1.1: Video Ring back tone provided by CAT server B
1 to 6 As per normal mobile originating/terminating (multimedia) call
scenario, with the following additions :
\- the UE indicates in the SETUP message if it supports the capability to
setup an early multimedia CAT call prior to the multimedia call towards the
end party signals
\- MSC-A sends to GMSC-B an IAM message with a multimedia bearer capability.
\- SRI ACK includes a mark to indicate that the called party is a CAT
subscriber.
7 to 10 As per normal mobile terminating (multimedia) call scenario.
11 If the called subscriber is a CAT subscriber, and if a multimedia call can
be setup between the calling and called parties, the GMSC establishes a UDI
call towards the CAT server B with the called party number set as UE-B's
MSISDN. The CAT server's address is decided on local policy or UE-B's MSISDN.
NOTE 1: In the above figure the GMSC does not get in the IAM message an
indication on whether the calling party UE supports video CAT or not. It will
establish a bearer towards the multimedia CAT server for all incoming
multimedia calls towards called parties with CAT service, irrespective of the
early CAT capability or not of the calling party (i.e. this leads to useless
reservation of resources in the CAT Server when the calling UE is not CAT
capable). A signalling solution should be investigated as indicated above to
avoid this.\ Without an explicit indication, it can not be guaranteed that all
legacy intermediate nodes will both-way through-connect the bearer during the
alerting phase. Calling parties supporting early video CAT would start an
H.245 negotiation that would fail if the two-way through-connection is not
achieved.\ In both cases, the CAT Server will never receive a H.245 call setup
request.
NOTE 2: It should be ensured then that GMSCs never through-connects the
calling and called parties during the alerting phase to make sure that a
normal video call does not take place without being charged, or that CDRs are
generated during the alerting phase.
13 In this figure GMSC-B (if not co-located with the originating MSC) sends an
ACM or CPG message to MSC-A with the _In-band information indicator_ of the
Optional backward call indicators IE set to \"in-band information or an
appropriate pattern is now available\" to inform the originating MSC that a
video CAT is available. This is one option although in the normative phase of
this work a specific signaling solution should be considered as indicated
above. In addition, for ANSI networks only, the the _User-Network Interaction
indicator_ of the Optional backward call indicators IE set to _\'user network
interaction occurs, cut through in both directions\'_ is also returned by the
CAT Server and relayed by the GMSC to request intermediate nodes to both way
through the bearer during the alerting phase.,). MSC-A sends an ALERTING or
PROGRESS message instructing UE-A to start a H.245 negotiation with the CAT
server to play the video CAT.
NOTE 3: In ITU ISUP v3 networks, the GMSC may send as an option the ITU
ISUP/BICC _UID Action Indicator_ set to _\'through-connect in both
directions\'_ to ensure the setting of _User-Network Interaction indicator_ in
ANSI networks for a call spanning over ANSI and ITU networks.
NOTE 4: A change is required to allow the UE attaching the user connection for
a multimedia call during the alerting phase since not allowed by the current
TS 24.008 : \"the progress indicator IE indicated user attachment and a speech
mode traffic channel is appropriate for the call the mobile station shall in
addition: attach the user connection for speech as soon as an appropriate
channel in speech mode is available\".
16 to 22 Upon receipt of the ANM message from the MSC-B (once UE answers the
call), GMSC-B releases the connection with the CAT server, waits for the
Release Complete message from the CAT server, and if not co-located with
MSC-A, sends an ANM message which notifies originating MSC that the called
party answers the video call. MSC-A sends a CONNECT message to UE-A. UE-A's
releases the H245 connection with the CAT server and establishes a new H245
connection towards UE-B.
Editor's note : The influence to the UE-B and CAT server B need to be
investigated with CT1, when GMSC-B through-connects A & B parties before
receiving Release complete from CAT server B.
Editor's note : How the CATcapable and \" inband info\" flags are encoded on
the MSC-UE interface is for further study. The\" inband info\" could be
encoded as a new value of the call progress indicator.
Editor\'s note: The figure needs to be updated to split MSC-A and GMSC-B
entities, and to represent the MGW bearer connection for each node.
NOTE: The second H.245 call is established in sequence after the release of
the first H.245 call. This may introduce a period during which no video call
is received by the calling party. This duration would however be very short
(typically under 1 second) if MONA procedures are supported.
### 7.1.4 Abnormal call flows
### 7.1.5 Fallback call flows
#### 7.1.5.1 CAT server failure / CAT server refuses to deliver a CAT
The call establishment shall proceed normally and the calling party shall
experience the traditional alerting indication instead of the CAT if the
(G)MSC Server does not succeed in establishing the connection to the CAT
Server because e.g. the links to the CAT Server are all busy, or the CLIR or
COLR service takes precedence over the CAT service, or the CAT Service is de-
activated by the CAT subscriber, or any further reasons.
Similarly, the call establishment shall also proceed normally and the calling
party should also experience the traditional alerting indication if the (G)MSC
succeeds in establishing the connection to the CAT Server but the H.245
negotiation subsequently fails with the calling party. The originating UE
should play locally an alerting indication to the subscriber if the H.245
session fails during the alerting phase (new handset requirement).
#### 7.1.5.2 Multimedia call not possible towards called party
If a multimedia CAT can not be delivered to the calling party e.g. because the
called party does not support BS30 or because it is not under radio coverage
authorizing a multimedia call, an audio CAT may be played instead if possible,
e.g. if the calling party initiates a SCUDIF call with both speech and
multimedia supported. Otherwise the call is rejected with a specific cause, a
new speech call may then be re-established by the UE where an audio CAT may be
played as per the calling party\'s subscription.
#### 7.1.5.3 Handover during video CAT
SCUDIF procedures may be initiated if the calling party experiencing a video
CAT is handed over to a radio coverage not supporting multimedia session, if
applicable. During reconfiguration of a multimedia to a speech call, any on-
going video CAT shall be stopped and be replaced by the default alerting tone.
Editor\'s Note: Whether an audio CAT may be played in that condition is ffs.
This would require, among others, that the (G)MSC Server retrieves the audio
and multimedia CAT marks during the HLR interrogation, independently of the
bearer capability sent to the HLR.
## 7.2 Alternative 2 -- CAT Server switch architecture
### 7.2.1 Triggering methods
Same triggering methods specified in sub-section 7.1.1 for the (G)MSC Server
switch architecture can be used for the CAT Server switch architecture.
### 7.2.2 Trigger points in the call
Same triggering points specified in sub-section 7.1.2 for the (G)MSC Server
switch architecture is used for the CAT Server switch architecture with the
following modifications:
\- The CAT server plays CAT to the calling party locally with no establishing
a connection to the CAT server;
\- The CAT server does not play CAT to the calling party locally instead of
\"no connection to CAT server\";
### 7.2.3 Nominal call flows
#### 7.2.3.1 Speech call
It is assumed in that sub-clause that the calling party has either not
subscribed or not activated CAT service, or that it has activated CAT service
but with CAT settings indicating preferences to CAT-B service.
To play an audio CAT during a speech call, GMSC-B both-way through-connects
the speech bearer from the calling party A to the CAT server B when the called
party B is free, which is transparent to the A party. When the B party answers
the call, CAT Server B through-connects the calling and called parties.
Figure 7.2.3.1.1: Audio CAT provided by CAT server B
1 to 7 As per normal mobile originating/terminating speech call, with the
following additions:
\- SRI ACK includes a mark to indicate that the called party is a CAT
subscriber.
8 MSC-B route the call to CAT Server B.
9 CAT Server B route the call to MSC-B.
10-14 As per normal mobile terminating (speech) call.
15 Upon receipt of the ACM message from the MSC-B, the CAT Server B plays
audio CAT to the calling UE and shielding the alerting tone from the
succeeding node.
16 CAT server send ACM message to the preceding node, GMSC-B as normal call,
with the following additions:
\- In the ACM message, In-band information indicator of the Optional backward
call indicators information element is set to \"in-band information or an
appropriate pattern is now available\".
17 GMSC-B process the ACM as normal call with the following additions:
\- Both-way through-connect the bearer to the succeeding node with the
preceding node to enable DTMF transmission if in-band DTMF transmission
mechanism is used in both sides.
NOTE: Both-way through-connect the bearer to the preceding node and the CAT
server is for enabling the DTMF transmission if in-band DTMF transmission
mechanism is used in both sides. If out-of-band DTMF transmission is used on
either to the preceding node or to the succeeding, through-connect the bearer
from the succeeding node to the preceding node is used.
18 GMSC-B send ACM message to the preceding node, MSC-A as normal call, with
the following additions:
\- In the ACM message, In-band information indicator of the Optional backward
call indicators information element is set to \"in-band information or an
appropriate pattern is now available\".
19 MSC-A process the ACM as normal call.
20 MSC-A send Alerting to the UE-A as normal call with the following
additions:
\- \"In-band information or appropriate pattern now available\" flag of the
Progress indicator information element is set to indicate in-band info is
available.
21-22 As per normal mobile terminating (speech call).
23-24 Upon receipt of the ANM message from the MSC-B, CAT server B stops CAT
and both-way through-connect the bearer to the calling and called parties.
25-28 As per normal mobile terminating (speech call).
#### 7.2.3.2 Multimedia call
It is assumed in that sub-clause that the calling party has either not
subscribed or not activated CAT service, or that it has activated CAT service
but with CAT settings indicating preferences to CAT-B service. It is also
assumed that the CAT server support H.324m.
To play the video CAT, two successive H.245 negotiations are performed:
  * A first one between the calling party's UE and the CAT server during the alerting phase; the end to end bearer connection between the calling party and the CAT server shall be two-way through-connected to allow the H.245 negotiation;
  * A second one between the CAT server and the called party when the called party answers the calls.
Video CATs can only be delivered to handsets supporting the corresponding
capabilities (not supported by pre-Rel8 handsets).
{width="6.198611111111111in" height="8.427083333333334in"}
Figure 7.2.3.2.1: Video CAT provided by CAT server B
1 to 7 As per normal mobile originating/terminating multimedia call, with the
following additions:
\- SRI ACK includes a mark to indicate that the called party is a CAT
subscriber.
8 GMSC-B route the call to CAT Server B if the called party has subscribed and
activated CAT service with the following additions:
\- the called number IE is set to the called party MSISDN with additional
prefix.
\- the Generic Number IE is set to the MSRN with specific 'Number Qualifier
Indicator'.
9 CAT Server B route the call to MSC-B.
10-15 As per normal mobile terminating (multimedia) call.
16 CAT server send ACM message to the preceding node, GMSC-B as normal call,
with the following additions:
\- In the ACM message, In-band information indicator of the Optional backward
call indicators information element is set to \"in-band information or an
appropriate pattern is now available\".
17 GMSC-B process the ACM as normal call with the following additions:
\- Both-way through-connect the bearer to the succeeding node with the
preceding node to enable the H.245 negotiation and DTMF transmission.
18 GMSC-B send ACM message to the preceding node MSC-A, with the following
additions:
\- In the ACM message, _In-band information indicator_ of the Optional
backward call indicators information element is set to \"_in-ban_ d
information or an appropriate pattern is now available\".
19 MSC-A process the ACM as normal call and send Alerting to the UE-A as
normal call, with the following additions:
\- both-way through-connect the bearer to the succeeding node with the
preceding node to enable the H.245 negotiation.
20-21 MSC-A send Connect message to UE-A and receive the Connect-Ack from
UE-A.
NOTE: The Connect message to CAT capable UE-A could be sent after MSC-A
receiving the ANM message, see the description in subclause 10.1.1, as another
alternative, which will require the Alerting message to UE-A with additional
information to indicate that \"in-band multimedia info is available\". How the
\"in-band multimedia info is available\" flags are encoded on the MSC-UE
interface is FFS
22-23 For multimedia call, the UE-A and the CAT server will start the in-band
H.245 negotiation to establish the multimedia bearer through the fully
connected bearer. After the completion of the H.245 negotiation, the UE-A will
receive multimedia customized alerting tone media and play it to the calling
subscriber.
24-28 As per normal mobile terminating (multimedia call). When MSC-A receive
the ANM message, and will not send the Connect message to UE-A.
29 CAT server B starts the in-band H.245 negotiation with the UE-B.
30 After the completion of the H.245 negotiation with the UE-B, CAT server B
stops CAT and bridge the media between the bearer to the calling and called
parties.
### 7.2.4 Abnormal call flows
### 7.2.5 Fallback call flows
## 7.3 Alternative 3 -- CAT Server switch architecture with routing back to
GMSC Server
### 7.3.1 Triggering methods
One or several marks, (e.g. T-CSI/O-CSI) triggering the CAT service in SCP are
configured in the HLR on a per subscriber basis to indicate support of audio
or/and multimedia CAT-A and CAT-B services.
The originating VMSC triggers CAT-A service in the SCP if the calling party
has subscribed and activated the CAT-A service and is in its HPLMN. It
retrieves the subscription data of the subscriber during the location update
procedure.
The GMSC triggers CAT-B service in the SCP upon arrival of an incoming call to
a CAT subscriber having subscribed and activated the CAT-B service. The GMSC
server retrieves the subscription data of the subscriber during the HLR
interrogation.
Instead of SCP triggering also the methods described in chapter 7.1.1 for the
(G)MSC Server switch architecture can be used.
### 7.3.2 Trigger points in the call
The originating VMSC server shall trigger the calling party configured CAT
service and route the call to the CAT server if the originating party has
subscribed and activated the CAT service.
The GMSC server shall trigger the called party configured CAT service and
route the call to the CAT server if the called party has subscribed and
activated the CAT service. The CAT server routes the call back to the GMSC
Server.
The CAT server checks the content of the incoming ACM and CPG from the
succeeding node and decides to do or do not play CAT locally during alerting
phase as defined in chapter 7.1.2.
### 7.3.3 Nominal call flows
#### 7.3.3.1 Speech call
The speech call is handled as in chapter 7.1.3.1 with the following
exceptions:
A 2 phase HLR inquiry is executed. In the first phase GMSC receives a mark
(f.e. T-CSI with service key) indicating CAT subscriber but without roaming
number. In the second HLR inquiry (with T-CSI suppressed) GMSC receives the
roaming number.
SCP may be used only for triggering or GMSC could store the MSRN received in
the SRI and uses it when the call is routed back from the CAT Server to the
GMSC Server.
#### 7.3.3.2 Multimedia call
NOTE: The triggering H.245 negotiation to the CAT Server with the Connect
message in the alerting phase (analysed in chapter 10.1.1 Triggering of the
H.245 call setup towards the CAT Server ) assumes that bothway through
connection is put in place during the alerting phase.
{width="6.625in" height="3.3958333333333335in"}
CAT phase
{width="6.625in" height="3.3958333333333335in"}
Video call phase
Figure 7.3.3.2.1 CAT-B server switch architecture with routing back to GMSC
Server (network model)
{width="6.643055555555556in" height="9.625694444444445in"}
Figure 7.3.3.2.2 CAT-B server switch architecture with routing back to GMSC
Server
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205.
1a. For CAT capable UEs the Setup message includes a mark that the UE is CAT
capable.
7 to 12 As per normal mobile terminating (multimedia) call scenario in GMSC,
with the following additions:\ \- SRI ACK includes a mark (in this example
T-CSI with service key) to indicate that the called party is a CAT subscriber.
The GMSC Server activates the internal CAT service logic.
NOTE: T-CSI is included to show that the roaming number is suppressed in the
SRI ACK.
13 The GMSC Server establishes a call to the CAT-Server with the called
subscribers MSISDN. The CAT Server address is decided on local policy or on
UE-B's MSISDN.
14 The CAT server establishes a call to the GMSC.
15 to 18 The GMSC Server inquires HLR (T-CSI is suppressed) for roaming
number.
19 to 23 The GMSC Server establishes a call to the MSC-B Server.
24 to 30 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205.
31 The GMSC Server sends the address complete message with subscriber free
indication to the CAT Server
32 to 33 GMSC Server receives ACM/CPG with inband info available in the
optional Backward Call Indicator from the CAT Server and sends it to the MSC-A
Server.
34 to 37 In MSC-A Server the call will be bothway through connected and a
Connect to the UE-A will be sent if the call is a multimedia call and the
ACM&CPG included inband info available information in the Optional Backward
Call Indicator.
36a For CAT capable UEs instead of a Connect message an Alert message with a
mark (two-way inband info) that triggers CAT capable UEs to start H.245
negotiation. UE does not send in this case message 37 (Connect_Ack).
38 to 39 H.245 is setup between UE-A and the CAT-Server. The CAT Server plays
the Video CAT to UE-A.
40 to 44 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
45 to 48 The GMSC Server sends the Answer message to the CAT Server. The CAT
server sets up a H.245 connection towards UE-B, removes the video CAT to the
calling party and bridges between UE-A and UE-B in the CAT Server.
49 The CAT server sends the Answer message to the GMSC Server.
50 MSC-A Server receives the answer message from GMSC Server and starts the
charging.
50a to 50b For CAT capable UEs MSC-A Server sends a Connect message in this
phase for triggering a H.245 session reset and a new H.245 negotiation with
the CAT server.
Editor\'s note: If the CAT Server can promote the H.245 Session reset to UE-B
and through connects the path is ffs.
### 7.3.4 Abnormal call flows
### 7.3.5 Fallback call flows
#### 7.3.5.1 CAT server failure / CAT server refuses to deliver a CAT
Same handling in sub-section 7.1.5.1 for the (G)MSC Server switch architecture
can be used for the **CAT Server switch architecture with routing back to the
GMSC Server.**
#### 7.3.5.2 Multimedia call not possible towards called party
Same handling in sub-section 7.1.5.2 for the (G)MSC Server switch architecture
can be used for the **CAT Server switch architecture with routing back to the
GMSC Server.**
#### 7.3.5.3 Handover during video CAT
Same handling in sub-section 7.1.5.3 for the (G)MSC Server switch architecture
can be used for the **CAT Server switch architecture with routing back to the
GMSC Server.**
## 7.4 Alternative 4 -- (G)MSC Server switch architecture use based on UE
capabilities
### 7.4.1 Triggering methods
One or several marks, (e.g. T-CSI/O-CSI) triggering the CAT service in SCP are
configured in the HLR on a per subscriber basis to indicate support of audio
or/and multimedia CAT-A and CAT-B services.
The originating VMSC triggers CAT-A service in the SCP if the calling party
has subscribed and activated the CAT-A service and is in its HPLMN. It
retrieves the subscription data of the subscriber during the location update
procedure.
The GMSC triggers CAT-B service in the SCP upon arrival of an incoming call to
a CAT subscriber having subscribed and activated the CAT-B service. The GMSC
server retrieves the subscription data of the subscriber during the HLR
interrogation.
Editor\'s Note: It is FFS if the restriction of CAT-A service to its HPLMN can
be removed.
### 7.4.2 Trigger points in the call
The originating VMSC server shall trigger the calling party configured CAT
service. The SCP orders the VMSC Server to connect the call to the CAT server
if the originating party has subscribed and activated the CAT service.
The GMSC server shall trigger the called party configured CAT service. The SCP
orders the GMSC Server to connect the call to the CAT server if the called
party has subscribed and activated the CAT service.
The originating MSC (for CAT-A) and GMSC (for CAT-B) reports to the SCP the
receipt of an ACM message with the Called Party Status in the Backward Call
Indicators set to \'Subscriber free\' or upon receipt of a CPG message with
the Event Information set to Alerting. The SCP orders the originating MSC (for
CAT-A) or the GMSC (for CAT-B) to establish a connection to the CAT Server.
The originating MSC (for CAT-A) and GMSC (for CAT-B) reports to the SCP if a
received CPG message includes the Event Information set to Call Forwarding , a
\"Call Diversion Information\" IE, a Generic Notification Indicator IE set to
\' Call diverting\' or an ANSI Notification Indicator set to \'Call is
forwarded/deflected\'. The SCP is aware of existing connections between the
originating MSC /GMSC and a CAT Server and the UE's session reset capability.
If the UE supports session reset the SCP requests the GMSC Server to release
the connection to the CAT-Server.
### 7.4.3 Nominal call flows
#### 7.4.3.1 Speech call
For a speech call the UE capabilities like session reset support have no
influence. So a speech call can be handled as described in chapter
7.1.3.1except that SCP triggering is used.
#### 7.4.3.2 Multimedia call
##### 7.4.3.2.1 UE session reset capability indicated by CAT-server
The following solution maynot require changes on the UE-MSC interface by
taking advantage of the H.324 annex J session reset capability. UE which
support the session reset capability can re- negotiate the H.245 after a
session reset.
NOTE: Concern is raised that this requires that the UE accepts that the
physical connection will be broken which is not in accordance with H.324
Clause 7.7.1 and therefore would require indication that the CAT session reset
capability is supported by the Ue, if this solution were accepted this issue
needs to be further investigated.
The information if an UE supports session reset is available in the CAT server
during the first H.245 negotiation. For providing this information also to the
GMSC Server a CAMEL 4 solution which uses the Call Party handling is
described. An additional connection (connection 2 in the example call flow
below) to the CAT Server is used. On this connection the CAT server indicates
if the calling UE supports session reset or not. In the case that UE A does
not support session reset the CAT server needs to stay in the connection path
during the whole video call. The CAT server indicates this by not releasing
the additional connection. In the case that the UE-A supports the session
reset the connection path to the CAT server can be released after the CAT
phase. The CAT Server indicates this by sending a REL message on the
additional connection. For indicating the different connections to the CAT
Server different prefixes to the B-MSISDN are used.
Instead of CAMEL 4 procedures also an MSC Server internal SCP solution could
be used.
NOTE: This solution (triggering H.245 negotiation to the CAT Server with the
Connect message in the alerting phase) assumes that bothway through connection
is put in place during the alerting phase which may not be guarantied in some
existing switch implementations. Would this through connection not be
realized, the H.245 negotiation with the CAT server would fail which would
also fail the call.
Editor\'s note: TS 22.078 specifies that CPH procedures only apply to speech
telephony. TS 22.078 needs to be expanded to cover also multimedia calls
{width="6.625in" height="3.3958333333333335in"}
CAT phase
{width="6.572916666666667in" height="3.4375in"}
Video call phase
Figure 7.4.3.2.1.1 (G)MSC Server switch architecture use based on UE
capabilities (UE no session reset support) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 7.4.3.2.1.2 (G)MSC Server switch architecture use based on UE
capabilities (UE no session reset support) part 1
{width="6.5625in" height="7.166666666666667in"}
Figure 7.4.3.2.1.3 (G)MSC Server switch architecture use based on UE
capabilities (UE no session reset support) part 2
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205.
7 to 10 The GMSC Server reserves the incoming side termination and
interrogates the HLR. GMSC Server receives the T-CSI which includes
information about the CAT subscription of the called subscriber.
11 Initial DP is sent to the SCP.
12 to 19 The SCP initiates the call to the B-subscriber with an Initiate Call
Attempt procedure. T-CSI triggering is suppressed. New Call Segment is set to
2 and leg to be created is set to 3.
20 to 26 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205,
27 to 32 Alerting is reported to the SCP and the SCP establishes a temporary
connection (connection 1) to the CAT Server. A specific prefix (Prefix 1) with
the B-MSISDN is used. Service Interaction Indicators
Two.BothWayThroughConnection parameter is set True.
33 GMSC Server sends ACM/CPG with inband info available in the optional
Backward Call Indicator to the MSC-A Server.
34 to 40 The SCP requests the (G)MSC server to establish a second connection
(leg 4 for call segment 2) to the CAT server with an Establish Temporary
Connection procedure.
This connection will be used for informing the GMSC server if the calling
subscriber supports H.245 renegotiation (support of the H.245 session reset).
A different prefix (prefix 2) with the B-MSISDN is used.
For the reporting of the session reset capability to the SCP an Apply Charging
operation is used.
41 to 44 In MSC-A Server the call will be bothway through connected and a
Connect to the UE/A will be sent if the call is a multimedia call and the
ACM&CPG included inband info available information in the Optional Backward
Call Indicator.
45 H.245 is setup between UE-A and the CAT-Server. In the capability exchange
is indicated that the UE does not support the SessionResetCapability, defined
in H.324 Annex J.
Because UE-A does not support \"H.324 session reset\" the CAT Server needs to
stay in the connection after the call is answered.
46 The CAT Server plays the Video CAT to UE-A.
47 to 51 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
52 to 53 GMSC Server reports the Answer message to the SCP. SCP sends only
Continue with Arguments for leg 3, because SCP knows that UE-A does not
support SessionResetCapability (ACR has not been received).
54 to 55 When the UE-B has answered the call, H.245 session is started between
the CAT server and the UE-B. The CAT server disconnects the Video CAT and
bridges between UE-A and UE-B in the CAT Server.
56 CAT-Server sends Answer message for connection 1 to GMSC.
57 MSC-A Server receives the answer message and starts the charging.
{width="6.572916666666667in" height="3.4375in"}
CAT phase
{width="6.572916666666667in" height="2.75in"}
Video call phase
Figure 7.4.3.2.1.4 (G)MSC Server switch architecture use based on UE
capabilities (UE session reset support) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 7.4.3.2.1.5 (G)MSC Server switch architecture use based on UE
capabilities (UE session reset support) part 1
{width="6.5625in" height="7.895833333333333in"}
Figure 7.4.3.2.1.6 (G)MSC Server switch architecture use based on UE
capabilities (UE session reset support) part 2
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205.
7 to 10 The GMSC Server reserves the incoming side termination and
interrogates the HLR. GMSC Server receives the T-CSI which includes
information about the CAT subscription of the called subscriber.
11 Initial DP is sent to the SCP
12 to 19 The SCP initiates the call to the B-subscriber with an Initiate Call
Attempt procedure. T-CSI triggering is suppressed. New Call Segment is set to
2 and leg to be created is set to 3.
20 to 26 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205,
27 to 32 Alerting is reported to the SCP and the SCP establishes a temporary
connection (connection 1) to the CAT Server. A specific prefix (Prefix 1) with
the B-MSISDN is used. Service Interaction Indicators
Two.BothWayThroughConnection parameter is set True.
33 GMSC Server sends ACM/CPG with inband info available in the optional
Backward Call Indicator to the MSC-A Server.
34 to 40 The SCP requests the (G)MSC server to establish a second connection
(leg 4 for call segment 2) to the CAT server with an Establish Temporary
Connection procedure.
This connection will be used for informing the GMSC server if the calling
subscriber supports H.245 renegotiation (support of the H.245 session reset).
A different prefix (prefix 2) with the B-MSISDN is used.
For the reporting of the session reset capability to the SCP an Apply Charging
operation is used.
41 to 44 In MSC-A Server the call will be bothway through connected and a
Connect to the UE-A will be sent if the call is a multimedia call and the
ACM&CPG included inband info available information in the Optional Backward
Call Indicator.
45 H.245 is setup between UE-A and the CAT-Server. In the capability exchange
is indicated that the UE does support the SessionResetCapability, defined in
H.324 Annex J.
46 to 47 Because UE-A supports \"H.324 session reset\" the CAT Server
connection can be released after the call is answered. CAT-Server indicates
this to the GMSC Server by sending a Release message for connection 2 to GMSC.
GMSC Server sends Apply Charging Report for Call Segment 2 to the SCP. With
this message SCP knows that the temporary connection (leg 4) of call segment 2
to the CAT server has been released and that UE-A supports session reset.
48 The CAT Server plays the Video CAT to UE-A.
49 to 51 GMSC Server releases termination of connection 2 towards CAT Server
and sends a release complete to the CAT Server.
52 to 56 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
57 The GMSC Server reports the Answer message to the SCP with an event report
BCSM operation
58 to 59 SCP has already the information that UE-A supports session reset so
it initiates a Disconnect Forward Connection with Argument operation for
removing also the first connection to the CAT Server. GMSC Server initiates
the release towards the CAT Server.
60 The CAT Server removes the Video CAT and sends a H.324 session reset to
UE-A.
61 to 63 After the CAT Server has acknowledged the release, GMSC Server
releases the termination towards the CAT Server in the MGW-g.
64 to 67 The SCP initiates a Move Leg operation for through connecting the
terminations towards MSC-A Server and MSC-B Server.
68 MSC-A Server receives the answer message and starts the charging.
69 to 70 UE-A establishes a new H.245 connection towards UE-B.
##### 7.4.3.2.2 Use of CAT capable indication in SETUP message (SS code
solution)
A spare bit of the Classmark 2 field is used for signalling that an UE is CAT
capable in the SETUP message from UE-A to MSC-A Server. Classmark 2 field can
be interrogated by the HLR with a MAP Provide Subscriber Information (PSI)
from the MSC-A Server. This interrogation is initiated by the GMSC-Server with
the Any Time Interrogation (ATI) MAP operation.
NOTE: ATI from GMSC-Server to HLR is not defined yet so 3GPP TS 29.002 [11]
chapter 8.11.1 needs to be updated.
{width="6.572916666666667in" height="3.4375in"}
CAT phase
{width="6.572916666666667in" height="3.4375in"}
Video call phase
Figure 7.4.3.2.2.1 (G)MSC Server switch architecture use based on UE
capabilities (non CAT capable UE) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 7.4.3.2.2.2 (G)MSC Server switch architecture use based on UE
capabilities (non CAT capable UE)
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205. In the Setup message is no information that UE is CAT
capable.
7 to 12 The GMSC Server reserves the incoming side termination and
interrogates the HLR. GMSC Server receives an OSS which includes information
about the CAT subscription of the called subscriber and the MSRN of the called
subscriber.
13 GMSC initiates ATI (AnyTime Interrogation) operation to the calling
subscriber's HLR for examining if UE-A is CAT capable.
14-15 HLR requests the Classmark 2 of UE-A from the originating MSC Server
with the PSI (Provide Subscriber Information) operation.
16 GMSC Server receives the ATI-ack and notices that UE-A is non-CAT capable.
GMSC Server initiates a call-setup in which the CAT-Server stays in the call
path (as described in CAT-B server switch architecture).
17 to 20 The GMSC Server sets up a call to the CAT-Server which establishes a
call to the MSC-B Server.
21 to 26 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205.
27 The MSC-B Server sends the address complete message with subscriber free
indication to the CAT Server.
28 to 29 The GMSC Server receives ACM/CPG with inband info available in the
optional Backward Call Indicator from the CAT Server and sends it to the MSC-A
Server.
30 to 33 In MSC-A Server the call will be bothway through connected and a
Connect to the UE-A will be sent if the call is a multimedia call and the
ACM&CPG included inband info available information in the Optional Backward
Call Indicator.
34 to 35 H.245 is setup between UE-A and the CAT-Server. The CAT Server plays
the Video CAT to UE-A.
36 to 40 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
41 to 43 The CAT Server sets up a H.245 connection towards UE-B, removes the
video CAT to the calling party and bridges between UE-A and UE-B in the CAT
Server.
44 The CAT server sends the Answer message to the GMSC Server.
45 MSC-A Server receives the answer message from GMSC Server and starts the
charging.
{width="6.572916666666667in" height="3.4375in"}
CAT phase
{width="6.572916666666667in" height="2.75in"}
Video call phase
Figure 7.4.3.2.2.3 (G)MSC Server switch architecture use based on UE
capabilities (CAT capable UE) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 7.4.3.2.2.4 (G)MSC Server switch architecture use based on UE
capabilities (CAT capable UE)
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205. The Setup message includes information (classmark 2
field) that UE is CAT capable.
7 to 12 The GMSC Server reserves the incoming side termination and
interrogates the HLR. GMSC Server receives an OSS which includes information
about the CAT subscription of the called subscriber and the MSRN of the called
subscriber.
13 GMSC initiates ATI (AnyTime Interrogation) operation to the calling
subscriber's HLR for examining if UE-A is CAT capable.
14-15 HLR request the Classmark 2 of UE-A from the originating MSC Server with
the PSI (Provide Subscriber Information) operation.
16 GMSC Server receives the ATI-ack and notices that UE-A is CAT capable. GMSC
Server initiates a call-setup in which the CAT-Server is used only during the
CAT phase (as described in (G)MSC Server switch architecture)
17 to 19 The GMSC Server establishes a call to the MSC-B Server.
20 to 25 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205.
26 to 29 GMSC Server receives ACM with indication that B-subscriber is free.
GMSC Server establishes a call to the CAT-server.
30 to 32 upon reception of the ACM with "inband information available" in the
optional backward call indicator and ANM message from CAT Server the ACM with
"inband information available" is sent to the MSC-A Server.
33 to 35 In MSC-A Server the call will be bothway through connected and an
Alert message with a mark (two-way inband info) to the UE-A will be sent if
the call is a multimedia call and the ACM&CPG included inband info available
information in the Optional Backward Call Indicator. This triggers CAT capable
UEs to start H.245 negotiation.
36 to 37 H.245 is setup between UE-A and the CAT-Server. The CAT Server plays
the Video CAT to UE-A.
38 to 42 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
43 to 44 The GMSC Server releases the connection to the CAT-Server.with a REL-
message. The CAT server removes the video CAT and releases the H.245
connection to UE-A.
45 to 49 After the CAT Server has acknowledged the release, GMSC Server
releases the termination towards the CAT Server in the MGW-g and through
connects the path between UE-A and UE-B.
50 to 52 MSC-A Server receives the answer message, starts the charging and
sends a Connect message to UE-A for triggering a new H.245 negotiation with
UE-B.
53 to 54 UE-A establishes a new H.245 connection towards UE-B.
##### 7.4.3.2.3 Use of CAT capable indication in SETUP message (CAMEL
solution)
A spare bit of the Classmark 2 field is used for signalling that an UE is CAT
capable in the SETUP message from UE-A to MSC-A Server. Classmark 2 field can
be interrogated by the HLR with a MAP Provide Subscriber Information (PSI)
from the MSC-A Server. This interrogation can be initiated by an SCP with the
Any Time Interrogation (ATI) MAP operation.
The signaling forward to the CAT server and signaling backward to the MSC-A to
indicate support by the Ue and inclusion of a video CAT respectively as
described in Clause 7.1.3.2 also applies.
{width="6.572916666666667in" height="3.4375in"}
CAT phase
{width="6.572916666666667in" height="3.4375in"}
Video call phase
Figure 7.4.3.2.3.1 (G)MSC Server switch architecture use based on UE
capabilities (non CAT capable UE) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 7.4.3.2.3.2 (G)MSC Server switch architecture use based on UE
capabilities (non CAT capable UE)
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205. In the Setup message is no information that UE is CAT
capable.
7 to 10 The GMSC Server reserves the incoming side termination and
interrogates the HLR. GMSC Server receives the T-CSI which includes
information about the CAT subscription of the called subscriber.
11 Initial DP is sent to the SCP.
12 SCP initiates ATI (AnyTime Interrogation) operation to the calling
subscriber's HLR for examining if UE-A is CAT capable.
13-14 HLR requests the Classmark 2 of UE-A from the originating MSC Server
with the PSI (Provide Subscriber Information) operation.
15 to 20 SCP receives the ATI-ack and notices that UE-A is non-CAT capable.
SCP sends a Connect message with the CAT-Server Address to the GMSC server.
That means GMSC Server will initiate a call-setup in which the CAT-Server
stays in the call path (as described in CAT-B server switch architecture with
routing back to MSC-Server).
21 to 24 The GMSC Server inquires HLR (T-CSI is suppressed) for the roaming
number.
25 to 29 The GMSC Server establishes a call to the MSC-B Server.
30 to 36 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205.
37 The GMSC Server sends the address complete message with subscriber free
indication to the CAT Server
38 to 39 The GMSC Server receives ACM/CPG with inband info available in the
optional Backward Call Indicator from the CAT Server and sends it to the MSC-A
Server.
40 to 43 In MSC-A Server the call will be bothway through connected and a
Connect to the UE-A will be sent if the call is a multimedia call and the
ACM&CPG included inband info available information in the Optional Backward
Call Indicator.
44 to 45 H.245 is setup between UE-A and the CAT-Server. The CAT Server plays
the Video CAT to UE-A.
46 to 50 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
51 to 54 The GMSC Server sends the Answer message to the CAT Server. The CAT
server sets up a H.245 connection towards UE-B, removes the video CAT to the
calling party and bridges between UE-A and UE-B in the CAT Server.
55 The CAT server sends the Answer message to the GMSC Server.
56 MSC-A Server receives the Answer message from GMSC Server and starts the
charging.
{width="6.572916666666667in" height="3.4375in"}
CAT phase
{width="6.572916666666667in" height="2.75in"}
Video call phase
Figure 7.4.3.2.3.3 (G)MSC Server switch architecture use based on UE
capabilities (CAT capable UE) (network model)
{width="6.5625in" height="9.895833333333334in"}
Figure 7.4.3.2.3.4 (G)MSC Server switch architecture use based on UE
capabilities (CAT capable UE)
1 to 6 As per normal mobile originating call scenario as defined in the clause
6.1 of 3GPP TS 23.205. The Setup message includes information that UE is CAT
capable.
7 to 10 The GMSC Server reserves the incoming side termination and
interrogates the HLR. GMSC Server receives the T-CSI which includes
information about the CAT subscription of the called subscriber.
11 Initial DP is sent to the SCP.
12 SCP initiates ATI (AnyTime Interrogation) operation to the calling
subscriber's HLR for examining if UE-A is CAT capable.
13-14 HLR request the Classmark 2 of UE-A from the originating MSC Server with
the PSI (Provide Subscriber Information) operation.
15 to 16 SCP receives the ATI-ack and notices that UE-A is CAT capable. SCP
sends a Continue and a RRBCSM message to the GMSC server. That means GMSC
Server will initiate a call-setup in which the CAT-Server is used only during
the CAT phase (as described in (G)MSC Server switch architecture)
17 to 20 The GMSC Server inquires HLR (T-CSI is suppressed) for roaming
number.
21 to 23 The GMSC Server establishes a call to the MSC-B Server.
24 to 29 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205,
30 to 35 GMSC Server receives ACM with indication that B-subscriber is free.
GMSC reports Alerting to the SCP. The SCP orders the GMSC Server to establishe
a call to the CAT-server with an Establish Temporary Connection operation.
36 to 38 upon reception of the ACM with "inband information available" in the
optional backward call indicator and ANM message from CAT Server the ACM with
"inband information available" is sent to the MSC-A Server.
39 to 41 In MSC-A Server the call will be bothway through connected and an
Alert message with a mark (two-way inband info) to the UE-A will be sent if
the call is a multimedia call and the ACM&CPG included "inband info available"
information in the Optional Backward Call Indicator. This triggers CAT capable
UEs to start H.245 negotiation.
42 to 43 H.245 is setup between UE-A and the CAT-Server. The CAT Server plays
the Video CAT to UE-A.
44 to 48 As per normal mobile terminating call scenario as defined in the
clause 6.2 of 3GPP TS 23.205 after the called party answers.
49 to 52 The GMSC server report the Answer to the SCP. The SCP orders the GMSC
Server to releases the connection to the CAT-Server with a DFCwA-message. The
CAT server removes the video CAT and releases the H.245 connection to UE-A.
53 to 57 After the CAT Server has acknowledged the release, GMSC Server
releases the termination towards the CAT Server in the MGW-g and through
connects the path between UE-A and UE-B.
58 to 60 MSC-A Server receives the Answer message, starts the charging and
sends a Connect message to UE-A for triggering a new H.245 negotiation with
UE-B.
61 to 62 UE-A establishes a new H.245 connection towards UE-B.
### 7.4.4 Abnormal call flows
### 7.4.5 Fallback call flows
#### 7.4.5.1 CAT server failure / CAT server refuses to deliver a CAT
Same handling in sub-section 7.1.5.1 for the (G)MSC Server switch architecture
can be used for the (G)MSC Server switch architecture use based on UE
capabilities.
#### 7.4.5.2 Multimedia call not possible towards called party
Same handling in sub-section 7.1.5.2 for the (G)MSC Server switch architecture
can be used for the (G)MSC Server switch architecture use based on UE
capabilities.
#### 7.4.5.3 Handover during video CAT
Same handling in sub-section 7.1.5.3 for the (G)MSC Server switch architecture
can be used for the (G)MSC Server switch architecture use based on UE
capabilities.
## 7.5 Alternative 5 --Terminating MSC Server switch architecture
### 7.5.1 Triggering methods
One or several marks, e.g. specific OSSS code(s) or routing information (e.g.
routing code -- new subscription information)., are configured in the HLR on a
per subscriber\'s record to indicate support of audio or/and multimedia CAT-A
and CAT-B services.
When the called party is located in its HPLMN, the terminating VMSC triggers
CAT-B service upon arrival of an incoming call to a CAT subscriber having
subscribed and activated the CAT-B service. The terminating VMSC retrieves the
subscription data of the subscriber during the location update procedure.
NOTE: When the called party is roaming in a VPLMN, the GMSC triggers CAT-B
service upon arrival of an incoming call to a CAT subscriber having subscribed
and activated the CAT-B, as specified in the alternative 1 \"(G)MSC-Server
switch architecture\".
Editor\'s Note: Support of CAT-A by this architecture is ffs.
### 7.5.2 Trigger points in the call
The terminating MSC server shall trigger the called party configured CAT
service if the call party has subscribed and activated the CAT service. When
the CAT media is to be played, MSC-B sends a message with in-band info
available to UE-A for H.245 negotiation between UE-A and CAT server. CAT is
played.
### 7.5.3 Nominal call flows
#### 7.5.3.1 Speech call
**This call flow shows the leg-control phases with the arrow 5'where the MSC-B
establishes the leg toward the CAT Server as shown in Figure 5.2.2.1.**
Because MSC-B controls the establishment, switch and release of the leg, it is
difficult to provide CAT service in a case that UE-B is a roaming user.
However, MSC-B knows UE-B's status at once and UE-B's information such as CAT
activation when UE-B registers its location to MSC-B. So, MSC-B can easily
response to the called party's behaviour such that MSC-B applies fast
connection to the call procedure and attach announcement depending on the
UE-B's status. For the roaming service, other alternative method can be
supported. **Unlike the multimedia call, the parameters for the CAT
subscription are not considered, because MSC-B knows that UE-B's CAT is
activated when UE-B registers its location to MSC-B. Figure 7.5.3.1.1 shows
the audio ring back tone service controlled by MSC-B.**
Figure 7.5.3.1.1: Audio ring back tone service controlled by MSC-B
1 to 6 Normal mobile terminating call procedure starts. For starting of the
speech call, UE-A sends a call setup message. MSC-A/GMSC sends the Call
proceeding message to UE-A. After that MSC-A/GMSC sends SRI(Send Routing
Information) to HLR-B for looking at the called user's location and HLR-B
delivers PRN (Provide Roaming Number).
7 to 14 After receiving SRI_ACK, MSC-A/GMSC sends IAM(Initial Address Message)
to MSC-B for requesting connection and receives ACM for notifying the UE-B's
location. MSC-B sends a paging message and receives the paging response. MSC-B
requests a call setup, and then UE-B notifies the call confirmed message and
sends Alert to MSC-B.
15 to 16 MSC-B sends ACM (Address Complete Message) to MSC-A/GMSC, and
MSC-A/GMSC sends Alert.
17 CAT is played.
18 to 25 If UE-B receives a call, then UE-B sends a Connect message to MSC-B.
MSC-B sends REL to CAT server B, CAT server B responds to MSC-B by RLC. CAT
stops. MSC-B sends ANM (Answer Message) to MSC-A/GMSC. MSC-A/GMSC sends a
Connect message to UE-A and receives its ACK.
26 Speech call is established.
Editor's Note: Because MSC-B knows that the CAT for UE-B is activated (When
UE-B registers its location to MSC-B, the corresponding info is delivered to
MSC-B.) and controls the CAT leg toward CAT server in this scenario, MSC-B can
send Step 15 and 16 in advance. In order to reduce the paging time (fast
connection), the steps can be changed as follows: After Step 8 and 9 for
looking at UE-B's location, MSC-B starts paging process, at the same time,
MSC-B can send ACM at Step 15 and Alert at Step 16 to MSC-A/GMSC and UE-A,
sequentially.
#### 7.5.3.2 Multimedia call
This call flow shows the leg-control phases with the arrow 5'where the MSC-B
establishes the leg toward the CAT Server as shown in Figure 5.2.1.6.1.
Figure 7.5.3.2.1 shows video ring back tone service controlled by MSC-B.
Figure 7.5.3.2.1: Video ring back tone service controlled by MSC-B
1 to 6 Normal mobile terminating call procedure starts. With starting of the
video call, UE-A sends a call setup message with UDI(Unrestricted Digital
Information) in ITC(Information Transfer Capability), 324M protocol indication
(H.223&245) in ORA(Other Rate Adaptation) and CAT capability indicator to
indicate if the calling party UE is a CAT capable UE. MSC-A/GMSC sends the
Call proceeding message to UE-A. After that MSC-A/GMSC sends SRI(Send Routing
Information) to HLR-B for looking at the called user's location and HLR-B
delivers PRN (Provide Roaming Number).
7 to 14 After receiving SRI_ACK, MSC-A/GMSC-B sends IAM(Initial Address
Message) with CAT capability indicator to MSC-B for requesting connection and
receives ACM for notifying the UE-B's location. The CAT capability indicator
is to indicate if the calling party UE is a CAT capable UE. MSC-A can send to
GMSC-B an IAM message with the CAT capability indicator if they are separated.
MSC-B sends a paging message and receives the paging response. MSC-B requests
a call setup, and then UE-B notifies the call confirmed message and sends
Alert to MSC-B.
NOTE: In order to reduce the paging time, the steps can be changed as follows:
After Step 8 and 9, MSC-B starts paging process, at the same time, MSC-B can
send ACM at Step 15 to MSC-A/GMSC and Alert at Step 16 to UE-A, sequentially.
Editor's Note: Coding of the CAT capability indicator is FFS.
15 to 16 MSC-B sends ACM (Address Complete Message) with in-band information
indicator. If GMSC-B and MSC-A are not co-located, GMSC sends an ACM or CPG
message to MSC-A with the _In-band information indicator_ of the Optional
backward call indicators IE set to \"in-band information or an appropriate
pattern is now available\" to inform the originating MSC that a video CAT is
available. MSC-A/GMSC sends Alerting or Progress message with inband info
avail. for H.245 negotiation.
Editor's Note: For H.245 negotiation, the inband info is contained in the
messages at Step 15 and 16. This inband info for H.245 negotiation can be
encoded as a new value. FFS is needed.
17 H.245 negotiation between CAT server B and UE-A is proceeded.
18 After H.245 negotiation, CAT is played.
19 to 25 If UE-B receives a call, then UE-B sends a Connect message to MSC-B.
MSC-B sends REL to CAT server B, CAT server B responds to MSC-B by RLC. CAT
stops. MSC-B sends ANM (Answer Message) to MSC-A/GMSC. MSC-A/GMSC sends a
Connect message to UE-A and receives its ACK.
26 H.245 renegotiation between UE-A and UE-B is proceeded.
27 AV data for video call is delivered over H.233 protocol.
### 7.5.4 Abnormal call flows
### 7.5.5 Fallback call flows
## 7.6 Alternative 6 -- (G)MSC Server bridge architecture
### 7.6.1 Triggering methods
Same triggering methods specified in sub-section 7.1.1 for the (G)MSC Server
switch architecture is used for the (G)MSC Server bridge architecture.
### 7.6.2 Trigger points in the call
Same triggering points specified in sub-section 7.1.2 for the (G)MSC Server
switch architecture is used for the (G)MSC Server bridge architecture.
### 7.6.3 Nominal call flows
#### 7.6.3.1 Speech call
The audio CAT nominal call flow for the (G)MSC Server bridge architecture is
the same as the flow for the (G)MSC Server switch architecture (see sub-
section 7.1.3.1).
#### 7.6.3.2 Multimedia call
It is assumed in that sub-clause that the calling party has either not
subscribed or not activated CAT service, or that it has activated CAT service
but with CAT settings indicating preferences to CAT-B service. It is also
assumed that the CAT server support H.324m.
To play the video CAT, three successive H.245 negotiations are performed:
\- A first one between the calling party's UE and the (G)MSC server through
the MGW under the control of the (G)MSC server during the alerting phase; the
end to end bearer connection between the calling party and the (G)MSC server
shall be two-way through-connected to allow the H.245 negotiation;
\- A second one between the (G)MSC server and the CAT server during the
alerting phase.
\- A third one between the (G)MSC server and the called party's UE through the
MGW under the control of the (G)MSC server when the called party answers the
calls.
Video CATs can only be delivered to handsets supporting the corresponding
capabilities (not supported by pre-Rel8 handsets).
Editor\'s Note: The multimedia interworking procedures on Mn interface can be
possibly re-used for bridging the multimedia call establishment to the calling
and called parties. The impact on Mc interface is FFS.
Figure 7.6.3.2.1: Video CAT provided by CAT server B
1 to 14 As per normal mobile originating/terminating multimedia call, with the
following additions:\ \- SRI ACK includes a mark to indicate that the called
party is a CAT subscriber.
15-16 GMSC-B places a multimedia call to CAT Server B to request the CAT
playing with the called party number set as UE-B's MSISDN.
17 GMSC-B both-way through-connects the bearer to the preceding node and the
CAT server.
18 GMSC-B send ACM message to the preceding node as normal call, with the
following additions:\ \- In the ACM message, _In-band information indicator_
of the Optional backward call indicators information element is set to \"_in-
band information or an appropriate pattern is now available_ \".
19 MSC-A process the ACM as normal call with the following additions:\ \-
both-way through-connect the bearer to the succeeding node with the preceding
node to enable the H.245 negotiation.
20 MSC-A send Alerting to the UE-A as normal call with the following
additions:\ \- With additional information to indicate that \"in-band
multimedia info is available\".
Editor's note: How the \"in-band multimedia info is available\" flags are
encoded on the MSC-UE interface is FFS.
21-23 For multimedia call, the UE-A with the (G)MSC server and the (G)MSC
server will start the in-band H.245 negotiation to establish the multimedia
bearer through the fully connected bearer respectively. After the completion
of the H.245 negotiations, the UE-A receives multimedia customized alerting
tone media and plays it to the calling subscriber.
24-26 As per normal mobile terminating (multimedia call).
27 GMSC-B starts the in-band H.245 negotiation with the UE-B.
28 After the completion of the H.245 negotiation with the UE-B, GMSC-B bridges
the media between the bearer towards the preceding and succeeding nodes.
29 GMSC-B sends ANM message to the preceding node, MSC-A as per normal mobile
multimedia call.
30-31 GMSC-B release the \"call\" to the CAT server.
32-33 As per normal multimedia call.
### 7.6.4 Abnormal call flows
### 7.6.5 Fallback call flows
#### 7.6.5.1 CAT server failure / CAT server refuses to deliver a CAT
Same handling in sub-section 7.1.5.1 for the (G)MSC Server switch architecture
can be used for the (G)MSC Server bridge architecture.
#### 7.6.5.2 Multimedia call not possible towards called party
Same handling in sub-section 7.1.5.2 for the (G)MSC Server switch architecture
can be used for the (G)MSC Server bridge architecture.
#### 7.6.5.3 Handover during video CAT
Same handling in sub-section 7.1.5.3 for the (G)MSC Server switch architecture
can be used for the (G)MSC Server bridge architecture.
# 8 Interaction with other features
## 8.1 Interaction with supplementary services
### 8.1.1 Line identification services
#### 8.1.1.1 Calling Line Identification Presentation (CLIP)
No interaction.
The _Calling Party Number_ and _Generic Number -- Additional Calling Party
Number_ are not impacted by the CAT service. They are forwarded to the called
party as received from the calling party.
In all architectures the same _Calling Party Number_ and _Generic Number \--
Additional Calling Party Number_ are also sent in the IAM message to the CAT
Server.
#### 8.1.1.2 Calling Line Identification Restriction (CLIR)
The _Address Presentation Restriction Indicator_ is not modified by the CAT
service. It is forwarded to the terminating node as received from the calling
party.
In all architectures the same _Address Presentation Restriction Indicator_ is
also sent in the IAM message to the CAT Server.
As specified in 3GPP TS 22.182 [2], the CLIR service shall take precedence
over the CAT service subscribed by the called party. I.e. if the called party
has a CAT associated to the calling party's identity, the service shall not be
invoked; if the called party has a CAT not associated to the calling party's
identity then the service shall be invoked. The CAT Server is the single
entity responsible for making those checks and possibly rejecting the
requested CAT service; in the latter case, the (G)MSC Server shall pursue the
call establishment without delivering CAT to the calling party.
NOTE: In the CAT Server switch architecture, the call is routed through the
CAT Server even if ultimately no CAT is delivered because of CLIR precedence.
It is ffs if in that case the CAT server remains part of the bearer path
throughout the call.
Editor\'s note: 3GPP TS 22.182 also indicates that the CLIR service takes
precedence over the CAT Service subscriber by the calling party. This
requirement needs to be verified with SA1 as does not seem relevant.
#### 8.1.1.3 Connected Line Identification Presentation / Restriction
(COLP/COLR)
The _Connected Number_ and the _Generic Number -- Additional Connected Number_
, including the related _Address Presentation Restriction Indicators,_ and the
_Redirection Number_ and _Redirection Number Restriction Indicator_ are not
impacted by the CAT service. They are sent in the backward direction to the
calling party as received from the called party.
To ensure that the right connected number is sent to the originating UE, in
the (G)MSC Server switch architecture and the (G)MSC Server bridge
architecture,
  * any Connected Number, Generic Number -- Additional Connected Number, Redirection Number or Redirection Number Restriction Indicator IE received from the CAT Server shall be discarded and not passed on in backward direction;
  * if an ANM message is received from the CAT server, it shall not be sent in the backward direction towards the calling party; the (G)MSC Server shall send instead an ACM or CPG message.
In the CAT Server switch architecture,
  * CAT Server shall not change the Connected Number, Generic Number -- Additional Connected Number, Redirection Number and Redirection Number Restriction Indicator IE received from the succeeding node.
Editor\'s Note: it is ffs if there are really no interactions for the
originating MSC returns the CONNECT message to the originating UE before
receiving an indication that the call is accepted by the called party (ANM or
CONNECT message). This may lead to send an incorrect connected number in the
CONNECT message, e.g. if the call is forwarded by the called party. 3GPP TS
24.008 currently states that the CONNECT message shall be sent to the
originating UE upon receiving an indication that the call is accepted.
3GPP TS 22.182 [2] requires that the COLR service takes precedence over the
CAT service subscribed by the calling party. If the calling party has a CAT
associated to the called party's identity, the service shall not be invoked.
If the calling party has a CAT not associated to the called party's identity
then the service shall be invoked. The CAT service can take precedence over
the COLR service when the calling party has an override category, such as the
police, for which the COLR service is not applied.
Whether / how the above COLR and COLR override requirements can be implemented
is ffs since this raises the following concerns :
  * the Connected Line Number and Connected Line _Address presentation restricted indicator_ are known at the time the called is answered, i.e. after the CAT is played;
  * the selection of the CAT by the CAT server can therefore only take into account the called party number, not the connected number. Whether the called or connected party has subscribed or not to the COLR service can not be taken into account when deciding whether a CAT shall be played;
  * the COLR override indicator is only known by the originating MSC; the indicator is not transmitted in ISUP/BICC signalling.
NOTE: In the CAT Server switch architecture, the call is routed through the
CAT Server even if ultimately no CAT is delivered because of COLR precedence.
Editor\'s note: 3GPP TS 22.182 also indicates that the COLR service takes
precedence over the CAT Service subscriber by the called party. This
requirement needs to be verified with SA1 as does not seem relevant.
### 8.1.2 Call forwarding services
#### 8.1.2.1 General Principles
If Call Forwarding is invoked before the original called party's alerting,
e.g. CFU or Call Forwarding on no paging response, the original called party's
CAT during alerting phase won't be triggered, and the CAT of Forwarded-to-
party(C), if subscribed, can be played by the (G)MSC-C following the normal
procedures. If C party forwards the call to D party before C party alerts, the
CAT-D can be played, if applicable.
If Call Forwarding is invoked during the original called party's alerting,
e.g. CFNRy, how to play the CAT of the Forwarded-to-party (C) is specific to
each architecture.
#### 8.1.2.2 (G)MSC Server switch architecture
If Call Forwarding is invoked during the original called party's alerting,
e.g. CFNRy, the (G)MSC-C plays the CAT-C, if applicable, upon receiving the
indication that C party is being alerted, following the normal procedures. If
C party has not subscribed the CAT during alerting phase, the calling party
will experience the default ring back tone from terminating MSC-C for an audio
call.
Editor's note: which alerting indication is experienced for a multimedia call
if C party has not subscriber CAT is ffs.
3GPP TS22.182 [2] sub-clause 4.2.4.3 requires that \"A experiences CAT-B until
B's CFNRy timer has expired. Then experiences CAT-C\"; however :
  * Upon expiry of CFNRy timer, MSC-B may not send a Call Forwarding notification to the GMSC-B (CPG with CF indicator), therefore GMSC-B may not be able to stop the CAT-B until C party starts being alerted.
  * If video CAT-B is stopped as early as the CPG(CF indicator) arrives in GMSC-B, and MSC-B can not insert video indication on call forwarding, the calling user may experience an uncomfortable long \"silent\" interval between CAT-B and CAT-C. So keeping on playing CAT-B by GMSC-B until C party enters alerting phase can shorten the uncomfortable \"silent\" gap. (_In-band information indicator_ of the Optional backward call indicators information element is set to \'in-band information or an appropriate pattern is now available\'in CPG message)
NOTE: To avoid a \"silent\" period during C party alerting, GMSC-B might, as
an option, keep on playing CAT-B till C party picks up the call if there is no
called party\'s CAT configured and activated for the C party.
  * In audio call, MSC-B may play an announcement or send forwarding tones to the calling party to indicate the call is being forwarded after sending CPG with CF indicator to GMSC. Based on the local policy, GMSC may stop audio CAT-B and connect calling party with MSC-B in user plane to play call forwarding indicator, or may keep playing audio CAT-B until C party alerting.
Figure 8.1.2.2.1 shows the case of CFNRy for an audio call, audio CAT-B is
stopped upon CPG(CF indicator).
{width="6.686805555555556in" height="7.801388888888889in"}
Figure 8.1.2.2.1: Call forwarding of an audio call, audio CAT-B stopped upon
CPG(CF indicator)
Figure 8.1.2.2.2 shows the case of CFNRy for a multimedia call, video CAT-B is
stopped upon party C's alerting.
{width="6.686805555555556in" height="8.791666666666666in"}
Figure 8.1.2.2.2: Call forwarding of a multimedia call, video CAT-B stopped
upon party C\'s alerting
Steps 37 and 38 are performed in parallel.
Step 39: upon receipt of the Indication (start H.245) from MSC-A, the UE
locally releases H.245 call and re-establishes a new one towards the called
party.
Editor'note: how to indicate UE to start/release H245 in step 13,30,39 is ffs.
Step 41 may happen before step 40 is actually finished.
NOTE: The CAT servers of the called party and forwarded-to party may be
different CAT servers.
#### 8.1.2.3 CAT Server switch architecture
FFS
#### 8.1.2.4 (G)MSC Server bridge architecture
Same interaction as described in sub-clause 8.1.2.2 for the (G)MSC Server
switch architecture with the following modifications:
\- The flow of CFNRy interaction with multimedia CAT is shown in diagram
8.1.2.4.1.
{width="6.21875in" height="8.791666666666666in"}
Figure 8.1.2.4.1: Call forwarding of a multimedia call, audio CAT-B stopped
upon party C\'s alerting
Step 39 may happen before step 38 is actually finished.
NOTE: The CAT servers of the called party and forwarded-to party may be
different CAT servers.
#### 8.1.2.5 Terminating MSC Server switch architecture
##### 8.1.2.5.1 Speech call
This call flow shows the call forwarding service where the MSC-B establishes
the leg toward the CAT Server. After CFNRy or UDUB status, the first CAT
content is turned off and the new CAT content from the second called party is
delivered to the calling party.
**In Figure** 8.1.2.5.1.1**, after alerting CFNRy and UDUB at Step 18, MSC-B
releases the CAT server. The remained call procedure is same as the nominal
call procedure.**
Figure 8.1.2.5.1.1 Call forwarding flow for speech call between UE-A and UE-B
> 1 to 6 Normal mobile terminating call procedure starts. For starting of the
> speech call, UE-A sends a call setup message. MSC-A/GMSC sends the Call
> proceeding message to UE-A. After that MSC-A/GMSC sends SRI(Send Routing
> Information) to HLR-B for looking at the called user's location and HLR-B
> delivers PRN (Provide Roaming Number).
>
> 7 to 14 After receiving SRI_ACK, MSC-A/GMSC sends IAM(Initial Address
> Message) to MSC-B for requesting connection. MSC-B sends a paging message
> and receives the paging response. MSC-B requests a call setup, and then UE-B
> notifies the call confirmed message and sends Alerting to MSC-B.
>
> 15 to 16 MSC-B sends ACM (Address Complete Message) to MSC-A/GMSC, and
> MSC-A/GMSC sends Alert.
>
> 17 CAT-B is played.
>
> 18 CFNRy, UDUB
>
> 19 to 21 MSC-B sends REL to CAT server B, CAT server B responses to MSC-B by
> RLC. CAT playing stops.
NOTE: Because MSC-B knows that the CAT for UE-B is activated (When UE-B
registers its location to MSC-B, the corresponding info is delivered to
MSC-B.) and controls the CAT leg toward CAT server in this scenario, MSC-B can
send Step 15 and 16 in advance. In order to reduce the paging time (fast
connection), the steps can be changed as follows: After Step 8 and 9 for
looking at UE-B's location, MSC-B starts paging process, at the same time,
MSC-B can send ACM at Step 15 and Alert at Step 16 to MSC-A/GMSC and UE-A,
sequentially.
Figure 8.1.2.5.1.2 Call forwarding flow for speech call between UE-A and UE-C
> 22 to 25 MSC-B sends SRI(Send Routing Information) to HLR-C for looking at
> the UE-C's location and HLR-C delivers PRN (Provide Roaming Number) to
> MSC-C.
>
> 26 to 33 After receiving SRI_ACK, MSC-B sends IAM(Initial Address Message)
> to MSC-C for requesting connection. MSC-C sends a paging message and
> receives the paging response. MSC-C requests a call setup, and then UE-C
> notifies the call confirmed message and sends Alert to MSC-C.
>
> 34 to 36 MSC-C sends ACM (Address Complete Message) to MSC-B. MSC-B sends
> CPG to MSC-A/GMSC, and MSC-A/GMSC sends Progress.
>
> 37 CAT-C content is played.
>
> 38 to 44 If UE-C receives a call, then UE-C sends a Connect message to
> MSC-C. MSC-C sends REL to CAT server C, CAT server C responds to MSC-C by
> RLC. CAT stops. MSC-C sends ANM (Answer Message) to MSC-A/GMSC through
> MSC-B. MSC-A/GMSC sends a Connect message to UE-A and receives its ACK.
>
> 45 Speech call starts.
NOTE: During changing the CAT content, a user may experience sudden CAT stop.
The silence section can be reduced if MSC-B controls the release of CAT
service until MSC-B receives ACM from MSC-C. As other approaches, UE-A or
MSC-C can play the default sound. More progress for call forwarded
notification UE-A is needed and MSC-C also has to contain such functionality
by itself. Or MSC-B can send UE-A announcement that the call was forwarded.
##### 8.1.2.5.2 Multimedia call
This call flow shows the call forwarding service where the MSC-B establishes
the leg toward the CAT Server. After CFNRy or UDUB status, the first CAT
content is turned off and the new CAT content from the second called party is
delivered to the calling party. For the start and release of H.245
negotiation, the parameters for the CAT subscription information are needed.
**In Figure** 8.1.2.5.2.1**, after alerting CFNRy and UDUB at Step 19, MSC-B
releases the CAT service and sends MSC-A/GMSC a CPG message with call
forwarding for releasing H.245 negotiation. MSC-A/GMSC delivers a Progress
message with inband info. avail. for releasing H.245 negotiation to UE-A.
Also, GMSC has to send inband info avail. for releasing H.245 negotiation to
MSC-A if they are not co-located.**
**Figure** 8.1.2.5.2.2 **shows call forwarding procedure through MSC-B. After
disconnection of CAT service from CAT Server B, MSC-B forwards a call to MSC-C
for communications with UE-C. At Step 38 to 40, the inband info avail for
H.245 negotiation is delivered from MSC-C to MSC-A/GMSC and UE-A through
MSC-B, and CAT service is provided from CAT Server C in which UE-C subscribes
CAT service. The remained call procedure is same as the nominal call
procedure.**
Figure 8.1.2.5.2.1 Call forwarding flow for multimedia call between UE-A and
UE-B
1 to 6 Normal mobile terminating call procedure starts. With starting of the
video call, UE-A sends a call setup message with UDI(Unrestricted Digital
Information) in ITC(Information Transfer Capability), 324M protocol indication
(H.223&245) in ORA(Other Rate Adaptation) and CAT capability indicator to
indicate if the calling party UE is a CAT capable UE. MSC-A/GMSC sends the
Call proceeding message to UE-A. After that MSC-A/GMSC sends SRI(Send Routing
Information) to HLR-B for looking at the called user's location and HLR-B
delivers PRN (Provide Roaming Number).
Editor's Note: In order to reduce the paging time (fast connection), the steps
can be changed as follows: After Step 8 and 9, MSC-B starts paging process, at
the same time, MSC-B can send ACM at Step 15 to MSC-A/GMSC and Alert at Step
16 to UE-A, sequentially.
7 to 14 After receiving SRI_ACK, MSC-A/GMSC sends IAM (Initial Address
Message) with CAT capability indicator to MSC-B to request connection. The CAT
capability indicator is to indicate if the calling party UE is a CAT capable
UE. MSC-A can send to GMSC-B an IAM message with the CAT capability indicator
if they are separated. MSC-A/GMSC-B receives ACM to notify the UE-B's
location. MSC-B sends a paging message and receives the paging response. MSC-B
requests a call setup, and then UE-B notifies the call confirmed message and
sends Alert to MSC-B.
Editor's Note: Coding of the CAT capability indicator is FFS.
> 15 to 16 MSC-B sends ACM (Address Complete Message) with in-band information
> indicator. If GMSC-B and MSC-A are not co-located, GMSC sends an ACM or CPG
> message to MSC-A with the _In-band information indicator_ of the Optional
> backward call indicators IE set to \"in-band information or an appropriate
> pattern is now available\" to inform the originating MSC that a video CAT is
> available. MSC-A/GMSC sends UE-A Alerting or Progress message with inband
> info avail. for H.245 negotiation.
17 H.245 negotiation between CAT server B and UE-A is proceeded.
18 After H.245 negotiation, CAT is played.
19 CFNRy, UDUB
20 MSC-B sends REL to CAT server B.
21 to 22 H.245 release procedure. CAT stops.
23 CAT server B responds to MSC-B by RLC.
> 24 to 25 MSC-B sends MSC-A/GMSC ACM (Address Complete Message) with _call
> forwarded_ , and MSC-A/GMSC sends UE-A Alerting with Progress with inband
> info avail. for H.245 negotiation which means the session to be closed.
Editor's Note: For H.245 negotiation, the CAT inband info field is contained
in the messages at Step 15, 16, 22 and 23. This CAT inband info field can be
encoded as a new value or normal inband info field with USI (= multimedia
call). FFS is needed.
Editor's Note: Because MSC-B knows that the CAT for UE-B is activated (When
UE-B registers its location to MSC-B, the corresponding info is delivered to
MSC-B.) and controls the CAT leg toward CAT server in this scenario, MSC-B can
send Step 15 and 16 in advance. In order to reduce the paging time (fast
connection), the steps can be changed as follows: After Step 8 and 9 for
looking at UE-B's location, MSC-B starts paging process, at the same time,
MSC-B can send ACM at Step 15 to MSC-A/GMSC and Alert at Step 16 to UE-A,
sequentially.
Figure 8.1.2.5.2.2 Call forwarding flow for multimedia call between UE-A and
UE-C
26 to 29 MSC-B sends SRI(Send Routing Information) to HLR-C for looking at the
UE-C's location and HLR-C delivers PRN (Provide Roaming Number) to MSC-C.
30 to 37 After receiving SRI_ACK, MSC-B sends IAM(Initial Address Message)
with the CAT capability indicator to MSC-C for requesting connection and
receives ACM for notifying the UE-C's location. MSC-C sends a paging message
and receives the paging response. MSC-C requests a call setup, and then UE-C
notifies the call confirmed message and sends Alert to MSC-C.
38 to 40 MSC-C sends ACM (Address Complete Message) to MSC-B with the UE-C's
CAT inband info available which means the second session to be reopened. MSC-B
sends CPG to MSC-A/GMSC with the UE-C's inband info available which means the
second session to be reopened and MSC-A/GMSC sends Progess with inband info
available which means the second session to be reopened.
41 H.245 negotiation between CAT server C and UE-A is proceeded.
42 After H.245 negotiation, CAT is played.
43 to 49 If UE-C receives a call, then UE-C sends a Connect message to MSC-C.
MSC-C sends REL to CAT server C, CAT server C responds to MSC-C by RLC. CAT
stops. MSC-C sends ANM (Answer Message) to MSC-A/GMSC through MSC-B.
MSC-A/GMSC sends a Connect message to UE-A and receives its ACK.
50 H.245 renegotiation between UE-A and UE-C is proceeded.
51 AV data for video call is delivered over H.233 protocol.
Editor's Note: For H.245 negotiation, the CAT inband info field is contained
in the messages at Step 38-40. This CAT inband info field can be encoded as a
new value or normal inband info field with USI (= multimedia call).
Editor's Note: Because MSC-C knows that the CAT for UE-C is activated (When
UE-C registers its location to MSC-C, the corresponding info is delivered to
MSC-C.) and controls the CAT leg toward CAT server in this scenario, MSC-C can
send Step 38-40 in advance. In order to reduce the paging time (fast
connection), the steps can be changed as follows: After Step 31 and 32 for
looking at UE-B's location, MSC-C starts paging process, at the same time,
MSC-C can send ACM at Step 38 to MSC-B, CPG at Step 39 to MSC-A/GMSC and
Progress at Step 40 to UE-A, sequentially.
#### 8.1.2.6 CAT Server switch architecture with routing back to GMSC Server
##### 8.1.2.6.1 Speech call
##### 8.1.2.6.2 Multimedia call
This multimedia call flow shows a call forwarding service during original
called party's alerting (f.e. CFNRy or UDUB). The time when the removal of the
CAT-B to UE-A occurs in CAT-B server is defined by local policy. It can happen
either when the CAT-B Server receives the call forwarding indication or when a
CAT-B Server receives indication that a CAT-C (in-band info available in CPG
message) is connected like in the example call flow below.
{width="6.625in" height="3.3958333333333335in"}
Figure 8.1.2.6.1 CAT phase called B-subscriber
{width="6.708333333333333in" height="5.301388888888889in"}
Figure 8.1.2.6.2 CAT phase called C-subscriber
{width="6.708333333333333in" height="5.301388888888889in"}
Figure 8.1.2.6.3 Video call phase
{width="6.572222222222222in" height="9.3125in"}
Figure 8.1.2.6.4 Call forwarding of a multimedia call
{width="6.697916666666667in" height="9.375in"}
Figure 8.1.2.6.5 Call forwarding of a multimedia call
1 to 39 Normal multimedia call set-up as decribed in chapter 7.3.3.2 CAT
Server switch architecture with routing back to GMSC Server.
40 to 47 Call forwarding no reply (CFNRy) occurs the signalling connection
towards B-party is released in MSC-B and a CPG message with call forwarding
indication sent to GMSC Server-B. GMSC Server B sends this CPG message to the
CAT Server-B.
48 to 72 In the example the MSC-B and GMSC-Server-C are co-located. The
C-party CAT is provided by CAT-Server-C. The connection to the CAT- Server C
by GMSC-Server C is established as described in chapter7.3.3.2 CAT Server
switch architecture with routing back to GMSC Server
73 to 75 GMSC Server B reports the CPG with the inband-info available to the
CAT Server B. CAT-Server B sets up the H.245 towards CAT-Server-C. CAT Server
B removes the video CAT to the calling party and bridges between UE-A and CAT
Server-C.
76 CAT-Server C plays the video CAT to the calling party.
77 to 88 After UE-C answers the video CAT is removed and H.245 between CAT-
Server C and UE-C established as described in chapter 7.3.3.2 CAT Server
switch architecture with routing back to GMSC Server.
89 to 90 The ANM message is received by the MSC-A Server which starts the
charging.
#### 8.1.2.7 (G)MSC server switch architecture use based on UE capabilities
##### 8.1.2.7.1 Speech call
##### 8.1.2.7.2 Multimedia call
This multimedia call flow shows a call forwarding service during original
called party's alerting (f.e. CFNRy or UDUB). The time when the removal of the
CAT-B to UE-A occurs in CAT-B server is defined by local policy. It can happen
either when the CAT-B Server receives the call forwarding indication or when a
CAT-B Server receives indication that a CAT-C (in-band info available in CPG
message) is connected like in the example call flow below.
{width="6.572916666666667in" height="3.4375in"}
CAT phase called B-subscriber
{width="6.604166666666667in" height="5.593055555555556in"}
CAT phase called C-subscriber
{width="6.604166666666667in" height="5.593055555555556in"}
Video call phase
Figure 8.1.2.7.1 (G)MSC Server switch architecture use based on UE
capabilities (UE no session reset support) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 8.1.2.7.2 Call forwarding of a multimedia call (UE no session reset
support)
{width="6.697916666666667in" height="9.375in"}
Figure 8.1.2.7.3 Call forwarding of a multimedia call (UE no session reset
support)
{width="6.71875in" height="6.072222222222222in"}
Figure 8.1.2.7.4 Call forwarding of a multimedia call (UE no session reset
support)
1 to 46 Normal multimedia call set-up as decribed in chapter 7.4.3.2 (G)MSC
server switch architecture use based on UE capabilities with UE no session
reset support.
47 to 53 Call forwarding no reply (CFNRy) occurs the signalling connection
towards B-party is released in MSC-B Server and a CPG message with call
forwarding indication sent to GMSC Server-B
54 to 85 In the example the MSC-B and GMSC-Server-C are co-located. The
c-party CAT is provided by CAT-Server-C. The connection to the CAT- Server C
by GMSC-Server C is established as described in chapter 7.4.3.2 (G)MSC server
switch architecture use based on UE capabilities with UE no session reset
support.
86 to 90 GMSC server B reports call forwarding to the SCP. SCP sends Continue
with arguments. GMSC Server B informs the CAT-Server B about the call
forwarding with a ISUP Facility message including the Generic Notification
indicator set to \"call is diverting\". CAT-Server B sets up the H.245 towards
CAT-Server-C. CAT Server B removes the video CAT to the calling party and
bridges between UE-A and CAT Server-C.
NOTE: TS 23.078 does at the moment not support the Forwarded Call information
element in an Event report BCSM operation for the NP state model.
91 CAT-Server C plays the video CAT to the calling party.
92 to 101 After UE-C answers the video CAT is removed and H.245 between CAT-
Server C and UE-C established as described in chapter 7.4.3.2 (G)MSC Server
switch architecture use based on UE capabilities with UE no session reset
support.
102 to 106 When GMSC Server B receives the ANM message in reports the answer
to the SCP. SCP sends Continue with arguments. GMSC Server B informs the CAT-
Server B about the answer with a second ISUP Facility message including the
Generic Notification indicator set to \"call is diverting\". CAT-Server B
generates the ANM message on connection 1.
107 to 108 MSC-A Server receives the answer message from GMSC Server B and
starts the charging.
{width="6.572916666666667in" height="3.4375in"}
CAT phase called B-subscriber
{width="6.427083333333333in" height="5.448611111111111in"}
CAT phase called C-subscriber
{width="6.427083333333333in" height="5.448611111111111in"}
Video call phase
Figure 8.1.2.7.5 (G)MSC Server switch architecture use based on UE
capabilities (UE session reset support) (network model)
{width="6.634722222222222in" height="9.625in"}
Figure 8.1.2.7.6 Call forwarding of a multimedia call (UE session reset
support)
{width="6.697916666666667in" height="9.375in"}
Figure 8.1.2.7.7 Call forwarding of a multimedia call (UE session reset
support)
{width="6.71875in" height="6.072222222222222in"}
Figure 8.1.2.7.8 Call forwarding of a multimedia call (UE session reset
support)
1 to 51 Normal multimedia call set-up as decribed in chapter 7.4.3.2 (G)MSC
server switch architecture use based on UE capabilities with UE session reset
support.
52 to 58 Call forwarding no reply (CFNRy) occurs the signalling connection
towards B-party is released in MSC-B Server and a CPG message with call
forwarding indication sent to GMSC Server-B
59 to 90 In the example the MSC-B and GMSC-Server-C are co-located. The
C-party CAT is provided by CAT-Server-C. The connection to the CAT- Server C
by GMSC-Server C is established as described in chapter 7.4.3.2 (G)MSC Server
switch architecture use based on UE capabilities with UE session reset
support.
91 to 101 GMSC server B reports call forwarding to the SCP. SCP has already
the information that UE-A supports session reset so it initiates a Disconnect
Forward Connection with Argument operation for removing also the first
connection to the CAT Server B. GMSC Server B initiates the release towards
the CAT Server B. The CAT Server B removes the Video CAT and sends a H.324
session reset to UE-A. After the CAT Server has acknowledged the release, GMSC
Server B releases the termination towards the CAT Server B in the MGW-g. The
SCP initiates a Move Leg operation for through connecting the terminations
towards MSC-A Server and MSC-B Server.
NOTE: TS 23.078 does at the moment not support the Forwarded Call information
element in an Event report BCSM operation for the NP state model.
102 to 108 A H.245 connection is set up between UE-A and CAT Server C and CAT-
Server C plays the video CAT to the calling party as described in chapter
7.4.3.2 (G)MSC Server switch architecture use based on UE capabilities with UE
session reset support.
109 to 128 After UE-C answers the call, the video CAT from CAT-Server C is
removed, a session reset by CAT-server C towards UE-A is initiated, the
connection between GMSC-C and CAT Server-C is released and a H.245 between
UE-A and UE-C is established. This is handled as described in chapter 7.4.3.2
(G)MSC Server switch architecture use based on UE capabilities with UE session
reset support.
### 8.1.3 Call waiting
#### 8.1.3.1 Basic interactions
Upon arrival of an incoming waiting call, the terminating MSC may send towards
the calling party :
  * a \"call waiting\" signalling notification, e.g. return an ACM or CPG containing \"call is a waiting call\" in Notification indicator in Generic notification indicator; or/and
  * a call waiting announcement, e.g return an ACM or CPG to the GMSC indicating \"in-band information available\";
No CAT-A nor CAT-B should have been initiated yet in that case, unless the
call was forwarded (e.g. CFNRy).
Editor\'s Note: 3GPP TS 22.182 sub-clause 4.2.4.4 states that CAT-A / CAT-B
may be sent in case of call waiting scenario. Unless call was forwarded, this
should normally not occur actually, unless CAT were initiated prior to
receiving the indication that the called party is alerted.
Upon receipt of indication that in-band information is available, the
originating MSC and (G)MSC should through-connect the calling party to the in-
band information, stopping any CAT-A/CAT-B previously started. This may
however be controlled by a configurable option in the MSC Server.
NOTE: The originating MSC / (G)MSC may not know whether the in-band
information is a call waiting announcement, a busy tone, or any other kind on
in-band information.
Upon receipt of a \"call waiting\" signalling notification, the originating
MSC and (G)MSC propagate the notification to the calling party.
#### 8.1.3.2 \'Call waiting\' CAT
As an option, the (G)MSC of the called party may establish a connection
towards the CAT server of the B party to play a call waiting CAT towards the
calling party, as specified for nominal call flows in sub-clause 7.
The (G)MSC could indicate to the CAT Server that this is a waiting call by
setting the notification indicator in Generic notification indicator to \'call
is a waiting call\'.
### 8.1.4 Call Hold
#### 8.1.4.1 Basic interactions
No impact.
#### 8.1.4.2 \'Call hold\' CAT
As an option, the (G)MSC of the subscriber putting the call on hold may
establish a connection towards the CAT server of the subscriber. This is ffs.
### 8.1.5 Multiparty
No interaction for video CAT (multiparty not supported for multimedia calls).
A multiparty call may involve one or more calls which are subject to audio
CAT. Any call to expand a multiparty call is treated as a normal mobile
originated call, which can involve CAT. Only the party controlling the MPTY
service can hear the CAT of the new party. DTMF received from the party
controlling the MPTY service should be sent towards the new called party
(based on the transaction identifier in the \"START DTMF\" message) to support
copy and stop CAT command for the new call.
### 8.1.6 Explicit Call Transfer
No impact if ECT is invoked by subscriber A after both calls A-B and A-C are
answered.
If ECT is invoked by subscriber A after A-B call is answered but during A-C
call is alerting, CAT-C, if being played to subscriber A, shall be played to
subscriber B as well after invocation of ECT. If a CAT-A was being played to
subscriber A, it is not played towards subscriver B; in that case, CAT-B will
not be played to subscriber B (as per 3GPP TS 22.182, sub-clause 4.2.4.5).
### 8.1.7 Call barring
#### 8.1.7.1 Barring of all Incoming Calls (BAIC)
No interaction.
Barring of all Incoming Calls (BAIC) is invoked in the HLR during routing
interrogation. BAIC therefore takes precedence over CAT-B service, i.e. CAT-B
is not invoked for calls being subject to BAIC.
#### 8.1.7.2 Barring of all Incoming Calls when Roaming Outside the HPLMN
Country (BICroam)
No interaction.
If BICroam is active and operative, the call is barred in the HLR during
routing interrogation. The interaction is therefore the same as with BAIC.
#### 8.1.7.3 Barring of all Outgoing Calls (BAOC)
No interaction.
The originating MSC checks whether the call shall be barred before triggering
any CAT service, i.e. CAT-A is not invoked for calls being subject to BAOC.
#### 8.1.7.4 Barring of Outgoing International Calls (BOIC)
No interaction. Same as with BAOC.
#### 8.1.7.5 Barring of Outgoing International Calls except to HPLMN Country
(BOICexHC)
No interaction. Same as with BAOC.
### 8.1.8 Closed user group
No interaction.
The _Closed user group interlock code_ is not impacted by the CAT service.
They are forwarded to the called party as received from the calling party.
NOTE: In the CAT Server switch architecture, the CAT Server shall forward the
_Closed user group interlock code_ with no modification.
### 8.1.9 User to User signalling
No interaction.
The _User-to-user indicators and User-to-user information_ is not impacted by
the CAT service. They are forwarded to the called/calling party as received
from the calling/called party.
NOTE: In the CAT Server switch architecture, the CAT Server shall forward _the
User-to-user indicators and the User-to-user information_ with no
modification.
### 8.1.10 Advice of charge
For alternatives sending CONNECT message after the called party answers the
call, the CAT service does not affect the timepoint for MSC to send and
receive the AoC related messages such as CONNECT, FACILITY.
For alternatives using CONNECT message already in the alerting phase the
CONNECT message should include AoC parameters indicating the correct charging
information for the CAT phase. When the call is answered the originating MSC
Server receives the ANM message. The originating MSC server should then send
an additional FACILITY message indicating AOC charging information for the
call.
Since the call charging remains independent from the CAT charging, the CAT
charging does not need to be notified to the calling/called parties in the
AoC\'s charging information.
### 8.1.11 Voice group call service (VGCS), Voice broadcast service (VBS)
Voice group call service (VGCS) and Voice broadcast service (VBS) is only for
speech calls and there is no interaction with CAT service.
## 8.2 Interaction with other services and functions
### 8.2.1 CAMEL services
### 8.2.2 Lawful Interception
CAT may contain a personal message and it therefore comes down under the scope
of interception.
Editor\'s Note: an LS has been sent to SA3-LI to confirm whether CATs should
be intercepted, and if yes, to clarify which exact requirements should be
supported for the CAT service.
### 8.2.3 Operator determined barring
No interaction.
### 8.2.4 Unstructured Supplementary Service Data (USSD)
No interaction.
### 8.2.5 Carrier selection
The CAT service shall not affect the selection of the carrier preferred by the
subscriber for calls requiring routing via an inter-exchange carrier.
In the CAT Server switch architecture, where the call is routed through the
CAT Server, the originating MSC (for CAT-A service) and GMSC (for CAT-B
service) shall indicate the carrier preferred by the subscriber in the
outgoing IAM message sent to the CAT Server through the called party number or
the ISUP Transit Network Selection IE. The CAT Server should then route the
outgoing call according to the preferred carrier.
The other CAT architectures do not interact with Carrier selection.
### 8.2.6 DTMF
For speech calls, DTMF sending shall be performed as specified in 3GPP TS
23.205 [3] or 3GPP TS 23.231 [10].
DTMF sending during multimedia calls is not currently permitted by 3GPP. 3GPP
TS 23.014 [9] says : \"The use of DTMF is only permitted when the speech
teleservice is being used or during the speech phase of alternate speech/data
and alternate speech/facsimile teleservices. The responsibility for checking
this lies in the MS\".
It is proposed to allow DTMF sending during multimedia calls for the purpose
of CAT copy/stop commands.
However, since the (G)MSC in all CAT architectures except the (G)MSC Server
bridge architecture, and intermediary nodes can not insert in-band information
into the end-to-end video stream, transmission of DTMF from the calling UE to
the CAT Server during a multimedia call can only rely on the following
approaches:
  * The calling UE transmits the DTMF to the CAT Server in-band within the H.245 signalling stream via the UserInputIndication message, as per ITU H.245[8]; or
  * The calling UE sends the DTMF to the CAT Server out-of-band end end to end. This approach would however not allow DTMF transmission if end to end DTMF out of band signaling is not possible, e.g. if an ISUP leg exists in the path between the calling UE and CAT Server.
It is therefore proposed that multimedia capable UEs support, as a recommended
option, the transmission of DTMFs during multimedia call through the H.245
UserInputIndication message.
### 8.2.7 Optimal routeing
In the (G)MSC Server switch architecture and (G)MSC Server bridge
architectures, the GMSC shall, upon receipt of a MAP \"RESUME CALL HANDLING\"
message, follow procedures similar to those specified in sub-clause 8.1.2 for
the call forwarding services, with the exception of the Optimal Routing
handling. In particular, the GMSC may interrupt the CAT-B of the original
called party if were already started to be played towards the calling party,
and may start instead the CAT-B of the forwarded-to party.
Editor\'s Note : How the interaction is handled in other architectures is ffs.
### 8.2.8 SCUDIF
### 8.2.9 TFO / TrFO
## 8.3 Interaction with charging
The operator shall be able to charge for the CAT service according to the
different charging mode, as per 3GPP TS 22.182 [2] and table 8.3.1.
Table 8.3.1: CAT charging modes
+-------+------------------------+-----------------------------+ | Index | Charging mode | Example | +-------+------------------------+-----------------------------+ | 1 | Service monthly fee | Fixed (for example monthly) | | | | expense for the CAT | | | | service. | +-------+------------------------+-----------------------------+ | 2 | Fee of purchasing CAT | A subscriber is charged by | | | | the system when he | | | | purchases CAT, including | | | | copying CAT. | +-------+------------------------+-----------------------------+ | 3 | Fee of configuring CAT | A subscriber may be charged | | | | by the system when he set | | | | his CAT or updates his CAT | | | | setting. | +-------+------------------------+-----------------------------+ | 4 | Fee per CAT usage | Advertising CAT. | | | | | | | | High/low quality CAT | +-------+------------------------+-----------------------------+
CAT-A/CAT-B charging is handled separately by the CAT server, i.e. the CAT
server is responsible for generating charging tickets e.g. upon CAT purchase,
configuration or usage, as specified above. I.e. no specific charging
evolutions are expected from (G)MSC servers to allow CAT charging.
The (G)MSC server shall generate the CDRs as per current 3GPP requirements.
There is no particular charging issue for speech calls. Video CAT could
potentially cause a specific charging issue because it requires to setup a
both-way bearer through connection from the calling party to the CAT server
before the call is answered by the called party. To avoid charging a calling
party for an unanswered call with CAT-A/CAT-B being played (i.e. to avoid
generating in the originating MSC and (G)MSC CDRs containing the information
that the call is answered) :
  * the CAT Server in the (G)MSC Server switch architecture and the (G)MSC Server bridge architecture should either not return an ANM message to the (G)MSC ; otherwise the (G)MSC Server shall not pass it back to the originating network, but instead generate an ACM or CPG.
  * the CAT Server in the CAT Server switch architecture shall never return an ANM message to the originating MSC prior to the call being answered by the called or forwarded-to party. Besides, the originating MSC shall consider the call as answered only upon receipt of the ANM message (for calls other than intra-MSC calls) or upon receipt of the CONNECT message of the called party (for intra-MSC calls), i.e. and not when it sends the CONNECT message to the originating UE (which occurs beforehand to establish the multimedia session towards the CAT server).
## 8.4 Interaction with H.245 and MONA call setup time
### 8.4.1 Video session setup time impacts over the CAT service
The time elapsed to establish a video session significantly affects the end
user\'s perception of the video CAT service. The video session setup time
should be minimized so that it is much smaller than the average time taken by
the called party to answer the call to make the video CAT service worthwhile.
In addition, in the (G)MSC Server switch architecture, the multimedia call
towards the called party is established in sequence after the release of the
first multimedia call towards the CAT server. This introduces a period during
which no video is further diplayed by the calling party. The time to establish
the multimedia session towards the called party should therefore also be
minimized.
Few seconds are typically required to setup a H.324m session. The actual
duration depends on the radio error conditions and each H.324m implementation
(e.g. how the H.245 messages are grouped together, whether WNSRP -Windowed
Simple Retransmission protocol - is supported or not ...), but is typically
greater or equal to 3-5 seconds (possibly significantly greater), because of
the numerous exchanges required by H.245 (H.223 multiplexer level detection,
Terminal Capability Exchange, Master-Slave Determination, Open Logical
Channels, Multiplexer Table Entries exchange). Once the multimedia session is
setup, time is also required to transfer the media itself, in particular the
Initial video frame.
The H.324m video session time is much reduced and typically reduced down to
around 1 second by the Media Oriented Negotiation Acceleration procedures
specified in ITU-T H.324 Annex K [7], by substantially reducing the number of
exchanges during the video session setup and by starting media sending during
the media session setup itself.
[y] already recommends terminals to implement MONA procedures.
CAT Servers should also be highly recommended to support MONA procedures.
### 8.4.2 CAT service impacts over the end to end call setup time
The CAT service should not negatively affect the end to end call setup time,
as if no CAT were sent at all.
In the (G)MSC Server switch architecture, the time to release the video
session between the calling party and the CAT server shall be shortened as
much as feasible. Therefore upon receipt of the indication that the called
party answered the call, the (G)MSC shall send the ANM message (or CONNECT
message) towards the calling party as soon as the connection towards the CAT
Server is released successfully, as illustrated in in section 7.1.3.2.
In the CAT Server switch architecture and in the (G)MSC Server bridge
architecture, where two H.245 call setups are cascaded, the node bridging the
two H.245 calls (respectively the CAT Server and the (G)MSC Server) should
support MONA to ensure that the end to end time setup is not increased when
both the calling and called parties support MONA.
In the CAT Server switch architecture, the end to end delay may also be
increased because of the need to route the call through the CAT Server, e.g. a
call between 2 end users in close vicinity may be routed through the CAT
Server, instead of being through-connected locally on the same MSC/MGW.
# 9 Interworking with other networks
Editor\'s Note: This sub-clause will address interworking of CAT services with
other domains, e.g. IMS. Aspects that are speficic to a given alternative, if
any, will be documented in dedicated sub-clauses.
# 10 Technical analysis &architectures assessment
## 10.1 General technical considerations
### 10.1.1 Triggering of the H.245 call setup towards the CAT Server
#### 10.1.1.1 Problem description
Two different approaches are considered in the Technical Report to trigger the
H.245 negotiation from the originating UE to the CAT Server for video CAT:
  * Approach 1 : the H.245 negotiation with the CAT Server is initiated by the originating UE upon receipt of the ALERTING or CALL PROGRESS message. Upon subsequent receipt of the CONNECT message, the originating UE releases the H.245 call to the CAT server and starts a new H.245 negotiation with the called party. This is the approach retained currently e.g. in the (G)MSC Server switch architecture and in the (G)MSC Server bridge architecture.
  * Approach 2 : the H.245 negotiation with the CAT Server is initiated by the originating UE upon receipt of the CONNECT message. Once the called party picks up the call, a new H.245 negotiation takes place between the CAT Server B and the called party, without involving the originating UE. This is the approach retained currently e.g. in the CAT Server switch architecture and in the CAT Server switch architecture with routing back to the GMSC Server.
#### 10.1.1.2 Analysis
1/ It is desirable to be able to offer CAT services to non CAT capable UEs.
Approach 1 does not allow this.
2/ As per 3GPP TS 24.008 sub-clause 9.3.5.1, the CONNECT message is used \"to
indicate call acceptance by the called user\". As such, this message should
normally be sent to the calling UE only once the called party picks up the
call. In the approach 2, this would not be the case since the CONNECT message
would be sent during the alerting phase.
3/ One motivation to divert the normal protocol usage of the CONNECT message
in the approach 2 is to try to avoid impacting handsets, and therefore try to
allow support of video CAT services by non CAT capable UE. This however relies
on the assumption that the H.245 call with the CAT Server will always be
successfully setup and maintained during its entire duration since a failure
of the H.245 call would lead those non CAT capable UE to abort the complete
call. The following reasons might in practice prevent the successful setup of
the H.245 call towards the CAT Server :
  * scenarios where an end to end bothway through-connection would not be ensured between the UE and the CAT Server during the alerting phase.
A both-way through connection is required by the following specifications :
3GPP TS 23.205 sub-clause 6.2.1.1.6 requires that the GMSC both-way through-
connects the bearer during the alerting phase.
ITU-T Q.764 sub-clause 2.1.1.2.c requires an intermediate node to bothway
through-connects the bearer during the alerting phase
However a both-way through connection is not required during the alerting
phase in the following specification.
ANSI ISUP T1.113-2000 sub-clause 2.1.1.2 allows delaying the bothway through-
connection until receipt of ACM or CPG with an interworking indicator or the
_User-Network Interaction Indicator_ in the Optional Backward Call Indicator
indicating \'_user network interaction occurs, cut through_ in _both
directions\'_ or receipt of ANM, as per following excerpt. Though the User-
Network Interaction IE could be sent by GMSC in pure ANSI network, it is not
ensured that this would be set in case of calls spanning over ANSI and ITU
networks.
> 2.1.1.2 Actions required at an intermedia exchange
>
> [...]
>
> 3) Completion of transmission path: For a speech, 3.1 kHz audio, or UDI-TA
> call, through connection of the transmission path in the backward direction
> shall be completed at an intermediate exchange no later than at receipt of
> an Address Complete Message (see 2.1.4.2).
>
> For any call, through connection in both directions shall be completed no
> later than at receipt of an interworking or answer indication (see 2.1.4.2).
>
> 4A.6.2 Actions at an intermedia exchange
>
> Clause 2.1.4.2 shall apply.When the User-Network Interaction indicator
> indicates \"user-network interaction occurs, cut through in both
> directions\', the exchange shall through connect the transmission paths in
> both connections, if not already connected. [...]
Non-standard implementations may not also bothway through-connect the bearer
during the alerting phase. Implementations deviating from this were already
encountered.
However a both-way through-connection during the alerting phase could normally
be ensured within the PLMNs of operators supporting the CAT service (products
under operator\'s control, CAT can be delivered to the calling party only if
both originating and terminating PLMNs support CAT). This may not be ensured
when the call between the calling party and the CAT server goes through a
transit network (products not under operators\' control) or through non
standard implementations.
  * Scenarios with CAT Server misbehaviours (e.g. node failure, signalling or bearer failure ...) could also lead to prevent the successful setup of the multimedia call between the calling party and CAT Server, or lead to the failure of the call after its establishment.
It was agreed that, with the approach 2, the call from the calling party to
the called party would fail upon occurrence of an error during the setup of
the H.245 call between the calling UE and the CAT Server, or during the
lifetime of this H.245 connection with the CAT Server (i.e. during the
alerting phase of the call).
However it could not be agreed whether this is a frequent problem or not, and
therefore whether this is a serious problem or not.
In comparison, the approach 1 requires the (impacted) UE to not abort the
complete call if a failure occurs during the alerting phase, and to restart a
new H.245 call setup towards the called party upon receipt of the CONNECT
message. I.e. approach 1 is resilient to H.245 call failure towards the CAT
Server.
Editor\'s Note: the exact behaviour of the UE upon occurrence of a H.245
failure is ffs, e.g. how long does it take for the UE to drop the call after a
H.245 failure, or whether the UE could be configured to re-attempt several
times to re-establish the H.245 call.
The drawback of approach 1 is that this requires new multimedia capable UEs to
receive video CAT, but changes are anyway expected to satisfy also other
requirements, e.g. the sending of DTMF during the multimedia session to stop
or copy an on-going CAT.
#### 10.1.1.3 Conclusion
It is for further study whether :
  * a mix of both approaches could be retained. The originating MSC could use the approach 2 with non CAT capable UEs and the approach 1 with new CAT capable UEs, according to the UE capabilities reported to the network.
  * the choice of the method could be decided on a per local operator policy.
  * it could be envisaged to limit the use of approach 2 to scenarios for which an end to end both way through connection is guaranteed between the calling UE and CAT Server, e.g. in scenarios where the originating MSC and GMSC are co-located.
## 10.2 Comparison of the different alternatives
### 10.2.1 Technical impacts
Table 10.2.1.1: technical impacts on speech CAT for each alternative
* * *
alternative UE O-MSC GMSC T-MSC MGW Protocol miscellaneous (G)MSC Server
switch architecture None Provides the Originating party configured CAT service
Provides the terminating party configured CAT service None None  
CAT Server switch architecture None Routing the call to the CAT server for the
calling party configured CAT service Routing the call to the CAT server for
the called party configured CAT service None None  
CAT Server switch architecture with routing back to GMSC Server  
(G)MSC Server switch architecture use based on UE capabilities  
Terminating MSC Server switch architecture  
(G)MSC Server bridge architecture Same as "(G)MSC Server switch architecture".
* * *
Table 10.2.1.2: technical impacts on multimedia CAT for each alternative
+-------+-------+-------+-------+-------+-------+-------+-------+ | a | UE | O-MSC | GMSC | T-MSC | MGW | Pro | mis | | ltern | | | | | | tocol | cella | | ative | | | | | | | neous | +-------+-------+-------+-------+-------+-------+-------+-------+ | ( | More | Ind | Ind | None | None | NAS-s | the | | G)MSC | than | icate | icate | | | ignal | call | | S | one | the | the | | | ling: | setup | | erver | H.245 | ca | O-MSC | | | S | time | | s | n | lling | that | | | etup, | is | | witch | egoti | party | "in | | | Ale | incr | | ar | ation | for | -band | | | rting | eased | | chite | is | mul | info | | | | by | | cture | req | tiple | is | | | | the | | | uired | round | avail | | | | dur | | | | H.245 | able" | | | | ation | | | | n | in a | | | | of | | | | egoti | multi | | | | re | | | | ation | media | | | | lease | | | | d | call | | | | the | | | | uring | for | | | | first | | | | the | the | | | | H.245 | | | | ale | CAT | | | | conne | | | | rting | media | | | | ction | | | | and | pl | | | | | | | | a | aying | | | | | | | | ctive | | | | | | | | | phase | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | CAT | None | Ro | Ro | None | None | | | | S | | uting | uting | | | | | | erver | | the | the | | | | | | s | | call | call | | | | | | witch | | to | to | | | | | | ar | | the | the | | | | | | chite | | CAT | CAT | | | | | | cture | | s | s | | | | | | | | erver | erver | | | | | | | | for | for | | | | | | | | the | the | | | | | | | | ca | c | | | | | | | | lling | alled | | | | | | | | party | party | | | | | | | | confi | confi | | | | | | | | gured | gured | | | | | | | | CAT | CAT | | | | | | | | se | se | | | | | | | | rvice | rvice | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | CAT | | C | | | | NAS-s | | | S | | onnec | | | | ignal | | | erver | | t/Ale | | | | ling: | | | s | | rting | | | | S | | | witch | | se | | | | etup, | | | ar | | nding | | | | Ale | | | chite | | based | | | | rting | | | cture | | on | | | | | | | with | | CAT | | | | | | | ro | | ca | | | | | | | uting | | pable | | | | | | | back | | UE | | | | | | | to | | | | | | | | | GMSC | | | | | | | | | S | | | | | | | | | erver | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | ( | b.) | b | b.)MA | | | a) | | | G)MSC | c.) | .)c.) | P:ATI | | | CAMEL | | | S | More | C | | | | | | | erver | than | onnec | | | | b | | | s | one | t/Ale | | | | .)c.) | | | witch | H.245 | rting | | | | NAS-s | | | ar | n | se | | | | ignal | | | chite | egoti | nding | | | | ling: | | | cture | ation | based | | | | Setup | | | use | is | on | | | | (Clas | | | based | req | CAT | | | | smark | | | on UE | uired | ca | | | | 2), | | | ca | | pable | | | | Ale | | | pabil | | UE | | | | rting | | | ities | | | | | | | | | | | | | | | | | | a.) | | | | | | | | | Se | | | | | | | | | ssion | | | | | | | | | reset | | | | | | | | | su | | | | | | | | | pport | | | | | | | | | | | | | | | | | | b.) | | | | | | | | | SETUP | | | | | | | | | /OSS | | | | | | | | | code | | | | | | | | | | | | | | | | | | c.) | | | | | | | | | SETUP | | | | | | | | | / | | | | | | | | | CAMEL | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | T | | | | | | | | | ermin | | | | | | | | | ating | | | | | | | | | MSC | | | | | | | | | S | | | | | | | | | erver | | | | | | | | | s | | | | | | | | | witch | | | | | | | | | ar | | | | | | | | | chite | | | | | | | | | cture | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | ( | None | inv | inv | None | inv | | | | G)MSC | | olved | olved | | olved | | | | S | | in | in | | in | | | | erver | | the | the | | the | | | | b | | H.245 | H.245 | | H.245 | | | | ridge | | n | n | | n | | | | ar | | egoti | egoti | | egoti | | | | chite | | ation | ation | | ation | | | | cture | | for | for | | | | | | | | the | the | | | | | | | | ca | c | | | | | | | | lling | alled | | | | | | | | party | party | | | | | | | | confi | confi | | | | | | | | gured | gured | | | | | | | | CAT | CAT | | | | | | | | se | se | | | | | | | | rvice | rvice | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Editor\'s Note: this table is based on the analysis of CAT-B. Similar
comparison can be applied to CAT-A.
### 10.2.2 Pros & cons
Table 10.2.2.1: pros and cons for each alternative
+----------------------+----------------------+----------------------+ | alternative | Pros | cons | +----------------------+----------------------+----------------------+ | (G)MSC Server switch | 1) The (G)MSC | 1) No multimedia | | architecture | server and MGW is | CAT during the | | | not needed to be | second H.245 | | | involved into the | negotiation, MONA is | | | H.245 negotiation | able to shorten this | | | and less impact on | period if it is | | | the (G)MSC server | supported by both | | | and the MGW | the calling party | | | | and called party UE | | | 2) The CAT Server | | | | does not remain in | 2) Cannot provide | | | call, pooling of CAT | the CAT service to | | | server resources is | non CAT capable UE. | | | possible. | | +----------------------+----------------------+----------------------+ | CAT Server switch | 1) CAT service may | 1) The CAT server | | architecture | be supported for non | remains in call, | | | CAT capable UE.NOTE1 | pooling of CAT | | | | server resources is | | | 2) The (G)MSC | not possible. | | | server and MGW is | | | | not needed to be | 2) The end to end | | | involved into the | service may be | | | H.245 negotiation | limited by the CAT | | | and less impact on | server multimedia | | | the (G)MSC server | capabilities (e.g. | | | and the MGW | supported codecs, | | | | MONA support) and | | | | CAT Server call | | | | control capabilities | | | | (e.g. negotiation of | | | | speech or multimedia | | | | at call setup | | | | (SCUDIF), change | | | | from multimedia to | | | | speech (and | | | | vice-versa) during | | | | on-going call, Nb | | | | bearers, 3GPP codec | | | | negotiation, SIP-I | | | | preconditions...), | | | | if some multimedia | | | | or 3GPP features are | | | | not supported by the | | | | CAT server. The CAT | | | | Server may also | | | | limit future | | | | applications or | | | | services not yet | | | | developped in the | | | | 3GPP CSCN. | | | | | | | | 3) Call may fail | | | | when providing CAT | | | | to non CAT capable | | | | UE. NOTE1. Besides, | | | | sending the CONNECT | | | | message to the (non | | | | CAT capable) calling | | | | UE before the call | | | | is accepted by the | | | | called user deviates | | | | from the normal call | | | | processing and | | | | therefore further | | | | impacts the | | | | MSC-Server. | | | | | | | | 4) Prevents optimal | | | | call routeing, | | | | optimized transport | | | | and MGW selection | | | | (CAT Server remains | | | | in call). | | | | | | | | 5) Extra signalling | | | | and user plane | | | | interworking | | | | required when CAT | | | | server | | | | signalling/transport | | | | differs from what is | | | | supported | | | | up | | | | streams/downstreams. | +----------------------+----------------------+----------------------+ | CAT Server switch | Same as for CAT | Same as for CAT | | architecture with | Server switch | Server switch | | routing back to GMSC | architecture, with | architecture, with | | Server | the following | the following | | | additions (if any). | additions (if any). | +----------------------+----------------------+----------------------+ | (G)MSC Server switch | 1) The CAT Server | 1) Same as for CAT | | architecture use | does not remain in | Server switch | | based on UE | call for CAT capable | architecture for non | | capabilities | UE. Pooling of CAT | CAT capable UE, with | | | server resources is | the following | | a.) Session reset | partially possible. | additions. | | support | | | | | 2) CAT service may | 2) For Session | | NOTE2 | be supported for non | reset support: | | | CAT capable UE.NOTE1 | solution relying on | | b.) SETUP /OSS code | | CAMEL phase 4 Call | | | 3) The (G)MSC | Party Handling is | | c.) SETUP /CAMEL | server and MGW is | complex to implement | | | not needed to be | (CAMEL phase 4 not | | | involved into the | widely available | | | H.245 negotiation | yet) and involves a | | | and less impact on | high increase of | | | the (G)MSC server | (G)MSC Server | | | and the MGW | signalling which | | | | will noticeable | | | 4) For Session | affect the (G)MSC | | | reset support: no | capacity. | | | change to UE-MSC | | | | Interface | 3) For CAT capable | | | | UEs/session reset | | | | support: No | | | | multimedia CAT | | | | during the second | | | | H.245 negotiation, | | | | MONA is able to | | | | shorten this period | | | | if it is supported | | | | by both the calling | | | | party and called | | | | party UE | +----------------------+----------------------+----------------------+ | Terminating MSC | 1) The CAT Server | 1) no support of | | Server switch | does not remain in | CAT-A service. | | architecture | call, pooling of CAT | | | | server resources is | 2) no support of | | | possible. | CAT-B service when | | | | the called party is | | | 2) The terminating | roaming in a VPLMN. | | | MSC server and MGW | | | | is not needed to be | | | | involved into the | | | | H.245 negotiation | | | | and less impact on | | | | the MSC server and | | | | the MGW | | +----------------------+----------------------+----------------------+ | (G)MSC Server bridge | 1) CAT service may | 1) GMSC server and | | architecture | be supported for non | MGW impacts as being | | | CAT capable UE. | involved in the | | | NOTE1 | H.245 negotiation. | | | | | | | 2) Multimedia CAT | 2) Call may fail | | | during the H.245 | when providing CAT | | | negotiation with | to non CAT capable | | | called party | UE. NOTE1 | | | | | | | 3) The CAT Server | 3) MGW capacity | | | does not remain in | impact : bridging of | | | call, pooling of CAT | 2 H.245 calls for | | | server resources is | each multimedia call | | | possible. | with CAT, for the | | | | entire duration of | | | | the call. | +----------------------+----------------------+----------------------+ | NOTE1: if the bearer | | | | is not bothway | | | | through connected | | | | during the alerting | | | | phase, and the O-MSC | | | | requests the calling | | | | party UE to connect | | | | to CAT server, the | | | | call will fail | | | | because of the H.245 | | | | negotiation. This | | | | may occur when the | | | | call goes through a | | | | transit network | | | | between the calling | | | | party and the CAT | | | | server or through | | | | non standard | | | | implementations, See | | | | subclause 10.1.1. | | | | | | | | NOTE2: It needs to | | | | be further checked | | | | If the session reset | | | | can be used in this | | | | way. | | | +----------------------+----------------------+----------------------+
# 11 Conclusions and recommendations
## 11.1 Feasibility & Limits of CAT services in the CS domain
Through the preceding technical investigation within this technical report, it
is concluded that:
  * \- Providing audio CAT-A and CAT-B services in the CS domain > indicating that the called party is being alerted is possible. > Providing audio CAT has no requirement on the calling party UE.
  * \- Providing multimedia CAT-A and CAT-B services in the CS domain > indicating that the called party is being alerted is possible with > UEs enhanced with CAT capabilities. The calling party may not be > able to experience the multimedia CAT when the call spans over > ANSI and ITU networks or traverses non-standard transit nodes that > do not both-way through connect the bearer during the alerting > phase.
> Solutions to provide multimedia CAT in the CS domain towards a non CAT
> capable UE may work but in some cases the call will fail (if the end to end
> bearer is not both-way through-connected during the alerting phase) due to
> H.245 signalling being unsuccessful.
>
> Some companies expressed the view that supporting CAT services towards non-
> CAT capable UEs is required and that the CAT Server Switched architecture
> may be used for this purpose, on a per operator\'s policy, provided an end
> to end both-way through-connection can be ensured between the calling party
> and the CAT Server. Those companies have the concern that if only CAT-
> capable UEs are supported, the introduction of CAT services in a network
> will be unnecessarily delayed. It can not be foreseen that all the
> multimedia UE will be updated to be CAT capable. Once the called party
> activates the CAT service, the subscriber will expect the calling party user
> experience his CAT, independently if the calling party UE is CAT capable or
> not. Those companies recommend to operators that want to support multimedia
> CAT for non-CAT capable UEs to follow the solutions in this technical report
> which offer support for non-CAT capable UEs.
>
> Other views were expressed that any standardisation work on the CAT Server
> Switched architecture should be discontinued since the solution cannot
> guarantee consistent behaviour, requires changes to the existing MSC-UE call
> handling, prevents pooling of CAT resources and limits multimedia calls --
> both before and after the CAT phase - due to the permanent involvement of
> the CAT server and MGW. Those companies also considered that UEs are
> evolving and if a subscriber wants to receive multimedia CAT service then
> there is an additional market force for new terminals that support this, the
> type of user that demands this service changes their terminals more quickly
> than the network can be upgraded. The changes to the terminal are small
> compared to the network impacts for either solution.
\- The CAT copy and CAT stop commands can be supported through the use of DTMF
within the same PLMN (as per the stage 1 requirements). CAT can only be copied
between calling and called subscribers of the same PLMN since no interface is
standardized to copy CAT between CAT Servers. The CAT copy and CAT stop
requests for an audio CAT may not work between PLMNs when the call spans over
ANSI and ITU networks or traverses non-standard transit nodes that do not
both-way through connect the bearer during the alerting phase.
Further analysis would be required to consider whether the following
customized alerting tones could be supported:
**\- the progress of communication request (Call Forward, Call Wait etc.);**
\- any alerting event during a call session.
CAT is an optional feature for an operator to deploy. CAT services shall not
have an impact on a network that does not support CAT service.
## 11.2 Preferred solution(s)
### 11.2.1 Audio CAT
The preferred solution is to use the GMSC Server Switched Architecture.
### 11.2.2 Multimedia CAT
The preferred solution is to use the GMSC Server Switched Architecture with
multimedia UEs enhanced with CAT capabilities. CAT is an optional feature for
an operator to deploy. If it is deployed, it is recommended that multimedia
UEs support CAT capabilities.
If an operator's policy is to support CAT service towards the calling party
multimedia UE which has not been enhanced with CAT capabilities, the CAT
Server Switch architecture may be used in this case, however due to the number
of limitations there was no consensus to pursue this alternative as a
standardised solution.
### 11.2.3 Signalling of calling UE\'s CAT capability to the GMSC
The calling UE\'s CAT capability should be signalled to the GMSC. This may be
done either via the signalling of a new specific CAT indicator through the
call control signalling protocol (ISUP/BICC/SIP-I) or via the interrogation of
the originating MSC through the MAP Anytime Interrogation / Provide Subscriber
Info messages. No objection was raised to further study either approach during
the normative work.
The method taking use of UEs session reset capability and transporting this
information from the CAT-server to the GMSC Server requires a complex CAMEL
4-architecture and should therefore not be pursued.
## 11.3 Way forward
It is recommended to 3GPP that the necessary detail within this report be used
as a basis for further technical work within the Release 8 timeframe. It is
further recommended that changes required by the GMSC Server switch
architecture be specified within existing specifications as defined within
Annex A.
###### ## Annex A (informative): Impacts to Existing Specifications
Table A.1 identifies the existing specifications that require modification to
support CAT in the 3GPP CS domain.
Table A.1
+-------------------------+----------------+-------------------------+ | Existing Specification | Responsible WG | Brief summary of | | | | impacts | +-------------------------+----------------+-------------------------+ | 3GPP TS 24.008 | CT1 | Addition of new | | | | terminal capabilities | | | | for CAT capable UEs | | | | (multiple H.245 call | | | | negotiations, | | | | transmission of DTMFs | | | | during multimedia call | | | | through the H.245 | | | | UserInputIndication | | | | message). | | | | | | | | Modify contents of NAS | | | | signalling to allow CAT | | | | capable UE to report | | | | its CAT capabilities to | | | | the MSC, and to allow | | | | the MSC to request UE | | | | to initiate a | | | | multimedia CAT call | | | | (H.324M connection | | | | during the alerting | | | | phase). | +-------------------------+----------------+-------------------------+ | 3GPP TS 23.205 | CT4 | Modify procedures to | | | | allow the originating | | 3GPP TS 23.231 | | MSC to both-way | | | | through-connect a | | | | multimedia call during | | | | the alerting phase. | | | | | | | | Modify call control | | | | signalling to carry CAT | | | | indicators (note): | | | | | | | | for the GMSC to know | | | | whether it can initiate | | | | CAT service | | | | | | | | for the originating MSC | | | | to know whether CAT is | | | | provided downstreams | | | | | | | | to allow CAT-A/CAT-B | | | | priority | +-------------------------+----------------+-------------------------+ | 3GPP TS 29.002 | CT4 | ATI from GMSC to HLR-A | +-------------------------+----------------+-------------------------+ | 3GPP TS 23.014 | CT1 | Allows DTMF sending | | | | during multimedia | | | | calls. | +-------------------------+----------------+-------------------------+ | Note: Might also | | | | require ISUP/BICC | | | | signalling evolutions | | | | which are out of the | | | | scope of 3GPP. | | | +-------------------------+----------------+-------------------------+
Table A.2 identifies the new specifications that are required to support CAT
in the 3GPP CS domain.
Table A.2
* * *
New Specification Responsible WG Brief summary of impacts None
* * *
#