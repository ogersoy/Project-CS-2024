# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
3GPP acknowledges the contribution of the Parlay X Web Services specifications
from The Parlay Group. The Parlay Group is pleased to see 3GPP acknowledge and
publish the present document, and the Parlay Group looks forward to working
with the 3GPP community to improve future versions of the present document.
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document is part 6 of a multi-part deliverable covering the 3^rd^
Generation Partnership Project; Technical Specification Group Core Network and
Terminals; Open Service Access (OSA); Parlay X Web Services, as identified
below:
Part 1: \"Common\"
Part 2: \"Third party call\"
Part 3: \"Call Notification\"
Part 4: \"Short Messaging\"
Part 5: \"Multimedia Messaging\"
**Part 6: \"Payment\"**
Part 7: \"Account management\"
Part 8: \"Terminal Status\"
Part 9: \"Terminal location\"
Part 10: \"Call handling\"
Part 11: \"Audio call\"
Part 12: \"Multimedia conference\"
Part 13: \"Address list management\"
Part 14: \"Presence\"
Part 15: \"Message Broadcast\"
Part 16: \"Geocoding\"
Part 17: \"Application driven Quality of Service (QoS)\"
Part 18: \"Device Capabilities and Configuration\"
Part 19: \"Multimedia streaming control\"
Part 20: \"Multimedia multicast session management\"
Part 21: \"Content management\"
Part 22: \"Policy\"
# 1 Scope
The present document is Part 6 of the Stage 3 Parlay X Web Services
specification for Open Service Access (OSA).
The OSA specifications define an architecture that enables application
developers to make use of network functionality through an open standardized
interface, i.e. the OSA APIs. The concepts and the functional architecture for
the OSA are contained in 3GPP TS 23.198 [3]. The requirements for OSA are
contained in 3GPP TS 22.127 [2].
The present document specifies the Payment Web Service aspects of the
interface. All aspects of the Payment Web Service are defined here, these
being:
  * Name spaces.
  * Sequence diagrams.
  * Data definitions.
  * Interface specification plus detailed method descriptions.
  * Fault definitions.
  * Service policies.
  * WSDL Description of the interfaces.
The present document has been defined jointly between 3GPP TSG CT WG5, ETSI
TISPAN and The Parlay Group.
Maintenance of up to 3GPP Rel-8 and new OSA Stage 1, 2 and 3 work beyond Rel-9
was moved to OMA in June 2008.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.127: \"Service Requirement for the Open Services Access (OSA);
Stage 1\".
[3] 3GPP TS 23.198: \"Open Service Access (OSA); Stage 2\".
[4] 3GPP TS 22.101: \"Service aspects; Service principles\".
[5] W3C Recommendation (2 May 2001): \"XML Schema Part 2: Datatypes\".
NOTE: Available at http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/.
[6] 3GPP TS 29.199-1: \"Open Service Access (OSA); Parlay X Web; Part 1:
Common\".
# 3 Definitions and abbreviations Services
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TS 29.199-1 [6] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TS
29.199-1 [6] apply.
# 4 Detailed service description
A vast amount of content, both information and entertainment, will be made
available to subscribers. To support a business model that enables operators
to offer integrated billing, a payment API is crucial. Open and inter-operable
\"payment APIs\" are the key to market growth and investment protection. The
Payment Web Service supports payments for any content in an open, Web-like
environment.
The Payment Web Service described in the present document supports payment
reservation, pre-paid payments, and post-paid payments. It supports charging
of both volume and currency amounts, a conversion function and a settlement
function in case of a financially resolved dispute.
Note that certain parameters are negotiated as part of a service level
agreement. For example the taxation procedures and parameters.
An example of an application scenario could be a multimedia service. Assume a
subscriber is interested in receiving a stream of, say, a soccer match. The
subscriber selects a match and establishes a trusted relation with the
provider. Again, the provider obtains the MSISDN and other information from
the subscriber. The subscriber wants to know what the service will cost and
the provider interacts with the operators rating engine (**getAmount**) taking
into account the subscriber\'s subscription, time of day, etc. The value
returned is a **ChargingInformation** amount and is printed on the page that
is displayed at the MS. The subscriber then decides to stream the match to his
MS. Subsequently, the provider will reserve the appropriate amount with the
operator (**reserveAmount**) to ensure that the subscriber can fulfil his
payment obligations. The match starts and the provider periodically charges
against the reservation (**chargeReservation**). The match ends in a draw and
is extended with a \'sudden death\' phase. The subscriber continues listening,
so the existing reservation is enlarged (**reserveAdditionalAmount**).
Suddenly, one of the teams scores a goal, so the match abruptly ends, leaving
part of the reserved amount unused. The provider now releases the reservation
(**releaseReservation**), and the remaining amount is available for future use
by the subscriber.
Now we can extend this scenario by having the subscriber participate in a game
of chance in which the provider refunds a percentage of the usage costs
(**refundAmount**) based on the ranking of a particular team in this
tournament. For example, the subscriber gambling on the team that wins the
tournament receives a full refund, while for gambling on the team that
finishes in second place, the refund is 50%, etc.
# 5 Namespaces
The AmountCharging interface uses the namespace:
> http://www.csapi.org/wsdl/parlayx/payment/amount_charging/v4_0
The VolumeCharging interface uses the namespace:
> http://www.csapi.org/wsdl/parlayx/payment/volume_charging/v4_0
The ReserveAmountCharging interface uses the namespace:
> http://www.csapi.org/wsdl/parlayx/payment/reserve_amount_charging/v4_0
The ReserveVolumeCharging interface uses the namespace:
> http://www.csapi.org/wsdl/parlayx/payment/reserve_volume_charging/v4_0
The data types are defined in the namespace:
> http://www.csapi.org/schema/parlayx/payment/v4_0
The \'xsd\' namespace is used in the present document to refer to the XML
Schema data types defined in XML Schema [5]. The use of the name \'xsd\' is
not semantically significant.
# 6 Sequence diagrams
## 6.1 Charge for content
Assume a subscriber is interested in downloading a ring tone to his device.
The subscriber selects a ring tone and establishes a trusted relation with the
ring tone provider. Essentially, the ring tone provider obtains the address
(MSISDN) and other information from the subscriber. The ring tone may be
downloaded to the device using SMS. As soon as the download succeeds, the
provider of the ring tone will charge the subscriber (**chargeAmount)**.
{width="6.166666666666667in" height="4.997916666666667in"}
Figure 6.1:
# 7 XML Schema data type definition
## 7.1 Void
## 7.2 SplitType structure
SplitType with an endUserIdentifier and percent.
* * *
Name Type Optional Description EndUserIdentifier xsd:anyURI No The end user\'s
account to be charged Percent xsd: Int No Specifies the allocation of the
total charge for this account. The sum of all allocations must equal 100. If
sum of percentage allocations is not equal to 100 a service exception
(SVC0271) will be thrown. The value of percentage should be positive.
* * *
# 8 Web Service interface definition
## 8.1 Interface: AmountCharging
Charge operations by currency amount.
### 8.1.1 Operation: ChargeAmount
This message results in directly charging to the account indicated by the end
user identifier. The charge is specified as a ChargingInformation, consisting
of information on the amount to be charged and a description to appear on the
bill and optionally references to individual operations relevant to the
charging. The reference code is used to uniquely identify the request; it is
the application\'s responsibility to provide a unique reference code within
the scope of the application.
#### 8.1.1.1 Input message: ChargeAmountRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account to be charged charge
parlayx_common_xsd:ChargingInformation No Information on the charge to be
made. In the ChargingInformation the first entry of the Description list is
information to appear on the bill, while additional entries (if any) can be
references to individual operations relevant to the charging. The amount to be
charged appears either directly in the amount-field or as code in the code-
field. If both these two fields are missing or empty a service exception
(SVC0007) will be thrown. The currency-field, if used, holds the currency to
be used for the charging. referenceCode xsd:string No Textual information to
uniquely identify the request, e.g. in case of disputes
* * *
#### 8.1.1.2 Output message: ChargeAmountResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.1.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0007 - Invalid charging information
  * SVC0270 - Charge failed.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0012 - Too many description entries specified.
### 8.1.2 Operation: RefundAmount
This message results in directly applying a refund to the account indicated by
the end user identifier. The refund is specified as a currency amount. The
billing text field is used for textual information to appear on the bill. The
reference code is used to uniquely identify the request; it is the
application\'s responsibility to provide a unique reference code within the
scope of the application.
#### 8.1.2.1 Input message: RefundAmountRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account to be refunded charge
parlayx_common_xsd:ChargingInformation No Information on the charge to be
refunded. In the ChargingInformation the first entry of the Description list
is information to appear on the bill, while additional entries (if any) can be
references to individual operations relevant to the refund. The charge to be
refunded appears either directly in the amount-field or as code in the code-
field. If both these two fields are missing or empty a service exception
(SVC0007) will be thrown. The currency-field, if used, holds the currency to
be used for the charging. referenceCode xsd:string No Textual information to
uniquely identify the request, e.g. in case of disputes
* * *
#### 8.1.2.2 Output message: RefundAmountResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.2.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0270 - Charge failed.
  * SVC0007 - Invalid charging information
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0012 -- Too many description entries specified.
### 8.1.3 Operation: ChargeSplitAmount
This message results in directly charging to multiple accounts indicated by
multiple end user identifiers simultaneously(e.g. multi-user games or
conferences). Each account is specified by two parameters(endUserIdentifier
and percent). The charge is specified as a ChargingInformation, consisting of
information on the amount to be charged and a description to appear on the
bill. The reference code is used to uniquely identify the request; it is the
application\'s responsibility to provide a unique reference code within the
scope of the application.
#### 8.1.3.1 Input message: ChargeSplitAmountRequest
* * *
Part name Part type Optional Description splitInfo SplitType[1..unbounded] No
Multiple sets of endUserIdentifier and percent element are specified charge
parlayx_common_xsd:ChargingInformation No Information on the charge to be
made. In the ChargingInformation the first entry of the Description list is
information to appear on the bill, while additional entries (if any) can be
references to individual operations relevant to the charging. The amount to be
charged appears either directly in the amount-field or as code in the code-
field. If both these two fields are missing or empty a service exception
(SVC0007) will be thrown. The currency-field, if used, holds the currency to
be used for the charging. referenceCode xsd:string No Textual information to
uniquely identify the request, e.g. in case of disputes
* * *
#### 8.1.3.2 Output message: ChargeSplitAmountResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.3.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0007 - Invalid charging information.
  * SVC0270 - Charge failed.
  * SVC0271 - Invalid sum of percentage allocations.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0012 -- Too many description entries specified.
  * POL0250 - Too many endUserIdentifiers.
  * POL0251 - Split charging not supported
## 8.2 Interface: VolumeCharging
Charging operations by volume.
### 8.2.1 Operation: ChargeVolume
This message results in directly charging to the account indicated by the end
user identifier. The charge is specified as a volume. The billing text field
is used for textual information to appear on the bill. The reference code is
used to uniquely identify the request; it is the application\'s responsibility
to provide a unique reference code within the scope of the application.
#### 8.2.1.1 Input message: ChargeVolumeRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account to be charged volume xsd:long No The volume to be charged
billingText xsd:string No Textual information to appear on the bill
referenceCode xsd:string No Textual information to uniquely identify the
request, e.g. in case of disputes parameters parlayx_common_xsd:NameValuePair
[0..unbounded] Yes Parameters to use to perform rating (\"unit\",
\"contract\", \"service\", \"operation\")
* * *
#### 8.2.1.2 Output message: ChargeVolumeResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.2.1.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0270 - Charge failed.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.2.2 Operation: GetAmount
This message results in converting the given volume to a currency amount. The
end user identifier is given to indicate the subscriber for whom this
conversion calculation must be made. The message returns a currency amount if
successful.
The following properties may be provided:
  * unit, specifying the unit used for measuring volume (e.g. bytes);
  * contract, number of a contract that may govern the use;
  * service, name of the service to be used (e.g. > SendMultimediaMessage);
  * operation, name of the operation to be used (e.g. SendMessage).
#### 8.2.2.1 Input message: GetAmountRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account to be charged volume xsd:long No The volume to be
converted parameters parlayx_common_xsd:NameValuePair [0..unbounded] Yes
Parameters to use to perform rating (\"unit\", \"contract\", \"service\",
\"operation\")
* * *
#### 8.2.2.2 Output message: GetAmountResponse
* * *
Part name Part type Optional Description result
parlayx_common_xsd:ChargingInformation No The conversion process results in
the return of ChargingInformation where the description amount and currency
fields must be filled.
* * *
#### 8.2.2.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.2.3 Operation: RefundVolume
This message results in directly applying a refund to the account indicated by
the end user identifier. The refund is specified as a volume. The billing text
field is used for textual information to appear on the bill. The reference
code is used to uniquely identify the request; it is the application\'s
responsibility to provide a unique reference code within the scope of the
application.
#### 8.2.3.1 Input message: RefundVolumeRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account to be refunded volume xsd:long No The volume to be
refunded billingText xsd:string No Textual information to appear on the bill
referenceCode xsd:string No Textual information to uniquely identify the
request, e.g. in case of disputes parameters parlayx_common_xsd:NameValuePair
[0..unbounded] Yes Parameters to use to perform rating (\"unit\",
\"contract\", \"service\", \"operation\")
* * *
#### 8.2.3.2 Output message: RefundVolumeResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.2.3.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0270 - Charge failed.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.2.4 Operation: ChargeSplitVolume
This message results in directly charging to multiple accounts indicated by
multiple end user identifiers simultaneously(e.g. multi-user games or
conferences). Each account is specified by two parameters(endUserIdentifier
and percent). The charge is specified as a volume. The billing text field is
used for textual information to appear on the bill. The reference code is used
to uniquely identify the request; it is the application\'s responsibility to
provide a unique reference code within the scope of the application.
#### 8.2.4.1 Input message: ChargeSplitVolumeRequest
* * *
Part name Part type Optional Description splitInfo SplitType[1..unbounded] No
Multiple sets of endUserIdentifier and percent element are specified Volume
xsd:long No The volume to be charged billingText xsd:string No Textual
information to appear on the bill referenceCode xsd:string No Textual
information to uniquely identify the request, e.g. in case of disputes
Parameters parlayx_common_xsd:NameValuePair [0..unbounded] Yes Parameters to
use to perform rating (\"unit\", \"contract\", \"service\", \"operation\")
* * *
#### 8.2.4.2 Output message: ChargeSplitVolumeResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.2.4.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0270 - Charge failed.
  * SVC0271 - Invalid sum of percentage allocations.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0250 - Too many endUserIdentifiers.
  * POL0251 - Split charging not supported.
## 8.3 Interface: ReserveAmountCharging
Operations to manage reservation charging by currency amount.
### 8.3.1 Operation: ReserveAmount
This message results in directly reserving an amount for an account indicated
by the end user identifier. The reservation is specified as
ChargingInformation. Note that reservations do not last forever; the duration
of a reservation is defined by a service policy. If the reservation times out,
the remaining funds will be returned to the account from which this
reservation was made. However, the remaining funds shall preferably be
returned explicitly to the account using the **releaseReservation** message.
The first entry of the Description list of the ChargingInformation is used for
textual information to appear on the bill. Subsequent textual information
provided as first entry of the Description list during this charging session
will be appended to this textual information; one charging session to a
reservation will result in only one entry on the bill. In case of success, a
reservation id is returned for future reference; e.g. subsequent charging
against the existing reservation using the **chargeReservation** message.
#### 8.3.1.1 Input message: ReserveAmountRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account subject to the reservation charge
parlayx_common_xsd:ChargingInformation No Information on the charge to be
reserved. In the ChargingInformation the first entry of the Description list
is information to appear on the bill, while additional entries (if any) can be
references to individual operations relevant to the charging.The charge to be
reserved appears either directly in the amount-field or as code in the code-
field. If both these two fields are missing or empty a service exception
(SVC0007) will be thrown. The currency-field, if used, holds the currency to
be used for the charging.
* * *
#### 8.3.1.2 Output message: ReserveAmountResponse
* * *
Part name Part type Optional Description result xsd:string No It is an
identifier for the newly created reservation
* * *
#### 8.3.1.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0007 - Invalid charging information
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0012 -- Too many description entries specified.
### 8.3.2 Operation: ReserveAdditionalAmount
This message results in the addition/reduction of a currency amount to/from an
existing reservation indicated by the reservation id. The reservation is
specified as a currency amount. Note that reservations do not last forever;
the duration of a reservation is defined by a service policy. Invoking this
message will extend the current reservation enforcement time by the duration
defined in the same service policy. The first entry of the Description list of
ChargingInformation is used for appending textual information to appear on the
bill. The textual information is appended to the initial textual information
given in the first entry of the Description list by the **reserveAmount**
message; one charging session to a reservation will result in only one entry
on the bill. Reserved credit can be returned to the account through the
**releaseReservation** message.
#### 8.3.2.1 Input message: ReserveAdditionalAmountRequest
+------------------+------------------+----------+------------------+ | Part name | Part type | Optional | Description | +------------------+------------------+----------+------------------+ | reser | xsd:string | No | An identifier | | vationIdentifier | | | for the | | | | | reservation to | | | | | be amended | +------------------+------------------+----------+------------------+ | > charge | > parlayx\ | > No | Information on | | | _common_xsd:Cha | | the charge to be | | | rgingInformation | | added to (or | | | | | subtracted from) | | | | | the reservation. | | | | | In the | | | | | Cha | | | | | rgingInformation | | | | | the first entry | | | | | of the | | | | | Description list | | | | | is information | | | | | to appear on the | | | | | bill, while | | | | | additional | | | | | entries (if any) | | | | | can be | | | | | references to | | | | | individual | | | | | operations | | | | | relevant to the | | | | | charging.The | | | | | charge to be | | | | | reserved appears | | | | | either directly | | | | | in the | | | | | amount-field or | | | | | as code in the | | | | | code-field. If | | | | | both these two | | | | | fields are | | | | | missing or empty | | | | | a service | | | | | exception | | | | | (SVC0007) will | | | | | be thrown. The | | | | | currency-field | | | | | is not | | | | | applicable: the | | | | | currency is | | | | | defined only | | | | | when the | | | | | reservation is | | | | | established | | | | | (i.e. the | | | | | ReserveAmount | | | | | operation is | | | | | invoked). | +------------------+------------------+----------+------------------+
#### 8.3.2.2 Output message : ReserveAdditionalAmountResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.3.2.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0007 - Invalid charging information
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0012 -- Too many description entries specified.
### 8.3.3 Operation: ChargeReservation
This message results in charging to a reservation indicated by the reservation
id. Reservations, identified by reservation id, are established through
invoking the **reserveAmount** message. The charge is specified as
ChargingInformation. The first entry of the Descritoin list of the
ChargingInformation is used for appending textual information to appear on the
bill. The textual information is appended to the initial textual information
given in the first entry of the Description list by the **reserveAmount**
message; one charging session to a reservation will result in only one entry
on the bill. The reference code is used to uniquely identify the request; it
is the application\'s responsibility to provide a unique reference code within
the scope of the application.
#### 8.3.3.1 Input message: ChargeReservationRequest
* * *
Part name Part type Optional Description reservationIdentifier xsd:string No
An identifier for the reservation to be charged charge
parlayx_common_xsd:ChargingInformation No Information on the reservation to be
charged. In the ChargingInformation the first entry of the Description list is
information to appear on the bill, while additional entries (if any) can be
references to individual operations relevant to the charging.The reserved
amount to be charged appears either directly in the amount-field or as code in
the code-field. If both these two fields are missing or empty a service
exception (SVC0007) will be thrown. The currency-field is not applicable: the
currency is defined only when the reservation is established (i.e. the
ReserveAmount operation is invoked). referenceCode xsd:string No Textual
information to uniquely identify the request, e.g. in case of disputes
* * *
#### 8.3.3.2 Output message: ChargeReservationResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.3.3.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0007 - Invalid charging information
  * SVC0270 - Charge failed.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0012 -- Too many description entries specified.
### 8.3.4 Operation: ReleaseReservation
Returns funds left in a reservation indicated by reservation id to the account
from which this reservation was made. Reservations, identified by reservation
id, are established by invoking the reserveAmount message.
#### 8.3.4.1 Input message: ReleaseReservationRequest
* * *
Part name Part type Optional Description reservationIdentifier xsd:string No
An identifier for the reservation to be released
* * *
#### 8.3.4.2 Output message: ReleaseReservationResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.3.4.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
## 8.4 Interface: ReserveVolumeCharging
Operations to manage reservation charging by volume amount.
### 8.4.1 Operation: GetAmount
Returns the amount resulting from converting the given volume. The end user
identifier is given to indicate the subscriber for whom this calculation must
be made. The message returns a currency amount if successful.
The following properties may be provided:
  * unit, specifying the unit used for measuring volume (e.g. bytes);
  * contract, number of a contract that may govern the use;
  * service, name of the service to be used (e.g. > SendMultimediaMessage);
  * operation, name of the operation to be used (e.g. SendMessage).
#### 8.4.1.1 Input message: GetAmountRequest
* * *
Part name Part type Optional Description endUserIdentifier xsd:anyURI No The
end user\'s account to be charged volume xsd:long No The volume to be
converted parameters parlayx_common_xsd:NameValuePair [0..unbounded] Yes
Parameters to use to perform rating (\"unit\", \"contract\", \"service\",
\"operation\")
* * *
#### 8.4.1.2 Output message : GetAmountResponse
+-----------+---------------------+----------+---------------------+ | Part name | Part type | Optional | Description | +-----------+---------------------+----------+---------------------+ | result | pa | No | It is the currency | | | rlayx_common_xsd: | | amount resulting | | | ChargingInformation | | from the conversion | | | | | process | | | | | | | | | | The conversion | | | | | process results in | | | | | the return of | | | | | ChargingInformation | | | | | where the | | | | | description amount | | | | | and currency fields | | | | | must be filled. | +-----------+---------------------+----------+---------------------+
#### 8.4.1.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.4.2 Operation: ReserveVolume
Reserves an amount of an account indicated by the end user identifier. The
reservation is specified as a volume. Note that reservations do not last
forever; the duration of a reservation is defined by a service policy. If the
reservation times out, the remaining volume will be returned to the account
from which this reservation was made. However, the remaining volume should
preferably be returned explicitly to the account using the
**releaseReservation** message. The billing text field is used for textual
information to appear on the bill. Subsequent textual information provided
during this charging session will be appended to this textual information; one
charging session to a reservation will result in only one entry on the bill.
In case of success, a reservation identifier is returned for future reference;
e.g. subsequent charging against the existing reservation using the
**chargeReservation** message.
#### 8.4.2.1 Input message: ReserveVolumeRequest
+------------------+------------------+----------+------------------+ | Part name | Part type | Optional | Description | +------------------+------------------+----------+------------------+ | e | xsd:anyURI | No | The end user\'s | | ndUserIdentifier | | | account subject | | | | | to the | | | | | reservation | +------------------+------------------+----------+------------------+ | volume | xsd:long | No | The volume of | | | | | the reservation | +------------------+------------------+----------+------------------+ | billingText | xsd:string | No | Textual | | | | | information to | | | | | appear on the | | | | | bill | +------------------+------------------+----------+------------------+ | parameters | pa | Yes | Parameters to | | | rlayx_common_x | | use to perform | | | sd:NameValuePair | | rating | | | [0..unbounded] | | (\"unit\", | | | | | \"contract\", | | | | | \"service\", | | | | | \"operation\"). | | | | | | | | | | There is a | | | | | maximum of one | | | | | instance of each | | | | | parameter type. | | | | | Example, for the | | | | | request | | | | | \"reserve 5 | | | | | minutes of the | | | | | gold video | | | | | service\", the | | | | | volume part | | | | | value is 5 and | | | | | the parameters | | | | | part has the | | | | | following | | | | | properties: | | | | | | | | | | - | | | | | \"unit\"=minutes | | | | | | | | | | - \ | | | | | "contract\"=gold | | | | | | | | | | - \ | | | | | "service\"=video | +------------------+------------------+----------+------------------+
#### 8.4.2.2 Output message: ReserveVolumeResponse
* * *
Part name Part type Optional Description result xsd:string No It is an
identifier for the newly created reservation
* * *
#### 8.4.2.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.4.3 Operation: ReserveAdditionalVolume
Adds/reduces a volume to an existing reservation indicated by the reservation
id. The reservation is specified as a volume. Note that reservations do not
last forever; the duration of a reservation is defined by a service policy.
Invoking this message will extend the current reservation enforcement time by
the duration defined in the same service policy. The billing text field is
used for appending textual information to appear on the bill. The textual
information is appended to the initial textual information given by the
**reserveVolume** message; one charging session to a reservation will result
in only one entry on the bill. A reserved credit can be returned to the
account through the **releaseReservation** message.
#### 8.4.3.1 Input message: ReserveAdditionalVolumeRequest
+---------------------+------------+----------+---------------------+ | Part name | Part type | Optional | Description | +---------------------+------------+----------+---------------------+ | re | xsd:string | No | An identifier for | | servationIdentifier | | | the reservation to | | | | | be amended | +---------------------+------------+----------+---------------------+ | volume | xsd:long | No | The volume to be | | | | | added to (or | | | | | subtracted from) | | | | | the reservation. | | | | | | | | | | [Note the | | | | | associated rating | | | | | parameters are the | | | | | same as those | | | | | defined in the | | | | | parameters part of | | | | | the original | | | | | R | | | | | eserveVolumeRequest | | | | | message.] | +---------------------+------------+----------+---------------------+ | billingText | xsd:string | No | Textual information | | | | | to appear on the | | | | | bill | +---------------------+------------+----------+---------------------+
#### 8.4.3.2 Output message: ReserveAdditionalVolumeResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.4.3.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.4.4 Operation: ChargeReservation
This message results in charging to a reservation indicated by the reservation
id.. Reservations, identified by reservation id., are established through
invoking the **reserveVolume** message. The charge is specified as a volume.
Optionally, the billing text field can be used for appending textual
information to appear on the bill. The textual information is appended to the
initial textual information given by the **reserveVolume** message; one
charging session to a reservation will result in only one entry on the bill.
The reference code is used to uniquely identify the request; it is the
application\'s responsibility to provide a unique reference code within the
scope of the application.
#### 8.4.4.1 Input message: ChargeReservationRequest
+---------------------+------------+----------+---------------------+ | Part name | Part type | Optional | Description | +---------------------+------------+----------+---------------------+ | re | xsd:string | No | An identifier for | | servationIdentifier | | | the reservation to | | | | | be charged | +---------------------+------------+----------+---------------------+ | volume | xsd:long | No | The volume to be | | | | | charged. | | | | | | | | | | [Note the | | | | | associated rating | | | | | parameters are the | | | | | same as those | | | | | defined in the | | | | | parameters part of | | | | | the original | | | | | R | | | | | eserveVolumeRequest | | | | | message.] | +---------------------+------------+----------+---------------------+ | billingText | xsd:string | Yes | Textual information | | | | | to appear on the | | | | | bill | +---------------------+------------+----------+---------------------+ | referenceCode | xsd:string | No | Textual information | | | | | to uniquely | | | | | identify the | | | | | request, e.g. in | | | | | case of disputes | +---------------------+------------+----------+---------------------+
#### 8.4.4.2 Output message: ChargeReservationResponse
* * *
**Part name** **Part type** **Optional** **Description** None
* * *
#### 8.4.4.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0270 - Charge failed.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.4.5 Operation: ReleaseReservation
Returns funds left in a reservation indicated by reservation id. to the
account from which this reservation was made. Reservations, identified by
reservation id., are established through invoking the **reserveVolume**
message.
#### 8.4.5.1 Input message: ReleaseReservationRequest
* * *
Part name Part type Optional Description reservationIdentifier xsd:string No
An identifier for the reservation to be released
* * *
#### 8.4.5.2 Output message: ReleaseReservationResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.4.5.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
# 9 Fault definitions
## 9.1 ServiceException
### 9.1.1 SVC0270: Charge failed
* * *
Name Description Message Id SVC0270 Text Charging operation failed, the charge
was not applied. Variables None
* * *
### 9.1.2 SVC0271: Invalid sum of percentage allocations
* * *
Name Description Message Id SVC0271 Text Sum of percentage allocations is not
equal to 100 Variables None
* * *
## 9.2 PolicyException
### 9.2.1 POL0250: Too many endUserIdentifiers
* * *
Name Description Message Id POL0250 Text Too many endUserIdentifier is
specified in message part %1 Variables %1 - message part
* * *
### 9.2.2 POL0251: Split charging not supported
* * *
Name Description Message Id POL0251 Text Split Charging is not supported
Variables None
* * *
# 10 Service policies
* * *
Name Type Description Currency xsd:string Currency used by service (per ISO
4217) MaximumEndUserIdentifier xsd: int Maximum number of endUserIdentifier
that can be charged simultaneously SplitChargingAvailable xsd: boolean Is
split charging feature available ReservationDuration common:TimeMetric Default
duration of either a currency amount reservation or a volume reservation
MaximumDescriptions xsd:int Maximum number of Descriptions that can be charged
simultaneously
* * *
###### ## Annex A (normative): WSDL for Payment
The document/literal WSDL representation of this interface specification is
compliant to 3GPP TS 29.199-1 [6] and is contained in text files;
  * parlayx_payment_amount_charging_interface_4_0.wsdl
  * parlayx_payment_amount_charging_service_4_0.wsdl
  * parlayx_payment_reserve_amount_charging_interface_4_0.wsdl
  * parlayx_payment_reserve_amount_charging_service_4_0.wsdl
  * parlayx_payment_reserve_volume_charging_interface_4_0.wsdl
  * parlayx_payment_reserve_volume_charging_service_4_0.wsdl
  * parlayx_payment_types_4_0.xsd
  * parlayx_payment_volume_charging_interface_4_0.wsdl
  * parlayx_payment_volume_charging_service_4_0.wsdl
which accompany the present document.
The WSDL files have been verified using the following files:
  * 6_wsdl2Java_axis-1_4.bat
  * 6_wsdl2Java_axis2-1_4_1.bat
which accompany the present document.
###### ## Annex B (informative): Description of Parlay X Web Services Part 6:
Payment for 3GPP2 cdma2000 networks
This annex is intended to define the OSA Parlay X Web Services Stage 3
interface definitions and it provides the complete OSA specifications. It is
an extension of OSA Parlay X Web Services specifications capabilities to
enable operation in cdma2000 systems environment. They are in alignment with
3GPP2 Stage 1 requirements and Stage 2 architecture defined in:
[1] 3GPP2 X.S0011-D: \"cdma2000 Wireless IP Network Standard \", Version 1.1
[2] 3GPP2 S.R0037-0: \"IP Network Architecture Model for cdma2000 Spread
Spectrum Systems\", Version 3.0
[3] 3GPP2 X.S0013-A: \"All-IP Core Network Multimedia Domain\"
These requirements are expressed as additions to and/or exclusions from the
3GPP specification.\ The information given here is to be used by developers in
3GPP2 cdma2000 network architecture to interpret the 3GPP OSA specifications.
# B.1 General Exceptions
The terms 3GPP and UMTS are not applicable for the cdma2000 family of
standards. Nevertheless these terms are used (3GPP TR 21.905) mostly in the
broader sense of \"3G Wireless System\". If not stated otherwise there are no
additions or exclusions required.
CAMEL mappings are not applicable for cdma2000 systems.
# B.2 Specific Exceptions
## B.2.1 Clause 1: Scope
There are no additions or exclusions.
## B.2.2 Clause 2: References
There are no additions or exclusions.
## B.2.3 Clause 3: Definitions and abbreviations
There are no additions or exclusions.
## B.2.4 Clause 4: Detailed service description
There are no additions or exclusions.
## B.2.5 Clause 5: Namespaces
There are no additions or exclusions.
## B.2.6 Clause 6: Sequence diagrams
There are no additions or exclusions.
## B.2.7 Clause 7: XML Schema data type definition
There are no additions or exclusions.
## B.2.8 Clause 8: Web Service interface definition
There are no additions or exclusions.
## B.2.9 Clause 9: Fault definitions
There are no additions or exclusions.
## B.2.10 Clause 10: Service policies
There are no additions or exclusions.
## B.2.11 Annex A (normative): WSDL for Payment
There are no additions or exclusions.
#