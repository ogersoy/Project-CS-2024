# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The present document specifies the procedures used at the radio interface
(Reference Point Um, see 3GPP TS 24.002) for the General Packet Radio Service
(GPRS) Medium Access Control /Radio Link Control (MAC/RLC) layer within the
digital cellular telecommunications system (Phase 2+).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
## 1.1 General
This document specifies procedures for the following layers of the radio
interface (_Um_ reference point), the interface between the GSM/EDGE Radio
Access Network (GERAN) and the Mobile Station (MS):
\- Radio Link Control (RLC)
\- Medium Access Control (MAC), including Physical Link Control functions
The procedures apply in _A/Gb mode_ _and may also apply in Iu mode (see 3GPP
TS 44.160)._
## 1.2 Related documents
The following documents provide information related to this document:
\- 3GPP TS 43.064 contains an overview of the GPRS radio interface (_Um_
reference point).
\- 3GPP TS 44.003 specifies channel types, access capabilities and channel
configurations at the _Um_ reference point.
\- 3GPP TS 44.004 specifies services offered by the physical layer of the _Um_
reference point. It also specifies control channels. RLC and MAC use these
services and control channels.
\- 3GPP TS 24.007 specifies, in general terms, this protocol\'s structured
functions, its procedures and its relationship with other layers and entities.
It also specifies the basic message format and error handling applied by layer
3 protocols.
\- 3GPP TS 44.018 specifies GPRS procedures when operating on the Common
Control Channel (CCCH) or on dedicated channels.
\- 3GPP TS 44.064 specifies the Logical Link Control (LLC) layer.
\- 3GPP TS 43.051 is an overall description of the GSM/EDGE Radio Access
Network (GERAN) in _Iu mode_.
\- 3GPP TS 44.160 specifies RLC/MAC procedures specific to _Iu mode_.
\- 3GPP TS 51.010 specifies test procedures for radio-interface signalling.
## 1.3 Use of logical control channels
3GPP TS 45.002 defines three similar sets of logical control.
The first set consists of the following logical control channels:
\- Broadcast Control Channel (BCCH): downlink only, used to broadcast Cell
specific information;
\- Paging Channel (PCH): downlink only, used to send page requests to Mobile
Stations (MSs);
\- Random Access Channel (RACH): uplink only, used to request GPRS resources
or a Dedicated Control Channel;
\- Access Grant Channel (AGCH): downlink only, used to allocate GPRS resources
or a Dedicated Control Channel;
The second set consists of the following logical control channels (Packet
Control Channels):
\- Packet Broadcast Control Channel (PBCCH): downlink only, used to broadcast
Cell specific information;
\- Packet Paging Channel (PPCH): downlink only, used to send page requests to
Mobile Stations (MSs);
\- Packet Random Access Channel (PRACH): uplink only, used to request GPRS
resources;
\- Packet Access Grant Channel (PAGCH): downlink only, used to allocate GPRS
resources;
\- Packet Associated Control Channel (PACCH): bi-directional, associated with
a Temporary Block Flow (TBF);
\- Packet Timing advance control channel uplink (PTCCH/U): used to transmit
random access bursts to allow estimation of the timing advance for one MS in
transfer state;
\- Packet Timing advance control channel downlink (PTCCH/D): used to transmit
timing advance updates for several MS. One PTCCH/D is paired with several
PTCCH/U\'s.
\- MBMS Packet Random Access Channel (MPRACH): uplink only, used during the
initial counting procedure for MBMS.
The third set consists of the following logical control channels (COMPACT
control channels):
\- COMPACT Packet Broadcast Control Channel (CPBCCH): downlink only, used to
broadcast Cell specific information; This channel broadcasts the same
information as the PBCCH, but has a different physical structure (see 3GPP TS
45.002);
\- COMPACT Packet Paging Channel (CPPCH): downlink only, used to send page
requests to Mobile Stations (MSs) on a COMPACT control channel;;
\- COMPACT Packet Random Access Channel (CPRACH): uplink only, used to request
GPRS resources on a COMPACT control channel;
\- COMPACT Packet Access Grant Channel (CPAGCH): downlink only, used to
allocate GPRS resources on a COMPACT control channel;
\- Packet Associated Control Channel (PACCH): see above;
\- Packet Timing advance control channel uplink (PTCCH/U): see above;
\- Packet Timing advance control channel downlink (PTCCH/D): see above.
## 1.4 Use of logical traffic channels
3GPP TS 45.002 defines the following logical traffic channels used by RLC and
MAC:
\- Traffic Channel (TCH): bidirectional, carries encoded speech or user data
using GMSK on a dedicated basic physical subchannel (DBPSCH). TCH can be full-
rate (TCH/F) or half-rate (TCH/H).
\- Octal Traffic Channel (O-TCH): bidirectional, carries encoded speech using
8-PSK on a DBPSCH. O-TCH can be full-rate (O‑TCH/F) or half-rate (O-TCH/H).
\- Enhanced Traffic Channel (E-TCH): bidirectional, carries user data using
8-PSK on a DBPSCH.
\- Packet Data Traffic Channel (PDTCH): downlink: carries user data using
GMSK, 8-PSK, 16-QAM or 32-QAM with normal symbol rate, or QPSK, 16-QAM, or
32-QAM with higher symbol rate on a shared basic physical subchannel (SBPSCH)
or a DBPSCH. PDTCHs can be full-rate (PDTCH/F) or half-rate (PDTCH/H).
> \- Packet Data Traffic Channel (PDTCH) uplink: carries user data using GMSK,
> 8-PSK, 16-QAM with normal symbol rate, or QPSK, 16-QAM, 32-QAM with higher
> symbol rate on a shared basic physical subchannel (SBPSCH) or a DBPSCH.
> PDTCHs can be full-rate (PDTCH/F) or half-rate (PDTCH/H).
## 1.5 Conventions
Unless explicitly stated otherwise, the following conventions apply:
\- The notations \"further study\", \"FS\" or \"FFS\" indicate the annotated
text is not normative.
\- \"GPRS\" refers to \"GPRS and EGPRS\".
\- \"EGPRS\" refers to \"EGPRS and EGPRS2\".
\- \"EGPRS2\" refers to \"EGPRS2-A and EGPRS2-B\".
\- \"PBCCH\" refers to \"PBCCH and CPBCCH\".
\- \"PPCH\" refers to \"PPCH and CPPCH\".
\- \"PRACH\" refers to \"PRACH and CPRACH\".
\- \"PAGCH\" refers to \"PAGCH and CPAGCH\".
\- References to \"PDCH\" also apply to \"SBPSCH\" and vice-versa.
> \- \"MBMS Assignment\" refers to either \"MBMS ASSIGNMENT (NON-
> DISTRIBUTION)\" or \"MBMS ASSIGNMENT (DISTRIBUTION)\".
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
```{=html}
``` \- For a non-specific reference, the latest version applies. In the > case
of a reference to a 3GPP document (including a GSM document), > a non-specific
reference implicitly refers to the latest version > of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.060: \"General Packet Radio Service (GPRS); Service
Description; Stage 1\".
[3] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[4] 3GPP TS 43.013: \"Discontinuous Reception (DRX) in the GSM system\".
[5] 3GPP TS 43.064: \" Overall description of GPRS radio interface; Stage 2\".
[6] 3GPP TS 24.002: \"GSM - UMTS Public Land Mobile Network (PLMN) access
reference configuration\".
[7] 3GPP TS 44.003: \"Mobile Station - Base Station System (MS-BSS) interface;
Channel structures and access capabilities\".
[8] 3GPP TS 44.004: \"Layer 1; General requirements\".
[9] 3GPP TS 44.005: \"Data Link (DL) layer; General aspects\".
[10] 3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General
aspects\".
[11] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[12] 3GPP TS 44.064: \" Mobile Station - Serving GPRS Support Node (MS-SGSN)
Logical Link Control (LLC) Layer Specification\".
[13] 3GPP TS 45.002: \"Multiplexing and multiple access on the radio path\".
[14] 3GPP TS 45.003: \"Channel coding\".
[15] 3GPP TS 45.008: \"Radio subsystem link control\".
[16] 3GPP TS 45.010: \"Radio subsystem synchronization\".
[17] (void)
[18] (void).
[19] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
Description; Stage 2\".
[20] 3GPP TS 25.331: \"Radio Resource Control (RRC) protocol specification\".
[21] 3GPP TS 25.133: \"Requirements for support of radio resource management
(FDD)\".
[22] 3GPP TS 25.123: \"Requirements for support of radio resource management
(TDD)\".
[23] ITU-T Recommendation T.4: \"Standardization of Group 3 facsimile
terminals for document transmission\".
[24] 3GPP TS 22.011: \"Service accessibility\".
[25] 3GPP TS 25.101: \"UE Radio Transmission and Reception (FDD)\".
[26] 3GPP TS 25.102: \"UTRA (UE) TDD; Radio transmission and reception\".
[27] 3GPP TS 25.213: \"Spreading and modulation (FDD)\".
[28] 3GPP TS 25.223: \"Spreading and modulation (TDD)\".
[29] 3GPP TS 25.304: \"UE Procedures in Idle Mode and Procedures for Cell
Reselection in Connected Mode\".
[30] 3GPP TS 45.005: \"Radio transmission and reception\".
[31] 3GPP TS 45.009: \"Link adaptation\".
[32] TIA/EIA-IS-2000-5-A: \"CDMA 2000 Series\".
[33] 3GPP TS 51.010-1 (Rel-6): \"Mobile Station (MS) conformance
specification; Part 1: Conformance specification \".
[34] 3GPP TS 51.010-2 (Rel-6): \"Mobile Station (MS) conformance
specification; Part 2: Protocol Implementation Conformance Statement (ICS);
proforma specification\".
[35] 3GPP TS 51.010-3 (Rel-6): \"Mobile Station (MS) conformance
specification; Part 3: Layer 3 Abstract Test Suite (ATS)\".
[36] 3GPP TS 51.010-4 (Rel-6): \"Mobile Station (MS) conformance
specification; Part 4: SIM application toolkit conformance specification\".
[37] 3GPP TS 51.021: \"Base Station System (BSS) equipment specification;
Radio aspects\".
[38] 3GPP TS 43.051: \"GSM/EDGE Radio Access Network (GERAN); Overall
Description - Stage 2\".
[39] 3GPP TS 44.160: \"Mobile Station (MS) - Base Station System (BSS)
interface; Radio Link Control/ Medium Access Control (RLC/MAC) protocol in _Iu
mode_ \".
[40] Michel MOULY, \"CSN.1 Specification, Version 2.0\", Cell & Sys, ISBN:
2‑9510062‑0‑9.\ Web: http://perso.wanadoo.fr/cell.sys/.
[41] 3GPP TS 25.224: \"Physical Layer Procedures (TDD)\".
[42] 3GPP TS 44.318: \"Generic access to the A/Gb interface; Mobile GA
interface layer 3 specification\".
[43] 3GPP TS 43.129: \"Packet-switched handover for GERAN A/Gb mode; Stage
2\".
> [44] 3GPP TS 43.318: \"Generic access to the A/Gb interface; Stage 2\".
>
> [45] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Radio Resource Control (RRC); Protocol specification\".
[46] 3GPP TS 36.104: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Base Station (BS) radio transmission and reception\".
[47] 3GPP TS 36.211: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical Channels and Modulation\".
[48] 3GPP TS 23.041: \"Technical realization of Cell Broadcast Service
(CBS)\".
# 3 Definitions, abbreviations and symbols
## 3.1 Definitions
This document uses the following definitions:
**_A/Gb mode_** : mode of operation of the MS when connected to the Core
Network via GERAN and the A and/or Gb interfaces.
**Basic radio block period:** the time needed to transmit a radio block on one
PDCH using a basic TTI configuration i.e. four TDMA frames.
**Block period:** block period is the sequence of four timeslots on a PDCH
used to convey one radio block
**Broadcast/multicast receive mode:** In broadcast/multicast receive mode, the
mobile station is receiving upper layer PDUs on packet data physical channels
used for point-to-multipoint transmission (see sub-clause 5.3.1); it is not
allocated any additional radio resource on packet data physical channels.
Broadcast/multicast receive mode is a sub-state of packet idle mode. The
mobile station listens to the PBCCH and PCCCH or, if those are not provided by
the network, to the BCCH and CCCH.
**BTTI configuration:** a configuration in which a radio block is sent using
one PDCH in each of four consecutive TDMA frames. In a BTTI configuration, one
radio block can be transmitted in a basic radio block period.
**BTTI USF mode:** a mode in which the USF is received on one PDCH of a
downlink PDCH-pair during four consecutive TDMA frames.
**Cell Change Notification (CCN):** See sub-clause 5.5.1.1a.
**Corresponding PDCH pair:** The Corresponding PDCH pair associated with an
uplink PDCH pair which forms part of an uplink TBF assignment is the downlink
PDCH pair which is monitored by the mobile station for the USF for the TBF and
on which PACCH/D is transmitted. The Corresponding PDCH pair associated with a
downlink PDCH pair which forms part of an downlink TBF assignment is the
uplink PDCH pair on which PACCH/U is transmitted.
**Downlink Dual Carrier:** Downlink Dual Carrier is a feature allowing
resources (for uplink and/or downlink TBFs and/or dedicated resources) to be
assigned to a mobile station on up to two radio frequency channels within the
same frequency band.
**Downlink Dual Carrier configuration:** A Downlink Dual Carrier configuration
is one in which the mobile station has radio resources assigned over two radio
frequency channels. In packet transfer mode, RLC/MAC blocks for uplink TBFs
can only be transmitted on one radio frequency channel in any given radio
block period, and RLC/MAC blocks for downlink TBFs can be transmitted on two
radio frequency channels in any given radio block period. In dual transfer
mode, uplink RLC/MAC blocks can be transmitted only on the radio frequency
channel on which the dedicated resource is assigned.
**DTM handover: DTM handover is a feature used by the network to command a
mobile station to move from its old (source) cell to a new (target) cell while
operating in dual transfer mode and continue the operation of its ongoing
circuit switched service and one or more of its ongoing packet switched
services in the new cell. The mobile station is allocated one circuit switched
radio resource and packet switched radio resources applicable to the new cell
within a DTM HANDOVER COMMAND message.**
**Dual transfer mode:** In dual transfer mode, the mobile station is allocated
radio resources providing an RR connection (3GPP TS 44.018) and one or more
Temporary Block Flows on one or more packet data physical channels. The
allocation of radio resource for the RR connection and the Temporary Block
Flow(s) is co-ordinated by the network in agreement with the capabilities of
the mobile station in dual transfer mode.
**Early TBF establishment:** Procedure applicable when both the network and
the mobile station support the extended uplink TBF mode, where the network
keeps the uplink TBF open (by means of the extended uplink TBF mode operation)
upon explicit request from the mobile station that pre-allocation is required.
This allows the possibility to pre-allocate a TBF before actual data is ready
for transmission.
**EGPRS** : Enhanced GPRS enables higher data rates through usage of 8PSK
modulation in addition to GMSK. EGPRS also enables Incremental Redundancy
operation.
**EGPRS TBF mode** : refers to a TBF utilising the EGPRS enhancements (e.g.
Incremental Redundancy and possibly 8-PSK) or the EGPRS2 enhancements.
**EGPRS TBF** : refers to a TBF utilising the EGPRS enhancements, e.g.
Incremental Redundancy and possibly 8-PSK.
**EGPRS2** : In the downlink direction, Enhanced GPRS Phase 2 enables higher
data rates through usage of higher symbol rate, turbo codes, and QPSK, 16-QAM
and 32-QAM modulations in addition to (or instead of) GMSK and 8PSK. In the
uplink direction, Enhanced GPRS Phase 2 enables higher data rates through
usage of higher symbol rate, and QPSK, 16-QAM and 32-QAM modulations in
addition to (or instead of) GMSK and 8PSK. EGPRS2 consists of EGPRS2-A and
EGPRS2-B in both directions.
**EGPRS2-A** : In the downlink direction, Enhanced GPRS Phase 2 Level A
enables higher data rates through usage of turbo codes, and 16-QAM and 32-QAM
modulations in addition to GMSK and 8-PSK. In the uplink direction, Enhanced
GPRS Phase 2 Level A enables higher data rates through usage of 16-QAM
modulation in addition to GMSK and 8-PSK.
**EGPRS2-B** : In the downlink direction, Enhanced GPRS Phase 2 Level B
enables higher data rates through usage of higher symbol rate, turbo codes,
and QPSK, 16-QAM and 32-QAM modulations in addition to GMSK or instead of
8PSK. In the uplink direction, Enhanced GPRS Phase 2 Level B enables higher
data rates through usage of higher symbol rate, and QPSK, 16-QAM and 32-QAM
modulations in addition to GMSK or instead of 8PSK.
**EGPRS2 TBF** : refers to a TBF utilising the EGPRS2 enhancements in the
direction of data transfer, downlink or uplink. More specifically, in each
direction, downlink or uplink, an EGPRS2-A TBF refers to a TBF utilising the
EGPRS2-A enhancements and an EGPRS2-B TBF refers to a TBF utilising the
EGPRS2-B enhancements. An EGPRS2 TBF operates in EGPRS TBF mode.
**EGPRS-GMSK only TBF:** refers to a TBF in EGPRS TBF mode but making only use
of MCS-1 to MCS-4 modulation and coding schemes. The number of PDCHs assigned
to an **EGPRS-GMSK only TBF** can be extended to the maximum number of
timeslots compatible with the GPRS multislot class of the MS. This mode is
determined by the mobile station based on the aggregate timeslot allocation
assigned by the network. In the case the aggregate timeslot allocation is not
within the indicated EGPRS multislot class, but is within the indicated GPRS
multislot class, a mobile station supporting this mode shall consider the TBF
to be in EGPRS-GMSK only mode (see sub-clause 9.1.9.2). This mode is only
applicable in packet transfer mode.
**Extended uplink TBF mode** : In the _extended uplink TBF mode_ , the uplink
TBF may be maintained during temporary inactive periods, where the mobile
station has no RLC information to send. The network determines the release of
the uplink TBF (see sub-clause 9.3.1b).
**Fast Ack/Nack Reporting (FANR)** : Fast Ack/Nack Reporting enables the use
of a PAN field within an RLC/MAC block for EGPRS data transfer or for EGPRS2
data transfer. FANR enables the mobile station to transmit in the uplink
direction a PAN field corresponding to a downlink TBF. Similarly FANR enables
the network to transmit in the downlink direction a PAN field corresponding to
an uplink TBF.
_**GAN Cell:** A cell under control of a GANC._
_**GAN Mode:** MS mode of operation where the MS_ is connected to the Core
Network via a GANC and the A and/or Gb interfaces _._
**GPRS multislot class / EGPRS multislot class** : refers to the different
mobile station capabilities to transmit and receive on different combinations
of multiple PDCHs. The multislot classes are defined in 3GPP TS 45.002. Note
that the mobile station may indicate different multislot classes for circuit
mode services for GPRS and for EGPRS (see 3GPP TS 24.008). Different multislot
class mobile stations are capable of supporting different medium access modes
(see sub-clause 5.2.4).
**GPRS TBF mode** : refers to a TBF not utilising EGPRS or EGPRS2.
**IR** : Incremental redundancy, enables higher data rates through combining
information from different transmissions of RLC data blocks when decoding.
Also known as Hybrid Type II/III ARQ.
**_Iu mode_** : mode of operation of the MS when connected to the Core Network
via GERAN or UTRAN and the Iu interface.
**MAC-dedicated state** : a MAC-control-entity state where a DBPSCH is
assigned and no SBPSCH is assigned. This state only applies in _Iu mode_.
**MAC-DTM state** : a MAC-control-entity state where at least one DBPSCH and
one SBPSCH are assigned. This state only applies in _Iu mode_.
**MAC-idle state** : a MAC-control-entity state where no basic physical
subchannels are assigned. This state only applies in _Iu mode_.
**MAC-shared state** : a MAC-control-entity state where at least one SBPSCH is
assigned. This state only applies in _Iu mode_.
**MCS** : Modulation and Coding Scheme.
**MS multislot class:** refers to GPRS multislot class in case of a GPRS TBF
mode or EGPRS-GMSK only TBF mode. In case of EGPRS TBF mode, MS multislot
class refers to EGPRS multislot class.
**Multiple TBF procedures:** A mobile station that supports multiple TBF
procedures can support one or more concurrent TBFs in either direction while
in packet transfer mode (A/Gb mode). A network that supports multiple TBF
procedures can support one or more concurrent TBFs in either direction for a
mobile station that supports multiple TBF procedures in packet transfer mode
(A/Gb mode).
**Non-extended uplink TBF mode** : Where a distinction is needed, an uplink
TBF, not operating in the extended uplink TBF mode, is referred as operating
in the _non-extended uplink TBF mode_.
**Non-synchronized PS handover:** The basic type of PS handover which is used
when the time bases of the involved cells bear no particular relationship
between themselves and when the MS cannot predict the timing advance to be
used in the target cell before access in this cell. The requirements that
apply for the non-synchronized PS handover are given in 3GPP TS 45.010.
**Packet access failure** : Packet access failure refers to the access cases
where the mobile station is explicitly denied access to the network, i.e. is
not allowed to transmit (EGPRS) PACKET CHANNEL REQUEST or MPRACH PACKET
CHANNEL REQUEST messages or receives a PACKET QUEUING NOTIFICATION message or
a PACKET ACCESS REJECT message.
**Packet flow context** : Packet Flow Context (PFC) procedures are described
in 3GPP TS 23.060. A Packet Flow Identifier (PFI) is used to identify a PFC.
**Packet idle mode** : In packet idle mode, the mobile station is prepared to
transfer LLC PDUs on packet data physical channels (see sub-clause 5.3). The
mobile station is not allocated any radio resource on a packet data physical
channel; it listens to the PBCCH and PCCCH or, if those are not provided by
the network, to the BCCH and the CCCH.
**Packet transfer mode** : In packet transfer mode, the mobile station is
prepared to transfer LLC PDUs on packet data physical channels (see sub-clause
5.4). The mobile station is allocated radio resource on one or more packet
data physical channels for the transfer of LLC PDUs.
**Piggy-backed Ack/Nack (PAN) field** : A Piggy-backed Ack/Nack field provides
acknowledgement status of downlink (respectively uplink) RLC data blocks
within an uplink (respectively downlink) RLC/MAC block for data transfer.
**Pre-synchronized PS handover:** A type of PS handover where the MS uses the
timing advance included in the PS HANDOVER COMMAND message for immediate use
in the target cell. The requirements that apply for the pre-synchronized PS
handover are given in 3GPP TS 45.010.
**PS handover: PS handover is a feature used by the network to command a
mobile station to move from its old (source) cell to a new (target) cell while
operating in packet transfer mode and continue the operation of one or more of
its ongoing packet switched services in the new cell using TBF resource
allocations provided within a PS HANDOVER COMMAND message. For PS handover to
a GAN cell the mobile station receives the assignment of the target cell radio
resources prior to receiving the PS HANDOVER COMMAND message.**
**Radio block** : A radio block is the sequence of four normal bursts carrying
one RLC/MAC protocol data units (see 3GPP TS 44.004). (The one exception is a
radio block occasionally used on PACCH consisting of a sequence of four access
bursts, each carrying a repetition of one short RLC/MAC block.). A radio block
is sent either on a PDCH (BTTI configuration) or a PDCH-pair (RTTI
configuration).
**Random access failure** : Random access failure refers to the access case
when the mobile station does not get any response from the network to its
(EGPRS) PACKET CHANNEL REQUEST or MPRACH PACKET CHANNEL REQUEST messages.
**Random values** : In a number of places in this Technical Specification, it
is mentioned that some value must take a \"random\" value, in a given range,
or more generally with some statistical distribution. For such random values
refer to 3GPP TS 44.018.
**Reduced Latency** : refers to the use of FANR either in BTTI configuration
or in RTTI configuration.
**Reduced radio block period:** the time needed to transmit a radio block on a
PDCH-pair using a reduced TTI configuration i.e. two TDMA frames.
**RLC/MAC block** : A RLC/MAC block is the protocol data unit exchanged
between RLC/MAC entities (see clause 10 and 3GPP TS 44.004).
**RLC/MAC control block** : A RLC/MAC control block is the part of an RLC/MAC
block carrying a control message between RLC/MAC entities (see sub-clause
10.3).
**RLC data block** : A RLC data block is the part of a RLC/MAC block carrying
user data or signalling data received from an upper layer (see sub-clause
10.2).
**RLC Non-Persistent Mode: A mode of RLC operation where retransmissions are
possible but it is not required that all RLC data blocks are correctly
received at the receiving RLC endpoint.**
**RR connection:** An RR connection is a physical connection established
between a mobile station and the network to support the upper layers' exchange
of information flows. An RR connection is maintained and released by the two
peer entities.
**RRC connection** : An RRC connection is a point-to-point, bi-directional,
logical connection between RRC peer entities in the mobile station and the
GERAN characterised by the allocation of a G-RNTI. A mobile station has either
zero or one RRC connections. RRC connections only apply in _Iu mode_.
**RTTI configuration:** a configuration in which a radio block is sent using
two PDCHs (PDCH-pair) in either the first two or the last two TDMA frames of
any given basic radio block period.
**RTTI USF mode:** a mode in which the USF is received on a downlink PDCH-pair
during two consecutive TDMA frames.
**Source BSS: Within the context of a PS handover the source BSS is the BSS
controlling the cell in which the mobile station is camping prior to
performing PS handover (i.e. it controls the old cell).**
**Synchronized PS handover: A type of PS handover which is possible when** the
time bases of the involved cells **are synchronized, and for which no timing
advance needs to be provided to the MS.** The requirements that apply for the
synchronized PS handover are given in 3GPP TS 45.010.
**Target BSS: Within the context of a PS handover the target BSS is the BSS
controlling the cell in which the mobile station is camping after successful
completion of PS handover (i.e. it controls the new cell). If the same BSS
controls both the old cell and the new cell associated with the PS handover of
any given mobile station then the source BSS and the target BSS are the
same.**
**TBF abort** : The term \"abort\" as applied to TBF is used when the TBF is
abruptly stopped without using the Release of TBF procedures defined in clause
9.
**TBF release** : The term \"release\" as applied to TBF is used when the TBF
is stopped using one of the Release of TBF procedures defined in clause 9.
**Temporary Block Flow (TBF)** : A Temporary Block Flow is, in _A/Gb mode_ , a
physical connection used by the two RR peer entities to support the
unidirectional transfer of LLC PDUs on packet data physical channels (see sub-
clause 5.2.1). In _Iu mode_ , a TBF is a logical connection offered by two MAC
entities to support the unidirectional transfer of RLC PDUs on basic physical
subchannels.
**Timer Expiry** : A started timer has run the time specified.
**Timer Restart** : A timer that may already be running is stopped and then
started again to run the time specified.
**Timer Start** : A timer is started to run the time specified.
**Timer Stop** : A started timer is stopped and its value is then undefined.
**Uplink control timeslot** : refers to the timeslot number of the timeslot
where the PACCH/U for the MS is located in case of a BTTI configuration, or to
the uplink PDCH pair where the PACCH/U for the MS is located in case of an
RTTI configuration. This parameter is set to the value of the Uplink Control
timeslot IE in an assignment message. Otherwise, this parameter is unassigned.
In A/Gb mode, this parameter is applicable only to multiple TBF procedures.
**Uplink State Flag (USF)** : The Uplink State Flag (USF) is used on PDCH
channel(s) to allow multiplexing of uplink Radio blocks from different TBFs
belonging to the same or different mobile stations (see sub-clause 5.2.3,
clause 10 and 3GPP TS 45.002).
**Upper-layer PDU** : An upper-layer PDU is, in _A/Gb mode_ , an LLC PDU and,
in _Iu mode_ , an RRC message, a PDCP PDU or a PDU from the NAS user plane.
## 3.2 Abbreviations
This document uses abbreviations from 3GPP TR 21.905 and 3GPP TS 43.064. It
also uses the following abbreviations:
ARI Access Request Identifier
ARQ Automatic Repeat reQuest
AS Access Stratum
BCCH Broadcast Control CHannel
BSS Base Station Subsystem
BTTI Basic Transmission Time Interval
CBCH Cell Broadcast CHannel
CC Call Control
CCCCH [Compact]{.smallcaps} CCCH
CCCH Common Control CHannel
CCN Cell Change Notification
CN Core Network
CPBCCH [Compact]{.smallcaps} PBCCH
CS-_i_ GPRS Coding Scheme _i_
DAS-_i_ EGPRS2 Downlink level A modulation and coding Scheme _i_
DBS-_i_ EGPRS2 Downlink level B modulation and coding Scheme _i_
DC Dedicated Control
DLC Data Link Control
DBPSCH Dedicated Basic Physical Sub CHannel
ECSD Enhanced Circuit Switched Data
EDGE Enhanced Data rates for Global Evolution
E-FACCH Enhanced FACCH
EGPRS Enhanced General Packet Radio Service
EGPRS2 EGPRS Phase 2
eNB E-UTRAN NodeB
E-TCH Enhanced TCH
EUTRA Evolved UTRA
E-UTRAN Evolved UTRAN
FACCH Fast Associated Control CHannel
FANR Fast Ack/Nack Reporting
GAN Generic Access Network
GANC Generic Access Network Controller
GC General Control
GERAN [Gsm/Edge]{.smallcaps} Radio Access Network
GPRS General Packet Radio Service
GRA [Geran]{.smallcaps} Registration Area
G-RNTI [Geran]{.smallcaps} Radio Network Temporary Identity
GSM Global System for Mobile communications
IETF Internet Engineering Task Force
IMSI International Mobile Subscriber Identity
IP Internet Protocol
LCS LoCation Services
LLC Logical Link Control
MAC Medium Access Control
MCS-_i_ EGPRS Modulation and Coding Scheme _i_
MM Mobility Management
MME Mobility Management Entity
MPRACH MBMS Packet Random Access Channel
MS Mobile Station
NAS Non Access Stratum
NSAPI Network-layer SAPI
Nt Notification
O-FACCH Octal FACCH
O-TCH Octal TCH
PAN Piggy-backed Ack/Nack
PBCCH Packet BCCH
PDCH Packet Data CHannel
PDCP Packet Data Convergence Protocol
PDP Packet Data Protocol
PDTCH Packet Data TCH
PDU Protocol Data Unit
PFC Packet Flow Context
PFI Packet Flow Identifier
PLMN Public Land Mobile Network
PTCCH Packet Timing-advance Control CHannel
p-t-m point-to-multipoint
P-TMSI Packet TMSI
QoS Quality of Service
RAB Radio Access Bearer
RANAP Radio Access Network Application Part
RB Radio Bearer
RLC Radio Link Control
RNC Radio Network Controller
RNS Radio Network Subsystem
RNSAP Radio Network Subsystem Application Part
ROHC Robust Header Compression
RR Radio Resource
RRC Radio Resource Control
RTP Real Time Protocol
RTTI Reduced Transmission Time Interval
SACCH Slow Associated Control CHannel
SAP Service Access Point
SAPI Service Access Point Identifier
SDCCH Stand-alone Dedicated Control CHannel
SDU Service Data Unit
SBPSCH Shared Basic Physical Sub CHannel
TBF Temporary Block Flow
TCH Traffic Channel
TCP Transmission Control Protocol
TLLI Temporary Logical Link Identifier
TMSI Temporary Mobile Subscriber Identity
TTI Transmission Time Interval
UAS-_i_ EGPRS2 Uplink level A modulation and coding Scheme _i_
UBS-_i_ EGPRS2 Uplink level B modulation and coding Scheme _i_
UDP User Datagram Protocol
UMTS Universal Mobile Telecommunication System
USF Uplink State Flag
UTRAN UMTS Terrestrial Radio Access Network
## 3.3 Symbols
This document uses the following symbols:
_A_ Interface between a BSS and a 2G MSC
_Gb_ Interface between a BSS and a 2G SGSN
_Iu_ Interface between a BSS or an RNC and a 3G MSC or a 3G SGSN
_Iu-cs_ Interface between a BSS or an RNC and a 3G MSC
_Iu-ps_ Interface between a BSS or an RNC and a 3G SGSN
_Iur-g_ Interface between two BSSs or between a BSS and an RNC
_Um_ Interface between an MS and the GERAN
# 4 Layered overview of radio interface
The Radio Resource sublayer provides the functions necessary for:
\- Radio Resource (RR) management of packet data physical channels (PDCHs);
and
\- Radio Link Control and Medium Access Control (RLC/MAC) on packet data
physical channels.
As shown in figure 4.1, the RR sublayer provides services to the MM and LLC
sublayers. The RR sublayer utilises the services of the Data Link layer
(signalling layer 2) and the Physical Link layer. The packet logical channels
PBCCH, PCCCH (including PPCH, PAGCH and PRACH), PACCH and PDTCH, are
multiplexed onto the packet data physical channels on a per radio block basis.
Figure 4.1: Protocol architecture of Radio Resource (RR) sublayer and RLC/MAC
function
## 4.1 Layer services
The RR sublayer provides services for the transfer of upper layer PDUs using a
shared medium between multiple mobile stations and the network. Direct
communication is only possible between the network and one or more mobile
stations. The RLC/MAC function supports three modes of operation:
\- unacknowledged operation;
\- acknowledged operation; and
\- non-persistent operation.
The RR sublayer further provides services for the paging of mobile stations.
## 4.2 Layer functions
The RLC function defines the procedures for segmentation and reassembly of LLC
PDUs into RLC/MAC blocks and, in RLC acknowledged mode of operation, for the
Backward Error Correction (BEC) procedures enabling the selective
retransmission of unsuccessfully delivered RLC/MAC blocks. In RLC acknowledged
mode of operation, the RLC function preserves the order of higher layer PDUs
provided to it.
The RLC function provides also link adaptation.
In EGPRS in RLC acknowledged mode of operation, the RLC function may provide
Incremental Redundancy (IR).
The MAC function defines the procedures that enable multiple mobile stations
to share a common transmission medium, which may consist of several physical
channels. The function may allow a mobile station to use several physical
channels in parallel, i.e. use several timeslots within the TDMA frame.
For the mobile station originating access, the MAC function provides the
procedures, including the contention resolution procedures, for the
arbitration between multiple mobile stations simultaneously attempting to
access the shared transmission medium.
For the mobile station terminating access, the MAC function provides the
procedures for queuing and scheduling of access attempts.
When the PS handover procedure is supported the RLC and MAC functions provide
the procedures for directing a mobile station to a new cell and continuing
packet switched services without the use of contention resolution procedures
(i.e. RACH/PRACH) in the new cell.
When the DTM handover procedure is supported the procedures for directing a
mobile station to a new cell and continuing both circuit switched and packet
switched services are provided by the RLC and MAC functions, under the control
of the RR function (see 3GPP TS 44.018).
## 4.3 Service primitives
Information flow between layers is performed by the use of Service Primitives.
Service Access Points (SAP) and their corresponding Service Primitives for the
RR sublayer are defined in 3GPP TS 24.007.
## 4.4 Services required from lower layers
The RLC/MAC function uses the services provided by the physical link layer as
defined in 3GPP TS 44.004.
The RR sublayer may use the services provided by the data link layer as
defined in 3GPP TS 44.005. Moreover, the RR sublayer directly uses services
provided by the physical layer such as BCCH searching, as defined in 3GPP TS
44.004.
# 5 Introduction to the Medium Access Control (MAC) procedures
## 5.1 General
The Medium Access Control procedures include the functions related to the
management of the shared transmission resources, e.g. the packet data physical
channels and the radio link connections on packet data physical channels.
The Medium Access Control procedures support the provision of Temporary Block
Flows (TBFs) that allow the point-to-point transfer of signalling and user
data within a cell between the network and a mobile station. The MAC
procedures also support the provision of MBMS radio bearers that allow the
point-to-multipoint transfer of signalling and user data within a cell between
the network and one (or more) mobile station(s).
Moreover, the Medium Access Control procedures include the procedures for
reception of PBCCH and PCCCH, which permits autonomous cell reselection
performed by the mobile station (see 3GPP TS 45.008).
## 5.2 Multiplexing principles
### 5.2.1 Temporary Block Flow
A Temporary Block Flow (TBF) is a physical connection used by the two RR
entities to support the unidirectional transfer of upper layer PDUs on packet
data physical channels.
The TBF is allocated radio resources on one or more assigned PDCHs and
comprises a number of RLC/MAC blocks carrying one or more upper layer PDUs. If
Downlink Dual Carrier is supported by both the mobile station and the network,
the assigned PDCHs for a given TBF may be on one or two radio frequency
channels. A TBF is temporary and is maintained only for the duration of the
data transfer (i.e. until there are no more RLC/MAC blocks to be transmitted
and, in RLC acknowledged mode, all of the transmitted RLC/MAC blocks have been
successfully acknowledged by the receiving entity).
A TBF may operate in either GPRS TBF mode or EGPRS TBF mode. For Downlink Dual
Carrier configurations TBFs shall operate in EGPRS TBF mode. The network sets
the TBF mode in the PACKET UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT,
PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE, IMMEDIATE ASSIGNMENT or PACKET
CS RELEASE INDICATION message. The EGPRS TBF mode is only supported by EGPRS
capable MSs.
If a mobile station is assigned concurrent TBFs, these shall be in the same
TBF mode.
A TBF in EGPRS mode operates using one of four groups of modulation and coding
schemes:
\- EGPRS-GMSK only (applicable to uplink TBFs only): this comprises MCS-1 to
MCS-4
\- EGPRS: this comprises MCS-1 to MCS-9
\- EGPRS2-A: for uplink TBFs, this comprises MCS-1 to MCS-6 and UAS-7 to
UAS-11; for downlink TBFs, this comprises MCS-1 to MCS-4, MCS-6 (only for
retransmissions of blocks originally transmitted using EGPRS), MCS-7, MCS-8
and DAS-5 to DAS-12
> \- EGPRS2-B: for uplink TBFs, this comprises MCS-1 to MCS-4 and UBS-5 to
> UBS-12; for downlink TBFs, this comprises MCS-1 to MCS-4, MCS-6 to MCS-9,
> DAS-5, DAS-6, DAS-8, DAS-9, DAS-11 and DBS-5 to DBS-12.
The group of modulation and coding schemes to be used on a PDTCH associated
with a TBF is indicated in the assignment message. The EGPRS-GMSK only group
applies if the aggregate timeslot allocation is not within the indicated EGPRS
multislot class, but is within the indicated GPRS multislot class.
The use of the EGPRS2-A group for uplink or downlink is only supported by MSs
which are capable of EGPRS2-A or EGPRS2-B in that direction. The EGPRS2-B
group is only supported by MSs which are capable of EGPRS2-B in that
direction. If a mobile station supports EGPRS2, the same group of modulation
and coding schemes shall be used for all TBFs in a given direction.
If a mobile station indicates support of Reduced Latency (see 3GPP TS 24.008),
it may be assigned TBFs with FANR activated (see sub-clause 9.1.14), either in
BTTI configuration or in RTTI configuration. The network shall ensure that, if
a mobile station is assigned a TBF with FANR activated, FANR shall be
activated for all concurrent TBFs assigned to that mobile station.
For the case where a mobile station supports multiple TBF procedures the
maximum number of TBFs it can support concurrently is not specified. Mobile
station implementations are expected to ensure that the mobile station can
support a sufficient number of TBFs to operate all the PDP contexts it has
activated. As such, a mobile station may choose to release, modify or activate
one or more PDP contexts when prioritizing the services it wants to operate
concurrently. The network is not required to consider any potential complexity
limitations regarding the number of concurrent TBFs when establishing an
uplink or downlink TBF for a mobile station that supports multiple TBF
procedures.
The following messages are used only if both the mobile station and the
network support multiple TBF procedures:
\- MULTIPLE TBF UPLINK ASSIGNMENT
\- MULTIPLE TBF DOWNLINK ASSIGNMENT
\- MULTIPLE TBF TIMESLOT RECONFIGURE.
### 5.2.2 Temporary Flow Identity
Each TBF is assigned a Temporary Flow Identity (TFI) by the network. The
mobile station shall assume that the TFI value is unique among concurrent TBFs
in the same direction (uplink or downlink) on all PDCHs used for the TBF. In
(E)GPRS, the same TFI value may be used concurrently for TBFs on other PDCHs
in the same direction and for TBFs in the opposite direction. For a TBF with
FANR activated, the TFI value shall be unique among concurrent TBFs assigned
to one mobile station in the same direction (uplink or downlink).
An RLC/MAC block associated with a certain TBF shall comprise a TFI. The TBF
is identified by the TFI together with, in case of a RLC data block, the
direction (uplink or downlink) in which the RLC data block is sent; and in
case of a RLC/MAC control message, the direction in which the RLC/MAC control
message is sent and the message type.
Global_TFI is used to unambiguously identify the mobile station in packet
transfer mode, MAC-Shared state, dual transfer mode or MAC-DTM state within an
uplink or downlink RLC/MAC control message. If present, the Global TFI
addresses the MS using either an uplink TFI or downlink TFI of the MS. Which
TFI is used is at the discretion of the sender except where explicitly defined
by procedure. For the mobile station in broadcast/multicast receive mode, the
Global TFI includes the MBMS Bearer Identity of the MBMS radio bearer the
RLC/MAC control message relates to (in the most significant bit(s) of the
DOWNLINK_TFI field) and, where explicitly defined by procedure, the current
MS_ID of the mobile station the message relates to (in the remaining least
significant bit(s) of the DOWNLINK_TFI field).
### 5.2.3 Uplink State Flag
An Uplink State Flag (USF) is included in the header of each RLC/MAC block on
a downlink PDCH, as specified in clause 10. It may be used by the network to
control the multiplexing of different mobile stations and TBFs on an uplink
PDCH. The use of USF is further specified in 3GPP TS 45.002.
### 5.2.4 Medium Access modes
Three medium access modes are supported:
\- Dynamic Allocation, characterised by that the mobile station detecting an
assigned USF value for each assigned uplink PDCH when operating in BTTI
configuration or each assigned uplink PDCH-pair when operating in RTTI
configuration and block or group of four blocks that it is allowed to transmit
on that PDCH/PDCH-pair (see sub-clause 8.1.1.1);
\- Extended Dynamic Allocation is characterised by the mobile station
detecting an assigned USF value for any assigned uplink PDCH when operating in
BTTI configuration or any assigned uplink PDCH-pair when operating in RTTI
configuration, allowing the mobile station to transmit on that PDCH/PDCH-pair
and all higher numbered assigned PDCHs/PDCH-pairs in the same block or group
of four blocks (see sub-clause 8.1.1.2);
\- Exclusive Allocation, characterised by the mobile station being granted the
exclusive right to transmit on the assigned PDCH/H for the duration of an
uplink TBF (see sub-clause 8.1.1.3a). Exclusive allocation is applicable only
in dual transfer mode. When using exclusive allocation, only one TBF shall be
established in the uplink.
Dynamic Allocation medium access mode shall be supported by all networks that
support GPRS. The support of Extended Dynamic Allocation is optional for the
network.
Dynamic Allocation shall be supported in all mobile stations. The support of
Extended Dynamic Allocation is mandatory for mobile stations of multislot
classes 22, 24, 25 and 27, for multislot class type 1 mobile stations that can
transmit on three or more timeslots (either PDCH or TCH), and for mobile
stations supporting Flexible Timeslot Assignment (see 3GPP TS 24.008). The
support of Extended Dynamic Allocation for other mobile stations is optional
and shall be indicated in the MS Radio Access Capability.
NOTE: Flexible Timeslot Assignment is applicable only when Extended Dynamic
Allocation is used, or as explicitly indicated for certain RTTI configurations
in 3GPP TS 45.002.
The exclusive allocation shall be used in dual transfer mode during uplink
operation with a half-rate PDCH.
The network shall ensure that the medium access mode and the resource
allocation used for a mobile station are compatible with the permitted
multislot configurations (see 3GPP TS 45.002).
### 5.2.4a Multiplexing of GPRS, EGPRS and EGPRS2 capable mobile stations
GPRS, EGPRS and EGPRS2 capable mobile stations can be multiplexed dynamically
on the same PDCH.
If dynamic or extended dynamic allocation is used, a mobile station shall be
able to decode the USF that allocates the uplink to that mobile station as
follows,
\- For a mobile station supporting only GPRS the network shall use GMSK
modulation, i.e. either CS-1 to CS-4 or ,MCS-0, MCS-1 to MCS-4, in those
blocks. The other blocks may use other modulations.
\- For a mobile station supporting EGPRS, the network may use either GMSK
modulation or 8-PSK modulation, i.e. CS-1 to CS-4, MCS-0, MCS-1 to MCS-4,
MCS-5 to MCS-9 or DAS-5 to DAS-7 in those blocks.
\- For a mobile station supporting EGPRS2-A in the downlink, the network may
use either GMSK, 8-PSK, 16-QAM or 32-QAM modulation with normal symbol rate,
i.e. CS-1 to CS-4, MCS-0, MCS-1 to MCS-9 or DAS-5 to DAS-12 in those blocks.
\- For a mobile station supporting EGPRS2-B in the downlink, the network may
use GMSK, 8-PSK, 16-QAM and 32-QAM modulations with normal symbol rate, or
QPSK, 16-QAM or 32-QAM modulations with higher symbol rate in those blocks,
i.e. CS-1 to CS-4, MCS-0, MCS-1 to MCS-9, DAS-5 to DAS-12 or DBS-5 to DBS-12.
A mobile station assigned an uplink TBF using FANR shall be able to decode the
PAN in a downlink block. If the PAN is addressed to a mobile station other
than the one to which the data in the RLC/MAC block is addressed, then the
network may use in this block any of the modulation and coding schemes allowed
for USF transmission to that mobile station.
NOTE 1: The stealing bits in the EGPRS GMSK blocks are set to indicate CS-4.
The coding and interleaving of the USF is done as defined for CS-4. That leads
to:
1) A GPRS mobile station is able to detect the USF in EGPRS GMSK blocks. The
risk that the rest of the block will be misinterpreted as valid information is
low;
2) An EGPRS mobile station cannot differentiate CS-4 blocks from EGPRS GMSK
blocks by decoding the stealing bits only. However, an EGPRS mobile station in
EGPRS TBF mode needs only to decode GMSK blocks assuming either of MCS-1 to
MCS-4, in order to determine if they were aimed for it.
NOTE 2: Due to mobile station synchronisation reasons, special requirements
apply for the scheduling, the modulation and coding scheme and the output
power of blocks that are transmitted to a mobile station with an active uplink
or downlink TBF, see 3GPP TS 45.008.
## 5.3 Packet idle mode
In packet idle mode no temporary block flow (TBF) exists.
In packet idle mode, the mobile station monitors the relevant paging
subchannels on PCCCH, if such is present in the cell. If a PCCCH is not
present in the cell, the mobile station monitors the relevant paging
subchannels on CCCH.
In packet idle mode, upper layers may require the transfer of a upper layer
PDU, which implicitly triggers the establishment of a TBF and the transition
to packet transfer mode.
In packet idle mode, upper layers may require the establishment of an RR
connection. When the mobile station enters dedicated mode (see 3GPP TS
44.018), it may leave the packet idle mode, if the mobile station limitations
make it unable to handle the RR connection and the procedures in packet idle
mode simultaneously.
In packet idle mode, if a mobile station starts listening to an MBMS radio
bearer, it shall enter broadcast/multicast receive mode (see sub-clause
5.3.1).
### 5.3.1 Broadcast/multicast receive mode
In broadcast/multicast receive mode, the mobile station listens to an MBMS
radio bearer.
Broadcast/multicast receive mode can only be entered by a mobile station when
in packet idle mode; when leaving broadcast/multicast receive mode, the mobile
station shall return to packet idle mode.
Whenever a mobile station leaves broadcast/multicast receive mode to enter
packet transfer mode, upon returning to packet idle mode it may re-enter
broadcast/multicast receive mode to resume the reception of the ongoing MBMS
session(s).
The mobile station receives the system information and paging messages on the
(P)BCCH and (P)CCCH as specified for packet idle mode or on the PACCH/D
associated with the MBMS radio bearer, depending on the value of the MBMS In-
band Signalling Indicator information element included in the MBMS ASSIGNMENT
and MBMS NEIGHBOURING CELL INFORMATION messages.
If the use of in-band signalling has been indicated (by the MBMS In-band
Signalling Indicator), only mobile stations that have an MS_ID on the MBMS
radio bearer shall be addressed with paging messages on the PACCH/D of that
MBMS radio bearer. Mobile stations without an MS_ID shall continue monitoring
their paging groups on the paging channel(s) on the (P)CCCH and skip the
reception of the radio blocks of the MBMS radio bearer that prevent the
monitoring of their paging groups, if needed. In this specification,
requirements for mobile stations in packet idle mode apply also to mobile
stations in broadcast/multicast receive mode unless stated otherwise.
## 5.4 Packet transfer mode
In packet transfer mode, the mobile station is allocated radio resources
providing one or more TBFs for physical point-to-point connection(s) on one or
more packet data physical channels for the unidirectional transfer of upper
layer PDUs between the network and the mobile station. Successive transfer of
one or more upper layer PDUs is possible. Concurrent TBFs may be established
in opposite directions. The RR sublayer provides the following services:
\- transfer of upper layer PDUs in RLC acknowledged mode;
\- transfer of upper layer PDUs in RLC unacknowledged mode;
\- transfer of upper layer PDUs in RLC non-persistent mode.
When a transfer of upper layer PDUs terminates, in either downlink or uplink
direction, the corresponding TBF is released. In packet transfer mode, when
all TBFs have been released, in downlink and uplink direction, the mobile
station returns to packet idle mode.
In packet transfer mode, upper layers may require the establishment of an RR
connection. When the mobile station enters dedicated mode (see 3GPP TS
44.018), it may abort all ongoing TBFs and leave the packet transfer mode, if
the mobile station limitations make it unable to handle the RR connection and
the procedures in packet transfer mode simultaneously.
In packet transfer mode, a mobile station that supports PS handover may be
ordered to move to a new cell through the use of a PS HANDOVER COMMAND message
that provides resources to be used for one or more of its ongoing TBFs in the
new cell (e.g. TBF resources in the new cell that have been pre-allocated by
the target BSS). A mobile station indicates that it supports PS handover in
the PS Handover Capability field/GAN PS Handover Capability field in the _MS
Radio Access Capability_ IE (see 3GPP TS 24.008). An E-UTRAN capable mobile
station indicates that it supports PS handover to E-UTRAN in the\"GERAN to
E-UTRAN support in GERAN packet transfer mode\" field of the _MS Radio Access
Capability_ IE (see 3GPP TS 24.008). The network may initiate the PS handover
procedure as a result of various trigger conditions as described in sub-clause
8.10.3.1. The PS handover procedure is described in sub-clause 8.10.
## 5.4a Dual transfer mode
In dual transfer mode, the mobile station is allocated radio resources
providing an RR connection on a dedicated traffic channel and one or more TBFs
on one or more packet data physical channels. The allocation of radio
resources for the RR connection and the TBFs is co-ordinated by the network,
in agreement with the capabilities of the mobile station in dual transfer
mode.
If a mobile station that supports multiple TBF procedures has entered dual
transfer mode where an uplink TBF is operating in exclusive allocation mode
then no additional uplink TBFs may be requested. If exclusive allocation is
not used a mobile station in dual transfer mode that supports multiple TBF
procedures may request the establishment of one or more additional uplink TBFs
by sending a Packet Resource Request message on the PACCH. If this occurs and
the network determines that re-allocation of the RR connection is required
before it can satisfy the requested TBFs it sends the mobile station a DTM
ASSIGNMENT COMMAND message to reallocate the RR connection and a combination
of one or more ongoing uplink and downlink TBFs as specified in 3GPP TS
44.018.
Successive transfer of one or more upper layer PDUs is possible. Concurrent
TBFs may be established in opposite directions. Mobile stations supporting
multiple TBF procedures may have multiple concurrent TBFs established in
opposite directions. The transfer of upper layer PDUs in RLC acknowledged or
RLC unacknowledged mode is provided.
When a transfer of upper layer PDUs terminates, in either downlink or uplink
direction, the corresponding TBF is released. In dual transfer mode, when all
TBFs have been released, in downlink and uplink directions, the mobile station
enters dedicated mode.
In dual transfer mode, at the release of the RR connection, the mobile station
may abort all ongoing TBFs and enter packet idle mode. If the mobile station
and the network support enhanced DTM CS release procedure the mobile station
may continue in packet transfer mode without entering packet idle mode, after
the release of the RR connection.
## 5.5 General procedures in packet idle and packet transfer modes
Unless explicitly stated, the requirements in this sub-clause (and sub-
clauses) apply only in packet idle mode and in packet transfer mode, neither
in dedicated mode nor in dual transfer mode.
### 5.5.1 Mobile station side
The mobile station in either packet idle or packet transfer modes shall
monitor the system information broadcast in the cell.
In packet idle mode, the mobile station shall monitor the radio blocks on
PCCCH or CCCH, as defined in sub-clauses 5.5.1.5 and 5.5.1.6. The
determination of the paging group for the mobile station is defined in 3GPP TS
45.002.
#### 5.5.1.1 Cell reselection
Cell reselection in packet idle and packet transfer modes is specified in 3GPP
TS 45.008. The RR entity on the mobile station side indicates to the upper
layers the availability of a cell and a cell change when decided by the RR
sublayer. Upper layers are advised of system information broadcast in the cell
when a new cell has been selected, or when a relevant part of this information
changes.
When the mobile station reselects a new (target) cell, the support of GPRS in
the target cell is indicated in system information sent on BCCH, see 3GPP TS
44.018. If the mobile station has received a PBCCH description for the target
cell, it shall assume that GPRS is supported, without further receiving system
information on BCCH.
NOTE: A PBCCH description for the target cell may be received in the packet
system information (neighbour cell information in PSI3 and 3bis) and/or in the
MBMS NEIGHBOURING CELL INFORMATION message (for a mobile station in
broadcast/multicast receive mode) in the old serving cell, or in a BCCH
message (SI13) in the target cell.
If a cell supports GPRS, the mobile station may perform packet access. If a
cell does not support GPRS, the mobile station is not allowed to perform
packet access.
When a cell reselection is determined by the mobile station or ordered by the
network, the mobile station may continue its operation in packet idle or in
packet transfer mode in the old serving cell, while acquiring certain system
information for the target cell.
When a cell reselection is determined by the mobile station in
broadcast/multicast receive mode shall leave the old serving cell immediately
if the distribution of MBMS NEIGHBOURING CELL INFORMATION messages is not
supported in the old serving cell (see sub-clause 7.7.3). If the distribution
of MBMS NEIGHBOURING CELL INFORMATION messages is supported in the old serving
cell, the mobile station shall continue its operation in broadcast/multicast
receive mode in the old serving cell as follows:
\- if the mobile station has received for the target cell the MBMS bearer
description for each session it is acquiring it shall leave the cell
immediately after it receives an MBMS NEIGHBOURING CELL INFORMATION message
for that target cell with the same MBMS_PTM_CHANGE_MARK as the last one
received (see note), or after 1s after cell reselection is determined,
whichever occurs first;
\- otherwise the mobile station shall leave the cell immediately after 1s
after cell reselection is determined.
NOTE 1: An MBMS_PTM_CHANGE_MARK is one received in an MBMS NEIGHBOURING CELL
INFORMATION message for a session the mobile station is acquiring.
NOTE 2: The behaviour of the mobile station after leaving the old serving cell
is described in sub-clause 8.1.6.
If the old cell does not support CCN, the operation in the old cell shall be
aborted when one of the following conditions are met:
\- the mobile station starts to receive information on PBCCH in the target
cell;
\- the mobile station has received the SI13 message (see 3GPP TS 44.018) and
there is no PBCCH present in the target cell; or
\- the criteria for camping on the old cell are no longer fulfilled (see 3GPP
TS 45.008).
If PBCCH is present in the target cell, the mobile station shall delay the
start of receiving information on PBCCH until the first occurrence of PSI1 in
block B0. If the reception of PSI1 or PSI2 messages fails (see sub-clause
5.5.1.2) the mobile station may re-establish and continue its operation in the
old cell, until the next occurrence of PSI1 in block B0, unless the mobile
station is in broadcast/multicast receive mode and performs fast reception
resumption (see sub-clause 8.1.6.2) of at least one MBMS session in the target
cell.
While the operation is maintained in the old cell, the mobile station may
suspend its TBF(s) or suspend the monitoring of radio blocks on PCCCH and
CCCH, in order to receive necessary information on BCCH in the target cell.
Such suspension may be required in both packet idle and packet transfer modes,
but shall not apply in broadcast/multicast receive mode. It is performed
without notification to the network.
Suspension of the operation in the old cell for this purpose is allowed during
the time required, for each message and according to the mobile station\'s
multislot class, to receive the required messages on BCCH in the target cell.
The allowable suspension of an uplink TBF may be extended with one block
period, in case of dynamic or extended dynamic allocation, if the mobile
station is unable to receive the corresponding USF due to the suspension of
downlink operation.
When the conditions are fulfilled to switch to the new cell, the mobile
station shall abort all TBFs in progress by immediately ceasing to decode the
downlink, ceasing to transmit on the uplink, stopping all RLC/MAC timers
except for timers related to measurement reporting. The mobile station shall
then switch to the identified specified new cell and shall obey the relevant
RLC/MAC procedures on this new cell.
If the old cell supports CCN, a mobile station shall, when the cell
reselection has been determined for other reason than path loss criterion
parameter C1 becomes negative, follow the procedures for Network Assisted Cell
Change as specified in sub-clauses 5.5.1.1a.2 and 8.8.2.
If the old cell supports CCN, a mobile station may, when the cell reselection
has been determined because the path loss criterion parameter C1 has become
negative, follow the procedures for Network Assisted Cell Change as specified
in sub-clauses 5.5.1.1a.2 and 8.8.2.
Under no circumstances and independent of whether CCN mode is supported,
operations in the old cell shall be continued more than 5 s after a cell
reselection has been determined.
#### 5.5.1.1a Network Assisted Cell Change
The mobile station shall support the Network Assisted Cell Change procedures.
The Network Assisted Cell Change consists of two independent procedures:
\- One procedure that can assist a mobile station in packet transfer mode or
MAC-Shared state with neighbour cell system information for a GSM neighbouring
cell required for initial packet access after a cell change;
\- one procedure in which the mobile station notifies the network when it has
determined to reselect to another GSM, to a 3G, or to an E-UTRAN cell and
delays the cell re-selection (CCN mode procedures) to let the network e.g. in
the case of reselection to a GSM cell, respond with neighbour cell system
information.
The Network Assisted Cell Change procedures are part of the _GERAN Feature
Package 1_. A mobile station indicating support of the _GERAN Feature Package
1_ in the Mobile Station Classmark 3 IE, the MS Radio Access Capability IE and
the MS Radio Access Capability 2 IE supports the Network Assisted Cell Change
procedures (see 3GPP TS 24.008).
#### 5.5.1.1a.1 Neighbour Cell System Information Distribution
The network may send GSM neighbour cell system information to a mobile station
in packet transfer mode or MAC-Shared state. A mobile station, which receives
this information, shall store the information for 30 seconds and during that
period the information can be used for initial access in the neighbour cell
(see sub-clause 8.8.1).
#### 5.5.1.1a.2 CCN Mode
A mobile station, which has _CCN Enabled_ , can enter _CCN Mode._
The mobile station shall enable CCN when the following criteria are fulfilled:
\- the mobile station is camping on a cell (see 3GPP TS 45.008); and
\- the network indicates CCN ACTIVE/3G CCN ACTIVE/E-UTRAN CCN ACTIVE either in
system information to all mobile stations in the cell or in an individual
order to a certain mobile station; and
\- the mobile station is neither in dedicated mode nor Dual Transfer Mode; and
\- the mobile station is in NC0 or in NC1 mode; and
\- the mobile station is in Packet Transfer mode.
The CCN procedures and the criteria for entering and leaving CCN mode are
specified in sub-clauses 8.8.2 and 8.8.3.
#### 5.5.1.1b Release of RR connection
##### 5.5.1.1b.1 General
After the release of an RR connection (see 3GPP TS 44.018, _Normal release
procedure_ and _Abnormal cases_), if the mobile station during the RR
connection is unable to monitor the system information broadcast on BCCH or
PBCCH (i.e. GPRS class B or GPRS class A mode of operation using DTM), the
mobile station shall acquire the system information broadcast in the serving
cell. The acquisition of system information shall be performed according to
the requirements in sub-clause 5.5.1.2 (PBCCH present in the cell) or sub-
clause 5.5.1.3 (PBCCH not present in the cell). The mobile station shall not
attempt a packet access or accept a packet downlink assignment before those
requirements are fulfilled.
The following exceptions, stated in sub-clauses 5.5.1.1b.2 to 5.5.1.1b. 5, may
apply.
##### 5.5.1.1b.2 Continuation of PBCCH information
At the establishment of an RR connection and if PBCCH is present in the cell,
the mobile station may keep the PSI messages received on PBCCH before the RR
connection establishment.
If the RR connection is established, maintained and released in the same
serving cell and the MS has received PSI14 messages or received and acted upon
PSI1 messages during dual transfer mode at least every 30 seconds such that
\- for PSI1, the value of the PBCCH_CHANGE_MARK has indicated no change in the
PSI messages (see sub-clause 5.5.1.2.1), and
\- for PSI14, all instances of the PSI14 messages indicate no change in the
contents of PSI messages,
the mobile station may resume the supervision of PBCCH_CHANGE_MARK and update
of PBCCH information, defined in sub-clause 5.5.1.2.1, and need not initiate a
_complete acquisition_ of PBCCH information, as specified in sub-clause
5.5.1.2.
##### 5.5.1.1b.3 Continuation of BCCH information
At the establishment of an RR connection and if PBCCH is not present in the
cell, the mobile station may keep the SI messages received on BCCH before the
RR connection establishment.
If the RR connection is established, maintained and released in the same
serving cell and the MS has received PSI14 messages or received and acted upon
PSI13/SI13 messages during dual transfer mode at least every 30 seconds such
that the value of the BCCH_CHANGE_MARK has indicated no change in the SI
messages (see sub-clause 5.5.1.3.1), the mobile station may resume the
supervision of BCCH_CHANGE_MARK and update of BCCH information, defined in
sub-clause 5.5.1.3.1, and need not initiate a _complete acquisition_ of BCCH
information, as specified in sub-clause 5.5.1.3.
##### 5.5.1.1b.4 Receipt of PSI14 message in dual transfer mode
In dual transfer mode, the mobile station may receive the PSI14 message on
PACCH in the serving cell. If the RR connection is released in the same
serving cell within 30 s after the PSI14 message was last received, the mobile
station may use the PSI14 message as a substitute for the SI13 message after
the release of the RR connection, until the SI13 message has been received or
the mobile station starts to receive information on PBCCH.
The presence of a PBCCH in the cell is indicated by a PBCCH description in the
PSI14 message. If the message does not contain the PBCCH description, the
mobile station shall assume that PBCCH is not present in the cell.
After the release of the RR connection and if PBCCH is present in the cell,
the mobile station shall perform a _complete acquisition_ of PBCCH
information, as defined in sub-clause 5.5.1.2.
After the release of the RR connection and if PBCCH is not present in the
cell, the mobile station shall perform a _complete acquisition_ of BCCH
information, as defined in sub-clause 5.5.1.3. The mobile station shall
attempt to receive the SI13 (or PSI13) message within 30 s after the last
receipt of the PSI14 message.
##### 5.5.1.1b.5 Acquisition of system information for enhanced DTM CS release
procedure in dual transfer mode
If the mobile station and the network support enhanced DTM CS release
procedure, the network may delay the release of the RR connection until the
mobile station has received the needed system information, in order to
maintain the radio resources on the PDCH(s) after the release of the RR
connection.
The network initiates enhanced DTM CS release by sending the PACKET CS RELEASE
INDICATION message on PACCH with the ENHANCED_DTM_CS_RELEASE_INDICATION
parameter set to indicate that the RR connection is to be released (i.e. upon
subsequent transmission of the CHANNEL RELEASE message to the mobile station)
and starts timer T3197.
On receipt of PACKET CS RELEASE INDICATION message with the
ENHANCED_DTM_CS_RELEASE_INDICATION parameter set to indicate that the RR
connection is to be released, the mobile station shall send the PACKET SI
STATUS (respectively PACKET PSI STATUS if the PBCCH is present) message on
PACCH to indicate which system information messages were stored while in the
dual transfer mode by the mobile station. The following system information
(respectively packet system information) messages are required to maintain
radio resources and enter packet transfer mode after the release of the RR
connection:
\- PSI1, PSI2 and PSI14 in the _Received PSI Message List_ ; or respectively
\- SI13, SI3 and SI1, if present, in the _Received SI Message List_.
The PSI (respectively SI) messages listed above shall be indicated as the
first PSI (respectively SI) messages indicated in the PACKET PSI STATUS
(respectively PACKET SI STATUS) messages. If other PSI (respectively SI)
messages are indicated in the PACKET PSI STATUS (respectively PACKET SI
STATUS) message, the priority order defined in Table 5.5.1.4.3.1 shall apply.
In case the mobile station has no information available to determine whether
PBCCH is allocated in the cell or not, the mobile station shall transmit the
PACKET SI STATUS message where an empty _Received SI Message List_ is
indicated. Upon reception of such message, the network shall determine that
the mobile station has no knowledge whether PBCCH is present in the cell. In
this case the network shall start transmitting the PSI messages if PBCCH is
present in the cell or, otherwise, SI messages.
The mobile station may request the release of the RR connection and packet
resources (e.g. if combined RAU procedure shall be performed after the release
of the RR connection) with _PS_REL_REQ_ field sent in the PACKET SI STATUS
(respectively PACKET PSI STATUS) message.
On receipt of the PACKET SI STATUS (respectively PACKET PSI STATUS) message
the network shall send the missing system information messages by using the
PACKET SERVING CELL SI message or it shall send respectively the corresponding
packet system information messages.
The mobile station is allowed to send the PACKET SI STATUS (respectively
PACKET PSI STATUS) message twice and the second sending occurrence of this
message shall take place at the first suitable opportunity at least one second
after the first transmission of that message. Whenever the mobile station has
received all required system information (respectively packet system
information) messages, it shall send the PACKET SI STATUS (respectively PACKET
PSI STATUS) message at the first suitable opportunity, even if it has already
sent the PACKET SI STATUS (respectively PACKET PSI STATUS) twice.
When the network receives the PACKET SI STATUS (respectively PACKET PSI
STATUS) message indicating that all required system information (respectively
packet system information) messages have been received by the mobile station
it shall stop timer T3197, start timer T3109 (see 3GPP TS 44.018) and send the
CHANNEL RELEASE message on the main DCCH indicating that the mobile station is
allowed to continue in packet transfer mode after the release of the RR
connection (see 3GPP TS 44.018). Upon reception of the CHANNEL RELEASE message
the mobile station shall release the RR connection, continue in packet
transfer mode and re-configure the packet resources (if provided by the PACKET
CS RELEASE INDICATION message).
If continuous timing advance parameters are provided to the mobile station in
the PACKET CS RELEASE INDICATION message, the mobile station shall start the
continuous timing advance procedure upon entering packet transfer mode. The
mobile station shall use the last timing advance value received whilst in dual
transfer mode until a new value of the timing advance is provided to the
mobile station according to the procedures defined for packet transfer mode.
If timer T3197 expires before the network receives the PACKET SI STATUS
(respectively PACKET PSI STATUS) message indicating that all required system
information (respectively packet system information) messages have been
received by the mobile station, the network shall release the RR connection by
sending the CHANNEL RELEASE message on the main DCCH indicating that the
mobile station is not allowed to continue in packet transfer mode after the
release of the RR connection (see 3GPP TS 44.018).
#### 5.5.1.1c Inter-RAT cell re-selection based on priority information
##### 5.5.1.1c.1 General
The network may provide priority information to enable priority-based cell
reselection (see 3GPP TS 45.008). Inter-RAT cell reselection based on priority
information applies only in case of autonomous cell reselection.
Two sets of priorities are defined for inter-RAT cell re-selection based on
priority information: common priorities (see sub-clause 5.5.1.1c.2) and
individual priorities (see sub-clause 5.5.1.1c.3). The mobile station shall
delete all priorities when switched off.
While providing common or individual priorities, the network shall ensure that
the GERAN priority value is different from all E-UTRAN priority values and
from all UTRAN priority values, and that all UTRAN priority values are
different from all E-UTRAN priority values.
The mobile station shall determine each set, considering only individual
priorities (respectively common priorities) when building the set of
individual (respectively common) priorities. The mobile station shall perform
the following steps:
\- If the same priority value is assigned to GERAN and to one or more UTRAN or
E-UTRAN frequencies then all such UTRAN and E-UTRAN priority values are
considered as not in the set of priorities.
\- If the same priority value is assigned to one or more UTRAN frequencies and
one or more E-UTRAN frequencies, then all such priority values are considered
as not in the set of priorities.
NOTE 1: These steps mean that if, for example, there are two UTRAN priority
values and one E-UTRAN priority value that are all the same, then the three
priority values are considered as not in the set of priorities.
A set of individual priorities is valid if it contains at least one priority.
A set of common priorities is valid if both of the following conditions are
met:
\- The set of priorities includes a priority for GERAN;
\- The mobile station does not have a valid set of individual priorities.
If the mobile station has a valid set of priorities, the priorities in this
set shall be used for priority-based reselection as specified in 3GPP TS
45.008.
NOTE 2: It is possible that individual priorities inherited from UTRAN or
E-UTRAN (see sub-clause 5.5.1.1c.3) do not contain a priority for GERAN.
##### 5.5.1.1c.2 Common priorities information
The mobile station may receive common priorities information as specified in
3GPP TS 44.018.
In addition, a mobile station may receive common priorities information in the
_Priority and E-UTRAN Parameters Description_ IE in the PACKET MEASUREMENT
ORDER message.
##### 5.5.1.1c.3 Provision of individual priorities information
A mobile station shall store individual priorities information if received in
the _Individual Priorities_ IE in the PACKET MEASUREMENT ORDER or the PACKET
CELL CHANGE ORDER messages.
If received in a PACKET CELL CHANGE ORDER message, the mobile station shall
use the parameters provided in the _Individual Priorities_ IE only upon
successful completion of the network controlled cell reselection procedure as
described in sub-clause 8.4.1. If the T3230 timeout value is provided, the
mobile station shall set timer T3230 to the value received and start timer
T3230 (or restart timer T3230 with the timeout value provided if already
running).
Stored individual priorities shall be deleted by the mobile station when any
of the following occurs:
\- a PLMN selection is performed and results in a change of PLMN and the new
PLMN is not an equivalent PLMN, see 3GPP TS 23.122; or
\- the mobile station is switched off; or
\- a PACKET MEASUREMENT ORDER or PACKET CELL CHANGE ORDER message is received
with an indication that the individual priorities shall be deleted; or
\- new individual priorities are received; or
\- timer T3230 expires.
At inter-RAT cell reselection from UTRAN or E-UTRAN to GERAN or cell selection
or handover that results in a change of RAT from UTRAN or E-UTRAN to GERAN,
the MS shall inherit individual priority information if the corresponding
timer (T320 if the last serving RAT was E-UTRA; T322 if the last serving RAT
was UTRA) has not expired. In this case the mobile station shall start timer
T3230 with the timeout value set to the remaining validity time of the
corresponding timer from the source RAT. If this inherited individual priority
information includes more than one individual priority for GERAN frequencies,
then the mobile station shall apply only the one applicable to the BCCH
carrier of the first serving GERAN cell after the change of RAT as the
individual priority for all GERAN cells for as long as the mobile station
remains in GERAN. In this case the mobile station shall not apply the other
GERAN individual priority(ies) until the MS leaves GERAN (see 3GPP TS 25.331,
3GPP TS 36.331).
NOTE: The network may provide individual priorities information for inter-RAT
frequencies not configured by system information.
##### 5.5.1.1d Void
#### 5.5.1.2 System information on PBCCH
If PBCCH is present in the serving cell, the mobile station shall receive the
PACKET SYSTEM INFORMATION (PSI) messages broadcast on PBCCH. The parameters
determining the schedule of PSI messages on PBCCH are provided in the PSI1
message.
When a new cell has been selected where PBCCH is present, the mobile station
shall perform a _complete acquisition_ of PBCCH messages (see 5.5.1.4). The
mobile station shall not perform packet access in the selected cell, or enter
the packet transfer mode or the MAC-Shared state, until it has:
\- acquired the PACKET SYSTEM INFORMATION TYPE 1 (PSI1) message;
\- acquired a consistent set of PSI2 messages; and
\- made at least one attempt to receive the complete set of PSI messages on
PBCCH.
If the network supports the PACKET PSI STATUS message, the mobile station may
perform packet access or maintain its radio resources (PDCH(s)) when the RR
connection is released while in dual transfer mode, and enter packet transfer
mode or the MAC-Shared state, as soon as the PSI1 message and a consistent set
of PSI2 messages have been received. In this case, the mobile station shall
implement the request for acquisition of system information (see 5.5.1.4.3).
When the PSI1 message has been received, the mobile station shall supervise
the PBCCH_CHANGE_MARK and perform update of PBCCH information as specified in
sub-clause 5.5.1.2.1. In addition, while camping on a cell, the mobile station
shall take into account any PSI message that may be received on PCCCH and
PACCH.
Once that the mobile station starts to acquire the information on PBCCH, the
information sent to a mobile station in RLC/MAC control messages shall be
independent of the information provided on the BCCH. If the mobile station
receives information in an RLC/MAC control message that depends on the BCCH
information, the behaviour of the mobile station is not specified.
##### 5.5.1.2.1 Supervision of PBCCH_CHANGE_MARK and update of PBCCH
information
While camping on a cell where PBCCH is present, the mobile station shall
attempt to receive the PSI1 message at least every 30 seconds. The mobile
station shall then take into account any occurrence of the PSI1 message that
may be received on PACCH during packet transfer mode or MAC-Shared state. The
mobile station shall also take into account any occurrence of the PSI1 message
that may be received on PCCCH during periods in packet idle mode or MAC-Idle
state. If the PSI1 message is not received, the mobile station shall attempt
to receive this message on PBCCH during periods in packet idle mode or MAC-
Idle state.
If the mobile station has not received the PSI1 message within the last 30
seconds, it shall attempt to receive the PSI1 message each time it is
scheduled on PBCCH. Such attempts shall be made during packet idle mode,
packet transfer mode, MAC-Idle state and MAC Shared state. A mobile station in
packet transfer mode or MAC-Shared state may suspend its TBF(s) for this
purpose (see 5.5.1.4.2).
The PSI1 message contains the PBCCH_CHANGE_MARK and PSI_CHANGE_FIELD
parameters. The mobile station shall store the value of the last
PBCCH_CHANGE_MARK received.
If the mobile station receives a PBCCH_CHANGE_MARK and detects that the value
has been incremented by one unit, compared to the previous value, the mobile
station shall perform a _partial acquisition_ of PBCCH information. The
information that shall be received is determined by the PSI_CHANGE_FIELD
parameter:
\- If the PSI_CHANGE_FIELD parameter indicates an update of a specific type or
specific types of PSI messages, the mobile station shall receive at least one
instance of each of the indicated type(s) of PSI messages.
\- If the PSI_CHANGE_FIELD parameter indicates an update of an unspecified
type or types of PSI messages, the mobile station shall receive at least one
message instance within each consistent set of PSI messages on PBCCH. It shall
also receive all PSI messages on PBCCH not belonging to a consistent set.
\- If the PSI_CHANGE_FIELD parameter indicates an update of an unknown type of
PSI message, the mobile station is not required to receive any PBCCH
information.
When a PSI message is received, the mobile station shall consider the PSI
_change mark_ value, if such is received in the message and take appropriate
action (see sub-clause 5.5.1.4.1).
Whenever the mobile station receives a PBCCH_CHANGE_MARK and detects that the
value has been incremented by more than one unit, compared to the previous
value, the mobile station shall perform a _complete acquisition_ of PBCCH
messages (see sub-clause 5.5.1.4).
##### 5.5.1.2.2 Replacement of PBCCH
The mobile station may receive a PSI1 message indicating that PBCCH is being
deactivated in the cell. Moreover, the mobile station may receive a PSI13
message on PACCH or PCCCH providing a different PBCCH description than the one
currently being used, or a PSI13 message indicating that PBCCH is not present
in the cell.
If the mobile station detects that PBCCH is being deactivated in the cell, or
receives an indication that PBCCH is no longer present in the cell, it shall
attempt to receive the SI13 message on BCCH. For this purpose, the mobile
station may suspend its operation in packet idle mode, packet transfer mode,
MAC-Idle state and MAC-Shared state (see 5.5.1.4.2). When the SI13 has been
received, further action depends on the contents of the SI13 message:
\- If the SI13 message contains a PBCCH description, the mobile station shall
perform a _complete acquisition_ of PBCCH messages using the indicated PBCCH
(see sub-clause 5.5.1.4).
\- If the SI13 message does not contain a PBCCH description, the mobile
station shall perform a _complete acquisition_ of BCCH messages.
\- If the mobile station receives a PSI13 message with a PBCCH description
different from that currently being used, the mobile station shall perform a
_complete acquisition_ of PBCCH messages using the new PBCCH.
##### 5.5.1.2.3 PSI1 reception failure
If the mobile station has not received the PSI1 message within the last 60 s,
a PSI1 reception failure has occurred. A PSI1 reception failure shall result
in a cell reselection.
#### 5.5.1.3 System information on BCCH
The presence of a PBCCH in the cell is indicated by a PBCCH description in the
SI13 message on BCCH. If the mobile station receives an SI13 message without a
PBCCH description, it shall assume that PBCCH is not present in the cell. If
PBCCH is not present in the serving cell, the mobile station shall receive the
SYSTEM INFORMATION (SI) messages broadcast on BCCH.
When a new cell has been selected where PBCCH is not present, the mobile
station shall perform a _complete acquisition_ of BCCH messages (see sub-
clause 5.5.1.4). The mobile station shall not perform packet access in the
selected cell, or enter the packet transfer mode, until it has:
\- acquired the SYSTEM INFORMATION TYPE 3 (SI3), SI13 and, if present, SI1
messages;
\- made at least one attempt to receive other SI messages that may be
scheduled within one TC cycle on BCCH (see 3GPP TS 45.002).
If the network supports the PACKET SI STATUS message, the mobile station may
perform packet access or maintain its radio resources (PDCH(s)) when the RR
connection is released while in dual transfer mode, and enter packet transfer
mode, as soon as the SI3, SI13 and, if present, SI1 messages have been
received. In this case, the mobile station shall implement the request for
acquisition of system information (see sub-clause 5.5.1.4.3).
When the SI13 message has been received, the mobile station shall supervise
the BCCH_CHANGE_MARK and perform update of BCCH information.
##### 5.5.1.3.1 Supervision of BCCH_CHANGE_MARK and update of BCCH information
While camping on a cell where PBCCH is not present, the mobile station shall
attempt to receive the SI13 or the PSI13 message at least every 30 s. The
mobile station shall then take into account any occurrence of the PSI13
message that may be received on PACCH during packet transfer mode. If PSI13 is
not received, the mobile station shall attempt to receive the SI13 message on
BCCH during periods in packet idle mode.
If the mobile station has received neither the SI13 nor the PSI13 message
within the last 30 s, it shall attempt to receive the SI13 message each time
it is scheduled on BCCH. Such attempts shall be made during both packet idle
and packet transfer modes. A mobile station in packet transfer mode may
suspend its TBF(s) for this purpose (see sub-clause 5.5.1.4.2).
The SI13 and PSI13 messages contain the BCCH_CHANGE_MARK and SI_CHANGE_FIELD
parameters. When camped on a cell where PBCCH is not present, the mobile
station shall store the value of the last BCCH_CHANGE_MARK received. In that
case, if the mobile station detects that the value has been incremented by one
unit, compared to the previous value, the mobile station shall perform a
_partial acquisition_ of BCCH information. The information that shall be
received is determined by the SI_CHANGE_FIELD parameter:
\- If the SI_CHANGE_FIELD parameter indicates an update of a specific type or
specific types of SI messages, the mobile station shall receive at least one
instance of each of the indicated type(s) of SI messages.
\- If the SI_CHANGE_FIELD parameter indicates an update of an unspecified type
or types of SI messages, the mobile station shall receive at least one message
instance within each consistent set of SI messages on BCCH. It shall also
receive all SI messages on BCCH not belonging to a consistent set.
\- If the SI_CHANGE_FIELD parameter indicates an update of an unknown type of
SI message, the mobile station is not required to update any BCCH information.
When an SI message is received, the mobile station shall consider a SI _change
mark_ value, if such is received in the message and take appropriate action
(see sub-clause 5.5.1.4.1).
If the mobile station detects that the BCCH_CHANGE_MARK value has been
incremented by more than one unit, compared to the previous value, the mobile
station shall perform a _complete acquisition_ of BCCH messages (see sub-
clause 5.5.1.4).
##### 5.5.1.3.2 Establishment of PBCCH
The mobile station may receive an SI13 or PSI13 message providing a PBCCH
description indicating that PBCCH is present in the cell. The mobile station
shall then perform a _complete acquisition_ of PBCCH messages using the
indicated PBCCH (see sub-clause 5.5.1.4).
##### 5.5.1.3.3 SI13 reception failure
If the mobile station has not received the SI13 or the PSI13 message within
the last 60 s, a SI13 reception failure has occurred. An SI13 reception
failure shall result in a cell reselection.
#### 5.5.1.4 Acquisition of system information on the broadcast channel
This procedure shall be used by a mobile station that supports GPRS (in _A/Gb
mode)_ or _Iu mode_ in order to perform a complete or partial acquisition of
either PBCCH or BCCH information. As part of this procedure, the mobile
station may implement the request for acquisition of system information as
specified in sub-clause 5.5.1.4.3.
When PBCCH is not present in a cell this procedure starts:
\- when the mobile station is camped on BCCH and receives a BCCH_CHANGE_MARK
or SI _change mark_ value indicating that system information is changed.
When PBCCH is present in a cell this procedure starts:
\- when the mobile station is camped on PBCCH and receives a PBCCH_CHANGE_MARK
or PSI _change mark_ value indicating that packet system information is
changed.
Moreover, the procedure shall start at any other indication, which may be
received by the mobile station, that the stored system information for the
serving cell is no longer valid.
At cell selection or cell reselection, in case PBCCH is present in the target
cell, this procedure starts when the mobile station starts to receive the
information on PBCCH. In case PBCCH is not present in the target cell, the
procedure starts when the mobile station has received the SI13 message.
In a _complete acquisition_ of either PBCCH or BCCH information, the mobile
station shall receive all PSI or SI messages that are scheduled on the
respective broadcast channel. The mobile station shall delete any PSI or SI
_change mark_ value that was stored before the acquisition of PBCCH or BCCH
information started.
In a _partial acquisition_ of either PBCCH or BCCH information, only a certain
subset of the PSI or SI messages that are scheduled on the respective
broadcast channel shall be received. The mobile station may consider the state
of the PSI or SI _change mark_ values, without restriction, to reduce the
total number of messages to receive.
When the mobile station acquires a set of PSI or SI messages on the respective
broadcast channels, it may receive these messages during packet idle mode,
packet transfer mode, MAC-Idle state, MAC-Shared state and broadcast/multicast
receive mode. While the mobile station is in packet idle mode or MAC-Idle
state or broadcast/multicast receive mode if the network has indicated that
the system information is not sent on the PACCH, an attempt to receive a
required message shall be made each time the message is scheduled on the
broadcast channel, until the message is received. While the mobile station is
in packet transfer mode, MAC-Shared state or broadcast/multicast receive mode
if the nework has indicated that the system information is sent on the PACCH,
it shall receive any PSI message that is sent by the network on PACCH. While
the mobile station is in dual transfer mode or MAC-DTM state, it may disregard
any PSI message except PSI14 message that is sent by the network on PACCH.
If the mobile station has not received the required messages within 10 seconds
after the start of this procedure, an attempt to receive a missing message
shall be made each time the message is scheduled on the broadcast channel.
These attempts shall then be performed during packet idle mode, packet
transfer mode, MAC-Idle state, MAC-Shared state and broadcast/multicast
receive mode. A mobile station in packet transfer mode or MAC-Shared state may
suspend its TBF(s) for this purpose, as specified in 5.5.1.4.2. A mobile
station in broadcast/multicast receive mode may skip the reception of radio
blocks of the MBMS radio bearer for the same purpose, as specified in
5.5.1.4.2.
A second acquisition of either PBCCH or BCCH information may be initiated
(e.g. when the mobile station receives a PSI or SI _change mark_ value) before
a previous acquisition is completed. In this case, the mobile station shall
discard and immediately begin re-acquiring all the system information messages
of the particular type to which the changemark value refers.
To allow future extension of PSI message types, the mobile station may
disregard a message in a position within the schedule of PSI messages on
PBCCH, where it receives a valid RLC/MAC control block, but diagnoses an
unknown or unexpected (non-PSI) message type. When this condition is detected,
the mobile station needs not to receive the PBCCH block in this position
again, until a change in the schedule of PBCCH messages is detected or a
_complete acquisition_ of PBCCH information is required.
##### 5.5.1.4.1 Consistent sets of system information messages
A mobile station, receiving a PSI or SI message belonging to a consistent set
of system information messages, shall store the last PSI or SI _change mark_
value received for the set of messages (see table 5.5.2.1.4.1). A mobile
station lacking all non-GSM capabilities defined for PSI6, PSI7, SI 18 or SI
20 shall consider those message as irrelevant when making a determination of
whether or not a consistent set of system information messages has been
received.
A mobile station that does not support UTRAN shall consider a PSI3quater
message as irrelevant when making a determination of whether or not a
consistent set of system information messages has been received.
Whenever mobile station receives a PSI or SI _change mark_ value, which is not
equal to the previously stored value for the set of messages, the mobile
station shall perform a _partial acquisition_ of either PBCCH or BCCH
information. It shall then receive all instances of the PSI or SI messages
belonging to the consistent set of system information messages.
If a mobile station detects an inconsistency amongst the PSI or SI _count_ and
_index_ parameters within a consistent set of system information messages or
any other inconsistency making the information that is contained invalid, the
mobile station shall discard the messages received so far and delete the
stored PSI or SI _change mark_ value. The mobile station may then restart the
acquisition of the affected system information messages.
##### 5.5.1.4.2 Suspension of operation to receive system information
During certain conditions, the mobile station in packet transfer mode or MAC-
Shared state is allowed to suspend its TBF(s) to receive certain information
on PBCCH or BCCH. A mobile station in broadcast/multicast receive mode may
suspend the reception of radio blocks of the MBMS radio bearer for the same
purpose. Such suspension is made without notification to the network.
Suspension of its TBF(s) or suspension of the reception of radio blocks of the
MBMS radio bearer for this purpose is allowed during the time required, for
each message and according to the mobile station\'s multislot class, to
receive the required messages on PBCCH or BCCH. The allowable suspension of an
uplink TBF may be extended with one block period, in case of dynamic or
extended dynamic allocation, if the mobile station is unable to receive the
corresponding USF due to the suspension of downlink operation. In case it
conflicts with the transmission of a polling response, priority shall be given
to the acquisition of blocks on the PBCCH or BCCH channel.
##### 5.5.1.4.3 Request for acquisition of system information
As an option, the mobile station may implement the request for acquisition of
system information. If the network supports the PACKET PSI STATUS message or
the PACKET SI STATUS message, the mobile station shall then send the PACKET
PSI STATUS message to the network, each time an acquisition of PBCCH
information is initiated or the PACKET SI STATUS message to the network, each
time an acquisition of BCCH information is initiated.
A mobile station supporting the Network Assisted Cell Change or enhanced DTM
CS release procedures shall implement the request for acquisition of system
information (see sub-clauses 5.5.1.1a and 5.5.1.1b.5).
The PACKET SI STATUS message shall always contain the PSCSI_SUPPORT field.
The PACKET PSI STATUS (respectively PACKET SI STATUS) message shall indicate
the present status of PSI (respectively SI) messages stored in or requested
but not received by the mobile station. The mobile station shall include as
many PSI (respectively SI) message types that fit into the _Received PSI
Message List_ (respectively _Received SI Message List_) construction in the
PACKET PSI STATUS (respectively PACKET SI STATUS) message and that meet the
following criteria:
\- The PSI (respectively SI) message type is relevant for the mobile station,
based on the features the mobile station supports (e.g. non-GSM and multi-RAT
capabilities); and
\- In case of optional PSI (respectively SI) messages types, the PSI
(respectively SI) message type shall be indicated by the network as present on
PBCCH (respectively BCCH).
If the presence of an optional PSI (respectively SI) message type cannot be
determined, based on the information received, the mobile station shall assume
that the optional PSI (respectively SI) message type is present.
NOTE 1: On PBCCH, the presence of optional PSI messages is indicated in PSI1
and PSI2.
NOTE 2: On BCCH, SI2, SI3, SI4 and, if present, SI9 indicate the presence of
optional SI messages, except SI1. The presence of SI1 can be determined by
reading the BCCH Norm block at TC = 0.
The \"ADDITIONAL_MSG_TYPE\" information should reflect whether all PSI
(respectively SI) message types that satisfy the criteria given above fit into
a given PACKET PSI STATUS (respectively PACKET SI STATUS) message or not.
The message type value for these PSI (respectively SI) messages shall be
included in the _Received PSI Message List_ (respectively _Received SI Message
List_) in the PACKET PSI STATUS (respectively PACKET SI STATUS) message. The
message types that may be indicated are given in table 5.5.1.4.3.1. The
message types shall be indicated in descending order of priority. The network
may use this information to determine which PSI (respectively SI) message
types the mobile station is able to receive and the present status of the PSI
(respectively SI) messages stored in the mobile station.
Table 5.5.1.4.3.1: Message types that may be indicated at a request for
acquisition of system information during packet transfer mode
* * *
Type of status message PSI (respectively SI) message types, descending order
of priority PACKET PSI STATUS message PSI2  _(highest priority)_ , PSI3,
PSI3bis, PSI5, PSI3ter, PSI3quater, PSI6, PSI7, and PSI8  _(lowest priority)_
PACKET SI STATUS message SI1  _(highest priority)_ , SI3, SI2, SI2bis, SI2ter,
SI2quater, SI4, SI2n, SI7, SI8, SI9, SI15, SI16, SI17, SI18, SI20 and SI19
_(lowest priority)_
* * *
During a partial acquisition of PSI (respectively SI) messages, see sub-clause
5.5.1.4, the mobile station may need to obtain the current PSI (respectively
SI) _change mark_ value for certain types of PSI (respectively SI) messages.
In that case, the mobile station may use this procedure and indicate the
present status for that PSI (respectively SI) message type in the PACKET PSI
STATUS (respectively PACKET SI STATUS) message, except that the message
instance corresponding to the PSI (respectively SI) _index_ parameter = 0
shall be indicated as not received.
The PACKET PSI STATUS (respectively PACKET SI STATUS) message may also be used
to indicate the message type of a PSI (respectively SI) message that is
required but has not been received by the mobile station.
The PACKET PSI STATUS (respectively PACKET SI STATUS) message is sent on PACCH
when the mobile station is in packet transfer mode or MAC-Shared state. The
first sending of this message during the acquisition of PBCCH (respectively
BCCH) information shall take place at the first suitable opportunity after the
acquisition is initiated. This is also allowed during the contention
resolution.
During the acquisition of PBCCH (respectively BCCH) information, up to four
PACKET PSI STATUS (respectively PACKET SI STATUS) messages may be sent to the
network. The second sending occurrence of this message shall take place at the
first suitable opportunity at least one second after that the message is sent
the first time. Further sending occurrences shall take place at the first
suitable opportunity at least two seconds after that the message was sent the
previous time. At each sending occurrence, this message shall be updated
according to the present status of PSI (respectively SI) messages in the
mobile station.
The PACKET PSI STATUS (respectively PACKET SI STATUS) message shall not be
sent when the mobile station has started to suspend its TBF(s) in order to
receive the required PSI (respectively SI) messages on PBCCH (respectively
BCCH). The PACKET PSI STATUS (respectively PACKET SI STATUS) message shall not
be sent when the mobile station has acquired the complete set of PSI
(respectively SI) messages on PBCCH (respectively BCCH), unless a new partial
or full acquisition of system information is required.
#### 5.5.1.5 Discontinuous reception (DRX)
A mobile station in packet idle mode shall listen to the radio blocks on CCCH
or PCCCH as defined in 3GPP TS 45.002.
In the _GPRS attach procedure_ , defined in 3GPP TS 24.008, the mobile station
requests values for the SPLIT_PG_CYCLE and NON_DRX_TIMER parameters to be
applied on CCCH or PCCCH.
NOTE: The support of the SPLIT_PG_CYCLE parameter is optional on CCCH, see
3GPP TS 45.002.
The SPLIT_PG_CYCLE and NON_DRX_TIMER parameters control:
\- the occurrence of paging blocks on CCCH or PCCCH belonging to the mobile
station (SPLIT_PG_CYCLE parameter, see 3GPP TS 45.002) in DRX mode (see 3GPP
TS 43.064); and
\- the duration of the non-DRX mode period to be applied by the mobile station
when it has left the packet transfer mode or the dual transfer mode and then
enters the packet idle mode.
There are five cases when the mobile station shall enter a non-DRX mode
period.
1) At the transition from the packet transfer mode to the packet idle mode,
the mobile station shall enter the Transfer non-DRX mode period.
2) At the transition from the dual transfer mode to the dedicated mode or
packet idle mode, the mobile station shall enter the Transfer non-DRX mode
period.
In both cases, the duration of the Transfer non-DRX mode period is determined
by value of the NON_DRX_TIMER parameter, requested in the _GPRS attach
procedure_ , and the value of the DRX_TIMER_MAX parameter broadcast in the
cell. The mobile station may use the minimum value of these two parameters.
If the mobile station receives a new value of the DRX_TIMER_MAX parameter
during the Transfer non-DRX mode period, the mobile station may wait to apply
the new value until the next time the Transfer non-DRX mode period is entered.
3) A mobile station operating in NC2 mode shall enter the NC2 non-DRX mode
period when it sends an NC measurement report. The duration of this period is
defined by the NC_NON_DRX_PERIOD parameter.
4) When initiating the MM procedures for _GPRS attach_ and _routeing area
update_ defined in 3GPP TS 24.008, the mobile station shall enter the MM non-
DRX mode period. This period ends when either of the messages GPRS ATTACH
ACCEPT, GPRS ATTACH REJECT, ROUTING AREA UPDATE ACCEPT or ROUTING AREA UPDATE
REJECT is received by the mobile station. This period also ends after timeout
when waiting for any of these messages.
5) The mobile station shall enter the MBMS non-DRX mode period when it
receives a pre-notification for an MBMS service and MBMS session, and the MBMS
service is a broadcast service or is a multicast service previously joined by
the mobile station and the MBMS session has not yet been received by the
mobile station. The mobile station shall also enter the MBMS non-DRX mode
period, if not already in it, when the mobile station sends the MBMS SERVICE
REQUEST message, unless the MBMS packet access procedure is performed on
MPRACH during fast reception resumption. The mobile station shall also enter
the MBMS non-DRX mode period, if not already in it, when it receives a
notification for an MBMS service and MBMS session, and the MBMS service is a
broadcast service or is a multicast service previously joined by the mobile
station and the MBMS session has not yet been received by the mobile station,
and the notification:
\- indicates that no counting shall be performed and contains no MBMS p-t-m
channel description;
\- or, specifies an MBMS radio bearer starting time which has not yet elapsed.
The MBMS non-DRX mode period ends when a notification (containing an MBMS
p-t-m channel description) or the MBMS ASSIGNMENT message, addressing the same
MBMS session and not specifying an MBMS radio bearer starting time or
specifying an MBMS radio bearer starting time already elapsed, is received by
the mobile station. If the notification or the MBMS ASSIGNMENT message
specifies an MBMS radio bearer starting time which has not yet elapsed, the
period ends when the point in time denoted by the MBMS radio bearer starting
time occurs, unless any subsequent notification or MBMS ASSIGNMENT message
addressing the same MBMS session and received by the mobile station, before
the point in time denoted by the MBMS radio bearer starting time, provides an
up-to-date value of the MBMS radio bearer starting time or does not include an
MBMS radio bearer starting time.
The MBMS non-DRX mode period also ends after timeout when waiting for the MBMS
notification of the pre-notified MBMS service and MBMS session or after
timeout when waiting for the MBMS ASSIGNMENT message.
The non-DRX mode periods defined above run independent of each other and may
overlap. The non-DRX mode periods have effect only in packet idle mode. In
packet idle mode, the mobile station shall be in non-DRX mode during any of
the non-DRX mode periods. Otherwise, the mobile station in packet idle mode
may be in DRX mode.
If the mobile station establishes an RR connection during any of the non-DRX
mode periods, then that period shall continue to run.
#### 5.5.1.6 Page mode procedures on PCCCH
The network sends page mode information in all downlink message on PCCCH (and
PACCH, see note). The page mode information controls possible additional
requirements on a mobile station receiving the message.
NOTE: PCCCH, PDTCH and PACCH may be operated in frame stealing mode on the
same PDCH. A mobile station in packet idle mode or MAC-Idle state shall
consider any RLC/MAC control message received in such a radio block as
belonging to PCCCH. A mobile station in packet transfer mode, dual transfer
mode, MAC-Shared state or MAC-DTM state shall consider any RLC/MAC control
message received as belonging to PACCH.
A mobile station in packet transfer mode, dual transfer mode, MAC-Shared state
or MAC-DTM state shall not consider the page mode information received in any
message that is received on a PDCH.
A mobile station in packet idle mode or MAC-Idle state shall take into account
the page mode information in any message received in a radio block on PCCCH
corresponding to its paging group. The mobile station shall not take into
account the page mode information in a message received in any other radio
block than those corresponding to its paging group. The requirements yielded
by the page mode information are as follows:
\- _normal paging:_ no additional requirements;
\- _extended paging:_ the mobile station is required in addition to receive
and analyse the possible message in the third block period on PCCCH where
paging may occur (PPCH), following the block corresponding to MS\'s paging
group;
\- _paging reorganization:_ The mobile station shall receive all messages on
the PCCCH regardless of the BS_PAG_BLKS_RES setting. It is required to receive
all PBCCH messages. When the mobile station receives the next message to its
(possibly new) paging group, subsequent action is defined by the page mode
information in that message;
\- _same as before:_ no change of page mode from the previous page mode.
Note that a mobile station takes into account the page mode information only
in packet idle mode or MAC-Idle state and only in messages received in a radio
block corresponding to its paging group, whatever the currently applied
requirements are (normal paging, extended paging or paging reorganization).
When the mobile station selects a new PPCH, the initial page mode in the
mobile station shall be set to paging reorganization. If an RLC/MAC block in a
paging sub-channel does not contain page mode information, or if it is not
received correctly, the default page mode information is _same as before_.
#### 5.5.1.7 Frequency Parameters
Frequency parameters may be included in the packet assignment messages (i.e.,
PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION messages)
and define the training sequence codes(s) (TSC) and the radio frequency
channels or set of radio frequency channels the mobile station is to use
during the assigned TBF(s). The first assignment message, sent to the mobile
station when it enters packet transfer mode or MAC-Shared state, shall include
the frequency parameters. Subsequent assignment messages, sent to the mobile
station during packet transfer mode or MAC-Shared state, may omit the
frequency parameters. If a mobile station receives a subsequent assignment
message, during packet transfer mode or MAC-Shared state, without the
frequency parameters, the mobile station shall continue to use the previously
assigned frequency parameters.
A packet assignment message, when sent to a mobile station in dual transfer
mode or MAC-DTM state, shall not include the frequency parameters for the
carrier supporting the dedicated resources in a Downlink Dual Carrier
configuration. If the network intends to change the frequency allocation of
the carrier supporting the dedicated resources for a mobile station in dual
transfer mode or MAC-DTM state, the network may use the DTM assignment
procedure defined in 3GPP TS 44.018.
If the network and mobile station both support Downlink Dual Carrier, the
network may send a packet assignment message to a mobile station specifying
packet resources for one or more TBFs on two carriers (referred to as carrier
1 and carrier 2) and thereby establish a Downlink Dual Carrier configuration.
If this message is sent to a mobile station in packet idle mode, the
assignment message shall include frequency parameters for both carriers. If
this message is sent to a mobile station which is in packet transfer mode (and
is not in a Downlink Dual Carrier configuration) the assignment message shall
either:
\- provide new frequency parameters for both carriers, or
\- provide frequency parameters for only one carrier (carrier 2) in which case
the frequency parameters for carrier 1 remain unchanged.
Subsequent assignment messages sent to a mobile station in a Downlink Dual
Carrier configuration may:
\- include frequency parameters which correspond to the frequency parameters
already in use for one or both carriers; or
\- provide no new frequency parameters, in which case the existing parameters
continue to apply; or
\- provide new frequency parameters for both carriers; or
\- provide new frequency parameters for only one carrier, in which case the
frequency parameters for the other carrier remain unchanged.
When a mobile station has resources assigned on only one carrier then, for the
purposes of subsequent assignment messages, that carrier shall be considered
carrier 1. A subsequent assignment message may assign resources on a second
carrier, thereby establishing a Downlink Dual Carrier configuration; in this
case, the assignment message shall provide frequency parameters for a second
carrier (carrier 2) for use in a Downlink Dual Carrier configuration.
An assignment message sent to a mobile station in packet transfer mode may
specify frequency parameters for one or (in the case of a mobile station with
a downlink dual carrier configuration) both carriers which are different from
those currently in effect for that mobile station only in the following cases:
a) the assignment message is a PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF
TIMESLOT RECONFIGURE message.
b) the assignment message is a PACKET DOWNLINK ASSIGNMENT message
(respectively PACKET UPLINK ASSIGNMENT message) being sent to a mobile station
which has no ongoing uplink (respectively downlink) TBF(s).
c) the assignment message is a MULTIPLE TBF DOWNLINK ASSIGNMENT message
(respectively MULTIPLE TBF UPLINK ASSIGNMENT message) being sent to a mobile
station which is or, after this assignment, will be in a downlink dual carrier
configuration and has no ongoing uplink (respectively downlink) TBF(s); in
this case, the ongoing downlink (respectively uplink) TBFs are implicitly
reassigned on the new frequency parameters with all other parameters for those
TBFs unchanged.
d) the assignment message is a PACKET DOWNLINK ASSIGNMENT message
(respectively PACKET UPLINK ASSIGNMENT message) sent to a mobile station with
a downlink dual carrier configuration, where the frequency parameters for only
one carrier are changed, and where no ongoing uplink (respectively downlink)
TBF(s) had resources assigned on that carrier.
In cases c) and d) above, a format of the message which includes the Carrier
ID field shall be used.
When assigning resources on one carrier to a mobile station which is currently
in a Downlink Dual Carrier configuration using a format of the message which
does not include the Carrier ID field, the network shall always include
frequency parameters; if one or more TBFs which are ongoing are not explicitly
addressed in the assignment message and will remain ongoing after the new
assignment, the included frequency parameters shall be those in use for either
carrier 1 or carrier 2.
The Frequency Parameters information element is defined in sub-clause 12.8 and
the Dual Carrier Frequency Parameters information element is defined in sub-
clause 12.8.2. The frequency parameters may use an ARFCN defining a non-
hopping radio frequency channel, or use the indirect encoding, direct encoding
1 or direct encoding 2 defining a hopping radio frequency channel.
The indirect encoding defines the assigned set of radio frequency channels by
referencing information stored within the mobile station. Such information may
be received on PBCCH or BCCH (see sub-clauses 5.5.2.1, 11.2.19, 12.8 and
12.10a and 3GPP TS 44.160,), or be received in a previous assignment message
using one of the direct encoding options. An MA_NUMBER identifies which of up
to eight stored sets of frequency parameters is to be used. The MA_NUMBER
shall use the following coding:
MA_NUMBER = 0-13 shall be used to reference a GPRS mobile allocation received
in a PSI2 message;
MA_NUMBER = 14 shall be used to reference a GPRS mobile allocation received in
a SI13 or PSI13 message;
MA_NUMBER = 15 shall be used to reference a GPRS mobile allocation received in
a previous assignment message using the direct encoding.
When the indirect encoding is used, the network may include a CHANGE_MARK_1
and a CHANGE_MARK_2 in the Frequency Parameters information element. The
mobile station shall then verify that it is using a set of PBCCH or BCCH
information identified by a PSI or SI _change mark_ corresponding to one of
the CHANGE_MARK_1 or 2 parameters, for the decoding of the frequency
information. If that is not the case, an abnormal condition occurs.
The direct encoding defines the assigned set of radio frequency channels by
using information contained within the assignment message. The direct encoding
1 references the cell allocation or reference frequency lists received on
PBCCH for the decoding of this information. The direct encoding 2 is self
contained. When the direct encoding 1 or 2 is used, the mobile station shall
store the received GPRS mobile allocation for possible later reference in an
assignment message using the indirect encoding. Such reference shall be made
using the MA_NUMBER = 15.
NOTE: If there is a GPRS mobile allocation associated with MA_NUMBER = 15, the
association shall be kept unchanged if the mobile station receives a packet
assignment using the indirect encoding (referencing any value of the
MA_NUMBER), the frequency parameters are not included in the packet assignment
(i.e., in packet transfer mode, dual transfer mode, MAC-Shared state or MAC-
DTM state) or the mobile station establishes an RR connection (for A/Gb mode)
or is allocated a DBPSCH (for Iu mode).
For the decoding of frequency parameters, the mobile station shall be able to
store the following frequency information (see sub-clauses 11.2.19, 12.8 and
12.10a):
\- four Reference Frequency Lists received in the PSI2 information and the
corresponding RFL_NUMBERs for identification, each RFL having a contents
length of up to 18 octets;
\- a Cell Allocation received in the PSI2 information referencing up to four
RFLs;
\- seven GPRS Mobile Allocations received in the PSI2 or the SI13/PSI13
information and the corresponding MA_NUMBERs for identification, each GPRS
Mobile Allocation information element having a length of up to 12 octets (96
bits); and
\- one GPRS mobile allocation received in an assignment message using direct
encoding 1 or 2, consisting of either a GPRS Mobile Allocation information
element having a length of up to 12 octets (96 bits) or a MA Frequency List
having a contents length of up to 18 octets.
The mobile station shall be able to store the frequency information for the
PCCCH description corresponding to its own PCCCH_GROUP (see sub-clause
11.2.19).
If the mobile station supports SMSCB, it shall be able to store the frequency
information for the CBCH to be used in packet idle mode or MAC-Idle state.
The frequency information that the mobile station has stored while camping on
a cell shall be deleted when the mobile station reselects a new cell.
#### 5.5.1.8 TLLI management
In case the mobile station receives a message assigning a new P-TMSI from the
network during the contention resolution procedure, the mobile station shall
continue to use the old TLLI until the contention resolution is completed.
After contention resolution the mobile station shall apply new TLLI in RLC/MAC
control block if the mobile has received a new P-TMSI.
The BSS shall not include TLLI within RLC/MAC control messages it sends to a
mobile station in packet transfer mode.
#### 5.5.1.9 Packet Flow Context (PFC)
Packet Flow Context (PFC) procedures are described in 3GPP TS 23.060. A Packet
Flow Identifier (PFI) is used to identify a PFC.
Network support of packet flow context (PFC) procedures is indicated by the
PFC_FEATURE_MODE parameter that is broadcast on either the BCCH or PBCCH. If
the PFC_FEATURE_MODE field indicates that the network does not support PFC
procedures then a mobile station shall not indicate a PFI value during uplink
TBF establishment. If the PFC_FEATURE_MODE field indicates that the network
supports PFC procedures then a mobile station may indicate a PFI value during
uplink TBF establishment. The PFI value identifies the initial PFC used during
the TBF.
If the network indicates it supports multiple TBF procedures (see sub-clause
7.0) then it shall also indicate support for PFC procedures. When the network
and the mobile station both support multiple TBF procedures then the mobile
station shall indicate the PFI value associated with each uplink TBF it
attempts to establish and the network shall indicate the PFI value associated
with each downlink TBF it attempts to establish.
A network or mobile station that supports PS handover or DTM handover shall
also support PFC procedures.
In case no valid PFI value is assigned for the LLC data to be transmitted, and
the network indicates support for the PFC procedures, an MS supporting PFC
procedures shall associate and indicate the following PFI values for the LLC
data:
PFI=0 (Best Effort) for user data,
PFI=1 (Signalling) for GMM/SM signalling (LLC SAPI 1), or
PFI=2 (SMS) for Short Message Service (LLC SAPI 7), or
PFI=3 (TOM8) for LLC SAPI 8 data.
#### 5.5.1.10 Acquisition of E-UTRAN Information on the PACCH
An MS that receives a full set of instances of the PACKET MEASUREMENT ORDER
message that includes one or more IEs used to provide E-UTRAN related
information shall proceed as follows:
\- The information provided by all instances of the _Repeated E-UTRAN
Neighbour Cells_ IE shall be added to the E-UTRAN Neighbour Cell list built by
the last received consistent set of SI2quater messages (see sub-clause
5.6.3.1a).
\- The information provided by all instances of the _Repeated E-UTRAN Not
Allowed Cells_ IE for any given frequency shall be used to build a new E-UTRAN
Not Allowed Cells list for that frequency.
\- The information provided by all instances of the _Repeated E-UTRAN PCID to
TA mapping_ IE for any given frequency shall be used to build new E-UTRAN PCID
to TA mapping for that frequency.
If an MS receives a full set of instances of the PACKET MEASUREMENT ORDER
message that excludes an IE used to provide E-UTRAN related information that
was provided within the last received consistent set of SI2quater messages
(e.g. the _Priority and E-UTRAN Parameters Description struct_ provides a "0"
for the _E-UTRAN Parameters Description_ IE), the MS shall resort back to
using the corresponding information provided by the last received SI2quater
message (see NOTE).
If an MS receives a full set of instances of the PACKET MEASUREMENT ORDER
message that includes an IE used to provide E-UTRAN related information that
was provided within the last received consistent set of SI2quater messages but
none of the fields associated with the included IE provide any information,
the MS shall resort back to using the corresponding information provided by
the last received SI2quater message (see NOTE).
If an MS receives a full set of instances of the PACKET MEASUREMENT ORDER
message that includes an IE used to provide E-UTRAN related information but
only a subset of the fields associated with the included IE actually provide
information, the MS shall use the fields that provide information to update
their corresponding stored parameters and shall use values for the fields for
which no information was provided as described in Table 11.2.9b.2.
If an MS receives a full set of instances of the PACKET MEASUREMENT ORDER
message that limits the information provided within the _Repeated E-UTRAN Not
Allowed Cells_ IE to only providing one or more E-UTRAN frequency indices
(i.e. only the E-UTRAN_FREQUENCY_INDEX field contains information), the MS
shall ignore this IE.
NOTE: If the last received consistent set of SI2quater messages has not
provided a value for any given E-UTRAN related parameter then the MS uses the
default value for that parameter unless otherwise specified.
### 5.5.2 Network side
#### 5.5.2.1 System Information broadcasting
##### 5.5.2.1.1 System information on PBCCH
If PBCCH is present in the cell, the network regularly broadcasts PACKET
SYSTEM INFORMATION TYPE (PSI) 1, 2, 3 and 3bis messages, and optionally
PSI3ter, PSI3quater and some types of PSI messages on the PBCCH. The PSI 2,
PSI 3bis, PSI3 ter, PSI3quater messages and some further types of PSI messages
may be broadcast in multiple number of instances. Based on the information
broadcast in PSI messages, the mobile station is able to decide whether and
how it may gain access to the system via the current cell.
NOTE: The network should take into account the limitations of earlier version
of mobile equipments to understand the 3-digit MNC format of the location area
identification, see sub-clause 12.23 and 3GPP TS 44.018, table \"Location Area
Identification .information element\".
Instances of the PSI 5 message are broadcast on PBCCH if the mobile stations
camping on the cell shall perform measurement reporting, see 3GPP TS 45.008.
Instances of the PSI6 and PSI7 message may be broadcast on the PBCCH if non-
GSM broadcast information is transmitted.
The PSI8 message may be broadcast on the PBCCH if additional information (i.e.
CBCH configuration and dynamic ARFCN mapping) shall be provided to the mobile
station camping on the cell.
The PSI1 message contains the PBCCH_CHANGE_MARK and PSI_CHANGE_FIELD
parameters. The value of the PBCCH_CHANGE_MARK may be incremented by one,
modulo 8, each time the network makes a change in the PBCCH information. Such
change includes any addition, removal or replacement of PSI messages, contents
of PSI messages, or change in the scheduling of PSI messages on PBCCH. A
change in the contents of the PSI1 message alone shall not be reflected in the
PBCCH_CHANGE_MARK. When the PBCCH_CHANGE_MARK is incremented, the
PSI_CHANGE_FIELD parameter shall be set to an appropriate value to indicate
the nature of the latest change in the PBCCH information.
The network may increment the PBCCH_CHANGE_MARK value by more than one, modulo
8, in order to enforce a complete acquisition of PBCCH information of all
mobile stations.
In order to avoid extensive TBF suspensions following an increment of the
PBCCH_CHANGE_MARK parameter, the network may send PSI messages on PACCH to
mobile stations in packet transfer mode.
The network indicates the support of the PACKET PSI STATUS and EGPRS PACKET
CHANNEL REQUEST messages in the PSI1 message.
##### 5.5.2.1.2 System information on BCCH
In addition to the requirements in 3GPP TS 44.018, a SYSTEM INFORMATION TYPE
13 (SI13) message is regularly broadcast by the network on the BCCH to support
GPRS. Optionally and if PBCCH is not present in the cell, additional types of
SI messages may be broadcast on BCCH. Some of them may be broadcast in
multiple number of instances. If PBCCH is present in the cell, only the SI13
message is required on BCCH to support GPRS.
Based on this information, the GPRS mobile station is able to decide whether
and how it gains access to the system via the current cell when PBCCH is not
present.
The SI13 message contains the BCCH_CHANGE_MARK and SI_CHANGE_FIELD parameters.
If PBCCH is not present in the cell, the value of the BCCH_CHANGE_MARK may be
incremented by one, modulo 8, each time the network makes a change in the BCCH
information. Such change includes any addition, removal or replacement of SI
messages, contents of SI messages, or change in the scheduling of SI messages
on BCCH. Changes in the contents of the SI13 message shall not to be reflected
in the BCCH_CHANGE_MARK. Changes of the contents of the RACH Control
Parameters information element alone (see 3GPP TS 44.018) may optionally be
reflected in the BCCH_CHANGE_MARK; if reflected, the SI_CHANGE_FIELD parameter
may indicate only one of the SI message containing the RACH Control
Parameters. When the BCCH_CHANGE_MARK is incremented, the SI_CHANGE_FIELD
parameter shall be set to an appropriate value to indicate the nature of the
latest change in the BCCH information.
When PBCCH is not present in the cell, the network may increment the
BCCH_CHANGE_MARK value by more than one, modulo 8, in order to enforce a
complete acquisition of BCCH information of all mobile stations.
If PBCCH is not present in the cell, instances of the SI 18 and SI 20 message
may be broadcast on the BCCH if non-GSM broadcast information is transmitted.
The network indicates the support of the PACKET SI STATUS message in the SI13
message.
##### 5.5.2.1.3 System information on PACCH (and other logical channels)
The network may broadcast PSI and SI messages on PACCH. In particular, if a
mobile station is busy in packet transfer mode or MAC-Shared state and thus
unable to receive the relevant blocks on the broadcast channels (PBCCH or
BCCH) for a period longer than 15 seconds, the following requirements apply:
\- If PBCCH is present in the cell, the network may broadcast the PSI1 message
on PACCH such that the mobile station may receive the PSI1 message at least
every 15 s.
\- If PBCCH is not present in the cell, the network may broadcast the PSI13
message on PACCH such that the mobile station may receive the PSI13 messages
at least every 15 s.
If the network has indicated the use of in-band signalling for a given MBMS
radio bearer (with the MBMS In-band Signalling Indicator information element
included in the MBMS ASSIGNMENT message in the serving cell and/or in the MBMS
NEIGHBOURING CELL INFORMATION message in the old cell), it shall broadcast the
full system information on PACCH of that MBMS radio bearer, as described in
sub-clause 5.5.2.1.3b.
Furthermore, the network may broadcast PSI messages on PCCCH. In particular,
the network may send the PSI1 and PSI13 messages on PCCCH to notify mobile
stations in packet idle mode or MAC-Idle state about changes in the PBCCH
information or changes of the PBCCH channel description.
If the network supports the PACKET PSI STATUS message and this message is
received from a mobile station, the network may schedule the missing PSI
messages for that mobile station on PACCH (sub-clause 5.5.1.4.3). Optionally,
the missing PSI messages may be sent in one or more instances of the PACKET
SERVING CELL DATA message for that mobile station on PACCH.
If the network supports the PACKET SI STATUS message and this message is
received from a mobile station, the network may schedule the missing SI
messages in one or more instances of the PACKET SERVING CELL DATA message for
that mobile station on PACCH (sub-clause 5.5.1.4.3), or, in case the mobile
station has indicated in the PACKET SI STATUS message that it supports the
PACKET SERVING CELL SI message, the network should use the PACKET SERVING CELL
SI messages instead of the PACKET SERVING CELL DATA messages.
If the network supports the SI2n message, it shall always use the PACKET
SERVING CELL SI message when broadcasting the SI2n messages on PACCH.
NOTE: This is required due to the fact that the PACKET SERVING CELL SI is a
distribution message making it possible for all mobile stations capable of
decoding the SI2n message and listening to the PACCH to be able to receive the
content.
The network may send the PSI14 message on PACCH to a mobile station in dual
transfer mode or MAC-DTM state. The scheduling of the PSI14 message is
determined by the network.
If PBCCH is present in the cell and the network changes the contents of any of
the PSI messages, it shall set the PSI_CHANGED_IND to \"1\" in all the PSI14
messages it sends in the next 30 seconds. Otherwise, the PSI_CHANGED_IND shall
be set to \"0\".
When a PSI or SI message is received on PACCH during dual transfer mode, no
parameters except those relevant for monitoring possible changes in the
contents of SI or PSI messages (e.g. PBCCH_CHANGE_MARK, BCCH_CHANGE_MARK,
PSI_CHANGED_IND) shall be applied by the MS for operation in dual transfer
mode.
The network may send neighbour cell PSI and SI messages on PACCH in one or
more instances of the PACKET NEIGHBOUR CELL DATA message (see sub-clause
8.8.1).
##### 5.5.2.1.3a Rules for (P)SI distribution within Packet Serving Cell Data
messages
In order to ensure a consistent distribution and decoding of (P)SI messages
contained in PACKET SERVING CELL DATA messages, the following rules shall
apply:
> \- Whenever the network starts sending a set of PACKET SERVING CELL DATA
> message instances in response to any PACKET (P)SI STATUS message, the first
> PACKET SERVING CELL DATA message instance shall be started with
> CONTAINER_INDEX=0. If SI1 is broadcast in the serving cell and the MS has
> requested the SI1 message, the network shall include the SI1 message as the
> first SI message contained in the set of PACKET SERVING CELL DATA messages,
> starting from the message with CONTAINER_INDEX=0. If the MS is able to
> decode the first SI message contained in the set of PACKET SERVING CELL DATA
> messages but it was not the SI1 message, the MS shall conclude that SI1 is
> not broadcast in the serving cell.
\- All subsequent instances of a PACKET SERVING CELL DATA message set shall be
sent in ascending order of CONTAINER_INDEX value. It is allowed to send a
PACKET SERVING CELL DATA message with the same CONTAINER_INDEX value more than
once.
\- Whenever the MS receives a PACKET SERVING CELL DATA message instance with
CONTAINER_INDEX=0 or with a CONTAINER_INDEX value that is less than the
CONTAINER_INDEX value of the last received PACKET SERVING CELL DATA message
instance, it shall delete any PACKET SERVING CELL DATA message instances it
may have stored but it shall keep the already extracted PSI/SI message
instances.
\- Whenever the MS leaves packet transfer mode, it shall delete any PACKET
SERVING CELL DATA message instances it may have stored but it shall keep the
already extracted PSI/SI message instances.
NOTE : In order to increase the probability that the MS receives the PACKET
SERVING CELL DATA message instances (especially the one with CONTAINER_INDEX
=0), the network may poll the MS with a valid RRBP field in the RLC/MAC header
of a PACKET SERVING CELL DATA message. Alternatively, the network may repeat
the PACKET SERVING CELL DATA message instances one or more times.
##### 5.5.2.1.3b Rules for (P)SI distribution on PACCH of an MBMS radio bearer
If the network has indicated the use of in-band signalling for a given MBMS
radio bearer, it shall broadcast on the PACCH the full system information
provided on the (P)BCCH:
\- In case PBCCH is allocated in the cell, the network shall broadcast the
consistent set of PSI messages (it broadcasts on PBCCH), on the PACCH/D of the
MBMS radio bearer.
\- In case PBCCH is not allocated in the cell, the network shall broadcast the
consistent set of SI messages (it broadcasts on the BCCH), on the PACCH/D of
the MBMS radio bearer using PACKET SERVING CELL SI messages.
##### 5.5.2.1.4 Consistent sets of system information messages
Certain types of PSI and SI messages are sent on PBCCH and BCCH in a multiple
number of instances. If such a PSI or SI message type is sent on (P)BCCH, the
mobile station shall receive a consistent set of that type of PSI or SI
message. In some cases, more than one type of PSI messages may be joined into
one consistent set, see table 5.5.2.1.4.1.
Table 5.5.2.1.4.1: Consistent sets of system information messages
+----------+----------+----------+----------+----------+----------+ | **Co |** Br | **Number |** PSI or | **PSI or |** PSI or | | nsistent | oadcast\ | of | SI | SI | SI | | set /\ | C | ins | change | index\ | count\ | | Message | hannel**| tances** | mark\ | par | par | | T | | | par | ameter**| ameter** | | ype(s)**| | | ameter** | | | +----------+----------+----------+----------+----------+----------+ | PSI2 | PBCCH | 1 - 8 | PS | PSI | PSI | | | | | I2_CHAN | 2_INDEX | 2_COUNT | | | | | GE_MARK | | | | | | | (Note 3) | | | +----------+----------+----------+----------+----------+----------+ | PSI3 | PBCCH | 1 | PS | | | | | | | I3_CHAN | | | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | PSI3 bis | PBCCH | 1 - 16 | PS | PSI3bi | PSI3bi | | | | | I3_CHAN | s_INDEX | s_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | PSI3 ter | PBCCH | 0 - 16 | PS | PSI3te | PSI3te | | | | | I3_CHAN | r_INDEX | r_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | PSI3 | PBCCH | 0 - 16 | PS | P | P | | quater | | | I3_CHAN | SI3quate | SI3quate | | | | | GE_MARK | r_INDEX | r_COUNT | +----------+----------+----------+----------+----------+----------+ | PSI5 | PBCCH | 0 - 8 | PS | PSI | PSI | | | | | I5_CHAN | 5_INDEX | 5_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | PSI6 | PBCCH | 0 - 8 | PS | PSI | PSI | | | | | I6_CHAN | 6_INDEX | 6_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | PSI7 | PBCCH | 0 - 8 | PS | PSI | PSI | | | | | I7_CHAN | 7_INDEX | 7_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | PSI8 | PBCCH | 0 - 8 | PS | PSI | PSI | | | | | I8_CHAN | 8_INDEX | 8_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | SI13\ | BCCH | 1 | SI | | | | (Notes1 | | | 13_CHAN | | | | and 2) | | | GE_MARK | | | | | | | (Note 3) | | | +----------+----------+----------+----------+----------+----------+ | SI2 ter | BCCH | 0 - 8 | SI2ter_ | SI2te | SI2te | | | | | MP_CHAN | r_INDEX | r_COUNT | | | | | GE_MARK | | | | | | | and | | | | | | | SI2t | | | | | | | er_3G_ | | | | | | | CHAN | | | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | SI2 | BCCH | 0 - 16 | BA_IND, | SI2quate | SI2quate | | quater | | | 3G\ | r_INDEX | r_COUNT | | | | | _BA_IND | | | | | | | and | | | | | | | MP_CHAN | | | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | SI2n | BCCH | 0 - 16 | SI | SI2 | SI2 | | | | | 2n_CHAN | n_INDEX | n_COUNT | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | SI15 | BCCH | 0 - 4 | DM_CHAN | SI1 | SI1 | | | | | GE_MARK | 5_INDEX | 5_COUNT | +----------+----------+----------+----------+----------+----------+ | SI18 | BCCH | 0 - 8 | SI | SI1 | None | | | | | 18_CHAN | 8_INDEX | (Note 4) | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | SI19 | BCCH | 0 - 8 | SI | SI1 | None | | | | | 19_CHAN | 9_INDEX | (Note 4) | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | SI20 | BCCH | 0 - 8 | SI | SI2 | None | | | | | 20_CHAN | 0_INDEX | (Note 4) | | | | | GE_MARK | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | If the | | | | | | | SI13 | | | | | | | message | | | | | | | provides | | | | | | | a GPRS | | | | | | | mobile | | | | | | | all | | | | | | | ocation, | | | | | | | it shall | | | | | | | also | | | | | | | provide | | | | | | | an | | | | | | | SI1 | | | | | | | 3_CHANG | | | | | | | E_MARK. | | | | | | | The | | | | | | | SI | | | | | | | 13_CHAN | | | | | | | GE_MARK | | | | | | | shall be | | | | | | | used if | | | | | | | the | | | | | | | indirect | | | | | | | encoding | | | | | | | of the | | | | | | | f | | | | | | | requency | | | | | | | inf | | | | | | | ormation | | | | | | | is | | | | | | | applied | | | | | | | in a | | | | | | | packet | | | | | | | ass | | | | | | | ignment, | | | | | | | r | | | | | | | eferring | | | | | | | to the | | | | | | | GPRS | | | | | | | mobile | | | | | | | al | | | | | | | location | | | | | | | provided | | | | | | | in the | | | | | | | SI13 | | | | | | | message. | | | | | | | There is | | | | | | | only one | | | | | | | instance | | | | | | | of the | | | | | | | SI13 | | | | | | | message. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | PSI13 | | | | | | | message | | | | | | | may be | | | | | | | received | | | | | | | on | | | | | | | PACCH. | | | | | | | It | | | | | | | provides | | | | | | | the same | | | | | | | inf | | | | | | | ormation | | | | | | | as SI13, | | | | | | | i | | | | | | | ncluding | | | | | | | the | | | | | | | SI1 | | | | | | | 3_CHANG | | | | | | | E_MARK. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If PSI2 | | | | | | | and SI13 | | | | | | | _change | | | | | | | mark_ | | | | | | | values | | | | | | | need to | | | | | | | be | | | | | | | distin | | | | | | | guished, | | | | | | | e.g. | | | | | | | during | | | | | | | an | | | | | | | ac | | | | | | | tivation | | | | | | | or | | | | | | | release | | | | | | | of | | | | | | | PBCCH, | | | | | | | the | | | | | | | network | | | | | | | should | | | | | | | assign | | | | | | | app | | | | | | | ropriate | | | | | | | values | | | | | | | to these | | | | | | | par | | | | | | | ameters. | | | | | | | | | | | | | | NOTE 4: | | | | | | | For | | | | | | | SI18, | | | | | | | SI19 and | | | | | | | SI20 | | | | | | | m | | | | | | | essages, | | | | | | | there is | | | | | | | no | | | | | | | _count_ | | | | | | | p | | | | | | | arameter | | | | | | | (see | | | | | | | 3GPP TS | | | | | | | 44.018). | | | | | | +----------+----------+----------+----------+----------+----------+
A consistent set of system information messages is identified by a PSI or SI
_change mark_ parameter included in each message in the set. All messages
within a consistent set shall have the same value of this parameter.
The total number of system information messages of a certain type within a
consistent set is indicated by a PSI or SI _count_ parameter included in each
message in the set. The position of a certain message instance within the
consistent set of system information messages is indicated by a PSI or SI
_index_ parameter.
The PSI or SI _count_ parameter shall have the value N-1, where N is the
number of instances of the particular message type present in the consistent
set. The PSI or SI _index_ parameter shall have a range from zero to N-1.
Different instances of a particular message type in a consistent set shall
have different values of the PSI or SI _index_ parameter.
#### 5.5.2.2 Paging
The network is required to send valid RLC data blocks or RLC/MAC control
blocks continuously on all subchannels on PCCCH where paging can appear.
NOTE: If RLC data blocks are sent in the blocks on PCCCH where paging may
appear, the network uses the coding schemes CS-1 to CS-4, in order to avoid
the expiry of the downlink signalling counter for non-EGPRS capable mobile
stations (see 3GPP TS 45.002).
#### 5.5.2.3 Network Assisted Cell Change
A cell that supports GPRS (in _A/Gb mod_ e) and/or _Iu mode_ shall indicate if
CCN is enabled. This shall be indicated on BCCH and on PBCCH in the parameter
CCN_ACTIVE (see sub-clause 12.24). The network may also send a PACKET
MEASUREMENT ORDER message with the parameter CCN_ACTIVE set to order an
individual mobile station to apply the CCN procedures in the serving cell or a
PACKET CELL CHANGE ORDER or a PS HANDOVER COMMAND message to order an
individual mobile station to apply the CCN procedures in the new cell. This
parameter controls the overall enabling of CCN. The network may also indicate
in system information messages sent on BCCH and PBCCH and individually in the
PACKET MEASUREMENT ORDER or PACKET CELL CHANGE ORDER or PS HANDOVER COMMAND
messages whether CCN mode shall be entered towards a particular cell (see sub-
clause 8.8.2). A GSM cell that supports PS handover to _GAN mode_ shall ensure
that CCN is enabled for all GAN neighbour cells.
The network may also send neighbour cell system information on PACCH to be
used by the mobile station at initial access after cell re-selection (see sub-
clause 8.8.1).
When the network receives a PACKET CELL CHANGE NOTIFICATION message from the
mobile station, the network may respond by sending neighbour cell system
information for the proposed cell or another cell and also complete the
transmission of ongoing data packets before sending a PACKET CELL CHANGE
CONTINUE message (to confirm the proposed cell) or a PACKET CELL CHANGE ORDER
message. The neighbour cell information is sent in PACKET NEIGHBOUR CELL DATA
messages.
The ARFCN for BCCH and the BSIC identifying a GSM neighbour cell shall be
included in the PACKET CELL CHANGE CONTINUE message in case a set of PACKET
NEIGHBOUR CELL DATA messages referred by the corresponding CONTAINER_ID value
was sent for that cell without ARFCN and BSIC provided. If included by the
network in the PACKET CELL CHANGE CONTINUE message, ARFCN and BSIC shall
reflect the cell proposed in the PACKET CELL CHANGE NOTIFICATION message. Upon
reception of the PACKET CELL CHANGE CONTINUE message the mobile station shall
continue the cell reselection in NC0/NC1 mode irrespective of the cell
indicated in the ARFCN and BSIC parameters.
#### 5.5.2.4 Packet Switched Handover
Packet switched handover is applicable only in packet transfer mode.
If the network supports PS handover it may initiate the PS handover procedure
for a mobile station that supports PS handover as a result of various trigger
conditions such as, but not restricted to, the following:
\- Upon reception of a PACKET CELL CHANGE NOTIFICATION message from a mobile
station operating in NC0.
\- Upon reception of a PACKET CELL CHANGE NOTIFICATION message or measurement
reports from a mobile station operating in NC1.
\- Upon reception of measurement reports from a mobile station operating in
NC2.
\- Upon determining that resource limitations exist for the serving cell.
\- Upon receiving the _Service UTRAN CCO_ IE from the SGSN indicating that a
mobile station operating in A/Gb mode would be better served in a cell
supporting a different RAT.
For PS handover to a GSM neighbour cell the NC mode applicable to the new cell
shall be indicated by the PS HANDOVER COMMAND message sent to the mobile
station in the old cell.
## 5.6 Measurement reports
### 5.6.0 General
The network may request measurement reports from the MS. The measurement
reporting principles are specified in 3GPP TS 45.008. The measurement reports
consists of
\- Network Control (NC) measurement reports sent when the MS is in _A/Gb mode_
and GMM Ready state (see 3GPP TS 24.008) or the MS is in _Iu mode_ and in RRC-
Cell_Shared state; this may be performed with either the PACKET MEASUREMENT
REPORT message or the PACKET ENHANCED MEASUREMENT REPORT message.
### 5.6.1 Network Control (NC) measurement reporting
The behaviour of the mobile station is controlled by the parameter
NETWORK_CONTROL_ORDER broadcast in the PSI5 message on PBCCH, in the SI13 and
SI2quater messages on the BCCH and in the PSI13 message on PACCH.
Alternatively, the network may send the NETWORK_CONTROL_ORDER parameters in a
PACKET MEASUREMENT ORDER or in a PACKET CELL CHANGE ORDER message on PCCCH or
PACCH to a particular mobile station or in a PS HANDOVER COMMAND message sent
on PACCH to a particular mobile station. The parameter NETWORK_CONTROL_ORDER
may have one of the values NC0, NC1, NC2 or RESET, see 3GPP TS 45.008.
When in mode NC1 or NC2, the mobile station shall perform the NC measurements
as defined in 3GPP TS 45.008. The reporting periods are indicated in the
NC_REPORTING_PERIOD_I and NC_REPORTING_PERIOD_T field of the PSI5, the
SI2quater, the PACKET CELL CHANGE ORDER or the PACKET MEASUREMENT ORDER
message. If NC_NON_DRX_PERIOD, NC_REPORTING_PERIOD_I or NC_REPORTING_PERIOD_T
have not been received by the mobile station the default values shall be used.
The mobile station shall apply to the timer T3158 either the
NC_REPORTING_PERIOD_I when in packet idle mode or the NC_REPORTING_PERIOD_T
when in packet transfer mode. The measurement results shall be sent to the
network using the procedures specified in sub-clause 7.3 for packet idle mode,
and in sub-clause 8.3 for packet transfer mode.
On expiry of timer T3158, the mobile station shall restart timer T3158 with
the indicated reporting period, perform the measurements and send either the
PACKET MEASUREMENT REPORT message or the PACKET ENHANCED MEASUREMENT REPORT to
the network. The condition for sending the PACKET ENHANCED MEASUREMENT REPORT
message instead of the PACKET MEASUREMENT REPORT message is based on the
REPORT_TYPE parameter and if the MS has received BSIC information for all
cells. For the detailed conditions see sub-clauses 11.2.23, 11.2.4 and 11.2.9b
and also 3GPP TS 44.018 sub-clause 10.5.2.33b.
A mobile station in mode NC1 or NC2 may receive a new indicated reporting
period while timer T3158 is active. If the new indicated reporting period is
less than the time to expiry of timer T3158, the mobile station shall
immediately restart timer T3158 with the new indicated reporting period.
Otherwise, the timer T3158 shall continue to run.
When changing from packet transfer mode to packet idle mode, a mobile station
in mode NC1 or NC2 shall restart the timer T3158 with the reporting period
determined by the NC_REPORTING_PERIOD_I parameter if at least one PACKET
MEASUREMENT REPORT or PACKET ENHANCED MEASUREMENT REPORT message was sent in
packet transfer mode. Otherwise the timer T3158 shall continue to run.
When changing from packet idle mode to packet transfer mode, a mobile station
in mode NC1 or NC2 shall restart the timer T3158 with the reporting period
determined by the NC_REPORTING_PERIOD_T parameter if the reporting period is
less than the time to expiry of timer T3158. Otherwise the timer T3158 shall
continue to run.
When a mobile station leaves the GMM Ready state, the timer T3158 shall be
stopped and no more measurement reports shall be sent to the network.
A mobile station may reselect a new cell or may be ordered to reselect a new
cell with mode NC1 or NC2 while timer T3158 is active. If time to expiry of
timer T3158 is greater than the indicated reporting period for the new cell,
the mobile station shall immediately restart timer T3158 with the indicated
reporting period for the new cell. Otherwise, the timer T3158 shall continue
to run.
At cell reselection the NC measurement parameters valid for the mobile station
in the new cell (NETWORK_CONTROL_ORDER, NC_NON_DRX_PERIOD,
NC_REPORTING_PERIOD_I and NC_REPORTING_PERIOD_T) are either:
\- brought from the old cell if received in a PACKET CELL CHANGE ORDER message
sent in the old cell; or
\- received in a broadcast PSI5, SI13, PSI13 or SI2quater message in the new
cell. If no parameters have been brought from the old cell, and until
individual measurement parameters are received in the new cell, the mobile
station shall use the broadcast measurement parameters from PSI5 if a PBCCH is
allocated in the cell or SI2quater if a PBCCH is not allocated in the cell or
use the default parameter values.
The default frequency list to be applied in the new cell following a cell
reselection or the successful completion of the PS handover procedure shall be
the BA(GPRS) list of that cell until a new PACKET MEASUREMENT ORDER message is
received. For the case of cell reselection the BA(GPRS) list could also have
been modified by frequency parameters received in a PACKET CELL CHANGE ORDER
message in the old cell.
For (NC) measurements reporting, the Mobile Station shall use PACKET ENHANCED
MEASUREMENT REPORT messages instead of PACKET MEASUREMENT REPORT messages if
that is indicated by the parameter REPORT_TYPE and if at least one BSIC is
allocated to each frequency in the BA(GPRS) list.
For a mobile station supporting UTRAN, reports on 3G cells may also be
included in the reporting. For a mobile station supporting "E-UTRAN Neighbour
Cell measurements and MS autonomous cell reselection to E-UTRAN", reports on
E-UTRAN cells may also be included in the reporting. For report with the
PACKET MEASUREMENT REPORT message, reporting is performed on three separate
lists: the BA(GPRS), the 3G Neighbour Cell List (for a multi-RAT MS supporting
UTRAN) and the E-UTRAN Neighbour Cell List (for a MS supporting "E-UTRAN
Neighbour Cell measurements and MS autonomous cell reselection to E-UTRAN").
For report with the PACKET ENHANCED MEASUREMENT REPORT message, reporting is
performed on the Neighbour Cell List (defined in sub-clause 5.6.3.3) and the
E-UTRAN Neighbour Cell List (for a multi-RAT MS supporting "E-UTRAN Neighbour
Cell measurements and MS autonomous cell reselection to E-UTRAN").
A multi-RAT MS supporting UTRAN and/or E-UTRAN shall not send any measurement
reports for cells that are known to be UTRAN/E-UTRAN CSG cells other than in a
PACKET CELL CHANGE NOTIFICATION message for a CSG cell which is the proposed
target cell (see sub-clause 8.8.3).
A mobile station involved in an RR connection (in class A mode of operation),
shall not send Network Control measurement reports to the network during that
period. The mobile station shall return to the previous reporting mode when
the RR connection is released.
### 5.6.2 (void)
### 5.6.3 Additional measurement and reporting parameters
Some parameters from the PACKET MEASUREMENT ORDER, PACKET CELL CHANGE ORDER,
SI2quater, PSI3bis, PSI3ter, PSI3quater or PSI5 messages allow to build GPRS
Measurement Parameters, GPRS 3G Measurement Parameters, GPRS E-UTRAN
Measurement Parameters and neighbour cell lists which are used for Network
Control (NC) measurement reporting.
#### 5.6.3.1 Deriving the 3G Neighbour Cell list from the 3G Neighbour Cell
description
In a cell without a PBCCH allocated, the 3G Neighbour Cell list is given by
one or more instances of the SI2quater message with the same 3G_BA_IND value.
In a cell with a PBCCH allocated, the 3G Neighbour Cell list is given by one
or more instances of the PSI3quater message with the same PSI3_CHANGE_MARK
value.
The 3G Neighbour cell list may be modified by a PACKET CELL CHANGE ORDER
message (in which case the reference list is given on the new cell) or by one
or more instances of the PACKET MEASUREMENT ORDER message with the same
3G_BA_IND value or PSI3_CHANGE_MARK value.
The 3G Neighbour Cell list may contain up to 96 3G Neighbour Cells and/or
UTRAN frequencies for RSSI reporting.
Each _3G Neighbour Cell Description_ received is added to the 3G Neighbour
Cell list, starting with the index equal to the parameter Index_Start_3G. If
this parameter is not present then the value 0 shall be used.
For each 3G Neighbour Cell Description received, the cells / UTRAN frequencies
are indexed in the following order:
1: UTRAN FDD cells / UTRAN FDD frequencies: FDD UARFCNs are indexed in the
order of occurrence in the 3G Neighbour Cell description. For each FDD UARFCN
indicating UTRAN FDD cells, the cells are indexed in the order of increasing
values of the decoded FDD_CELL_INFORMATION parameters.
2: UTRAN TDD cells / UTRAN TDD frequencies: TDD UARFCNs are indexed in the
order of occurrence in the 3G Neighbour Cell description. For each TDD UARFCN
indicating UTRAN TDD cells, the cells are indexed in the order of increasing
values of the decoded TDD_CELL_INFORMATION parameters.
If more than one cell / UTRAN frequency with the same index in the 3G
Neighbour Cell list are provided by different instances of 3G Neighbour Cell
descriptions, the cell / UTRAN frequency from the message instance with the
highest index shall be used. In case the same 3G Cell / UTRAN frequency occurs
more than once in the resulting 3G Neighbour Cell list, each occurrence shall
be assigned an index but only the cell / UTRAN frequency with the highest
index in the 3G Neighbour Cell list shall be referred to in measurement
reports.
The _3G Neighbour Cell Description_ may contain information on 3G Neighbour
Cells / UTRAN frequencies to be removed (_REMOVED_3GCELL_Description)_. The
cells / UTRAN frequencies to be removed are identified by their indices in the
3G Neighbour Cell list. Removed cells / UTRAN frequencies shall keep their
indices but no measurement shall be performed. If the index is higher than 95
or points to a 3G cell / UTRAN frequency that does not exist, this shall not
be considered as an error.
In a cell without PBCCH allocated, the mobile station shall only combine 3G
Neighbour cells / UTRAN frequencies from SI2quater messages indicating the
same value of the 3G_BA_IND without any message indicating a different value
of the 3G_BA_IND received in between.
In a cell with a PBCCH allocated, the mobile station shall only combine 3G
Neighbour cells / UTRAN frequencies from PSI3quater messages indicating the
same PSI3_CHANGE_MARK value.
If a 3G Neighbour Cell Description includes non-supported frequencies or Radio
Access Technologies or if the same cell / UTRAN frequency occurs more than
once, this shall not be considered as an error; indices in the 3G neighbour
Cell list shall be incremented accordingly. If a cell / UTRAN frequency is
provided for an index higher than 95 in the 3G Neighbour Cell list, this shall
not be considered as an error; the cell / UTRAN frequency shall not be
included in the 3G Neighbour Cell list.
The MS behaviour is not specified if the number of 3G frequencies or cells
exceeds the MS monitoring capabilities as defined in 3GPP TS 45.008.
#### 5.6.3.1a Deriving the E-UTRAN Neighbour Cell list from the Repeated
E-UTRAN Neighbour Cell information
The E-UTRAN Neighbour Cell list is given by one or more instances of the
SI2quater message with the same 3G_BA_IND value, see 3GPP TS 44.018.
If the mobile station receives a full set of instances of the PACKET
MEASUREMENT ORDER message (see sub-clause 11.2.9b) with the same 3G_BA_IND
value as the SI2quater message, each E-UTRAN Parameters _Description_ IE
received therein shall be used to modify the E-UTRAN Neighbour Cell list
received from SI2quater.
The E-UTRAN Neighbour Cell list may contain up to 8 E-UTRAN frequencies. Each
frequency described by a _Repeated E-UTRAN Neighbour Cell_ IE is added to the
E-UTRAN Neighbour Cell list in the order in which they appear in the message.
Different instances of the Repeated E-UTRAN Neighbour Cells IE shall be
evaluated in ascending order of the PMO_INDEX of the PACKET MEASUREMENT ORDER
message that they are received in.
In case the same E-UTRAN frequency occurs more than once in the resulting
E-UTRAN Neighbour Cell list, each occurrence shall be assigned an index but
only the E-UTRAN frequency with the highest index in the E-UTRAN Neighbour
Cell list shall be referred to in measurement reports.
The mobile station behaviour is not specified if the number of E-UTRAN
frequencies exceeds the MS monitoring capabilities as defined in 3GPP TS
45.008.
#### 5.6.3.2 Deriving BA(GPRS) and the GSM Neighbour Cell list
In a cell without a PBCCH allocated, BA(GPRS) is equal to the BA (list) from
the SI2/SI2bis/SI2ter messages. BSICs from the GPRS BSIC Description from one
or more instances of the SI2quater message (if broadcast) shall be associated
with BA(GPRS) with the same BA_IND value to create the GSM Neighbour Cell
list, as described in 3GPP TS 44.018 (sub-clause 3.4.1.2.1.2). When the mobile
station has acquired the GSM Neighbour Cell list, the mobile station shall
include in the measurement reports only cells present in that list. If GPRS
BSIC Description is not broadcast, the GSM Neighbour Cell list is equal to
BA(GPRS) (only a frequency list).
In a cell with a PBCCH allocated, BA(GPRS) is derived from the neighbour cell
parameters sent in PSI3 and ascending order of PSI3bis on PBCCH with the same
PSI3_CHANGE_MARK value (see sub-clause 11.2.20). Each neighbour cell listed in
PSI3 and in one or more instances of PSI3bis is assigned an ascending index
used for measurement reports. The first neighbour cell in PSI3 has the lowest
index (= 0), and the last neighbour cell in the highest indexed PSI3bis
message has the highest index. The GSM Neighbour Cell list is equal to
BA(GPRS).
The GSM Neighbour Cell list may contain up to 96 GSM Neighbour Cells. The
total number of frequencies to measure shall not exceed 32. If the list
includes more than 32 frequencies, the MS shall only measure the 32
frequencies with the lowest indices.
The GSM Neighbour Cell list may be modified by \"NC Frequency List\" in a
PACKET CELL CHANGE ORDER message (in which case the reference list is given on
the new cell) or one or more instances of the PACKET MEASUREMENT ORDER message
with the same BA_IND value or PSI3_CHANGE_MARK value.
The \"NC Frequency List\" may add cells to the GSM Neighbour Cell list (see
sub-clauses 11.2.4 and 11.2.9b). These cells shall be added at the end of the
GSM Neighbour Cell list and indexed in the order of occurrence within the
PACKET CELL CHANGE ORDER message or ascending instances of the PACKET
MEASUREMENT ORDER message. The list of added cells may contain GPRS and
optionally _Iu mode_ cell re-selection parameters. The \"NC Frequency List\"
does not impact the serving cell parameters.
The \"**NC Iu Mode Only Capable Cell List** \" may add cells to the GSM
Neighbour Cell list (see sub-clauses 11.2.4 and 11.2.9b). These _Iu mode_ only
capable cells shall be added at the end of the GSM Neighbour Cell list after
_A/Gb mode_ or both _A/Gb_ and _Iu mode_ capable cells and indexed in the
order of occurrence within the PACKET CELL CHANGE ORDER message or ascending
instances of the PACKET MEASUREMENT ORDER message. The list of added cells may
contain _Iu mode_ only cell re-selection parameters.
In case the same cell (ARFCN+BSIC) or the same ARFCN without BSIC occur more
than once in the resulting GSM Neighbour Cell list, each occurrence shall be
assigned an index but only the cell with the highest index shall be used for
cell re-selection and referred to in measurement reports.
The \"NC Frequency List\" may delete frequencies from the BA(GPRS) list (see
sub-clause 11.2.9b). The frequencies to be removed are identified by their
indices in the BA(GPRS). In this case all cells associated with the removed
frequencies shall be removed from the GSM Neighbour Cell list. Removed
cells/frequencies shall keep their indices but no measurements or reporting
shall be performed. If the index points to a cell that does not exist, this
shall not be considered as an error.
If the mobile station receives a PACKET MEASUREMENT ORDER message (full set of
instances) with changed PMO_IND parameter value, any old \"NC frequency list\"
shall be deleted. If the last PACKET MEASUREMENT ORDER message (full set of
instances) does not contain a \"NC frequency list\" (no added or deleted
frequencies) the mobile station shall return to BA(GPRS).
In a cell without PBCCH allocated, if the BA_IND parameter is changed, the
mobile station shall re-read and rebuild the GSM Neighbour Cell list.
In a cell with a PBCCH allocated, if PSI3_CHANGE_MARK is changed, the mobile
station shall re-read and rebuild the GSM Neighbour Cell list.
#### 5.6.3.3 Deriving the Neighbour Cell list from the GSM Neighbour Cell list
and the 3G Neighbour Cell list
The Neighbour Cell list may contain up to 96 Neighbour Cells. For report with
the PACKET ENHANCED MEASUREMENT REPORT message, the Neighbour Cell list is the
concatenation of the GSM Neighbour Cell list and the 3G Neighbour Cell list
(if any). In this concatenation the value of the parameter
Absolute_Index_Start_EMR is added to the 3G Neighbour Cell list indices. If
the same index occurs for a GSM Cell and a 3G Cell, the GSM Cell shall be
used.
NOTE: For report with the PACKET MEASUREMENT REPORT message, the concatenated
list is not used. Instead, the two lists are used separately, as defined in
table 11.2.9.2 from sub-clause 11.2.9.
#### 5.6.3.4 GPRS Real Time Differences
The GPRS Real Time Difference list may contain up to 96 Real Time Difference
parameters.
In a cell without PBCCH allocated, GPRS Real Time Difference information may
be received from the SI2quater message and associated with the BA (list) from
the SI2/SI2bis/SI2ter messages with the same BA_IND value, see 3GPP TS 44.018.
Each frequency in the BA (list) may be associated to 0, 1 or more Real Time
Difference parameters. The Real Time Difference parameters may be received
before the corresponding BA (list). The parameter BA_Index_Start_RTD in each
structure indicates the index of the frequency in the BA (list) to be taken as
a starting reference. A sub-structure is included for each frequency
referenced. Each of those sub-structures indicates if 0, 1 or more RTD
parameters are present for this frequency. If a frequency in the BA (list) is
not provided with Real Time Difference information by any of the message
instances with correct BA_IND value, it shall be assumed that no information
is available for that frequency. If the MP_CHANGE_MARK parameter is changed,
the mobile station shall re-read the Real Time Difference parameters.
In a cell with a PBCCH allocated, GPRS Real Time Difference information may be
received from the PSI3ter messages and associated with the GSM Neighbour Cell
list with the same PSI3_CHANGE_MARK value. In this case each cell may be
associated to 0 or 1 Real Time Difference parameter. The Real Time Difference
parameters may be received before the corresponding GSM Neighbour Cell list.
The parameter Cell_Index_Start_RTD in each structure indicates the index of
the cell in the GSM Neighbour Cell list to be taken as a starting reference. A
sub-structure is included for each GSM Neighbour Cell referenced. Each of
those sub-structures indicate if 0 or 1 RTD parameter is present for this GSM
Neighbour Cell. If a cell in the GSM Neighbour Cell list is not provided with
Real Time Difference information by any of the message instances with correct
PSI3_CHANGE_MARK value, it shall be assumed that no information is available
for that cell. If some Real Time Difference information are provided for a
cell that does not exist, this shall not be considered as an error. See sub-
clause 11.2.21.
#### 5.6.3.5 GPRS Report Priority Descriptions
In a cell without PBCCH allocated, Report Priority information may be received
from the SYSTEM INFORMATION TYPE 2 QUATER message and associated to the
Neighbour Cell list with the same BA_IND value and 3G_BA_IND value, see 3GPP
TS 44.018. If the parameter MP_CHANGE_MARK is changed, the mobile shall re-
read the GPRS Report Priority information. Each REP_PRIORITY bit of this field
relates to indices of the Neighbour Cell list starting with index 0.
In a cell with a PBCCH allocated, Report Priority information for GSM cells
may be received from the PACKET SYSTEM INFORMATION TYPE 3 TER message and
associated to the GSM Neighbour Cell list with the same PSI3_CHANGE_MARK
value, see sub-clause 11.2.21a. Each REP_PRIORITY bit of this field relates to
indices of the GSM Neighbour Cell list starting with index 0.
In a cell with a PBCCH allocated, Report Priority information for 3G cells may
be received from the PACKET SYSTEM INFORMATION TYPE 3 QUATER message and
associated to the 3G Neighbour Cell list with the same PSI3_CHANGE_MARK value,
see sub-clause 11.2.21b. Each REP_PRIORITY bit of this field relates to
indices of the 3G Neighbour Cell list starting with index 0.
If Report Priority information is received as part of a PACKET MEASUREMENT
ORDER or PACKET CELL CHANGE ORDER message, it is associated to the Neighbour
Cell list and may be received before the corresponding Neighbour Cell list.
Each REP_PRIORITY bit of this field relates to indices of the Neighbour cell
list, starting with index 0.
Indices exceeding the value 95 shall be ignored. If there are fewer indices
than the number of Neighbour Cells, the value 0 shall be assumed for the
missing bits.
#### 5.6.3.6 GPRS Measurement Parameters and GPRS 3G Measurement Parameters
In a cell without a PBCCH allocated, GPRS Measurement Parameters, GPRS 3G
Measurement Parameters and 3G Priority Parameters may be received from
SI2quater message, see 3GPP TS 44.018. When the parameter MP_CHANGE_MARK is
changed, the mobile station shall re-read GPRS Measurement Parameters and GPRS
3G Measurement Parameters and 3G Priority Parameters.
In a cell with a PBCCH allocated, GPRS Measurement Parameters and GPRS 3G
Measurement Parameters may be received from PSI3quater and PSI5 messages, see
sub-clauses 11.2.21b and 11.2.23. Additionally, 3G Priority Parameters may
also be received from PSI3quater messages. When the PSI5_CHANGE_MARK parameter
is changed, the MS shall re-read the corresponding Measurement Parameters and
3G Measurement Parameters. When the PSI3_CHANGE_MARK parameter is changed, the
MS shall re-read the corresponding Measurement Parameters, 3G Priority
Parameters and 3G Measurement Parameters.
If different values are received for the same parameter in different instances
of a message, only the value in the instance with the highest index shall be
used.
#### 5.6.3.6a GPRS E-UTRAN Measurement Parameters
This sub-clause applies only to an E-UTRAN capable mobile station.
GPRS E-UTRAN Measurement Parameters may be received from SI2quater message,
see 3GPP TS 44.018.
GPRS E-UTRAN Measurement Parameters may be modified by one or more instances
of the PACKET MEASUREMENT ORDER message with the same 3G_BA_IND value as the
SI2quater message.
If different values are received for the same parameter in different instances
of the PACKET MEASUREMENT ORDER message, only the value in the instance with
the highest index shall be used.
#### 5.6.3.7 The GPRS 3G Cell Reselection list
This sub-clause applies only to a (3G) multi-RAT MS.
In a cell without a PBCCH allocated, the GPRS 3G Cell Reselection list is
equal to the 3G Cell Reselection list that is defined in 3GPP TS 44.018.
In a cell with a PBCCH allocated, the GPRS 3G Cell Reselection list is the
union of 3G Cells and/or 3G frequencies provided in one or more instances of
the PSI3quater message. The GPRS 3G Cell Reselection list may contain up to 96
3G Cells. 3G Cells not provided explicitly in the PSI3quater message
(frequencies on their own) are not included in these 96 cells. Up to 8
frequencies on their own can be added to these 96 cells.
The MS behaviour is not specified if the number of 3G frequencies or cells
exceeds the MS monitoring capabilities as defined in 3GPP TS 45.008.
When the 3G Neighbour Cell list is modified by a PACKET CELL CHANGE ORDER
message or by one or more instances of the PACKET MEASUREMENT ORDER message
with the same 3G_BA_IND value, the GPRS 3G Cell Reselection list shall be
updated according to the modified 3G Neighbour Cell list.
NOTE: Frequencies for which the parameter NR_OF_FDD_CELLS is set to 0 (and
FDD_Indic0 is set to 0) or NR_OF_TDD_CELLS is set to 0 (and TDD_Indic0 is set
to 0) are not added to the GPRS 3G Cell Reselection list. They are added to
the 3G Neighbour Cell list and are only used for RSSI reporting (subject to
the restrictions given in 3GPP TS 45.008). Frequencies for which
NR_OF_FDD_CELLS is set to a value from 17 to 31 or NR_OF_TDD_CELLS is set to a
value from 21 to 31 are not added to the 3G Cell Reselection list (see sub-
clause 11.2.9b).
#### 5.6.3.7a (void)
#### 5.6.3.7b The 3G Frequency list
The 3G Frequency list consists of the set of UTRAN frequencies contained in
the GPRS 3G Cell Reselection list or in the 3G Neighbour Cell list, depending
on which list is being used by the mobile station. The 3G Frequency list is
constructed as specified in 3GPP TS 44.018.
When the 3G Neighbour cell list is modified (e.g. by a PACKET CELL CHANGE
ORDER message or by one or more instances of the PACKET MEASUREMENT ORDER
message), the 3G Frequency list shall be updated.
#### 5.6.3.8 Closed Subscriber Group Information
This applies only to a multi-RAT MS supporting UTRAN and/or E-UTRAN. One or
more instances of the SI2quater or the PACKET MEASUREMENT ORDER message may
provide the _E-UTRAN CSG Description_ IE and/or the _3G CSG Description_ IE.
An MS supporting cell reselection to UTRAN and/or E-UTRAN shall use this
information as described in 3GPP TS 45.008.
If an MS receives a _CSG_PSC_SPLIT_ IE and/or a _CSG_PCI_SPLIT_ IE it shall
store this information and shall consider it as being valid for the specified
frequencies for a period of up to 24 hours or until a new _CSG_PSC_SPLIT_ IE
and/or a new _CSG_PCI_SPLIT_ IE is received, whichever occurs first.
Any valid \"CSG PSC Split Information\" received from a UTRAN frequency and
stored by the mobile station shall take precedence over the information
received from the _CSG_PSC_SPLIT_ IE for that frequency. Any valid \"CSG PCI
Split Information\" received from an E-UTRAN frequency and stored by the
mobile station shall take precedence over the information received from the
_CSG_PCI_SPLIT_ IE for that frequency.
### 5.6.4 Measurement reporting in broadcast/multicast receive mode
The mobile station in broadcast/multicast receive mode shall report
neighbouring cell measurements when polled for an MBMS DOWNLINK ACK/NACK
message according to the procedures specified in sub-clause 8.1.4.2.
Measurement reporting in broadcast/multicast receive mode shall not affect the
procedure for NC measurement reporting defined in sub-clause 5.6.1.
For reporting neighbouring cells in the MBMS Neighbouring Cell Report struct,
the following rules apply:
\- the neighbouring cells shall belong to the six strongest non-serving and
allowed (see 3GPP TS 45.008) carriers
\- the cells for which cell reselection parameters have been acquired, shall
be reported in decreasing order of the corresponding cell re-selection ranking
(see 3GPP TS 45.008), i.e. the highest ranked first.
\- the neighbouring cells for which cell reselection parameters have not been
acquired, shall be reported in decreasing order of the received signal level
average (see 3GPP TS 45.008), i.e. the neighbouring cell with highest received
signal average first.
\- in case there are cells for which cell reselection parameters have and
cells for which cell reselection parameters have not been acquired to be
included in the MBMS Neighbouring Cell Report struct, the cells shall be
reported in alternating order, starting with the highest ranked cell for which
cell reselection parameters have been acquired.
\- the MBMS Neighbouring Cell Report struct shall include as many cells as
possible but shall not exceed 6 cells.
EXAMPLE: there is space to report 4 neighbouring cells in the MBMS DOWNLINK
ACK/NACK message.\ \ In this case, the neighbouring cells in the MBMS
Neighbouring Cell Report stuct shall be reported in the following order :\ \
y(1), n(1), y(2), y(3), cells y(4) and y(5) are not reported,\ \ where\ \ y(1)
is the highest ranked cell for which cell reselection parameters have been
acquired\ y(2) is the 2^nd^ highest ranked cell for which cell reselection
parameters have been acquired\ y(3) is the 3^rd^ highest ranked cell for which
cell reselection parameters have been acquired\ y(4) is the 4^th^ highest
ranked cell for which cell reselection parameters have been acquired\ y(5) is
the 5^th^ highest ranked cell for which cell reselection parameters have been
acquired\ n(1) is the highest ranked (and the only one within the 6 strongest)
cell for which cell reselection parameters have not been acquired
If cell re-selection is triggered towards a neighbouring cell (see 3GPP TS
45.008), the mobile station shall indicate this to the network with the
RESEL_CRITERIA_FULFILLED parameter when reporting measurement results for that
cell. In this case, the mobile station shall not include any other measurement
results for any other neighbouring cell in the MBMS Neighbouring Cell Report
struct.
When reporting measurement results for a neighbouring cell, the mobile station
shall indicate with the RESEL_PARAMS_ACQUIRED parameter whether it has
acquired the reselection parameters for that cell. The mobile station shall
also indicate whether it has received (as described in sub-clause 7.7.3) the
MBMS bearer parameters in that cell for the MBMS session acknowledged in the
MBMS DOWNLINK ACK/NACK message. If so the mobile station shall indicate the
latest corresponding (i.e. for that cell and that session)
MBMS_PTM_CHANGE_MARK parameter received. The network may use this information
to schedule MBMS NEIGHBOURING CELL INFORMATION messages accordingly. If for a
given session the network has received from a mobile station an indication
that no MBMS bearer parameters for that session in a neighbouring cell have
been received, the network may establish that session in that neighbouring
cell, if not already established provided that that cell supports MBMS and
belongs to the MBMS service area.
## 5.7 Dual transfer mode enhancements
The mobile station and the network may support enhanced DTM CS establishment
and enhanced DTM CS release procedures, called DTM enhancements.
By using enhanced DTM CS establishment procedure, an RR connection can be
initiated by either the mobile station or the network while the mobile station
is in packet transfer mode. The procedure is specified in sub-clause 8.9.
By using enhanced DTM CS release, the network may delay the release of the RR
connection until the mobile station in dual transfer mode has received the
required system information, in order to maintain the radio resources
(PDCH(s)) after the release of the RR connection while in dual transfer mode,
as specified in sub-clause 5.5.1.1b.5.
The support of the DTM enhancements is optional for the mobile station and the
network and is indicated in the _Mobile Station Classmark 3_ IE, the _MS Radio
Access Capability_ IE and the _GPRS Cell Options_ IE. A mobile station
supporting the DTM enhancements shall also support the extended RLC/MAC
control message segmentation as defined in 9.1.12a. The DTM enhancements shall
be used if the mobile station and the network support them.
## 5.8 DTM Handover
Mobile station and network support for DTM handover is optional. The mobile
station shall indicate its support for DTM handover in the Mobile Station
Classmark 3 IE and the MS Radio Access Capabilities IE (see 3GPP TS 24.008). A
mobile station supporting DTM handover shall also support the extended RLC/MAC
control message segmentation as defined in sub-clause 9.1.12a. The DTM
handover procedure consists of the CS handover procedure (see 3GPP TS 44.018)
and the PS handover procedure (see sub-clause 8.10) running in parallel with
exceptions as outlined in 3GPP TS 48.008.
## 5.9 Downlink Dual Carrier
Mobile station and network support for Downlink Dual Carrier is optional. The
mobile station shall indicate its support for Downlink Dual Carrier in the _MS
Radio Access Capabilities_ IE (see 3GPP TS 24.008). A mobile station and a
network that support Downlink Dual Carrier shall also support EGPRS TBFs. A
mobile station supporting Downlink Dual Carrier shall also support the
extended RLC/MAC control message segmentation as defined in sub-clause
9.1.12a.
Downlink Dual Carrier enables downlink TBFs and uplink TBFs to use allocated
resources on one or more assigned PDCHs on two different radio frequency
channels. Uplink RLC/MAC blocks shall not be scheduled on both carriers of a
downlink dual carrier configuration in the same radio block period. Downlink
RLC/MAC blocks may be scheduled on both carriers of a downlink dual carrier
configuration in the same radio block period.
If the network initially assigns a mobile station radio resources on only one
carrier, it can extend this assignment to adownlink dual carrier configuration
by sending a new single carrier assignment to the mobile station including
assigned radio resources for the second carrier, without changing the
resources already assigned for the initial carrier. Alternatively the network
can include radio resources for two carriers in an initial or subsequent
assignment message.
## 5.10 ETWS Primary Notification
Mobile station support for reception of Earthquake and Tsunami Warning System
(ETWS) Primary Notification messages is optional. A mobile station supporting
reception of ETWS Primary Notification shall also support the extended RLC/MAC
control message segmentation as defined in sub-clause 9.1.12a.
# 6 Paging procedures
For a mobile station in packet idle mode, the network may use the paging
procedures to initiate the establishment of an RR connection, to trigger a
cell update from the mobile station prior to a downlink packet transfer, or to
send MBMS notification. A number of mobile stations can be paged for either
downlink packet transfer or RR connection establishment in the same paging
message.
For a mobile station in packet transfer mode, the network may use the paging
procedures to initiate the establishment of an RR connection. A number of
mobile stations can be paged for RR connection establishment in the same
paging message. After sending the mobile station a PS HANDOVER COMMAND message
the network shall not use paging procedures to initiate the establishment of
an RR connection for that mobile station until the PS handover procedure has
been completed (see sub-clause 8.10).
Paging procedures for RR connection establishment are described in sub-clause
6.1. Paging procedures for downlink packet transfer are described in sub-
clause 6.2.
## 6.1 Paging procedure for RR connection establishment
The network may initiate the establishment of an RR connection by the paging
procedure for RR connection establishment.
The network initiates the paging procedure for RR connection establishment by
sending a paging request message on the appropriate paging subchannel on CCCH
or PCCCH, addressing the mobile station and indicating RR connection
establishment.
The paging subchannels on CCCH and PCCCH are specified in 3GPP TS 45.002 and
3GPP TS 43.013. The paging request message for RR connection establishment is
sent on the PCCCH if the mobile station is GPRS attached, PCCCH is present in
the cell and the network operates in network mode of operation I (see 3GPP TS
23.060). Otherwise, the paging request message is sent on CCCH.
The network may also page the mobile station for RR connection establishment
by sending a paging request message on PACCH if the mobile station is in
packet transfer mode.
A mobile station in packet transfer mode is not required to decode the paging
subchannels, on neither CCCH nor PCCCH, in the following two cases:
\- the mobile station is not capable to handle an RR connection and a TBF
simultaneously (GPRS class B mode of operation); or
\- the mobile station requires that the BSS co-ordinates the allocation of
radio resources for an RR connection and one or more simultaneous TBFs (GPRS
class A mode of operation by means of DTM).
### 6.1.1 Paging initiation using paging subchannel on CCCH
The paging initiation procedure and the paging request messages used on CCCH
are specified in 3GPP TS 44.018.
### 6.1.2 Paging initiation using paging subchannel on PCCCH
The network initiates the paging procedure by sending a PACKET paging request
message on an appropriate paging subchannel on PCCCH, considering the DRX
parameters valid for each targeted mobile station.
For each mobile station, that is paged for RR connection establishment, a
channel needed field is included in the PACKET PAGING REQUEST message, see
sub-clause 11.2.10. The channel needed field defines how the mobile stations
shall use the establishment cause field in the CHANNEL REQUEST message, as
specified in 3GPP TS 44.018.
### 6.1.3 Paging initiation using PACCH
Paging initiation using PACCH applies when sending a paging request message to
a mobile station that is GPRS attached, when the mobile station is in packet
transfer mode or in broadcast/multicast receive mode, if so indicated for that
mobile by the network, and the network is able to co-ordinate the paging
request with the radio resources allocated for the mobile station (or MBMS
session) on a PDCH.
This kind of paging co-ordination shall be provided in network mode of
operation I (see 3GPP TS 23.060). A mobile station in packet transfer mode in
a cell indicating support of network mode of operation I in the _NMO_ field
broadcast on BCCH or PBCCH shall expect the paging messages to be received on
the PACCH.
This kind of paging co-ordination shall be provided for mobile stations
capable of DTM if the network supports DTM. A mobile station capable of DTM in
packet transfer mode in a cell indicating support of DTM procedures in the
_DTM_SUPPORT_ field broadcast on BCCH or PBCCH shall expect the paging
messages to be received on the PACCH.
This kind of paging co-ordination may be provided also in network mode of
operation II or III regardless of the DTM capability of the cell and of the
mobile station and shall be indicated in that case by setting the
_BSS_PAGING_COORDINATION_ field to \"The cell supports Circuit-Switched paging
coordination\" on BCCH or PBCCH. If such indication is received, a mobile
station in packet transfer mode shall expect the paging messages to be
received on the PACCH.
A mobile station in broadcast/multicast receive mode shall expect the paging
messages to be received on the PACCH of an MBMS radio bearer if the network
has indicated so with the _MBMS In-band Signalling Indicator_ field in the
MBMS ASSIGNMENT and/or MBMS NEIGHBOURING CELL INFORMATION messages, and if the
mobile station has an MS_ID on that MBMS radio bearer.
The network shall not send paging messages on the PACCH to a mobile station
whose MS_ID has been released because the mobile station has not responded
when being polled (i.e. T3195 has started for that MS_ID).
If a mobile station is receiving multiple MBMS radio bearers and the mobile
station has an MS_ID on at least one of the MBMS radio bearers where the
network has indicated that system information for the serving cell and paging
messages are sent on the PACCH/D then the mobile station shall not monitor its
paging group on the (P)CCCH in parallel to the MBMS radio bearers. The network
shall send the PACKET PAGING REQUEST message to the mobile station on the
appropriate PACCH. The message includes the mobile station identification and
the channel needed field which defines how the mobile station shall use the
establishment cause field in the CHANNEL REQUEST message, as specified in 3GPP
TS 44.018.
### 6.1.4 Paging response
Upon receipt of a Paging Request or Packet Paging Request message, for the
purpose of triggering an RR connection establishment, a mobile station
operating in GPRS class B mode of operation and in packet transfer mode shall
either ignore or respond to the paging request according to 3GPP TS 22.060.
When the mobile station responds to a paging request for RR connection
establishment, it shall follow the paging response procedures as specified in
3GPP TS 44.018. For that purpose, a mobile station in packet transfer mode or
a mobile station that has initiated a packet access procedure may abort all
ongoing TBFs or the packet access procedure in the following two cases:
\- the mobile station is not capable to handle an RR connection and a TBF
simultaneously (GPRS class B mode of operation); or
\- the mobile station requires that the BSS co-ordinates the allocation of
radio resources for an RR connection and one or more simultaneous TBFs (GPRS
class A mode of operation by means of DTM).
## 6.2 Paging procedure for downlink packet transfer
The network may initiate the paging procedure for downlink packet transfer in
order to obtain the mobile station cell location required for the downlink
packet transfer. The procedure is triggered by a page request from the GMM
sublayer on the network side, see 3GPP TS 24.007 and 3GPP TS 44.018. The
procedure is initiated by sending a paging request message on the appropriate
paging subchannel on CCCH or PCCCH. The paging subchannels on CCCH and PCCCH
are specified in 3GPP TS 45.002 and 3GPP TS 43.013.
The paging request message is sent on PCCCH, if PCCCH is present in the cell.
Otherwise, the paging request message is sent on CCCH.
A mobile station that indicates DTM support to the network is not required to
decode the paging subchannels, on neither CCCH nor PCCCH, while it is in
dedicated mode. If the cell location for a mobile station that has indicated
DTM support is required while the mobile station is in dedicated mode, the
network may use the packet notification procedure defined in 3GPP TS 44.018.
### 6.2.1 Paging procedure using paging subchannel on CCCH
The packet paging procedure and the paging request messages used on CCCH are
specified in 3GPP TS 44.018.
### 6.2.2 Paging using paging subchannel on PCCCH
The network initiates the paging procedure by sending a PACKET paging request
message on an appropriate paging subchannel on PPCH, considering the DRX
parameters valid for each targeted mobile station.
### 6.2.3 Paging response
On receipt of a PACKET paging request message, the RR sublayer of addressed
mobile station indicates the receipt the paging request to the GMM sublayer
(see 3GPP TS 24.007 and 3GPP TS 44.018).
NOTE: The mobile station performs a pageresponse by sending an upper layer PDU
to the network as defined in 3GPP TS 44.018 and 3GPP TS 44.064. The transfer
of an upper layer PDU may serve as a cell update.
### 6.3 Paging Procedures for MBMS Notification
### 6.3.1 Notification to mobile station in packet idle mode
### 6.3.1.1 General
The paging procedure for MBMS notification of an MBMS session is initiated by
the reception of an MBMS-SESSION-START-REQUEST PDU or of an MBMS-SESSION-
UPDATE-REQUEST PDU from the SGSN for this session, see 3GPP TS 48.018. The
MBMS notification may be repeated during the session.
The network initiates the paging procedure for MBMS notification on PCCCH
(sub-clause 6.3.1.3) if PCCCH is present in the cell, otherwise on CCCH (sub-
clause 6.3.1.2). The paging procedure for MBMS notification is also initiated
on PACCH when the mobile station is in broadcast/multicast receive mode, if so
indicated for that mobile station by the network (sub-clause 6.3.1.3a).
The paging procedure for MBMS notification consists of the following steps:
optionally, the pre-notification of the MBMS session; and
the notification of the MBMS session.
A mobile station in broadcast/multicast receive mode shall remain in
broadcast/multicast receive mode if a paging procedure for a new MBMS session
is not completed for any reason.
### 6.3.1.2 Paging procedure for MBMS notification using paging subchannel on
CCCH
The paging procedure for MBMS notification and the paging request messages
used on CCCH are specified in 3GPP TS 44.018.
### 6.3.1.3 Paging procedure for MBMS notification using paging subchannel on
PCCCH
#### 6.3.1.3.1 General
The network initiates the paging procedure for MBMS notification of an MBMS
session by sending a PACKET paging request message including for that session
either the MBMS pre-notification (see sub-clause 6.3.1.3.2) or MBMS
notification (see sub-clause 6.3.1.3.3) on one or more paging subchannels on
PCCCH. The PACKET PAGING REQUEST message may also contain other MBMS
(pre)notification(s) and/or pages as described in sub-clauses 6.1.2 and 6.2.2.
The following requirements apply:
\- If in the PACKET PAGING REQUEST message the mobile station is at the same
time (pre)notified (see sub-clauses 6.3.1.3.2 and 6.3.1.3.3) and paged, the
mobile station shall discard all (pre)notification(s) in that message and
proceed as described in sub-clause 6.1 or 6.2, whichever applies.
\- If in the PACKET PAGING REQUEST message the mobile station is at the same
time pre-notified (see sub-clause 6.3.1.3.2) and notified (see sub-clause
6.3.1.3.3), the mobile station shall discard all pre-notifications in that
message and proceed as described in sub-clause 6.3.1.3.3.
#### 6.3.1.3.2 MBMS pre-notification
In order to pre-notify an MBMS session, the network shall send a PACKET PAGING
REQUEST message by including for that session only the TMGI and, if available,
the MBMS Session Identity of that session as contained in the MBMS-SESSION-
START-REQUEST PDU or in the MBMS-SESSION-UPDATE-REQUEST PDU.
Upon reception of a PACKET PAGING REQUEST message including for an MBMS
session only the TMGI and, if available, the MBMS Session Identity of that
session, and if the mobile station requires reception of that session, the
mobile station shall consider that session as being pre-notified (i.e. the
mobile station is pre-notified). If the mobile station determines several pre-
notified sessions in this message, the mobile station shall discard all pre-
notifications but the pre-notification for the highest priority session. The
mobile station in packet idle mode or MAC-Idle state shall then enter non-DRX
mode, start timer T3220 and proceed as described in sub-clause 6.3.1.3.3.
NOTE: In case all pre-notified sessions have the same priority, the selection
of the highest priority session is implementation-dependent.
While timer T3220 is running, the mobile station shall stop timer T3220 and
discard the pre-notification if:
\- Any other procedure on PCCCH not related to MBMS is triggered. The mobile
station shall then proceed as per that procedure.
\- A notification is received for a higher priority session. The mobile
station shall then proceed as described in sub-clause 6.3.1.3.3.
If while timer T3220 is running the mobile station receives a pre-notification
for a higher priority session, the mobile station shall discard the pre-
notification for the lower priority session, remain in non-DRX mode, restart
timer T3220 and proceed as described in sub-clause 6.3.1.3.3.
Upon expiry of timer T3220, the mobile station in packet idle mode or MAC-Idle
state shall return to DRX mode and discard the pre-notification. The mobile
station in broadcast/multicast receive mode shall discard the pre-notification
and remain in broadcast/multicast receive mode.
A mobile station in broadcast/multicast receive mode that is receiving an MBMS
session shall ignore repeated pre-notifications of that session.
#### 6.3.1.3.3 MBMS notification
In order to notify an MBMS session, the network shall send a PACKET PAGING
REQUEST message by including for that session:
\- the TMGI and, if available, the MBMS Session Identity of that session;
\- an indication whether counting shall be performed or not;
\- optionally the MBMS p-t-m channel description allocated to that session and
the estimated duration of the MBMS session or, if the MBMS session is ongoing,
the estimated remaining duration of the MBMS session;
\- optionally the MPRACH description.
NOTE 1: If the _MBMS Session Repetition Number_ IE is included in the MBMS-
SESSION-START-REQUEST PDU or in the MBMS-SESSION-UPDATE-REQUEST PDU (see 3GPP
TS 48.018), the value part of this IE may be used by the network for e.g.
deciding whether or not to perform the counting procedure or, in conjunction
with the values of _Allocation/Retention Priority_ IE (see 3GPP TS 48.018),
whether or not to establish an MBMS radio bearer for the session.
Upon reception of a PACKET PAGING REQUEST message including the notification
of an MBMS session and if the mobile station requires reception of this
session, the mobile station shall consider that session as being notified
(i.e. the mobile station is notified). If the mobile station determines
several notified sessions in this message, the mobile station shall act upon
the notification for the highest priority session. The mobile station shall
then stop timer T3220, if running, and proceed as described in sub-clause
6.3.1.4.
NOTE 2: In case all notified sessions have the same priority, the selection of
the highest priority session is implementation-dependent.
NOTE 3: Depending on its capabilities, the MS may act upon the notification
for lower priority MBMS sessions provided it does not affect any of the
following procedures for the highest priority MBMS session: response to MBMS
notification (see sub-clause 6.3.1.4), establishment of MBMS bearer upon
receipt of MBMS ASSIGNMENT message (see sub-clause 7.7.2.2), MBMS packet
access procedure (see sub-clause 7.7.1).
A mobile station in broadcast/multicast receive mode that is receiving an MBMS
session shall ignore repeated notifications of that session.
### 6.3.1.3a Paging procedure for MBMS notification using PACCH
A mobile station in broadcast/multicast receive mode shall expect the paging
messages to be received on the PACCH of an MBMS radio bearer if the network
has indicated so with the _MBMS In-band Signalling Indicator_ field in the
MBMS ASSIGNMENT and/or MBMS NEIGHBOURING CELL INFORMATION messages, and if the
mobile station has an MS_ID on that MBMS radio bearer.
Under the above circumstances, the network initiates the paging procedure for
MBMS notification of an MBMS session not only on PCCCH (see sub-clause
6.3.1.3) if PCCCH is present in the cell, otherwise on CCCH (see sub-clause
6.3.1.2), but also by sending a PACKET paging request message including for
that session either the MBMS pre-notification (see sub-clause 6.3.1.3.2) or
MBMS notification (see sub-clause 6.3.1.3.3) on the appropriate PACCH. The
PACKET PAGING REQUEST message may also contain other MBMS
(pre-)notification(s) and/or pages as described in sub-clauses 6.1.2 and 6.2.2
(see sub-clause 6.3.1.3.1).
The network shall not send paging messages on the PACCH to a mobile station
whose MS_ID has been released because the mobile station has not responded
when being polled (i.e. T3195 has started for that MS_ID).
Upon reception of MBMS notification on PACCH, the mobile station in
broadcast/multicast receive mode shall act according to sub-clause 8.1.5.2.
If the mobile station responds to the MBMS notification:
\- it shall act as described in sub-clause 6.3.1.4 if PCCCH is present in the
cell;
\- otherwise it shall act as described in 3GPP TS 44.018 (sub-clause
3.5.1.3.4).
### 6.3.1.4 Response to MBMS Notification
If the MBMS notification indicates that no counting shall be performed and
contains no MBMS p-t-m channel description, the mobile station shall remain in
or enter non-DRX mode and start timer T3214. Upon expiry of timer T3214, a
mobile station in packet idle mode or MAC-Idle state (respectively broadcast-
multicast receive mode) shall enter DRX mode (respectively remain in
broadcast-multicast receive mode) and discard the corresponding notification.
Upon reception of an MBMS ASSIGNMENT message for that session, the mobile
station shall stop timer T3214 and shall proceed as described in sub-clause
7.7.2.2.
While timer T3214 is running, the mobile station shall stop timer T3214 if:
\- Any other procedure on PCCCH not related to MBMS is triggered. The mobile
station shall then proceed as per that procedure;
\- A notification is received for a higher priority session. The mobile
station shall then proceed as per that notification. Depending on its
capabilities, the MS may act upon the notification for the lower priority MBMS
session provided it does not affect any of the following procedures for the
higher priority MBMS session: response to MBMS notification (see present sub-
clause), establishment of MBMS bearer upon receipt of MBMS ASSIGNMENT (see
sub-clause 7.7.2.2), MBMS packet access procedure (see sub-clause 7.7.1).
If the MBMS notification indicates that counting shall be performed the mobile
station shall perform an MBMS packet access procedure, as described in sub-
clause 7.7.1.
If the MBMS notification includes an MBMS p-t-m channel description the mobile
station shall set and start the session duration timer for this MBMS session
with a value equal to the Estimated Session Duration (included in the MBMS
Session Parameters List) and shall use information received on the PBCCH to
decode the channel descriptions contained in the assignment. If frequency
hopping is applied, the mobile station shall use the last CA (Cell Allocation)
received on PBCCH to decode the Mobile Allocation. Alternatively, the network
may provide a Mobile Allocation in the assignment. If an MBMS Radio Bearer
Starting Time is indicated, the mobile station shall monitor PCCCH until the
point in time denoted by the MBMS Radio Bearer Starting Time. The mobile
station shall then switch to the assigned PDCHs and start timer T3190. If the
MBMS Radio Bearer Starting Time has already elapsed or is not present, the
mobile station shall switch to the assigned PDCHs and start timer T3190. The
timer T3190 is restarted when receiving the first valid RLC data block for
that session. In EGPRS TBF mode T3190 is also restarted when receiving an
erroneous RLC data block for which the header is correctly received and which
addresses the mobile station. The mobile station is not allowed to send normal
bursts on the uplink unless it has a valid timing advance, and is assigned an
MS_ID for that session. If the mobile station receives more than one MBMS
notification including an MBMS p-t-m channel description for that same session
while it monitors PCCCH, it shall act upon the most recently received
assignment for that session and shall ignore the previous assignment.
On expiry of timer T3190, the mobile station shall abort the procedure and
return to packet idle mode or MAC-Idle state. The mobile station in
broadcast/multicast receive mode shall abort the procedure and remain in
broadcast/multicast receive mode.
### 6.3.2 Notification to mobile station in packet transfer mode or in dual
transfer mode
#### 6.3.2.1 General
MBMS notification initiation using PACCH applies when sending an MBMS
notification to a mobile station or a group of mobile stations that is/are in
packet transfer mode or in dual transfer mode.
#### 6.3.2.2 MBMS Notification using the PACCH
The network may send the PACKET MBMS ANNOUNCEMENT message on any PDCH.
Upon receipt of a PACKET MBMS ANNOUNCEMENT message containing a TMGI and
optionally an MBMS Session Identity corresponding to an MBMS session the
mobile station is required to receive, the mobile station shall pass an
indication including the TMGI, and when available the MBMS Session Identity,
to the upper layers. If the Restriction Timer is included in the received
PACKET MBMS ANNOUNCEMENT message, the mobile station shall set and start an
instance of the T3222 to the value indicated in the Restriction Timer field,
otherwise if the Estimated Session Duration is included in the received PACKET
MBMS ANNOUNCEMENT message the mobile station shall set and start both an
instance of the T3222 and the session duration timer for this MBMS session
with a value equal to the Estimated Session Duration. The mobile station shall
store the MBMS specific information contained in the PACKET MBMS ANNOUNCEMENT
message.
If T3222 expires the mobile station shall discard the stored MBMS information
associated with this instance of T3222.
#### 6.3.2.3 Response to MBMS Notification received on PACCH
If the mobile station enters packet idle mode and completes the Transfer non-
DRX mode period before the expiry of T3222 or where no instance of T3222 was
set and the PACKET MBMS ANNOUNCEMENT message did not include the MBMS p-t-m
channel description, the mobile station shall stop T3222, if started, and
initiates the MBMS Packet Access Procedure on a PCCCH (sub-clause 7.7.1.2) or,
if a packet control channel does not exist, on a CCCH (sub-clause 7.7.1.3) or,
if the PACKET MBMS ANNOUNCEMENT message contained uplink resource description
for an MPRACH, on that MPRACH (sub-clause 7.7.1.4).
Any MPRACH description or MBMS p-t-m channel description stored from a
previously received PACKET MBMS ANNOUNCEMENT message shall be deleted after
the mobile station completes cell reselection or after a handover procedure is
completed.
If the mobile station enters packet idle mode before the expiry of T3222 and
the PACKET MBMS ANNOUNCEMENT message included the MBMS p-t-m channel
description, the mobile station shall stop T3222 and shall start listening to
downlink RLC blocks identified by the assigned TFI on the defined PDCHs either
at the point in time denoted by the MBMS Radio Bearer Starting Time, if
present and not already elapsed, or immediately otherwise.
The mobile station shall follow the procedures described in sub-clause
6.3.1.4.
## 6.4 Paging Procedure for ETWS Primary Notification delivery
### 6.4.1 General
The network may initiate the paging procedure for delivery of an ETWS Primary
Notification message (see 3GPP TS 23.041) on PCCCH (sub-clause 6.4.3) if PCCCH
is present in the cell, otherwise on CCCH (sub-clause 6.4.2).
### 6.4.2 ETWS Primary Notification delivery using paging subchannel on CCCH
The paging procedure for ETWS Primary Notification delivery and the paging
request messages used on CCCH are specified in 3GPP TS 44.018.
### 6.4.3 ETWS Primary Notification delivery using paging subchannel on PCCCH
The network initiates the paging procedure for delivery of an ETWS Primary
Notification message (see 3GPP TS 23.041) by broadcasting the PACKET PAGING
REQUEST message on all paging subchannels on PCCCH with the ETWS Primary
Notification field present. These paging messages are sent continuously during
the ETWS warning period.
Each paging message carries a segment of the actual ETWS Primary Notification
message, i.e. segmentation is applicable if an ETWS Primary Notification
message is too large to fit into a single PACKET PAGING REQUEST message. In
order to allow a mobile station to receive the segments in any order, the size
of a specific segment (retransmitted during the ETWS warning period) shall not
be altered. Segments belonging to the same ETWS Primary Notification message
shall be given the same Primary Notification Identifier (PNI) value.
### 6.4.4 Reception of ETWS Primary Notification message
Upon receipt of a PACKET PAGING REQUEST message carrying a segment of an ETWS
Primary Notification message, the mobile station shall leave DRX mode, start
timer T3232, start reading all paging groups corresponding to its PCCCH_GROUP
and attempt to acquire all segments of the ETWS Primary Notification message,
having the same Primary Notification Identifier (PNI) value, before delivering
the assembled message to the upper layers.
While attempting to acquire the ETWS Primary Notification message a mobile
station shall continue to follow packet idle mode and connection establishment
procedures. Upon initiating cell reselection or connection establishment
procedures (RR connection establishment or TBF establishment) while attempting
to acquire an ETWS Primary Notification message, a mobile station shall
discard any partially received ETWS Primary Notification message and stop
timer T3232. The mobile station shall not attempt to acquire an ETWS Primary
Notification message while performing a connection establishment procedure or
while performing cell reselection.
If the mobile station detects a change in the PNI value prior to acquiring a
complete ETWS Primary Notification message, it shall abort the current
message, restart timer T3232 and attempt to acquire the new message.
When the mobile station successfully acquires a complete ETWS Primary
Notification message it shall stop timer T3232 and enter DRX mode. If timer
T3232 expires the mobile station shall abort the current message and enter DRX
mode.
# 7 Medium Access Control (MAC) procedures on PCCCH
## 7.0 General
The establishment of a Temporary Block Flow (TBF) can be initiated by either
the mobile station or the network.
The request for establishment of a TBF on PCCCH, if allocated in the cell, is
described in this sub-clause. If no PCCCH is allocated in the cell, the
establishment of a TBF occurs on CCCH as described in 3GPP TS 44.018.
For mobile stations in packet idle mode on PCCCH, measurement reports messages
are sent on temporary fixed allocations without the establishment of an uplink
TBF (see sub-clause 7.3).
## 7.0a Support of multiple TBF procedures
If the mobile station supports multiple TBF procedures, the mobile station
shall indicate its support in the Multiple TBF Capability field in the _MS
Radio Access Capability 2_ IE. If the network supports multiple TBF
procedures, the network shall indicate its support in the Multiple TBF
Capability field in the _GPRS Cell Options_ IE.
If both the network and the mobile station support multiple TBF procedures,
and if more than one request is received from upper layers to transfer upper
layer PDUs for more than one PFC before the packet access procedure can be
initiated by the mobile station, then the mobile station may initiate a packet
access procedure requesting multiple TBFs.
During multiple TBF procedures in sub-clause 7:
\- The mobile station shall support the PACKET RESOURCE REQUEST message to
request a single uplink TBF;
\- The mobile station may send the PACKET RESOURCE REQUEST message to request
multiple uplink TBFs in the second phase of a two-phase access;
\- The network shall support the PACKET UPLINK ASSIGNMENT message to assign a
single uplink TBF;
\- The network may send the MULTIPLE TBF UPLINK ASSIGNMENT message to assign
one or more uplink TBFs to a mobile station that requested multiple TBFs in
the PACKET RESOURCE REQUEST message. In this sub-clause this message shall
only be sent in response to a multiple uplink resource request in the second
part of a two-phase access.
## 7.1 TBF establishment initiated by the mobile station on PCCCH
The purpose of the packet access procedure is to establish a TBF to support
the transfer of upper-layer PDUs in the direction from the mobile station to
the network. Packet access shall be done on PCCCH, as defined in this sub-
clause, if a PCCCH exists. Otherwise, packet access shall be done on CCCH, as
defined in 3GPP TS 44.018. The packet access can be done in either one phase
(sub-clause 7.1.2) or in two phases (sub-clauses 7.1.2 and 7.1.3).
TBF establishment can also be done on PACCH if a TBF for transfer of upper-
layer PDUs in the direction from the network to the mobile station is already
established (see sub-clause 8.1.2.5). TBF establishment can also be done on
PACCH if the mobile station is releasing a TBF for transfer of upper-layer
PDUs in the direction from the mobile station to the network and TBF for
transfer of upper-layer PDUs in the direction from the network to the mobile
station is not established (see sub-clause 9.3.2.4 and sub-clause 9.3.3.3).
If the mobile station is in dedicated mode and both the network and the mobile
station support DTM, the establishment of a TBF shall be performed by the DTM
assignment procedures on the main DCCH, as defined in 3GPP TS 44.018.
The packet access procedure is initiated by the mobile station. Initiation is
triggered by a request from upper layers to transfer an upper-layer PDU. The
request from upper layers specifies throughput, RLC mode, an optional PFI, and
a Radio Priority to be associated with the packet transfer or indicates that
the packet to be transferred contains signalling. If both the network and the
mobile station support the extended uplink TBF mode, the request from upper
layers may also specify that the upper-layer PDU is meant to pre-allocate an
uplink TBF (early TBF establishment). In this case, the mobile station shall
use the two phase access procedure, setting the EARLY_TBF_ESTABLISHMENT field
in the PACKET RESOURCE REQUEST message to indicate pre-allocation is required
(as described in sub-clause 7.1.3).
A mobile station indicates its support of RLC non-persistent mode in the _RLC
non-persistent mode capability_ bit of the MS Radio Access Capability
information element _(see 3GPP TS 24.008)_.
A packet access procedure requesting multiple TBFs may be initiated by the
mobile station if multiple TBF procedures are supported in the network and the
mobile station (see sub-clause 7.0). Initiation is triggered when the mobile
station receives more than one request from upper layers to transfer upper-
layer PDUs before the packet access procedure can be initiated. Each request
from upper layers specifies a PFI, RLC mode, Radio Priority and optionally an
LLC mode to be associated with the packet transfer or indicates that the
packet to be transferred contains signalling.
Upon such a request:
\- if access to the network is allowed (sub-clause 7.1.1), the mobile station
shall initiate the packet access procedure as defined in sub-clause 7.1.2.1;
\- otherwise, the RR sublayer in the mobile station shall reject the request.
If the request from upper layers indicates signalling, the highest Radio
Priority shall be used at determination if access to the network is allowed,
and the acknowledged RLC mode shall be requested.
If both the mobile station and the BSS support multiple TBF procedures, or if
the mobile station supports RLC non-persistent mode, the BSS may order its
preferred RLC mode when establishing uplink TBF(s), independently of the RLC
mode requested by the mobile station. In particular, if the mobile station
supports RLC non-persistent mode the network may allocate an EGPRS TBF that
uses this RLC mode.
### 7.1.1 Permission to access the network
The network broadcasts on PBCCH and PCCCH the list of authorised access
classes and authorised special access classes in the ACC_CONTR_CLASS
parameter.
Access to the network is allowed if the mobile station is a member of at least
one authorised access class or special access class as defined in 3GPP TS
22.011.
### 7.1.2 Initiation of a TBF establishment
#### 7.1.2.1 Initiation of the packet access procedure
The mobile station shall initiate the packet access procedure by scheduling
the sending of PACKET CHANNEL REQUEST messages on the PRACH corresponding to
its PCCCH_GROUP and simultaneously leaving the packet idle mode. The mobile
station shall use the last access parameters received on PBCCH. At sending of
the first PACKET CHANNEL REQUEST message, the mobile station shall store the
value for the Retry (R) bit to be transmitted in all the subsequent MAC
headers as \'MS sent channel request message once\'. If a second PACKET
CHANNEL REQUEST message is sent, the mobile station shall change the value for
the Retry (R) bit to \'MS sent channel request message twice or more\'.
While waiting for a response to the PACKET CHANNEL REQUEST message, the mobile
station shall monitor the full PCCCH corresponding to its PCCCH_GROUP. The
mobile station shall perform signal strength measurements as they are defined
for packet idle mode, see 3GPP TS 45.008.
While monitoring the full PCCCH, the mobile station shall decode any
occurrence of the PERSISTENCE_LEVEL parameter included in a message received
on PCCCH. When the mobile station receives the PERSISTENCE_LEVEL parameter,
the value of the PERSISTENCE_LEVEL parameter shall be taken into account at
the next PACKET CHANNEL REQUEST attempt that follows.
A mobile station that is IMSI attached (GPRS class A or B mode of operation)
shall respond to a PACKET PAGING REQUEST message indicating an RR connection
establishment. For that purpose, the mobile station may abort the packet
access procedure, according to the conditions stated in sub-clause 6.1.4. The
mobile station shall not respond to a PACKET PAGING REQUEST message indicating
TBF establishment.
A mobile station that is not IMSI attached (GPRS class C mode of operation)
shall not respond to any type of PACKET PAGING REQUEST messages during the
packet access procedure, it shall only decode the PERSISTENCE_LEVEL parameter,
if that is included in the message.
The PACKET CHANNEL REQUEST messages are sent on PRACH and contain an
indication of the type of access and parameters required to indicate the
mobile station\'s demand of radio resource.
There are two formats of the PACKET CHANNEL REQUEST message containing either
8 bits or 11 bits of information. The format to be applied on PRACH is
controlled by the parameter ACCESS_BURST_TYPE which is broadcast on PBCCH. The
access type to be used in the PACKET CHANNEL REQUEST message for a non-EGPRS
TBF mode capable MS or an EGPRS TBF mode capable MS in a non-EGPRS capable
cell depends on the purpose of the packet access procedure as follows:
\- If the purpose of the packet access procedure is to request multiple TBFs,
the mobile station shall indicate \'Two phase access\' in the PACKET CHANNEL
REQUEST message;
\- If the purpose of the packet access procedure is to request a single TBF,
the mobile station shall indicate one of the following access causes:
\- If the mobile station intends to use the TBF to send user data, it shall
request two phase access if the requested RLC mode is unacknowledged mode. If
the requested RLC mode is acknowledged mode, the mobile station shall request
either one phase access or two phase access. In case of two phase access, if
both the mobile station and the BSS support multiple TBF procedures, the BSS
may order its preferred RLC mode when establishing an uplink TBF, overriding
the mobile station request;
\- If the purpose of the packet access procedure is to send a Page Response,
the mobile station shall indicate \'Page Response\' in the PACKET CHANNEL
REQUEST message;
\- If the purpose of the packet access procedure is to send a Cell update (the
mobile station was in GMM READY state before the cell reselection) the mobile
station shall indicate \'Cell Update\' in the PACKET CHANNEL REQUEST message;
\- If the purpose of the packet access procedure is for any other Mobility
Management procedure, the mobile station shall indicate \'MM Procedure\' in
the PACKET CHANNEL REQUEST message;
\- If the purpose of the packet access procedure is to send a Measurement
Report, the mobile station shall indicate \'Single block without TBF
establishment\' in the PACKET CHANNEL REQUEST message;
\- If the purpose of the packet access procedure is to send a PACKET PAUSE
message, the mobile station shall indicate \'Single block without TBF
establishment\' in the PACKET CHANNEL REQUEST message. Upon the first attempt
to send a PACKET CHANNEL REQUEST message the mobile station shall start timer
T3204. If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message
before expiry of timer T3204, the mobile station shall ignore the message;
\- If the purpose of the packet access procedure is to send an MBMS SERVICE
REQUEST message to the network, the mobile station shall indicate \'Single
block MBMS access\' in the PACKET CHANNEL REQUEST message.
EGPRS TBF mode capable mobile stations shall monitor the GPRS Cell Options IE
on the PBCCH (PSI1/PSI13) for the cell\'s EGPRS capability and, if the mobile
station is also Reduced Latency capable, the cell's Reduced Latency Access
capability. In the GPRS Cell Options IE it is also indicated if the EGPRS
PACKET CHANNEL REQUEST message is supported in the cell and if Reduced Latency
Access is supported in the cell. The following table specifies which message
and which access type shall be used by an EGPRS mobile station when accessing
an EGPRS capable cell depending on the purpose of the packet access procedure,
and mobile station's and cell's capabilities; this table covers the case where
PBCCH is present in the cell (see 3GPP TS 44.018 for the case where PBCCH is
not present in the cell). The network shall not indicate Reduced Latency
Access is supported if the EGPRS PACKET CHANNEL REQUEST message is not
indicated as supported.
Table 7.1.2.1.1: EGPRS PACKET CHANNEL REQUEST support
+----------------------+----------------------+----------------------+ | Purpose of the | EGPRS PACKET CHANNEL | EGPRS PACKET CHANNEL | | packet access | REQUEST supported in | REQUEST not | | procedure | the cell | supported in the | | | | cell | +----------------------+----------------------+----------------------+ | User data transfer - | EGPRS PACKET CHANNEL | PACKET CHANNEL | | requested RLC mode = | REQUEST with access | REQUEST with access | | unacknowledged | type = \'Two Phase | type = \'Two Phase | | | Access Request\' | Access Request\' | | | | (NOTE 1) | +----------------------+----------------------+----------------------+ | User data transfer - | EGPRS PACKET CHANNEL | PACKET CHANNEL | | requested RLC mode = | REQUEST with access | REQUEST with access | | acknowledged | type = \'One Phase | type = \'Two Phase | | | Access Request\' or | Access Request\' | | | \'Two Phase Access | (NOTE 1) | | | Request\' | | +----------------------+----------------------+----------------------+ | User data transfer - | EGPRS PACKET CHANNEL | PACKET CHANNEL | | requested RLC mode = | REQUEST with access | REQUEST with access | | acknowledged | type = \'One Phase | type = \'Two Phase | | (Reduced Latency | Access Request by | Access Request\' | | supported by MS) | Reduced Latency MS\' | (NOTE 1) | | | (NOTE 3) | | +----------------------+----------------------+----------------------+ | Upper layer | EGPRS PACKET CHANNEL | PACKET CHANNEL | | signalling transfer | REQUEST with access | REQUEST with access | | (e.g. page response, | type = | type = \'Two Phase | | cell update, MM | \'Signalling\' | Access Request\' | | signalling, etc) | | | +----------------------+----------------------+----------------------+ | Sending of a | PACKET CHANNEL | | | measurement report | REQUEST with access | | | or of a PACKET CELL | type = \'Single | | | CHANGE FAILURE | block without TBF | | | | establishment\' | | | | (NOTE 1) | | +----------------------+----------------------+----------------------+ | Sending of a PACKET | PACKET CHANNEL | | | PAUSE message | REQUEST with access | | | | type = \'Single | | | | block without TBF | | | | establishment\' | | | | (NOTE 1) (NOTE 2) | | +----------------------+----------------------+----------------------+ | Sending of an MBMS | PACKET CHANNEL | | | Service Request | REQUEST with access | | | message | type = \'Single | | | | block MBMS access\' | | | | (NOTE 1) | | +----------------------+----------------------+----------------------+ | NOTE 1: The format | | | | to be used for the | | | | PACKET CHANNEL | | | | REQUEST message is | | | | defined by the | | | | parameter | | | | ACCESS_BURST_TYPE. | | | | | | | | NOTE 2: Upon the | | | | first attempt to | | | | send a PACKET | | | | CHANNEL REQUEST | | | | message the mobile | | | | station shall start | | | | timer T3204. If the | | | | mobile station | | | | receives a | | | | PACKET | | | | DOWNLINK ASSIGNMENT | | | | message before | | | | expiry of timer | | | | T3204, the mobile | | | | station shall ignore | | | | the message. | | | | | | | | NOTE 3: The \'One | | | | phase Access Request | | | | by Reduced Latency | | | | MS\' shall be used | | | | by the mobile | | | | station supporting | | | | reduced latency if | | | | Reduced Latency | | | | Access is supported | | | | by the network. | | | +----------------------+----------------------+----------------------+
##### 7.1.2.1.1 Access persistence control on PRACH
The mobile station shall make maximally M + 1 attempts to send a PACKET
CHANNEL REQUEST (respectively EGPRS PACKET CHANNEL REQUEST) message.
After sending each PACKET CHANNEL REQUEST (respectively EGPRS PACKET CHANNEL
REQUEST) message, the mobile station shall listen to the full PCCCH
corresponding to its PCCCH_GROUP.
The PRACH Control Parameters IE contains the access persistence control
parameters and shall be broadcast on PBCCH and PCCCH. The parameters included
in the PRACH Control Parameters IE are:
\- MAX_RETRANS, for each radio priority i (i = 1, 2, 3, 4);
\- PERSISTENCE_LEVEL, which consists of the PERSISTENCE_LEVEL P(i) for each
radio priority i (i = 1, 2, 3, 4); where P(i) ∈ {0, 1, ...14, 16}. If the
PRACH Control Parameters IE does not contain the PERSISTENCE_LEVEL parameter,
this shall be interpreted as if P(i) = 0 for all radio priorities;
\- S;
\- TX_INT.
The mobile station shall start timer T3186 at the beginning of the packet
access procedure. At expiry of timer T3186, the packet access procedure shall
be aborted, and:
\- if at least one PACKET CHANNEL REQUEST (respectively EGPRS PACKET CHANNEL
REQUEST) message was transmitted by the mobile station, a random access
failure shall be indicated to upper layers and the mobile station shall
perform autonomous cell re-selection according to 3GPP TS 43.022;
\- otherwise, a packet access failure shall be indicated to upper layers and
the mobile station shall return to packet idle mode or MAC-Idle state.
The first attempt to send a PACKET CHANNEL REQUEST (respectively EGPRS PACKET
CHANNEL REQUEST) message, may be initiated at the first available PRACH block
on the PDCH defined by the PCCCH_GROUP for the mobile station (see 3GPP TS
45.002). The mobile station shall choose one of the four TDMA frames within
the selected PRACH block randomly with a uniform probability distribution.
For each attempt, the mobile station shall draw a random value R with uniform
probability distribution in the set {0, 1, ..., 15}. The mobile station is
allowed to transmit a PACKET CHANNEL REQUEST (respectively EGPRS PACKET
CHANNEL REQUEST) message if P(i), where i is the radio priority of the TBF
being established, is less than or equal to R.
After each attempt, the S and T parameters are used to determine the next TDMA
frame in which it may be allowed to make a successive attempt. The number of
TDMA frames belonging to the PRACH on the PDCH defined by the PCCCH_GROUP for
the mobile station between two successive attempts to send a PACKET CHANNEL
REQUEST (respectively EGPRS PACKET CHANNEL REQUEST) message excluding the TDMA
frames potentially containing the messages themselves is a random value drawn
for each transmission with uniform probability distribution in the set {S, S +
1, ..., S + T ‑ 1}.
Here:
M is the value of the parameter MAX_RETRANS, belonging to the Radio Priority
of the access;
T is the value of the parameter TX_INT;
S is the value of the parameter S.
Having made M + 1 attempts to send a PACKET CHANNEL REQUEST (respectively
EGPRS PACKET CHANNEL REQUEST) message, the mobile station shall stop timer
T3186 and start timer T3170 if at least one PACKET CHANNEL REQUEST
(respectively EGPRS PACKET CHANNEL REQUEST) message was transmitted by the
mobile station. In this case, at expiry of timer T3170, the packet access
procedure shall be aborted, a random access failure shall be indicated to
upper layers and the mobile station shall perform autonomous cell re-selection
according to 3GPP TS 43.022. Otherwise, the packet access procedure shall be
aborted, a packet access failure shall be indicated to upper layers and the
mobile station shall return to packet idle mode or MAC-Idle state.
If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message while it
is waiting for a response to a PACKET CHANNEL REQUEST (respectively EGPRS
PACKET CHANNEL REQUEST) message, it shall abort the packet access procedure
and respond to the PACKET DOWNLINK ASSIGNMENT message (see sub-clause 7.2.1).
The mobile station shall then attempt establishment of an uplink TBF using the
procedures defined in sub-clause 8.1.2.5.
#### 7.1.2.2 Packet assignment procedure
##### 7.1.2.2.1 On receipt of a PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL
REQUEST message
On receipt of a PACKET CHANNEL REQUEST message, the network may assign a radio
resource on one or more PDCHs to be used by the mobile station for the TBF in
GPRS TBF mode. On receipt of an EGPRS PACKET CHANNEL REQUEST message, the
network may assign a radio resource on one or more PDCHs to be used by the
mobile station for the TBF in EGPRS TBF mode or GPRS TBF mode.
The allocated PDTCH and PACCH resource is assigned to the mobile station in a
PACKET UPLINK ASSIGNMENT message, sent on any PAGCH block on the same PCCCH on
which the network has received the PACKET CHANNEL REQUEST or EGPRS PACKET
CHANNEL REQUEST message. The _Packet Request Reference_ information element
shall be used to address the mobile station and frequency parameters shall be
included.
A mobile station supporting Downlink Dual Carrier may be sent a PACKET UPLINK
ASSIGNMENT message to assign radio resources on two different radio frequency
channels for a given uplink TBF. In such a configuration, uplink radio blocks
shall not be allocated on both radio frequency channels during any given radio
block period.
The mobile station may use information received on PBCCH, BCCH or a previous
assignment message to decode the frequency parameters contained in the
assignment message. If the mobile station detects an invalid _Frequency
Parameters_ information element or an invalid _Dual Carrier Frequency
Parameters_ information element in the assignment message, it shall abort the
procedure, if required initiate a partial acquisition of PBCCH or BCCH
information, and may then re-initiate this procedure.
If the dynamic allocation medium access mode is commanded, the network shall
include the USF values allocated for PDCHs in the PACKET UPLINK ASSIGNMENT
message.
Unless the mobile station has indicated a \"Single Block Without TBF
Establishment\" or \"Single block MBMS access\" in a PACKET CHANNEL REQUEST
message, the mobile station shall perform a two phase access if the PACKET
UPLINK ASSIGNMENT message includes a Single Block Allocation struct or a Multi
Block Allocation struct.
If the PACKET UPLINK ASSIGNMENT message includes Dynamic Allocation struct and
the MS has not requested 'Single Block Without TBF Establishment', 'Two phase
access' , or 'Single Block MBMS access', the mobile station shall perform a
one phase access.
In case the MS requested two phase access, the procedures in sub-clause 7.1.3
shall apply.
A mobile station that has indicated \"Single Block Without TBF Establishment\"
in the PACKET CHANNEL REQUEST message for the purpose of sending a measurement
report shall send a measurement report according to sub-clause 7.3.1.
A mobile station that has indicated \"Single Block Without TBF Establishment\"
in the PACKET CHANNEL REQUEST message for the purpose of sending a PACKET CELL
CHANGE FAILURE message shall send that message according to sub-clause 8.4.2.
On receipt of a PACKET UPLINK ASSIGNMENT message corresponding to one of its 3
last PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST messages the
mobile station shall stop timers T3186 and T3170 if running and stop sending
PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST messages.
If the PACKET UPLINK ASSIGNMENT message does not specify a TBF starting time,
the mobile station shall switch to the assigned PDCHs, start timer T3164 if
dynamic or extended dynamic allocation is assigned and proceed with contention
resolution of the one phase packet access procedure according to sub-clause
7.1.2.3 (_A/Gb mode_) or 3GPP TS 44.160 _(Iu-mode)_ or in case of EGPRS, sub-
clause 7.1.2.3a (_A/Gb mode_) or 3GPP TS 44.160 _(Iu-mode)_.
Unless assigning resources for RTTI, dual carrier, BTTI with FANR activated or
EGPRS2 configurations, a PACKET UPLINK ASSIGNMENT message may indicate an
assignment starting time in the TBF Starting Time parameter. The mobile
station shall monitor the full PCCCH until the point in time denoted by the
TBF Starting Time. Thereafter it shall switch to the assigned PDCHs. If
dynamic or extended dynamic allocation is assigned, the mobile station shall
start timer T3164. Regardless of which allocation mode is used, the mobile
station shall proceed with the contention resolution defined in sub-clause
7.1.2.3 (_A/Gb mode_) or 3GPP TS 44.160 _(Iu-mode)_ or in case of EGPRS, sub-
clause 7.1.2.3a (_A/Gb mode_) or 3GPP TS 44.160 _(Iu-mode)_. If the mobile
station receives more than one PACKET UPLINK ASSIGNMENT message, it shall act
upon the most recently received message and shall ignore the previous message.
When the mobile station switches to the assigned PDCHs, it shall take the
power control parameters received in the PACKET UPLINK ASSIGNMENT message into
account, perform signal strength measurements and apply output power control
procedures as they are defined for packet transfer mode or MAC-Shared state
(see 3GPP TS 45.008).
On receipt of a PACKET CHANNEL REQUEST message with establishment cause
indicating \"Two Phase Access Request\" , \"Single block without TBF
establishment\" or \"Single block MBMS access\", the network may allocate a
single radio block on an uplink PDCH. In order to force the mobile station to
make a two phase access, the network may allocate a single radio block on an
uplink PDCH on receipt of a PACKET CHANNEL REQUEST message with any of the
other access types.
On receipt of an EGPRS PACKET CHANNEL REQUEST message with establishment cause
indicating \"Two Phase Access Request\", the network may allocate a Multi
Block allocation on an uplink PDCH. In order to force the mobile station to
make a two phase access, the network may allocate a Multi Block allocation on
an uplink PDCH on receipt of a EGPRS PACKET CHANNEL REQUEST message with any
of the other access types.
If the mobile station has been allocated a single block (respectively a Multi
Block allocation) in the PACKET UPLINK ASSIGNMENT message and the mobile
station has not indicated \"Single block without TBF establishment\"
(respectively \"Two phase access\") in the PACKET CHANNEL REQUEST
(respectively EGPRS PACKET CHANNEL REQUEST) message or \"Single block MBMS
access\" in the PACKET CHANNEL REQUEST message, the mobile station shall
proceed with the two phase packet access procedure according to sub-clause
7.1.3 (_A/Gb mode_) or 3GPP TS 44.160 _(Iu-mode)_.
If the mobile station has been allocated a single block in the PACKET UPLINK
ASSIGNMENT message and the purpose of the packet access procedure is to send a
Measurement Report message and the mobile station has indicated \"Single block
without TBF establishment\" in the PACKET CHANNEL REQUEST message, the mobile
station shall proceed according to sub-clause 7.3.1.
If the mobile station has been allocated a single block in the PACKET UPLINK
ASSIGNMENT message and the purpose of the packet access procedure is to send a
PACKET PAUSE message and the mobile station has indicated \"Single block
without TBF establishment\" in the PACKET CHANNEL REQUEST message, the mobile
station shall proceed according to sub-clause 7.6.
If the mobile station has been allocated a single block in the PACKET UPLINK
ASSIGNMENT message and the purpose of the packet access procedure is to send
an MBMS SERVICE REQUEST message and the mobile station has indicated \"Single
block MBMS access\" in the PACKET CHANNEL REQUEST message, the mobile station
shall proceed according to sub-clause 7.7.1.2.2.
##### 7.1.2.2.1a Acquisition of MS Radio Access Capability information within
EGPRS TBF establishment procedure
When assigning an EGPRS TBF, the network may request information about radio
access capabilities of the mobile station on one or several frequency bands
within the PACKET UPLINK ASSIGNMENT message; the list of frequency bands is
ordered by the network starting with the most important and ending with the
least important one. The mobile station shall provide the network with its
radio access capabilities for the frequency bands it supports, in the same
priority order as the one specified by the network, by sending a PACKET
RESOURCE REQUEST message, and an ADDITIONAL MS RADIO ACCESS CAPABILITIES
message if all the requested information does not fit in the PACKET RESOURCE
REQUEST. If the mobile station does not support any frequency band requested
by the network, it shall report its radio access capabilities for the BCCH
frequency band. The mobile station shall indicate in the PACKET RESOURCE
REQUEST if it will send more information about its radio access capabilities
in the ADDITIONAL MS RADIO ACCESS CAPABILITIES message. The PACKET RESOURCE
REQUEST and the ADDITIONAL MS RADIO ACCESS CAPABILITIES messages shall be sent
within the one or two first radio blocks allocated for the mobile station on
the assigned PDCH. The mobile station shall include the TLLI in these two
messages until contention resolution. After that, the mobile station may use
either the uplink TFI or the TLLI when these messages are repeated.
When constructing the PACKET RESOURCE REQUEST and ADDITIONAL MS RADIO ACCESS
CAPABILITIES messages the mobile station shall take care that these messages
fit in one UL radio block each. See sub-clause 12.30 for additional
restrictions regarding how information for a given access technology type is
to be provided using these messages.
The network may request a retransmission of the PACKET RESOURCE REQUEST and
the ADDITIONAL MS RADIO ACCESS CAPABILITIES messages. A request for
retransmission of one or both of these messages shall be indicated in the
PACKET UPLINK ACK/NACK or the PACKET UPLINK ASSIGNMENT message. The mobile
station has to indicate within the PACKET RESOURCE REQUEST message if the
message is a retransmitted one. For the case of message retransmission the
most recently sent instance of these messages shall be retransmitted. If these
messages have not already been sent by the MS during the establishment (two
phase access) or after the establishment (one phase access) of the
corresponding uplink TBF then the request shall be ignored.
##### 7.1.2.2.2 Packet access queuing notification procedure
The network may send to the mobile station a PACKET QUEUING NOTIFICATION
message. The PACKET QUEUING NOTIFICATION message shall be sent on the same
PCCCH on which the network has received the PACKET CHANNEL REQUEST or EGPRS
PACKET CHANNEL REQUEST message. It contains a Temporary Queuing Identity which
is later used to identify the mobile station (either when polling or sending
an assignment).
On receipt of a PACKET QUEUING NOTIFICATION message corresponding to one of
its 3 last PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST messages,
the mobile station shall stop timers T3170 and T3186 if running, start timer
T3162, and stop sending PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST
messages. It shall continue to listen to the full PCCCH corresponding to its
PCCCH_GROUP. If the mobile station receives a PACKET QUEUING NOTIFICATION
message while waiting for the TBF Starting Time of a valid PACKET UPLINK
ASSIGNMENT message, the mobile station shall ignore the PACKET QUEUING
NOTIFICATION message.
The network may send to the mobile station a PACKET UPLINK ASSIGNMENT message
following a PACKET QUEUING NOTIFICATION message. In this case, the reference
address to the mobile station shall be the Temporary Queuing Identity received
in the PACKET QUEUING NOTIFICATION message.
On receipt of a PACKET UPLINK ASSIGNMENT message following a PACKET QUEUING
NOTIFICATION message, the mobile station shall stop timer T3162 and follow the
procedures defined in sub-clause 7.1.2.2.1.
At expiry of timer T3162, the packet access procedure shall be aborted and a
packet access failure shall be indicated to the upper layer and the mobile
station shall return to packet idle mode or MAC-Idle state.
If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message, it shall
abort the packet access queuing notification procedure and respond to the
PACKET DOWNLINK ASSIGNMENT message (see sub-clause 7.2.1). The mobile station
shall then attempt establishment of an uplink TBF using the procedures defined
in sub-clause 8.1.2.5.
##### 7.1.2.2.3 Packet polling procedure
The network may send to the mobile station a PACKET POLLING REQUEST message
after having sent a PACKET QUEUING NOTIFICATION message. The PACKET POLLING
REQUEST message shall be sent on the same PDCH on which the network has
received the PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST message.
The mobile station shall be addressed by the Temporary Queuing Identity.
On receipt of a PACKET POLLING REQUEST message, the mobile station shall
respond to the network with the PACKET CONTROL ACKNOWLEDGEMENT message in the
reserved uplink radio block specified by the RRBP field. The reserved block is
considered as a one block PACCH allocation.
##### 7.1.2.2.4 Packet access reject procedure
The network may, as response to a PACKET CHANNEL REQUEST or EGPRS PACKET
CHANNEL REQUEST message, send to the mobile station a PACKET ACCESS REJECT
message on any PAGCH block on the same PCCCH on which the channel request
message was received. This message contains the request reference with time of
reception of the PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST
message and optionally a WAIT_INDICATION field in the Reject structure of the
PACKET ACCESS REJECT message.
On receipt of a PACKET ACCESS REJECT message containing a Reject structure
addressed to the mobile station, where the Packet Request Reference in the
Reject structure corresponds to one of its 3 last PACKET CHANNEL REQUEST or
EGPRS PACKET CHANNEL REQUEST messages:
\- The mobile station shall stop timer T3186, stop sending PACKET CHANNEL
REQUEST or EGPRS PACKET CHANNEL REQUEST messages, start timer T3172 with the
value indicated in the WAIT_INDICATION field, start timer T3170 if it has not
already been started and listen to the downlink PCCCH until timer T3170
expires. During this time, the mobile station shall ignore additional PACKET
ACCESS REJECT messages, but on reception of any PACKET UPLINK ASSIGNMENT
message corresponding to any other of its 3 last PACKET CHANNEL REQUEST or
EGPRS PACKET CHANNEL REQUEST messages the mobile station shall stop timers
T3170 and T3172 if running, and follow the procedure defined in sub-clause
7.1.2.2.1;
\- If no PACKET UPLINK ASSIGNMENT message is received before expiration of
timer T3170, the mobile station shall indicate a packet access failure to
upper layer and return to packet idle mode (listening to its paging channel).
As an option the mobile station may stop timer T3170, indicate a packet access
failure to upper layer and return to packet idle mode as soon as it has
received responses from the network on all or, in case more than 3 were sent,
the last 3 of its PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST
messages;
\- If an erroneous PACKET UPLINK ASSIGNMENT message (e.g. the mobile station
has been assigned more PDCHs than it supports according to the relevant
multislot configuration as defined in 3GPP TS 45.002) addressed to the mobile
station is received before expiration of timer T3170, the mobile station shall
stop T3170 and act as stated in sub-clause 7.1.4;
\- If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message, it
shall stop timer T3170 if running and respond to the PACKET DOWNLINK
ASSIGNMENT message (see sub-clause 7.2.1);
\- The mobile station is not allowed to make a new attempt for packet access
in the same cell until timer T3172 expires, but may attempt packet access in
another cell after successful cell reselection for radio conditions reasons
(see 3GPP TS 45.008). In _A/Gb mode_ , a mobile station that is IMSI attached
(GPRS class A or B mode of operation) may attempt to enter the dedicated mode
in the same cell before timer T3172 has expired. During the time T3172 is
running, the mobile station shall ignore all received PACKET PAGING REQUEST
messages except paging requests sent to trigger RR connection establishment
and paging requests sent to trigger the acquisition of an ETWS Primary
Notification message;
\- The value of the WAIT_INDICATION field (i.e. timer T3172) relates to the
cell from which it was received.
#### 7.1.2.3 Contention resolution at one phase access
The TLLI is used to uniquely identify the mobile station when sending on
uplink. Every RLC data block that is sent on the TBF shall include the TLLI of
the mobile station, until the contention resolution is completed on the mobile
station side. If MCS-7, MCS-8 or MCS-9 is used for the transmission of the
TLLI in EGPRS TBF mode (i.e. the RLC/MAC block is carrying two RLC data
blocks), the TLLI shall be inserted in both RLC data blocks. The TLLI shall
also be included in the PACKET RESOURCE REQUEST and the ADDITIONAL MS RADIO
ACCESS CAPABILITIES messages, if those are sent during the contention
resolution.
The retransmission of an RLC data block shall include the TLLI (or the TLLI
and the PFI field), if the RLC data block was originally transmitted including
these fields, also if the retransmission occurs after the completion of the
contention resolution.
At sending of the first RLC data block, the mobile station shall stop timer
T3164, set counter N3104 to 1, and start timer T3166. The counter N3104 shall
be stepped each time the mobile station sends an RLC/MAC block for data
transfer.
The network shall respond by including the TLLI in the PACKET UPLINK ACK/NACK
message after the first correctly received RLC data block that comprises the
TLLI. In EGPRS TBF mode, the network may instead respond by addressing the
mobile station with the TFI of the assigned TBF and including the TLLI (in the
CONTENTION_RESOLUTION_TLLI field) in a PACKET UPLINK ASSIGNMENT message, if
the resources allocated for the TBF need to be reallocated (see sub-clause
8.1.1.1.2).
The contention resolution is completed on the network side when the network
receives an RLC data block that comprises the TLLI value that identifies the
mobile station and the TFI value associated with the TBF.
The contention resolution is successfully completed on the mobile station side
when the mobile station receives a PACKET UPLINK ACK/NACK message addressing
the mobile station with the TFI value associated with the uplink TBF and
including the same TLLI value that the mobile station has included in the RLC
header of the first RLC data blocks, or alternatively, in EGPRS TBF mode, a
PACKET UPLINK ASSIGNMENT message addressing the mobile station with the TFI
value associated with the uplink TBF and including the same TLLI value that
the mobile station included in the RLC header of the first RLC data blocks.
The mobile shall then stop timer T3166 and counter N3104.
The contention resolution has failed on the mobile station side when the
counter N3104 reaches its maximum value, or timer T3166 expires. The
contention resolution also fails, if the mobile station receives a PACKET
UPLINK ACK/NACK message or in EGPRS TBF mode alternatively a PACKET UPLINK
ASSIGNMENT message addressing the mobile station with the TFI associated with
the uplink TBF and including a TLLI value other than that the mobile station
included in the RLC header of the first RLC data blocks; in such a case, the
mobile station shall not transmit a PACKET CONTROL ACKNOWLEDGEMENT in the
uplink radio block specified if a valid RRBP field is received as part of the
PACKET UPLINK ACK/NACK message or in EGPRS TBF mode alternatively as part of
the PACKET UPLINK ASSIGNMENT message.
In case of a contention resolution failure on the mobile station side, the
mobile station shall reset the counter N3104 and stop timer T3166, if not
expired. The mobile station shall stop transmitting on the TBF and reinitiate
the packet access procedure, unless the packet access procedure has already
been attempted four times. In that case, a TBF failure has occurred, see sub-
clause 7.1.4.
#### 7.1.2.3a RLC/MAC procedures during contention resolution
During the contention resolution, the mobile station may receive a non-
distribution RLC/MAC control message addressing the mobile station by TLLI, or
the TFI value associated with the uplink TBF. The mobile station shall act on
that message using the procedure defined for the message when it is received
in packet transfer mode during operation on an uplink TBF (see clause 8), with
the following restrictions:
\- The mobile station shall not accept a PACKET MEASUREMENT ORDER message, a
PACKET CELL CHANGE ORDER message and a PACKET POWER CONTROL/TIMING ADVANCE
message addressing the mobile station with the TFI value associated with the
uplink TBF;
\- The mobile station shall not accept a PACKET DOWNLINK ASSIGNMENT or a
PACKET TIMESLOT RECONFIGURE message.
If a valid RRBP field is received as part of the RLC/MAC control block, the
mobile station shall transmit a PACKET CONTROL ACKNOWLEDGEMENT message in the
uplink radio block specified (see sub-clause 10.4.5) if it acts on the
message; the mobile station may transmit a PACKET CONTROL ACKNOWLEDGEMENT
message in the uplink radio block specified if it does not act on the message.
If during the contention resolution, upper layers request the transfer of
another upper layer PDU with a different PFI, a different Radio Priority, a
different peak throughput class or a different RLC mode than the one which is
in transfer, then the procedures as described in packet transfer mode (see
sub-clause 8.1.1.1.2) shall be applied by the mobile station.
In either case, the mobile station shall continue with the contention
resolution on the uplink TBF, till it either completes successfully or fails,
or that the uplink TBF is released as a result of the procedure defined for
the message that is received.
#### 7.1.2.4 One phase packet access completion
The one phase packet access procedure is completed upon a successful
contention resolution. The mobile station has entered the packet transfer mode
or MAC-Shared state.
#### 7.1.2.5 Timing Advance
Initial timing advance may be provided in the PACKET UPLINK ASSIGNMENT in the
TIMING_ADVANCE_VALUE field.
Thereafter either the timing advance is updated with a PACKET POWER
CONTROL/TIMING ADVANCE message or a continuous timing advance procedure is
used. If a Timing Advance Index is included in the assignment message, the
mobile station shall use the continuous timing advance procedure, using its
allocation on PTCCH (see 3GPP TS 45.010). Otherwise, the continuous timing
advance procedure shall not be used. For the case where a TIMING_ADVANCE_VALUE
field is not provided in the assignment message, the mobile station is not
allowed to send normal bursts on the uplink until it receives a valid timing
advance either through the continuous timing advance procedure or in a PACKET
POWER CONTROL/TIMING ADVANCE message.
In the case of a mobile station with a Downlink Dual Carrier configuration
where the continuous timing advance procedure is used there is no explicit
indication of the carrier on which the PTCCH is allocated, and the mobile
station shall consider the PTCCH allocation to be on carrier 1 (see sub-clause
5.5.1.7). If a mobile station with a Downlink Dual Carrier configuration
subsequently receives an assignment message which results in the mobile
station no longer being in a Downlink Dual Carrier configuration (but still in
packet transfer mode), the mobile station shall consider the PTCCH allocation
to be on the carrier on which packet resources are assigned.
#### 7.1.2.6 PFC procedure at one phase access
If the PFC_FEATURE_MODE field indicates that the network supports PFC
procedures in the system information and if a PFC exists for the LLC data to
be transferred then the PFI shall be transmitted along with the TLLI of the
mobile station in the RLC extended header during contention resolution. If the
PFC_FEATURE_MODE field indicates that the network does not support PFC
procedures, the mobile station shall not indicate a PFI value. If no valid PFI
is assigned, the default mapping defined in sub-clause 5.5.1.9 shall be used.
The PFI is not used for contention resolution but is included to indicate to
the network which PFC shall initially be associated with the uplink TBF.
### 7.1.3 TBF establishment using two phase access
The two phase access procedure defined in this sub-clause, is applicable also
in the case when no PCCCH is provided in the cell. For that case, the first
phase is defined in 3GPP TS 44.018.
#### 7.1.3.1 Initiation of the Packet resource request procedure
In the first phase of a two phase access in a cell provided with a PCCCH, the
same procedures as for one phase access are used until the network sends a
PACKET UPLINK ASSIGNMENT message including a Single Block Allocation struct or
Multi Block Allocation struct, denoting two phase access to the mobile
station. The Multi Block Allocation struct may be used only if the mobile
station has EGPRS capability (i.e. the network received an EGPRS PACKET
CHANNEL REQUEST message from the mobile station). In the PACKET UPLINK
ASSIGNMENT message, the network reserves a limited resource on one PDCH to the
mobile station where the mobile station may transmit a PACKET RESOURCE REQUEST
message and optionally an ADDITIONAL MS RADIO ACCESS CAPABILITIES message.
If PCCCH is provided in the cell, a two phase access can be initiated:
\- by the network by ordering the mobile station to send a PACKET RESOURCE
REQUEST message. The order is sent implicitly to the mobile station in the
PACKET UPLINK ASSIGNMENT message by including either the Single Block
Allocation struct or Multi Block Allocation struct;
\- by a mobile station, by requiring a two phase access in the PACKET CHANNEL
REQUEST or EGPRS PACKET CHANNEL REQUEST message. In this case, if access is
granted, the network shall order the mobile station to send a PACKET RESOURCE
REQUEST message. The order is sent implicitly to the mobile station in the
PACKET UPLINK ASSIGNMENT message by including the Single Block Allocation
struct or Multi Block Allocation struct.
If no PCCCH is provided in the cell, a two phase access can be initiated by
the network or by a mobile station, as defined in 3GPP TS 44.018.
When the mobile station has received the PACKET UPLINK ASSIGNMENT message it
shall respond with a PACKET RESOURCE REQUEST message in the first allocated
radio block.
A mobile station supporting EGPRS shall indicate the EGPRS capability in the
MS Radio Access Capability 2 IE of the PACKET RESOURCE REQUEST message.
A mobile station supporting multiple TBF procedures shall set the Multiple TBF
Capability flag in the _MS Radio Access Capability 2_ IE of the PACKET
RESOURCE REQUEST message.
When the mobile station switches to the assigned PDCH, it shall take the power
control parameters received in the PACKET UPLINK ASSIGNMENT message into
account, perform signal strength measurements and apply output power control
procedures as they are defined for packet transfer mode (see 3GPP TS 45.008).
At sending of the PACKET RESOURCE REQUEST message requesting a single uplink
TBF, the mobile station shall start timer T3168. At sending of the PACKET
RESOURCE REQUEST message requesting multiple TBFs, the mobile station shall
start contention resolution timer T3188 and additionally one instance of T3168
for each of the resource requests for the transfer of upper layer PDUs.
Furthermore, the mobile station shall not respond to PACKET DOWNLINK
ASSIGNMENT or MULTIPLE TBF DOWNLINK ASSIGNMENT messages before contention
resolution is completed on the mobile station side - but may acknowledge such
messages if they contain a valid RRBP field.
The mobile station may indicate in the PACKET RESOURCE REQUEST message the
number of octets of user data it has to transfer.
#### 7.1.3.2 Packet resource assignment for uplink procedure
When assigning a Multi Block Allocation, the network may request information
about radio access capabilities of the mobile station on one or several
frequency bands within the PACKET UPLINK ASSIGNMENT message and allocate one
or two radio blocks for uplink control messages accordingly; the list of
frequency bands is ordered by the network starting with the most important and
ending with the least important one. The mobile station shall provide the
network with its radio access capabilities for the frequency bands it
supports, in the same order of priority as specified by the network, by
sending a PACKET RESOURCE REQUEST message in the first radio block on the
assigned PDCH and an ADDITIONAL MS RADIO ACCESS CAPABILITIES message in the
next radio block on the assigned PDCH, if the requested information does not
fit in the PACKET RESOURCE REQUEST and two radio blocks have been allocated by
the network. If the network does not provide an Access Technologies Request in
the PACKET UPLINK ASSIGNMENT message or the mobile station does not support
any frequency band requested by the network, it shall report its radio access
capabilities for the frequency band of the BCCH carrier in the PACKET RESOURCE
REQUEST message.
The mobile station shall indicate in the PACKET RESOURCE REQUEST message, by
setting the ADDITIONAL MS RAC INFORMATION AVAILABLE bit, if it will send more
information about its radio access capabilities in the ADDITIONAL MS RADIO
ACCESS CAPABILITIES message if it has been allocated two radio blocks, or if
it would have sent more information but has been allocated only one radio
block. If the mobile station has been allocated two radio blocks and the
requested information fit in the PACKET RESOURCE REQUEST message, no
ADDITIONAL MS RADIO ACCESS CAPABILITIES message shall be sent. Instead, some
uplink control block (e.g. packet measurement report, packet uplink dummy
control block) may be sent by the mobile station.
The network may indicate in the next PACKET UPLINK ASSIGNMENT or MULTIPLE TBF
UPLINK ASSIGNMENT message a request for retransmission of the ADDITIONAL MS
RADIO ACCESS CAPABILITIES message (see sub-clause 7.1.3.2.1).
When constructing the PACKET RESOURCE REQUEST and ADDITIONAL MS RADIO ACCESS
CAPABILITIES messages the mobile station shall take care that these messages
fit in one uplink radio block each (see sub-clause 7.1.2.2.1a).
If the network indicates that it supports packet flow procedures via the
PFC_FEATURE_MODE in the system information, then the mobile station supporting
PFC procedures shall indicate the initial PFI to be associated with the TBF in
the PACKET RESOURCE REQUEST message. If the PFC_FEATURE_MODE field indicates
that the network does not support PFC procedures, the mobile station shall not
indicate a PFI value. If no valid PFI is assigned, the default mapping defined
in sub-clause 5.5.1.9 shall be used. If the mobile station requests multiple
TBFs in the PACKET RESOURCE REQUEST message, it shall indicate the PFI to be
associated with each TBF.
Whenever the mobile station wants to pre-allocate an uplink TBF, it shall send
a PACKET RESOURCE REQUEST message with the EARLY_TBF_ESTABLISHMENT field set
to indicate pre-allocation is required.
##### 7.1.3.2.1 On receipt of a PACKET RESOURCE REQUEST message
On receipt of a PACKET RESOURCE REQUEST message requesting a single uplink TBF
scheduled with a Single Block or a Multi Block allocation, the network shall
respond by sending a PACKET UPLINK ASSIGNMENT message (radio resources
assignment on one or more PDCHs to be used by the mobile station for the TBF
in EGPRS or GPRS TBF mode) or a PACKET ACCESS REJECT message to the mobile
station on PACCH on the same PDCH on which the mobile station has sent the
PACKET RESOURCE REQUEST message. If the mobile station supports RLC non-
persistent mode the network may allocate an EGPRS TBF that uses this RLC mode.
On receipt of a PACKET RESOURCE REQUEST message requesting multiple uplink
TBFs, the network shall respond by sending either a MULTIPLE TBF UPLINK
ASSIGNMENT message or a PACKET ACCESS REJECT message to the mobile station on
PACCH on the same PDCH on which the mobile station has sent the PACKET
RESOURCE REQUEST message. These messages shall address (assign or reject) some
or all of the resource requests in the PACKET RESOURCE REQUEST message. For
the resource requests that have not been addressed by the first assignment or
reject message, additional MULTIPLE TBF UPLINK ASSIGNMENT or PACKET ACCESS
REJECT messages may be sent to the mobile station on the PACCH to which the
mobile station has been assigned. If the mobile station supports RLC non-
persistent mode the network may allocate one or more EGPRS TBFs that use this
RLC mode.
If the received PACKET RESOURCE REQUEST message is indicating additional MS
Radio Access Capabilities information available, the following additional
requirements apply:
\- If the PACKET RESOURCE REQUEST message was scheduled with a Multi Block
allocation of two blocks, the network shall respond by sending a PACKET UPLINK
ASSIGNMENT or MULTIPLE TBF UPLINK ASSIGNMENT message after reception of the
ADDITIONAL MS RADIO ACCESS CAPABILITIES message;
\- If the PACKET RESOURCE REQUEST message was scheduled with a Single Block
allocation or with a Multi Block allocation of only one block, the network
shall respond upon receipt by sending a PACKET UPLINK ASSIGNMENT or MULTIPLE
TBF UPLINK ASSIGNMENT message. When assigning one or more EGPRS TBFs, the
network may request additional information about radio access capabilities of
the mobile station on one or several frequency bands within the PACKET UPLINK
ASSIGNMENT or MULTIPLE TBF UPLINK ASSIGNMENT message; the list of frequency
bands is ordered by the network starting with the most important and ending
with the least important one. The mobile station shall provide the network
with its radio access capabilities for the frequency bands it supports, in the
same priority order as the one specified by the network, by sending an
ADDITIONAL MS RADIO ACCESS CAPABILITIES message within the first radio block
allocated to the mobile station on the assigned PDCH(s). When constructing the
ADDITIONAL MS RADIO ACCESS CAPABILITIES message, the mobile station shall take
care that this message fits in one uplink radio block (see sub-clause
7.1.2.2.1a). If the mobile station does not support any frequency band
requested by the network, it shall report its radio access capabilities for
the BCCH frequency band.
In case the ADDITIONAL MS RADIO ACCESS CAPABILITIES message is not received
correctly, the network may either:
\- send a PACKET UPLINK ASSIGNMENT or MULTIPLE TBF UPLINK ASSIGNMENT message
assigning radio resources on one or more PDCHs to be used by the mobile
station for the TBF(s) in EGPRS or GPRS TBF mode, based on the information the
network has got, or let unchanged the already assigned PDCH(s);
\- send a PACKET UPLINK ASSIGNMENT message assigning (or reassigning) radio
resources on one or more PDCHs to be used by the mobile station for the TBF(s)
in EGPRS TBF mode and request a retransmission of the ADDITIONAL MS RADIO
ACCESS CAPABILITIES message.
In addition, in case the ADDITIONAL MS RADIO ACCESS CAPABILITIES message
scheduled with a Multi Block allocation of two blocks is not received
correctly, the network may either:
\- send a PACKET UPLINK ASSIGNMENT or MULTIPLE TBF UPLINK ASSIGNMENT message
including a Multi Block allocation struct (allocating only one block)
requesting a retransmission of the ADDITIONAL MS RADIO ACCESS CAPABILITIES
message;
\- send a PACKET ACCESS REJECT message to the mobile station.
On receipt of a PACKET UPLINK ASSIGNMENT or MULTIPLE TBF UPLINK ASSIGNMENT
message where no TBF starting time is specified, the mobile station shall
switch to the assigned PDCHs, stop T3168 for each resource request that is
assigned a TBF in the PACKET UPLINK ASSIGNMENT or Multiple TBF Uplink
Assignment message, and start timer T3164 for each allocated TBF if dynamic or
extended dynamic allocation is assigned. If a TBF starting time is specified
the mobile station shall stop T3168 for each resource request assigned a TBF
and wait until the indicated TBF starting time before switching to the
assigned PDCHs and starting T3164 for each allocated TBF.
At sending of the first RLC data block on a TBF, the mobile station shall stop
timer T3164 for that TBF.
The mobile station may use information received on PBCCH, BCCH or a previous
assignment message to decode the frequency parameters contained in the
assignment message. If the mobile station detects an invalid Frequency
Parameters information element in the assignment message, it shall abort the
procedure, if required initiate a _partial acquisition_ of PBCCH or BCCH
information, and may then re-initiate the access on the PRACH.
On receipt of a PACKET ACCESS REJECT message that contains a Reject structure
addressed to the mobile station, the mobile station shall stop timer T3168 and
indicate a packet access failure to upper layer for each resource request
which is rejected in the Reject structure.
If the PACKET ACCESS REJECT message contains a WAIT_INDICATION field in a
Reject structure addressed to the mobile station, the mobile station shall
start timer T3172 with the indicated value (Wait Indication). The mobile
station is not allowed to make a new attempt for packet access in the same
cell until timer T3172 expires, but may attempt packet access in another cell
after successful cell reselection.
When the network receives a Packet Flow Identifier (PFI) from the mobile then
the network should handle the uplink transfer according the associated
aggregate BSS QoS profile (ABQP). The Peak Throughput specified in the
associated ABQP, available in the network, supersedes the Peak Throughput
specified by the Channel Request Description IE.
When an uplink TBF is established in response to a PACKET RESOURCE REQUEST
message with the EARLY_TBF_ESTABLISHMENT field set to indicate pre-allocation
is required, a network supporting early TBF establishment should keep the
uplink TBF open by means of the extended uplink TBF mode operation (see sub-
clause 9.3.1b.2).
#### 7.1.3.3 Contention resolution at two phase access
The contention resolution is completed on the network side when the network
receives a TLLI value identifying the mobile station, as part of the
contention resolution procedure on the TBF.
The contention resolution is completed on the mobile station side when the
mobile station receives a PACKET UPLINK ASSIGNMENT , Multiple TBF UPLINK
ASSIGNMENT or PACKET ACCESS REJECT message with the same TLLI as the mobile
station has included in the PACKET RESOURCE REQUEST and ADDITIONAL MS RADIO
ACCESS CAPABILITIES messages that addresses at least one TBF for which
resources were requested in the PACKET RESOURCE REQUEST message.
\- If the mobile station receives an assignment for its single uplink TBF
request, it shall then stop timer T3168. It does not include its TLLI in any
RLC data block;
\- If the mobile station receives an assignment for at least one TBF of a
multiple uplink TBF request, it shall then stop timer T3188 and the instance
of T3168 which was started for the assigned TBF. It does not include its TLLI
in any RLC data block.
After contention resolution is successfully completed on the mobile station
side, if the mobile station requested multiple uplink TBFs and an instance of
timer T3168 expires, TBF establishment for the corresponding upper layer PDU
has failed. The mobile station shall reinitiate a resource request for that
upper layer PDU using the procedures described in sub-clauses 8.1.1.1.2a and
8.1.1.1.2b.
The contention resolution has failed on the mobile station side when the
mobile station does not receive a PACKET UPLINK ASSIGNMENT or Multiple TBF
UPLINK ASSIGNMENT message with its TLLI assigning at least one TBF for which
resources were requested before expiry of timer T3168 (single uplink TBF
requested) or T3188 (multiple uplink TBFs requested). The mobile station shall
then reinitiate the packet access procedure unless the packet access procedure
has already been attempted four times. In that case, TBF failure has occurred
and an RLC/MAC error should be reported to the higher layer for each of the
TBFs for which resources were requested.
#### 7.1.3.4 Two phase packet access completion
The two phase packet access procedure is completed upon a successful
contention resolution. The mobile station has entered the packet transfer mode
or MAC-Shared state.
#### 7.1.3.5 Timing Advance
If a Timing Advance Index is included in the PACKET UPLINK ASSIGNMENT message,
the mobile station shall use the continuous timing advance procedure, using
its allocation on PTCCH (see 3GPP TS 45.010). Otherwise, the continuous timing
advance procedure shall not be used.
For the case where a TIMING_ADVANCE_VALUE field is not provided in the
assignment message, the mobile station shall use its previous timing advance
(either assigned in the previous IMMEDIATE ASSIGNMENT message received on AGCH
or in the previous PACKET UPLINK ASSIGNMENT message received on PAGCH or got
through the continuous timing advance procedure).
Otherwise, the mobile station is not allowed to send normal bursts on the
uplink until it receives a valid timing advance either through the continuous
timing advance procedure or in a PACKET POWER CONTROL/TIMING ADVANCE message.
In the case of a mobile station with a Dual Carrier configuration where the
continuous timing advance procedure is used there is no explicit indication of
the carrier on which the PTCCH is allocated, and the mobile station shall
consider the PTCCH allocation to be on carrier 1 (see sub-clause 5.5.1.7). If
a mobile station with a Dual Carrier configuration subsequently receives an
assignment message which results in the mobile station no longer being in a
Dual Carrier configuration (but still in packet transfer mode), the mobile
station shall consider the PTCCH allocation to be on the carrier on which
packet resources are assigned.
#### 7.1.3.6 RTTI Assignments
If assigned resources are for an RTTI configuration, then the assignment
message (e.g. PACKET DOWNLINK ASSIGNMENT, PACKET UPLINK ASSIGNMENT, etc.)
specifies a set of PDCH pairs for both the uplink and downlink.
If the default single carrier PDCH pair configuration is indicated, then the
assignment is for resources on a subset of the PDCH pairs consisting of the
ordered sequence of timeslots pairs 0 and 1 (pair 1), 2 and 3 (pair 2), 4 and
5 (pair 3), and 6 and 7 (pair 4) in both the uplink and on the downlink. If
the default dual carrier PDCH pair configuration is indicated, then the
assignment is for resources on a subset of the PDCH pairs consisting of the
ordered sequence of timeslots pairs 0 and 1, 2 and 3, 4 and 5, and 6 and 7 on
both carriers (respectively numbered as pairs 1 to 4 on the first carrier and
pairs 5 to 8 on the second carrier) in both the uplink and on the downlink.
Otherwise, the assignment is for resources on a subset of the PDCH pairs as
specified in the DOWNLINK_PDCH_PAIRS_C1, DOWNLINK_PDCH_PAIRS_C2,
UPLINK_PDCH_PAIRS_C1 and UPLINK_PDCH_PAIRS_C2 bitmaps.
If the mobile station is currently in packet transfer mode with one or more
ongoing TBFs operating in RTTI configuration, then the network may indicate in
the assignment message that the PDCH pair configuration is \'Unchanged\'. In
this case, the PDCH pair configuration described in the most recently received
assignment message (for this mobile station) previous to this message applies.
The _Uplink Assignment PDCH Pairs Description_ IE shall be included in a
PACKET CS RELEASE INDICATION, PS HANDOVER COMMAND or DTM HANDOVER COMMAND
message assigning an RTTI configuration for uplink TBF(s) if and only if no
RTTI configuration description for downlink TBF(s) is provided in these
messages.
For the purposes of interpreting the **RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC
and** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC bitmaps and the repeated USF
structures in the Dynamic Allocation 2 struct and Uplink TBF Assignment 2
struct, PDCH pairs are ordered starting with the PDCH pair on carrier 1 using
the lowest numbered timeslots, followed by the PDCH pair on carrier 1 using
the next lowest numbered timeslots and so on, followed by the PDCH pair on
carrier 2 using the lowest numbered timeslots (if present), etc.
For an uplink PDCH pair using timeslots i and j, where j > i , the
corresponding downlink PDCH pair is:
\- the one using timeslots i and j; else, if no such PDCH pair is specified
\- the one using timeslots i-1 and i; else, if no such PDCH pair is specified
\- the one using timeslots i-2 and i; else, if no such PDCH pair is specified
\- the one using timeslots i-3 and i if such a PDCH pair exists.
NOTE: It may be the case that there is no downlink PDCH pair which corresponds
to a given uplink PDCH pair.
For a downlink PDCH pair, the corresponding uplink PDCH pair is the uplink
PDCH pair (if it exists) for which the downlink PDCH pair is the corresponding
downlink PDCH pair.
NOTE: It may be the case that there is no uplink PDCH pair which corresponds
to a given downlink PDCH pair.
The network shall activate FANR for any assigned TBF which uses an RTTI
configuration (see sub-clause 9.1.14).
### 7.1.4 Abnormal cases
If a failure occurs on the mobile station side of the new TBF before mobile
station has successfully entered the packet transfer mode, the newly reserved
resources are released; the subsequent behaviour of the mobile station depends
on the type of failure and previous actions.
\- If the failure is due to a TLLI mismatch, or to the expiry of timers T3166
or T3168, or to the fact that the counter N3104 reaches its maximum value in
the contention resolution procedure, and repetition as described in sub-
clauses 7.1.2.3, 7.1.3.2.1 or 7.1.3.3 has been performed, the mobile station
shall remain in packet idle mode, notify higher layer (TBF establishment
failure), transactions in progress shall be aborted and cell reselection
continued, unless the failure takes place during a RR-cell change order
procedure, in which case the mobile behaviour shall be as described in the
Abnormal cases of the RR-Network Commanded Cell Change Order Procedure in 3GPP
TS 44.018;
\- If the mobile station has been assigned more PDCHs than it supports
according to the relevant multislot configuration as defined in 3GPP TS
45.002, the mobile station shall reinitiate the packet access procedure unless
the packet access procedure has already been attempted four times. In that
case, TBF failure has occurred;
\- If the information in the PACKET UPLINK ASSIGNMENT message does not
properly specify an uplink PDCH or specifies a multislot configuration that
the mobile station does not support (see 3GPP TS 45.002), the mobile station
shall reinitiate the packet access procedure unless the packet access
procedure has already been attempted four times. In that case, TBF failure has
occurred;
\- If the information in the MULTIPLE TBF UPLINK ASSIGNMENT message does not
properly specify an uplink PDCH or specifies a multislot configuration that
the mobile station does not support (see 3GPP TS 45.002), the mobile station
shall reinitiate the packet access procedure for each of the TBFs for which
there is an error unless the procedure has already been attempted 4 times for
the TBF. In that case, TBF failure has occurred;
\- If the MULTIPLE TBF UPLINK ASSIGNMENT message contains assignments
including PFI values for which no TBF was requested, the mobile station shall
not act upon these assignments. The mobile station shall act upon the valid
assignments contained in the received message;
\- If the MULTIPLE TBF UPLINK ASSIGNMENT message contains assignments such
that more than one PFI value has been assigned to the same TFI, then TBF
failure has occurred for the requests containing each of those PFI values;
\- If the PACKET ACCESS REJECT message incorrectly specifies a _Reject
structure_ and _A/Gb mode Reject structure_ for this mobile station, or
contains one or more PFIs in the _A/Gb mode Reject structure_ for which no TBF
was requested, the mobile station shall ignore this message;
\- If the mobile station has been assigned a TBF in EGPRS mode and the MS does
not support EGPRS, or has been assigned an MCS (e.g. 8-PSK in the Uplink) that
the MS does not support, the MS shall return to packet idle mode and notify
higher layers (TBF establishment failure);
\- On expiry of timer T3164, the mobile station shall reinitiate the packet
access procedure for the corresponding TBF unless the packet access procedure
has already been attempted four times for this TBF, in which case the mobile
station shall notify higher layers of TBF establishment failure. If the mobile
station has no remaining TBFs allocated it shall return to packet idle mode
and notify higher layers (TBF establishment failure);
\- If the failure is due to any other reason, the mobile station shall return
to packet idle mode, notify higher layer (TBF establishment failure),
transactions in progress shall be aborted and cell reselection continues.
## 7.2 TBF establishment initiated by the network on PCCCH
The purpose of network initiated TBF establishment is to establish a TBF to
support the transfer of upper layer PDUs in the direction from the network to
the mobile station. The procedure may be entered when the mobile station is in
packet idle mode. Network initiated TBF establishment can also be done on
PACCH if a TBF for transfer of upper layer PDUs in the direction from the
mobile station to the network is already established (sub-clause 8.1.1.1.3).
If the mobile station is in dedicated mode and both the network and the mobile
station support DTM, the establishment of a TBF shall be performed by the DTM
assignment procedures on the main DCCH, as defined in 3GPP TS 44.018.
### 7.2.1 Entering the packet transfer mode
The procedure is triggered by a request from upper layers on the network side
to transfer an upper layer PDU to a mobile station in packet idle mode. The
request from upper layers specifies an optional priority level, a QoS profile
including the requested RLC mode, optional DRX parameters, an optional IMSI
and an optional MS Radio Access Capability, multislot class and mobile
classmark to be associated with the packet transfer. The request is implicit
when receiving an upper layer PDU to a mobile station not already having any
assigned radio resources. Upon such a request, the network shall initiate a
packet downlink assignment procedure as defined in sub-clause 7.2.1.1. The BSS
may order its preferred RLC mode when establishing a downlink TBF,
independently of the RLC mode signalled from upper layers. If the mobile
station supports RLC non-persistent mode the network may allocate a downlink
EGPRS TBF that uses this RLC mode.
#### 7.2.1.1 Packet downlink assignment procedure
The network may assign a radio resource on one or more PDCHs to be used for
the TBF. The amount of radio resource to be reserved is a network dependent
choice. If the network and mobile station both support Downlink Dual Carrier,
the network may assign radio resources on one or more PDCHs on two different
radio frequency channels to be used for the TBF.
The allocated radio resource is assigned to the mobile station in a PACKET
DOWNLINK ASSIGNMENT message to the mobile station. The PACKET DOWNLINK
ASSIGNMENT message is transmitted on the PCCCH timeslot corresponding to the
PCCCH group the mobile station belongs to. The appropriate PCCCH group is
calculated from the IMSI (see 3GPP TS 45.002). The behaviour of the network
when the IMSI is not provided by the upper layers is implementation dependent
for the calculation of the PCCCH group where the PACKET DOWNLINK ASSIGNMENT
message has to be sent. If the mobile station is in non-DRX mode or if the
IMSI or the DRX parameters are not provided by the upper layers, there is no
further restriction on what part of the downlink PCCCH timeslot this PACKET
DOWNLINK ASSIGNMENT message can be sent, provided that this part corresponds
to one or more blocks where paging may appear. If the mobile station applies
DRX, this message shall be sent in one or more PCCCH block(s) corresponding to
a paging group determined for the mobile station in packet idle mode or MAC-
Idle state (see 3GPP TS 45.002). The multislot capabilities of the mobile
station shall be considered.
Initial timing advance can be provided in the PACKET DOWNLINK ASSIGNMENT
message as Timing Advance Value field. In case valid timing advance for the
mobile station is not available, the network may use one of the following two
methods to trigger the mobile station to transmit a PACKET CONTROL
ACKNOWLEDGEMENT message:
\- if the PACKET DOWNLINK ASSIGNMENT message is not segmented and the
CONTROL_ACK_TYPE parameter in the System Information indicates acknowledgement
is access bursts, the network may set the poll bit in the PACKET DOWNLINK
ASSIGNMENT message.
\- if the PACKET DOWNLINK ASSIGNMENT message is segmented or the
CONTROL_ACK_TYPE parameter in the System Information does not indicate
acknowledgement is access bursts, the network may send PACKET POLLING REQUEST
message with TYPE_OF_ACK parameter set to access bursts (see sub-clause
11.2.12).
The mobile station shall then send the PACKET CONTROL ACKNOWLEDGEMENT message
as four access bursts in the reserved uplink radio block specified by the RRBP
field as defined in sub-clause 10.4.5.The reserved block is considered as a
one block PACCH allocation. The PACKET CONTROL ACKNOWLEDGEMENT message is used
to derive the timing advance.
Thereafter, either the timing advance in the mobile station is updated with a
PACKET POWER CONTROL /TIMING ADVANCE message or a continuous timing advance
procedure is used. If a Timing Advance Index is included in the assignment
message, the mobile station shall use the continuous timing advance procedure,
using its allocation on PTCCH (see 3GPP TS 45.010). Otherwise the continuous
timing advance procedure shall not be used. For the case where Timing Advance
Value is not provided in the assignment message, the mobile station is not
allowed to send normal bursts (e.g. PACKET DOWNLINK ACK/NACK message) on the
uplink until it receives a valid timing advance either through the continuous
timing advance procedure or in a PACKET POWER CONTROL /TIMING ADVANCE message.
In the case of a mobile station with a Downlink Dual Carrier configuration
where the continuous timing advance procedure is used there is no explicit
indication of the carrier on which the PTCCH is allocated, and the mobile
station shall consider the PTCCH allocation to be on carrier 1 (see sub-clause
5.5.1.7). If a mobile station with a Downlink Dual Carrier configuration
receives an assignment message which results in the mobile station no longer
being in a Downlink Dual Carrier configuration (but still in packet transfer
mode), the mobile station shall consider the PTCCH allocation to be on the
carrier on which packet resources are assigned.
The mobile station shall use information received on the PBCCH to decode the
channel descriptions contained in the assignment. If frequency hopping is
applied, the mobile station shall use the last CA received on PBCCH to decode
the Mobile Allocation. Alternatively, the network may provide a Mobile
Allocation in the assignment. The radio resource is assigned to the mobile
station in a PACKET DOWNLINK ASSIGNMENT message. On receipt of a PACKET
DOWNLINK ASSIGNMENT message, the mobile station shall switch to the assigned
PDCHs.
A PACKET DOWNLINK ASSIGNMENT message may indicate an assignment starting time
in the TBF Starting Time parameter. The mobile station shall monitor PCCCH
until the point in time denoted by the TBF Starting Time. If the mobile
station receives more than one PACKET DOWNLINK ASSIGNMENT message while it
monitors the PCCCH, it shall act upon the most recently received message and
shall ignore the previous message.
When the PACKET DOWNLINK ASSIGNMENT message is received and after awaiting the
point in time denoted by the TBF Starting Time, if such is indicated, the
mobile station shall switch to the assigned PDCHs and start timer T3190. The
timer T3190 is restarted when receiving the first valid RLC data block
addressed to the mobile station. In EGPRS TBF mode T3190 is also restarted
when receiving an erroneous RLC data block for which the header is correctly
received and which addresses the mobile station.
When the mobile station switches to the assigned PDCHs, it shall take the
power control parameters received in the PACKET DOWNLINK ASSIGNMENT message
into account, perform signal strength measurements and apply output power
control procedures as they are defined for packet transfer mode or MAC-Shared
state (see 3GPP TS 45.008). In the case of a mobile station with a Downlink
Dual Carrier configuration, the power control parameters may be different for
each of the two carriers.
On expiry of timer T3190, the mobile station shall abort the procedure and
return to packet idle mode or MAC-Idle state.
#### 7.2.1.2 Packet downlink assignment procedure completion
The packet downlink assignment procedure is completed when the mobile station
receives a valid RLC/MAC block. The mobile station has entered the packet
transfer mode or MAC-Shared state.
#### 7.2.1.3 Packet polling procedure
The network may send to the mobile station a PACKET POLLING REQUEST message.
If the MS has received a PACKET DOWNLINK ASSIGNMENT message with no starting
time or with a starting time that has already elapsed, the PACKET POLLING
REQUEST message shall be sent on PACCH. Otherwise the PACKET POLLING REQUEST
message shall be sent on PAGCH. The mobile station shall be addressed by its
TLLI (_A/Gb mode_), G-RNTI (_Iu mode_) or TFI.
On receipt of a PACKET POLLING REQUEST message, the mobile station shall
respond to the network with the PACKET CONTROL ACKNOWLEDGEMENT message in the
reserved uplink radio block specified by the RRBP field as defined in sub-
clause 10.4.5. The reserved block is considered as a one block PACCH
allocation.
### 7.2.2 Abnormal cases
If a failure occurs on the mobile station side of the new TBF before mobile
station has successfully entered the packet transfer mode or MAC-Shared state,
the newly reserved resources are released; the subsequent behaviour of the
mobile station depends on the type of failure and previous actions.
\- If the mobile station has been assigned more PDCHs than it supports
according to the relevant multislot configuration as defined in 3GPP TS
45.002, the mobile station shall return to packet idle mode or MAC-Idle state;
\- If the mobile station has been assigned a TBF in EGPRS TBF mode and the MS
does not support EGPRS, the MS shall return to packet idle mode or MAC-Idle
state and notify higher layers (TBF establishment failure);
\- On expiry of timer T3190, the mobile station shall return to packet idle
mode or MAC-Idle state;
\- If the failure is due to any other reason, the mobile station shall return
to packet idle mode or MAC-Idle state and cell reselection continues.
## 7.3 Procedure for measurement report sending in packet idle mode
The procedure for measurement report sending shall be initiated by the mobile
station at expiry of the NC measurement report interval timer T3158. At expiry
of the timer T3158 the mobile station shall restart the expired timer T3158,
perform the measurements and initiate the packet access.
The procedure for measurement report sending is initiated by the mobile
station either on PCCCH (sub-clause 7.3.1) or, if a packet control channel not
exists, on CCCH (sub-clause 7.3.2).
If the mobile station initiates the establishment of an RR connection, the
timer T3158 shall be stopped and no measurement reports shall be sent. When
the RR connection is released and if the mobile station has not changed cell,
the measurement reporting procedure shall be restarted.
If a cell change has occurred during the RR connection, the measurements shall
be cancelled until new NC orders have been received (see sub-clause 5.6).
### 7.3.1 Measurement report sending procedure initiated on PCCCH
The packet access procedure is initiated by the RR entity in the mobile
station as specified in sub-clauses 7.1.2.1 and 7.1.2.2 but with access type
\"Single block without TBF establishment\" indicated in the PACKET CHANNEL
REQUEST message. In the following sub-clauses the procedure is only briefly
summarised and special requirements are indicated.
#### 7.3.1.1 On receipt of a PACKET CHANNEL REQUEST message
On receipt of a PACKET CHANNEL REQUEST message with access type indicating
\'Single block without TBF establishment\', the network may allocate one radio
block on an uplink PDCH.
If uplink resources are not available, the network may reject the access
request by sending a PACKET ACCESS REJECT message (see sub-clause 7.3.1.3).
The network shall not respond to a packet access for measurement reporting by
sending a PACKET QUEUING NOTIFICATION message.
The radio resource is assigned to the mobile station in a PACKET UPLINK
ASSIGNMENT message sent on any PAGCH on the same PCCCH on which the network
has received the PACKET CHANNEL REQUEST message. The PACKET UPLINK ASSIGNMENT
message shall include the following optional parameters:
\- Power Control Parameters with timeslot allocation;
\- Frequency parameters;
\- TBF_STARTING_TIME indicating the frame number of the allocated block;
\- TIMING_ADVANCE_VALUE;
\- Packet Request Reference.
#### 7.3.1.2 On receipt of a PACKET UPLINK ASSIGNMENT message
When receiving a PACKET UPLINK ASSIGNMENT message the mobile station shall
send either the PACKET MEASUREMENT REPORT message or the PACKET ENHANCED
MEASUREMENT REPORT message in the allocated radio block on the assigned PDCH
and immediately switch back to the PCCCH in non-DRX mode (see sub-clause
5.5.1.5). No TBF is established and the network shall not acknowledge the
reception of the PACKET MEASUREMENT REPORT message or the PACKET ENHANCED
MEASUREMENT REPORT message.
The PACKET MEASUREMENT REPORT message shall contain the NC Measurement Report
struct.
If timer T3170 expires before a PACKET UPLINK ASSIGNMENT message is received,
the packet access procedure is aborted, the transmission of the measurement
report for that measurement period is cancelled, and the mobile station shall
indicate a random access failure to upper layer and perform autonomous cell
re-selection.
#### 7.3.1.3 On receipt of a PACKET ACCESS REJECT message
The network may send to the mobile station a PACKET ACCESS REJECT message.
The mobile station shall react to this as described in sub-clause 7.1.2.2.4
with the exception of the actions taken when either of the timers T3172 or
T3162 expires. In this case, the measurement report initiating the packet
access shall be discarded and the mobile station shall return to packet idle
mode or MAC-Idle state.
If the measurement report interval timer T3158 expires before any of the
timers T3172 or T3162 expires, no new measurement shall be initiated but the
timer T3158 shall be restarted.
#### 7.3.1.4 Abnormal cases
If the PACKET UPLINK ASSIGNMENT message contains faulty parameters, the mobile
station shall abort the packet access procedure and return to packet idle mode
or MAC-Idle state. The measurement report initiating the packet access shall
be discarded.
If the mobile station receives either a PACKET QUEUING NOTIFICATION message or
a PACKET POLLING REQUEST message, the mobile station shall abort the packet
access procedure and return to packet idle mode or MAC-Idle state. The
measurement report initiating the packet access shall be discarded.
### 7.3.2 Measurement report sending procedure initiated on CCCH
For detailed description of the procedures following in this sub-clause, see
3GPP TS 44.018. The procedure is here only briefly summarised and special
requirements are indicated.
The packet access procedure is initiated by the RR entity in the mobile
station. The mobile station sends a CHANNEL REQUEST message indicating 'Single
block packet access\' on RACH. The network shall then respond with either an
IMMEDIATE ASSIGNMENT message granting a \"single block access\" on a PDCH or
an IMMEDIATE ASSIGNMENT REJECT message (see 3GPP TS 44.018).
If a PDCH block is assigned, the mobile station shall send either the PACKET
MEASUREMENT REPORT message or the PACKET ENHANCED MEASUREMENT REPORT message
in the allocated radio block on the assigned PDCH and then immediately switch
back to the CCCH in non-DRX mode (see sub-clause 5.5.1.5). No TBF is
established and the network shall not acknowledge the reception of the PACKET
MEASUREMENT REPORT message or the PACKET ENHANCED MEASUREMENT REPORT message.
The PACKET MEASUREMENT REPORT message shall contain the NC Measurement Report
struct.
On receipt of an IMMEDIATE ASSIGNMENT REJECT message the mobile station shall
follow the procedure specified in 3GPP TS 44.018 sub-clause 'Packet access
rejection\' with the exception of the actions taken when either of the 3GPP TS
44.018 timers T3142 or T3146 expires. In this case, the measurement report
initiating the packet access shall be discarded and the mobile station shall
return to packet idle mode.
If the measurement report interval timer T3158 expires before any of the 3GPP
TS 44.018 timers T3142 or T3146 expires, no new measurement shall be initiated
but the timer T3158 shall be restarted.
## 7.4 Cell Change Order procedures in Packet Idle mode
For an individual mobile station in packet idle mode, the network may initiate
the cell change order procedure either on PCCCH or, if a packet control
channel does not exist, on CCCH.
### 7.4.1 Cell Change Order procedure initiated on PCCCH
The network may initiate the cell change order procedure by sending a PACKET
CELL CHANGE ORDER message in a PCCCH block monitored by the mobile station. No
TBF shall be established.
The PACKET CELL CHANGE ORDER message contains:
\- The characteristics of the new cell that are necessary to identify it (i.e.
BSIC + BCCH frequency);
\- The NC measurement parameters valid for the mobile station in the new cell
(NETWORK_CONTROL_ORDER and optionally: NC_NON_DRX_PERIOD,
NC_REPORTING_PERIOD_I and NC_REPORTING_PERIOD_T).
For a multi-RAT mobile station supporting UTRAN, the PACKET CELL CHANGE ORDER
message may contain information on a UTRAN target cell; in this case, the
establishment of channel(s) and subsequent measurement reporting are defined
in 3GPP TS 25.331.
For a multi-RAT mobile station supporting "CCN towards E-UTRAN, E-UTRAN
Neighbour Cell measurement reporting and Network controlled cell reselection
to E-UTRAN", the PACKET CELL CHANGE ORDER message may contain information on
an E-UTRAN target cell; in this case, the establishment of channel(s) and
subsequent measurement reporting are defined in 3GPP TS 36.331.
If the mobile station is not involved in an RR connection, upon receipt of the
PACKET CELL CHANGE ORDER message, the mobile station shall stop all relevant
RLC/MAC timers except for timers related to measurement reporting and start
timer T3174. The mobile station shall then switch to the specified new cell
and obey the relevant RLC/MAC procedures on this new cell. If a valid RRBP
field was received in the PACKET CELL CHANGE ORDER message then the MS shall
send a PACKET CONTROL ACKNOWLEDMENT message in the reserved uplink radio block
specified by the RRBP field before switching to the new cell. If the timers
related to measurement reporting expire while the reselection procedure has
not yet been completed, these timers shall be restarted so that the mobile
station resumes the measurement reporting procedures once camped on the new
cell. A UTRAN capable mobile station ordered to a UTRAN cell shall obey the
PACKET CELL CHANGE ORDER message irrespective of whether the target cell is
known or not known (see 3GPP TS 25.133 and 3GPP TS 25.123); an E-UTRAN capable
mobile station ordered to an E-UTRAN cell shall obey the PACKET CELL CHANGE
ORDER message irrespective of whether the target cell is known or not known
(see 3GPP TS 36.133).
If the mobile station is involved in an RR connection, the mobile station
shall ignore the PACKET CELL CHANGE ORDER message.
The procedure for completion of the cell change order is defined in sub-clause
8.4.1 and abnormal procedures are defined in sub-clause 8.4.2.
### 7.4.2 Cell Change Order procedure initiated on CCCH
The network may initiate the cell change order procedure by sending an
IMMEDIATE ASSIGNMENT message for single block assignment in a CCCH block
monitored by the mobile station. No TBF shall be established. The single block
assignment procedure is specified in 3GPP TS 44.018.
The network shall then send the PACKET CELL CHANGE ORDER message in the
assigned downlink block to the mobile station. The PACKET CELL CHANGE ORDER
message contains:
\- the characteristics of the new cell that are necessary to identify it (i.e.
BSIC + BCCH frequency);
\- the NC measurement parameters valid for the mobile station in the new cell
(NETWORK_CONTROL_ORDER and optionally: NC_NON_DRX_PERIOD,
NC_REPORTING_PERIOD_I and NC_REPORTING_PERIOD_T).
For a multi-RAT mobile station supporting UTRAN, the PACKET CELL CHANGE ORDER
message may contain information on a UTRAN target cell; in this case, the
establishment of channel(s) and subsequent measurement reporting are defined
in 3GPP TS 25.331.
For a multi-RAT mobile station supporting "CCN towards E-UTRAN, E-UTRAN
Neighbour Cell measurement reporting and Network controlled cell reselection
to E-UTRAN", the PACKET CELL CHANGE ORDER message may contain information on
an E-UTRAN target cell; in this case, the establishment of channel(s) and
subsequent measurement reporting are defined in 3GPP TS 36.331.
Upon receipt of the PACKET CELL CHANGE ORDER message, the mobile station shall
stop all relevant RLC/MAC timers except for timers related to measurement
reporting and start timer T3174. The mobile station shall then switch to the
specified new cell and obey the relevant RLC/MAC procedures on this new cell.
If a valid RRBP field was received in the PACKET CELL CHANGE ORDER message
then the MS shall send a PACKET CONTROL ACKNOWLEDMENT message in the reserved
uplink radio block specified by the RRBP field before switching to the new
cell. If the timers related to measurement reporting expire while the
reselection procedure has not yet been completed, these timers shall be
restarted so that the mobile station resumes the measurement reporting
procedures once camped on the new cell. A UTRAN capable mobile station ordered
to a UTRAN cell shall obey the PACKET CELL CHANGE ORDER message irrespective
of whether or not the target cell is known (see 3GPP TS 25.133 and 3GPP TS
25.123); an E-UTRAN capable mobile station ordered to an E-UTRAN cell shall
obey the PACKET CELL CHANGE ORDER message irrespective of whether the target
cell is known or not known (see 3GPP TS 36.133).
The procedure for completion of the cell change order is defined in sub-clause
8.4.1 and abnormal procedures are defined in sub-clause 8.4.2.
## 7.5 Measurement Order procedures in Packet Idle mode
To send the NC Measurement order to an individual mobile station in packet
idle mode, the network may establish a connection either on PCCCH or, if a
packet control channel does not exist, on CCCH.
### 7.5.1 Measurement Order procedures initiated on PCCCH
The network may initiate the measurement order procedure by sending a PACKET
MEASUREMENT ORDER message in a PCCCH block monitored by the mobile station.
The PACKET MEASUREMENT ORDER message overrides a broadcast PSI5 message. If
the PACKET MEASUREMENT ORDER message contains multiple instances, the network
shall send all instances to the mobile station.
The PACKET MEASUREMENT ORDER message may contain the following optional
Measurement order parameters:- TLLI (shall be included in _A/Gb mode_);
\- G-RNTI (shall be included in _Iu mode)_ ;
\- Enhanced measurement parameters.
Upon receipt of the PACKET MEASUREMENT ORDER message, the mobile station shall
store the Measurement order parameters . The mobile station shall obey the
NETWORK_CONTROL_ORDER as specified in 3GPP TS 45.008 and in sub-clause 5.6.
### 7.5.2 Measurement Order procedures initiated on CCCH
The network may initiate the measurement order procedure by allocating a
single block in an IMMEDIATE ASSIGNMENT message sent to the mobile station on
a CCCH block in the same way as specified in sub-clause 7.4.2.
The network shall then send the PACKET MEASUREMENT ORDER message in the
assigned downlink block to the mobile station. The PACKET MEASUREMENT ORDER
message overrides a broadcast PSI5 message. If the PACKET MEASUREMENT ORDER
message contains multiple instances, the network has to repeat the complete
procedure with new assignment for each instance of the message.
The PACKET MEASUREMENT ORDER message may contain the following optional
Measurement order parameters:
\- TLLI (shall be included);
\- NC Measurement Parameters (NETWORK_CONTROL_ORDER; NC_NON_DRX_PERIOD;
NC_REPORTING_PERIOD_I; NC_REPORTING_PERIOD_T; NC_FREQUENCY_LIST);
\- Enhanced measurement parameters.
Upon receipt of the PACKET MEASUREMENT ORDER message, the mobile station shall
store the Measurement order parameters . The mobile station shall obey the
NETWORK_CONTROL_ORDER as specified in 3GPP TS 45.008 and in sub-clause 5.6.
## 7.6 Packet Pause procedure
This procedure enables the network to pause GPRS services packet flow for a
mobile station with non-GSM capabilities in the downlink direction. The
procedure is initiated by the mobile station either on a PCCCH (sub-clause
7.6.1) or, if a packet control channel does not exist, on a CCCH (sub-clause
7.6.2).
### 7.6.1 Packet pause procedure initiated on PCCCH
The packet access procedure is initiated by the RR entity in the mobile
station as specified in sub-clauses 7.1.2.1 and 7.1.2.2 but with access type
'Single block without TBF establishment\' indicated in the PACKET CHANNEL
REQUEST message.
#### 7.6.1.1 On receipt of a PACKET CHANNEL REQUEST message
On receipt of a PACKET CHANNEL REQUEST message with access type indicating
\"Single block without TBF establishment\", the network may allocate one radio
block on an uplink PDCH.
If uplink resources are not available, the network may reject the access
request by sending a PACKET ACCESS REJECT message (see sub-clause 7.6.1.3).
The network shall not respond by sending a PACKET QUEUING NOTIFICATION
message.
The radio resource is assigned to the mobile station in a PACKET UPLINK
ASSIGNMENT message sent on any PAGCH on the same PCCCH on which the network
has received the PACKET CHANNEL REQUEST message. The PACKET UPLINK ASSIGNMENT
message shall include the following optional parameters:
\- Power Control Parameters with timeslot allocation;
\- Frequency parameters;
\- TBF_STARTING_TIME indicating the frame number of the allocated block;
\- TIMING_ADVANCE_VALUE;
\- Packet Request Reference.
#### 7.6.1.2 On receipt of a PACKET UPLINK ASSIGNMENT message
When receiving a PACKET UPLINK ASSIGNMENT message the mobile station shall
send PACKET PAUSE in the allocated radio block on the assigned PDCH. The
mobile station shall stop timer T3204. No TBF is established and the network
shall not acknowledge the reception of the PACKET PAUSE message.
If timer T3204 expires before a PACKET UPLINK ASSIGNMENT message is received,
the packet pause procedure is aborted.
#### 7.6.1.3 On receipt of a PACKET ACCESS REJECT message
The network may send to the mobile station a PACKET ACCESS REJECT message. The
mobile station shall react by aborting the packet pause procedure and stopping
timer T3204.
#### 7.6.1.4 Abnormal cases
If on the mobile station side timer T3204 expires indicating unsuccessful
channel request procedure or if the PACKET UPLINK ASSIGNMENT message contains
faulty parameters, the mobile station shall abort the packet pause procedure.
If the mobile station receives either a PACKET QUEUING NOTIFICATION message or
a PACKET POLLING REQUEST message, the mobile station shall abort the packet
pause procedure.
### 7.6.2 Packet pause procedure initiated on CCCH
For a description of the procedure, see 3GPP TS 44.018.
## 7.7 MBMS packet access and establishment procedures
### 7.7.1 MBMS packet access procedure
#### 7.7.1.1 General
This procedure enables the network to count the number of mobile stations in a
cell that want to receive an MBMS session. If the procedure is initiated by
the mobile station as a response to an MBMS notification, which contains
uplink resource description for an MPRACH, or after cell reselection during an
ongoing MBMS session, if the mobile station is in DRX mode (e.g. it is not
involved in a _routeing area update_ procedure) and has received in the old
serving cell the indication that in the new cell an MPRACH is allocated for
that MBMS session, the procedure shall be initiated on that MPRACH (sub-clause
7.7.1.4). Otherwise the procedure is initiated by the mobile station either on
a PCCCH (sub-clause 7.7.1.2) or, if a packet control channel is not allocated
in the cell, on a CCCH (sub-clause 7.7.1.3).
The procedure may be initiated by the mobile station either:
\- as a response to an MBMS notification where counting is requested; or
\- in the new cell after cell reselection during an ongoing MBMS session, if
MBMS is supported by the network in the new cell; or
\- when a request is received from upper layer in the mobile station, if MBMS
is supported by the network in the cell; or
\- after timeout when waiting for an RLC block for this session.
NOTE: The mobile station shall not initiate an MBMS packet access procedure in
a new cell after cell reselection if the mobile station already has
information about the location and identifier of the MBMS radio bearer
relevant to the ongoing MBMS session in that new cell and it contains no
uplink feedback channel.
A mobile station that is IMSI attached (GPRS class A or B mode of operation)
shall respond to a PACKET PAGING REQUEST message indicating an RR connection
establishment or TBF establishment. For that purpose, the mobile station shall
abort the MBMS packet access procedure, according to the conditions stated in
sub-clause 6.1.4.
If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message, it shall
abort the MBMS packet access procedure and respond to the PACKET DOWNLINK
ASSIGNMENT message (see sub-clause 7.2.1)
#### 7.7.1.2 MBMS packet access procedure on PCCCH
##### 7.7.1.2.0 Initiation of the MBMS packet access procedure
The packet access procedure for an MBMS session is initiated by the mobile
station on PCCCH, as specified in sub-clauses 7.1.2.1 with access type
\"Single block MBMS access\" indicated in the PACKET CHANNEL REQUEST message.
##### 7.7.1.2.1 On receipt of a PACKET CHANNEL REQUEST message
On receipt of a PACKET CHANNEL REQUEST message with access type indicating
\"Single block MBMS access\", the network may either allocate one radio block
on an uplink PDCH, as specified in sub-clause 7.1.2.1 or, if uplink resources
are not available, reject the access request by sending a PACKET ACCESS REJECT
message (see sub-clause 7.7.1.2.3).
The radio resource is assigned to the mobile station in a PACKET UPLINK
ASSIGNMENT message sent on any PAGCH on the same PCCCH on which the network
has received the PACKET CHANNEL REQUEST message. The PACKET UPLINK ASSIGNMENT
message shall include the following optional parameters:
\- Power Control Parameters with timeslot allocation;
\- Frequency parameters;
\- TBF_STARTING_TIME indicating the frame number of the allocated block;
\- TIMING_ADVANCE_VALUE;
\- Packet Request Reference.
##### 7.7.1.2.2 On receipt of a PACKET UPLINK ASSIGNMENT message
When receiving a PACKET UPLINK ASSIGNMENT message, corresponding to one of its
3 last PACKET CHANNEL REQUEST messages, the mobile station shall send the MBMS
SERVICE REQUEST message in the allocated radio block on the assigned PDCH and
then start timer T3214.While timer T3214 is running the mobile station shall
accept reception of repeated PACKET UPLINK ASSIGNMENT messages, on any PAGCH
on the same PCCCH on which the mobile station has sent the PACKET CHANNEL
REQUEST message, and re-send the MBMS SERVICE REQUEST in the allocated block
on the assigned PDCH and restart the timer T3214.
At expiry of timer T3214, a mobile station in packet idle mode or MAC-Idle
state shall return to DRX mode. No radio bearer will be established in the
cell for the concerned MBMS session. A mobile station in broadcast/multicast
receive mode shall remain in broadcast/multicast receive mode.
##### 7.7.1.2.3 On receipt of a PACKET ACCESS REJECT message
The network may send a PACKET ACCESS REJECT message to the mobile station in
response to a PACKET CHANNEL REQUEST message. The mobile station shall then
react as described in sub-clause 7.1.2.2.4.
##### 7.7.1.2.4 On receipt of an MBMS ASSIGNMENT message
When the mobile station receives an MBMS ASSIGNMENT message for an MBMS
session, it shall stop any ongoing packet access procedure for that MBMS
session and proceed according to sub-clause 7.7.2.2.
##### 7.7.1.2.5 Abnormal cases
If the mobile station receives a PACKET UPLINK ASSIGNMENT message that
contains faulty parameters, the mobile station shall abort the MBMS packet
access procedure.
#### 7.7.1.3 MBMS packet access procedure on CCCH
For a description of the procedure, see 3GPP TS 44.018.
#### 7.7.1.4 MBMS packet access procedure on MPRACH
##### 7.7.1.4.1 Initiation of the MBMS packet access procedure on MPRACH
The mobile station initiates the MBMS packet access procedure on MPRACH by
sending an MPRACH PACKET CHANNEL REQUEST message (see sub-clause 11.2.5c) with
access type \"Single block MBMS access\" on the MPRACH.
The mobile station shall determine the control parameters from the MPRACH
control parameters included in the MBMS notification or in the MBMS
NEIGHBOURING CELL INFORMATION message transmitted in the old serving cell, if
present. If an MPRACH control parameter is not available, the last received
corresponding control parameter for the PRACH, if PCCCH is present, shall be
used; otherwise the last received corresponding control parameter for the RACH
shall be used.
At sending of the first MPRACH PACKET CHANNEL REQUEST message, the mobile
station shall store the value for the Retry (R) bit to be transmitted in all
the subsequent MAC headers as \'MS sent channel request message once\'. If a
second MPRACH PACKET CHANNEL REQUEST message is sent, the mobile station shall
change the value for the Retry (R) bit to \'MS sent channel request message
twice or more\'.
While waiting for a response to the MPRACH PACKET CHANNEL REQUEST message the
mobile station shall continue to monitor the CCCH/PCCCH (whichever is
applicable) corresponding to its CCCH_GROUP/PCCCH_GROUP. The mobile station
shall perform signal strength measurements as they are defined for packet idle
mode, see 3GPP TS 45.008.
A mobile station that is IMSI attached (GPRS class A or B mode of operation)
shall respond to a PACKET PAGING REQUEST message indicating an RR connection
establishment. For that purpose, the mobile station may abort the packet
access procedure, according to the conditions stated in sub-clause 6.1.4. The
mobile station shall not respond to a PACKET PAGING REQUEST message indicating
TBF establishment.
A mobile station that is not IMSI attached (GPRS class C mode of operation)
shall not respond to any type of PACKET PAGING REQUEST messages during the
packet access procedure, it shall only decode the PERSISTENCE_LEVEL parameter,
if that is included in the message.
###### 7.7.1.4.1.1 Access persistence control on MPRACH
The mobile station shall make maximally M + 1 attempts to send an MPRACH
PACKET CHANNEL REQUEST message.
The mobile station shall use the control parameters determined by the
procedure described in sub-clause 7.7.1.4.1:
\- MAX_RETRANS;
\- PERSISTENCE_LEVEL, which consists of the PERSISTENCE_LEVEL P ∈ {0, 1,
...14, 16}. If the control parameters do not contain the PERSISTENCE_LEVEL
parameter, this shall be interpreted as if P = 0;
\- S;
\- TX_INT.
The mobile station shall start timer T3186 at the beginning of the MPRACH
packet access procedure. At expiry of timer T3186, the MPRACH packet access
procedure shall be aborted, and:
  * if at least one MPRACH PACKET CHANNEL REQUEST message was transmitted by the mobile station, a random access failure shall be indicated to upper layers and the mobile station shall perform autonomous cell re-selection according to 3GPP TS 43.022;
  * otherwise, a packet access failure shall be indicated to upper layers and the mobile station shall return to packet idle mode or MAC-Idle state.
The first attempt to send an MPRACH PACKET CHANNEL REQUEST message may be
initiated at the first available MPRACH block on the indicated PDCH. The
mobile station shall choose one of the four TDMA frames within the selected
MPRACH block randomly with a uniform probability distribution.
For each attempt, the mobile station shall draw a random value R with uniform
probability distribution in the set {0, 1, ..., 15}. The mobile station is
allowed to transmit an MPRACH PACKET CHANNEL REQUEST message if P is less than
or equal to R.
After each attempt, the S and T parameters are used to determine the next TDMA
frame in which it may be allowed to make a successive attempt. The number of
TDMA frames, belonging to the MPRACH on the indicated PDCH, between two
successive attempts to send an MPRACH PACKET CHANNEL REQUEST message,
excluding the TDMA frames potentially containing the messages themselves, is a
random value drawn for each transmission, with uniform probability
distribution, in the set {S, S + 1, ..., S + T ‑ 1};
Here:
M is the value of the parameter MAX_RETRANS;
T is the value of the parameter TX_INT;
S is the value of the parameter S.
Having made M + 1 attempts to send an MPRACH PACKET CHANNEL REQUEST message,
the mobile station shall stop timer T3186 and start timer T3170 if at least
one MPRACH PACKET CHANNEL REQUEST message was transmitted by the mobile
station. In this case, at expiry of timer T3170, the packet access procedure
shall be aborted, a random access failure shall be indicated to upper layers
and the mobile station shall perform autonomous cell re-selection according to
3GPP TS 43.022. Otherwise, the packet access procedure shall be aborted, a
packet access failure shall be indicated to upper layers and the mobile
station shall return to packet idle mode or MAC-Idle state.
If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message while it
is waiting for a response to an MPRACH PACKET CHANNEL REQUEST message, it
shall abort the MBMS packet access procedure on MPRACH and respond to the
PACKET DOWNLINK ASSIGNMENT message (see sub-clause 7.2.1).
##### 7.7.1.4.2 On receipt of an MPRACH PACKET CHANNEL REQUEST
On receipt of an MPRACH PACKET CHANNEL REQUEST message with access type
indicating \"Single block MBMS access\", the network shall either allocate one
radio block on an uplink PDCH by sending a PACKET UPLINK ASSIGNMENT message on
the downlink PDCH corresponding to the uplink PDCH where the MPRACH is
allocated or, if uplink resources are not available, reject the access request
by sending a PACKET ACCESS REJECT message on the same downlink PDCH (see sub-
clause 7.7.1.4.3).
The PACKET UPLINK ASSIGNMENT message shall include the optional parameters:
\- Power Control Parameters with timeslot allocation;
\- Frequency parameters;
\- TBF_STARTING_TIME indicating the frame number of the allocated block;
\- TIMING_ADVANCE_VALUE;
\- Packet Request Reference.
##### 7.7.1.4.3 On receipt of a PACKET ACCESS REJECT message
The network may, as response to an MPRACH PACKET CHANNEL REQUEST message, send
to the mobile station a PACKET ACCESS REJECT message on the downlink PDCH
corresponding to the uplink PDCH where the MPRACH is allocated. This message
contains the request reference with time of reception of the MPRACH PACKET
CHANNEL REQUEST message and optionally a WAIT_INDICATION field in the Reject
structure of the PACKET ACCESS REJECT message.
On receipt of a PACKET ACCESS REJECT message containing a Reject structure
addressed to the mobile station, where the Packet Request Reference in the
Reject structure corresponds to one of its 3 last MPRACH PACKET CHANNEL
REQUEST messages:
\- The mobile station shall stop timer T3186, stop sending MPRACH PACKET
CHANNEL REQUEST messages, start timer T3172 with the value indicated in the
WAIT_INDICATION field, start timer T3170 if it has not already been started
and listen to the downlink PCCCH until timer T3170 expires. During this time,
the mobile station shall ignore additional PACKET ACCESS REJECT messages.
During this time, on reception of any PACKET UPLINK ASSIGNMENT message
corresponding to any other of its 3 last MPRACH PACKET CHANNEL REQUEST
messages, the mobile station shall stop timers T3170 and T3172 if running, and
follow the procedure defined in sub-clause 7.1.2.2.1b;
\- If no PACKET UPLINK ASSIGNMENT message is received before expiration of
timer T3170, the mobile station shall indicate a packet access failure to
upper layer and return to packet idle mode (listening to its paging channel).
As an option the mobile station may stop timer T3170, indicate a packet access
failure to upper layer and return to packet idle mode as soon as it has
received responses from the network on all or, in case more than 3 were sent,
the last 3 of its MPRACH PACKET CHANNEL REQUEST messages. If the mobile
station is already engaged in a parallel broadcast/multicast session the
mobile station shall remain in broadcast/multicast receive mode;
\- If an erroneous PACKET UPLINK ASSIGNMENT message (e.g. the mobile station
has been assigned more PDCHs than it supports according to the relevant
multislot configuration as defined in 3GPP TS 45.002) addressed to the mobile
station is received before expiration of timer T3170, the mobile station shall
stop T3170 and act as stated in sub-clause 7.1.4;
\- If the mobile station receives a PACKET DOWNLINK ASSIGNMENT message, it
shall stop timer T3170 if running and respond to the PACKET DOWNLINK
ASSIGNMENT message (see sub-clause 7.2.1);
\- The mobile station is not allowed to make a new attempt for packet access
in the same cell until timer T3172 expires, but may attempt packet access in
another cell after successful cell reselection for radio conditions reasons
(see 3GPP TS 45.008). In _A/Gb mode_ , a mobile station that is IMSI attached
(GPRS class A or B mode of operation) may attempt to enter the dedicated mode
in the same cell before timer T3172 has expired. During the time T3172 is
running, the mobile station shall ignore all received PACKET PAGING REQUEST
messages except paging requests sent to trigger RR connection establishment
and paging requests sent to trigger the acquisition of an ETWS Primary
Notification message;
\- The value of the WAIT_INDICATION field (i.e. timer T3172) relates to the
cell from which it was received.
##### 7.7.1.4.4 On receipt of a PACKET UPLINK ASSIGNMENT message
On receipt of a PACKET UPLINK ASSIGNMENT message corresponding to one of its 3
last MPRACH PACKET CHANNEL REQUEST messages the mobile station shall stop
timers T3186 and T3170 if running and stop sending MPRACH PACKET CHANNEL
REQUEST messages. The mobile station shall send the MBMS SERVICE REQUEST
message in the allocated radio block on the assigned PDCH and then start timer
T3214. While timer T3214 is running the mobile station shall accept reception
of repeated PACKET UPLINK ASSIGNMENT messages, on the downlink PDCH
corresponding to the uplink PDCH where the MPRACH is allocated, and re-send
the MBMS SERVICE REQUEST in the allocated block on the assigned PDCH and
restart the timer T3214.
At expiry of timer T3214, a mobile station in packet idle mode or MAC-Idle
state shall return to DRX mode and shall consider the MBMS radio bearer as not
established in the cell for the concerned MBMS session. A mobile station in
broadcast/multicast receive mode shall remain in broadcast/multicast receive
mode.
##### 7.7.1.4.5 On receipt of an MBMS ASSIGNMENT message
When the mobile station receives an MBMS ASSIGNMENT message for an MBMS
session, it shall stop any ongoing packet access procedure for that MBMS
session and proceed according to sub-clause 7.7.2.2.
### 7.7.2 Establishment of MBMS bearer
#### 7.7.2.1 General
The network may send an MBMS ASSIGNMENT message to the mobile station(s) in
order to inform about the establishment of a radio bearer for an MBMS session
in the cell or to notify the mobile station(s) that a radio bearer for that
MBMS session is not established in the cell. The decision of whether to
establish a radio bearer for an MBMS session in a cell is a network dependent
choice.
If the network sends the MBMS ASSIGNMENT message subsequent to an MBMS
Notification for the same MBMS session, the MBMS ASSIGNMENT message shall be
sent on any PAGCH on the same PCCCH on which the network has sent the MBMS
Notification or, if a packet control channel does not exist, the IMMEDIATE
ASSIGNMENT message including the _Multiple Blocks Packet Downlink Assignment_
construction shall be sent on any AGCH on the same CCCH on which the network
has sent the MBMS Notification, followed by the MBMS ASSIGNMENT message sent
on the PDCH specified by the _Packet Channel Description_ IE in the IMMEDIATE
ASSIGNMENT message (see 3GPP TS 44.018).
In case the network sends the MBMS ASSIGNMENT message in response to an MBMS
SERVICE REQUEST message which is not sent as a response to an MBMS
Notification, the MBMS ASSIGNMENT message shall be sent either:
\- on the PCCCH corresponding to the mobile station PCCCH_GROUP, if the mobile
station initiated the MBMS packet access procedure on the MPRACH, or
\- on any PAGCH on the same PCCCH on which the mobile station sent the PACKET
CHANNEL REQUEST message with access type \"Single block MBMS access\" or,
\- if a packet control channel does not exist, the IMMEDIATE ASSIGNMENT
message including the _Multiple Blocks Packet Downlink Assignment_
construction shall be sent on the CCCH corresponding to the mobile station
CCCH_GROUP, if the mobile station initiated the MBMS packet access procedure
on the MPRACH, or on any AGCH on the same CCCH on which the mobile station
sent the CHANNEL REQUEST message with access type \"Single block MBMS
access\", followed by the MBMS ASSIGNMENT message sent on the PDCH specified
by the _Packet Channel Description_ IE in the IMMEDIATE ASSIGNMENT message
(see 3GPP TS 44.018).
#### 7.7.2.2 On receipt of an MBMS ASSIGNMENT message
On reception of the MBMS ASSIGNMENT message the mobile station shall stop
timer T3214 if running and enters broadcast/multicast receive mode.
If the MBMS ASSIGNMENT message indicates that a radio bearer is established
for the MBMS session in the cell, and thus contains an MBMS bearer
description, the mobile station shall set and start the session duration timer
for this MBMS session with a value equal to the Estimated Session Duration and
shall listen to downlink RLC blocks identified by the assigned MBMS Bearer
Identity value on the defined PDCHs. The network may assign a radio resource
on one or more PDCHs to be used for the radio bearer. The amount of radio
resource to be reserved is a network dependent choice and shall not exceed the
multislot capability of an MBMS capable mobile station (see 3GPP TS 45.002).
The MBMS In-band Signalling Indicator information element included in the MBMS
ASSIGNMENT message indicates whether or not the network shall send system
information messages and (for mobile stations with an assigned MS_ID on that
MBMS radio bearer) paging messages on the PACCH of the MBMS radio bearer.
The MBMS bearer description may indicate an MBMS radio bearer starting time.
If the mobile station receives the MBMS ASSIGNMENT message before the MBMS
radio bearer starting time has expired, it shall wait until the point in time
denoted by the MBMS radio bearer starting time, leave non-DRX mode, switch to
the assigned PDCHs and start timer T3190. If the mobile station receives the
MBMS ASSIGNMENT message after the MBMS radio bearer starting time has expired,
it shall ignore the indicated MBMS radio bearer starting time, leave non-DRX
mode, immediately switch to the assigned PDCHs and start timer T3190. If the
mobile station receives an MBMS ASSIGNMENT message including an MBMS bearer
description without an MBMS radio bearer starting time, it shall leave non-DRX
mode, immediately switch to the assigned PDCHs and start timer T3190. The
timer T3190 is restarted when receiving the first valid RLC data block
including the assigned MBMS Bearer Identity. On expiry of timer T3190, the
mobile station shall abort the procedure and repeat the MBMS packet access
procedure for the MBMS session.
If the mobile station receives more than one MBMS ASSIGNMENT message while it
monitors the PCCCH or, if a packet control channel does not exist, the CCCH
(see 3GPP TS 44.018), it shall act upon the most recently received message and
shall ignore the previous message.
If the MBMS ASSIGNMENT message indicates that no radio bearer is established
for the MBMS session in the cell, the mobile station shall act according to
the indication in the Reject cause.
\- If the cause value indicates that further MBMS packet accesses are allowed
for this MBMS session in the same cell, as long as the session duration timer
for this MBMS session in the mobile station is still running, the mobile
station may perform more access attempts for the current MBMS session in this
cell or in any other cell where MBMS is supported by the network;
\- If the cause value indicates that no further MBMS packet accesses are
allowed for this MBMS session in the same cell, the mobile station shall not
perform any further access attempts for the current MBMS session in this cell.
As long as the session duration timer for this MBMS session in the mobile
station is still running, the mobile station may perform access attempts for
the MBMS session in any other cell to which the mobile station has performed
cell reselection, if MBMS is supported by the network in that cell;
\- If the cause value indicates that no further MBMS packet accesses are
allowed for this MBMS session in the same Routing Area, the mobile station
shall not perform any further access attempts for the current MBMS session in
this Routing Area. As long as the session duration timer for this MBMS session
in the mobile station is still running, the mobile station may perform access
attempts for the MBMS session in any other cell, in any other Routing Area, to
which the mobile station has performed cell reselection, if MBMS is supported
by the network in that cell;
\- If the cause value indicates that no further MBMS packet accesses are
allowed for this MBMS session in this PLMN, the mobile station shall not
perform any further access attempts for the MBMS session.
When the session duration timer for the MBMS session in the mobile station
expires, the mobile station shall no longer perform access attempts for that
MBMS session in any cell and shall indicate to the upper layers the end of the
MBMS session.
Independent on the Reject cause value received and on the expiry of the
session duration timer for the MBMS session, the mobile station may always
perform new MBMS packet accesses for the MBMS session if a new MBMS
Notification addressing that MBMS session, and indicating that counting shall
be performed, is received.
In case the network sends the MBMS ASSIGNMENT message in response to an MBMS
SERVICE REQUEST message which is not sent as a response to an MBMS
Notification, and the MBMS ASSIGNMENT message contains the MBMS bearer
description and an uplink feedback channel is used, then the network may
include the TLLI of the mobile station, the MS_ID and the timing advance
parameters in the MBMS ASSIGNMENT message. If no MS_ID identifier is available
on the network side, the network notifies the mobile station of the lack of an
MS_ID identifier, preventing the mobile station from repeating the MBMS packet
access procedure in this cell.
#### 7.7.2.3 Abnormal cases
If on the mobile station side timer T3214 expires indicating that no MBMS
bearer will be established for the specific MBMS session in the cell or if the
MBMS ASSIGNMENT message contains faulty parameters, the mobile station shall
abort the MBMS packet access procedure.
#### 7.7.2.4 MBMS address assignment procedure
In case an uplink feedback channel is associated to an established MBMS radio
bearer, then the network may assign an MS_ID to a given mobile station
receiving this MBMS radio bearer by sending an MBMS MS_ID ASSIGNMENT message
including the MS_ID and the timing advance parameters assigned to the mobile
station. The mobile station shall be addressed by its TLLI. This message shall
not be sent before the point in time denoted by the MBMS radio bearer starting
time, if present in the previous MBMS ASSIGNMENT message.
On a given PDCH a mobile station having been assigned an MS_ID is identified
with a TFI value including the MBMS Bearer Identity (in the most significant
bit(s) of the TFI field) and the MS_ID (in the remaining least significant
bit(s) of the TFI field).
The mobile station shall respond with a PACKET CONTROL ACKNOWLEDGEMENT message
in the uplink radio block specified if a valid RRBP field is received as part
of the MBMS MS_ID ASSIGNMENT message. The network shall reset counter N3109
for that MS_ID on that MBMS radio bearer when transmitting for the first time
the MBMS MS_ID ASSIGNMENT message including a polling request. If the network
does not receive the PACKET CONTROL ACKNOWLEDGEMENT message in the specified
radio block, it shall increment counter N3109 for that MS_ID and may
retransmit the MBMS MS_ID ASSIGNMENT message. If N3109 = N3109_MAX, the
network shall start timer T3199 for that MS_ID. While T3199 is running for a
given MS_ID and MBMS radio bearer, the network shall not use that MS_ID in any
RLC/MAC block belonging to that MBMS radio bearer. When timer T3199 expires,
the network may reuse the corresponding MS_ID value for that MBMS radio
bearer.
An initial timing advance value may be provided in the MBMS ASSIGNMENT message
or in the MBMS MS_ID ASSIGNMENT message in the _Packet Timing Advance_ IE.
Thereafter either the timing advance is updated with a PACKET POWER
CONTROL/TIMING ADVANCE message or the continuous timing advance procedure is
used. If timing advance timeslot number and index are provided in the MBMS
ASSIGNMENT message or in the MBMS MS_ID ASSIGNMENT message, the mobile station
shall use the continuous timing advance procedure, using its allocation on
PTCCH (see 3GPP TS 45.010). Otherwise, the continuous timing advance procedure
shall not be used. For the case where the timing advance value is not provided
in the MBMS ASSIGNMENT message or in the MBMS MS_ID ASSIGNMENT message, the
mobile station is not allowed to send normal bursts (e.g. (EGPRS) PACKET
DOWNLINK ACK/NACK message) on the uplink until it has received a valid timing
advance either through the continuous timing advance procedure or in a PACKET
POWER CONTROL/TIMING ADVANCE message.
If the mobile station has been assigned an MS_ID in the MBMS ASSIGNMENT
message before the point in time denoted by the MBMS radio bearer starting
time, if present in the MBMS ASSIGNMENT message, the mobile station shall
switch to the assigned PDCH(s) at the point in time denoted by the MBMS radio
bearer starting time and start timers T3190 and T3290. If the MBMS radio
bearer starting time has already expired or has not been included in the MBMS
ASSIGNMENT message including the MS_ID, the mobile station shall switch to the
assigned PDCH(s) within the reaction time defined in 3GPP TS 45.010 and start
timers T3190 and T3290. If the mobile station is assigned an MS_ID in the MBMS
MS_ID ASSIGNMENT message, the mobile station shall start timer T3290 within
the reaction time defined in 3GPP TS 45.010. The mobile station shall restart
timer T3190 whenever receiving an RLC/MAC block including the assigned MBMS
Bearer Identity. In EGPRS TBF mode T3190 is also restarted when receiving an
erroneous RLC data block for which the header is correctly received and which
addresses the mobile station. The mobile station with an assigned MS_ID value
shall restart timer T3290 whenever receiving an RLC/MAC block including the
corresponding MBMS Bearer Identity and the MS_ID in the TFI field.
#### 7.7.3 MBMS Neighbour Cell Information Distribution
The network shall indicate in GPRS Cell Options IE whether it supports the
distribution of MBMS NEIGHBOURING CELL INFORMATION messages (see sub-clause
12.24).
The network may send MBMS neighbour cell information to a mobile station
during MBMS reception using the MBMS NEIGHBOURING CELL INFORMATION message on
the PACCH. A mobile station, which receives this information, shall store the
MBMS data channel information until refreshing or until the end of the MBMS
session. During that period the information can be used for fast resumption of
the MBMS reception in the neighbour cell (see sub-clause 8.1.6.2).
The MS shall only combine information received in several instances of the
MBMS NEIGHBOURING CELL INFORMATION messages that have the same value of the
MBMS_PTM_CHANGE_MARK specified for a neighbouring cell.
In case the target cell has PBCCH allocated, this information shall be
included in the MBMS NEIGHBOURING CELL INFORMATION message, if the PBCCH
parameters can be encoded via the means provided in the message. If present,
the MS shall use this information in order to avoid BCCH decoding, if not
otherwise necessary unless the PBCCH location is known via PSI3 and PSI3bis
messages, in the target cell.
In case in the target cell an MPRACH is allocated on the uplink feedback
channel of an MBMS radio bearer, this information shall be included in the
MBMS NEIGHBOURING CELL INFORMATION message.
# 8 Medium Access Control (MAC) Procedures in Packet Transfer Mode
## 8.0 General
The MAC procedures defined in this sub-clause are applicable in packet
transfer mode. They are applicable in dual transfer mode, if both the network
and the mobile station support DTM.
The procedures in this sub-clause (clause 8) shall not be used to change the
frequency allocation of the carrier supporting the dedicated resources for the
mobile station in dual transfer mode. None of the PACKET DOWNLINK ASSIGNMENT,
the MULTIPLE TBF DOWNLINK ASSIGNMENT, the PACKET UPLINK ASSIGNMENT, the
MULTIPLE TBF UPLINK ASSIGNMENT, the PACKET TIMESLOT RECONFIGURE or the
MULTIPLE TBF TIMESLOT RECONFIGURE messages shall include frequency parameters
for the carrier supporting the dedicated resources when they are sent to a
mobile station in dual transfer mode.
NOTE: The network may use the DTM procedures on the main DCCH (the DTM
ASSIGNMENT COMMAND message), if the radio resources for the RR connection and
one or more TBF(s) need to be changed (see 3GPP TS 44.018).
## 8.1 Transfer of RLC data blocks
### 8.1.0 Medium access mode
The transfer of RLC data blocks is governed by different principles on both
uplink and downlink for each of the defined medium access modes: dynamic
allocation, extended dynamic allocation, and exclusive allocation.
The exclusive allocation is applicable only in dual transfer mode and MAC-DTM
state and shall be used on a half-rate PDCH.
### 8.1.1 Uplink RLC data block transfer
For a TBF operating in BTTI configuration, prior to the initiation of RLC data
block transfer on the uplink, the network assigns the following parameters to
characterise the uplink TBF in the uplink assignment (e.g. PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION) message:
\- a Temporary Flow Identity (TFI). The mobile station shall set the TFI field
of each uplink RLC data block to the TFI value assigned to the mobile station
for that uplink TBF;
\- a set of PDCHs to be used for the uplink transfer;
\- a TBF Starting Time indication (optional in case of a dynamic or extended
dynamic allocation and not applicable for dual carrier, BTTI with FANR
activated, and EGPRS2 configurations);
\- the PFI associated with each allocated TBF if the network and the mobile
station both support multiple TBF procedures.
In case the RTTI configuration is supported by the network and the mobile
station and an uplink TBF operating in RTTI configuration is assigned, the
following parameters shall be provided by the network in the assignment
message (e.g. PACKET UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET
TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE
INDICATION).
\- a Temporary Flow Identity (TFI). The mobile station shall set the TFI field
of each uplink RLC data block to the TFI value assigned to the mobile station
for that uplink TBF;
\- one or more PDCH-pairs to be used for the uplink transfer;
\- the PFI associated with each allocated TBF if the network and the mobile
station both support multiple TBF procedures.
\- BTTI USF or RTTI USF mode to be used when receiving USFs.
For each PDCH-pair forming part of an assignment for an uplink TBF operating
in RTTI configuration, the network may additionally assign a corresponding
downlink PDCH-pair which shall be monitored by the mobile station for the USF
(see sub-clause 7.1.3.6).
The network may, at any time during uplink packet transfer, change the TTI
configuration or USF mode (BTTI USF mode or RTTI USF mode) as well as the
corresponding downlink PDCH-pairs of an already established uplink TBF by
sending on the downlink PACCH, an uplink TBF assignment message (e.g. PACKET
UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE
INDICATION). The mobile station shall begin using the new parameters within
the reaction time defined in 3GPP TS 45.010.
In a Downlink Dual Carrier configuration, one or more PDCHs are assigned to a
single mobile station on each of two different radio frequency channels. A
mobile station with a Downlink Dual Carrier configuration shall not be
allocated radio blocks on both radio frequency channels during any given radio
block period.
All the RLC data blocks of an uplink TBF initiated by one phase access shall
each contain a TLLI (in _A/Gb mode_) or a G-RNTI (in _Iu mode_) field in the
RLC data block header until the contention resolution is completed on the
mobile station side (see sub-clause 7.1.2.3 and 3GPP TS 44.160). After the
reaction time specified in 3GPP TS 45.010 no other RLC data blocks shall
contain a TLLI field (in _A/Gb mode_) or a G-RNTI (in _Iu mode_), except for
those retransmitted RLC data blocks that originally contained a TLLI (in _A/Gb
mode_) or a G-RNTI (in _Iu mode_), which will be repeated including the same
TLLI (in _A/Gb mode_) or G-RNTI (in _Iu mode_) (see sub-clause 7.1.2.3a and
3GPP TS 44.160). The TLLI_BLOCK_CHANNEL_CODING parameter in the PACKET UPLINK
ASSIGNMENT or in the MULTIPLE TBF UPLINK ASSIGNMENT message indicates whether
a RLC data block containing a TLLI (in _A/Gb mode_) or a G-RNTI (in _Iu mode_)
field in the RLC data block header shall be encoded using CS‑1 in GPRS TBF
mode, or MCS-1 in EGPRS TBF mode, or using the commanded modulation and
channel coding scheme (see 3GPP TS 45.003). In GPRS TBF mode, the mobile
station shall send all other RLC data blocks using the commanded channel
coding scheme.
In EGPRS TBF mode, RLC data blocks that are transmitted for the first time
shall be transmitted with the commanded MCS, except if the commanded mode is
MCS-5-7, in which case the data block shall be transmitted with MCS‑5, or if
the commanded mode is MCS-6-9, in which case the data block shall be
transmitted with MCS-6. In the case of a Downlink Dual Carrier configuration
the commanded MCS shall apply to both of the carriers. In EGPRS TBF mode, a MS
may choose an alternate MCS than the one commanded, for the initial
transmission of the last RLC data blocks of the TBF under the following
conditions:
\- the alternate MCS is more robust than the commanded MCS;
\- the alternate MCS has already been commanded by the network during the TBF
or was available for selection by the MS during the TBF according to the MCS
selection rules for retransmissions; and
\- the TBF requires no more radio blocks for initial transmission of the RLC
data blocks using the alternate MCS than would be required when using the
commanded MCS.
For a TBF with FANR activated, if the commanded MCS is MCS-9 (respectively
MCS-4), the initial transmission of the RLC data block(s) shall be done with
MCS-8 (respectively MCS-3) if a PAN field is included in the radio block.
A RESEGMENT bit is included within each PACKET UPLINK ACK/NACK, PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION messages.
For initial transmissions of new RLC blocks the channel coding commanded is
applied. The RESEGMENT bit is used to set the ARQ mode to type I or type II
(incremental redundancy) for uplink TBFs. For retransmissions, setting the
RESEGMENT bit to \'1\' (type I ARQ) requires the mobile station to use an MCS
within the same family as the initial transmission and the payload may be
split (refer to table 8.1.1.1). For retransmissions, setting the RESEGMENT bit
to \'0\' (type II ARQ) requires the mobile station to use an MCS within the
same family as the initial transmission without splitting the payload even if
the network has commanded it to use MCS‑1, MCS‑2 or MCS‑3 for subsequent RLC
blocks (refer to table 8.1.1.2), see note. In RLC unacknowledged mode,
RESEGMENT bit shall be ignored and default value 0 should be used.
NOTE: This bit is particularly useful for networks with uplink IR capability
since it allows combining on retransmissions.
Table 8.1.1.1: Choice of MCS for retransmissions with re-segmentation (EGPRS)
* * *
**Scheme used for initial transmission** **Scheme to use for retransmissions
after switching to a different MCS**
                                                                                                                                                                                      **MCS-9 Commanded**                                                        **MCS-8 Commanded**   **MCS-7 Commanded**   **MCS-6-9 Commanded**   **MCS-6 Commanded**   **MCS-5-7 Commanded**   **MCS-5 Commanded**   **MCS-4 Commanded**   **MCS-3 Commanded**   **MCS-2 Commanded**   **MCS-1 Commanded**
MCS-9 MCS-9 MCS-6 MCS-6 MCS-6 MCS-6 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-8 MCS-8 MCS-8 MCS-6\ MCS-6\ MCS-6\ MCS-3\ MCS-3\ MCS-3\ MCS-3\ MCS-3\
MCS-3\ (pad) (pad) (pad) (pad) (pad) (pad) (pad) pad) (pad)
MCS-7 MCS-7 MCS-7 MCS-7 MCS-5 MCS-5 MCS-5 MCS-5 MCS-2 MCS-2 MCS-2 MCS-2
MCS-6 MCS-9 MCS-6 MCS-6 MCS-9 MCS-6 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-5 MCS-7 MCS-7 MCS-7 MCS-5 MCS-5 MCS-7 MCS-5 MCS-2 MCS-2 MCS-2 MCS-2
MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-1 MCS-1 MCS-1
MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2
MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1
_NOTE:_ MCS to use for retransmissions when re-segmentation (RESEGMENT bit set
to '1\') is carried out (specified as a function of the scheme used for the
initial transmission).
* * *
Table 8.1.1.2: Choice of MCS for retransmissions without re-segmentation
(EGPRS)
**Scheme used for** **Initial transmission** | **Scheme to use for retransmissions after switching to a different MCS** |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---  
| **MCS-9** **Commanded** | **MCS-8** **Commanded** | **MCS-7** **Commanded** | **MCS-6-9 Commanded** | **MCS-6** **Commanded** | **MCS-5-7 Commanded** | **MCS-5** **Commanded** | **MCS-4** **Commanded** | **MCS-3** **Commanded** | **MCS-2** **Commanded** | **MCS-1** **Commanded**  
MCS-9 | MCS-9 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6  
MCS-8 | MCS-8 | MCS-8 | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad) | MCS-6 (pad)  
MCS-7 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5  
MCS-6 | MCS-9 | MCS-6 | MCS-6 | MCS-9 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6  
MCS-5 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5  
MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4  
MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3  
MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2  
MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1  
NOTE: MCS to use for retransmissions when re-segmentation is not (_RESEGMENT_ bit set to ‘0') allowed (specified as a function of the scheme used for the initial transmission). |  |  |  |  |  |  |  |  |  |  |   
Table 8.1.1.3: Choice of modulation and coding scheme for retransmissions with
re-segmentation (EGPRS2-A)
Scheme used for Initial transmission | Scheme to use for retransmissions after switching to a different modulation and coding scheme (MCS or UAS) |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---  
| **UAS-11 Commanded** | **UAS-10 Commanded** | **UAS-9 Commanded** | **UAS-8 Commanded** | **UAS-7 Commanded** | **MCS-6 Commanded** | **MCS-5 Commanded** | **MCS-4 Commanded** | **MCS-3 Commanded** | **MCS-2 Commanded** | **MCS-1 Commanded**  
UAS-11 | UAS-11 | UAS-8 | UAS-8 | UAS-8 | MCS-6 (pad) | MCS-6 (pad) | MCS-3 (pad) | MCS-3 (pad) | MCS-3 (pad) | MCS-3 (pad) | MCS-3 (pad)  
UAS-10 | UAS-10 | UAS-10 | UAS-7 | UAS-7 | UAS-7 | MCS-5 | MCS-5 | MCS-2 | MCS-2 | MCS-2 | MCS-2  
UAS-9 | UAS-9 | UAS-9 | UAS-9 | MCS-6 | MCS-6 | MCS-6 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3  
UAS-8 | UAS-11 | UAS-8 | UAS-8 | UAS-8 | MCS-6  
(pad) | MCS-6  
(pad) | MCS-3  
(pad) | MCS-3  
(pad) | MCS-3  
(pad) | MCS-3  
(pad) | MCS-3  
(pad)  
UAS-7 | UAS-10 | UAS-10 | UAS-7 | UAS-7 | UAS-7 | MCS-5 | MCS-5 | MCS-2 | MCS-2 | MCS-2 | MCS-2  
MCS-6 | UAS-9 | UAS-9 | UAS-9 | MCS-6 | MCS-6 | MCS-6 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3  
MCS-5 | UAS-10 | UAS-10 | UAS-7 | UAS-7 | UAS-7 | MCS-5 | MCS-5 | MCS-2 | MCS-2 | MCS-2 | MCS-2  
MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-1 | MCS-1 | MCS-1  
MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3  
MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2  
MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1  
Table 8.1.1.4: Choice of modulation and coding scheme for retransmissions
without re-segmentation (EGPRS2-A)
* * *
Scheme used for Initial transmission Scheme to use for retransmissions after
switching to a different modulation and coding scheme (MCS or UAS)
                                         **UAS-11 Commanded**                                                                                         **UAS-10 Commanded**   **UAS-9 Commanded**   **UAS-8 Commanded**   **UAS-7 Commanded**   **MCS-6 Commanded**   **MCS-5 Commanded**   **MCS-4 Commanded**   **MCS-3 Commanded**   **MCS-2 Commanded**   **MCS-1 Commanded**
UAS-11 UAS-11 UAS-8 UAS-8 UAS-8 MCS-6\ MCS-6\ MCS-6\ MCS-6\ MCS-6\ MCS-6\
MCS-6\ (pad) (pad) (pad) (pad) (pad) (pad) (pad)
UAS-10 UAS-10 UAS-10 UAS-7 UAS-7 UAS-7 MCS-5 MCS-5 MCS-5 MCS-5 MCS-5 MCS-5
UAS-9 UAS-9 UAS-9 UAS-9 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6
UAS-8 UAS-11 UAS-8 UAS-8 UAS-8 MCS-6\ MCS-6\ MCS-6\ MCS-6\ MCS-6\ MCS-6\
MCS-6\ (pad) (pad) (pad) (pad) (pad) (pad) (pad)
UAS-7 UAS-10 UAS-10 UAS-7 UAS-7 UAS-7 MCS-5 MCS-5 MCS-5 MCS-5 MCS-5 MCS-5
MCS-6 UAS-9 UAS-9 UAS-9 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6 MCS-6
MCS-5 UAS-10 UAS-10 UAS-7 UAS-7 UAS-7 MCS-5 MCS-5 MCS-5 MCS-5 MCS-5 MCS-5
MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4
MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2
MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1
* * *
Table 8.1.1.5: Choice of modulation and coding scheme for retransmissions with
re-segmentation (EGPRS2-B)
* * *
Scheme used for Initial transmission Scheme to use for retransmissions after
switching to a different modulation and coding scheme (MCS or UBS)
                                         **UBS-12 Commanded**                                                                                         **UBS-11 Commanded**   **UBS-10 Commanded**   **UBS-9 Commanded**   **UBS-8 Commanded**   **UBS-7 Commanded**   **UBS-6 Commanded**   **UBS-5 Commanded**   **MCS-4 Commanded**   **MCS-3 Commanded**   **MCS-2 Commanded**   **MCS-1 Commanded**
UBS-12 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 MCS-3 MCS-3 MCS-3 MCS-3
MCS-3
UBS-11 UBS-11 UBS-11 UBS-10\ UBS-8\ UBS-8\ UBS-6\ UBS-6\ MCS-3\ MCS-3\ MCS-3\
MCS-3\ MCS-3\ (pad) (pad) (pad) (pad) (pad) (pad) (pad) (pad) (pad) (pad)
UBS-10 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 MCS-3 MCS-3 MCS-3 MCS-3
MCS-3
UBS-9 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-2 MCS-2 MCS-2 MCS-2
UBS-8 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 MCS-3 MCS-3 MCS-3 MCS-3
MCS-3
UBS-7 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-2 MCS-2 MCS-2 MCS-2
UBS-6 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 MCS-3 MCS-3 MCS-3 MCS-3
MCS-3
UBS-5 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-2 MCS-2 MCS-2 MCS-2
MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-1 MCS-1 MCS-1
MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2
MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1
* * *
Table 8.1.1.6: Choice of modulation and coding scheme for retransmissions
without re-segmentation (EGPRS2-B)
* * *
Scheme used for Initial transmission Scheme to use for retransmissions after
switching to a different modulation and coding scheme (MCS or UBS)
                                         **UBS-12 Commanded**                                                                                         **UBS-11 Commanded**   **UBS-10 Commanded**   **UBS-9 Commanded**   **UBS-8 Commanded**   **UBS-7 Commanded**   **UBS-6 Commanded**   **UBS-5 Commanded**   **MCS-4 Commanded**   **MCS-3 Commanded**   **MCS-2 Commanded**   **MCS-1 Commanded**
UBS-12 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6
UBS-6
UBS-11 UBS-11 UBS-11 UBS-10\ UBS-8\ UBS-8\ UBS-6\ UBS-6\ UBS-6\ UBS-6\ UBS-6\
UBS-6\ UBS-6\ (pad) (pad) (pad) (pad) (pad) (pad) (pad) (pad) (pad) (pad)
UBS-10 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6
UBS-6
UBS-9 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 UBS-5 UBS-5 UBS-5 UBS-5
UBS-8 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6
UBS-6
UBS-7 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 UBS-5 UBS-5 UBS-5 UBS-5
UBS-6 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6 UBS-6
UBS-6
UBS-5 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 UBS-5 UBS-5 UBS-5 UBS-5
MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4
MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2
MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1
* * *
In EGPRS, if these rules require a transmission (either original transmission
or retransmission) in a) MCS-7 or b) MCS-8 or c) MCS‑9, but there is only one
RLC block that can be transmitted in that MCS, the MS shall send that block in
either MCS-5 for case a) or MCS-6 for case b) or case c). In case b), padding
is permitted.
In EGPRS2, if these rules require a transmission (either original transmission
or retransmission) in a modulation and coding scheme where there are fewer
than the maximum number of RLC blocks that can be transmitted, the mobile
station shall use the modulation and coding scheme specified in tables 8.1.1.7
and 8.1.1.8.
Table 8.1.1.7: Retransmissions with fewer RLC blocks (EGPRS2-A)
* * *
Modulation and Coding Scheme specified Modulation/Coding scheme to be used
(only 1 block can be transmitted) Modulation/Coding scheme to be used (only 2
blocks can be transmitted) UAS-7 MCS-5 n/a UAS-8 MCS-6 (with padding) n/a
UAS-9 MCS-6 n/a UAS-10 MCS-5 UAS-7 UAS-11 MCS-6 (with padding) UAS-8
* * *
Table 8.1.1.8: Retransmissions with fewer RLC blocks (EGPRS2-B)
* * *
Modulation and Coding Scheme specified Modulation/Coding scheme to be used
(only 1 block can be transmitted) Modulation/Coding scheme to be used (only 2
blocks can be transmitted) Modulation/Coding scheme to be used (only 3 blocks
can be transmitted) UBS-7 UBS-5 n/a n/a UBS-8 UBS-6 n/a n/a UBS-9 UBS-5 UBS-7
n/a UBS-10 UBS-6 UBS-8 n/a UBS-11 UBS-6 (with padding) UBS-8 (with padding)
UBS-10 (with padding) UBS-12 UBS-6 UBS-8 UBS-10
* * *
Modulation and coding schemes to be used for retransmissions after a
transition from EGPRS to EGPRS2-A or EGPRS2-B or from EGPRS2-A or EGPRS2-B to
EGPRS are specified in sub-clause 8.1.1.7.2.
For a TBF with FANR activated, if these rules require a retransmission in
MCS-9 and a PAN field is included in an EGPRS RLC/MAC block for data transfer,
the mobile station shall use MCS-6. If these rules require a retransmission in
MCS-4, a PAN field is to be included in an EGPRS RLC/MAC block for data
transfer and re-segmentation is allowed, the mobile station shall use MCS-1.
If these rules require a retransmission in MCS-4 and re-segmentation is not
allowed, the mobile station shall use MCS-4 and shall not include a PAN field
in this retransmission.
Upon receipt of a command from the network to change channel coding scheme,
the mobile station shall react in accordance with the time specified in 3GPP
TS 45.010.
Upon receipt of any message containing an uplink assignment (e.g. PACKET
UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE, PACKET UPLINK ACK/NACK or
PACKET CS RELEASE INDICATION message), the mobile station shall be ready to
transmit in accordance with the requirements given in 3GPP TS 45.010.
The mobile station shall transmit RLC/MAC blocks with the following priority:
\- RLC/MAC control blocks containing a PACKET CS REQUEST message;
\- RLC/MAC control blocks containing a PACKET CELL CHANGE NOTIFICATION
message;
\- Other RLC/MAC control blocks, except
\- Packet Uplink Dummy Control Blocks; and
\- RLC/MAC control block containing an EGPRS PACKET DOWNLINK ACK/NACK or EGPRS
PACKET DOWNLINK ACK/NACK TYPE 2 message, when the mobile station is polled for
a PAN (see sub-clause 10.4.4a);
\- RLC data blocks (including a PAN field if required. See sub-clauses
8.1.2.2, 9.1.8.2.1 and 9.1.14.3.) except RLC data blocks including a PAN which
is sent in response to a poll where all the element(s) of V(B) have the value
TENTATIVE_ACK or ACKED;
\- when the mobile station is polled for a PAN (see sub-clause 10.4.4a),
RLC/MAC control block containing an EGPRS PACKET DOWNLINK ACK/NACK or EGPRS
PACKET DOWNLINK ACK/NACK TYPE 2 message;
\- RLC data block including a PAN which is sent in response to a poll where
all the elements of V(B) have the value TENTATIVE_ACK or ACKED;
\- RLC/MAC control blocks containing Packet Uplink Dummy Control Blocks.
NOTE: Within the respective reaction times specified in 3GPP TS 45.010 at
uplink assignment, change of coding scheme and completion of the contention
resolution at one phase access, the mobile station may send RLC/MAC control
blocks containing Packet Uplink Dummy Control Blocks, if there is no other
block ready to be transmitted.
In _A/Gb mode_ , during the TBF, if the countdown procedure has not started or
the TBF is operated in the extended uplink TBF mode (see sub-clause 9.3.1b)
and multiple TBF procedures are not supported (i.e. the mobile station or the
network does not support multiple TBF procedures) the mobile station shall ask
for new or different radio resources, by sending a PACKET RESOURCE REQUEST
message (sub-clauses 8.1.1.1.2), in the following cases;
\- When the mobile station has indicated Page Response, Cell update or
Mobility Management procedure as access type in the PACKET CHANNEL REQUEST
message and it has data to send;
\- When the mobile station has data to send with a lower priority than
indicated in the PACKET CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST
message;
\- When the mobile station has indicated \'Signalling\' as access type in the
EGPRS PACKET CHANNEL REQUEST message and it has data to send.
In A/Gb mode or Iu mode, a mobile station that supports multiple TBF
procedures shall send a PACKET RESOURCE REQUEST message to a network
supporting multiple TBF procedures (see sub-clause 8.1.1.1.2), if it has data
to send for one or more PFCs (A/Gb mode) or RBs (Iu mode) for which no uplink
TBFs are established.
#### 8.1.1.1 Dynamic allocation uplink RLC data block transfer
This sub-clause specifies mobile station behaviour for dynamic allocation
uplink RLC data block transfer while in packet transfer mode, MAC-Shared
State, dual transfer mode or MAC-DTM state.
When the mobile station receives an uplink assignment (e.g. PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message)
that does not contain a TBF starting time, if the uplink TBF is assigned in
BTTI configuration the mobile station shall begin monitoring the downlink
PDCHs corresponding to (i.e. with the same timeslot number as) the assigned
uplink PDCHs for the assigned USF value for each assigned uplink PDCH within
the reaction time defined in 3GPP TS 45.010. Alternatively, if the uplink TBF
is assigned in RTTI configuration, the mobile station shall begin monitoring
the downlink PDCH-pairs corresponding to the assigned uplink PDCH-pairs for
the assigned USF value within the reaction time defined in 3GPP TS 45.010. If
a TBF starting time information element is present and no uplink TBFs are in
progress, but one or more downlink TBFs are in progress, the mobile station
shall wait until the starting time before beginning to monitor the USFs and
using the newly assigned uplink TBF parameters. While waiting for the starting
time, the mobile station shall monitor the assigned downlink PDCHs. If a TBF
starting time information element is present and one or more uplink TBFs are
already in progress, the mobile station shall continue to use the assigned
parameters of the ongoing uplink TBFs until the TDMA frame number indicated by
the TBF starting time occurs, at which time the mobile station shall
immediately begin to use the newly assigned uplink TBF parameters. The mobile
station shall continue to use the newly assigned parameters of each uplink TBF
until the TBF is either released or reconfigured. If while waiting for the
frame number indicated by the TBF starting time the mobile station receives
another uplink assignment, the mobile station shall act upon the most recently
received uplink assignment and shall ignore the previous uplink assignment.
If a mobile station has requested multiple uplink TBFs in a PACKET RESOURCE
REQUEST message, the network may allocate resources for these TBFs by sending
one or more uplink assignment messages in response (see sub-clause 8.1.1.1.2).
The mobile station shall act upon each successive uplink assignment message as
it is received.
A mobile station that has a TBF operating in BTTI configuration shall monitor
all the downlink PDCHs corresponding to the assigned uplink PDCHs. When
operating a TBF in RTTI configuration, the mobile station shall monitor the
corresponding downlink PDCH-pairs associated with the assigned uplink PDCH-
pairs that can be monitored according to the number of allocated uplink PDCH-
pairs and its multislot capabilities.
Whenever the mobile station detects an assigned USF value on a monitored
downlink PDCH or PDCH-pair, the mobile station shall transmit either a single
RLC/MAC block or a sequence of four RLC/MAC blocks on the same PDCH or
corresponding PDCH-pair for that TBF except if that TBF is running in extended
uplink TBF mode, in which case the mobile station may transmit RLC/MAC
block(s) for other TBFs assigned on the same PDCH or corresponding PDCH-pair
(see sub-clause 9.3.1b.2). The time relation between an uplink block, which
the mobile station shall use for transmission, and the occurrence of the USF
value is defined in 3GPP TS 45.002. The number of RLC/MAC blocks to transmit
is controlled by the USF_GRANULARITY parameter characterising the uplink TBF.
An uplink TBF operating in RTTI configuration may receive the assigned USFs
either in RTTI USF mode or BTTI USF mode. The USF mode is indicated during the
assignment of the corresponding uplink TBF.
For an uplink TBF in RTTI configuration that receives the USFs in BTTI USF
mode:
\- An assigned USF received on the first PDCH of a monitored downlink PDCH-
pair allocates resources for one or four uplink RTTI radio blocks in the first
two TDMA frames of the following basic radio block period(s) on the
corresponding uplink PDCH-pair, depending on the value of USF_GRANULARITY.
\- An assigned USF received on the second PDCH of a monitored downlink PDCH-
pair allocates resources for one or four uplink RTTI radio blocks in the
second two TDMA frames of the following basic radio block period(s) on the
corresponding uplink PDCH-pair, depending on the value of USF_GRANULARITY.
For an uplink TBF in RTTI configuration that receives the USFs in RTTI USF
mode:
\- An assigned USF received on a monitored downlink PDCH-pair in the first
reduced radio block period of a given basic radio block period allocates
resources for one or four uplink RTTI radio blocks in the second reduced radio
block period starting in the same basic radio block period and continuing with
the second reduced radio block period in the following basic radio block
periods on the corresponding uplink PDCH-pair, depending on the value of
USF_GRANULARITY.
\- An assigned USF received on a monitored downlink PDCH-pair in the second
reduced radio block period of a given basic radio block period allocates
resources for one or four uplink RTTI radio blocks in the first reduced radio
block period starting in the next basic radio block period and continuing with
the first reduced radio block period in the following basic radio block
periods on the corresponding uplink PDCH-pair, depending on the value of
USF_GRANULARITY.
The time relation between the uplink radio block(s) which the mobile station
shall use for transmission and the occurrence of the USF value is further
defined in 3GPP TS 45.002
In a Downlink Dual Carrier configuration, one or more PDCHs are assigned to a
single mobile station on each of two different radio frequency channels. A
mobile station with a Downlink Dual Carrier configuration shall not be
allocated radio blocks on both radio frequency channels during any given radio
block period.
When the mobile station transmits an RLC/MAC block to the network, it shall
start timer T3180 for the uplink TBF on which the block was sent. When the
mobile station detects an assigned USF value on a downlink PDCH corresponding
to an assigned uplink PDCH for that TBF, the mobile station shall restart
timer T3180. If any given timer T3180 expires, the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2 (_A/Gb
mode_) or 3GPP TS 44.160 _(Iu mode)_.
Whenever the network receives a valid RLC/MAC block for any given TBF, it
shall reset counter N3101 for that TBF. The network shall increment counter
N3101 for each radio block, allocated to that TBF, for which no data is
received. If N3101 = N3101max, the network shall stop the scheduling of
RLC/MAC blocks for that TBF and start timer T3169. When T3169 expires, the
network may reuse the USF and TFI assigned to that TBF. If PS Handover is
ongoing it is optional for the network to increment N3101.
##### 8.1.1.1.1 PACCH operation
The mobile station shall attempt to decode every downlink RLC/MAC block on all
the downlink PDCHs corresponding to (i.e. with the same timeslot number as)
the assigned uplink PDCHs when the uplink TBF operates in BTTI configuration.
In case the uplink TBF operates in RTTI configuration the mobile station shall
attempt to decode every downlink RLC/MAC block on the corresponding downlink
PDCH-pairs being monitored (see subclause 8.1.1.1).
Downlink PACCH blocks shall be received in the same TTI configuration as the
assigned uplink TBF.
Whenever the mobile station receives an RLC/MAC block containing an RLC/MAC
control block, the mobile station shall attempt to interpret the message
contained therein. If the message addresses the mobile station, the mobile
station shall act on the message.
Whenever a mobile station, that has an assigned uplink TBF operating in BTTI
configuration, detects an assigned USF value on any downlink PDCH
corresponding to an assigned uplink PDCH, the mobile station may transmit a
PACCH block on the same PDCH in the next block period (see 3GPP TS 45.002).
Whenever a mobile station, that has an assigned uplink TBF operating in RTTI
configuration, detects an assigned USF value on any corresponding downlink
PDCH-pair associated with an assigned uplink PDCH-pair, the mobile station may
transmit a PACCH block on the PDCH-pair. The PACCH block shall be transmitted
according to the USF scheduling in sub-clause 8.1.1.1. The mobile station
shall not transmit an RLC data block in any uplink radio block allocated via
the polling mechanism (see sub- clauses 10.4.4, 10.4.4a, 10.4.4b) unless the
uplink TBF operates in either RTTI configuration, or in BTTI configuration
with FANR activated, and the mobile station is polled for a Piggy-backed
Ack/Nack (see sub-clause 10.4.4b).
In the case of a Downlink Dual Carrier configuration, all segments belonging
to each RLC/MAC control message shall be sent on PACCH blocks belonging to the
same carrier.
##### 8.1.1.1.2 Resource Reallocation for Uplink
The mobile station and the network are not allowed to change the RLC mode nor
TBF mode of an already established TBF during resource reallocation. Change of
RLC mode or TBF mode shall be achieved through release of on-going TBF and
establishment of a new TBF with the newly requested RLC mode or TBF mode. If a
new mode is assigned by the network for an already established TBF, the MS
shall ignore the new assigned mode and shall maintain the TBF in the old mode.
During an uplink packet transfer, upper layers may request to transfer another
upper layer PDU with a different PFI, a different Radio Priority, a different
peak throughput class or a different RLC mode than the one which is in
transfer. An upper layer PDU containing signalling shall be treated as having
the highest Radio Priority, an implementation specific peak throughput class
and the acknowledged RLC mode shall be requested.
If the mobile station or the network does not support multiple TBF procedures
the following procedures apply:
\- If the mobile station has not started the countdown procedure or the TBF is
operated in the extended uplink TBF mode (see sub-clause 9.3.1b) and the new
upper layer PDU has the same RLC mode as the current uplink TBF and either a
higher radio priority or the same radio priority but a higher peak throughput
class, the mobile station shall immediately request a resource reallocation
for uplink according to the new Radio Priority and peak throughput class of
the new upper layer PDU by sending a PACKET RESOURCE REQUEST message on the
PACCH and starting timer T3168 for the uplink TBF requested in the PACKET
RESOURCE REQUEST message. Then the mobile station shall complete the
transmission of the current upper layer PDU;
\- If the new upper layer PDU has the same RLC mode as the current uplink TBF
and either a lower Radio Priority or the same radio priority but a lower peak
throughput class, the mobile station shall first complete the sending of the
upper layer PDU in transfer. When the sending of upper layer PDUs at the
higher Radio Priority or the same radio priority but higher peak throughput
class stops, without waiting for the acknowledgement from the network if in
RLC acknowledged mode, the mobile station shall then perform the request of a
resource reallocation for uplink for any remaining upper layer PDU(s) by
sending a PACKET RESOURCE REQUEST message on the PACCH and start timer T3168
for the uplink TBF requested in the PACKET RESOURCE REQUEST message. However
if the upper layer PDUs at the higher Radio Priority does not completely fill
the RLC data block the MS shall fill this RLC data block with payload from the
new upper layer PDUs and then either transmit first the PACKET RESOURCE
REQUEST message and subsequently the RLC data block or vice versa.\ If the new
upper layer PDU does not have the same RLC mode as the current uplink TBF but
has a higher radio priority, the mobile station shall complete the
transmission of the current upper layer PDU using the countdown procedure
including acknowledgement from the network, if in RLC acknowledged mode. If
the TBF is operated in non-extended uplink TBF mode, the mobile station shall
then release the TBF and establish a new uplink TBF for transmission of the
new upper layer PDU. If the TBF is operated in extended uplink TBF mode (see
sub-clause 9.3.1b), the mobile station shall use the procedure in sub-clause
8.1.1.6 for changing the RLC mode. When the sending of upper layer PDUs with a
higher radio priority is completed using the countdown procedure, including
acknowledgement from the network if in RLC acknowledged mode, the mobile
station shall try to establish an uplink TBF for the transmission of any
remaining upper layer PDU(s);
\- If the mobile station has not started the countdown procedure or the TBF is
operated in the extended uplink TBF mode (see sub-clause 9.3.1b) and the new
upper layer PDU does not have the same PFI but has the same radio priority and
the same peak throughput class as the current uplink TBF, the mobile station
shall immediately request a resource reallocation for uplink with the new PFI
by sending a PACKET RESOURCE REQUEST message on the PACCH and starting timer
T3168 for the uplink TBF requested in the PACKET RESOURCE REQUEST message.
Then the mobile station shall complete the transmission of the current upper
layer PDU.
If both the mobile station and the network support multiple TBF procedures the
following procedures apply:
\- The mobile station shall initiate a request for one or more new uplink TBFs
when it has upper layer PDUs associated with one or more PFIs for which there
are no ongoing uplink TBFs. In this case it sends a PACKET RESOURCE REQUEST
message on the PACCH and starts an instance of timer T3168 for each uplink TBF
requested;
\- All ongoing uplink TBFs shall continue to operate using their currently
allocated resources.
If both the network and the mobile station support the extended uplink TBF
mode, the request from upper layers may indicate that the new upper-layer PDU
is meant to pre-allocate an uplink TBF (early TBF establishment). In this
case, the EARLY_TBF_ESTABLISHMENT field in the PACKET RESOURCE REQUEST message
shall indicate pre-allocation is required.
On receipt of the PACKET RESOURCE REQUEST message the network shall respond by
sending either an uplink assignment message (e.g. PACKET UPLINK ASSIGNMENT,
MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF
TIMESLOT RECONFIGURE) or a PACKET ACCESS REJECT message to the mobile station
on the downlink PACCH. If the mobile station supports RLC non-persistent mode
the network may allocate one or more EGPRS TBFs that use this RLC mode.
If the mobile station or the network does not support multiple TBF procedures,
then after the transmission of the PACKET RESOURCE REQUEST message with the
reason for changing PFI, the radio priority or peak throughput class of an
assigned uplink TBF the mobile station shall continue to use the currently
assigned uplink TBF assuming that the requested radio priority or peak
throughput class is already assigned to that TBF.
If both the mobile station and the network support multiple TBF procedures,
then after transmission of a PACKET RESOURCE REQUEST message the mobile
station shall maintain its ongoing uplink TBFs using their currently allocated
TBF parameters.
On receipt of an uplink assignment message (e.g. PACKET UPLINK ASSIGNMENT,
MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF
TIMESLOT RECONFIGURE message) sent in response to a PACKET RESOURCE REQUEST
message the mobile station shall stop timer T3168 for each uplink TBF assigned
in the assignment message and switch to the assigned PDCHs. A mobile station
that supports multiple TBF procedures shall act on the uplink assignment
message as defined in sub-clause 8.1.2.5.
If the mobile station or the network does not support multiple TBF procedures,
the mobile station is then not allowed to send new PACKET RESOURCE REQUEST
messages until either a new packet transfer request is received from the upper
layers or when sending of upper layer PDU(s) at a lower Radio Priority has to
be continued.
If the mobile station or the network does not support multiple TBF procedures,
upon expiry of timer T3168 the mobile station shall retransmit the PACKET
RESOURCE REQUEST message unless the PACKET RESOURCE REQUEST message has
already been transmitted four times in which case the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2).
If both the mobile station and the network support multiple TBF procedures,
then upon expiry of all instances of timer T3168 the mobile station shall
retransmit the PACKET RESOURCE REQUEST message to request resources for those
uplink TBFs that did not receive an uplink assignment unless the PACKET
RESOURCE REQUEST message has already been transmitted four times without
receiving any uplink assignment in response. In this case the mobile station
shall perform an abnormal release with access retry (see sub-clause 8.7.2).
If no assignment message (e.g. PACKET UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK
ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF TIMESLOT RECONFIGURE
message) addressing any requested uplink TBF is received before the mobile
station has completed its currently assigned TBFs the mobile station shall
stop all instances of timer T3168.
The network may at any time during uplink packet transfer initiate a change of
resources by sending on the downlink PACCH monitored by the MS, an unsolicited
uplink assignment message (e.g. PACKET UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK
ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or
PACKET CS RELEASE INDICATION message) to the mobile station. During the
reallocation, TFI is allowed to be changed. A mobile station that supports
multiple TBF procedures shall act on the uplink assignment message as defined
in sub-clause 8.1.2.5.
When an uplink TBF is established in response to a PACKET RESOURCE REQUEST
message with the EARLY_TBF_ESTABLISHMENT field set to indicate pre-allocation
is required, a network supporting early TBF establishment should keep the
uplink TBF open by means of the extended uplink TBF mode operation (see sub-
clause 9.3.1b.2).
On receipt of a PACKET ACCESS REJECT message, the mobile station shall stop
timer T3168, if running, for the TBFs rejected in the PACKET ACCESS REJECT
message, abort the uplink TBFs and indicate a packet access failure to the
upper layer associated with each rejected TBF. If no more uplink or downlink
TBFs exist, the mobile station in packet transfer mode shall return to packet
idle mode; the mobile station in dual transfer mode shall return to dedicated
mode. The DRX mode procedures shall be applied, as specified in sub-clause
5.5.1.5.
If the PACKET ACCESS REJECT message contains a WAIT_INDICATION field in a
Reject structure addressed to the mobile station, the mobile station shall:
\- If the mobile station or the network does not support multiple TBF
procedures, start timer T3172 and if the mobile station has additional RLC
data blocks to transmit, it shall initiate a new uplink TBF establishment, but
the mobile station is not allowed to make a new attempt for an uplink TBF
establishment in the same cell until timer T3172 expires, it may, however,
attempt an uplink TBF establishment in an other cell after successful cell
reselection. The mobile station may attempt to enter the dedicated mode in the
same cell before timer T3172 has expired. During the time T3172 is running,
the mobile station shall ignore all received PACKET PAGING REQUEST messages
except paging request to trigger RR connection establishment;
\- If both the mobile station and the network support multiple TBF procedures
the mobile station shall start one instance of timer T3172 for each uplink TBF
that was rejected. All TBFs in progress that are not rejected shall be
maintained. The mobile station is not allowed to attempt re-establishment of a
rejected uplink TBF in the same cell until its associated instance of timer
T3172 expires. It may, however, attempt re-establishment of a rejected uplink
TBF in another cell after successful cell reselection. The mobile station may
attempt to enter the dedicated mode in the same cell before all instances of
timer T3172 have expired. During the time one or more instances of T3172 are
running, the mobile station shall ignore all received PACKET PAGING REQUEST
messages except paging request to trigger RR connection establishment.
The value of the WAIT_INDICATION field (i.e. timer T3172) relates to the cell
from which it was received.
###### 8.1.1.1.2.1 Abnormal cases
The following abnormal cases apply:
\- If the mobile station receives an uplink assignment message (e.g. PACKET
UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION
message) and detects an invalid Frequency Parameters information element in
the message, the mobile station shall perform an abnormal release with system
information (see sub-clause 8.7.3), performing a partial acquisition of system
information messages containing frequency information;
\- If the mobile station receives an uplink assignment message (e.g. PACKET
UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION
message) specifying frequencies that are not all in one frequency band then
the mobile station shall perform an abnormal release with access retry (see
sub-clause 8.7.2);
\- If the information in the PACKET UPLINK ASSIGNMENT or the MULTIPLE TBF
UPLINK ASSIGNMENT message does not properly specify an uplink PDCH or
specifies a multislot configuration that the mobile station does not support
(see 3GPP TS 45.002), the mobile station shall perform an abnormal release
with access retry (see sub-clause 8.7.2);
\- If the information in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF
TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message does not properly
specify an uplink and downlink PDCH or specifies a multislot configuration
that the mobile station does not support (see 3GPP TS 45.002), the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2);
\- If the mobile station receives a PACKET UPLINK ASSIGNMENT or a MULTIPLE TBF
UPLINK ASSIGNMENT message containing a Frequency Parameters information
element specifying a frequency that is in a frequency band not supported by
the mobile station then the mobile station shall perform an abnormal release
with access retry (see sub-clause 8.7.2);
\- If a mobile station in dual transfer mode receives a PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or
MULTIPLE TBF TIMESLOT RECONFIGURE message including frequency parameters for
the carrier supporting the dedicated resources, the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2);
\- If a mobile station receives a PACKET UPLINK ASSIGNMENT, MULTIPLE TBF
UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF TIMESLOT
RECONFIGURE message indicating a change of EGPRS level which is forbidden (see
sub-clause 8.1.1.7), the mobile station shall perform an abnormal release with
access retry (see sub-clause 8.7.2);
\- If both the mobile station and the network support multiple TBF procedures
and if any given uplink assignment message provides an uplink TBF allocation
for a PFI not indicated in the PACKET RESOURCE REQUEST message and not
associated with any ongoing uplink TBF, the mobile station shall abort the
procedure and perform an abnormal release with access retry (see sub-clause
8.7.2);
\- If a failure in the uplink assignment message (e.g. PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message) is
due to any other reason (including frequency parameters which do not comply
with the requirements specified in sub-clause 5.5.1.7), the mobile station
shall perform an abnormal release with access retry (see sub-clause 8.7.2).
NOTE: An uplink assignment message (e.g. PACKET UPLINK ASSIGNMENT, MULTIPLE
TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE or PACKET CS RELEASE INDICATION message) received by a multi-band
mobile station shall not be considered invalid if it indicates new frequencies
that are all in a different frequency band to that of the PDCH(s) on which the
assignment was received. The assignment may however be rendered invalid for
some other reason.
##### 8.1.1.1.3 Establishment of Downlink TBF
During uplink transfer, the network may initiate the establishment of one or
more downlink TBFs by sending a downlink assignment message (e.g. PACKET
DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE, PACKET CS RELEASE INDICATION)
to the mobile station on the PACCH. If a PACKET TIMESLOT RECONFIGURE or a
PACKET DOWNLINK ASSIGNMENT message is sent, then the message shall contain the
DOWNLINK_TFI_ASSIGNMENT field for the downlink TBF being established. If
multiple TBF procedures are supported by the mobile station and the network,
the network shall indicate the PFI associated with each TBF it allocates or
reallocates in the downlink assignment message. The network shall not attempt
to establish multiple downlink TBFs for a mobile station with only one uplink
TBF unless the mobile station's radio access capabilities are known.The
multislot restrictions of the mobile station shall be observed.
A mobile station that supports multiple TBF procedures shall act on the
downlink assignment message as follows:
\- Upon reception of a PACKET DOWNLINK ASSIGNMENT message the mobile station
shall release all ongoing downlink TBFs not addressed by this message and
shall act on the message. All ongoing uplink TBFs shall be maintained;
\- Upon reception of a PACKET TIMESLOT RECONFIGURE message the mobile station
shall release all ongoing uplink and downlink TBFs not addressed by this
message and shall act on the message;
\- Upon reception of a MULTIPLE TBF DOWNLINK ASSIGNMENT message the mobile
station shall maintain all ongoing TBFs not addressed by this message using
its currently allocated TBF parameters and shall act on the message;
\- Upon reception of a MULTIPLE TBF TIMESLOT RECONFIGURE message the mobile
station shall release all ongoing uplink and downlink TBFs not addressed by
this message and shall act on the message;
\- Upon reception of a PACKET CS RELEASE INDICATION message the mobile station
shall release all ongoing uplink and/or downlink TBFs not addressed by this
message and shall act on the message.
A mobile allocation or reference frequency list, received as part of a
downlink assignment, replaces the previous parameters and shall be used until
a new assignment is received or the mobile station has released all TBFs.
If the network and mobile station both support Downlink Dual Carrier, the
network may send a downlink assignment message (e.g. PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION) to a mobile
station assigning one or more TBFs with packet resources on two carriers
(referred to as carrier 1 and carrier 2) and thereby establish a Downlink Dual
Carrier configuration.
If the assignment message contains the _Assignment Info_ IE indicating an
assignment type other than \'Dual Carrier assignment\', then the packet
resources specified in this message replace any existing assignment for the
addressed TBFs on the carrier identified by the Carrier ID field. In this
case, if the assignment message addresses TBFs that currently have packet
resources assigned on the other carrier (i.e. the carrier not identified by
the Carrier ID field) then these packet resources shall be treated as follows:
\- these resources are implicitly released, if the ASSIGNMENT TYPE field
(carried in the _Assignment Info IE_) indicates that the assignment is an
'Assignment on single carrier only\';
\- these resources are unchanged, if the ASSIGNMENT TYPE field indicates that
the assignment is a 'Modification of existing assignment'.
If the assignment message contains the _Assignment Info_ IE indicating an
assignment type of \'Dual Carrier assignment\', then the packet resources
specified in this message replace any existing assignment for the addressed
TBFs.
On receipt of a downlink assignment message, and after the TBF starting time,
if present, the mobile station shall switch to the assigned PDCHs, and start
timer T3190 for each of the TBFs assigned. The operation of the downlink TBFs
follows the procedures in sub-clause 8.1.2 and 3GPP TS 44.160 with the
following additions:
\- the mobile station shall prioritise transmission of RLC/MAC control blocks
associated with a downlink TBF over RLC/MAC control blocks associated with an
uplink TBF;
\- if a timer or counter expiry causes an uplink TBF to be aborted in the
mobile station, the mobile station shall perform an abnormal release with
access retry as specified in sub-clause 8.7.2 (_A/Gb mode_) or 3GPP TS 44.160
(_Iu mode_);
\- If one uplink and one downlink TBF are already established, then the
network may send a PACKET TIMESLOT RECONFIGURE message without
DOWNLINK_TFI_ASSIGNMENT. The mobile station shall interpret this as a
reassignment of the timeslot allocations of the concurrent uplink and downlink
TBFs and the downlink TFI is not changed.
###### 8.1.1.1.3.1 Abnormal cases
If a failure occurs on the mobile station side before the new TBF(s) has been
successfully established, the newly reserved resources are released. The
subsequent behaviour of the mobile station depends on the type of failure and
previous actions:
\- If the information in the PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF
TIMESLOT RECONFIGURE message does not properly specify an uplink and downlink
PDCH or specifies a multislot configuration that the mobile station does not
support (see 3GPP TS 45.002), the mobile station shall perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If one uplink and one downlink TBF are not already established and the
PACKET TIMESLOT RECONFIGURE message does not include a DOWNLINK_TFI_ASSIGNMENT
field, then the mobile station shall perform an abnormal release with access
retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile station in dual transfer mode or MAC-DTM state receives a
downlink assignment message (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF
DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE or PACKET CS RELEASE INDICATION message) including frequency
parameters for the carrier supporting the dedicated resources, the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF TIMESLOT
RECONFIGURE message is due to any other reason, the mobile station shall abort
the procedure and perform an abnormal release with access retry (see sub-
clause 8.7.2 and 3GPP TS 44.160);
\- If both the mobile station and the network support multiple TBF procedures
and if any given downlink assignment message provides an uplink TBF allocation
for a PFI not associated with any ongoing uplink TBF, the mobile station shall
abort the procedure and perform an abnormal release with access retry (see
sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile station that does not support Downlink Dual Carrier receives a
PACKET DOWNLINK ASSIGNMENT message, PACKET TIMESLOT RECONFIGURE message,
MULTIPLE TBF DOWNLINK ASSIGNMENT message or a MULTIPLE TBF TIMESLOT
RECONFIGURE message that assigns resources on more than one carrier or
includes the _Assignment Info_ IE which indicates that the assignment is a
\'Modification of an existing assignment\' or a \'Dual Carrier assignment\',
the mobile station shall perform an abnormal release with access retry (see
sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile which supports Downlink Dual Carrier receives a PACKET DOWNLINK
ASSIGNMENT message, PACKET TIMESLOT RECONFIGURE message, MULTIPLE TBF DOWNLINK
ASSIGNMENT message or a MULTIPLE TBF TIMESLOT RECONFIGURE message that assigns
resources on two carriers and those two carriers are not within the same
frequency band, the mobile station shall perform an abnormal release with
access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK
ASSIGNMENT or PACKET CS RELEASE INDICATION message is due to any other reason
(including the presence of frequency parameters which do not comply with the
requirements specified in sub-clause 5.5.1.7), the mobile station shall abort
the procedure and continue the normal operation of the ongoing uplink TBFs and
ongoing downlink TBFs.
#### 8.1.1.2 Extended Dynamic Allocation uplink RLC data block transfer
The Extended Dynamic Allocation medium access method extends the Dynamic
Allocation medium access method to allow higher uplink throughput.
This sub-clause defines the extensions to the Dynamic Allocation medium access
method. All procedures defined in sub-clause 8.1.1.1 apply, except where this
sub-clause defines a new procedure. In cases where this sub-clause conflicts
with sub-clause 8.1.1.1, this sub-clause takes precedence.
##### 8.1.1.2.1 Uplink PDCH Allocation
The PACKET UPLINK ASSIGNMENT and MULTIPLE TBF UPLINK ASSIGNMENT messages
assign to the mobile station a subset of 1 to N uplink PDCHs (when the uplink
TBF operates in BTTI configuration) or uplink PDCH-pairs (when the uplink TBF
operates in RTTI configuration), where N depends on the mobile station
multislot class.
An uplink TBF that operates in RTTI configuration may receive the assigned
USFs either in BTTI USF mode or in RTTI USF mode. The indication of whether
BTTI USF mode or RTTI USF mode is to be used is provided during the assignment
of the corresponding uplink TBF.
If a mobile station supports Downlink Dual Carrier, the PACKET UPLINK
ASSIGNMENT or MULTIPLE TBF UPLINK ASSIGNMENT message may assign PDCHs
(corresponding to any given uplink TBF) on more than one carrier frequency. If
this occurs, the Extended Dynamic Allocation procedures shall operate
independently on each of the two carriers.
A mobile station that has an uplink TBF operating in BTTI configuration shall
monitor the downlink PDCHs corresponding to (i.e. with the same timeslot
number as) its assigned uplink PDCHs starting with the lowest numbered PDCH,
then the next lowest numbered PDCH, etc., up to the one corresponding to the
highest numbered assigned uplink PDCH. A mobile station that has an uplink TBF
operating in RTTI configuration shall monitor the downlink PDCH-pairs starting
with the one corresponding to the uplink PDCH-pair with the lowest numbered
timeslots, then the next uplink PDCH-pair, etc., up to the downlink PDCH-pair
corresponding to the uplink PDCH-pair with the highest numbered timeslots
assigned to the mobile station. When in dual transfer mode, the network shall
not assign uplink PDCHs whose corresponding downlink PDCH cannot be monitored
by the mobile station because of the presence of the uplink dedicated channel.
As an exception, in the case of dual transfer mode, if the mobile station
indicates support of DTM high multislot class capability, the network may also
assign uplink PDCHs whose corresponding downlink PDCH cannot be monitored by
the mobile station. In this case, the mobile station shall monitor only those
downlink PDCHs that are feasible when taking into account the position of the
uplink dedicated channel and the switching requirements of its multislot class
(see 3GPP TS 45.002).
Whenever a mobile station with an uplink TBF operating in BTTI configuration
detects an assigned USF value on a monitored PDCH, the mobile station shall
transmit either a single RLC/MAC block or a sequence of four RLC/MAC blocks on
the corresponding uplink PDCH (i.e. with the same timeslot number as the
downlink PDCH on which the USF was detected) and all higher numbered assigned
uplink PDCHs.
The following applies for an uplink TBF in RTTI configuration that receives
USFs in BTTI USF mode:
\- An assigned USF received on the first PDCH of a monitored downlink PDCH-
pair allocates resources for one or four uplink RTTI radio blocks in the first
two TDMA frames of the following basic radio block period(s) on the
corresponding uplink PDCH-pair and all assigned uplink PDCH-pairs with higher
numbered timeslots.
\- An assigned USF received on the second PDCH of a monitored downlink PDCH-
pair allocates resources for one or four uplink RTTI radio blocks in the
second two TDMA frames of the following basic radio block period(s) on the
corresponding uplink PDCH-pair and all assigned uplink PDCH-pairs with higher
numbered timeslots.
The following applies for an uplink TBF in RTTI configuration that receives
USFs in RTTI USF mode:
\- An assigned USF received in the first reduced radio block period of a given
basic radio block period on a monitored downlink PDCH-pair allocates resources
for one or four uplink RTTI radio blocks in the second reduced radio block
period starting in the same basic radio block period and continuing with the
second reduced radio block period in the following basic radio block periods,
depending on the USF granularity, on the corresponding uplink PDCH-pair and
all assigned uplink PDCH-pairs with higher numbered timeslots.
\- An assigned USF received in the second reduced radio block period of a
given basic radio block period on a monitored downlink PDCH-pair allocates
resources for one or four uplink RTTI radio blocks in the first reduced radio
block period starting in the next basic radio block period and continuing with
the first reduced radio block period in the following basic radio block
periods, depending on the USF granularity, on the corresponding uplink PDCH-
pair and all assigned uplink PDCH-pairs with higher numbered timeslots.
The time relation between an uplink block which the mobile station shall use
for transmission and the occurrence of the USF value is defined in 3GPP TS
45.002. The number of RLC/MAC blocks to transmit on each allocated uplink
PDCH/PDCH-pair is controlled by the USF_GRANULARITY parameter characterising
the uplink TBF. The mobile station shall, in either BTTI or RTTI
configuration, ignore the USF on those higher numbered PDCHs or PDCH-pairs
with higher numbered timeslots during the block period where the assigned USF
value is detected. In addition, if USF_GRANULARITY is set to four blocks
allocation, it may ignore the USF on all other PDCHs/PDCH-pairs during the
first three block periods in which the mobile station has been granted
permission to transmit. As specified in 3GPP TS 45.002, the USF corresponding
to the last three blocks of a four blocks allocation shall be set to an unused
value for each PDCH/PDCH-pair on which the mobile station has been granted
permission to transmit.
The mobile station shall, during a basic or reduced radio block period in
which it has been granted permission to transmit, monitor the assigned USF on
the downlink PDCHs/PDCH-pairs corresponding to its assigned uplink PDCHs/PDCH-
pairs starting with the lowest numbered PDCH or PDCH-pair with the lowest
numbered timeslots up to the highest numbered PDCH or PDCH-pair with the
highest numbered timeslots which the mobile is able to monitor, taking into
account the PDCHs/PDCH-pairs allocated for transmission in the basic or
reduced radio block period and the switching requirements of the mobile
station multislot class (see 3GPP TS 45.002).
If the network wishes to reduce the number of PDCHs/PDCH-pairs allocated to a
mobile station per basic/reduced radio block period, the network may do so,
provided that this is compatible with the mobile station's ability to monitor
the assigned USF in the downlink PDCH/PDCH-pairs corresponding to the lowest
numbered uplink PDCH or PDCH-pair with the lowest numbered timeslots in the
new allocation. Otherwise, the network shall not allocate any resources to
that mobile station for one basic/reduced radio block period following the
basic/reduced radio block period with the higher number of PDCHs/PDCH-pairs
allocated.
During the downlink block period where an uplink basic/reduced TTI radio block
is allocated on a PDCH/PDCH-pair via the polling mechanism (see sub-clause
10.4.4), the mobile station shall monitor the assigned USF on the downlink
PDCHs/PDCH-pairs corresponding to its assigned uplink PDCHs/PDCH-pairs
starting with the lowest numbered PDCH or PDCH-pair with the lowest numbered
timeslots up to the highest numbered PDCH or PDCH-pair with the highest
numbered timeslots which is feasible when taking into account the PDCHs/PDCH-
pairs allocated for transmission in the basic/reduced radio block period and
the switching requirements of the mobile station multislot class (see 3GPP TS
45.002).
##### 8.1.1.2.2 PACCH operation
The mobile station shall attempt to decode every downlink RLC/MAC block on the
downlink PDCH corresponding to (i.e. with the same timeslot number as) the
lowest numbered timeslot in the PDCH assignment when the uplink TBF operates
in the BTTI configuration.
In case the uplink TBF operates in RTTI configuration the mobile station shall
attempt to decode every downlink RLC/MAC block on the corresponding downlink
PDCH-pair associated with the lowest numbered assigned uplink PDCH-pair (i.e.
with lowest time slot numbers) in the set of assigned uplink PDCH-pairs
(i.e.downlink PACCH blocks are received in the same mode as the assigned
uplink TBF).
Whenever the mobile station receives an RLC/MAC block containing an RLC/MAC
control block, the mobile station shall attempt to interpret the message
contained therein. If the message addresses the mobile station, the mobile
station shall act on the message.
In case the uplink TBF operates in BTTI configuration then the network shall
transmit all PACCH messages on the PDCH carried on the downlink timeslot
corresponding to the lowest numbered timeslot in the assignment. Additionally
for the concurrent TBF case, the network may transmit PACCH messages on any of
the common timeslots assigned to the downlink and uplink PDCH assignment.
In case the uplink TBF operates in RTTI configuration then the network shall
transmit all PACCH messages on the corresponding downlink PDCH-pair associated
with the lowest numbered assigned uplink PDCH-pair. Additionally, for the
concurrent TBF case, the network may transmit PACCH messages on any of the
PDCH-pairs assigned that are common to the downlink and uplink PDCH-pair
assignments.
Whenever a mobile station, that has an assigned uplink TBF that operates in
BTTI configuration, detects an assigned USF value on any monitored PDCH, the
mobile station may transmit a PACCH block on the same PDCH in the next block
period. Whenever a mobile station, that has an assigned uplink TBF that
operates in RTTI configuration, detects an assigned USF value on any
corresponding downlink PDCH-pair associated with an assigned uplink PDCH-pair,
the mobile station may transmit a PACCH block on the PDCH-pair. The PACCH
block shall be transmitted according to the USF scheduling in 8.1.1.2.1. The
mobile station shall not transmit an RLC data block in any uplink radio block
allocated via the polling mechanism (see sub-clauses 10.4.4, 10.4.4a, 10.4.4b)
unless the uplink TBF operates in either RTTI configuration, or in BTTI
configuration with FANR activated, and the mobile station is polled for a
Piggy-backed Ack/Nack (see sub-clause 10.4.4b).
In the case of a Downlink Dual Carrier configuration, all segments belonging
to each RLC/MAC control message shall be sent on PACCH blocks belonging to the
same carrier.
##### 8.1.1.2.3 Neighbour cell power measurements
The mobile station shall perform neighbour cell measurements during any unused
PDCH or group of unused PDCHs where the MS\'s Measurement Capabilities
indicate that the mobile station is capable of making a neighbour cell
measurement.
The network shall ensure that there are sufficient gaps as to allow the
necessary number of measurements based upon the MS\'s Measurement
Capabilities.
##### 8.1.1.2.4 Shifted USF operation
In some instances (see 3GPP TS 45.002), Shifted USF operation shall apply.
When Shifted USF operation is used, the USF for the first assigned uplink PDCH
shall be sent on the downlink PDCH corresponding to (i.e. with the same
timeslot number as) the second assigned uplink PDCH. The MS shall monitor this
downlink PDCH for the USF corresponding to both the first assigned uplink PDCH
and the second assigned uplink PDCH. If the USF corresponding to the first
assigned uplink PDCH is detected then the mobile station shall transmit on the
first assigned uplink PDCH and all higher numbered assigned uplink PDCHs.
Otherwise, operation shall be as described in sub-clause 8.1.1.2.1.
The USF value corresponding to the first assigned uplink PDCH shall be
different from the USF value corresponding to the second assigned uplink PDCH.
When Shifted USF operation is used, PACCH operation shall be as described in
sub-clause 8.1.1.2.2 except that the network shall transmit all PACCH messages
on the PDCH carried on the downlink timeslot corresponding to the second
lowest numbered timeslot in the uplink assignment, and the mobile station
shall attempt to decode every downlink RLC/MAC block on that downlink PDCH.
If a PACKET PDCH RELEASE message releases the second uplink PDCH in the
current timeslot configuration of a mobile station using Shifted USF operation
then the first uplink timeslot shall also be considered released. If any PDCHs
remain in the new timeslot configuration then normal USF operation shall
continue starting on the lowest available timeslot.
#### 8.1.1.3 (void)
#### 8.1.1.3a Exclusive allocation RLC data block transfer
##### 8.1.1.3a.1 General
This sub-clause specifies mobile station behaviour for _exclusive allocation_
of radio resources for uplink RLC data block transfer. The exclusive
allocation is applicable only in dual transfer mode (for half-rate PDCHs only)
and MAC-DTM state (for half-rate PDCHs only). The conditions for using
exclusive allocation are specified in sub-clause 8.1.0.
When the mobile station receives an uplink assignment (e.g. PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or
MULTIPLE TBF TIMESLOT RECONFIGURE) that does not contain a TBF starting time,
the mobile station shall switch to the assigned PDCHs and be ready to transmit
within the reaction time defined in 3GPP TS 45.010. If a TBF starting time is
present, the mobile station shall wait until the starting time before it
switches to the assigned PDCHs and starts to transmit. If a TBF starting time
is present and an uplink TBF or one or more downlink TBFs are already in
progress, the mobile station shall continue to use the previously assigned
resources for the uplink TBF until the TBF starting time occurs. If the mobile
station receives another uplink assignment, while waiting for the TBF starting
time, the mobile station shall act upon the most recently received uplink
assignment and shall ignore the previous one.
When mobile station has received the uplink assignment and been granted the
right to transmit using exclusive allocation, the mobile station shall start
timer T3184 and transmit an RLC/MAC block in every uplink radio block on the
PDCHs assigned for the TBF. The timer T3184 shall be restarted every time the
mobile station receives a PACKET UPLINK ACK/NACK message.
The timer T3184 shall be stopped at the release of the TBF. The timer T3184
shall also be stopped if the resources for the TBF are reallocated, such that
the conditions for exclusive allocation are no longer fulfilled and the TBF
continues using dynamic or extended dynamic allocation (see sub-clause 8.1.0).
A mobile station supporting multiple TBF procedures and operating in DTM mode
with exclusive allocation may only establish a single uplink TBF. However, one
or more downlink TBFs may still be established when exclusive allocation is
used for the uplink TBF. In this case the network may allocate the radio
resources for the uplink TBF by sending the mobile station one of the
following messages:
\- A PACKET UPLINK ASSIGNMENT message if there is no more than one concurrent
downlink TBF;
\- A MULTIPLE TBF UPLINK ASSIGNMENT message if there are multiple concurrent
downlink TBFs;
\- A PACKET TIMESLOT RECONFIGURE message if there is one concurrent downlink
TBF that is also being reallocated;
\- A MULTIPLE TIMESLOT RECONFIGURE message if there are multiple concurrent
downlink TBFs and at least one of them is being reallocated or there are
multiple concurrent downlink TBFs and resources for at least one new downlink
TBF are being allocated.
##### 8.1.1.3a.2 Radio link failure
If timer T3184 expires (see sub-clause 8.1.1.3a.1), the mobile station shall
regard that as a radio link failure and perform an abnormal release with
access retry (see sub-clause 8.7.2 and 3GPP TS 44.160).
The network shall increment counter N3101 for each radio block allocated to
the TBF for which no RLC/MAC block is received. Whenever the network receives
an RLC/MAC block from the mobile station, it shall reset counter N3101 for
that TBF. If N3101 reaches the value N3101max, the network shall stop sending
PACKET UPLINK ACK/NACK messages to the mobile station for that TBF and shall
start timer T3169 for the TBF. If an RLC/MAC block is received from the TBF
when timer T3169 is running, the network shall stop timer T3169 and resume
sending PACKET UPLINK ACK/NACK messages to the TBF. When T3169 expires, the
network may consider the TBF as released and reuse the TFI value. If PS
Handover is ongoing, it is optional for the network to increment N3101.
##### 8.1.1.3a.3 (void)
##### 8.1.1.3a.4 PACCH operation
The mobile station shall attempt to decode every downlink RLC/MAC block on the
PDCH with the lowest timeslot number assigned for an uplink TBF operating in
BTTI configuration and shall attempt to decode every downlink RLC/MAC block on
the PDCH-pair with the lowest timeslot numbers assigned for an uplink TBF
operating in RTTI configuration. Whenever the mobile station receives an
RLC/MAC block containing an RLC/MAC control block, the mobile station shall
attempt to interpret the message contained therein. If the message is a
distribution message or a non-distribution message that addresses the mobile
station, the mobile station shall act on the message.
During the transmission on the uplink TBF, the mobile station may use any
uplink RLC/MAC block, assigned for the uplink TBF, for the transmission of an
RLC/MAC control block (PACCH). The mobile station shall not transmit an RLC
data block in any uplink RLC/MAC block allocated to the mobile station via the
polling mechanism (see sub-clause 10.4.4).
##### 8.1.1.3a.5 Resource Reallocation for Uplink
###### 8.1.1.3a.5.1 General
The reallocation of radio resources may take place during an uplink TBF, due
to a change of service demand from the mobile station, or due to reasons
determined by the network. This procedure shall not be used to change neither
the RLC mode nor the TBF mode of the uplink TBF. A change of RLC mode or TBF
mode shall be achieved through the release of the uplink TBF and establishment
of a new TBF.
###### 8.1.1.3a.5.2 Change of service demand
During an uplink packet transfer, upper layers may request the transfer an
upper layer PDU with a different PFI, a different radio priority, a different
peak throughput class or a different RLC mode than the one, which is in
transfer. In case of an upper layer PDU containing signalling information, it
shall be transferred with the highest radio priority and requesting
acknowledged RLC mode.
If upper layers request the transfer of another upper layer PDU with a
different PFI, a different Radio Priority, a different peak throughput class
or a different RLC mode than the one which is in transfer, then the procedures
as described in packet transfer mode (see sub-clause 8.1.1.1.2) shall be
applied by the mobile station.
If the mobile station, at the change of service demand, has started the
countdown procedure (see sub-clause 9.3.1) in order to release the uplink TBF,
the mobile station shall perform the release of the uplink TBF as normal. The
mobile station may then establish a new uplink TBF, according to the new
service demand.
If the countdown procedure has not been started or the TBF is operated in the
extended uplink TBF mode (see sub-clause 9.3.1b) and the new upper layer PDU
shall be transferred with the same RLC mode as the current uplink TBF, the
mobile station shall indicate a change of service demand to the network by
sending a PACKET RESOURCE REQUEST message on PACCH.
When the PACKET RESOURCE REQUEST message is sent, the mobile station shall
start timer T3168.
If the new upper layer PDU shall be transmitted with a different RLC mode than
the current uplink TBF, the mobile station may complete the transmission of
the preceding upper layer PDUs and shall then release the TBF and establish a
new uplink TBF for transmission of the new upper layer PDU. If the TBF is
operated in extended TBF mode (see sub-clause 9.3.1b), the mobile station
shall use the procedure in sub-clause 8.1.1.6 for changing the RLC mode.
After the transmission of the PACKET RESOURCE REQUEST message, the mobile
station shall continue to use the currently assigned uplink TBF, assuming that
the network grants the requested service demand.
On receipt of the PACKET RESOURCE REQUEST message the network shall respond by
either the reallocation of radio resources for an uplink TBF (sub-clause
8.1.1.3a.5.3) or the rejection of service demand (sub-clause 8.1.1.3a.5.4).
The mobile station shall stop timer T3168 at the receipt of a PACKET UPLINK
ASSIGNMENT, a MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or a
MULTIPLE TBF TIMESLOT RECONFIGURE message, or when the mobile station has
completed its currently assigned TBFs. If timer T3168 expires, the mobile
station shall retransmit the PACKET RESOURCE REQUEST message and again start
timer T3168.
###### 8.1.1.3a.5.3 Reallocation of radio resources for an uplink TBF
The network may reallocate the radio resources for an uplink TBF by sending
the mobile station a PACKET UPLINK ASSIGNMENT or a PACKET CS RELEASE
INDICATION message if there is no more than one concurrent downlink TBF or a
MULTIPLE TBF UPLINK ASSIGNMENT or a PACKET CS RELEASE INDICATION message if
there are multiple concurrent downlink TBFs. If there is a concurrent downlink
TBF and the radio resources for the downlink TBF are also affected, the
network shall use a PACKET TIMESLOT RECONFIGURE or a PACKET CS RELEASE
INDICATION message for the reallocation. If there are multiple concurrent
downlink TBFs and the radio resources for at least one downlink TBF are also
affected, the network shall use a MULTIPLE TBF TIMESLOT RECONFIGURE or a
PACKET CS RELEASE INDICATION message for the reallocation.
On receipt of the PACKET UPLINK ASSIGNMENT , the MULTIPLE TBF UPLINK
ASSIGNMENT, the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE
or the PACKET CS RELEASE INDICATION message, the mobile station shall treat
the message as an uplink assignment, as defined in sub-clause 8.1.1.1.2. On
receipt of the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE
or the PACKET CS RELEASE INDICATION message, the mobile station shall, in
addition, treat the message as a downlink assignment, as defined in sub-clause
8.1.2.1.
###### 8.1.1.3a.5.4 Rejection of new service demand
On the receipt of a PACKET RESOURCE REQUEST message from the mobile station
indicating a change of service demand, the network may reject the service
demand by sending a PACKET ACCESS REJECT message to the mobile station.
On receipt of the PACKET ACCESS REJECT message, the mobile station shall stop
timer T3168 if running, abort the uplink TBF and indicate a packet access
failure to upper layers. If no downlink TBF exists, the mobile station in dual
transfer mode shall return to dedicated mode. The DRX mode procedures shall be
applied, as specified in sub-clause 5.5.1.5.
The PACKET ACCESS REJECT message may contain a wait indication (i.e. the
WAIT_INDICATION field) in the Reject structure addressed to the mobile
station. In that case, the mobile station shall start timer T3172 with the
indicated value. The mobile station shall not attempt to establish a new
uplink TBF in the same cell while timer T3172 is running. If a successful cell
reselection is performed, the mobile station shall stop timer T3172 and may
establish an uplink TBF in the new cell.
While timer T3172 is running, the mobile station shall ignore any PACKET
PAGING REQUEST message that may be received, except paging requests to trigger
RR connection establishment and paging request including MBMS notification.
###### 8.1.1.3a.5.5 Abnormal cases
The following abnormal cases apply:
\- If timer T3168 expires and the PACKET RESOURCE REQUEST message has already
been transmitted four times, the mobile station shall perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If the mobile station receives an uplink assignment (e.g. PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message)
including frequency parameters for the carrier supporting the dedicated
resources, the mobile station shall perform an abnormal release with access
retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a failure in the uplink assignment (e.g. PACKET UPLINK ASSIGNMENT,
MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF
TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message) is due to any
other reason, the mobile station shall perform an abnormal release with access
retry (see sub-clause 8.7.2 and 3GPP TS 44.160).
##### 8.1.1.3a.6 Establishment of Downlink TBF
###### 8.1.1.3a.6.1 General
During an uplink TBF using exclusive allocation, the network may initiate the
establishment of one or more downlink TBFs by sending a downlink assignment
message (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT,
PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF TIMESLOT RECONFIGURE message) to
the mobile station on the PACCH. If multiple TBF procedures are not supported
the PACKET TIMESLOT RECONFIGURE message shall be used if the timeslot
allocation for the on-going uplink TBF needs to be changed. If the mobile
station and network support multiple TBF procedures the PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE and
MULTIPLE TBF TIMESLOT RECONFIGURE messages shall be used as described in sub-
clause 8.1.1.1.3.
On receipt of the downlink assignment message (e.g. PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message) the
mobile station shall switch to the assigned PDCHs. If the assignment message
includes a TBF starting time, the mobile station shall first wait until the
indicated starting time and then switch to the assigned PDCHs. If the
assigning message does not include a TBF starting time, or the TBF starting
time has already passed when the assigning message is received, the mobile
station shall switch to the assigned PDCHs within the reaction time specified
in 3GPP TS 45.010.
When the mobile station switches to the assigned PDCHs, it starts timer T3190
for each downlink TBF assigned. The operation of the downlink TBFs then
follows the procedures defined in sub-clause 8.1.2 and 3GPP TS 44.160, with
the following additions:
\- The mobile station shall prioritise transmission of RLC/MAC control blocks
associated with a downlink TBF over RLC/MAC control blocks associated with the
uplink TBF;
\- If a timer or counter expiry causes the uplink TBF to be aborted in the
mobile station, the mobile station shall perform an abnormal release according
to the procedure defined for the uplink TBF, which may cause also the downlink
TBF to be aborted;
\- If one uplink and one downlink TBF are established, the network may send a
PACKET TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message without
the UPLINK_TFI_ASSIGNMENT field. The mobile station shall interpret this as a
reassignment of the concurrent uplink and downlink TBFs. The TFI of the uplink
TBF is not changed.
###### 8.1.1.3a.6.2 Abnormal cases
If a failure occurs on the mobile station side before the downlink TBF has
been successfully established, the newly reserved resources are released. The
subsequent behaviour of the mobile station depends on the type of failure and
previous actions:
\- If the information in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF
TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message does not properly
specify an uplink and downlink PDCH or specifies a multislot configuration
that the mobile station does not support (see 3GPP TS 45.002), the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If a downlink TBFs is not already established and the PACKET TIMESLOT
RECONFIGURE message does not include a DOWNLINK_TFI_ASSIGNMENT field, then the
mobile station shall perform an abnormal release with access retry (see sub-
clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile station in dual transfer mode receives a PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or
MULTIPLE TBF TIMESLOT RECONFIGURE message including frequency parameters for
the carrier supporting the dedicated resources, the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2 and 3GPP
TS 44.160);
\- If a failure in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE or PACKET CS RELEASE INDICATION message is due to any other
reason, the mobile station shall abort the procedure and perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK
ASSIGNMENT message is due to any other reason, the mobile station shall abort
the procedure and continue the normal operation of the ongoing uplink and
downlink TBFs.
#### 8.1.1.4 Network initiated release of uplink TBF
The network may initiate release of an uplink TBF by transmitting a PACKET TBF
RELEASE message to the mobile station on the PACCH. A cause value indicates
the reason for release.
If the cause value is \"Normal release\" the mobile station shall continue to
the next upper layer PDU boundary, starting the count down procedure (see sub-
clause 9.3.1) at whatever value of CV is appropriate to count down to zero at
the upper layer PDU boundary, and then release the uplink TBF according to the
procedures in sub-clause 9.3.2.3 or 9.3.3.3. If multiple TBF procedures are
not supported and the mobile station has more upper layer PDU(s) to send, the
mobile station may initiate the establishment of a new uplink TBF as defined
in sub-clause 7.1, 8.1.1 and 3GPP TS 44.160. If the mobile station and network
support multiple TBF procedures the mobile station may initiate the
establishment of one or more new uplink TBFs as defined in sub-clause 8.1.1
and 8.1.1.1.2.
If the cause value is \"Abnormal Release\", the mobile station shall abort the
uplink TBF and perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160). If a valid RRBP field is received as part of the
PACKET TBF RELEASE message, the mobile station shall transmit a PACKET CONTROL
ACKNOWLEDGEMENT message in the uplink radio block specified.
#### 8.1.1.5 Abnormal cases
The following abnormal cases apply:
\- if the mobile station receives a PACKET UPLINK ASSIGNMENT, MULTIPLE TBF
UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE, PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT or
PACKET CS RELEASE INDICATION message with an invalid Frequency Parameters
information element, the mobile station shall perform an abnormal release with
system information (see sub-clause 8.7.3), performing a partial acquisition of
system information messages containing frequency information;
\- if the mobile station receives a PACKET UPLINK ASSIGNMENT, MULTIPLE TBF
UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE, PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT or
PACKET CS RELEASE INDICATION message specifying frequencies that are not all
in one band then the mobile shall perform an abnormal release with access
retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- if a mobile station in dual transfer mode receives a PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET DOWNLINK ASSIGNMENT,
MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or a MULTIPLE
TBF TIMESLOT RECONFIGURE message including frequency parameters for the
carrier supporting the dedicated resources, the mobile station shall perform
an abnormal release with access retry (see sub-clause 8.7.2 and 3GPP TS
44.160);
\- if the mobile station receives a PACKET UPLINK ACK/NACK message with
missing mandatory fields, the MS shall perform an abnormal release with access
retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- if the mobile station is operating in the non-extended uplink TBF mode (see
sub-clause 9.3.1b) and the mobile station has not started, or has started but
not completed the countdown procedure for a given TBF and it receives a PACKET
UPLINK ACK/NACK message with the Final Ack Indicator set for that TBF, it
shall perform an abnormal release with access retry (see sub-clause 8.7.2 and
3GPP TS 44.160).
NOTE: A PACKET UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET
TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE, PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT or PACKET CS RELEASE INDICATION
message sent to a multi-band mobile station shall not be considered invalid if
it indicates new frequencies that are all in a different frequency band to
that of the ARFCN of the serving cell.
#### 8.1.1.6 Change of RLC mode in extended uplink TBF mode
##### 8.1.1.6.1 General
This procedure applies to a mobile station having an uplink TBF in extended
uplink TBF mode. The procedure shall be used to release the ongoing uplink TBF
and to setup a new TBF in another RLC mode.
##### 8.1.1.6.2 Change of RLC mode
The mobile station shall send a PACKET RESOURCE REQUEST message on PACCH
indicating the new RLC mode and start timer T3168.
If timer T3168 expires, the mobile station shall retransmit the PACKET
RESOURCE REQUEST message and restart timer T3168.
On receipt of a PACKET RESOURCE REQUEST message, indicating a change of RLC
mode, the network shall release the uplink TBF at a point determined by the
network, using the procedure defined in sub-clause 9.5.
On receipt of PACKET UPLINK ACK/NACK with Final Ack Indicator set to \'1\' the
mobile station shall stop timer T3168 and after sending the PACKET CONTROL
ACKNOWLEDGEMENT message perform the change of RLC mode by establishing a new
TBF.
##### 8.1.1.6.3 Abnormal cases
The following abnormal cases apply:
\- If timer T3168 expires and the PACKET RESOURCE REQUEST message has already
been transmitted four times, the mobile station shall perform an abnormal
release with access retry (see sub-clause 8.7.2).
#### 8.1.1.7 Change of EGPRS level
##### 8.1.1.7.1 Change of EGPRS level for downlink TBFs
The network may indicate to the mobile station that the EGPRS level applicable
to a downlink TBF shall be changed. The mobile station shall not consider any
transition (to or from any EGPRS level) to be an error, provided that the
mobile station supports the new EGPRS level in the downlink.
##### 8.1.1.7.2 Change of EGPRS level for uplink TBFs
The network may indicate to the mobile station that the EGPRS level applicable
to an uplink TBF shall be changed. The transitions which can be performed are
shown in table 8.1.1.7.2.1.
Table 8.1.1.7.2.1: Permitted EGPRS level changes
* * *
Current EGPRS level New EGPRS Level EGPRS EGPRS2-A EGPRS EGPRS2-B EGPRS2-B
EGPRS EGPRS2-A EGPRS
* * *
Transitions not listed in Table 8.1.1.7.2.1 are not permitted.
The modulation and coding scheme to be used for retransmissions in case of a
transition from EGPRS to EGPRS2-A (respectively EGPRS2-B) is shown in Table
8.1.1.7.2.2 (respectively Table 8.1.1.7.2.3) below.
Table 8.1.1.7.2.2: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS, level changed to EGPRS2-A)
+----------+----------+----------+----------+----------+----------+ | Scheme | Scheme | | | | | | used for | to use | | | | | | Initial | for | | | | | | tran | retrans | | | | | | smission | missions | | | | | | | after | | | | | | | s | | | | | | | witching | | | | | | | to | | | | | | | EGPRS2-A | | | | | | | (MCS or | | | | | | | UAS) | | | | | +----------+----------+----------+----------+----------+----------+ | | UAS-11 | UAS-10 | UAS-9 | UAS-8 | UAS-7 | | | C | C | C | C | C | | | ommanded | ommanded | ommanded | ommanded | ommanded | +----------+----------+----------+----------+----------+----------+ | MCS-9 | UAS-9 | UAS-9 | UAS-9 | MCS-6 | MCS-6 | +----------+----------+----------+----------+----------+----------+ | MCS-8 | MCS-6 | | | | | | | (NOTE 2) | | | | | +----------+----------+----------+----------+----------+----------+ | MCS-7 | UAS-10 | UAS-10 | UAS-7 | UAS-7 | UAS-7 | +----------+----------+----------+----------+----------+----------+ | MCS-6 | UAS-9 | UAS-9 | UAS-9 | MCS-6 | MCS-6 | +----------+----------+----------+----------+----------+----------+ | MCS-5 | UAS-10 | UAS-10 | UAS-7 | UAS-7 | UAS-7 | +----------+----------+----------+----------+----------+----------+ | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | +----------+----------+----------+----------+----------+----------+ | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | +----------+----------+----------+----------+----------+----------+ | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | +----------+----------+----------+----------+----------+----------+ | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | If MCS-1 | | | | | | | to MCS-6 | | | | | | | is | | | | | | | co | | | | | | | mmanded, | | | | | | | see | | | | | | | Table | | | | | | | 8.1.1.1 | | | | | | | or Table | | | | | | | 8.1.1.2 | | | | | | | as | | | | | | | appr | | | | | | | opriate. | | | | | | | | | | | | | | NOTE 2: | | | | | | | In this | | | | | | | case, 6 | | | | | | | octets | | | | | | | of | | | | | | | padding | | | | | | | are | | | | | | | used. | | | | | | +----------+----------+----------+----------+----------+----------+
Table 8.1.1.7.2.3: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS, level changed to EGPRS2-B) with re-segmentation
* * *
Scheme used for Initial transmission Scheme to use for retransmissions after
switching to EGPRS2-B (MCS or UBS)  
**UBS-12 Commanded** **UBS-11 Commanded** **UBS-10 Commanded** **UBS-9
Commanded** **UBS-8 Commanded** **UBS-7 Commanded** **UBS-6 Commanded**
**UBS-5 Commanded** MCS-9 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6
MCS-8 UBS-11 UBS-11 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 MCS-7 UBS-9 UBS-9
UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-6 UBS-12 UBS-10 UBS-10 UBS-8 UBS-8
UBS-6 UBS-6 UBS-6 MCS-5 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-4
MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3
MCS-3 MCS-3 MCS-3 MCS-3 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2
MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 NOTE 1: If MCS-1 to
MCS-4 is commanded, see Table 8.1.1.1.
* * *
Table 8.1.1.7.2.4a: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS, level changed to EGPRS2-B) without re-
segmentation
* * *
Scheme used for Initial transmission Scheme to use for retransmissions after
switching to EGPRS2-B (MCS or UBS)  
UBS-12 Commanded UBS-11 Commanded UBS-10 Commanded UBS-9 Commanded UBS-8
Commanded UBS-7 Commanded UBS-6 Commanded UBS-5 Commanded MCS-9 UBS-12 UBS-10
UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 MCS-8 UBS-11 UBS-11 UBS-10 UBS-8 UBS-8
UBS-6 UBS-6 UBS-6 MCS-7 UBS-9 UBS-9 UBS-9 UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-6
UBS-12 UBS-10 UBS-10 UBS-8 UBS-8 UBS-6 UBS-6 UBS-6 MCS-5 UBS-9 UBS-9 UBS-9
UBS-9 UBS-7 UBS-7 UBS-5 UBS-5 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4
MCS-4 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-2 MCS-2 MCS-2
MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-2 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1
MCS-1 MCS-1
* * *
Table 8.1.1.7.2.4b: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS, level changed to EGPRS2-B) without re-
segmentation
* * *
Scheme used for Initial transmission Scheme to use for retransmissions after
switching to EGPRS2-B (MCS or UBS)  
**MCS-4 Commanded** **MCS-3 Commanded** **MCS-2 Commanded** **MCS-1
Commanded** MCS-9 UBS-6 UBS-6 UBS-6 UBS-6 MCS-8 UBS-6 UBS-6 UBS-6 UBS-6 MCS-7
UBS-5 UBS-5 UBS-5 UBS-5 MCS-6 UBS-6 UBS-6 UBS-6 UBS-6 MCS-5 UBS-5 UBS-5 UBS-5
UBS-5 MCS-4 MCS-4 MCS-4 MCS-4 MCS-4 MCS-3 MCS-3 MCS-3 MCS-3 MCS-3 MCS-2 MCS-2
MCS-2 MCS-2 MCS-2 MCS-1 MCS-1 MCS-1 MCS-1 MCS-1
* * *
The modulation and coding scheme to be used for retransmissions in case of a
transition from EGPRS2-A (respectively EGPRS2-B) to EGPRS is shown in Tables
8.1.1.7.2.5 and 8.1.1.7.2.6 (respectively Tables 8.1.1.7.2.7 and 8.1.1.7.2.8)
below.
Table 8.1.1.7.2.5: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS2-A, level changed to EGPRS) with re-segmentation
+-------+-------+-------+-------+-------+-------+-------+-------+ | S | S | | | | | | | | cheme | cheme | | | | | | | | used | to | | | | | | | | for | use | | | | | | | | In | for | | | | | | | | itial | retra | | | | | | | | tr | nsmis | | | | | | | | ansmi | sions | | | | | | | | ssion | after | | | | | | | | | swit | | | | | | | | | ching | | | | | | | | | to | | | | | | | | | EGPRS | | | | | | | | | (MCS) | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | MCS-9 | MCS-8 | MCS-7 | MC | MCS-6 | MC | MCS-5 | | | Comm | Comm | Comm | S-6-9 | Comm | S-5-7 | Comm | | | anded | anded | anded | Comm | anded | Comm | anded | | | | | | anded | | anded | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-3 | MCS-3 | | AS-11 | | | | | | | | | | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | | | 2) | 2) | 2) | 2) | 2) | 2) | 2) | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | | AS-10 | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UAS-9 | MCS-9 | MCS-6 | MCS-6 | MCS-9 | MCS-6 | MCS-3 | MCS-3 | +-------+-------+-------+-------+-------+-------+-------+-------+ | UAS-8 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-3 | MCS-3 | | | | | | | | | | | | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | | | 2) | 2) | 2) | 2) | 2) | 2) | 2) | +-------+-------+-------+-------+-------+-------+-------+-------+ | UAS-7 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-6 | MCS-9 | MCS-6 | MCS-6 | MCS-9 | MCS-6 | MCS-3 | MCS-3 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-5 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE | | | | | | | | | 1: If | | | | | | | | | MCS-1 | | | | | | | | | to | | | | | | | | | MCS-4 | | | | | | | | | is | | | | | | | | | comma | | | | | | | | | nded, | | | | | | | | | see | | | | | | | | | Table | | | | | | | | | 8.1 | | | | | | | | | .1.3. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 2: In | | | | | | | | | this | | | | | | | | | case, | | | | | | | | | 10 | | | | | | | | | o | | | | | | | | | ctets | | | | | | | | | of | | | | | | | | | pa | | | | | | | | | dding | | | | | | | | | are | | | | | | | | | used. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 8.1.1.7.2.6: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS2-A, level changed to EGPRS) without re-
segmentation
+-------+-------+-------+-------+-------+-------+-------+-------+ | S | S | | | | | | | | cheme | cheme | | | | | | | | used | to | | | | | | | | for | use | | | | | | | | In | for | | | | | | | | itial | retra | | | | | | | | tr | nsmis | | | | | | | | ansmi | sions | | | | | | | | ssion | after | | | | | | | | | swit | | | | | | | | | ching | | | | | | | | | to | | | | | | | | | EGPRS | | | | | | | | | (MCS) | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | MCS-9 | MCS-8 | MCS-7 | MC | MCS-6 | MC | MCS-5 | | | Comm | Comm | Comm | S-6-9 | Comm | S-5-7 | Comm | | | anded | anded | anded | Comm | anded | Comm | anded | | | | | | anded | | anded | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | AS-11 | | | | | | | | | | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | | | 2) | 2) | 2) | 2) | 2) | 2) | 2) | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | | AS-10 | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UAS-9 | MCS-9 | MCS-6 | MCS-6 | MCS-9 | MCS-6 | MCS-6 | MCS-6 | +-------+-------+-------+-------+-------+-------+-------+-------+ | UAS-8 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | | | | | | | | | | | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | (NOTE | | | 2) | 2) | 2) | 2) | 2) | 2) | 2) | +-------+-------+-------+-------+-------+-------+-------+-------+ | UAS-7 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-6 | MCS-9 | MCS-6 | MCS-6 | MCS-9 | MCS-6 | MCS-6 | MCS-6 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-5 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE | | | | | | | | | 1: If | | | | | | | | | MCS-1 | | | | | | | | | to | | | | | | | | | MCS-4 | | | | | | | | | is | | | | | | | | | comma | | | | | | | | | nded, | | | | | | | | | see | | | | | | | | | Table | | | | | | | | | 8.1 | | | | | | | | | .1.4. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 2: In | | | | | | | | | this | | | | | | | | | case, | | | | | | | | | 10 | | | | | | | | | o | | | | | | | | | ctets | | | | | | | | | of | | | | | | | | | pa | | | | | | | | | dding | | | | | | | | | are | | | | | | | | | used. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 8.1.1.7.2.7: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS2-B, level changed to EGPRS) with re-segmentation
+-------+-------+-------+-------+-------+-------+-------+-------+ | S | S | | | | | | | | cheme | cheme | | | | | | | | used | to | | | | | | | | for | use | | | | | | | | In | for | | | | | | | | itial | retra | | | | | | | | tr | nsmis | | | | | | | | ansmi | sions | | | | | | | | ssion | after | | | | | | | | | swit | | | | | | | | | ching | | | | | | | | | to | | | | | | | | | EGPRS | | | | | | | | | (MCS) | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | MCS-9 | MCS-8 | MCS-7 | MC | MCS-6 | MC | MCS-5 | | | Comm | Comm | Comm | S-6-9 | Comm | S-5-7 | Comm | | | anded | anded | anded | Comm | anded | Comm | anded | | | | | | anded | | anded | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-9 | MCS-6 | MCS-6 | MCS-9 | MCS-6 | MCS-3 | MCS-3 | | BS-12 | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-8 | MCS-8 | MCS-6 | MCS-6 | MCS-6 | MCS-3 | MCS-3 | | BS-11 | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCS-8 | MCS-8 | MCS-6 | MCS-9 | MCS-6 | MCS-3 | MCS-3 | | BS-10 | / | / | | | | | | | | MCS-9 | MCS-6 | | | | | | | | (NOTE | (NOTE | | | | | | | | 2) | 2) | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-9 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-8 | MCS-8 | MCS-8 | MCS-6 | MCS-9 | MCS-6 | MCS-3 | MCS-3 | | | / | / | | | | | | | | MCS-9 | MCS-6 | | | | | | | | (NOTE | (NOTE | | | | | | | | 2) | 2) | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-7 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-6 | MCS-8 | MCS-8 | MCS-6 | MCS-6 | MCS-6 | MCS-3 | MCS-3 | | | / | / | | | | | | | | MCS-9 | MCS-6 | | | | | | | | (NOTE | (NOTE | | | | | | | | 2) | 2) | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-5 | MCS-7 | MCS-7 | MCS-7 | MCS-5 | MCS-5 | MCS-7 | MCS-5 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE | | | | | | | | | 1: If | | | | | | | | | MCS-1 | | | | | | | | | to | | | | | | | | | MCS-4 | | | | | | | | | is | | | | | | | | | comma | | | | | | | | | nded, | | | | | | | | | see | | | | | | | | | Table | | | | | | | | | 8.1 | | | | | | | | | .1.5. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 2: If | | | | | | | | | the | | | | | | | | | last | | | | | | | | | tr | | | | | | | | | ansmi | | | | | | | | | ssion | | | | | | | | | was | | | | | | | | | with | | | | | | | | | pad | | | | | | | | | ding, | | | | | | | | | then | | | | | | | | | MCS-8 | | | | | | | | | is | | | | | | | | | used; | | | | | | | | | other | | | | | | | | | wise, | | | | | | | | | the | | | | | | | | | a | | | | | | | | | ltern | | | | | | | | | ative | | | | | | | | | c | | | | | | | | | oding | | | | | | | | | s | | | | | | | | | cheme | | | | | | | | | spec | | | | | | | | | ified | | | | | | | | | above | | | | | | | | | is | | | | | | | | | used. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 8.1.1.7.2.8: Choice of modulation and coding scheme for retransmissions
(initial transmission EGPRS2-B, level changed to EGPRS) without re-
segmentation
+-------+-------+-------+-------+-------+-------+-------+-------+ | S | S | | | | | | | | cheme | cheme | | | | | | | | used | to | | | | | | | | for | use | | | | | | | | In | for | | | | | | | | itial | retra | | | | | | | | tr | nsmis | | | | | | | | ansmi | sions | | | | | | | | ssion | after | | | | | | | | | swit | | | | | | | | | ching | | | | | | | | | to | | | | | | | | | EGPRS | | | | | | | | | (MCS) | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | MCS-9 | MC | MCS-5 | MCS-4 | MCS-3 | MCS-2 | MCS-1 | | | or | S-5-7 | | Comm | Comm | Comm | Comm | | | MCS-8 | | Comm | anded | anded | anded | anded | | | or | Comm | anded | | | | | | | MCS-7 | anded | | | | | | | | or | | | | | | | | | MC | | | | | | | | | S-6-9 | | | | | | | | | or | | | | | | | | | MCS-6 | | | | | | | | | | | | | | | | | | Comm | | | | | | | | | anded | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCSs | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | BS-12 | * | | | | | | | | | _defi | | | | | | | | | ned_ _| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |__8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7_ _| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCSs | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | BS-11 | * | | | | | | | | |_ defi | | | | | | | | | ned**| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |** 8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7**| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | U | MCSs | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | BS-10 | * | | | | | | | | | *defi | | | | | | | | | ned** | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | **8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7** | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-9 | MCSs | MCS-7 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | | | * | | | | | | | | | _defi | | | | | | | | | ned_ _| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |__8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7_ _| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-8 | MCSs | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | | * | | | | | | | | |_ defi | | | | | | | | | ned**| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |** 8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7**| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-7 | MCSs | MCS-7 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | | | * | | | | | | | | | *defi | | | | | | | | | ned** | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | **8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7** | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-6 | MCSs | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | MCS-6 | | | * | | | | | | | | | _defi | | | | | | | | | ned_ _| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |__8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7_ _| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | UBS-5 | MCSs | MCS-7 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | MCS-5 | | | * | | | | | | | | |_ defi | | | | | | | | | ned**| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |** 8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7**| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-4 | MCSs | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | MCS-4 | | | * | | | | | | | | | *defi | | | | | | | | | ned** | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | **8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7** | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-3 | MCSs | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | MCS-3 | | | * | | | | | | | | | _defi | | | | | | | | | ned_ _| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |__8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7_ _| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-2 | MCSs | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | MCS-2 | | | * | | | | | | | | |_ defi | | | | | | | | | ned**| | | | | | | | | in | | | | | | | | | Table | | | | | | | | |** 8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7**| | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | MCS-1 | MCSs | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | MCS-1 | | | * | | | | | | | | | *defi | | | | | | | | | ned** | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | **8.1 | | | | | | | | | .1.7. | | | | | | | | | 2.7** | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
### 8.1.2 Downlink RLC data block transfer
For a TBF in BTTI configuration, prior to the initiation of RLC data block
transfer on the downlink, the network assigns the following parameters in a
downlink assignment (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK
ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or
PACKET CS RELEASE INDICATION) message:
\- a Temporary Flow Identity (TFI). The TFI applies to all radio blocks
transferred in regards to the downlink Temporary Block Flow (TBF);
\- a set of PDCHs to be used for the downlink transfer;
\- optionally, a TBF starting time indication (not applicable for dual
carrier, BTTI with FANR activated, and EGPRS2 configurations);
\- a PFI associated with each allocated TBF if the network and the mobile
station both support multiple TBF procedures.
In case RTTI configuration is supported by the network and the mobile station
and a downlink TBF operating in RTTI configuration is assigned, the following
parameters shall be provided by the network in the assignment message (e.g.
PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE
INDICATION).
\- a Temporary Flow Identity (TFI). The TFI applies to all radio blocks
transferred in regards to the downlink Temporary Block Flow (TBF);
\- one or more downlink PDCH-pairs to be used for the downlink transfer;
\- a PFI associated with each allocated TBF if the network and the mobile
station both support multiple TBF procedures.
The network may, at any time during downlink packet transfer, change the TTI
configuration of an already established downlink TBF by sending on the
downlink PACCH a downlink TBF assignment message (e.g. PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION). In case of
a TTI configuration change the mobile station shall begin using the new TTI
configuration within the reaction time defined in 3GPP TS 45.010.
For each TBF, the network shall prioritise RLC/MAC control blocks, not
containing a PACKET DOWNLINK DUMMY CONTROL BLOCK message, to be transmitted
ahead of RLC data blocks for that TBF. If the network has no other RLC/MAC
block to transmit, but wishes to transmit on the downlink, the network shall
transmit an RLC/MAC control block containing a PACKET DOWNLINK DUMMY CONTROL
BLOCK message.
#### 8.1.2.1 Downlink RLC data block transfer
A network may send an unsolicited downlink assignment message to a mobile
station. A mobile station that supports multiple TBF procedures shall act on
the uplink assignment message as defined in sub-clause 8.1.1.1.3.
Upon reception of a downlink assignment that does not contain a TBF starting
time the mobile station shall start timer T3190 for each downlink TBF assigned
in the downlink assignment message and within the reaction time defined in
3GPP TS 45.010, it shall attempt to decode every downlink block on its
assigned PDCHs. If the downlink assignment message (e.g. PACKET DOWNLINK
ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE,
MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message)
contains a TBF starting time information element and there is no downlink TBF
in progress, but one or more uplink TBFs are in progress, the mobile station
shall remain on the assigned PDCHs until the TDMA frame number indicated by
the TBF starting time, at which time the mobile station shall start timer
T3190 for each downlink TBF assigned in the downlink assignment message and
immediately begin decoding the assigned downlink PDCH(s). If the downlink
assignment message (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK
ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or
PACKET CS RELEASE INDICATION message) contains a TBF starting time and there
are one or more downlink TBFs already in progress, the mobile station shall
continue to use the parameters of the downlink TBFs in progress until the TDMA
frame number indicated in the TBF starting time occurs, at which time the
mobile station shall immediately begin to use the new assigned downlink TBF
parameters. The mobile station shall continue to use the newly assigned
parameters of each downlink TBF until the TBF is either released or
reconfigured. If while waiting for the frame number indicated by the TBF
starting time the mobile station receives another downlink assignment for the
TBF, the mobile station shall act upon the most recently received downlink
assignment and shall ignore the previous downlink assignment. Procedures on
receipt of a downlink assignment message (e.g. PACKET DOWNLINK ASSIGNMENT or
MULTIPLE TBF DOWNLINK ASSIGNMENT message) while no TBF is in progress are
specified in sub-clause 7.2.1.1 and 3GPP TS 44.160.
Subsequent assignment messages may be sent to a mobile station operating in a
Downlink Dual Carrier configuration as described in sub-clause 8.1.1.1.3.
If the mobile station receives a valid RLC data block addressed to one of its
TBFs, the mobile station shall restart timer T3190 for that TBF. In EGPRS TBF
mode T3190 is also restarted when receiving an erroneous RLC data block for
which the header is correctly received and which addresses the mobile station.
If any given timer T3190 expires, the mobile station shall release that
downlink TBF. If there are one or more uplink TBFs in progress, the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160). If any given timer T3190 expires and there are no
other ongoing uplink TBFs in progress, the mobile station shall perform an
abnormal release without retry (see sub-clause 8.7.1).
Upon receipt of a PACKET TBF RELEASE message referring to a downlink TBF, the
mobile station shall follow the procedure in sub-clause 8.1.2.8.
##### 8.1.2.1.1 Abnormal cases
If a failure occurs on the mobile station side before one or more new TBFs
have been successfully established, the newly reserved resources are released.
The subsequent behaviour of the mobile station depends on the type of failure
and previous actions:
\- If a mobile station receives a downlink assignment message (e.g. PACKET
DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION
message) and detects an invalid Frequency Parameters information element in
the message, it shall perform an abnormal release with system information (see
sub-clause 8.7.3), performing a partial acquisition of system information
messages containing frequency information;
\- If a mobile station in dual transfer mode receives a PACKET DOWNLINK
ASSIGNMENT, a MULTIPLE TBF DOWNLINK ASSIGNMENT, a PACKET TIMESLOT RECONFIGURE
or a MULTIPLE TBF TIMESLOT RECONFIGURE message including frequency parameters
for the carrier supporting the dedicated resources, the mobile station shall
perform an abnormal release with access retry if there is at least one ongoing
uplink TBF (see sub-clause 8.7.2 and 3GPP TS 44.160), otherwise it shall
perform an abnormal release without retry (see sub-clause 8.7.1 and 3GPP TS
44.160);
\- If the information in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF
TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message does not properly
specify an uplink and downlink PDCH or specifies a multislot configuration
that the mobile station does not support (see 3GPP TS 45.002), the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If the PACKET TIMESLOT RECONFIGURE message does not include a
DOWNLINK_TFI_ASSIGNMENT field, then the mobile station shall perform an
abnormal release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE or PACKET CS RELEASE INDICATION message is due to any other
reason, the mobile station shall abort the procedure and perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If the information available in the mobile station, after the reception of
a PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF DOWNLINK ASSIGNMENT message does
not satisfactorily define a PDCH, the mobile station shall ignore the PACKET
DOWNLINK ASSIGNMENT/MULTIPLE TBF DOWNLINK ASSIGNMENT message;
\- If the mobile station does not support Downlink Dual Carrier but receives a
PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF DOWNLINK ASSIGNMENT message
specifying different frequency parameters than those currently in effect for
the uplink TBF (see sub-clause 5.5.1.7), the mobile station shall ignore the
PACKET DOWNLINK ASSIGNMENT/ MULTIPLE TBF DOWNLINK ASSIGNMENT message and
continue normal operation of the uplink TBF;
\- If the mobile station supports Downlink Dual Carrier, has one or more
ongoing uplink TBFs and is not in a Downlink Dual Carrier configuration, but
receives a PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF DOWNLINK ASSIGNMENT
message specifying frequency parameters for carrier 1 that are different from
those currently in effect for the uplink TBF, the mobile station shall ignore
the PACKET DOWNLINK ASSIGNMENT/ MULTIPLE TBF DOWNLINK ASSIGNMENT message and
continue normal operation of the uplink TBF;
\- If both the mobile station and the network support multiple TBF procedures
and if any given downlink assignment message provides an uplink TBF allocation
for a PFI not associated with any ongoing uplink TBF, the mobile station shall
abort the procedure and perform an abnormal release with access retry (see
sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile station that does not support Downlink Dual Carrier receives a
downlink assignment message (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF
DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE or PACKET CS RELEASE INDICATION message) that assigns resources on
two carriers or includes the _Assignment Info_ IE which indicates that the
assignment is a \'Modification of an existing assignment\' or a \'Dual Carrier
assignment\', the mobile station shall perform an abnormal release with access
retry if there is at least one ongoing uplink TBF (see sub-clause 8.7.2 and
3GPP TS 44.160), otherwise it shall perform an abnormal release without retry
(see sub-clause 8.7.1 and 3GPP TS 44.160);
\- If a mobile which supports Downlink Dual Carrier receives a downlink
assignment message (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK
ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or
PACKET CS RELEASE INDICATION message) that assigns resources on two carriers
and those two carriers are not within the same frequency band, the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF DOWNLINK
ASSIGNMENT message is due to any other reason, the mobile station shall abort
the establishment of the downlink TBFs indicated in the downlink assignment
message. If one or more ongoing uplink or downlink TBFs exist, the mobile
station shall continue the normal operation of all the ongoing uplink TBFs. If
no ongoing uplink or downlink TBFs exist, the mobile station shall perform an
abnormal release without retry (see sub-clause 8.7.1).
#### 8.1.2.2 Polling for Packet Downlink Ack/Nack
Whenever the mobile station receives an RLC data block addressed to one of its
TBFs and with a valid RRBP field or with a valid CES/P field in the RLC data
block header (i.e. is polled), the mobile station shall transmit one of the
following replies in the uplink radio block specified by the RRBP field or
CES/P field , whatever the BSN value of the received RLC data block, according
to the subsequent decreasing order of priority:
1) a (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS PACKET DOWNLINK
ACK/NACK TYPE 2 message containing a Final Ack Indicator;
2) a PACKET CS REQUEST message, if such a message is waiting to be
transmitted;
3) a PACKET CELL CHANGE NOTIFICATION message, if such a message is waiting to
be transmitted;
4) a (EGPRS) PACKET DOWNLINK ACK/NACK message or a EGPRS PACKET DOWNLINK
ACK/NACK TYPE 2 message containing a Channel Request Description IE;
5) any other RLC/MAC control message, if such a message is waiting to be
transmitted, other than a (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS
PACKET DOWNLINK ACK/NACK TYPE 2 message;
6) when FANR is activated and the mobile station is polled for a PAN (see sub-
clause 10.4.4b) , a PAN field corresponding to this TBF included in an EGPRS
RLC/MAC block for data transfer from one of the concurrent TBFs in uplink (see
sub-clause 8.1.1.);
7) a (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS PACKET DOWNLINK
ACK/NACK TYPE 2 message not containing a Final Ack Indicator or a Channel
Request Description IE.
However, the mobile station shall transmit an RLC/MAC control message other
than a (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS PACKET DOWNLINK
ACK/NACK TYPE 2 message at most every second time it is polled for the TBF.
For a TBF with FANR activated, the mobile station may transmit an RLC/MAC
control message other than a (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS
PACKET DOWNLINK ACK/NACK TYPE 2 message only if a (EGPRS) PACKET DOWNLINK
ACK/NACK message or EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 message or EGPRS
RLC/MAC block for data transfer including a PAN field was transmitted as the
response to the last poll.
The mobile station shall not send a PACKET CONTROL ACKNOWLEDGEMENT message
unless otherwise specified.
A mobile station in packet transfer mode in a Downlink Dual Carrier
configuration shall respond in the uplink radio block indicated by the RRBP
field or by the CES/P field, on the same radio frequency channel as the one
where the poll was received. A mobile station in dual transfer mode in a
Downlink Dual Carrier configuration shall respond in the uplink radio block on
the timeslot or on the PDCH pair indicated by the RRBP field or by the CES/P
field, on the uplink radio frequency channel where the dedicated resource is
assigned regardless of which downlink radio frequency channel the poll was
received on. The network shall not poll the mobile station in a manner which
would require the mobile station to respond on the same timeslot as that on
which the dedicated resource is assigned.
In EGPRS TBF mode the mobile station shall react on a poll inside an
erroneously received RLC data block for which the header is correctly received
and which addresses the mobile station.
Whenever the network receives a valid RLC/MAC control message from a TBF, it
shall reset counter N3105 for that TBF. The network shall increment counter
N3105 for each radio block, allocated to that TBF with the RRBP field or with
the CES/P field, for which no RLC/MAC control message is received. If N3105 =
N3105max, the network shall release the downlink TBF internally and start
timer T3195 for that TBF. When T3195 expires, the network may reuse the TFI
_._
The PACKET DOWNLINK ACK/NACK message contains a Channel Quality Report (see
3GPP TS 45.008). The optional I_LEVEL measurement results shall be included in
at least every other PACKET DOWNLINK ACK/NACK message.
The EGPRS PACKET DOWNLINK ACK/NACK message may contain an EGPRS Channel
Quality Report (see 3GPP TS 45.008).
The EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 message may contain an EGPRS Channel
Quality Report Type 2 (see 3GPP TS 45.008).
In the case of simultaneous uplink and downlink TBFs, the transmission of the
polling response takes precedence over the transmission of allocated uplink
radio blocks.
A mobile station of multislot class 1 to 12 or multislot class 30 to 45 need
not respond to the poll if it is not compliant with the multislot class of the
mobile station (see 3GPP TS 45.002).
A mobile station of multislot class 13 to 18 shall always respond to the poll.
A mobile station of multislot class 19 to 29 may omit the allocated downlink
PDCHs with timeslot numbers greater than n+1, while transmitting the polling
response on timeslot number n. If the remaining configuration is not compliant
with the multislot class of the mobile station (see 3GPP TS 45.002), the
mobile station need not respond to the poll.
NOTE: The mobile station is required to make neighbour cell measurements while
transmitting the polling response (see 3GPP TS 45.008).
In case of simultaneous uplink and downlink TBFs and extended dynamic
allocation (see sub-clause 8.1.1.2), the network may apply polling in downlink
RLC data blocks only when sent on a PDCH common for both reception and
transmission (see 3GPP TS 45.002). A mobile station operating with extended
dynamic allocation need to respond to polling in downlink RLC data blocks only
when received on a PDCH common for both reception and transmission.
The mobile station shall not send a poll response using a TTI configuration
that is different from that with which the poll was received.
#### 8.1.2.3 (void)
#### 8.1.2.4 Resource Reassignment for Downlink
The network initiates resource reassignment by sending a downlink assignment
message (e.g. PACKET DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT,
PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS
RELEASE INDICATION message) on the downlink PACCH. These messages indicate a
change in resources in the same TBF. The Control Ack bit in the message shall
be set to \'0\'. If multiple TBF procedures are supported by the mobile
station and the network, the network shall indicate the PFI associated with
each TBF it allocates or reallocates in the downlink assignment message.
During the reassignment of any given TBF its associated TFI is allowed to be
changed. Mobile shall use the TFI indicated in the PACKET DOWNLINK ASSIGNMENT/
MULTIPLE TBF DOWNLINK ASSIGNMENT when using the resource indicated in the
message.
The network is not allowed to change the RLC mode nor TBF mode of an already
established TBF during resource reallocation. Change of RLC mode or TBF mode
shall be achieved through release of on-going TBF and establishment of a new
TBF with the newly requested RLC mode or TBF mode using the procedures
described in sub-clause 9.3.2.5 or sub-clause 9.3.3.5.
On receipt of a downlink assignment message (e.g. PACKET DOWNLINK ASSIGNMENT,
MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF
TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message) and after the
TBF starting time, if present, the mobile station shall switch to the assigned
PDCHs. Upon switching to the new PDCHs the mobile station shall restart timer
T3190 for each newly assigned downlink TBF. A mobile station that supports
multiple TBF procedures shall act on the uplink assignment message as defined
in sub-clause 8.1.1.1.3.
When the mobile station receives an RLC/MAC block addressed to (one of) its
downlink TBF(s) on any of the new assigned resources it shall restart timer
T3190 for that TBF. If any given timer T3190 expires, and if one or more
uplink TBF is in progress, the mobile station shall perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160). If any
given timer T3190 expires and there are no uplink TBFs in progress, the mobile
station shall perform an abnormal release without retry (see sub-clause
8.7.1).
##### 8.1.2.4.1 Abnormal cases
These abnormal cases apply during establishment of downlink TBF after downlink
TBF release (see sub-clause 9.3.2.6).
If a failure occurs on the mobile station side before the new TBF has been
successfully established, the newly reserved resources are released. The
subsequent behaviour of the mobile station depends on the type of failure and
previous actions:
\- If a mobile station receives a downlink assignment message (e.g. PACKET
DOWNLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK ASSIGNMENT, PACKET TIMESLOT
RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION
message) and detects an invalid Frequency Parameters information element in
the message, the mobile station shall perform an abnormal release with system
information (see sub-clause 8.7.3), performing a partial acquisition of system
information messages containing frequency information;
\- If a mobile station in dual transfer mode or MAC-DTM state receives a
PACKET DOWNLINK ASSIGNMENT, a MULTIPLE TBF DOWNLINK ASSIGNMENT, a PACKET
TIMESLOT RECONFIGURE or a MULTIPLE TBF TIMESLOT RECONFIGURE message including
frequency parameters for the carrier supporting the dedicated resources, the
mobile station shall perform an abnormal release with access retry if there is
at least one ongoing uplink TBF (see sub-clause 8.7.2 and 3GPP TS 44.160),
otherwise it shall perform an abnormal release without retry (see sub-clause
8.7.1 and 3GPP TS 44.160);
\- If the information in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF
TIMESLOT RECONFIGURE or PACKET CS RELEASE INDICATION message does not properly
specify an uplink and downlink PDCH or specifies a multislot configuration
that the mobile station does not support (see 3GPP TS 45.002), the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT
RECONFIGURE or PACKET CS RELEASE INDICATION message is due to any other
reason, the mobile station shall abort the procedure and perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If the information available in the mobile station, after the reception of
a PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF DOWNLINK ASSIGNMENT message does
not satisfactorily define a PDCH, the mobile station shall ignore the PACKET
DOWNLINK ASSIGNMENT / MULTIPLE TBF DOWNLINK ASSIGNMENT message and maintain
its ongoing TBFs;
\- If the mobile station receives a PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF
DOWNLINK ASSIGNMENT message specifying different frequency parameters than
those currently in effect for its ongoing TBFs (see sub-clause 5.5.1.7), the
mobile station shall ignore the PACKET DOWNLINK ASSIGNMENT message and
continue normal operation of its ongoing TBFs;
\- If a failure in the PACKET DOWNLINK ASSIGNMENT or MULTIPLE TBF DOWNLINK
ASSIGNMENT message is due to any other reason, the mobile station shall abort
the establishment of the downlink TBFs indicated in the downlink assignment
message. If one or more ongoing uplink or downlink TBFs exist, the mobile
station shall continue the normal operation of all ongoing uplink TBFs. If no
ongoing uplink or downlink TBFs exist, the mobile station shall perform an
abnormal release without retry (see sub-clause 8.7.1);
\- If both the mobile station and the network support multiple TBF procedures
and if any given downlink assignment message provides an uplink TBF allocation
for a PFI not associated with any ongoing uplink TBF, the mobile station shall
abort the procedure and perform an abnormal release with access retry (see
sub-clause 8.7.2 and 3GPP TS 44.160).
#### 8.1.2.5 Establishment of uplink TBF
The mobile station may request establishment of one or more uplink TBFs when
there are one or more ongoing downlink TBFs by including a Channel Request
Description or the Extended Channel Request Description information element in
the (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS PACKET DOWNLINK ACK/NACK
TYPE 2 message. Initiation is triggered by a request from upper layers to
transfer an upper layer PDU. The request from upper layers specifies a Radio
Priority to be associated with the packet transfer.
When multiple TBF procedures are not supported, the mobile station initiates
the packet access procedure by sending the Channel Request Description
information element in the (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS
PACKET DOWNLINK ACK/NACK TYPE 2 message on the PACCH and starting timer T3168.
When the mobile station and the network support multiple TBF procedures the
mobile station may request one or more uplink TBFs by including the Extended
Channel Request Description information element in the (EGPRS) PACKET DOWNLINK
ACK/NACK message or EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 message and starting
one instance of timer T3168 for each uplink TBF it requests. Each requested
uplink TBF is associated with a different PFI. A mobile station shall continue
to use its ongoing downlink TBFs unless re-allocated or released as a result
of the uplink assignment message(s) sent in response by the network.
If both the network and the mobile station support the extended uplink TBF
mode, the request from upper layers may indicate that the new upper-layer PDU
is meant to pre-allocate an uplink TBF (early TBF establishment). In this
case, the EARLY_TBF_ESTABLISHMENT field in the (EGPRS) PACKET DOWNLINK
ACK/NACK message or EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 message shall
indicate pre-allocation is required.
On receipt of an (Extended) Channel Request Description information element in
the (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS PACKET DOWNLINK ACK/NACK
TYPE 2 message, the network may assign radio resources to the mobile station
on one or more PDCHs by transmitting an uplink assignment message (e.g. PACKET
UPLINK ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE
or MULTIPLE TBF TIMESLOT RECONFIGURE message) on the PACCH, or may reject one
or more of the requests by sending a PACKET ACCESS REJECT message on the
PACCH. If the PACKET TIMESLOT RECONFIGURE message is sent, then the message
shall contain the UPLINK_TFI_ASSIGNMENT field. If the mobile station supports
RLC non-persistent mode the network may allocate one or more EGPRS TBFs that
use this RLC mode.
If multiple TBF procedures are supported by the mobile station and the
network, the network shall indicate the PFI associated with each TBF it
allocates or reallocates in the uplink assignment message.
A mobile allocation or reference frequency list, when received in the
Frequency Parameters IE, as part of an uplink assignment, replaces the
previous parameters and shall be used until a new assignment is received or
the mobile station has released all TBFs.
If the network and mobile station both support Downlink Dual Carrier, the
network may send an uplink assignment message (e.g. PACKET UPLINK ASSIGNMENT,
MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF
TIMESLOT RECONFIGURE message) to a mobile station specifying one or more TBFs
with packet resources on two carriers (referred to as carrier 1 and carrier 2)
and thereby establish a Downlink Dual Carrier configuration. Subsequent
assignment messages may be sent to a mobile station in a Downlink Dual Carrier
configuration as described in sub-clause 8.1.1.1.3.
On receipt of an uplink assignment message (e.g. PACKET UPLINK ASSIGNMENT,
MULTIPLE TBF UPLINK ASSIGNMENT, PACKET TIMESLOT RECONFIGURE or MULTIPLE TBF
TIMESLOT RECONFIGURE message) the mobile station shall proceed as follows:
\- On reception of an uplink assignment message the mobile station shall stop
the instance of timer T3168 associated with the TBF receiving a resource
allocation;
\- The mobile station shall, after expiry of the TBF starting time, if
present, act upon the uplink assignment received for that TBF;
\- The mobile station shall then switch to the assigned uplink PDCHs and begin
to send RLC data blocks on the assigned PDCH(s). Neither the TLLI (in _A/Gb
mode_) nor the G-RNTI (in _Iu mode_) shall be included in any of the uplink
RLC data blocks in that case.
A mobile station that supports multiple TBF procedures shall act on the uplink
assignment message as follows:
\- Upon reception of a PACKET UPLINK ASSIGNMENT message the mobile station
shall release all ongoing uplink TBFs not addressed by this message and shall
act on the message. If multiple uplink TBFs were requested then the mobile
station shall consider those not addressed by this message as rejected and
shall stop the corresponding T3168 timer instances. All ongoing downlink TBFs
shall be maintained;
\- Upon reception of a PACKET TIMESLOT RECONFIGURE message the mobile station
shall release all ongoing uplink and downlink TBFs not addressed by this
message and shall act on the message. If multiple uplink TBFs were requested
then the mobile station shall consider those not addressed by this message as
rejected and shall stop the corresponding T3168 timer instances;
\- Upon reception of a MULTIPLE TBF UPLINK ASSIGNMENT message the mobile
station shall maintain all ongoing TBFs not addressed by this message using
its currently allocated TBF parameters and shall act on the message. If a
requested uplink TBF is not addressed by this message and the associated timer
T3168 is still running the mobile station shall wait for another instance of
this message;
\- Upon reception of a MULTIPLE TBF TIMESLOT RECONFIGURE message the mobile
station shall release all ongoing uplink and downlink TBFs not addressed by
this message and shall act on the message. If multiple uplink TBFs were
requested then the mobile station shall consider those not addressed by this
message as rejected and shall stop the corresponding T3168 timer instances.
When an uplink TBF is established in response to a (EGPRS) PACKET DOWNLINK
ACK/NACK message or EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 message with the
EARLY_TBF_ESTABLISHMENT field set to indicate pre-allocation is required, a
network supporting early TBF establishment should keep the uplink TBF open by
means of the extended uplink TBF mode operation (see sub-clause 9.3.1b.2).
On receipt of a PACKET ACCESS REJECT message that contains a Reject structure
addressed to the mobile station, the mobile station shall stop the instance of
timer T3168 associated with each uplink TBF being rejected and indicate a
packet access failure to the corresponding upper layers.
If the PACKET ACCESS REJECT message contains a WAIT_INDICATION field in a
Reject structure addressed to the mobile station, it shall proceed as follows:
\- If multiple TBF procedures are not supported the mobile station shall start
timer T3172 with the indicated value (Wait Indication). The mobile station is
not allowed to make a new attempt for uplink TBF establishment in the same
cell until timer T3172 expires, but it may attempt uplink TBF establishment in
an other cell after successful cell reselection;
\- If both the mobile station and the network support multiple TBF procedures
the mobile station shall start one instance of timer T3172 for each uplink TBF
that was rejected. All ongoing TBFs shall be maintained. The mobile station is
not allowed to attempt re-establishment of a rejected uplink TBF in the same
cell until its associated instance of timer T3172 expires. It may, however,
attempt re-establishment of a rejected uplink TBF in another cell after
successful cell reselection. The mobile station may attempt to enter the
dedicated mode in the same cell before all instances of timer T3172 have
expired. During the time one or more instances of T3172 are running, the
mobile station shall ignore all received PACKET PAGING REQUEST messages except
paging request to trigger RR connection establishment and paging request
including MBMS notification.
If all instances of timer T3168 have expired, the mobile station shall
retransmit the (Extended) Channel Request Description information element in
the next (EGPRS) PACKET DOWNLINK ACK/NACK message or EGPRS PACKET DOWNLINK
ACK/NACK TYPE 2 message unless the (Extended) Channel Request Description has
already been transmitted four times in which case the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2 and 3GPP
TS 44.160). If all the ongoing downlink TBFs are released, including expiry of
timer T3192, before expiry of all instances of timer T3168 and no uplink TBFs
are either ongoing or have received an uplink assignment with a TBF starting
time, the mobile station shall stop all remaining instances of timer T3168 and
perform an abnormal release with access retry (see sub-clause 8.7.2 and 3GPP
TS 44.160).
##### 8.1.2.5.1 Abnormal cases
If a failure occurs on the mobile station side before a new TBF has been
successfully established, the newly reserved resources are released. The
subsequent behaviour of the mobile station depends on the type of failure and
previous actions:
\- If the information in the PACKET UPLINK ASSIGNMENT or MULTIPLE TBF UPLINK
ASSIGNMENT message specifies a multislot configuration that the mobile station
does not support (see 3GPP TS 45.002), the mobile station shall perform an
abnormal release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If the mobile station does not support Downlink Dual Carrier but receives a
PACKET UPLINK ASSIGNMENT or a MULTIPLE TBF UPLINK ASSIGNMENT message
specifying different frequency parameters than those currently in effect for
the downlink TBF(s) (see sub-clause 5.5.1.7), the mobile station shall ignore
the PACKET UPLINK ASSIGNMENT/ MULTIPLE TBF UPLINK ASSIGNMENT message, continue
normal operation of the ongoing downlink TBF(s), and reinitiate the
establishment of the uplink TBF(s) unless the establishment of the uplink
TBF(s) has already been attempted four times, in which case, the mobile
station shall perform the abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If a mobile station in dual transfer mode or MAC-DTM state receives a
PACKET UPLINK ASSIGNMENT or a MULTIPLE TBF UPLINK ASSIGNMENT message including
frequency parameters for the carrier supporting the dedicated resources, the
mobile station shall perform an abnormal release with access retry (see sub-
clause 8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET UPLINK ASSIGNMENT or in the MULTIPLE TBF UPLINK
ASSIGNMENT message is due to any other reason, the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2);
\- If the information in the PACKET TIMESLOT RECONFIGURE or in the MULTIPLE
TBF TIMESLOT RECONFIGURE message does not properly specify a set of uplink and
downlink PDCH(s) or specifies a multislot configuration that the mobile
station does not support (see 3GPP TS 45.002), the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2 and 3GPP
TS 44.160);
\- If the PACKET TIMESLOT RECONFIGURE or the MULTIPLE TBF TIMESLOT RECONFIGURE
message does not include a correct UPLINK_TFI_ASSIGNMENT field, then the
mobile station shall perform an abnormal release with access retry (see sub-
clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile station in dual transfer mode receives a PACKET TIMESLOT
RECONFIGURE or a MULTIPLE TBF TIMESLOT RECONFIGURE message including frequency
parameters for the carrier supporting the dedicated resources, the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160);
\- If a failure in the PACKET TIMESLOT RECONFIGURE or in the MULTIPLE TBF
TIMESLOT RECONFIGURE message is due to any other reason, the mobile station
shall perform an abnormal release with access retry (see sub-clause 8.7.2 and
3GPP TS 44.160);
\- If both the mobile station and the network support multiple TBF procedures
and if any given uplink assignment message provides an uplink TBF allocation
for a PFI not indicated in the request for uplink TBF sent by the mobile
station , the mobile station shall abort the procedure and perform an abnormal
release with access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If a mobile station that does not support Downlink Dual Carrier receives a
PACKET UPLINK ASSIGNMENT message, PACKET TIMESLOT RECONFIGURE message,
MULTIPLE TBF UPLINK ASSIGNMENT message or a MULTIPLE TBF TIMESLOT RECONFIGURE
message that assigns resources on two carriers, the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2 and 3GPP
TS 44.160);
\- If a mobile which supports Downlink Dual Carrier receives a PACKET DOWNLINK
ASSIGNMENT message, PACKET TIMESLOT RECONFIGURE message, MULTIPLE TBF DOWNLINK
ASSIGNMENT message or a MULTIPLE TBF TIMESLOT RECONFIGURE message that assigns
resources on two carriers and those two carriers are not within the same
frequency band, the mobile station shall perform an abnormal release with
access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If the failure is due to any other reason, the mobile station shall abort
the procedure and perform an abnormal release with access retry (see sub-
clause 8.7.2 and 3GPP TS 44.160).
#### 8.1.2.6 (void)
#### 8.1.2.7 (void)
#### 8.1.2.8 Network initiated abnormal release of downlink TBF
The network may initiate immediate abnormal release of a downlink TBF by
transmitting a PACKET TBF RELEASE message to the mobile station on the PACCH.
The mobile station shall immediately stop monitoring its assigned downlink
PDCHs. If a valid RRBP field is received as part of the PACKET TBF RELEASE
message, the mobile station shall transmit a PACKET CONTROL ACKNOWLEDGMENT
message in the uplink radio block specified.
In _A/Gb mode_ , if there are no other on-going TBFs, the mobile station in
packet transfer mode shall enter packet idle mode; the mobile station in dual
transfer mode shall enter dedicated mode. If there is one or more on-going
TBFs, the mobile station shall remain in its current mode i.e. packet transfer
mode or dual transfer mode. The DRX mode procedures shall be applied, as
specified in sub-clause 5.5.1.5.
In _Iu mode_ , if no on-going TBFs on SBPSCH exist, the mobile station in MAC-
Shared state shall enter the MAC-Idle State; the mobile station in MAC-DTM
state shall enter the MAC-Dedicated state. If any on-going TBFs on SBPSCH
exist, the mobile station shall remain in its current state, i.e. either MAC-
Shared state or MAC-DTM state. The DRX mode procedures shall be applied, as
specified in 3GPP TS 44.160.
### 8.1.3 (void)
### 8.1.4 RLC data block transfer during an MBMS radio bearer
#### 8.1.4.0 General
For each MBMS radio bearer, the network shall prioritise RLC/MAC control
blocks not containing a PACKET DOWNLINK DUMMY CONTROL BLOCK message to be
transmitted ahead of RLC data blocks for that MBMS radio bearer. If the
network has no other RLC/MAC block to transmit, but wishes to transmit on the
downlink, the network may either follow the procedure specified in sub-clause
9.3.1a, to keep the MBMS radio bearer alive or transmit an RLC/MAC control
block containing a PACKET DOWNLINK DUMMY CONTROL BLOCK message.
#### 8.1.4.1 RLC data block transfer during an MBMS radio bearer
Procedures on receipt of a downlink assignment message (e.g. MBMS ASSIGNMENT
message) are specified in sub-clause 7.7.2.2. After switching to the assigned
PDCHs, the mobile station shall start a T3190 timer instance for the
corresponding MBMS radio bearer and shall attempt to decode every downlink
block on the assigned PDCHs.
Additionally, upon reception of an MBMS ASSIGNMENT or MBMS MS_ID ASSIGNMENT
message assigning a specific MS_ID value to a mobile station, this mobile
station shall start a T3290 timer instance for the corresponding MBMS radio
bearer, as specified in sub-clause 7.7.2.4.
The mobile station shall restart the related T3190 timer instance whenever
receiving a valid RLC/MAC block including the assigned MBMS Bearer Identity.
In EGPRS TBF mode T3190 is also restarted when receiving an erroneous RLC data
block for which the header is correctly received and which addresses the
mobile station. A mobile station with an assigned MS_ID value shall restart
the related T3290 timer instance whenever receiving a valid RLC/MAC block
including the corresponding MBMS Bearer Identity and the MS_ID in the TFI
field.
On expiry of a T3290 timer instance, the mobile station shall consider the
MS_ID as released, i.e. it shall no longer answer when polled according to
sub-clause 8.1.4.2 below. On expiry of a T3190 timer instance, the mobile
station shall consider the related MBMS radio bearer as released and proceed
as specified in sub-clause 7.7.1.
#### 8.1.4.2 Polling for MBMS Downlink Ack/Nack
If an uplink feedback channel is established, the network may poll any mobile
station with an assigned MS_ID value by setting the (E)S/P bit and a valid
RRBP field in the RLC/MAC header of an RLC/MAC block for data transfer
containing both the MBMS Bearer Identity and the corresponding MS_ID value in
the TFI field. Whenever a given mobile station is polled, the mobile station
shall transmit an MBMS DOWNLINK ACK/NACK message in the uplink radio block
specified by the RRBP field, whatever the BSN value of the received RLC data
block. In GPRS TBF mode (respectively EGPRS TBF mode), the mobile station
shall include the Ack/Nack Description IE (respectively the EGPRS Ack/Nack
Description IE) in the message.
The mobile station shall include in the MBMS DOWNLINK ACK/NACK message
neighbouring cells measurement results as described in sub-clause 5.6.4. In
EGPRS TBF mode, the number of measurement reports included is specified in
sub-clause 9.1.8.2.1. In GPRS TBF mode where cell reselection criteria are not
fulfilled three measurement reports shall be included.
In EGPRS TBF mode, the mobile station shall react to a poll within an RLC/MAC
block for data transfer if the RLC/MAC header is correctly received and
addresses the mobile station (i.e. contains both the MBMS Bearer Identity and
the corresponding MS_ID value in the TFI field) regardless whether the RLC
data block(s) is(are) correctly received or not.
The mobile station shall notify, whenever possible, the network of the release
of the MS_ID (see note), for that MBMS radio bearer, on the mobile station
side, by setting the MS_ID Release Indication bit to '1' in the MBMS DOWNLINK
ACK/NACK message. Any procedure triggering the release of the MS_ID on the
mobile station side shall not be delayed by such release indication (otherwise
such release indication shall not be sent).
NOTE: The mobile station may need to release the related MBMS session for
whatever reason (e.g. due to cell re-selection, start of the reception of a
higher priority MBMS session whose MBMS radio bearer description does not
allow the mobile station to receive it in parallel with the current MBMS
session, start of a CS connection).
Whenever the network receives a valid RLC/MAC control message containing an
assigned MS_ID value, it shall reset the counter N3105 for that MS_ID. The
network shall increment the counter N3105 for a given MS_ID for each radio
block, allocated via the polling procedure to the mobile station identified by
that MS_ID value, for which no RLC/MAC control message is received. If N3105 =
N3105_MBMS_MAX, the network shall release the MS_ID (i.e. shall internally
remove the association between the MS_ID value and the mobile station
identified during the MBMS address assignment procedure) and start timer T3195
for that MS_ID. When T3195 elapses, the network may reuse the corresponding
MS_ID value _._
#### 8.1.4.3 Reconfiguration of an MBMS radio bearer
##### 8.1.4.3.1 Individual reassignment of an MS_ID
The network may modify or delete the MS_ID previously assigned to a given
mobile station by sending an MBMS MS_ID ASSIGNMENT message on the PACCH/D,
containing the current and, in case of a reassignment, the new MS_ID value.
The mobile station shall be addressed with the Global TFI, containing the
DOWNLINK_TFI field, which includes the MBMS Bearer Identity of the MBMS radio
bearer and the current MS_ID of the mobile station the message relates to. The
size of the new MS_ID, if present, shall be equal to the one of the current
MS_ID. If the new MS_ID is present, the network may include the _Packet Timing
Advance_ IE.
When modifying or deleting the current MS_ID, the MBMS MS_ID ASSIGNMENT
message shall include a current MS_ID expiry time.
In response to an MBMS DOWNLINK ACK/NACK message with the MS_ID Release
Indication bit set to '1' (see sub-clause 8.1.4.2), the network may send an
MBMS MS_ID ASSIGNMENT message to the mobile station, deleting the MS_ID
previously assigned to that mobile station on that MBMS radio bearer and
setting the current MS_ID expiry time to the point in time when the message is
transmitted to the mobile station, without further polling the mobile station
on that MBMS radio bearer. The network shall then start timer T3199 for the
current MS_ID.
Upon reception of an MBMS MS_ID ASSIGNMENT message, modifying or deleting the
current MS_ID, the addressed mobile station shall consider the current MS_ID
as released at the point in time denoted by the current MS_ID expiry time. If
a new MS_ID is included in the message, the mobile station shall consider the
new MS_ID as valid and restart timer T3290 at the point in time denoted by the
current MS_ID expiry time and react when polled with the new MS_ID, according
to sub-clause 8.1.4.2.
If a valid RRBP field is received as part of the MBMS MS_ID ASSIGNMENT
message, the mobile station shall respond with a PACKET CONTROL
ACKNOWLEDGEMENT message in the specified uplink radio block.
If the network does not receive the PACKET CONTROL ACKNOWLEDGEMENT message in
the specified radio block, it shall increment counter N3109 for the current
MS_ID and may retransmit the MBMS MS_ID ASSIGNMENT message addressing the
mobile station with the current MS_ID. If counter N3109 = N3109_MAX or at the
point in time denoted by the current MS_ID expiry time without receiving a
PACKET CONTROL ACKNOWLEDGEMENT message, whatever occurs first, the network
shall start timer T3199 for the current MS_ID. While timer T3199 is running
for the current MS_ID, the network shall not include the current MS_ID in any
RLC/MAC block belonging to that MBMS radio bearer. When timer T3199 expires
for the current MS_ID, the network may reuse the current MS_ID resource. At
the point in time denoted by the current MS_ID expiry time the network shall
start timer T3199 for the new MS_ID, if present. While timer T3199 is running
for the new MS_ID, the network shall not include the new MS_ID in any RLC/MAC
block belonging to that MBMS radio bearer. When timer T3199 expires for the
new MS_ID, the network may reuse the new MS_ID resource.
When modifying the current MS_ID, after the point in time denoted by the
current MS_ID expiry time, the network shall address the mobile station with
the new MS_ID, unless counter N3109 for the current MS_ID equals N3109_MAX or
within the point in time denoted by the current MS_ID expiry time the network
has not received a PACKET CONTROL ACKNOWLEDGEMENT message from the polled
mobile station.
##### 8.1.4.3.2 Reassignment of the MBMS Bearer Identity
The network may reassign the MBMS Bearer Identity previously assigned to a
given MBMS radio bearer by sending an MBMS ASSIGNMENT (NON-DISTRIBUTION)
message on the PACCH/D, including the current MBMS Bearer Identity (in the
most significant bit(s) of the DOWNLINK_TFI field contained in the Global
TFI), explicitly redefining (i.e. modifying the length and/or value of) such
MBMS Bearer Identity and implicitly deleting or redefining MS_IDs assigned to
that MBMS radio bearer as described below.
When reassigning the MBMS Bearer Identity the network shall not reuse the TFI
values including the old MBMS Bearer Identity in the most significant bit(s)
of the TFI field.
If the mobile station receives more than one MBMS ASSIGNMENT (NON-
DISTRIBUTION) message for a given MBMS radio bearer, it shall act upon the
most recently received message and shall ignore the previous message.
If a valid RRBP field is received as part of the MBMS ASSIGNMENT (NON-
DISTRIBUTION) message, the mobile station identified by the corresponding
MS_ID shall respond with a PACKET CONTROL ACKNOWLEDGEMENT message in the
specified uplink radio block.
Any redefinition of an MBMS Bearer Identity and any deletion or redefinition
of MS_IDs shall apply at the point in time denoted by the MBMS radio bearer
starting time, if present, and immediately otherwise:
\- if the new MBMS Bearer Identity field has the same length as the current
one all previously assigned MS_ID values shall be considered still valid;
\- if the new MBMS Bearer Identity field is x bits shorter than the current
one, all previously assigned MS_ID values shall be implicitly redefined by
adding x most significant bits set to zero and shall be considered all valid;
\- if the new MBMS Bearer Identity field is x bits longer than the current
one, all previously assigned MS_ID values characterized by their x most
significant bits equal to zero shall be implicitly redefined by removing these
x most significant bits and still considered valid. All other assigned MS_ID
values shall be considered as invalid and discarded.
At the point in time denoted by the MBMS radio bearer starting time, if
present, and immediately otherwise, a mobile station shall restart timer T3190
for the newly assigned MBMS Bearer Identity. The mobile station shall restart
timer T3190 whenever receiving an RLC/MAC block including the new MBMS Bearer
Identity. If timer T3190 expires, the mobile station shall consider the MBMS
radio bearer as released and proceed as specified in sub-clause 7.7.1. At the
point in time denoted by the MBMS radio bearer starting time, if present, and
immediately otherwise, a mobile station with an assigned MS_ID value shall
start timer T3290. The mobile station shall restart timer T3290 whenever
receiving an RLC/MAC block including both the new MBMS Bearer Identity and the
new MS_ID in the TFI field.
The following table illustrates the definition of the new MS_ID upon
reassignment of the MBMS Bearer Identity:
Table 8.1.4.3.2.1: Reassignment of MBMS Bearer Identity and MS_ID
New Current | Bearer ID | MS_ID | Bearer ID | MS_ID | Bearer ID | MS_ID | Bearer ID | MS_ID | Bearer ID | MS_ID |   
---|---|---|---|---|---|---|---|---|---|---|---  
Bearer ID | MS_ID | 5 bits | - | 4 bits | 1 bit | 3 bits | 2 bits | 2 bits | 3 bits | 1 bit | 4 bits  
5 bits | - | No MS_ID | New MS_IDs available | New MS_IDs available | New MS_IDs available | New MS_IDs available |  |  |  |  |   
4 bits | 1 bit | Discard current MS_ID | Keep current MS_ID | x  0x New MS_IDs available | x  00x New MS_IDs available | x  000x New MS_IDs available |  |  |  |  |   
3 bits | 2 bits |  | 0x  x 1x  Discard current MS_ID | Keep current MS_ID | xx  0xx New MS_IDs available | xx  00xx New MS_IDs available |  |  |  |  |   
2 bits | 3 bits |  | 00x  x Other  Discard current MS_ID | 0xx  xx 1xx  Discard current MS_ID | Keep current MS_ID | xxx  0xxx New MS_IDs available |  |  |  |  |   
1 bit | 4 bits |  | 000x  x Other  Discard current MS_ID | 00xx  xx Other  Discard current MS_ID | 0xxx  xxx 1xxx  Discard current MS_ID | Keep current MS_ID |  |  |  |  |   
NOTE: The following notations are used: "No MS_ID": no MS_ID available. MS is not allowed to use feedback "Discard current MS_ID": MS shall discard the current MS_ID. MS is no longer allowed to use feedback "New MS_IDs available": MS_IDs are made available for incoming MSs "Keep current MS_ID": MS shall keep its current MS_ID and use feedback (i.e. reply when polled with this MS_ID) n  m: current MS_ID  new MS_ID. Defines the value of the new MS_ID based on the value of the current MS_ID "x"  "x" means the same bit value is used |  |  |  |  |  |  |  |  |  |  |   
The network shall start timer T3191 at the point in time denoted by the MBMS
radio bearer starting time, if present, and immediately otherwise. When timer
T3191 expires the network may reuse the TFI values corresponding to the old
MBMS Bearer Identity, i.e. the TFI values including the old MBMS Bearer
Identity in the most significant bit(s) of the TFI field.
##### 8.1.4.3.3 Resource reassignment for an MBMS radio bearer
The network may initiate resource reassignment for an MBMS radio bearer by
sending the MBMS ASSIGNMENT (NON-DISTRIBUTION) message, including the MBMS
Bearer Identity (in the most significant bit(s) of the DOWNLINK_TFI field
contained in the Global TFI), on the PACCH/D of the MBMS radio bearer. During
the reassignment of the MBMS radio bearer its associated MBMS Bearer Identity
may be changed.
In case of partial or complete overlap between the old and the new resource
configuration on the downlink, the MBMS Bearer Identity shall be changed.
If the MBMS Bearer Identity is changed the network shall not reuse the TFI
values including the old MBMS Bearer Identity in the most significant bit(s)
of the TFI field.
If the mobile station receives more than one MBMS ASSIGNMENT (NON-
DISTRIBUTION) message for a given MBMS radio bearer, it shall act upon the
most recently received message and shall ignore the previous message.
If a valid RRBP field is received as part of the MBMS ASSIGNMENT (NON-
DISTRIBUTION) message, the mobile station identified by the corresponding
MS_ID shall respond with a PACKET CONTROL ACKNOWLEDGEMENT message in the
specified uplink radio block.
On receipt of an MBMS ASSIGNMENT (NON-DISTRIBUTION) message, and at the point
in time denoted by the MBMS radio bearer starting time, if present, the mobile
station shall switch to the assigned PDCHs. Upon switching to the assigned
PDCHs the mobile station shall restart timer T3190 for the newly assigned MBMS
radio bearer. The mobile station shall restart timer T3190 whenever receiving
a valid RLC/MAC block belonging to that MBMS radio bearer. In EGPRS TBF mode
T3190 is also restarted when receiving an erroneous RLC data block for which
the header is correctly received and which addresses the mobile station.If
timer T3190 expires, the mobile station shall consider the MBMS radio bearer
as released and proceed as specified in sub-clause 7.7.1. Upon switching to
the assigned PDCHs, a mobile station with an assigned MS_ID value shall
restart timer T3290. The mobile station shall restart timer T3290 whenever
receiving an RLC/MAC block including both the MBMS Bearer Identity and the
MS_ID in the TFI field.
With an MBMS ASSIGNMENT (NON-DISTRIBUTION) message the network may explicitly
redefine (i.e. modify the length and/or value of) the MBMS Bearer Identity of
an MBMS radio bearer and implicitly delete or redefine MS_IDs assigned to that
MBMS radio bearer as specified in sub-clause 8.1.4.3.2. Any redefinition of an
MBMS Bearer Identity and any deletion or redefinition of MS_IDs shall only be
effective as of switching to the assigned PDCHs.
After resource reassignment the mobile station shall receive system
information messages and paging messages on the (P)BCCH and the (P)CCCH or on
the PACCH of the MBMS radio bearer, depending on the value of the MBMS In-band
Signalling Indicator information element included in the MBMS ASSIGNMENT (NON-
DISTRIBUTION) message and on the presence of an assigned MS_ID value.
The network shall start timer T3191 at the point in time denoted by the MBMS
radio bearer starting time, if present, and immediately otherwise. When timer
T3191 expires the network may reuse the TFI values corresponding to the old
MBMS Bearer Identity, i.e. the TFI values including the old MBMS Bearer
Identity in the most significant bit(s) of the TFI field, on the old resource
configuration.
#### 8.1.4.4 Network initiated release of an MBMS radio bearer
The network may initiate the normal or abnormal release of an MBMS radio
bearer by transmitting a PACKET TBF RELEASE message to the mobile station(s)
on the PACCH.
The following applies when the PACKET TBF RELEASE message is used for
releasing an MBMS radio bearer:
\- the Global TFI shall always contain the DOWNLINK_TFI field. The most
significant bit(s) of the DOWNLINK_TFI field denote(s) the MBMS Bearer
Identity of the MBMS radio bearer released by the message;
\- the UPLINK_RELEASE field shall be ignored by the mobile station;
\- the DOWNLINK_RELEASE field shall always be set to the value '1' by the
network to indicate that the MBMS radio bearer is released**.**
NOTE: The network may retransmit the PACKET TBF RELEASE message to increase
the probability of its correct reception. Timer T3191 is (re)started every
time the PACKET TBF RELEASE message is sent. When timer T3191 expires for the
MBMS radio bearer, then the network may reuse all the TFIs related to the MBMS
radio bearer.
Upon receipt of a PACKET TBF RELEASE message referring to an MBMS radio bearer
the mobile station is receiving, the mobile station shall immediately consider
the MBMS Bearer Identity, and the MS_ID if assigned, as released, and stop
timers T3190 and T3290.
If the mobile station in broadcast/multicast receive mode is not receiving any
other MBMS radio bearers, it shall enter packet idle mode and apply the DRX
mode procedures as specified in sub-clause 5.5.1.5, otherwise it shall remain
in broadcast/multicast receive mode.
#### 8.1.4.5 Suspension/Resumption of the reception of an MBMS radio bearer
In case a mobile station that supports multiple TBF procedures suspends the
reception of an MBMS radio bearer for whatever reason, the mobile station may
retain the MBMS bearer description for such MBMS radio bearer until the expiry
of the T3190 timer instance for the corresponding MBMS radio bearer. The
corresponding MBMS bearer description shall be deleted if the mobile station
completes a cell reselection or the session duration timer for this MBMS
session in the mobile station expires.
When the mobile station returns to packet idle mode or completes the reception
of higher mobile station-specific priority MBMS session(s), preventing the
mobile station from receiving the suspended MBMS session, still remaining in
broadcast/multicast receive mode,
\- if the MBMS bearer description is still stored in the mobile station, then
the mobile station may attempt to resume the reception of the suspended MBMS
session (re-entering broadcast/multicast receive mode if the mobile station
has previously left it);
\- otherwise the mobile station shall repeat the MBMS packet access procedure
for the MBMS session, as specified in sub-clause 7.7.1, unless the session
duration timer for this MBMS session in the mobile station has expired.
### 8.1.5 Multiple MBMS radio bearers
#### 8.1.5.1 Transmission of multiple MBMS radio bearers
On a PDCH on which multiple MBMS radio bearers are multiplexed, the TFI
value(s) including an MBMS Bearer Identity (in the most significant bit(s) of
the TFI field) shall differ from all the other TFI values including any other
MBMS Bearer Identity (in the most significant bit(s) of the TFI field).
#### 8.1.5.2 Reception of multiple MBMS radio bearers
##### 8.1.5.2.1 General
The reception of multiple MBMS radio bearers depends on the capabilities of
the mobile station. If the mobile station supports multiple TBF procedures and
MBMS, it shall be able to support the reception of multiple MBMS radio
bearers.
In this sub-clause (and sub-clauses 8.1.5.2.2 to 8.1.5.2.7) the priority is
mobile station-specific and allows for prioritisation between MBMS sessions on
a per-mobile station basis. If two or more MBMS sessions have the same
priority, the mobile station shall perform an implementation-dependent
selection of the MBMS session with the highest priority so the resulting
priorities are distinct for each MBMS session.
The mobile station shall be able, according to its capabilities, to receive as
many MBMS sessions as possible in decreasing order of priority, and to
transmit MBMS DOWNLINK ACK/NACK messages (when applicable) for as many MBMS
sessions as possible in decreasing order of priority.
NOTE: Depending on the radio resources allocated for the MBMS radio bearers, a
mobile station may not be capable of transmitting MBMS DOWNLINK ACK/NACK
messages on all associated uplink feedback channels.
If a mobile station is receiving multiple MBMS radio bearers and the mobile
station has an MS_ID on at least one MBMS radio bearer where the network has
indicated that system information for the serving cell and paging messages are
sent on the PACCH/D, then the mobile station shall not read the system
information on the (P)BCCH and shall not monitor its paging group on the
(P)CCCH in parallel to the MBMS radio bearers.
If a mobile station is receiving multiple MBMS radio bearers and the mobile
station has no MS_ID on any of the MBMS radio bearers where the network has
indicated that system information for the serving cell and paging messages are
sent on the PACCH/D, then the mobile station shall not read the system
information on the (P)BCCH and shall monitor its paging group on the (P)CCCH
in parallel to the MBMS radio bearers.
##### 8.1.5.2.2 Reception of notification of lower priority MBMS session
whilst receiving higher priority MBMS session(s)
If the mobile station in broadcast/multicast receive mode receives a
notification of a lower priority MBMS session which includes the MBMS bearer
description:
\- if the capabilities of the mobile station allow, the mobile station shall
receive that MBMS session in parallel with the higher priority MBMS
session(s), provided the requirements defined in sub-clause 8.1.5.2.1 are
fulfilled;
\- otherwise, the mobile station shall discard the notification.
If the mobile station in broadcast/multicast receive mode receives a
notification of a lower priority MBMS session which does not include the MBMS
bearer description and requests the counting procedure, the mobile station
shall not perform the MBMS packet access procedure.
##### 8.1.5.2.3 Reception of assignment of lower priority MBMS session whilst
receiving higher priority MBMS session(s)
If the mobile station in broadcast/multicast receive mode receives an
assignment for a lower priority MBMS session, the mobile station shall act
upon the assignment provided the requirements defined in sub-clause 8.1.5.2.1
are fulfilled.
##### 8.1.5.2.4 Reception of notification of higher priority MBMS session
whilst receiving lower priority MBMS session(s)
If the mobile station in broadcast/multicast receive mode receives a
notification of a higher priority MBMS session which includes the MBMS bearer
description, the mobile station shall act upon the MBMS bearer description and
receive in parallel other lower priority MBMS sessions according to the
requirements defined in sub-clause 8.1.5.2.1.
If the mobile station in broadcast/multicast receive mode receives a
notification of a higher priority MBMS session which does not include the MBMS
bearer description and requests the counting procedure, then the mobile
station shall suspend the reception of the lower priority MBMS session(s) and
perform the MBMS packet access procedure for the higher priority MBMS session,
as specified in sub-clause 7.7.1. After performing the MBMS packet access
procedure, if the MBMS bearer description(s) for the suspended lower priority
MBMS session(s) is (are) still stored in the mobile station, then the mobile
station may attempt to resume the reception of the suspended MBMS session(s)
(see sub-clause 8.1.4.5).
##### 8.1.5.2.5 Reception of assignment of higher priority MBMS session whilst
receiving lower priority MBMS session(s)
If the mobile station in broadcast/multicast receive mode receives an
assignment for a higher priority MBMS session, the mobile station shall act
upon the assignment and may drop lower priority MBMS sessions following the
requirements defined in sub-clause 8.1.5.2.1.
##### 8.1.5.2.6 Cell change whilst receiving multiple MBMS sessions (with MBMS
supported by the network in the target cell)
When the mobile station reselects a new (target) cell, the mobile station
shall according to its capabilities:
\- first perform fast reception resumption (see sub-clause 8.1.6.2) of as many
MBMS sessions as possible in decreasing order of priority, for the sessions
for which the mobile station has received in the old cell MBMS NEIGHBOURING
CELL INFORMATION messages containing the MBMS bearer description of these
sessions in this target cell;
NOTE 1: The mobile station shall not perform MBMS packet access procedure for
requesting an MS_ID for any MBMS session, with an associated uplink feedback
channel, whose priority is lower than the priority of at least one of the MBMS
sessions for which the MBMS bearer description is not known.
\- then perform MBMS packet access and establishment procedure as specified in
sub-clause 7.7 for the sessions for which the MBMS bearer description is not
known, in decreasing order of priority. The mobile station shall not operate
two concurrent MBMS packet access and establishment procedures.
NOTE 2: The MBMS packet access procedure is performed in passive mode (i.e.
the mobile station notifies the network in the MBMS SERVICE REQUEST message
that it shall not be counted) for any MBMS session whose priority is lower
than the priority of at least one of the MBMS sessions already resumed. The
mobile station may then perform MBMS packet access procedure for requesting an
MS_ID for the remaining MBMS sessions, with an associated uplink feedback
channel, following the requirements defined in sub-clause 8.1.5.2.1.
NOTE 3: The mobile station shall not perform an MBMS packet access procedure
for an MBMS session, if the session duration timer for this MBMS session in
the mobile station has expired.
##### 8.1.5.2.7 Resource reassignment for at least one of the received MBMS
radio bearers
If a mobile station is receiving multiple MBMS radio bearers and any of these
is reconfigured by the network in a way that the reception of all of them is
no longer consistent with the capabilities of the mobile station, then the
mobile station shall continue receiving the highest priority MBMS session and
as many as possible of the other MBMS sessions, following the requirements
defined in sub-clause 8.1.5.2.1.
### 8.1.6 MBMS reception resumption after cell reselection
#### 8.1.6.1 Default behaviour
If a mobile station in broadcast/multicast receive mode reselects a new
(target) cell for which it does not have the description of (any of) the MBMS
radio bearer(s) being allocated in this target cell for the MBMS session(s)
the mobile station was receiving in the old serving cell, the mobile station
shall follow the default behaviour in the target cell, as described in this
sub-clause. Otherwise, the mobile station shall perform fast reception
resumption, as described in sub-clause 8.1.6.2.
In the target cell, the mobile station shall first perform the acquisition of
the system information on the (P)BCCH.
If the _GPRS Cell Options_ IE denotes that the MBMS procedures are supported
by the target cell, the mobile station shall then perform the MBMS packet
access and establishment procedures, as specified in sub-clause 7.7, for the
MBMS session the mobile station was receiving in the old serving cell.
In case of reception of multiple sessions, the mobile station shall obey the
procedures described in sub-clause 8.1.5.2.6.
#### 8.1.6.2 Fast reception resumption
If a mobile station in broadcast/multicast receive mode reselects a new
(target) cell for which it has received the description of (at least one of)
the MBMS radio bearer(s) being allocated in this target cell for the MBMS
session(s) the mobile station was receiving in the old serving cell (see sub-
clauses 5.5.1.1 and 7.7.3), the mobile station shall perform fast reception
resumption in the target cell, as described in this sub-clause. Otherwise, the
mobile station shall follow the default behaviour, as described in sub-clause
8.1.6.1.
In the target cell, the mobile station shall immediately resume the reception
of the MBMS session for which the MBMS bearer description is known from the
old serving cell, without first performing the acquisition of the system
information. If the mobile station fails to resume the reception of the MBMS
session for any reason and does not have any other MBMS bearer description
known for any other MBMS session possibly received in the old serving cell,
the mobile station shall then follow the default behaviour (see sub-clause
8.1.6.1).
The acquisition of the system information shall be performed simultaneously
with the reception of the MBMS session. If the network has indicated that the
system information for the resumed MBMS session is not sent on the PACCH (with
the MBMS In-band Signalling Indicator information element included in the MBMS
NEIGHBOURING CELL INFORMATION message transmitted in the old serving cell),
the mobile station shall perform the acquisition of the system information on
the (P)BCCH. In this case, the reception of the MBMS session may need to be
suspended during such acquisition. The mobile station may then attempt to
resume the reception of the suspended MBMS session, according to the
requirements and the procedures described in sub-clause 8.1.4.5. If the
network has indicated that the system information for the resumed MBMS session
is sent on the PACCH, the mobile station shall perform the acquisition of the
system information on the PACCH, as described in sub-clause 5.5.2.1.3b.
If the mobile station has received the indication (via the MBMS NEIGHBOURING
CELL INFORMATION message transmitted in the old serving cell) that, for the
MBMS radio bearer corresponding to the resumed MBMS session, an uplink
feedback channel is established in the new cell, the mobile station initiates
the MBMS packet access procedure either:
\- on the MPRACH, if the mobile station is in DRX mode (e.g. it is not
involved in a _routeing area update_ procedure) and received the indication
that an MPRACH is allocated on the uplink feedback channel (sub-clause
7.7.1.4), or
\- on a PCCCH (sub-clause 7.7.1.2) or,
\- if a packet control channel is not allocated in the cell, on a CCCH (sub-
clause 7.7.1.3).
In case of reception of multiple sessions, the mobile station shall obey the
procedures described in sub-clause 8.1.5.2.6.
### 8.1.7 Packet Application Information
#### 8.1.7.1 General
The Packet Application Transfer procedure enables an application on the
network side to transfer Application data to a mobile station.
The network may send the PACKET APPLICATION INFORMATION message to a mobile
station in packet transfer mode or in dual transfer mode on the PACCH with one
of the following applications:
#### 8.1.7.2 Earthquake and Tsunami Warning System (ETWS)
The PACKET APPLICATION INFORMATION message enables the network to transfer an
ETWS Primary Notification message, see 3GPP TS 23.041, to a mobile station.
A mobile station operating in packet transfer mode or in dual transfer mode
may receive a PACKET APPLICATION INFORMATION message on the PACCH, Since this
message may be segmented across more than two RLC/MAC control blocks, by using
extended RLC/MAC control message segmentation, the mobile station shall
attempt to acquire all segments of the PACKET APPLICATION INFORMATION message
before attempting to decode the message. Upon receiving the complete PACKET
APPLICATION INFORMATION message the ETWS Primary Notification message shall be
sent to upper layers.
## 8.2 Packet PDCH Release
The network may broadcast the PACKET PDCH RELEASE message on PACCH to indicate
one or more timeslots is no longer available for packet data service. In the
case where any of these timeslots belong to an assigned PDCH pair for a TBF in
RTTI configuration, the mobile stations that use any of these time slots
within their assigned TBF(s) in RTTI configuration shall consider both
timeslots that constitute such a PDCH pair as being released. When a mobile
station receives a PACKET PDCH RELEASE message, it shall immediately stop
transmitting and receiving on all assigned PDCHs, which are indicated as not
present in the TIMESLOTS_AVAILABLE field, remove those PDCHs from its list of
assigned PDCHs.
If all of the mobile station's assigned PDCHs are removed from its list of
assigned PDCHs, and, if at least one uplink TBF was in progress, the mobile
station shall perform an abnormal release with access retry (see sub-clause
8.7.2 and 3GPP TS 44.160). If no uplink TBFs were in progress, the mobile
station shall perform an abnormal release without retry (see sub-clause
8.7.1).
If the mobile station has been assigned an uplink control timeslot(s) and the
PACKET PDCH RELEASE message releases this PDCH/PDCH pair, and if at least one
uplink TBF was in progress, the mobile station shall perform an abnormal
release with access retry (3GPP TS 44.160). If no uplink TBFs were in
progress, the mobile station shall perform an abnormal release without retry
(see sub-clause 8.7.1).
If the current timeslot configuration requires Shifted USF operation (see sub-
clause 8.1.1.2.4) and the PACKET PDCH RELEASE message modifies the
configuration in such a way that Shifted USF operation is no longer required
then normal USF operation shall apply after a suitable reaction time as
defined in 3GPP TS 45.010.
## 8.3 Procedure for measurement report sending in Packet Transfer mode
The procedure for NC measurement report sending shall be initiated by the
mobile station at expiry of the NC measurement report interval timer T3158
(see sub-clause 5.6.1 and 3GPP TS 44.160). At expiry of the timer T3158 the
mobile station shall restart the timer T3158, perform the measurements and
send either the PACKET MEASUREMENT REPORT message containing the 'NC
measurement report struct' or the PACKET ENHANCED MEASUREMENT REPORT message
on PACCH.
Following a downlink TBF establishment, the PACKET MEASUREMENT REPORT or
PACKET ENHANCED MEASUREMENT REPORT message shall not be sent on the uplink
PACCH associated with this TBF until two (EGPRS) PACKET DOWNLINK ACK/NACK
message or EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 messages have been sent to
the network.
## 8.4 Network controlled cell reselection procedure
A cell reselection is controlled either by the mobile station or by the
network.
When the cell reselection is controlled by the mobile station, the mobile
station shall apply the cell reselection procedure defined in sub-clause
5.5.1.1 (_A/Gb mode_) or 3GPP TS 44.160.
When a cell reselection is initiated by the network for an individual mobile
station, the cell change order procedure is started by sending a PACKET CELL
CHANGE ORDER message to the mobile station on the PCCCH or PACCH.
The PACKET CELL CHANGE ORDER message contains:
\- The characteristics of the new cell that are necessary to identify it (i.e.
BSIC + BCCH frequency);
\- The NC measurement parameters valid for the mobile station in the new cell
(NETWORK_CONTROL_ORDER and optionally: NC_NON_DRX_PERIOD,
NC_REPORTING_PERIOD_I and NC_REPORTING_PERIOD_T);
\- The IMMEDIATE_REL parameter;
\- The CCN_ACTIVE parameter and optionally the CONTAINER_ID referring to the
one included in received instances of the PACKET NEIGHBOUR CELL DATA message.
For a multi-RAT mobile station supporting UTRAN, the PACKET CELL CHANGE ORDER
message may contain information on a UTRAN target cell, together with the
IMMEDIATE_REL parameter; the establishment of UTRAN channel(s) and subsequent
measurement reporting are defined in 3GPP TS 25.331.
For a multi-RAT mobile station supporting "CCN towards E-UTRAN, E-UTRAN
Neighbour Cell measurement reporting and Network controlled cell reselection
to E-UTRAN", the PACKET CELL CHANGE ORDER message may contain information on
an E-UTRAN target cell; in this case, the establishment of channel(s) and
subsequent measurement reporting are defined in 3GPP TS 36.331.
Upon receipt of the PACKET CELL CHANGE ORDER message the mobile station shall
start timer T3174 and apply the cell reselection procedure defined in sub-
clause 5.5.1.1 (_A/Gb mode_) or 3GPP TS 44.160, with the additional rule that
an immediate abort of operation in the old cell may be required by the network
through the IMMEDIATE_REL field, except for the acknowledgement, by means of a
PACKET CONTROL ACKNOWLEDGEMENT message, of a valid RRBP field possibly
included in the PACKET CELL CHANGE ORDER message. A UTRAN capable mobile
station ordered to a UTRAN cell shall obey the PACKET CELL CHANGE ORDER
message irrespective of whether the target cell is known or not known (see
3GPP TS 25.133 and 3GPP TS 25.123); an E-UTRAN capable mobile station ordered
to an E-UTRAN cell shall obey the PACKET CELL CHANGE ORDER message
irrespective of whether the target cell is known or not known (see 3GPP TS
36.133).
If the timers related to measurement reporting expire while the reselection
procedure has not yet been completed, these timers shall be restarted so that
the mobile station resumes the measurement reporting procedures once camped on
the new cell.
### 8.4.1 Network controlled cell reselection completion
The mobile station shall regard the network controlled cell reselection
procedure as successfully completed when it has performed access and
successfully completed contention resolution in the new cell, or the GMM READY
timer (see 3GPP TS 24.008) stops running during the execution of the
procedure. The mobile station shall then stop timer T3174.
NOTE 1: Access may be performed for the establishment of a dedicated
connection or an uplink TBF.
NOTE 2: If the GMM READY timer stops running, the mobile station shall apply
the network controlled cell re-selection mode NC0 (i.e., cell re-selection
using 'normal MS control', see 3GPP TS 45.008).
In case of inter-RAT network controlled cell reselection, the mobile station
shall regard the network controlled cell re-selection as successfully
completed according to specifications of the target RAT, or when the GMM READY
timer (see 3GPP TS 24.008) stops running during the execution of the
procedure. The mobile station shall then stop timer T3174.
NOTE 3: In case of network controlled cell reselection to UTRAN, the procedure
is regarded as succesfully completed when the mobile station receives an RRC
CONNECTION SETUP message in the target cell (see 3GPP TS 25.331). In case of
network controlled cell reselection to E-UTRAN, the procedure is regarded as
succesfully completed when the mobile station receives an _RRCConnectionSetup_
message in the target cell (see 3GPP TS 36.331).
### 8.4.1b (void)
### 8.4.2 Abnormal cases
In the following cases, the mobile station shall determine that the network
controlled cell reselection procedure has failed:
\- The PACKET CELL CHANGE ORDER message commands the mobile station to a
frequency in a frequency band not supported by the mobile station. _Cause:_
\"frequency not implemented\";
\- The PACKET CELL CHANGE ORDER message is received while the mobile station
is not in dual transfer mode but a circuit switched connection is on going.
_Cause:_ \"on-going CS connection\";
\- In _A/Gb mode_ , the PACKET CELL CHANGE ORDER message is received and the
GMM READY timer (see 3GPP TS 24.008) is not running (i.e., mobile station in
GMM STAND-BY state). _Cause,_ if the GMM READY timer has a negotiated value
equal to zero: \"Forced to the Standby State\". _Cause,_ if the GMM READY
timer has a negotiated value greater than zero: \"MS in GMM Standby state\";
\- Access is denied in the new cell (i.e., the mobile station receives an
IMMEDIATE ASSIGNMENT REJECT, a PACKET ASSIGNMENT REJECT or, in a UTRAN cell,
an RRC CONNECTION REJECT message or fails to establish an RRC connection in an
E-UTRAN cell as specified in 3GPP TS 36.331). _Cause:_ \"Immediate Assign
Reject or Packet Access Reject on target cell\";
\- The mobile station is unable to synchronise to the new cell (see 3GPP TS
45.008) or the timer T3174 expires before a successful completion of the
network controlled cell reselection procedure. _Cause:_ \"No response on
target cell\";
\- Due to any other reason (e.g. unknown or unsupported target cell
information). In this case the MS shall set the ARFCN and BSIC fields to the
value zero and set the cause to value \"frequency not implemented\".
If the mobile station determines that the network controlled cell reselection
procedure has failed, the mobile station shall stop timer T3174 (if it is
still running) and start timer T3176. The mobile station shall return to the
old cell, where it may trigger a cell update or other GMM specific procedure.
In case the mobile station synchronised and attempted to access the new cell
before returning to the old cell, the mobile station shall trigger a cell
update or other GMM specific procedure, as appropriate according to the GMM
requirements (see 3GPP TS 24.008).
The mobile station shall send a PACKET CELL CHANGE FAILURE message with the
appropriate cause value to the network in the old cell and stop timer T3176.
The PACKET CELL CHANGE FAILURE message may be sent on PACCH when the mobile
station is in packet transfer mode or MAC-Shared state. Alternatively, the
mobile station may initiate random access with access type \"single block
without TBF establishment\" (PCCCH) / \"single block packet access\" (CCCH)
and send the PACKET CELL CHANGE FAILURE message using an allocated single
uplink block.
A mobile station shall ignore a PACKET CELL CHANGE ORDER message received
while in dual transfer mode (refer to in 3GPP TS 44.018).
If a MS which is UTRAN capable is commanded to a 3G-target cell whose
description is in contradiction to the UTRAN capabilities of the mobile
station, it shall include the UTRAN FDD target cell or UTRAN TDD Target cell
IE in the PACKET CELL CHANGE FAILURE message.
If a mobile station which is E-UTRAN capable is commanded to an E-UTRAN target
cell whose description is in contradiction to the E-UTRAN capabilities of the
mobile station, it shall include the _E-UTRAN target cell_ IE in the PACKET
CELL CHANGE FAILURE message.
In case the network controlled cell reselection procedure fails and the MS
returns to the old cell, the MS shall delete any stored NC measurement
parameters and revert to the broadcast parameters. If individual priorities
are indicated in the PACKET CELL CHANGE ORDER message, they shall be deleted.
If the mobile station is unable to synchronise to the old cell (see 3GPP TS
45.008), or if timer T3176 expires, the mobile station shall cancel the
sending of the PACKET CELL CHANGE FAILURE message and perform an autonomous
cell re-selection.
## 8.5 Measurement Order procedures in Packet Transfer mode
The network may initiate the measurement order procedure by sending a PACKET
MEASUREMENT ORDER message on the PACCH to a mobile station in packet transfer
mode or in MAC-Shared state. The PACKET MEASUREMENT ORDER message overrides a
broadcast PSI5 message.
The PACKET MEASUREMENT ORDER message may also contain the following optional
parameters:
\- NC Measurement Parameters (NETWORK_CONTROL_ORDER; NC_NON_DRX_PERIOD;
NC_REPORTING_PERIOD_I; NC_REPORTING_PERIOD_T; NC_FREQUENCY_LIST);
\- Enhanced measurement reporting.
Upon receipt of the PACKET MEASUREMENT ORDER message, the mobile station shall
store the received parameters and obey the NETWORK_CONTROL_ORDER as specified
in 3GPP TS 45.008 and in sub-clause 5.6.
## 8.6 PACKET CONTROL ACKNOWLEDGEMENT
A PACKET CONTROL ACKNOWLEDGEMENT message shall always be sent in the uplink
block specified by the corresponding valid RRBP field of a downlink RLC/MAC
control block, and not in any other uplink block that may be allocated to the
mobile station. However the transmission of the PACKET CONTROL ACKNOWLEDGEMENT
message takes precedence over the transmission of allocated uplink radio
blocks or the reception of PCCCH or assigned PDTCH radio blocks. If
transmission of the PACKET CONTROL ACKNOWLEDGEMENT message would result in
more than the maximum Tx timeslots per TDMA frame allowed by the multislot
class, transmission of the highest numbered PDCH(s) shall be omitted.
In dual transfer mode the reception and transmission of assigned TCH radio
blocks on dedicated resources takes precedence over the transmission of the
PACKET CONTROL ACKNOWLEDGEMENT.
A mobile station in packet transfer mode in a Downlink Dual Carrier
configuration shall respond in the uplink radio block indicated by the RRBP
field on the same radio frequency channel as the one where the poll was
received. A mobile station in dual transfer mode in a Downlink Dual Carrier
configuration shall respond in the uplink radio block on the timeslot or the
PDCH pair indicated by the RRBP field (see sub-clause 10.4.5) on the uplink
radio frequency channel where the dedicated resource is assigned regardless of
which downlink radio frequency channel the poll was received on, unless this
would prevent the transmission or reception of a TCH radio block on a
dedicated resource.
## 8.7 Abnormal cases
### 8.7.0 General
The following abnormal cases apply:
\- If the PDCH containing the mobile station's only assigned TAI value is
removed, the mobile station shall, if it has at least one ongoing uplink TBF,
perform an abnormal release with access retry (see sub-clause 8.7.2, 3GPP TS
44.160), and otherwise shall perform an abnormal release without retry (see
sub-clause 8.7.1);
\- If the NC Measurement Parameters are sent in more than one instance of the
PACKET MEASUREMENT ORDER message, the mobile station shall not obey the
measurement order until all instances of the message has been correctly
received;
\- If the mobile station receives a Timing Advance Index and a Timing Advance
Timeslot Number for one direction within a PACKET POWER CONTROL/TIMING ADVANCE
message and the corresponding TBF does not exist, the Timing Advance Index and
the Timing Advance Timeslot Number for that direction shall be ignored;
\- While a TBF is in progress, if a mobile station receives a PACKET UPLINK
ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, PACKET UPLINK ACK/NACK, PACKET
TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE or a PACKET CS RELEASE
INDICATION message with message escape bit indicating EGPRS (resp. GPRS)
contents whereas the current TBF mode is GPRS (resp. EGPRS), the mobile
station shall ignore the message;
\- While a TBF is in progress, if a mobile station receives a PACKET DOWNLINK
ASSIGNMENT message without extension message content related to R99 whereas
the current TBF mode is EGPRS, the mobile station shall ignore the message;
\- While a TBF is in progress, if a mobile station receives a PACKET DOWNLINK
ASSIGNMENT message with extension message content related to R99 whereas the
current TBF mode is GPRS, the mobile station shall ignore the EGPRS related
information and act as a GPRS MS not supporting EGPRS;
> \- In Iu mode, if the network receives a PACKET CONTROL ACKNOWLEDGEMENT
> message with an incorrect timeslot in the TN_RRBP field for the given radio
> block, then the message shall be ignored;
>
> \- If a mobile station receives a PACKET UPLINK ASSIGNMENT, PACKET DOWNLINK
> ASSIGNMENT, MULTIPLE TBF UPLINK ASSIGNMENT, MULTIPLE TBF DOWNLINK
> ASSIGNMENT, PACKET TIMESLOT RECONFIGURE, MULTIPLE TBF TIMESLOT RECONFIGURE
> or PACKET CS RELEASE INDICATION message that would result in one or more
> TBFs with FANR activated and one or more TBFs with FANR not activated when
> considering all concurrent TBFs assigned to that mobile station, the mobile
> station shall perform an abnormal release with access retry if there is at
> least one ongoing uplink TBF (see sub-clause 8.7.2), otherwise it shall
> perform an abnormal release without retry (see sub-clause 8.7.1);
\- If a mobile station receives a PACKET CS RELEASE INDICATION message
including an inconsistent RTTI configuration assignment as per the conditions
specified in sub-clause 7.1.3.6, the mobile station shall perform an abnormal
release with access retry if there is at least one ongoing uplink TBF (see
sub-clause 8.7.2), otherwise it shall perform an abnormal release without
retry (see sub-clause 8.7.1).
### 8.7.1 Abnormal release without retry
The mobile station shall abort all TBFs on PDCH(s) in progress and report an
RLC/MAC failure to upper layers. The mobile station in packet transfer mode or
MAC-Shared state shall return to packet idle mode or MAC-Idle state; the
mobile station in dual transfer mode or MAC-DTM state shall return to
dedicated mode or MAC-Dedicated state. Upon enhanced CS release while in dual
transfer mode, on receipt of PACKET CS RELEASE INDICATION message, the mobile
station shall abort all TBFs in progress and return to packet idle mode when
the RR connection is released. Upon mobile originated or mobile terminated RR
connection establishment, on receipt of IMMEDIATE ASSIGNMENT message while in
packet transfer mode, the mobile station shall enter dedicated mode. The DRX
mode procedures shall be applied as specified in sub-clause 5.5.1.5 and 3GPP
TS 44.160.
### 8.7.2 Abnormal release with access retry
The mobile station shall abort all TBFs in progress. The mobile station in
packet transfer mode shall return to packet idle mode and initiate the
establishment of one or more new uplink TBFs, using the procedures on CCCH or
PCCCH, as defined in sub-clause 7.1.
The mobile station in dual transfer mode shall return to dedicated mode and
initiate the establishment of one new uplink TBF (if exclusive allocation is
used) or one or more new uplink TBFs (if exclusive allocation is not used)
using the appropriate DTM procedure on the main DCCH, defined in 3GPP TS
44.018. Upon enhanced CS release, on receipt of PACKET CS RELEASE INDICATION
message, the mobile station shall abort all TBFs in progress and return to
packet idle mode and initiate the establishment of one or more new uplink
TBFs, using the procedures on CCCH or PCCCH when the RR connection is
released.
Upon mobile originated or mobile terminated RR connection establishment, on
receipt of IMMEDIATE ASSIGNMENT message while in packet transfer mode, the
mobile station shall enter dedicated mode and initiate the establishment of
one new uplink TBF (if exclusive allocation is used) or more new uplink TBFs
(if exclusive allocation is not used) using the appropriate DTM procedure on
the main DCCH, as defined in 3GPP TS 44.018.
In case the mobile station fails to establish a new uplink TBF, the mobile
station shall report an RLC/MAC failure to upper layers for that TBF. The DRX
mode procedures shall be applied, as specified in sub-clause 5.5.1.5.
### 8.7.3 Abnormal release with system information
The mobile station shall abort all of the TBFs indicated in the assignment
message containing invalid frequency parameter information and proceed as
follows:
\- If there are no on-going TBFs it shall immediately return to the BCCH and
reread all relevant BCCH and PBCCH information;
\- If the mobile station had one ongoing uplink TBF when the abnormal release
occurred, the mobile station shall then perform an abnormal release with
access retry (see sub-clause 8.7.2 and 3GPP TS 44.160);
\- If the mobile station had no ongoing uplink TBFs when the abnormal release
occurred, it shall perform an abnormal release without retry (see sub-clause
8.7.1);
\- Otherwise, the mobile station shall maintain all its ongoing TBFs that were
in progress prior to receiving the assignment message containing invalid
frequency parameter information and provide a failure indication to the upper
layers associated with the aborted TBFs.
### 8.7.4 Abnormal release with RR connection establishment retry
The mobile station shall abort all TBFs in progress and report an RLC/MAC
failure to upper layers. The mobile station in packet transfer mode shall
return to the CCCH configuration, enter packet idle mode and initiate the
establishment of the RR connection as specified in 3GPP TS 44.018.
## 8.8 Network Assisted Cell Change procedures
### 8.8.1 Neighbour Cell System Information Distribution
A mobile station in packet transfer mode or in MAC-Shared state may receive
neighbouring cell system information for GSM neighbouring cells on PACCH.
System Information messages are not distributed for 3G neighbouring cells or
E-UTRAN neighbouring cells. The neighbouring cell system information is
contained in one or more instances of the PACKET NEIGHBOUR CELL DATA message
and the mobile station is addressed by its TFI as follows:
\- If a PBCCH is allocated in the neighbouring cell, the instances of the
message may contain the PSI1, a consistent set of PSI2 and the PSI14 messages;
\- If no PBCCH is allocated in the neighbouring cell, the instances of the
message may contain the SI3, SI13 and, if available, SI1 messages. If SI1 is
broadcast in the target cell, the network shall include the SI1 message as the
first SI message contained in the set of PACKET NEIGHBOUR CELL DATA messages,
starting from the message with CONTAINER_INDEX=0.
A mobile station, which receives this information shall, independent of NC
mode or CCN mode, store the last received set of the information for at least
one cell. The received system information can then be used for initial access
when entering the designated neighbour cell.
All instances of the PACKET NEIGHBOUR CELL DATA message form a complete
container for a certain neighbour cell. The container is addressed by a
container identity (CONTAINER_ID) in each instance and optionally by the ARFCN
for BCCH and the BSIC of the neighbour cell. The CONTAINER_ID shall then be
included in the PACKET CELL CHANGE CONTINUE or the PACKET CELL CHANGE ORDER
message together with the ARFCN and the BSIC. This is in order to map the cell
identity to the container identity for which neighbour cell information was
received in the PACKET NEIGHBOUR CELL DATA messages. If the ARFCN and BSIC are
given for a set of PACKET NEIGHBOUR CELL DATA messages, it is sufficient to
include this information in only one instance in the set.
In order to ensure a consistent distribution and decoding of (P)SI messages
contained in PACKET NEIGHBOUR CELL DATA messages, the following rules shall
apply for PACKET NEIGHBOUR CELL DATA messages with the same container
identity:
\- Whenever the network starts sending a set of PACKET NEIGHBOUR CELL DATA
message instances, the first PACKET NEIGHBOUR CELL DATA message instance shall
be started with CONTAINER_INDEX=0;
\- All subsequent instances of a PACKET NEIGHBOUR CELL DATA message set shall
be sent in ascending order of CONTAINER_INDEX value. For retransmission
purposes it is allowed to send a PACKET NEIGHBOUR CELL DATA message with the
same CONTAINER_INDEX value and the same content more than once;
\- Whenever the MS receives a PACKET NEIGHBOUR CELL DATA message instance with
CONTAINER_INDEX=0 or with a CONTAINER_INDEX value that is less than the
CONTAINER_INDEX value of the last received PACKET NEIGHBOUR CELL DATA message
instance, it shall delete any PACKET NEIGHBOUR CELL DATA message instances it
may have stored and the extracted system information of the neighbour cell;
\- If the MS receives a PACKET NEIGHBOUR CELL DATA message with a different
ARFCN and BSIC than was indicated in one or more already received PACKET
NEIGHBOUR CELL DATA message instances, it shall delete any PACKET NEIGHBOUR
CELL DATA message instances it may have stored and the extracted system
information of the neighbour cell;
\- 30 s after the reception of the latest PACKET NEIGHBOUR CELL DATA message
instance, the MS shall delete any PACKET NEIGHBOUR CELL DATA message instances
it may have stored the extracted system information of the neighbour cell.
When the mobile station receives the PACKET CELL CHANGE ORDER or the PACKET
CELL CHANGE CONTINUE message the mobile station shall transmit a PACKET
CONTROL ACKNOWLEDGMENT message in the specified uplink radio block if a valid
RRBP field is received as part of the message; the mobile station may then
switch to a new cell. If the mobile station has collected all required
instances of the PACKET NEIGHBOUR CELL DATA message for the new cell already
when in the old cell, then it may perform access depending on whether the
PACKET PSI STATUS (or PACKET SI STATUS if PBCCH is not supported in the new
cell) procedures are supported by the network in the new cell (see below). The
required instances of the Packet Neighbour Cell Data message include PSI1, a
consistent set of PSI2 messages and PSI14 (if the new cell has a PBCCH
allocated) or SI3, SI13 and, if available, SI1 messages (if the new cell does
not have a PBCCH allocated). If the MS is able to decode the first SI message
contained in the set of PACKET NEIGHBOUR CELL DATA messages but it was not the
SI1 message, the MS shall conclude that SI1 is not broadcast in that
particular cell in determining when packet access is allowed in the cell (see
sub-clause 5.5.1.3).
If not all required instances of the PACKET NEIGHBOUR CELL DATA message have
been received before the cell change, the MS shall first obtain the PBCCH
description (if available) and the missing system information messages before
making initial access in the new cell. However, it may switch to the new cell
as soon as PSI1 has been received (if PBCCH is supported in the new cell) or
SI13 has been received (if PBCCH is not supported in the new cell).
Once all the required system information messages have been received, and if
the new cell supports the PACKET PSI STATUS (respectively PACKET SI STATUS)
procedures, the mobile station may perform access in the new cell and shall
then use these procedures for acquisition of PSI (respectively SI) messages
(see sub-clause 5.5.1.4.3). If the PACKET PSI STATUS (respectively PACKET SI
STATUS) procedures are not supported by the network in the new cell, then the
MS is still required to make at least one attempt to receive the complete set
of PSI messages on PBCCH (respectively make at least one attempt to receive
other SI messages that may be scheduled within one TC cycle on BCCH) prior to
perform access in the new cell (see sub-clauses 5.5.1.2 and 5.5.1.3 and 3GPP
TS 44.160).
### 8.8.2 CCN setting procedure
The network uses the parameter CCN_ACTIVE in the GPRS Cell Options IE on the
BCCH (SI13) or PBCCH (PSI1/PSI13/PSI14) to indicate in the cell whether CCN is
enabled for cell reselection towards GSM cells.
The network uses the parameter 3G_CCN_ACTIVE on the BCCH (SI2quater) or PBCCH
(PSI3quater) to indicate in the cell whether CCN is enabled for cell
reselection towards 3G cells.
The network uses the parameter E-UTRAN_CCN_ACTIVE on the BCCH (SI2quater) to
indicate in the cell whether CCN is enabled for cell reselection towards
E-UTRAN cells.
\- If CCN_ACTIVE is not provided or it indicates that CCN is disabled in the
cell, the mobile stations shall not follow the CCN procedures towards GSM
cells. CCN_ACTIVE can also be individually sent to the mobile station in
either a PACKET MEASUREMENT ORDER, a PACKET CELL CHANGE ORDER message or a PS
HANDOVER COMMAND message. In the latter cases, the setting applies in the
target cell;
\- If 3G_CCN_ACTIVE is not provided or it indicates that CCN is disabled in
the cell, the mobile stations shall not follow the CCN procedures towards 3G
cells. 3G_CCN_ACTIVE can also be individually sent to the mobile station in
either a PACKET MEASUREMENT ORDER, a PACKET CELL CHANGE ORDER message or a PS
HANDOVER COMMAND. In the latter cases, the setting applies in the target cell;
\- If E-UTRAN_CCN_ACTIVE is not provided or it indicates that CCN is disabled
in the cell, the mobile station shall not follow the CCN procedures towards
E-UTRAN cells. E-UTRAN_CCN_ACTIVE can also be individually sent to the mobile
station in either a PACKET MEASUREMENT ORDER, a PACKET CELL CHANGE ORDER or a
PS HANDOVER COMMAND message. In the latter cases, the setting applies in the
target cell;
\- If CCN_ACTIVE indicates that CCN is enabled in the cell and a mobile
station determines a cell re-selection towards one of its neighbouring GSM
cells is required, it shall first check the corresponding CCN_SUPPORTED
parameter if available. This allows the network to enable CCN mode towards
some but not all neighbour GSM cells.
NOTE: It is not possible for the network to enable CCN mode towards individual
3G or E-UTRAN neighbour cells.
An individual setting of CCN shall take precedence over the broadcast setting
of CCN. The latest individual ordered setting of CCN is the valid one. An
individual setting of CCN is only valid within the cell it is ordered for. CCN
is applicable to a mobile station in Network Control mode NC0 and NC1 but not
in mode NC2 that takes precedence over CCN.
### 8.8.2a CCN support description
The CCN Support description contains the CCN_SUPPORTED parameter for each GSM
cell of the GSM Neighbour Cell list.
If there is no PBCCH allocated in the cell, see 3GPP TS 44.018.
If there is a PBCCH allocated in the cell, the parameter can be provided in
the PSI3 message or any instance of the PSI3bis message. In that case, the
bitmap applies to the GSM Neighbour Cell list having the same PSI3_CHANGE_MARK
as the message in which it is provided.
CCN_SUPPORTED parameter can also be provided in a PACKET CELL CHANGE ORDER or
a PACKET MEASUREMENT ORDER message. In this case, the bitmap applies to the
updated GSM Neighbour Cell list.
Each CCN_SUPPORTED bit of this description relates to indices of the GSM
Neighbour Cell list, starting with index 0. The CCN Support description may be
received before the corresponding GSM Neighbour Cell list.
Indices exceeding the value 95 or the number of cells in the GSM Neighbour
Cell list (whichever is the lowest) shall be ignored. If there are fewer
indices than the number of cells in the GSM Neighbour Cell list, the value 0
shall be assumed for the missing bits.
When this information is not present but CCN is enabled in the serving cell,
the mobile station shall assume that CCN is enabled towards all neighbour
cells.
### 8.8.3 Cell Change Notification procedure
If CCN is enabled towards the target cell (see sub-clause 5.5.1.1a and 3GPP TS
44.160), the mobile station shall behave as in network control mode NC0 or NC1
up to the point when a new cell has been chosen. If the target cell is a GSM
cell, the mobile station shall then check the CCN_SUPPORTED parameter, if
available, that was last received for that cell. This parameter can be sent on
BCCH or PBCCH or individually in PACKET MEASUREMENT ORDER or PACKET CELL
CHANGE ORDER or PS HANDOVER COMMAND messages.
If for a GSM cell the CCN_SUPPORTED parameter is available and if it indicates
that CCN mode shall not be entered towards that cell, then the mobile station
shall perform the cell change and not enter CCN mode. If the cell reselection
is triggered by the path loss criterion parameter C1 becoming negative, the
mobile station may perform the cell change without entering the CCN mode.
If the target cell is a GSM cell and the CCN_SUPPORTED parameter is available
and if it indicates that CCN mode shall be entered towards that cell or if the
CCN_SUPPORTED parameter is not available, then instead of performing the cell
change, the mobile station shall start timer T3206 and enter the CCN mode. At
the first possible opportunity, the MS shall then, when in CCN mode, inform
the network about the proposed target cell by sending a PACKET CELL CHANGE
NOTIFICATION message, stop timer T3206, start timers T3208 and T3210.
If the target cell is a 3G cell and if CCN is activated towards 3G cells or if
the target cell is an E-UTRAN cell and the mobile station supports "CCN
towards E-UTRAN, E-UTRAN Neighbour Cell measurement reporting and Network
controlled cell reselection to E-UTRAN" and if CCN is activated towards
E-UTRAN cells, then instead of performing the cell change, the mobile station
shall start timer T3206 and enter the CCN mode. At the first possible
opportunity, the MS shall then, when in CCN mode, inform the network about the
proposed target cell by sending a PACKET CELL CHANGE NOTIFICATION message,
stop timer T3206, start timers T3208 and T3210.
If the target cell is a GAN cell and the CCN_SUPPORTED parameter is available
and if it indicates that CCN mode shall be entered towards that cell or if the
CCN_SUPPORTED parameter is not available, then instead of performing the cell
change, the mobile station shall start timer T3206 and enter the CCN mode. At
the first possible opportunity, a mobile station may, when in CCN mode, send a
Packet Cell Change Notification message that includes the ARFCN/BSIC for the
GAN cell and indicates an RXLEV of 63 for the GAN cell and start timers T3208
and T3210.
The PACKET CELL CHANGE NOTIFICATION message shall contain the identity of the
proposed target cell. A GSM cell shall be identified by the ARFCN for the BCCH
and the BSIC. A 3G-FDD cell shall be identified by FDD_ARFCN, Bandwidth_FDD
and Scrambling code. A 3G-TDD cell shall be identified by TDD_ARFCN,
Bandwidth_TDD, Cell parameter and Sync Case. An E-UTRAN cell shall be
identified by EARFCN, Measurement Bandwidth and Physical Layer Cell Identity.
The PACKET CELL CHANGE NOTIFICATION message shall also contain measurement
reports for the proposed cell and for six other (see 3GPP TS 45.008) neighbour
cells, if available. If 3G Neighbour cells are reported, the type of report
for FDD cells are specified by the FDD_REP_QUANT parameter and the number of
3G reports in the message are specified by the parameters
FDD_MULTIRAT_REPORTING and TDD_MULTIRAT_REPORTING. These parameters may either
be broadcast on BCCH or PBCCH or sent to the mobile station in a PACKET
MEASUREMENT ORDER or PACKET CELL CHANGE ORDER message. If E-UTRAN Neighbour
cells are reported, the type of report is specified by the E-UTRAN_REP_QUANT
parameter and the maximum number of E-UTRAN reports in the message is
specified by the parameter E-UTRAN_MULTIRAT_REPORTING. These parameters may
either be broadcast on BCCH or sent to the mobile station in a PACKET
MEASUREMENT ORDER message.
In CCN mode the mobile station shall continue the data transfer and store
neighbour cell system information if received in instances of the PACKET
NEIGHBOUR CELL DATA message, but not perform the cell change. At receipt of
the first PACKET NEIGHBOUR CELL DATA message or PACKET CELL CHANGE CONTINUE
message or PACKET CELL CHANGE ORDER message or PS HANDOVER COMMAND message,
the mobile station shall stop the timer T3210.
The mobile station shall retransmit the PACKET CELL CHANGE NOTIFICATION
message once at the first possible opportunity when the timer T3210 expires.
The mobile station shall leave CCN mode when either CCN is no longer enabled
(towards all GSM, 3G or E-UTRAN neighbour cells with the
CCN_ACTIVE/3G_CCN_ACTIVE/E-UTRAN_CCN_ACTIVE bit or towards the cell that had
been re-selected) or when the network has responded with a PACKET CELL CHANGE
CONTINUE or PACKET CELL CHANGE ORDER message or a PS HANDOVER COMMAND message
or when either of the timers T3206 or T3208 have expired.
If the mobile station has been individually ordered to enable CCN, the order
is only valid within the cell where the order is given. When a cell change has
been performed using the cell reselection procedure, the mobile station shall
use CCN in the new cell only if individually ordered in the previous cell with
the PACKET CELL CHANGE ORDER message or if individually ordered or broadcast
in the new cell. When a cell change has been performed using the PS handover
procedure, the mobile station shall enable CCN in the new cell only if
individually ordered in the previous cell with the PS HANDOVER COMMAND message
or if individually ordered or broadcast in the new cell.
After receiving a PACKET CELL CHANGE NOTIFICATION message from the mobile
station the network can behave in different ways as described below:
1) The network responds with a PACKET CELL CHANGE CONTINUE message.\ If a
mobile station as response to a PACKET CELL CHANGE NOTIFICATION message
receives a PACKET CELL CHANGE CONTINUE message without receiving any neighbour
cell system information, the mobile station shall stop timer T3208, stop timer
T3210 if still running, leave CCN mode and continue cell reselection in
NC0/NC1 mode.
2) The network sends first necessary system information for the cell proposed
in the PACKET CELL CHANGE NOTIFICATION message if the proposed target cell is
a GSM cell in one or more instances of the PACKET NEIGHBOUR CELL DATA message
and sends then a PACKET CELL CHANGE CONTINUE message.\ The mobile station
shall store the received system information as specified in sub-clause 8.8.1.
When the first instance of the PACKET NEIGHBOUR CELL DATA message is received,
the mobile station shall stop timer T3210 if still running. When the PACKET
CELL CHANGE CONTINUE message is received, the mobile station shall stop timer
T3208, leave CCN mode and continue the cell reselection in NC0/NC1 mode
irrespective of the cell indicated in the ARFCN and BSIC parameters in the
PACKET CELL CHANGE CONTINUE message.
3) The network sends first necessary system information for the cell proposed
in the PACKET CELL CHANGE NOTIFICATION message if the proposed target cell is
a GSM cell, or for any other GSM cell, in one or more instances of the PACKET
NEIGHBOUR CELL DATA message and sends then a PACKET CELL CHANGE ORDER message
or a PS HANDOVER COMMAND message.\ \ The mobile station shall store the
received system information as specified in sub-clause 8.8.1. When the first
instance of the PACKET NEIGHBOUR CELL DATA message is received, the mobile
station shall stop timer T3210 if still running. When the PACKET CELL CHANGE
ORDER message is received, the mobile station shall stop timer T3208, leave
CCN mode and follow the procedures as specified for the PACKET CELL CHANGE
ORDER message (sub-clause 8.4) and in sub-clause 8.8.1. When the PS HANDOVER
COMMAND message is received, the mobile station shall stop timer T3208, leave
CCN mode and follow the procedures as specified for the PS HANDOVER COMMAND
message in sub-clause 8.10.4.
4) The network orders the mobile station into NC2 mode.\ A mobile station may
in response to a PACKET CELL CHANGE NOTIFICATION message receive a PACKET
MEASUREMENT ORDER message from the network indicating NC2 mode. When the
mobile station receives the NC2 order it shall leave CCN mode, stop timer
T3208, stop timer T3210 if still running, and go into NC2 mode.\ \ When the
NC2 mode has been ordered, the network may send PACKET NEIGHBOUR CELL DATA
messages on the PACCH before sending the PACKET CELL CHANGE ORDER message to
the mobile station. When the NC2 mode has been ordered, the network shall send
PACKET NEIGHBOUR CELL DATA messages on the PACCH before sending the PS
HANDOVER COMMAND message (see sub-clause 8.10.2) to the mobile station except
if these messages are not needed by the mobile station (i.e. for the case of
PS handover to a GAN cell).
5) No network response\ When timer T3210 expires, the mobile station shall
retransmit once the PACKET CELL CHANGE NOTIFICATION message at the first
possible opportunity.\ When timer T3208 expires, the mobile station shall
leave CCN mode and continue cell reselection in NC0/NC1 mode as described in
sub-clause 5.5.1.1 and 3GPP TS 44.160 and in 3GPP TS 45.008.
The CCN mode is only valid in packet transfer mode or in MAC-Shared state. If
the mobile station is in CCN mode when entering packet idle mode or MAC-Idle
state, the mobile station shall stop the timers T3206 and T3208, stop timer
T3210 if still running, leave CCN mode and continue the cell reselection
procedure according to the NC0/NC1 procedures. If PACKET NEIGHBOUR CELL DATA
messages are received on the PACCH before entering packet idle mode or MAC-
Idle state and the cell identity parameters are included, this information may
then be used at the next cell change.
If the cell reselection criteria have changed during the time the MS is in CCN
mode but the path loss criterion parameter C1 remains positive, the MS shall,
without notifying the network about the new preferred cell, remain in CCN mode
until the criteria for CCN mode are no longer fulfilled. When leaving CCN mode
the MS shall obey the new criteria according to the normal rules as specified
in sub-clause 5.5.1.1 and 3GPP TS 44.160 and in 3GPP TS 45.008 unless a PACKET
CELL CHANGE ORDER or a PS HANDOVER COMMAND message has been received (see
bullet 3 above). If the path loss criterion parameter C1 becomes negative
while the MS is in CCN mode, the MS may leave the CCN mode without notifying
the network and perform the cell change.
## 8.9 RR connection establishment in packet transfer mode
### 8.9.0 General
The initiation of the procedure and the assignment of resources for the
establishment of the RR connection are described in sub-clauses 8.9.1 and
8.9.2, respectively.
The establishment of the main signalling link and the completion of the
establishment of the RR connection are described in 3GPP TS 44.018.
### 8.9.1 Initiation
#### 8.9.1.1 Initiation by the mobile station
##### 8.9.1.1.1 Transmission of the PACKET CS REQUEST message
The RR connection establishment procedure is initiated by the RR entity of the
mobile station. Initiation is triggered by request from the MM sublayer to
enter dual transfer mode. The request from the MM sublayer to establish the RR
connection specifies an establishment cause.
The RR entity in the mobile station shall not request the establishment of an
RR connection while in packet transfer mode from the point where it receives a
PS HANDOVER COMMAND message until the PS handover procedure has been completed
(see sub-clause 8.10).
On receipt of the RR connection establishment request from upper layer the
mobile station shall start timer T3196. At expiry of timer T3196, the mobile
station shall release all ongoing TBFs and start RR connection establishment
as specified in 3GPP TS 44.018. If a mobile station that supports PS handover
receives a PS HANDOVER COMMAND message while T3196 is running it shall stop
T3196, abort its current attempt to establish an RR connection and not make
another attempt to establish an RR connection until completion of the PS
handover procedure.
If the contention resolution is not solved, the mobile station shall delay the
transmission of the PACKET CS REQUEST message until contention resolution is
solved.
If the countdown procedure has been started on all the ongoing uplink TBFs,
none of those TBFs is operating in extended uplink TBF mode and there is no
downlink TBF in progress, the mobile station may either send the PACKET CS
REQUEST message, or may immediately release the ongoing TBF(s) and start an RR
connection establishment as specified in 3GPP TS 44.018.
The mobile station shall initiate the RR connection establishment by sending
PACKET CS REQUEST messages on the PACCH. The mobile station is allowed to
retransmit the PACKET CS REQUEST message once while timer T3196 is running.
The second sending occurrence of this message shall take place at the first
suitable opportunity at least 0.75 s after the first transmission of that
message.
##### 8.9.1.1.2 Answer from the network
Upon receipt of a PACKET CS REQUEST message, the network shall answer to the
mobile station by encapsulating one of the following RR messages in the PACKET
CS COMMAND message, and sending the PACKET CS COMMAND message on PACCH:
\- DTM ASSIGNMENT COMMAND message (see sub-clause 8.9.2.1); or
\- IMMEDIATE ASSIGNMENT message (see sub-clause 8.9.2.2); or
\- IMMEDIATE ASSIGNMENT REJECT message (see sub-clause 8.9.2.3).
Upon receipt of PACKET CS COMMAND message encapsulating one of the above
messages the mobile station shall stop timer T3196.
#### 8.9.1.2 Initiation by the network
The network initiates the RR connection establishment procedure by sending a
PACKET CS COMMAND message to the mobile station on PACCH, encapsulating one of
the following RR messages:
\- DTM ASSIGNMENT COMMAND message (see sub-clause 8.9.2.1); or
\- IMMEDIATE ASSIGNMENT message (see sub-clause 8.9.2.2).
After sending the mobile station a PS HANDOVER COMMAND message the network
shall not initiate the establishment of an RR connection for that mobile
station until the PS handover procedure has been completed (see sub-clause
8.10).
### 8.9.2 Assignment
#### 8.9.2.1 Assignment of both dedicated and packet resource
The network may allocate both a dedicated channel and radio resources on one
or more PDCHs to be used by the mobile station and shall in this case send a
DTM ASSIGNMENT COMMAND encapsulated in a PACKET CS COMMAND message. Having
sent the DTM ASSIGNMENT COMMAND message, the network starts timer T3107,
specified in 3GPP TS 44.018. The allocated dedicated channel shall be of TCH
type. The network may also reallocate radio resources (PDCH(s)) in the DTM
ASSIGNMENT COMMAND message. If both the RR Packet Uplink Assignment and the RR
Packet Downlink Assignment information elements are omitted in the DTM
ASSIGNMENT COMMAND the network implicitly indicates that the current radio
resources shall be maintained. The mobile station shall act on the DTM
ASSIGNMENT COMMAND message as specified in 3GPP TS 44.018.
On receiving an encapsulated DTM ASSIGNMENT COMMAND message, the mobile
station shall establish the main signalling link using the procedure described
in 3GPP TS 44.018.
The completion of the establishment of the RR connection is described in 3GPP
TS 44.018.
If timer T3107 elapses before the successful establishment of the main
signalling link on the new channel, both the new CS channel and new PS
resources are released. If the encapsulated DTM ASSIGNMENT COMMAND message was
sent in response to a PACKET CS REQUEST message received from the mobile, then
the old PS resources are also released.
NOTE: If timer T3107 expires and the procedure was initiated by the network,
the subsequent network behaviour with respect to the old PS resources is
implementation dependent.
#### 8.9.2.2 Assignment of dedicated resource only
The network may allocate only a dedicated channel to the mobile station and
shall in this case send an IMMEDIATE ASSIGNMENT encapsulated in a PACKET CS
COMMAND message. Having sent the IMMEDIATE ASSIGNMENT message, the network
starts timer T3101, specified in 3GPP TS 44.018.
If a mobile station receives an encapsulated IMMEDIATE ASSIGNMENT message
which either does not specify a starting time or specifies a starting time
which has already elapsed, the mobile station shall immediately:
perform an abnormal release without retry (see sub-clause 8.7.1), if no uplink
TBF is in progress, or,
perform an abnormal release with access retry (see sub-clause 8.7.2), if one
or more uplink TBFs are in progress.
On receiving an encapsulated IMMEDIATE ASSIGNMENT message which specifies a
starting time which has not yet elapsed, the mobile station shall wait until
the specified start time. If, at that time, no uplink TBF is in progress, the
mobile station shall perform an abnormal release without retry (see sub-clause
8.7.1); else (i.e. one or more uplink TBFs are in progress) the mobile station
shall perform an abnormal release with access retry (see sub-clause 8.7.2).
The mobile station shall proceed with the assignment by establishing the main
signalling link using the procedure described in 3GPP TS 44.018. In respect of
the RR connection, the mobile station shall act on the starting time
information element, if present, as specified in 3GPP TS 44.018.
The completion of the establishment of the RR connection is described in 3GPP
TS 44.018.
If timer T3101 elapses before the main signalling link is established, the new
CS channel is released. If the encapsulated IMMEDIATE ASSIGNMENT message was
sent in response to a PACKET CS REQUEST message received from the mobile, the
old PS resources are also released.
NOTE: If timer T3101 expires and the procedure was initiated by the network,
the subsequent network behaviour with respect to the old PS resources is
implementation dependent.
#### 8.9.2.3 Rejection of the mobile station request
If no dedicated channel is available for assignment, the network may send to
the mobile station an IMMEDIATE ASSIGNMENT REJECT message encapsulated in a
PACKET CS COMMAND message.
On receipt of the encapsulated IMMEDIATE ASSIGNMENT REJECT message the mobile
station shall stop sending PACKET CS REQUEST messages, starts timer T3122 with
the indicated value (\"wait indication\" information element, specified in
3GPP TS 44.018) and continue in packet transfer mode.
The behaviour of the mobile station while timer T3122 is running is specified
in 3GPP TS 44.018.
### 8.9.3 (void)
### 8.9.4 Abnormal cases
#### 8.9.4.1 RR connection establishment initiated by the mobile station
If a failure occurs on the mobile station side before the successful
establishment of the main signalling link, the allocated channels are
released; the subsequent behaviour of the mobile station depends on the type
of failure and previous actions:
\- If the radio resources have been dropped before the network has a chance to
respond to the PACKET CS REQUEST, the network shall abort the current DTM
procedure.
\- If the mobile station does not receive the PACKET CS COMMAND message after
it has sent a corresponding PACKET CS REQUEST message (i.e. expiry of timer
T3196), the mobile station shall perform an abnormal release with the RR
connection establishment retry (see sub-clause 8.7.4).
\- If the mobile station receives the DTM ASSIGNMENT COMMAND or the IMMEDIATE
ASSIGNMENT message specifying frequencies that are not all in one frequency
band then the mobile station shall perform an abnormal release with RR
connection establishment retry (see sub-clause 8.7.4).
\- If the mobile station receives the DTM ASSIGNMENT COMMAND or the IMMEDIATE
ASSIGNMENT message specifying a frequency that is in a frequency band not
supported by the mobile station then the mobile station shall perform an
abnormal release with RR connection establishment retry (see sub-clause
8.7.4).
\- If the information in the DTM ASSIGNMENT COMMAND message does not properly
specify an uplink PDCH or specifies a multislot configuration that the mobile
station does not support (see 3GPP TS 45.002), the mobile station shall
perform an abnormal release with RR connection establishment retry (see sub-
clause 8.7.4).
\- If the information in the DTM ASSIGNMENT COMMAND message does not properly
specify an uplink and downlink PDCH or specifies a multislot configuration
that the mobile station does not support (see 3GPP TS 45.002), the mobile
station shall perform an abnormal release with RR connection establishment
retry (see sub-clause 8.7.4).
\- If a failure in the assignment message (e.g. DTM ASSIGNMENT COMMAND or the
IMMEDIATE ASSIGNMENT message) is due to any other reason, the mobile station
shall perform an abnormal release with RR connection establishment retry (see
sub-clause 8.7.4).
\- If the mobile fails to establish the main signalling link, it shall perform
an abnormal release with RR connection establishment retry (see sub-clause
8.7.4).
#### 8.9.4.2 RR connection establishment initiated by the network
If a failure occurs on the mobile station side before the successful
establishment of the main signalling link, the allocated channels are
released; the subsequent behaviour of the mobile station depends on the type
of failure and previous actions:
\- If the information in the DTM ASSIGNMENT COMMAND message does not properly
specify an uplink PDCH or specifies a multislot configuration that the mobile
station does not support (see 3GPP TS 45.002), the mobile station shall
perform an abnormal release with access retry (see sub-clause 8.7.2).
\- If the information in the DTM ASSIGNMENT COMMAND message does not properly
specify an uplink and downlink PDCH, the mobile station shall perform an
abnormal release with access retry (see sub-clause 8.7.2).
\- If the mobile station has been reassigned a TBF in EGPRS TBF mode and the
MS does not support EGPRS, or has been reassigned an MCS (e.g. 8-PSK in the
uplink) that the MS does not support, the MS shall enter to dedicated mode and
notify higher layers (TBF establishment failure).
\- On expiry of timer T3190, the mobile station shall enter dedicated mode.
\- If a failure in the DTM ASSIGNMENT COMMAND message is due to any other
reason, the mobile station shall return to packet idle mode.
\- If there is a failure in the IMMEDIATE ASSIGNMENT message the mobile
station shall continue in packet transfer mode.
\- If the mobile fails to establish the main signalling link, it shall perform
an abnormal release with RR connection establishment retry (see sub-clause
8.7.4).
## 8.10 Packet Switched Handover procedure
### 8.10.1 General
This procedure is only applicable in packet transfer mode when both the mobile
station and the network support PS handover. The support of PS handover
procedures requires the support of PFC procedures in both the network and the
mobile station. In packet transfer mode, a mobile station that supports PS
handover may receive a PS HANDOVER COMMAND message from the BSS indicating the
resources to be used in the new cell.
The support of the PS handover procedures is optional for the mobile station
and the network and is indicated in the _MS Radio Access Capability_ IE. For
an E-UTRAN capable multi-RAT mobile station, the support of PS handover to
E-UTRAN is indicated in the \"GERAN to E-UTRAN support in GERAN packet
transfer mode\" field within the _MS Radio Access Capability_ IE (see 3GPP TS
24.008). A mobile station supporting the PS handover procedures shall also
support the extended RLC/MAC control message segmentation as defined in
9.1.12a.
### 8.10.2 Neighbour Cell System Information Distribution
For the case of PS handover from _A/Gb mode_ to _A/Gb mode_ the network shall
send the mobile station PACKET NEIGHBOUR CELL DATA messages containing PSI
messages (PBCCH allocated in new cell) or SI messages (PBCCH not allocated in
new cell) corresponding to the new cell prior to sending it the PS HANDOVER
COMMAND message directing it to that cell. PACKET NEIGHBOUR CELL DATA messages
are received on PACCH as described in sub-clause 8.8.1. The minimum set of SI
and PSI messages to be sent in PACKET NEIGHBOUR CELL DATA messages is as
follows:
\- If PBCCH is not allocated in the new cell then SI3, SI1 (if present in the
new cell) and SI13 shall be sent.
\- If PBCCH is allocated in the new cell then PSI1, a consistent set of PSI2
messages and PSI14 shall be sent.
For the case of PS handover from _Iu mode_ to _A/Gb mode_ or from _GAN mode_
to _A/Gb mode_ or from _E-UTRAN_ to _A/Gb mode_ the network shall send the
mobile station the same set of PSI messages or SI messages corresponding to
the new cell as for the case of PS handover from _A/Gb mode_ to _A/Gb mode_.
In this case the network sends the mobile station the system information
corresponding to the new cell within the Handover from UTRAN Command message
as described in 3GPP TS 25.331 and 3GPP TS 44.118 for the case of PS handover
from _Iu mode_ to _A/Gb mode_ or within the GA-PSR HANDOVER COMMAND message as
described in 3GPP TS 44.318 [42] for the case of PS handover from _GAN mode_
to _A/Gb mode_ or within the _MobilityFromEUTRACommand_ message as described
in 3GPP TS 36.331 [45] for the case of PS handover from _E-UTRAN_ to _A/Gb
mode_.
For the case of PS handover from _A/Gb mode_ to _Iu mode_ or from _A/Gb mode_
to _GAN mode_ or from _A/Gb mode_ to _E-UTRAN_ , system information
corresponding to the new cell is sent to the mobile station in the new cell as
described in 3GPP TS 25.331 and 3GPP TS 44.118 for PS handover to _Iu mode_ or
as described in 3GPP TS 44.318 [42] for PS handover to _GAN mode_ or as
described in 3GPP TS 36.331 [45] for PS handover to _E-UTRAN_.
### 8.10.3 PS Handover at the network side
#### 8.10.3.1 Initiation of PS Handover Procedure
The source BSS may initiate the PS handover procedure as a result of various
trigger conditions such as, but not restricted to, the following:
\- Upon receiving a measurement report or a PACKET CELL CHANGE NOTIFICATION
message from a mobile station operating in _A/Gb mode_.
\- Upon determining that resource limitations exist for the serving cell.
\- Upon receiving the _Service UTRAN CCO_ IE from the SGSN indicating that a
mobile station operating in _A/Gb mode_ would be better served in a cell
supporting a different RAT.
If the mobile station is not already in NC2 then the source BSS may order the
mobile station to enter NC2 before initiating the PS handover procedure. For
the normal case of PS handover the target RNC/BSS/GANC/eNB receives a network
request to allocate resources required to perform a PS handover. For the
optimized case of PS handover (applicable only for _A/Gb mode_ to _A/Gb mode_
PS handover - see 3GPP TS 43.129) an SGSN request for the BSS to allocate
resources is not required as the resources required to perform a PS handover
are allocated autonomously by the BSS (i.e. without SGSN involvement).
#### 8.10.3.2 A/Gb to A/Gb PS Handover
For both the normal and optimized cases of PS handover from _A/Gb mode_ to
_A/Gb mode_ the (source) BSS shall impose the following restrictions on
RLC/MAC control plane corresponding to a mobile station for which the PS
handover procedure is ongoing:
\- All mobile station requests to establish new uplink TBFs shall be ignored
and no new downlink TBFs shall be established.
\- The PS HANDOVER COMMAND message shall be sent using extended RLC/MAC
control message segmentation (see sub-clause 9.1.12a) if three or more RLC/MAC
control blocks are required to send the complete message.
After sending the PS HANDOVER COMMAND to the MS, the source BSS shall continue
to schedule opportunities for the mobile station to transmit an RLC/MAC
control message, either by means of an existing uplink TBF, or by means of
polling using an existing downlink TBF, for a period of time sufficiently long
to allow the mobile station to transmit a PACKET CELL CHANGE FAILURE message
(should a PS handover failure occur). During this period, the BSS may allocate
fewer transmission opportunities than would otherwise be required according to
the QoS requirements of the ongoing PFCs. No TBFs shall be released during
this period except on receipt of a DELETE-BSS-PFC PDU from the SGSN.
For both the normal and optimized cases of PS handover from _A/Gb mode_ to
_A/Gb mode_ the (target) BSS creates a complete PS HANDOVER COMMAND message
that is sent to the mobile station in the old cell:
For the normal case of PS handover the source BSS shall send the Page Mode,
Global TFI and Container ID information elements to the target BSS which uses
them to create a complete PS HANDOVER COMMAND message (see sub-clause
11.2.43).
For the normal case of PS handover the source BSS receives a complete PS
HANDOVER COMMAND message from the target BSS (passed through the SGSN) and
then sends it to the mobile station. For the optimized case of PS handover the
BSS creates a complete PS HANDOVER COMMAND message and sends it directly to
the mobile station.
If the PS HANDOVER COMMAND indicates RLC reset for a TBF allocated in the new
cell corresponding to a PFC receiving a PS handover, the target BSS shall
initialize a new RLC entity to support that TBF. Otherwise, the TBF allocated
in the new cell shall be supported using the same RLC entity used to support
the TBF in the old cell corresponding to the same PFC (i.e. the RLC state
machine is maintained across PS handover).
The PS HANDOVER COMMAND message created by the target BSS shall always
allocate resources for at least one uplink TBF to ensure that the mobile
station can send PS HANDOVER ACCESS messages (if required) and one or more RLC
data blocks in the new cell. When only one uplink TBF is allocated by the PS
HANDOVER COMMAND message and does not correspond to a PFC, RLC acknowledged
mode shall be used.
The PS HANDOVER COMMAND message shall include the PS Handover Radio Resources
Info IE if the allocated resources are not required to support any of the
features Downlink Dual Carrier, EGPRS2, Fast Ack/Nack Reporting or RTTI
configurations. Otherwise, the network shall include the PS Handover Radio
Resources 2 Info IE in the PS HANDOVER COMMAND message.
The PS HANDOVER COMMAND message created by the target BSS shall indicate the
PS Handover type with the synchronization indication field, i.e. non-
synchronized, synchronized or pre-synchronized PS handover.
The PS HANDOVER COMMAND shall contain the PFI for each TBF being set up if and
only if both the network and the mobile station support multiple TBFs. A
mobile station which receives a PS HANDOVER COMMAND and which does not support
multiple TBFs shall ignore any PFI value(s) received in the PS HANDOVER
COMMAND.The target BSS expects one or more PS HANDOVER ACCESS messages from
the mobile station whenever Handover Reference information is included in the
PS HANDOVER COMMAND message. Handover Reference information shall always be
included whenever non-synchronized PS handover is used.
Depending on the type of handover the target BSS shall proceed as follows:
\- In case of a synchronized or pre-synchronized PS handover the target BSS
shall enable the reception of RLC data blocks on all uplink TBFs allocated by
the PS HANDOVER COMMAND message.
\- In case of a non-synchronized PS handover the target BSS shall, upon
reception of the first PS HANDOVER ACCESS message containing the expected
Handover Reference value, send the Packet Physical Information message to the
mobile station and then enable the reception of RLC data blocks on all uplink
TBFs allocated by the PS HANDOVER COMMAND message.
\- The BSS should schedule USFs on at least one uplink TBF in the target cell
to minimize the delay incurred by the mobile station waiting for a USF in the
target cell.
The target BSS considers the PS handover procedure to be successfully
completed upon receiving the first correct uplink RLC block on any of the
uplink TBFs allocated to the mobile station in the PS HANDOVER COMMAND
message.
If the target BSS supports blind transmission it may begin transmitting
downlink data that becomes available prior to determining that the PS handover
procedure has been successfully completed. Otherwise, it may discard downlink
data that becomes available prior to determining that the PS handover
procedure has been successfully completed.
#### 8.10.3.3 GERAN A/Gb to Iu/E-UTRAN PS Handover
For the case of PS handover from _A/Gb mode_ to _Iu mode or E-UTRAN_ the
source BSS proceeds as described above for the normal case of _A/Gb mode_ to
_A/Gb mode_ PS handover except for the following:
\- The source BSS shall create a complete PS HANDOVER COMMAND message using
local values for the Page Mode, Global TFI and Container ID information
elements and therefore shall not send these information elements to the target
RNC or eNB.
\- For the case of PS handover to _Iu mode_ , the source BSS receives a
complete Handover to UTRAN Command message from the target RNC (passed through
the SGSN) and sends it to the mobile station within a PS HANDOVER COMMAND
message.
\- For the case of PS handover to E-UTRAN, the source BSS receives a complete
(RRC E-UTRA) HandoverCommand message as defined in 3GPP TS 36.331 [45] from
the target eNB (passed through the MME and SGSN) and sends it to the mobile
station within a PS HANDOVER COMMAND message.
\- The source BSS shall not send the mobile station unsolicited PACKET
NEIGHBOUR CELL DATA messages in the old cell as system information
corresponding to the new cell is sent to the mobile station in the new cell as
described in 3GPP TS 25.331 and 3GPP TS 44.118 (for PS handover to _Iu mode_)
or as described in 3GPP TS 36.331 (for PS handover to _E-UTRAN)_.
#### 8.10.3.4 Iu/E-UTRAN to GERAN A/Gb PS Handover
For the case of PS handover from _Iu mode or E-UTRAN_ to _A/Gb mode_ the
target BSS proceeds as described above for the normal case of _A/Gb mode_ to
_A/Gb mode_ PS handover except that a complete PS HANDOVER COMMAND message is
created by the target BSS using local values for the Page Mode, Global TFI and
Container ID information elements (i.e. they are not passed to the target BSS
from the source RNC or eNB) and the PS HANDOVER COMMAND message shall always
indicate RLC reset and non-synchronized PS handover. The PS HANDOVER COMMAND
message is sent to the MS as part of the _MobilityFromEUTRACommand_ in E-UTRAN
as specified in 3GPP TS 36.331 [45].
#### 8.10.3.5 A/Gb to GAN PS Handover
When the BSS and the mobile station support PS handover to _GAN mode_ the
normal case of _A/Gb mode_ to _A/Gb mode_ PS handover is followed as described
in sub-clause 8.10.3.2 except for the following:
\- The target GANC shall only provide values for the mandatory fields within
the PS Handover Radio Resources IE included within the PS HANDOVER COMMAND
message it sends back to the source BSS.
\- The source BSS will not send the mobile station system information
corresponding to the target GAN cell prior to sending it a PS HANDOVER COMMAND
message (i.e. the mobile station acquires the system information required for
the target GAN cell during GAN registration - see 3GPP TS 44.318 [42]).
#### 8.10.3.6 GAN to A/Gb PS Handover
For the case of PS handover from _GAN mode_ to _A/Gb_ mode the source GANC
proceeds as described in 3GPP TS 44.318 [42]. The target BSS proceeds as
described in sub-clause 8.10.3.2 for the normal case of _A/Gb mode_ to _A/Gb
mode_ PS handover except that a complete PS HANDOVER COMMAND message is
created by the target BSS using local values for the Page Mode, Global TFI and
Container ID information elements (i.e. they are not passed to the target BSS
from the source GANC) and the PS HANDOVER COMMAND message shall always
indicate RLC reset for each PFC and non-synchronized PS handover.
### 8.10.4 PS Handover at the mobile station side
#### 8.10.4.1 A/Gb to A/Gb PS Handover
Upon reception of the PS HANDOVER COMMAND message for PS handover from _A/Gb
mode_ to _A/Gb mode_ , the mobile station shall proceed as follows:
\- If an RLC/MAC control block containing a part of the PS HANDOVER COMMAND
message contains a valid RRBP field or a polling response is outstanding the
mobile station shall send a corresponding PACKET CONTROL ACKNOWLEDGMENT
message (in the specified uplink radio block) prior to switching to the new
cell.
\- RLC/MAC control plane signalling shall be suspended except for the
signalling needed to complete the PS handover procedure or to signal a failure
of the PS handover procedure.
\- The mobile station shall suspend the uplink transmission of user plane
data.
\- Each outstanding request for establishment or reconfiguration of an uplink
TBF in the old cell shall be aborted and the corresponding instance of T3168
shall be stopped.
\- All timers related to the RLC contexts in the old cell keep running.
\- Timers T3180 and T3190 related to the ongoing TBFs in the old cell and
which are currently running shall be re-started.
\- If the timer T3192 related to a TBF in the old cell expires, the mobile
station shall consider the corresponding TBF that was ongoing in the old cell
as implicitly released.
\- The mobile station shall start timer T3218, move to the new cell and
perform the physical channel establishment as described in sub-clause
8.10.4.4.
\- The mobile station may receive downlink RLC data blocks in the new cell
prior to determining that the PS handover has been successfully completed if
the target BSS uses blind transmission. If this occurs the mobile station
shall forward the corresponding user data to upper layers if the PS HANDOVER
COMMAND message did not include the _NAS Container for PS Handover_ IE.
Otherwise, the mobile station may either discard the received RLC data blocks
or buffer them until the successful completion of the PS handover procedure at
which point the corresponding user data shall be deciphered by the upper
layers based on information contained within the _NAS Container for PS
Handover_ IE.
NOTE: It is expected that PS Handover procedure will be completed successfully
or terminated before the expiry of T3180 or T3190 and therefore that the MS
will not release any TBFs due to the expiry of T3180 or T3190 during the PS
Handover procedure.The mobile station considers the PS handover procedure to
be successfully completed in the following cases:
\- Upon receiving a Packet Physical Information message in the new cell in
case of a non-synchronized PS handover (see sub-clause 8.10.4.4.3).
\- Upon detecting the first USF for any uplink TBF assigned to the MS in the
new cell in case of a synchronized and pre-synchronized PS handover (see
subclause 8.10.4.4.1 and 8.10.4.4.2).
If the mobile station is waiting for the Packet Physical Information message
when it receives a downlink RLC data block in which a valid polling indication
is provided, it shall ignore the polling indication.
Upon successfully completing the PS handover procedure the mobile station
shall proceed as follows:
\- Stop T3216 (if running), consider all TBFs that were ongoing in the old
cell as implicitly released and if the _NAS Container for PS Handover_ IE was
included in the PS HANDOVER COMMAND message it shall be sent to upper layers.
\- If the PS HANDOVER COMMAND indicates RLC reset the mobile station shall
initialize new RLC entities to support the allocated TBFs. Otherwise, the TBFs
allocated in the new cell shall be supported using the same RLC entities used
to support the TBFs in the old cell corresponding to the same PFCs (i.e. the
RLC state machines are maintained across PS handover).
\- The mobile station shall resume the uplink transmission of user plane data.
\- The mobile station shall trigger a cell update or other GMM specific
procedures, as appropriate according to the GMM requirements (see 3GPP TS
24.008).
#### 8.10.4.2 A/Gb to Iu/E-UTRAN PS Handover
Upon receiving a PS HANDOVER COMMAND message for PS handover from GERAN A/Gb
mode to _Iu mode or E-UTRAN_ , the mobile station shall act on the message if
it is able to perform PS handover based on the content of the received
message. If the PS HANDOVER COMMAND message is acted on the mobile station
shall start the PS handover procedure and proceed as described above for the
case of _A/Gb mode_ to _A/Gb mode_ PS handover while in the old cell. Upon
moving to the new cell the mobile station shall proceed as described in 3GPP
TS 25.331 for handover to _Iu mode_ or as described in 3GPP TS 36.331 for
handover to _E-UTRAN_. Upon successfully completing the PS handover procedure
all TBFs that were ongoing in the old cell shall be considered as implicitly
released.
#### 8.10.4.3 Iu/E-UTRAN to A/Gb PS Handover
Upon receiving a Handover from UTRAN Command message for PS handover from _Iu
mode_ to _A/Gb mode_ or a _MobilityFromEUTRACommand_ message for PS handover
from _E-UTRAN_ to _A/Gb mode_ , the mobile station shall act on the message if
all of the following conditions are satisfied:
\- It is able to perform PS handover based on the content of the received
message.
\- The Handover from UTRAN Command or _MobilityFromEUTRACommand_ message
contains the minimum set of PSI or SI messages required for mobile station to
operate in the new cell (see sub-clause 8.10.4.1.).
\- The PS HANDOVER COMMAND message carried within the Handover from UTRAN
Command or _MobilityFromEUTRACommand_ message provides resources for at least
one uplink TBF in the new cell.
If the Handover from UTRAN Command or _MobilityFromEUTRACommand_ message is
acted on the mobile station shall start the PS handover procedure and proceed
as follows:
\- The mobile station shall act as described in 3GPP TS 25.331 and 3GPP TS
44.118 (for handover from _Iu mode_) or as described in 3GPP TS 36.331 (for
handover from _E-UTRAN_) prior to switching to the new cell except for the
following:
\- It shall ignore the value of the Page Mode, Global TFI and Container ID
information elements included in the PS HANDOVER COMMAND message carried
within the Handover from UTRAN Command or _MobilityFromEUTRACommand_ message.
\- After switching to the new cell the mobile station shall proceed as
described above for the case of _A/Gb mode_ to _A/Gb mode_ PS handover except
for the following:
\- Upon successfully completing the PS handover procedure the mobile station
shall stop T3216 (if running), consider all radio bearers that were ongoing in
the old cell as implicitly released, send the _NAS Container for PS Handover_
IE to upper layers if it was included in the PS HANDOVER COMMAND message,
start an instance of T3180 corresponding to each uplink TBF allocated by the
PS HANDOVER COMMAND message and start an instance of T3190 corresponding to
each downlink TBF allocated by the PS HANDOVER COMMAND message.
\- Upon successfully completing the PS handover procedure the mobile station
shall always establish a new RLC entity for each TBF allocated by the PS
HANDOVER COMMAND message.
#### 8.10.4.4 Physical channel establishment
##### 8.10.4.4.1 General
Three procedures are defined. The support of them is mandatory in the mobile
station.
If the network requests the transmission of the PS HANDOVER ACCESS message it
shall be sent with highest transmission priority using either the 8-bit or
11-bit access burst format on the PACCH associated with any uplink TBF
allocated in the PS HANDOVER COMMAND message for which the mobile station
detects an assigned USF value. Its content consists of the handover reference
field. The burst format used shall be that specified by the ACCESS_BURST_TYPE
in the system information for the target cell.
Upon detecting the first USF for any uplink TBF assigned to the MS in the new
cell, the MS shall stop T3218.
##### 8.10.4.4.2 Synchronized cell case
If the timing advance with the new cell calculated by the mobile station is
not out of range, i.e. smaller than or equal to the maximum timing advance
that can be coded as specified in 3GPP TS 44.004, or if the new cell does
accept out of range timing advance as indicated in the PS HANDOVER COMMAND
message, the mobile station acts on the message.
After having switched to the assigned channels, if the Handover Reference
information is included within the PS HANDOVER COMMAND message the mobile
station shall send four times the PS HANDOVER ACCESS message.
The mobile station activates the channels in sending and receiving mode. The
MS may activate the channels in downlink while sending access bursts.
##### 8.10.4.4.3 Pre-synchronized cell case
The details of the use of this procedure are described in 3GPP TS 45.010.
After having switched to the assigned channels, if the Handover Reference
information is included within the PS HANDOVER COMMAND message the mobile
station shall send four times the PS HANDOVER ACCESS message.
The mobile station activates the channels in sending and receiving mode. The
MS may activate the channels in downlink while sending access bursts.
The timing advance value to be used with the new cell is:
\- either the value contained in the PS HANDOVER COMMAND message if the timing
advance information is included; or
\- the default value for pre-synchronized handover as defined in 3GPP TS
45.010, if the timing advance information element is not included in the PS
HANDOVER COMMAND message.
##### 8.10.4.4.4 Non synchronized cell case
After having switched to the assigned channels, the mobile station shall send
four times the PS HANDOVER ACCESS message. The mobile station shall start
timer T3216 at the start point of the timeslot in which the PS HANDOVER ACCESS
message is sent the first time on the PACCH.
The mobile station then activates the channels in receiving mode.
Upon reception of the PS HANDOVER ACCESS message containing the expected
Handover Reference value, once the network has the RF characteristics that are
necessary, it sends a PACKET PHYSICAL INFORMATION message to the mobile
station on the PACCH.
When the mobile station receives a PACKET PHYSICAL INFORMATION message, it
stops timer T3216, stops sending access bursts and activates the channels in
sending and receiving mode.
#### 8.10.4.5 A/Gb to GAN PS Handover
Upon successfully performing a GAN registration (see 3GPP TS 43.129 [43]), a
mobile station in packet transfer mode may trigger a PS handover to a GAN cell
by sending a Packet Cell Change Notification message (see sub-clause 8.8.3).
The mobile station may send the Packet Cell Change Notification message either
at the first possible transmission opportunity following GAN registration if
GAN mode is preferred or when the GERAN cell becomes sufficiently degraded if
GERAN/UTRAN mode is preferred. If the network and the mobile station support
PS handover to _GAN mode_ , the network may initiate the PS handover
procedure. The mobile station shall then proceed as described in sub-clause
8.10.4.1 for the case of _A/Gb mode_ to _A/Gb mode_ PS handover except for the
following:
\- Since the mobile station provides an ARFCN and BSIC corresponding to a GAN
cell within the PACKET CELL CHANGE NOTIFICATION message it does not expect a
valid minimum set of PSI or SI messages prior to receiving a PS Handover
Command message directing it to a GAN cell.
\- Upon receiving a PS HANDOVER COMMAND message the MS determines that PS
handover to a GAN cell has been ordered if the ARFCN and BSIC included within
the message matches the corresponding values it included within the PACKET
CELL CHANGE NOTIFICATION message.
\- After successful PS handover to the GAN cell (see 3GPP TS 44.318 [42]) the
mobile station switches to GAN mode and considers all TBFs that were ongoing
in the old cell as implicitly released.
#### 8.10.4.6 GAN to A/Gb PS Handover
Upon receiving a GA-PSR Handover Command message for PS handover from _GAN
mode_ to _A/Gb mode_ , a mobile station that supports GAN PS handover shall
act on the message as described in 3GPP TS 44.318 [42] prior to switching to
the new cell. After switching to the new cell the mobile station shall proceed
as described in sub-clause 8.10.4.1 for the case of _A/Gb mode_ to _A/Gb mode_
PS handover except for the following:
\- None of the actions corresponding to TBFs in the old cell are applicable.
\- Upon successful completion of the PS handover procedure the mobile station
shall consider the GA-PSR Transport Channel used in the old cell as implicitly
released.
\- The mobile station shall always establish a new RLC entity for each TBF
allocated by the PS HANDOVER COMMAND message (i.e. regardless if an intra-SGSN
or an inter-SGSN PS handover was performed).
### 8.10.5 Abnormal Cases
#### 8.10.5.1 MS Behaviour for A/Gb to A/Gb PS Handover
A mobile station operating in _A/Gb mode_ shall consider the PS handover to
_A/Gb mode_ to have failed if the PS HANDOVER COMMAND message:
\- contains an invalid Frequency Parameters information element; or
\- contains specifying frequencies that are not all in one frequency band; or
\- contains a Frequency Parameters information element specifying a frequency
that is in a frequency band not supported by the mobile station; or
\- does not properly specify an uplink or downlink PDCH or specifies a
multislot configuration that the mobile station does not support (see 3GPP TS
45.002); or
\- does not provide resources for at least one uplink TBF in the new cell; or
\- would result in one or more TBFs with FANR activated and one or more TBFs
with FANR not activated for that mobile station; or
\- includes an inconsistent RTTI configuration assignment as per the
conditions specified in sub-clause 7.1.3.6; or
\- contains any other failure.
A mobile station operating in _A/Gb mode_ shall consider the PS handover to
_A/Gb mode_ to have failed for the following reasons:
\- In the synchronized cell case (see sub-clause 8.10.4.4.1), if the timing
advance with the new cell calculated by the mobile station is out of range,
i.e. is bigger than the maximum timing advance that can be coded as specified
in 3GPP TS 44.004, and if the new cell does not accept out of range timing
advance as indicated in the PS HANDOVER COMMAND message.
\- If it has not stored a valid minimum set of the following of PSI or SI
messages (provided via PACKET NEIGHBOUR CELL DATA messages, see sub-clause
8.8.1) required for mobile station to operate in the new cell: PSI1, a
consistent set of PSI2 messages and PSI14 (if PBCCH allocated in the new cell)
or SI3, SI1 (if present in the new cell) and SI13 messages (if PBCCH not
allocated in the new cell).
\- Timer T3218 expires while in the new cell.
\- Timer T3216 expires while in the new cell.
A mobile station operating in _A/Gb mode_ when a PS handover to _A/Gb mode_
fails shall proceed as follows:
\- If timer T3218 expired it shall return to the cell on which the PS HANDOVER
COMMAND message was received.
\- If timer T3216 expired it shall return to the cell on which the PS HANDOVER
COMMAND message was received.
\- Send a Packet Cell Change Failure message with the cause code set to \"No
response on target cell\" if timer T3218 or T3216 expired, otherwise \"PS
Handover failure-others\". The message shall be sent on PACCH.
\- The transmission of a Packet Cell Change Failure message terminates the PS
handover procedure in the mobile station and after the transmission of this
message the mobile station is therefore allowed to request the establishment
of additional uplink TBFs.
\- After terminating the PS handover procedure the mobile station shall resume
all uplink and downlink TBFs that were ongoing in the old cell prior to
receiving the PS HANDOVER COMMAND message. Timers T3180 (uplink TBFs) and
T3190 (downlink TBFs) corresponding to these TBFs shall be re-started.
\- For each TBF that is resumed the corresponding RLC state machine shall
reflect its state when the last RLC data block was transmitted for that TBF in
the old cell (uplink TBFs) and the last RLC data block was received for that
TBF in the old cell (downlink TBFs).
#### 8.10.5.2 MS Behaviour for A/Gb to Iu/E-UTRAN PS Handover
A mobile station operating in _A/Gb mode_ shall consider PS handover to _Iu
mode or E-UTRAN_ to have failed if it is unable to perform PS handover for any
reason based on the content of the received PS HANDOVER COMMAND message.
A mobile station operating in _A/Gb mode_ when a PS handover to _Iu mode or
E-UTRAN_ fails shall proceed as described above for the case where PS handover
from A _/Gb mode_ to _A/Gb mode_ fails except that T3216 shall never be
running.
#### 8.10.5.3 MS Behaviour for Iu/E-UTRAN to A/Gb PS Handover
A mobile station operating in _Iu mode or E-UTRAN_ shall consider PS handover
to _A/Gb mode_ to have failed for the following reasons:
\- It is unable to perform PS handover for any reason based on the content of
the received Handover from UTRAN Command or _MobilityFromEUTRACommand_
message.
\- The Handover from UTRAN Command or _MobilityFromEUTRACommand_ message does
not contain the minimum set of PSI or SI messages required for mobile station
to operate in the new cell (see sub-clause 8.10.2).
\- Timer T3218 expires while in the new cell.
\- Timer T3216 expires while in the new cell.
\- The PS HANDOVER COMMAND message carried within the Handover from UTRAN
Command or _MobilityFromEUTRACommand_ message does not provide resources for
at least one uplink TBF in the new cell.
\- The PS HANDOVER COMMAND message would result in one or more TBFs with FANR
activated and one or more TBFs with FANR not activated for that mobile
station.
\- The PS HANDOVER COMMAND message includes an inconsistent RTTI configuration
assignment as per the conditions specified in sub-clause 7.1.3.6.
A mobile station operating in _Iu mode_ when a PS handover to _A/Gb mode_
fails shall return to the cell it was in prior to receiving the Handover from
UTRAN Command message (if T3216 or T3218 expired) and proceed as described in
3GPP TS 25.331 and 3GPP TS 44.118.
A mobile station operating in _E-UTRAN_ when a PS handover to _A/Gb mode_
fails shall return to the cell it was in prior to receiving the
_MobilityFromEUTRACommand_ message (if T3216 or T3218 expired) and proceed as
described in 3GPP TS 36.331.
#### 8.10.5.4 BSS Behaviour for PS Handover from A/Gb
The source BSS shall terminate the PS handover procedure if any of the
following events occur:
\- All TBFs allocated to the mobile station in the old cell are released at
any point prior to sending the PS HANDOVER COMMAND message to the mobile
station.
\- The source BSS receives a PACKET CELL CHANGE FAILURE message or any other
RLC block from the mobile station after sending the final segment of the PS
HANDOVER COMMAND message, if the network does not request acknowledgement of
receipt of that segment (i.e. does not include in any segment a valid RRBP
field requiring the mobile station to send a PACKET CONTROL ACKNOWLEDGEMENT
message), or after the receipt of a PACKET CONTROL ACKNOWLEDGEMENT message
indicating that the mobile station has received the final segment of the PS
HANDOVER COMMAND message.
If the PS handover procedure is terminated for either of the above reasons,
the (source) BSS shall resume all uplink and downlink TBFs that were ongoing
in the old cell for that MS prior to sending the PS HANDOVER COMMAND message.
For normal PS Handover the source BSS shall then indicate the PS handover
failure to the SGSN. For optimized PS Handover the source BSS shall then
release all resources associated with the new TBFs.
For each TBF that is resumed the corresponding RLC state machine shall reflect
its state when the last RLC data block was transmitted for that TBF in the old
cell (downlink TBFs) and the last RLC data block was received for that TBF in
the old cell (uplink TBFs).
For both the normal and optimized cases of PS Handover, after sending the PS
HANDOVER COMMAND to the MS, the source BSS shall continue to schedule
transmission opportunities for the mobile station for a period of time
sufficiently long to allow the mobile station to transmit a PACKET CELL CHANGE
FAILURE message (should a PS handover failure occur).
For normal PS Handover, if the source BSS does not receive any RLC/MAC block
from the MS and does not receive (a) DELETE-BSS-PFC PDU(s) from the SGSN for
all ongoing PFCs during this time period, the source BSS shall consider radio
contact with the MS to be lost and shall release all resources related to the
MS and initiate the PS Handover Cancel procedure (see 3GPP TS 48.018), by
sending a PS-HANDOVER-CANCEL PDU to the SGSN with cause \"Radio contact lost
with MS\".
For optimized PS Handover, if the BSS does not receive any RLC/MAC block from
the MS on any of the old TBFs and does not receive an uplink RLC data block
from the MS on any of the new TBFs during this time period, the BSS shall
consider the MS to be lost and therefore release all resources associated with
the new TBFs and old TBFs.
#### 8.10.5.5 BSS Behaviour for PS Handover to A/Gb
If the (target) BSS expects but does not receive any PS HANDOVER ACCESS
messages from the mobile station it considers the PS handover procedure to
have failed and shall release all TBFs allocated to the mobile station in the
new cell.
If the (target) BSS expects but does not receive the correct Handover
Reference value from the mobile station it considers the PS handover procedure
to have failed and shall release all TBFs allocated to the mobile station in
the new cell.
#### 8.10.5.6 MS Behaviour for A/Gb to GAN PS Handover
Upon receiving a PS Handover Command message in the source cell, if
connectivity has been lost on the corresponding GA-PSR Transport Channel the
MS shall discard the PS Handover Command message and send the source BSS a
Packet Cell Change Failure message with the cause code set to \"PS Handover
failure\".
#### 8.10.5.7 MS Behaviour for GAN to A/Gb PS Handover
See 3GPP 44.318 [42].
# 9 Radio Link Control (RLC) procedures in packet transfer mode
## 9.0 General
The RLC function is responsible for:
\- Interface primitives allowing the transfer of upper layer PDUs between the
upper layer and the MAC function;
\- Segmentation of upper layer PDUs into RLC data blocks and re-assembly of
RLC data blocks into upper layer PDUs;
\- Segmentation of RLC/MAC control messages into RLC/MAC control blocks and
re-assembly of RLC/MAC control messages from RLC/MAC control blocks.;
\- Backward Error Correction (BEC) procedures enabling the selective
retransmission of RLC data blocks.
In this sub-clause Packet Ack/Nack refers to any of the following messages or
field:
\- PACKET DOWNLINK ACK/NACK, EGPRS PACKET DOWNLINK ACK/NACK, EGPRS PACKET
DOWNLINK ACK/NACK TYPE 2 or MBMS DOWNLINK ACK/NACK;
\- PACKET UPLINK ACK/NACK;
\- PAN.
Additionally the following definitions apply:
\- Sequence Number Space (SNS): 2048 in EGPRS, and 128 in GPRS;
\- Window Size (WS): 64 to 1024 in EGPRS; 64 in GPRS.
A mobile station that supports multiple TBF procedures can operate multiple
RLC entities simultaneously each one with its' own set of RLC parameters (e.g.
sequence number; receive and transmit windows etc.).
## 9.1 Procedures and parameters for peer-to-peer operation
A TBF is comprised of two peer entities, which are the RLC endpoints. Each RLC
endpoint has a receiver that receives RLC/MAC blocks. Each RLC endpoint also
has a transmitter that transmits RLC/MAC blocks.
An MBMS bearer is comprised of one transmitting RLC endpoint at the network
side and several receiving RLC endpoints, one for each mobile station involved
in the p-t-m transmission. The transmitting RLC endpoint transmits RLC/MAC
data and control blocks and may receive only RLC/MAC control blocks. Each
receiving RLC endpoint receives RLC/MAC data and control blocks and may
transmit only RLC/MAC control blocks, upon polling. An MBMS bearer operates in
RLC non-persistent mode (see also sub-clause 9.3.4).
Each endpoint\'s receiver has a receive window of size WS (see sub-clause
9.1.9).
In RLC acknowledged mode, the receive window is defined by the receive window
state variable V(Q) in the following inequality[ V(Q) ≤ BSN \ WS after updating
V(R), then V(Q) is set to [V(R) ‑ WS] modulo SNS.
#### 9.1.6.4 RLC non-persistent mode
In RLC non-persistent mode, V(Q) of each receiving RLC endpoint shall be set
to V(R) if all RLC data blocks in the receive window have been received or to
BSN', where BSN' is the lowest BSN of those corresponding to RLC data blocks
not yet received which:
\- meets the condition [V(R) - BSN'] modulo SNS ≤ WS and
\- it is still expected by the receiving RLC endpoint.
If an NPM Transfer Time limitation is associated with the corresponding MBMS
bearer/EGPRS TBF, the receiving RLC endpoint shall start a timer with a value
equal to the NPM Transfer Time (_see Table 12. 45a.1_) for an RLC data block
with BSN equal to BSN' if at the end of a radio block period that data block
is first detected as missing i.e. when both of the following conditions are
first met for BSN':
\- the RLC data block with sequence number BSN' has not been received, and
\- an RLC/MAC header containing a BSN equal to or higher than BSN' (modulo
SNS) has been received.
The timer shall be started at most once for any given RLC data block. The
timer shall not be restarted in the event of an out-of-sequence retransmission
(i.e. where the endpoint is expecting a retransmission of that block but
receives a retransmission of a block with higher BSN). The timer shall be
stopped on reception of the RLC data block.
RLC data blocks are considered not expected if they have been received or (if
an NPM Transfer Time limitation is associated with the corresponding MBMS
bearer/EGPRS TBF) the corresponding timer has been stopped or has expired.
### 9.1.7 Receive state array V(N)
#### 9.1.7.1 Receive state array V(N) in GPRS TBF
Each RLC endpoint receiver shall have an associated receive state array V(N).
V(N) is an array of SNS elements indicating the receive status of WS previous
RLC data blocks. The array is indexed relative to the receive state variable
V(R) modulo SNS. When an RLC data block is received with BSN within the
receive window, V(R) is treated according to sub-clause 9.1.5 and the element
in V(N) corresponding to the received RLC data block is set to the value
RECEIVED.
An element in V(N), corresponding to a BSN such that [ V(R) ≤ BSN \ For an EGPRS TBF without FANR activated, the EGPRS combined downlink RLC/MAC
> header for MCS‑7, MCS‑8 and MCS‑9 (header type 1) shall be formatted
> according to figure 10.3a.3.1.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI RRBP ES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
CPS BSN2 5
* * *
Figure 10.3a.3.1.1: EGPRS downlink RLC data block header (FANR not activated)\
for MCS-7, MCS-8 and MCS-9
> For an EGPRS TBF with FANR activated and for an EGPRS2 TBF (see sub-clause
> 5.2.1), the downlink RLC/MAC header for MCS-7, MCS-8 and MCS-9 shall be
> formatted according to figure 10.3a.3.1.2.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
CPS BSN2 5
* * *
Figure 10.3a.3.1.2: EGPRS (FANR activated) / EGPRS2 downlink RLC data block
header
#### 10.3a.3.2 Header type 2: header for MCS-6, MCS-5, DAS-5, DAS-6 and DAS-7
> For an EGPRS TBF without FANR activated, the EGPRS combined downlink RLC/MAC
> header for MCS‑5 and MCS‑6 (header type 2) shall be formatted according to
> figure 10.3a.3.2.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI RRBP ES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
CPS BSN1 4
* * *
Figure 10.3a.3.2.1: EGPRS downlink RLC data block header (FANR not activated)\
for MCS-5 and MCS-6
> For an EGPRS TBF with FANR activated and for an EGPRS2 TBF (see sub-clause
> 5.2.1), the downlink RLC/MAC header for MCS-5 and MCS-6 shall be formatted
> according to figure 10.3a.3.2.2, whereas the RLC/MAC header for DAS-5, DAS-6
> and DAS-7 shall be formatted as shown on figure 10.3a.3.2.2.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
CPS BSN1 4
* * *
Figure 10.3a.3.2.2: EGPRS (FANR activated) / EGPRS2 downlink RLC data block
header\ for MCS-5, MCS-6, DAS-5, DAS-6 and DAS-7
#### 10.3a.3.3 Header type 3: header for MCS-4, MCS-3, MCS-2, MCS-1 and MCS-0
case
> For an EGPRS TBF without FANR activated, the EGPRS combined downlink RLC/MAC
> header for MCS‑1, MCS‑2, MCS‑3 and MCS‑4 (header type 3) shall be formatted
> according to figure 10.3a.3.3.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI RRBP ES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
SPB CPS BSN1 4
* * *
Figure 10.3a.3.3.1: EGPRS downlink RLC data block header (FANR not activated)\
for MCS-1, MCS-2, MCS-3 and MCS-4
> For an EGPRS TBF with FANR activated and for an EGPRS2 TBF (see sub-clause
> 5.2.1), the downlink RLC/MAC header for MCS-1, MCS-2, MCS-3 and MCS-4 shall
> be formatted according to figure 10.3a.3.3.2.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
SPB CPS BSN1 4
* * *
Figure 10.3a.3.3.2: EGPRS (FANR activated) / EGPRS2 downlink RLC data block
header\ for MCS-1, MCS-2, MCS-3 and MCS-4
> For a TBF in RTTI configuration, the downlink RLC/MAC control block header
> for MCS-0 shall be formatted as defined in figure 10.3a.3.3.3.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet Payload type Spare RRBP S/P USF 1  
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0 0 3 0 0 CPS Spare 4  
NOTE2: Field indicated as '0' will be replaced by an 18 bit CRC during the
channel coding, see sub-clause 5.1.4a.1.4 in 3GPP TS 45.003.
* * *
Figure 10.3a.3.3.3: Downlink RLC/MAC control block header\ for MCS-0.
#### 10.3a.3.4 Header type 4: header for DAS-8 and DAS-9
> The combined downlink RLC/MAC header for DAS-8 and DAS-9 (header type 4)
> shall be formatted according to figure 10.3a.3.4.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
Spare CPS BSN2 5  
Spare 6
* * *
Figure 10.3a.3.4.1: Combined downlink RLC data block header\ for DAS-8 and
DAS-9.
#### 10.3a.3.5 Header type 5: header for DAS-11 and DAS-12
The combined downlink RLC/MAC header for DAS-11 and DAS-12 (header type 5)
shall be formatted according to figure 10.3a.3.5.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
BSN3 BSN2 5  
CPS BSN3 6  
Spare CPS 7
* * *
Figure 10.3a.3.5.1: Combined downlink RLC data block header\ for DAS-11 and
DAS-12.
#### 10.3a.3.6 Header type 6: header for DBS-5 and DBS-6
The combined downlink RLC/MAC header for DBS-5 and DBS-6 (header type 6) shall
be formatted according to figure 10.3a.3.6.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN PR TFI 2  
BSN 3  
Spare CPS BSN 4
* * *
Figure 10.3a.3.6.1: Combined downlink RLC data block header\ for DBS-5 and
DBS-6.
#### 10.3a.3.7 Header type 7: header for DBS-7 and DBS-8
The combined downlink RLC/MAC header for DBS-7 and DBS-8 (header type 7) shall
be formatted according to figure 10.3a.3.7.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
Spare CPS BSN2 5  
Spare 6
* * *
Figure 10.3a.3.7.1: Combined downlink RLC data block header\ for DBS-7 and
DBS-8.
#### 10.3a.3.8 Header type 8: header for DBS-9 and DBS-10
The combined downlink RLC/MAC header for DBS-9 and DBS-10 (header type 8)
shall be formatted according to figure 10.3a.3.8.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
BSN 3 BSN2 5  
CPS BSN3 6  
Spare CPS 7
* * *
Figure 10.3a.3.8.1: Combined downlink RLC data block header\ for DBS-9 and
DBS-10.
#### 10.3a.3.9 Header type 9: header for DBS-11 and DBS-12
**The combined downlink RLC/MAC header for DBS-11 and DBS-12 (header type 9)
shall be formatted according to figure 10.3a.3.9.1.**
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
BSN 3 BSN2 5  
BSN4 BSN3 6  
CPS BSN4 7  
Spare CPS 8  
Spare 9
* * *
Figure 10.3a.3.9.1: Combined downlink RLC data block header\ for DBS-11 and
DBS-12.
#### 10.3a.3.10 Header type 10: header for DAS-10
The combined downlink RLC/MAC header for DAS-10 (header type 10) shall be
formatted according to figure 10.3a.3.10.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI PANI CES/P USF 1  
BSN1 PR TFI 2  
BSN1 3  
BSN2 BSN1 4  
Spare CPS BSN2 5
* * *
Figure 10.3a.3.10.1: Combined downlink RLC data block header\ for DAS-10.
### 10.3a.4 EGPRS Uplink RLC/MAC header
#### 10.3a.4.1 Header type 1: header for MCS-7, MCS-8 and MCS-9
> The EGPRS combined uplink RLC/MAC header for MCS‑7, MCS‑8 and MCS‑9 (header
> type 1) shall be formatted according to figure 10.3a.4.1.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
Spare PI RSB CPS 5  
Spare 6
* * *
Figure 10.3a.4.1.1: EGPRS uplink RLC data block header (FANR not activated)\
for MCS-7, MCS-8 and MCS-9.
> For an EGPRS TBF with FANR activated, the uplink RLC/MAC header for MCS-7,
> MCS-8 and MCS-9 shall be formatted according to figure 10.3a.4.1.2.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
PANI PI RSB CPS 5  
Spare 6
* * *
Figure 10.3a.4.1.2: EGPRS uplink RLC data block header (FANR activated)\ for
MCS-7, MCS-8 and MCS-9.
#### 10.3a.4.2 Header type 2: header for MCS-6 and MCS-5
> The EGPRS combined uplink RLC/MAC header for MCS‑5 and MCS‑6 (header type 2)
> shall be formatted according to figure 10.3a.4.2.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
CPS BSN1 3  
Spare PI RSB CPS 4  
Spare 5
* * *
Figure 10.3a.4.2.1: EGPRS uplink RLC data block header (FANR not activated)\
for MCS-5 and MCS-6
> For an EGPRS TBF with FANR activated and for an EGPRS2 TBF, the uplink
> RLC/MAC header for MCS-5 and MCS-6 shall be formatted according to figure
> 10.3a.4.2.2.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
CPS BSN1 3  
Spare PANI PI RSB CPS 4  
Spare 5
* * *
Figure 10.3a.4.2.2: EGPRS (FANR activated) / EGPRS2 uplink RLC data block
header
#### 10.3a.4.3 Header type 3 : header for MCS-4, MCS-3, MCS-2 and MCS-1
> The EGPRS combined uplink RLC/MAC header for MCS‑1, MCS‑2, MCS‑3 and MCS‑4
> (header type 3) shall be formatted according to figure 10.3a.4.3.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
CPS BSN1 3  
Spare PI RSB SPB CPS 4
* * *
Figure 10.3a.4.3.1: EGPRS uplink RLC data block header (FANR not activated)\
for MCS-1, MCS-2, MCS-3 and MCS-4
> For an EGPRS TBF with FANR activated and for an EGPRS2 TBF, the uplink
> RLC/MAC header for MCS-1, MCS-2, MCS-3 and MCS-4 shall be formatted
> according to figure 10.3a.4.3.2.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
CPS BSN1 3  
PANI PI RSB SPB CPS 4
* * *
Figure 10.3a.4.3.2: EGPRS (FANR activated)/EGPRS2 uplink RLC data block
header\ for MCS-1, MCS-2, MCS-3 and MCS-4
#### 10.3a.4.4 Header type 4: header for UAS-7, UAS-8 and UAS-9
The combined uplink RLC/MAC header for UAS-7, UAS-8 and UAS-9 (header type 4)
shall be formatted according to figure 10.3a.4.4.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
Spare PANI PI CPS 5  
Spare 6
* * *
Figure 10.3a.4.4.1: Combined uplink RLC data block header\ for UAS-7, UAS-8
and UAS-9.
#### 10.3a.4.5 Header type 5: header for UAS-10 and UAS-11
The combined uplink RLC/MAC header for UAS-10 and UAS-11 (header type 5) shall
be formatted according to figure 10.3a.4.5.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
BSN3 5  
CPS BSN3 6  
Spare PANI PI 7
* * *
Figure 10.3a.4.5.1: Combined uplink RLC data block header\ for UAS-10, UAS-11.
#### 10.3a.4.6 Header type 6: header for UBS-5 and UBS-6
The combined uplink RLC/MAC header for UBS-5 and UBS-6 (header type 6) shall
be formatted according to figure 10.3a.4.6.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN TFI 2  
CPS BSN 3  
Spare PANI PI CPS 4
* * *
Figure 10.3a.4.6.1: Combined uplink RLC data block header\ for UBS-5, UBS-6.
#### 10.3a.4.7 Header type 7: header for UBS-7 and UBS-8
The combined uplink RLC/MAC header for UBS-7 and UBS-8 (header type 7) shall
be formatted according to figure 10.3a.4.7.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
Spare PANI PI CPS 5
* * *
Figure 10.3a.4.7.1: Combined uplink RLC data block header\ for UBS-7, UBS-8.
#### 10.3a.4.8 Header type 8: header for UBS-9 and UBS-10
The combined uplink RLC/MAC header for UBS-9 and UBS-10 (header type 8) shall
be formatted according to figure 10.3a.4.8.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
BSN3 5  
CPS BSN3 6  
Spare PANI PI 7
* * *
Figure 10.3a.4.8.1: Combined uplink RLC data block header\ for UBS-9, UBS-10.
#### 10.3a.4.9 Header type 9: header for UBS-11 and UBS-12
The combined uplink RLC/MAC header for UBS-11 and UBS-12 (header type 9) shall
be formatted according to figure 10.3a.4.9.1.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1  
BSN1 TFI 2  
BSN2 BSN1 3  
BSN2 4  
BSN3 5  
BSN4 BSN3 6  
CPS BSN4 7  
Spare PANI PI CPS 8
* * *
Figure 10.3a.4.9.1: Combined uplink RLC data block header\ for UBS-11, UBS-12.
## 10.3a.5 Piggy-backed Ack/Nack field (SSN-based)
> When the SSN-based encoding is used (see sub-clause 9.1.14.1), the Piggy-
> backed Ack/Nack (PAN) field consists of a beginning of window (BOW), a short
> starting sequence number (ShortSSN), a reported bitmap (RB) and a temporary
> flow identifier (TFI) fields. In the downlink direction, the TFI field shall
> always include a valid value. In the uplink direction, the TFI field shall
> include a valid value only if multiple TBF procedures are supported by both
> the network and the mobile station; in all other cases, the bits of the TFI
> field shall be set to \'0\'. The length of the PAN field is 25 bits. The
> size of the ShortSSN field varies between 7 and 11 bits as defined in sub-
> clause 10.4.23. The remaining bits in the PAN field are reserved for the
> reported bitmap with a size varying between 8 and 12 bits.
>
> The order of bits is as for the UNCOMPRESSED_RECEIVE_BLOCK_BITMAP field in
> the EGPRS Ack/Nack Description information element (see sub-clause 12.3.1)
> i.e. the lowest order bit in the RB field corresponds to the block with the
> sequence number from which the ShortSSN is derived.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet ShortSSN BOW 1  
RB ShortSSN / RB 2  
TFI RB 3  
TFI 4
* * *
Figure 10.3a.5.1: Piggy-backed Ack/Nack field (SSN-based)
## 10.3a.6 Piggy-backed Ack/Nack field (Time-based)
> When the Time-based encoding is used (see sub-clause 9.1.14.1), the Piggy-
> backed Ack/Nack (PAN) field consists of a 20 bits reported bitmap, as
> described in sub-clause 9.1.15, plus 5 bits set to \'0.
>
> Codepoints are included so that the codepoints corresponding to blocks
> transmitted earlier are contained in the less significant bit(s) in the
> field.
* * *
Bit  
8 7 6 5 4 3 2 1 Octet Reported bitmap 1  
Reported bitmap (continued) 2  
0 0 0 0 Reported bitmap (cont) 3  
0 4
* * *
Figure 10.3a.6.1: Piggy-backed Ack/Nack field (Time-based)
## 10.4 Header fields
### 10.4.1 Uplink state flag (USF) field
The USF field is sent in all downlink RLC/MAC blocks and indicates the owner
or use of the next uplink radio block on the same timeslot (see 3GPP TS
45.002). The USF field is three bits in length and eight different USF values
can be assigned, except on PCCCH, where the value \'111\' (USF=FREE) indicates
that the corresponding uplink radio block contains PRACH.
### 10.4.2 Retry (R) bit
The Retry (R) bit shall indicate whether the mobile station transmitted the
CHANNEL REQUEST message (see 3GPP TS 44.018), PACKET CHANNEL REQUEST message,
EGPRS PACKET CHANNEL REQUEST message or MPRACH PACKET CHANNEL REQUEST message
one time or more than one time during its most recent channel access. The
mobile station shall send the same value for the R bit in each uplink RLC/MAC
block of the TBF.
Table 10.4.2.1: Retry (R) bit
* * *
bit 1 Retry (R) bit 0 MS sent channel request message once 1 MS sent channel
request message twice or more
* * *
### 10.4.3 Stall indicator (SI) bit
The Stall indicator (SI) bit indicates whether the mobile\'s RLC transmit
window can advance (i.e. is not stalled) or can not advance (i.e. is stalled).
The mobile station shall set the SI bit in all uplink RLC data blocks.
Table 10.4.3.1: Stall indicator bit
* * *
bit 2 Stall indicator 0 MS RLC transmit window is not stalled 1 MS RLC
transmit window is stalled
* * *
### 10.4.4 Supplementary/Polling (S/P) Bit
The S/P bit is used to indicate whether the RRBP field is valid or not valid.
Table 10.4.4.1: Supplementary/Polling (S/P) bit - GPRS case and RLC/MAC
control
* * *
bit 4 S/P 0 RRBP field is not valid 1 RRBP field is valid
* * *
### 10.4.4a EGPRS Supplementary/Polling (ES/P) Field
The ES/P field is used to indicate whether the RRBP field is valid or not
valid, and what fields the next uplink control block shall contain (see
further clause 9).
NOTE: The type of Ack/Nack bitmap requested by this field is applicable only
when the next uplink control block is used to send an EGPRS PACKET DOWNLINK
ACK/NACK, EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 or MBMS DOWNLINK ACK/NACK
message.
Table 10.4.4a.1: EGPRS Supplementary/Polling (ES/P) field (non-MBMS only)
* * *
bits\ ES/P 5 4
0 0 RRBP field is not valid (no Polling)
0 1 RRBP field is valid - Extended Ack/Nack bitmap type FPB
1 0 RRBP field is valid - Extended Ack/Nack bitmap type NPB
1 1 RRBP field is valid - Ack/Nack bitmap type NPB, measurement report
included
* * *
Table 10.4.4a.1: EGPRS Supplementary/Polling (ES/P) field (MBMS only)
* * *
bits\ ES/P 5 4
0 0 RRBP field is not valid (no Polling)
0 1 RRBP field is valid - Extended Ack/Nack bitmap type FPB
1 0 RRBP field is valid - Extended Ack/Nack bitmap type NPB
1 1 RRBP field is valid - Extended Ack/Nack bitmap type NPB, neighbouring cell
measurement reports included
* * *
### 10.4.4b Combined EGPRS Supplementary/Polling (CES/P) Field
The CES/P field is used to indicate what fields the next uplink radio block
reserved by this field shall contain (see further clause 9). The single uplink
block is defined by a delay relative to the first TDMA frame (N) of the
downlink block containing the CES/P value. The procedures defined for
transmission of a PACCH block to the network as described in sub-clause 10.4.5
shall apply.
If the mobile station is polled for a Piggy-backed Ack/Nack, the mobile
station shall transmit the uplink radio block on the same timeslot as the
block where the CES/P field was received (in case of a BTTI configuration) or
on the uplink PDCH pair corresponding to the downlink PDCH pair where the
block containing the CES/P field was received (in case of an RTTI
configuration). The mobile station need not monitor the USF in the associated
downlink RLC/MAC block appearing just before the uplink block it shall
transmit. However, when Extended Dynamic Allocation or Shifted USF operation
is used, the corresponding USF monitoring procedure shall apply as described
in sub-clause 8.1.1.2.1 and sub-clause 8.1.1.2.4 respectively.
Table 10.4.4b.1: Combined EGPRS Supplementary/Polling (CES/P) field
* * *
bits\ CES/P  
6 5 4
                                                                                                                                                                                                             Feedback                                                                  Reserved Block
                                                                                                                                                                                                                                                                                       BTTI                       RTTI
0 0 0 no Polling - -
0 0 1 Extended Ack/Nack bitmap type FPB (N+8 or N+9) mod 2715648 (N+6 or N+7)
mod 2715648
0 1 0 Extended Ack/Nack bitmap type FPB (N+13) mod 2715648 (N+8 or N+9) mod
2715648
0 1 1 Piggy-backed Ack/Nack bitmap type FPB (see sub-clause 8.1.2.2) see note
(N+8 or N+9) mod 2715648 (N+6 or N+7) mod 2715648
1 0 0 Piggy-backed Ack/Nack bitmap type FPB (see sub-clause 8.1.2.2) see note
(N+13) mod 2715648 (N+8 or N+9) mod 2715648
1 0 1 Extended Ack/Nack bitmap type NPB, measurement report included (N+8 or
N+9) mod 2715648 (N+6 or N+7) mod 2715648
1 1 0 Extended Ack/Nack bitmap type NPB, measurement report included (N+13)
mod 2715648 (N+8 or N+9) mod 2715648
1 1 1 Extended Ack/Nack bitmap type NPB (N+8 or N+9) mod 2715648 (N+6 or N+7)
mod 2715648
NOTE: In case where a PAN cannot be sent, the Extended Ack/Nack bitmap type
NPB with measurement report included shall be transmitted on the allocated
reserved block instead (see sub-clause 9.1.14.2).
* * *
### 10.4.5 Relative Reserved Block Period (RRBP) field
The RRBP value specifies a single uplink block in which the mobile station
shall transmit either a PACKET CONTROL ACKNOWLEDGEMENT message or a PACCH
block to the network. If the RRBP field is received as part of an RLC/MAC
block containing an RLC/MAC control block, the mobile station shall transmit a
PACKET CONTROL ACKNOWLEDGEMENT message in the uplink radio block specified,
except if:
\- The received message is a Packet Paging Request, Packet Access Reject, or
Packet Queuing Notification message, or
\- It is specified elsewhere that the mobile station shall not respond to the
polling request.
If the RRBP field is received as part of an RLC/MAC block containing an
RLC/MAC control block containing a Packet Paging Request, Packet Access
Reject, or Packet Queuing Notification message, or it is specified elsewhere
that the mobile station shall not respond to the polling request, the mobile
station shall ignore this RRBP field. The mobile station shall only react on
RLC/MAC control blocks containing a valid RRBP field if the mobile station is
addressed either in the downlink RLC/MAC control block header or in the
control message itself. If the control message is segmented into more than one
downlink RLC/MAC control blocks the mobile station shall react only on RLC/MAC
control blocks containing a valid RRBP field if the mobile station is
addressed in the downlink RLC/MAC control block header.
If the mobile station receives two or more RLC/MAC blocks containing an
RLC/MAC control message with different RRBP values such that they specify the
same uplink block, the mobile station shall transmit one PACKET CONTROL
ACKNOWLEDGEMENT message in the specified uplink radio block.
If the RRBP field is received as part of a RLC/MAC block containing an RLC
data block, the mobile station shall transmit a PACCH block in the specified
uplink radio block. If the mobile station receives two or more RLC/MAC blocks
containing an RLC data block with different RRBP values such they specify the
same uplink radio block, the mobile station shall transmit one PACCH block in
the specified uplink radio block.
If the mobile station receives an RLC data block and an RLC/MAC control block
with different RRBP values such that they specify the same uplink radio block,
the mobile station shall transmit an PACKET CONTROL ACKNOWLEDGEMENT message in
the specified uplink radio block.
In case of a BTTI configuration, the mobile station shall transmit the uplink
radio block on the same timeslot as the block where the RRBP was received or,
if an uplink control timeslot is assigned to the mobile station, the mobile
station shall transmit the uplink radio block on this uplink control timeslot.
In case of an RTTI configuration, the mobile station shall transmit the uplink
radio block on the corresponding uplink PDCH pair to the downlink PDCH pair
where the block containing the RRBP was received or, if an uplink control
timeslot is assigned to the mobile station, on the uplink PDCH pair the uplink
control timeslot belongs to.
NOTE: In case of an RTTI configuration, the network should not poll the mobile
station on a downlink PDCH pair for which no corresponding uplink PDCH pair
exists.
After receiving an RLC/MAC block containing a valid RRBP field the mobile
station need not monitor the USF in the associated downlink RLC/MAC block
appearing just before the uplink block it shall transmit. However, when
Extended Dynamic Allocation or Shifted USF operation is used, the
corresponding USF monitoring procedure shall apply as described in sub-clause
8.1.1.2.1 and sub-clause 8.1.1.2.4 respectively.
A polled control message shall always be sent in the uplink block specified by
the corresponding valid RRBP field of a downlink RLC/MAC control block, and
not in any other uplink block that may be allocated to the mobile station.
The network should use the RRBP field to schedule the transmission of a PACKET
CONTROL ACKNOWLEDGEMENT message or an uplink PACCH block as follows:
\- For BTTI configuration, no later than the second last BTTI radio block,
B(x‑2) mod 12, before the first BTTI radio block, B(x), where the mobile
station shall be ready to transmit and receive using a new assignment.
\- For RTTI configuration, no later than the second last RTTI radio block,
B(x‑2)~b~, before the first RTTI radio block, B(x)~a~, where the mobile
station shall be ready to transmit and receive using a new assignment or no
later than the second last RTTI radio block, B(x‑1)~a~, before the first RTTI
radio block, B(x)~b~, where the mobile station shall be ready to transmit and
receive using a new assignment.
A mobile station that is scheduled an uplink block later than these times, may
omit responding to the polling request. If a new assignment specifies an
uplink TBF, and the TTI configuration of the uplink TBF specified is the same
as the TTI configuration of the ongoing uplink TBF that this assignment
modifies, or if the assignment does not specify any uplink TBF, then the
mobile station may delay the access using the new assignment in order to
respond to the polling request.
The network should not use the RRBP field to schedule the transmission of
PACKET CONTROL ACKNOWLEDGEMENT messages or uplink PACCH blocks, in such way,
that a mobile station has more than three such uplink blocks pending for
transmission at any instant. A mobile station, that is scheduled such uplink
blocks more frequent than that, may omit responding to the excessive polling
requests.
The RRBP field shall be interpreted according to the TTI configuration in use
for the mobile station on the PDCH (or on the PDCH pair) where the block
containing the RRBP field is received at the time it is received, and, for a
BTTI configuration, according to whether FANR is activated or not for the
mobile station.
For TBFs with FANR not activated, Table 10.4.5.1 specifies the coding of the
RRBP field indicating the number of TDMA frames the mobile station shall wait
before transmitting the uplink RLC/MAC block. The delay is relative to the
first TDMA frame (N) of the downlink block containing the RRBP value. For
definition of TDMA frame numbering, see 3GPP TS 45.002.
Table 10.4.5.1: Relative Reserved Block Period (RRBP) field (FANR not
activated)
* * *
bit\ Full-rate PDCH uplink block with TDMA frame number Half-rate PDCH uplink
block with TDMA frame number 6-5/7-6
0 0 (N+13) mod 2715648 reserved
0 1 (N+17 or N+18) mod 2715648 (N+17 or N+18) mod 2715648
1 0 (N+21 or N+22) mod 2715648 reserved
1 1 (N+26) mod 2715648 (N+26) mod 2715648
* * *
If the mobile station is operating on a half-rate PDCH and it receives an
RLC/MAC block with a reserved RRBP value, it shall regard the RRBP field as
not valid and shall ignore the polling.
For TBFs with FANR activated, Table 10.4.5.2 specifies the coding of the RRBP
field indicating the number of TDMA frames the mobile station shall wait
before transmitting the uplink RLC/MAC block.
Table 10.4.5.2: Relative Reserved Block Period (RRBP) field (FANR activated)
* * *
bit\ PDCH uplink block with TDMA frame number (BTTI) PDCH uplink block with
TDMA frame number (RTTI) 6-5
0 0 (N+13) mod 2715648 reserved
0 1 (N+8 or N+9) mod 2715648 (N+8 or N+9) mod 2715648
1 0 reserved (N+6 or N+7) mod 2715648
1 1 reserved reserved
NOTE: Table 10.4.5.2 only applies to RLC/MAC control blocks encoded using
CS-1, while the CES/P field is used in case of polling in RLC data blocks (see
sub-clause 10.4.4b).
* * *
In downlink RLC/MAC Control blocks encoded using MSC-0, a 1-bit RRBP is
defined (see subclause 10.3a.3.3). In this case the number of TDMA frames the
mobile station shall wait before transmitting the uplink RLC/MAC block is
indicated in Table 10.4.5.3.
Table 10.4.5.3: Relative Reserved Block Period (RRBP) field -- 1 bit field
* * *
bit\ PDCH uplink block with TDMA frame number 5
0 (N+6 or N+7) mod 2715648
1 (N+8 or N+9) mod 2715648
* * *
#### 10.4.5.1 Special requirements in dual transfer mode
If the mobile station in dual transfer mode is using PDCH/H, where the
_exclusive allocation is required_ , _special requirements apply_ when the
mobile station receives a valid RRBP field in a downlink RLC/MAC block:
\- The mobile station may disregard the actual value of a valid RRBP field.
The mobile station shall respond to the polling request at the TDMA frame
number specified by one of the allowed RRBP values, regardless of which value
that was actually received.
\- If the mobile station receives more than one RLC/MAC block with a valid
RRBP field, the mobile station shall respond to each one of the polling
requests with a separate PACKET CONTROL ACKNOWLEDGEMENT message or PACCH block
to the network.
\- When the mobile station responds with a PACKET CONTROL ACKNOWLEDGEMENT
message to a valid RRBP field, the mobile station shall use the RLC/MAC
control block format. That is regardless of the CONTROL_ACK_TYPE parameter
received in the broadcast information of the cell or the TYPE_OF_ACK parameter
received in a PACKET POLLING REQUEST message.
If the mobile station in dual transfer mode is not using PDCH/H, the _normal
requirements apply_ when the mobile station receives a valid RRBP field in a
downlink RLC/MAC block.
### 10.4.6 Countdown Value (CV) field
The Countdown Value (CV) field is sent by the mobile station to allow the
network to calculate the number of RLC data blocks remaining for the current
uplink RLC entity. The CV value shall be calculated according to the process
described in sub-clause 9.3.1. The CV field is 4 bits in length and is encoded
as a binary number with range 0 to 15.
### 10.4.7 Payload Type field
The Payload Type field shall indicate the type of data contained in remainder
of the RLC/MAC block. The encoding of the Payload Type field is shown in table
10.4.7.1.
Table 10.4.7.1: Payload Type field
* * *
bit\ Payload Type 8 7
0 0 RLC/MAC block contains an RLC data block
0 1 RLC/MAC block contains an RLC/MAC control block that does not include the
optional octets of the RLC/MAC control header
10 In the downlink direction, the RLC/MAC block contains an RLC/MAC control
block that includes the optional first octet of the RLC/MAC control header.\
In the uplink direction, this value is reserved.
1 1 Reserved. In this version of the protocol, the mobile station shall ignore
all fields of the RLC/MAC block except for the USF field
* * *
In downlink RLC/MAC Control blocks encoded using MSC-0, the encoding of the
Payload Type field is shown in table 10.4.7.2.
Table 10.4.7.2: Payload Type field, MCS-0
* * *
bit\ Payload Type 8
0 RLC/MAC block contains an RLC/MAC control block that does not include the
optional octets of the RLC/MAC control block message shown in figure 10.3.1.2
1 RLC/MAC block contains an RLC/MAC control block that includes at least the
first optional octet of the RLC/MAC control block message shown in figure
10.3.1.2.
* * *
### 10.4.8 Final block indicator (FBI) bit
The Final block indicator (FBI) bit indicates that the downlink RLC data block
is the last RLC data block of the downlink TBF.
Table 10.4.8.1: Final block indicator bit
* * *
bit 1 Final block indicator 0 Current block is not last RLC data block in TBF
1 Current block is last RLC data block in TBF
* * *
### 10.4.8a Coding and Puncturing Scheme indicator field (CPS)
In EGPRS header, the Coding and Puncturing Scheme indicator field is used to
indicate the kind of channel coding and puncturing used for data blocks (see
3GPP TS 45.003).
#### 10.4.8a.1 Header type 1
Table 10.4.8a.1.1: Coding and Puncturing Scheme indicator field for Header
type 1 in EGPRS TBF or downlink EGPRS2 TBF
+----------------------------------+----------------------------------+ | bits\ | CPS | | 54321 | | +----------------------------------+----------------------------------+ | 00000 | (MCS-9/P1 ; MCS-9/P1) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 00001 | (MCS-9/P1 ; MCS-9/P2) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 00010 | (MCS-9/P1 ; MCS-9/P3) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 00100 | (MCS-9/P2 ; MCS-9/P1) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 00101 | (MCS-9/P2 ; MCS-9/P2) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 00110 | (MCS-9/P2 ; MCS-9/P3) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 01000 | (MCS-9/P3 ; MCS-9/P1) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 01001 | (MCS-9/P3 ; MCS-9/P2) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 01010 | (MCS-9/P3 ; MCS-9/P3) (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 01011 | (MCS-8/P1 ; MCS-8/P1) | +----------------------------------+----------------------------------+ | 01100 | (MCS-8/P1 ; MCS-8/P2) | +----------------------------------+----------------------------------+ | 01101 | (MCS-8/P1 ; MCS-8/P3) | +----------------------------------+----------------------------------+ | 01110 | (MCS-8/P2 ; MCS-8/P1) | +----------------------------------+----------------------------------+ | 01111 | (MCS-8/P2 ; MCS-8/P2) | +----------------------------------+----------------------------------+ | 10000 | (MCS-8/P2 ; MCS-8/P3) | +----------------------------------+----------------------------------+ | 10001 | (MCS-8/P3 ; MCS-8/P1) | +----------------------------------+----------------------------------+ | 10010 | (MCS-8/P3 ; MCS-8/P2) | +----------------------------------+----------------------------------+ | 10011 | (MCS-8/P3 ; MCS-8/P3) | +----------------------------------+----------------------------------+ | 10100 | (MCS-7/P1 ; MCS-7/P1) | +----------------------------------+----------------------------------+ | 10101 | (MCS-7/P1 ; MCS-7/P2) | +----------------------------------+----------------------------------+ | 10110 | (MCS-7/P1 ; MCS-7/P3) | +----------------------------------+----------------------------------+ | 10111 | (MCS-7/P2 ; MCS-7/P1) | +----------------------------------+----------------------------------+ | 11000 | (MCS-7/P2 ; MCS-7/P2) | +----------------------------------+----------------------------------+ | 11001 | (MCS-7/P2 ; MCS-7/P3) | +----------------------------------+----------------------------------+ | 11010 | (MCS-7/P3 ; MCS-7/P1) | +----------------------------------+----------------------------------+ | 11011 | (MCS-7/P3 ; MCS-7/P2) | +----------------------------------+----------------------------------+ | 11100 | (MCS-7/P3 ; MCS-7/P3) | +----------------------------------+----------------------------------+ | | All the other values are | | | reserved for future use | +----------------------------------+----------------------------------+ | NOTE 1: The bit numbering is | | | relative to the field position. | | | | | | NOTE 2: MCS-9 shall only be used | | | for an EGPRS TBF or for a | | | downlink EGPRS2-B TBF. | | +----------------------------------+----------------------------------+
#### 10.4.8a.2 Header type 2
In EGPRS and in EGPRS2-A uplink, the Coding and Puncturing Scheme indicator
field indicates the kind of channel coding and puncturing used for data block
as defined in table 10.4.8a.2.1.
Table 10.4.8a.2.1: Coding and Puncturing Scheme indicator field for Header
type 2 in EGPRS TBF or uplink EGPRS2-A TBF
+----------------------------------+----------------------------------+ | bits\ | (first block)\ | | 321 | CPS | +----------------------------------+----------------------------------+ | 000 | MCS-6/P1 | +----------------------------------+----------------------------------+ | 001 | MCS-6/P2 | +----------------------------------+----------------------------------+ | 010 | MCS-6/P1 with 6 octets padding | | | (see NOTE 2) | +----------------------------------+----------------------------------+ | 011 | MCS-6/P2 with 6 octets padding | | | (see NOTE 2) | +----------------------------------+----------------------------------+ | 100 | MCS-5/P1 | +----------------------------------+----------------------------------+ | 101 | MCS-5/P2 | +----------------------------------+----------------------------------+ | 110 | MCS-6/P1 with 10 octets padding | | | (see NOTE 3) | +----------------------------------+----------------------------------+ | 111 | MCS-6/P2 with 10 octets padding | | | (see NOTE 3) | +----------------------------------+----------------------------------+ | NOTE 1: The bit numbering is | | | relative to the field position. | | | | | | NOTE 2: MCS-6 with 6 octets | | | padding shall only be used for | | | an EGPRS TBF or, in case of an | | | uplink EGPRS2-A TBF, for | | | retransmission of blocks | | | originally transmitted using | | | EGPRS. | | | | | | NOTE 3: MSC-6 with 10 octets | | | padding shall only be used for | | | an uplink EGPRS2-A TBF or, in | | | case of an uplink EGPRS TBF, for | | | retransmission of blocks | | | originally transmitted using | | | EGPRS2-A. | | +----------------------------------+----------------------------------+
In EGPRS2 downlink, if the Downlink EGPRS Level assigned (see Table 11.2.7.1
and Table 12.10f.1) is EGPRS2-A, the Coding and Puncturing Scheme indicator
field indicates the kind of channel coding and puncturing used for data block
as defined in table 10.4.8a.2.2.
Table 10.4.8a.2.2: Coding and Puncturing Scheme indicator field for\ Header
type 2 in downlink EGPRS2-A TBF
+---------------------------------------------+-----------------------+ | bits\ | CPS | | 321 | | +---------------------------------------------+-----------------------+ | 000 | MCS-6/P1 (see NOTE 2) | +---------------------------------------------+-----------------------+ | 001 | MCS-6/P2 (see NOTE 2) | +---------------------------------------------+-----------------------+ | 010 | DAS-5/P1 | +---------------------------------------------+-----------------------+ | 011 | DAS-5/P2 | +---------------------------------------------+-----------------------+ | 100 | DAS-6/P1 | +---------------------------------------------+-----------------------+ | 101 | DAS-6/P2 | +---------------------------------------------+-----------------------+ | 110 | DAS-7/P1 | +---------------------------------------------+-----------------------+ | 111 | DAS-7/P2 | +---------------------------------------------+-----------------------+ | NOTE 1: The bit numbering is relative to | | | the field position. | | | | | | NOTE 2: In EGPRS2-A downlink, MCS-6 shall | | | be used only for retransmissions of blocks | | | originally transmitted using EGPRS. | | +---------------------------------------------+-----------------------+
In EGPRS2 downlink, if the Downlink EGPRS Level assigned (see Table 11.2.7.1
and Table 12.10f.1) is EGPRS2-B, the Coding and Puncturing Scheme indicator
field indicates the kind of channel coding and puncturing used for data block
as defined in table 10.4.8a.2.3.
Table 10.4.8a.2.3: Coding and Puncturing Scheme indicator field for\ Header
type 2 in downlink EGPRS2-B TBF
* * *
bits\ CPS 321
000 MCS-6/P1
001 MCS-6/P2
010 DAS-5/P1
011 DAS-5/P2
100 DAS-6/P1
101 DAS-6/P2
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
#### 10.4.8a.3 Header type 3
Table 10.4.8a.3.1: Coding and Puncturing Scheme indicator field for Header
type 3
+----------------------------------+----------------------------------+ | bits\ | First block\ | | 4321 | CPS | +----------------------------------+----------------------------------+ | 0000 | MCS-4/P1 | +----------------------------------+----------------------------------+ | 0001 | MCS-4/P2 | +----------------------------------+----------------------------------+ | 0010 | MCS-4/P3 | +----------------------------------+----------------------------------+ | 0011 | MCS-3/P1 | +----------------------------------+----------------------------------+ | 0100 | MCS-3/P2 | +----------------------------------+----------------------------------+ | 0101 | MCS-3/P3 | +----------------------------------+----------------------------------+ | 0110 | MCS-3/P1 with padding | +----------------------------------+----------------------------------+ | 0111 | MCS-3/P2 with padding | +----------------------------------+----------------------------------+ | 1000 | MCS-3/P3 with padding | +----------------------------------+----------------------------------+ | 1001 | MCS-2/P1 | +----------------------------------+----------------------------------+ | 1010 | MCS-2/P2 | +----------------------------------+----------------------------------+ | 1011 | MCS-1/P1 | +----------------------------------+----------------------------------+ | 1100 | MCS-1/P2 | +----------------------------------+----------------------------------+ | 1101 | MCS-2/P1 with padding (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 1110 | MCS-2/P2 with padding (see NOTE | | | 2) | +----------------------------------+----------------------------------+ | 1111 | MCS-0 | +----------------------------------+----------------------------------+ | NOTE 1: The bit numbering is | | | relative to the field position. | | | | | | NOTE 2: MCS-2 with padding shall | | | only be used for a downlink | | | EGPRS2-A TBF or, in case of a | | | downlink EGPRS TBF, for | | | retransmissions of blocks | | | originally transmitted using | | | EGPRS2‑A. | | | | | | NOTE 3: MCS-0 shall only be used | | | for a downlink TBF. | | +----------------------------------+----------------------------------+
The number of padding octets for uplink is indicated by the SPB field (see sub
clause 10.4.8b).
#### 10.4.8a.4 Header type 4
In downlink, the Coding and Puncturing Scheme indicator field indicates the
kind of channel coding and puncturing used for data block as defined in table
10.4.8a.4.1.
Table 10.4.8a.4.1: Coding and Puncturing Scheme indicator field\ for Header
type 4 in downlink
* * *
bits\ CPS 4321
0000 DAS-9/P1 ; DAS-9/P1
0001 DAS-9/P1 ; DAS-9/P2
0010 DAS-9/P1 ; DAS-9/P3
0011 DAS-9/P2 ; DAS-9/P1
0100 DAS-9/P2 ; DAS-9/P2
0101 DAS-9/P2 ; DAS-9/P3
0110 DAS-9/P3 ; DAS-9/P1
0111 DAS-9/P3 ; DAS-9/P2
1000 DAS-9/P3 ; DAS-9/P3
1001 DAS-8/P1 ; DAS-8/P1
1010 DAS-8/P1 ; DAS-8/P2
1011 DAS-8/P2 ; DAS-8/P1
1100 DAS-8/P2 ; DAS-8/P2
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
In uplink, the Coding and Puncturing Scheme indicator field indicates the kind
of channel coding and puncturing used for data block as defined in table
10.4.8a.4.2.
Table 10.4.8a.4.2: Coding and Puncturing Scheme indicator field\ for Header
type 4 in uplink
* * *
bits\ CPS 54321
00000 (UAS-9/P1 ; UAS-9/P1)
00001 (UAS-9/P1 ; UAS-9/P2)
00010 (UAS-9/P1 ; UAS-9/P3)
00011 (UAS-9/P2 ; UAS-9/P1)
00100 (UAS-9/P2 ; UAS-9/P2)
00101 (UAS-9/P2 ; UAS-9/P3)
00110 (UAS-9/P3 ; UAS-9/P1)
00111 (UAS-9/P3 ; UAS-9/P2)
01000 (UAS-9/P3 ; UAS-9/P3)
01001 (UAS-8/P1 ; UAS-8/P1)
01010 (UAS-8/P1 ; UAS-8/P2)
01011 (UAS-8/P2 ; UAS-8/P1)
01100 (UAS-8/P2 ; UAS-8/P2)
01101 (UAS-7/P1 ; UAS-7/P1)
01110 (UAS-7/P1 ; UAS-7/P2)
01111 (UAS-7/P2 ; UAS-7/P1)
10000 (UAS-7/P2 ; UAS-7/P2)
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
#### 10.4.8a.5 Header type 5
In downlink, the Coding and Puncturing Scheme indicator field indicates the
kind of channel coding and puncturing used for data block as defined in table
10.4.8a.5.1 for EGPRS2-A TBF and 10.4.8a.5.1a for EGPRS2-B TBF and table
10.4.8a.5.3.
Table 10.4.8a.5.1: Bit 6 of Coding and Puncturing Scheme indicator field for\
Header type 5 in downlink for EGPRS2-A TBF
* * *
bit\ CPS 6
0 DAS-11
1 DAS-12
NOTE: The bit numbering is relative to the field position.
* * *
Table 10.4.8a.5.1a: Bit 6 of Coding and Puncturing Scheme indicator field for\
Header type 5 in downlink for EGPRS2-B TBF
* * *
bit\ CPS 6
0 DAS-11
1 DAS-12 with padding
NOTE: The bit numbering is relative to the field position.
* * *
For DAS-12 with padding, the first 8 data octets of the RLC data block are
padded with zeros.
In uplink, the Coding and Puncturing Scheme indicator field indicates the kind
of channel coding and puncturing used for data block as defined in table
10.4.8a.5.2 and table 10.4.8a.5.3.
Table 10.4.8a.5.2: Bit 6 of Coding and Puncturing Scheme indicator field for\
Header type 5 in uplink
* * *
bit\ CPS 6
0 UAS-10
1 UAS-11
NOTE: The bit numbering is relative to the field position.
* * *
Table 10.4.8a.5.3: Bits 1 to 5 of Coding and Puncturing Scheme indicator field
for\ Header type 5 common for downlink and uplink
* * *
bits\ CPS 54321
00000 (P1 ; P1 ; P1)
00001 (P1 ; P1 ; P2)
00010 (P1 ; P1 ; P3)
00011 (P1 ; P2 ; P1)
00100 (P1 ; P2 ; P2)
00101 (P1 ; P2 ; P3)
00110 (P1 ; P3 ; P1)
00111 (P1 ; P3 ; P2)
01000 (P1 ; P3 ; P3)
01001 (P2 ; P1 ; P1)
01010 (P2 ; P1 ; P2)
01011 (P2 ; P1 ; P3)
01100 (P2 ; P2 ; P1)
01101 (P2 ; P2 ; P2)
01110 (P2 ; P2 ; P3)
01111 (P2 ; P3 ; P1)
10000 (P2 ; P3 ; P2)
10001 (P2 ; P3 ; P3)
10010 (P3 ; P1 ; P1)
10011 (P3 ; P1 ; P2)
10100 (P3 ; P1 ; P3)
10101 (P3 ; P2 ; P1)
10110 (P3 ; P2 ; P2)
10111 (P3 ; P2 ; P3)
11000 (P3 ; P3 ; P1)
11001 (P3 ; P3 ; P2)
11010 (P3 ; P3 ; P3)
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
#### 10.4.8a.6 Header type 6
In downlink, the Coding and Puncturing Scheme indicator field indicates the
kind of channel coding and puncturing used for data block as defined in table
10.4.8a.6.1.
Table 10.4.8a.6.1: Coding and Puncturing Scheme indicator field for\ Header
type 6 in downlink
* * *
bits\ CPS 321
000 DBS-5 P1
001 DBS-5 P2
010 DBS-6 P1
011 DBS-6 P2
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
In uplink, the Coding and Puncturing Scheme indicator field indicates the kind
of channel coding and puncturing used for data block as defined in table
10.4.8a.6.2.
Table 10.4.8a.6.2: Coding and Puncturing Scheme indicator field for\ Header
type 6 in uplink
* * *
bits\ CPS 321
000 UBS-5 P1
001 UBS-5 P2
010 UBS-6 P1
011 UBS-6 P2
100 UBS-6 P1 with padding
101 UBS-6 P2 with padding
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
#### 10.4.8a.7 Header type 7
In downlink, the Coding and Puncturing Scheme indicator field indicates the
kind of channel coding and puncturing used for data block as defined in table
10.4.8a.7.1 and table 10.4.8a.7.3.
Table 10.4.8a.7.1: Bit 4 of Coding and Puncturing Scheme indicator field for\
Header type 7 in downlink
* * *
bit\ CPS 4
0 DBS-7
1 DBS-8
NOTE: The bit numbering is relative to the field position.
* * *
In uplink, the Coding and Puncturing Scheme indicator field indicates the kind
of channel coding and puncturing used for data block as defined in table
10.4.8a.7.2 and table 10.4.8a.7.3.
Table 10.4.8a.7.2: Bit 4 of Coding and Puncturing Scheme indicator field for\
Header type 7 in downlink
* * *
bit\ CPS 4
0 UBS-7
1 UBS-8
NOTE: The bit numbering is relative to the field position.
* * *
Table 10.4.8a.7.3: Bit 1 and 3 of Coding and Puncturing Scheme indicator field
for\ Header type 7 common for downlink and uplink
* * *
bits\ CPS 321
000 (P1 ; P1)
001 (P1 ; P2)
010 (P2 ; P1)
011 (P2 ; P2)
100 (P1 ; P1) with padding
101 (P1 ; P2) with padding
110 (P2 ; P1) with padding
111 (P2 ; P2) with padding
NOTE: The bit numbering is relative to the field position.
* * *
#### 10.4.8a.8 Header type 8
The Coding and Puncturing Scheme indicator field indicates the kind of channel
coding and puncturing used for data block as defined in table 10.4.8a.8.1 for
uplink and table 10.4.8a.8.2 for downlink. DBS-9 and DBS-10, and also UBS-9
and UBS-10 use different modulations hence the CPS field need not distinguish
between these coding schemes.
Table 10.4.8a.8.1: Coding and Puncturing Scheme indicator field for\ Header
type 8 in uplink
* * *
bits\ CPS 654321
000000 (P1 ; P1 ; P1)
000001 (P1 ; P1 ; P2)
000010 (P1 ; P1 ; P3)
000100 (P1 ; P2 ; P1)
000101 (P1 ; P2 ; P2)
000110 (P1 ; P2 ; P3)
001000 (P1 ; P3 ; P1)
001001 (P1 ; P3 ; P2)
001010 (P1 ; P3 ; P3)
001011 (P2 ; P1 ; P1)
001100 (P2 ; P1 ; P2)
001101 (P2 ; P1 ; P3)
001110 (P2 ; P2 ; P1)
001111 (P2 ; P2 ; P2)
010000 (P2 ; P2 ; P3)
010001 (P2 ; P3 ; P1)
010010 (P2 ; P3 ; P2)
010011 (P2 ; P3 ; P3)
010100 (P3 ; P1 ; P1)
010101 (P3 ; P1 ; P2)
010110 (P3 ; P1 ; P3)
010111 (P3 ; P2 ; P1)
011000 (P3 ; P2 ; P2)
011001 (P3 ; P2 ; P3)
011010 (P3 ; P3 ; P1)
011011 (P3 ; P3 ; P2)
011100 (P3 ; P3 ; P3)
011101 (P1 ; P1 ; P1) with padding
011110 (P1 ; P1 ; P2) with padding
011111 (P1 ; P1 ; P3) with padding
100000 (P1 ; P2 ; P1) with padding
100001 (P1 ; P2 ; P2) with padding
100010 (P1 ; P2 ; P3) with padding
100011 (P1 ; P3 ; P1) with padding
100100 (P1 ; P3 ; P2) with padding
100101 (P1 ; P3 ; P3) with padding
100110 (P2 ; P1 ; P1) with padding
100111 (P2 ; P1 ; P2) with padding
101000 (P2 ; P1 ; P3) with padding
101001 (P2 ; P2 ; P1) with padding
101010 (P2 ; P2 ; P2) with padding
101011 (P2 ; P2 ; P3) with padding
101100 (P2 ; P3 ; P1) with padding
101101 (P2 ; P3 ; P2) with padding
101110 (P2 ; P3 ; P3) with padding
101111 (P3 ; P1 ; P1) with padding
110000 (P3 ; P1 ; P2) with padding
110001 (P3 ; P1 ; P3) with padding
110010 (P3 ; P2 ; P1) with padding
110011 (P3 ; P2 ; P2) with padding
110100 (P3 ; P2 ; P3) with padding
110101 (P3 ; P3 ; P1) with padding
110110 (P3 ; P3 ; P2) with padding
110111 (P3 ; P3 ; P3) with padding
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
Table 10.4.8a.8.2: Coding and Puncturing Scheme indicator field for\ Header
type 8 in downlink
* * *
bits\ CPS 654321
000000 (P1 ; P1 ; P1)
000001 (P1 ; P1 ; P2)
000010 (P1 ; P1 ; P3)
000100 (P1 ; P2 ; P1)
000101 (P1 ; P2 ; P2)
000110 (P1 ; P2 ; P3)
001000 (P1 ; P3 ; P1)
001001 (P1 ; P3 ; P2)
001010 (P1 ; P3 ; P3)
001011 (P2 ; P1 ; P1)
001100 (P2 ; P1 ; P2)
001101 (P2 ; P1 ; P3)
001110 (P2 ; P2 ; P1)
001111 (P2 ; P2 ; P2)
010000 (P2 ; P2 ; P3)
010001 (P2 ; P3 ; P1)
010010 (P2 ; P3 ; P2)
010011 (P2 ; P3 ; P3)
010100 (P3 ; P1 ; P1)
010101 (P3 ; P1 ; P2)
010110 (P3 ; P1 ; P3)
010111 (P3 ; P2 ; P1)
011000 (P3 ; P2 ; P2)
011001 (P3 ; P2 ; P3)
011010 (P3 ; P3 ; P1)
011011 (P3 ; P3 ; P2)
011100 (P3 ; P3 ; P3)
                                                               All the other values are reserved for future use
NOTE: The bit numbering is relative to the field position.
* * *
#### 10.4.8a.9 Header type 9
In downlink, the Coding and Puncturing Scheme indicator field indicates the
kind of channel coding and puncturing used for data block as defined in table
10.4.8a.9.1 and table 10.4.8a.9.3.
Table 10.4.8a.9.1: Bit 8 of Coding and Puncturing Scheme indicator field for\
Header type 9 in downlink
* * *
bit\ CPS 8
0 DBS-11
1 DBS-12
NOTE: The bit numbering is relative to the field position.
* * *
In uplink, the Coding and Puncturing Scheme indicator field indicates the kind
of channel coding and puncturing used for data block as defined in table
10.4.8a.9.2 and table 10.4.8a.9.3.
Table 10.4.8a.9.2: Bit 8 of Coding and Puncturing Scheme indicator field for\
Header type 9 in uplink
* * *
bit\ CPS 8
0 UBS-11
1 UBS-12
NOTE: The bit numbering is relative to the field position.
* * *
Table 10.4.8a.9.3: Bits 1 to 7 of Coding and Puncturing Scheme indicator field
for\ Header type 9 common for downlink and uplink
* * *
bits\ CPS 7654321
0000000 (P1 ; P1 ; P1; P1)
0000001 (P1 ; P1 ; P1; P2)
0000010 (P1 ; P1 ; P1; P3)
0000011 (P1 ; P1 ; P2; P1)
0000100 (P1 ; P1 ; P2; P2)
0000101 (P1 ; P1 ; P2; P3)
0000110 (P1 ; P1 ; P3; P1)
0000111 (P1 ; P1 ; P3; P2)
0001000 (P1 ; P1 ; P3; P3)
0001001 (P1 ; P2 ; P1; P1)
0001010 (P1 ; P2 ; P1; P2)
0001011 (P1 ; P2 ; P1; P3)
0001100 (P1 ; P2 ; P2; P1)
0001101 (P1 ; P2 ; P2; P2)
0001110 (P1 ; P2 ; P2; P3)
0001111 (P1 ; P2 ; P3; P1)
0010000 (P1 ; P2 ; P3; P2)
0010001 (P1 ; P2 ; P3; P3)
0010010 (P1 ; P3 ; P1; P1)
0010011 (P1 ; P3 ; P1; P2)
0010100 (P1 ; P3 ; P1; P3)
0010101 (P1 ; P3 ; P2; P1)
0010110 (P1 ; P3 ; P2; P2)
0010111 (P1 ; P3 ; P2; P3)
0011000 (P1 ; P3 ; P3; P1)
0011001 (P1 ; P3 ; P3; P2)
0011010 (P1 ; P3 ; P3; P3)
0011011 (P2 ; P1 ; P1; P1)
0011100 (P2 ; P1 ; P1; P2)
0011101 (P2 ; P1 ; P1; P3)
0011110 (P2 ; P1 ; P2; P1)
0011111 (P2 ; P1 ; P2; P2)
0100000 (P2 ; P1 ; P2; P3)
0100001 (P2 ; P1 ; P3; P1)
0100010 (P2 ; P1 ; P3; P2)
0100011 (P2 ; P1 ; P3; P3)
0100100 (P2 ; P2 ; P1; P1)
0100101 (P2 ; P2 ; P1; P2)
0100110 (P2 ; P2 ; P1; P3)
0100111 (P2 ; P2 ; P2; P1)
0101000 (P2 ; P2 ; P2; P2)
0101001 (P2 ; P2 ; P2; P3)
0101010 (P2 ; P2 ; P3; P1)
0101011 (P2 ; P2 ; P3; P2)
0101100 (P2 ; P2 ; P3; P3)
0101101 (P2 ; P3 ; P1; P1)
0101110 (P2 ; P3 ; P1; P2)
0101111 (P2 ; P3 ; P1; P3)
0110000 (P2 ; P3 ; P2; P1)
0110001 (P2 ; P3 ; P2; P2)
0110010 (P2 ; P3 ; P2; P3)
0110011 (P2 ; P3 ; P3; P1)
0110100 (P2 ; P3 ; P3; P2)
0110101 (P2 ; P3 ; P3; P3)
0110110 (P3 ; P1 ; P1; P1)
0110111 (P3 ; P1 ; P1; P2)
0111000 (P3 ; P1 ; P1; P3)
0111001 (P3 ; P1 ; P2; P1)
0111010 (P3 ; P1 ; P2; P2)
0111011 (P3 ; P1 ; P2; P3)
0111100 (P3 ; P1 ; P3; P1)
0111101 (P3 ; P1 ; P3; P2)
0111110 (P3 ; P1 ; P3; P3)
0111111 (P3 ; P2 ; P1; P1)
1000000 (P3 ; P2 ; P1; P2)
1000001 (P3 ; P2 ; P1; P3)
1000010 (P3 ; P2 ; P2; P1)
1000011 (P3 ; P2 ; P2; P2)
1000100 (P3 ; P2 ; P2; P3)
1000101 (P3 ; P2 ; P3; P1)
1000110 (P3 ; P2 ; P3; P2)
1000111 (P3 ; P2 ; P3; P3)
1001000 (P3 ; P3 ; P1; P1)
1001001 (P3 ; P3 ; P1; P2)
1001010 (P3 ; P3 ; P1; P3)
1001011 (P3 ; P3 ; P2; P1)
1001100 (P3 ; P3 ; P2; P2)
1001101 (P3 ; P3 ; P2; P3)
1001110 (P3 ; P3 ; P3; P1)
1001111 (P3 ; P3 ; P3; P2)
1010000 (P3 ; P3 ; P3; P3)
            All other values are reserved for future use
* * *
#### 10.4.8a.10 Header type 10
In downlink, the Coding and Puncturing Scheme indicator field indicates the
kind of channel coding and puncturing used for data block as defined in table
10.4.8a.10.1 for EGPRS2-A TBF and in table 10.4.8a.10.2 for EGPRS2-B TBF.
Table 10.4.8a.10.1: Coding and Puncturing Scheme indicator field for\ Header
type 10 in downlink EGPRS2-A TBF
* * *
bits\ CPS 21
00 DAS-10/P1 ; DAS-10/P1
01 DAS-10/P1 ; DAS-10/P2
10 DAS-10/P2 ; DAS-10/P1
11 DAS-10/P2 ; DAS-10/P2
NOTE: The bit numbering is relative to the field position.
* * *
Table 10.4.8a.10.2: Coding and Puncturing Scheme indicator field for\ Header
type 10 in downlink EGPRS2-B TBF
* * *
bits\ CPS 21
00 DAS-10/P1 ; DAS-10/P1 both with padding
01 DAS-10/P1 ; DAS-10/P2 both with padding
10 DAS-10/P2 ; DAS-10/P1 both with padding
11 DAS-10/P2 ; DAS-10/P2 both with padding
NOTE: The bit numbering is relative to the field position.
* * *
For DAS-10 with padding, the first 8 data octets of the RLC data block are
padded with zeros.
### 10.4.8b Split Block indicator field (SPB)
In EGPRS uplink and EGPRS2 uplink, the Split Block indicator is only used in
header type 3 to indicate if some user data is retransmitted using 2 block
resegmentation (see clause 9).
Table 10.4.8b.1: Split Block indicator field (uplink)
* * *
bits\ SPB 2 1
0 0 No retransmission
0 1 Retransmission - first part of block with 10 octet padding
1 0 Retransmission - first part of block with no padding or 6 octet padding
1 1 Retransmission - second part of block
NOTE: The bit numbering is relative to the field position.
* * *
In case of EGPRS, 10 octet padding shall be used only for retransmissions of
blocks originally transmitted using EGPRS2-A. In case of EGPRS2-A, 6 octet
padding shall be used only for retransmissions of blocks originally
transmitted using EGPRS.
In EGPRS downlink and EGPRS2 downlink, the Split Block indicator is only used
in header type 3 to indicate if some user data is retransmitted using 2 or 3
block resegmentation (see clause 9).
Table 10.4.8b.2: Split Block indicator field (downlink)
+----------------------------------+----------------------------------+ | bits\ | SPB | | 2 1 | | +----------------------------------+----------------------------------+ | 0 0 | No retransmission | +----------------------------------+----------------------------------+ | 0 1 | Retransmission - third part of | | | block (Note 2) | +----------------------------------+----------------------------------+ | 1 0 | Retransmission - first part of | | | block | +----------------------------------+----------------------------------+ | 1 1 | Retransmission - second part of | | | block | +----------------------------------+----------------------------------+ | NOTE 1: The bit numbering is | | | relative to the field position. | | | | | | NOTE 2: In EGPRS downlink this | | | code point is only used when | | | retransmiting blocks at EGPRS | | | level change from EGPRS2-A to | | | EGPRS. | | +----------------------------------+----------------------------------+
### 10.4.9 TLLI Indicator (TI) bit
The TLLI Indicator (TI) bit indicates the presence of an optional TLLI/G-RNTI
field within the RLC data block.
Table 10.4.9.1: TLLI Indicator (TI) bit
* * *
bit 1 TLLI indicator (TI) bit 0 TLLI/G-RNTI field is not present 1 TLLI/G-RNTI
field is present
* * *
### 10.4.9a Address Control (AC) bit
The Address Control (AC) bit is used to indicate the presence of the optional
TFI/D octet in the header of downlink RLC/MAC control blocks.
Table 10.4.9a.1: Address Control (AC) bit
* * *
bit 1 Address Control (AC) bit 0 TFI/D octet is not present 1 TFI/D octet is
present
* * *
### 10.4.9b Final Segment (FS) bit
The Final Segment (FS) bit indicates that the downlink RLC/MAC control block
contains the final segment of an RLC/MAC control message except when it is
sent using extended RLC/MAC control message segmentation. In case of extended
RLC/MAC control message segmentation, the final segment of an RLC/MAC control
message is indicated with the FSe bit as defined in sub-clause 10.4.9e while
the FS bit is set to '0' (see sub-clauses 9.1.12a and 10.4.12b).
Table 10.4.9b.1: Final Segment (FS) bit
* * *
bit 2 Final Segment (FS) bit 0 Current block does not contain the final
segment of an RLC/MAC control message 1 Current block contains the final
segment of an RLC/MAC control message
* * *
### 10.4.9c Radio Transaction Identifier (RTI) field
The Radio Transaction Identifier (RTI) field is used to group the downlink
RLC/MAC control blocks that make up an RLC/MAC control message and identifies
the segmented control message sequence with which the downlink RLC/MAC control
block is associated. The RTI field is five bits in length with range 0 to 31.
### 10.4.9d Direction (D) bit
The Direction (D) bit indicates the direction of the TBF identified by the TFI
field in the downlink RLC/MAC control block header.
Table 10.4.9d.1: Direction (D) bit
* * *
bit 1 Direction (D) bit 0 TFI field identifies an uplink TBF 1 TFI field
identifies a downlink TBF
* * *
### 10.4.9e Final Segment extension (FSe) bit
The Final Segment extension (FSe) bit indicates that the downlink RLC/MAC
control block contains the final segment of an RLC/MAC control message
segmented using extended RLC/MAC control message segmentation (see sub-clauses
9.1.12a and 10.4.12b). The FSe bit is only present from the second RLC/MAC
control block onwards.
Table 10.4.9e.1: Final Segment extension (FSe) bit
* * *
bit 5 Final Segment extension (FSe) bit 0 Current block does not contain the
final segment of an RLC/MAC control message 1 Current block contains the final
segment of an RLC/MAC control message
* * *
### 10.4.10 Temporary Flow Identity (TFI) field
In the header of an RLC/MAC block for data transfer, the TFI identifies the
Temporary Block Flow (TBF) to which the RLC data block belongs. For the
downlink and the uplink TFI the TFI field is 5 bits in length and are encoded
as a binary number with range 0 to 31.In downlink RLC/MAC control blocks, the
TFI identifies the Temporary Block Flow (TBF) to which the RLC/MAC control
message contained in the downlink RLC/MAC control block relates. If present,
this field indicates the mobile station to which the control message is
addressed; all other mobile stations shall analyse the distribution contents,
depending on their protocol state, as specified in clauses 5 and 7 of the
present document. If this field is present and the contents of the control
message also contain a TFI addressing the mobile station, the mobile station
shall ignore the TFI in the control message contents. If this field is not
present all mobile stations shall interpret the contents of the control
message.
If included in a PAN field, the TFI identifies the Temporary Block Flow (TBF)
being acknowledged.
### 10.4.10a Power Reduction (PR) field
The Power Reduction (PR) field indicates the power level reduction of the
current RLC block.
The coding of Power Reduction (PR) field is shown in Table 10.4.10a.1. There
is one value of the PR field which indicates that the field shall be ignored
by the MS.
If downlink power control is not used, the MS shall ignore the PR field.
If downlink power control is used and the PR field is not included in a
downlink RLC/MAC control block, the MS shall act as if the block contained a
usable PR field with value '0 0'.
Table 10.4.10a.1: Power Reduction (PR) field
* * *
bit\ Power Reduction 8 7
0 0 0 dB (included) to 3 dB (excluded) less than BCCH level - P0
0 1 3 dB (included) to 7 dB (excluded) less than BCCH level - P0
1 0 7 dB (included) to 10 dB (included) less than BCCH level - P0
1 1 Not usable
* * *
### 10.4.11 Extension (E) Bit
The Extension (E) bit is used to indicate the presence of an optional octet in
the RLC data block header.
Table 10.4.11.1: Extension (E) bit
* * *
bit 1 E bit 0 Extension octet follows immediately 1 No extension octet follows
* * *
In _A/Gb mode_ , extension (E) bit after the PFI field is used for extensions
of the protocol by allowing optional octets in the RLC data block header.
However, when extensions of this protocol are developed, networks will treat
all unknown optional octets as spare until the E bit of 1.
### 10.4.12 Block Sequence Number (BSN) field
The Block Sequence Number (BSN) field carries the sequence absolute Block
Sequence Number (BSN\') modulo Sequence Number Space (SNS) (128 in GPRS and 2
048 in EGPRS ) of each RLC data block within the TBF.
In GPRS, the BSN is 7 bits in length and is encoded as a binary number with
range 0 to 127.
In EGPRS, the BSN is 11 bits in length and is encoded as a binary number with
range 0 to 2 047.
In case two to four RLC data blocks are sent within a RLC/MAC block, BSN2 to
BSN4 are relative to BSN1, provided the difference between the second to
fourth block number and the first block modulo SNS is less than Window Size
(WS). For example,
Second block number = [BSN1 + BSN2] modulo SNS
(e.g. SNS = 2 048, WS = 512, Block A block number = 10 and Block B block
number= 2 000 then:
[Block A - Block B] modulo SNS = 58 \ 512;
Then: Block #1 = Block B and Block #2 = Block A, BSN1 = 2 000 and BSN2 = 58).
### 10.4.12a Reduced Block Sequence Number (RBSN) bit
The Reduced Block Sequence Number (RBSN) bit carries the sequence number of
the downlink RLC/MAC control blocks. The RBSN bit is encoded as a binary
number with range 0 to 1.
### 10.4.12b Reduced Block Sequence Number extension (RBSNe) field
The Reduced Block Sequence Number extension (RBSNe) field together with the
RBSN bit indicate the sequence number of the downlink RLC/MAC control blocks
of an RLC/MAC control message segmented using extended RLC/MAC control message
segmentation. The RBSNe field is encoded as a binary number with range 0 to 7.
Along with the FS bit and the FSe bit, they allow for extended RLC/MAC control
message segmentation as shown in table 10.4.12b.1 (see sub-clause 9.1.12a).
Table 10.4.12b.1: RBSN bit, FS bit, RBSNe field, FSe bit
* * *
RBSN FS RBSNe FSe  
0 0 N/A N/A 1^st^ RLC/MAC control block 1 0 0 0 0 0 2^nd^ RLC/MAC control
block 1 0 0 0 1 0 / 1 3^rd^ / last RLC/MAC control block 1 0 0 1 0 0 / 1 4^th^
/ last RLC/MAC control block 1 0 0 1 1 0 / 1 5^th^/last RLC/MAC control block
1 0 1 0 0 0 / 1 6^th^/last RLC/MAC control block 1 0 1 0 1 0 / 1 7^th^/last
RLC/MAC control block 1 0 1 1 0 0 / 1 8^th^/last RLC/MAC control block 1 0 1 1
1 1 9^th^ and last RLC/MAC control block
* * *
### 10.4.13 More (M) bit
In GPRS TBF mode, the M bit, along with the E bit and the Length Indicator
(LI), are used to delimit LLC PDUs within a TBF. When the M bit is present it
indicates whether or not another LLC PDU follows the current one within the
RLC data block. The function of the M and E bits when they occur in the same
octet is defined in table 10.4.13.1.
In EGPRS TBF mode the M bit is not used, instead a special combination of the
LI field is used to indicate presence of following LLC PDUs.
Table 10.4.13.1: M bit and E bit
* * *
bit\  
M E
0 0 In _Iu mode_ , the RLC data block belongs to the signalling radio bearer
identified by SRBid (see 3GPP TS 44.160). In A/Gb mode, if received by the
mobile station it shall ignore all fields of the RLC/MAC block except for the
fields of the MAC header
0 1 no LLC data after the current LLC PDU, no more extension octets
1 0 a new LLC PDU starts after the current LLC PDU and there is another
extension octet, which delimits the new LLC PDU
1 1 a new LLC PDU starts after the current LLC PDU and continues until the end
of the RLC information field, no more extension octets
* * *
### 10.4.14 Length Indicator (LI) field in GPRS TBF mode and DCCH TBF mode
(_Iu mode_)
The Length Indicator is used to delimit Upper Layer PDUs within the RLC data
block. Additionally for _Iu mode_ , a Length Indicator of value 63 may be used
to indicate the presence of filler information within the RLC data block. If
the first length indicator in the RLC data block is set to 63, then the entire
RLC data block contains filler information.
The first Length Indicator shall indicate the number of octets of the RLC data
field belonging to the first Upper Layer PDU, the second Length Indicator
shall indicate the number of octets of the RLC data field belonging to the
second Upper Layer PDU, etc. Only the last segment of any Upper Layer PDU of a
TBF (either this segment carries the entire Upper Layer PDU or not) shall be
identified with a Length Indicator within the corresponding RLC data block.
A singular case occurs when the end of the Upper Layer PDU would fit within
the RLC data block but the addition of the Length Indicator octet (to indicate
the Upper Layer PDU boundary) causes the Upper Layer PDU to extend into the
next RLC data block. In this case, this additional LI field shall take the
value 0 whatever is the length of the last but one Upper Layer PDU segment.
The final RLC data block of a TBF shall have a Length Indicator field
corresponding to the final Upper Layer PDU unless this PDU fills the RLC data
block precisely without the LI field being added (i.e. the singular case
mentioned above never applies in this situation).
The LI field is 6 bits in length and shall be encoded as a binary number with
range 1 to 19, 29, 35 or 49, according to the coding scheme in use, i.e. CS-1,
CS-2, CS-3 or CS-4 respectively. The value 0 shall indicate that no Upper
Layer PDU boundary exists. In this case the M bit shall be set to\' 0\' and
the E bit shall be set to \'1\' on the transmitting side, while on the
receiving side the M bit shall be ignored and the E bit shall be interpreted
as having the value \'1\'. In _Iu mode_ , a value of 63 shall indicate the
presence of filler information within the RLC data block. All other values are
reserved, and in this version of the protocol, the mobile station shall ignore
all fields of the RLC data block except for the USF field.
### 10.4.14a Length Indicator (LI) field in EGPRS TBF mode and TCH TBF mode
(_Iu mode_)
The Length indicator is used to delimit Upper Layer PDUs within the RLC data
block. Additionally for _Iu mode_ , a Length Indicator of value 127 may be
used to indicate the presence of filler information within the RLC data block.
If the first length indicator in the RLC data block is set to 127, then the
entire RLC data block contains filler information.
The first Length Indicator shall indicate the number of octets of the RLC data
field belonging to the first Upper Layer PDU, the second Length Indicator
shall indicate the number of octets of the RLC data field belonging to the
second Upper Layer PDU, etc. Only the last segment of any Upper Layer PDU,
including those with only one segment, shall be identified with a Length
Indicator. The length indicator shall be placed in the RLC data block
corresponding to the last segment of the Upper Layer PDU, unless the Upper
Layer PDU without the corresponding LI field fills the RLC data block
precisely. In that case, the Length Indicator shall be placed as the first
Length Indicator in the next in sequence RLC data block and take the value 0.
If the Upper Layer PDU does not fill the current RLC data block, a Length
Indicator with value 127 (111 1111) shall be included as the last Length
Indicator of the current RLC data block, indicating that there is no following
Upper Layer PDU in this RLC data block. If the Upper Layer PDU does not fill
the RLC data block and there is only one octet left, then the Length Indicator
corresponding to the Upper Layer PDU is the last Length Indicator field that
shall be included in the RLC data block.
During RLC non-persistent mode of operation, if the current RLC data block
starts with the first segment of a new Upper Layer PDU, then a Length
Indicator taking the value 126 shall be placed as the first Length Indicator
in the RLC data block unless a Length Indicator with the value 0, signalling
that the last segment of the previous Upper Layer PDU precisely fills the
previous in sequence RLC data block, shall be included.
The final RLC data block of a TBF shall have a Length Indicator field
corresponding to the final Upper Layer PDU unless the final Upper Layer PDU
fills the RLC data block precisely. If the final Upper Layer PDU fills the
final RLC data block precisely, the final Upper Layer PDU shall be sent
without a corresponding Length Indicator field.
The Length Indicator field is 7 bits in length and shall be encoded as a
binary number. The valid values are the values ranging from 0 to 74 for an
EGPRS TBF, an EGPRS2-A uplink TBF or an EGPRS2-B TBF, from 0 to 82 for an
EGPRS2-A downlink TBF, from 0 to 103 in TCH TBF mode (_Iu mode_), and the
values 126 to 127. All other values are reserved. A mobile station detecting a
reserved Length Indicator value or an inconsistent encoding of the Length
Indicator and E fields shall ignore the RLC data block.
The interpretation of the value contained in the length indicator with
corresponding E bit is summarized in table 10.4.14a.1 and some examples are
shown in annex B.
Table 10.4.14a.1: Interpretation of values of LI field and E bit
+----------------------+----------------------+----------------------+ | **Value of LI in a |** Value of E bit in | **Interpretation** | | RLC data block**| the same octet** | | +----------------------+----------------------+----------------------+ | k-th LI (k>0 | | The value of the | | integer): | | k-th LI is the | | | | number of octets of | | 0\1 | | The k-th LI contains | | integer): | | the number of octets | | | | of the (k-1)-th | | 0\ ::= { null \| 0 \ ! \ > } ;
* * *
The padding sequence used for \'spare padding\' in the present document, see
3GPP TS 24.007, is a repetition of octet \'00101011\', starting on an octet
boundary.
## 11.1 Handling of erroneous protocol data
This sub-clause specifies procedures for the handling of unknown and erroneous
protocol data by the receiving entity.
These error-handling procedures are mandatory for the mobile station.
A message is defined to be syntactically incorrect if it violates rules of
clauses 11 and 12, or if it contains at least one value defined as
\"reserved\" in clauses 11 and 12. However, if the rules of clause 11 and 12
define a specific interpretation for a \"reserved\" value, the specified
interpretation takes precedence and the considered field remains syntactically
correct.
Decoding a received message based on its CSN.1 description yields the complete
acceptance or rejection of the message. Error handling allows a message to be
partially accepted even when some parts are erroneous.
Error detection mechanisms are introduced to identify which parts of a message
to be protected against which kinds of errors.
### 11.1.1 Message classification
The packet data channel (PDCH) is a shared resource, i.e. all mobile stations
assigned resources on a PDCH may receive a message sent by the network. The
message type is identified by the MESSAGE_TYPE field contained in each
message. The message type is used for classification and determining the
message syntax.
Messages sent from the network to the mobile station on PDCH (_A/Gb mode_ and
_Iu mode_) or DBPSCH (_Iu mode_) are classified as either distribution
messages or non-distribution messages.
Messages sent from the network to the mobile station exclusively on DBPSCH
(_Iu mode_) are classified as DBPSCH messages.
#### 11.1.1.1 Distribution messages
A distribution message is recognised by the most significant bit of the
message type being set to bit \'1\'. The general format of a distribution
message sent from the network to the mobile station is:
+---------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +---------------------------------+
Any mobile stations may receive a distribution message. Depending on the
protocol state of the mobile station, a distribution message shall be analysed
as specified in sub-clauses 5, 6, 7, 8 and 9 of the present document.
The \'Distribution contents\' of a distribution message contains Page Mode
information and any specific specific distribution information according to
the syntax defined for the message type. The \'padding bits\' of a
distribution message can be reduced to the null string.
The general format of the \'Distribution contents\' is:
+-------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +-------------------------------------------+
The encoding of the Page Mode information is defined in sub-clause 12.20.
#### 11.1.1.2 Non-distribution messages
A non-distribution message is recognised by the most significant bit of the
message type being set to bit \'0\'. The general format of a message sent from
the network to the mobile station is:
+-----------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ \ | | | | \ ; | +-----------------------------------------------------------+
Any mobile station may receive a non-distribution message.
The \'Distribution contents\' of a non-distribution message contains Page Mode
information and any specific distribution information according to the syntax
defined for the message type. The general format of the \'Distribution
contents\' is defined in sub-clause 11.1.1.1. Depending on the protocol state
of the mobile station, the \'Distribution contents\' of a non‑distribution
message shall be analysed as specified in clauses 5 and 7 of the present
document.
The \'Address information\' contained in a non-distribution message shall be
analysed by a mobile station receiving the message. The \'Non-distribution
contents\' following the address information shall be ignored by any mobile
station not identified by the address information. The allowed addressing
options and the specific syntax of the \'Non-distribution contents\' depend on
the message type. The \'padding bits\' of a non-distribution message can be
reduced to the null string.
##### 11.1.1.2.1 Format of the address information
The general format of the \'Address information\' in a non-distribution
message is:
+----------------------------------------------------------------------+ | \ ::= | | | | 0 \ \| -- _see sub-clause 12.10_ | | | | 1 0 \ \| -- _see sub-clause 12.16_ | | | | 1 1 0 \ \| -- _see sub-clause 12.17_ | | | | 1 1 1 \ ; -- _see sub-clause 12.11_ | +----------------------------------------------------------------------+
The description of a certain message type may specify a restricted set of
addressing options being syntactically correct in the message. A message
received with a disallowed addressing option shall be regarded as
syntactically incorrect.
#### 11.1.1.3 DBPSCH message (_Iu mode_ only)
A DBPSCH message is sent exclusively on DBPSCH, from the network to the mobile
station, in _Iu mode_. The general format of such a message is:
+-------------------------------+ | \ ::= | | | | \ | | | | \ ; | +-------------------------------+
The \'padding bits\' of a DBPSCH message can be reduced to the null string.
The general format of the \'DBPSCH message contents\' is:
+---------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +---------------------------------------------+
### 11.1.2 Error detection mechanism
The symbol \'!\' indicates an error branch. It acts as a separator (similar to
the \'\|\' choice symbol) where the choice on the right of the \'!\' are to be
considered as an \'error\' branch. The symbol \'!\' allows partial analysis of
data in a received message, with some parts of the message to be ignored due
to it being syntactically incorrect.
The description on the left of \'!\' defines the set of syntactically correct
data and shall be recognised correctly. Otherwise, the data associated shall
be rejected and the description within the error branch shall be used.
The description within the error branch, on the right of \'!\', shall accept
any syntactically incorrect data. Therefore, according to the error label the
relevant error handling procedure shall be implemented.
### 11.1.3 Error labels
There are different categories of error labels introduced in clauses 11 and 12
of the present document.
#### 11.1.3.1 Generic error labels
Generic error labels are defined for syntactical errors \'Unknown message
type\', \'Distribution part error\', \'Address information part error\' and
\'Non-distribution part error\'.
The general format of a distribution message, including these error labels,
is:
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | \ | | | | ! \ > } | | | | ! \ \ > ; | +----------------------------------------------------------------------+
The general format of a non-distribution message, including these error
labels, is:
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | { \ | | | | { \ | | | | \ | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > } | | | | ! \ \ > ; | +----------------------------------------------------------------------+
The general format of a DBPSCH message, including these error labels, is:
+--------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | \ | | | | ! \ > } ; | +--------------------------------------------------------------------+
These error labels allow ignoring a part of the message that is syntactically
incorrect. Once an error is detected, the error branch is called. Except for
the \'Unknown message type\', the error branch is, followed by an unspecified
bit string that expands to the end of the message. The corresponding data is
ignored. In case of an \'Unknown message type\', further treatment of the
message is defined in _sub-clause_ 11.1.4.1.
#### 11.1.3.2 \'Ignore\' error label
An \'Ignore\' error label is used to ignore part of the message. The generic
description is:
* * *
\ ! \ > \-- _Ignore by
indefinite length_
* * *
Or
* * *
\ ! \ > \--
_Ignore by definite length_
* * *
An \'Ignore\' error label shall be applied by the receiver of a downlink
RLC/MAC control message when specified in the message description in clauses
11 and 12 of the present document. This error label allows ignoring a part of
the message that is syntactically incorrect. Once the error is detected, the
error branch \'Ignore\' is called followed by a an unspecified bit string.
When this error label is used with an indefinite length (bit (*) = \), the unspecified bit string expands to the end of the message and
the corresponding data is ignored.
NOTE: If this error label is used with the indefinite length within a
structure or delimited description (i.e. within { } brackets), any description
following the structure or delimited description must allow truncation, in
order to be consistent with the CSN.1 description of the message.
When this error label is used with a definite length (bit (n) = \), the unspecified bit string contains a defined number of bits. The
corresponding data is ignored.
#### 11.1.3.3 \'Message escape\' error label
The \'Message escape\' error label is used to provide an escape for, e.g. a
future modification of the message syntax. The generic description is:
* * *
0 \ ! \ >
* * *
An \'Message escape\' error label shall be applied by the receiver of a
downlink RLC/MAC control message when specified in the message description in
clauses 11 and 12 of the present document. The description on the left of the
error branch needs to be correctly recognised. Otherwise, the error branch
\'Message escape\' is called and the remaining part of the message is ignored.
NOTE: Any description following a structure or delimited description (i.e.
within { } brackets) including this error label must allow truncation.
Otherwise, it is not consistent with the CSN.1 description of the message.
### 11.1.4 Error detection and order of precedence
A mobile station shall detect and process errors in the order in which they
are defined in this sub-clause of the present document. (E.g. a message, which
is not compatible with the current protocol state AND is syntactically
incorrect, shall be treated as if it is not compatible with the current
protocol state.)
At certain error events defined in this sub-clause, the PACKET TBF STATUS
message shall be sent by the mobile station. In case of multiple error events,
and, due to restrictions defined in sub-clauses 5, 6, 7, 8 and 9, the mobile
station is not able to send a first status message until the occurrence of a
subsequent event generating a second status message, the mobile station shall
suppress the sending of the second and additional status messages until the
first status message has been sent to the network.
#### 11.1.4.1 Unknown message type
If a mobile station receives a message with message type either not defined or
not implemented (generic error label: \'Unknown message type\'), the content
of the bits representing the message type shall be ignored.
The remaining part of the message shall be analysed according to the syntax
defined as the \'Default downlink message content\' in _sub-clause_ 11.2.0.1.
The \'Default downlink message content\' contains the Page Mode information.
Depending on the protocol state of the mobile station, the Page Mode
information shall be analysed as specified in clause 5 of the present
document.
#### 11.1.4.2 Message not compatible with current protocol state
When a non-distribution message is received, which is not expected by the
addressed receiver in its current protocol state, the mobile station shall
follow the procedures that are described in sub-clauses 5, 6, 7, 8 and 9 of
the present document.
If no such reaction is specified, the mobile station shall ignore the message.
If in packet transfer mode, the mobile station, which is identified by the
address information shall return a status message (PACKET MOBILE TBF STATUS
message) with TBF_CAUSE #4, \"Message not compatible with current protocol
state\".
Unexpected distribution messages are ignored.
#### 11.1.4.3 Syntactically incorrect message
When a message containing a syntactically incorrect data is received,
depending on the error detection mechanisms that may be defined in the CSN.1
description of the message, the message can be rejected or partially accepted.
NOTE: The order, in which the error labels mentioned in this sub-clause are
detected and processed, depends on the nesting of error labels defined by the
description of each message type in sub-clause 11.2 and clause 12. E.g. a
message, which contains syntactically incorrect data in both the addressing
information AND the non-distribution contents, is typically received with the
error label \'Address information part error\'.
##### 11.1.4.3.1 Messages with error label: \'Distribution part error\'
For syntactically incorrect messages received with generic error label:
\'Distribution part error\', data corresponding to the description following
the error label shall be recognised as erroneous data and be ignored.
##### 11.1.4.3.2 Messages with error label: \'Address information part error\'
For syntactically incorrect messages received with generic error label:
\'Address information part error\', data corresponding to the description
following the error label shall be recognised as erroneous data and be
ignored. The distribution contents preceding the error label may be analysed
and treated as described in clause 5 and clause 7 of the present document.
##### 11.1.4.3.3 Messages with error label: \'Non-distribution part error\'
For syntactically incorrect messages received with generic error label: \'Non-
distribution part error\', data corresponding to the description following the
error label shall be recognised as erroneous data and be ignored.
The distribution contents preceding the error label may be analysed and
treated as described in clause 5 and clause 7 of the present document.
The address information preceding the error label shall be analysed. In packet
transfer mode, the mobile station identified by the address information shall
return a PACKET MOBILE TBF STATUS message with TBF_CAUSE #2 \"Syntactically
incorrect message, non-distribution part error\".
##### 11.1.4.3.4 Messages with error label: \'Message escape\'
For syntactically incorrect messages with error label: \'Message escape\',
data corresponding to the description following the error label shall be
recognised as erroneously received mandatory data and be rejected.
The distribution contents preceding the error label may be analysed and
treated as described in clause 5 of the present document.
If the address information proceeds the error label and it is received
correctly, it shall be analysed. In packet transfer mode, the mobile station
identified by the address information shall return a PACKET MOBILE TBF STATUS
message with TBF_CAUSE #3 \"Syntactically incorrect message, message escape\".
##### 11.1.4.3.5 Messages with error label: \'Ignore\'
For syntactically incorrect messages with error label: \'Ignore\', data
corresponding to the description following the error label shall be recognised
as unnecessary data. If a syntactically incorrect message with the \'Ignore\'
error label is received, depending on the length of the unspecified bit string
associated with the error label (sub-clause 11.1.3.2), the corresponding data
shall be ignored.
##### 11.1.4.3.6 Messages with error label: \"DBPSCH message part error\"
For syntactically incorrect messages received with generic error label:
\'DBPSCH message part error\', data corresponding to the description following
the error label shall be recognised as erroneous data and be ignored.
#### 11.1.4.4 Syntactic error in truncated concatenation
Truncated concatenation is sequences of components encapsulated by the { }
brackets followed by the symbol \'//\'. The concatenation is any of the
concatenations starting with null and up to any number of components.
* * *
{ \ \ \ } //
* * *
The above set is equivalent to:
+--------------------------------+ | { \ \ \ } or | | | | { \ \ } or | | | | { \ } or | | | | null | +--------------------------------+
Any syntactically incorrect component shall truncate the sequence. The
correctly received components are accepted and the truncated components are
ignored.
NOTE: If the \'padding bits\' at the end of a message are included within the
concatenation, truncation requires the resulting concatenation to fit exactly
with the received message length. Otherwise, it is a syntactical error, which
may cause rejection of the complete message or part thereof.
#### 11.1.4.5 (void)
## 11.2 RLC/MAC control messages
Table 11.2.1 summarises the RLC/MAC control messages. For each control
message, the message type shall be a fixed number of bits from the beginning
of the message.
Table 11.2.1: RLC/MAC control messages
* * *
Uplink TBF establishment messages: Reference
Packet Access Reject 11.2.1
Packet Channel Request 11.2.5
EGPRS Packet Channel Request 11.2.5a
Packet Queuing Notification 11.2.15
Packet Resource Request 11.2.16
Packet Uplink Assignment 11.2.29
Multiple TBF Uplink Assignment 11.2.29a
Additional MS Radio Access Capabilities 11.2.32
Downlink TBF establishment messages: Reference
Packet DBPSCH Assignment 11.2.5b
Packet Downlink Assignment 11.2.7
Multiple TBF Downlink Assignment 11.2.7a
TBF release messages: Reference
Packet TBF Release 11.2.26
Paging messages: Reference
Packet Paging Request 11.2.10
RLC messages: Reference
Packet Downlink Ack/Nack 11.2.6
EGPRS Packet Downlink Ack/Nack 11.2.6a
Packet DBPSCH Downlink Ack/Nack 11.2.6b
Packet DBPSCH Downlink Ack/Nack Type 2 11.2.6c
MBMS Downlink Ack/Nack 11.2.6d
EGPRS Packet Downlink Ack/Nack Type 2 11.2.6e
Packet Uplink Ack/Nack 11.2.28
Packet DBPSCH Uplink Ack/Nack 11.2.28a
Packet DBPSCH Uplink Ack/Nack Type 2 11.2.28b
System information messages: Reference
Packet System Information Type 1 11.2.18
Packet System Information Type 2 11.2.19
Packet System Information Type 3 11.2.20
Packet System Information Type 3 bis 11.2.21
Packet System Information Type 3 ter 11.2.21a
Packet System Information Type 3 quater 11.2.21b
Packet System Information Type 5 11.2.23
Packet System Information Type 6 11.2.23a
Packet System Information Type 7 11.2.23b
Packet System Information Type 8 11.2.24
Packet System Information Type 13 11.2.25
Packet System Information Type 14 11.2.25a
Packet System Information Type 15 11.2.25b
Packet System Information Type 16 11.2.25c
Miscellaneous messages: Reference
Packet Control Acknowledgement 11.2.2
Packet Cell Change Continue 11.2.2a
Packet Cell Change Failure 11.2.3
Packet Cell Change Notification 11.2.3a
Packet Cell Change Order 11.2.4
Packet Downlink Dummy Control Block 11.2.8
Packet Uplink Dummy Control Block 11.2.8b
Packet Measurement Report 11.2.9
Packet Measurement Order 11.2.9b
Packet Mobile TBF Status 11.2.9c
Packet Enhanced Measurement Report 11.2.9d
Packet Neighbour Cell Data 11.2.9e
Packet PDCH Release 11.2.11
Packet Polling Request 11.2.12
Packet Power Control/Timing Advance 11.2.13
Packet PRACH Parameters 11.2.14
Packet PSI Status 11.2.17
Packet Serving Cell Data 11.2.17a
Packet SI Status 11.2.17b
Packet Pause 11.2.30a
Packet Timeslot Reconfigure 11.2.31
Multiple TBF Timeslot Reconfigure 11.2.31a
Handover Access 11.2.33
Physical Information 11.2.34
Packet CS Request 11.2.35
Packet CS Command 11.2.36
Packet CS Release Indication 11.2.37
MBMS Service Request 11.2.38
MBMS Assignment (Non-distribution)\ 11.2.39\ MBMS Assignment (Distribution)
11.2.39a
MBMS Neighbouring Cell Information 11.2.40
MBMS MS_ID Assignment 11.2.41
Packet MBMS Announcement 11.2.42
PS Handover Command 11.2.43
PS Handover Access 11.2.44
Packet Physical Information 11.2.45
DTM Handover Command 11.2.46
Packet Application Information 11.2.47
* * *
### 11.2.0 Message format
All RLC/MAC control messages, with the exception of the PACKET CONTROL
ACKNOWLEDGEMENT message in access burst format (11-bit and 8-bit contents),
the HANDOVER ACCESS message in access burst format (8-bit content), the PS
HANDOVER ACCESS message, the PACKET CHANNEL REQUEST message, EGPRS PACKET
CHANNEL REQUEST message and MPRACH PACKET CHANNEL REQUEST message, follow the
same non-standard format (see 3GPP TS 24.007).
#### 11.2.0.1 Downlink RLC/MAC messages
Downlink RLC/MAC control messages are received in RLC/MAC control block
format. The different types of messages are distinguished by the MESSAGE_TYPE
field.
+----------------------------------------------------------------------+ | \ ::= | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| -- _PACCH only_ | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| -- _PACCH only_ | | | | \ \ \| | | | | \ \ \| -- _PACCH only_ | | | | \ \ \| -- _PACCH only_ | | | | \ \ \| -- _PACCH only_ | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ reserved \| -- _this | | value was allocated in an earlier\ | | -- version of the protocol and shall not be used_ | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \\| | | | | \ \ | | | | \ \ | | | | ! \ } \ > ; | +----------------------------------------------------------------------+
NOTE: the MESSAGE_TYPE \"010010\" is reserved for the PHYSICAL INFORMATION
message on DBPSCH only.
The \'Default downlink message contents\' consists of the Page Mode
information and an unspecified bit string that expands to the end of the
message.
+--------------------------------------------+ | \ ::= | | | | \ | | | | bit (*) = \ ; | +--------------------------------------------+
The encoding of the Page Mode information is defined in _sub-clause_ 12.20.
#### 11.2.0.2 Uplink RLC/MAC messages
Uplink RLC/MAC control messages, except those using the access burst formats,
are received in the RLC/MAC control block format. The different types of
messages are distinguished by the MESSAGE_TYPE field.
+----------------------------------------------------------------------+ | \ ::= | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| -- _PACCH only_ | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \; | +----------------------------------------------------------------------+
Messages using the access burst formats (11-bit and 8-bit formats) are defined
in _sub-clause_ s 11.2.2 11.2.5, 11.2.5a, 11.2.5c, 11.2.33 and 11.2.44.
### 11.2.1 Packet Access Reject
This message is sent on the PCCCH or PACCH by the network to the mobile
station to indicate that the network has rejected the MSs access request. This
message may contain fields addressing more than one mobile station.
Message type: PACKET ACCESS REJECT
Direction: network to mobile station
Classification: distribution message
Table 11.2.1.1: Packet ACCESS REJECT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | { { 1 \ > } ** 0 | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier releases_ | | | | \| 1 -- _Additions in release 5_ | | | | { 1 \ > } ** | | 0 | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier releases_ | | | | \| 1 -- _Additions in release 6_ | | | | { 1 \ > } | | ** 0 } | | | | \ } } // -- _truncation at end of message allowed, | | bits \'0\' assumed_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 { 0 \ > | | | | \| 1 \ > } } | | | | { 0 \| 1 \ | | | | \ } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 -- _all TBF requests for the MS identified by the G-RNTI in the | | corresponding Reject structare rejected_ | | | | \| { 1 \ } ** 0 } ; _\-- TBF requests for | | these RB Ids are rejected_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _all TBF requests for the MS identified by the TLLI in the | | corresponding Reject struct are rejected_ | | | | \| { 1 \ } ** 0 } ; _\-- TBF requests for | | these PFIs are rejected_ | +----------------------------------------------------------------------+
Table 11.2.1.2: Packet ACCESS REJECT information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in _sub-clause_ 12.20. | | | | **Reject struct** \ | | The mobile station shall only accept the first Reject struct | | addressed to it and ignore all other Reject structs. | | | | **Iu mode Reject struct** | | | | For each occurrence of a G-RNTI in the TLLI / G-RNTI field of a | | Reject struct, a corresponding _Iu mode Reject struct_ shall be | | included in the message. The list of _Iu mode Reject structs_ shall | | address the Iu mode mobile stations in the same order as the list of | | G-RNTI values in the Reject structs. | | | | **A/Gb mode Reject struct** | | | | For each occurrence of a TLLI in the TLLI / G-RNTI field of a Reject | | struct, a corresponding _A/Gb mode Reject struct_ shall be included | | in the message. The list of _A/Gb mode Reject structs_ shall address | | the A/Gb mode mobile stations in the same order as the list of TLLI | | values in the Reject structs. | | | | **Packet Request Reference** \ | | This information element shall be included if the PACKET ACCESS | | REJECT message is sent in response to a PACKET CHANNEL REQUEST | | message. This information element is defined in sub-clause 12.11. | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | This information field shall be included if the PACKET ACCESS REJECT | | message is sent in response to a PACKET RESOURCE REQUEST message or | | a Channel Request Description IE contained in a | | PACKET DOWNLINK ACK/NACK message. This information field is defined | | in sub-clause 12.16. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field)\ | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier for contention resolution in Iu-mode. | | | | For each occurrence of the TLLI / G-RNTI field in the Reject struct, | | the corresponding G-RNTI extension field shall be included in the Iu | | mode reject struct in the same order as the list of G-RNTI values in | | the TLLI / G-RNTI field. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains the TFI of one of the mobile | | station\'s downlink TBFs or uplink TBFs. This field is defined in | | sub-clause 12.10. | +----------------------------------------------------------------------+ | **WAIT_INDICATION** (8 bit field)\ | | The Wait Indication field indicates the time the mobile station | | shall wait before attempting another channel request. This field is | | coded as the binary representation of the T3172 timeout value in | | units of 20 ms or in units of seconds. The units are indicated in | | the WAIT_INDICATION_SIZE field.\ | | Range 0 to 255. | +----------------------------------------------------------------------+ | **WAIT_INDICATION_SIZE** (1 bit field)\ | | This field indicates the units of the WAIT_INDICATION field. | | | | 0 the WAIT_INDICATION field is coded in units of s\ | | 1 the WAIT_INDICATION field is coded in units of 20 ms | +----------------------------------------------------------------------+ | **RB Id (5 bit field)\ | | This field contains the identifier of the radio bearer for which a | | TBF was requested.** | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field contains the PFI parameter identifying a Packet Flow | | Context. The PFI parameter is encoded as the contents of the PFI | | information element defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+
### 11.2.2 Packet Control Acknowledgement
This message is sent on the PACCH from the mobile station to the network. In
_Iu mode_ , it is also sent on FACCH, SACCH and SDCCH from the mobile station
to the network. The message is formatted either as an RLC/MAC control block
using the PACCH block format defined in 3GPP TS 44.004 or as 4 identical
access bursts using the PACCH short acknowledgement block format defined in
3GPP TS 44.004. If the CTRL_ACK_EXTENSION field is to be included (i.e. the MS
is sending acknowledgement information for a RLC/MAC control message which it
knows to have been segmented using extended RLC/MAC control message
segmentation - see Table 11.2.2.2) the message shall be formatted as an
RLC/MAC control block. Otherwise, if sent as response to a Packet Polling
Request message this latter message shall specify the format of the Packet
Control Acknowledgement message. Otherwise the System Information parameter
CONTROL_ACK_TYPE indicates which format the mobile station shall use. The
order of bit transmission is defined in 3GPP TS 44.004. The numbering,
assembling and field mapping conventions defined for RLC/MAC control blocks in
sub-clause 10.0b shall apply.
The RLC/MAC control block format is shown in table 11.2.2.1 and table
11.2.2.2.
The access burst format is either 11-bit or 8-bit and is coded as shown in
table 11.2.2.1. The mobile station shall use the format indicated by the
System Information parameter ACCESS_BURST_TYPE. The mobile station shall
transmit the access burst four times, one time in each TDMA frame of the
uplink radio block.
Message type: PACKET CONTROL ACKNOWLEDGEMENT
Direction: mobile station to network
Table 11.2.2.1: PACKET CONTROL ACKNOWLEDGEMENT
+----------------------------------------------------------------------+ | \ ::= -- | | _RLC/MAC control block format_ | | | | \ | | | | \ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version of the protocol_ | | | | \| 1 -- _Release 5 additions_ | | | | { 0 \| 1 \ } | | | | _{ 0 \| 1 \  }_ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version of the protocol_ | | | | _\| 1 -- Release 6 additions_ | | | | _{ 0 \| 1 \  }_ | | | | \ } } ; | +----------------------------------------------------------------------+ | \ ::= -- _11-bit | | access burst format_ | | | | \ | | | | \| { \ | | | | \ } | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= -- _8-bit | | access burst format_ | | | | \ | | | | \| { \ | | | | \ } | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.2.2: PACKET CONTROL ACKNOWLEDGEMENT
+----------------------------------------------------------------------+ | **TLLI/G-RNTI** (32 bit field)\ | | This field contains the TLLI/G-RNTI of the mobile station. This | | field is encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **CTRL_ACK** (2 bit field)\ | | This field contains acknowledgement information for the group of | | RLC/MAC control blocks that make up an RLC/MAC control message. The | | mobile station shall set the CTRL_ACK field to indicate which | | segments of an RLC/MAC control message have been received by the | | time of transmission of the PACKET CONTROL ACKNOWLEDGEMENT message. | | | | This field can also be coded to contain the information if the | | mobile station is requesting the establishment of new TBF. This | | coding is allowed only when the message is sent in access burst | | format as a response to the PACKET UPLINK ACK/NACK message with | | Final Ack Indicator set to \'1\' and TBF Est is set to \'1\'. | | | | If the PACKET CONTROL ACKNOWLEDGEMENT message is being transmitted | | in response to a valid RRBP field received as part of an RLC/MAC | | block with Payload Type equal to \'10\', the CTRL_ACK field shall | | be set according to the following table: | | | | bit | | | | 2 1 | | | | 0 0 in case the message is sent in access burst format, the same | | meaning as for the value \'11\' except that the mobile station is | | requesting new TBF. Otherwise the bit value \'00\' is reserved and | | shall not be sent. If received it shall be intepreted as bit value | | \'01\'. | | | | 0 1 the MS received an RLC/MAC control block addressed to itself and | | with RBSN = 1, and did not receive an RLC/MAC control block with the | | same RTI value and RBSN = 0. | | | | 1 0 the MS received an RLC/MAC control block addressed to itself and | | with RBSN = 0, and did not receive an RLC/MAC control block with the | | same RTI value and RBSN = 1. This value is sent irrespective of the | | value of the FS bit. | | | | 1 1 the MS received two RLC/MAC blocks with the same RTI value, one | | with RBSN = 0 and the other with RBSN = 1. | | | | If the PACKET CONTROL ACKNOWLEDGEMENT message is being transmitted | | in response to a valid RRBP field received as part of an RLC/MAC | | block with Payload Type not equal to \'10\', the CTRL_ACK field | | shall be set to the value \'11\' in case the message is sent in | | normal burst format or in case the mobile station is not requesting | | new TBF. In case the message is sent in access burst format and the | | mobile station is requesting new TBF, the CTRL_ACK field shall be | | set to the value \'00\'. | | | | If the PACKET CONTROL ACKNOWLEDGEMENT message is being transmitted | | in response to a polling request in an IMMEDIATE ASSIGNMENT message | | received on CCCH, the CTRL_ACK field shall be set to the value | | \'11\'. | | | | If the mobile station receives an RLC/MAC block with Payload Type | | equal to \'10\' and RLC/MAC block with Payload Type not equal to | | \'10\' with different RRBP values such that they specify the same | | uplink block, the mobile station shall set the CTRL_ACK field | | according to the group of RLC/MAC control blocks that the RLC/MAC | | block with Payload Type equal to \'10\' belongs. | +----------------------------------------------------------------------+ | **CTRL_ACK_EXTENSION (9 bit field)\ | | This field contains acknowledgement information for the group of up | | to nine RLC/MAC control blocks that make up an RLC/MAC control | | message** sent using extended RLC/MAC control message | | segmentation**. The mobile station shall set the | | CTRL_ACK_EXTENSION field to indicate which segments of an RLC/MAC | | control message addressed to itself have been received by the time | | of transmission of the PACKET CONTROL ACKNOWLEDGEMENT message. Bit | | at index n in the CTRL_ACK_EXTENSION field indicates whether | | RLC/MAC control block \"10 - n\" has been received. This bit shall | | be set to '1' if the corresponding RLC/MAC control block has been | | received and to '0' otherwise. When CTRL_ACK_EXTENSION field is | | present, the CTRL_ACK field shall be ignored. The | | CTRL_ACK_EXTENSION field shall be included only if the MS knows an | | RLC/MAC control message has been segmented using extended RLC/MAC | | control message segmentation (i.e. the MS has received at least one | | segment other than the first segment of an RLC/MAC control message | | segmented using extended RLC/MAC control message segmentation). The | | CTRL_ACK_EXTENSION field shall not be included if the MS has only | | received the first segment of an RLC/MAC control message and hence | | does not know whether extended RLC/MAC control message segmentation | | is used.** | | | | bit\ | | 9 8 7 6 5 4 3 2 1 | | | | 0 0 0 0 0 0 0 0 0 this value is reserved and shall not be sent. | | | | 1 0 0 0 0 0 0 0 0 this value is reserved and shall not be sent. | | | | ... | | | | 0 0 1 0 1 0 0 0 0 the MS received the 3^rd^ and 5^th^ segments (i.e. | | with RBSN = '1' and RBSNe = '001' and RBSN = '1' and RBSNe = '011' | | respectively) of an RLC/MAC control message sent using a given RTI | | value and did not receive any other RLC/MAC control block(s) with | | other RBSN and RBSNe values having that same RTI value. | | | | ... | | | | 1 1 1 1 1 1 1 1 1 the MS received all nine segments of an RLC/MAC | | control message. | | | | If the mobile station receives an RLC/MAC block with Payload Type | | equal to \'10\' and an RLC/MAC block with Payload Type not equal to | | \'10\' with different RRBP values such that they specify the same | | uplink block, the mobile station shall set the CTRL_ACK_EXTENSION | | field according to the group of RLC/MAC control blocks that the | | RLC/MAC block with Payload Type equal to \'10\' belongs. | +----------------------------------------------------------------------+ | **TN_RRBP** (3 bit field)\ | | This field contains the timeslot number of the downlink PDCH on | | which the RRBP was received. The TN_RRBP field is coded as the | | binary representation of the timeslot number as defined in | | 3GPP TS 45.002. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field)\ | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+
### 11.2.2a Packet Cell Change Continue
This message is sent on the PACCH by the network to the mobile station to
command the mobile station to continue the cell reselection procedure.
Message type: PACKET CELL CHANGE CONTINUE
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.2a.1: PACKET CELL CHANGE CONTINUE message content
+-----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ | | | | { { 0 \| 1 \ | | | | \ | | | | \ } | | | | \ | | | | ! \ > } | | | | ! \ > } | | | | ! \ > ; | +-----------------------------------------------------------------------+
Table 11.2.2a.2: PACKET CELL CHANGE CONTINUE information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | | | | The **ARFCN, BSIC and the CONTAINER_ID** parameters shall be | | included if the network has earlier sent neighbour cell system | | information for the cell within a set of PACKET NEIGHBOUR CELL DATA | | messages referred by the corresponding CONTAINER_ID value but | | without ARFCN and BSIC provided. Otherwise these parameters are | | optional. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field contains the BCCH frequency of the new cell candidate for | | re-selection. This field is encoded as the ARFCN defined in | | 3GPP TS 44.018.\ | | Range 0 to 1023 | | | | **BSIC** (6 bit field)\ | | This field contains the BSIC of the new cell candidate for | | re-selection. This field is encoded as the BSIC value defined in | | 3GPP TS 44.018.\ | | Range 0 to 63 | | | | **CONTAINER_ID** (2 bit field)\ | | This field contains the identity of the neighbour cell system | | information container previously sent in the PACKET NEIGHBOUR CELL | | DATA message for the cell addressed by the ARFCN and the BSIC | | above.\ | | Range 0 to 3 | +----------------------------------------------------------------------+
### 11.2.3 Packet Cell Change Failure
This message is sent on the PACCH from the mobile station to the network to
indicate that a commanded cell change order has failed. For a (3G) multi-RAT
mobile station this may be a 3G Cell. For a (E-UTRAN) multi-RAT mobile station
this may be an E-UTRAN cell.
Message type: PACKET CELL CHANGE FAILURE
Direction: mobile station to network
Table 11.2.3.1: PACKET CELL CHANGE FAILURE message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release 99 :_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | { null \| 0 bit ** = \ _\-- Receiver compatible with | | earlier release_ | | | | _\| 1 -- Additions in Rel-8 :_ | | | | _{ 0 \| 1 \  | | > }_ | | | | \ } } } ; | +----------------------------------------------------------------------+
Table 11.2.3.2: PACKET CELL CHANGE FAILURE information element details
+----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | This field is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field contains, in case of a GSM cell, the BCH frequency of the | | target cell on which the failure occurred. This field is encoded as | | the ARFCN defined in 3GPP TS 44.018.\ | | Range 0 to 1023\ | | If a 3G Cell or an E-UTRAN Cell is indicated, this field shall be | | sent with the value 0. | +----------------------------------------------------------------------+ | **BSIC** (6 bit field)\ | | This field contains, in case of a GSM cell, the BSIC of the BCH | | frequency of the target cell on which the failure occurred. This | | field is encoded as the BSIC value defined in 3GPP TS 44.018.\ | | Range 0 to 63\ | | If a 3G Cell or an E-UTRAN Cell is indicated, this field shall be | | sent with the value 0.. | +----------------------------------------------------------------------+ | **CAUSE** (4 bit field)\ | | This field indicates the cause of the cell change order failure on | | the target cell. | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 Frequency not implemented\ | | 0 0 0 1 No response on target cell\ | | 0 0 1 0 Immediate Assign Reject or Packet Access Reject on target | | cell\ | | 0 0 1 1 On going CS connection\ | | 0 1 0 0 PS Handover failure-other | | | | 0 1 0 1 MS in GMM Standby state\ | | 0 1 1 0 Forced to the Standby state\ | | All others Reserved for future use | +----------------------------------------------------------------------+ | **UTRAN FDD Target cell** | | | | This information element contains the description of the UTRAN FDD | | Target cell. This information element is defined in sub-clause | | 12.31. | +----------------------------------------------------------------------+ | **UTRAN TDD Target cell** | | | | This information element contains the description of the UTRAN TDD | | Target cell. This field is defined in sub-clause 12.32. | +----------------------------------------------------------------------+ | **E-UTRAN Target cell** | | | | This information element contains the description of the E-UTRAN | | Target cell . This field is defined in sub-clause 12.49 | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+
### 11.2.3a Packet Cell Change Notification
This message is sent on the PACCH by the mobile station to the network to
inform the network that the cell re-selection criteria are now fulfilled and
that the mobile station has entered CCN mode.
Message type: PACKET CELL CHANGE NOTIFICATION
Direction: mobile station to network
Table 11.2.3a.1: PACKET CELL CHANGE NOTIFICATION message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | { 0 \ | | | | \ | | | | \| 10 -- _Extension in Rel-6 and an escape bit for future | | extensions of the message added:_ | | | | \> } -- | | _Re-selection with a 3G cell as the preferred target cell_ | | | | \| 110 _\-- Extension in Rel-8 for E-UTRAN and an escape bit for | | future extensions of the message_ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ > } | | | | ! \ > } | | | | { 0\ \| 1 \ } | | | | \ | | | | \ | | | | **\  | | > | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Addition in Rel-6_ | | | | { 0 \| 1 \ } | | | | \ > | | | | \ }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | 0 -- The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used. | | | | \ | | | | { \ | | | | { 0 \| 1 \ } | | | | \ } * | | (val(NUMBER_OF_NC_MEASUREMENTS)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ \-- _3G UTRAN FDD_ | | | | { 0 \| 1 \ } | | | | \ } | | | | { 0 \| 1 \ \-- _3G UTRAN TDD_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ } | | | | \ ; -- _Measurement Report | | for 3G target cell_ | +----------------------------------------------------------------------+ | \ ::= -- _Measurement Report | | for 3G neighbour cells_ | | | | \ | | | | { \ | | | | \ } * (val(N_3G + 1 )) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | \ ; -- _Measurement Report | | for E-UTRAN target cell_ | +----------------------------------------------------------------------+ | \ ::= -- _Measurement | | Report for E-UTRAN neighbour cells_ | | | | \ | | | | \ | | | | { \ | | | | \ | | | | \ } * (val(N_E-UTRAN + 1 )) | | ; | +----------------------------------------------------------------------+
Table 11.2.3a.2: PACKET CELL CHANGE NOTIFICATION information element details
+----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field contains the BCCH frequency of the proposed cell for | | re-selection. This field is encoded as the ARFCN defined in | | 3GPP TS 44.018.\ | | Range 0 to 1023 | +----------------------------------------------------------------------+ | **BSIC** (6 bit field)\ | | This field contains the BSIC of the proposed cell for re-selection. | | This field is encoded as the BSIC value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **BA_USED** (1 bit field) | | | | **3G_BA_USED** (1 bit field) | | | | **PSI3_CHANGE_MARK** (2 bit field) | | | | These fields shall be included and contain the value of the BA_IND, | | 3G_BA_IND and PSI3_CHANGE_MARK respectively in the messages | | defining the used GSM Neighbour Cell list. | | | | In case PBCCH exists, PSI3_CHANGE_MARK shall be used.\ | | In case PBCCH does not exist, BA_USED and 3G_BA_USED shall be | | used. | +----------------------------------------------------------------------+ | **PMO_USED** (1 bit field)\ | | This parameter shall contain the value of the PMO_IND in the PACKET | | CELL CHANGE ORDER or PACKET MEASUREMENT ORDER messages that has | | modified the used GSM Neighbour Cell list. If no such message has | | been received, PMO_USED shall be set to zero. | +----------------------------------------------------------------------+ | **CCN Measurement Report struct** | | | | This struct is identical to the NC Measurement Report struct | | specified in the PACKET MEASUREMENT REPORT message with the | | exception that the NC_MODE parameter is not part of the struct. | +----------------------------------------------------------------------+ | **PCCN SENDING** (1 bit field) | | | | 1. This is the first sending of the Packet Cell Change Notification | | message; | | | | 2. This is the second sending of the Packet Cell Change | | Notification message. | | | | This field is used by the network to know whether the mobile station | | has just started T3208 or whether the reception of this message was | | triggered by T3210 expiry. | +----------------------------------------------------------------------+ | **_3G Target Cell struct\ | |_** For information regarding the REPORTING QUANTITY see below. | | Regarding the other parameters see sub-clause 11.2.4 -PACKET CELL | | CHANGE ORDER message. | +----------------------------------------------------------------------+ | **3G CCN Measurement Report struct\ | |** Measurement reporting for 3G Cells is defined in 3GPP TS 45.008. | | | | **3G_CELL_LIST_INDEX** (7 bit field)\ | | This is the index of the i\'th reported 3G neighbour cell in the 3G | | Neighbour Cell List. See sub-clause 5.6.3.1. | | | | **REPORTING_QUANTITY** (6 bit field)\ | | This is the reporting quantity for the serving and for the i\'th | | reported 3G cell. The quantities are defined in 3GPP TS 45.008 for | | the respective Radio Access Technology | +----------------------------------------------------------------------+ | **_E-UTRAN Target Cell struct\ | |_** For information regarding the REPORTING QUANTITY see below. | | Regarding the other parameters see sub-clause 12.49. | +----------------------------------------------------------------------+ | **E-UTRAN CCN Measurement Report struct\ | |** Measurement reporting for E-UTRAN Cells is defined in | | 3GPP TS 45.008. | | | | **3G_BA_USED** (1 bit field)\ | | **N_E-UTRAN** (2 bit field)**\ | | E-UTRAN_FREQUENCY_INDEX** (3 bit field)**\ | | CELL IDENTITY** (9 bit field)\ | | These fields are described in sub-clause 11.2.9. | | | | **REPORTING_QUANTITY** (6 bit field)\ | | This is the reporting quantity for the E-UTRAN neighbour cell. The | | quantities are defined in 3GPP TS 45.008 for the respective Radio | | Access Technology. | +----------------------------------------------------------------------+
### 11.2.4 Packet Cell Change Order
This message is sent on the PCCCH or PACCH by the network to the mobile
station to command the mobile station to leave the current cell and change to
a new cell. For a (3G) multi-RAT mobile station the new cell may be a 3G Cell.
For a (E-UTRAN) multi-RAT mobile station the new cell may be an E-UTRAN cell.
Message type: PACKET CELL CHANGE ORDER
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.4.1: PACKET CELL CHANGE ORDER message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \ > | | | | \| 10 \ } | | | | { 0 | | | | { \\ | | \> | | | | ! \ > } | | | | \| 1 | | | | { 00 -- _Message escape_ | | | | { \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | { null \| 0 bit ** = \ _\-- Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-8_ \ | | { 0 \| 1 \>} | | | | { 0 \| 1 \> } | | | | \ } } | | | | ! \ > } | | | | ! \ > | | } } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ > | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release 98 :_ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release 99 :_ | | | | \> | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-4 :_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | { 0 \| 1 \ } ** 0 > | | --Supplementary information for dual _Iu mode_ and _A/Gb mode_ | | capable cells | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \>} | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-6 :_ \ | | \ | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-7 :_ | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-8_ | | | | \ | | | | { 0 \| 1 \> } | | | | \ } } } } } } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | \ } | | | | { 0 \| 1 \ } | | ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ | | | | { \ } * (1 + | | val(NR_OF_REMOVED_FREQ)) } | | | | { 1 \ | | >} ** 0; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | { \ | | | | \ | | | | { 0 \| 1 \ | | > } } * (val(NR_OF_FREQUENCIES)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \ \ \| 1 \ } | | | | \\ | | \ | | | | \\ | | \\ | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \> }\ | | { 0 \| 1 \> }\ | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | { \ | | | | \ | | | | \ | | | | } * (1+val(N2)) | | | | } * (1+val(N1)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | 0 \ \-- _The value '1' was used in an | | earlier_ | | | | -- _version of the protocol and shall not be used._ | | | | \ | | | | \ | | | | \ | | ; | | | | -- p(x) defined in table 11.2.9b.2.a/3GPP TS 44.060 | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | 0 \ \-- _The value '1' was used in an | | earlier_ | | | | -- _version of the protocol and shall not be used._ | | | | \ | | | | \ | | | | \ | | ; | | | | -- q(x) defined in table 11.2.9b.2.b/3GPP TS 44.060. | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | \ | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \\ | | { 1 ! \> } -- this bit shall be | | ignored by the receiver | | | | -- for backward compatibility with earlier releases\ | | { 0 \| 1 \ \-- FDD Parameters | | | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \ } -- TDD | | Parameters\ | | { 0 \| 1 \\ | | \ } ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | { **CCN_SUPPORTED** : bit } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ > } * | | (val(NR_OF_FREQUENCIES)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ >} ** 0; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | \ | | | | \ | | | | { \ | | | | \ | | | | { 0 \| 1 \ > } } * (val(NR_OF_FREQUENCIES)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ | | ::= | | | | { 0 \| 1 \ } ; -- | | _FDD Parameters_ | +----------------------------------------------------------------------+
Table 11.2.4.2: PACKET CELL CHANGE ORDER information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | | | | **TLLI / G-RNTI** (32 bit field)\ | | This field is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **IMMEDIATE_REL** (1 bit field)\ | | This field indicates whether the MS shall immediately abort any | | operation in the old cell and move to the target cell (see | | sub-clause 8.4), or it shall not immediately abort operation in the | | old cell and follow the cell reselection procedure defined in | | sub-clause 5.5.1.1. This field is coded according to the following | | table: | | | | 0 No immediate abort of operation in the old cell is required.\ | | 1 Immediate abort of operation in the old cell is required. | | | | **ARFCN** (10 bit field)\ | | This field contains the BCCH frequency of the new cell. This field | | is encoded as the ARFCN defined in 3GPP TS 44.018.\ | | Range 0 to 1023 | | | | **BSIC** (6 bit field)\ | | This field contains the BSIC of the new cell. This field is encoded | | as the BSIC value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | | | | **CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards GSM cells for | | the mobile station in the GSM cell addressed by ARFCN and BSIC. It | | is coded as follows:\ | | 0 The broadcast CCN_ACTIVE parameter shall apply if available. | | Otherwise, CCN is disabled for the mobile station.\ | | 1 CCN is enabled for the mobile station. | | | | **CONTAINER_ID** (2 bit field)\ | | This optional parameters is included only if the network has earlier | | sent neighbour cell system information for the cell addressed by the | | ARFCN and the BSIC. For detailed element definition see sub-clause | | 11.2.2.a. | +----------------------------------------------------------------------+ | The **NC_Measurement_Parameters struct** contains the | | NETWORK_CONTROL_ORDER and the optional parameters | | NC_NON_DRX_PERIOD, NC_REPORTING_PERIOD_I, | | NC_REPORTING_PERIOD_T and the NC_FREQUENCY LIST. These | | parameters shall apply in the target cell (see sub-clause 5.6.1) | +----------------------------------------------------------------------+ | **NETWORK_CONTROL_ORDER** (2 bit field)\ | | The NETWORK_CONTROL_ORDER field is coded according to the | | following table (for definition of NCx see 3GPP TS 45.008): | | | | bit\ | | 2 1\ | | 0 0 NC0\ | | 0 1 NC1\ | | 1 0 NC2\ | | 1 1 RESET | +----------------------------------------------------------------------+ | **NC_NON_DRX_PERIOD** (3 bit field)\ | | **NC_REPORTING_PERIOD_I** (3 bit field)\ | | **NC_REPORTING_PERIOD_T** (3 bit field)\ | | For detailed element definitions see the PSI5 message. | +----------------------------------------------------------------------+ | **NR_OF_REMOVED_FREQ** (5 bit field)\ | | **REMOVED_FREQ_INDEX** (6 bit field)\ | | **START_FREQUENCY** (10 bit field)\ | | **BSIC** (6 bit field)\ | | For detailed element definitions, see the Packet Measurement Order | | message | +----------------------------------------------------------------------+ | **FREQ_DIFF_LENGTH** (3 bit field)\ | | This field is required to calculate the number of bits to be used | | for the FREQUENCY_DIFF field in the current frequency group. The | | FREQ_DIFF_LENGTH value shall be different to 0. | +----------------------------------------------------------------------+ | **FREQUENCY_DIFF** (val(FREQ_DIFF_LENGTH) bit field)\ | | Each FREQUENCY_DIFF parameter field specifies the difference in | | frequency to the next carrier to be defined. The F REQUENCY_DIFF | | parameter encodes a non negative integer in binary format (W). Each | | frequency following the start frequency (ARFCN(0)) and belonging to | | the Frequency List struct is then calculated by the formula ARFCN(n) | | = (ARFCN(n-1) + W(n) ) modulus 1024, n=1, . . ., | | val(NR_OF_FREQUENCIES). | +----------------------------------------------------------------------+ | **LSA Parameters\ | |** This information element is defined in sub-clause 12.28. The \'LSA | | parameters IE\' is optional. For detailed element definition, see | | the PSI3 message. | +----------------------------------------------------------------------+ | **_ENH Measurement Parameters:_** | | | | For detailed element definitions see the Packet Measurement Order | | message\ | | (except that CDMA2000 Description struct does not exist in this | | message). | +----------------------------------------------------------------------+ | **UTRAN FDD Target cell** | | | | This information element contains the description of the UTRAN FDD | | Target cell. This information element is defined in sub-clause | | 12.31. | +----------------------------------------------------------------------+ | **UTRAN TDD Target cell** | | | | This information element contains the description of the UTRAN TDD | | Target cell. This information element is defined in sub-clause | | 12.32. | +----------------------------------------------------------------------+ | **E-UTRAN Target cell** | | | | This information element contains the description of the E-UTRAN | | Target cell. This information element is defined in sub-clause | | 12.49. | +----------------------------------------------------------------------+ | **GPRS _MEASUREMENT PARAMETERS Description _\ | |__The fields of this Description are used for measurements, as | | defined in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for this parameter. | +----------------------------------------------------------------------+ |__GPRS 3G_ MEASUREMENT PARAMETERS Description _\ | |_ *The fields of this Description are used for measurements, as | | defined in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for this parameter. | +----------------------------------------------------------------------+ | _**GPRS REP PRIORITY Description** _| | | |_ *REP_PRIORITY bit:**\ | | **0** Normal reporting priority\ | | **1** High reporting priority\ | | The use of these bits is defined in sub-clause 5.6.3.5 and | | 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **_CCN Support Description_** \ | | \ | | **CCN_SUPPORTED** (1 bit field)\ | | This parameter is used for determining whether the mobile station | | shall enter CCN mode when re-selecting a GSM cell and CCN is | | enabled. The use of these bits is described in sub-clause8.8.2a:\ | | Bit\ | | **0** CCN is enabled towards the corresponding cell\ | | **1** CCN is disabled towards the corresponding cell | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+ | **_Iu Mode Neighbour Cell Parameters_** | | | | The _Iu mode Neighbour Cell Parameters_ shall only be included when | | the _List of added Frequency struct_ is present. | +----------------------------------------------------------------------+ | **_Iu Mode Neighbour Cell Params Struct_** | | | | This struct presents supplementary information for _Iu mode_ capable | | cells. The struct assigns _Iu mode_ parameter values to the | | neighbouring cells defined by the message. The _Iu mode Neighbour | | Cell params struct_ values are assigned to the neighbouring cells in | | the same order they appear in the _List of added Frequency struct_. | +----------------------------------------------------------------------+ | **_NC Iu Mode Only Capable Cell List Parameters_** | | | | These parameters are used to add Iu mode only capable cells to | | BA(GPRS) list. | +----------------------------------------------------------------------+ | **CELL BAR QUALIFY 3** **(2 bit field)** | | | | This information element is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **_GPRS 3G Additional Measurement Parameters Description 2_** | | | | The fields of this Description are used for measurements, as defined | | in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for this parameter. | +----------------------------------------------------------------------+ | **3G_CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards 3G neighbouring | | cells. It is coded as follows: | | | | 0 The broadcast 3G_CCN_ACTIVE parameter shall apply if available. | | Otherwise, CCN towards 3G cells is disabled in the cell. | | | | 1 CCN towards 3G cells is enabled in the cell. | +----------------------------------------------------------------------+ | **700_REPORTING_OFFSET** (3 bit field)\ | | **700_REPORTING_THRESHOLD** (3 bit field)**\ | |** These fields are used for measurements, as defined in | | 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | +----------------------------------------------------------------------+ | **810_REPORTING_OFFSET** (3 bit field)\ | | **810_REPORTING_THRESHOLD** (3 bit field)**\ | |** These fields are used for measurements, as defined in | | 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | +----------------------------------------------------------------------+ | **E-UTRAN_CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards E-UTRAN | | neighbouring cells in the target cell. For description and encoding | | see subclause 12.53. | +----------------------------------------------------------------------+ | **Individual Priorities\ | |** This information element is defined in sub-clause 12.50. | +----------------------------------------------------------------------+
### 11.2.5 Packet Channel Request
This message is sent in random mode on the PRACH using the PRACH uplink block
format defined in 3GPP TS 44.004. The order of bit transmission is defined in
3GPP TS 44.004. The numbering, assembling and field mapping conventions
defined for RLC/MAC control blocks in sub-clause 10.0b shall apply.
The message format is either 11-bit or 8-bit. The mobile station shall use the
format indicated by the System Information parameter ACCESS_BURST_TYPE
The 11-bit format is coded as shown in table 11.2.5.1.
The 8-bit format is coded as shown in table 11.2.5.2.
Table 11.2.5.1: PACKET CHANNEL REQUEST 11 bit message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ > | | | | \| \ | | | | \ | | | | \ > | | | | \| \ | | | | \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > ; | +----------------------------------------------------------------------+
Table 11.2.5.2: PACKET CHANNEL REQUEST 8 bit message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \| \ | | | | \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ >; | +----------------------------------------------------------------------+
Table 11.2.5.3: PACKET CHANNEL REQUEST details
+----------------------------------------------------------------------+ | **MultislotClass** (5 bit field)\ | | This information field indicates the GPRS multislot class of the MS. | | The multislot class indicated by this field shall be the same as the | | GPRS multislot class indicated in the MS Radio Access Capability IE | | (see 3GPP TS 24.008). The coding is defined in the following table. | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 multislot class 1\ | | 0 0 0 0 1 multislot class 2\ | | : : : :\ | | 1 1 1 0 0 multislot class 29\ | | other reserved values | +----------------------------------------------------------------------+ | **Priority** (2 bit field)\ | | This information field indicates the requested Radio Priority. This | | field is coded as shown in the following table. The 8 bit format has | | a default Radio Priority of 4. | | | | bit\ | | 2 1\ | | 0 0 Radio Priority 1 (Highest priority)\ | | 0 1 Radio Priority 2\ | | 1 0 Radio Priority 3\ | | 1 1 Radio Priority 4 (Lower priority) | +----------------------------------------------------------------------+ | **NumberOfBlocks** (3 bit field)\ | | This information field indicates the number of blocks requested | | during a mobile originated Temporary Block Flow. This field is coded | | as shown in the following table: | | | | bit\ | | 3 2 1\ | | 0 0 0 1 RLC data block\ | | 0 0 1 2 RLC data blocks\ | | . . .\ | | 1 1 1 8 RLC data blocks | +----------------------------------------------------------------------+ | **RandomBits** (2 bit field or 3 bit field or 5 bit field)\ | | This is an unformatted field. | +----------------------------------------------------------------------+
### 11.2.5a EGPRS Packet Channel Request
This message may be sent by an EGPRS capable mobile station in a cell
supporting EGPRS and where the EGPRS_PACKET_CHANNEL_REQUEST parameter
indicates that this message shall be used.
This message is sent in random mode on the PRACH using the PRACH uplink block
format or on the RACH (see 3GPP TS 44.018) using the RACH uplink / Uplink
access burst block format defined in 3GPP TS 44.004. The order of bit
transmission is defined in 3GPP TS 44.004. The numbering, assembling and field
mapping conventions defined for RLC/MAC control blocks in sub-clause 10.0b
shall apply. The message is coded in 11‑bit format.
The EGPRS capability is indicated using alternative training sequences (see
3GPP TS 45.002).
Table 11.2.5a.1: EGPRS PACKET CHANNEL REQUEST message content
* * *
Training sequence\ bits\ Packet Channel Access (see 3GPP TS 45.002) 11......1
TS1 \ EGPRS with 8PSK
capability in uplink
TS2 \ EGPRS without 8PSK
capability in uplink
* * *
Table 11.2.5a.2: EGPRS PACKET CHANNEL REQUEST message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ > | | | | \| \ | | | | \ | | | | \ > | | | | \| \ | | | | \ | | | | \ > | | | | \| \ | | | | \ > | | | | \| \ > | | | | \| \ > | | | | \| \ > | | | | \| \ >; | +----------------------------------------------------------------------+
Table 11.2.5a.3: EGPRS PACKET CHANNEL REQUEST details
+----------------------------------------------------------------------+ | **MultislotClass** (5 bit field) | | | | This information field indicates the EGPRS multislot class of the | | MS. The multislot class indicated by this field shall be the same as | | the EGPRS multislot class indicated in the MS Radio Access | | Capability IE (see 3GPP TS 24.008). The coding is defined in the | | following table. | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 multislot class 1\ | | 0 0 0 0 1 multislot class 2\ | | : : : :\ | | 1 1 1 0 0 multislot class 29\ | | other reserved values | +----------------------------------------------------------------------+ | **Priority** (2 bit field) | +----------------------------------------------------------------------+ | **NumberOfBlocks** (3 bit field) | +----------------------------------------------------------------------+ | **RandomBits** (3 bit field or 5 bit field)\ | | For the definition of these three last information fields see Packet | | Channel Request in sec. 11.2.5. | +----------------------------------------------------------------------+ | **MultislotClassGroup** (3 bit field) | | | | **This information field indicates the set of the EGPRS multislot | | classes to which the mobile station belongs. The network shall | | assume the longest transition times (T~ta~, T~tb~, T~ra~, T~rb~) and | | the minimum number of RX, TX and SUM slots common to multislot | | classes in each set for the assignments (see Annex L).** | | | | **bit multislot classes\ | | 3 2 1\ | | 0 0 0 5-7\ | | 0 0 1 9-11\ | | 0 1 0 31, 36, 41\ | | 0 1 1 12, 32, 37, 42\ | | 1 0 0 33, 34, 43\ | | 1 0 1 38, 39\ | | 1 1 0 44, 45\ | | 1 1 1 reserved** | +----------------------------------------------------------------------+
### 11.2.5b Packet DBPSCH Assignment
This message is sent on the PCCCH or the PACCH from the network to the mobile
station in _Iu mode_ to assign one or more DBPSCH(s) or a SDCCH to the mobile
station.
Message type: PACKET DBPSCH ASSIGNMENT
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.5b.1: PACKET DBPSCH ASSIGNMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ * 4 } | | | | { { 0 \ > | | | | \| 10 \ | | | | \| 11 \> } | | | | { 0 -- _Message escape_ | | | | { \> | | | | { 0 \| 1 \ } | | | | \> | | | | \ \-- _truncation at end of message allowed, bits | | \'0\' assumed_ | | | | ! \ > } | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 -- _Symmetric uplink and downlink timeslot allocation_ | | | | \| 1 \ } -- | | _Asymmetric uplink and downlink timeslot allocation_ | | | | { 0 \| 1 \ | | | | \ } | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \ | | | | \ | | | | \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Network\'s response times on SDCCH_ | | | | \ > | | | | \| 1 -- _Network\'s reponse times on the assigned DBPSCH_ | | | | \> | | -- _Network\'s response time on SACCH_ | | | | { 0 -- _Network\'s response time on FACCH/F_ | | | | -- _i.e. between a request sent on TCH/F or FACCH/F and the | | corresponding response sent on FACCH/F_ | | | | \> | | | | \| 1 \>}}; -- _Network\'s reponse time on FACCH/H_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SDCCH_ | | | | \; -- _Network\'s maximum response | | time on SDCCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SACCH_ | | | | \; -- _Network\'s maximum response | | time on SACCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+ | \ ::= -- _Provides the power level to be | | used by the mobile station_ | | | | { 0 -- Normal power control | | | | \| 1 \ } -- Fast or Enhanced Power | | Control | | | | \; | +----------------------------------------------------------------------+
Table 11.2.5b.2: PACKET DBPSCH ASSIGNMENT information elements details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains one of the mobile station\'s | | downlink or uplink TFIs. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **G-RNTI** (32 bit field)\ | | This field is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **Packet_Request_Reference\ | |** This information element is defined in sub-clause 12.11 | +----------------------------------------------------------------------+ | **CHANNEL_TYPE** (6 bit field)\ | | This field indicates the type of channel allocated to the mobile | | station on DBPSCH. The T bits indicate the subchannel number coded | | in binary. See 3GPP TS 45.002. | | | | bit\ | | 6 5 4 3 2 1\ | | 0 0 0 0 T T SDCCH/4 + SACCH/C4\ | | 0 0 1 T T T SDCCH/8 + SACCH/C8\ | | 0 1 0 0 0 0 TCH/F + FACCH/F + SACCH/F\ | | 0 1 0 0 1 T TCH/H + FACCH/H + SACCH/TH\ | | 0 1 0 1 0 0 PDTCH/F + PACCH/F + SACCH/F\ | | All other values Reserved | +----------------------------------------------------------------------+ | **DOWNLINK_TIMESLOT_ALLOCATION** (8 bit field)\ | | This field is coded as the Timeslot Allocation field defined in | | sub-clause 12.18. The uplink timeslot allocation is identical to the | | downlink timeslot allocation given in this field in case the | | UPLINK_TIMESLOT_ALLOCATION field is not included. | | | | NOTE: Multislot allocation is only possible with a CHANNEL_TYPE | | indicating TCH or PDTCH. | +----------------------------------------------------------------------+ | **UPLINK_TIMESLOT_ALLOCATION** (8 bit field)\ | | This field is coded as the Timeslot Allocation field defined in | | sub-clause 12.18. It is included only in case of asymmetric timeslot | | allocation between downlink and uplink. | | | | NOTE: Multislot allocation is only possible with a CHANNEL_TYPE | | indicating TCH or PDTCH. | +----------------------------------------------------------------------+ | **CHANNEL_MODE (8 bit field)\ | | This field is coded as the mode part of the channel mode IE defined | | in 3GPP TS 44.018. It shall be included only in case a TCH is | | assigned to the mobile station.** | +----------------------------------------------------------------------+ | **TSC** (3 bit field)\ | | This field is the binary representation of the training sequence | | code, see 3GPP TS 45.002. | | | | Range: 0 to 7. | +----------------------------------------------------------------------+ | **MAIO** (6 bit field)\ | | This field is the binary representation of the mobile allocation | | index offset (MAIO), see 3GPP TS 45.002. | | | | Range: 0 to 63. | +----------------------------------------------------------------------+ | **HSN** (6 bit field)\ | | This field is the binary representation of the hopping sequence | | number, see 3GPP TS 45.002. | | | | Range: 0 to 63. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field is the binary representation of the absolute radio | | frequency channel number (ARFCN) defined in 3GPP TS 45.005. | | | | Range 0 to 1023. | +----------------------------------------------------------------------+ | **TIMING_ADVANCE_VALUE** (8 bit field)\ | | This field is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **TRMIN_SDCCH (1 bit field)\ | |** This field indicates the minimum response time of the network on | | SDCCH, expressed as a number of TDMA frames. See 3GPP TS 44.160. | | | | Bit\ | | 1\ | | 0 32\ | | 1 83 | +----------------------------------------------------------------------+ | **TRESP_SDCCH (1 bit field)\ | | This field indicates the maximum response time of the network on | | SDCCH, expressed as a number of TDMA frames. See 3GPP TS 44.160.** | | | | Bit\ | | 1\ | | 0 134\ | | 1 185 | +----------------------------------------------------------------------+ | **TRMIN_SACCH (1 bit field)\ | |** This field indicates the minimum response time of the network on | | SACCH, expressed as a number of TDMA frames. See 3GPP TS 44.160. | | | | Bit\ | | 1\ | | 0 25\ | | 1 129 | +----------------------------------------------------------------------+ | **TRESP_SACCH (1 bit field)\ | | This field indicates the maximum response time of the network on | | SACCH, expressed as a number of TDMA frames. See 3GPP TS 44.160.** | | | | Bit\ | | 1\ | | 0 129\ | | 1 233 | +----------------------------------------------------------------------+ | **TRMIN** (6 bit field)\ | | This field indicates the minimum response time of the network, | | expressed as a number of TDMA frames. See 3GPP TS 44.160. | | | | Bit\ | | 6 5 4 3 2 1\ | | 0 0 0 0 0 0 9\ | | 0 0 0 0 0 1 10\ | | ... ...\ | | 1 1 1 1 1 1 72 | +----------------------------------------------------------------------+ | **TRESP_MAC_DTM (7 bit field)\ | | TRESP_MAC_Dedicated (7 bit field)\ | | These fields indicate for a given MAC state the maximum response | | time of the network expressed as a number of TDMA frames. See | | 3GPP TS 44.160.** | | | | Bit\ | | 7 6 5 4 3 2 1\ | | 0 0 0 0 0 0 0 14\ | | 0 0 0 0 0 0 1 15\ | | ...\ | | 1 1 1 1 1 1 1 141 | +----------------------------------------------------------------------+ | **FPC_EPC (1 bit field)\ | |** This field indicates whether fast power control or enhanced power | | control (see 3GPP TS 45.008) shall be used. It is coded as follows: | | | | Bit\ | | 1\ | | 0 FPC in use\ | | 1 EPC in use | +----------------------------------------------------------------------+ | **POWER_LEVEL (8 bit field)\ | | This field is coded as the binary representation of the \"power | | control level\", see 3GPP TS 45.005. This value shall be used by the | | mobile station according to 3GPP TS 45.008.** | | | | **Range: 0 to 31** | +----------------------------------------------------------------------+ | **USF (3 bit field)\ | | This field indicates the USF value assigned to the MS for all | | assigned timeslots (range 0 to 7). This field is encoded as a binary | | representation of the USF value as defined in sub-clause 10.4.1.** | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station on DBPSCH. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+
### 11.2.5c MPRACH Packet Channel Request
This message is sent in random mode on the MPRACH using the PRACH uplink block
format defined in 3GPP TS 44.004. The order of bit transmission is defined in
3GPP TS 44.004. The numbering, assembling and field mapping conventions
defined for RLC/MAC control blocks in sub-clause 10.0b shall apply.
The message is coded as shown in table 11.2.5c.1.
Table 11.2.5c.1: MPRACH PACKET CHANNEL REQUEST message content
+-------------------------------------------------------------------------+ | \ ::= | | | | \ >; | +-------------------------------------------------------------------------+
Table 11.2.5c.2: MPRACH PACKET CHANNEL REQUEST details
* * *
**RandomBits** (7 bit field)\ This is an unformatted field.
* * *
### 11.2.6 Packet Downlink Ack/Nack
This message is sent on the PACCH from the mobile station to the network to
indicate the status of downlink RLC data blocks received and to report the
channel quality of the downlink. The mobile station may optionally initiate an
uplink TBF.
Message type: PACKET DOWNLINK ACK/NACK
Direction: mobile station to network
Table 11.2.6.1: Packet Downlink Ack/Nack information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | { 0 \| 1 \ > } | | | | \ | | > | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additional contents for Release 1999_ | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | _\| 1_ \-- _Additions for REL-5_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additional contents for Release 6_ | | | | _{ 0 \| 1_ \ > } } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additional contents for Release 7_ | | | | \ | | | | \ } } }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+
Table 11.2.6.2: Packet Downlink Ack/Nack information element details
+----------------------------------------------------------------------+ | **DOWNLINK_TFI** (5 bit field)\ | | This field contains the TFI of the mobile station\'s downlink TBF. | | This field is defined in sub-clause 12.15. On DBPSCH, this field | | equals the radio bearer identity of the radio bearer to which this | | message applies. | | | | **Ack/Nack Description\ | |** This information element is defined in sub-clause 12.3. | | | | **Channel Request Description** \ | | This information element is defined in sub-clause 12.7. If a PFI | | field is included in this message, it relates to the TBF request | | contained in the **_Channel Request Description_** IE. Neither this | | IE nor the PFI field shall be included if the _Extended_ _Channel | | Request Description_**** IE is included.**| | | |** Iu mode Channel Request Description**\ | | This information element is defined in sub-clause 12.7a. | | | |** Extended Channel Request Description**\ | | This information element is defined in sub-clause 12.7b. This IE | | contains a request for one or more additional uplink TBFs and shall | | only be included if the mobile station and the network support | | multiple TBF procedures. If this IE is included, the** _Channel | | Request Description_ IE and PFI field in the message shall be | | omitted.**| +----------------------------------------------------------------------+ |** C_VALUE**(6 bit field)\ | | This field is encoded as the binary representation of the C value as | | specified in 3GPP TS 45.008.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ |** RXQUAL**(3 bit field)** \ | | **This field contains the RXQUAL parameter field calculated by the | | mobile station (see 3GPP TS 45.008). This field is encoded as | | defined in 3GPP TS 44.018.\ | | Range 0 to 7 | +----------------------------------------------------------------------+ |** PFI**(7 bit field)** \ | | **This field contains the PFI parameter identifying a Packet Flow | | Context relating to the resource request specified in the _Channel | | Request Description_ IE. The PFI parameter is encoded as the | | contents of the PFI information element as defined in | | 3GPP TS 44.018. This field may be included if the network supports | | packet flow context procedures and if a Channel Request Description | | IE is included in the message. If this field is included but the | | _Channel Request Description_ IE is omitted, this field shall be | | ignored. | +----------------------------------------------------------------------+ | **SIGN_VAR**(6 bit field)** \ | | **This field contains the signal variance parameter SIGN_VAR | | calculated by the mobile station (see 3GPP TS 45.008). | | | | bit\ | | 6 5 4 3 2 1\ | | 0 0 0 0 0 0 0dB^2^ to 0.25 dB^2^\ | | 0 0 0 0 0 1 >0.25 dB^2^ to 0.50 dB^2^\ | | 0 0 0 0 1 0 >0.50 dB^2^ to 0.75 dB^2^\ | | : : : : :\ | | 1 1 1 1 1 0 >15.50 dB^2^ to 15.75 dB^2^\ | | 1 1 1 1 1 1 >15.75 dB^2^ | +----------------------------------------------------------------------+ | **I_LEVEL_TN0**(4 bit field)\ | |** I_LEVEL_TN1**(4 bit field)\ | |** I_LEVEL_TN2**(4 bit field)\ | |** I_LEVEL_TN3**(4 bit field)\ | |** I_LEVEL_TN4**(4 bit field)\ | |** I_LEVEL_TN5**(4 bit field)\ | |** I_LEVEL_TN6**(4 bit field)\ | |** I_LEVEL_TN7**(4 bit field)\ | | These fields contain the I_LEVEL value measured on timeslots 0 | | through 7, respectively. The I_LEVEL is defined in 3GPP TS 45.008 | | and the coding of I_LEVEL is as follows: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 I_LEVEL 0\ | | 0 0 0 1 I_LEVEL 1\ | | . . .\ | | 1 1 1 0 I_LEVEL 14\ | | 1 1 1 1 I_LEVEL 15 | +----------------------------------------------------------------------+ |** RB Id**(5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station's radio bearer for which the downlink data transfer on | | SFACCH is acknowledged. This field is not included when the PACKET | | DOWNLINK ACK/NACK messsage is sent on DBPSCH. This field is encoded | | as a binary number with range 0-31 | +----------------------------------------------------------------------+ |** Timeslot Number (3 bit field)\ | | It contains the timeslot number of the timeslot on which the | | corresponding RRBP was received. This field shall be included if and | | only if**the timeslot number of the PDTCH/SBPSCH on which the | | PACKET DOWNLINK ACK/NACK message is sent is different from the | | timeslot number of each of the timeslots assigned to this TBF in the | | direction of this TBF.** This field is encoded as the binary | | representation of the timeslot number as defined in | | 3GPP TS 45.002.**| +----------------------------------------------------------------------+ |** EARLY_TBF_ESTABLISHMENT** (1 bit field) | | | | This field indicates whether or not the channel request is meant to | | request pre-allocatation of an uplink TBF: | | | | 0 The channel request is not meant to pre-allocate an uplink TBF.\ | | 1 The channel request is meant to pre-allocate an uplink TBF. | +----------------------------------------------------------------------+
### 11.2.6a EGPRS Packet Downlink Ack/Nack
This message is sent on the PACCH from the mobile station to the network to
indicate the status of downlink RLC data blocks received and to report the
channel quality of the downlink. The mobile station may optionally initiate an
uplink TBF or request a temporary suspension of the downlink TBF.
Message type: EGPRS Packet Downlink Ack/Nack
Direction: mobile station to network
Table 11.2.6a.1 : EGPRS Packet Downlink Ack/Nack information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \Channel Request | | Description IE > >} | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ ! { bit** = \ }} > } | | | | \> | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { { _\-- Rel-5 extension_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } | | | | { _\-- Rel-6 extension_ | | | | { 0 \| 1 \ > } } | | | | { _\-- Rel-7 extension_ | | | | \ | | | | { 0 \| 1 \ } } | | | | \** } // ; _\-- Truncation may occur between | | released versions of the protocol_ | | | | _\-- The receiver shall assume the value zero of any truncated bits_ | +----------------------------------------------------------------------+
Table 11.2.6a.1a : expanded_EPDAN_extension_length function
+----------------------------------------------------------------------+ | /* | | | | * The expanded_EPDAN_extension_length function returns the | | actual length of | | | | * the EPD A/N Extension Info IE computed as follows: | | | | * - if index_value >= 6 or the mobile station is NOT assigned a | | dual carrier | | | | * configuration, the length is index_value +1 (for sizes ranging | | from 1 to 64 bits) | | | | * - if index_value \= 6) OR (DLDC_configuration == 0)) | | | | L = index + 1; | | | | else | | | | L = index + 65; | | | | return (L); | | | | } | +----------------------------------------------------------------------+
Table 11.2.6a.2: EGPRS Packet Downlink Ack/Nack information element details
+----------------------------------------------------------------------+ | **DOWNLINK_TFI** (5 bit field)\ | | This field contains the TFI of the mobile station\'s downlink TBF. | | This field is defined in sub-clause 12.15. On DBPSCH, this field | | equals the radio bearer identity of the radio bearer to which this | | message applies. | +----------------------------------------------------------------------+ | **EGPRS Ack/Nack Description IE** (L bit field)**\ | |** This information element is defined in sub-clause 12.3.1. The | | number of bits (L) available for Ack/Nack Description information | | element depends on the inclusion of channel quality reports and | | channel requests. L shall be set so that the entire EGPRS Packet | | Downlink Ack/Nack message evenly fits into an RLC/MAC control block. | | If a lower L covers the entire receive window, that L shall be used. | +----------------------------------------------------------------------+ | **MS OUT OF MEMORY** (1 bit field)\ | | This field indicates that the MS has no more enough memory to | | perform Incremental Redundancy. | | | | 0 The MS has enough memory\ | | 1 The MS is running out of memory | +----------------------------------------------------------------------+ | **Channel Request Description IE** \ | | This information element is defined in sub-clause 12.7. If a PFI | | field is included in this message, it relates to the TBF request | | contained in the **_Channel Request Description_** IE. Neither this | | IE nor the PFI field shall be included if the _Extended_ _Channel | | Request Description_**** IE is included.**| | | |** Iu mode Channel Request Description IE**\ | | This information element is defined in sub-clause 12.7a. | | | |** Extended Channel Request Description**\ | | This information element is defined in sub-clause 12.7b. This IE | | contains a request for one or more additional uplink TBFs and shall | | only be included if the mobile station and the network support | | multiple TBF procedures. If this IE is included, the** _Channel | | Request Description_ IE and PFI field in the message shall be | | omitted.**| | | |** EGPRS Channel Quality Report**** IE**\ | | This information element is defined in sub-clause 12.5.1. For a | | mobile station with a dual carrier downlink assignment, this IE | | shall contain measurements corresponding to the downlink carrier | | which is paired with the uplink carrier on which this message is | | being sent. | +----------------------------------------------------------------------+ |** PFI**(7 bit field)** \ | | **This field contains the PFI parameter identifying a Packet Flow | | Context relating to the resource request specified in the Channel | | Request Description IE. The PFI parameter is encoded as the contents | | of the PFI information element as defined in 3GPP TS 44.018. This | | field may be included if the network supports packet flow context | | procedures and if a Channel Request Description IE is included in | | the message. If this field is included but the Channel Request | | Description IE is omitted, this field shall be ignored. | +----------------------------------------------------------------------+ |** RB Id**(5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station\'s radio bearer for which the downlink data transfer on | | SFACCH is acknowledged. This field is not included when the EGPRS | | PACKET DOWNLINK ACK/NACK message is sent on DBPSCH. This field is | | encoded as a binary number with range 0-31. | +----------------------------------------------------------------------+ |** Timeslot Number (3 bit field)\ | | It contains the timeslot number of the timeslot on which the | | corresponding RRBP was received. This field shall be included if and | | only if**the timeslot number of the PDTCH/SBPSCH on which the EGPRS | | PACKET DOWNLINK ACK/NACK message is sent is different from the | | timeslot number of each of the timeslots assigned to this TBF in the | | direction of this TBF.** This field is encoded as the binary | | representation of the timeslot number as defined in | | 3GPP TS 45.002.**| +----------------------------------------------------------------------+ |** EARLY_TBF_ESTABLISHMENT**(1 bit field) | | | | This field indicates whether or not the channel request is meant to | | request pre-allocation of an uplink TBF: | | | | 0 The channel request is not meant to pre-allocate an uplink TBF.\ | | 1 The channel request is meant to pre-allocate an uplink TBF. | +----------------------------------------------------------------------+ |** Secondary Dual Carrier Channel Report** | | | | This information element is described in sub-clause 12.5.1. For a | | mobile station with a dual carrier downlink assignment, this IE | | shall contain measurements corresponding to the downlink carrier | | which is not paired with the uplink carrier on which this message is | | being sent. This IE shall not be included by an MS with a single | | carrier downlink assignment. | +----------------------------------------------------------------------+
### 11.2.6b Packet DBPSCH Downlink Ack/Nack
This message is sent on FACCH, SACCH or SDCCH from the mobile station to the
network to indicate the status of downlink RLC data blocks received.
Message type: PACKET DBPSCH DOWNLINK ACK/NACK
Direction: mobile station to network
Table 11.2.6b.1: Packet DBPSCH Downlink Ack/Nack information elements
+-------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 _\-- TCH TBF mode_ | | | | { 0 _\- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ | | | | \ } | | | | \| 1 _\-- DCCH TBF mode_ | | | | { 0 _\- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ | | | | \ } } | | | | \ ; | +-------------------------------------------------------------------+
Table 11.2.6b.2: Packet DBPSCH Downlink Ack/Nack information element details
+----------------------------------------------------------------------+ | **RB Id** (5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station\'s radio bearer for which the downlink data transfer is | | acknowledged. This field is encoded as a binary number with range | | 0-31. | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER** (8 or 4 bit field)**\ | |** The SSN contains the value of V(R) when this information element | | was transmitted. This field is encoded as the binary representation | | of V(R).\ | | Range 0 to 255 (8 bit field)\ | | Range 0 to 15 (4 bit field) | +----------------------------------------------------------------------+ | **RECEIVE_BLOCK_BITMAP (RBB)** (128 or 8 bit field)\ | | The RBB is a bitmap representing Block Sequence Numbers. The bitmap | | is indexed relative to SSN as follows: | | | | > BSN = (SSN - bit_number) modulo 256, for bit_number = 1 to 128 | | > (128 bit field). | | > | | > BSN = (SSN - bit_number) modulo 16, for bit_number = 1 to 8 (8 | | > bit field). | | | | The BSN values represented range: | | | | > from (SSN - 1) mod 256 to (SSN - 128) mod 256 (128 bit field) | | > | | > from (SSN - 1) mod 16 to (SSN - 8) mod 16 (8 bit field) | | | | The value of each bit represents the acknowledgement status of the | | RLC data block with: | | | | > BSN = (SSN - bit_number) mod 256 (128 bit field)\ | | > BSN = (SSN - bit_number) mod 16 (8 bit field), | | | | it is encoded as follows: | | | | > 0 Negative acknowledgement | | > | | > 1 Positive acknowledgement | | | | Mapping of the bitmap is defined in 3GPP TS 44.160. | +----------------------------------------------------------------------+
### 11.2.6c Packet DBPSCH Downlink Ack/Nack Type 2
This message shall only be used when FLO is used. It is sent on ADCH from the
mobile station to the network to indicate the status of downlink RLC data
blocks received.
Message type: PACKET DBPSCH DOWNLINK ACK/NACK TYPE 2
Direction: mobile station to network
Table 11.2.6c.1: Packet DBPSCH Downlink Ack/Nack TYPE 2 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _The same message | | type as for Packet DBPSCH Downlink Ack/Nack is -- used since these | | two messages are mutually exclusive_ | | | | \ | | | | \ > | | | | { 0 _\-- UDCH TBF mode_ | | | | { 0 _\-- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ > } | | | | \| 1 _\-- CDCH TBF mode_ | | | | { 0 _\-- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ | | | | \ } } | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.6c.2: Packet DBPSCH Downlink Ack/Nack TYPE 2 information element
details
+----------------------------------------------------------------------+ | **RB Id** (5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station\'s radio bearer for which the downlink data transfer is | | acknowledged. This field is encoded as a binary number with range | | 0-31. | +----------------------------------------------------------------------+ | **FLO Ack/Nack Description IE** (x bit field)**\ | |** This information element is defined in sub-clause 12.3.2. | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER** (4 bit field)**\ | |** The SSN contains the value of V(R) when this information element | | was transmitted. This field is encoded as the binary representation | | of V(R).\ | | Range 0 to 15 | +----------------------------------------------------------------------+ | **RECEIVE_BLOCK_BITMAP (RBB)** (128 or 8 bit field)\ | | The RBB is a bitmap representing Block Sequence Numbers. The bitmap | | is indexed relative to SSN as follows: | | | | > BSN = (SSN - bit_number) modulo 16, for bit_number = 1 to 8 (8 | | > bit field). | | | | The BSN values represented range: | | | | > from (SSN - 1) mod 16 to (SSN - 8) mod 16 (8 bit field) | | | | The value of each bit represents the acknowledgement status of the | | RLC data block with: | | | | > BSN = (SSN - bit_number) mod 16 (8 bit field), | | | | it is encoded as follows: | | | | > 0 Negative acknowledgement | | > | | > 1 Positive acknowledgement | | | | Mapping of the bitmap is defined in 3GPP TS 44.160. | +----------------------------------------------------------------------+
### 11.2.6d MBMS Downlink Ack/Nack
This message is sent on the PACCH from the mobile station to the network to
indicate the status of downlink RLC data blocks received, to report
neighbouring cell measurements and to notify the network of the release of the
MS_ID on the mobile station side.
Message type: MBMS Downlink Ack/Nack
Direction: mobile station to network
Table 11.2.6d.1: MBMS Downlink Ack/Nack information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > \-- _Neighbouring cell reporting_ | | | | \ | | | | { 0 \| 1 \ } -- | | _sub-clause 12.26_ | | | | { 0 \ > | | -- _Ack/Nack information_ | | | | \| 1 \ | | | | \ > } | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ } | | | | \ >; | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Serving cell Rx level_ | | | | \ \-- _If re-selection | | criteria are fulfilled, only the_ | | | | -- _corresponding neighbouring cell is reported_ | | | | \ | | | | { \ \-- _Neighbouring cells | | Rx levels_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 -- _No ptm parameters acquired for that session_ | | | | -- _in that cell_ | | | | \| 1 \ } -- _Ptm | | parameters acquired for that session in_ | | | | -- _that cell_ | | | | } * val (NUMBER_OF_NEIGHBOURING CELL_MEASUREMENTS) ; | +----------------------------------------------------------------------+
Table 11.2.6d.2: MBMS Downlink Ack/Nack information element details
+----------------------------------------------------------------------+ | **DOWNLINK_TFI** (5 bit field)\ | | This field contains the TFI identifying the mobile station sending | | this message (i.e. the concatenation of the MBMS Bearer ID and the | | MS_ID). | +----------------------------------------------------------------------+ | **MS_ID Release Indication** (1 bit field)\ | | This field is used by the mobile station to notify the network of | | the release of the MS_ID, for the MBMS radio bearer the message | | relates to, on the mobile station side. | | | | 0 The MS_ID is not released on the mobile station side | | | | 1 The MS_ID is released on the mobile station side | +----------------------------------------------------------------------+ | **Extension Bits\ | |** This information element, if present, shall be skipped over. Any | | information content shall be ignored by the network. This | | information element is defined in sub-clause 12.26. | +----------------------------------------------------------------------+ | **Ack/Nack Description IE\ | |** This information element is defined in sub-clause 12.3. | +----------------------------------------------------------------------+ | **MS OUT OF MEMORY** (1 bit field)\ | | This field indicates that the MS has no more enough memory to | | perform Incremental Redundancy. | | | | 0 The MS has enough memory\ | | 1 The MS is running out of memory | +----------------------------------------------------------------------+ | **EGPRS Ack/Nack Description IE** (L bit field)**\ | |** This information element is defined in sub-clause 12.3.1. The | | number of bits (L) available for Ack/Nack Description information | | element may depend on the number of neighbouring cell measurements | | included (see sub-clause 9.1.8.2.1). L shall be set so that the | | entire MBMS Downlink Ack/Nack message evenly fits into an RLC/MAC | | control block. If a lower L covers the entire receive window, that L | | shall be used. | +----------------------------------------------------------------------+ | **BA_USED** (1 bit field)\ | | **PSI3_CHANGE_MARK** (2 bit field)\ | | These fields shall contain the value of BA_IND and | | PSI3_CHANGE_MARK respectively in the message defining the used | | Neighbour Cell List. | | | | In case PBCCH exists, PSI3_CHANGE_MARK shall be used.\ | | In case PBCCH does not exist, BA_USED shall be used. | +----------------------------------------------------------------------+ | **RXLEV_SERVING_CELL** (6 bit field)\ | | This field contains the value of the RXLEV parameter for the serving | | cell calculated by the mobile station (see 3GPP TS 45.008). This | | field is encoded.as the binary representation of the RXLEV parameter | | value defined in 3GPP TS 45.008.\ | | Range 0 to 63. | +----------------------------------------------------------------------+ | **Neighbouring cell reporting** | | | | **The reporting of neighbouring cell measurement results is done in | | decreasing order of the corresponding cell re-selection ranking, as | | described in sub-clause 5.6.4. In case cell re-selection criteria | | are fulfilled, only the measurement results for the corresponding | | neighbouring cell are included and no other measurement results for | | any other neighbouring cell are included.** | +----------------------------------------------------------------------+ | **RESEL_CRITERIA_FULFILLED** (1 bit field)\ | | This field indicates whether cell re-selection criteria are | | fulfilled. | | | | [Bit\ | | ]{.underline}0 Cell re-selection criteria are not fulfilled\ | | 1. Cell re-selection criteria are fulfilled | +----------------------------------------------------------------------+ | **NUMBER_OF_NEIGHBOURING_CELL_MEASUREMENTS (3 bit field)\ | | This field is encoded as the binary representation of the amount of | | neighbouring cells reported.** | | | | **Bit\ | | [3 2 1]{.underline}\ | | 0 0 0 0\ | | ... ...\ | | 1 0 1 5\ | | 1 1 x 6** | +----------------------------------------------------------------------+ | **NCELL_LIST_INDEX_N (7 bit field)\ | |** This field contains the index of the GSM Neighbour Cell list, see | | sub-clause 5.6.3.2. As an exception, if PBCCH is not present in the | | cell and the MS has not acquired **the complete GSM Neighbour Cell | | list from the BCCH messages,** this field shall refer to the | | BA(BCCH) list. | +----------------------------------------------------------------------+ | **BSIC_N (6 bit field)\ | |** This field indicates the BSIC of the frequency upon which the | | measurement was made. This field shall be included only for | | frequencies that refer to the BA(BCCH) list. The field is encoded as | | the BSIC value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **RXLEV_N (6 bit field)\ | |** This field indicates the measured RXLEV of the frequency upon | | which the measurement was made (see 3GPP TS 45.008). This field is | | encoded as the RXLEV value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **RESEL_PARAMS_ACQUIRED (1 bit field)\ | | This field indicates whether the mobile station has received the | | re-selection parameters for the reported neighbouring cell.** | | | | **Bit\ | | 0 No re-selection parameters received for this neighbouring cell\ | | 1 Re-selection parameters received for this neighbouring cell** | +----------------------------------------------------------------------+ | **MBMS_PTM_CHANGE_MARK (2 bit field)\ | |** This field shall contain the value of the MBMS_PTM_CHANGE_MARK | | field in the latest MBMS NEIGHBOURING CELL INFORMATION message | | received by the mobile station for that MBMS session and that | | reported neighbouring cell. If no such MBMS_PTM_CHANGE_MARK is | | available, it shall not be included in the MBMS DOWNLINK ACK/NACK | | message. | +----------------------------------------------------------------------+
### 11.2.6e EGPRS Packet Downlink Ack/Nack Type 2
This message is sent on the PACCH from the mobile station to the network to
indicate the status of downlink RLC data blocks received and to report the
channel quality of the downlink. The mobile station may optionally initiate an
uplink TBF or request a temporary suspension of the downlink TBF.
Message type: EGPRS Packet Downlink Ack/Nack Type 2
Direction: mobile station to network
Table 11.2.6e.1 : EGPRS Packet Downlink Ack/Nack TYPE 2 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ ! { bit** = \ | | }} > } | | | | _\-- Truncation of the EGPRS Ack/Nack Description is allowed if the | | mobile station is assigned a downlink_ | | | | _\-- dual carrier configuration and the available space in the | | message without EGPRS Ack/Nack Description_ _IE_ | | | | _\-- does not allow for the inclusion of a valid EGPRS Ack/Nack | | Description_ _IE, i.e. is less than 16 bits._ | | | | _\-- In the same conditions, the receiver shall assume that no EGPRS | | Ack/Nack description IE is included._ | | | | { \> } // | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } | | | | \** // ; _\-- Truncation may occur between released | | versions of the protocol_ | | | | _\-- The receiver shall assume the value zero of any truncated bits_ | +----------------------------------------------------------------------+
Table 11.2.6e.2: EGPRS Packet Downlink Ack/Nack TYPE 2 information element
details
+----------------------------------------------------------------------+ | **DOWNLINK_TFI** (5 bit field)\ | | This field contains the TFI of the mobile station\'s downlink TBF. | | This field is defined in sub-clause 12.15. On DBPSCH, this field | | equals the radio bearer identity of the radio bearer to which this | | message applies. | +----------------------------------------------------------------------+ | **EGPRS Ack/Nack Description IE** (L bit field)**\ | |** This information element is defined in sub-clause 12.3.1. The | | number of bits (L) available for Ack/Nack Description information | | element depends on the inclusion of channel quality reports and | | channel requests. L shall be set so that the entire EGPRS Packet | | Downlink Ack/Nack message evenly fits into an RLC/MAC control block. | | If a lower L covers the entire receive window, that L shall be used. | +----------------------------------------------------------------------+ | **MS OUT OF MEMORY** (1 bit field)\ | | This field indicates that the MS has no more enough memory to | | perform Incremental Redundancy. | | | | 0 The MS has enough memory\ | | 1 The MS is running out of memory | +----------------------------------------------------------------------+ | **Channel Request Description IE** \ | | This information element is defined in sub-clause 12.7. If a PFI | | field is included in this message, it relates to the TBF request | | contained in the **_Channel Request Description_** IE. Neither this | | IE nor the PFI field shall be included if the _Extended_ _Channel | | Request Description_**** IE is included.**| | | |** Extended Channel Request Description**\ | | This information element is defined in sub-clause 12.7b. This IE | | contains a request for one or more additional uplink TBFs and shall | | only be included if the mobile station and the network support | | multiple TBF procedures. If this IE is included, the** _Channel | | Request Description_ IE and PFI field in the message shall be | | omitted.**| | | |** EGPRS Channel Quality Report Type 2**** IE**\ | | This information element is defined in sub-clause 12.5a.1. For a | | mobile station with a dual carrier downlink assignment, this IE | | shall contain measurements corresponding to the downlink carrier | | which is paired with the uplink carrier on which this message is | | being sent. | +----------------------------------------------------------------------+ |** PFI**(7 bit field)** \ | | **This field contains the PFI parameter identifying a Packet Flow | | Context relating to the resource request specified in the _Channel | | Request Description_ IE. The PFI parameter is encoded as the | | contents of the PFI information element as defined in | | 3GPP TS 44.018. This field may be included if the network supports | | packet flow context procedures and if a Channel Request Description | | IE is included in the message. If this field is included but the | | _Channel Request Description_ IE is omitted, this field shall be | | ignored. | +----------------------------------------------------------------------+ | **EARLY_TBF_ESTABLISHMENT**(1 bit field) | | | | This field indicates whether or not the channel request is meant to | | request pre-allocation of an uplink TBF: | | | | 0 The channel request is not meant to pre-allocate an uplink TBF.\ | | 1 The channel request is meant to pre-allocate an uplink TBF. | +----------------------------------------------------------------------+ |** Secondary Dual Carrier Channel Report** | | | | This information element is described in sub-clause 12.5a.1. For a | | mobile station with a dual carrier downlink assignment, this IE | | shall contain measurements corresponding to the downlink carrier | | which is not paired with the uplink carrier on which this message is | | being sent. This IE shall not be included by an MS with a single | | carrier downlink assignment. | +----------------------------------------------------------------------+
### 11.2.7 Packet Downlink Assignment
This message is sent on the PCCCH or PACCH by the network to the mobile
station to assign downlink resources to the mobile station. If the mobile
station supports Downlink Dual Carrier, this message may be sent using
extended RLC/MAC control message segmentation (see sub-clause 9.1.12a).
A mobile allocation or reference frequency list received as part of this
assignment message shall be valid until a new assignment is received or each
TBF of the MS are terminated.
Message type: PACKET DOWNLINK ASSIGNMENT
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.7.1: Packet Downlink ASSIGNMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ * 4 } | | | | { { 0 \ > | | | | \| 10 \ } | | | | { 0 -- _Message escape_ | | | | { \ | | | | \ | | | | \ | | | | \ | | | | \ > | | | | { 0 \| 1 \ | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | \ } | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | +----------------------------------------------------------------------+ | \| 1 -- _Additional contents for Release 1999_ | | | | { 0 \| 1 \> | | | | \ | | | | { 0 \| 1 \ }} | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | +----------------------------------------------------------------------+ | _\| 1_ \-- _Additions for REL-5_ | | | | _{ 0 \| 1 \ _ | | | | _{ 0 \| 1 \  }_ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | +----------------------------------------------------------------------+ | \| 1 -- _Additions for REL-6_ | | | | { 0 \| 1 _\ _ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | +----------------------------------------------------------------------+ | \| 1 -- _Additions for REL-7_ | | | | { 0 \| 1 _\ _ } | | | | \ } } } } }// -- truncation at end of message | | allowed, bits \'0\' assumed | | | | ! \ > } | | | | \| 1 -- _message escape for dual carrier, RTTI, BTTI with FANR | | activated, EGPRS2_ | | | | { 00 { \ | | | | \ | | | | \ > | | | | { 0 -- _BTTI mode_ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 -- _RTTI mode_ | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \ | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \ | | | | } | | | | } | +----------------------------------------------------------------------+ | \ > | | | | { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | } -- _reserved for future used_ | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \> | | | | \ | | | | { 0 \| 1 \ } } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 -- \'_1\' indicates Fast Ack/Nack Reporting is activated_ | | | | \ } | | | | \ > | | | | \ } // -- _truncation at end of message allowed, | | bits \'0\' assumed_ | | | | ! \ | | > } | | | | } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | +----------------------------------------------------------------------+
Table 11.2.7.2: PACKET Downlink ASSIGNMENT information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | | | | **Global TFI** \ | | This information element contains the TFI of one of the mobile | | station\'s downlink TBFs or uplink TBFs. This field is defined in | | sub-clause 12.10. | +----------------------------------------------------------------------+ | **TLLI/ G-RNTI** (32 bit field)\ | | This field is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **MAC_MODE** (2 bit field)**\ | |** This information field was used in an earlier version of the | | protocol to indicate the medium access method to be used during an | | uplink TBF. For backward compatibility reasons, if there is an | | ongoing uplink TBF using the extended dynamic allocation, the | | network shall set the value of this field to 'extended dynamic | | allocation'. Otherwise, the value shall be set to 'dynamic | | allocation'. The mobile station shall ignore this field. | | | | bit | | | | 2 1 | | | | 0 0 Dynamic Allocation | | | | 0 1 Extended Dynamic Allocation | | | | 1 0 Reserved -- The value \'10\' was allocated in an earlier | | version of the protocol and shall not be used. | | | | 1 1 Reserved -- The value \'11\' was allocated in an earlier | | version of the protocol and shall not be used. | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field)\ | | This field indicates the RLC mode of the requested TBF. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | In _A/Gb mode_ , this field shall be set to \'1\' if the network | | establishes a new downlink TBF for the mobile station whose timer | | T3192 is running. Otherwise this field shall be set to \'0\'. | | | | In _Iu mode_ , this field shall be set to \'1\' if the network wishes | | to instruct the mobile station to release a given TBF for which | | timer T3192 is running. The TBF to be released is identified by the | | TFI given in the DOWNLINK_TFI_ASSIGNMENT field and has to be valid | | on the PACCH on which this message was sent. Otherwise this field | | shall be set to \'0\'. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is defined in sub-clause 12.18. | | | | **TIMESLOT_ALLOCATION_C1,** **TIMESLOT_ALLOCATION_C2** (8 bit | | field)**\ | |** These information fields indicate the timeslots assigned for use | | during the TBF. If the Assignment Type field is included and | | indicates \'Assignment on single carrier only\' or \'Modification of | | existing assignment\', then TIMESLOT_ALLOCATION_C1 shall apply to | | the carrier indicated by the Carrier ID field. Otherwise, | | TIMESLOT_ALLOCATION_C1 and TIMESLOT_ALLOCATION_C2 shall apply on | | carrier 1 and carrier 2 respectively of a dual carrier | | configuration. These fields are defined in sub-clause 12.18. | | | | If TIMESLOT_ALLOCATION_C1 is present and TIMESLOT_ALLOCATION_C2 | | is not present and the Assignment Type field indicates \'Dual | | Carrier assignment\', then the timeslots specified in | | TIMESLOT_ALLOCATION_C1 apply also to carrier 2. | | | | **Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **P0, P0_C1, P0_C2** (4 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. If the Assignment Type field is included and indicates | | \'Assignment on single carrier only\' or \'Modification of existing | | assignment\', then P0_C1 shall apply to the carrier indicated by | | the Carrier ID field. Otherwise, P0_C1and P0_C2 shall apply to | | carrier 1 and carrier 2 respectively. If the P0_C1 IE is present | | but the P0_C2 IE is absent and the Assignment Type field indicates | | \'Dual Carrier assignment\', then the P0_C1 IE shall apply also to | | carrier 2. | +----------------------------------------------------------------------+ | **PR_MODE, PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. If the Assignment Type field is included and indicates | | \'Assignment on single carrier only\' or \'Modification of existing | | assignment\', then PR_MODE_C1 shall apply to the carrier specified | | in the Carrier ID field. Otherwise, PR_MODE_C1 and PR_MODE_C2 | | shall apply to carrier 1 and carrier 2 respectively. If the | | Assignment Type field indicates \'Dual Carrier assignment\' and the | | PR_MODE_C1 IE is present but the PR_MODE_C2 IE is absent, then | | the PR_MODE_C1 IE shall apply also to carrier 2 | | | | **Power Control Parameters, Power Control Parameters C1, Power | | Control Parameters C2** \ | | These information elements are coded as defined in sub-clause 12.13. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then the Power Control Parameters C1 IE shall apply to the carrier | | specified in the Carrier ID field. If, in this case, the Power | | Control Parameters C1 IE is absent, then the previous parameters for | | that carrier shall apply. | | | | If the Assignment Type field is included and indicates \'Dual | | Carrier assignment\' and the Power Control Parameters C1 IE is | | present but the Power Control Parameters C2 IE is absent, then the | | Power Control Parameters C1 IE shall apply also to carrier 2. | | Otherwise, if either Power Control Parameters C1 IE or Power Control | | Parameters C2 IE is absent, the previous parameters for the | | respective carrier(s) shall apply. | | | | **Frequency Parameters** \ | | This information element is defined in sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2** \ | | These information elements are coded as defined in sub-clause 12.8. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then Frequency Parameters C1 (if present) shall apply to the carrier | | specified in the Carrier ID field. | | | | If the Assignment Type field is included and indicates \'Dual | | Carrier assignment\', Frequency Parameters C1 and Frequency | | Parameters C2 (if present) assign frequency parameters for carrier 1 | | and carrier 2, respectively. | | | | **Dual Carrier** **Frequency Parameters\ | |** This information element is defined in sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **DOWNLINK_TFI_ASSIGNMENT** (5 bit field)\ | | This information element, if present, assigns the TFI to the mobile | | station to identify the downlink TBF described by this message. TFI | | is encoded as defined in sub-clause 12.15. | | | | **TBF Starting Time** \ | | The TBF Starting Time field contains a starting time that indicates | | the TDMA frame number during which the assigned TBF may start. If no | | downlink TBF is in progress, the mobile station need not monitor the | | TFI field of downlink RLC data blocks until the indicated TDMA frame | | number. After the indicated TDMA frame number, the mobile station | | shall operate as during a downlink TBF. If a downlink TBF is already | | in progress, the mobile station shall continue to use the parameters | | of the existing TBF until the TDMA frame number occurs. When the | | indicated TDMA frame number occurs, the mobile station shall | | immediately begin to use the new parameters assigned. This | | information element is defined in sub-clause 12.21. | +----------------------------------------------------------------------+ | **EGPRS Window Size** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | This field determines the measurements to be included within the | | EGPRS Timeslot Link Quality Measurements IE or EGPRS Timeslot Link | | Quality Measurements Type 2 IE. In case the assignment results in a | | dual carrier configuration, the value of the | | LINK_QUALITY_MEASUREMENT_MODE field shall apply to both carriers. | | | | bit | | | | 2 1 | | | | 0 0 The mobile station shall not report either interference | | measurements (γ values) or per slot (slot pair in RTTI | | configuration) mean BEP measurements. | | | | 0 1 The mobile station shall report available interference | | measurements (γ values) for timeslots 0 through 7. The γ value is | | defined in 3GPP TS 45.008. No per slot (slot pair in RTTI | | configuration) mean BEP measurements shall be reported. | | | | 1 0 The mobile station shall report the mean BEP on each assigned | | time slot (slot pair in RTTI configuration) as specified in 3GPP TS | | 45.008. No interference measurements (γ values) shall be reported. | | | | 1 1 The mobile station shall report the mean BEP on each assigned | | time slot (slot pair in RTTI configuration) as specified in 3GPP TS | | 45.008. In addition to mean BEP, the mobile station shall report | | interference measurements (γ values) for no more than four time | | slots for a given carrier within a single reporting message | | instance. If the MS has interference measurements for more than four | | timeslots to report for a given carrier, the selection of timeslots | | for which interference measurements are included in each message | | instance is implementation specific, subject to the requirement that | | a measurement for each time slot on each carrier, unless not | | available (see 3GPP TS 45.008), is included in at least every other | | report. | | | | In addition, for a mobile station assigned a Downlink Dual Carrier | | configuration, if not all the required interference measurements can | | be included within a reporting message instance after all the | | required per slot mean BEP values for both carriers have been | | included, the mobile station shall include as many interference | | measurements (if any) as can fit in this message instance. The | | selection of timeslots for which interference measurements are | | included in each message instance is implementation specific. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | | | | **COMPACT reduced MA** | | | | This information element is defined in sub-clause 12.29. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | This field contains a constant which is used for filtering channel | | quality measurements in EGPRS. BEP_PERIOD2 when present, or if not, | | when received in a previous message of the same TBF session, shall | | be used instead of BEP_PERIOD. For details see 3GPP TS 45.008. | | | | Range: 0 to 15 | +----------------------------------------------------------------------+ | **_RB Id_** (5 bit field) | | | | This field is included in Iu mode when a TBF is assigned. It | | contains the radio bearer identifier for the radio bearer using the | | assigned TBF. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier for contention resolution in Iu-mode. | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | **This field contains the timeslot number of the timeslot where the | | PACCH for the MS is located. It is encoded as the binary | | representation of the timeslot number as defined in | | 3GPP TS 45.002.** | +----------------------------------------------------------------------+ | **HFN_LSB (1 bit field)** | | | | This field contains the least significant bit of the downlink HFN of | | the radio bearer for which the TBF is assigned. It is used in _Iu | | mode_ only. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field contains the PFI parameter identifying the Packet Flow | | Context related to the TBF identified in the | | DOWNLINK_TFI_ASSIGMENT field. The PFI parameter is encoded as the | | contents of the PFI information element defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode | +----------------------------------------------------------------------+ | **Assignment Type**(2 bit field) | | | | This indicates the type of assignment: | | | | bit | | | | 2 1 | | | | 0 0 Assignment on single carrier only | | | | 0 1 Modification of existing assignment | | | | 1 0 Dual Carrier assignment | | | | 1 1 Reserved for future use | | | | If the Assignment Type indicates an Assignment on a single carrier | | only the resources specified in this message are assigned for this | | TBF on the carrier identified by the Carrier ID field. If the | | assignment is sent to a mobile station that does not currently have | | a dual carrier configuration, the Carrier ID field shall indicate | | Carrier 1 and all resources specified in the message shall relate to | | Carrier 1. | | | | If the Assignment Type indicates Modification of an existing | | assignment resources specified in this message replace any existing | | allocation for this TBF on the carrier indicated by the Carrier ID | | field. If this type of assignment is used to place a mobile station | | which currently has resources assigned on only one carrier in a dual | | carrier configuration the Carrier ID shall indicate Carrier 2. | | | | If the Assignment Type indicates a Dual Carrier assignment the | | Carrier ID field shall be ignored by the mobile station. | | | | The meaning of the different types of assignment is specified in | | sub-clause 8.1.1.1.3. | +----------------------------------------------------------------------+ |** Carrier ID**(1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ |** EVENT_BASED_FANR**(1 bit field) | | | | This field indicates whether the event-based FANR shall be used for | | the assigned TBF. This field shall be included if the assignment is | | for a RTTI configuration. | | | | 0 The MS shall not use event-based FANR\ | | 1 The MS shall use event-based FANR | +----------------------------------------------------------------------+ |** DOWNLINK_PDCH_PAIRS_C1**| | | |** DOWNLINK_PDCH_PAIRS_C2**| | | |** UPLINK_PDCH_PAIRS_C1**| | | |** UPLINK_PDCH_PAIRS_C2**| | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC**| | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC**| | | | These fields are defined in sub-clause 11.2.31 | +----------------------------------------------------------------------+ |** Downlink EGPRS Level** (2 bit field) | | | | This information element specifies the group of modulation and | | coding schemes applicable to the TBF. This information element is | | defined in sub-clause 12.10f. | +----------------------------------------------------------------------+
#### 11.2.7.1 Special requirements in dual transfer mode for downlink TBF
Special requirements apply when a downlink TBF is assigned to a mobile station
in dual transfer mode or a mobile station about to enter dual transfer mode.
If the mobile station has an RR connection to the network on a half-rate TCH,
the network may assign a downlink TBF using the other sub-channel of the same
timeslot for a half-rate PDCH (see 3GPP TS 45.002). In this case, the downlink
assignment message shall be encoded with a timeslot allocation including the
timeslot number for the half-rate TCH and the half-rate PDCH and only that
timeslot number. The mobile station shall interpret this allocation as an
allocation of a half-rate PDCH.
### 11.2.7a Multiple TBF Downlink Assignment
This message is sent on the PACCH by the network to the mobile station to
assign multiple downlink resources to the mobile station. If the mobile
station supports Downlink Dual Carrier, this message may be sent using
extended RLC/MAC control message segmentation (see sub-clause 9.1.12a).
A mobile allocation or reference frequency list received as part of this
assignment message shall be valid until a new assignment is received or until
all of the TBFs belonging to the MS are terminated.
Message type: MULTIPLE TBF DOWNLINK ASSIGNMENT
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.7a.1: MULTIPLE TBF Downlink ASSIGNMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ * 4 } | | | | { { 0 \ > | | | | \| 10 { \ > _\  }_ } | +----------------------------------------------------------------------+ | { 0 -- _Message escape_ | | | | { \ > | | | | { 0 \| 1 \ | | | | \ } | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ }} | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for REL-7_ | | | | { 1 { 0 \| 1\ } ** 0 | | | | \ }} } // -- _truncation at end of message | | allowed, bits \'0\' assumed_ | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape for dual carrier, RTTI, BTTI with FANR | | activated, EGPRS2_ | | | | { 00 { \ | | > | | | | \ > | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | { { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | } -- _reserved for future use_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ }} | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 -- _BTTI mode_ | | | | \ | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 -- _RTTI mode_ | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH-pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | { 1 \ > } ** 0 | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | { 1 \ > } ** 0 | | | | } | | | | } | | | | \ > | | | | \ } // -- t _runcation at end of message allowed, | | bits \'0\' assumed_ | | | | ! \ > } | | | | ! \> } } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \ | | | | \| 1 \ | | | | \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } ; -- _HFN_LSB field used | | in Iu mode only_ | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 _\ _ } | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.7a.2: MULTIPLE TBF Downlink ASSIGNMENT information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element identifies one of the mobile station's | | downlink or uplink TFIs. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** \ | | This information element is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier for contention resolution in Iu-mode. | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | This field shall be set to \"1\" if the network wishes to instruct | | the mobile station to release the given TBFs for which timer T3192 | | is running. The TBFs to be released are identified by the TFIs given | | in the **TFI Assignment** field and have to be valid on the PACCH on | | which this message was sent. Otherwise this field shall be set to | | \"0\". | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION, TIMESLOT_ALLOCATION_C1,** | | **TIMESLOT_ALLOCATION_C2** (8 bit field)**\ | |** These fields describe the timeslot(s) on which all TBFs described | | in this message are assigned resources. | +----------------------------------------------------------------------+ | **Uplink Control Timeslot, Uplink Control Timeslot C1, Uplink | | Control Timeslot C2 (3 bit field)** | | | | In case of a BTTI configuration, **these fields contain the timeslot | | number of the timeslot where the PACCH/U for the MS is located.** In | | case of an RTTI configuration, **these fields contain the timeslot | | number of the timeslot** belonging to the uplink PDCH pair **where | | the PACCH/U for the MS is located. These fields are encoded as the | | binary representation of the timeslot number as defined in | | 3GPP TS 45.002.** | +----------------------------------------------------------------------+ | **Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **P0, P0_C1, P0_C2** (4 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **PR_MODE, PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **Power Control Parameters, Power Control Parameters C1, Power | | Control Parameters C2** \ | | This information element is defined in sub-clause 12.13. | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element is defined in sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2** \ | | The usage of these parameters is specified in sub-clause 11.2.7. | | These information elements are coded as defined in sub-clause 12.8. | | | | **Dual Carrier** **Frequency Parameters\ | |** This information element is defined in sub-clause 12.8.2 | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | This information element assigns one (or more) TFI(s) to each TBF | | assigned to the mobile station in this message. This field is | | repeated for each TBF that is assigned in this message. TFI is | | encoded as defined in sub-clause 12.15. | +----------------------------------------------------------------------+ | **TBF Starting Time** \ | | The TBF Starting Time field contains a starting time that indicates | | the TDMA frame number during which the assigned TBFs may start. If | | no downlink TBF is in progress, the mobile station need not monitor | | the TFI field of downlink RLC data blocks until the indicated TDMA | | frame number. After the indicated TDMA frame number, the mobile | | station shall operate as during a downlink TBF. If a downlink TBF is | | already in progress, the mobile station shall continue to use the | | parameters of the existing TBF until the TDMA frame number occurs. | | When the indicated TDMA frame number occurs, the mobile station | | shall immediately begin to use the new parameters assigned. This | | information element is defined in sub-clause 12.21. | +----------------------------------------------------------------------+ | **EGPRS Window Size** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | This field is defined in sub-clause 11.2.7 | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | This field contains a constant which is used for filtering channel | | quality measurements in EGPRS. BEP_PERIOD2 when present, or if not, | | when received in a previous message of the same TBF session, shall | | be used instead of BEP_PERIOD. For details see 3GPP TS 45.008. | | | | Range: 0 to 15 | +----------------------------------------------------------------------+ | **RB Id (5 bit field)** | | | | **This field contains the radio bearer identifier for the radio | | bearer using the assigned TBF. This provides the mapping of TFI to | | RB Id which is necessary to uniquely identify Iu-mode data flows.** | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field contains the PFI parameter identifying a Packet Flow | | Context. The PFI parameter is encoded as the contents of the PFI | | information element as defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field)\ | | This field indicates the RLC mode of the assigned TBF. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ | **HFN_LSB (1 bit field) (_Iu mode _only)_ * | | | | This field contains the least significant bit of the downlink HFN of | | the radio bearer for which the TBF is assigned. | +----------------------------------------------------------------------+ | _**NPM Transfer Time**(5 bit field)* | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode | | | | The list of NPM Transfer Time IEs in the Rel-7 additions is ordered | | as described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ |** Assignment Type**(2 bit field) | | | | This field is defined in sub-clause 11.2.7. | +----------------------------------------------------------------------+ |** Carrier ID**(1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ |** EVENT_BASED_FANR**(1 bit field) | | | | This field indicates whether the event-based FANR shall be used for | | the assigned TBF: | | | | 0 The MS shall not use event-based FANR\ | | 1 The MS shall use event-based FANR | | | | This field shall be ignored if FANR is not activated. The list of | | EVENT_BASED_FANR IEs in the Rel-7 additions is ordered as | | described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ |** DOWNLINK_PDCH_PAIRS_C1**| | | |** DOWNLINK_PDCH_PAIRS_C2**| | | |** UPLINK_PDCH_PAIRS_C1**| | | |** UPLINK_PDCH_PAIRS_C2**| | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC**| | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC**| | | | These fields are defined in sub-clause 11.2.31 | +----------------------------------------------------------------------+ |** FANR**(1 bit field) | | | | This field indicates whether FANR is activated. | | | | 0 FANR is not activated for the assigned TBFs\ | | 1 FANR is activated for the assigned TBFs | +----------------------------------------------------------------------+ |** Downlink EGPRS Level** (2 bit field) | | | | This field specifies the group of modulation and coding schemes | | applicable to the TBFs. This information element is defined in | | sub-clause 12.10f. | +----------------------------------------------------------------------+
### 11.2.8 Packet Downlink Dummy Control Block
This message is sent on the PCCCH or PACCH by the network to the mobile
station as a fill message with either of the optional parameters PAGE_MODE and
PERSISTENCE_LEVEL or with no content. In _Iu mode_ , it is also sent on FACCH,
SACCH and SDCCH.
Message type: PACKET DOWNLINK DUMMY CONTROL BLOCK
Direction: network to mobile station
Classification: distribution message
Table 11.2.8.1: Packet DOWNLINK DUMMY CONTROL BLOCK information elements
+----------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ * 4 } | | | | \ | | | | ! \ > ; | +----------------------------------------------------------------+
Table 11.2.8.2: Packet DOWNLINK DUMMY CONTROL BLOCK information element
details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | +----------------------------------------------------------------------+
### 11.2.8b Packet Uplink Dummy Control Block
This message is sent on the PACCH from the mobile station to the network when
the mobile station has no other block to transmit. In _Iu mode_ , it is also
sent on FACCH, SACCH and SDCCH.
Message type: PACKET UPLINK DUMMY CONTROL BLOCK
Direction: mobile station to network
Table 11.2.8b.1: Packet UPLINK DUMMY CONTROL BLOCK information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | \ } ; | +----------------------------------------------------------------------+
Table 11.2.8b.2: Packet UPLINK DUMMY CONTROL BLOCK information element details
+----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | This field contains the TLLI / G-RNTI of the mobile station. This | | field is encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+
### 11.2.9 Packet Measurement Report
This message is sent on the PACCH from the mobile station to the network to
report measurement results. The message contains measurement results from the
Network Control measurements. For a (3G) multi-RAT mobile station, report on
3G cells may be included. For a (E-UTRAN) multi-RAT mobile station, report on
E-UTRAN cells may be included.
Message type: PACKET MEASUREMENT REPORT
Direction: mobile station to network
Table 11.2.9.1: PACKET MEASUREMENT REPORT message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | 0 \ | | > | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release 99 :_ | | | | { 0 \| 1 { 0 \ \ | | \| 1 \ } | | | | \ } | | | | { 0 \| 1 \ > } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | { 0 \| 1 \ } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-8 :_ \ | | { 0 \| 1 \ > } | | | | \ } } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | 0 -- The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used. | | | | \ | | | | { \ | | | | { 0 \| 1 \ } | | | | \ } * | | (val(NUMBER_OF_NC_MEASUREMENTS)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | \ } * (val(N_3G + 1 )) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | \ | | | | \ } * (val(N_E-UTRAN + 1 )) | | ; | +----------------------------------------------------------------------+
Table 11.2.9.2: PACKET MEASUREMENT REPORT information element details
+----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | This field contains the TLLI / G-RNTI of the mobile station. This | | field is encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **PSI5_CHANGE_MARK** (2 bit field)\ | | This field shall contain the value of the PSI5_CHANGE_MARK in the | | PSI5 message containing the list of frequencies to measure. If the | | measurement order has been initiated by a PACKET MEASUREMENT ORDER | | message, the PSI5_CHANGE_MARK parameter shall be omitted from the | | message. | +----------------------------------------------------------------------+ | **BA_USED** (1 bit field)\ | | **3G_BA_USED** (1 bit field)**\ | | PSI3_CHANGE_MARK** (2 bit field) | | | | In case of NC measurement report, these fields shall be included and | | contain the value of the BA_IND, 3G_BA_IND and PSI3_CHANGE_MARK | | respectively in the messages defining the used Neighbour Cell list | | and E-UTRAN Neighbour Cell list. | | | | In case PBCCH exists, PSI3_CHANGE_MARK shall be used.\ | | In case PBCCH does not exist, BA_USED and 3G_BA_USED shall be | | used. | +----------------------------------------------------------------------+ | **PMO_USED** (1 bit field)\ | | This parameter shall contain the value of the PMO_IND in the PACKET | | CELL CHANGE ORDER or PACKET MEASUREMENT ORDER messages that has | | modified the used Neighbour Cell list. If no such message has been | | received, PMO_USED shall be set to zero. | +----------------------------------------------------------------------+ | **NC_MODE** (1 bit field)\ | | This field indicates if the mobile station was in mode NC1 or NC2 | | when sending the measurement report. | | | | 0 Mobile station in mode NC1\ | | 1 Mobile station in mode NC2 | +----------------------------------------------------------------------+ | **RXLEV_SERVING_CELL** (6 bit field)\ | | This field contains the value of the RXLEV parameter for the serving | | cell calculated by the mobile station (see 3GPP TS 45.008). This | | field is encoded as the binary representation of the RXLEV parameter | | value defined in 3GPP TS 45.008.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **FREQUENCY_N** (6 bit field)\ | | This field indicates the frequency/cell upon which the measurement | | was made. The field is an index into the resulting Frequency/Cell | | List for NCmeasurements. | | | | **NC Measurements** | | | | If PBCCH is allocated in the cell, the resulting frequency/cell list | | for NC Measurements is the GSM Neighbour Cell list defined in | | sub-clause 5.6.3.2. | | | | If PBCCH is not allocated in the cell, the resulting frequency/cell | | list for NC Measurements is | | | | - The BA(GPRS) (defined in sub-clause 5.6.3.2) before the MS has | | acquired the complete GSM Neighbour Cell list from the BCCH | | messages. In this case, the MS shall not include R99 extension | | (\'Additions in release 99\') in the PACKET MEASUREMENT REPORT | | message. | | | | - The GSM Neighbour Cell list (defined in sub-clause 5.6.3.2) after | | the MS has acquired the complete GSM Neighbour Cell list from the | | BCCH messages. When the mobile station has acquired the GSM | | Neighbour Cell list, the mobile station shall include in the | | measurement reports only cells present in that list. | +----------------------------------------------------------------------+ | **BSIC_N** (6 bit field)\ | | This field indicates the BSIC of the frequency upon which the | | measurement was made. This field shall be included only for | | frequencies that refer to the BA(BCCH) list. The field is encoded as | | the BSIC value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **RXLEV_N** (6 bit field)\ | | This field indicates the measured RXLEV of the frequency upon which | | the measurement was made (see 3GPP TS 45.008). This field is encoded | | as the RXLEV value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **3G Measurements\ | |** Measurement reporting for 3G Cells is defined in 3GPP TS 45.008. | | | | **3G_CELL_LIST_INDEX** (7 bit field)\ | | This is the index of the i\'th reported 3G neighbour cell in the 3G | | Neighbour Cell List. See sub-clause 5.6.3.1. | | | | **REPORTING_QUANTITY** (6 bit field)\ | | This is the reporting quantity for the i\'th reported 3G cell. The | | quantities are defined in 3GPP TS 45.008 for the respective Radio | | Access Technology. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+ | **E-UTRAN Measurements\ | |** Measurement reporting for E-UTRAN Cells is defined in | | 3GPP TS 45.008. | | | | **E-UTRAN_FREQUENCY_INDEX** (3 bit field)\ | | This field contains the index into the frequencies specified as part | | of the E-UTRAN Neighbour Cell list. This field is described in | | sub-clause 12.53. | | | | **CELL_IDENTITY** (9 bit field)\ | | This field contains the physical layer cell identity (as defined in | | 3GPP TS 36.211) of the cell being reported. | | | | **REPORTING_QUANTITY** (6 bit field)\ | | This is the reporting quantity for E-UTRAN cell identified by the | | E-UTRAN frequency and physical layer cell identity. The quantities | | are defined in 3GPP TS 45.008 for the respective Radio Access | | Technology. | +----------------------------------------------------------------------+
### 11.2.9b Packet Measurement Order
This message is sent on the PCCCH or PACCH by the network to a mobile station
giving information for NC and EXT measurement reporting and network controlled
cell reselection. If not all information fits into one message, the remaining
information will be sent in other instances of the Packet Measurement Order
message.
Message type: PACKET MEASUREMENT ORDER
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.9b.1: Packet Measurement Order information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \ > | | | | \| 10 \ } | | | | { \ | | | | \ | | | | { 0 \| 1 \ > } | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release 98 :_ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release 99 :_ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-4 :_ | | | | \ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | { 0 \| 1 \ } ** 0 > } | | | | -- Supplementary information for dual _Iu mode_ and _A/Gb mode_ | | capable cells | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-6 :_ | | | | \ | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-7 :_ | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { null \| 0 bit** = \ _\-- Receiver compatible with | | earlier release_ | | | | \| 1 _\-- Additions in Rel-8_ | | | | { 0 \| 1 \ \ } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | \ } } } } } } } | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | \ } | | | | { 0 \| 1 \ | | > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 { \ | | | | { \ } * (1 + | | val(NR_OF_REMOVED_FREQ)) } } | | | | { 1 \ >} ** 0; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | { \ | | | | \ | | | | { 0 \| 1 \ | | > } } * (val(NR_OF_FREQUENCIES)); | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ \ \| 1 \ } | | | | \\ | | \ | | | | \\ | | \\ | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | { \\ | | \ | | | | \ | | | | } * (1+val(N2)) | | | | } * (1+val(N1)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::=\ | | 0 \ \-- _The value '1' was used in an | | earlier_ | | | | -- version of the protocol and shall not be used.\ | | \\ | | \\ | | \ | | ; | | | | -- _p(x) defined in table 11.2.9b.2.a/3GPP TS 44.060_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | 0 \ \-- _The value '1' was used in an | | earlier_ | | | | -- _version of the protocol and shall not be used._ \ | | \\ | | \ | | ; | | | | -- _q(x) defined in table 11.2.9b.2.b/3GPP TS 44.060_ | +----------------------------------------------------------------------+ | \ ::=\ | | \ | | | | \ | | | | \ | | | | { \ | | | | -- _this information is enough for 1X Common Pilot_ | | | | {0 \| 1{ 000 { \ \} | | | | -- _additional information for 1X Common Pilot with Transmit | | Diversity_ | | | | \| 001 { \ \ | | | | \} | | | | -- _additional information for 1X Auxiliary Pilot_ | | | | \| 010 { \ \ | | | | \ | | | | \ \} | | | | -- _additional information for 1X Auxiliary Pilot with Transmit | | Diversity_ | | | | \| 011 { \ | | \ | | | | \} | | | | -- _additional information for 3X Common Pilot_ | | | | \| 110 { \ | | \ | | | | \ \ | | | | \ | | | | \ | | | | { 0 \| 1 \ \ | | | | \} | | | | { 0 \| 1 \ \ | | | | \}} | | | | -- _additional information for 3X Auxiliary Pilot_ | | | | } | | | | } | | | | } * val(number_cdma2000_cells) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \} * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | \ | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \\ | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \\ | | { 1 ! \> } -- this bit shall be | | ignored by the receiver | | | | -- for backward compatibility with earlier releases\ | | { 0 \| 1 \ \-- _FDD Parameters_ | | | | \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \ } -- _TDD | | Parameters_ \ | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \ } -- | | _CDMA2000 Parameters_ | | | | { 0 \| 1 \\ | | \ } ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | { **CCN_SUPPORTED** : bit } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ > } * | | (val(NR_OF_FREQUENCIES)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ >} ** 0; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | \ | | | | \ | | | | { \ | | | | \ | | | | { 0 \| 1 \ > } } * | | (val(NR_OF_FREQUENCIES)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ | | ::= | | | | { 0 \| 1 \ } ; -- | | _FDD Parameters_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+
Table 11.2.9b.2 : Packet Measurement Order information element details
+----------------------------------------------------------------------+ | The Packet Measurement Order message contains measurement parameters | | either for Network Control measurements If parameters for the NC | | measurements are not included, a previous Packet Measurement Order | | message belonging to the same set of messages shall still be valid.. | | | | The \'NC measurement parameters struct\' contains the Network | | Control Order, the NC parameters and an NC Frequency List struct. If | | the value of the Network Control Order or any of the NC parameters | | differs between instances of the message, the value of the parameter | | in the instance with the highest PMO_INDEX shall be valid and all | | others shall be ignored. | | | | If included the NC Frequency List struct is a deviation list which | | contains removed or added frequencies to the BA(GPRS) list (see | | 3GPP TS 45.008). The building of the resulting GSM Neighbour Cell | | list is defined in sub-clause 5.6.3.2. | | | | The \'LSA parameters IE\' contains a list of LSA_ID(s) | | corresponding to the entries in the \'Add Frequency list struct\'. | | Some entries in \'LSA parameters IE\' may be empty. The entries in | | the two structures are listed in the same order and the number of | | entries (nr_of_frequencies) should be the same. In case there are | | too few entries in the \'LSA parameters IE\', empty entries shall be | | added at the end. In case there are too many entries in the \'LSA | | parameters IE\', the last shall be discarded. The \'LSA parameters | | IE\' is defined in sub-clause 12.28. | | | | The \'ENH Measurement parameters structure\' contains information | | for performing enhanced measurements and reporting the measurement | | with the PACKET MEASUREMENT REPORT or | | PACKET ENHANCED MEASUREMENT REPORT message. For a 3G multi-RAT | | mobile station it may also include information for reporting on 3G | | Cells. | | | | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PMO_INDEX** (3 bit field) and **PMO_COUNT** (3 bit field)\ | | The purpose of the PMO_INDEX field and the PMO_COUNT field is to | | indicate the number of individual messages within the sequence of | | Packet Measurement Order messages and to assign an index to identify | | each one of them. The PMO_INDEX field is binary coded, range: 0 to | | 7, and provides an index to identify the individual Packet | | Measurement Order message. The PMO_COUNT field is binary coded, | | range: 0 to 7, and provides the PMO_INDEX value for the last | | (highest indexed) message in the sequence of Packet Measurement | | Order messages. A measurement order shall not be effected by the | | mobile station until all instances of a Packet Measurement Order | | message is received. | | | | **Global TFI** \ | | If present, this information element indicates the mobile station to | | which this message is addressed. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | If present, this field indicates the mobile station to which this | | message is addressed. This field is defined in sub-clause 12.16. | | | | **CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled in the serving cell for | | the mobile station when reselecting to a GSM cell. It is coded as | | follows:\ | | 0 The broadcast CCN_ACTIVE parameter shall apply if available. | | Otherwise CCN is disabled in the cell for the mobile station when | | reselecting to a GSM cell.\ | | 1 CCN is enabled in the cell for the mobile station when reselecting | | to a GSM cell. | | | | The NC Measurement Parameters gives the parameters for the serving | | cell and may contain frequency list deviations (add/delete) to the | | BA(GPRS) either on PBCCH or on BCCH. | | | | The **NC_Measurement_Parameters struct** contains the | | NETWORK_CONTROL_ORDER and the optional parameters | | NC_NON_DRX_PERIOD, NC_REPORTING_PERIOD_I, | | NC_REPORTING_PERIOD_T and the NC_FREQUENCY LIST. | +----------------------------------------------------------------------+ | **NETWORK_CONTROL_ORDER** (2 bit field)\ | | The NETWORK_CONTROL_ORDER field is coded according to the | | following table (for definition of NCx see 3GPP TS 45.008): | | | | Bit\ | | 2 1\ | | 0 0 NC0\ | | 0 1 NC1\ | | 1 0 NC2\ | | 1 1 RESET | +----------------------------------------------------------------------+ | **NC_NON_DRX_PERIOD** (3 bit field)\ | | **NC_REPORTING_PERIOD_I** (3 bit field)\ | | **NC_REPORTING_PERIOD_T** (3 bit field)\ | | For detailed element definitions, see the PSI5 message. | +----------------------------------------------------------------------+ | **NR_OF_REMOVED_FREQ** (5 bit field)\ | | 1+val(NR_OF_REMOVED_FREQ) indicates the number of frequencies in | | the BA-list which shall not be used for NC-measurements and gives | | the number of instances of the parameter REMOVED_FREQ_INDEX.\ | | Range of NR_OF_REMOVED_FREQ: 0 to 31. | +----------------------------------------------------------------------+ | **REMOVED_FREQ_INDEX** (6 bit field)\ | | This field indicates the index to the frequency to be removed in the | | BA(GPRS) sent on PBCCH or on BCCH, see sub-clause 5.6.3.2.\ | | Range: 0 to 63. | | | | Add Frequency list struct contains the frequency list for NC | | measurements. | +----------------------------------------------------------------------+ | **START_FREQUENCY** (10 bit field)\ | | **FREQ_DIFF_LENGTH** (3 bit field)\ | | **FREQUENCY_DIFF** (1+val(FREQ_DIFF_LENGTH) bit field)\ | | For detailed element definition of these parameters, see the PSI5 | | message. | +----------------------------------------------------------------------+ | **BSIC** (6 bit field)\ | | This field is encoded as the \'Base Station Identity Code\' defined | | in 3GPP TS 23.003.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | The **Cell selection params** in the Add Frequency list struct shall | | be present for the first neighbour cell added by the message. For | | description of the cell selection parameters see Table: _PSI3 | | information element details_ | | | | As an abnormal case, if the **Cell selection params** is missed for | | the first neighbour cell added by the message then the same | | parameters as the serving cell shall be applied as default value: | | | | If PBCCH is present in the serving cell then : | | | | > CELL_BAR_ACCESS_2 : Serving cell CELL_BAR_ACCESS_2 \ | | > EXC_ACC : Serving cell EXC_ACC\ | | > SAME_RA_AS_SERVING_CELL : _The cell is in the same Routeing | | > Area as the serving cell_\ | | > GPRS_RXLEV_ACCESS_MIN : Serving cell GPRS_RXLEV_ACCESS_MIN\ | | > GPRS_MS_TXPWR_MAX_CCH : Serving cell | | > GPRS_MS_TXPWR_MAX_CCH\ | | > GPRS_TEMPORARY_OFFSET : 0 dB\ | | > GPRS_PENALTY_TIME : _Undefined_ \ | | > GPRS_RESELECT_OFFSET : 0 dB\ | | > HCS_THR : Serving cell HCS_THR\ | | > PRIORITY_CLASS : Serving cell PRIORITY_CLASS\ | | > SI13_PBCCH_LOCATION : _Undefined._ | | | | If PBCCH is not present in the serving cell then : | | | | > CELL_BAR_ACCESS_2 : Serving cell CELL_BAR_ACCESS \ | | > EXC_ACC : Serving cell cell exclusive access support capability\ | | > SAME_RA_AS_SERVING_CELL : _The cell is in the same Routeing | | > Area as the serving cell_\ | | > The other parameters default values take the same values as if the | | > structure is present and optional fields are omitted (see below). | | | | In case the cell selection params is given and if PBCCH is not | | present in the serving cell, optional parameters which are not | | present shall be affected with the following default values : | | | | > GPRS_RXLEV_ACCESS_MIN : Serving cell RXLEV_ACCESS_MIN\ | | > GPRS_MS_TXPWR_MAX_CCH : Serving cell MS_TXPWR_MAX_CCH\ | | > GPRS_TEMPORARY_OFFSET : 0 dB\ | | > GPRS_PENALTY_TIME : _Undefined_ \ | | > GPRS_RESELECT_OFFSET : 0 dB\ | | > HCS_THR : infinity\ | | > PRIORITY_CLASS : undefined\ | | > SI13_PBCCH_LOCATION : undefined | | | | In case the cell selection params is given and if PBCCH is present | | in the serving cell, optional parameters which are not present shall | | be affected with the following default values : | | | | > GPRS_RXLEV_ACCESS_MIN : Serving cell GPRS_RXLEV_ACCESS_MIN\ | | > GPRS_MS_TXPWR_MAX_CCH : Serving cell | | > GPRS_MS_TXPWR_MAX_CCH\ | | > GPRS_TEMPORARY_OFFSET : 0 dB\ | | > GPRS_PENALTY_TIME : _Undefined_ \ | | > GPRS_RESELECT_OFFSET : 0 dB\ | | > HCS_THR : Serving cell HCS_THR\ | | > PRIORITY_CLASS : Serving cell PRIORITY_CLASS\ | | > SI13_PBCCH_LOCATION : _Undefined._ | | | | The following neighbour cells defined in the message use the | | parameter values of the previous neighbour cell as their default | | values. | +----------------------------------------------------------------------+ | **_ENH Measurement Parameters:_** | | | | **BA_IND** (1 bit field)\ | | **3G_BA_IND** (1 bit field)\ | | **PSI3_CHANGE_MARK** (2 bit field) | | | | These parameters are needed to allow the mobile station to associate | | the removed/added cells or frequencies to the correct Neighbour Cell | | list. The values of this parameters are reflected in the | | PACKET ENHANCED MEASUREMENT REPORT message and in the | | PACKET MEASUREMENT REPORT message. | +----------------------------------------------------------------------+ | **PMO_IND** (1 bit field)\ | | This parameter is needed to allow the network to discriminate | | measurements results related to Neighbour Cell list modified by | | different Packet Cell Change Order or Packet Measurement Order | | messages sent to the MS. The value of this parameter is reflected in | | the PACKET ENHANCED MEASUREMENT REPORT message and in the | | PACKET MEASUREMENT REPORT message. | +----------------------------------------------------------------------+ | **REPORT_TYPE** (1 bit)\ | | This parameter is used to indicate to the mobile station to use the | | PACKET MEASUREMENT REPORT or PACKET ENHANCED MEASUREMENT REPORT | | messages for (NC) reporting: | | | | If the cell has a PBCCH allocated: | | | | **Bit** | | | | **0** The mobile station shall use the | | PACKET ENHANCED MEASUREMENT REPORT message for (NC) reporting | | | | **1** The mobile station shall use the PACKET MEASUREMENT REPORT | | message for (NC) reporting | | | | If the cell has no PBCCH allocated: | | | | **Bit** | | | | **0** The mobile station shall use the | | PACKET ENHANCED MEASUREMENT REPORT message for (NC) reporting if at | | least one BSIC is allocated to each BA(GPRS) frequency. Otherwise, | | the PACKET MEASUREMENT REPORT shall be used. | | | | **1** The mobile station shall use the PACKET MEASUREMENT REPORT | | message for (NC) reporting | +----------------------------------------------------------------------+ | **REPORTING_RATE** (1 bit)\ | | This parameter is used for measurements, see 3GPP TS 45.008.\ | | **bit** \ | | 0 Normal rate reporting\ | | 1 Reduced reporting rate allowed | +----------------------------------------------------------------------+ | **INVALID_BSIC_REPORTING** (1 bit)\ | | This field specifies if cells with invalid BSIC and allowed NCC part | | of BSIC are allowed to be reported or not, see 3GPP TS 45.008. | | | | bit | | | | 0 Report on cells with invalid BSIC and allowed NCC part of BSIC is | | not allowed. | | | | 1 Report on cells with invalid BSIC and allowed NCC part of BSIC is | | allowed. In this case NCC_PERMITTED is required in PSI5. | +----------------------------------------------------------------------+ | **_3G Neighbour Cell Description:\ | |_** The building of the 3G Neighbour Cell list and the ordering of | | indices within each Radio Access Technology is described in | | sub-clause 5.6.3.1. | +----------------------------------------------------------------------+ | **Index_Start_3G** (7 bit)\ | | This optional information element indicates the value of the first | | index to use to build this instance of the 3G Neighbour Cell list. | | When missing, the value 0 is assumed. See sub-clause 5.6.3.1. | +----------------------------------------------------------------------+ | **Absolute_Index_Start_EMR** (7 bit)\ | | This parameter indicates the value to be added to the indices of the | | 3G Neighbour Cell list for reporting 3G Cells with the | | PACKET ENHANCED MEASUREMENT REPORT message (see sub-clause 5.6.3.3). | | If present, it overrides the parameter value of the reference 3G | | Neighbour Cell list. If different values are received for this | | parameter in different instances of this message, the instance with | | the highest index shall be used. | | | | NOTE: This parameter is not used for reporting 3G Cells with the | | PACKET MEASUREMENT REPORT message, see sub-clause 11.2.9. | +----------------------------------------------------------------------+ | **_UTRAN FDD Description:_** | | | | **Bandwidth_FDD** (3 bit field)\ | | This information element will be used for future releases of the | | protocol. When missing, this indicates the present FDD bandwidth. | | When present, this shall not be considered as an error; indices of | | the 3G Neighbour Cell list shall be incremented accordingly. | | | | **FDD_ARFCN** (14 bit field)\ | | This information element is defined as the UARFCN in 3GPP TS 25.101. | | Any non-supported frequency shall not be considered as an error; | | indices of the 3G Neighbour Cell list shall be incremented | | accordingly. | +----------------------------------------------------------------------+ | **FDD_Indic0** , information 0 indicator (1 bit):\ | | This field indicates if the Scrambling Code/Diversity parameter | | value \'0000000000\' is a member of the set. | | | | Bit\ | | 0 parameter value \'0000000000\' is not a member of the set\ | | 1 parameter value \'0000000000\' is a member of the set | | | | NOTE: This bit FDD_Indic0 is equivalent to the bit F0 bit in the | | frequency list information element (see 3GPP TS 44.018). | +----------------------------------------------------------------------+ | **NR_OF_FDD_CELLS** (5 bit field)\ | | This field defines the number of FDD_CELL_INFORMATION parameters. | +----------------------------------------------------------------------+ | **FDD_CELL_INFORMATION Field**(p bit field)\ | | This field allows to compute a set of 10-bit-long | | FDD_CELL_INFORMATION parameters, re-using the _Range 1024 format_ | | compression algorithm, see 3GPP TS 44.018 Annex J: \'Algorithm to | | encode frequency list information\'_._ The formulas for decoding are | | given in 3GPP TS 44.018: \'Range 1024 format\'. The consecutive | | parameters of this field are concatenated, starting with w1, and | | then w2, w3... | | | | The total number of bits p of this field depends on the value of the | | parameter NR_OF_FDD_CELLS = n, as follows: | | | | --- ---- --- ---- ---- ----- ------- ----- | | n p n p n p n p | | 0 0 5 44 10 81 15 116 | | 1 10 6 52 11 88 16 122 | | 2 19 7 60 12 95 17-31 0 | | 3 28 8 67 13 102 | | 4 36 9 74 14 109 | | --- ---- --- ---- ---- ----- ------- ----- | | | | _Table_ 11.2.9b.2.a | | | | If n=0 and FDD_Indic0 = 0, this indicates the 3G Neighbour Cell | | list index for report on RSSI, see 3GPP TS 45.008. | | | | If n is equal or greater than 17, this shall not be considered as an | | error; the corresponding index in the 3G Neighbour Cell list shall | | be incremented by one. The entry created in the 3G Neighbour Cell | | list does not contain valid information. | | | | For each (10-bit-long) decoded parameter, bits 1-9 are the | | Scrambling Code and bit 10 is the Diversity bit. | +----------------------------------------------------------------------+ | **Scrambling Code** (9 bit field) | | | | This parameter indicates the Primary Scrambling Code as defined in | | 3GPP TS 25.213. | +----------------------------------------------------------------------+ | **Diversity** (1 bit field) | | | | This parameter indicates if diversity is applied for the cell: | | | | Bit\ | | 0 Diversity is not applied for this cell\ | | 1 Diversity is applied for this cell _._ | +----------------------------------------------------------------------+ | **_UTRAN TDD Description:_** | | | | **Bandwidth_TDD** (3bit field)\ | | This optional information element refers to 3GPP TS 25.331. | | | | Bit\ | | 321\ | | 000 3,84 Mcps\ | | 001 1,28 Mcps\ | | All other values shall not be interpreted as an error; indices of | | the 3G Neighbour Cell list shall be incremented accordingly (but no | | reporting can be performed). When missing, this indicates 3,84 Mcps. | +----------------------------------------------------------------------+ | **TDD_ARFCN** (14 bit field)\ | | This optional information element is defined as the UARFCN in | | 3GPP TS 25.102. Any non supported frequency shall not be considered | | as an error; indices of the 3G Neighbour Cell list shall be | | incremented accordingly. | +----------------------------------------------------------------------+ | **TDD_Indic0** , information 0 indicator (1 bit):\ | | This field indicates if the Cell_Parameter/Sync_Case/Diversity | | parameter value \'0000000000\' is a member of the set. | | | | Bit\ | | 0 parameter value \'0000000000\' is not a member of the set\ | | 1 parameter value \'0000000000\' is a member of the set | +----------------------------------------------------------------------+ | **NR_OF_TDD_CELLS** (5 bit field)\ | | This field defines the decimal value of the number of | | TDD_CELL_INFORMATION parameters. | +----------------------------------------------------------------------+ | **TDD_CELL_INFORMATION Field**(q bit field)\ | | This field allows to compute a set of 9-bit-long | | TDD_CELL_INFORMATION parameters, re-using the _Range 512\ | | format_ compression algorithm, see 3GPP TS 44.018 Annex J: | | \'Algorithm to encode frequency list information\'_._ The formulas | | for decoding are given in 3GPP TS 44.018 sub-clause 10.5.2.13.4: | | \'Range 512 format\', with w0=0. The consecutive parameters of this | | field are concatenated, starting with w1, and then w2, w3... | | | | The total number of bits q of this field depends on the value of the | | parameter NR_OF_TDD_CELLS = m, as follows: | | | | --- ---- --- ---- ---- ---- ---- ----- ------- ----- | | m q m q m q m q m q | | 0 0 5 39 10 71 15 101 20 126 | | 1 9 6 46 11 77 16 106 21-31 0 | | 2 17 7 53 12 83 17 111 | | 3 25 8 59 13 89 18 116 | | 4 32 9 65 14 95 19 121 | | --- ---- --- ---- ---- ---- ---- ----- ------- ----- | | | | _Table_ 11.2.9b.2.b _._ | | | | If m=0 and TDD_Indic0=0, or m is equal or greater than 21, this | | shall not be considered as an error; the corresponding index in the | | 3G Neighbour Cell list shall be incremented by one. The entry | | created in the 3G Neighbour Cell list does not contain valid | | information. | | | | For each (9-bit-long) decoded parameter, bits 1-7 are the Cell | | Parameter, bit 8 is the Sync Case TSTD and bit 9 is the Diversity | | TDD bit. | +----------------------------------------------------------------------+ | **Cell Parameter** (7 bit field)\ | | This parameter is defined in 3GPP TS 25.223. | +----------------------------------------------------------------------+ | **Sync Case TSTD** (1 bit field)\ | | For 3.84 Mcps TDD, this parameter is defined in 3GPP TS 25.223.\ | | Bit\ | | 0 Sync Case 1\ | | 1 Sync Case 2 | | | | For 1.28 Mcps TDD, this parameter indicates if TSTD (see 3GPP TS | | 25.224) is applied for the cell: | | | | Bit | | | | 0 TSTD is not applied for this cell | | | | 1 TSTD is applied for this cell. | +----------------------------------------------------------------------+ | **Diversity TDD** (1 bit field)\ | | This parameter indicates if SCTD (see 3GPP TS 25.224) is applied for | | the cell:\ | | Bit\ | | 0 SCTD is not applied for this cell\ | | 1 SCTD is applied for this cell. | +----------------------------------------------------------------------+ | **_CDMA 2000 Description:_** | | | | **cdma2000 frequency band** (5 bit field)\ | | A binary representation of cdma2000 BAND_CLASS, as defined in | | TIA/EIA-IS-2000-5-A. The mobile station shall ignore all the | | information relative to a cdma2000 frequency band that it can not | | support. | | | | **cdma2000 frequency** (11 bit field)\ | | A binary representation of cdma2000 CDMA_FREQ, as defined in | | TIA/EIA-IS-2000-5-A. The mobile station shall ignore all the | | information relative to a cdma2000 frequency that it can not | | support. | +----------------------------------------------------------------------+ | **number_cdma2000_cells** (5 bit field)\ | | This field indicates the number of CDMA 2000 neighbour cells. | +----------------------------------------------------------------------+ | **Pilot PN offset** (9 bit field)\ | | A binary representation of the PN offset of the Pilot PN sequence | | (in units of 64 cdma2000 1x-chips), PILOT_PN, as defined in | | TIA/EIA-IS-2000-5-A. | +----------------------------------------------------------------------+ | **TD_MODE** (2 bit field)\ | | An indication of transmit diversity mode is specified in | | TIA/EIA-IS-2000-5-A. The mobile station shall ignore TD_MODE if it | | does not support 1X Common Pilot with Transmit Diversity. | +----------------------------------------------------------------------+ | **TD_POWER_LEVEL** (3 bit field)\ | | Power level of the Transmit Diversity Pilot relative to that of the | | Forward Pilot Channel as specified in TIA/EIA/IS-2000-5-A. The | | mobile station shall ignore TD_POWER_LEVEL if it does not support | | 1X Common Pilot with Transmit Diversity. | +----------------------------------------------------------------------+ | **QOF** (2 bit field)\ | | Quasi-orthogonal function index is defined in TIA/EIA/IS-2000-5-A. | | The mobile station shall ignore QOF if it does not support the | | quasi-orthogonal function. | +----------------------------------------------------------------------+ | **WALSH_LEN_A, WALSH_LEN_B** and **WALSH_LEN_C** (3 bit field | | each)\ | | A three bit field to indicate the length of the Walsh code for the | | pilot that is used in as the Auxiliary Pilot, and specified as | | WALSH_LEN in TIA/EIA/IS-2000-5-A. The mobile station shall ignore | | WALSH_LEN if it does not support 1X Auxiliary Pilot. | +----------------------------------------------------------------------+ | **AUX_PILOT_WALSH** (var.Length field)\ | | Indicates the walsh code corresponding to the Auxiliary Pilot, as | | specified in TIA/EIA/IS-2000-5-A. The mobile station shall ignore | | AUX_PILOT_WALSH if it does not support 1X Auxiliary Pilot. | | | | **AUX_TD_WALSH** (var.Length field)\ | | Indicates the walsh code corresponding to the Auxiliary Transmit | | Diversity Pilot, as specified in TIA/EIA/IS-2000-5-A. The mobile | | station shall ignore AUX_TD_WALSH if it does not support 1X | | Auxiliary Pilot with Transmit Diversity. | | | | **AUX_TD_POWER_LEVEL** (2 bit field)\ | | Power level of the Auxiliary Transmit Diversity Pilot relative to | | that of the Forward Pilot Channel as specified in | | TIA/EIA/IS-2000-5-A. The mobile station shall ignore | | AUX_TD_POWER_LEVEL if it does not support 1X Auxiliry Pilot with | | Transmit Diversity. | +----------------------------------------------------------------------+ | **SR3_PRIM_PILOT** (3 bit field)\ | | Position of the primary SR3 pilot as specified in | | TIA/EIA/IS-2000-5-A. The mobile station shall ignore | | SR3_PRIM_PILOT if it does not support 3X Common Pilot. | | | | **SR3_PILOT_POWER1** (3 bit field), relative power level between | | the primary SR3 pilot and the pilot on the lower frequency of the | | two remaining SR3 frequencies, as specified in TIA/EIA/IS-2000-5-A. | | The mobile station shall ignore SR3_PILOT_POWER1 if it does not | | support 3X Common Pilot. | | | | **SR3_PILOT_POWER2** (3 bit field), relative power level between | | the primary SR3 pilot and the pilot on the higher frequency of the | | two remaining SR3 frequencies, as specified in TIA/EIA/IS-2000-5-A. | | The mobile station shall ignore SR3_PILOT_POWER2 if it does not | | support 3X Common Pilot. | +----------------------------------------------------------------------+ | **QOF1** (2 bit field)**, WALSH_LEN1** (3 bit field) and | | **AUX_PILOT_WALSH1** (var. Length field)\ | | The corresponding quantities for pilot on the lower frequency of the | | two remaining SR3 frequencies, as specified in TIA/EIA/IS-2000-5-A. | | The mobile station shall ignore QOF1, WALSH_LEN1 and | | AUX_PILOT_WALSH1 if it does not support 3X Auxiliary Pilot. | | | | **QOF2** (2 bit field), **WALSH_LENGTH2** (3 bit field) and | | **AUX_PILOT_WALSH2** (var Length field)\ | | The corresponding quantities for pilot on the higher frequency of | | the two remaining SR3 frequencies, as specified in | | TIA/EIA/IS-2000-5-A. The mobile station shall ignore QOF2, | | WALSH_LEN2 and AUX_PILOT_WALSH2 if it does not support 3X | | Auxiliary Pilot. | +----------------------------------------------------------------------+ | **_REMOVED_3GCELL_Description_ _\ | |_ This struct contains a list of cells to be removed from the 3G | | Neighbour Cell list for measurements (see sub-clause 5.6.3.1). The | | cells are identified by their index. The struct consists of N1 | | sublists, each comprising the following three parameters: | | | | **REMOVED_3GCELL_INDEX**(7 bit field)\ | | This field indicates the index of the first cell in the sublist. | | | |** 3G_CELL_DIFF_LENGTH**(3 bit field)\ | | This field indicates the number of bits used for the 3GCELL_DIFF | | field in the current sublist. | | | |** 3GCELL_DIFF**(variable size)\ | | This field indicates the difference in index to the next cell in the | | sublist. | +----------------------------------------------------------------------+ |**_GPRS REP PRIORITY Description_**| | | |** REP_PRIORITY bit:**\ | |** 0**Normal reporting priority\ | |** 1**High reporting priority\ | | The use of these bits is defined in sub-clause 5.6.3.5 and | | 3GPP TS 45.008. | +----------------------------------------------------------------------+ |**_GPRS MEASUREMENT PARAMETERS Description_ \ | | **The fields of this Description are used for measurements, as | | defined in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for this parameter. | | | |** GPRS 3G _MEASUREMENT PARAMETERS Description_ \ | | **The fields of this Description are used for measurements, as | | defined in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for this parameter. | | | |**_GPRS 3G Additional Measurement Parameters Description 2\ | |_**The fields of this Description are used for measurements, as | | defined in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for this parameter. | +----------------------------------------------------------------------+ |**_CCN Support Description_**| | | |** CCN_SUPPORTED**(1 bit field)\ | | This parameter is used for determining whether the mobile station | | shall enter CCN mode when re-selecting a cell and CCN is enabled. | | The use of these bits is described in sub-clause 8.8.2a (\"CCN | | support description\"):\ | | Bit\ | |** 0**CCN is enabled towards the corresponding cell\ | |** 1**CCN is disabled towards the corresponding cell | +----------------------------------------------------------------------+ |** G-RNTI extension**(4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode*. | +----------------------------------------------------------------------+ |_** Iu Mode Neighbour Cell Parameters** _| | | | The_ Iu mode Neighbour Cell Parameters _shall only be included when | | the_ List of added Frequency struct* is present. | +----------------------------------------------------------------------+ | **_Iu Mode Neighbour Cell Params Struct_**| | | | This struct presents supplementary information for _Iu mode _capable | | cells. The struct assigns_ Iu mode _parameter values to the | | neighbouring cells defined by the message. The_ Iu mode Neighbour | | Cell params struct _values are assigned to the neighbouring cells in | | the same order they appear in the_ List of added Frequency struct*. | +----------------------------------------------------------------------+ | _**NC Iu Mode Only Capable Cell List Parameters** _| | | | These parameters are used to add Iu mode only capable cells to | | BA(GPRS) list. | +----------------------------------------------------------------------+ |_ *CELL BAR QUALIFY 3** **(2 bit field)** | | | | This information element is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **3G_CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards 3G neighbouring | | cells. It is coded as follows: | | | | 0 The broadcast 3G_CCN_ACTIVE parameter shall apply if available. | | Otherwise, CCN towards 3G cells is disabled in the cell. | | | | 1 CCN towards 3G cells is enabled in the cell. | +----------------------------------------------------------------------+ | **700_REPORTING_OFFSET** (3 bit field)\ | | **700_REPORTING_THRESHOLD** (3 bit field)**\ | |** These fields are used for measurements, as defined in | | 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | +----------------------------------------------------------------------+ | **810_REPORTING_OFFSET** (3 bit field)\ | | **810_REPORTING_THRESHOLD** (3 bit field)**\ | |** These fields are used for measurements, as defined in | | 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | +----------------------------------------------------------------------+ | **3G_BA_IND** (1 bit field)\ | | **PMO_IND** (1 bit field)\ | | These parameters are described in the _ENH Measurement Parameters_ | | information element. | | | | If either of these parameters are included also in the _ENH | | Measurement Parameters_ information element, the values provided by | | the _ENH Measurement Parameters_ information element shall be used. | +----------------------------------------------------------------------+ | **Serving Cell Priority Parameters Description** \ | | These fields are used for the inter-RAT cell re-selection algorithm | | based on priority, as defined in 3GPP TS 45.008.\ | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | | | | This information element is defined in sub-clause 12.51. | +----------------------------------------------------------------------+ | **3G Priority Parameters Description** | | | | This information element is defined in sub-clause 12.52. | | | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | +----------------------------------------------------------------------+ | **E-UTRAN Parameters Description** | | | | This information element is defined in sub-clause 12.53. | +----------------------------------------------------------------------+ | **Individual Priorities\ | |** This information element is defined in sub-clause 12.50. | +----------------------------------------------------------------------+ | **3G CSG Description** | | | | **This information element contains the description of the 3G CSG | | cells. This information element is defined in sub-clause 12.54.** | +----------------------------------------------------------------------+ | **E-UTRAN CSG Description** | | | | **This information element contains the description of the E-UTRAN | | CSG cells. This information element is defined in sub-clause | | 12.55.** | | | | **Measurement Control Parameters Description** | | | | **This information element contains the Measurement control | | parameters per frequency for UTRAN and E-UTRAN. This information | | element is defined in sub-clause 12.56.** | +----------------------------------------------------------------------+
#### 11.2.9b.1 GPRS REP PRIORITY description
A GPRS REP PRIORITY description construction shall be included in one and only
one instance of the PACKET MEASUREMENT ORDER message within the consistent set
of PACKET MEASUREMENT ORDER messages.
### 11.2.9c Packet Mobile TBF Status
This message is sent from the mobile station to the network on the uplink
PACCH to indicate erroneous messages have been received relating to either a
downlink or an uplink TBF.
Message type: PACKET MOBILE TBF STATUS
Direction: mobile station to network
Table 11.2.9c.1: Packet MOBILE TBF STATUS information elements
+------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ | | | | { 0 \| 1 \ } | | | | \ ; | +------------------------------------------------------+
Table 11.2.9c.2: Packet MOBILE TBF STATUS information element details
+----------------------------------------------------------------------+ | **Global TFI IE** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **TBF_CAUSE** (3 bit field)\ | | The TBF_CAUSE field indicates the error cause value of the current | | TBF. This field is encoded according to the following table: | | | | Bit\ | | 3 2 1\ | | 0 0 0 Normal event;\ | | 0 0 1 Status, unspecified;\ | | 0 1 0 Syntactically incorrect message, non-distribution part error;\ | | 0 1 1 Syntactically incorrect message, message escape;\ | | 1 0 0 Message not compatible with current protocol state.\ | | All other values are reserved and may be interpreted \"Status, | | unspecified\". | +----------------------------------------------------------------------+ | **STATUS_MESSAGE_TYPE** (6 bit field)\ | | The STATUS_MESSAGE_TYPE field, if present, is the binary | | representation of the message type of the downlink RLC/MAC control | | message that caused the status condition. Message type values are | | defined in sub-clause 11.2.0.1. | +----------------------------------------------------------------------+
### 11.2.9d Packet Enhanced Measurement Report
This message is sent either on the PACCH if in packet transfer mode or on an
assigned block on a PDTCH, from the mobile station to the network to report
enhanced measurement results. The message contains measurement results from
the Network Control measurements.
Message type: PACKET ENHANCED MEASUREMENT REPORT
Direction: mobile station to network
Table 11.2.9d.1: PACKET ENHANCED MEASUREMENT REPORT message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | > } | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-8 :_ \ | | \ | | | | { 0 \| 1 \ } * | | (val(BITMAP_LENGTH + 1 ) ) | | | | { 0 \| 1 \ > } | | | | \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \\ | | { 0 \ \ | | | | \| 1 \ }\ | | \\ | | \\ | | \\ | | { 0 \| 1 \> | | } | | | | { 1 \> } ** 0\ | | { 0 \| 1 { 0 \| 1 \ } ** } ; | | -- _bitmap type reporting_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | 0 ; -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | \\ | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ | | | | \ | | | | \ } * (val(N_E-UTRAN + 1 )) | | ; | +----------------------------------------------------------------------+
Table 11.2.9d.2: PACKET ENHANCED MEASUREMENT REPORT information element
details
+----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | This field contains the TLLI / G-RNTI of the mobile station. This | | field is encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **NC_MODE** (1 bit field)\ | | This field indicates if the mobile station was in mode NC1 or NC2 | | when sending the measurement report. | | | | 0 Mobile station in mode NC1\ | | 1 Mobile station in mode NC2 | +----------------------------------------------------------------------+ | **BA_USED** (1 bit field),\ | | **3G_BA_USED** (1 bit field)**\ | | PSI3_CHANGE_MARK** (2 bit field) | | | | These fields shall contain the value of the BA_IND, 3G_BA_IND and | | PSI3_CHANGE_MARK respectively in the messages defining the used | | Neighbour Cell list or E-UTRAN Neighbour Cell list. | | | | In case PBCCH exists, PSI3_CHANGE_MARK shall be used.\ | | In case PBCCH does not exist, BA_USED and 3G_BA_USED shall be | | used. | +----------------------------------------------------------------------+ | **PMO_USED** (1 bit field)\ | | This parameter shall contain the value of the PMO_IND in the PACKET | | CELL CHANGE ORDER or PACKET MEASUREMENT ORDER messages that has | | modified the used Neighbour Cell list. If no such message has been | | received, PMO_USED shall be set to zero. | +----------------------------------------------------------------------+ | **BSIC_Seen** (1 bit field)\ | | This parameters indicates if a GSM cell with invalid BSIC and | | allowed NCC part BSIC is one of the six strongest, see | | 3GPP TS 45.008. | | | | **Bit** \ | | **0** No cell with invalid BSIC and allowed NCC part of BSIC is | | seen\ | | **1** One cell or more with invalid BSIC and allowed NCC part of | | BSIC is seen | +----------------------------------------------------------------------+ | **SCALE** (1 bit field)\ | | The value of this field is defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **Serving cell reporting** | | | | If the structure \"serving cell data\" is missing, this indicates | | that no valid measurement exist for the serving cell. | | | | **RXLEV_SERVING_CELL** (6 bit field)\ | | This field contains the value of the RXLEV parameter for the serving | | cell calculated by the mobile station (see 3GPP TS 45.008). This | | field is encoded as the binary representation of the RXLEV parameter | | value defined in 3GPP TS 45.008.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **Neighbour cell reporting** | | | | **_Repeated Invalid BSIC_** \ | | This structure contains the report of cells with invalid BSIC.\ | | **BCCH-FREQ-NCELL** (5 bits). This field represents the index of the | | BA(GPRS), see 3GPP TS 44.018.\ | | **BSIC** (6 bits). Base station identity code of the corresponding | | index in the BA(GPRS).\ | | **RXLEV** (6 bits). GSM reporting quantity, see 3GPP TS 45.008. | | | | **_Bitmap type reporting:\ | |_** This structure contains the report of cells with valid BSIC.\ | | Each bit of the bitmap points to the corresponding index of the | | Neighbour Cell list defined in sub-clause 5.6.3.3 (\"Deriving the | | Neighbour Cell list from the GSM Neighbour Cell list and the 3G | | Neighbour Cell list\"). | | | | If this structure is present and more bits than needed are available | | at the end of the message, the MS shall set the value of the | | redundant bitmap positions to \'0\'. | | | | At least 96 neighour cell entries shall be encoded in the bitmap. | | | | If this structure is present, some remaining bits indicating no | | report at the end of the message may be omitted if these bits do not | | fit into the message. This shall not lead to an error in the | | receiver of that message. | | | | If E-UTRAN neighbour cells are to be reported, then this structure | | shall be omitted and replaced by the bitmap reporting structure in | | the release-8 extension of this message. | | | | **REPORTING_QUANTITY** (6 bits):\ | | Measurement quantities are defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+ | **E-UTRAN Neighbour cell reporting** | | | | **BITMAP_LENGTH** (7 bit field) | | | | 1+val(BITMAP_LENGTH) indicates the number of entries in the | | reporting bitmap. | | | | **_Bitmap type reporting:\ | |_** This structure contains the report of cells with valid BSIC.\ | | Each bit of the bitmap points to the corresponding index of the | | Neighbour Cell list defined in sub-clause 5.6.3.3 (\"Deriving the | | Neighbour Cell list from the GSM Neighbour Cell list and the 3G | | Neighbour Cell list\"). | | | | **REPORTING_QUANTITY** (6 bits):\ | | Measurement quantities are defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **E-UTRAN Measurement Report\ | |** This information element contains the measurement reports for one | | or more E-UTRAN neighbour cell. This field is defined in sub-clause | | 11.2.9. | +----------------------------------------------------------------------+
### 11.2.9e Packet Neighbour Cell Data
This optional message is sent by the network on the PACCH to provide system
information required for initial access in a neighbouring cell. This message
shall not be segmented across more than one RLC/MAC control block. If not all
information fits into one instance of the PACKET NEIGHBOUR CELL DATA message,
the message can be repeated.
Message type: PACKET NEIGHBOUR CELL DATA
Direction: network to mobile station
Classification: non distribution message
Table 11.2.9e.1: Packet Neighbour Cell Data information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | { \\ | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | \ > | | | | \ | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { \ | | | | \ | | | | \ \-- _Final | | container segment. Next container follows._ | | | | \| \ | | | | \ | | | | \ } ** -- _Container | | continued in next message._ | | | | { \ \-- _Repetition of the container repetition | | struct continues until:_ | | | | \ } -- _A) | | val(CD_LENGTH) = 0 or_ | | | | } // ; -- _B) end of PNCD message._ | +----------------------------------------------------------------------+
Table 11.2.9e.2: Packet Neighbour Cell Data information element details
+----------------------------------------------------------------------+ | The Packet Neighbour Cell Data message consists of up to 32 | | instances and contains neighbour cell system information messages | | from either the BCCH or from the PBCCH or from both. Each container | | repetition struct contains information from one or more SI/PSI | | message. One SI/PSI message can be distributed over more than one | | instance. | | | | A container may have the cell identity represented by the ARFCN and | | BSIC included. | +----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20 and gives the PAGE_MODE | | parameter valid in the serving cell. | | | | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **CONTAINER_ID** (2 bit field)\ | | This field contains the Container identity and shall have the same | | value in all instances to form a complete set of neighbour cell | | system information for a certain cell.\ | | Value range: 0-3. | | | | **Spare** (1 bit field)\ | | This bit is reserved for future use. | +----------------------------------------------------------------------+ | **CONTAINER_INDEX** (5 bit field)\ | | This field contains the message index within a complete set of | | neighbour cell system information for a certain cell\ | | Value range: 0-31. | +----------------------------------------------------------------------+ | **ARFCN and BSIC** \ | | ARFCN and BSIC is optional, but if included their value shall be | | same in all instances forming a complete set. If not the same, the | | mobile station shall act as described in sub-clause 8.8.1. | | | | **ARFCN** (10 bit field)\ | | This field indicates the ARFCN of the BCCH of the neighbour cell for | | which the information contained in this message is valid for. This | | field is encoded as the ARFCN defined in 3GPP TS 44.018.\ | | Range 0 to 1023 | | | | **BSIC** (6 bit field)\ | | This field indicates the BSIC of the neighbour cell for which the | | information contained in this message is valid. | | | | This field is encoded as the BSIC value defined in 3GPP TS 44.018.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ | **PD** (3 bit field)\ | | This field contains a protocol discriminator and indicates the | | origin of the contained message.\ | | bit\ | | 2 1\ | | 0 0 0 BCCH (LAPDm);\ | | 0 0 1 PBCCH (RLC/MAC);\ | | 0 1 0 Reserved; If received the contents of the container shall be | | discarded.\ | | ......\ | | 1 1 1 Reserved;. If received the contents of the container shall be | | discarded. | +----------------------------------------------------------------------+ | **CD_LENGTH** (5 bit field)\ | | This field indicates the number of CONTAINER DATA octets that forms | | a specific SI/PSI message and is coded as shown below. | | | | bit | | | | 5 4 3 2 1 | | | | 0 0 0 0 0 No CONTAINER DATA follows; Spare padding is used to fill | | the rest of the message; | | | | 0 0 0 0 1 CONTAINER DATA length = 1 octet; | | | | .... | | | | 1 0 0 1 0 CONTAINER DATA length = 18 octets; | | | | 1 1 1 1 1 The remaining portion of the Packet Neighbour Cell Data | | message is used by the associated CONTAINER DATA. The message | | continues in a subsequent instance of the Packet Neighbour Cell Data | | message, in the next CONTAINER DATA with the same Protocol | | Discriminator value as the current one. | | | | All other values reserved. If a reserved value is received the | | contents of the container shall be discarded. | +----------------------------------------------------------------------+ | **CONTAINER_DATA**(n*8 bits)\ | | The concatenation of one or several CONTAINER_DATA octets forms the | | actual contents, specific to the SI/PSI messages. | | | | If the contained system information messages are copied from the | | BCCH the information contained in the Packet Neighbour Cell Data | | message shall exclude the following information elements from the | | beginning of the messages: L2 Pseudo Length; RR management Protocol | | Discriminator and Skip Indicator. | | | | If the contained system information messages are copied from the | | PBCCH the information contained in the Packet Neighbour Cell Data | | message shall include the complete PSI message. | | | | Extra octets of padding bits at the end of the SI/PSI messages may | | be excluded. | +----------------------------------------------------------------------+
### 11.2.10 Packet Paging Request
This message is sent on the PCCCH by the network to trigger channel access by
up to four mobile stations, for either TBF or RR connection establishment. It
may also be sent on PACCH to a mobile station in packet transfer mode to
indicate page request for RR connection establishment. The mobile stations are
identified by either IMSI, TMSI, P-TMSI or G-RNTI. Depending on the method
used to identify the mobile station, 1 - 4 mobile stations can be addressed in
the message. The PACKET PAGING REQUEST message may also be used to send MBMS
(pre-)notifications. Special requirements for the transmission of this message
on PACCH applies, see 3GPP TS 45.002. The PACKET PAGING REQUEST message may
also be used to broadcast an ETWS Primary Notification message on the PCCCH.
If not all information fits into one instance of the PACKET PAGING REQUEST
message, the PACKET PAGING REQUEST message can be repeated.
Message type: PACKET PAGING REQUEST
Direction: network to mobile station
Classification: distribution message
Table 11.2.10.1: PACKET PAGING REQUEST message content
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \* 4} | | | | { 0 \| 1 \ } | | | | { { 1 \ > | | } ** 0 | | | | { null | | | | \| 0 bit** = \ \-- _Receiver compatible with earlier | | release_ | | | | \| 1 -- _REL-5 additions:_ | | | | { 1 \ > } ** 0 | | | | { null \| 0 bit** = \ _\-- Receiver compatible with | | earlier release_ | | | | \| 1 _\-- REL-6 additions:_ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ _\-- Receiver compatible with | | earlier release_ | | | | \| 1 _\-- REL-8 additions:_ | | | | { 0 \| 1 \ > } | | | | \ } } } }// -- _truncation at end of message | | allowed, bits \'0\' assumed_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Page request for TBF establishment_ | | | | { 0 \ | | | | \| 1 \ | | | | \ } | | | | \| 1 -- _Page request for RR conn. establishment_ | | | | { 0 \ | | | | \| 1 \ | | | | \ } | | | | \ | | | | { 0 \| 1 \ } } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { 0 \ \-- _used for a CN page to an MS in | | RRC connected mode, or a GERAN initiated page_ { 0 \| 1 \ > } -- _only included for a | | CN page_ | | | | \| 1 | | | | { 00 \ | | | | \| 01 \ | | | | \| 11 { \ | | | | \ } | | | | \ > } | | | | { 0 \| 1 \ } } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _Pre-notifications_ | | | | \ > | | | | -- _Notifications: listed per MBMS Channel Parameters_ | | | | { 1 \ > | | | | \ > } ** 0 | | } } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | \ | | | | { 0 \| 1 \ }; -- | | _This field Is only included if the MS is paged using a G-RNTI_ | +----------------------------------------------------------------------+ | \ ::= | | | | {0 -- _First segment of ETWS Primary Notification, number of | | segments included_ | | | | \ | | | | \| 1 -- _Not first segment, segment number included_ | | | | \ | | | | } | | | | \ \-- _identifier for segments belonging to one | | and the same ETWS Primary Notification message_ | | | | \ \-- _length of segment in | | bits_ | | | | \; | +----------------------------------------------------------------------+
Table 11.2.10.2: PACKET PAGING REQUEST information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | +----------------------------------------------------------------------+ | **NLN(PPCH)** (2 bit field)\ | | Notification List Number - This field may only be present if the | | message contains at least one page request for an RR connection | | establishment. The presence of the _NLN(PPCH)_ field indicates that | | if an NCH is present, reduced NCH monitoring can be used, and gives | | the NLN(PPCH) value, to be used as specified in 3GPP TS 44.018.The | | field is coded as defined in the P1 Rest Octets information element | | in 3GPP TS 44.018. | | | | **NLN status(PPCH) (1 bit field)** | | | | Notification List Number status - This field may only be present if | | the message contains at least one page request for an RR connection | | establishment.The NLN status indicates the status of the content of | | the NOTIFICATION/NCH messages for a particular NLN value. A change | | of the NLN status field indicates a change of information on the NCH | | which is not related to new calls, as specified in 3GPP TS 44.018. | | The field is coded as defined in the P1 Rest Octets information | | element in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Repeated Page info struct\ | |** The Repeated Page info struct is repeated as many times as | | required to fulfil the number of wanted paged mobiles. If the Paging | | Request Message is used with only P-TMSIs or TMSIs, the field can be | | repeated up to four times within one message. If the Paging Request | | Message is used with only IMSIs, the field can be repeated up to two | | times within one message. | | | | The first bit in the Repeated Page info field indicates if this is a | | page request for TBF connection establishment or for RR connection | | establishment. | | | | A page request for TBF connection establishment can either be | | addressed with P-TMSI or IMSI. | | | | A page request for RR connection establishment contains a Channel | | Needed and optionally a Priority parameter and can either be | | addressed with TMSI or IMSI. | +----------------------------------------------------------------------+ | **PTMSI** (32 bit field)\ | | The Packet Temporary Mobile Station Identity (PTMSI) is defined in | | 3GPP TS 23.003. This field is encoded as a binary number.\ | | Range 0 to 4294967295 | +----------------------------------------------------------------------+ | **Mobile Identity** (variable length octet string)\ | | This octet string is the representation of the _Mobile Identity_. It | | shall provide the international mobile subscriber identity, IMSI. | | The encoding of this octet string is the _value part_ (starting with | | octet 3) of the type 4 information element _Mobile Identity_ defined | | in 3GPP TS 44.018. | | | | Any value other than IMSI for the type of identity in this octet | | string is spare. Such mobile identity shall be disregarded by the | | receiver but any further occurrence of the Repeated Page Info struct | | in the message shall be analysed. | +----------------------------------------------------------------------+ | **TMSI** (32 bit field)\ | | TMSI is a unique Temporary Mobile Subscriber Identity. TMSI is | | associated with the mobile subscriber and defined in 3GPP TS 23.003. | | This field is coded as a binary number.\ | | Range 0 to 4294967295 | +----------------------------------------------------------------------+ | **CHANNEL_NEEDED** (2 bit field)\ | | The channel needed field indicates which type of channel is needed | | for the mobile station for the transaction linked to the paging | | procedure. The field is coded according to following table: | | | | bit\ | | 2 1\ | | 0 0 Any channel\ | | 0 1 SDCCH\ | | 1 0 TCH/F (Full rate)\ | | 1 1 TCH/H or TCH/F (Dual rate) | +----------------------------------------------------------------------+ | **eMLPP_PRIORITY** (3 bit field)\ | | The optional eMLPP_PRIORITY field relates to Mobile Station | | Identity i(i = 1, 2, 3, 4) and may only be present when the page | | relates to a paging request to trigger RR/RRC connection | | establishment. The eMLPP_PRIORITY field is coded as the Priority | | field defined in the P1 Rest Octets information element in | | 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Repeated MBMS Notification info struct\ | |** The Repeated MBMS Notification info struct is repeated as many | | times as required to fulfil the number of wanted paged Temporary | | Mobile Groups. | | | | The MBMS session identity is optional and shall be included whenever | | being made available in the MBMS-SESSION-START-REQUEST PDU or in the | | MBMS-SESSION-UPDATE-REQUEST PDU received from the SGSN. | | | | If no counting should take place then a MBMS p-t-m channel | | description may be included. | | | | If counting is requested then a MPRACH description may be included. | +----------------------------------------------------------------------+ | **MBMS Sessions List** \ | | This information element contains a list of MBMS sessions identified | | by their TMGI and if available MBMS Session Identity. This | | information element is defined in sub-clause 12.39. | +----------------------------------------------------------------------+ | **MBMS Channel Parameters\ | |** This information element contains the MBMS channel parameters of | | one or more MBMS sessions. This information element is defined in | | sub-clause 12.36. | +----------------------------------------------------------------------+ | **Page info struct** \ | | This struct contains all information to be passed between RLC/MAC | | and RRC in the MS. | +----------------------------------------------------------------------+ | **Repeated Iu_Page info struct** \ | | The Repeated Iu_Page info struct is repeated as many times as | | required to fulfil the number of wanted paged mobiles. If the PACKET | | PAGING REQUEST message is used with only P-TMSIs, TMSIs or G-RNTIs, | | the field can be repeated up to four times within one message. If | | the Paging Request Message is used with only IMSIs, the field can be | | repeated up to two times within one message. | +----------------------------------------------------------------------+ | **G-RNTI** (32 bits)\ | | The G-RNTI field identifies the MS within GERAN when an RRC | | connection exists between this MS and GERAN. G-RNTI is defined in | | 3GPP TS 44.118. | +----------------------------------------------------------------------+ | **PAGING RECORD TYPE IDENTIFIER** (2 bits field)\ | | The Paging Record Type Identifier field indicates the type of | | identity used in the core network page, as it is defined in | | 3GPP TS 44.118. This field shall be included in the message if the | | MS is identified in the page with a G-RNTI | | | | bit\ | | 2 1\ | | 0 0 IMSI (GSM-MAP)\ | | 0 1 TMSI (GSM-MAP) / P-TMSI\ | | 1 0 IMSI (DS-41)\ | | 1 1 TMSI (DS-41) | +----------------------------------------------------------------------+ | **CN DOMAIN IDENTITY** (2 bit field)\ | | The CN Domain Identity field indicates the domain of the core | | network from which the MS is paged, as defined in 3GPP TS 44.118. | | | | Bit | | | | 2 1 | | | | 0 0 CS domain | | | | 0 1 PS domain | | | | 1 0 Either | | | | 1 1 Reserved | +----------------------------------------------------------------------+ | **PAGING CAUSE** (3 bits field)\ | | The Paging Cause field indicates the cause for paging, as defined in | | 3GPP TS 44.118. | | | | bit\ | | 3 2 1\ | | 0 0 0 Terminating Conversational Call\ | | 0 0 1 Terminating Streaming Call\ | | 0 1 0 Terminating Interactive Call\ | | 0 1 1 Terminating Background Call\ | | 1 0 0 Terminating High Priority Signalling\ | | 1 0 1 Terminating Low Priority Signalling\ | | 1 1 0 Terminating - cause unknown\ | | 1 1 1 Reserved | +----------------------------------------------------------------------+ | **Total No Of Segments For ETWS Primary Notification** (4 bits)\ | | This field contains the number of segments for the ETWS Primary | | Notification message. | | | | Bits | | | | 4 3 2 1 | | | | 0 0 0 0 reserved | | | | 0 0 0 1 one segment | | | | 0 0 1 0 two segments | | | | . . . | | | | 0 0 1 0 fifteen segments | +----------------------------------------------------------------------+ | **Segment Number** (4 bits)\ | | This field contains the Segment Number of the ETWS Primary | | Notification message. | | | | Bits | | | | 4 3 2 1 | | | | 0 0 0 0 reserved | | | | 0 0 0 1 reserved | | | | 0 0 1 0 second segment | | | | 0 0 1 1 third segment | | | | . . . | | | | 0 0 1 1 fifteenth segment | +----------------------------------------------------------------------+ | **PNI, Primary Notification Identifier** (1 bit)\ | | This field is used as an identifier to determine the set of segments | | belonging to a certain ETWS Primary Notification message. This | | information element will have the same value (0 or 1) for all | | segments belonging to the same ETWS Primary Notification message. | +----------------------------------------------------------------------+ | **Length Of Segment** (7 bits)\ | | This field indicates the length of a segment in number of bits. | +----------------------------------------------------------------------+ | **ETWS Primary Notification Data** (n*8 bits)\ | | The ETWS Primary Notification data is coded as specified in 3GPP TS | | 23.041. | +----------------------------------------------------------------------+
### 11.2.11 Packet PDCH Release
This message is sent on PACCH by the network to notify all mobile stations
listening to that PDCH that one or more PDCHs will be immediately released and
become unavailable for packet data traffic.
Message type: PACKET PDCH RELEASE
Direction: network to mobile station
Classification: distribution message
Table 11.2.11.1: Packet PDCH RELEASE information elements
+----------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 1 \ } | | | | \ | | | | ! \ > ; | +----------------------------------------------------------------+
Table 11.2.11.2: Packet PDCH RELEASE information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **TIMESLOTS_AVAILABLE** (8 bit field)\ | | This information field indicates the timeslots assigned for GPRS use | | on the current MAIO or ARFCN. Bit 8 indicates the status of timeslot | | 0, bit 7 indicates the status of timeslot 1, etc. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | +----------------------------------------------------------------------+
NOTE: If the bit preceding the parameter TIMESLOTS_AVAILABLE is received = 0 a
distribution part error should be generated by the mobile station. To allow
compatibility with early GPRS mobile stations in Release 97 such mobile
stations may interpret this message, if received with the bit preceding the
parameter TIMESLOTS_AVAILABLE equal to 0, as a command to release the timeslot
on which the message was received.
### 11.2.12 Packet Polling Request
This message is sent on the PCCCH or PACCH by the network to the mobile
station to solicit a PACKET CONTROL ACKNOWLEDGEMENT message from the mobile
station.
Message type: PACKET POLLING REQUEST
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.12.1: Packet POLLING REQUEST information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \ > | | | | \| 10 \ | | | | \| 110 \ } | | | | { \ | | | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-5 :_ \ | | _{ 0 \| 1 \  }_ | | | | \ } | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.12.2: Packet POLLING REQUEST information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **TQI** (16 bit field)\ | | This field is defined in sub-clause 12.17. | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** (32 bit field)\ | | This field is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **TYPE_OF_ACK** \ | | This field indicates the format of the PACKET CONTROL | | ACKNOWLEDGEMENT message requested from the mobile station by the | | PACKET POLLING REQUEST message. | | | | 0 PACKET CONTROL ACKNOWLEDGEMENT message format shall be sent as | | four access bursts\ | | 1 PACKET CONTROL ACKNOWLEDGEMENT message format shall be an RLC/MAC | | control block | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier in _Iu mode_. | +----------------------------------------------------------------------+
### 11.2.13 Packet Power Control/Timing Advance
This message is sent on PACCH by the network to the mobile station in order to
update the mobile station timing advance or power control parameters.
Message type: PACKET POWER CONTROL/TIMING ADVANCE
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.13.1: Packet POwer CONTROL/TIMING ADVANCE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | { 0 -- _Message escape_ | | | | { { 0 \| 1 \> } | | | | { 0 \ > | | | | \ | | > | | | | \| 1 { 0 \ > | | | | \| 1 \ > } } | | | | { null \| 0 bit** = \ \-- Receiver backward | | compatible with earlier version | | | | \| 1 -- Additions for R99 | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- Receiver backward | | compatible with earlier version | | | | \| 1 -- Additions for REL-7 | | | | { 0 \| 1 \ } | | | | \ } } | | | | ! \ > } | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.13.2: Packet POwer CONTROL/TIMING ADVANCE information element
details
+----------------------------------------------------------------------+ | **Global Power Control Parameters IE** \ | | This information field is defined in sub-clause 12.9. | | | | **Global_Packet Timing Advance IE\ | |** This information field is defined in sub-clause 12.12a. | | | | **Power Control Parameters IE\ | |** This information element contains the power control parameters the | | mobile station shall use to determine its TX power level. If this | | information element does not include the updated power control | | parameters for some of currently assigned timeslots, the MS shall | | continue to use the current power control parameters for these | | timeslots. This information field is defined in sub-clause 12.13. | | | | **Global TFI IE\ | |** This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in | | sub-clause 12.10. | | | | **Packet Extended Timing Advance** (2 bit field) **\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **_Carrier Identification_ _(2 bit field)_ | | | | **_This field identifies the carrier to which the Power Control | | Parameters refers._**| | | | bit | | | |**_0 0_ ** Power Control Parameters applies to both carriers | | | | 0 1 Power Control Parameters applies to carrier 1 | | | | 1 0 Power Control Parameters applies to carrier 2 | | | | 1 1 Reserved for future use | +----------------------------------------------------------------------+
### 11.2.14 Packet PRACH Parameters
This message is sent on the PCCCH by the network to all mobile stations within
the cell to update the PRACH parameters in between Packet System Information
messages containing PRACH parameters.
Message type: PACKET PRACH PARAMETERS
Direction: network to mobile station
Classification: distribution message
Table 11.2.14.1: Packet PRACH PARAMETERS information elements
+------------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ | | | | ! \ > ; | +------------------------------------------------------------------------+
Table 11.2.14.2: PACKET PRACH PARAMETERS information element details
+----------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **PRACH Control Parameters** \ | | This information element is defined in sub-clause 12.14. | +----------------------------------------------------------+
### 11.2.15 Packet Queuing Notification
This message is sent on the PCCCH by the network to the mobile station to
notify the mobile station that it is being placed in queue. The message
allocates a Temporary Queuing Identity to the mobile station.
Message type: PACKET QUEUING NOTIFICATION
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.15.1: Packet QUEUING NOTIFICATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 111 \ > | | | | { \ | | | | \ | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.15.2: Packet QUEUING NOTIFICATION information element details
+------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **Packet Request Reference\ | |** This information element is defined in sub-clause 12.11. | | | | **TQI** (16 bit field)**\ | |** This information field is defined in sub-clause 12.17. | +------------------------------------------------------------+
### 11.2.16 Packet Resource Request
This message is sent on the PACCH by the mobile station to the network to
request a change in the uplink resources assigned.
Message type: PACKET RESOURCE REQUEST
Direction: mobile station to network
Table 11.2.16.1: Packet RESOURCE REQUEST information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \ > | | | | \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | +----------------------------------------------------------------------+ | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additional contents for Release 1999_ | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \>} | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | _\| 1_ \-- _Additions for Rel-5_ | | | | { 0 \| 1 { 0 \| 1 _\  }_ | | | | \ > } | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additional contents for Release 6_ | | | | _{ 0 \| 1_ \ > } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additional contents for Release 7_ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ } } } }; | +----------------------------------------------------------------------+
Table 11.2.16.2: Packet RESOURCE REQUEST information element details
+----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains (one of) the TFI of the mobile | | station\'s uplink TBF, if available, or (one of) the TFI of the | | mobile station\'s downlink TBF. If no TFI is available, this field | | is omitted. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **ACCESS_TYPE** (2 bit field)**\ | |** This field indicates the reason for requesting the access. It | | shall be included only in response to a single block or Multi block | | assignment. | | | | bit\ | | 2 1\ | | 0 0 Two Phase Access Request\ | | 0 1 Page Response\ | | 1 0 Cell Update\ | | 1 1 Mobility Management procedure | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** \ | | This information element is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **MS Radio Access Capability 2\ | |** This information element is defined in sub-clause 12.30. This | | information element is sent only during two phase access and shall | | not be include by MS operating in _Iu mode_. Additionally, this | | information element shall be sent in one phase EGPRS TBF | | establishment procedure if ordered by the network. | +----------------------------------------------------------------------+ | **Channel Request Description** \ | | This information element is defined in sub-clause 12.7. If a PFI | | field is included in this message, it relates to the TBF request | | contained in the **_Channel Request Description_** IE. If the | | _Extended_ _Channel Request Description_**** IE is included**in | | this message, the value of this IE (and the PFI field) shall be | | ignored**. When a Packet Resource Request message is sent in | | response to an**Access Technologies Request received by the MS | |** during a one phase access this IE shall be ignored.**| | | |** Extended Channel Request Description**\ | | This information element is defined in sub-clause 12.7b. This IE | | contains a request for one or more additional uplink TBFs and shall | | only be included if the mobile station and the network support | | multiple TBF procedures. If this IE is included, the** _Channel | | Request Description_ IE and PFI field in the message shall be | | ignored.**| +----------------------------------------------------------------------+ |** CHANGE_MARK**(2 bit field)\ | | This field contains the PSI2_CHANGE_MARK value stored by the | | mobile station\'s if PBCCH is present in the current cell. If PBCCH | | is not present in the current cell, this field contains the | | SI13_CHANGE_MARK value stored by the mobile station. If the mobile | | station does not have a valid PSI2 or SI13 _change mark _for the | | current cell, the mobile station shall omit this field. The coding | | of this field is network dependent. | +----------------------------------------------------------------------+ |__C_VALUE_ _(6 bit field)\ | | This field is encoded as the binary representation of the C value as | | specified in 3GPP TS 45.008.\ | | Range 0 to 63 | +----------------------------------------------------------------------+ |__SIGN_VAR_ _(6 bits)__\ | |__This field contains the signal variance parameter SIGN_VAR | | calculated by the mobile station (see 3GPP TS 45.008). This field is | | not present for TBF establishment using two phase access or for a | | TBF in EGPRS mode. | | | | bit\ | | 6 5 4 3 2 1\ | | 0 0 0 0 0 0 0dB^2^ to 0.25 dB^2^\ | | 0 0 0 0 0 1 >0.25 dB^2^ to 0.50 dB^2^\ | | 0 0 0 0 1 0 >0.50 dB^2^ to 0.75 dB^2^\ | | : : :\ | | 1 1 1 1 1 0 >15.50 dB^2^ to 15.75 dB^2^\ | | 1 1 1 1 1 1 >15.75 dB^2^ | +----------------------------------------------------------------------+ | __I_LEVEL_TN0_ _(4 bit field)\ | |__I_LEVEL_TN1_ _(4 bit field)\ | |__I_LEVEL_TN2_ _(4 bit field)\ | |__I_LEVEL_TN3_ _(4 bit field)\ | |__I_LEVEL_TN4_ _(4 bit field)\ | |__I_LEVEL_TN5_ _(4 bit field)\ | |__I_LEVEL_TN6_ _(4 bit field)\ | |__I_LEVEL_TN7_ _(4 bit field)\ | | For element definition see sub-clause 11.2.6 - Packet Downlink | | Ack/Nack. These fields shall not be present if they are included in | | the EGPRS Timeslot Link Quality Measurements IE. | +----------------------------------------------------------------------+ |__EGPRS BEP Link Quality Measurements\ | |__This information element is defined in sub-clause 12.5.3. This IE | | is transferred if it is available and if it would not cause the | | message to expand beyond one RLC/MAC control block and if the PACKET | | RESOURCE REQUEST is sent during on-going concurrent EGPRS TBF. | +----------------------------------------------------------------------+ |__EGPRS Timeslot Link Quality Measurements\ | |__This information element is defined in sub-clause 12.5.4. This IE | | is transferred if it is available and if it would not cause the | | message to expand beyond one RLC/MAC control block and if the PACKET | | RESOURCE REQUEST is sent during on-going concurrent EGPRS TBF. | +----------------------------------------------------------------------+ |__PFI_ _(7 bit field)__\ | |__This field contains the PFI parameter identifying a Packet Flow | | Context relating to the resource request specified in the_ Channel | | Request Description _IE. The PFI parameter is encoded as the | | contents of the PFI information element as defined in | | 3GPP TS 44.018. This field may be included if the network supports | | packet flow context procedures. If the_ Extended **Channel Request | | Description_** **IE is included** in this message, the value of this | | field (and the **_Channel Request Description_ IE**) shall be | | ignored**.** | +----------------------------------------------------------------------+ | **ADDITIONAL MS RAC INFORMATION AVAILABLE (1 bit field)\ | |** 0 indicates that the MS will not send more information about its | | radio access capabilities than included in this message\ | | 1 indicates that the MS will provide more information about its | | radio access capabilities by sending an ADDITIONAL MS RADIO ACCESS | | CAPABILITIES message, either in the next radio block allocated to | | the mobile station on the assigned PDCH, or upon a further request | | from the network if the mobile station was allocated only one radio | | block. This value shall not be used by MS operating in _Iu mode_. | +----------------------------------------------------------------------+ | **RETRANSMISSION OF PRR (1 bit field)\ | |** This field indicates whether the corresponding PACKET RESOURCE | | REQUEST message is a retransmission. In case the PACKET RESOURCE | | REQUEST message is a retransmission, the message content (except | | this field and the address information) shall be identical to the | | PACKET RESOURCE REQUEST message previously sent (see sub-clause | | 7.1.2.2.1a). | | | | 0 indicates that this message is an initial PACKET RESOURCE REQUEST | | message\ | | 1 indicates that this message is a retransmitted PACKET RESOURCE | | REQUEST message; in this case the corresponding PACKET RESOURCE | | REQUEST message shall not be interpreted as a request for resource | | reassignment. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier for contention resolution in Iu-mode. | +----------------------------------------------------------------------+ | **HFN_LSB (1 bit field)** | | | | This field contains the least significant bit of the uplink HFN of | | the radio bearer for which the TBF is requested. | +----------------------------------------------------------------------+ | **EARLY_TBF_ESTABLISHMENT** (1 bit field) | | | | This field indicates whether or not the packet resource request is | | meant to request pre-allocation of an uplink TBF: | | | | 0 The packet resource request is not meant to pre-allocate an uplink | | TBF.\ | | 1 The packet resource request is meant to pre-allocate an uplink | | TBF. | +----------------------------------------------------------------------+ | **EGPRS BEP Link Quality Measurements Type 2\ | |** This information element is defined in sub-clause 12.5a.2. This IE | | is transferred if it is available and if it would not cause the | | message to expand beyond one RLC/MAC control block and if the PACKET | | RESOURCE REQUEST is sent during on-going concurrent EGPRS2 TBF. | +----------------------------------------------------------------------+ | **EGPRS Timeslot Link Quality Measurements Type 2\ | |** This information element is defined in sub-clause 12.5a.3. This IE | | is transferred if it is available and if it would not cause the | | message to expand beyond one RLC/MAC control block and if the PACKET | | RESOURCE REQUEST is sent during on-going concurrent EGPRS2 TBF. | +----------------------------------------------------------------------+
### 11.2.17 Packet PSI Status
This message is sent on the PACCH from the mobile station to the network to
indicate which PSI messages the mobile station has received.
Message type: PACKET PSI STATUS
Direction: mobile station to network
Table 11.2.17.1: Packet PSI STATUS information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ | | | | \ > | | | | \ > | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for REL-6 :_ | | | | \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } ** 0 | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ } ** 0 | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.17.2: Packet PSI Status information element details
+----------------------------------------------------------------------+ | **Global TFI** (information element)\ | | This information element contains the TFI of the mobile station\'s | | uplink or downlink TBF.. The coding of this information element is | | defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **PBCCH_CHANGE_MARK** (3 bit field)\ | | This field is the binary representation of the last | | PBCCH_CHANGE_MARK received in the PSI1 message on PBCCH. | +----------------------------------------------------------------------+ | **Received PSI Message List** (construction)\ | | This construction contains a list of supported PSI messages (see | | sub-clause 5.5.1.4.3). The sender of this message may indicate as | | many messages in this list as can be fit into the message. Messages | | are listed by message type in descending order of priority. If there | | are more PSI messages than can be indicated in this list, the | | presence of additional message type(s) shall be indicated at the end | | of the list. | | | | If the sender of this message has received a PSI message which is | | part of a consistent set of PSI messages (see 5.5.2.1.4), the | | Instance Bitmap may indicate which instances of this message type | | that have been received. | | | | Under certain circumstances, see sub-clause 5.5.1.4.3, the sender of | | this message may use this construction to indicate the message type | | of a PSI message that has not been received. In that case, the | | corresponding Instance Bitmap field shall be included. The | | PSIX_CHANGE_MARK field, PSIX_COUNT field and the one element of | | the Instance Bitmap field shall all be set to the value \'0\'. | +----------------------------------------------------------------------+ | **Received Unknown PSI Message List** (construction)\ | | This construction contains a list of message types that are received | | on PBCCH, which are either unknown or not recognized as supported | | PSI message types. The sender of this message may indicate as many | | messages in this list as can be fit into the message following the | | Received PSI Message List. Messages are listed by message type in | | the inverse order of reception, starting with the most recently | | received message type. If there are more messages than can be | | indicated in this list, the presence of additional message type(s) | | shall be indicated at the end of the list. | +----------------------------------------------------------------------+ | **MESSAGE_TYPE** (6 bit field)\ | | This field is the binary representation of the message type (see | | sub-clause 11.2.0.1). | +----------------------------------------------------------------------+ | **PSIX_CHANGE_MARK** (2 bit field)\ | | This field is the binary representation of the PSI _change mark_ | | parameter received for a certain PSI message type.\ | | Range: 0 to 3. | +----------------------------------------------------------------------+ | **PSIX_COUNT** (4 bit field)\ | | This field is the binary representation of the PSI _count_ parameter | | received for a certain PSI message type. This field indicates the | | length of the corresponding _Instance bitmap_ field and shall be | | provided only if the corresponding _Instance bitmap_ field is | | provided in the message.\ | | Range: 0 to 7 or 0 to 15, depending on message type. | +----------------------------------------------------------------------+ | **Instance bitmap** (1 - 16 bit field)\ | | This field is a bitmap indicating which instances of a certain | | message type that are received within a consistent set of PSI | | messages. This field shall be included when a sub-set of these | | messages has been received. This field shall not be included when | | the complete set of these messages has been received. | | | | The most significant bit of this bitmap (bit N) refers to the | | message instance with the PSI _index_ parameter = N-1, where N is | | the number of instances of the particular message type (PSI _count_ | | + 1). The least significant bit of this bitmap (bit 1) refers to the | | message instance with the PSI _index_ parameter = 0. Each bit | | position is coded: | | | | 0 Message instance is not received;\ | | 1 Message instance is received. | +----------------------------------------------------------------------+ | **ADDITIONAL_MSG_TYPE** (1 bit field)\ | | 0 No additional message type is present.\ | | 1 Additional message type(s) are available, but this information | | does not fit into the message. | +----------------------------------------------------------------------+ | **PS_REL_REQ** (1 bit field)\ | | This field indicates whether the mobile station requests the release | | of the RR connection and packet resources. This field may only be | | set to \"1\" in certain cases, see 3GPP TS 44.018. This field shall | | always be present in the message when the enhanced DTM CS release | | procedure is ongoing. | | | | **0 The mobile station does not request the release of the RR | | connection and packet resources.\ | | 1 The mobile station requests the release of the RR connection and | | packet resources.** | +----------------------------------------------------------------------+
### 11.2.17a Packet Serving Cell Data
This optional message is sent by the network on the PACCH to provide system
information broadcast on the BCCH (respectively PBCCH to a mobile station. For
example, several instances of this message may be sent by the network in a
cell supporting PACKET SI STATUS (respectively PACKET PSI STATUS) following
the request for acquisition of system information by a mobile station. This
message shall not be segmented across more than one RLC/MAC control block. If
not all information fits into one instance of the PACKET SERVING CELL DATA
message, the message can be repeated.
Message type: PACKET SERVING CELL DATA
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.17a.1: Packet Serving Cell Data information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | { \ | | | | \ | | | | \ > | | | | \ | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { \ | | | | \ | | | | \ \-- _Final | | container segment. Next container follows._ | | | | \| \ | | | | \ | | | | \ } ** -- _Container | | continued in next message._ | | | | { \ \-- _Repetition continues until:_ | | | | \ } -- _A) | | val(CD_LENGTH) = 0 or_ | | | | } // ; -- _B) end of PSCD message._ | +----------------------------------------------------------------------+
Table 11.2.17a.2: Packet Serving Cell Data information element details
+----------------------------------------------------------------------+ | The Packet Serving Cell Data message consists of up to 32 instances | | and contains serving cell system information messages from the BCCH | | or from the PBCCH or from both. Each container repetition struct | | contains information from one or more SI/PSI message. One SI/PSI | | message can be distributed over more than one instance. | | | | A container can only refer to the serving cell. | +----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **PD** (3 bit field)\ | | This field contains a protocol discriminator and indicates the | | origin of the contained message. | | | | Bit\ | | 2 1\ | | 0 0 0 BCCH (LAPDm);\ | | 0 0 1 PBCCH (RLC/MAC);\ | | 0 1 0 Reserved; If received the contents of the container shall be | | discarded.\ | | ......\ | | 1 1 1 Reserved; If received the contents of the container shall be | | discarded. | +----------------------------------------------------------------------+ | **CD_LENGTH** (5 bit field)\ | | This field indicates the number of CONTAINER DATA octets that forms | | a specific SI/PSI message and is coded as shown below. | | | | Bit | | | | 5 4 3 2 1 | | | | 0 0 0 0 0 No CONTAINER DATA follows; Spare padding is used to fill | | the rest of the message; | | | | 0 0 0 0 1 CONTAINER DATA length = 1 octet; | | | | .... | | | | 1 0 0 1 0 CONTAINER DATA length = 18 octets; | | | | 1 1 1 1 1 The remaining portion of the Packet Serving Cell Data | | message is used by the associated CONTAINER DATA. The message | | continues in a subsequent instance of the Packet Serving Cell Data | | message, in the next CONTAINER DATA with the same Protocol | | Discriminator value as the current one. | | | | All other values reserved. If a reserved value is received the | | contents of the container shall be discarded. | +----------------------------------------------------------------------+ | **CONTAINER_DATA**(n*8 bits) | | | | The concatenation of one or several CONTAINER_DATA octets forms the | | actual contents, specific to the SI/PSI messages. | | | | If the contained system information messages are copied from the | | BCCH the information contained in the Packet Serving Cell Data | | message shall exclude the following information elements from the | | beginning of the messages: L2 Pseudo Length; RR management Protocol | | Discriminator and Skip Indicator.\ | | If the contained system information messages are copied from the | | PBCCH the information contained in the Packet Serving Cell Data | | message shall include the complete PSI message. | | | | Extra octets of padding bits at the end of the SI/PSI messages may | | be excluded. | +----------------------------------------------------------------------+
### 11.2.17b Packet SI Status
This message is sent on the PACCH from the mobile station to the network to
indicate which SI messages the mobile station has received.
Message type: PACKET SI STATUS
Direction: mobile station to network
Table 11.2.17b.1: Packet SI STATUS information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ | | | | \ > | | | | \ > | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for REL-6 :_ | | | | \ | | | | \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ | | | | { \ \ \-- Message type | | supported but not received | | | | \| \ \ \-- Message type | | supported and received, single instance | | | | \| \ \-- Message type supported | | and partially received, multiple instances | | | | \ | | | | \ | | | | \ | | | | \| \ \-- Message type supported | | and completely received, multiple\ | | instances | | | | \ } | | | | } ** 0 | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ } ** 0 | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.17b.2: Packet SI Status information element details
+----------------------------------------------------------------------+ | **Global TFI** (information element)\ | | This information element contains the TFI of the mobile station\'s | | uplink or downlink TBF. The coding of this information element is | | defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **BCCH_CHANGE_MARK** (3 bit field)\ | | This field is the binary representation of the last | | BCCH_CHANGE_MARK received in the SI13 message on BCCH or PACCH. | +----------------------------------------------------------------------+ | **Received SI Message List** (construction)\ | | This construction contains a list of supported SI messages (see | | sub-clause 5.5.1.4.3). The sender of this message may indicate as | | many messages in this list as can be fit into the message. Messages | | are listed by message type in descending order of priority. If there | | are more SI messages than can be indicated in this list, the | | presence of additional message type(s) shall be indicated at the end | | of the list. | | | | If the sender of this message has received an SI message which is | | part of a consistent set of SI messages (see sub-clause 5.5.2.1.4), | | the Instance Bitmap may indicate which instances of this message | | type that have been received. | +----------------------------------------------------------------------+ | **Received Unknown SI Message List** (construction)\ | | This construction contains a list of message types that are received | | on BCCH, which are either unknown or not recognised as supported SI | | message types. The sender of this message may indicate as many | | messages in this list as can be fit into the message following the | | Received SI Message List. Messages are listed by message type in the | | inverse order of reception, starting with the most recently received | | message type. If there are more messages than can be indicated in | | this list, the presence of additional message type(s) shall be | | indicated at the end of the list. | +----------------------------------------------------------------------+ | **SI_MESSAGE_TYPE** (8 bit field)\ | | This field is the binary representation of the message type of the | | indicated SI message (see 3GPP TS 24.007 and 3GPP TS 44.018). | +----------------------------------------------------------------------+ | **MESS_REC** (2 bit field)\ | | This field indicates for each message type that is supported by the | | mobile station whether one or more instances of the message have | | been received. The field is coded: | | | | Bit | | | | 2 1 | | | | 0 0 The message type is supported but not received; | | | | 0 1 The message type is supported and received; this type of SI | | message does not exist in multiple instances; | | | | 1 0 The message type is supported and instances of the message with | | the indicated change mark are partially received; | | | | 1 1 The message type is supported and all instances of the message | | are received with the indicated change mark. | +----------------------------------------------------------------------+ | **SIX_CHANGE_MARK** (3 bit field)_\ | |_ This field is the binary representation of the SI change mark | | parameter received for a certain SI message type, except for the | | SI2ter, the SI2quater and the SI15 message types. For the SI2ter, | | SI2n,, SI18, SI19 and SI20 messages, the range is: 0 to 3. For the | | SI2quater and SI15 messages, the range is: 0 to 7. | | | | For the SI2ter message type, the three bits are used according to | | the following principles: | | | | SI2ter\ | | Bit\ | | 3 2 1\ | | 0 -- X Bit 1: SI2ter_3G_CHANGE_MARK\ | | 0 X - Bit 2: SI2ter_MP_CHANGE_MARK. | | | | For the SI2quater message type, the mobile station shall include the | | latest received values of the BA_IND, 3G_BA_IND and | | MP_CHANGE_MARK fields. The field is coded as follows: | | | | Bit\ | | 3 2 1\ | | - - X Bit 1: MP_CHANGE_MARK\ | | - X - Bit 2: 3G_BA_IND\ | | X - - Bit 3: BA_IND | | | | For the SI15 message type, the mobile station shall include the | | three least significant bits of the DM_CHANGE_MARK parameter | | (i.e., DM_CHANGE_MARK modulo 8). | +----------------------------------------------------------------------+ | **SIX_COUNT** (4 bit field)\ | | This field is the binary representation of the SI _count_ parameter | | received for a certain SI message type. This field indicates the | | length of the corresponding _Instance bitmap_ field and shall be | | provided only if the corresponding _Instance bitmap_ field is | | provided in the message. | | | | For SI18, SI19 and SI20 messages, this field shall be set to 7 if | | present. | | | | For the SI15 message the range is 0 to 3. | | | | For the SI2ter message the range is 0 to 7. | | | | For the SI2quater message the range is 0 to 15. | | | | For the SI2n message the range is 0 to 15. | +----------------------------------------------------------------------+ | **Instance bitmap** (1 - 16 bit field)\ | | This field is a bitmap indicating which instances of a certain | | message type that are received within a consistent set of SI | | messages. This field shall be included when a sub-set of these | | messages has been received. This field shall not be included when | | the complete set of these messages has been received. | | | | The most significant bit of this bitmap (bit N) refers to the | | message instance with the SIX _index_ parameter = N-1, where N is | | the number of instances of the particular message type (SIX _count_ | | + 1). The least significant bit of this bitmap (bit 1) refers to the | | message instance with the SI _index_ parameter = 0. Each bit | | position is coded: | | | | 0 Message instance is not received;\ | | 1 Message instance is received. | +----------------------------------------------------------------------+ | **ADDITIONAL_MSG_TYPE** (1 bit field)\ | | 0 No additional message type is present.\ | | 1 Additional message type(s) are available, but this information | | does not fit in to the message. | +----------------------------------------------------------------------+ | **PSCSI_SUPPORT (1 bit field)** | | | | **0 PACKET SERVING CELL SI message not supported\ | | 1 PACKET SERVING CELL SI message supported** | | | | **The MS shall set the PSCSI_SUPPORT bit to \"1\" in this revision | | of the specification. This field shall always be present in the | | PACKET SI STATUS message. If not present, \'0\' shall be assumed by | | the receiver** | +----------------------------------------------------------------------+ | **PS_REL_REQ** (1 bit field)\ | | This field indicates whether the mobile station requests the release | | of the RR connection and packet resources. This field may only be | | set to \"1\" in certain cases, see 3GPP TS 44.018. This field shall | | always be present in the message when the enhanced DTM CS release | | procedure is ongoing. | | | | **0 The mobile station does not request the release of the RR | | connection and packet resources.\ | | 1 The mobile station requests the release of the RR connection and | | packet resources.** | +----------------------------------------------------------------------+
### 11.2.17c Packet Serving Cell SI
This optional message is sent by the network on the PACCH to provide a SYSTEM
INFORMATION message broadcast on the BCCH. For example, several instances of
this message may be sent by the network in a cell supporting PACKET SI STATUS
following the request for acquisition of system information by a mobile
station. This message shall not be segmented across more than one RLC/MAC
control block.
Message type: PACKET SERVING CELL SI
Direction: network to mobile station
Classification: distribution message
Table 11.2.17c.1: Packet Serving Cell SI information elements
+----------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \z | | | | ! \ > ; | +----------------------------------------------------------------+
Table 11.2.17c.2: Packet Serving Cell SI information element details
+----------------------------------------------------------------------+ | The Packet Serving Cell SI message contains a serving cell SYSTEM | | INFORMATION message from the BCCH. | +----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **CONTAINER_DATA**(n*8 bits) | | | | The CONTAINER_DATA octets forms the actual SI message content. The | | information contained in the Packet Serving Cell SI message shall | | exclude the following information elements from the beginning of the | | SI message: L2 Pseudo Length; RR management Protocol Discriminator | | and Skip Indicator. | | | | Extra octets of padding bits at the end of the SI message may be | | excluded. | +----------------------------------------------------------------------+
### 11.2.18 Packet System Information Type 1
This message is sent by the network on the PBCCH or PACCH giving information
for Cell selection, for control of the PRACH, for description of the control
channel(s) and global power control parameters. This message shall not be
segmented across more than one RLC/MAC control block by using the procedures
specified in sub-clause 9.1.12a. Special requirements for the transmission of
this message apply on the PBCCH, see 3GPP TS 45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 1
Direction: network to mobile station
Classification: distribution message
Table 11.2.18.1: PSI1 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | \ > | | | | \ | | > | | | | \ > | | | | \ > | | | | \ | | | | { null \| 0 -- _Receiver backward compatible with earlier release_ | | | | \| 1 -- _Additions in release 99 :_ | | | | \ | | | | \ | | | | \ | | | | { null \| 0 -- _Receiver backward compatible with earlier release_ | | | | \| 1 -- _Additions in Rel-6 :_ | | | | { 0 \| 1 \ } | | | | \ } } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.18.2: PSI1 information element details
+----------------------------------------------------------------------+ | **GPRS Cell Options** \ | | This information element is defined in sub-clause 12.24 | +----------------------------------------------------------------------+ | **Global Power Control Parameters\ | |** This information element is defined in sub-clause 12.9. | +----------------------------------------------------------------------+ | **MEASUREMENT ORDER** (1 bit field)\ | | The MEASUREMENT ORDER field indicates if set = 0 that the mobile | | station is in control of the cell re-selection in both packet idle | | mode and packet transfer mode and that the mobile station shall not | | send any measurement reports to the network (= NC0 in | | 3GPP TS 45.008). It also indicates that the Optional PSI5 message is | | not broadcast.\ | | If set = 1 the mobile station shall send measurement reports for | | cell re-selection to the network. Further cell re-selection and | | measurement details are included in the PSI5 message. | +----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field describes which type of page mode used, i.e. either | | normal paging, extended paging, paging reorganization or same as | | before from the previous page mode. The mobile station shall ignore | | this field if the message is received on the PACCH. Coding of this | | field is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **PBCCH_CHANGE_MARK** (3 bit field)\ | | The PBCCH_CHANGE_MARK field is a 3 bit counter incremented with | | one each time information has been changed in one or more of the | | broadcast PSI2-PSIn messages on PBCCH (n>2). | +----------------------------------------------------------------------+ | **PSI_CHANGE_FIELD** (4 bit field)\ | | The PSI_CHANGE_FIELD is a 4 bit value reflecting which PSI message | | or group of instantiated PSI message was most recent updated when | | the PBCCH_CHANGE_MARK was last incremented. If more than one PSI | | message or group of instantiated PSI message were changed at the | | same time, the PSI_CHANGE_FIELD indicates unspecified updates. | | Range 0 to 15. | | | | Bit | | | | 4 3 2 1 | | | | 0 0 0 0 Update of unspecified PSI message(s); | | | | 0 0 0 1 Unknown | | | | 0 0 1 0 PSI2 updated | | | | 0 0 1 1 PSI3/PSI3bis/PSI3ter/PSI3quater updated | | | | 0 1 0 0 Unknown -- _This value was allocated in an earlier version | | of the protocol and shall not be used_ | | | | 0 1 0 1 PSI5 updated | | | | 0 1 1 0 PSI6 updated | | | | 0 1 1 1 PSI7 updated | | | | 1 0 0 0 PSI8 updated | | | | All other values shall be interpreted as \'Update of unknown SI | | message type\'. | +----------------------------------------------------------------------+ | **PSI1_REPEAT_PERIOD** (4 bit field)\ | | This field is the binary representation of the PSI1_REPEAT_PERIOD | | parameter value minus one, see 3GPP TS 45.002. The field is coded | | according to the following table: | | | | Bit\ | | 4 3 2 1\ | | 0 0 0 0 PSI1_REPEAT_PERIOD = 1\ | | 0 0 0 1 PSI1_REPEAT_PERIOD = 2\ | | . . .\ | | 1 1 1 1 PSI1_REPEAT_PERIOD = 16 | +----------------------------------------------------------------------+ | **PSI_COUNT_LR** (6 bit field)\ | | This field is the binary representation of the PSI_COUNT_LR | | parameter, see 3GPP TS 45.002. The field is coded according to the | | following table: | | | | Bit\ | | 6 5 4 3 2 1\ | | 0 0 0 0 0 0 PSI_COUNT_LR = 0\ | | 0 0 0 0 0 1 PSI_COUNT_LR = 1\ | | . . .\ | | 1 1 1 1 1 1 PSI_COUNT_LR = 63 | +----------------------------------------------------------------------+ | **PSI_COUNT_HR** (4 bit field)\ | | This field is the binary representation of the PSI_COUNT_HR | | parameter value minus one, see 3GPP TS 45.002. If PSI_COUNT_HR is | | not included in PSI1 message, the default value PSI_COUNT_HR = 0 | | applies. The field is coded according to the following table: | | | | Bit\ | | 4 3 2 1\ | | 0 0 0 0 PSI_COUNT_HR = 1\ | | 0 0 0 1 PSI_COUNT_HR = 2\ | | . . .\ | | 1 1 1 1 PSI_COUNT_HR = 16 | +----------------------------------------------------------------------+ | **PCCCH Organization Parameters** \ | | This information element is defined in sub-clause 12.25 | +----------------------------------------------------------------------+ | **PRACH Control Parameters** \ | | This information element is defined in sub-clause 12.14. | +----------------------------------------------------------------------+ | **PSI_STATUS_IND** (1 bit field):\ | | 0 The network does not support the PACKET PSI STATUS message;\ | | 1 The network supports the PACKET PSI STATUS message. | +----------------------------------------------------------------------+ | **MSCR** , MSC Release (1 bit field):\ | | 0 The MSC is Release \'98 or older\ | | 1 The MSC is Release \'99 onwards | +----------------------------------------------------------------------+ | **SGSNR** , SGSN Release (1 bit field)\ | | 0 The SGSN is Release \'98 or older\ | | 1 The SGSN is Release \'99 onwards | +----------------------------------------------------------------------+ | **BAND_INDICATOR** (1 bit field)\ | | See 3GPP TS 45.005 for definition of this field, which is coded as | | follows:\ | | 0 ARFCN indicates 1800 band\ | | 1 ARFCN indicates 1900 band | +----------------------------------------------------------------------+ | **LB_MS_TXPWR_MAX_CCH** (5 bit field) | | | | The LB_MS_TXPWR_MAX_CCH field is coded as the binary | | representation of the \'power control level\' in 3GPP TS 45.005 | | corresponding to the maximum TX power level a mobile station may use | | when accessing on a packet control channel. This value shall be used | | by the mobile station according to 3GPP TS 45.008. | +----------------------------------------------------------------------+
NOTE 1: The MSC Release bit indicates the version of the MSC specific
protocols and is not applicable to access stratum protocols.
NOTE 2: The SGSN Release bit indicates the version of the SGSN specific
protocols and is not applicable to access stratum protocols.
### 11.2.19 Packet System Information Type 2
This message is sent by the network on PBCCH and PACCH giving information of
reference frequency lists, cell allocation, GPRS mobile allocations and PCCCH
descriptions being used in the cell. Special requirements for the transmission
of this message apply on PBCCH, see 3GPP TS 45.002.
PSI2 also contains Non-GPRS cell options applicable for non-packet access.
This message shall not be segmented across more than one RLC/MAC control block
by using the procedures specified in sub-clause 9.1.12a. A consistent set of
this message type is required to completely decode the information (see sub-
clause 5.5.2.1.4).
Message type: PACKET SYSTEM INFORMATION TYPE 2
Direction: network to mobile station
Classification: distribution message
Table 11.2.19.1: PSI2 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Release 1999 additions:_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ } } // -- _truncation at end of message allowed, | | bits \'0\' assumed_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= { 1 \ } ** 0; | | | | \::= | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= { 1 \ } ** 0 ; | | | | \ ::= | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= { 1 \ } ** 0 ; | | | | \ ::= | | | | \ | | | | \ > ; | +----------------------------------------------------------------------+ | \ ::= { 1 \ } ** 0 ; | | | | \ ::= | | | | \ | | | | { 0 \ > | | | | \| 1 \ | | | | \ > } ; | +----------------------------------------------------------------------+ | \ ::= { 1 \ } ** 0 ; | | | | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= { 1\ } ** 0 ; | | | | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 { \ } } | | | | { 0 \| 1 { \ } } | | | | { 0 \| 1 { \ } } | | | | { 0 \| 1 { \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \\ | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.19.2: PSI2 information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field describes which type of page mode used, i.e. either | | normal paging, extended paging, paging reorganization or same as | | before from the previous page mode. The mobile station shall ignore | | this field if the message is received on the PACCH. Coding of this | | field is defined in 3GPP TS 44.018 | +----------------------------------------------------------------------+ | **PSI2_CHANGE_MARK** (2 bit field)\ | | This field is the binary representation of the PSI _change mark_ | | parameter identifying a consistent set of PSI2 messages. Range: 0 to | | 3. | +----------------------------------------------------------------------+ | **PSI2_INDEX** (3 bit field) and **PSI2_COUNT** (3 bit field)\ | | These fields are the binary representation of the PSI _index_ and | | PSI _count_ parameters associated with the PSI2 message. | +----------------------------------------------------------------------+ | **Cell Identification** \ | | This information element is defined in sub-clause 12.23. This field | | shall be present in at least one instance of PSI2 and may appear | | only once in a complete set of PSI2 messages. | +----------------------------------------------------------------------+ | **Non GPRS Cell Options** \ | | This field is defined in sub-clause 12.27.\ | | This field shall be present in at least one instance of PSI2. | +----------------------------------------------------------------------+ | **Reference Frequency Lists** (construction)\ | | This construction is the representation of the reference frequency | | lists provided in an instance of the PSI2 message. An RFL_NUMBER | | field preceding each reference frequency list (RFL) identifies the | | RFL. | +----------------------------------------------------------------------+ | **Cell Allocations** (construction)\ | | This construction is a representation of the cell allocation (CA) | | defined for the cell. The set of radio frequency channels contained | | in the referenced RFLs in this construction defines the cell | | allocation. | +----------------------------------------------------------------------+ | **GPRS Mobile Allocations** (construction)\ | | This construction is the representation of the GPRS mobile | | allocations provided in an instance of the PSI2 message. An | | MA_NUMBER field preceding each GPRS mobile allocation identifies | | the GPRS mobile allocation. The receiver shall disregard a GPRS | | mobile allocation provided in this message that is identified by | | MA_NUMBER = 14 or 15. | +----------------------------------------------------------------------+ | **PCCCH Description** (construction)\ | | This construction is a representation of the timeslots carrying | | PCCCH in the cell and their frequency configurations. The training | | sequence code (TSC) preceding each list of PCCCH carriers in the | | PCCCH description shall be used for the timeslots selected for PCCCH | | on those PCCCH carriers. The TSC that is used for the timeslot also | | carrying PBCCH shall equal the TSC used for the PBCCH in the cell. | | | | The number of timeslots carrying PCCCH in the cell is denoted KC. | | This is also the implicit value of the parameter BS_PCC_CHANS, see | | 3GPP TS 45.002. The range for KC is 1 to 16 if PBCCH (and PCCCH) is | | present in the cell. (KC = 0 if PBCCH is not present in the cell.) | | | | The mapping of the PCCCH_GROUPs (numbered from 0 to KC-1) starts | | with the lowest numbered PCCCH_GROUP, which is mapped on the lowest | | numbered timeslot carrying PCCCH on the first (non-hopping or | | hopping) PCCCH carrier appearing in this construction. The next | | higher numbered PCCCH_GROUP is mapped on the next (if any) higher | | numbered timeslot carrying PCCCH on the same carrier, and so on. | | When all timeslots carrying PCCCH on the first carrier have been | | used, the next higher numbered PCCCH_GROUP is mapped on the lowest | | numbered timeslot carrying PCCCH on the next PCCCH carrier appearing | | in this construction, and so on. The highest numbered PCCCH_GROUP | | is mapped on the highest numbered timeslot carrying PCCCH on the | | last PCCCH carrier appearing in this construction. | +----------------------------------------------------------------------+ | **RFL_NUMBER** (4 bit field)\ | | This field is the binary identification of an RFL provided in this | | message or the binary reference to such.\ | | Range: 0 to 15. | +----------------------------------------------------------------------+ | **RFL contents** (variable length octet string)\ | | This variable length octet string is the representation of a set of | | radio frequency channels defining an RFL provided in the PSI2 | | message. The encoding of the octet string is defined by the _value | | part_ of the type 4 information element _Frequency List_ , defined in | | 3GPP TS 44.018. The allowed formats of the _Frequency List_ | | information element are the _bit map 0_ , _1024 range_ , _512 range_ , | | _256 range_ , _128 range_ and _variable bit map_ formats. | +----------------------------------------------------------------------+ | **MA_NUMBER** (4 bit field)\ | | This field is the binary identification of a GPRS Mobile Allocation | | provided in this message or the binary reference to such.\ | | Range: 0 to 13. (MA_NUMBER = 14 and 15 shall not be used in this | | message.) | +----------------------------------------------------------------------+ | **GPRS Mobile Allocation** (information element)\ | | The _GPRS Mobile Allocation_ information element is defined in | | sub-clause 12.10a. | +----------------------------------------------------------------------+ | **TSC** (3 bit field)\ | | This field is the binary representation of the training sequence | | code, see 3GPP TS 45.002.\ | | Range: 0 to 7. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field is the binary representation of the absolute radio | | frequency channel number (ARFCN) defined in 3GPP 45.005.\ | | Range 0 to 1023. | +----------------------------------------------------------------------+ | **MAIO** (6 bit field)\ | | This field is the binary representation of the mobile allocation | | index offset (MAIO), see 3GPP TS 45.002.\ | | Range: 0 to 63. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)\ | | This field indicates which timeslot are assigned as PCCCH. This | | field is coded as defined in sub-clause 12.18. . Note that for a | | CPCCCH this information shall be ignored by the MS, the CPCCCH is | | rotating between odd timeslots and not allocated to a specific | | timeslot, see 3GPP TS 45.002. | +----------------------------------------------------------------------+ | **Large Cell Operation** (LARGE_CELL_OP)\ | | If this bit is set to one, the cell is in large cell operation mode | | (see 3GPP TS 45.002). | | | | 0 This cell is a nominal size cell\ | | 1 This cell is a large cell | +----------------------------------------------------------------------+ | **NIB_CCCH_0** (4 bit field)\ | | This field is the binary representation of the number of radio | | blocks that shall remain idle in time group 0 for blocks associated | | with CPBCCH and CPCCCH (see 3GPP TS 45.002). If this information | | element is not present the value 0 shall be used. Note that this | | information element shall not be present for the serving cell time | | group (e.g. if the serving cell time group is time group zero, this | | information element is not present, but if the serving cell time | | group is time group one this information element is present). | +----------------------------------------------------------------------+ | **NIB_CCCH_1, NIB_CCCH_2, NIB_CCCH_3** \ | | Defined exactly as NIB_CCCH_0, except applied to time group 1, 2, | | and 3 respectively. | +----------------------------------------------------------------------+ | **N_CCCH_NH** (4 bit field)\ | | This field is the binary representation of the amount of non-hopping | | blocks on control channels (see 3GPP TS 45.002).\ | | Range 1 to 11. | +----------------------------------------------------------------------+ | **Additional PSI messages struct** \ | | If any of the PSI messages named in this structure are broadcast in | | the cell, this field shall be present in at least one instance of | | PSI2 and may appear only once in a complete set of PSI2 messages. | +----------------------------------------------------------------------+ | **NON_GSM_INFORMATION** (2 bit field)\ | | This field indicates whether non-GSM information is broadcast on the | | cell and specifies the messages that are used for this purpose. If | | this field indicates that both PSI6 and PSI7 are broadcast on the | | cell, these messages shall be broadcast within different repetition | | rate groups (see 3GPP TS 45.002). | | | | Bit\ | | 2 1\ | | 0 0 non-GSM information is not broadcast on the cell\ | | 0 1 non-GSM information is broadcast on the cell in PSI6 message\ | | 1 0 non-GSM information is broadcast on the cell in PSI7 message\ | | 1 1 non-GSM information is broadcast on the cell in PSI6 and PSI7 | | messages | +----------------------------------------------------------------------+ | **PSI8_BROADCAST** (1 bit field)\ | | 0 PSI8 is not broadcast on the cell\ | | 1 PSI8 is broadcast on the cell | +----------------------------------------------------------------------+ | **PSI3ter_BROADCAST** (1 bit field)\ | | 0 PSI3ter is not broadcast on the cell\ | | 1 PSI3ter is broadcast on the cell | +----------------------------------------------------------------------+ | **PSI3quater_BROADCAST** (1 bit field)\ | | 0 PSI3quater is not broadcast on the cell\ | | 1 PSI3quaer is broadcast on the cell | +----------------------------------------------------------------------+
#### 11.2.19.1 Reference Frequency Lists in PSI2
A Reference Frequency Lists construction may be included in each instance of
the PSI2 message. The presence of reference frequency lists (RFLs) is
optional. RFLs shall be provided as required for the decoding of GPRS mobile
allocations and cell allocation.
#### 11.2.19.2 Cell Allocation in PSI2
A Cell Allocation construction shall not be included in more than one instance
of the PSI2 message within the consistent set of PSI2 messages. The presence
of a Cell Allocation construction is optional. It shall be provided as
required for the decoding of GPRS mobile allocations and for the support of
GPRS mobile stations which may access the network in dedicated, group receive
and group transmit modes, see 3GPP TS 44.018.
#### 11.2.19.3 GPRS Mobile Allocation in PSI2
A GPRS Mobile Allocations construction may be included in each instance of the
PSI2 message. The presence of GPRS mobile allocations is optional. The GPRS
mobile allocations shall be provided as required for determining the frequency
configuration of PDCHs.
#### 11.2.19.4 PCCCH Description
A PCCCH Description construction shall be included in one and only one
instance of the PSI2 message within the consistent set of PSI2 messages.
#### 11.2.19.5 Abnormal cases
If the receiver detects any violation against the rules for the appearance of
the different constructions defined for this message within the consistent set
of this message type, it may regard the contents of these messages as invalid.
### 11.2.20 Packet System Information Type 3
This message is sent by the network on the PBCCH or PACCH giving information
of the BCCH allocation (BA(GPRS)) in the neighbour cells and cell selection
parameters for serving cell and non-serving cells. This message shall not be
segmented across more than one RLC/MAC control block by using the procedures
specified in sub-clause 9.1.12a. Special requirements for the transmission of
this message apply on the PBCCH, see 3GPP TS 45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 3
Direction: network to mobile station
Classification: distribution message
Table 11.2.20.1: PSI3 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ > | | | | \ | | > | | | | \ } ** 0 > | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Release 1998 additions:_ | | | | \ > | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Release 1999 additions:_ | | | | 0 0 -- _The values \'01\', \'10\' and \'11\' were allocated in an | | earlier version of the protocol_ | | | | -- _and shall not be used._ | | | | { 0 \| 1 \ > } | | | | 0 _\-- The value \'1\' was used in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Rel-4 additions:_ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Rel-5 additions:_ | | | | \ \-- _Serving cell barring | | status._ | | | | \ } ** 0 > _\--Supplementary information for | | dual Iu mode and A/Gb mode capable cells_ | | | | \ } ** 0 > | | | | \ } } } } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | \; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | 1 _\-- The value \'0\' was used in an earlier version of the | | protocol and shall not be used._ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ | | | | \ | | | | { \ | | | | \> } * | | (val(NR_OF_REMAINING_CELLS)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 { 0 \ | | | | \| 1 \ } } ** 0 ; | +----------------------------------------------------------------------+ | \ : := | | | | \ | | | | { 1 \ } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ | | | | \ | | | | { \ | | | | \ > } * | | (val(NR_OF_REMAINING_CELLS)); | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \} ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | { **CCN_SUPPORTED** : bit } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \> } * | | (val(NR_OF_REMAINING_CELLS)); | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ | | | | \ | | | | { \ | | | | \ >} * | | (val(NR_OF_REMAINING_CELLS)); | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ >}; | +----------------------------------------------------------------------+
Table 11.2.20.2: PSI3 information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field describes which type of page mode used, i.e. either | | normal paging, extended paging, paging reorganization or same as | | before from the previous page mode. The mobile station shall ignore | | this field if the message is received on the PACCH. Coding of this | | field is defined in 3GPP TS 44.018 | +----------------------------------------------------------------------+ | **PSI3_CHANGE_MARK** (2 bit field)\ | | The PSI3 change mark field is changed each time information has been | | updated in any of the PSI3, PSI3 bis, PSI3 ter or PSI3 quater | | messages. A new value indicates that the mobile station shall | | re-read the information from the PSI3 and all PSI3 bis, PSI3 ter and | | PSI3 quater messages. The coding of this field is network | | dependent.\ | | Range: 0-3. | +----------------------------------------------------------------------+ | **PSI3_BIS_COUNT** (4 bit field)\ | | This field is coded as the binary representation of the PSI3 bis | | index (in the PSI3 bis message) for the last (highest indexed) | | individual PSI3 bis message.\ | | Range: 0-15. | +----------------------------------------------------------------------+ | _Serving Cell Parameters:_ | | | | **CELL_BAR_ACCESS_2** (1 bit field)\ | | This field combines the CELL_BAR_ACCESS and CELL_BAR_QUALIFY | | parameters and indicates the status for cell reselection, see | | 3GPP TS 45.008: | | | | 0 Status for cell reselection is set to _normal_ ;\ | | 1 Status for cell reselection is set to _barred_. | +----------------------------------------------------------------------+ | **EXC_ACC** (1 bit field)\ | | EXC_ACC is used by the network to prevent mobiles without exclusive | | access rights from camping on the cell. The usage of EXC_ ACC is | | described in 3GPP TS 43.022. The coding of EXC_ ACC is as follows: | | | | 0 The cell is not used for SoLSA exclusive access.\ | | 1 The cell is used for SoLSA exclusive access. | +----------------------------------------------------------------------+ | **GPRS_RXLEV_ACCESS_MIN** (6 bit field)\ | | The GPRS_RXLEV_ACCESS_MIN field is coded as the binary | | representation of the \'RXLEV_ACCESS_MIN\' defined in | | 3GPP TS 45.008. It is the minimum received level at the mobile | | station required for access to the system. | +----------------------------------------------------------------------+ | **GPRS_MS_TXPWR_MAX_CCH** (5 bit field)\ | | The GPRS_MS_TXPWR_MAX_CCH field is coded as the binary | | representation of the \'power control level\' in 3GPP TS 45.005 | | corresponding to the maximum TX power level a mobile station may use | | when accessing on a packet control channel. This value shall be used | | by the mobile station according to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | _HCS struct_ | | | | If the HCS struct is omitted for the serving cell, HCS is not used | | and the HCS parameters for the other cells shall be neglected i.e | | the HCS signal strength threshold shall be set to infinity for all | | cells. Otherwise PRIORITY_CLASS and HCS_THR are defined. The use | | of the HCS parameters is defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **PRIORITY_CLASS** (3 bit field)\ | | The PRIORITY_CLASS field contains the binary representation of the | | HCS priority for the cell. | | | | Bit\ | | 3 2 1\ | | 0 0 0 Lowest Priority\ | | ......\ | | 1 1 1 Highest Priority | +----------------------------------------------------------------------+ | **HCS_THR** (5 bit field)\ | | The HCS_THR is the HCS signal strength threshold | | | | Bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 -110 dBm\ | | 0 0 0 0 1 -108 dBm\ | | ... ...\ | | 1 1 1 1 0 -50 dBm\ | | 1 1 1 1 1 infinity | +----------------------------------------------------------------------+ | **MULTIBAND_REPORTING** (2 bit field)\ | | Binary encoding of multiband reporting parameter as specified in | | 3GPP TS 45.008\ | | Range 0-3. | +----------------------------------------------------------------------+ | _General Cell Selection Parameters_ | | | | **GPRS_CELL_RESELECT_HYSTERESIS** (3 bit field)\ | | The GPRS_CELL_RESELECT_HYSTERESIS field indicates the Additional | | Hysteresis which applies in Ready state in _A/Gb mode_ and | | RRC-Cell_Shared state in _Iu mode_ for cells in same RA. This field | | is encoded according to the following table: | | | | Bit\ | | 3 2 1\ | | 0 0 0 0 dB\ | | 0 0 1 2 dB\ | | 0 1 0 4 dB\ | | 0 1 1 6 dB\ | | 1 0 0 8 dB\ | | 1 0 1 10 dB\ | | 1 1 0 12 dB\ | | 1 1 1 14 dB | +----------------------------------------------------------------------+ | **C31_HYST** (1 bit field)\ | | The C31_HYST field indicates if set to 1 that the | | GPRS_CELL_RESELECT_HYSTERESIS shall be applied to the C31 | | criterion. | | | | **C32_QUAL** (1 bit field)\ | | C32_QUAL is a flag indicating an exception rule for | | GPRS_RESELECT_OFFSET according to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **T_RESEL** (3 bit field)\ | | If the mobile station has performed an abnormal release with cell | | reselection (see sub-clause 9.4.2) from this cell, the mobile | | station is not allowed to reselect this cell for T_RESEL seconds if | | another cell is available. The default value of T_RESEL is 5 s. If | | the field is omitted from the message, the default value shall be | | used by the mobile station. | | | | Bit\ | | 3 2 1\ | | 0 0 0 5 s\ | | 0 0 1 10 s\ | | 0 1 0 15 s\ | | 0 1 1 20 s\ | | 1 0 0 30 s\ | | 1 0 1 60 s\ | | 1 1 0 120 s\ | | 1 1 1 300 s | +----------------------------------------------------------------------+ | **RA_RESELECT_HYSTERESIS** (3 bit field)\ | | The RA_RESELECT_HYSTERESIS field indicates in both STANDBY and | | READY state in _A/Gb mode_ and RRC-Idle and RRC-Connected mode in | | _Iu mode_ the additional hysteresis which applies when selecting a | | cell in a new Routing Area. If this field is not present, the | | default value is GPRS_CELL_RESELECT_HYSTERESIS. This field is | | encoded according to the following table: | | | | Bit\ | | 3 2 1\ | | 0 0 0 0 dB\ | | 0 0 1 2 dB\ | | 0 1 0 4 dB\ | | 0 1 1 6 dB\ | | 1 0 0 8 dB\ | | 1 0 1 10 dB\ | | 1 1 0 12 dB\ | | 1 1 1 14 dB | +----------------------------------------------------------------------+ | _Neighbour Cell Parameters_ | | | | The Neighbour cell parameters areused to specify neighbour cells | | (BA(GPRS)) and their corresponding cell selection parameters. The | | Neighbour cell parameters are specified in PSI3 and in at least one | | instance of PSI3bis. If one instance of PSI3bis is not sufficient to | | specify the cell selection parameters of all neighbour cells, the | | remaining neighbour cells are specified in consecutive instances of | | PSI3bis. If all information fits within the PSI3 message, one | | instance of PSI3bis without any neighbour cell parameters is | | broadcast. | | | | NOTE: For efficient coding, cells with common cell selection | | parameters may be grouped together. | | | | Building of BA(GPRS) is defined in sub-clause 5.6.3.2. | +----------------------------------------------------------------------+ | **START_FREQUENCY** (10 bit field)\ | | The START_FREQUENCY defines the ARFCN for the first carrier in the | | list (ARFCN(0)). **FREQ_DIFF_LENGTH** (3 bit field)\ | | This field is required to calculate the number of bits to be used | | for the FREQUENCY_DIFF field in the current frequency group. | +----------------------------------------------------------------------+ | **FREQUENCY_DIFF** (1+val(FREQ_DIFF_LENGTH) bit field)\ | | Each FREQUENCY_DIFF parameter field specifies the difference in | | frequency to the next carrier to be defined. The FREQUENCY_DIFF | | parameter encodes a non negative integer in binary format (W). | | | | Each frequency following the start frequency (ARFCN(0)) and | | belonging to the Frequency List struct is then calculated by the | | formula ARFCN(n) = (ARFCN(n-1) + W(n) ) modulus 1024, n=1, . . ., | | val(NR_OF_REMAINING_CELLS. | +----------------------------------------------------------------------+ | **General rules for handling neighbour cell parameter default | | values** | | | | The first neighbour cell defined in PSI3 uses as its default | | parameter values the parameter values defined for the serving cell. | | If a parameter is omitted for the serving cell then the specified | | default value shall be used. The following neighbour cells use the | | parameter values of the previous neighbour cell as their default | | values. | | | | **Cell Selection params** \ | | The first field of the Cell Selection struct, _BSIC_ , defines the | | BSIC of the cell and then comes the fields CELL_BAR_ACCESS_2, | | ECX_ACC and SAME_RA_AS_SERVING_CELL. Then follows none, some, | | or all of the fields GPRS_RXLEV_ACCESS_MIN, | | GPRS_MS_TXPWR_MAX_CCH, GPRS_TEMPORARY_OFFSET, | | GPRS_PENALTY_TIME, GPRS_RESELECT_OFFSET , HCS params, | | SI13_PBCCH_LOCATION, PCCH_TYPE and PSI1_REPEAT_PERIOD. If | | fields are omitted, the values for these parameters are the same as | | for the preceding cell unless otherwise specified for the parameter. | +----------------------------------------------------------------------+ | **BSIC** (6 bit field)\ | | The BSIC field is coded as the \'Base Station Identity Code\' | | defined in 3GPP TS 23.003. One BSIC for each carrier in BA(GPRS) is | | defined. | +----------------------------------------------------------------------+ | **CELL_BAR_ACCESS_2** (1 bit field)\ | | **EXC_ACC** (1 bit field)\ | | For definition see Serving Cell parameters | +----------------------------------------------------------------------+ | **SAME_RA_AS_SERVING_CELL** (1 bit field)\ | | The same RA as serving cell field contains one bit, set to\ | | 0 if the cell is in a Routeing Area different from the serving cell, | | or\ | | 1 if the cell is in the same Routeing Area as the serving cell. | +----------------------------------------------------------------------+ | **GPRS_TEMPORARY_OFFSET** (3 bit field)\ | | The GPRS_TEMPORARY_OFFSET field indicates the negative offset to | | C32 that the mobile station shall use for duration of | | GPRS_PENALTY_TIME. It is used by the mobile station as part of its | | calculation of C32 for the cell reselection process. Default value | | is 0 dB. If the field is omitted for the first neighbour cell, the | | default value shall be used by the mobile station. | | | | Bit\ | | 3 2 1\ | | 0 0 0 0 dB\ | | 0 0 1 10 dB\ | | 0 1 0 20 dB\ | | 0 1 1 30 dB\ | | 1 0 0 40 dB\ | | 1 0 1 50 dB\ | | 1 1 0 60 dB\ | | 1 1 1 infinity | +----------------------------------------------------------------------+ | **GPRS_PENALTY_TIME** (5 bit field)\ | | The GPRS_PENALTY_TIME defines the length of time for which | | GPRS_TEMPORARY_OFFSET is active. | | | | Bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 10 s\ | | 0 0 0 0 1 20 s\ | | . . .\ | | 1 1 1 1 1 320 s | +----------------------------------------------------------------------+ | **GPRS_RESELECT_OFFSET** (5 bit field)\ | | GPRS_RESELECT_OFFSET is used by the mobile station to apply a | | positive or negative offset and a hysteresis to the GPRS cell | | reselection criterion. Default value is 0 dB. If the field is | | omitted from the message, the default value shall be used by the | | mobile station. | | | | Bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 -52 dB\ | | 0 0 0 0 1 -48 dB\ | | ...\ | | 0 1 0 1 0 -12 dB\ | | 0 1 0 1 1 -10 dB\ | | ...\ | | 1 0 1 1 0 +12 dB\ | | 1 0 1 1 1 +16 dB\ | | ...\ | | 1 1 1 1 1 +48 dB | +----------------------------------------------------------------------+ | **SI13_PBCCH_LOCATION construction** | | | | The optional SI13_PBCCH_LOCATION struct may either indicate the | | position of the SI13 message or a PBCCH position. If not included, | | SI3 and SI4 in the neighbour cell indicates if the neighbour cell | | supports GPRS. | | | | **SI13_LOCATION** (1 bit field)\ | | The SI13_LOCATION field, if present, indicates the logical channel | | where the SYSTEM INFORMATION TYPE 13 is broadcast (see | | 3GPP TS 45.002). | | | | 0 SYSTEM INFORMATION TYPE 13 message is sent on BCCH norm\ | | 1 SYSTEM INFORMATION TYPE 13 message is sent on BCCH ext | | | | **PBCCH_LOCATION** (2 bit field)\ | | The PBCCH_LOCATION field, if present, indicates the location of the | | PBCCH on the BCCH carrier (see 3GPP TS 45.002). If the PBCCH | | location for a neighbour cell is given using this field, the TSC | | shall equal the BCC determined by the BSIC of that cell. | | | | bit\ | | 2 1\ | | 0 0 PBCCH on TN 1 of BCCH carrier\ | | 0 1 PBCCH on TN 2 of BCCH carrier\ | | 1 0 PBCCH on TN 3 of BCCH carrier\ | | 1 1 PBCCH on TN 4 of BCCH carrier | +----------------------------------------------------------------------+ | **PSI1_REPEAT_PERIOD** (4 bit field)\ | | The PSI1_REPEAT_PERIOD field indicates the PSI repeat period. The | | field is coded according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 PSI1 repeat period = 1\ | | 0 0 0 1 PSI1 repeat period = 2\ | | ...\ | | 1 1 1 1 PSI1 repeat period = 16 | +----------------------------------------------------------------------+ | **LSA Parameters** **IE\ | |** The LSA Parameters IE contains a list of LSA_ID(s) corresponding | | to the entries in the Neighbour Cell Parameters. Some entries in LSA | | parameters may be empty. The entries in the LSA Parameters IE are | | listed in the same order as in the Neighbour Cell Parameters and the | | number of entries (nr_of_frequencies_or_cells) should be the | | same. In case there are too few entries in the LSA Parameters IE, | | empty entries shall be added at the end. In case there are too many | | entries in the LSA parameters, the last shall be discarded. The | | \'LSA parameters IE\' is defined in sub-clause 12.28. | | | | **LSA_ID** (24 bit field)\ | | The purpose of the LSA_ID field is to identify a LSA. The LSA ID | | value field is coded as specified in 3GPP TS 23.003. | | | | **Short LSA_ID** (10 bit field)\ | | The purpose of the Short LSA_ID field is to identify a LSA. The LSA | | ID defined by the Short LSA_ID is a LSA_ID as specified in | | 3GPP TS 23.003 with bit 0 set to \"0\" bit 1 to 10 set to the value | | of the Short LSA_ID field (LSB in bit 1, MSB in bit 10) and bit 11 | | to 23 set to \"0\". | +----------------------------------------------------------------------+ | **TIME_GROUP** (2 bit field)\ | | The TIME_GROUP defines which time group (see 3GPP TS 45.002) the | | cell belongs to | | | | bit\ | | 2 1\ | | 0 0 Time Group 0\ | | 0 1 Time Group 1\ | | 1 0 Time Group 2\ | | 1 1 Time Group 3 | +----------------------------------------------------------------------+ | **GUAR_CONSTANT_PWR_BLKS** (2 bit field)\ | | This field indicates the guaranteed number of constant power blocks | | in the neighbour cell. These are the blocks that the MS can use to | | perform neighbour cell measurements (see 3GPP TS 45.008). Note that | | there may be more CPBCCH blocks or allowed paging blocks in the | | neighbour cell than what is indicated in this field, but never less. | | | | bit\ | | 2 1 Blocks at constant power\ | | 0 0 4\ | | 0 1 5\ | | 1 0 6\ | | 1 1 12 (i.e. BS_PAG_BLKS_RES = 0 in that cell) | +----------------------------------------------------------------------+ | **Cell Identification** \ | | This information element is defined in sub-clause 12.23. | +----------------------------------------------------------------------+ | **_CCN Support Description_** \ | | \ | | **CCN_SUPPORTED** (1 bit field)\ | | This parameter is used for determining whether the mobile station | | shall enter CCN mode when re-selecting a cell and CCN is enabled. | | The use of these bits is described in sub-clause 8.8.2a (\"CCN | | support description\"): | | | | Bit\ | | **0** CCN is enabled towards the corresponding cell\ | | **1** CCN is disabled towards the corresponding cell | +----------------------------------------------------------------------+ | **CELL BAR QUALIFY 3** **(2 bit field)** | | | | This information element is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | _Iu mode Neighbour Cell Parameters_ | | | | The _Iu mode Neighbour Cell Parameters_ are used to specify _Iu | | mode_ (and _A/Gb mode_) capable neighbouring cells (BA(GPRS)) and | | their corresponding cell selection parameters. The _Iu mode | | Neighbour Cell Parameters_ are specified in PSI3 and in at least one | | instance of PSI3bis. If one instance of PSI3bis is not sufficient to | | specify the cell selection parameters of all _Iu mode_ capable | | neighbouring cells, the remaining _Iu mode_ capable neighbouring | | cells are specified in consecutive instances of PSI3bis. If all | | information fits within the PSI3 message, one instance of PSI3bis | | without any _Iu mode Neighbour Cell Parameters_ is broadcast. | | | | NOTE: For efficient coding, cells with common cell selection | | parameters may be grouped together. | | | | Building of BA(GPRS) is defined in sub-clause 5.6.3.2. | +----------------------------------------------------------------------+ | _Iu mode Only Neighbour Cell Parameters_ | | | | The _Iu mode Only Neighbour Cell Parameters_ are used to specify _Iu | | mode_ only capable neighbouring cells and their corresponding cell | | selection parameters. The _Iu mode Only Neighbour Cell Parameters_ | | are specified in PSI3 and in at least one instance of PSI3bis. If | | one instance of PSI3bis is not sufficient to specify the cell | | selection parameters of all _Iu mode_ only capable neighbouring | | cells, the remaining _Iu mode_ only capable neighbouring cells are | | specified in consecutive instances of PSI3bis. If all information | | fits within the PSI3 message, one instance of PSI3bis without any | | _Iu mode Only Neighbour Cell Parameters_ is broadcast. | +----------------------------------------------------------------------+ | _Iu mode Neighbour Cell params struct_ | | | | **This struct presents supplementary information for _Iu mode_ | | capable cells.** The struct may be included in this message and | | assigns _Iu mode_ parameter values to the neighbouring cells defined | | by the message. _Iu mode_ capable neighbouring cells are defined by | | the _Neighbour Cell Parameter IE._ The _Iu mode Neighbour Cell | | params struct_ values are assigned to the neighbouring cells in the | | same order they appear in the PSI3 and PSI3bis messages. | +----------------------------------------------------------------------+
### 11.2.21 Packet System Information Type 3 bis
This message is sent by the network on the PBCCH and PACCH giving information
of the BCCH allocation in the neighbour cells and cell selection parameters
for non-serving cells. This message shall not be segmented across more than
one RLC/MAC control block by using the procedures specified in sub-clause
9.1.12a. If not all information fits into one instance of the PSI3bis message,
the PSI3bis message can be repeated. Special requirements for the transmission
of this message apply on PBCCH, see 3GPP TS 45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 3 BIS
Direction: network to mobile station
Classification: distribution message
Table 11.2.21.1: PSI3 bis information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { \ } ** 0 > | | | | \ } ** 0 > | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Release 1998 additions:_ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Release 1999 additions:_ | | | | \ } ** 0 > | | | | 0 _\-- The value \'1\' was used in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Rel-4 additions:_ | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Rel-5 additions:_ | | | | \ } ** 0 > _\--Supplementary information for | | dual Iu mode and A/Gb mode capable cells_ | | | | \ } ** 0 > | | | | \ } } } } } // -- _truncation at end of message | | allowed, bits \'0\' assumed_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ | | | | \ | | | | { \ | | | | \ > } * | | (val(NR_OF_REMAINING_CELLS)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 00 -- _Message escape_ | | | | { 1 \ | | | | \ } ** 0 _\--Up to four | | pointers to the \'Neigbour parameter set_ | | | | \ > * (1 + max(val(CELL_PARAMS_POINTER))) | | | | ! \> | | } ; -- _Reserved for future use_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ \-- _Multiple START | | FREQ/FREQ DIFF sets may be defined_ | | | | \ | | | | { \ | | | | \ | | | | { \ | | | | \ } * (val(NR_OF_REMAINING_CELLS)) | | | | \ \-- _Repeated recursively_ | | | | \| 0000 } -- _Break recursion (NR_OF_REMAINING_CELLS == 0)_ | | | | \| 0 } ; -- _End recursion (no more START_FREQUENCY)_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::=_._ | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \} | | | | { 0 \| 1 \ > } | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 00 -- _Message escape_ | | | | { 1 \ | | | | \ } ** 0 -- _Up to four | | pointers to the \'C Neighbour parameter set\'_ | | | | \ > * (1+ | | max(val(CELL_PARAMS_POINTER))) | | | | ! \> | | } ; -- _Reserved for future use_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ \-- _Multiple START | | FREQ/FREQ DIFF sets may be defined_ | | | | \ | | | | { \ | | | | \ | | | | { \ | | | | \ } * | | (val(NR_OF_REMAINING_CELLS)) | | | | \ \-- _Repeated recursively_ | | | | \| 0000 } -- _Break recursion (NR_OF_REMAINING_CELLS == 0)_ | | | | \| 0 } ; -- _End recursion (no more START_FREQUENCY)_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ }; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | **\ ** | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | { **CCN_SUPPORTED** : bit } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \> } * (val(NR_OF_REMAINING_CELLS)); | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ | | | | \ | | | | { \ | | | | \ > } * | | (val(NR_OF_REMAINING_CELLS)); | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ >}; | +----------------------------------------------------------------------+
Table 11.2.21.2: PSI3 bis information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | See description under PSI3. | | | | **PSI3_CHANGE_MARK** (2 bit field)\ | | See description under PSI3. | | | | **PSI3_BIS_INDEX** (4 bit field)\ | | The PSI3_BIS_INDEX field is used to distinguish individual PSI3 | | bis messages containing information about different neighbour cells. | | The field can take the binary representation of the values 0 to n, | | where n is the index of the last PSI3 bis message. (PSI3 bis count). | | | | **PSI3_BIS_COUNT** (4 bit field) | | | | See description under PSI3. | +----------------------------------------------------------------------+ | **General rules for handling neighbour cell parameter default | | values** | | | | The first neighbour cell defined in the first PSI3bis instance uses | | as its default parameter values the parameter values defined for the | | last neighbour cell in PSI3.\ | | The following neighbour cells in PSI3bis use the parameter values of | | the previous neighbour cell as their default values. | | | | This principle of referring to the previous cell applies | | independently of the coding used in PSI3bis (Neighbour cell | | parameters, Neighbour cell parameters 2 and COMPACT Neighbour Cell | | Parameters). | | | | This principle also applies when going from PSI3bis instance i over | | to PSI3bis instance i+1. | +----------------------------------------------------------------------+ | **_Neighbour cell params struct_** \ | | The coding of the Neighbour cell parameters is described under PSI3. | | | | **_Neighbour cell params 2 struct_** \ | | This coding may be used if the number of neighbour cells is high and | | many cells share common parameter values. The structure contains | | pointers to the list of sets of actual parameters. The coding of | | actual parameters that are contained in or referenced by the | | Neighbour Cell params 2 struct is described in PSI3. | +----------------------------------------------------------------------+ | **_COMPACT Neighbour Cell params struct_** \ | | The coding of the Neighbour cell parameters is the same as the | | coding of the Neighbour cell params struct 2, except the two | | additional parameters, TIME_GROUP and GUAR_CONSTANT_PWR_BLKS. | | The coding of actual parameters that are contained in or referenced | | by the COMPACT Neighbour Cell params struct is described in PSI3. | | | | The following parameters (CELL_PARAMS_POINTER, BCC and NCC) are | | not defined in PSI3: | | | | **CELL_PARAMS_POINTER** (2 bit field)\ | | Pointer to the parameter set valid for a certain cell group (up to | | four). | | | | **BCC** (3 bit field)\ | | BTS Colour Code. | +----------------------------------------------------------------------+ | **_Neighbour parameter set struct and COMPACT Neighbour parameter | | set struct_ _\ | |_ The actual parameter values for the Neighbour Cell params 2 struct | | and the COMPACT Neighbour Cell params struct are given is these | | structures. Default values for absent parameters are defined | | according to the general rule given above, except: | | | | **NCC**: bit (3). Network Colour Code. The default value is given | | by the serving cell. | | | |** LSA Parameters IE\ | | **The LSA Parameters IE is described under PSI3 and in sub-clause | | 12.28. | +----------------------------------------------------------------------+ |**_CCN Support Description_**| | | |** CCN_SUPPORTED**(1 bit field)\ | | This parameter is used for determining whether the mobile station | | shall enter CCN mode when re-selecting a cell and CCN is enabled. | | The use of these bits is described in sub-clause 8.8.2a:\ | | Bit\ | |** 0**CCN is enabled towards the corresponding cell\ | |** 1**CCN is disabled towards the corresponding cell | +----------------------------------------------------------------------+ |** CELL BAR QUALIFY 3****(2 bit field)**| | | | This information element is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ |_Iu mode Neighbour Cell params struct_ | | | | **This struct presents supplementary information for _Iu mode_ | | capable cells.__The struct may be included in this message and | | assigns_ Iu mode_ parameter values to the neighbouring cells defined | | by the message. _Iu mode_ capable neighbouring cells may be defined | | by the _Neighbour Cell parameters_ and the _Neighbour Cell | | parameters 2_ IEs _._ The _Iu mode Neighbour Cell params struct_ | | values are assigned to the neighbouring cells in the same order they | | appear in the PSI3 and PSI3bis messages. | +----------------------------------------------------------------------+
### 11.2.21a Packet System Information Type 3 ter
This message is sent by the network on the PBCCH or PACCH giving information
on additional measurement and reporting parameters. This message shall not be
segmented across more than one RLC/MAC control block by using the procedures
specified in sub-clause 9.1.12a. If not all information fits into one instance
of the PSI3ter message, the PSI3ter message can be repeated. Special
requirements for the transmission of this message apply on PBCCH, see 3GPP TS
45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 3 TER
Direction: network to mobile station
Classification: distribution message
Table 11.2.21a.1: PSI3 ter information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | \ } // -- _truncation at end of message allowed, | | bits \'0\' assumed_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 { 0 \| 1 \ } -- | | _default value=0_ | | | | \> | | | | { 0 \> } **1 } -- _\'0\' : | | increment by 1 the index of the GSM Neighbour Cell list_ | | | | { 0 \| 1 { 0 \| 1 \ } -- | | _default value=0_ | | | | \> | | | | { 0 \> } **1 }; -- _\'0\' : | | increment by 1 the index of the GSM Neighbour Cell list_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } ; _\--\'0\' means no RTD for this | | cell_ | | | | \ ::= | | | | { 0 \| 1 \ } ; -- _\'0\' means no RTD for | | this cell_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+
Table 11.2.21a.2: PSI3 ter information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | See description under PSI3. | | | | **PSI3_CHANGE_MARK** (2 bit field)\ | | See description under PSI3. | | | | **PSI3_TER_INDEX** (4 bit field)\ | | The PSI3_TER_INDEX field is used to distinguish individual PSI3 | | bis messages containing information about different neighbour cells. | | The field can take the binary representation of the values 0 to n, | | where n is the index of the last PSI3 ter message. (PSI3 ter count). | +----------------------------------------------------------------------+ | **PSI3_TER_COUNT** (4 bit field)\ | | This field is coded as the binary representation of the PSI3 ter | | index (in the PSI3 ter message) for the last (highest indexed) | | individual PSI3 ter message.\ | | Range: 0-15. | +----------------------------------------------------------------------+ | **_Real Time Difference Description_** | | | | **Cell_Index_Start_RTD** (7 bit field)\ | | This field indicates the GSM Neighbour Cell list index for the first | | RTD parameter. When missing, the value \'0\' is assumed. | | | | **RTD** (6 or 12 bit field) is defined in 3GPP TS 45.008.\ | | The use of these parameters is defined in sub-clause 5.6.3.4. | +----------------------------------------------------------------------+ | **_GPRS REP PRIORITY Description_** | | | | **REP_PRIORITY** bit:**\ | |** 0 Normal reporting priority\ | | 1 High reporting priority | | | | The use of these bits is defined in sub-clause 5.6.3.5. | +----------------------------------------------------------------------+
#### 11.2.21a.1 GPRS REP PRIORITY description
A GPRS REP PRIORITY description construction shall be included in one and only
one instance of the PACKET SYSTEM INFORMATION TYPE 3 TER message within the
consistent set of PACKET SYSTEM INFORMATION TYPE 3 TER messages.
### 11.2.21b Packet System Information Type 3 quater
This message is sent by the network on the PBCCH or PACCH giving information
on 3G Neighbour Cells and additional measurement and reporting parameters.
This message shall not be segmented across more than one RLC/MAC control block
by using the procedures specified in sub-clause 9.1.12a. If not all
information fits into one instance of the PSI3quater message, the PSI3quater
message can be repeated. Special requirements for the transmission of this
message apply on PBCCH, see 3GPP TS 45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 3 QUATER
Direction: network to mobile station
Classification: distribution message
Table 11.2.21b.1: PSI3 quater information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { { 0 \| 1 \> }\ | | { 0 \| 1 \> }\ | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Release 5:_ | | | | { 0 \| 1 \> | | } | | | | { 0 \| 1 \> } | | | | { null \| 0 bit** = \ \--_Receiver compatible with | | earlier release_ | | | | \| 1 --_Additions in Release 6:_ | | | | \ | | | | \ } } } // -- _truncation at end of message | | allowed, bits \'0\' assumed_ ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \> }\ | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::=\ | | 0 \ \-- _The value '1' was used in an | | earlier_ | | | | -- _version of the protocol and shall not be used.\ | | * \ \ | | \\ | | \ | | ; | | | | -- _p(x) defined in table 11.2.9b.2.a/3GPP TS 44.060 _| +----------------------------------------------------------------------+ | \  ::=\ | | { 0 \| 1 \ }\ | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::=\ | | 0 \ \-- _The value '1' was used in an | | earlier _| | | | --_ version of the protocol and shall not be used._\ | | \ \ | | \\ | | \ | | ; | | | | -- _q(x) defined in table 11.2.9b.2.b/3GPP TS 44.060 _| +----------------------------------------------------------------------+ | \  ::= | | | | \ | | | | { 1 ! \> } -- this bit shall be | | ignored by the receiver | | | | -- for backward compatibility with earlier releases\ | | { 0 \| 1 \ \-- _FDD | | information _\ | | \  } | | | | { 0 \| 1 \ } ; -- _TDD | | information _| +----------------------------------------------------------------------+ | \  ::= | | | | \ | | | | \\ | | \\ | | { 0 \| 1 \ \-- _FDD information _\ | | \ \ | | \ }\ | | { 0 \| 1 \ \-- _TDD information _\ | | \  } ; | +----------------------------------------------------------------------+ | \ | | ::= | | | | \ \-- _FDD information _| | | | \  ; | +----------------------------------------------------------------------+ | \ | | ::= | | | | { 0 \| 1 \ } ; -- | | _FDD information* | +----------------------------------------------------------------------+
Table 11.2.21b.2: PSI3 quater information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | See description under PSI3. | +----------------------------------------------------------------------+ | **PSI3_CHANGE_MARK** (2 bit field)\ | | See description under PSI3. | +----------------------------------------------------------------------+ | **PSI3_QUATER_INDEX** (4 bit field)\ | | The PSI3_QUATER_INDEX field is used to distinguish individual PSI3 | | quater messages containing information about different neighbour | | cells. The field can take the binary representation of the values 0 | | to n, where n is the index of the last PSI3 quater message. (PSI3 | | quater count). | +----------------------------------------------------------------------+ | **PSI3_QUATER_COUNT** (4 bit field)\ | | This field is coded as the binary representation of the PSI3 quater | | index (in the PSI3 quater message) for the last (highest indexed) | | individual PSI3 quater message.\ | | Range: 0-15. | +----------------------------------------------------------------------+ | **_GPRS REP PRIORITY Description_** | | | | **REP_PRIORITY** bit:**\ | |** 0 Normal reporting priority\ | | 1 High reporting priority | | | | The use of these bits is defined in sub-clause 5.6.3.5 (\"GPRS | | Report Priority Description\"). | +----------------------------------------------------------------------+ | **_3G Neighbour Cell Description_** | | | | The building of the 3G Neighbour Cell list and the ordering of | | indices within each Radio Access Technology is described in | | sub-clause 5.6.3.1. | | | | **Index_Start_3G** (7 bit) | | | | This optional information element indicates the value of the first | | index to use to build this instance of the 3G Neighbour Cell list. | | When missing, the value 0 is assumed. See sub-clause 5.6.3.1. | | | | **Absolute_Index_Start_EMR** (7 bit) | | | | This parameter indicates the value to be added to the indexes of the | | 3G Neighbour Cell list for reporting 3G Cells with the | | PACKET ENHANCED MEASUREMENT REPORT message (see sub-clause 5.6.3.3). | | If different values are received for this parameter in different | | instances of this message, the instance with the highest index shall | | be used. If this parameter is absent in all instances of the | | message, the value \"0\" shall be used. | | | | NOTE: This parameter is not used for reporting 3G Cells with the | | PACKET MEASUREMENT REPORT message, see sub-clause 11.2.9. | | | | **UTRAN FDD Description:\ | |** For detailed element definitions see the Packet Measurement Order | | message with the following exception for the FDD_CELL_INFORMATION | | Field: | | | | **FDD_CELL_INFORMATION Field**(p bit field)\ | | \ | | If parameter _n_ in table 11.2.9b.2.a is equal to 31, this indicates | | that the corresponding UARFCN shall be included in the GPRS 3G Cell | | Reselection list (see sub-clause 5.6.3.7); no index shall be | | allocated in the 3G Neighbour Cell list. | | | | **UTRAN TDD Description:\ | |** For detailed element definitions see the Packet Measurement Order | | message with the following exception for the TDD_CELL_INFORMATION | | Field:\ | | \ | | **TDD_CELL_INFORMATION Field**(q bit field)\ | | \ | | If parameter _m_ in table 11.2.9b.2.b is equal to 31, this indicates | | that the corresponding UARFCN shall be included in the GPRS 3G Cell | | Reselection list (see sub-clause 5.6.3.7); no index shall be | | allocated in the 3G Neighbour Cell list. | +----------------------------------------------------------------------+ | **_3G MEASUREMENT PARAMETERS Description\ | |_** The fields of this Description are used for measurements as | | defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **_3G Initial Dedicated Mode Reporting Description_** | | | | These parameters shall only be used in initial 3G neighbour cell | | reporting in dedicated mode. | | | | **3G_BA_IND (1 bit field)** | | | | The 3G_BA_IND is needed to identify set of 3G Neighbour Cell | | information used for reporting in dedicated mode. The value received | | is reflected in the MEASUREMENT REPORT and ENHANCED MEASUREMENT | | REPORT messages, see 3GPP TS 44.018 \'Parameters for Measurements | | and Reporting\'. | | | | The other fields of this Description are used for measurements as | | defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **_GPRS 3G Additional Measurement Parameters Description\ | |_** The fields of this Description are used for measurements as | | defined in 3GPP TS 45.008.\ | | If the _GPRS 3G Additional MeasurementParameters Description_ is | | included in more than one instance of the PSI3quater message, _the | | GPRS 3G Additional MeasurementParameters Description_ of the | | instance with the highest PSI3quater_INDEX shall be used. | +----------------------------------------------------------------------+ | **3G_CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards 3G neighbouring | | cells. It is coded as follows: | | | | 0 CCN towards 3G cells is disabled in the cell.\ | | 1 CCN towards 3G cells is enabled in the cell. | +----------------------------------------------------------------------+ | **_GPRS 3G Additional Measurement Parameters Description 2\ | |_** The fields of this Description are used for measurements as | | defined in 3GPP TS 45.008.\ | | If the _GPRS 3G Additional Measurement Parameters Description_ 2 is | | included in more than one instance of the PSI3quater message, _the | | GPRS 3G Additional Measurement Parameters Description 2_ of the | | instance with the highest PSI3quater_INDEX shall be used. | +----------------------------------------------------------------------+
#### 11.2.21b.1 GPRS REP PRIORITY description
A GPRS REP PRIORITY description construction shall be included in one and only
one instance of the PACKET SYSTEM INFORMATION TYPE 3 QUATER message within the
consistent set of PACKET SYSTEM INFORMATION TYPE 3 QUATER messages.
### 11.2.22 (void)
### 11.2.23 Packet System Information Type 5
This optional message is sent by the network on the PBCCH giving information
for measurement reporting and network controlled cell reselection. This
message shall not be segmented across more than one RLC/MAC control block by
using the procedures specified in sub-clause 9.1.12a. If not all information
fits into one message, the remaining information will be sent in other
instances of the PSI5 message. The message is sent on PBCCH only if so
indicated in PSI1.
Message type: PACKET SYSTEM INFORMATION TYPE 5
Direction: network to mobile station
Classification: distribution message
Table 11.2.23.1: PSI5 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier release_ | | | | \| 1 -- _Additional contents for R99_ \ | | { 0 \| 1 \> }\ | | { null \| 0 bit** = \ _\-- Receiver compatible with | | earlier release_ | | | | \| 1 _\-- Additions in Rel-5:_ | | | | { 0 \| 1 \> }\ | | { null \| 0 bit ** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-7 :_ | | | | { 0 \| 1 \\ | | \ }\ | | { 0 \| 1 \\ | | \ }\ | | \ } } } } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \\ | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ }\ | | { 0 \| 1 \ }\ | | { 0 \| 1 \ } | | | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ \-- _FDD Parameters_ \ | | \ }\ | | { 0 \| 1 \\ | | \ } | | | | { 0 \| 1 \ } -- _TDD | | Parameters_ \ | | { 0 \| 1 \\ | | \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } ; -- | | _FDD Parameters_ | +----------------------------------------------------------------------+
Table 11.2.23.2: PSI5 information element details
+----------------------------------------------------------------------+ | The optional PSI5 message contains broadcast measurement parameters | | for Network Control (NC) measurements containing the NC Measurement | | Parameters. The NC Measurement parameters struct shall only exist in | | one instance of the PSI5 message. If the NC Measurement parameters | | struct is included in more than one instance, the value of the | | struct in the instance with the highest index shall be valid and all | | others shall be ignored. | +----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PSI5_CHANGE_MARK** (2 bit field)\ | | The PSI5_CHANGE_MARK field is changed each time information has | | been updated in any of the individual instances of the PSI5 message. | | A new value indicates that the mobile station shall re-read the | | information from all PSI5 messages. Range: 0 to 3. The coding of | | this field is network dependent. | | | | **PSI5_INDEX** (3 bit field) and **PSI5_COUNT** (3 bit field)\ | | The purpose of the PSI5_INDEX field and the PSI5_COUNT field is to | | indicate the number of individual messages within the sequence of | | PSI5 messages and to assign an index to identify each one of them. | | The PSI5_INDEX field is binary coded, range: 0 to 7, and provides | | an index to identify the individual PSI5 message. The PSI5_COUNT | | field is binary coded, range: 0 to 7, and provides the PSI5_INDEX | | value for the last (highest indexed) message in the sequence of PSI5 | | messages. | +----------------------------------------------------------------------+ | **NETWORK_CONTROL_ORDER** (2 bit field)\ | | The NETWORK_CONTROL_ORDER field is coded according to the | | following table (for definition of NCx see 3GPP TS 45.008): | | | | bit\ | | 2 1\ | | 0 0 NC0\ | | 0 1 NC1\ | | 1 0 NC2\ | | 1 1 Reserved | | | | If the NETWORK_CONTROL_ORDER parameter = NC0, then the other | | parameters in the NC Measurement parameters struct may be omitted. | | If the NETWORK_CONTROL_ORDER parameter indicates NC1 or NC2 and | | the other parameters are omitted, the default value for these | | parameters shall be assumed. | +----------------------------------------------------------------------+ | **NC_NON_DRX_PERIOD** (3 bit field)\ | | This field indicates the minimum time the mobile station shall stay | | in non-DRX mode after an NC-measurement report has been sent. The | | field is coded according to the following table: | | | | bit\ | | 3 2 1\ | | 0 0 0 No non-DRX mode after a measurement report has been sent.\ | | 0 0 1 0,24 s\ | | 0 1 0 0,48 s _(default value)_ \ | | 0 1 1 0,72 s\ | | 1 0 0 0,96 s\ | | 1 0 1 1,20 s\ | | 1 1 0 1,44 s\ | | 1 1 1 1,92 s | +----------------------------------------------------------------------+ | **NC_REPORTING_PERIOD_I** (3 bit field)\ | | **NC_REPORTING_PERIOD_T** (3 bit field)\ | | These fields indicate the time period for cell reselection | | measurement reporting for packet idle mode (I) and packet transfer | | mode (T), respectively. The field is coded according to the | | following table: | | | | bit\ | | 3 2 1\ | | 0 0 0 0,48 s\ | | 0 0 1 0,96 s\ | | 0 1 0 1,92 s\ | | 0 1 1 3,84 s _(default value for NC_REPORTING_PERIOD_T)_ \ | | 1 0 0 7,68 s\ | | 1 0 1 15,36 s\ | | 1 1 0 30,72 s\ | | 1 1 1 61,44 s _(default value for NC_REPORTING_PERIOD_I)_ | +----------------------------------------------------------------------+ | **NCC_PERMITTED** (8 bit field)\ | | This field is a bitmap of NCCs for which the mobile station is | | permitted to report measurement; this bitmap relates to NCC part of | | BSIC (see coding field in 3GPP TS 44.018). | +----------------------------------------------------------------------+ | **_ENH Reporting Parameters (Enhanced Measurement reporting | | parameters)_** | | | | **Report_Type** (1bit)\ | | This parameter is used to indicate to the mobile station to use the | | PACKET ENHANCED MEASUREMENT REPORT message or the | | PACKET MEASUREMENT REPORT message for (NC) reporting: | | | | Bit\ | | 0 The MS shall use the PACKET ENHANCED MEASUREMENT REPORT message | | for (NC) reporting\ | | 1 The MS shall use the PACKET MEASUREMENT REPORT message for (NC) | | reporting. | +----------------------------------------------------------------------+ | **REPORTING_RATE** (1 bit)\ | | This parameter is used for measurements, see 3GPP TS 45.008. | | | | **Bit\ | |** 0 normal rate reporting\ | | 1 Reduced reporting rate allowed. | +----------------------------------------------------------------------+ | **INVALID_BSIC_REPORTING** (1 bit)\ | | This field specifies if cells with invalid BSIC and allowed NCC part | | of BSIC are allowed to be reported or not, see 3GPP TS 45.008. | | | | Bit\ | | 0 Report on cells with invalid BSIC and allowed NCC part of BSIC is | | not allowed.\ | | 1 Report on cells with invalid BSIC and allowed NCC part of BSIC is | | allowed. In this case NCC_PERMITTED is required. | +----------------------------------------------------------------------+ | **_GPRS MEASUREMENT PARAMETERS Description\ | |_** The fields of this Description are used for measurements as | | defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **_GPRS 3G MEASUREMENT PARAMETERS Description\ | |_** The fields of this Description are used for measurements as | | defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **_GPRS 3G Additional Measurement Parameters 2 Description\ | |_** The fields of this Description are used for measurements, as | | defined in 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **700_REPORTING_OFFSET** (3 bit field)\ | | **700_REPORTING_THRESHOLD** (3 bit field)**\ | |** These fields are used for measurements, as defined in | | 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **810_REPORTING_OFFSET** (3 bit field)\ | | **810_REPORTING_THRESHOLD** (3 bit field)**\ | |** These fields are used for measurements, as defined in | | 3GPP TS 45.008. | +----------------------------------------------------------------------+
### 11.2.23a Packet System Information Type 6
This optional message is sent by the network on the PBCCH or PACCH to provide
broadcast information required by non-GSM networks. This message shall not be
segmented across more than one RLC/MAC control block by using the procedures
specified in sub-clause 9.1.12a. If not all information fits into one instance
of the PSI6 message, the PSI6 message can be repeated.. Special requirements
for the transmission of this message apply on PBCCH, see 3GPP TS 45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 6
Direction: network to mobile station
Classification: distribution message
Table 11.2.23a.1: PSI6 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { { \ > ** | | | | -- _The Non-GSM Message struct is repeated until:_ | | | | { \ * 3 00000 } -- _A) | | val(NR_OF_CONTAINER_OCTETS) = 0_ , or | | | | \ } // _\-- B) the PSI message is fully used_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { \ } * (val(NR_OF_CONTAINER_OCTETS)) | | ; | +----------------------------------------------------------------------+
Table 11.2.23a.2: PSI6 information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PSI6_CHANGE_MARK** (2 bit field) | | | | The PSI6 change mark field is changed each time information has been | | updated in any of the PSI6 messages. A new value indicates that the | | mobile station shall re-read the information from the PSI6 message. | | The coding of this field is network dependent. | | | | Range: 0-3. | +----------------------------------------------------------------------+ | **PSI6_INDEX** (3 bit field) and **PSI6_COUNT** (3 bit field)\ | | The purpose of the PSI6_INDEX field and the PSI6_COUNT field is to | | indicate the number of individual messages within the sequence of | | PSI6 messages and to assign an index to identify each one of them. | | The PSI6_INDEX field is binary coded, range: 0 to 7, and provides | | an index to identify the individual PSI6 message. The PSI6_COUNT | | field is binary coded, range: 0 to 7, and provides the PSI6_INDEX | | value for the last (highest indexed) message in the sequence of PSI6 | | messages. | +----------------------------------------------------------------------+ | **NonGSM Protocol Discriminator** (3 bit field)**\ | |** This information element is used to identify the non-GSM network | | for which a PSI6 message is transmitted and is coded as shown below. | | | | Bit\ | | 3 2 1 | | | | 0 0 1 TIA/EIA-136 | | | | All other values are reserved | +----------------------------------------------------------------------+ | **NR_OF_CONTAINER_OCTETS (5 bit field)\ | |** This field indicates the number of CONTAINER octets that forms a | | specific non-GSM message and is coded as shown below. | | | | Bit | | | | 5 4 3 2 1 | | | | 0 0 0 0 1 **CONTAINER** length is 1 octet | | | | 0 0 0 1 0 **CONTAINER** length is 2 octets | | | | .... through ... | | | | 1 0 0 1 1 **CONTAINER** length is 19 octets | | | | 1 1 1 1 1 The remaining portion of the PSI message is used by the | | associated **CONTAINER**. The Non-GSM message continues in a | | subsequent instance of the PSI message, in the next **CONTAINER** | | with the same **Non-GSM Protocol Discriminator** value as the | | current one. | | | | All other values are reserved. | +----------------------------------------------------------------------+ | **CONTAINER** (8 bits) | | | | The concatenation of one or several CONTAINER octets forms the | | actual contents, specific to the non-GSM network soliciting the | | transmission of a PSI6 message. | +----------------------------------------------------------------------+
### 11.2.23b Packet System Information Type 7
This optional message is sent by the network on the PBCCH or PACCH to provide
broadcast information required by non-GSM networks. This message shall not be
segmented across more than one RLC/MAC control block by using the procedures
specified in sub-clause 9.1.12a. If not all information fits into one instance
of the PSI7 message, the PSI7 message can be repeated.. Special requirements
for the transmission of this message apply on PBCCH, see 3GPP TS 45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 7
Direction: network to mobile station
Classification: distribution message
The PSI7 information elements are equal to the PSI6 elements defined in sub-
clause 11.2.23a.
### 11.2.24 Packet System Information Type 8
This message is optionally sent by the network on the PBCCH and PACCH giving
information about Cell Broadcast Channel configuration and Dynamic ARFCN
Mapping. This message shall not be segmented across more than one RLC/MAC
control block by using the procedures specified in sub-clause 9.1.12a. Special
requirements for the transmission of this message apply on PBCCH, see 3GPP TS
45.002.
Message type: PACKET SYSTEM INFORMATION TYPE 8
Direction: network to mobile station
Classification: distribution message
Table 11.2.24.1: PSI8 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { null \| 0 bit** = \ | | | | \| 1 -- _Release 4 additions:_ | | | | { 0 \| 1 \ > } | | | | \ } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 1 \ } ** 0 ; | +----------------------------------------------------------------------+ | \::= | | | | \ | | | | \ \- - Dynamic ARFCN mapping | | parameters | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.24.2: PSI8 information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | | | | **PSI8_INDEX** (3 bit field) and **PSI8_COUNT** (3 bit field)\ | | These fields are the binary representation of the PSI _index_ and | | PSI _count_ parameters associated with the PSI8 messages. | | | | **PSI8_CHANGE_MARK** (2 bit field)\ | | The PSI8 change mark field is changed each time information has been | | updated in the PSI8 message. A new value indicates that the mobile | | station shall re-read the information from the PSI8 message. The | | coding of this field is network dependent. Range: 0-3. | +----------------------------------------------------------------------+ | **CBCH Channel Description struct\ | |** The CBCH Channel Description provides the description for the | | CBCH. If the CBCH Channel Description is not available (either as it | | is not included in any instance of PSI8 or as no PSI8 is broadcast | | at all), the mobile station can assume that SMSCB is not active in | | the cell. If available, the CBCH Channel Description construction | | shall be included in one and only one instance of the PSI8 message | | within the consistent set of PSI8 messages | | | | **Channel type and TDMA offset** (5 bit field)\ | | For encoding and description see 3GPP TS 44.018 . | | | | **TN,** Timeslot number(3 bit field)\ | | The TN field is coded as the binary representation of the timeslot | | number as defined in 3GPP TS 45.002. | | | | **Frequency Parameters** \ | | This information element is defined in sub-clause 12.8. | +----------------------------------------------------------------------+ | **DM_CHANGE_MARK** (4 bit field), Dynamic ARFCN Mapping Change | | Mark. | | | | This parameter is used to indicate to the MS a change of information | | concerning Dynamic ARFCN Mapping. This field shall be present in | | only one instance of Dynamic ARFCN Mapping Description struct in a | | consistent set of PSI8 messages. | +----------------------------------------------------------------------+ | Dynamic ARFCN Mapping parameters description: | | | | These parameters allow to allocate ARFCN values and then dynamically | | map to physical frequencies, see 3GPP TS 45.005. The parameters of | | this description are defined in 3GPP TS 44.018. | | | | If the mobile station receives more than 8 DYNAMIC_ARFCN_MAPPING | | structures, it shall store at least the 8 first structures in the | | order of occurrence, starting with the PSI8 instance with the lowest | | index number. | +----------------------------------------------------------------------+
### 11.2.25 Packet System Information 13
This message may be broadcast by the network on the PACCH or on the PCCCH (see
sub-clause 5.5.2.1). The message provides the mobile station with GPRS cell
specific access-related information. The information in this message shall be
the same as provided in the SI13 message on BCCH, see 3GPP TS 44.018. This
message shall not be segmented across more than one RLC/MAC control block by
using the procedures specified in sub-clause 9.1.12a.
Message type: PACKET SYSTEM INFORMATION TYPE 13
Direction: network to mobile station
Classification: distribution message
Table 11.2.25.1: PSI13 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ > } | | | | { 0 -- _PBCCH not present in cell :_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ > | | | | \ > | | | | \| 1 -- _PBCCH present in cell :_ | | | | \ | | | | \ > } | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | ealier release_ | | | | \| 1 -- _Additions in release 99 :_ | | | | \ | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in release R4 :_ | | | | \ | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Additions in Rel-6:_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ } } } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 -- _default to BCCH carrier_ | | | | \| 10 \ | | | | \| 11 \ } ; | +----------------------------------------------------------------------+
Table 11.2.25.2: PSI13 information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field describes which type of page mode used, i.e. either | | normal paging, extended paging, paging reorganization or same as | | before from the previous page mode. The mobile station shall ignore | | this field if the message is received on the PACCH. Coding of this | | field is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **BCCH_CHANGE_MARK** (3 bit field)\ | | This field indicates the status of the information on BCCH. The | | value of this field shall be changed each time the information on | | BCCH, except for the contents of the SI-13 message, is changed. | +----------------------------------------------------------------------+ | **SI_CHANGE_FIELD** (4 bit field)\ | | This field is the binary representation of which information was | | changed at the last indication in BCCH_CHANGE_MARK. Range 0 to 15: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 Update of _unspecified_ SI message or SI messages;\ | | 0 0 0 1 Update of SI1 message;\ | | 0 0 1 0 Update of SI2, SI2 bis or SI2 ter message;\ | | 0 0 1 1 Update of SI3, SI4, SI7 or SI8 message;\ | | 0 1 0 0 Update of SI9 message;\ | | 0 1 0 1 Update of SI18 or SI20 message;\ | | 0 1 1 0 Update of SI19 message;0 1 1 1 Update of SI15 message;\ | | 1 0 0 0 Update of SI2n message;\ | | All other values shall be interpreted as \'update of unknown SI | | message type\'. | +----------------------------------------------------------------------+ | **SI13_CHANGE_MARK** (2 bit field)\ | | This field is the binary representation of the SI change mark | | identifying the GPRS Mobile Allocation provided in SI13 and PSI13 | | messages.\ | | Range: 0 to 3. | +----------------------------------------------------------------------+ | **GPRS Mobile Allocation** (information element)**\ | |** This information element is the representation of the GPRS mobile | | allocation provided in SI13 and PSI13 messages. It is identified by | | MA_NUMBER = 14 when referenced from a packet assignment message. | | When used in SI13 or PSI13 message, this information element shall | | refer to the cell allocation defined for the cell in SI1 or PSI2. | +----------------------------------------------------------------------+ | **RAC** (8 bit field)\ | | This field is the binary representation of the Routing Area Code, | | see 3GPP TS 23.003. | +----------------------------------------------------------------------+ | **SPGC_CCCH_SUP** (bit field)\ | | This field indicates the support of the parameter SPLIT_PG_CYCLE | | on CCCH from the network side: | | | | 0 SPLIT_PG_CYCLE is not supported on CCCH in this cell;\ | | 1 SPLIT_PG_CYCLE is supported on CCCH in this cell. | +----------------------------------------------------------------------+ | The **PRIORITY_ACCESS_THR** field (3 bit) is the binary | | representation of the parameter PRIORITY_ACCESS_THR: | | | | bit\ | | 3 2 1\ | | 0 0 0 packet access is not allowed in the cell;\ | | 0 0 1 spare, shall be interpreted as \'000\' (packet access not | | allowed);\ | | 0 1 0 spare, shall be interpreted as \'000\' (packet access not | | allowed);\ | | 0 1 1 packet access is allowed for priority level 1;\ | | 1 0 0 packet access is allowed for priority level 1 to 2;\ | | 1 0 1 packet access is allowed for priority level 1 to 3;\ | | 1 1 0 packet access is allowed for priority level 1 to 4;\ | | 1 1 1 spare, shall be interpreted as \'110\' (packet access | | allowed). | +----------------------------------------------------------------------+ | The **NETWORK_CONTROL_ORDER** field (2 bit) is the binary | | representation of the parameter NETWORK_CONTROL_ORDER, see | | 3GPP TS 45.008: | | | | bit\ | | 2 1\ | | 0 0 NC0: MS controlled cell re-selection, no measurement reporting.\ | | 0 1 NC1: MS controlled cell re-selection, MS sends measurement | | reports.\ | | 1 0 NC2: Network controlled cell re-selection, MS sends measurement | | reports.\ | | 1 1 Reserved for future use, interpreted as NC0 by mobile station. | +----------------------------------------------------------------------+ | **GPRS Cell Options** (information element)\ | | The _GPRS Cell Option_ information element is defined in sub-clause | | 12.24. | +----------------------------------------------------------------------+ | **PSI1_REPEAT_PERIOD** (4 bit field)\ | | This field is the representation of the PSI1 repeat period. The | | field is coded according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 PSI1 repeat period = 1 multiframe\ | | 0 0 0 1 PSI1 repeat period = 2 multiframes\ | | :\ | | 1 1 1 1 PSI1 repeat period = 16 multiframes | +----------------------------------------------------------------------+ | **GPRS Power Control Parameters** (information element)**\ | |** The **_GPRS Power Control Parameters_** information element is | | defined in sub-clause 12.09a. | +----------------------------------------------------------------------+ | **_PBCCH Description struct_** \ | | The PBCCH description struct provides the channel description for | | the PBCCH. The frequency description for the PBCCH may be specified | | by an ARFCN (non-hopping radio frequency channel) or a MAIO (hopping | | radio frequency channel) field. In case of a hopping radio frequency | | channel, the PBCCH shall use the GPRS mobile allocation specified in | | this message. If none of the ARFCN or MAIO fields are present, the | | PBCCH shall use the BCCH carrier. | +----------------------------------------------------------------------+ | **Pb** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | +----------------------------------------------------------------------+ | **TSC** (3 bit field)\ | | This field is the binary representation of the training sequence | | code used for PBCCH.\ | | Range: 0 to 7. | +----------------------------------------------------------------------+ | **TN** (3 bit field)\ | | This field is the binary representation of the timeslot number for | | the PBCCH.\ | | Range: 0 to 7. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field is the binary representation of the absolute RF channel | | number.\ | | Range: 0 to 1023. | +----------------------------------------------------------------------+ | **MAIO** (6 bit field)\ | | This field is the binary representation of the mobile allocation | | index offset.\ | | Range: 0 to 63. | +----------------------------------------------------------------------+ | **SGSNR** (bit field)\ | | This field indicates the Release of the SGSN:\ | | 0 SGSN is Release \'98 or older\ | | 1 SGSN is Release \'99 onwards. | +----------------------------------------------------------------------+ | **SI_STATUS_IND** (1 bit field):\ | | 0 The network does not support the PACKET SI STATUS message;\ | | 1 The network supports the PACKET SI STATUS message. | +----------------------------------------------------------------------+ | **LB_MS_TXPWR_MAX_CCH** (5 bit field) | | | | The LB_MS_TXPWR_MAX_CCH field is coded as the binary | | representation of the \'power control level\' in 3GPP TS 45.005 | | corresponding to the maximum TX power level a mobile station may use | | when accessing on a packet control channel. This value shall be used | | by the mobile station according to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **SI2n_SUPPORT (2 bit field)\ | | This field indicates the support of SI2n in the network, see 3GPP TS | | 44.018.** | +----------------------------------------------------------------------+
### 11.2.25a Packet System Information 14
This message may be sent by the network on the PACCH. The message may provide
a mobile station in dual transfer mode or the in Network Assisted Cell Change
procedure with GPRS access-related information. The information may be used as
a substitute for the SI13 (and in some cases, the SI1) message on BCCH after
the release of an RR connection, see 3GPP TS 44.018. This message may also be
used during dual transfer mode to inform the mobile station about possible
changes in the SI or PSI messages. This message may also be used in the
network assisted cell change procedure when the target cell has PBCCH present.
Message type: PACKET SYSTEM INFORMATION TYPE 14
Direction: network to mobile station
Classification: distribution message
Table 11.2.25a.1: PSI14 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \> | | | | \| 1 \> | | | | \ } | | | | ! \> ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \> } | | | | \ | | | | \ | | | | \ | | | | \> | | | | \> | | | | \ | | | | { null \| 0 bit ** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Dual Transfer Mode_ | | | | 0 _\-- compatible with earlier version_ | | | | \\ | | \ | | | | { null \| 0 bit ** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-6_ | | | | { 0 \| 1 \ } | | | | _\ \ | | }_ | | | | } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \> | | | | { null \| 0 bit ** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Dual Transfer Mode_ | | | | 1 _\-- compatible with earlier version_ | | | | \ | | | | } ; | +----------------------------------------------------------------------+
Table 11.2.25a.2: PSI14 information element details
* * *
**PAGE_MODE** (2 bit field)\ This field is defined in sub-clause 12.20.
**BCCH_CHANGE_MARK** (3 bit field)\ This field indicates the status of the
information on BCCH. The value of this field shall be changed each time the
information on BCCH, except for the contents of the SI13 message, is changed,
see sub-clause 5.5.2.1.4.
**SI13_CHANGE_MARK** (2 bit field)\ This field is the binary representation of
the SI change mark identifying the GPRS Mobile Allocation provided in SI13 and
PSI13 messages. Range: 0 to 3.
**SI13 Mobile Allocation\** This field is encoded using the _GPRS Mobile
Allocation_ information element defined in sub-clause 12.10a. This information
shall be identical with the GPRS mobile allocation provided in SI13 and PSI13
messages.
**SPGC_CCCH_SUP** (1 bit field)\ This field is defined in the SI13 message,
see 3GPP TS 44.018.
**PRIORITY_ACCESS_THR** (3 bit field)\ This field is defined in the SI13
message, see 3GPP TS 44.018.
**NETWORK_CONTROL_ORDER** (2 bit field)\ This field is defined in the SI13
message, see 3GPP TS 44.018.
**GPRS Cell Options** (information element)\ The _GPRS Cell Option_
information element is defined in sub-clause 12.24.
**SGSNR** (1 bit field)\ This field is defined in the SI13 message, see 3GPP
TS 44.018.
**GPRS Power Control Parameters** (information element)**\** The **_GPRS Power
Control Parameters_** information element is defined in sub-clause 12.9a.
**PSI1_REPEAT_PERIOD** (4 bit field)\ This field is the binary representation,
range 0 to 15, of the PSI1 repeat period. The coding of this field is
identical to the coding of the PSI1_REPEAT_PERIOD field in the PSI1 message.
**Pb** (4 bit field)\ This is the binary representation, range 0 to 15, of the
power reduction value used by the BTS on PBCCH blocks and PCCCH blocks,
relative to the output power on BCCH, see 3GPP TS 45.008.
**TN** (3 bit field)\ This is the binary representation, range 0 to 7, of the
timeslot number for the PBCCH, see 3GPP TS 45.002.
**PBCCH Frequency Description\** The PBCCH frequency description is encoded
using the _Frequency Parameters_ information element defined in sub-clause
12.8. When used in this message, the _Frequency Parameters_ information
element shall define a non-hopping radio frequency channel or use the _direct
encoding 2_ to define a hopping radio frequency channel.
**RAC (8 bit field)\ This field is the binary representation of the Routing
Area Code, see 3GPP TS 23.003.**
**PSI_CHANGED_IND (1 bit field)\ This field indicates whether the contents of
any PSI message have been changed, see sub-clause 5.5.2.1.3.\ If not included
in the message, the value \"0\" shall be assumed.**
**SI_STATUS_IND** (1 bit field)\ 0 The network does not support the PACKET SI
STATUS message;\ 1 The network supports the PACKET SI STATUS message.\ **If
not included in the message, the value \"0\" shall be assumed.**
**LB_MS_TXPWR_MAX_CCH** (5 bit field)\ The LB_MS_TXPWR_MAX_CCH field is coded
as the binary representation of the \'power control level\' in 3GPP TS 45.005
corresponding to the maximum TX power level a mobile station may use when
accessing on a packet control channel. This value shall be used by the mobile
station according to 3GPP TS 45.008.
**SI2n_SUPPORT (2 bit field)\ This field indicates the support of SI2n in the
network, see 3GPP TS 44.018.**
* * *
### 11.2.25b Packet System Information 15
This message may be sent by the network on the PACCH. It may be sent to a
mobile station with UTRAN capability. A mobile station with no UTRAN
capability shall ignore this message.
The message provides the mobile station with a list of the UTRAN frequencies
used by the network. These frequencies may be used in the cell selection
procedure, see 3GPP TS 25.304. If both an UTRAN Frequency List Description
struct and an UTRAN Frequency List information element (3GPP TS 44.018) are
received, the mobile station shall use the one most recently received.
Message type: PACKET SYSTEM INFORMATION TYPE 15
Direction: network to mobile station
Classification: distribution message
Table 11.2.25b.1: PSI15 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \\ | | { 0 \| 1 \> } | | | | \ | | | | ! \> ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ : bit (14) } ** 0 -- _FDD frequencies_ \ | | { 1 \ : bit (14) } ** 0 ; -- _TDD frequencies_ | +----------------------------------------------------------------------+
Table 11.2.25b.2: PSI15 information element details
* * *
**PAGE_MODE** (2 bit field)\ This field is defined in sub-clause 12.20.
**UTRAN Frequency List Description struct** \ FDD_ARFCN and TDD_ARFCN (14 bits
field) are defined as the UARFCN in 3GPP TS 25.101 and 3GPP TS 25.102.
* * *
### 11.2.25c Packet System Information Type 16
This message is sent by the network on the PBCCH and the PACCH giving
information about _Iu mode_ operation. Special requirements for the
transmission of this message apply on the PBCCH, see 3GPP TS 45.002.
This message shall not be segmented across more than one RLC/MAC control block
by using the procedures specified in sub-clause 9.1.12a. A consistent set of
this message type is required to completely decode the information (see sub-
clause 5.5.2.1.4).
Message type: PACKET SYSTEM INFORMATION TYPE 16
Direction: network to mobile station
Classification: distribution message
Table 11.2.25c.1: PSI16 information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ > | | | | \ | | | | \ | | | | { \ > | | | | \ > | | | | } * (1+val(CN_DOMAIN_LIST)) | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | ! \> ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ } * (1 + val(NUMBER_OF_GRA_IDs)); | +----------------------------------------------------------------------+
Table 11.2.25c.2: PSI16 information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field describes which type of page mode used, i.e. either | | normal paging, extended paging, paging reorganization or same as | | before from the previous page mode. The mobile station shall ignore | | this field if the message is received on the PACCH. Coding of this | | field is defined in 3GPP TS 44.018 | +----------------------------------------------------------------------+ | **PSI16_CHANGE_MARK** (2 bit field)\ | | This field is the binary representation of the PSI _change mark_ | | parameter identifying a consistent set of PSI16 messages. Range: 0 | | to 3. | +----------------------------------------------------------------------+ | **PSI16_INDEX** (3 bit field)\ | | The PSI16 index field is used to distinguish individual PSI16 | | messages. The field can take the binary representation of the values | | 0 to n, where n is the index of the last PSI16 message. (PSI16 | | count).\ | | Range: 0 - 7. | +----------------------------------------------------------------------+ | **PSI16_COUNT** (3 bit field)\ | | The PSI16 count field is coded as the binary representation of the | | last (highest indexed) individual PSI16 message.\ | | Range: 0 - 7. | +----------------------------------------------------------------------+ | _GERAN Id struct_ | | | | **At least one GRA Id shall be broadcast in each cell. Maximum | | number is eight.** | +----------------------------------------------------------------------+ | **NUMBER_OF_GRA_IDs** (3 bit field)\ | | The NUMBER of GRA Ids field is coded as the binary representation of | | the amount of GRA IDs sent in an individual PSI16 message. | | | | Range: 0 - 7. | +----------------------------------------------------------------------+ | **GRA_ID** (16 bit field)\ | | The GRA_ID defines the indentity of a GERAN Registration Area | | Identity to which the cell belongs. | +----------------------------------------------------------------------+ | **_Iu_MODE_NMO_SUPPORT (1 bit field)_** \ | | This parameter is used for determining network mode of operation for | | the 3G SGSN and the 3G MSC. The mobile station may assume that the | | network has set this field equally in all instancies of this | | message. | | | | Bit\ | | **0** Network Mode Operation I\ | | **1** Network Mode Operation II | +----------------------------------------------------------------------+ | **CN_DOMAIN_LIST** (2 bit field)\ | | This field is used to repeat information for each CN domain. Range : | | 0 to MaxCNdomains-1, see 3GPP TS 44.118. | +----------------------------------------------------------------------+ | **CN_DOMAIN_IDENTITY** \ | | This IE is defined in 3GPP TS 44.118. | +----------------------------------------------------------------------+ | **CN_DOMAIN_SPECIFIC_DRX_CYCLE_LENGTH_COFFICIENT** \ | | This IE is defined in 3GPP TS 44.118. | +----------------------------------------------------------------------+ | **3G_LAC** (16 bit field)\ | | This field is only broadcast if the cell supports _Iu mode_ and if | | 2G and 3G are using different location area codes. The coding of | | 3G_LAC is presented in 3GPP TS 23.003. | +----------------------------------------------------------------------+ | **3G_RAC** (8 bit field)\ | | This field is only broadcast if the cell supports _Iu mode_ and if | | 2G and 3G are using different routing area codes. The coding of | | 3G_RAC is presented in 3GPP TS 23.003. | +----------------------------------------------------------------------+ | **GRA_AND_CELL_UPDATE_TIMER** (3 bit field)\ | | This field is the binary representation of GRA and CELL UPDATE | | TIMERs. | | | | bit\ | | 3 2 1\ | | 0 0 0 5 minutes\ | | 0 0 1 10 minutes\ | | 0 1 0 30 minutes (default value)\ | | 0 1 1 60 minutes\ | | 1 0 0 120 minutes\ | | 1 0 1 360 minutes\ | | 1 1 0 720 minutes\ | | 1 1 1 Infinity (no update) | +----------------------------------------------------------------------+
### 11.2.26 Packet TBF Release
This message is sent on the PACCH by the network to the mobile station to
initiate release of an uplink or downlink TBF.
Message type: PACKET TBF RELEASE
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.26.1: Packet TBF RELEASE information elements
+-----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ | | | | { \ | | | | \ | | | | \ | | | | \ | | | | ! \ > } | | | | ! \ > } | | | | ! \ > ; | +-----------------------------------------------------------------------+
Table 11.2.26.2: Packet TBF RELEASE information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **Global TFI IE\ | |** This information element contains the TFI of the mobile station\'s | | which uplink and/or downlink TBF to be released. This field is | | defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **Uplink_Release** (1 bit field)**\ | | Downlink_Release** (1 bit field)**\ | |** These fields indicate which TBF shall be release, uplink or | | downlink. Both directions can be released at the same time. | | | | 0 TBF shall not be released\ | | 1 TBF shall be released | +----------------------------------------------------------------------+ | **TBF_RELEASE_CAUSE** (4 bit field)\ | | This field indicates the reason for the release of the TBF. This | | field is encoded according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 Normal release\ | | 0 0 1 0 Abnormal release\ | | All other values are reserved, the same behaviour in reception as if | | \'Abnormal release\'. | +----------------------------------------------------------------------+
### 11.2.27 (void)
### 11.2.28 Packet Uplink Ack/Nack
This message is sent on the PACCH by the network to the mobile station
indicate the status of the received RLC data blocks. This message may also
update the timing advance and power control parameters.
Message type: PACKET UPLINK ACK/NACK
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.28.1: Packet UPlink Ack/Nack information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 00 \ | | | | { 0 -- _Message escape_ | | | | { \ | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } -- | | _sub-clause 12.26_ | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for R99_ | | | | { 0 \| 1 \} | | | | \ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | _\| 1_ \-- _Additions for Rel-5_ | | | | _{ 0 \| 1 \  }_ | | | | _{ 0 \| 1 \  }_ | | | | \ | | | | } | | | | } | | | | ! \ > | | | | } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape bit used to define EGPRS message contents_ | | | | { 00 | | | | { \> | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } -- | | _sub-clause 12.26_ | | | | { \ > | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | } // | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | _\| 1_ \-- _Additions for Rel-5_ | | | | _{ 0 \| 1 \  }_ | | | | _{ 0 \| 1 \  }_ | | | | \ } | | | | ! \ > } | | | | ! \ > | | } } -- _Extended for future changes_ | | | | ! \ > } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.28.2: Packet UPlink Ack/Nack information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **UPLINK_TFI** (5 bit field)\ | | This field identifies the uplink TBF to which this message applies. | | This field is coded the same as the TFI field defined in sub-clause | | 12.15. On DBPSCH, this field equals the radio bearer identity of the | | radio bearer to which this message applies. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | The Channel Coding Indicator field indicates the channel coding | | scheme that the mobile station shall use when transmitting on the | | uplink. | | | | bits\ | | 2 1 value\ | | 0 0 CS-1\ | | 0 1 CS-2\ | | 1 0 CS-3\ | | 1 1 CS-4 | +----------------------------------------------------------------------+ | **Ack/Nack Description** \ | | This information element is defined in sub-clause 12.3. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme\ | |** The EGPRS Modulation and Coding Scheme information element is | | defined in sub-clause 12.10d. | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)**\ | |** This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **PRE_EMPTIVE_TRANSMISSION** (1 bit field)\ | | This bit informs the mobile station if it may or may not transmit | | the oldest RLC data block whose corresponding element in V(B) has | | the value PENDING_ACK (and repeating the process, refer to | | sub-clause 9.1.3.2) when the protocol is stalled or has no more RLC | | data blocks to transmit. | | | | 0 The mobile station shall not use pre-emptive transmission.\ | | 1 The mobile station shall use pre-emptive transmission. | +----------------------------------------------------------------------+ | **PRR RETRANSMISSION REQUEST (1 bit field)** | | | | 0 indicates that retransmission of a PACKET RESOURCE REQUEST message | | is not requested | | | | 1 indicates that retransmission of a PACKET RESOURCE REQUEST message | | is requested (see sub-clause 7.1.2.2.1a) | +----------------------------------------------------------------------+ | **ARAC RETRANSMISSION REQUEST (1 bit field)** | | | | 0 indicates that retransmission of an ADDITIONAL MS RADIO ACCESS | | CAPABILITIES message is not requested | | | | 1 indicates that retransmission of an ADDITIONAL MS RADIO ACCESS | | CAPABILITIES message is requested (see sub-clause 7.1.2.2.1a) | +----------------------------------------------------------------------+ | **EGPRS Ack/Nack Description\ | |** This information element is defined in sub-clause 12.3.1. The | | number of bits (L) available for Ack/Nack Description information | | element depends on the inclusion of other information elements. L | | may be set so that the entire PACKET UPLINK ACK/NACK message evenly | | fits into an RLC/MAC control block. If a lower L covers the entire | | receive window, that L may be used. | +----------------------------------------------------------------------+ | **CONTENTION_RESOLUTION_TLLI** (32 bit field)\ | | The CONTENTION_RESOLUTION_TLLI field is present only if the | | network has decoded one of the uplink RLC data blocks containing the | | TLLI or G-RNTI. The mobile station shall perform the contention | | resolution function if the TLLI or G-RNTI information element is | | present. This field contains a TLLI or a G-RNTI, which is defined in | | sub-clause 12.16. | +----------------------------------------------------------------------+ | **Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **Power Control Parameters** \ | | This information element, if present, contains the power control | | parameters the mobile station shall use to determine its TX power | | level. If this information element does not include the updated | | power control parameters for some of currently assigned timeslots, | | the MS shall continue to use the current power control parameters | | for these timeslots. This information element is defined in | | sub-clause 12.13. | +----------------------------------------------------------------------+ | **Extension Bits\ | |** This information element, if present, shall be skipped over. Any | | information content shall be ignored by the mobile station. This | | information element is defined in sub-clause 12.26. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **TBF_EST** (1 bit field)\ | | If included, this field indicates that the mobile station is allowed | | to request the establishment of new TBF on PACCH. | | | | 0 the mobile station is not allowed to request the establishment of | | new TBF | | | | 1 the mobile station is allowed to request the establishment of new | | TBF | +----------------------------------------------------------------------+ | **CONTENTION_RESOLUTION Identifier extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the **CONTENTION_RESOLUTION_TLLI** field which are necessary to | | provide a unique identifier for contention resolution in Iu-mode. | | This field is present when an assigned G-RNTI is used during the | | contention resolution procedure. | +----------------------------------------------------------------------+ | **RB Id** (5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station\'s radio bearer for which the uplink data transfer on SFACCH | | is acknowledged. This field is not included when the PACKET UPLINK | | ACK/NACK messsage is sent on DBPSCH. This field is encoded as a | | binary number with range 0-31. | +----------------------------------------------------------------------+
### 11.2.28a Packet DBPSCH Uplink Ack/Nack
This message is sent on FACCH, SACCH or SDCCH from the network to the mobile
station to indicate the status of uplink RLC data blocks received.
Message type: PACKET DBPSCH UPLINK ACK/NACK
Direction: network to mobile station
Classification: DBPSCH message
Table 11.2.28a.1: Packet DBPSCH UPLINK Ack/Nack information elements
+--------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | \ | | | | { 0 \| 1 \ | | | | _{ 0 \| 1 \  }_ } | | | | { 0 _\-- TCH TBF mode_ | | | | { 0 _\- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ | | | | \ } | | | | \| 1 _\-- DCCH TBF mode_ | | | | { 0 _\- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ | | | | \ } } | | | | \ | | | | ! \ > } ; | +--------------------------------------------------------------------+
Table 11.2.28a.2: Packet DBPSCH UPLINK Ack/Nack information element details
+----------------------------------------------------------------------+ | **CONTENTION_RESOLUTION_TLLI** (32 bit field)\ | | The CONTENTION_RESOLUTION_TLLI field is present only if the | | network has decoded one of the uplink RLC data blocks containing the | | G-RNTI. The mobile station shall perform the contention resolution | | function if the G-RNTI information element is present. This field | | contains a G-RNTI, which is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field)\ | | This field contains the extra 4 bits of the G-RNTI not included in | | the **CONTENTION_RESOLUTION_TLLI** field which are necessary to | | provide a unique identifier for contention resolution in Iu-mode. | | This field is present when an assigned G-RNTI is used during the | | contention resolution procedure. | +----------------------------------------------------------------------+ | **RB Id** (5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station\'s radio bearer for which the uplink data transfer is | | acknowledged. This field is encoded as a binary number with range | | 0-31. | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER** (8 or 4 bit field)**\ | |** The SSN contains the value of V(R) when this information element | | was transmitted. This field is encoded as the binary representation | | of V(R).\ | | Range 0 to 255 (8 bit field)\ | | Range 0 to 15 (4 bit field) | +----------------------------------------------------------------------+ | **RECEIVE_BLOCK_BITMAP (RBB)** (128 or 8 bit field)\ | | The RBB is a bitmap representing Block Sequence Numbers. The bitmap | | is indexed relative to SSN as follows: | | | | > BSN = (SSN - bit_number) modulo 256, for bit_number = 1 to 128 | | > 128 bit field). | | > | | > BSN = (SSN - bit_number) modulo 16, for bit_number = 1 to 8 (8 | | > bit field). | | | | The BSN values represented range: | | | | > from (SSN - 1) mod 256 to (SSN - 128) mod 256 (128 bit field) | | > | | > from (SSN - 1) mod 16 to (SSN - 8) mod 16 (8 bit field) | | | | The value of each bit represents the acknowledgement status of the | | RLC data block with: | | | | > BSN = (SSN - bit_number) mod 256 (128 bit field) | | > | | > BSN = (SSN - bit_number) mod 16 (8 bit field), | | | | it is encoded as follows: | | | | > 0 Negative acknowledgement | | > | | > 1 Positive acknowledgement | | | | Mapping of the bitmap is defined in 3GPP TS 44.160. | +----------------------------------------------------------------------+
### 11.2.28b Packet DBPSCH Uplink Ack/Nack Type 2
This message shall only be used when FLO is used. It is sent on ADCH from the
network to the mobile station to indicate the status of uplink RLC data blocks
received.
Message type: PACKET DBPSCH UPLINK ACK/NACK TYPE 2
Direction: network to mobile station
Classification: DBPSCH message
Table 11.2.28b.1: Packet DBPSCH UPLINK Ack/Nack TYPE 2information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ \-- _The same message | | type as for Packet DBPSCH Uplink Ack/Nack is -- used since these | | two messages are mutually exclusive._ | | | | \ | | | | { 0 _\-- UDCH TBF mode_ | | | | { 0 _\-- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ > } | | | | \| 1 _\-- CDCH TBF mode_ | | | | { 0 _\-- All data blocks acknowledged, no retransmission requested_ | | | | \| 1 \ | | | | \ } } | | | | \ | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 11.2.28b.2: Packet DBPSCH UPLINK Ack/Nack TYP2 2 information element
details
+----------------------------------------------------------------------+ | **RB Id** (5 bit field)\ | | This field contains the radio bearer identity of the mobile | | station\'s radio bearer for which the uplink data transfer is | | acknowledged. This field is encoded as a binary number with range | | 0-31. | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER** (4 bit field)**\ | |** The SSN contains the value of V(R) when this information element | | was transmitted. This field is encoded as the binary representation | | of V(R).\ | | Range 0 to 15 (4 bit field) | +----------------------------------------------------------------------+ | **RECEIVE_BLOCK_BITMAP (RBB)** (128 or 8 bit field)\ | | The RBB is a bitmap representing Block Sequence Numbers. The bitmap | | is indexed relative to SSN as follows: | | | | > BSN = (SSN - bit_number) modulo 16, for bit_number = 1 to 8 (8 | | > bit field). | | | | The BSN values represented range: | | | | > from (SSN - 1) mod 16 to (SSN - 8) mod 16 (8 bit field) | | | | The value of each bit represents the acknowledgement status of the | | RLC data block with: | | | | > BSN = (SSN - bit_number) mod 16 (8 bit field), | | | | it is encoded as follows: | | | | > 0 Negative acknowledgement | | > | | > 1 Positive acknowledgement | | | | Mapping of the bitmap is defined in 3GPP TS 44.160. | +----------------------------------------------------------------------+
### 11.2.29 Packet Uplink Assignment
This message is sent on the PCCCH or PACCH by the network to the mobile
station to assign uplink resources. If the mobile station supports Downlink
Dual Carrier, this message may be sent using extended RLC/MAC control message
segmentation (see sub-clause 9.1.12a). The mobile station may be addressed by
TFI, TQI, or Packet Request Reference depending upon the procedure used. A
mobile allocation or reference frequency list received as part of this
assignment message shall be valid until new assignment is received or each TBF
of the MS are terminated.
Message type: PACKET UPLINK ASSIGNMENT
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.29.1: Packet UPlink ASSIGNMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ * 4 } | | | | { { 0 \ > | | | | \| 10 \ | | | | \| 110 \ | | | | \| 111 \ > } | | | | { 0 -- _Message escape_ | | | | { \ | | | | \ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 01 \ > | | | | \| 10 \ > | | | | \| 00 \ | | | | } -- _The value \'11\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for R99_ | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | _\| 1_ \-- _Additions for Rel-5_ | | | | _{ 0 \| 1 \  }_ | | | | _{ 0 \| 1 \  }_ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-6_ | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\  }_ | | | | \ } } } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape bit used to define EGPRS message contents_ | | | | { 00 { { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | \> | | | | \ | | | | \ > | | | | { 0 \| 1 \} | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | > } | | | | { 01 \ > | | | | \| 10 \ > | | | | \| 00 \ | | | | } -- _The value \'11\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | _\| 1_ \-- _Additions for Rel-5_ | | | | _{ 0 \| 1 \  }_ | | | | _{ 0 \| 1 \  }_ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-6_ | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\  }_ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-7_ | | | | { 0 \| 1 _\ _ } | | | | \ } } } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 01 -- _Message escape for dual carrier, RTTI, BTTI with FANR | | activated, EGPRS2_ | | | | { { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 -- _BTTI mode_ | | | | \| 1 -- _RTTI mode_ | | | | \ | | | | \ > } | +----------------------------------------------------------------------+ | \ > | | | | \> | | | | { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | -- _reserved for future used_ | | | | } | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 -- _\'1\' indicates that FANR is activated_ | | | | { 0 -- _SSN-based encoding is selected_ | | | | \| 1 -- _Time-based encoding is selected_ | | | | \ \-- _carrier 1 in Downlink | | Dual Carrier_ | | | | _\--configuration_ | | | | { 0 \| 1 \ } -- _carrier 2 | | in Downlink Dual Carrier_ | | | | -- _configuration_ | | | | \ } } | | | | \ > | | | | { 0 \| 1 \ > } | | | | \ | | | | ! \ > } | | | | ! \ > } } - | | _Extended for future changes_ | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= -- _Future extension can be done by modifying | | this structure_ | | | | null ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | \ | | | | { 0 \| 1 \ } | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { 0 \| 1 \ > } | | | | { 0 -- _Timeslot Allocation_ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \| 1 -- _Timeslot Allocation with Power Control Parameters_ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \} | | | | { 0 \| 1 \ | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | \ } | | | | \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \} | | | | { 0 \| 1 \ | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | \ } | | | | \ > | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= -- _recursive structure | | allows any combination of Access technologies_ | | | | \ | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 -- Allocation without Power Control Parameters | | | | \ | | | | { 0 \| 1 \ } *( val(**N_USF**) + 1) | | | | \| 1 -- Allocation with Power Control Parameters | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 -- _BTTI mode_ | | | | \ | | | | { 0 \| 1 | | | | \ | | | | \ | | | | } * ( val(**N_TS**) + 1) | | | | \| 1 -- _RTTI mode_ | | | | \ | | | | { 0 \| 1 | | | | \ | | | | \ | | | | } * (val(**N_PAIRS**) + 1) | | | | { 0 -- RTTI USF | | | | \| 1 -- BTTI USF | | | | { 0 \| 1 | | | | \ | | | | { 0 \| 1 \ } | | | | } * (val(**N_PAIRS**) + 1) | | | | } | | | | } | | | | } ; | +----------------------------------------------------------------------+
Table 11.2.29.2: Packet UPlink ASSIGNMENT information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element identifies the uplink TFI, if available, or | | the downlink TFI, to which this message applies. This field is | | defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** \ | | This information element is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **TQI** (16 bit field)\ | | This field is defined in sub-clause 12.17. | +----------------------------------------------------------------------+ | **Packet Request Reference** \ | | This information element is defined in sub-clause 12.11. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | The Channel Coding Indicator field indicates the channel coding | | scheme that the mobile station shall use when transmitting data on | | the uplink. | | | | bit\ | | 2 1\ | | 0 0 CS-1\ | | 0 1 CS-2\ | | 1 0 CS-3\ | | 1 1 CS-4 | +----------------------------------------------------------------------+ | **CONTENTION_RESOLUTION_TLLI** (32 bit field)\ | | The CONTENTION_RESOLUTION_TLLI field is present only if the | | network has decoded one of the uplink blocks containing the TLLI or | | G-RNTI during the EGPRS one phase access. The mobile station shall | | perform the contention resolution function if this field is present. | | This field contains a TLLI or G-RNTI, which is defined in sub-clause | | 12.16. See sub-clause 7.1.2.3a. | +----------------------------------------------------------------------+ | **COMPACT reduced MA** \ | | This information element is defined in sub-clause 12.29. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme** | | | | The EGPRS Modulation and Coding Scheme information element is | | defined in sub-clause 12.10d. | | | | If this field is included in a Dual Carrier assignment, it shall | | specify the initial EGPRS Modulation and Coding Scheme to be used on | | both carriers. | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field) | | | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **EGPRS Window Size** | | | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **TLLI_BLOCK_CHANNEL_CODING** (1 bit field)\ | | This field indicates the channel coding command that the mobile | | station shall use for any RLC data block containing a TLLI field in | | the RLC data block header. This field is coded as shown: | | | | 0 the mobile station shall use CS-1 in GPRS TBF mode and MCS-1 in | | EGPRS TBF mode. | | | | 1 the mobile station shall use the value commanded in the | | CHANNEL_CODING_COMMAND or EGPRS_CHANNEL_CODING_COMMAND field. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | This field contains a constant which is used for filtering channel | | quality measurements in EGPRS. BEP_PERIOD2 when present, or if not, | | when received in a previous message of the same TBF session, shall | | be used instead of BEP_PERIOD. For details see 3GPP TS 45.008. | | | | Range: 0 to 15 | +----------------------------------------------------------------------+ | **UPLINK_TFI_ASSIGNMENT** (5 bit field)\ | | This information element, if present, assigns the contained TFI to | | the mobile station to identify to uplink TBF described by this | | message. This field is coded the same as the TFI field defined in | | sub-clause 12.15. | +----------------------------------------------------------------------+ | **Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element, if present, assigns frequency parameters | | to the uplink TBF. If this information element is not present the | | mobile station shall use its previously assigned frequency | | parameters. This information element is defined in sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2\ | |** These information elements are coded as defined in sub-clause | | 12.8. See sub-clause 11.2.7 for the usage of these information | | elements. | | | | **Dual Carrier Frequency Parameters\ | |** This information element, if present, assigns frequency parameters | | to the uplink TBF for both carriers in a dual carrier configuration. | | This information element is defined in sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **Dynamic Allocation struct\ | |** This information element contains parameters necessary to define | | the radio resources of a dynamic allocation or an extended dynamic | | allocation. | | | | In case of a timeslot allocation without power control parameters, | | the values of the power control parameters for assigned timeslots | | shall be the default values as specified in 3GPP TS 45.008. However, | | in case some of the timeslots assigned by this message are already | | used by the mobile station, the mobile station shall continue to use | | the current power control parameters for these timeslots. | | | | **Dynamic Allocation 2 struct\ | |** This information element contains parameters necessary to define | | the radio resources of a dynamic allocation or an extended dynamic | | allocation in a dual carrier, RTTI, BTTI with FANR activated, or | | EGPRS2 configuration. | | | | In case of a timeslot allocation without power control parameters, | | the values of the power control parameters for assigned timeslots | | shall be the default values as specified in 3GPP TS 45.008. However, | | in case some of the timeslots assigned by this message are already | | used by the mobile station, the mobile station shall continue to use | | the current power control parameters for these timeslots. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF.\ | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **TBF Starting Time** \ | | The TBF Starting Time field contains a starting time that indicates | | the frame number during which the assigned TBF may start. | | | | In case of dynamic allocation, if no uplink TBF is in progress, the | | MS need not monitor the USF field until the TDMA frame number | | occurs. When the indicated TDMA frame number occurs, the mobile | | station shall immediately begin to monitor the USF field and use the | | new assigned uplink TBF parameters when its USF has occurred. If an | | uplink TBF is already in progress, the MS shall continue to use the | | parameters of the existing TBF until the TDMA frame number occurs. | | When the indicated TDMA frame number occurs, the mobile station | | shall immediately begin to monitor the USF field and use the new | | assigned uplink TBF parameters when its USF has occurred. | | | | In case of single block allocation, the mobile station shall use the | | assigned timeslot during the RLC/MAC block whose first TDMA burst | | occurs in the indicated TDMA frame number. | | | | This information element is encoded as the Starting Frame Number | | Description IE. See sub-clause 12.21. | +----------------------------------------------------------------------+ | **USF_TN0** (3 bit field)\ | | **USF_TN1** (3 bit field)\ | | **USF_TN2** (3 bit field)\ | | **USF_TN3** (3 bit field)\ | | **USF_TN4** (3 bit field)\ | | **USF_TN5** (3 bit field)\ | | **USF_TN6** (3 bit field)\ | | **USF_TN7** (3 bit field) | | | | These fields indicate the USF value assigned to the MS for assigned | | timeslots (range 0 to 7). These fields are encoded as a binary | | presentation of the USF value as defined in sub-clause 10.4.1. | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station when it is assigned a TBF using Dynamic | | Allocation or Extended Dynamic Allocation. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+ | **Single Block Allocation struct\ | |** This information element contains parameters necessary to define | | the radio resources of a Single Block allocation. For example for | | sending of a PACKET RESOURCE REQUEST message in a two phase access | | or a Measurement report. | +----------------------------------------------------------------------+ | **TIMESLOT_NUMBER** (3 bit field)\ | | This field indicates the timeslot assigned for transfer of a single | | RLC/MAC block on the uplink. This field is coded as the binary | | representation of the timeslot number as defined in 3GPP TS 45.010.\ | | Range 0 to 7 | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | | | | **ALPHA_C1, ALPHA_C2** (4 bit field)\ | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then ALPHA_C1 (if present) shall apply to the carrier specified in | | the Carrier ID field. | | | | If the Assignment Type field is included and indicates \'Dual | | Carrier assignment\', ALPHA_C1 and ALPHA_C2 indicate the value of | | the parameter alpha to be applied in power control on carrier 1 and | | carrier 2 respectively. For encoding and description see the Global | | Power Control Parameters IE. If ALPHA_C1 is present and ALPHA_C2 | | is absent, then ALPHA_C1 shall apply to carrier 2. | +----------------------------------------------------------------------+ | **GAMMA, GAMMA_TN** (5 bit field)\ | | This field is the binary representation of the parameter ΓCH for MS | | output power control in units of 2 dB, see 3GPP TS 45.008. The field | | is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | | | | In the case of RTTI mode with BTTI USF, exactly one GAMMA field | | shall be included for each PDCH pair for which either one or two USF | | values are assigned. | +----------------------------------------------------------------------+ | **P0, P0_C1, P0_C2** (4 bit field)\ | | These fields are optional downlink power control parameters. | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', P0_C1 and P0_C2 apply to carrier 1 and carrier 2, | | respectively. The presence of these parameters indicates that | | downlink power control is used for the indicated carrier; otherwise, | | downlink power control is not used for the indicated carrier. If the | | P0_C1 IE is present but the P0_C2 IE is absent, then the P0_C1 IE | | shall apply also to carrier 2. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then P0_C1 shall apply to the carrier specified in the Carrier ID | | field. | | | | These fields are encoded as follows: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 P0 = 0 dB\ | | 0 0 0 1 P0 = 2 dB\ | | 0 0 1 0 P0 = 4 dB\ | | :\ | | 1 1 1 1 P0 = 30 dB | +----------------------------------------------------------------------+ | **PR_MODE, PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | These fields indicate the PR Management mode, as defined in | | 3GPP TS 45.008. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then PR_MODE_C1 shall apply to the carrier specified in the | | Carrier ID field. Otherwise, PR_MODE_C1 and PR_MODE_C2 shall | | apply to carrier 1 and carrier 2 respectively. If the Assignment | | Type field indicates \'Dual Carrier assignment and the PR_MODE_C1 | | IE is present but the PR_MODE_C2 IE is absent, then the | | PR_MODE_C1 IE shall apply also to carrier 2. It is encoded as | | follows:\ | | 0 PR mode A: for one addressed MS\ | | 1 PR mode B: for all MS | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **Multi Block Allocation struct\ | |** This information element contains parameters necessary to define | | the radio resources of a Multi Block allocation. | +----------------------------------------------------------------------+ | **NUMBER OF RADIO BLOCKS ALLOCATED** (2 bit field) | | | | Bits\ | | 1 0\ | | 0 0 1 radio block reserved for uplink transmission\ | | 0 1 2 radio blocks reserved for uplink transmission\ | | 1 0 reserved for future use\ | | 1 1 reserved for future use | +----------------------------------------------------------------------+ | **ACCESS TECHNOLOGY TYPE** | | | | This field indicates the access technology that is requested from | | the mobile station. The field is coded according to the definition | | in 3GPP TS 24.008. The access technology types requested from the MS | | in the Access Technologies Request structure shall be classified by | | priority, the most important first. The MS shall reply using the | | same order.\ | | Among the three GSM 900 access technology types GSM P, GSM E and GSM | | R only one shall be requested by the network. | +----------------------------------------------------------------------+ | **ARAC RETRANSMISSION REQUEST** (1 bit field) | | | | 0 indicates that retransmission of an ADDITIONAL MS RADIO ACCESS | | CAPABILITIES message is not requested\ | | 1 indicates that retransmission of an ADDITIONAL MS RADIO ACCESS | | CAPABILITIES message is requested (see sub-clause 7.1.2.2.1a) | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field which are necessary to provide a unique | | identifier for contention resolution in Iu-mode. This field may also | | be included when an assigned G-RNTI is used in the | | **CONTENTION_RESOLUTION_TLLI** field during the contention | | resolution procedure. | +----------------------------------------------------------------------+ | **_RB Id_** (5 bit field) | | | | This field is included in Iu mode when a TBF is assigned in | | MAC-Shared state. It contains the radio bearer identifier for the | | radio bearer using the assigned TBF. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field contains the PFI parameter identifying the Packet Flow | | Context related to the TBF identified in the UPLINK_TFI_ASSIGMENT | | field. The PFI parameter is encoded as the contents of the PFI | | information element defined in 3GPP TS 44.018. | | | | **RLC_MODE** (1 bit field)\ | | This field contains the RLC mode to be used for the assigned TBF. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode | +----------------------------------------------------------------------+ | **ASSIGNMENT TYPE**(2 bit field) | | | | This indicates the type of assignment. The coding of this field is | | as specified in sub-clause 11.2.7. | +----------------------------------------------------------------------+ |** Carrier ID**(1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ |** REPORTED TIMESLOTS**(8 bit field) | | | | The field indicates the timeslots for which feedback is provided by | | a time-based encoded PAN field and is encoded as the | | TIMESLOT_ALLOCATION IE defined in sub-clause 12.18. | +----------------------------------------------------------------------+ |** PDCH Pairs Description**| | | | This information element is defined in sub-clause 12.5.5. | +----------------------------------------------------------------------+ |** RTTI_USF_MODE**(1 bit field)\ | | This field identifies whether RTTI or BTTI USF Mode is enabled for | | this uplink RTTI TBF. | | | | 0 BTTI USF Mode is enabled\ | | 1 RTTI USF Mode is enabled | +----------------------------------------------------------------------+ |** TSH**(2 bit field) | | | | This field indicates the time-shift between the most recent radio | | block period for which feedback information is provided and the | | radio block period when the bitmap is sent:\ | | bit\ | | 2 1\ | | 0 0 4 TDMA frames (for a basic TTI configuration) or 2 TDMA frames | | (for a reduced TTI configuration)\ | | 0 1 8 TDMA frames (for a basic TTI configuration) or 4 TDMA frames | | (for a reduced TTI configuration)\ | | 1 0 12 TDMA frames (for a basic TTI configuration) or 6 TDMA frames | | (for a reduced TTI configuration)\ | | 1 1 16 TDMA frames (for a basic TTI configuration) or 8 TDMA frames | | (for a reduced TTI configuration) | +----------------------------------------------------------------------+ |** Uplink EGPRS Level**(2 bit field) | | | | This field specifies the group of modulation and coding schemes | | applicable to the TBF. This information element is defined in | | sub-clause 12.10f. | +----------------------------------------------------------------------+ |** Pulse Format**(N bit field) | | | | This information element, if assigned, specified on which radio | | frequency channel the mobile station shall transmit using the | | narrow-band pulse option. The information element is defined in | | sub-clause 12.8.3. | +----------------------------------------------------------------------+ |** N_USF, N_TS**(4 bit field) | | | |** N_PAIRS**(3 bit field) | | | | These fields indicate the number of timeslots or PDCH pairs for | | which USF allocations are signalled. The number of USFs, timeslots | | or PDCH pairs is given as the binary value of the corresponding | | field plus one. | | | | See Annex K for details of the coding of these fields. | +----------------------------------------------------------------------+ |** USF, USF_2** (3 bit field) | | | | These fields indicate the USF values assigned to the MS for the | | assigned timeslot or PDCH pair. | | | | In the case of RTTI mode with BTTI USF, the USF value specified in | | the USF field (respectively USF_2 field) applies to the first two | | (respectively second two) TDMA frames of the following basic radio | | block period (see sub-clauses 8.1.1.1, 8.1.1.2.1). | | | | These fields are encoded as a binary representation of the USF value | | as defined in sub-clause 10.4.1. | | | | The order in which USF assignments are encoded and the meaning when | | the number of repetitions of the USF is lower than the maximum is | | described in Annex K. | +----------------------------------------------------------------------+
#### 11.2.29.1 Special requirements in dual transfer mode for uplink TBF
Special requirements apply when an uplink TBF is assigned to a mobile station
in dual transfer mode or about to enter dual transfer mode.
If the mobile station has an RR connection to the network on a half-rate TCH,
the network may assign an uplink TBF using the other sub-channel of the same
timeslot for a half-rate PDCH (see 3GPP TS 45.002). In this case, the uplink
assignment message shall be encoded with a timeslot allocation including the
timeslot number for the half-rate TCH and the half-rate PDCH, and only that
timeslot number. The mobile station shall interpret this allocation as an
allocation of a half-rate PDCH.
In dual transfer mode, the mobile station may be assigned an uplink TBF using
exclusive allocation. The exclusive allocation shall be applied according to
the conditions specified in sub-clause 8.1.0. When the exclusive allocation is
applied, the mobile station shall ignore the USF values assigned in the uplink
assignment message.
### 11.2.29a Multiple TBF Uplink Assignment
This message is sent on the PACCH by the network to the mobile station to
assign uplink resources. If the mobile station supports Downlink Dual Carrier,
this message may be sent using extended RLC/MAC control message segmentation
(see sub-clause 9.1.12a). The mobile station may be addressed by the G-RNTI or
the TFI depending upon the procedure used. A mobile allocation or reference
frequency list received as part of this assignment message shall be valid
until new assignment is received or each TBF of the MS are terminated.
Message type: MULTIPLE TBF UPLINK ASSIGNMENT
Direction: network to mobile station
Classification : non-distribution message
Table 11.2.29a.1: MULTIPLE TBF UPlink ASSIGNMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ * 4 } | | | | { { 0 \ > | | | | \| 10 { \ > _\  } }_ | | | | { 0 -- _Message escape bit for GPRS mode TBFs_ | | | | { { 0 \| 1 \ } | | | | \ | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | \ } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape bit for EGPRS mode TBFs_ | | | | { 00 | | | | { { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > } | | | | \> | | | | \ | | | | { 0 \| 1 \ } | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-7_ | | | | { 0 \| 1 _\ _ } ** 0 | | | | \ } } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 01 -- _Message escape for dual carrier, RTTI, BTTI with FANR | | activated, EGPRS2_ | | | | { { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > } | | | | \ > | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ > | | | | { 0 \| 1 \ } | | | | { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | } -- _reserved for future used_ | | | | { 0 \| 1 \ > } | | | | \ > | | | | { 0 \| 1 \ > } | | | | \ | | | | ! \ > } | | | | ! \ > } } | | - _Extended for future changes_ | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > | | | | { 1 \ > } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | { 0 \| 1 -- _\'1\' indicates that FANR is activated_ | | | | { 0 -- _SSN-based encoding is selected_ | | | | \| 1 -- _Time-based encoding is selected_ | | | | \ } } | | | | { 0 \| 1 | | | | { 0 \| 1 -- BTTI mode | | | | \ > | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 -- RTTI mode | | | | \ > | | | | { 0 -- _without power control parameters_ | | | | \| 1 -- _with power control parameters_ | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } * (val(**N_PAIRS**) + 1) | | | | { 0 _\-- RTTI USF, or no second GAMMA values are given in case of | | RTTI mode with BTTI USF_ | | | | \| 1 _\-- Second GAMMA values are given in case of RTTI mode with | | BTTI USF_ | | | | { 0 \| 1 \ } * (val(**N_PAIRS**) + 1) | | | | } | | | | } | | | | { 1 \ > | | | | \ } ** 0 | | | | } | | | | } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | } ; | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | { 0 \ | | | | \| 1 \ } | | | | _\ _ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 -- _The timeslots assigned to the TBF are all the timeslots | | assigned_ | | | | -- _in the Global Timeslot description_ | | | | \| 1 \ } -- _The | | timeslots assigned to the TBF are a subset of all the_ | | | | -- _timeslots assigned in the Global Timeslot description. Where_ | | | | -- _N is the amount of timeslots assigned to the MS in the Global_ | | | | -- _Timeslot description_ | | | | { 0 \ \-- _The same USF is valid | | on all timeslots assigned to the TBF_ | | | | \| 1 -- _Different USF(s) assigned_ | | | | \ \-- _USF assignment on the | | lowest numbered timeslot_ | | | | -- _assigned to the TBF_ | | | | { 0 \| 1 \ } * (M-1) } ; -- | | _USFs on subsequent timeslots assigned to the TBF:_ | | | | -- _A '0' (respectively a '1' followed by a USF value)_ | | | | -- _means same (respectively different) USF value as the_ | | | | -- _USF on the next lower numbered timeslot assigned to_ | | | | -- _the TBF._ _Where M is the amount of timeslots assigned_ | | | | -- _to the TBF in the TBF_TIMESLOT_ALLOCATION if_ | | | | -- _present, else in the Global_ _Timeslot_ _description_ | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | \ | | | | _\ _ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 -- _\'1\' indicates that time-based FANR is selected_ | | | | _\ _ \-- _carrier 1 in | | Downlink Dual Carrier configuration_ | | | | { 0 \| 1 \ } -- _carrier 2 | | in Downlink Dual Carrier configuration_ | | | | _}_ | | | | { 0 -- _The timeslots/PDCH-pairs assigned to the TBF are all the | | timeslots assigned_ | | | | -- _in the Global Timeslot description or PDCH pair description_ | | | | \| 1 \ } -- _see | | description in Table 11.2.29a.2_ | | | | { 0 \ | | | | { 0 \| 1 \ } -- _The same USF | | is valid on all timeslots/PDCH-pairs assigned -- to the TBF for | | each specified carrier_ | | | | \| 1 -- _Different USF(s) assigned; see description in Table | | 11.2.29a.2_ | | | | \ | | | | { 0 \| 1 \ } * (M-1) | | | | } ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.29a.2: MULTIPLE TBF UPlink ASSIGNMENT information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1...4)\ | | This field is defined in sub-clause 12.14, PRACH Control Parameters. | +----------------------------------------------------------------------+ | **TLLI / G-RNTI** \ | | This information element is defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **G-RNTI extension** (4 bit field) | | | | This field contains the extra 4 bits of the G-RNTI not included in | | the TLLI / G-RNTI field or **CONTENTION_RESOLUTION Identifier | | field** which are necessary to provide a unique identifier for | | contention resolution in Iu-mode. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element identifies one of the mobile station's | | downlink or uplink TFIs. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | The Channel Coding Indicator field indicates the channel coding | | scheme that the mobile station shall use when transmitting data on | | the uplink. If this field is included in the main body of the | | message, it shall refer to all GPRS TBF mode uplink TBFs assigned in | | the message (default value). If this field is included in the Uplink | | TBF Assignment struct, it refers only to the TBF given by the TFI | | Assignment (this specific value overrules the default value). Every | | TBF defined in GPRS TBF mode shall be assigned either the default | | value or a specific value. | | | | Bit\ | | 2 1\ | | 0 0 CS-1\ | | 0 1 CS-2\ | | 1 0 CS-3\ | | 1 1 CS-4 | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field) | | | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **EGPRS Window Size** | | | | This information element is defined in sub-clause 12.5.2. | | | | If this field is included in the main body of the message, it shall | | refer to all EGPRS TBF mode uplink TBFs assigned in the message | | (default value). If this field is included in the Uplink TBF | | Assignment struct, it refers only to the TBF given by the TFI | | Assignment (this specific value overrules the default value). Every | | TBF defined in EGPRS TBF mode shall be assigned either the default | | value or a specific value. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme** | | | | This field contains the _EGPRS Modulation and Coding Scheme_ | | information element defined in sub-clause 12.10d. | | | | If this field is included in the main body of the message, it shall | | refer to all EGPRS TBF mode uplink TBFs assigned in the message | | (default value). If this field is included in the Uplink TBF | | Assignment struct, it refers only to the TBF given by the TFI | | Assignment (this specific value overrules the default value). Every | | TBF defined in EGPRS TBF mode shall be assigned either the default | | value or a specific value. | | | | If this field is included in a Dual Carrier assignment, it shall | | specify the initial EGPRS Modulation and Coding Scheme to be used on | | both carriers. | +----------------------------------------------------------------------+ | **TLLI_BLOCK_CHANNEL_CODING** (1 bit field)\ | | This field indicates the channel coding command that the mobile | | station shall use for any RLC data block containing a TLLI / G-RNTI | | field in the RLC data block header. This field is coded as shown: | | | | 0 the mobile station shall use CS-1 in GPRS TBF mode and MCS-1 in | | EGPRS TBF mode. | | | | 1 the mobile station shall use the value commanded in the | | CHANNEL_CODING_COMMAND or EGPRS_CHANNEL_CODING_COMMAND field. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | This field contains a constant which is used for filtering channel | | quality measurements in EGPRS. BEP_PERIOD2 when present, or if not, | | when received in a previous message of the same TBF session, shall | | be used instead of BEP_PERIOD. For details see 3GPP TS 45.008. | | | | Range: 0 to 15 | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | This information element assigns one TFI to each TBF assigned to the | | mobile station in this message. This field is repeated for each TBF | | that is assigned in this message. TFI values are encoded as defined | | in sub-clause 12.15. | +----------------------------------------------------------------------+ | **RB Id (5 bit field)** | | | | **This field contains the radio bearer identifier for the radio | | bearer using the assigned TBF. This provides the mapping of TFI to | | RB Id which is necessary to uniquely identify Iu-mode data flows.** | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field contains the PFI parameter identifying a Packet Flow | | Context. The PFI parameter is encoded as the contents of the PFI | | information element as defined in 3GPP TS 44.018. | | | | **RLC_MODE** (1 bit field)\ | | This field contains the RLC mode to be used for the assigned TBF. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | In case of a BTTI configuration, **this field contains the timeslot | | number of the timeslot where the PACCH for the MS is located.** In | | case of an RTTI configuration, **this field contains the timeslot | | number of the timeslot** belonging to the uplink PDCH pair **where | | the PACCH/U for the MS is located. It is encoded as the binary | | representation of the timeslot number as defined in | | 3GPP TS 45.002.** | | | | **Uplink Control Timeslot C1 (3 bit field)** | | | | In case of a BTTI configuration, **this field contains the timeslot | | number of the timeslot where the PACCH for the MS is located.** In | | case of an RTTI configuration, **this field contains the timeslot | | number of the timeslot** belonging to the uplink PDCH pair **where | | the PACCH/U for the MS is located. It is encoded as the binary | | representation of the timeslot number as defined in | | 3GPP TS 45.002.** If the Assignment Type field is present and | | indicates \'Dual Carrier assignment\', this field applies to carrier | | 1, otherwise this field applies to the carrier identified by the | | Carrier ID field. | | | | **Uplink Control Timeslot C2 (3 bit field)** | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', **this field contains the timeslot number on carrier 2 | | of the timeslot where the PACCH for the MS is located** in case of a | | BTTI configuration, or **the timeslot number of the timeslot** | | belonging to the uplink PDCH pair **where the PACCH/U for the MS is | | located i** n case of an RTTI configuration**. It is encoded as the | | binary representation of the timeslot number as defined in | | 3GPP TS 45.002.** | +----------------------------------------------------------------------+ | **Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element, if present, assigns frequency parameters | | to the uplink TBF. If this information element is not present the | | mobile station shall use its previously assigned frequency | | parameters. This information element is defined in sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2\ | |** These information elements are coded as defined in sub-clause | | 12.8. See sub-clause 11.2.7 for the usage of these information | | elements. | | | | **Dual Carrier Frequency Parameters\ | |** This information element, if present, assigns frequency parameters | | to the uplink TBF for both carriers in a dual carrier configuration. | | This information element is defined in sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF.\ | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **TBF Starting Time** \ | | The TBF Starting Time field contains a starting time that indicates | | the frame number during which the assigned TBF may start. | | | | In case of dynamic allocation, if no uplink TBF is in progress, the | | MS need not monitor the USF field until the TDMA frame number | | occurs. When the indicated TDMA frame number occurs, the mobile | | station shall immediately begin to monitor the USF field and use the | | new assigned uplink TBF parameters when its USF has occurred. If an | | uplink TBF is already in progress, the MS shall continue to use the | | parameters of the existing TBF until the TDMA frame number occurs. | | When the indicated TDMA frame number occurs, the mobile station | | shall immediately begin to monitor the USF field and use the new | | assigned uplink TBF parameters when its USF has occurred. | | | | In case of single block allocation, the mobile station shall use the | | assigned timeslot during the RLC/MAC block whose first TDMA burst | | occurs in the indicated TDMA frame number. | | | | This information element is encoded as the Starting Frame Number | | Description IE. See sub-clause 12.21. | +----------------------------------------------------------------------+ | **MS_TIMESLOT_ALLOCATION (8 bit field)\ | |** This information field indicates the timeslots assigned for use by | | the MS for the assigned uplink TBFs. Bit 8 indicates the status of | | timeslot 0, bit 7 indicates the status of timeslot 1, etc. At least | | one timeslot must be assigned. In case of a timeslot allocation | | without power control parameters, the values of the power control | | parameters for assigned timeslots shall be the default values as | | specified in 3GPP TS 45.008. However, in case some of the timeslots | | assigned by this message are already used by the mobile station, the | | mobile station shall continue to use the current power control | | parameters for these timeslots. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | | | | **TIMESLOT_ALLOCATION_C1,** **TIMESLOT_ALLOCATION_C2** (8 bit | | field)**\ | |** The usage of these fields is as specified in sub-clause 11.2.7. | | | | At least one timeslot must be assigned. In case of a timeslot | | allocation without power control parameters, the values of the power | | control parameters for assigned timeslots shall be the default | | values as specified in 3GPP TS 45.008. However, in case some of the | | timeslots assigned by this message are already used by the mobile | | station, the mobile station shall continue to use the current power | | control parameters for these timeslots. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | +----------------------------------------------------------------------+ | **TBF_TIMESLOT_ALLOCATION (N bit field)\ | | This information field indicates the timeslots assigned to a | | particular uplink TBF, within the timeslots assigned to the MS in | | the Global Timeslot description. This field contains as many bits as | | there are timeslots assigned to the MS in the Global Timeslot | | description. Bit N indicates the status of the lowest numbered | | timeslot in the timeslots assigned to the MS in the Global Timeslot | | description. Bit N-1 (if any) indicates the status of the next | | lowest numbered timeslot, etc. At least one timeslot must be | | assigned per TBF** | | | | **0 Timeslot is not assigned\ | | 1 Timeslot is assigned** | +----------------------------------------------------------------------+ | **USF_ALLOCATION** (3 bit field) | | | | This field indicates the USF value assigned to the MS for one or | | more assigned timeslots. This field is encoded as a binary | | presentation of the USF value as defined in sub-clause 10.4.1. | | | | **USF_ALLOCATION_C1, USF_ALLOCATION_C2** (3 bit field) | | | | These fields indicate the USF value assigned for all timeslots on | | the relevant carrier. | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', USF_ALLOCATION_C1 applies to carrier 1, otherwise it | | applies to the carrier identified by the Carrier ID field. | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', and USF_ALLOCATION_C1 is present and | | USF_ALLOCATION_C2 is absent, the value specified by | | USF_ALLOCATION_C1 applies to timeslots assigned on both carriers. | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station when it is assigned a TBF using Dynamic | | Allocation or Extended Dynamic Allocation. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | | | | **ALPHA_C1, ALPHA_C2** (4 bit field)\ | | These fields indicate the value of the parameter alpha to be applied | | in power control. For encoding and description see the Global Power | | Control Parameters IE. For usage of these parameters, see sub-clause | | 11.2.29. | +----------------------------------------------------------------------+ | **N_PAIRS** (3 bit field) | | | | This field indicate the number of PDCH pairs for which GAMMA values | | are signalled. The number PDCH pairs is given as the binary value of | | the corresponding field plus one. | | | | See Annex K for details of the coding of this field. | +----------------------------------------------------------------------+ | **GAMMA, GAMMA_TN** (5 bit field)\ | | The field is the binary representation of the parameter ΓCH for MS | | output power control in units of 2 dB, see 3GPP TS 45.008. The field | | is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | | | | **GAMMA_TN_C1** (5 bit field), **GAMMA_TN_C2** (5 bit field)\ | | For usage and coding of these parameters, see sub-clause 11.2.29. | +----------------------------------------------------------------------+ | **P0** (4 bit field)\ | | This field is an optional downlink power control parameter. If P0 is | | present, then downlink power control is used; otherwise, if P0 is | | not present, then downlink power control is not used. It is encoded | | as follows: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 P0 = 0 dB\ | | 0 0 0 1 P0 = 2 dB\ | | 0 0 1 0 P0 = 4 dB\ | | :\ | | 1 1 1 1 P0 = 30 dB | | | | **P0_C1, P0_C2** (4 bit field)\ | | For the usage of these fields, see sub-clause 11.2.29. | +----------------------------------------------------------------------+ | **PR_MODE** (1 bit field)\ | | This field indicates the PR Management mode, as defined in | | 3GPP TS 45.008. It is encoded as follows:\ | | 0 PR mode A: for one addressed MS\ | | 1 PR mode B: for all MS | | | | **PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | For the usage of these fields, see sub-clause 11.2.29. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode | | | | The list of NPM Transfer Time IEs in the Rel-7 additions is ordered | | as described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ | **Assignment Type**(2 bit field) | | | | This field is defined in sub-clause 11.2.7. | +----------------------------------------------------------------------+ |** Carrier ID**(1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ |** REPORTED TIMESLOTS**(8 bit field) | | | | The field indicates the timeslots for which feedback is provided by | | a time-based encoded PAN field and is encoded as the | | TIMESLOT_ALLOCATION IE defined in sub-clause 12.18. | +----------------------------------------------------------------------+ |** Uplink TBF Assignment 2 struct**| | | | If the TBF_TIMESLOT_ALLOCATION bitmap is present, then the | | timeslots/PDCH-pairs assigned to the TBF are a subset of all the | | timeslots assigned in the Global Timeslot description or PDCH-pairs | | described in the PDCH-pair description. In BTTI mode, N is the | | number of timeslots assigned to the MS in the Global Timeslot | | description. In RTTI mode N is the number of PDCH-pairs described in | | the PDCH-pair description. | | | | If different USFs are assigned on different timeslots/PDCH-pairs, | | then the USFs are listed in increasing order of timeslot numbers. In | | BTTI mode, M is the number of timeslots assigned to the TBF in the | | TBF_TIMESLOT_ALLOCATION if present, else in the Global Timeslot | | description. In RTTI configurations using RTTI USF mode M is the | | number of PDCH-pairs assigned to the TBF in the | | TBF_TIMESLOT_ALLOCATION if present, else M is the number of | | PDCH-pairs described in the PDCH-pair description. In RTTI | | configurations using BTTI USF mode M is twice the number of | | PDCH-pairs assigned to the TBF in the TBF_TIMESLOT_ALLOCATION if | | present, else M is twice the number of PDCH-pairs described in the | | PDCH-pair description. | | | | If no USF is specified, then the USF value is the same as the | | previously indicated USF value. | +----------------------------------------------------------------------+ |** PDCH Pairs Description**| | | | This information element is defined in sub-clause 12.5.5. | +----------------------------------------------------------------------+ |** RTTI_USF_MODE**(1 bit field) | | | | This field is as specified in the Packet Uplink Assignment message | +----------------------------------------------------------------------+ |** TSH**(2 bit field) | | | | This field indicates the time-shift between the most recent radio | | block period for which feedback information is provided and the | | radio block period when the bitmap is sent:\ | | bit\ | | 2 1\ | | 0 0 4 TDMA frames (for a basic TTI configuration) or 2 TDMA frames | | (for a reduced TTI configuration)\ | | 0 1 8 TDMA frames (for a basic TTI configuration) or 4 TDMA frames | | (for a reduced TTI configuration)\ | | 1 0 12 TDMA frames (for a basic TTI configuration) or 6 TDMA frames | | (for a reduced TTI configuration)\ | | 1 1 16 TDMA frames (for a basic TTI configuration) or 8 TDMA frames | | (for a reduced TTI configuration) | +----------------------------------------------------------------------+ |** Uplink EGPRS Level**(2 bit field) | | | | This field specifies the group of modulation and coding schemes | | applicable to the TBF(s). This information element is defined in | | sub-clause 12.10f. | +----------------------------------------------------------------------+ |** Pulse Format** (N bits field) | | | | This information element, if assigned, specified on which radio | | frequency channel the mobile station shall transmit using the | | narrow-band pulse option. The information element is defined in | | sub-clause 12.8.3. | +----------------------------------------------------------------------+
### 11.2.30 (void)
### 11.2.30a Packet Pause
This optional message is sent on the PACCH from a mobile station with non-GSM
capabilities to the network to request a pause of GPRS services.
Message type: PACKET PAUSE
Direction: mobile station to network
Table 11.2.30a.1: Packet PAUSE information elements
+----------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +----------------------------------------+
Table 11.2.30a.2: Packet PAUSE information element details
**TLLI** (32 bit field)\ This field contains the TLLI of the mobile station.
This field is encoded as defined in sub-clause 12.16.
**RAI** (48 bit field)\ This field contains the Routing Area identification.
This field is described in 3GPP TS 44.018.
### 11.2.31 Packet Timeslot Reconfigure
This message is sent on the PACCH by the network to the mobile station to
assign uplink and downlink resources. If the mobile station supports Downlink
Dual Carrier, this message may be sent using extended RLC/MAC control message
segmentation (see sub-clause 9.1.12a). A mobile allocation or reference
frequency list received as part of this assignment message shall be valid
until a new assignment is received or each TBF of the MS are terminated.
Message type: PACKET TIMESLOT RECONFIGURE
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.31.1: Packet TIMESLOT RECONFIGURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | { 0 -- _Message escape_ | | | | { \ | | | | \ > | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ | | > } | +----------------------------------------------------------------------+ | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | \ > | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for R99_ | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-5_ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible_ | | | | \| 1 -- _Additions for Rel-6_ | | | | _{ 0 \| 1 \ _ } | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\  }_ | | | | \ } } } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape bit used to define EGPRS message contents_ | | | | { 00 { { 0 \| 1 \> } | | | | \> | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ | | > } | +----------------------------------------------------------------------+ | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | \ > | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-5_ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible_ | | | | \| 1 -- _Additions for Rel-6_ | | | | _{ 0 \| 1 \ _ } | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\  }_ | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-7_ | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 \ } | | | | \ } } } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 01 -- _escape for Downlink Dual Carrier, BTTI using FANR, | | EGPRS2, RTTI_ | | | | { \> | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ } | +----------------------------------------------------------------------+ | { 0 -- _BTTI mode_ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 -- _RTTI mode_ | | | | \ | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \ | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \ | | | | } | | | | } | | | | { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | -- _reserved for future used_ | | | | } | +----------------------------------------------------------------------+ | \ > | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | _{ 0 \| 1 \ _ } | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\  }_ | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 _\ _ } | | | | { 0 -- _Fast Ack/Nack Reporting is not activated for the downlink | | TBF;_ | | | | \| 1 -- _Fast Ack/Nack Reporting is activated for the downlink TBF_ | | | | \ } | | | | { 0 -- _Fast Ack/Nack Reporting is not activated for the uplink | | TBF_ | | | | \| 1 -- _Fast Ack/Nack Reporting is activated for the uplink TBF_ | | | | { 0 -- _SSN-based encoding is selected_ | | | | \| 1 -- _Time-based encoding is selected_ | | | | \ \-- _carrier 1 in | | Downlink Dual Carrier_ | | | | -- _configuration_ | | | | { 0 \| 1 \ } -- _carrier 2 | | in Downlink Dual Carrier_ | | | | -- _configuration_ | | | | \ } } -- _This structure shall be considered | | only valid if_ \-- _an uplink TBF is addressed_ | | | | \ > | | | | \ > | | | | { 0 \| 1 \ > } | | | | \ | | | | ! \ > } | | | | ! \ > } } | | -- _Extended for future changes_ | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | \ | | | | 0 -- _The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used._ | | | | { 0 \| 1 \ > } | | | | { 0 -- _Timeslot Allocation_ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \| 1 -- _Timeslot Allocation with Power Control Parameters_ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 -- Allocation without Power Control Parameters | | | | \ | | | | { 0 \| 1 \ } *( val(**N_USF**) + 1) | | | | \| 1 -- Allocation with Power Control Parameters | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 -- _BTTI mode_ | | | | \ | | | | { 0 \| 1 | | | | \ | | | | \ | | | | } * ( val(**N_TS**) + 1) | | | | \| 1 -- _RTTI mode_ | | | | \ | | | | { 0 \| 1 | | | | \ | | | | \ | | | | } * (val(**N_PAIRS**) + 1) | | | | { 0 -- RTTI USF | | | | \| 1 -- BTTI USF | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } | | | | } * (val(**N_PAIRS**) + 1) | | | | } | | | | } | | | | } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 11.2.31.2: Packet TIMESLOT RECONFIGURE information element details
+----------------------------------------------------------------------+ | **Global TFI** (6 bit field)\ | | This field identifies (one of) the uplink TFI, if available, or (one | | of) the downlink TFI, to which this message applies. This field is | | defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | The Channel Coding Indicator field indicates the channel coding | | scheme that the mobile station shall use when transmitting on the | | uplink. | | | | bit\ | | 2 1\ | | 0 0 CS-1\ | | 0 1 CS-2\ | | 1 0 CS-3\ | | 1 1 CS-4 | +----------------------------------------------------------------------+ | **COMPACT reduced MA** \ | | This information element is defined in sub-clause 12.29. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme** \ | | The EGPRS modulation and coding scheme information element is | | defined in sub-clause 12.10d. | | | | If this field is included in a Dual Carrier assignment, it shall | | specify the initial EGPRS Modulation and Coding Scheme to be used on | | both carriers. | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)\ | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **EGPRS Window Size** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | This field is encoded as the LINK_QUALITY_MEASUREMENT_MODE IE of | | the PACKET DOWNLINK ASSIGNMENT message, as defined in sub-clause | | 11.2.7. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | This field contains a constant which is used for filtering channel | | quality measurements in EGPRS. BEP_PERIOD2 when present, or if not, | | when received in a previous message of the same TBF session, shall | | be used instead of BEP_PERIOD. For details see 3GPP TS 45.008. | | | | Range: 0 to 15 | +----------------------------------------------------------------------+ | **Global Packet Timing Advance\ | |** This information element is defined in sub-clause 12.12a. | +----------------------------------------------------------------------+ | **DOWNLINK_RLC_MODE** (1 bit field)\ | | This field indicates the RLC mode of the requested TBF. If a new | | mode is assigned by the network for an already established TBF, the | | MS shall ignore the new assigned mode and shall maintain the TBF in | | the old mode. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | This field shall be set to \'1\' if the network establishes a new | | downlink TBF for the mobile station whose timer T3192 is running. | | Otherwise this field shall be set to \'0\'. | +----------------------------------------------------------------------+ | **DOWNLINK_TFI_ASSIGNMENT** (5 bit field)\ | | This information element, if present, assigns the contained TFI to | | the mobile station to identify a downlink TBF described by this | | message. This field is coded the same as the TFI field defined in | | sub-clause 12.15. | +----------------------------------------------------------------------+ | **UPLINK_TFI_ASSIGNMENT** (5 bit field)\ | | This information element, if present, assigns the contained TFI to | | the mobile station to identify an uplink TBF described by this | | message. This field is coded the same as the TFI field defined in | | sub-clause 12.15. | +----------------------------------------------------------------------+ | **DOWNLINK_TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is defined in sub-clause 12.18. | | | | **TIMESLOT_ALLOCATION_C1,** **TIMESLOT_ALLOCATION_C2** (8 bit | | field)**\ | |** These fields indicate the assigned timeslots for the downlink TBF. | | The usage of these fields is as specified in sub-clause 11.2.7. | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element, if present, assigns frequency parameters | | to the uplink and downlink TBFs. If this information element is not | | present the mobile station shall use its previously assigned | | frequency parameters. This information element is defined in | | sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2\ | |** These information elements are coded as defined in sub-clause | | 12.8. The usage of these fields is as specified in sub-clause | | 11.2.7. | | | | **Dual Carrier Frequency Parameters\ | |** This information element, if present, assigns frequency parameters | | to the uplink TBF for both carriers in a dual carrier configuration. | | This information element is defined in sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **Dynamic Allocation struct\ | |** This information element contains parameters necessary to define | | the radio resources of a dynamic allocation or an extended dynamic | | allocation. | | | | In case of a timeslot allocation without power control parameters, | | the values of the power control parameters for assigned timeslots | | shall be the default values as specified in 3GPP TS 45.008. However, | | in case some of the timeslots assigned by this message are already | | used by the mobile station, the mobile station shall continue to use | | the current power control parameters for these timeslots. | | | | **Dynamic Allocation 2 struct\ | |** This information element contains parameters necessary to define | | the radio resources of a dynamic allocation or an extended dynamic | | allocation in a dual carrier, RTTI, BTTI with FANR activated, or | | EGPRS2 configuration. | | | | In case of a timeslot allocation without power control parameters, | | the values of the power control parameters for assigned timeslots | | shall be the default values as specified in 3GPP TS 45.008. However, | | in case some of the timeslots assigned by this message are already | | used by the mobile station, the mobile station shall continue to use | | the current power control parameters for these timeslots. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF. | | | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **TBF Starting Time** \ | | The TBF Starting Time field contains a starting time that indicates | | the frame number during which the assigned TBF may start. | | | | If no downlink TBF is in progress, the mobile station need not | | monitor the TFI field of downlink RLC data blocks until the | | indicated TDMA frame number. After the indicated TDMA frame number, | | the mobile station shall apply the new downlink parameters and then | | operate as during a downlink TBF. If a downlink TBF is already in | | progress, the mobile station shall continue to use the parameters of | | the existing TBF until the TDMA frame number occurs. When the | | indicated TDMA frame number occurs, the mobile station shall | | immediately begin to use the new downlink parameters assigned. | | | | If no uplink TBF is in progress, the MS need not monitor the USF | | field until the TDMA frame number occurs. When the indicated TDMA | | frame number occurs, the mobile station shall immediately begin to | | monitor the USF field and use the new assigned uplink TBF parameters | | when its USF has occurred. If an uplink TBF is already in progress, | | the MS shall continue to use the parameters of the existing TBF | | until the TDMA frame number occurs. When the indicated TDMA frame | | number occurs, the mobile station shall immediately begin to monitor | | the USF field and use the new assigned uplink TBF parameters when | | its USF has occurred. | | | | This field is encoded as the Starting Frame Number Description IE. | | See sub-clause 12.21 | +----------------------------------------------------------------------+ | **USF_TN0** (3 bit field)\ | | **USF_TN1** (3 bit field)\ | | **USF_TN2** (3 bit field)\ | | **USF_TN3** (3 bit field)\ | | **USF_TN4** (3 bit field)\ | | **USF_TN5** (3 bit field)\ | | **USF_TN6** (3 bit field)\ | | **USF_TN7** (3 bit field) | | | | These fields indicate the USF value assigned to the MS for timeslots | | 0 to 7. These fields are encoded as a binary presentation of the USF | | value as defined in sub-clause 10.4.1. | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | | | | **ALPHA_C1, ALPHA_C2** (4 bit field)\ | | The usage of these fields is as specified in sub-clause 11.2.29.2. | +----------------------------------------------------------------------+ | **GAMMA, GAMMA_TN** (5 bit field)\ | | This field is the binary representation of the parameter ΓCH for MS | | output power control in units of 2 dB, see 3GPP TS 45.008. The field | | is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | | | | In the case of RTTI mode with BTTI USF, exactly one GAMMA field | | shall be included for each PDCH pair for which either one or two USF | | values are assigned. | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station when it is assigned a TBF using Dynamic | | Allocation or Extended Dynamic Allocation. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+ | **P0, P0_C1, P0_C2** (4 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **PR_MODE, PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **_RB Id of downlink TBF_** (5 bit field) | | | | **_RB Id of uplink TBF_** (5 bit field) | | | | These fields are included when this message is used to reconfigure | | TBFs in Iu mode. These fields contain the radio bearer identifier | | for the radio bearer using the assigned TBF. | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | **Uplink Control Timeslot C1 (3 bit field)** | | | | **Uplink Control Timeslot C2 (3 bit field)** | | | | **For description and coding see the Packet Uplink Assignment | | message.** | +----------------------------------------------------------------------+ | **_PFI_ * **of downlink TBF**(7 bit field)_| | | |_** PFI**** of uplink TBF**(7 bit field)* | | | | This field contains the PFI parameter identifying a Packet Flow | | Context related to the TBF identified in the | | DOWNLINK_TFI_ASSIGMENT field or UPLINK_TFI_ASSIGMENT field | | respectively. The PFI parameter is encoded as the contents of the | | PFI information element as defined in 3GPP TS 44.018. | | | |** UPLINK_RLC_MODE**(1 bit field)\ | | This field contains the RLC mode to be used for the assigned TBF. If | | a new mode is assigned by the network for an already established | | TBF, the MS shall ignore the new assigned mode and shall maintain | | the TBF in the old mode. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ |** Downlink NPM Transfer Time**(5 bit field)\ | |** Uplink NPM Transfer Time**(5 bit field)\ | | This field contains the NPM Transfer Time limitation in case a TBF | | using RLC non-persistent mode is established with the message. | | Otherwise, this field, if present, shall be ignored. | +----------------------------------------------------------------------+ |** Assignment Type**(2 bit field)\ | | This field is defined in sub-clause 11.2.7 | +----------------------------------------------------------------------+ |** Carrier ID**(1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ |** EVENT_BASED_FANR**(1 bit field) | | | | This field indicates whether the event-based FANR shall be used for | | the assigned TBF. This field shall be included if the assignment is | | for a RTTI configuration. | | | | 0 The MS shall not use event-based FANR\ | | 1 The MS shall use event-based FANR | +----------------------------------------------------------------------+ |** REPORTED TIMESLOTS C1,**** REPORTED TIMESLOTS C2**(8 bit field) | | | | The field indicates the timeslots for which feedback is provided by | | a time-based encoded PAN field and is encoded as the | | TIMESLOT_ALLOCATION IE defined in sub-clause 12.18. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then REPORTED TIMESLOTS C1 shall apply to the carrier specified in | | the Carrier ID field. Otherwise, REPORTED TIMESLOTS C1 and REPORTED | | TIMESLOTS C2 apply to carrier 1 and carrier 2 respectively. | +----------------------------------------------------------------------+ |** DOWNLINK_PDCH_PAIRS_C1**| | | |** DOWNLINK_PDCH_PAIRS_C2**| | | | These specify the set of timeslots which make up the downlink PDCH | | pairs on the respective carrier. The first PDCH pair comprises the | | two lowest-numbered timeslots for which the corresponding bits are | | set to \'1\'; the next PDCH pair comprises the next two | | lowest-numbered timeslots for which the corresponding bits are set | | to \'1\', and so on. Bit 8 indicates the status of timeslot 0, bit 7 | | indicates the status of timeslot 1, etc. At least two timeslots must | | be assigned. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then DOWNLINK_PDCH_PAIRS_C1 shall apply to the carrier specified | | in the Carrier ID field. Otherwise, DOWNLINK_PDCH_PAIRS_C1 and | | DOWNLINK_PDCH_PAIRS_C2 apply to carrier 1 and carrier 2 | | respectively. | +----------------------------------------------------------------------+ |** UPLINK_PDCH_PAIRS_C1**| | | |** UPLINK_PDCH_PAIRS_C2**| | | | These specify the set of timeslots which make up the uplink PDCH | | pairs on the respective carrier. The first PDCH pair comprises the | | two lowest-numbered timeslots for which the corresponding bits are | | set to \'1\'; the next PDCH pair comprises the next two | | lowest-numbered timeslots for which the corresponding bits are set | | to \'1\', and so on. Bit 8 indicates the status of timeslot 0, bit 7 | | indicates the status of timeslot 1, etc. At least two timeslots must | | be assigned. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then UPLINK_PDCH_PAIRS_C1 shall apply to the carrier specified in | | the Carrier ID field. Otherwise, UPLINK_PDCH_PAIRS_C1 and | | UPLINK_PDCH_PAIRS_C2 apply to carrier 1 and carrier 2 | | respectively. | +----------------------------------------------------------------------+ |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC**(4 bit field) | | | | This specifies which of the downlink PDCH pairs are included in the | | single carrier assignment for the downlink TBF. If the bit number (5 | | - n) of the** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC**field is | | set to \'1\', then the _n_ th downlink PDCH pair specified in the | | **DOWNLINK_PDCH_PAIRS_C1**bitmap, or in the default | | configuration if so indicated in the message, is included in the | | downlink assignment (see sub-clause 7.1.3.6). | | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC**(8 bit field) | | | | This specifies which of the downlink PDCH pairs are included in the | | dual carrier assignment for the downlink TBF. If the bit number (9 - | | n) of the** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC**field is | | set to \'1\', then the _n_ th downlink PDCH pair specified in the | | **DOWNLINK_PDCH_PAIRS_C1**or** DOWNLINK_PDCH_PAIRS_C2**| | bitmap, or in the default configuration if so indicated in the | | message, is included in the downlink assignment (see sub-clause | | 7.1.3.6). | +----------------------------------------------------------------------+ |** USF, N_USF, N_TS, N_PAIRS, USF_2**| | | | These fields are specified and encoded as for the Packet Uplink | | Assignment message (see sub-clause 11.2.29 and Annex K). | +----------------------------------------------------------------------+ |** RTTI_USF_MODE**(1 bit field) | | | | This field is as specified in the Packet Uplink Assignment message | +----------------------------------------------------------------------+ |** TSH**(2 bit field) | | | | This field indicates the time-shift between the most recent radio | | block period for which feedback information is provided and the | | radio block period when the bitmap is sent: | | | | bit | | | | 2 1 | | | | 0 0 4 TDMA frames (for a basic TTI configuration) or 2 TDMA frames | | (for a reduced TTI configuration) | | | | 0 1 8 TDMA frames (for a basic TTI configuration) or 4 TDMA frames | | (for a reduced TTI configuration) | | | | 1 0 12 TDMA frames (for a basic TTI configuration) or 6 TDMA frames | | (for a reduced TTI configuration) | | | | 1 1 16 TDMA frames (for a basic TTI configuration) or 8 TDMA frames | | (for a reduced TTI configuration) | +----------------------------------------------------------------------+ |** Uplink EGPRS Level, Downlink EGPRS Level**(2 bits field) | | | | These fields assign the group of modulation and coding schemes | | applicable to the uplink and downlink TBFs respectively. This | | information element is defined in sub-clause 12.10f. | +----------------------------------------------------------------------+ |** Pulse Format** (N bits field) | | | | This information element, if assigned, specified on which radio | | frequency channel the mobile station shall transmit using the | | narrow-band pulse option. The information element is defined in | | sub-clause 12.8.3. | +----------------------------------------------------------------------+
#### 11.2.31.1 Special requirements in dual transfer mode
Special requirements apply when a TBF is assigned to a mobile station in dual
transfer mode or about to enter dual transfer mode, see sub-clauses 11.2.7.1
and 11.2.29.1 of the present document.
### 11.2.31a Multiple TBF Timeslot Reconfigure
This message is sent on the PACCH by the network to the mobile station to
assign uplink and downlink resources. If the mobile station supports Downlink
Dual Carrier, this message may be sent using extended RLC/MAC control message
segmentation (see sub-clause 9.1.12a). A mobile allocation or reference
frequency list received as part of this assignment message shall be valid
until a new assignment is received or each TBF of the MS are terminated.
Message type: MULTIPLE TBF TIMESLOT RECONFIGURE
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.31a.1: MULTIPLE TBF TIMESLOT RECONFIGURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | { 0 -- _Message escape for GPRS mode TBFs_ | | | | { { 0 \| 1 \ } | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 | | | | \ > | | | | \ | | | | } | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape bit for EGPRS mode TBFs_ | | | | { 00 { | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } } | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | > } | | | | { 1 \ > } ** 0 | | | | \ > | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-7_ | | | | { 0 \| 1 \ } ** 0 | | | | \ } | | | | } | | | | ! \ > | | | | } | +----------------------------------------------------------------------+ | { 01 { -- _Message escape for dual carrier, BTTI with FANR | | activated, RTTI, EGPRS2_ | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } | | | | } | | | | \ > | | | | { 0 \| 1 \ } | | | | { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | -- _reserved for future use_ | | | | } | +----------------------------------------------------------------------+ | { 0 \| 1 -- _BTTI mode_ | | | | \ | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 -- _RTTI mode_ | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH-pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | { 1 \ > } ** 0 | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | { 1 \ > } ** 0 | | | | } | | | | } | | | | { 0 \| 1 -- _BTTI and/or RTTI mode for uplink_ | | | | \ > | | | | } | | | | \ > | | | | \ > | | | | { 0 \| 1 \ > } | | | | \ | | | | } | | | | ! \ > | | | | } | | | | ! \ > | | -_-Extended for future changes_ | | | | } | | | | ! \ > | | | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \ | | | | \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 _\ _ } | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > | | | | { 1 \ > } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | { 0 \| 1 -- _\'1\' indicates that FANR is activated_ | | | | { 0 -- _SSN-based encoding is selected_ | | | | \| 1 -- _Time-based encoding is selected_ | | | | \ } } | | | | { 0 \| 1 | | | | { 0 \| 1 -- BTTI mode | | | | \ > | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 -- RTTI mode | | | | { 0 -- _without power control parameters_ | | | | \| 1 -- _with power control parameters_ | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } * (val(**N_PAIRS**) + 1) | | | | { 0 _\-- RTTI USF, or no second GAMMA values are given in case of | | RTTI mode with BTTI USF_ | | | | \| 1 _\-- Second GAMMA values are given in case of RTTI mode with | | BTTI USF_ | | | | { 0 \| 1 \ } * (val(**N_PAIRS**) + 1) | | | | } | | | | } | | | | { 1 \ > | | | | \ } ** 0 | | | | } | | | | } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | } ; | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | { 0 \ | | | | \| 1 \ } | | | | \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 -- _The timeslots assigned to the TBF are all the timeslots | | assigned_ | | | | -- _in the Global Timeslot description_ | | | | \| 1 \ } -- _The | | timeslots assigned to the TBF are a subset of all the_ | | | | -- _timeslots assigned in the Global Timeslot description. Where_ | | | | -- _N is the amount of timeslots assigned to the MS in the Global_ | | | | -- _Timeslot description_ | | | | { 0 \ \-- _The same USF is valid | | on all timeslots assigned to the TBF_ | | | | \| 1 -- _Different USF(s) assigned_ | | | | \ \-- _USF assignment on the | | lowest numbered timeslot_ | | | | -- _assigned to the TBF_ | | | | { 0 \| 1 \ } * (M-1) } ; -- | | _USFs on subsequent timeslots assigned to the TBF:_ | | | | -- _A '0' (respectively a '1' followed by a USF value)_ | | | | -- _means same (respectively different) USF value as the_ | | | | -- _USF on the next lower numbered timeslot assigned to_ | | | | -- _the TBF._ _Where M is the amount of timeslots assigned_ | | | | -- _to the TBF in the TBF_TIMESLOT_ALLOCATION if_ | | | | -- _present, else in the Global_ _Timeslot_ _description_ | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 \ \-- _carrier 1 in | | Downlink Dual Carrier configuration_ | | | | { 0 \| 1 \ } -- _carrier 2 | | in Downlink Dual Carrier configuration_ | | | | } | | | | \ | | | | { 0 \| 1 \ } -- _The | | timeslots assigned to the TBF are all the timeslots_ | | | | -- _assigned in the Global Timeslot description_ | | | | -- _see description in Table 11.2.29a.2_ | | | | { 0 \ | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } * (M-1) } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.31a.2: MULTIPLE TBF TIMESLOT RECONFIGURE information element
details
+----------------------------------------------------------------------+ | **Global TFI** \ | | This information element identifies one of the mobile station's | | downlink or uplink TFIs. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | The Channel Coding Indicator field indicates the channel coding | | scheme that the mobile station shall use when transmitting on the | | uplink. If this field is included in the main body of the message, | | it shall refer to all GPRS TBF mode uplink TBFs assigned in the | | message (default value). If this field is included in the Uplink TBF | | Assignment struct, it refers only to the TBF given by the TFI | | Assignment (this specific value overrules the default value). Every | | uplink TBF defined in GPRS TBF mode shall be assigned either the | | default value or a specific value. | | | | bit\ | | 2 1\ | | 0 0 CS-1\ | | 0 1 CS-2\ | | 1 0 CS-3\ | | 1 1 CS-4 | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme\ | |** The EGPRS modulation and coding scheme information element is | | defined in sub-clause 12.10d. | | | | If this field is included in the main body of the message, it shall | | refer to all EGPRS TBF mode uplink TBFs assigned in the message | | (default value). If this field is included in the Uplink TBF | | Assignment struct, it refers only to the TBF given by the TFI | | Assignment (this specific value overrules the default value). Every | | uplink TBF defined in EGPRS TBF mode shall be assigned either the | | default value or a specific value. | | | | If this field is included in a Dual Carrier assignment, it shall | | specify the initial EGPRS Modulation and Coding Scheme to be used on | | both carriers. | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)\ | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **EGPRS Window Size** \ | | This information element is defined in sub-clause 12.5.2. | | | | If this field is included in the main body of the message, it shall | | refer to all TBFs assigned in the message in the direction indicated | | (default value). If this field is included in the respective TBF | | Assignment struct (uplink or downlink), it refers only to the TBF | | given by the TFI Assignment (this specific value overrules the | | default value). Every TBF defined in EGPRS TBF mode shall be | | assigned either the default value or a specific value. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | This field is encoded as the LINK_QUALITY_MEASUREMENT_MODE IE of | | the PACKET DOWNLINK ASSIGNMENT message, as defined in sub-clause | | 11.2.7. | +----------------------------------------------------------------------+ | **Global Packet Timing Advance\ | |** This information element is defined in sub-clause 12.12a. | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | This field shall be set to \"1\" if the network wishes to instruct | | the mobile station to release the given TBFs for which T3192 is | | running. The TBFs to be released are identified by the TFIs given in | | the **TFI Assignment** field and have to be valid on the PACCH on | | which this message was sent. Otherwise this field shall be set to | | \"0\". | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | This information element assigns one (or more) TFI(s) to each TBF | | assigned to the mobile station in this message. This field is | | repeated for each TBF that is assigned in this message. Optionally, | | this field may be repeated for each timeslot on which the TBF has | | been assigned resources. This is in order to assign different TFI | | values for the same TBF on different resources (BPSCH). TFI values | | are encoded as defined in sub-clause 12.15. | +----------------------------------------------------------------------+ | **RB Id (5 bit field)** | | | | **This field contains the radio bearer identifier for the radio | | bearer using the assigned TBF. This provides the mapping of TFI to | | RB Id which is necessary to uniquely identify Iu-mode data flows.** | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | In case of a BTTI configuration, **this field contains the timeslot | | number of the timeslot where the PACCH/U for the MS is located.** In | | case of an RTTI configuration, **this field contains the timeslot | | number of the timeslot** belonging to the uplink PDCH pair **where | | the PACCH/U for the MS is located. It is encoded as the binary | | representation of the timeslot number as defined in | | 3GPP TS 45.002.** | | | | If this field is included in the Multiple Downlink Assignment | | struct, it shall refer to all downlink TBFs assigned in the message. | | If this field is included in the Downlink TBF assignment struct, it | | refers only to the TBF given by the TFI Assignment field (this | | specific value overrules any default value given in the Multiple | | Downlink Assignment struct). If the Uplink Control Timeslot field is | | not included in the message at all, then the default rules for the | | location of PACCH/U apply. | | | | **Uplink Control Timeslot C1 (3 bit field)** | | | | In case of a BTTI configuration, **this field, if present, contains | | the timeslot number on carrier1 of the timeslot where the PACCH/U | | for the MS is located.** In case of an RTTI configuration, **this | | field contains the timeslot number on carrier1 of the timeslot** | | belonging to the uplink PDCH pair **where the PACCH/U for the MS is | | located. It is encoded as the binary representation of the timeslot | | number as defined in 3GPP TS 45.002.** | | | | **Uplink Control Timeslot C2 (3 bit field)** | | | | In case of a BTTI configuration, **this field, if present, contains | | the timeslot number on carrier2 of the timeslot where the PACCH/U | | for the MS is located.** In case of an RTTI configuration, **this | | field contains the timeslot number on carrier2 of the timeslot** | | belonging to the uplink PDCH pair **where the PACCH/U for the MS is | | located. It is encoded as the binary representation of the timeslot | | number as defined in 3GPP TS 45.002.** | | | | If the Uplink Control Timeslot C1 and/or the Uplink Control Timeslot | | C2 fields are included in the BTTI Multiple Downlink Assignment | | struct (respectively RTTI Multiple Downlink Assignment SC / DC | | struct), they shall refer to all downlink TBFs assigned in the | | message. If these fields are included in the Downlink TBF assignment | | 2 struct, they refer only to the TBF given by the TFI Assignment | | field (the specific values overrule any default values given in the | | BTTI Multiple Downlink Assignment struct (respectively RTTI Multiple | | Downlink Assignment SC / DC struct)). If the Uplink Control Timeslot | | field is not included in the message at all, then the default rules | | for the location of PACCH/U apply. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is defined in sub-clause 12.18. | | | | **TIMESLOT_ALLOCATION_C1,** **TIMESLOT_ALLOCATION_C2** (8 bit | | field)**\ | |** These information fields indicate the timeslots assigned for use | | during the TBF on carrier 1 and carrier 2 respectively of a dual | | carrier configuration. These fields are defined in sub-clause 12.18. | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element, if present, assigns frequency parameters | | to the uplink and downlink TBFs. If this information element is not | | present the mobile station shall use its previously assigned | | frequency parameters. This information element is defined in | | sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2** \ | | These information elements are coded as defined in sub-clause 12.8. | | The usage of these parameters is specified in sub-clause 11.2.7. | | | | **Dual Carrier Frequency Parameters\ | |** This information element, if present, assigns frequency parameters | | to the uplink TBF for both carriers in a dual carrier configuration. | | This information element is defined in sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF. | | | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **TBF Starting Time** \ | | The TBF Starting Time field contains a starting time that indicates | | the frame number during which the assigned TBF may start. | | | | If no downlink TBF is in progress, the mobile station need not | | monitor the TFI field of downlink RLC data blocks until the | | indicated TDMA frame number. After the indicated TDMA frame number, | | the mobile station shall apply the new downlink parameters and then | | operate as during a downlink TBF. If a downlink TBF is already in | | progress, the mobile station shall continue to use the parameters of | | the existing TBF until the TDMA frame number occurs. When the | | indicated TDMA frame number occurs, the mobile station shall | | immediately begin to use the new downlink parameters assigned. | | | | In case of dynamic allocation, if no uplink TBF is in progress, the | | MS need not monitor the USF field until the TDMA frame number | | occurs. When the indicated TDMA frame number occurs, the mobile | | station shall immediately begin to monitor the USF field and use the | | new assigned uplink TBF parameters when its USF has occurred. If an | | uplink TBF is already in progress, the MS shall continue to use the | | parameters of the existing TBF until the TDMA frame number occurs. | | When the indicated TDMA frame number occurs, the mobile station | | shall immediately begin to monitor the USF field and use the new | | assigned uplink TBF parameters when its USF has occurred. | | | | This field is encoded as the Starting Frame Number Description IE. | | See sub-clause 12.21 | +----------------------------------------------------------------------+ | **MS_TIMESLOT_ALLOCATION (8 bit field)\ | |** This information field indicates the timeslots assigned for use by | | the MS for the assigned uplink TBFs. Bit 8 indicates the status of | | timeslot 0, bit 7 indicates the status of timeslot 1, etc. At least | | one timeslot must be assigned. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | | | | **MS_TIMESLOT_ALLOCATION_C1, MS_TIMESLOT_ALLOCATION_C2 (8 bit | | field)\ | |** If the Assignment Type field is included and indicates | | \'Assignment on single carrier only\' or \'Modification of existing | | assignment\', then the MS_TIMESLOT_ALLOCATION_C1 field shall | | apply to the carrier specified in the Carrier ID field. Otherwise, | | MS_TIMESLOT_ALLOCATION_C1 and MS_TIMESLOT_ALLOCATION_C2 apply | | to carrier 1 and carrier 2 respectively. These information fields | | indicate the timeslots assigned for use by the MS for the assigned | | uplink TBFs. | | | | Bit 8 indicates the status of timeslot 0, bit 7 indicates the status | | of timeslot 1, etc. If the Assignment Type field is included and | | indicates \'Dual Carrier assignment\' and | | MS_TIMESLOT_ALLOCATION_C1 is present and | | MS_TIMESLOT_ALLOCATION_C2 is not present, then the timeslots | | specified in MS_TIMESLOT_ALLOCATION_C1 apply also to carrier 2. | +----------------------------------------------------------------------+ | **TBF_TIMESLOT_ALLOCATION (N bit field)\ | | This information field indicates the timeslots assigned to a | | particular uplink TBF, within the timeslots assigned to the MS in | | the Global Timeslot description. This field contains as many bits as | | there are timeslots assigned to the MS in the Global Timeslot | | description. Bit N indicates the status of the lowest numbered | | timeslot in the timeslots assigned to the MS in the Global Timeslot | | description. Bit N-1 (if any) indicates the status of the next | | lowest numbered timeslot, etc. At least one timeslot must be | | assigned per TBF** | | | | **In the case of a dual carrier configuration, the timeslots | | indicated in the MS_TIMESLOT_ALLOCATION_C1 field shall be | | considered as lower numbered than those in the | | MS_TIMESLOT_ALLOCATION_C2 field.** | | | | **0 Timeslot is not assigned\ | | 1 Timeslot is assigned** | +----------------------------------------------------------------------+ | **USF_ALLOCATION** (3 bit field) | | | | This field indicates the USF value assigned to the MS for one or | | more assigned timeslots. This field is encoded as a binary | | presentation of the USF value as defined in sub-clause 10.4.1. | | | | **USF_ALLOCATION_C1, USF_ALLOCATION_C2** (3 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station when it is assigned a TBF using Dynamic | | Allocation or Extended Dynamic Allocation. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | | | | **ALPHA_C1, ALPHA_C2** (4 bit field)\ | | The usage of these fields is as specified in sub-clause 11.2.29. | +----------------------------------------------------------------------+ | **N_PAIRS** (3 bit field) | | | | This field indicate the number of PDCH pairs for which GAMMA values | | are signalled. The number PDCH pairs is given as the binary value of | | the corresponding field plus one. | | | | See Annex K for details of the coding of this field. | +----------------------------------------------------------------------+ | **GAMMA, GAMMA_TN** (5 bit field)\ | | The field is the binary representation of the parameter ΓCH for MS | | output power control in units of 2 dB, see 3GPP TS 45.008. The field | | is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | | | | **GAMMA_TN_C1** (5 bit field)\ | | **GAMMA_TN_C2** (5 bit field)\ | | The coding and usage of these fields is as specified for the Packet | | Uplink Assignment message. | +----------------------------------------------------------------------+ | **P0, P0_C1, P0_C2** (4 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **PR_MODE, PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field contains the PFI parameter identifying a Packet Flow | | Context. The PFI parameter is encoded as the contents of the PFI | | information element as defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **RLC_MODE (1 bit field)** | | | | This field contains the RLC mode to be used for the assigned TBF. If | | a new mode is assigned by the network for an already established | | TBF, the MS shall ignore the new assigned mode and shall maintain | | the TBF in the old mode. | | | | 0 RLC acknowledged mode | | | | 1 RLC unacknowledged mode. For the case of an EGPRS TBF an MS that | | supports RLC non-persistent mode shall respond to this indication of | | RLC mode as described in the EGPRS Window Size IE (see sub-clause | | 12.5.2). | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode | | | | The list of NPM Transfer Time IEs in the Rel-7 additions is ordered | | as described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ | **Assignment Type**(2 bit field) | | | | This indicates the type of assignment. The coding of this field is | | as specified in sub-clause 11.2.7. | +----------------------------------------------------------------------+ |** Carrier ID**(1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ |** EVENT_BASED_FANR**(1 bit field) | | | | For description and coding of this field see the Multiple TBF | | Downlink Assignment message. | | | | The list of EVENT_BASED_FANR IEs in the Rel-7 additions is ordered | | as described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ |** REPORTED TIMESLOTS**** C1**,** REPORTED TIMESLOTS**** C2**(8 bit | | field) | | | | The field indicates the timeslots for which feedback is provided by | | a time-based encoded PAN field and is encoded as the | | TIMESLOT_ALLOCATION IE defined in sub-clause 12.18. | | | | The list of fields related to the Fast Ack/Nack Reporting procedure | | in the Rel-7 additions is ordered as described by the loops in the | | earlier releases part. | +----------------------------------------------------------------------+ |** DOWNLINK_PDCH_PAIRS_C1**| | | |** DOWNLINK_PDCH_PAIRS_C2**| | | |** UPLINK_PDCH_PAIRS_C1**| | | |** UPLINK_PDCH_PAIRS_C2**| | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC**| | | |** RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC**| | | | These fields are defined in sub-clause 11.2.31 | +----------------------------------------------------------------------+ |** RTTI_USF_MODE**(1 bit field) | | | | This field is as specified in the Packet Uplink Assignment message | +----------------------------------------------------------------------+ |** TSH**(2 bit field) | | | | This field indicates the time-shift between the most recent radio | | block period for which feedback information is provided and the | | radio block period when the bitmap is sent: | | | | bit | | | | 2 1 | | | | 0 0 4 TDMA frames (for a basic TTI configuration) or 2 TDMA frames | | (for a reduced TTI configuration) | | | | 0 1 8 TDMA frames (for a basic TTI configuration) or 4 TDMA frames | | (for a reduced TTI configuration) | | | | 1 0 12 TDMA frames (for a basic TTI configuration) or 6 TDMA frames | | (for a reduced TTI configuration) | | | | 1 1 16 TDMA frames (for a basic TTI configuration) or 8 TDMA frames | | (for a reduced TTI configuration) | +----------------------------------------------------------------------+ |** Uplink EGPRS Level, Downlink EGPRS Level**(2 bits field) | | | | These fields are as specified in the Packet Timeslot Reconfigure | | message. | +----------------------------------------------------------------------+ |** Pulse Format**(N bits field) | | | | This information element, if assigned, specified on which radio | | frequency channel the mobile station shall transmit using the | | narrow-band pulse option. The information element is defined in | | sub-clause 12.8.3. | +----------------------------------------------------------------------+ |** FANR** (1 bit field) | | | | This field indicates whether FANR is activated: | | | | 0 FANR is activated for the assigned TBFs\ | | 1 FANR is not activated for the assigned TBFs | +----------------------------------------------------------------------+
### 11.2.32 Additional MS Radio Access Capabilities
This message is sent on the PACCH by the mobile station to the network to
inform about radio access capabilities of the mobile station. It shall not be
used in _Iu mode._
Message type: Additional MS Radio Access Capabilities
Direction: mobile station to network
Table 11.2.32.1: ADDITIONAL MS RADIO ACCESS CAPABILITIES information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ > | | | | \| 1 \ > } | | | | \ > | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.32.2: ADDITIONAL MS RADIO ACCESS CAPABILITIES information element
details
+----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | uplink TBF, if available, or the TFI of the mobile station\'s | | downlink TBF. If no TFI is available, this field is omitted. This | | field is defined in sub-clause 12.10. | | | | **TLLI IE (32 bit field)** \ | | This information element is defined in sub-clause 12.16. | | | | **MS Radio Access Capability 2\ | |** This information element is defined in sub-clause 12.30. This | | information element is sent during one phase and two phase access | | procedures. | +----------------------------------------------------------------------+
### 11.2.33 Handover Access (_Iu mode only_)
This message is sent on DBPSCH on either PACCH, FACCH or SDCCH and optionally
on SACCH by the mobile station to the network during a handover procedure as
specified in 3GPP TS 44.160 and 3GPP TS 44.118. It shall not be sent on the
52-multiframe structure (SBPSCH). This message is formatted as four identical
access bursts on PACCH, FACCH and SDCCH, and as one individual access burst on
SACCH. Each access burst shall use the 8-bit access burst format and follow
the 8-bit PRACH uplink/PACCH uplink short acknowledgement block format defined
in 3GPP TS 44.004. Each access burst is coded as shown in table 11.2.33.1. The
order of bit transmission is defined in 3GPP TS 44.004. The numbering,
assembling and field mapping conventions defined for RLC/MAC control blocks in
sub-clause 10.0b shall apply.
Direction: mobile station to network
Table 11.2.33.1: HANDOVER ACCESS information elements
+-------------------------------------------------------------------------+ | \ ::= _\-- 8-bit access burst format_ | | | | \; | +-------------------------------------------------------------------------+
Table 11.2.33.2: HANDOVER ACCESS information element details
* * *
**HANDOVER_REFERENCE_VALUE (8 bit field)** \ This field is coded as the
handover reference value field defined in 3GPP TS 44.018.
* * *
### 11.2.34 Physical Information (_Iu mode only_)
This message is sent on DBPSCH on either PACCH, FACCH or SDCCH by the network
to the mobile station during a handover procedure as specified in 3GPP TS
44.160 and 3GPP TS 44.118 to indicate a valid timing advance to the mobile
station. It shall not be sent on the 52-multiframe structure (SBPSCH).
Message type: PHYSICAL INFORMATION
Direction: network to mobile station
Classification: DBPSCH message
Table 11.2.34.1: PHYSICAL INFORMATION information elements
+----------------------------------------------------------------------+ | \ ::= _\-- RLC/MAC control | | block format_ | | | | \ | | | | \ | | | | \ ; _\-- truncation at end of message allowed, bits | | \'0\' assumed_ | +----------------------------------------------------------------------+
Table 11.2.34.2: PHYSICAL INFORMATION information element details
* * *
**TIMING_ADVANCE_VALUE (8 bit field)** \ This field is coded as the timing
advance value field defined in 3GPP TS 44.018.
* * *
### 11.2.35 Packet CS Request
This message is sent from the mobile station to the network on the PACCH to
request RR connection.
Message type: PACKET CS REQUEST
Direction: mobile station to network
Table 11.2.35.1: PACKET CS REQUEST information elements
+---------------------------------------------+ | \ ::= | | | | **\  > | | | | \ | | | | \ ; | +---------------------------------------------+
Table 11.2.35.2: PACKET CS REQUEST information element details
* * *
**Global TFI** \ This information element contains the TFI of the mobile
station\'s downlink TBF or uplink TBF. This field is defined in sub-clause
12.10.
**ESTABLISHMENT CAUSE** (8 bit field)\ The ESTABLISHMENT CAUSE field indicates
the cause value of the RR connection establishment. This field is specified in
3GPP TS 44.018. The mobile station shall neither use cause values referring to
answer to paging nor request of PDCH.
* * *
### 11.2.36 Packet CS Command
This optional message is sent by the network on the PACCH to encapsulate RR
control messages. This message may be segmented across more than two RLC/MAC
control block by using extended RLC/MAC control message segmentation.
Message type: PACKET CS COMMAND
Direction: network to mobile station
Classification: non distribution message
Table 11.2.36.1: Packet CS Command information elements
+-----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ > | | | | { \ | | | | \ | | | | \\ | | \ | | | | ! \ > } | | | | ! \ > } | | | | ! \ > ; | +-----------------------------------------------------------------------+
Table 11.2.36.2: Packet CS Command information element details
+----------------------------------------------------------------------+ | The Packet CS Command message encapsulates RR control message (e.g. | | DTM ASSIGNMENT COMMAND, IMMEDIATE ASSIGNMENT or IMMEDIATE ASSIGNMENT | | REJECT). | +----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20 and gives the PAGE_MODE | | parameter valid in the serving cell. | +----------------------------------------------------------------------+ | **Global_TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **CONTAINER_LENGTH** (8 bit field)\ | | This field indicates the number of CONTAINER_DATA octets that form | | the specific RR control message and is coded as shown below. | | | | Bit | | | | 8 7 6 5 4 3 2 1 | | | | 0 0 0 0 0 0 0 0 No CONTAINER_DATA follows; Spare padding is used to | | fill the rest of the message; | | | | 0 0 0 0 0 0 0 1 CONTAINER_DATA length = 1 octet; | | | | .... | | | | 1 0 1 0 1 0 0 0 CONTAINER_DATA length = 168 octets; | | | | All other values reserved. If a reserved value is received the | | contents of the container shall be discarded. | +----------------------------------------------------------------------+ | **CONTAINER DATA** (n*8 bits)\ | | The CONTAINER DATA octets forms the actual RR control message | | content. The information contained in the Packet CS Command message | | shall exclude the following information elements from the beginning | | of the RR control message: L2 Pseudo Length; RR management Protocol | | Discriminator and Skip Indicator. | | | | Extra octets of padding bits at the end of the RR control message | | may be excluded. | +----------------------------------------------------------------------+
### 11.2.37 Packet CS Release Indication
This message is sent from the network to the mobile station on the PACCH to
indicate that the ongoing RR connection will be released. The network may
indicate that the mobile station shall maintain its uplink and downlink packet
resources used in dual transfer mode or it may convert half-rate PDCH into
full-rate PDCH to be used in packet transfer mode or it may reconfigure uplink
and/or downlink packet resources to be used in packet transfer mode after the
RR connection is released.. If the mobile station supports Downlink Dual
Carrier, this message may be sent using extended RLC/MAC control message
segmentation (see sub-clause 9.1.12a) if three or more RLC/MAC control blocks
are required to send the complete message. A mobile allocation or reference
frequency list received as part of this assignment message shall be valid
until a new assignment is received or each TBF of the MS are terminated.
With reconfiguration option the network shall assign at least one uplink or
downlink TBF.
Message type: PACKET CS RELEASE INDICATION
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.37.1: PACKET CS RELEASE INDICATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { **\  > | | | | \ | | | | \ > | | | | { 00 -- _RR connection is released and the MS maintains its DL | | and/or UL TBF(s)_ | | | | \ \-- _Allows future message extension for \'00\' | | choice._ | | | | \| 01 -- _When RR connection is released, PDTCH/H is converted to | | PDTCH/F_ | | | | -- _and the MS maintains its DL and/or UL TBF(s)_ | | | | \ \-- _Allows future message extension for \'01\' | | choice._ | | | | \| 10 -- _RR connection is released and DL and/or UL TBF(s) are | | reconfigured_ | +----------------------------------------------------------------------+ | { 0 -- _Message escape for GPRS mode TBFs_ | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 -- _downlink TBF(s)_ | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 -- _uplink TBF(s)_ | | | | { 0 \| 1 \ }\ | | \ > | | | | } | | | | \ | | | | ! \ > } | +----------------------------------------------------------------------+ | \| 1 -- _Message escape bit for EGPRS mode TBFs_ | | | | { 00 { | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 -- _downlink TBF(s)_ | | | | { 0 \| 1 \ > } | | | | \ | | | | { 1 \ > } ** 0 } | +----------------------------------------------------------------------+ | { 0 \| 1 -- _uplink TBF(s)_ | | | | { 0 \| 1 \> } | | | | \ | | | | { 0 \| 1 \ > } | | | | \ > } | | | | { null \| 0 bit** = \ \-- _Receiver backward | | compatible with earlier version_ | | | | \| 1 -- _Additions for Rel-7_ | | | | { 1 { 0 \| 1 _\ _ } | | | | }** 0 | | | | } | | | | \ | | | | ! \ > | | | | } | +----------------------------------------------------------------------+ | \| 01 -- _Message escape for Dual Carrier, BTTI with FANR | | activated, RTTI, EGPRS2_ | | | | { | | | | \ | | | | { 00 -- _No frequency parameters included_ | | | | \| 01 -- _Legacy IEs used_ | | | | \ > | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > | | -- _Reserved for future use_ | | | | } | | | | { 0 \| 1 \ } | | | | \ > | +----------------------------------------------------------------------+ | \ | | | | ! \ > } | | | | ! \ > } | | -- _Extended for future changes_ | | | | } | | | | \| 11 -- _Reserved for future use. When received it shall be | | interpreted as \"00\"._ | | | | \ \-- _Allows future message extension for \'11\' | | choice._ | | | | } | | | | ! \ > | | | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ :: = | | | | _{ 0 \| 1 \  }_ | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ > | | | | { 1 \ > } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 -- _The timeslots assigned to the TBF are all the timeslots | | assigned_ | | | | -- _in the Global Timeslot description_ | | | | \| 1 \ } -- _The | | timeslots assigned to the TBF are a subset of all the_ | | | | -- _timeslots assigned in the Global Timeslot description. Where_ | | | | -- _N is the amount of timeslots assigned to the MS in the Global_ | | | | -- _Timeslot description_ | | | | { 0 \ \-- _The same USF is valid | | on all timeslots assigned to the TBF_ | | | | \| 1 \ \-- _Different USF(s) | | assigned_ | | | | -- _USF assignment on the lowest numbered timeslot_ | | | | -- _assigned to the TBF_ | | | | { 0 \| 1 \ } * (M-1) } ; -- | | _USFs on subsequent timeslots assigned to the TBF:_ | | | | -- _A '0' (respectively a '1' followed by a USF value)_ | | | | -- _means same (respectively different) USF value as the_ | | | | -- _USF on the next lower numbered timeslot assigned to_ | | | | -- _the TBF._ _Where M is the amount of timeslots assigned_ | | | | -- _to the TBF in the TBF_TIMESLOT_ALLOCATION if_ | | | | -- _present, else in the Global_ _Timeslot_ _description_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.37.2: PACKET CS RELEASE INDICATION information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **Global_TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **ENHANCED_DTM_CS_RELEASE_INDICATION** (1 bit field)\ | | The ENHANCED_DTM_CS_RELEASE_INDICATION parameter indicates that | | the network will perform a delayed release of the RR connection | | while the mobile station is in dual transfer mode. | | | | 0 The RR connection is not to be released.\ | | 1 The RR connection is to be released. | | | | NOTE: The network should not use value \"0\" if the PACKET CS | | RELEASE INDICATION message is used with enhanced DTM CS release | | procedure. In this case the mobile station shall ignore the message. | +----------------------------------------------------------------------+ | **Global Packet Timing Advance\ | |** This information element is defined in sub-clause 12.12a. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | The Channel Coding Indicator field indicates the channel coding | | scheme that the mobile station shall use when transmitting on the | | uplink. | | | | bit\ | | 2 1\ | | 0 0 CS-1\ | | 0 1 CS-2\ | | 1 0 CS-3\ | | 1 1 CS-4 | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element, if present, assigns frequency parameters | | to the uplink and downlink TBFs. If this information element is not | | present the mobile station shall use its previously assigned | | frequency parameters. This information element is defined in | | sub-clause 12.8. | | | | **Frequency Parameters C1, Frequency Parameters C2** \ | | These information elements assign frequency parameters to the uplink | | and/or downlink TBFs for carrier 1 and carrier 2, respectively. If | | the Frequency Parameters C1 information element is not present the | | mobile station shall use its previously assigned frequency | | parameters for carrier 1. These information elements are coded as | | defined in sub-clause 12.8. | | | | **Dual Carrier Frequency Parameters\ | |** This information element, if present, assigns frequency parameters | | to the uplink and/or downlink TBFs for both carriers in a dual | | carrier configuration. This information element is defined in | | sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is defined in sub-clause 12.18. | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | In case of a BTTI configuration, **this field contains the timeslot | | number of the timeslot where the PACCH/U for the downlink TBF is | | located.** In case of an RTTI configuration, **this field contains | | the timeslot number of the timeslot** belonging to the uplink PDCH | | pair **where the PACCH/U for the downlink TBF is located. It is | | encoded as the binary representation of the timeslot number as | | defined in 3GPP TS 45.002.** | | | | If this field is included in the Multiple Downlink Assignment | | struct, it shall refer to all downlink TBFs assigned in the message. | | If this field is included in the Downlink TBF assignment struct, it | | refers only to the TBF given by the TFI Assignment field (this | | specific value overrules any default value given in the Multiple | | Downlink Assignment struct). If the Uplink Control Timeslot field is | | not included in the message at all, then the default rules for the | | location of PACCH/U apply. | +----------------------------------------------------------------------+ | **PFI (7 bit field)\ | |** This field contains the PFI parameter identifying a Packet Flow | | Context. The PFI parameter is encoded as the contents of the PFI | | information element as defined in 3GPP TS 44.018. This field shall | | be included if and only if both the network and mobile station | | support multiple TBFs. | +----------------------------------------------------------------------+ | **DOWNLINK_RLC_MODE (** 1 bit field)\ | | This field indicates the RLC mode of the requested TBF. | | | | 0 RLC acknowledged mode\ | | 1 RLC unacknowledged mode | +----------------------------------------------------------------------+ | **TFI_ASSIGNMENT** (5 bit field)\ | | This information element assigns one (or more) TFI(s) to each TBF | | assigned to the mobile station in this message. This field is | | repeated for each TBF that is assigned in this message. Optionally, | | this field may be repeated for each timeslot on which the TBF has | | been assigned resources. TFI values are encoded as defined in | | sub-clause 12.15. | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | If multiple TBFs are supported by both network and mobile station, | | this field shall be set to \"1\" if the network wishes to instruct | | the mobile station to release the given TBFs for which T3192 is | | running. The TBFs to be released are identified by the TFIs given in | | the **TFI Assignment** field and have to be valid on the PACCH on | | which this message was sent. Otherwise this field shall be set to | | \"0\". | | | | If either the network or the mobile station does not support the | | multiple TBF feature, this field shall be set to \'1\' if the | | network establishes a new downlink TBF for the mobile station whose | | timer T3192 is running. Otherwise this field shall be set to \'0\'. | +----------------------------------------------------------------------+ | **EGPRS Window Size IE (Uplink EGPRS Window Size, Downlink EGPRS | | Window Size** \ | | This information element is defined in sub-clause 12.5.2. | | | | If this field is included in the main body of the message, it shall | | refer to all TBFs assigned in the message in the direction indicated | | (default value). If this field is included in the respective TBF | | Assignment struct (uplink or downlink), it refers only to the TBF | | given by the TFI Assignment (this specific value overrules the | | default value). Every TBF defined in EGPRS TBF mode shall be | | assigned either the default value or a specific value. | | | | If this field is included in a Dual Carrier assignment, it shall | | specify the initial EGPRS Modulation and Coding Scheme to be used on | | both carriers. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme IE (EGPRS Channel Coding | | Command)** \ | | The EGPRS modulation and coding scheme information element is | | defined in sub-clause 12.10d. | | | | If this field is included in the main body of the message, it shall | | refer to all EGPRS TBF mode uplink TBFs assigned in the message | | (default value). If this field is included in the Uplink TBF | | Assignment struct, it refers only to the TBF given by the TFI | | Assignment (this specific value overrules the default value). Every | | uplink TBF defined in EGPRS TBF mode shall be assigned either the | | default value or a specific value. | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)\ | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field)\ | | This field is encoded as the LINK_QUALITY_MEASUREMENT_MODE IE of | | the PACKET DOWNLINK ASSIGNMENT message, as defined in sub-clause | | 11.2.7. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | This field contains a constant which is used for filtering channel | | quality measurements in EGPRS. BEP_PERIOD2 when present, or if not, | | when received in a previous message of the same TBF session, shall | | be used instead of BEP_PERIOD. For details see 3GPP TS 45.008. | | | | Range: 0 to 15 | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF. | | | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **P0** (4 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **PR_MODE** (1 bit field)\ | | For description and encoding, see the Packet Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **MS_TIMESLOT_ALLOCATION (8 bit field)\ | |** This information field indicates the timeslots assigned for use by | | the MS for the assigned uplink TBFs. Bit 8 indicates the status of | | timeslot 0, bit 7 indicates the status of timeslot 1, etc. At least | | one timeslot must be assigned. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | | | | The usage of these fields is as specified in sub-clause 11.2.29. | +----------------------------------------------------------------------+ | **GAMMA_TN** (5 bit field)\ | | The field is the binary representation of the parameter ΓCH for MS | | output power control in units of 2 dB, see 3GPP TS 45.008. The field | | is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station when it is assigned a TBF using Dynamic | | Allocation or Extended Dynamic Allocation. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+ | **TBF_TIMESLOT_ALLOCATION (N bit field)\ | | This information field indicates the timeslots assigned to a | | particular uplink TBF, within the timeslots assigned to the MS in | | the Global Timeslot description. This field contains as many bits as | | there are timeslots assigned to the MS in the Global Timeslot | | description. Bit N indicates the status of the lowest numbered | | timeslot in the timeslots assigned to the MS in the Global Timeslot | | description. Bit N-1 (if any) indicates the status of the next | | lowest numbered timeslot, etc. At least one timeslot must be | | assigned per TBF .** | | | | **In the case of a dual carrier configuration, the timeslots | | indicated in the MS_TIMESLOT_ALLOCATION_C1 field shall be | | considered as lower numbered than those in the | | MS_TIMESLOT_ALLOCATION_C2 field.** | | | | **0 Timeslot is not assigned\ | | 1 Timeslot is assigned** | +----------------------------------------------------------------------+ | **USF_ALLOCATION** (3 bit field) | | | | This field indicates the USF value assigned to the MS for one or | | more assigned timeslots. This field is encoded as a binary | | presentation of the USF value as defined in sub-clause 10.4.1. | +----------------------------------------------------------------------+ | **Assignment Type** (2 bit field)\ | | This field is defined in sub-clause 11.2.7. | +----------------------------------------------------------------------+ | **Carrier ID** (1 bit field)\ | | This identifies the carrier to which the description refers. | | | | 0 Carrier 1\ | | 1 Carrier 2 | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode. | | | | The list of NPM Transfer Time IEs in the Rel-7 additions is ordered | | as described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ | **EGPRS mode 2 IE** | | | | This information element is defined in sub-clause 12.48a.1. | +----------------------------------------------------------------------+
### 11.2.38 MBMS Service Request
This message is sent on the PACCH from a mobile station to the network in
order to inform about the interest in an MBMS session.
Message type: MBMS SERVICE REQUEST
Direction: mobile station to network
Table 11.2.38.1: MBMS SERVICE REQUEST information elements
+------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | \ ; | +------------------------------------------------------+
Table 11.2.38.2: MBMS SERVICE REQUEST information element details
+----------------------------------------------------------------------+ | **TLLI** (32 bit field)\ | | This field contains the TLLI of the mobile station. This field is | | encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **TMGI** \ | | This field contains the Temporary Mobile Group Identity of the MBMS | | service that is requested by the mobile station. This field is | | encoded as defined in sub-clause 12.33. | +----------------------------------------------------------------------+ | **MBMS Session Identity** (8 bit field)\ | | The MBMS Session Identity field is included in the message if the | | request concerns a specific MBMS session, which is known by the | | mobile station. This field contains the MBMS Session Identity of the | | concerned MBMS session. | +----------------------------------------------------------------------+ | **MS_ID Request Indication** (1 bit field)\ | | This field is used by the mobile station to indicate whether an | | MS_ID (and thus the possibility to send feedback) is requested by | | the mobile station. If no MS_ID is requested, the mobile station | | will not be counted by the network for the given MBMS session (that | | does not however prevent the network from addressing and assigning | | the mobile station an MS_ID, if available and the network wishes to | | do so). | | | | 0 MS_ID is not requested\ | | 1 MS_ID is requested | +----------------------------------------------------------------------+
### 11.2.39 MBMS Assignment (Non-distribution)
This message is sent on the PCCCH or on the PACCH from the network to (a)
mobile station(s) in order to assign the radio bearer resources for an MBMS
session or to notify the mobile station(s) that a radio bearer for that MBMS
session is not established in the cell or to reassign the MBMS Bearer Identity
for an MBMS radio bearer or to reassign radio resources for an MBMS radio
bearer.
Message type: MBMS ASSIGNMENT (NON-DISTRIBUTION)
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.39.1: MBMS ASSIGNMENT (NON-DISTRIBUTION) information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \ > | | | | \| 10 \ } | | | | { 0 \| 1 \ | | | | \ | | | | \ > | | | | { 0 \| 1 \ | | | | { 0 \| 1\ }** | | | | } | | | | } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 00 -- _Assignment reject. No point-to-multipoint channel is | | established for the MBMS session._ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 01 -- _A point-to-multipoint channel is established or | | reassigned for the MBMS session._ | | | | \ > | | | | \ | | | | _\  >_ | | | | \| 10 -- _The MBMS Bearer Identity is reassigned for the MBMS radio | | bearer._ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | } | | | | \ | | | | ! \ > | | | | ! \ > | | | | } | | | | ! \ >; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 _\ _ } ; | +----------------------------------------------------------------------+
Table 11.2.39.2: MBMS ASSIGNMENT (NON-DISTRIBUTION) information element
details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in _sub-clause_ 12.20. | +----------------------------------------------------------------------+ | **Global TFI\ | |** This information element shall always contain the DOWNLINK_TFI | | field. The most significant bit(s) of the DOWNLINK_TFI field | | denote(s) the MBMS Bearer Identity of the MBMS radio bearer the | | message relates to. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **TLLI** **/ G-RNTI** (32 bit field)\ | | This field contains the TLLI/G-RNTI of the mobile station. This | | field is encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **MS_ID** (1-4 bit field)**\ | |** This field addresses the mobile station, identified by the TLLI, | | receiving the MBMS radio bearer that is described in this message | | and identified by the MBMS Bearer Identity. If the MS_ID parameter | | is already assigned in the IMMEDIATE ASSIGNMENT message (specified | | in the 3GPP TS 44.018) the network shall omit it in this message. | | This field is defined in _sub-clause_ 12.35. | +----------------------------------------------------------------------+ | **Packet Timing Advance** \ | | If the Packet Timing Advance parameter is already allocated in the | | IMMEDIATE ASSIGNMENT message (specified in the 3GPP TS 44.018) the | | network shall omit it in this message. This information element is | | defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | If the ALPHA parameter is already allocated in the IMMEDIATE | | ASSIGNMENT message (specified in the 3GPP TS 44.018) the network | | shall omit it in this message. For encoding and description see the | | Global Power Control Parameters IE. | +----------------------------------------------------------------------+ | **GAMMA** (5 bit field)\ | | The GAMMA field is the binary representation of the parameter ΓCH | | for MS output power control in units of 2 dB, see 3GPP TS 45.008. If | | the GAMMA parameter is already allocated in the IMMEDIATE ASSIGNMENT | | message (specified in the 3GPP TS 44.018) the network shall omit it | | in this message. The GAMMA field is coded according to the following | | table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | +----------------------------------------------------------------------+ | **TMGI** \ | | This field contains the Temporary Mobile Group Identity of the MBMS | | service. This field is encoded as defined in sub-clause 12.33. | +----------------------------------------------------------------------+ | **MBMS Session Identity** (8 bit field)\ | | This field contains the MBMS Session Identity of the concerned MBMS | | session. | +----------------------------------------------------------------------+ | **Reject cause** (2 bit field)\ | | This field indicates whether the mobile station is allowed to | | perform further MBMS packet accesses for this MBMS session. | | | | 00 No radio bearer established - further MBMS packet accesses | | allowed for this MBMS session in this cell\ | | 01 No radio bearer established - no further MBMS packet accesses | | allowed for this MBMS session in this cell\ | | 10 No radio bearer established - no further MBMS packet accesses | | allowed for this MBMS session in this Routing Area\ | | 11 No radio bearer established - no further MBMS packet accesses | | allowed for this MBMS session in this PLMN | +----------------------------------------------------------------------+ | **Estimated Session Duration** (8 bit field)\ | | This field contains an estimation of either the duration for the | | concerned MBMS session or, if the MBMS session is ongoing, the | | remaining duration for the concerned MBMS session. This information | | element is defined in sub-clause 12.44. | +----------------------------------------------------------------------+ | **MBMS In-band Signalling Indicator** \ | | This information element contains the MBMS In-band Signalling | | Indicator. This information element is defined in sub-clause 12.45. | +----------------------------------------------------------------------+ | **MBMS Radio Bearer Starting Time** (16 bit field)\ | | This field contains a starting time that indicates the frame number | | from which the data transfer on the assigned MBMS radio bearer may | | start. The MBMS Radio Bearer Starting Time is encoded as the value | | part of the type 3 information element _Starting Time_ in 3GPP TS | | 44.018. | +----------------------------------------------------------------------+ | **Frequency Parameters\ | |** If this information element is not present, the same frequency as | | for the PCCCH or, if the PCCCH is not present in the cell, for the | | CCCH, on which the network sends this message or the IMMEDIATE | | ASSIGNMENT message including the _Multiple Blocks Packet Downlink | | Assignment_ construction and the _Packet Channel Description_ IE | | specifying the PDCH over which this message is sent (see 3GPP TS | | 44.018), respectively, shall be used. This information element is | | defined in sub-clause 12.8. | +----------------------------------------------------------------------+ | **DOWNLINK_TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is defined in sub-clause 12.18. | +----------------------------------------------------------------------+ | **Length of MBMS Bearer Identity** (3 bit field)\ | | This field indicates the length of the MBMS Bearer Identity. Any | | value from 1 to 5 inclusive is allowed. All other values are | | reserved. | +----------------------------------------------------------------------+ | **MBMS Bearer Identity** (1-5 bit field)**\ | |** This field contains the Bearer identity for the MBMS session. This | | field is defined in _sub-clause_ 12.34. | +----------------------------------------------------------------------+ | **EGPRS Window Size\ | |** This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION_UPLINK_FEEDBACK_CHANNEL** (3 bit field)**\ | |** This field, if present, identifies the timeslot where the uplink | | feedback channel, on which the MBMS DOWNLINK ACK/NACK reports shall | | be sent, is located. | +----------------------------------------------------------------------+ | _**NPM Transfer Time** (5 bit field)_ | | | | This field is defined in sub-clause 12.45a. | +----------------------------------------------------------------------+
### 11.2.39a MBMS Assignment (Distribution)
This message is sent on the PCCCH or on the PACCH from the network to mobile
stations in order to assign the radio bearer resources for an MBMS session or
to notify the mobile stations that a radio bearer for that MBMS session is not
established in the cell.
Message type: MBMS ASSIGNMENT (DISTRIBUTION)
Direction: network to mobile station
Classification: distribution message
Table 11.2.39a.1: MBMS ASSIGNMENT (DISTRIBUTION) information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ > | | | | { 0 \| 1 \ } | | | | { 0 -- _Assignment reject. No point-to-multipoint channel is | | established for the MBMS session._ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 -- _A point-to-multipoint channel is established for the MBMS | | session._ | | | | \ > | | | | \ | | | | _\  >_ | | | | } | | | | \ | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 _\ _ } ; | +----------------------------------------------------------------------+
Table 11.2.39a.2: MBMS ASSIGNMENT (DISTRIBUTION) information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in _sub-clause_ 12.20. | +----------------------------------------------------------------------+ | **TMGI** \ | | This field contains the Temporary Mobile Group Identity of the MBMS | | service. This field is encoded as defined in sub-clause 12.33. | +----------------------------------------------------------------------+ | **MBMS Session Identity** (8 bit field)\ | | This field contains the MBMS Session Identity of the concerned MBMS | | session. | +----------------------------------------------------------------------+ | **Reject cause** (2 bit field)\ | | This field indicates whether the mobile station is allowed to | | perform further MBMS packet accesses for this MBMS session. | | | | 00 No radio bearer established - further MBMS packet accesses | | allowed for this MBMS session in this cell\ | | 01 No radio bearer established - no further MBMS packet accesses | | allowed for this MBMS session in this cell\ | | 10 No radio bearer established - no further MBMS packet accesses | | allowed for this MBMS session in this Routing Area\ | | 11 No radio bearer established - no further MBMS packet accesses | | allowed for this MBMS session in this PLMN | +----------------------------------------------------------------------+ | **Estimated Session Duration** (8 bit field)\ | | This field contains an estimation of the session duration for the | | concerned MBMS session. This information element is defined in | | sub-clause 12.44. | +----------------------------------------------------------------------+ | **MBMS In-band Signalling Indicator** \ | | This information element contains the MBMS In-band Signalling | | Indicator. This information element is defined in sub-clause 12.45. | +----------------------------------------------------------------------+ | **MBMS Radio Bearer Starting Time** (16 bit field)\ | | This field contains a starting time that indicates the frame number | | from which the data transfer on the assigned MBMS radio bearer may | | start. The MBMS Radio Bearer Starting Time is encoded as the value | | part of the type 3 information element _Starting Time_ in 3GPP TS | | 44.018. | +----------------------------------------------------------------------+ | **Frequency Parameters\ | |** If this information element is not present, the same frequency as | | for the PCCCH or, if the PCCCH is not present in the cell, for the | | CCCH, on which the network sends this message or the IMMEDIATE | | ASSIGNMENT message including the _Multiple Blocks Packet Downlink | | Assignment_ construction and the _Packet Channel Description_ IE | | specifying the PDCH over which this message is sent (see 3GPP TS | | 44.018), respectively, shall be used. This information element is | | defined in sub-clause 12.8. | +----------------------------------------------------------------------+ | **DOWNLINK_TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is defined in sub-clause 12.18. | +----------------------------------------------------------------------+ | **MBMS Bearer Identity** (1-5 bit field)**\ | |** This field contains the Bearer identity for the MBMS session. This | | field is defined in _sub-clause_ 12.34. | +----------------------------------------------------------------------+ | **EGPRS Window Size\ | |** This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION_UPLINK_FEEDBACK_CHANNEL** (3 bit field)**\ | |** This field, if present, identifies the timeslot where the uplink | | feedback channel, on which the MBMS DOWNLINK ACK/NACK reports shall | | be sent, is located. | +----------------------------------------------------------------------+ | _**NPM Transfer Time** (5 bit field)_ | | | | This field is defined in sub-clause 12.45a. | +----------------------------------------------------------------------+
### 11.2.40 MBMS Neighbouring Cell Information
This optional message is sent by the network on the PACCH to provide details
of the bearer allocated to a particular MBMS session in a neighbouring cell.
This message shall not be segmented across more than one RLC/MAC control
block. If not all information fits into one instance of the MBMS NEIGHBOURING
CELL INFORMATION message, the information can be distributed over more than
one instance of the message.
Message type: MBMS NEIGHBOURING CELL INFORMATION
Direction: network to mobile station
Classification: distribution message
Table 11.2.40.1: MBMS Neighbouring Cell Information information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 1 \ | | | | { 0 \| 1 \ } | | | | \ | | | | { 1 | | | | \ | | | | \ | | | | \ | | | | _} ** 0 -- End of list of MBMS bearers for which no p-t-m channel | | description is given in the neighbour cell_ | | | | { 1 \ > | | } **0 | | | | { 1 \ > | | | | \ \-- _default | | value_ | | | | { 1 \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \> } | | | | { _0_ \| 1 \ } -- | | _specific value_ | | | | { _0_ \| 1 \ } | | | | { 0 \| 1 \ > | | } | | | | _\  >_ | | | | { 0 \| 1 _\ _ } | | | | } ** 0 -- _End of list of MBMS bearer descriptions sharing the | | same PDCH (frequency parameters)_ | | | | } ** 0 -- _End of list of PDCHs for this cell_ | | | | { 0 \| 1 \ | | > } | | | | } ** 0 -- _End of list of neighbouring cells_ | | | | { null \| 0 bit** = \ \-- _Receiver compatible with | | earlier release_ | | | | \| 1 -- _Rel-7 additions_ | | | | { 1 { 0 \| 1 \ \-- _choice bit indicates | | presence or not of parameters for the MBMS bearer_ | | | | { 0 \| 1 \ > } | | | | } | | | | } ** 0 -- _End of list of MBMS bearers._ | | | | -- _The list of MBMS bearers is ordered as described by the loops | | in the earlier releases part._ | | | | } | | | | \ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ :: = | | | | \_\ | | * \  | | | | \ | | | | { 00 -- _non-hopping PBCCH on BCCH carrier\ | | * \| 01 \ \-- _non-hopping PBCCH_ | | | | \| 1 -- _hopping PBCCH, frequency parameters from an MBMS bearer | | description for this cell_ | | | | \\ | | \ | | | | } ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | { 0 \ | | | | \| 1 \ | | | | \ | | | | \ } ; | +----------------------------------------------------------------------+
Table 11.2.40.2: MBMS Neighbouring Cell Information information element
details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20 and gives the PAGE_MODE | | parameter valid in the serving cell. | +----------------------------------------------------------------------+ | **NEIGHBOUR_CELL_INDEX** (7 bit field)\ | | This information element is the index within the GSM Neighbour Cell | | list (defined in sub-clause 5.6.3.2) of the cell for which | | information is provided. | | | | If the mobile station has not completed the construction of the GSM | | Neighbour Cell list (i.e. before the MS has acquired the complete | | GSM Neighbour Cell list from the BCCH messages, in case the PBCCH is | | not allocated in the cell), it shall not disregard this message but | | store the information contained in it. | +----------------------------------------------------------------------+ | **_BSIC (6 bit field)_** | | | | **_This optional field is needed to identify the neighbour cell in | | case the GSM Neighbour Cell list is only a frequency list, see 3GPP | | TS 44.060 sub-clause 5.6.3.2._** | +----------------------------------------------------------------------+ | **_MBMS_PTM_CHANGE_MARK (2 bit field)_** | | | | **_This field contains the change mark value for the information | | given for a specific neighbouring cell. This information is used to | | combine information from multiple instances of the MBMS Neighbouring | | Cell Information message._** | +----------------------------------------------------------------------+ | **MBMS Bearer Identity** (1-5 bit field)**\ | |** This field contains the Bearer identity for the MBMS session. This | | field is defined in _sub-clause_ 12.34. | +----------------------------------------------------------------------+ | **Absence cause** (2 bit field)\ | | This field indicates why the description of the MBMS bearer for the | | neighbour cell is not provided in the message. | | | | 00 Neighbour cell not in the service area for the MBMS service | | associated with this Bearer identifier\ | | 01 No p-t-m bearer established in the neighbour cell for the MBMS | | service associated with this Bearer identifier\ | | 10 p-t-m bearer established in the neighbour cell for this MBMS | | service, but the description cannot be provided\ | | 11 No information available for the MBMS service associated with | | this bearer identifier | +----------------------------------------------------------------------+ | **Serving MBMS Bearer Identity** (1-5 bit field)\ | | This field contains the Bearer identity used by the MBMS session in | | the serving cell. This field is encoded as the MBMS Bearer Identity | | IE defined in sub-clause 12.34. | +----------------------------------------------------------------------+ | **Neighbour MBMS Bearer Identity** (1-5 bit field)\ | | This field contains the Bearer identity used by the MBMS session in | | the neighbour cell. This field is encoded as the MBMS Bearer | | Identity IE defined in sub-clause 12.34. | +----------------------------------------------------------------------+ | **MBMS p-t-m Frequency Parameters\ | |** This information provides a description of a hopping or | | non-hopping radio frequency channel . In case hopping frequency | | channel is decribed, a reference to a specified MBMS Frequency List | | shall be provided. If MBMS Frequency List has not been received by | | the MS, it shall store this information for possible later use in | | case such MBMS Frequency List is received. | +----------------------------------------------------------------------+ | **TSC** (3 bit field)\ | | This field is the binary representation of the training sequence | | code, see 3GPP TS 45.002. Range: 0 to 7. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field is the binary representation of the absolute radio | | frequency channel number (ARFCN) defined in 3GPP TS 45.005. Range 0 | | to 1023. | +----------------------------------------------------------------------+ | **MAIO** (6 bit field)\ | | This field is the binary representation of the mobile allocation | | index offset (MAIO), see 3GPP TS 45.002. Range 0 to 63. | +----------------------------------------------------------------------+ | **HSN** (6 bit field)\ | | This field is the binary representation of the hopping sequence | | number, see 3GPP TS 45.002. Range: 0 to 63. | +----------------------------------------------------------------------+ | **FREQ_LIST_NUMBER (2 bit field)\ | | This field is the binary identification of a MBMS Frequency List | | provided by an instance of this message, or the binary reference to | | such.Range: 0 to 3.** | +----------------------------------------------------------------------+ | **MBMS Frequency List\ | | This information contains a set of radio frequency channels. This | | list shall be identified by the FREQ_LIST_NUMBER field.** | +----------------------------------------------------------------------+ | **Frequency List contents** (variable length octet string)\ | | This variable length octet string is the representation of a set of | | radio frequency channels defining a GPRS mobile allocation. The | | encoding of the octet string is defined by the _value part_ of the | | type 4 information element _Frequency List_ , defined in | | 3GPP TS 44.018. The allowed formats of the _Frequency List_ | | information element are the _bit map 0_ , _1024 range_ , _512 range_ , | | _256 range_ , _128 range_ and _variable bit map_ formats. | +----------------------------------------------------------------------+ | **DOWNLINK_TIMESLOT_ALLOCATION** (8 bit field)\ | | This information element describes which timeslots are assigned to | | the MBMS bearer in the neighbouring cell. This field is encoded as | | the Timeslot Allocation field defined in sub-clause 12.18. | | | | The field following the _Frequency Parameters_ information element | | shall refer to all the MBMS bearers described in the subsequent loop | | (default value). If this field is provided for a particular MBMS | | bearer, it refers only to that MBMS bearer (this specific value | | overrides the default value). Every MBMS bearer shall be assigned | | either the default value or a specific value. | +----------------------------------------------------------------------+ | **TIMELOT_ALLOCATION_UPLINK_FEEDBACK_CHANNEL (3 bit field)** \ | | This field indicates the timeslot used for the uplink feedback | | channel in the neighbour cell. This field is coded as the binary | | representation of the timeslot number. | +----------------------------------------------------------------------+ | **EGPRS Window Size\ | |** This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **MBMS Radio Bearer Starting Time** (16 bit field)\ | | This field contains a starting time that indicates the frame number | | from which the data transfer on the assigned MBMS radio bearer may | | start. The MBMS Radio Bearer Starting Time is encoded as the value | | part of the type 3 information element _Starting Time_ in 3GPP TS | | 44.018. | +----------------------------------------------------------------------+ | **MBMS In-band Signalling Indicator** \ | | This information element contains the MBMS In-band Signalling | | Indicator. This information element is defined in sub-clause 12.45. | +----------------------------------------------------------------------+ | **PBCCH information** | | | | This information, if present, describes the PBCCH location in the | | target cell. In case PBCCH is allocated in the target cell and can | | be described with this encoding, this information shall be included | | in the message. | +----------------------------------------------------------------------+ | **USF** (3 bit field)\ | | This field identifies the USF value that identifies the MPRACH | | defined on the uplink feedback channel in the neighbour cell. | | | | The list of MBMS bearers in the Rel-7 additions is ordered as | | described by the loops in the earlier releases part. The choice bit | | indicates for each MBMS bearer whether the parameters are present or | | not. | +----------------------------------------------------------------------+ | **MPRACH Control Parameters** \ | | This information element, if present, defines the access control | | parameters to be used on the MPRACH defined on the uplink feedback | | channel in the neighbour cell. This information element is defined | | in sub-clause 12.41. | +----------------------------------------------------------------------+ | _**NPM Transfer Time** (5 bit field)_ | | | | This field is defined in sub-clause 12.45a. | +----------------------------------------------------------------------+
### 11.2.41 MBMS MS_ID Assignment
This message is sent on the PACCH by the network to the mobile station to
assign an MS_ID and to provide the timing advance parameters to the mobile
station in case of an MBMS radio bearer with an assigned uplink feedback
channel. The message can also be used to reassign or delete the MS_ID assigned
to the mobile station.
Message type: MBMS MS_ID ASSIGNMENT
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.41.1: MBMS MS_ID ASSIGNMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \ > | | | | \| 10 \ } | | | | { 0 -- _MS_ID is assigned the first time._ | | | | \ | | | | \ | | | | \ | | | | \ > | | | | { 0 \| 1 \ | | | | { 0 \| 1\ }** | | | | } | | | | \| 1 -- _MS_ID is reassigned._ | | | | \ | | | | { 0 -- _MS_ID is not redefined._ | | | | \| 1 -- _MS_ID is redefined._ | | | | \ | | | | \ } | | | | { 0 \| 1 \ > | | | | { 0 \| 1 \ | | | | { 0 \| 1\ }** | | | | } | | | | } | | | | \ | | | | ! \ > } | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.41.2: MBMS MS_ID ASSIGNMENT information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in _sub-clause_ 12.20. | +----------------------------------------------------------------------+ | **Global TFI\ | |** This information element shall always contain the DOWNLINK_TFI | | field. The most significant bit(s) of the DOWNLINK_TFI field | | denote(s) the MBMS Bearer Identity of the MBMS radio bearer the | | message relates to and the remaining least significant bit(s) | | denote(s) the MS_ID addressing the mobile station the message | | relates to. This field is defined in sub-clause 12.10. | +----------------------------------------------------------------------+ | **TLLI** **/ G-RNTI** (32 bit field)\ | | This field contains the TLLI/G-RNTI of the mobile station. This | | field is encoded as defined in sub-clause 12.16. | +----------------------------------------------------------------------+ | **MBMS Bearer Identity** (1-5 bit field)\ | | This field identifies the MBMS radio bearer this message relates to | | and is defined in _sub-clause_ 12.34. | +----------------------------------------------------------------------+ | **MS_ID** (1-4 bit field)\ | | This field assigns an identifier to the mobile station, identified | | by the TLLI, on the MBMS radio bearer identified by the MBMS Bearer | | Identity, and can also be used to reassign the identifier assigned | | to the mobile station. This field is defined in _sub-clause_ 12.35. | +----------------------------------------------------------------------+ | **Packet Timing Advance\ | |** This information element is defined in sub-clause 12.12. | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | +----------------------------------------------------------------------+ | **GAMMA** (5 bit field)\ | | The GAMMA field is the binary representation of the parameter ΓCH | | for MS output power control in units of 2 dB, see 3GPP TS 45.008. | | The GAMMA field is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | +----------------------------------------------------------------------+ | **Current MS_ID Expiry Time\ | |** This field contains an expiry time that indicates the frame number | | during which the mobile station shall consider the current MS_ID as | | released and, if a new MS_ID is assigned, the new MS_ID as valid. | | This information element is encoded as the value part of the | | _Starting Time_ information element specified in 3GPP TS 44.018. | +----------------------------------------------------------------------+
### 11.2.42 Packet MBMS Announcement
This message is sent on PACCH by the network to notify all MBMS mobile
stations listening to that PDCH that an MBMS Service Session is commencing or
an ongoing MBMS Broadcast Service Session with an updated MBMS service area
list is available.
Message type: PACKET MBMS ANNOUNCEMENT
Direction: network to mobile station
Classification: distribution message
Table 11.2.42.1: PACKET MBMS ANNOUNCEMENT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | { 0 \| 1 \ } | | | | { 0 -- _counting is off_ | | | | { 0 \| 1 \ > } | | | | \| 1 -- _counting is on_ | | | | { 0 \| 1 \ | | > } | | | | } | | | | { 0 \| 1 \ } | | | | \ } // -- _truncation at end of message allowed, | | bits \'0\' assumed_ | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ :: = | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \> } | | | | { 0 \| 1 _\ _ }; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | { 0 -- _no MPRACH access parameters present_ | | | | \| 1 -- _MPRACH access parameters present_ | | | | \ > } ; | +----------------------------------------------------------------------+
Table 11.2.42.2: PACKET MBMS ANNOUNCEMENT information element details
+----------------------------------+----------------------------------+ | **PAGE_MODE** (2 bit field)\ | | | This field is defined in | | | sub-clause 12.20. | | +----------------------------------+----------------------------------+ | | > **TMGI IE** \ | | | > This field contains the | | | > Temporary Mobile Group | | | > Identity of the MBMS service | | | > that the MBMS Notification | | | > concerns. This field is | | | > encoded as defined in | | | > sub-clause 12.33. | +----------------------------------+----------------------------------+ | | > **MBMS Session Identity (8 bit | | | > field)\ | | | > **This field contains the MBMS | | | > Session Identity of the | | | > concerned MBMS session (see TS | | | > 23.003). | +----------------------------------+----------------------------------+ | | > **Estimated Session Duration | | | > (8 bit field)\ | | | > **This field contains an | | | > estimation of the session | | | > (remaining) duration for the | | | > concerned MBMS session. This | | | > information element is defined | | | > in sub-clause 12.44. | +----------------------------------+----------------------------------+ | **MBMS Radio Bearer Starting | | | Time (16 bit field)** \ | | | This field contains a starting | | | time that indicates the frame | | | number from which the data | | | transfer on the assigned MBMS | | | radio bearer may start. The MBMS | | | Radio Bearer Starting Time is | | | encoded as the value part of the | | | type 3 information element | | | _Starting Time_ in 3GPP TS | | | 44.018. | | +----------------------------------+----------------------------------+ | **Frequency Parameters\ | | |** If this information element is | | | not present, the same frequency | | | as for the PCCCH shall be used. | | | This information element is | | | defined in sub-clause 12.8. | | +----------------------------------+----------------------------------+ | **DL_TIMESLOT_ALLOCATION** (8 | | | bit field)**\ | | |** This field is defined in | | | sub-clause 12.18. | | +----------------------------------+----------------------------------+ | **MBMS Bearer Identity** (1-5 | | | bit field)**\ | | |** This field assigns a TFI | | | value, or a subset of a TFI | | | value, which identifies the MBMS | | | radio bearer that is described. | | | In case only a subset of a TFI | | | value is assigned for the MBMS | | | radio bearer, that subset | | | corresponds to the most | | | significant bit(s) of the TFI | | | field. | | +----------------------------------+----------------------------------+ | **EGPRS Window Size\ | | |** This information element is | | | defined in sub-clause 12.5.2. | | +----------------------------------+----------------------------------+ | **MPRACH_TIMESLOT** (3 bit | | | field)\ | | | This field identifies the | | | timeslot number of the PDCH | | | where the MPRACH is located. | | +----------------------------------+----------------------------------+ | **USF** (3 bit field)\ | | | This field identifies the USF | | | value that identifies the MPRACH | | | on the defined PDCH. | | +----------------------------------+----------------------------------+ | **MPRACH Control Parameters** \ | | | This information element, if | | | present, defines the access | | | control parameters to be used on | | | the MPRACH. This information | | | element is defined in sub-clause | | | 12.41. | | +----------------------------------+----------------------------------+ | | > **RESTRICTION_TIMER\ | | | > This field indicates the | | | > maximum reaction time to the | | | > PACKET MBMS ANNOUNCEMENT | | | > message in seconds for mobile | | | > station, before the | | | > information contained in the | | | > PACKET MBMS ANNOUNCEMENT | | | > message expires.** | | | > | | | > Bit\ | | | > 4 3 2 1\ | | | > 0 0 0 0 10\ | | | > 0 0 0 1 20\ | | | > 0 0 1 0 30\ | | | > ...\ | | | > 1 1 1 0 150\ | | | > 1 1 1 1 160 | +----------------------------------+----------------------------------+ | | _**NPM Transfer Time** (5 bit | | | field)_ | | | | | | This field is defined in | | | sub-clause 12.45a. | +----------------------------------+----------------------------------+
### 11.2.43 PS Handover Command
This message is sent on the PACCH by the network to the mobile station to
command the mobile station to leave the current cell and change to a new cell.
The mobile station shall acknowledge this message according to sub-clause
8.10.4. This message can be sent using Extended RLC/MAC control segmentation
(see sub-clause 9.1.12a). The combined length of the IEs included in the PS
HANDOVER COMMAND message shall not exceed 175 octets.
If the network allocates PS resources on a single carrier where those
resources are not required to support any of the features EGPRS2, Fast
Ack/Nack Reporting or RTTI configurations, then the network shall include the
PS Handover Radio Resources Info IE in the PS HANDOVER COMMAND message.
Otherwise, the network shall include the PS Handover Radio Resources 2 Info IE
in the PS HANDOVER COMMAND message.
Message type: PS HANDOVER COMMAND
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.43.1: PS HANDOVER COMMAND information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | \ | | | | { 00 \ > | | | | \| 01 \ > | | | | ! \ > } - _Extended for future changes_ | | | | { 0 \| 1 \ } | | | | \| 01 \ > | | | | \| 10 \ > | | | | ! \ > } -- | | _Extended for future changes_ | | | | { null \| 0 bit ** = \ _\-- Receiver compatible with | | earlier release_ | | | | _\| 1_ \-- _Additions in Rel-8 :_ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | \ } | | | | ! \ > | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 11.2.43.2: PS HANDOVER COMMAND information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in sub-clause 12.20. | +----------------------------------------------------------------------+ | **Global TFI** \ | | This information element contains the TFI of the mobile station\'s | | downlink TBF or uplink TBF. This field is defined in sub-clause | | 12.10. | +----------------------------------------------------------------------+ | **CONTAINER_ID** (2 bit field)\ | | This field contains the identity of the neighbour cell system | | information container previously sent in the PACKET NEIGHBOUR CELL | | DATA messages (see sub-clause 8.10.2). This field is ignored by the | | mobile station except in the case of PS Handover from GERAN A/Gb | | mode or GERAN Iu mode to GERAN A/Gb or GERAN Iu mode. | | | | **Range 0 to 3.** | +----------------------------------------------------------------------+ | **PS Handover to A/Gb Mode Payload\ | |** This information element contains the information needed by the | | mobile station when performing PS Handover to _A/Gb mode_. It | | consists of the _PS Handover Radio Resources_ IE (see sub-clause | | 12.42) or the _PS Handover Radio Resources_ 2 IE (see sub-clause | | 12.42a) and optionally the _NAS Container for PS Handover_ IE (see | | sub-clause 12.43). | +----------------------------------------------------------------------+ | **PS Handover to UTRAN Payload\ | |** This information element contains a HANDOVER TO UTRAN COMMAND | | message (as defined in 3GPP TS 25.331) containing the information | | needed by the mobile station when performing PS Handover to UTRAN. | | This information element is defined in sub-clause 12.45b. | +----------------------------------------------------------------------+ | **PS Handover to E-UTRAN Payload\ | |** This information element contains a _DL-DCCH-Message_ including a | | _RRCConnectionReconfiguration_ message (as defined in 3GPP TS | | 36.331) containing the information needed by the mobile station when | | performing PS Handover to E-UTRAN. This information element is | | defined in sub-clause 12.45b. | +----------------------------------------------------------------------+ | **E-UTRAN_CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards E-UTRAN | | neighbouring cells in the target cell. For description and encoding | | see subclause 12.53. This field shall be included only if the PS | | Handover to A/Gb Mode Payload structure is included. | +----------------------------------------------------------------------+ | **Measurement Control Parameters Description** \ | | **This information element contains the Measurement control | | parameters per frequency for UTRAN and E-UTRAN for the target cell. | | This information element is defined in sub-clause 12.56.** This | | field shall be included only if the PS Handover to A/Gb Mode Payload | | structure is included. | +----------------------------------------------------------------------+
### 11.2.44 PS Handover Access
This message is sent by the mobile station to the network to make the network
aware that the mobile station has left the old cell and arrived in the new
cell. The message is sent four times using either the 8-bit or 11-bit access
burst format on the PACCH associated with an uplink TBF allocated in the PS
Handover Command message as described in sub-clause 8.10.4. The mobile station
shall use the format indicated by the System Information parameter
ACCESS_BURST_TYPE applicable to the target cell. Each message is coded as
shown in table 11.2.42.1. The order of bit transmission is defined in 3GPP TS
44.004. The numbering, assembling and field mapping conventions defined for
RLC/MAC control blocks in sub-clause 10.0b shall apply.
Message type: PS HANDOVER ACCESS
Direction: mobile station to network
Table 11.2.44.1: PS HANDOVER ACCESS information elements
+----------------------------------------------------------------------+ | \ ::= -- 8-bit | | access burst format | | | | \; | +----------------------------------------------------------------------+ | \ ::= -- | | 11-bit access burst format | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 11.2.44.2 : PS HANDOVER ACCESS information element details
+----------------------------------------------------------------------+ | **Handover Reference** (8 bit field)\ | | This information field identifies the mobile station in the new | | cell. The semantics of this field is defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **spare (3 bit field)** | | | | These bits are reserved for future use and shall be set to \'000\' | | in this release. | +----------------------------------------------------------------------+
### 11.2.45 Packet Physical Information (_A/Gb mode only_)
This message is sent on PACCH by the network to the mobile station during a
handover procedure as specified in sub-clause 8.10 to indicate a valid timing
advance to the mobile station.
Message type: PACKET PHYSICAL INFORMATION
Direction: network to mobile station
Classification: non-distribution message
Table 11.2.45.1: PACKET PHYSICAL INFORMATION information elements
+----------------------------------------------------------------------+ | \ ::= _\-- RLC/MAC | | control block format_ | | | | \ | | | | \ > | | | | \ | | | | \; _\-- truncation at end of message allowed, bits | | \'0\' assumed_ | +----------------------------------------------------------------------+
Table 11.2.45.2: PACKET PHYSICAL INFORMATION information element details
* * *
**PAGE_MODE** (2 bit field)\ This field is defined in sub-clause 12.20.
**Global TFI** \ This information element contains the TFI of the mobile
station\'s downlink TBF or uplink TBF. This field is defined in sub-clause
12.10.
**TIMING_ADVANCE_VALUE (8 bit field)** \ This field is coded as the timing
advance value field defined in 3GPP TS 44.018.
* * *
### 11.2.46 DTM Handover Command
This message is sent on the PACCH by the network to the mobile station in dual
transfer mode to command the mobile station to leave the current cell and
change to a new cell. This message may be sent using Extended RLC/MAC control
segmentation (see sub-clause 9.1.12a). The combined length of the IEs included
in the DTM HANDOVER COMMAND message shall not exceed 175 octets.
If the network allocates PS resources on a single carrier where those
resources are not required to support any of the features EGPRS2, Fast
Ack/Nack Reporting or RTTI configurations, then the network shall include the
DTM Handover PS Radio Resources IE in the DTM HANDOVER COMMAND message.
Otherwise, the network shall include the DTM Handover PS Radio Resources 2 IE
in the DTM HANDOVER COMMAND message.
> Message type: DTM HANDOVER COMMAND
>
> Direction: network to mobile station
>
> Classification: non-distribution message
Table 11.2.46.1: DTM HANDOVER COMMAND information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \ > | | | | { 00 \ > | | | | \| 01 \ | | > } | | | | \ | | | | ! \ > ; | | | | ! \ > | | } | | | | ! \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | > | | | | { 00 \ > | | | | \| 01 \ > | | | | ! \ > } | | -- _reserved for future use_ | | | | { 0 \| 1 \ }; | +----------------------------------------------------------------------+
Table 11.2.46.2: DTM HANDOVER COMMAND information element details
* * *
**PAGE_MODE** (2 bit field)\ This field is defined in sub-clause 12.20.
**Global TFI** \ This information element contains the TFI of the mobile
station\'s downlink TBF or uplink TBF. This field is defined in sub-clause
12.10.
**DTM Handover CS Radio Resources\** This information element contains the CS
information needed by the mobile station when performing DTM Handover to _A/Gb
mode_ and is defined in sub-clause 12.47.
**DTM Handover PS RR Info\** This information element contains the PS
information needed by the mobile station when performing DTM Handover to _A/Gb
mode_ and is defined in sub-clause 12.46
**DTM Handover PS RR 2 Info\** This information element contains the PS
information needed by the mobile station when performing DTM Handover to _A/Gb
mode_ when downlink PS resources are assigned on two carriers or requires the
support of EGPRS2, Fast Ack/Nack Reporting or RTTI configurations, and is
defined in sub-clause 12.48.
**NAS Container for PS Handover\** This information element contains the NAS
information needed by the mobile station when performing DTM Handover to _A/Gb
mode_ and is defined in sub-clause 12.43.
**DTM Handover to UTRAN Payload\** This information element contains a
HANDOVER TO UTRAN COMMAND message (as defined in 3GPP TS 25.331) containing
the information needed by the mobile station when performing DTM Handover to
UTRAN. This information element is defined in sub-clause 12.45b.
* * *
### 11.2.47 Packet Application Information
This message is sent on the PACCH by the network to convey an embedded
Application, e.g. an ETWS Primary Notification message (see 3GPP TS 23.041),
between the network and the mobile station(s). This message may be segmented
across more than two RLC/MAC control blocks by using extended RLC/MAC control
message segmentation.
Message type: PACKET APPLICATION INFORMATION
Direction: network to mobile station
Classification: distribution message
Table 11.2.47.1: PACKET APPLICATION INFORMATION information elements
+------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ _\-- type of Application_ | | | | \ | | | | \} | | | | ! \ > ; | +------------------------------------------------------------------+
Table 11.2.47.2: PACKET APPLICATION INFORMATION information element details
+----------------------------------------------------------------------+ | **PAGE_MODE** (2 bit field)\ | | This field is defined in _sub-clause_ 12.20. | +----------------------------------------------------------------------+ | **Application Type** (4 bit field)\ | | This field identifies the particular protocol and associated | | application for the Application data. | | | | Bit\ | | 4 3 2 1\ | | 0 0 0 0 ETWS (3GPP TS 23.041)\ | | 0 0 0 1 reserved for future use\ | | to\ | | 1 1 1 1 reserved for future use | +----------------------------------------------------------------------+ | **Application Data** (n*8 bits)\ | | The Application Data contains the data of following Application | | Types: | | | | ETWS The ETWS data forms the actual ETWS Primary Notification | | message. The ETWS Primary Notification data is coded as specified in | | 3GPP TS 23.041. | +----------------------------------------------------------------------+
# 12 Information element coding
## 12.1 Overview
Information elements used within the context of only one RLC/MAC control
message are defined in clause 11. All other information elements are defined
within the present sub-clause.
## 12.2 (void)
## 12.3 Ack/Nack Description
The Ack/Nack Description information element contains the RLC parameters used
to acknowledge or negatively acknowledge a group of RLC data blocks.
Table 12.3.1: _Ack/Nack Description_ information elements
+------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +------------------------------------------------+
Table 12.3.2: _Ack/Nack Description_ information element details
+----------------------------------------------------------------------+ | **FINAL_ACK_INDICATION** (1 bit field)\ | | This field indicates whether the entire TBF is being acknowledged. | | If, in case the uplink TBF is operating in non-extended uplink TBF | | mode, the entire TBF is being acknowledged, the SSN and RBB fields | | contain no information and shall be ignored. When acknowledging the | | entire TBF in extended uplink TBF mode the SSN and RBB fields shall | | be interpreted. | | | | 0 retransmission are requested and the TBF is incomplete\ | | 1 no retransmissions are requested and this message indicates | | acknowledgement of all RLC data in the TBF | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER (SSN)** (7 bit field)\ | | The SSN contains the value of V(R) when this information element was | | transmitted. This field is encoded as the binary representation of | | V(R).\ | | Range 0 to 127 | +----------------------------------------------------------------------+ | **RECEIVE_BLOCK_BITMAP (RBB)** (64 bit field)\ | | The RBB is a bitmap representing Block Sequence Numbers. The bitmap | | is indexed relative to SSN as follows: | | | | BSN = (SSN - bit_number) modulo 128, for bit_number = 1 to 64. | | | | The BSN values represented range from (SSN - 1) mod 128 to (SSN - | | 64) mod 128. | | | | The value of each bit is encoded as: | | | | > 0 Negative acknowledgement of the RLC data block with BSN = (SSN - | | > bit_number) mod 128 | | > | | > 1 Positive acknowledgement of the RLC data block with BSN = (SSN - | | > bit_number) mod 128 | | | | Mapping of the bitmap is defined on sub-clause 11. | +----------------------------------------------------------------------+
### 12.3.1 EGPRS Ack/Nack Description
The Ack/Nack Description information element contains the RLC parameters used
to acknowledge or negatively acknowledge a group of RLC data blocks. The
number of bits available for the bitmap depends on the inclusion or exclusion
of other information elements in the used message.
Table 12.3.1.1: EGPRS Ack/Nack Description information elements
+----------------------------------------------------------------------+ | \ ::= | | | | 0 \ \-- _This IE fills rest of | | message_ | | | | \| 1 \ \-- _Value part of this IE is of | | length_ _L_**| | | | { \  & \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | **\ | | | | **\ | | | | **\ | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | \ } | | | | \ ; | +----------------------------------------------------------------------+
Table 12.3.1.2: EGPRS Ack/Nack Description information element details
+----------------------------------------------------------------------+ | **LENGTH L** (8 bit field) **\ | |** Range 15 to 255\ | | This field represents the length of the value part (i.e. the EGPRS | | Ack/Nack Description struct) of this information element. If this | | field is not included, this information element fills the remaining | | part of the message. | +----------------------------------------------------------------------+ | **FINAL_ACK_INDICATION** (1 bit field)\ | | This field indicates whether the entire TBF is being acknowledged. | | If, in case the uplink TBF is operating in non-extended uplink TBF | | mode, the entire TBF is being acknowledged, the SSN, CRBB and URBB | | fields contain no information and shall be ignored. When | | acknowledging the entire TBF in extended uplink TBF mode, the SSN, | | CRBB and URBB fields shall be interpreted if present. | | | | 0 retransmissions are requested and the TBF is incomplete.\ | | 1 no retransmissions are requested and this message indicates | | acknowledgement of all RLC data in the TBF. | +----------------------------------------------------------------------+ | **BEGINNING_OF_WINDOW** (BOW, 1 bit field)\ | | This bit indicates if the Ack/Nack bitmap starts at the beginning of | | the window. | | | | 0 SSN not equal to (_V(Q)_ +1) mod 2048.\ | | 1 SSN = (_V(Q)_ +1) mod 2048 | +----------------------------------------------------------------------+ | **END_OF_WINDOW** (EOW, 1 bit field)\ | | This bit indicates if the end of the receiver window is included in | | the bitmap(s). | | | | 0 [V(R) - 1] modulo SNS is not included in the bitmap.\ | | 1 [V(R) - 1] modulo SNS is included in the bitmap. | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER (SSN)** (11 bit field)\ | | Range 0 to 2047\ | | The SSN indicates the Block Sequence Number of the first RLC block | | for which the Ack/Nack receipt status is indicated within the | | bitmap. The SSN is determined using S/P, PBSN and _V(Q)._ | +----------------------------------------------------------------------+ | **COMPRESSED_BITMAP_LENGTH (Lc) (7 bit field)\ | |** Range 0 to 127\ | | This field represents the length of the compressed bitmap. | | Compression is carried out using T.4 run length coding. | +----------------------------------------------------------------------+ | **COMPRESSED_BITMAP_STARTING_COLOR_CODE** (1 bit field)\ | | This bit indicates if the first code word in the compressed bitmap | | (i.e. CRBB) represents a run length of ones or a run length of | | zeros.\ | | 0 First code word in CRBB represents run length of zeros.\ | | 1 First code word in CRBB represents run length of ones. | +----------------------------------------------------------------------+ | **COMPRESSED_RECEIVE_BLOCK_BITMAP (CRBB)** (_Lc_ bit field)\ | | The CRBB is a compressed bitmap. Compression is carried out starting | | at SSN using modified T.4 run length coding. The number of bits (Lc) | | available for Ack/Nack Description depends on the inclusion of other | | information elements in the used message. | | | | The packing order of the CRBB shall be such that the codeword (or | | pair of make up/terminating codewords) corresponding to the run | | including the SSN starts at the most significant bit of the CRBB, | | and codewords (or pairs of make-up/terminating codewords) | | corresponding to runs including higher and successively increasing | | sequence numbers are placed in bits of successively decreasing | | significance. | | | | NOTE: The URBB is packed in the opposite order. | +----------------------------------------------------------------------+ | **UNCOMPRESSED_RECEIVE_BLOCK_BITMAP (URBB)** (Lu bit field)\ | | The URBB is an uncompressed bitmap, which fills the remainder of | | this information element upto L bits, where L is the number of bits | | available for the EGPRS Ack/Nack description struct. The URBB field | | length, Lu, is determined by: | | | | Lu = L-Lc-23, when the compressed received block bitmap is included, | | or by\ | | Lu = L-15, when the compressed received block bitmap is not | | included: | | | | The bits in URBB, denoted here by index i, are numbered from i=1 | | (lowest order value) to i=Lu (highest order value). The value of | | each bit in the bitmap is encoded as following: | | | | > 0 Negative acknowledgement of the RLC data block with BSN = | | > (ESN_CRBB + i) modulo SNS, and | | > | | > 1 Positive acknowledgement of the RLC data block with BSN = | | > (ESN_CRBB + i) modulo SNS, where\ | | > ESN_CRBB is the ending block sequence number of CRBB and, if no | | > CRBB is included, ESN_CRBB = (SSN - 1) modulo SNS. | +----------------------------------------------------------------------+
### 12.3.2 FLO Ack/Nack Description
The FLO Ack/Nack Description information element contains the RLC parameters
used to acknowledge or negatively acknowledge a group of RLC data blocks.
Table 12.3.2.1: FLO Ack/Nack Description information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | \ | | | | \ | | | | { 0 \ | | | | \ | | | | \ | | | | \| 1 \ } ; | +----------------------------------------------------------------------+
Table 12.3.1.2: Ack/Nack Description information element details
+----------------------------------------------------------------------+ | **BEGINNING_OF_WINDOW** (BOW, 1 bit field)\ | | This bit indicates whether the status of the RLC data block | | corresponding to V(Q) i.e. '0' is included in the reported bitmap or | | not. | | | | 0 the reported bitmap does not cover V(Q)\ | | 1 the reported bitmap covers V(Q) | +----------------------------------------------------------------------+ | **END_OF_WINDOW** (EOW, 1 bit field)\ | | This bit indicates whether the end of the receiver window is | | included in the reported bitmap or not.\ | | 0 [V(R) - 1] modulo SNS is not included in the reported bitmap.\ | | 1 [V(R) - 1] modulo SNS is included in the reported bitmap. | +----------------------------------------------------------------------+ | **STARTING_SEQUENCE_NUMBER (SSN)** (10 bit field)\ | | Range 0 to 1023\ | | The SSN indicates the Block Sequence Number of the last RLC block | | for which the Ack/Nack receipt status is indicated within the | | reported bitmap. The SSN is determined as specified in 3GPP TS | | 44.160. | +----------------------------------------------------------------------+ | **COMPRESSED_BITMAP_LENGTH (Lc) (7 bit field)\ | |** Range 0 to 127\ | | This field represents the length of the compressed bitmap. | | Compression is carried out using T.4 run length coding. | +----------------------------------------------------------------------+ | **COMPRESSED_BITMAP_STARTING_COLOR_CODE** (1 bit field)\ | | This bit indicates if the first code word in the compressed bitmap | | (i.e. CRBB) represents a run length of ones or a run length of | | zeros.\ | | 0 First code word in CRBB represents run length of zeros.\ | | 1 First code word in CRBB represents run length of ones. | +----------------------------------------------------------------------+ | **COMPRESSED_RECEIVE_BLOCK_BITMAP (CRBB)** (_Lc_ bit field)\ | | The CRBB is a compressed bitmap. Compression is carried out starting | | at SSN-1 and going in decreasing order of the BSN, using modified | | T.4 run length coding. | | | | The packing order of the CRBB shall be such that the codeword (or | | pair of make up/terminating codewords) corresponding to the run | | including the SSN-1 starts at the least significant bit of the CRBB, | | and codewords (or pairs of make-up/terminating codewords) | | corresponding to runs including lowed and successively decreasing | | sequence numbers are placed in bits of successively increasing | | significance. | +----------------------------------------------------------------------+ | **UNCOMPRESSED_RECEIVE_BLOCK_BITMAP (URBB)** (Lu bit field)\ | | The URBB is an uncompressed bitmap of length Lu bits. | | | | The bits in URBB, denoted here by index i, are numbered from i=1 | | (highest order value i.e. corresponding to SSN-1) to i=Lu (lowest | | order value). The value of each bit in the bitmap is encoded as | | following: | | | | > 0 Negative acknowledgement of the RLC data block with BSN = (SSN - | | > 1 - i) modulo SNS, and | | > | | > 1 Positive acknowledgement of the RLC data block with BSN = (SSN - | | > 1 - i) modulo SNS | +----------------------------------------------------------------------+
## 12.4 (void)
## 12.5 EGPRS
### 12.5.1 EGPRS Channel Quality Report
The EGPRS Channel Quality Report Information Element IE is defined in tables
12.5.1.1 and 12.5.1.2. The information to be included within this IE depends
on the setting of the ES/P field or CES/P field (see sub-clause 9.1.8.2.1) and
on the most recently received LINK_QUALITY_MEASUREMENT_MODE field (see sub-
clause 11.2.7).
Table 12.5.1.1 : EGPRS Channel Quality Report Information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \> | | | | \ | | | | \> ; | +----------------------------------------------------------------------+
Table 12.5.1.2 : EGPRS Channel Quality Report Information Elements details
+----------------------------------------------------------------------+ | **EGPRS BEP Link Quality Measurements IE\ | |** This information element is defined in sub-clause 12.5.3. | | | | **EGPRS Timeslot Link Quality Measurements** | | | | This information element is defined in sub-clause 12.5.4. | | | | **C_VALUE** (6 bits)**\ | |** This field contains the value of the C parameter calculated by the | | mobile station (see 3GPP TS 45.008). This field is encoded as the | | binary representation of the C value parameter value defined in | | 3GPP TS 45.008.\ | | Range 0 to 63 | +----------------------------------------------------------------------+
### 12.5.2 EGPRS Window Size
This information element defines the window size to be used in an EGPRS TBF.
The network sets the window size according to the number of timeslots assigned
in the direction of the TBF.
If RLC acknowledged mode is signalled in the assignment/reconfiguration
message, or if RLC unacknowledged mode is signalled and the mobile station
does not support RLC non-persistent mode, the window size is defined according
to Table 12.5.2.1 below.
Table 12.5.2.1: EGPRS Window Size Information Elements details for RLC
(un)acknowledged mode
* * *
bit\ Value of EGPRS window size Comment 5 4 3 2 1
0 0 0 0 0 64
0 0 0 0 1 96
0 0 0 1 0 128
0 0 0 1 1 160
0 0 1 0 0 192 (maximum window size for a 1 timeslot TBF)
0 0 1 0 1 224
0 0 1 1 0 256 (maximum window size for a 2 timeslot TBF)
0 0 1 1 1 288
0 1 0 0 0 320
0 1 0 0 1 352
0 1 0 1 0 384 (maximum window size for a 3 timeslot TBF)
0 1 0 1 1 416
0 1 1 0 0 448
0 1 1 0 1 480
0 1 1 1 0 512 (maximum window size for a 4 timeslot TBF)
0 1 1 1 1 544
1 0 0 0 0 576
1 0 0 0 1 608
1 0 0 1 0 640 (maximum window size for a 5 timeslot TBF)
1 0 0 1 1 672
1 0 1 0 0 704
1 0 1 0 1 736
1 0 1 1 0 768 (maximum window size for a 6 timeslot TBF)
1 0 1 1 1 800
1 1 0 0 0 832
1 1 0 0 1 864
1 1 0 1 0 896 (maximum window size for a 7 timeslot TBF)
1 1 0 1 1 928
1 1 1 0 0 960
1 1 1 0 1 992
1 1 1 1 0 1024 (maximum window size for an 8-16 timeslot TBF)
1 1 1 1 1 Reserved
* * *
If RLC unacknowledged mode is signalled in the assignment/reconfiguration
message, and the mobile station supports RLC non-persistent mode, RLC non-
persistent mode shall be assumed by the mobile station, except when the window
size is set equal to 1, and the window size is defined according to Table
12.5.2.2 below.
When a mobile station supporting RLC non-persistent mode operates in RLC
unacknowledged mode (i.e. the window size is set to 1) it shall assume the
maximum window size corresponding to the TBF's timeslot allocation (see Table
9.1.9.2.1) when defining the bitmap in sub-clause 9.1.8.2.
If an MBMS bearer is allocated RLC non-persistent mode shall be used. For this
case the window size is defined according to Table 12.5.2.2 below.
Table 12.5.2.2: EGPRS Window Size Information Elements details for RLC non-
persistent mode
* * *
bit\ Value of EGPRS window size Comment 5 4 3 2 1
0 0 0 0 0 1 This value indicates RLC unacknowledged mode is used for the EGPRS
TBF
0 0 0 0 1 2
0 0 0 1 0 4
0 0 0 1 1 6
0 0 1 0 0 8
0 0 1 0 1 10
0 0 1 1 0 12
0 0 1 1 1 16
0 1 0 0 0 20
0 1 0 0 1 24
0 1 0 1 0 32
0 1 0 1 1 40
0 1 1 0 0 48
0 1 1 0 1 56
0 1 1 1 0 64
0 1 1 1 1 80
1 0 0 0 0 96
1 0 0 0 1 112
1 0 0 1 0 128
1 0 0 1 1 160
1 0 1 0 0 192 (maximum window size for a 1 timeslot TBF)
1 0 1 0 1 256 (maximum window size for a 2 timeslot TBF)
1 0 1 1 0 320
1 0 1 1 1 384 (maximum window size for a 3 timeslot TBF)
1 1 0 0 0 448
1 1 0 0 1 512 (maximum window size for a 4 timeslot TBF)
1 1 0 1 0 576
1 1 0 1 1 640 (maximum window size for a 5 timeslot TBF)
1 1 1 0 0 768 (maximum window size for a 6 timeslot TBF)
1 1 1 0 1 896 (maximum window size for a 7 timeslot TBF)
1 1 1 1 0 1024 (maximum window size for a 8-16 timeslot TBF)
1 1 1 1 1 Reserved
* * *
### 12.5.3 EGPRS BEP Link Quality Measurements IE
The EGPRS BEP Link Quality measurements IE is defined in tables 12.5.3.1 and
12.5.3.2.
Table 12.5.3.1: EGPRS BEP Link Quality Information elements
+--------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ | | | | \} | | | | { 0 \| 1 \ | | | | \ }; | +--------------------------------------------------+
Table 12.5.3.2 : EGPRS BEP Link Quality Information Elements details
* * *
**GMSK** _**MEAN_BEP** (5 bit field)\ This field contains the mean value of
the Bit Error Probability of the channel averaged over all time slots in the
TBF for GMSK, refer to 3GPP TS 45.008.
**8PSK_MEAN_BEP** (5 bit field)\ This field contains the mean value of the Bit
Error Probability of the channel averaged over all time slots in the TBF for 8
PSK, refer to 3GPP TS 45.008.
**GMSK_CV_BEP** (3 bit field)\ This field contains the variation co-efficient
for the Bit Error Probability averaged over all time slots of the TBF for
GMSK, refer to 3GPP TS 45.008.
**8PSK_CV_BEP** (3 bit field)\ This field contains the variation co-efficient
for the Bit Error Probability averaged over all time slots of the TBF for 8
PSK, refer to 3GPP TS 45.008.
* * *
### 12.5.4 EGPRS Timeslot Link Quality Measurements IE
The EGPRS Timeslot Link Quality measurements IE is defined in tables 12.5.4.1
and 12.5.4.2.
Table 12.5.4.1: EGPRS Timeslot Link Quality Measurements Information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1\} | | | | { 0 \| 1 \}; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \}} | | | | { 0 \| 1 { 0 \ | | | | \| 1 \} }; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ }; | +----------------------------------------------------------------------+
Table 12.5.4.2: EGPRS Timeslot Link Quality Measurements Information Elements
details
+----------------------------------------------------------------------+ | **GMSK_MEAN_BEP_TN0** (4 bit field)\ | | **GMSK_MEAN_BEP_TN1** (4 bit field)\ | | **GMSK_MEAN_BEP_TN2** (4 bit field)\ | | **GMSK_MEAN_BEP_TN3** (4 bit field)\ | | **GMSK_MEAN_BEP_TN4** (4 bit field)\ | | **GMSK_MEAN_BEP_TN5** (4 bit field)\ | | **GMSK_MEAN_BEP_TN6** (4 bit field)\ | | **GMSK_MEAN_BEP_TN7** (4 bit field) | | | | These fields contain the mean bit error probability value calculated | | on timeslots 0 through 7 for GMSK modulation, refer to | | 3GPP TS 45.008. These fields are transferred only when the mobile | | station is in packet transfer mode. In RTTI configuration, the mean | | bit error probability value calculated on per timeslot pair shall be | | reported on **GMSK_MEAN_BEP_TNx** where TNx is the lower numbered | | timeslot of each reported timeslot pair. | +----------------------------------------------------------------------+ | **8PSK_MEAN_BEP_TN0** (4 bit field)\ | | **8PSK_MEAN_BEP_TN1** (4 bit field)\ | | **8PSK_MEAN_BEP_TN2** (4 bit field)\ | | **8PSK_MEAN_BEP_TN3** (4 bit field)\ | | **8PSK_MEAN_BEP_TN4** (4 bit field)\ | | **8PSK_MEAN_BEP_TN5** (4 bit field)\ | | **8PSK_MEAN_BEP_TN6** (4 bit field)\ | | **8PSK_MEAN_BEP_TN7** (4 bit field) | | | | These fields contain the mean bit error probability value calculated | | on timeslots 0 through 7 for 8PSK modulation, refer to | | 3GPP TS 45.008. These fields are transferred only when the mobile | | station is in packet transfer mode. In RTTI configuration, the mean | | bit error probability value calculated on per timeslot pair shall be | | reported on **8PSK_MEAN_BEP_TNx** where TNx is the lower numbered | | timeslot of each reported timeslot pair. | +----------------------------------------------------------------------+ | **I_LEVEL_TN0** (4 bit field) | | | | **I_LEVEL_TN1** (4 bit field) | | | | **I_LEVEL_TN2** (4 bit field) | | | | **I_LEVEL_TN3** (4 bit field) | | | | **I_LEVEL_TN4** (4 bit field) | | | | **I_LEVEL_TN5** (4 bit field) | | | | **I_LEVEL_TN6** (4 bit field) | | | | **I_LEVEL_TN7** (4 bit field) | | | | These fields contain the γ value calculated on timeslots 0 through | | 7, respectively. The γ value is defined in 3GPP TS 45.008. These | | fields are encoded relative to C_VALUE as defined for the mapping | | defined in 3GPP TS 45.008 for interference level (I_LEVEL): | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 I_LEVEL 0 | | | | 0 0 0 1 I_LEVEL 1 | | | | ... | | | | 1 1 1 0 I_LEVEL 14 | | | | 1 1 1 1 I_LEVEL 15 | +----------------------------------------------------------------------+
### 12.5.5 **PDCH Pairs Description**
The PDCH Pairs Description information element gives the description of the
uplink and downlink corresponding pairs of an RTTI configuration.
Table 12.5.5.1: PDCH Pairs Description Information Element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | } ; | +----------------------------------------------------------------------+
Table 12.5.5.2: PDCH Pairs Description Information Element
+------------------------------------------------+ | **DOWNLINK_PDCH_PAIRS_C1** | | | | **DOWNLINK_PDCH_PAIRS_C2** | | | | **UPLINK_PDCH_PAIRS_C1** | | | | **UPLINK_PDCH_PAIRS_C2** | | | | These fields are defined in sub-clause 11.2.31 | +------------------------------------------------+
## 12.5a EGPRS2
### 12.5a.1 EGPRS Channel Quality Report Type 2
The EGPRS2 Channel Quality Report Type 2 Information Element is defined in
tables 12.5a.1.1 and 12.5a.1.2. The information to be included within this IE
depends on the setting of the ES/P field or CES/P field (see sub-clause
9.1.8.2.1) and on the most recently received LINK_QUALITY_MEASUREMENT_MODE
field (see sub-clause 11.2.7).
Table 12.5a.1.1 : EGPRS Channel Quality Report Type 2 Information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \> | | | | \ | | | | \> ; | +----------------------------------------------------------------------+
Table 12.5a.1.2 : EGPRS Channel Quality Report Type 2 Information Elements
details
+----------------------------------------------------------------------+ | **EGPRS BEP Link Quality Measurements Type 2\ | |** This information element is defined in sub-clause 12.5a.2. These | | fields are transferred according to the setting of the ES/P field or | | CES/P field, see sub-clause 9.1.8.2.1. | | | | **EGPRS Timeslot Link Quality Measurements Type 2** | | | | This information element is defined in sub-clause 12.5a.3. | | | | **C_VALUE** (6 bits)**\ | |** This field contains the value of the C parameter calculated by the | | mobile station (see 3GPP TS 45.008). This field is encoded as the | | binary representation of the C value parameter value defined in | | 3GPP TS 45.008.\ | | Range 0 to 63 | +----------------------------------------------------------------------+
### 12.5a.2 EGPRS BEP Link Quality Measurements Type 2 IE
The EGPRS BEP Link Quality measurements Type 2 IE is defined in tables
12.5a.2.1 and 12.5a.2.2. In the case of dual carrier configurations, \"all
timeslots in the TBF\" shall refer only to those timeslots on the carrier to
which this IE relates.
Table 12.5a.2.1: EGPRS BEP Link Quality Measurements Type 2 Information
elements
+---------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ | | | | \} | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ }; | +---------------------------------------------------------+
Table 12.5a.2.2 : EGPRS BEP Link Quality Measurements Type 2 Information
Elements details
+----------------------------------------------------------------------+ | **GMSK** _**MEAN_BEP** (5 bit field)\ | | **8PSK_MEAN_BEP** (5 bit field)\ | | **QPSK_MEAN_BEP** (5 bit field)\ | | **16QAM** _ **NSR_MEAN_BEP** (5 bit field)\ | | **32QAM** _ **NSR_MEAN_BEP** (5 bit field)\ | | **16QAM_HSR_MEAN_BEP** (5 bit field)\ | | **32QAM_HSR_MEAN_BEP** (5 bit field) | | | | These fields contain the mean value of the Bit Error Probability of | | the channel averaged over all timeslots in the TBF for the relevant | | modulation scheme, refer to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **GMSK_CV_BEP** (3 bit field)\ | | **8PSK_CV_BEP** (3 bit field)\ | | **QPSK_CV_BEP** (3 bit field)\ | | **16QAM_ NSR_CV_BEP** (3 bit field)\ | | **32QAM_ NSR_CV_BEP** (3 bit field)\ | | **16QAM_HSR_CV_BEP** (3 bit field)\ | | **32QAM_HSR_CV_BEP** (3 bit field)\ | | These fields contain the variation coefficient for the Bit Error | | Probability averaged over all timeslots of the TBF for the relevant | | modulation scheme, refer to 3GPP TS 45.008. | +----------------------------------------------------------------------+
### 12.5a.3 EGPRS Timeslot Link Quality Measurements Type 2 IE
The EGPRS Timeslot Link Quality Measurements Type 2 IE is defined in tables
12.5a.3.1 and 12.5a.3.
Table 12.5a.3.1: EGPRS Timeslot Link Quality Measurements Type 2 Information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \} | | | | { 0 \| 1 \}; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | } | | | | { 0 | | | | \| 1 \ | | | | \ | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ }; | +----------------------------------------------------------------------+
Table 12.5a.3.2: EGPRS Timeslot Link Quality Measurements Type 2 Information
Elements details
+----------------------------------------------------------------------+ | **MEAN_BEP_TN0** (4 bit field)\ | | **MEAN_BEP_TN1** (4 bit field)\ | | **MEAN_BEP_TN2** (4 bit field)\ | | **MEAN_BEP_TN3** (4 bit field)\ | | **MEAN_BEP_TN4** (4 bit field)\ | | **MEAN_BEP_TN5** (4 bit field)\ | | **MEAN_BEP_TN6** (4 bit field)\ | | **MEAN_BEP_TN7** (4 bit field) | | | | These fields contain the mean bit error probability value calculated | | on timeslots 0 through 7 for the modulation scheme as indicated | | **using the REPORTED_MODULATION field** , see below. For the | | calculation of the mean bit error probability, refer to | | 3GPP TS 45.008. These fields are transferred only when the mobile | | station is in packet transfer mode. In RTTI configuration, the mean | | bit error probability value calculated on per timeslot pair shall be | | reported on **MODULATION_1 _MEAN_BEP_TNx /MODULATION_2 | | _MEAN_BEP_TNx** where TNx is the lower numbered timeslot of each | | reported timeslot pair. | +----------------------------------------------------------------------+ | **I_LEVEL_TN0** (4 bit field) | | | | **I_LEVEL_TN1** (4 bit field) | | | | **I_LEVEL_TN2** (4 bit field) | | | | **I_LEVEL_TN3** (4 bit field) | | | | **I_LEVEL_TN4** (4 bit field) | | | | **I_LEVEL_TN5** (4 bit field) | | | | **I_LEVEL_TN6** (4 bit field) | | | | **I_LEVEL_TN7** (4 bit field) | | | | These fields contain the γ value calculated on timeslots 0 through | | 7, respectively. The γ value is defined in 3GPP TS 45.008. These | | fields are encoded relative to C_VALUE as defined for the mapping | | defined in 3GPP TS 45.008 for interference level (I_LEVEL): | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 I_LEVEL 0 | | | | 0 0 0 1 I_LEVEL 1 | | | | ... | | | | 1 1 1 0 I_LEVEL 14 | | | | 1 1 1 1 I_LEVEL 15 | +----------------------------------------------------------------------+ | **REPORTED_MODULATION** (2 bit field) | | | | The mobile station shall, for each of its currently assigned | | timeslots, report the modulation scheme (indicated using the | | REPORTED_MODULATION field) with which it has received the largest | | number of blocks since the last report and shall report the | | MEAN_BEP_TNx of that modulation scheme (see the section 10.2.3.2.3 | | in 3GPP TS 45.008). The mapping of the modulation scheme is as | | follows. | | | | For EGPRS2-A: | | | | bit | | | | 2 1 | | | | 0 0 GMSK | | | | 0 1 8PSK | | | | 1 0 16QAM | | | | 1 1 32QAM | | | | For EGPRS2-B: | | | | bit | | | | 2 1 | | | | 0 0 GMSK | | | | 0 1 QPSK | | | | 1 0 16QAM with higher symbol rate | | | | 1 1 32QAM with higher symbol rate | | | | In case of EGPRS2-B, if there are any received radio blocks with | | 8PSK, 16QAM with normal symbol rate or 32QAM with normal symbol | | rate, those radio blocks shall be ignored for channel quality | | reporting on that timeslot. | +----------------------------------------------------------------------+
## 12.6 (void)
## 12.7 Channel Request Description
The Channel Request Description information element is sent by the mobile
station to the network to request uplink resources.
Table 12.7.1: _Channel Request Description_ information elements
+---------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ ; | +---------------------------------------------+
Table 12.7.2: _Channel Request Description_ information element details
+----------------------------------------------------------------------+ | **PEAK_THROUGHPUT_CLASS** (4 bit field)\ | | This field indicates the peak throughput class for the PDP context | | of the LLC PDU that caused the Channel Request Description IE to be | | transmitted. The field is coded as the binary representation of the | | Peak Throughput Class specified in 3GPP TS 24.008.\ | | Range: 1 to 9 | +----------------------------------------------------------------------+ | **RADIO_PRIORITY** (2 bit field)\ | | This field indicates the Radio Priority of the requested TBF. The | | field is encoded as the Radio Priority field of the Packet Channel | | Request (see sub-clause 11.2.5). | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field)\ | | This field indicates the RLC mode of the requested TBF. | | | | 0 RLC acknowledged mode\ | | 1 RLC unacknowledged mode | +----------------------------------------------------------------------+ | **LLC_ PDU_TYPE** (1 bit field)\ | | This field indicates the type of the first LLC PDU to be transmitted | | over the requested uplink TBF. | | | | 0 LLC PDU is SACK or ACK\ | | 1 LLC PDU is not SACK or ACK | +----------------------------------------------------------------------+ | **RLC_OCTET_COUNT** (16 bit field)\ | | The RLC_OCTET_COUNT field indicates the number of RLC data octets, | | plus the number of RLC data block length octets, that the mobile | | station wishes to transfer. The value \'0\' indicates that the | | mobile station does not provide any information on the TBF size.\ | | Range 0 to 65535 | +----------------------------------------------------------------------+
## 12.7a Iu mode Channel Request Description
The _Iu mode Channel Request Description_ information element is sent by the
mobile station to the network to request uplink resources.
Table 12.7a.1: _Iu mode_ _Channel Request Description_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; -- _IE to | | be repeated only when\ | | -- in a Multiple TBF request message_ | +----------------------------------------------------------------------+
Table 12.7a.2: _Iu mode_ _Channel Request Description_ information element
details
+----------------------------------------------------------------------+ | **RB Id** (5 bit field)\ | | This field indicates the radio bearer identity of the upper layer | | PDU that caused the Iu mode Channel Request Description IE to be | | transmitted. | | | | Range: 0 to 31 | +----------------------------------------------------------------------+ | **RADIO_PRIORITY** (2 bit field)\ | | This field indicates the Radio Priority of the requested TBF. The | | field is encoded as the Radio Priority field of the Packet Channel | | Request (see sub-clause 11.2.5). | +----------------------------------------------------------------------+ | **RLC_BLOCK_COUNT** (8 bit field)\ | | If present, the RLC_BLOCK_COUNT field indicates the number of RLC | | data blocks that the mobile station wishes to transfer (assuming a | | CS-1 coding). | | | | This field is encoded as a binary number as shown: | | | | bit\ | | 8 7 6 5 4 3 2 1\ | | 0 0 0 0 0 0 0 0 9 RLC data blocks\ | | 0 0 0 0 0 0 0 1 10 RLC data blocks\ | | . . .\ | | 1 1 1 1 1 1 1 1 264 RLC data blocks | +----------------------------------------------------------------------+
## 12.7b **Extended** Channel Request Description
The _**Extended** Channel Request Description_ information element is sent by
the mobile station to the network to request multiple uplink resources.
Table 12.7b.1: _**Extended** Channel Request Description_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; -- | | _IE to be repeated only when needed and\ | | -- when included in a Multiple TBF request message_ | +----------------------------------------------------------------------+
Table 12.7b.2: _**Extended** Channel Request Description_ information element
details
+----------------------------------------------------------------------+ | **PFI** (7 bit field)\ | | This field contains the PFI parameter identifying a Packet Flow | | Context. The PFI parameter is encoded as the contents of the PFI | | information element as defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **RADIO_PRIORITY** (2 bit field)\ | | This field indicates the Radio Priority of the requested TBF. The | | field is encoded as the Radio Priority field of the Packet Channel | | Request (see sub-clause 11.2.5). | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field)\ | | This field indicates the RLC mode of the requested TBF. | | | | 0 RLC acknowledged mode\ | | 1 RLC unacknowledged mode | +----------------------------------------------------------------------+ | **LLC_ PDU_TYPE** (1 bit field)\ | | This field indicates the type of the first LLC PDU to be transmitted | | over the requested uplink TBF. If the TBF request is not for an LLC | | PDU then this field shall be omitted. | | | | 0 LLC PDU is SACK or ACK\ | | 1 LLC PDU is not SACK or ACK | +----------------------------------------------------------------------+
## 12.8 Frequency Parameters
The Frequency Parameters information element defines frequency parameters and
a training sequence code (TSC), which may be allocated to a mobile station to
define its channel configuration. All timeslots in the channel configuration
of the mobile station shall use the same frequency parameters and training
sequence code.
NOTE: For COMPACT, for PDTCH/PACCH on primary and secondary carriers that are
indicated in EXT_FREQUENCY_LIST by parameter INT_FREQUENCY (see 3GPP TS
45.008), the TSCs should be equal to the BCC, as defined in 3GPP TS 23.003,
otherwise the accuracy of interference measurement reporting may be
compromised.
The frequency parameters may consist of an ARFCN, defining a non-hopping radio
frequency channel. The indirect encoding, the direct encoding 1 and the direct
encoding 2 defines a hopping radio frequency channel.
Table 12.8.1: _Frequency Parameters_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 00 \ | | | | \| 01 \ > | | | | \| 10 \ > | | | | \| 11 \ > } | | ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 12.8.2: _Frequency Parameters_ information element details
* * *
**TSC** (3 bit field)\ This field is the binary representation of the training
sequence code, see 3GPP TS 45.002. Range: 0 to 7.
**ARFCN** (10 bit field)\ This field is the binary representation of the
absolute radio frequency channel number (ARFCN) defined in 3GPP TS 45.005.
Range 0 to 1023.
**MAIO** (6 bit field)\ This field is the binary representation of the mobile
allocation index offset (MAIO), see 3GPP TS 45.002. Range 0 to 63.
**MA_NUMBER** (4 bit field)\ This field is the binary reference to a GPRS
mobile allocation received in either the PSI2 information, the SI13/PSI13
information or a previous assignment message, see sub-clause 5.5.1.6. Range: 0
to 15.
**CHANGE_MARK_1** (2 bit field)\ **CHANGE_MARK_2** (2 bit field)\ These fields
are the binary representations of the allowed values for the PSI or SI _change
mark_ associated with the GPRS mobile allocation that the MA_NUMBER field
refers to. Range: 0 to 3.
**GPRS Mobile Allocation** (information element)\ The _GPRS Mobile Allocation_
information element is defined in sub-clause 12.10a.
**HSN** (6 bit field)\ This field is the binary representation of the hopping
sequence number, see 3GPP TS 45.002. Range: 0 to 63.
**MA Frequency List contents** (variable length octet string)\ This variable
length octet string is the representation of a set of radio frequency channels
defining a GPRS mobile allocation. The encoding of the octet string is defined
by the _value part_ of the type 4 information element _Frequency List_ ,
defined in 3GPP TS 44.018. The allowed formats of the _Frequency List_
information element are the _bit map 0_ , _1024 range_ , _512 range_ , _256
range_ , _128 range_ and _variable bit map_ formats.
* * *
### 12.8.1 Abnormal cases
If the indirect encoding is used, this information element may contain the
CHANGE_MARK_1 and 2 fields. If one of these fields is present, the receiver
shall verify the validity of the PSI or SI _change mark_ associated with the
GPRS mobile allocation that the MA_NUMBER field refers to, see sub-clause
5.5.1.7. None of the CHANGE_MARK_1 and 2 fields shall be included if the
MA_NUMBER refers to a GPRS mobile allocation received in a previous assignment
message.
If the receiver detects that an inconsistency is contained in this information
element, the information element shall be regarded as invalid. Such
inconsistency may be that:
\- an invalid PSI or SI _change mark_ is associated with the referred GPRS
mobile allocation;
\- an CHANGE_MARK_1 or 2 field is included and the MA_NUMBER refers to a GPRS
mobile allocation received in a previous assignment message; or
\- an undefined MA_NUMBER or an invalid GPRS Mobile Allocation is contained in
this information element.
If the inconsistency is due to an invalid PSI or SI _change mark_ associated
with the referred GPRS mobile allocation or an undefined MA_NUMBER in the
range 0 ñ 14, the mobile station shall initiate a _partial acquisition_ of
PBCCH or BCCH information (see sub-clause 5.5.1.4). It shall then obtain the
PSI2 or SI13 information, which is concerned.
### 12.8.2 Dual Carrier Frequency Parameters
The Dual Carrier Frequency Parameters information element is used to define
the frequency parameters for both carriers in a dual carrier configuration. It
defines frequency parameters and a training sequence code (TSC), which may be
allocated to a mobile station to define its channel configuration. All
timeslots on each radio frequency channel in the channel configuration of the
mobile station shall use the same frequency parameters and training sequence
code.
The dual carrier frequency parameters may consist of two ARFCNs, defining non-
hopping radio frequency channels. The dual carrier indirect encoding, the dual
carrier direct encoding 1 and the dual carrier direct encoding 2 define two
hopping radio frequency channels.
Table 12.8.2.1: _Frequency Parameters_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 00 | | | | { 0 \| 1 \ | | | | \ } | | | | \| 01 \ > | | | | \| 10 \ > | | | | \| 11 \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ > ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 12.8.2.2: _Frequency Parameters_ information element details
* * *
**TSC** (3 bit field)\ This field is the binary representation of the training
sequence code, see 3GPP TS 45.002. Range: 0 to 7.
**ARFCN1** (10 bit field)\ This field is the binary representation of the
absolute radio frequency channel number (ARFCN) tro be applied to carrier 1,
as defined in 3GPP TS 45.005. Range 0 to 1023.
**ARFCN2** (10 bit field)\ This field is the binary representation of the
absolute radio frequency channel number (ARFCN) tro be applied to carrier 2,
as defined in 3GPP TS 45.005. Range 0 to 1023.
**MAIO1** (6 bit field)\ This field is the binary representation of the mobile
allocation index offset (MAIO) to be applied to carrier 1, see 3GPP TS 45.002.
Range 0 to 63.
**MAIO2** (6 bit field)\ This field is the binary representation of the mobile
allocation index offset (MAIO) to be applied to carrier 2, see 3GPP TS 45.002.
Range 0 to 63.
**MA_NUMBER** (4 bit field)\ This field is the binary reference to a GPRS
mobile allocation received in either the PSI2 information, the SI13/PSI13
information or a previous assignment message, see sub-clause 5.5.1.6. Range: 0
to 15.
**CHANGE_MARK_1** (2 bit field)\ **CHANGE_MARK_2** (2 bit field)\ These fields
are the binary representations of the allowed values for the PSI or SI _change
mark_ associated with the GPRS mobile allocation that the MA_NUMBER field
refers to. Range: 0 to 3.
**GPRS Mobile Allocation** (information element)\ The _GPRS Mobile Allocation_
information element is defined in sub-clause 12.10a.
**HSN** (6 bit field)\ This field is the binary representation of the hopping
sequence number, see 3GPP TS 45.002. Range: 0 to 63.
**MA Frequency List contents** (variable length octet string)\ This variable
length octet string is the representation of a set of radio frequency channels
defining a GPRS mobile allocation. The encoding of the octet string is defined
by the _value part_ of the type 4 information element _Frequency List_ ,
defined in 3GPP TS 44.018. The allowed formats of the _Frequency List_
information element are the _bit map 0_ , _1024 range_ , _512 range_ , _256
range_ , _128 range_ and _variable bit map_ formats.
* * *
### 12.8.3 Pulse Format description
This information element specifies on which, if any, radio frequency channels
the mobile station shall transmit using the narrow pulse shaping filter or
shall otherwise transmit using the wide pulse shaping filter with a specified
spectrum mask (see 3GPP TS 45.004, 3GPP TS 45.005). The content of this
information element is applicable only when one of UBS-5 to UBS-12 modulation
and coding schemes is used.
If this information element is not included in an assignment message and the
mobile station is required to transmit using EGPRS2-B modulation and coding
schemes UBS-5 to UBS-12, the mobile station shall use the wide pulse shaping
filter option without tight spectrum mask on all frequencies in the mobile
allocation (if hopping) or on the single frequency assigned (if non-hopping).
Table 12.8.3.1: _Pulse Format_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ > }; | | | | \ ::= | | | | { 0 \ | | | | \ } | | } > | | | | \| 1 \ | | | | } ; | +----------------------------------------------------------------------+ | **Pulse Format Coding 1** | | | | The pulse shaping filter format/spectrum mask to be used on the | | frequencies specified in the mobile allocation are as specified in | | the table below. Frequency 1 is the lowest frequency, and Frequency | | n is the highest frequency (when ordered according to the value of | | their frequency in Hz). | | | | Where \'W\' is indicated, the wideband pulse option applies. | | | | Where \'N\' is indicated, the narrowband pulse option applies. | | | | Where \'W2\' is indicated, the wideband pulse with tighter spectrum | | mask applies. | | | | bit Frequency | | | | 3 2 1 1 2 3..(n-2) n-1 n | | | | 0 0 0 W W W W W | | | | 0 0 1 W W W W2 N | | | | 0 1 0 N W2 W W W | | | | 0 1 1 N W2 W W2 N | | | | 1 0 0 N N N N N | | | | 1 0 1 W W W W W2 | | | | 1 1 0 W2 W W W W | | | | 1 1 1 W2 W W W W2 | +----------------------------------------------------------------------+ | **Pulse Format Coding 2:** | | | | **Pulse Format Bitmap Length (7 bit field)\ | |** Range 0 to 127\ | | This field represents the length minus one of the **Pulse Format | | Bitmap** field. | | | | **Pulse Format Bitmap** (variable length bit field) | | | | This field comprises a bitmap with each codeword (comprising 1 or 2 | | bits) corresponding to a frequency specified in the mobile | | allocation, in increasing order of ARFCN value (except that | | ARFCN = 0, if included, is put last). | | | | 1 Wide pulse shaping filter option without tight spectrum mask | | applies | | | | 0 1 Wide pulse shaping filter option with tight spectrum mask | | applies | | | | 0 0 Narrow pulse shaping filter option applies | | | | If the number of codewords in the bitmap is greater than the number | | of frequencies specified in the mobile allocation, the extra | | codewords shall be ignored. If the number of codewords in the bitmap | | in lower than the number of frequencies specified in the mobile | | allocation, the wide pulse shaping filter without tight spectrum | | mask shall apply for any frequency with no corresponding codeword. | | | | **Non Hopping Carrier Pulse Format** | | | | In the case of a non-hopping carrier, this field contains a single | | codeword that indicates which pulse format shall be used on the | | carrier. The meaning of the codeword values is identical as | | specified for the _Pulse Format Bitmap_. | +----------------------------------------------------------------------+
## 12.9 Global Power Control Parameters
The Global Power Control Parameters information element contains parameters
the mobile station shall use to determine its TX power level. When provided,
the MS shall use this information from the most recently received message.
Table 12.9.1: _Global Power Control Parameters_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | 0 -- The value \'1\' was allocated in an earlier version of the | | protocol and shall not be used. | | | | \ ; | +----------------------------------------------------------------------+
Table 12.9.2: _Global Power Control Parameters_ information element details
+----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | This field is the binary representation of the parameter α for MS | | output power control in units of 0.1, see 3GPP TS 45.008.\ | | Range: 0 to 10. The ALPHA power control parameter field is coded | | according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 α = 0.0\ | | 0 0 0 1 α = 0.1\ | | 0 0 1 0 α = 0.2\ | | : :\ | | 1 0 0 1 α = 0.9\ | | 1 0 1 0 α = 1.0\ | | All other values are reserved in this version of the protocol and | | shall be interpreted by the mobile station as α = 1.0. | +----------------------------------------------------------------------+ | **T_AVG_W** (5 bit field)\ | | The T_AVG_W parameter is a signal strength filter period for power | | control in packet idle mode. 2^(k/2)^ / 6 multiframes, k = 0, 1, 2, | | ... 25 (see 3GPP TS 45.008). Values greater than 25 shall be | | interpreted as 25 by the mobile station. | +----------------------------------------------------------------------+ | **T_AVG_T** (5 bit field)\ | | The T_AVG_T parameter is a signal strength filter period for power | | control in packet transfer mode. 2^(k/2)^ / 6 multiframes, k = 0, 1, | | 2, ..., 25 (see 3GPP TS 45.008). Values greater than 25 shall be | | interpreted as 25 by the mobile station. | +----------------------------------------------------------------------+ | **Pb** (4 bit field)\ | | The Pb parameter is a power reduction value used by the BTS on PBCCH | | blocks and PCCCH blocks, relative to the output power used on BCCH. | | The field is coded according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 Pb = 0 dB\ | | 0 0 0 1 Pb = -2 dB\ | | 0 0 1 0 Pb = -4 dB\ | | : :\ | | 1 1 1 1 Pb = -30 dB | +----------------------------------------------------------------------+ | **PC_MEAS_CHAN** (1 bit field)\ | | The PC_MEAS_CHAN parameter indicates where the mobile station | | shall measure the received power level on the downlink for the | | purpose of the uplink power control. | | | | 0 downlink measurements for power control shall be made on BCCH\ | | 1 downlink measurements for power control shall be made on PDCH | +----------------------------------------------------------------------+ | **N_AVG_I** (4 bit field)\ | | The N_AVG_I parameter is an interfering signal strength filter | | constant for power control 2^(k/2)^, k=0, 1, .., 15 (see | | 3GPP TS 45.008).\ | | Range: 0 to 15 | +----------------------------------------------------------------------+
## 12.9a **GPRS Power Control Parameters**
The **_GPRS Power Control Parameters_** information element contains
parameters the mobile station shall use to determine its TX power level.
Table 12.9a.1: **_GPRS Power Control Parameters_** information element
+--------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ ; | +--------------------------------------------+
Table 12.9a.2: **_GPRS Power Control Parameters_** information element details
* * *
**ALPHA** (4 bit field),\ **T_AVG_W** (5 bit field),\ **T_AVG_T** (5 bit
field),\ **PC_MEAS_CHAN** (1 bit field) and\ **N_AVG_I** (4 bit field)\ These
fields are defined in the _Global Power Control Parameters_ information
element, see sub-clause 12.9.
* * *
## 12.10 Global TFI
The Global TFI (Temporary Flow Identity) information element contains either
an uplink TFI or a downlink TFI. The uplink or downlink TFI identifies a
single Temporary Block Flow.
Table 12.10.1: _Global TFI_ information elements
+--------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ } ; | +--------------------------------------------+
Table 12.10.2: _Global TFI_ information element details
+----------------------------------------------------------------------+ | **UPLINK_TFI** (5 bit field)\ | | This field identifies an uplink TBF. This field is coded the same as | | the TFI field defined in sub-clause 12.15. | | | | **DOWNLINK_TFI** (5 bit field)\ | | This field identifies a downlink TBF. This field is coded the same | | as the TFI field defined in sub-clause 12.15. | +----------------------------------------------------------------------+
## 12.10a GPRS Mobile Allocation
The GPRS Mobile Allocation information element defines a set of radio
frequency channels and a hopping sequence number (HSN), which may be allocated
to a mobile station to define its channel configuration.
This information element may refer to a reference frequency list, or set of
reference frequency lists defined in the PSI2 information. In case there is no
such reference included in this information element, it refers to the cell
allocation (CA) defined for the cell. The cell allocation is defined in the
PSI2 information, if PBCCH is present in the cell, or in the SI1 information
(see 3GPP TS 44.018), if PBCCH is not present in the cell.
There are two alternative ways to encode the GPRS mobile allocation, using the
MA_BITMAP or the ARFCN index list.
Table 12.10a.1: _GPRS Mobile Allocation_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \ | | | | \ | | | | \| 1 { 0 \| 1 \ > } } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+
Table 12.10a.2: _GPRS Mobile Allocation_ information element details
+----------------------------------------------------------------------+ | **HSN** (6 bit field)\ | | This field is the binary representation of the hopping sequence | | number, see 3GPP TS 45.002. Range: 0 to 63. | +----------------------------------------------------------------------+ | **RFL number list** (construction)\ | | This construction is a list specifying the referenced set of | | reference frequency lists for this information element. If the list | | is not included, this information element refers to the cell | | allocation defined for the cell. | | | | The number of radio frequency channels included in the referenced | | set of reference frequency lists or the referenced cell allocation | | (excluding any duplication of radio frequency channels) is denoted | | NF. The radio frequency channels shall be arranged by the receiver | | of this information element in the order of ascending ARFCN, except | | for ARFCN = 0, if included, which shall be put last. Each radio | | frequency channel shall then be assigned an ARFCN_INDEX value, | | ranging from zero, for the first radio frequency channel, to NF-1, | | for the last radio frequency channel in the ordered set. | +----------------------------------------------------------------------+ | **MA_BITMAP** (variable length, 1 to 64 bit, field)\ | | This field is a bitmap representing the radio frequency channels | | belonging to the GPRS mobile allocation. The number of bit positions | | in MA_BITMAP shall equal NF. The first bit position in MA_BITMAP | | corresponds to ARFCN_INDEX = NF-1, the last position corresponds to | | ARFCN_INDEX = 0. Each bit position is coded: | | | | 0 the corresponding radio frequency channel does not belong to the | | GPRS mobile allocation;\ | | 1 the corresponding radio frequency channel belongs to the GPRS | | mobile allocation. | +----------------------------------------------------------------------+ | **ARFCN index list** (construction)\ | | This construction is a list representing a set of radio frequency | | channels to be excluded from the definition of the GPRS mobile | | allocation. The GPRS mobile allocation is defined as consisting of | | the radio frequency channels included in the referenced set of | | reference frequency lists or the referenced cell allocation, except | | those represented by the ARFCN index list. If the list is not | | included, this information element defines a GPRS mobile allocation | | consisting of all radio frequency channels included in the | | referenced set of reference frequency lists or the referenced cell | | allocation, without exception. | +----------------------------------------------------------------------+ | **RFL_NUMBER** (4 bit field)\ | | This field is the binary reference to a reference frequency list | | provided in PSI2. Range 0 to 15. | +----------------------------------------------------------------------+ | **ARFCN_INDEX** (6 bit field)\ | | This field is the binary reference to a radio frequency channels in | | the referenced set of reference frequency lists or the referenced | | cell allocation. Range: 0 to NF-1. | +----------------------------------------------------------------------+
### 12.10a.1 Abnormal cases
If the receiver of this information element detects any inconsistency between
the encoding of this information element and the referenced frequency
information (i.e. an MA_BITMAP length or an ARFCN_INDEX value out of range, or
an undefined RFL_NUMBER value), the information element shall be regarded as
invalid.
## 12.10b (void)
## 12.10c (void)
## 12.10d EGPRS Modulation and coding Scheme description
This information element defines the modulation and coding scheme to be used.
Table 12.10d.1: _EGPRS MCS_ information element details
+--------------------------------------------------------+----------+ | EGPRS modulation and coding scheme information element | | +--------------------------------------------------------+----------+ | bits\ | value | | 4 3 2 1 | | +--------------------------------------------------------+----------+ | 0 0 0 0 | MCS-1 | +--------------------------------------------------------+----------+ | 0 0 0 1 | MCS-2 | +--------------------------------------------------------+----------+ | 0 0 1 0 | MCS-3 | +--------------------------------------------------------+----------+ | 0 0 1 1 | MCS-4 | +--------------------------------------------------------+----------+ | 0 1 0 0 | MCS-5 | +--------------------------------------------------------+----------+ | 0 1 0 1 | MCS-6 | +--------------------------------------------------------+----------+ | 0 1 1 0 | MCS-7 | +--------------------------------------------------------+----------+ | 0 1 1 1 | MCS-8 | +--------------------------------------------------------+----------+ | 1 0 0 0 | MCS-9 | +--------------------------------------------------------+----------+ | 1 0 0 1 | MCS-5-7 | +--------------------------------------------------------+----------+ | 1 0 1 0 | MCS-6-9 | +--------------------------------------------------------+----------+ | 1 0 1 1\ | reserved | | to | | | | | | 1 1 1 1 | | +--------------------------------------------------------+----------+
In EGPRS2, this information element defines the modulation and coding scheme
to be used. The value depends on the assigned EGPRS level, see sub-clause
12.10f.
Table 12.10d.2: _EGPRS MCS_ information element details (EGPRS2-A)
+--------------------------------------------------------+----------+ | EGPRS modulation and coding scheme information element | | +--------------------------------------------------------+----------+ | bits\ | value | | 4 3 2 1 | | +--------------------------------------------------------+----------+ | 0 0 0 0 | MCS-1 | +--------------------------------------------------------+----------+ | 0 0 0 1 | MCS-2 | +--------------------------------------------------------+----------+ | 0 0 1 0 | MCS-3 | +--------------------------------------------------------+----------+ | 0 0 1 1 | MCS-4 | +--------------------------------------------------------+----------+ | 0 1 0 0 | MCS-5 | +--------------------------------------------------------+----------+ | 0 1 0 1 | MCS-6 | +--------------------------------------------------------+----------+ | 0 1 1 0 | UAS-7 | +--------------------------------------------------------+----------+ | 0 1 1 1 | UAS-8 | +--------------------------------------------------------+----------+ | 1 0 0 0 | UAS-9 | +--------------------------------------------------------+----------+ | 1 0 0 1 | UAS-10 | +--------------------------------------------------------+----------+ | 1 0 1 0 | UAS-11 | +--------------------------------------------------------+----------+ | 1 0 1 1\ | reserved | | to | | | | | | 1 1 1 1 | | +--------------------------------------------------------+----------+
Table 12.10d.3: _EGPRS MCS_ information element details (EGPRS2-B)
+--------------------------------------------------------+----------+ | EGPRS modulation and coding scheme information element | | +--------------------------------------------------------+----------+ | bits\ | value | | 4 3 2 1 | | +--------------------------------------------------------+----------+ | 0 0 0 0 | MCS-1 | +--------------------------------------------------------+----------+ | 0 0 0 1 | MCS-2 | +--------------------------------------------------------+----------+ | 0 0 1 0 | MCS-3 | +--------------------------------------------------------+----------+ | 0 0 1 1 | MCS-4 | +--------------------------------------------------------+----------+ | 0 1 0 0 | UBS-5 | +--------------------------------------------------------+----------+ | 0 1 0 1 | UBS-6 | +--------------------------------------------------------+----------+ | 0 1 1 0 | UBS-7 | +--------------------------------------------------------+----------+ | 0 1 1 1 | UBS-8 | +--------------------------------------------------------+----------+ | 1 0 0 0 | UBS-9 | +--------------------------------------------------------+----------+ | 1 0 0 1 | UBS-10 | +--------------------------------------------------------+----------+ | 1 0 1 0 | UBS-11 | +--------------------------------------------------------+----------+ | 1 0 1 1 | UBS-12 | +--------------------------------------------------------+----------+ | 1 1 0 0\ | reserved | | to | | | | | | 1 1 1 1 | | +--------------------------------------------------------+----------+
## 12.10e RESEGMENT description
The RESEGMENT field defines whether retransmitted uplink RLC data blocks shall
be re-segmented or not.
Table 12.10e.1: _RESEGMENT_ information element details
* * *
**RESEGMENT** (1 bit field)\ 0 Retransmitted RLC data blocks shall not be re-
segmented\ 1 Retransmitted RLC data blocks shall be re-segmented according to
commanded MCS
* * *
## 12.10f EGPRS Level description
This information element defines the EGPRS level for this TBF and consequently
the the set of modulation and coding schemes which shall be used.
Table 12.10f.1: _EGPRS Level_ information element details
* * *
EGPRS Level information element
bits\ value 2 1
0 0 EGPRS
0 1 EGPRS2-A
1 0 EGPRS2-B
1 1 reserved
* * *
## 12.11 Packet Request Reference
The purpose of the Packet Request Reference information element is to provide
the information field sent in the Packet Channel Request (i.e. the PACKET
CHANNEL REQUEST or EGPRS PACKET CHANNEL REQUEST message) and the frame number,
FN modulo 42432, in which the Packet Channel Request was received.
Table 12.11.1: _Packet Request Reference_ information elements
* * *
\ ::=\ \\ \ ;
* * *
Table 12.11.2: _Packet Request Reference_ information element details
+----------------------------------------------------------------------+ | **RANDOM_ACCESS_INFORMATION value** (11 bit field)\ | | This is an unformatted 11 bit field. If the mobile station used the | | 11-bit message format in the Packet Channel Request, all 11 bits of | | this field are valid. Otherwise, only bits 8 through 1 are valid and | | bits 11 through 9 shall be set to \'0\' | | | | ------- | | --------------------- ----- ---- --- --- --- --- --- --- --- --- --- | | | | Bit | | | | 11 10 9 8 7 6 5 4 3 2 1 | | 11-bi | | t message format used X X X X X X X X X X X | | 8-bit | | message format used 0 0 0 X X X X X X X X | | ------- | | --------------------- ----- ---- --- --- --- --- --- --- --- --- --- | +----------------------------------------------------------------------+ | **FRAME_NUMBER** (16 bit field)\ | | This field is encoded the same as the Starting Time information | | element defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+
## 12.12 Packet Timing Advance
The Packet Timing Advance field describes the timing advance mode and timing
advance value assigned to the mobile station.
Table 12.12.1: _Packet Timing Advance_ information elements
+-----------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ } ; | +-----------------------------------------------------------+
Table 12.12.2: Packet Timing Advance information element details
* * *
**TIMING_ADVANCE_VALUE** (6 bit field)\ If the TIMING_ADVANCE_VALUE field is
present, the mobile station shall use the value contained therein after time
defined in 3GPP TS 45.010. If the TIMING_ADVANCE_VALUE field is not present
the mobile station shall not change its timing advance value. The Timing
Advance value field is encoded the same as the Timing Advance value of the
Timing Advance information element defined in 3GPP TS 44.018
**TIMING_ADVANCE_INDEX** (4 bit field)\ If the TIMING_ADVANCE_INDEX and
TIMING_ADVANCE_TIMESLOT_NUMBER fields are present the mobile station shall
begin operation of the Continuous Timing Advance procedure at the point in
time denoted by the TBF starting time if present, otherwise after the reaction
time specified in 3GPP TS 45.010.. If these two fields are not present the
mobile station shall stop operation of the Continuous Timing Advance
procedure. This information field is encoded as a binary representation of the
Timing Advance Index defined in 3GPP TS 45.002.\ Range 0 to 15.
**TIMING_ADVANCE_TIMESLOT_NUMBER** (3 bit field)\ This field indicates the
timeslot assigned for the Continuous Timing Advance procedure on the PTCCH.
This field is coded as the binary representation of the timeslot number as
defined in 3GPP TS 45.010.\ Range 0 to 7
* * *
## 12.12a Global Packet Timing Advance
The Global Packet Timing Advance field describes the timing advance mode and
timing advance value assigned to the mobile station for uplink and/or downlink
TBF.
Table 12.12a.1: _Global Packet Timing Advance_ information elements
+-------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | +-------------------------------------------------------------------+
Table 12.12a.2: Global Packet Timing Advance information element details
+----------------------------------------------------------------------+ | **TIMING_ADVANCE_VALUE** (6 bit field)\ | | If the TIMING_ADVANCE_VALUE field is present, the mobile station | | shall use the value contained therein after time defined in | | 3GPP TS 45.010. If the TIMING_ADVANCE_VALUE field is not present | | the mobile station shall not change its timing advance value. The | | Timing Advance value field is encoded the same as the Timing Advance | | value of the Timing Advance information element defined in | | 3GPP TS 44.018 | +----------------------------------------------------------------------+ | **UPLINK_TIMING_ADVANCE_INDEX** (4 bit field)\ | | This field indicates the Timing Advance Index related to Uplink TBF. | | This information field is encoded as a binary representation of the | | Timing Advance Index defined in 3GPP TS 45.002.\ | | Range 0 to 15. | +----------------------------------------------------------------------+ | **UPLINK_TIMING_ADVANCE_TIMESLOT_NUMBER** (3 bit field)\ | | This field indicates the timeslot assigned for the Continuous Timing | | Advance procedure on the PTCCH related to Uplink TBF. This field is | | coded as the binary representation of the timeslot number as defined | | in 3GPP TS 45.010.\ | | Range 0 to 7 | +----------------------------------------------------------------------+ | **DOWNLINK_TIMING_ADVANCE_INDEX** (4 bit field)\ | | This field indicates the Timing Advance Index related to Downlink | | TBF. This information field is encoded as a binary representation of | | the Timing Advance Index defined in 3GPP TS 45.002.\ | | Range 0 to 15. | +----------------------------------------------------------------------+ | **DOWNLINK_TIMING_ADVANCE_TIMESLOT_NUMBER** (3 bit field)\ | | This field indicates the timeslot assigned for the Continuous Timing | | Advance procedure on the PTCCH related to Downlink TBF. This field | | is coded as the binary representation of the timeslot number as | | defined in 3GPP TS 45.010.\ | | Range 0 to 7 | | | | If Timing Advance Index and Timing Advance Timeslot Number are | | present for any of the TBFs already existing or to be established | | with this message, the mobile station shall begin operation of the | | Continuous Timing Advance procedure at the point in time denoted by | | the TBF starting time if present, otherwise within the reaction time | | specified in 3GPP TS 45.010. | | | | If Timing Advance Index and Timing Advance Timeslot Number are not | | present for any of the TBFs already existing or to be established | | with this message, the mobile station shall stop operation of the | | Continuous Timing Advance procedure. | +----------------------------------------------------------------------+
## 12.12b Packet Extended Timing Advance
The Packet Extended Timing Advance field is a 2 bit field used to support
Extended Timing Advance. These two bits represent the two most significant
bits of the timing advance value to be applied by the mobile station. The
coding of the timing advance value is defined in the Timing Advance IE defined
in 3GPP TS 44.018. The mapping of the two bits of the Packet Extended Timing
Advance field is defined as follows:
Bit**\** 1 bit 7 of the Timing Advance IE defined in 3GPP TS 44.018**\** 2 bit
8 of the Timing Advance IE defined in 3GPP TS 44.018
The least significant bits of a timing advance value is provided the
TIMING_ADVANCE_VALUE field in either a Packet Timing Advance IE (sub-clause
12.12) or a Global Packet Timing Advance IE (sub-clause 12.12a). If the least
significant bits of the timing advance value is not provided in the message,
then the Packet Extended Timing Advance field shall be ignored.
## 12.13 Power Control Parameters
The Power Control Parameters information element contains parameters the
mobile station shall use to determine its TX power level.
Table 12.13.1: _Power Control Parameters_ information elements
+---------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +---------------------------------------------+
Table 12.13.2: _Power Control Parameters_ information element details
+----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | | | | **GAMMA_TN0** (5 bit field)\ | | **GAMMA_TN1** (5 bit field)\ | | **GAMMA_TN2** (5 bit field)\ | | **GAMMA_TN3** (5 bit field)\ | | **GAMMA_TN4** (5 bit field)\ | | **GAMMA_TN5** (5 bit field)\ | | **GAMMA_TN6** (5 bit field)\ | | **GAMMA_TN7** (5 bit field)\ | | The GAMMA_TN0..7 fields are the binary representation of the | | parameter Γ~CH~ for MS output power control in units of 2 dB, see | | 3GPP TS 45.008. GAMMA_TN0 contains the gamma value for timeslot | | number 0, GAMMA_TN1 contains the gamma value for timeslot number 1, | | etc. The GAMMA_TN0..7 field is coded according to the following | | table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 Γ~CH~ = 0 dB\ | | 0 0 0 0 1 Γ~CH~ = 2 dB\ | | : : : :\ | | 1 1 1 1 0 Γ~CH~ = 60 dB\ | | 1 1 1 1 1 Γ~CH~ = 62 dB | +----------------------------------------------------------------------+
## 12.14 PRACH Control Parameters
The purpose of the PRACH Control Parameters information element is to provide
parameters used to control the PRACH utilization.
Table 12.14.1: _PRACH Control Parameters_ information elements
+----------------------------------------------------------+ | \ ::= | | | | \ | | | | \ * 4 | | | | \ | | | | \ | | | | { 0 \| 1 \ * 4 } ; | +----------------------------------------------------------+
Table 12.14.2: _PRACH Control Parameters_ information element details
+----------------------------------------------------------------------+ | **TX_INT** (4 bit field)\ | | Number of slots to spread transmission of the random access. The | | field is coded according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 2slots used to spread transmission\ | | 0 0 0 1 3 slots used to spread transmission\ | | 0 0 1 0 4 slots used to spread transmission\ | | 0 0 1 1 5 slots used to spread transmission\ | | 0 1 0 0 6 slots used to spread transmission\ | | 0 1 0 1 7 slots used to spread transmission\ | | 0 1 1 0 8 slots used to spread transmission\ | | 0 1 1 1 9 slots used to spread transmission\ | | 1 0 0 0 10 slots used to spread transmission\ | | 1 0 0 1 12 slots used to spread transmission\ | | 1 0 1 0 14 slots used to spread transmission\ | | 1 0 1 1 16 slots used to spread transmission\ | | 1 1 0 0 20 slots used to spread transmission\ | | 1 1 0 1 25 slots used to spread transmission\ | | 1 1 1 0 32 slots used to spread transmission\ | | 1 1 1 1 50 slots used to spread transmission | +----------------------------------------------------------------------+ | **S** (4 bit field)\ | | S is a parameter used for calculation of the minimum number of slots | | between two successive Channel request messages. The field is coded | | according to the following table: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 S = 12\ | | 0 0 0 1 S = 15\ | | 0 0 1 0 S = 20\ | | 0 0 1 1 S = 30\ | | 0 1 0 0 S = 41\ | | 0 1 0 1 S = 55\ | | 0 1 1 0 S = 76\ | | 0 1 1 1 S = 109\ | | 1 0 0 0 S = 163\ | | 1 0 0 1 S = 217\ | | All other values reserved. | +----------------------------------------------------------------------+ | **MAX_RETRANS** (2 bit field for each Radio Priority 1..4)\ | | Indicates for each Radio Priority level 1 to 4 the maximum number of | | retransmissions allowed. Radio Priority 1 represents the highest | | priority. The field is coded with two bits per Radio Priority level | | according to the following table where the first two bits refer to | | Radio Priority 1, the second two bits to Radio Priority 2, etc.: | | | | bit\ | | 2 1\ | | 0 0 1 retransmission allowed\ | | 0 1 2 retransmissions allowed\ | | 1 0 4 retransmissions allowed\ | | 1 1 7 retransmissions allowed | +----------------------------------------------------------------------+ | **PERSISTENCE_LEVEL** (4 bit field for each Radio Priority 1..4)\ | | The PERISTENCE_LEVEL field indicates the values of the access | | persistence level P(i) for each Radio Priority i (i = 1..4) where | | Radio Priority 1 represents the highest Radio Priority of an LLC PDU | | to be transmitted. | | | | bits\ | | 4 3 2 1\ | | 0 0 0 0 persistence level 0\ | | 0 0 0 1 persistence level 1\ | | 0 0 1 0 persistence level 2\ | | 0 0 1 1 persistence level 3\ | | 0 1 0 0 persistence level 4\ | | : : :\ | | 1 1 1 0 persistence level 14\ | | 1 1 1 1 persistence level 16 | +----------------------------------------------------------------------+ | **ACC_CONTR_CLASS** ( 16 bit field)\ | | Access Control Class N (bit 1-16) (see octet 3 and 4 of the RACH | | Control Parameters IE in 3GPP TS 44.018) . For a mobile station with | | Access Control Class =N access is not barred if the Access Control | | Class N bit is coded with a \'0\'; N = 0, 1,....9, 11,...,15. Bit | | 11= the EC bit is the Emergency Call Allowed coded as specified in | | 3GPP TS 44.018. | | | | ---------- -- | | -- ---- ---- ---- ---- ---- ---- --- --- --- --- --- --- --- --- --- | | Bits: | | 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 | | Class N: | | 15 14 13 12 11 EC 9 8 7 6 5 4 3 2 1 0 | | ---------- -- | | -- ---- ---- ---- ---- ---- ---- --- --- --- --- --- --- --- --- --- | +----------------------------------------------------------------------+
## 12.15 Temporary Flow Identity (TFI)
The Temporary Flow Identity (TFI) uniquely identifies either a single uplink
Temporary Block Flow (TBF) or a single downlink Temporary Block Flow (TBF).
Table 12.15.1: _UPLINK_TFI_ information element details
* * *
**UPLINK_TFI** (5 bit field)\ The Temporary Flow Identity field identifies an
uplink Temporary Block Flow (TBF). This field is encoded as a binary number.\
Range 0 to 31
* * *
Table 12.15.2: _DOWNLINK_TFI_ information element details
* * *
**DOWNLINK_TFI** (5 bit field)\ The Temporary Flow Identity field identifies a
downlink Temporary Block Flow (TBF). This field is encoded as a binary
number.\ Range 0 to 31
* * *
## 12.16 Temporary Logical Link Identity (TLLI)/G-RNTI
The Temporary Logical Link Identity (TLLI) is associated with the GPRS
subscriber. TLLI is defined in 3GPP TS 23.003.
The TLLI codespace is re-used in some messages and contains the first 28 bits
of the G-RNTI as defined in 3GPP TS 23.003. The G-RNTI is defined in 3GPP TS
44.160.
Table 12.16.1: _TLLI_ information element details
* * *
**TLLI /G-RNTI** (32 bit field)\ The TLLI / G-RNTI field is encoded as a
binary number.\ Range 0 to 4294967295
* * *
## 12.16a GERAN Radio Network Temporary Identity (G-RNTI)
The G-RNTI (GERAN Radio Network Temporary Identity) is allocated to an MS at
the RRC layer having a RRC connection and identifies the MS within GERAN. It
is used by the RLC/MAC layer for contention resolution and to identify an MS.
NOTE: The RRC layer uses the G-RNTI defined in 44.118
* * *
\ ::=\ \\ \ ;
* * *
* * *
**Serving BSC identity** (12 bit field)**\** This field identifies the mobile
station\'s serving BSC in GERAN.
**S-RNTI** (20 bit field)**\** This field identifies the mobile station within
the serving BSC.
* * *
## 12.17 Temporary Queueing Identifier (TQI)
The Temporary Queueing Identifier (TQI) field identifies a mobile station
during the queueing procedure. The contents of this field are operator
defined.
Table 12.17.1: _TQI_ information element details
* * *
**TQI** (16 bit field)\ The Temporary Queueing Identifier field is an
unformatted field.
* * *
## 12.18 TIMESLOT_ALLOCATION
The TIMESLOT_ALLOCATION field indicates the timeslots for use during a TBF,
the timeslots carrying a PCCCH or the timeslots for which feedback is provided
by a time-based encoded PAN field.
Table 12.18.1: _TIMESLOT_ALLOCATION_ information element details
+----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This information field indicates the timeslots assigned for use | | during the TBF, the timeslots carrying a PCCCH or the timeslots for | | which feedback is provided by a time-based encoded PAN field. Bit 8 | | indicates the status of timeslot 0, bit 7 indicates the status of | | timeslot 1, etc. At least one timeslot must be assigned. When used | | to indicate the timeslots constituting PDCH-pairs for which feedback | | is provided by a time-based encoded PAN field (for TBFs in RTTI | | configuration) an even number of timeslots must be indicated. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | +----------------------------------------------------------------------+
## 12.19 (void)
## 12.20 PAGE_MODE
The PAGE_MODE field controls the action of the mobile station belonging to the
paging subgroup corresponding to the paging subchannel.
Table 12.20.1 : _PAGE_MODE information element details_
+------------------------------+ | **PAGE_MODE** (2 bit field) | | | | bit\ | | 2 1 value\ | | 0 0 Normal Paging\ | | 0 1 Extended Paging\ | | 1 0 Paging Reorganization\ | | 1 1 Same as before | +------------------------------+
## 12.21 Starting Frame Number Description
There are two types of encoding for this IE : Relative Frame Number or
Absolute Frame Number.
Table 12.21.1: _Starting Frame Number Description_ information element
+------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 \ } ; | +------------------------------------------------+
If the mobile station is in packet transfer mode during the block immediately
before the starting time and the lowest numbered PDCH assigned to the MS is
different immediately before and after the starting time then the mobile
station shall be ready to receive or transmit no later than one radio block
from the starting time (see 3GPP TS 45.002).
### 12.21.1 Absolute Frame Number Encoding
In this case, the field is encoded as the 16-bit Starting Time IE defined in
3GPP TS 44.018, and the value of the Starting FN is obtained directly.
If the Starting FN is not aligned to the start of a block period and the
mobile station is in packet transfer mode during the TDMA immediately before
the Starting FN, then the mobile station shall align the starting time to the
next block boundary and continue to use the currently assigned allocation upto
the next block boundary.
### 12.21.2 Relative Frame Number Encoding
In this case, the field indicates the delay, relative to the first TDMA frame
(N) of the RLC/MAC block containing the Starting Time field, before the
assigned or requested resource becomes valid.
The value of this field is the 13 bit binary representation of the integer k,
from which the offset to be applied to N can be derived.
The value of the Starting Frame Number is calculated as follows:
* * *
For (k mod 3) equal to: The value of the Starting Frame Number is: 0 or 1 N +
4 + 4 k + (k div3), N + 5 + 4k + (k div3) (NOTE 1) 2 N + 5 + 4 k + (k div3) 0
≤ k ≤ 8191
* * *
EXAMPLE: Starting Frame Number Description (13-bit field):\ k = 1
0000000000001 block with first TDMA frame number = N+8 or N+9\ k = 2
0000000000010 block with first TDMA frame number = N+13\ k = 3 0000000000011
block with first TDMA frame number = N+17 or N+18
NOTE 1: In these cases, only one of the frame numbers N+4+4k+kdiv3 or
N+5+4k+kdiv3 is valid, because the other corresponds to an idle frame,
depending on the position of the block in the multi-frame.
NOTE 2: The value of (k+1) gives the number of relative blocks. The maximum
number of relative blocks is therefore 8 192; this value was chosen according
to the interval of time encoded by the Starting Time IE in 3GPP TS 44.018 (32
024 frames).
NOTE 3: The value (k=0) should not be used, so as to leave time for the MS to
analyse the message and get ready to receive or transmit.
## 12.22 (void)
## 12.23 Cell Identification
The _Cell Identification_ information element is used to uniquely identify the
cell.
Table 12.23.1: _Cell Identification_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ \-- | | _3GPP TS 44.018_ | | | | \ | | | | \ ; -- _3GPP TS 44.018_ | +----------------------------------------------------------------------+
Table 12.23.2: _Cell Identification_ information element details
+----------------------------------------------------------------------+ | **Location Area Identity IE** (5 octet field)\ | | This field is coded using the V format of the type 3 information | | element _Location Area Identification_ defined in 3GPP TS 44.018. | | | | **RAC** (8 bit field)\ | | This field is the binary representation of the Routing Area Code, | | see 3GPP TS 23.003. | | | | **Cell Identity IE** (2 octet field)\ | | This field is coded using the V format of the type 3 information | | element _Cell Identity_ defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+
## 12.24 GPRS Cell Options
The _GPRS Cell Options_ information element is used to control a set of cell
options related to GPRS.
This information element may include a nested _Extension Bit_ information
element to allow future extension of cell option parameters.
Table 12.24.1: _GPRS Cell Options_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | \ } | | | | -- _Optional extension information:_ | | | | { 0 \| 1 \ | | | | \ ! { bit ** = \ } } > } | | ; | +----------------------------------------------------------------------+ | \ : : = | | | | { { -- _R99 extension:_ | | | | { 0 \| 1 - _EGPRS supported by the cell if the choice bit is set to | | \'1\'_ | | | | \ | | | | \ } | | | | \ | | | | \ | | | | \ } | | | | { -- _REL‑4 extension:_ | | | | \ | | | | \ } | | | | { -- _REL 6 extension:_ | | | | \ | | | | \ | | | | \ | | | | { 0 -- _MBMS procedures not supported by the cell if the choice bit | | is set to \'0\'_ | | | | \| 1 -- _MBMS procedures supported by the cell if the choice bit is | | set to \'1\'_ | | | | \ | | | | \ } } | | | | { -- _Rel-7 extension:_ | | | | \ } | | | | \ ** } // ; -- _Extension information may be | | truncated between released versions of the protocol._ | | | | -- _The receiver shall assume the value zero for any truncated | | bit._ | +----------------------------------------------------------------------+
Table 12.24.2: _GPRS Cell Options_ information element details
+----------------------------------------------------------------------+ | **NMO** (2 bit field)\ | | This field is the binary representation of the Network Mode of | | Operation, see 3GPP TS 23.060: | | | | Bit\ | | 2 1\ | | 0 0 Network Mode of Operation I\ | | 0 1 Network Mode of Operation II\ | | 1 0 Network Mode of Operation III\ | | 1 1 Reserved. | +----------------------------------------------------------------------+ | **T3168** (3 bit field)\ | | This field is the binary representation of the timeout value of | | timer T3168. Range: 0 to 7. The timeout value is given as the binary | | value plus one in units of 500 ms. | +----------------------------------------------------------------------+ | **T3192** (3 bit field)\ | | This field is the binary representation of the timeout value of | | timer T3192. Range: 0 to 7. The timeout value is given in the | | following table. In the case of 0 ms, the timer is not started and | | the mobile station shall consider T3192 as immediately expiring and | | follow procedures defined in sub-clauses 9.3.2.6 and 9.3.3.5: | | | | Bit\ | | 3 2 1\ | | 0 0 0 500 ms\ | | 0 0 1 1000 ms\ | | 0 1 0 1500 ms\ | | 0 1 1 0 ms\ | | 1 0 0 80 ms\ | | 1 0 1 120 ms\ | | 1 1 0 160 ms\ | | 1 1 1 200 ms | +----------------------------------------------------------------------+ | **DRX_TIMER_MAX** (3 bit field)\ | | This field is the binary representation of the parameter | | DRX_TIMER_MAX. Range: 0 to 7. The parameter value is given as two | | taken to the power of the binary value minus one (2 ^(bv\ -\ 1)^ ) | | in units of 1 second. The binary value zero indicates the parameter | | value zero (i.e, the parameter takes the values: 0, 1 s, 2 s, | | 4 s, .. 64 s.) | +----------------------------------------------------------------------+ | **ACCESS_BURST_TYPE** (1 bit field)\ | | The ACCESS_BURST_TYPE field indicates if the 8 or 11 bit format | | shall be used in the PACKET CHANNEL REQUEST message, the PS HANDOVER | | ACCESS message, the PTCCH uplink block (3GPP TS 44.004) and in the | | PACKET CONTROL ACKNOWLEDGMENT message when the format is four access | | bursts. The field is coded according to the following table: | | | | 0 8-bit format shall be used\ | | 1 11-bit format shall be used | +----------------------------------------------------------------------+ | **CONTROL_ACK_TYPE** (1 bit field)\ | | This field is the binary representation of the default format of the | | PACKET CONTROL ACKNOWLEDGMENT message: | | | | 0 default format is four access bursts\ | | 1 default format is RLC/MAC control block. | +----------------------------------------------------------------------+ | **BS_CV_MAX** (4 bit field)\ | | This field is the binary representation of the parameter | | BS_CV_MAX. Range: 0 to 15. The value BS_CV_MAX=0 shall be | | interpreted as value BS_CV_MAX=1 for calculation of T3200 and | | N3104max values. | +----------------------------------------------------------------------+ | **PAN_DEC** (3 bit field)\ | | This field is the binary representation of the parameter PAN_DEC. | | If the field in not included, the default value 0 shall be used. | | Range: 0 to 7. | +----------------------------------------------------------------------+ | **PAN_INC** (3 bit field)\ | | This field is the binary representation of the parameter PAN_INC. | | If the field in not included, the default value 0 shall be used. | | Range: 0 to 7. | +----------------------------------------------------------------------+ | **PAN_MAX** (3 bit field)\ | | This field defines the maximum value allowed for counter N3102. | | | | bit\ | | 3 2 1\ | | 0 0 0 maximum value allowed for counter N3102 is 4\ | | 0 0 1 maximum value allowed for counter N3102 is 8\ | | . . .\ | | 1 1 1 maximum value allowed for counter N3102 is 32 | | | | If the PAN_MAX field in not included, the default value 0 (i.e. | | N3102 max = 4) shall be used. | +----------------------------------------------------------------------+ | **EGPRS_PACKET_CHANNEL_REQUEST** (1 bit field) | | | | 0 EGPRS capable MSs shall use EGPRS PACKET CHANNEL REQUEST message | | for uplink TBF establishment on the PRACH when there is a PBCCH in | | the cell or on the RACH when there is no PBCCH in the cell. | | | | 1 EGPRS capable MSs shall use two phase packet access with PACKET | | CHANNEL REQUEST message on the PRACH for uplink TBF establishment | | when there is a PBCCH in the cell. EGPRS capable MSs shall use two | | phase packet access with CHANNEL REQUEST message on the RACH when | | there is no PBCCH in the cell. | +----------------------------------------------------------------------+ | **BEP_PERIOD** (4 bit field)\ | | This field is applicable in EGPRS TBF mode. For the definition of | | this field, refer to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **PFC_FEATURE_MODE** (1 bit field) | | | | 0 The network does not support packet flow context procedures.\ | | 1 The network supports packet flow context procedures. | +----------------------------------------------------------------------+ | **DTM_SUPPORT** (1 bit field)\ | | This field indicates whether the cell supports DTM or not. It is | | coded as follows: | | | | 0 The cell does not support DTM procedures.\ | | 1 The cell supports DTM procedures. | +----------------------------------------------------------------------+ | **CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled in the cell or not. It | | is coded as follows: | | | | 0 CCN is disabled in the cell.\ | | 1 CCN is enabled in the cell. | +----------------------------------------------------------------------+ | **NW_EXT_UTBF** (1 bit field)\ | | This field indicates whether the network supports the extended | | uplink TBF mode: | | | | 0 The extended uplink TBF mode is not supported by the network.\ | | 1 The extended uplink TBF mode is supported by the network. | +----------------------------------------------------------------------+ | **BSS_PAGING_COORDINATION** (1 bit field)\ | | This field indicates the network support of CS paging co-ordination | | in packet transfer mode during network mode of operation II and III. | | This field shall be ignored by the mobile station during network | | mode of operation I or by a mobile station capable of DTM in a cell | | supporting DTM procedures, in which cases Circuit-Switched paging | | coordination in packet transfer mode shall be provided by the | | network. It is coded as follows: | | | | 0 The cell does not support Circuit-Switched paging coordination\ | | 1 The cell supports Circuit-Switched paging coordination | +----------------------------------------------------------------------+ | **MULTIPLE_TBF_CAPABILITY** (1 bit field)\ | | This field indicates whether or not the cell supports multiple TBF | | procedures for A/Gb mode: | | | | 0 The cell does not support multiple TBF procedures.\ | | 1 The cell supports multiple TBF procedures. | +----------------------------------------------------------------------+ | **EXT_UTBF_NODATA** (1 bit field)\ | | This field indicates whether the mobile station during extended | | uplink TBF mode may refrain from sending PACKET UPLINK DUMMY CONTROL | | BLOCK messages when there is no other RLC/MAC block ready to send in | | an uplink radio block allocated by the network. | | | | 0 The mobile station shall send a PACKET UPLINK DUMMY CONTROL BLOCK | | message when there is no other RLC/MAC block ready to send in an | | uplink radio block allocated by the network. | | | | 1 The mobile station may refrain from sending a PACKET UPLINK DUMMY | | CONTROL BLOCK message when there is no other RLC/MAC block ready to | | send in an uplink radio block allocated by the network. | +----------------------------------------------------------------------+ | **DTM** _**ENHANCEMENTS_CAPABILITY** (1 bit field)\ | | This field indicates whether the cell supports enhanced DTM CS | | establishment and enhanced DTM CS release or not. It is coded as | | follows: | | | | 0 The cell does not support enhanced DTM CS establishment and | | enhanced DTM CS release procedures.\ | | 1 The cell supports enhanced DTM CS establishment and enhanced DTM | | CS release procedures. | +----------------------------------------------------------------------+ | **DEDICATED_MODE_MBMS_NOTIFICATION** _**SUPPORT** (1 bit field)\ | | This field indicates whether the cell supports Dedicated Mode MBMS | | Notification or not. It is coded as follows: | | | | 0 The cell does not support the Dedicated Mode MBMS Notification | | procedures.\ | | 1 The cell supports the Dedicated Mode MBMS Notification procedures. | +----------------------------------------------------------------------+ | **MNCI_SUPPORT** (1 bit field)\ | | This field indicates whether the cell supports the distribution of | | MBMS NEIGHBOURING CELL INFORMATION messages. It is coded as follows: | | | | 0 The cell does not support the distribution of MBMS NEIGHBOURING | | CELL INFORMATION messages\ | | 1 The cell supports the distribution of MBMS NEIGHBOURING CELL | | INFORMATION messages | +----------------------------------------------------------------------+ | **REDUCED_LATENCY** **ACCESS** (1 bit field)\ | | This field indicates whether the cell supporting the EGPRS PACKET | | CHANNEL REQUEST message also supports \"One Phase Access Request by | | Reduced Latency MS\", see sub-clause 7.1.2.1. | | | | 0 The cell does not support \"One Phase Access Request by Reduced | | Latency MS\".\ | | 1 The cell supports \"One Phase Access Request by Reduced Latency | | MS\". | +----------------------------------------------------------------------+
## 12.25 PCCCH Organization Parameters
The _PCCCH Organization Parameters_ information element is used to control the
organization of PCCCHs present in the cell. This information element contains
general PCCCH organization parameters.
Table 12.25.1: _PCCCH Organization Parameters_ information element
+--------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ ; | +--------------------------------------------+
Table 12.25.2: _PCCCH Organization Parameters_ information element details
* * *
**BS_PCC_REL** (1 bit field)\ The BS_PCC_REL field indicates if set = 1 that
the last PDCH carrying PCCCH and PBCCH will be released shortly. All mobile
stations on PCCCH shall then as soon as this information has been received
return to CCCH and there obey the information sent on BCCH as specified in
3GPP TS 44.018. If the field is set = 0, no channel release is pending.
**BS_PBCCH_BLKS** (2 bit field)\ The BS_PBCCH_BLKS field indicates the number
of blocks allocated to the PBCCH in the multiframe. The field is coded as the
binary representation of BS_PBCCH_BLKS as defined in 3GPP TS 45.002 minus 1.
**BS_PAG_BLKS_RES** (4 bit field)\ The BS_PAG_BLKS_RES field indicates the
number of blocks on each PDCH carrying the PCCCH per multiframe where neither
PPCH nor PBCCH should appear. The field is coded as the binary representation
of BS_PAG_BLKS_RES as defined in 3GPP TS 45.002. Range: 0-10. The BS_PAG_
BLKS_RES value shall fulfil the condition that is defined in 3GPP TS 45.002.
If the condition is not fulfilled, then the behaviour of the mobile station is
implementation dependent.
**BS_PRACH_BLKS** (4 bit field)\ The BS_PRACH_BLKS field indicates the number
of blocks reserved in a fixed way to the PRACH channel on any PDCH carrying
PCCCH (see 3GPP TS 45.002). The field is coded as the binary representation of
BS_PRACH_BLKS as defined in 3GPP TS 45.002. Range: 0-12. All other values are
reserved and shall be interpreted as no Block reserved for PRACH.
* * *
## 12.26 Extension Bits IE
The _Extension Bits_ information element is used to provide a generalized
means for possible future extension within a message. This information element
is variable length and contains the length indicator and spare bits.
Table 12.26.1: _Extension Bits_ information element
+---------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +---------------------------------------------+
## 12.27 Non GPRS Cell Options IE
The _Non GPRS Cell Options IE_ is used to provide mobile stations operating in
mode A or B with a repeated subset of BCCH information required for entering
dedicated, group receive or group transmit mode.
Table 12.27.1: _Non GPRS Cell Options_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Attach/Detach allowed_ | | | | { 0 \| 1 \ } -- _Time-out value for | | periodic update_ | | | | \ \-- _Half rate support_ | | | | \ \-- _Power Control indicator_ | | | | \ \-- _DTX indicator_ | | | | \ \-- _Supervisory timer for RR | | connection_ | | | | \ \-- _number of blocks reserved | | for access grant_ | | | | \ \-- _physical channel configuration | | for CCCH_ | | | | \ \-- _number of 51 multiframes | | between_ | | | | -- _transmission of paging messages_ | | | | \ \-- _maximum number of | | retransmissions_ | | | | \ \-- _number of slots to spread | | transmission_ | | | | \ \-- _emergency call allowed_ | | | | \ \-- _maximum Tx power level_ | | | | -- _Optional extension information:_ | | | | { 0 \| 1 \ | | | | \ ! { bit ** = \ } } > } | | ; | | | | \ ::= | | | | \ \-- _Early Classmark Sending Control_ | | | | \ \-- _3G Early Classmark Sending Restriction_ | | | | \ ** ; | +----------------------------------------------------------------------+
Table 12.27.2: _Non GPRS Cell Options_ information element details
+----------------------------------------------------------------------+ | For detailed descriptions of all elements see 3GPP TS 44.018. | | | | If the optional T3212 parameter is not included, no periodic | | updating shall be performed. | +----------------------------------------------------------------------+ | **ECSC** (1 bit field)\ | | This field defines the Early Classmark Sending Control. | | | | 0 Early Classmark Sending is forbidden | | | | 1 Early Classmark Sending is allowed | | | | If the optional ECSC parameter is not included, early classmark | | sending is allowed. For a detailed description see 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **3G ECSR** (1 bit field)\ | | This field defines the 3G Early Classmark Sending Restriction. | | | | 0 Neither UTRAN nor cdma2000 classmark change message shall be sent | | with the Early Classmark Sending | | | | 1 The sending of UTRAN and CDMA2000 Classmark Sending messages is | | controlled by the Early Classmark Sending Control parameter | | | | If the optional 3G Early Classmark Sending Restriction parameter is | | not included, the default value \'0\' shall be assumed. For a | | detailed description see 3GPP TS 44.018. | +----------------------------------------------------------------------+
## 12.28 LSA Parameters
The _LSA Parameters_ information element is used for cell reselection by SoLSA
mobile stations. The IE contains a list of LSA_ID(s) corresponding either to
the entries in the \'Add Frequency list struct\' defined in the Packet Cell
Change Order message and in Packet Measurement Order message or to the entries
in the Neighbour Cell Parameters when used in the packet System Information 3
and 3bis messages. Some entries in the \'LSA parameters IE\' may be empty. In
case there are too few entries in the \'LSA parameters IE\', empty entries
shall be added at the end. In case there are too many entries in the \'LSA
parameters IE\', the last shall be discarded.
Table 12.28.1: _LSA Parameters_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | \:\ | | { \> * | | (val(NR_OF_FREQ_OR_CELLS)) }; | +----------------------------------------------------------------------+ | \ ::=\ | | { 1 { 0 \ | | | | \|1 \} } ** 0 ; | +----------------------------------------------------------------------+
Table 12.28.2: _LSA Parameters_ information element details
+----------------------------------------------------------------------+ | **LSA_ID** (24 bit field)\ | | The purpose of the LSA_ID field is to identify a LSA. The LSA ID | | value field is coded as specified in 3GPP TS 23.003. | | | | **Short LSA_ID** (10 bit field)\ | | The purpose of the Short LSA_ID field is to identify a LSA. The LSA | | ID defined by the Short LSA_ID is a LSA_ID as specified in | | 3GPP TS 23.003 with bit 0 set to \"0\" bit 1 to 10 set to the value | | of the Short LSA_ID field (LSB in bit 1, MSB in bit 10) and bit 11 | | to 23 set to \"0\". | +----------------------------------------------------------------------+
## 12.29 COMPACT reduced MA
Table 12.29.1: _COMPACT reduced MA_ information element
+------------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \}; | +------------------------------------------------------------------------+
Table 12.29.2: _COMPACT reduced MA_ information element details
+----------------------------------------------------------------------+ | **Length of Reduced MA bitmap** (7 bit field)\ | | This field is the binary representation of the length (in bits) of | | the field Reduced MA bitmap.\ | | If set to 0, then no reduced Mobile Allocation is used.\ | | Range 0 to 127. | +----------------------------------------------------------------------+ | **Reduced MA bitmap** (bitmap)\ | | This field gives the reduced Mobile Allocation.\ | | This bitmap uses the list of frequencies given in the current Mobile | | Allocation, i.e. the Mobile Allocation used by the mobile for the | | assigned TBF. These radio frequency channels shall be arranged in | | the order of ascending ARFCN, except for ARFCN = 0, if included, | | which shall be put last. | | | | The first bit position in the reduced MA bitmap corresponds to the | | last ARFCN put in the list, the last bit position corresponds to the | | first ARFCN put in the list. Each bit position is coded: | | | | 0 the corresponding radio frequency channel does not belong to the | | reduced MA;\ | | 1 the corresponding radio frequency channel belongs to the reduced | | MA. | +----------------------------------------------------------------------+ | **MAIO_2** (6 bit field)\ | | This field is present when a reduced MA is used, indicating more | | than one frequency.\ | | This parameter is the binary representation of the mobile allocation | | index offset (MAIO) to be used on blocks using a reduced Mobile | | Allocation.\ | | Range 0 to 63. | +----------------------------------------------------------------------+
## 12.30 MS Radio Access Capability 2
The MS Radio Access Capability 2 information element is used to provide the
radio part of the network with information concerning radio aspects of the
mobile station. The contents may affect the manner in which the network
handles the operation of the mobile station.
For the indication of the radio access capabilities the following conditions
shall apply (see 3GPP TS 24.008 for the definition of the parameters):
\- Among the three Access Technology Types GSM 900-P, GSM 900-E and GSM 900-R
the MS shall include only one access technology type denoting the GSM 900 band
it supports.
\- Due to shared radio frequency channel numbers between GSM 1800 and GSM
1900, the mobile station should provide the relevant radio access capability
for either GSM 1800 band OR GSM 1900 band, not both.
\- One of two different coding forms shall be used by the mobile station when
indicating its radio access capabilities to the network: the regular coding is
where all capabilities are indicated explicitly within an _Access capabilities
struct_ for each signalled access technology and the alternative coding where
access technologies with same capabilities are indicated within the
_Additional access technologies struct_ (see 3GPP TS 24.008).
\- If the alternative coding by using the Additional access technologies
struct is chosen by the mobile station, the mobile station shall indicate its
radio access capability for the serving BCCH frequency band in the first
included Access Capabilities struct if this information element is not sent in
response to an Access Technologies Request from the network or if none of the
requested Access Technology Types is supported by the mobile station.
Otherwise, the mobile station shall include the radio access capabilities for
the frequency bands it supports in the order of priority requested by the
network as specified in sub-clause 7.1.3.2.
\- If this information element is sent during a GPRS TBF establishment, the
mobile station should indicate as many as possible of its supported Access
Technology Types. The maximum number of indicated Access Technology Types
depends on the remaining bits left in the RLC/MAC message containing the MS
Radio Access Capability 2 IE. The radio access capability for the serving BCCH
frequency band shall be part of the indicated technologies, the inclusion of
any other radio access capability is a mobile station implementation option.
\- If this information element is sent during an EGPRS TBF establishment, the
mobile station shall indicate its supported Access Technology Types within the
ones that are requested by the network or the access technology of the serving
BCCH frequency band, as specified by the relevant procedures.
\- If message size limitations prevent the first instance of access
capabilities information for a supported access technology type from being
provided in its entirety using the **_Access capabilities struct_** of the _MS
Radio Access Capability 2 IE sent_ within the PACKET RESOURCE REQUEST message,
the mobile station shall:
\- For this instance of access technology type, include as much of the access
capabilities information as possible that can fit within the **_Access
capabilities struct_** of the _MS Radio Access Capability 2 IE sent within_
the PACKET RESOURCE REQUEST message. At minimum the mobile station shall
provide up to and including its R99 access capabilities information within the
**_Access capabilities struct_**. See note 1.
\- For this instance of access technology type, include the entire access
capabilities information using the **_Access capabilities struct_** of the MS
_Radio Access Capability 2 IE_ sent within the **ADDITIONAL MS RADIO ACCESS
CAPABILITIES** message (if this message is sent to the network). See note 2.
NOTE 1: The mobile station has to set the ADDITIONAL MS RAC INFORMATION
AVAILABLE bit to 1 in the PACKET RESOURCE REQUEST message to signal that the
instance of radio access capabilities provided in this message is incomplete -
see sub-clauses 7.1.3.2 and 11.2.16.
NOTE 2: Additional instances of access capabilities information for other
access technology types may be described using either the **_Access
capabilities struct_** (regular coding) or the **_Additional access
technologies struct_** (alternative coding).
Table 12.30.1: MS Radio Access Capability 2 information element
+-------------------------------------------------------------------------+ | \ ::= | | | | \ > ; | +-------------------------------------------------------------------------+
Table 12.30.2: MS Radio Access Capability 2 information element details
* * *
**MS RA capability** \ This information element is coded as defined by the _MS
RA capability value part_ defined in the _MS Radio Access Capability_ IE
defined in 3GPP TS 24.008. When this information element is sent, all spare
bits shall be suppressed by the transmitter.
* * *
## 12.31 _UTRAN FDD Target cell_
The _UTRAN FDD Target cell_ information element contains the description of a
UTRAN FDD Target cell.
Table 12.31.1: _UTRAN FDD Target cell_ information element
+-----------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ ; | +-----------------------------------------------+
Table 12.31.2: _UTRAN FDD Target cell_ information element details
* * *
**FDD_ARFCN** (14 bit field)\ This information element is defined as the
UARFCN in 3GPP TS 25.101.
**Diversity** (1 bit field)\ This parameter indicates if diversity is applied
for the cell:\ Bit\ 0 Diversity is not applied for this cell\ 1 Diversity is
applied for this cell.
**Bandwidth_FDD** (3 bit field)\ This information element will be used for
future releases. It shall not be sent in this version of the protocol.\ When
missing, this indicates the present FDD bandwidth. When present, this shall
not be considered as an error; indices of the 3G Neighbour Cell list shall be
incremented accordingly.
**Scrambling Codes** (9 bit field)\ This parameter indicates the Primary
Scrambling Code as defined in 3GPP TS 25.331.
* * *
## 12.32 _UTRAN TDD Target cell_
The _UTRAN TDD Target cell_ information element contains the description of a
UTRAN TDD Target cell.
Table 12.32.1: _UTRAN TDD Target cell_ information element
+-----------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | \ ; | +-----------------------------------------------+
Table 12.32.2: _UTRAN TDD Target cell_ information element details
+----------------------------------------------------------------------+ | **TDD_ARFCN** (14 bit field)\ | | This information element is defined as the UARFCN in 3GPP TS 25.102. | +----------------------------------------------------------------------+ | **Bandwidth_TDD** (3bit field)\ | | This information element refers to 3GPP TS 25.331.\ | | Bit\ | | 321\ | | 000 3.84Mcps\ | | 001 1.28Mcps\ | | All other values shall not be sent. All other values shall not be | | interpreted as an error; indices of the 3G Neighbour Cell list shall | | be incremented accordingly (but no reporting can be performed). When | | missing, this indicates 3,84 Mcps. | +----------------------------------------------------------------------+ | **Diversity TDD** (1 bit field)\ | | This parameter indicates if SCTD (see 3GPP TS 25.224) is applied for | | the cell:\ | | Bit\ | | 0 SCTD is not applied for this cell\ | | 1 SCTD is applied for this cell. | +----------------------------------------------------------------------+ | **Cell Parameter** (7 bit field)\ | | This parameter is defined in 3GPP TS 25.223. | +----------------------------------------------------------------------+ | **Sync Case TSTD** (1 bit field)\ | | For 3.84 Mcps TDD, this parameter is defined in 3GPP TS 25.223. | | | | Bit\ | | 0 Sync Case 1\ | | 1 Sync Case 2 | | | | For 1.28 Mcps TDD, this parameter indicates if TSTD (see 3GPP TS | | 25.224) is applied for the cell: | | | | Bit | | | | 0 TSTD is not applied for this cell | | | | 1 TSTD is applied for this cell. | +----------------------------------------------------------------------+
## 12.33 Temporary Mobile Group Identity (TMGI)
The Temporary Mobile Group Identity (TMGI) identifies an MBMS service. The
TMGI is defined in 3GPP TS 24.008.
The Temporary Mobile Group Identity information element always contains an
MBMS SERVICE ID. In case the TMGI originates from another PLMN than the local
one, the MCC (Mobile Country Code) and the MNC (Mobile Network Code) of that
originating PLMN shall also be present.
Table 12.33.1: _TMGI_ information element
+------------------------------------------+ | \ ::= | | | | { 0 -- _without MCC and MNC parameters_ | | | | \ | | | | \| 1 -- _with MCC and MNC parameters_ | | | | \ | | | | \ | | | | \ } ; | +------------------------------------------+
Table 12.33.2: _TMGI_ information element details
+----------------------------------------------------------------------+ | **MBMS SERVICE ID** (24 bit field)\ | | This field contains the identity of the MBMS service. The MBMS | | SERVICE ID is unique within a PLMN. | | | | **MCC** (12 bit field)\ | | This field contains the Mobile Country Code of the originating PLMN. | | | | **MNC** (12 bit field)\ | | This field contains the Mobile Network Code of the originating PLMN. | +----------------------------------------------------------------------+
## 12.34 MBMS Bearer Identity
The MBMS Bearer Identity uniquely identifies an MBMS radio bearer on a PDCH.
Table 12.34.1: _MBMS Bearer Identity_ information element details
+----------------------------------------------------------------------+ | **MBMS Bearer Identity** (1-5 bit field)\ | | The MBMS Bearer Identity field assigns a TFI value, or a subset of a | | TFI value, which identifies an MBMS radio bearer on a PDCH. In case | | only a subset of a TFI value is assigned for the MBMS radio bearer, | | that subset corresponds to the most significant bit(s) of the TFI | | field. The length of this field is defined by the value of the | | _Length of MBMS Bearer Identity_ field, whose value is defined by a | | 3 bit field (range 1 to 5). | | | | The MBMS Bearer Identity field is encoded as a binary number. | | | | Range: | | | | 1 bit field 0 to 1 | | | | 2 bit field 0 to 3 | | | | 3 bit field 0 to 7 | | | | 4 bit field 0 to 15 | | | | 5 bit field 0 to 31 | +----------------------------------------------------------------------+
## 12.35 MS_ID
The MS_ID uniquely addresses a mobile station on an MBMS radio bearer with an
assigned uplink feedback channel.
Table 12.35.1: _MS_ID_ information element details
+----------------------------------------------------------------------+ | **MS_ID** (1-4 bit field)\ | | An MS_ID is assigned to a mobile station for a given MBMS radio | | bearer with an uplink feedback channel. The length of the MS_ID | | field is defined by the value, increased by 1, of the _Length | | Indicator of MS_ID_ field, whose value is defined by a 2 bit field | | (range 1 to 4). The sum of the length of the MBMS Bearer Identity | | field and of the length of the MS_ID field is equal to 5, i.e. the | | length of the TFI field. | | | | The MS_ID field is encoded as a binary number. | | | | Range: | | | | 1 bit field 0 to 1 | | | | 2 bit field 0 to 3 | | | | 3 bit field 0 to 7 | | | | 4 bit field 0 to 15 | +----------------------------------------------------------------------+
## 12.36 MBMS Channel Parameters
The MBMS Channel Parameters contain various parameters applicable to one or
more MBMS sessions.
Table 12.36.1: _MBMS Channel Parameters_ information element
+----------------------------------------------------------------------+ | \::= | | | | { 0 -- _counting is off_ | | | | { 0 \| 1 \ > | | | | \> } | | | | \| 1 -- _counting is on_ | | | | { 0 \| 1 \ > | | } }; | +----------------------------------------------------------------------+
Table 12.36.2: _MBMS Channel Parameters_ information element details
+----------------------------------------------------------------------+ | **MBMS p-t-m channel description\ | |** This information element contains the MBMS p-t-m channel | | description of one or more MBMS sessions. This information element | | is defined in sub-clause 12.37. | | | | **MBMS Session Parameters List\ | |** This information element contains a list of MBMS Session | | Parameters to use on the MBMS p-t-m channel provided in the MBMS | | p-t-m channel description. Each entry in this list is associated | | with a notified MBMS session as identified in the MBMS Sessions List | | for this MBMS p-t-m channel. The n-th entry in the MBMS Session | | Parameters list corresponds to the n-th notified MBMS Session in the | | MBMS Sessions List. This information element is defined in | | sub-clause 12.40. | | | | **MPRACH description\ | |** This information element contains the description of the MPRACH on | | which the MBMS packet access procedure is initiated (see sub-clause | | 7.7.1). This information element is defined in sub-clause 12.38. | +----------------------------------------------------------------------+
## 12.37 MBMS p-t-m channel description
The MBMS p-t-m channel description contains the p-t-m channel description for
one or more MBMS sessions.
Table 12.37.1: _MBMS p-t-m channel description_ information element
+----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ | | > } | | | | \; | +----------------------------------------------------------------------+
Table 12.37.2: _MBMS p-t-m channel description_ information element details
* * *
**Frequency Parameters\** If this information element is not present, the same
frequency as for the PCCCH shall be used. This information element is defined
in sub-clause 12.8.
**DL_TIMESLOT_ALLOCATION** (8 bit field)**\** This field is defined in sub-
clause 12.18.
* * *
## 12.38 MPRACH description
The MPRACH description contains the MPRACH parameters to be used if MPRACH is
indicated in an MBMS notification.
Table 12.38.1: _MPRACH description_ information element
+----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+
Table 12.38.2: _MPRACH description_ information element details
* * *
**Frequency Parameters\** If this information element is not present, the same
frequency as for the PCCCH shall be used. This information element is defined
in sub-clause 12.8.
**MPRACH_TIMESLOT NUMBER** (3 bit field)\ This field identifies the timeslot
number of the PDCH where the MPRACH is located.
**USF** (3 bit field)\ This field identifies the USF value that identifies the
MPRACH on the defined PDCH.
**MPRACH Control Parameters** \ This information element, if present, defines
the access control parameters to be used on the MPRACH. This information
element is defined in sub-clause 12.41.
* * *
## 12.39 MBMS Sessions List
The MBMS Session List contains a list of MBMS sessions, identified by their
TMGI, and if available MBMS Session Identity.
Table 12.39.1: _MBMS Sessions List_ information element
+----------------------------------------------------------------+ | \ ::= | | | | { 1 \> | | | | { 0 \| 1 \ } } ** 0; | +----------------------------------------------------------------+
Table 12.39.2: _MBMS Sessions List_ information element
* * *
**TMGI** \ This information element contains the Temporary Mobile Group
Identity of an MBMS service. This information element is encoded as defined in
sub-clause 12.33.
**MBMS Session Identity (8 bit field)\** This field contains the MBMS Session
Identity of the concerned MBMS session.
* * *
## 12.40 MBMS Session Parameters List
The MBMS Session Parameters List contains a list of MBMS Bearer IDs, Estimated
Session Durations, MBMS Radio Bearer Starting Times, EGPRS Windows Sizes and
NPM Transfer Times.
Table 12.40.1: _MBMS Session Parameters List_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ \-- | | Configurations '000', '110' and '111' are reserved | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 _\ _ } } ** 0; | +----------------------------------------------------------------------+
Table 12.40.2: _MBMS Session Parameters List_ information element details
+----------------------------------------------------------------------+ | **Length of MBMS Bearer Identity** (3 bit field)\ | | This field indicates the length of the MBMS Bearer Identity for the | | concerned MBMS session. Any value from 1 to 5 inclusive is allowed. | | All other values are reserved. | | | | **MBMS Bearer Identity** (1-5 bit field)**\ | |** This field contains the Bearer identity for the concerned MBMS | | session. This information element is defined in sub-clause 12.34. | | | | **Estimated Session Duration (8 bit field)\ | |** This field contains an estimation of either the duration for the | | concerned MBMS session or, if the MBMS session is ongoing, the | | remaining duration for the concerned MBMS session. This information | | element is defined in sub-clause 12.44. | | | | **MBMS Radio Bearer Starting Time** (16 bit field)\ | | This field contains a starting time that indicates the frame number | | from which the data transfer on the assigned MBMS radio bearer may | | start for the concerned MBMS session. The MBMS Radio Bearer Starting | | Time is encoded as the value part of the type 3 information element | | _Starting Time_ in 3GPP TS 44.018. | | | | **EGPRS Window Size\ | |** This information element defines the EGPRS Window Size for the | | concerned MBMS session and is defined in sub-clause 12.5.2. | | | | _**NPM Transfer Time** (5 bit field)_ | | | | This field defines the NPM Transfer Time limitation for the | | concerned MBMS session and is defined in sub-clause 12.45a. | +----------------------------------------------------------------------+
## 12.41 MPRACH Control Parameters
The purpose of the MPRACH Control Parameters information element is to provide
parameters used to control the MPRACH utilization.
Table 12.41.1: _MPRACH Control Parameters_ information elements
+-----------------------------------------------------+ | \ ::= | | | | { 0 \| 1\ } | | | | { 0 \| 1\ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +-----------------------------------------------------+
Table 12.41.2: _MPRACH Control Parameters_ information element details
* * *
**TX_INT** (4 bit field)\ Number of slots to spread transmission of the random
access. This information element is encoded as defined in sub-clause 12.14.
**S** (4 bit field)\ S is a parameter used for calculation of the minimum
number of slots between two successive Channel request messages. This
information element is encoded as defined in sub-clause 12.14.
**MAX_RETRANS** (2 bit field)\ Indicates the maximum number of retransmissions
allowed. This information element is encoded as defined in sub-clause 12.14.
**PERSISTENCE_LEVEL** (4 bit field)\ The PERISTENCE_LEVEL field indicates the
values of the access persistence level. This information element is encoded as
defined in sub-clause 12.14.
**ACC_CONTR_CLASS** ( 16 bit field)\ Access Control Class N (bit 1-16) (see
octet 3 and 4 of the RACH Control Parameters IE in 3GPP TS 44.018) . This
information element is encoded as defined in sub-clause 12.14.
* * *
## 12.42 PS Handover Radio Resources
This information element provides the radio resources assigned for PS services
in the new cell and is included within the PS HANDOVER COMMAND message.
Table 12.42.1: PS Handover Radio Resources information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | \ > | | | | \ | | | | { 0 \| 1 \ > | | | | { 0 \| 1 \ } } -- | | _Only used in uplink_ | | | | \ \-- _Only used in | | uplink_ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \ > | | | | \| 1 \ > } ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | { **CCN_SUPPORTED** : bit } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | -- Uplink TBFs | | | | { { 0 \| 1 \ } | | | | { 0 \| 1 \ > | | | | { 1 \ > | | } ** 0 } | | | | -- Downlink TBFs | | | | { 1 \ > | | } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= | | | | -- Uplink TBFs | | | | { { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > | | | | { 1 \ > | | } ** 0 } } | | | | -- Downlink TBFs | | | | { 0 \| 1 | | | | { 0 \| 1 { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } } | | | | { 1 \ > | | } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 -- _The timeslots assigned to the TBF are all the timeslots | | assigned_ | | | | -- _in the Global Timeslot description_ | | | | \| 1 \ } -- _The | | timeslots assigned to the TBF are a subset of all the_ | | | | -- _timeslots assigned in the Global Timeslot description. Where_ | | | | -- _N is the number of timeslots assigned to the MS in the Global_ | | | | -- _Timeslot [ ]{.underline} description_ | | | | { 0 \ \-- _The same USF is valid | | on all timeslots assigned to the TBF_ | | | | \| 1 -- _Different USF(s) assigned_ | | | | \ \-- _USF assignment on the | | lowest numbered timeslot_ | | | | -- _assigned to the TBF_ | | | | { 0 \| 1 \ } * (M-1) } ; -- | | _USFs on subsequent timeslots assigned to the TBF:_ | | | | -- _A '0' (respectively a '1' followed by a USF value)_ | | | | -- _means same (respectively different) USF value as the_ | | | | -- _USF on the next lower numbered timeslot assigned to_ | | | | -- _the TBF._ _Where M is the amount of timeslots assigned_ | | | | -- _to the TBF in the TBF_TIMESLOT_ALLOCATION if_ | | | | -- _present, else in the Global_ _Timeslot_ _description._ | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | \ | | | | { \ | | > } ; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+
Table 12.42.2: PS Handover Radio Resources information element details
+----------------------------------------------------------------------+ | **Handover Reference** (8 bit field)\ | | This field contains the reference value to be used when performing | | PS Handover. The field is encoded as the contents of the Handover | | Reference information element as defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **SI** (2 bit field)\ | | The Synchronization Indication (SI) field indicates which type of PS | | Handover is to be performed.\ | | \ | | Bit\ | | 2 1\ | | 0 0 Non-synchronized\ | | 0 1 Synchronized\ | | 1 0 Pre-synchronised\ | | 1 1 reserved | +----------------------------------------------------------------------+ | **NCI** (1 bit field)\ | | The Normal Cell Indication (NCI) field indicates how the MS shall | | behave in case of out of range timing advance values.\ | | \ | | Bit\ | | 1\ | | 0 Out of range timing advance is ignored\ | | 1 Out of range timing advance shall trigger a handover failure | | procedure. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field) | | | | This field contains the BCCH frequency of the new cell. This field | | is encoded as the ARFCN defined in 3GPP TS 44.018. | | | | Range: 0 to 1023. | +----------------------------------------------------------------------+ | **BSIC** (6 bit field)\ | | This field contains the BSIC of the new cell. The BSIC field is | | coded as the \"Base Station Identity Code\" defined in | | 3GPP TS 23.003. | +----------------------------------------------------------------------+ | **CCN_ACTIVE** (1 bit field)\ | | For description and encoding, see the Packet Cell Change Order | | message. | +----------------------------------------------------------------------+ | **3G_CCN_ACTIVE** (1 bit field)\ | | For description and encoding, see the Packet Cell Change Order | | message. | +----------------------------------------------------------------------+ | **_CCN Support Description_** \ | | \ | | **CCN_SUPPORTED** (1 bit field) | | | | For description and encoding, see the Packet Cell Change Order | | message. | +----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This information element is defined in sub-clause 12.8. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **NETWORK_CONTROL_ORDER** (2 bit field)\ | | For description and encoding, see the Packet Measurement Order | | message. | +----------------------------------------------------------------------+ | **P0** (4 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **PR_MODE** (1 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **Global Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12a | +----------------------------------------------------------------------+ | **RLC_RESET** (1 bit field) | | | | This information element indicates whether or not all RLC entities | | used to support the given TBFs in the old cell shall be reset to | | support the TBFs allocated for the corresponding PFCs in the new | | cell: | | | | 0 RLC is not reset (the RLC state machines are maintained across PS | | handover) | | | | 1 RLC is reset (the RLC state machines are not maintained across PS | | handover) | | | | If this field is set to \'1\', then after successful completion of | | the PS Handover procedure, the mobile shall consider all TBFs which | | were ongoing when the PS Handover Command message was received to | | have been implicitly released. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **EGPRS Window Size** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme** | | | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field shall only be included for TBFs if both the network and | | the mobile station support multiple TBFs. This field contains the | | PFI parameter identifying a Packet Flow Context. The PFI parameter | | is encoded as the contents of the PFI information element as defined | | in 3GPP TS 44.01 | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **TBF_TIMESLOT_ALLOCATION (N bit field)\ | |** For description and encoding, see the Multiple TBF Uplink | | Assignment message. | +----------------------------------------------------------------------+ | **USF_ALLOCATION** (3 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **RLC_MODE (1 bit field)** | | | | For description and encoding, see the Multiple TBF Uplink Assignment | | message or the Multiple TBF Downlink Assignment message. If the | | **RLC_RESET** field indicates that any given RLC entity is not | | reset across PS handover then the mobile station shall ignore this | | field and use the same RLC mode that was used for the corresponding | | PFC in the old cell. | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | If the RLC_RESET field indicates that RLC entities are reset, this | | field shall be set to \'0\'. | | | | If multiple TBFs are supported by both network and mobile station | | and the RLC_RESET field indicates that RLC entities are not reset, | | this field shall be coded as specified for the Multiple TBF Downlink | | Assignment message. | | | | If either the network or the mobile station does not support the | | multiple TBF feature and the RLC_RESET field indicates that RLC | | entities are not reset, this field shall be set to \'1\' if the | | network establishes a new downlink TBF for the mobile station whose | | timer T3192 is running. Otherwise this field shall be set to \'0\'. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+ | **MS_TIMESLOT_ALLOCATION (8 bit field)\ | |** For description and encoding, see the Multiple TBF Uplink | | Assignment message.\ | | As the explicit power control parameters are omitted for the | | allocated timeslots in the new cell, the mobile station shall use | | the default values (see 3GPP TS 45.008) for the power control | | parameters. | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | +----------------------------------------------------------------------+ | **GAMMA_TN** (5 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode. | | | | The list of NPM Transfer Time IEs in the Rel-7 additions is ordered | | as described by the loops in the earlier releases part. | +----------------------------------------------------------------------+ | **EVENT_BASED_FANR**(1 bit field) | | | | For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+ |** REPORTED TIMESLOTS**(8 bit field) | | | | For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+ |** TSH** (2 bit field) | | | | For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+
## 12.42a PS Handover Radio Resources 2
This information element provides the radio resources assigned for PS services
for a dual carrier configuration or where the PS resources require the support
of EGPRS2, Fast Ack/Nack Reporting or RTTI configurations in the new cell and
is included within the PS HANDOVER COMMAND message.
Table 12.42a.1: PS Handover Radio Resources 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \> } | | | | { 01 -- _Legacy IEs used_ | | | | \ > | | | | { 0 \| 1 \ > } | | | | \| 10 -- _Optimized Dual Carrier frequency parameters used_ | | | | \ > | | | | ! \ > } -- _reserved for future use_ | | | | \ | | | | { 0 \| 1 \ > | | | | { 0 \| 1 \ } } -- | | _Only used in uplink_ | | | | \ | | | | \ > | | | | -- _Optional extension information:_ | | | | { 0 \| 1 \ | | | | \ ! { bit ** = \ } } > } | | ; | +----------------------------------------------------------------------+ | \ ::=\ | | \\ | | { **CCN_SUPPORTED** : bit } * (val(Number_Cells)) ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ ** // ; -- _Extension information may be | | truncated between released versions of the protocol._ | | | | -- _The receiver shall assume the value zero for any truncated | | bit._ | +----------------------------------------------------------------------+
Table 12.42a.2: PS Handover Radio Resources 2 information element details
+----------------------------------------------------------------------+ | **Handover Reference** (8 bit field)\ | | This field contains the reference value to be used when performing | | PS Handover. The field is encoded as the contents of the Handover | | Reference information element as defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **ARFCN** (10 bit field)\ | | This field contains the BCCH frequency of the new cell. This field | | is encoded as the ARFCN defined in 3GPP TS 44.018. | | | | Range: 0 to 1023. | +----------------------------------------------------------------------+ | **SI** (2 bit field)\ | | The Synchronization Indication (SI) field indicates which type of PS | | Handover is to be performed.\ | | \ | | Bit\ | | 2 1\ | | 0 0 Non-synchronized\ | | 0 1 Synchronized\ | | 1 0 Pre-synchronised\ | | 1 1 reserved | +----------------------------------------------------------------------+ | **NCI** (1 bit field)\ | | The Normal Cell Indication (NCI) field indicates how the MS shall | | behave in case of out of range timing advance values.\ | | \ | | Bit\ | | 1\ | | 0 Out of range timing advance is ignored\ | | 1 Out of range timing advance shall trigger a handover failure | | procedure. | +----------------------------------------------------------------------+ | **BSIC** (6 bit field)\ | | This field contains the BSIC of the new cell. The BSIC field is | | coded as the \"Base Station Identity Code\" defined in | | 3GPP TS 23.003. | +----------------------------------------------------------------------+ | **CCN_ACTIVE** (1 bit field)\ | | For description and encoding, see the Packet Cell Change Order | | message. | +----------------------------------------------------------------------+ | **3G_CCN_ACTIVE** (1 bit field)\ | | For description and encoding, see the Packet Cell Change Order | | message. | +----------------------------------------------------------------------+ | **_CCN Support Description_** \ | | \ | | **CCN_SUPPORTED** (1 bit field) | | | | For description and encoding, see the Packet Cell Change Order | | message. | +----------------------------------------------------------------------+ | **Frequency Parameters C1** \ | | This information element is defined in sub-clause 12.8. | | | | **Frequency Parameters C2** \ | | This information element is defined in sub-clause 12.8. | | | | **Dual Carrier Frequency Parameters** \ | | This information element is defined in sub-clause 12.8.2. | +----------------------------------------------------------------------+ | **NETWORK_CONTROL_ORDER** (2 bit field)\ | | For description and encoding, see the Packet Measurement Order | | message. | +----------------------------------------------------------------------+ | **Global Packet Timing Advance** \ | | This information element is defined in sub-clause 12.12a | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)**\ | |** This field is defined in sub-clause 12.12b. | +----------------------------------------------------------------------+ | **RLC_RESET** (1 bit field) | | | | This field is defined in sub-clause 12.42. | +----------------------------------------------------------------------+ | **EGPRS mode 2 IE** | | | | This information element is defined in sub-clause 12.48a.1.. | +----------------------------------------------------------------------+
## 12.43 NAS Container for PS Handover
The purpose of the NAS Container for PS Handover information element (see Note
1) is to indicate the layer 3 information to be applied by the mobile station
upon successful completion of PS handover or DTM handover to A/Gb mode.
Table 12.43.1: NAS Container for PS Handover information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 12.43.2: NAS Container for PS Handover information element details
+----------------------------------------------------------------------+ | **NAS_CONTAINER_DATA (N octet field)** | | | | This contents of this information element is identical to the value | | part of the _NAS Container for PS Handover_ information element | | described in 3GPP TS 24.008 where N is the length of the value part | | of the _NAS Container for PS Handover_ information element. | +----------------------------------------------------------------------+
## 12.44 Estimated Session Duration
The Estimated Session Duration gives an estimation of the (remaining) duration
for the MBMS session. The initial value is derived from the payload in the
_MBMS Session Duration_ IE (see 3GPP TS 48.018), rounded up to the next higher
value that can be signalled with the coding provided in Table 12.44.1. Any
subsequent value for the remaining duration of the MBMS session is derived
from the initial value, unless an up-to-date value is available in the _MBMS
Session Duration_ IE.
Table 12.44.1: Estimated Session Duration information element details
+-------------------------------------------------------------------------+ | **Estimated Session Duration** (8 bit field)\ | | The Estimated Session Duration information element is coded as follows: | | | | bit\ | | 8 7 6 5 4 3 2 1\ | | 0 0 0 0 0 0 0 0 5 seconds\ | | 0 0 0 0 0 0 0 1 10 seconds\ | | . . . _in 5s step_ \ | | 0 0 0 0 1 0 1 1 1 minute\ | | 0 0 0 0 1 1 0 0 1 minute 10 seconds\ | | . . . _in 10s step_ \ | | 0 0 1 0 0 0 1 1 5 minutes\ | | 0 0 1 0 0 1 0 0 5 minutes 30 seconds\ | | . . . _in 30s step_ \ | | 0 0 1 0 1 1 0 1 10 minutes\ | | 0 0 1 0 1 1 1 0 11 minutes\ | | . . . _in 1m step_ \ | | 0 1 0 1 1 1 1 1 1 hour\ | | 0 1 1 0 0 0 0 0 1 hour 5 minutes\ | | . . . _in 5m step_ \ | | 1 0 0 0 1 1 1 1 5 hours\ | | 1 0 0 1 0 0 0 0 5 hours 15 minutes\ | | . . . _in 15m step_ \ | | 1 0 1 0 0 0 1 1 10 hours\ | | 1 0 1 0 0 1 0 0 10 hours 30 minutes\ | | . . . _in 30m step_ \ | | 1 0 1 1 1 1 1 1 1 day\ | | 1 1 0 0 0 0 0 0 1 day 3 hours\ | | . . . _in 3h step_ \ | | 1 1 1 0 1 1 1 1 7 days\ | | 1 1 1 1 0 0 0 0 7 days 12 hours\ | | . . . _in 12h step_ \ | | 1 1 1 1 0 1 0 1 10 days\ | | 1 1 1 1 0 1 1 0 11 days\ | | . . . _in 1 day step_ \ | | 1 1 1 1 1 1 0 1 18days\ | | 1 1 1 1 1 1 1 0 19 days\ | | 1 1 1 1 1 1 1 1 >19 days | +-------------------------------------------------------------------------+
## 12.45 MBMS In-band Signalling Indicator
The MBMS In-band Signalling Indicator indicates whether the network sends
system information messages and (for mobile stations with an assigned MS_ID on
that MBMS radio bearer) paging messages on the PACCH.
Table 12.45.1: _MBMS In-band Signalling Indicator_ information elements
+-------------------------------------------------------+ | \ ::= | | | | \; | +-------------------------------------------------------+
Table 12.45.2: _MBMS In-band Signalling Indicator_ information element details
+----------------------------------------------------------------------+ | **MBMS In-band Signalling Indicator** (1 bit field)\ | | The MBMS In-band Signalling Indicator information element is coded | | as follows: | | | | Bit\ | | 0 System information and paging messages are not sent on the PACCH | | of the MBMS radio bearer.\ | | 1 System information and paging messages are sent on the PACCH of | | the MBMS radio bearer. | +----------------------------------------------------------------------+
## 12.45a NPM Transfer Time
This information element defines the NPM Transfer Time limitation in case of
RLC non-persistent mode and is derived from the Transfer Delay IE defined in
3GPP TS 24.008.
Table 12.45a.1: NPM Transfer Time Information Elements details
* * *
bit\ NPM Transfer Time (in ms) 5 4 3 2 1
0 0 0 0 0 30
0 0 0 0 1 40
0 0 0 1 0 50
0 0 0 1 1 60
0 0 1 0 0 70
0 0 1 0 1 80
0 0 1 1 0 90
0 0 1 1 1 100
0 1 0 0 0 125
0 1 0 0 1 150
0 1 0 1 0 175
0 1 0 1 1 200
0 1 1 0 0 225
0 1 1 0 1 250
0 1 1 1 0 275
0 1 1 1 1 300
1 0 0 0 0 400
1 0 0 0 1 500
1 0 0 1 0 600
1 0 0 1 1 700
1 0 1 0 0 800
1 0 1 0 1 900
1 0 1 1 0 1000
1 0 1 1 1 1500
1 1 0 0 0 2000
1 1 0 0 1 2500
1 1 0 1 0 3000
1 1 0 1 1 3500
1 1 1 0 0 4000
1 1 1 0 1 4500
1 1 1 1 0 5000
1 1 1 1 1 Reserved
* * *
## 12.45b RRC Container
The RRC Container is used to contain an RRC message (e.g. HANDOVER TO UTRAN
COMMAND or _DL-DCCH-Message_ including a _RRCConnectionReconfiguration_) as
defined in 3GPP TS 25.331[20] or 3GPP TS 36.331[45].
Table 12.45b.1: RRC Container information element
+------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +------------------------------------------------------------------+
Table 12.45b.2: RRC Container information element details
+----------------------------------------------------------------------+ | **RRC_CONTAINER_LENGTH** (8 bit field)\ | | This field indicates the number of octets in the | | RRC_CONTAINER_DATA. | | | | bit | | | | 8 7 6 5 4 3 2 1 | | | | 0 0 0 0 0 0 0 0 reserved for future use; | | | | 0 0 0 0 0 0 0 1 RRC_CONTAINER_DATA length = 1 octet; | | | | 0 0 0 0 0 0 1 0 RRC_CONTAINER_DATA length = 2 octets; | | | | .... | | | | 1 1 1 1 1 1 1 1 RRC_CONTAINER_DATA length = 255 octets; | +----------------------------------------------------------------------+ | **RRC_CONTAINER_DATA (N octet field)** | | | | This field contains an RRC Container as specified in 3GPP TS 25.331 | | [20] or as specified in 3GPP TS36.331 [45]. | +----------------------------------------------------------------------+
## 12.46 DTM Handover PS Radio Resources
This information element provides the radio resources assigned for PS services
in the new cell and is included within the DTM HANDOVER COMMAND message.
Table 12.46.1: DTM Handover PS Radio Resources information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ > _\--- | | provided by SI/PSI for PS HO_ | | | | \ \--- _needed for DTM in new cell_ | | | | \ \--- _needed for DTM | | in new cell_ | | | | \ > _\--- | | provided by SI/PSI for PS HO_ | | | | \ > _\--- provided by SI/PSIfor PS HO_ | | | | \ \--- _only used | | in uplink_ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ } | | | | { 0 \ > | | | | \| 1 \ > } | | | | \ ; -- _truncation at end of message allowed, bits | | \'0\' assumed_ | +----------------------------------------------------------------------+ | \ ::= | | | | -- _Uplink TBFs_ | | | | { { 0 \| 1 \ } | | | | { 0 \| 1 \ > | | | | { 1 \ > | | } ** 0 } | | | | -- _Downlink TBFs_ | | | | { 1 \ > | | } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= | | | | -- _Uplink TBFs_ | | | | { { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > | | | | { 1 \ > | | } ** 0 } } | | | | -- _Downlink TBFs_ | | | | { 0 \| 1 | | | | { 0 \| 1 { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ } } | | | | { 1 \ > | | } ** 0 } ; | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 -- _The timeslots assigned to the TBF are all the timeslots | | assigned_ | | | | -- _in the Global Timeslot description_ | | | | \| 1 \ } -- _The | | timeslots assigned to the TBF are a subset of all the_ | | | | -- _timeslots assigned in the Global Timeslot description. Where_ | | | | -- _N is the number of timeslots assigned to the MS in the Global_ | | | | -- _Timeslot [ ]{.underline} description_ | | | | { 0 \ \-- _The same USF is valid | | on all timeslots assigned to the TBF_ | | | | \| 1 -- _Different USF(s) assigned_ | | | | \ \-- _USF assignment on the | | lowest numbered timeslot_ | | | | -- _assigned to the TBF_ | | | | { 0 \| 1 \ } * (M-1) } ; -- | | _USFs on subsequent timeslots assigned to the TBF:_ | | | | -- _A '0' (respectively a '1' followed by a USF value)_ | | | | -- _means same (respectively different) USF value as the_ | | | | -- _USF on the next lower numbered timeslot assigned to_ | | | | -- _the TBF._ _Where M is the amount of timeslots assigned_ | | | | -- _to the TBF in the TBF_TIMESLOT_ALLOCATION if_ | | | | -- _present, else in the Global_ _Timeslot_ _description._ | +----------------------------------------------------------------------+ | \ ::= -- _Recursive for multiple | | TBFs_ | | | | \ | | | | { \ > } ; | +----------------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _without power control params_ | | | | \ | | | | \| 1 -- _with power control params_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+
Table 12.46.2: DTM Handover PS Radio Resources information element details
+----------------------------------------------------------------------+ | **Cell Identification** (information element)\ | | This information element is defined in sub-clause 12.23. | +----------------------------------------------------------------------+ | **MAX_LAPDm** (3 bit field)\ | | This field indicates the maximum number of LAPDm frames on which a | | layer 3 can be segmented into and be sent on the main DCCH. It is | | coded as described in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **GPRS_MS_TXPWR_MAX_CCH** (5 bit field)\ | | The GPRS_MS_TXPWR_MAX_CCH field is coded as the binary | | representation of the \'power control level\' in 3GPP TS 45.005 | | corresponding to the maximum TX power level a mobile station may use | | when accessing on a packet control channel. This value shall be used | | by the mobile station according to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **GPRS Cell Options** (information element)\ | | The GPRS Cell Option information element is defined in sub-clause | | 12.24. | +----------------------------------------------------------------------+ | **GPRS Power Control Parameters** (information element)**\ | |** The GPRS Power Control Parameters information element is defined | | in sub-clause 12.9a. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **RLC_RESET** (1 bit field) | | | | For description and encoding, see sub-clause 12.42. | +----------------------------------------------------------------------+ | **P0** (4 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **PR_MODE** (1 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **Uplink Control Timeslot (3 bit field)** | | | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **EGPRS Window Size** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme** | | | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field shall only be included for TBFs if both the network and | | the mobile station support multiple TBFs.This field contains the PFI | | parameter identifying a Packet Flow Context. The PFI parameter is | | encoded as the contents of the PFI information element as defined in | | 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **RLC_MODE (1 bit field)** | | | | For description and encoding, see the Multiple TBF Uplink Assignment | | message or the Multiple TBF Downlink Assignment message. If the | | **RLC_RESET** field indicates that any given RLC entity is not | | reset across PS handover then the mobile station shall ignore this | | field and use the same RLC mode that was used for the corresponding | | PFC in the old cell. | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **TBF_TIMESLOT_ALLOCATION (N bit field)\ | |** For description and encoding, see the Multiple TBF Uplink | | Assignment message. | +----------------------------------------------------------------------+ | **USF_ALLOCATION** (3 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** For description and encoding, see the Multiple TBF Downlink | | Assignment message. | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | For description and encoding, see sub-clause 12.42. | +----------------------------------------------------------------------+ | **MS_TIMESLOT_ALLOCATION (8 bit field)\ | |** For description and encoding, see the Multiple TBF Uplink | | Assignment message. | +----------------------------------------------------------------------+ | **ALPHA** (4 bit field)\ | | For encoding and description see the Global Power Control Parameters | | IE. | +----------------------------------------------------------------------+ | **GAMMA_TN** (5 bit field)\ | | For description and encoding, see the Multiple TBF Uplink Assignment | | message. | +----------------------------------------------------------------------+
## 12.47 DTM Handover CS Radio Resources
This information element provides the radio resources assigned for CS service
in the new cell and is included within the DTM HANDOVER COMMAND message.
Table 12.47.1: DTM Handover CS Radio Resources information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 12.47.2: DTM Handover CS Radio Resources information element details
+----------------------------------------------------------------------+ | **CS_HANDOVER_RADIO_RESOURCES_LENGTH** (7 bit field)\ | | This field indicates the number of | | CS_HANDOVER_RADIO_RESOURCES_DATA octets included in the CS | | Handover Radio Resources IE . | | | | bit | | | | 7 6 5 4 3 2 1 | | | | 0 0 0 0 0 0 0 No CS_HANDOVER_RADIO_RESOURCES_DATA follows; Spare | | padding is used to fill the rest of the message; | | | | 0 0 0 0 0 0 1 CS_HANDOVER_RADIO_RESOURCES_DATA length = 1 octet; | | | | 0 0 0 0 0 1 0 CS_HANDOVER_RADIO_RESOURCES_DATA length = 2 | | octets; | | | | .... | | | | 1 1 1 1 1 1 1 CS_HANDOVER_RADIO_RESOURCES_DATA length = 127 | | octets; | +----------------------------------------------------------------------+ | **CS_HANDOVER_RADIO_RESOURCES_DATA (N octet field)** | | | | The contents of this information element are identical to the | | contents of the HANDOVER COMMAND (see 3GPP TS 44.018) except for the | | _RR management Protocol Discriminator_ IE, the _Skip Indicator_ IE | | and the _Handover Command Message Type_ IE which are not included. N | | is the combined length of the information elements from the HANDOVER | | COMMAND that are included within this IE. | +----------------------------------------------------------------------+
## 12.48 DTM Handover PS Radio Resources 2
This information element provides the radio resources assigned for PS services
in the new cell and is included within the DTM HANDOVER COMMAND message.
Table 12.48.1: DTM Handover PS Radio Resources 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ > _\--- | | provided by SI/PSI for PS HO_ | | | | \ \--- _needed for DTM in new cell_ | | | | \ \--- _needed for DTM | | in new cell_ | | | | \ > _\--- | | provided by SI/PSI for PS HO_ | | | | \ > _\--- provided by SI/PSI for PS HO_ | | | | \ | | | | { 00 \ > | | | | ! \ > | | } -- _reserved for future use_ | | | | -- _Optional extension information:_ | | | | { 0 \| 1 \ | | | | \ ! { bit ** = \ } } > } | | ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ ** // ; -- _Extension information may be | | truncated between released versions of the protocol._ | | | | -- _The receiver shall assume the value zero for any truncated | | bit._ | +----------------------------------------------------------------------+
Table 12.48.2: DTM Handover PS Radio Resources 2 information element details
+----------------------------------------------------------------------+ | **Cell Identification** (information element)\ | | This information element is defined in sub-clause 12.23. | +----------------------------------------------------------------------+ | **MAX_LAPDm** (3 bit field)\ | | This field indicates the maximum number of LAPDm frames into which a | | layer 3 message can be segmented sent on the main DCCH. It is coded | | as described in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **GPRS_MS_TXPWR_MAX_CCH** (5 bit field)\ | | The GPRS_MS_TXPWR_MAX_CCH field is coded as the binary | | representation of the \'power control level\' in 3GPP TS 45.005 | | corresponding to the maximum TX power level a mobile station may use | | when accessing on a packet control channel. This value shall be used | | by the mobile station according to 3GPP TS 45.008. | +----------------------------------------------------------------------+ | **GPRS Cell Options** (information element)\ | | The GPRS Cell Option information element is defined in sub-clause | | 12.24. | +----------------------------------------------------------------------+ | **GPRS Power Control Parameters** (information element)**\ | |** The GPRS Power Control Parameters information element is defined | | in sub-clause 12.9a. | +----------------------------------------------------------------------+ | **RLC_RESET** (1 bit field) | | | | This field is defined in sub-clause 12.42. | +----------------------------------------------------------------------+ | **EGPRS mode 2 IE** | | | | This information element is defined in sub-clause 12.48a.1. | +----------------------------------------------------------------------+
## 12.48a PS resources assignment information elements
### 12.48a.1 EGPRS mode 2
This information element provides the description of uplink and / or downlink
radio resources assigned for PS services in a dual carrier configuration or
supporting EGPRS2, Fast Ack/Nack Reporting or RTTI configurations for single
TBF or a multiple TBF capable mobile station.
Table 12.48a.1.1: EGPRS mode 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 0 -- _SINGLE TBF ASSIGNMENT_ | | | | { 0 \| 1 _\-- Single Downlink TBF_ | | | | \ | | > | | | | } | | | | { 0 \| 1 _\-- Single Uplink TBF_ | | | | \ > | | | | } | | | | \| 1 -- _MULTIPLE TBF ASSIGNMENT_ | | | | **_\-- THIS ASSIGNMENT CHOICE SHALL ONLY BE SELECTED BY THE | | NETWORK_** | | | | **_\-- FOR ASSIGNING RESOURCES TO A MOBILE STATION SUPPORTING_** | | | | **_\-- MULTIPLE TBF PROCEDURES IN A/GB MODE (see 3GPP TS 24.008)_** | | | | { 0 \| 1 _\-- Multiple downlink TBF(s)_ | | | | \ > | | | | } | | | | { 0 \| 1 _\-- Multiple uplink TBF(s)_ | | | | \ > | | | | } | | | | } ; | +----------------------------------------------------------------------+
Table 12.48a.1.2: EGPRS mode 2 information element details
+-------------------------------------------------------------+ | **BEP_PERIOD2** (4 bit field)\ | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +-------------------------------------------------------------+ | **Single Downlink Assignment 2 IE** | | | | This information element is defined in sub-clause 12.48a.2. | +-------------------------------------------------------------+ | **Single Uplink Assignment 2 IE** | | | | This information element is defined in sub-clause 12.48a.3. | +-------------------------------------------------------------+ | **Multiple Downlink Assignment 2 IE** | | | | This information element is defined in sub-clause 12.48a.5. | +-------------------------------------------------------------+ | **Multiple Uplink Assignment 2 IE** | | | | This information element is defined in sub-clause 12.48a.6. | +-------------------------------------------------------------+
### 12.48a.2 Single Downlink Assignment 2
This information element provides the description of downlink radio resources
assigned for PS services in a dual carrier configuration or supporting EGPRS2,
Fast Ack/Nack Reporting or RTTI configurations for a single TBF.
Table 12.48a.2.1: Single Downlink Assignment 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | \ | | | | \ > | | | | { 0 -- _Fast Ack/Nack Reporting is not activated for the downlink | | TBF;_ | | | | \| 1 -- _Fast Ack/Nack Reporting is activated for the downlink TBF_ | | | | \ } | | | | { 0 -- _BTTI mode_ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 -- _RTTI mode_ | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH-pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \ | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | \ | | | | } | | | | } | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 _\ _ } | | | | ; | +----------------------------------------------------------------------+
Table 12.48a.2.2: Single Downlink Assignment 2 information element details
+----------------------------------------------------------------------+ | **EGPRS Window Size IE (Downlink EGPRS Window Size)** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **EGPRS Level IE (Downlink EGPRS Level)** | | | | This information element is defined in sub-clause 12.10f. | +----------------------------------------------------------------------+ | **EVENT_BASED_FANR** (1 bit field) | | | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION_C1** , **TIMESLOT_ALLOCATION_C2** (8 bit | | field)**\ | |** See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **DOWNLINK_PDCH_PAIRS_C1** | | | | **DOWNLINK_PDCH_PAIRS_C2** | | | | **UPLINK_PDCH_PAIRS_C1** | | | | **UPLINK_PDCH_PAIRS_C2** | | | | **RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC** | | | | **RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC** | | | | See sub-clause 11.2.31 (Packet Timeslot Reconfigure message). | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field) | | | | This field contains the RLC mode to be used for the assigned TBF. If | | a new mode is assigned by the network for an already established | | TBF, the MS shall ignore the new assigned mode and shall maintain | | the TBF in the old mode. If the RLC_RESET field indicates that any | | given RLC entity is not reset across PS handover (see sub-clause | | 12.42a) or DTM handover (see sub-clause 12.48) then the mobile | | station shall ignore this field and use the same RLC mode that was | | used for the corresponding PFC in the old cell. | | | | The encoding of this field is defined as in sub-clause 11.2.29 | | (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **DOWNLINK_TFI_ASSIGNMENT** (5 bit field)\ | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | _**NPM Transfer Time** (5 bit field)_ | | | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+
### 12.48a.3 Single Uplink Assignment 2
This information element provides the description of uplink radio resources
assigned for PS services in a dual carrier configuration or supporting EGPRS2,
Fast Ack/Nack Reporting or RTTI configurations for a single TBF.
Table 12.48a.3.1: Single Uplink Assignment 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ > } | | | | \ | | | | { 0 \| 1 \ > } | | | | \ > | | | | { 0 \| 1 -- _\'1\' indicates that FANR is activated_ | | | | { 0 -- _SSN-based encoding is selected_ | | | | \| 1 -- _Time-based encoding is selected_ | | | | \ \-- _Carrier 1 in | | Downlink Dual Carrier configuration_ | | | | { 0 \| 1 \ } -- _Carrier 2 | | in Downlink Dual Carrier configuration_ | | | | \ } } | | | | { 0 _\-- BTTI mode_ | | | | \| 1 _\-- RTTI mode_ | | | | \ | | | | _\-- The Uplink Assignment PDCH Pairs Description IE shall not ne | | included_ | | | | _\-- when an RTTI configuration description for downlink TBF(s) is | | provided in the message_ | | | | { 0 \| 1 \ > } | | | | } | | | | \ > | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 \ > } | | | | ; | +----------------------------------------------------------------------+
Table 12.48a.3.2: Single Uplink Assignment 2 information element details
+----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme IE (EGPRS Channel Coding | | Command)\ | |** This information element is defined in sub-clause 12.10d. | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)\ | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **EGPRS Window Size IE (Uplink EGPRS Window Size)** \ | | This information element is defined in sub-clause 12.5.2. | +----------------------------------------------------------------------+ | **EGPRS Level IE (Uplink EGPRS Level)** | | | | This information element is defined in sub-clause 12.10f. | +----------------------------------------------------------------------+ | **REPORTED TIMESLOTS C1,** **REPORTED TIMESLOTS C2** (8 bit field) | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **TSH** (2 bit field) | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **RTTI_USF_MODE** (1 bit field) | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **PDCH Pairs Description IE (Uplink Assignment PDCH Pairs | | Description)** | | | | This information element is defined in sub-clause 12.5.5. | | | | Specific conditions apply for the inclusion of this information | | element (see sub-clause 7.1.3.6). | +----------------------------------------------------------------------+ | **Dynamic Allocation 2 IE** | | | | This information element is defined in sub-clause 12.48a.4. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field) | | | | See sub-clause 12.48a.2 (_Single Downlink Assignment 2_ information | | element). | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **Pulse Format IE** | | | | This information element is defined in sub-clause 12.8.3. | +----------------------------------------------------------------------+
### 12.48a.4 Dynamic Allocation 2
This information element provides the description of the uplink dynamic
allocation information for a BTTI or an RTTI assignment in a single or a dual
carrier configuration with or without power control parameters.
Table 12.48a.4.1: Dynamic Allocation 2 information element
+-------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 -- Allocation without Power Control Parameters | | | | \ | | | | { 0 \| 1 \ } *( val(**N_USF**) + 1) | | | | \| 1 -- Allocation with Power Control Parameters | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 -- _BTTI mode_ | | | | \ | | | | { 0 \| 1 | | | | \ | | | | \ | | | | } * ( val(**N_TS**) + 1) | | | | \| 1 -- _RTTI mode_ | | | | \ | | | | { 0 \| 1 | | | | \ | | | | \ | | | | } * (val(**N_PAIRS**) + 1) | | | | { 0 -- RTTI USF | | | | \| 1 -- BTTI USF | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } | | | | } * (val(**N_PAIRS**) + 1) | | | | } | | | | } | | | | } ; | +-------------------------------------------------------------+
Table 12.48a.4.2: Dynamic Allocation 2 element details
+----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF.\ | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **P0_C1, P0_C2** (4 bit field)\ | | These fields are optional downlink power control parameters. | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', P0_C1 and P0_C2 apply to carrier 1 and carrier 2, | | respectively. The presence of these parameters indicates that | | downlink power control is used for the indicated carrier; otherwise, | | downlink power control is not used for the indicated carrier. If the | | P0_C1 IE is present but the P0_C2 IE is absent, then the P0_C1 IE | | shall apply also to carrier 2. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then P0_C1 shall apply to the carrier specified in the Carrier ID | | field. | | | | These fields are encoded as follows: | | | | bit\ | | 4 3 2 1\ | | 0 0 0 0 P0 = 0 dB\ | | 0 0 0 1 P0 = 2 dB\ | | 0 0 1 0 P0 = 4 dB\ | | :\ | | 1 1 1 1 P0 = 30 dB | +----------------------------------------------------------------------+ | **PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | These fields indicate the PR Management mode, as defined in | | 3GPP TS 45.008. | | | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then PR_MODE_C1 shall apply to the carrier specified in the | | Carrier ID field. Otherwise, PR_MODE_C1 and PR_MODE_C2 shall | | apply to carrier 1 and carrier 2 respectively. If the Assignment | | Type field indicates \'Dual Carrier assignment and the PR_MODE_C1 | | IE is present but the PR_MODE_C2 IE is absent, then the | | PR_MODE_C1 IE shall apply also to carrier 2. It is encoded as | | follows:\ | | 0 PR mode A: for one addressed MS\ | | 1 PR mode B: for all MS | +----------------------------------------------------------------------+ | **USF_GRANULARITY** (1 bit field)\ | | This information field indicates the USF granularity to be applied | | by the mobile station when it is assigned a TBF using Dynamic | | Allocation or Extended Dynamic Allocation. | | | | 0 the mobile station shall transmit one RLC/MAC block\ | | 1 the mobile station shall transmit four consecutive RLC/MAC blocks | +----------------------------------------------------------------------+ | **UPLINK_TFI_ASSIGNMENT** (5 bit field)\ | | This information element, if present, assigns the contained TFI to | | the mobile station to identify an uplink TBF described by this | | message. This field is coded the same as the TFI field defined in | | sub-clause 12.15. | +----------------------------------------------------------------------+ | **N_USF, N_TS** (4 bit field) | | | | **N_PAIRS** (3 bit field) | | | | These fields indicate respectively the number of USF, timeslots or | | PDCH pairs assigned to a given uplink TBF. The number of timeslots | | or PDCH pairs is given as the binary value of the corresponding | | field plus one. | | | | See Annex K for details of the coding of these fields. | +----------------------------------------------------------------------+ | **ALPHA_C1, ALPHA_C2** (4 bit field)\ | | If the Assignment Type field is included and indicates \'Assignment | | on single carrier only\' or \'Modification of existing assignment\', | | then ALPHA_C1 (if present) shall apply to the carrier specified in | | the Carrier ID field. | | | | If the Assignment Type field is included and indicates \'Dual | | Carrier assignment\', ALPHA_C1 and ALPHA_C2 indicate the value of | | the parameter alpha to be applied in power control on carrier 1 and | | carrier 2 respectively. For encoding and description see the Global | | Power Control Parameters IE. If ALPHA_C1 is present and ALPHA_C2 | | is absent, then ALPHA_C1 shall apply to carrier 2. | +----------------------------------------------------------------------+ | **USF, USF_2** (3 bit field) | | | | These fields indicate the USF values assigned to a given TBF for the | | assigned timeslot or PDCH pair. | | | | In the case of RTTI mode with BTTI USF, the USF value specified in | | the USF field (respectively USF_2 field) applies to the first two | | (respectively second two) TDMA frames of the following basic radio | | block period (see sub-clauses 8.1.1.1, 8.1.1.2.1). | | | | These fields are encoded as a binary representation of the USF value | | as defined in sub-clause 10.4.1. | | | | The order in which USF assignments are encoded and the meaning when | | the number of repetitions of the USF is lower than the maximum is | | described in Annex K. | +----------------------------------------------------------------------+ | **GAMMA** (5 bit field)\ | | This field is the binary representation of the parameter ΓCH for MS | | output power control in units of 2 dB, see 3GPP TS 45.008. The field | | is coded according to the following table: | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 ΓCH = 0 dB\ | | 0 0 0 0 1 ΓCH = 2 dB\ | | : : : :\ | | 1 1 1 1 0 ΓCH = 60 dB\ | | 1 1 1 1 1 ΓCH = 62 dB | | | | In the case of RTTI mode with BTTI USF, exactly one GAMMA field | | shall be included for each PDCH pair for which either one or two USF | | values are assigned. | +----------------------------------------------------------------------+
### 12.48a.5 Multiple Downlink Assignment 2
This information element provides the description of downlink radio resources
assigned for PS services in a dual carrier configuration or supporting EGPRS2,
Fast Ack/Nack Reporting or RTTI configurations for a multiple TBF capable
mobile station.
This information element shall only be used by the network for assigning
resources to a mobile station supporting multiple TBF procedures in A/Gb mode
(see sub-clauses 11.2.37, 12.42a and 12.48 and 3GPP TS 24.008).
Table 12.48a.5.1: Multiple Downlink Assignment 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | \ | | | | \ > | | | | { 0 \| 1 -- _BTTI mode_ | | | | \ | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 -- _RTTI mode_ | | | | { 0 -- _Single Carrier Assignment_ | | | | { 00 -- _Default PDCH-pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | { 1 \ > } ** 0 | | | | \| 1 -- _Dual Carrier Assignment_ | | | | { 00 -- _Default PDCH pair configuration_ | | | | \| 01 -- _Unchanged_ | | | | \| 10 -- _Explicit PDCH pair configuration_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | ! \ > \-- _reserved_ | | | | } | | | | { 1 \ > } ** 0 | | | | } | | | | } ; | | | | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | | | | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | | | | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 1 \ > } ** 0 ; | | | | \ :: = | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 _\ _ } | | | | \ | | | | { 0 \| 1 \ > } ; | +----------------------------------------------------------------------+
Table 12.48a.5.2: Multiple Downlink Assignment 2 information element details
+----------------------------------------------------------------------+ | **EGPRS Window Size IE (Downlink EGPRS Window Size)** \ | | This information element is defined in sub-clause 12.5.2. | | | | Specific conditions apply for the interpretation of this information | | element. See sub-clause 11.2.37 (Packet CS Release Indication | | message). | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field) | | | | See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **EGPRS Level IE (Downlink EGPRS Level**) | | | | This information element is defined in sub-clause 12.10f. | +----------------------------------------------------------------------+ | **FANR** (1 bit field) | | | | See sub-clause 11.2.7a (Multiple TBF Downlink Assignment message). | +----------------------------------------------------------------------+ | **DOWNLINK_PDCH_PAIRS_C1** | | | | **DOWNLINK_PDCH_PAIRS_C2** | | | | **UPLINK_PDCH_PAIRS_C1** | | | | **UPLINK_PDCH_PAIRS_C2** | | | | **RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_SC** | | | | **RTTI_DOWNLINK_PDCH_PAIR_ASSIGNMENT_DC** | | | | See sub-clause 11.2.31 (Packet Timeslot Reconfigure message). | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION_C1** , **TIMESLOT_ALLOCATION_C2** (8 bit | | field)**\ | |** See sub-clause 11.2.7 (Packet Downlink Assignment message). | +----------------------------------------------------------------------+ | **Uplink Control Timeslot C1** , **Uplink Control Timeslot C2 (3 bit | | field)** | | | | In case of a BTTI configuration, t**hese fields contain the timeslot | | number on carrier1 (respectively carrier 2) of the timeslot where | | the PACCH/U for the MS is located.** In case of an RTTI | | configuration, **these fields contain the timeslot number of the | | timeslot on carrier1 (respectively carrier 2)** belonging to the | | uplink PDCH pair **where the PACCH/U for the MS is located. They are | | encoded as the binary representation of the timeslot number as | | defined in 3GPP TS 45.002.** | | | | If these fields are included in the _BTTI Multiple Downlink | | Assignment_ IE or in the _RTTI Multiple Downlink Assignment SC / DC_ | | IE, they shall refer to all downlink TBFs assigned in the message. | | If these fields are included in the _Downlink TBF Assignment 2_ IE, | | they refer only to the TBF given by the TFI Assignment field (the | | specific values overrule any default values given in the _BTTI | | Multiple Downlink Assignment_ IE or in the _RTTI Multiple Downlink | | Assignment SC / DC_ IE). If the _Uplink Control Timeslot C1_ / | | _Uplink Control Timeslot C2_ field is not included in the message at | | all, then the default rules for the location of PACCH/U apply. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field shall only be included for TBFs if both the network and | | the mobile station support multiple TBFs. This field contains the | | PFI parameter identifying a Packet Flow Context. The PFI parameter | | is encoded as the contents of the PFI information element as defined | | in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field) | | | | See sub-clause 12.48a.2 (_Single Downlink Assignment 2_ information | | element). | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | See sub-clause 11.2.7a (Multiple TBF Downlink Assignment message). | +----------------------------------------------------------------------+ | **CONTROL_ACK** (1 bit field)\ | | See sub-clause 12.42 (_PS Handover Radio Resources_ information | | element). | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode and is defined in sub-clause 12.45a. | +----------------------------------------------------------------------+ | **EVENT_BASED_FANR** (1 bit field) | | | | See sub-clause 11.2.7a (Multiple TBF Downlink Assignment message). | +----------------------------------------------------------------------+
### 12.48a.6 Multiple Uplink Assignment 2
This information element provides the description of uplink radio resources
assigned for PS services in a dual carrier configuration or supporting EGPRS2,
Fast Ack/Nack Reporting or RTTI configurations for a multiple TBF capable
mobile station.
This information element shall only be used by the network for assigning
resources to a mobile station supporting multiple TBF procedures in A/Gb mode
(see sub-clauses 11.2.37, 12.42a and 12.48 and 3GPP TS 24.008).
Table 12.48a.6.1: Multiple Uplink Assignment 2 information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ > } | | | | \ | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ | | | | \ } } | | | | { 0 \| 1 -- _\'1\' indicates that FANR is activated_ | | | | { 0 -- _SSN-based encoding is selected_ | | | | \| 1 -- _Time-based encoding is selected_ | | | | \ } } | | | | { 0 \| 1 _\-- BTTI mode_ | | | | \ > | | | | { 1 \ > } ** 0 | | | | } | | | | { 0 \| 1 _\-- RTTI mode_ | | | | _\-- The Uplink Assignment PDCH Pairs Description IE shall not ne | | included_ | | | | _\-- when an RTTI configuration description for downlink TBF(s) is | | provided in the message_ | | | | { 0 \| 1 \ > } | | | | \ _\-- Number minus 1 of the uplink pairs | | of the PDCH pairs description_ | | | | _\-- assigned to the TBF_ | | | | { 0 -- _Without power control parameters_ | | | | \| 1 -- _With power control parameters_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } * (val (**N_PAIRS**) + 1) | | | | { 0 _\-- RTTI USF, or no second GAMMA values are given in case of | | RTTI mode with BTTI USF_ | | | | \| 1 _\-- Second GAMMA values are given in case of RTTI mode with | | BTTI USF_ | | | | { 0 \| 1 \ } * (val (**N_PAIRS**) + 1) | | | | } | | | | } | | | | { 1 \ | | | | \ > | | | | } ** 0 | | | | } | | | | \ > | | | | { 0 \| 1 \ > } | | | | ; | +----------------------------------------------------------------------+ | \ ::= _\-- Recursive for | | multiple BTTI TBFs_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 _\-- \'1\':_ _Time-based encoding_ _FANR is activated_ | | | | \ \-- _Carrier 1 in | | Downlink Dual Carrier configuration_ | | | | { 0 \| 1 \ } -- _Carrier 2 | | in Downlink Dual Carrier configuration_ | | | | } | | | | \ | | | | \ _\-- Number minus 1 of the timeslots of | | the Global Timeslot description_ | | | | _\-- assigned to the TBF_ | | | | { 0 _\-- 0: All timeslots in Global Timeslot description are | | assigned to the TBF_ | | | | \| 1 _\-- 1: Only timeslots in TBF_TIMESLOT_ALLOCATION_ _are | | assigned to the TBF_ | | | | \ } | | | | { 0 \ _\-- Same USF valid on all timeslots | | assigned to the TBF on the respective carriers_ | | | | { 0 \| 1 \ \-- _USF for the first assigned timeslot_ | | | | { 0 \| 1 \ } * (val (**N_TS**) + 1) -- _USF | | for next assigned timeslots (omitted=same as previous)_ | | | | } ; | +----------------------------------------------------------------------+ | \ ::= _\-- Recursive for | | multiple RTTI TBFs_ | | | | { 0 \| 1 \ } | | | | \ | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 _\ _ } | | | | { 0 \| 1 _\-- \'1\':_ _Time-based encoding_ _FANR is activated_ | | | | \ \-- _Carrier 1 in | | Downlink Dual Carrier configuration_ | | | | { 0 \| 1 \ } -- _Carrier 2 | | in Downlink Dual Carrier configuration_ | | | | } | | | | \ | | | | { 0 _\-- The PDCH pairs assigned to the TBF are all the PDCH pairs | | described_ | | | | _\-- in the PDCH pairs description_ | | | | \| 1 \ } | | | | { 0 \ | | | | { 0 \| 1 \ \-- _USF for the first assigned PDCH pair_ | | | | { 0 \| 1 \ } * (val (**N_PAIRS**)) -- _Next | | assigned PDCH pairs (omitted=same as previous)_ | | | | { 0 _\-- RTTI USF mode_ | | | | \| 1 _\-- BTTI USF_ mode _(second USF)_ | | | | \ \-- _Second USF for_ _the first assigned | | PDCH pair_ | | | | { 0 \| 1 \ } * (val (**N_PAIRS**)) -- | | _Next assigned PDCH pairs (omitted=same as previous)_ | | | | } | | | | } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 _\-- Without power control parameters_ | | | | \ | | | | { 0 \| 1 \ } | | | | \| 1 _\-- With power control parameters_ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+
Table 12.48a.6.2: Multiple Uplink Assignment 2 information element details
+----------------------------------------------------------------------+ | **EGPRS Modulation and Coding Scheme IE (EGPRS Channel Coding | | Command)\ | |** This information element is defined in sub-clause 12.10d . | | | | Specific conditions apply for the inclusion of this information | | element. See sub-clause 11.2.29a (Multiple TBF Uplink Assignment | | message). | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)\ | | This field is defined in sub-clause 12.10e. | +----------------------------------------------------------------------+ | **EXTENDED_DYNAMIC_ALLOCATION** (1 bit field)\ | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **P0_C1, P0_C2** (4 bit field)\ | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **PR_MODE_C1, PR_MODE_C2** (1 bit field)\ | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **TSH** (2 bit field) | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **Uplink Assignment PDCH Pairs Description** | | | | This information element is defined in sub-clause 12.5.5. | | | | Specific conditions apply for the inclusion of this information | | element (see sub-clause 7.1.3.6). | +----------------------------------------------------------------------+ | **N_TS, N_PAIRS,** | | | | These fields indicate respectively the number of timeslots or PDCH | | pairs assigned to a given uplink TBF. The number of timeslots or | | PDCH pairs is given as the binary value of the corresponding field | | plus one. | | | | See Annex K for details of the coding of these fields. | +----------------------------------------------------------------------+ | **ALPHA_C1,** **ALPHA_C2** (4 bit field)\ | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **GAMMA, GAMMA_TNx_C1, GAMMA_TNx_C2** (5 bit field)\ | | These fields are the binary representation of the parameter ΓCH for | | MS output power control in units of 2 dB, see 3GPP TS 45.008. | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **RTTI_USF_MODE** (1 bit field) | | | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ | **EGPRS Level IE (Uplink EGPRS Level**) | | | | This information element is defined in sub-clause 12.10f. | +----------------------------------------------------------------------+ | **Pulse Format** IE | | | | This information element is defined in sub-clause 12.8.3. | +----------------------------------------------------------------------+ | **PFI (7 bit field)** | | | | This field shall only be included for TBFs if both the network and | | the mobile station support multiple TBFs. This field contains the | | PFI parameter identifying a Packet Flow Context. The PFI parameter | | is encoded as the contents of the PFI information element as defined | | in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field) | | | | See sub-clause 12.48a.2 (_Single Downlink Assignment 2_ information | | element). | +----------------------------------------------------------------------+ | **TFI Assignment** (5 bit field)\ | | See sub-clause 11.2.29a (Multiple TBF Uplink Assignment message). | +----------------------------------------------------------------------+ | **EGPRS Window Size IE (Uplink EGPRS Window Size)** \ | | This information element is defined in sub-clause 12.5.2. | | | | Specific conditions apply for the interpretation of this information | | element. See sub-clause 11.2.37 (Packet CS Release Indication | | message). | +----------------------------------------------------------------------+ | **_NPM Transfer Time_ _(5 bit field)_ | | | | This field contains the NPM Transfer Time limitation in case of RLC | | non-persistent mode and is defined in sub-clause 12.45a. | +----------------------------------------------------------------------+ | **REPORTED TIMESLOTS C1,**** REPORTED TIMESLOTS C2**(8 bit field) | | | | See sub-clause 11.2.7a (Multiple TBF Downlink Assignment message). | +----------------------------------------------------------------------+ |** USF_GRANULARITY**(1 bit field)\ | | See sub-clause 11.2.29 (Packet Uplink Assignment message). | +----------------------------------------------------------------------+ |** TBF_TIMESLOT_ALLOCATION (N_TS+1 bit field)**| | | |** This field indicates the timeslots assigned to a particular uplink | | TBF, within the timeslots assigned to the mobile station in the | | _Global Timeslot description_. This field contains as many bits as | | there are timeslots assigned to the mobile station in the _Global | | Timeslot description_. Bit N_TS+1 corresponds to the lowest | | numbered timeslot in the timeslots assigned to the mobile station; | | bit N_TS (if any) corresponds to the next lowest numbered timeslot, | | etc. At least one timeslot must be assigned per TBF.**| | | |** 0 Timeslot not assigned\ | | 1 Timeslot assigned**| | | |** \ | | **If the TBF_TIMESLOT_ALLOCATION bitmap is present, then the | | timeslots assigned to the TBF are a subset of all the timeslots | | assigned in the _Global Timeslot description_ , otherwise all | | timeslots in the _Global Timeslot description_ are assigned to the | | TBF. | +----------------------------------------------------------------------+ | **TBF_UPLINK_PAIRS_ALLOCATION**(N_PAIRS+1 bit field) | | | |** This field indicates the PDCH pairs assigned to a particular | | uplink TBF within the uplink PDCH pairs assigned to the mobile | | station, i.e. within the**RTTI configuration description for | | downlink TBF(s) if provided, otherwise** within the**_Uplink | | Assignment PDCH Pairs Description_ IE (see sub-clause 7.1.3.6)**. | | This field contains as many bits as there are uplink PDCH pairs | | assigned to the mobile station. Bit N_TS+1 corresponds to the | | lowest numbered uplink PDCH pair assigned to the mobile station; bit | | N_TS (if any) corresponds to the next lowest numbered**PDCH | | pair** , etc. (**PDCH pairs numbering should be understood as defined | | in Annex K**). At least one PDCH pair must be assigned per TBF.**| | | |** 0 PDCH pair not assigned\ | | 1 PDCH pair assigned**| | | |** \ | | **If the TBF_UPLINK_PAIRS_ALLOCATION bitmap is present, then the | |** PDCH pairs**assigned to the TBF are a subset of all the uplink | |** PDCH pairs**assigned to the mobile station, otherwise all uplink | |** PDCH pairs assigned to the mobile station**are assigned to the | | TBF. | +----------------------------------------------------------------------+ |** USF_C1, USF_C2**(3 bit field) | | | | These fields indicate the USF value assigned to a given TBF for all | | timeslots or PDCH pairs on the relevant carrier. | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', USF_C1 applies to carrier 1, otherwise it applies to | | the carrier identified by the Carrier ID field. | | | | If the Assignment Type field is present and indicates \'Dual Carrier | | assignment\', and USF_C1 is present and USF_C2 is absent, the | | value specified by USF_C1 applies to timeslots assigned on both | | carriers. | | | | These fields are encoded as a binary representation of the USF value | | as defined in sub-clause 10.4.1. | +----------------------------------------------------------------------+ |** USF, USF_2**(3 bit field) | | | | These fields indicate the USF values assigned to a given TBF for the | | assigned timeslot or PDCH pair. | | | | In the case of RTTI mode with BTTI USF, the USF value specified in | | the USF field (respectively USF_2 field) applies to the first two | | (respectively second two) TDMA frames of the following basic radio | | block period (see sub-clauses 8.1.1.1, 8.1.1.2.1). | | | | These fields are encoded as a binary representation of the USF value | | as defined in sub-clause 10.4.1. | | | | If no USF is specified for a given timeslot or PDCH pair assigned to | | a TBF, then the USF value is the same as the previously indicated | | USF value. | | | | The order in which USF assignments are encoded is described in Annex | | K. | +----------------------------------------------------------------------+ |** MS_TIMESLOT_ALLOCATION_C1, MS_TIMESLOT_ALLOCATION_C2\ | | **See sub-clause 11.2.29a (Multiple TBF Uplink Assignment message). | | | | As the explicit power control parameters are omitted for the | | allocated timeslots in the new cell, the mobile station shall use | | the default values (see 3GPP TS 45.008) for the power control | | parameters. | +----------------------------------------------------------------------+
## 12.49 E-UTRAN Target Cell
The _E-UTRAN Target cell_ information element contains the description of an
E-UTRAN Target cell.
Table 12.49.1: _E-UTRAN Target cell_ information element
+-----------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | \ ; | +-----------------------------------------------------+
Table 12.49.2: _E-UTRAN Target cell_ information element details
* * *
**EARFCN** (16 bit field)\ This information element is defined as the EARFCN
in 3GPP TS 36.104.
**Measurement Bandwidth** (3 bit field)\ This optional field describes the
bandwidth of the E-UTRAN cell for measurement purposes. The coding of this
field is as specified in sub-clause 12.53.
**Physical Layer Cell Identity** (9 bit field)\ This field indicates the
physical layer cell identity as defined in 3GPP TS 36.211.
* * *
## 12.50 Individual Priorities
This information element is sent to provide MS-specific priorities for
priority-based cell reselection (see 3GPP TS 45.008). The individual
priorities shall override the priorities received through system information
or previously received individual priorities. The timer T3230 is used to
control the validity of the individual priorities.
Table 12.50.1:  _Individual priorities_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| -- delete all stored individual priorities | | | | 1 -- provide individual priorities | | | | \ | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ } | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 1 \> } ** | | 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 { 1 \ } ** 0 \| 1 { 1 \ } ** 0 } | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ } | | | | { 1 \> } | | ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 \ } ** 0 | | | | \ ; | +----------------------------------------------------------------------+
Table 12.50.2: _Individual priorities_ information element details
+----------------------------------------------------------------------+ | **GERAN_PRIORITY** (3 bit field) | | | | **UTRAN_PRIORITY** (3 bit field) | | | | **E-UTRAN_PRIORITY** (3 bit field) | | | | These fields are used for the inter-RAT cell re-selection algorithm | | based on priority information, see sub-clauses 12.51, 12.52 and | | 12.53. | | | | **DEFAULT_UTRAN_PRIORITY** (3 bit field) | | | | **DEFAULT_E-UTRAN_PRIORITY** (3 bit field) | | | | The DEFAULT_UTRAN_PRIORITY field is encoded as the UTRAN_PRIORITY | | field; the DEFAULT_E-UTRAN_PRIORITY field is encoded as the | | E-UTRAN_PRIORITY field. Any UTRAN frequency contained in the 3G | | Frequency list and not explicitly listed in any occurrence of the | | _Repeated Individual UTRAN Priority Parameters_ IE or any E-UTRAN | | frequency contained in the E-UTRAN Neighbour Cell list and not | | explicitly listed in any occurrence of the _Repeated Individual | | E-UTRAN Priority Parameters_ IE shall be assigned the corresponding | | default value. If the _Repeated Individual UTRAN Priority | | Parameters_ IE is not present, every UTRAN frequency in the 3G | | Frequency list for the serving cell shall be assigned the default | | value. If the _Repeated Individual E-UTRAN Priority Parameters_ IE | | is not present, every E-UTRAN frequency in the E-UTRAN Neighbour | | Cell list for the serving cell shall be assigned the default value.. | +----------------------------------------------------------------------+ | **FDD-ARFCN** (14 bit field) | | | | **TDD-ARFCN** (14 bit field) | | | | **EARFCN** (16 bit field) | | | | These fields are used to indicate the frequencies for which | | priorities are provided, see sub-clauses 11.2.21b and 12.53. | +----------------------------------------------------------------------+ | **T3230 timeout value** (3 bit field) | | | | The timer uses 3 bits to indicate the time for which the signalled | | individual priorities are valid: | | | | 0 0 0 5 minute timeout; | | | | 0 0 1 10 minute timeout; | | | | 0 1 0 20 minute timeout; | | | | 0 1 1 30 minute timeout; | | | | 1 0 0 60 minute timeout; | | | | 1 0 1 120 minute timeout; | | | | 1 1 0 180 minute timeout; | | | | 1 1 1 reserved for future use; if received, it shall be interpreted | | by the mobile station as \"110\"; | | | | If this information element is not present, the mobile station shall | | consider the signalled individual priorities to be valid until the | | occurrence of one of the conditions specified in subclause | | 5.5.1.1c.3. | +----------------------------------------------------------------------+
## 12.51 GSM Priority Parameters
This information element is sent to provide priority information about the
serving cell and other GSM cells.
Table 12.51.1: _GSM priority parameters_ information element
+---------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \; | +---------------------------------------------+
Table 12.51.2: _GSM priority parameters_ information element details
* * *
**GERAN_PRIORITY** (3 bit field)\ **THRESH_Priority_Search** (4 bit field)\
**THRESH_GSM_low** (4 bit field)\ **H_PRIO** (2 bit field)\ **T_Reselection**
(2 bit field)\ These fields are used for the inter-RAT cell re-selection
algorithm based on priority, as defined in 3GPP TS 45.008.
* * *
## 12.52 3G Priority Parameters
This information element is sent to provide priority information about
neighbouring UTRAN cells.
Table 12.52.1: _3G priority parameters_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ | | | | \ | | | | \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::=\ | | { 1 \ } ** 0 | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+
Table 12.52.2:  _3G priority parameters_ information element details
+----------------------------------------------------------------------+ | **DEFAULT_UTRAN_PRIORITY** (3 bit field)\ | | **DEFAULT_THRESH_UTRAN** (5 bit field)\ | | **DEFAULT_UTRAN_QRXLEVMIN** (5 bit field)\ | | These fields are used for the inter-RAT cell re-selection algorithm | | based on priority, as defined in 3GPP TS 45.008. Any UTRAN frequency | | added or modified in the Packet Measurement Order message (full set | | of instances) and not explicitly listed in the Repeated UTRAN | | Priority Parameters structure shall be assigned these default | | parameter values. The value of DEFAULT_THRESH_UTRAN shall apply to | | both THRESH_UTRAN_high and THRESH_UTRAN_low. | +----------------------------------------------------------------------+ | **Repeated UTRAN Priority Parameters** | | | | **UTRAN_FREQUENCY_INDEX** (5 bit field)\ | | This field is an index into the 3G Frequency list (see sub-clause | | 5.6.3.7b). | | | | **UTRAN_PRIORITY** (3 bit field)\ | | **THRESH_UTRAN_high** (5 bit field)\ | | **THRESH_UTRAN_low** (5 bit field)\ | | **UTRAN_QRXLEVMIN** (5 bit field) | | | | These fields are used for the inter-RAT cell re-selection algorithm | | based on priority, as defined in 3GPP TS 45.008. These parameters | | apply to each UTRAN frequency indexed within the structure. | | | | If THRESH_UTRAN_low is not present, then THRESH_UTRAN_low shall | | take on the same value as THRESH_UTRAN_high. | | | | Any parameter present overwrites any old data held by the mobile | | station for these parameters. | +----------------------------------------------------------------------+
## 12.53 E-UTRAN Parameters
This information element is sent to provide information about E-UTRAN
frequencies and priority information about neighbouring E-UTRAN cells.
Table 12.53.1: _E-UTRAN parameters_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \> } | | | | { 1 \> } ** 0 | | | | { 1 \> } ** 0 | | | | { 1 \> } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } | | | | { 0 \| 1 \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } } ; | +----------------------------------------------------------------------+ | \ ::=\ | | { 1 \ | | | | { 0 \| 1 \ } } ** 0 | | | | { 0 \| 1 \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \> | | | | { 1 \ } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 1 -- each repetition corresponds to a different TA | | | | \> \-- group of PCIDs | | belonging to the same TA | | | | } ** 0 | | | | { 1 \ } ** 0 ; | +----------------------------------------------------------------------+
Table 12.53.2:  _E-UTRAN parameters_ information element details
+----------------------------------------------------------------------+ | **E-UTRAN_CCN_ACTIVE** (1 bit field)\ | | This field indicates whether CCN is enabled towards E-UTRAN | | neighbouring cells. It is coded as follows: | | | | 0 The broadcast E-UTRAN_CCN_ACTIVE parameter shall apply if | | available. Otherwise, CCN towards E-UTRAN cells is disabled in the | | cell. | | | | 1 CCN towards E-UTRAN cells is enabled in the cell. | +----------------------------------------------------------------------+ | **GPRS E-UTRAN Measurement Parameters** | | | | **Qsearch_P_E-UTRAN** (4 bit field)\ | | **E-UTRAN_REP_QUANT** (1 bit field)**\ | | E-UTRAN_MULTIRAT_REPORTING** (2 bit field)\ | | **E-UTRAN_FDD_REPORTING_THRESHOLD** (3 bit field)**\ | | E-UTRAN_FDD_REPORTING_THRESHOLD_2** (6 bit field)**\ | | E-UTRAN_FDD_REPORTING_OFFSET** (3 bit field)**\ | | E-UTRAN_TDD_REPORTING_THRESHOLD** (3 bit field)\ | | **E-UTRAN_TDD_REPORTING_THRESHOLD_2** (6 bit field)**\ | | E-UTRAN_TDD_REPORTING_OFFSET** (3 bit field)**\ | |** These fields control the measurement and reporting of E-UTRAN | | cells, as defined in 3GPP TS 45.008. | | | | If both TDD and FDD frequencies are provided in the Repeated E-UTRAN | | Neighbour Cells IE and the E-UTRAN reporting thresholds are present | | for only one mode (i.e. TDD or FDD), then the parameter values for | | both modes shall be interpreted as having the same values. | | | | If any of these parameters is included in more than one instance of | | the PACKET MEASUREMENT ORDER message, the value of the _parameter | | in_ the instance with the highest PMO_INDEX shall be used. | +----------------------------------------------------------------------+ | **Repeated E-UTRAN Neighbour Cells** | | | | If E-UTRAN cells or frequencies are included in the neighbour cell | | list, this information element may be included in the message. | | | | **EARFCN** (16 bit field)\ | | This field specifies the E-UTRA Absolute Radio Frequency Channel | | Number as defined in 3GPP TS 36.104. | | | | **Measurement Bandwidth** (3 bit field)**\ | |** This field specifies the minimum value of the channel bandwidth of | | all valid E-UTRAN cells on the specified EARFCN. It is defined by | | the parameter Transmission Bandwidth Configuration, N~RB~ (see 3GPP | | TS 36.104). The values indicate the number of resource blocks over | | which the mobile station could measure. The field is coded according | | to the following table: | | | | bit\ | | 3 2 1\ | | 0 0 0 N~RB~ = 6\ | | 0 0 1 N~RB~ = 15\ | | 0 1 0 N~RB~ = 25\ | | 0 1 1 N~RB~ = 50\ | | 1 0 0 N~RB~ = 75\ | | 1 0 1 N~RB~ = 100\ | | All others Reserved for future use. If received by the mobile | | station, it shall be interpreted as \'101\'. | | | | When missing, this indicates N~RB~ = 6. | | | | **E-UTRAN_PRIORITY** (3 bit field)\ | | **THRESH_E-UTRAN_high** (5 bit field)\ | | **THRESH_E-UTRAN_low** (5 bit field)\ | | If THRESH_E-UTRAN_low is not present, then THRESH_E-UTRAN_low | | shall take on the same value as THRESH_E-UTRAN_high.\ | | **E-UTRAN_QRXLEVMIN** (5 bit field) | | | | These fields are used for the inter-RAT cell re-selection algorithm | | based on priority, as defined in 3GPP TS 45.008. These values apply | | to each of the EARFCN values listed within this structure. | +----------------------------------------------------------------------+ | **Repeated E-UTRAN Not Allowed Cells struct** | | | | This structure identifies Not Allowed Cells with zero or more | | corresponding E-UTRAN frequency indices. If no | | E-UTRAN_FREQUENCY_INDEX is present, the Not Allowed Cells IE is | | applicable to all E-UTRAN frequencies specified in the Repeated | | E-UTRAN Neighbour Cells struct(s). | | | | **E-UTRAN_FREQUENCY_INDEX** (3 bit field)\ | | This field contains the index into the frequencies specified as part | | of the E-UTRAN Neighbour Cell list. A value of 0 refers to the first | | E-UTRAN frequency (EARFCN) defined in the list. A value of 1 refers | | to the second defined frequency and so on. | +----------------------------------------------------------------------+ | **Not Allowed Cells** \ | | This information element identifies one or more E-UTRAN cells by | | means of their physical layer cell identities (see 3GPP TS 36.211). | | The mobile station shall not perform measurements or attempt | | reselection to these cells. This information element is defined as | | the PCID Group IE described in subclause 12.57. | +----------------------------------------------------------------------+ | **PCID to TA mapping** \ | | This information element identifies, on the frequency or frequencies | | that this information element is associated with, one or more | | E-UTRAN cells by means of their physical layer cell identities (see | | 3GPP TS 36.211) that belong to the same Tracking Area. If no PCIDs | | or groups of PCIDs are indicated within this structure, then all | | PCIDs belong to the same Tracking Area. | | | | This information element is defined as the PCID Group IE described | | in 3GPP TS 44.060. | +----------------------------------------------------------------------+
## 12.54 3G CSG Description
The _3G CSG Description_ information element contains the description of 3G
CSG cells. The fields of this description are used for inter-RAT cell
reselection to UTRAN CSG cells as defined in 3GPP TS 45.008.
Table 12.54.1: _3G CSG Description_ information element
+---------------------------------------------------------------------+ | \ ::= | | | | { 1 \> | | | | { 1 \ } ** 0 } ** 0 ; | +---------------------------------------------------------------------+
Table 12.54.2: _3G CSG Description_ information element details
* * *
**UTRAN_FREQUENCY_INDEX (5 bit field)\** Each instance of this field describes
a UTRAN frequency in the 3G Neighbour Cell list where the CSG PSC SPLIT is
valid. If the CSG_PSC_SPLIT IE is present but there are no instances of this
field present in the message, then the CSG PSC SPLIT shall apply to all UTRAN
frequencies in the 3G Neighbour Cell list. This field is described in sub-
clause 12.52.
**CSG_PSC_SPLIT** \ This information element identifies one or more primary
scrambling code values for UTRAN FDD cells (see 3GPP TS 25.213) or cell
parameter values for UTRAN TDD cells (see 3GPP TS 25.223) as being reserved
for CSG cells. The range of reserved primary scrambling codes or cell
parameters applies to all UTRAN frequencies specified in the list of
frequencies.\ This information element is defined as the PSC Group IE
described in subclause 12.58.
* * *
## 12.55 E-UTRAN CSG Description
The _E-UTRAN CSG Description_ information element contains the description of
E-UTRAN CSG cells. The fields of this description are used for inter-RAT cell
reselection to E-UTRAN CSG cells as defined in 3GPP TS 45.008.
Table 12.55.1: _E-UTRAN CSG description_ information element
+-----------------------------------------------------------------------+ | \ ::= | | | | { 1 \> | | | | { 1 \ } ** 0 } ** 0 ; | +-----------------------------------------------------------------------+
Table 12.55.2: _E-UTRAN CSG description_ information element details
* * *
**E-UTRAN_FREQUENCY_INDEX (3 bit field)\** Each instance of this field
describes an E-UTRAN frequency in the E-UTRAN Neighbour Cell list where the
CSG PCI SPLIT is valid. If the CSG_PCI_SPLIT information element is present
but there are no instances of this field present in the message, then the CSG
PCI SPLIT shall apply to all E-UTRAN frequencies in the E-UTRAN Neighbour Cell
list. This field is described in sub-clause 12.53.
**\ CSG_PCI_SPLIT** \ This information element identifies one or more E-UTRAN
physical layer cell identities (see 3GPP TS 36.211) as being reserved for CSG
cells. The range of reserved physical layer cell identities applies to all
E-UTRAN frequencies specified in the list of frequencies. This information
element is defined as the PCID Group IE in sub-clause 12.57.
* * *
## 12.56 Measurement Control Parameters Description
This information element is sent to provide the measurement control
information about UTRAN frequencies and E-UTRAN frequencies. The fields of
this description are used for inter-RAT cell measurement.
Table 12.56.1: _Measurement control parameters description_ information
element
+-------------------------------------------------------------+ | \ :: = | | | | { 0 \| 1 _\ _ | | | | \ | | | | { 1 \ } ** 0 | | | | } | | | | { 0 \| 1 _\ _ | | | | \ | | | | { 1 \ } ** 0 | | | | } ; | +-------------------------------------------------------------+
Table 12.56.2: _Measurement control parameters description_ information
element details
+----------------------------------------------------------------------+ | **_Measurement_Control_E-UTRAN_** (1 bit field)\ | | This field controls the measurement of E-UTRAN cells for the | | specified EARFCNs indicated by the E-UTRAN_FREQUENCY_INDEX values, | | as defined in 3GPP TS 45.008. If this field is not present, all | | EARFCNs in the E-UTRAN Neighbour Cell list shall behave according to | | the behaviour controlled by the Qsearch_P_E-UTRAN. | | | | All E-UTRAN frequency indices received in this instance of the | | information element shall take the value of parameter | | Measurement_Control_E-UTRAN. All other E-UTRAN frequency indices | | in the E-UTRAN Neighbour Cell list shall take the opposite value to | | that of the received Measurement_Control_E-UTRAN. | +----------------------------------------------------------------------+ | **E-UTRAN_FREQUENCY_INDEX** (3 bit field)\ | | This field is described in sub-clause 12.53. | +----------------------------------------------------------------------+ | **_Measurement_Control_UTRAN_** (1 bit field)\ | | This field controls the measurement of UTRAN cells for the specified | | UARFCNs indicated by the UTRAN_FREQUENCY_INDEX values, as defined | | in 3GPP TS 45.008. If this field is not present, all UARFCNs in 3G | | Neighbour Cell list shall behave according to the behaviour | | controlled by the Qsearch_P. | | | | All UTRAN frequency indices received in this instance of the | | information element shall take the value of parameter | | Measurement_Control_UTRAN. All other UTRAN frequency indices in | | the 3G Neighbour Cell list shall take the opposite value to that of | | the received Measurement_Control_UTRAN. | +----------------------------------------------------------------------+ | **UTRAN_FREQUENCY_INDEX** (5 bit field)\ | | This field is described in sub-clause 12.52. | +----------------------------------------------------------------------+
## 12.57 PCID Group
The _PCID Group_ information element contains the description of a group of
one or more physical layer cell identities for E-UTRAN cells (see 3GPP TS
36.211).
Table 12.57.1: _PCID Group_ information element
+------------------------------------------------------------------+ | \ ::= | | | | { 1 \ } ** 0 -- explicit PCID coding | | | | { 0 \| 1 \ } | | | | { 1 \ | | | | \ | | | | \ | | | | } ** 0 ; | +------------------------------------------------------------------+
Table 12.57.2: _PCID Group_ information element details
+----------------------------------------------------------------------+ | **PCID** (9 bit field)\ | | This field specifies the physical layer cell identity of a single | | E-UTRAN cell. | +----------------------------------------------------------------------+ | **PCID_BITMAP_GROUP** (6 bit field)\ | | Each bit number n, where n can take the value from 1 to 6, | | represents the group of PCID values in the range (n-1) * 84 to | | (n*84)-1 inclusive. | | | | When this field is received as part of the Not Allowed Cells IE, if | | bit number n is set to \'1\', then all cells whose PCID belongs to | | the group identified by that bit are not allowed; correspondingly, | | if bit number n is set to \'0\', then all cells whose PCID belongs | | to that group are allowed. | | | | When this field is received as part of the CSG_PCI_SPLIT IE, if | | bit number n is set to \'1\', then all cells whose PCID belongs to | | the group identified by that bit are part of the CSG; | | correspondingly, if bit number n is set to \'0\', then all cells | | whose PCID belongs to that group are not part of the CSG. | | | | When this field is received as part of the PCID to TA mapping IE, if | | bit number n is set to \'1\', then all cells whose PCID belongs to | | the group identified by that bit are part of the same TA, | | correspondingly, if bit number n is set to \'0\', then all cells | | whose PCID belongs to that group are not part of the same TA. | +----------------------------------------------------------------------+ | **PCID_Pattern_length** (3 bit field)\ | | **PCID_Pattern** \ | | **PCID_pattern_sense** (1 bit field)\ | | If the PCID_pattern_sense bit is equal to \'0\' then the group of | | identified cells are those where the most significant bits of the | | physical layer cell identity are equal to \"PCID_pattern\". If the | | PCID_pattern_sense bit is equal to \'1\' then the group of | | identified cells is all those where the most significant bits of the | | physical layer cell identity are not equal to the PCID_pattern. | +----------------------------------------------------------------------+
## 12.58 PSC Group
The _PSC Group_ information element contains the description of a group of one
or more primary scrambling codes for UTRAN FDD cells (see 3GPP TS 25.213) or a
group of one or more cell parameters for UTRAN TDD cells (see 3GPP TS 25.223).
Table 12.58.1: _PSC Group_ information element
+--------------------------------------------------------------+ | \ ::= | | | | { 1 \ } ** 0 -- explicit PSC coding | | | | { 1 \ | | | | \ | | | | \ | | | | } ** 0 ; | +--------------------------------------------------------------+
Table 12.58.2: _PSC Group_ information element details
* * *
**PSC** (9 bit field)\ This field specifies the primary scrambling code of a
single FDD cell or the cell parameter of a single TDD cell. For TDD cells, the
Cell Parameter is contained in the 7 least significant bits of the field; the
2 most significant bits are ignored.
**PSC_Pattern_length** (3 bit field)\ **PSC_Pattern** \ **PSC_pattern_sense**
(1 bit field)\ If the PSC_pattern_sense bit is equal to \'0\' then the group
of identified codes are those where the most significant bits of the primary
scrambling code or the cell parameter are equal to \"PSC_pattern\". If the
PSC_pattern_sense bit is equal to \'1\' then the group of identified codes is
all those where the most significant bits of the primary scrambling code or
cell parameter are not equal to the PSC_pattern. For TDD frequencies, if the
pattern contains more than 6 bits only the most significant 6 bits shall be
used.
* * *
# 13 Timers and counters
The tables in sub-clause 13.1 and 13.2 specify the timers used in RLC/MAC
protocol signalling. The denotation of columns is defined as follows:
> timer ::= name of the timer;
>
> started ::= under which conditions the timer is started;
>
> stopped ::= under which conditions the timer is stopped;
>
> action at expiry ::= which actions the GPRS entity shall perform at expiry;
>
> value ::= the duration between setting the timer and expiry of the timer
> (\"s\" denotes\ \"second(s)\" \"xx - yy\" means that any value between xx
> and yy is permitted).
## 13.1 Timers on the Mobile Station side
For each timer, it is shown whether one timer instance is needed per MS, per
TBF/MBMS radio bearer, per MS_ID or per RLC/MAC control message.
Table 13.1.1: Specification of timers used in GPRS on the Mobile Station side
+-------------+-------------+-------------+-------------+-------------+ | timer | started | stopped | action at | value | | | | | expiry | | +-------------+-------------+-------------+-------------+-------------+ | T3158 (per | Started | See | Restart the | Defined by | | MS) | when | 3GP | timer, | the | | | ordered by | P TS 45.008 | perform the | parameter | | | a | | measurement | or by a | | | N | | and send a | random | | | ETWORK_CON | | NC | value (see | | | TROL_ORDER | | Measurement | 3GPP | | | and then | | report. The | TS 45.008) | | | restarted | | timer shall | | | | each time a | | be | | | | Network | | restarted | | | | Controlled | | with either | | | | (NC) | | of the | | | | Measurement | | parameters | | | | is | | NC | | | | performed | | _REPORTING | | | | in MM Ready | | _PERIOD_I | | | | state and | | when in | | | | in packet | | packet idle | | | | idle or | | mode or | | | | packet | | MAC-Idle | | | | transfer | | state or | | | | mode in | | with the | | | | _A/Gb mode_ | | parameter | | | | and in | | NC | | | | RRC-C | | _REPORTING | | | | ell_Shared | | _PERIOD_T | | | | state and | | when in | | | | MAC-Idle or | | packet | | | | MAC-Shared | | transfer | | | | state in | | mode or | | | | _Iu mode_. | | MAC-Shared | | | | | | state | | +-------------+-------------+-------------+-------------+-------------+ | T3162 (per | On receipt | On receipt | Abort | 5 s | | MS) | of a PACKET | of a | packet | | | | QUEUING | PA | access | | | | N | CKET UPLINK | procedure; | | | | OTIFICATION | ASSIGNMENT | indicate | | | | | | packet | | | | | | access | | | | | | failure to | | | | | | upper | | | | | | layers and | | | | | | return to | | | | | | packet idle | | | | | | mode or | | | | | | MAC-Idle | | | | | | state | | | | | | listening | | | | | | to its | | | | | | paging | | | | | | subchannel | | +-------------+-------------+-------------+-------------+-------------+ | T3164 (per | On receipt | At sending | See | 5 s | | TBF) | of a | of the | sub-clause | | | | PA | first | 7.1.4. | | | | CKET UPLINK | RLC/MAC | (A/Gb mode) | | | | ASSIGNMENT | block | or | | | | or MULTIPLE | | 3GP | | | | TBF | | P TS 44.160 | | | | UPLINK | | sub-clause | | | | ASSIGNMENT | | 7.2.5 (Iu | | | | message. A | | mode). | | | | separate | | | | | | instance of | | | | | | T3164 is | | | | | | started for | | | | | | each TBF | | | | | | for which | | | | | | resources | | | | | | were | | | | | | assigned. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3166 (per | At sending | On receipt | Immediately | 5 s | | MS) | of the | of a | stop | | | | first | PACKET UPLI | t | | | | RLC/MAC | NK ACK/NACK | ransmitting | | | | block at | | on the | | | | one phase | | assigned | | | | access | | TBF; a TBF | | | | | | es | | | | | | tablishment | | | | | | failure has | | | | | | occurred or | | | | | | the | | | | | | contention | | | | | | resolution | | | | | | procedures | | | | | | has failed | | +-------------+-------------+-------------+-------------+-------------+ | T3168 (per | At sending | On receipt | Reinitiate | Set to 2 | | TBF) | the PACKET | of a | the packet | times the | | | RESOURCE | PAC | access | value of | | | REQUEST | KET UPLINK | procedure | T3168 sent | | | message, | ASSIGNMENT, | or | as part of | | | (Extended) | MULTIPLE | retransmit | system | | | Channel | TBF UPLINK | the PACKET | broadcast | | | Request | ASSIGNMENT, | RESOURCE | information | | | Description | PACKET | REQUEST or | if the | | | IE in | TIMESLOT | PA | total | | | PA | RECONFIGURE | CKET DOWNLI | number of | | | CKET DOWNLI | or a | NK ACK/NACK | TBFs | | | NK ACK/NACK | MULTIPLE | for the | requested | | | or the | TBF | TBFs that | is greater | | | PACKET | TIMESLOT | have not | than 1. | | | CONTROL | RECONFIGURE | been | Otherwise, | | | ACKN | message | assigned | it shall be | | | OWLEDGEMENT | that | resources. | set to the | | | message | assigns | | value of | | | requesting | resources | | T3168 sent | | | new TBF. A | to an | | as part of | | | separate | uplink TBF | | system | | | instance of | for which | | broadcast | | | T3168 is | T3168 is | | i | | | started for | running. On | | nformation. | | | each TBF | receipt of | | | | | for which | a PACKET | | | | | resources | ACCESS | | | | | were | REJECT | | | | | requested. | message | | | | | | that | | | | | | rejects one | | | | | | or more | | | | | | uplink TBFs | | | | | | for which | | | | | | T3168 is | | | | | | running. | | | +-------------+-------------+-------------+-------------+-------------+ | T3170 (per | After | On receipt | Abort | Defined by | | MS) | having made | of a | packet | parameters | | | M + 1 | PA | access | TX_INT and | | | attempts to | CKET UPLINK | procedure. | S | | | send a | ASSIGNMENT | In case of | | | | PACKET | or | the expiry | | | | CHANNEL | PACK | after | | | | REQUEST or | ET DOWNLINK | having made | | | | EGPRS | ASSIGNMENT | M+1 | | | | PACKET | or PACKET | attempts to | | | | CHANNEL | QUEUING | send a | | | | REQUEST or | N | PACKET | | | | MPRACH | OTIFICATION | CHANNEL | | | | PACKET | message. | REQUEST or | | | | CHANNEL | | EGPRS | | | | REQUEST | | PACKET | | | | message (if | | CHANNEL | | | | at least | | REQUEST or | | | | one message | | MPRACH | | | | was | | PACKET | | | | transmitted | | CHANNEL | | | | by the | | REQUEST | | | | mobile | | message, | | | | station), | | indicate a | | | | or on | | random | | | | receipt of | | access | | | | a PACKET | | failure to | | | | ACCESS | | upper | | | | REJECT | | layers and | | | | message. | | perform | | | | | | autonomous | | | | | | cell | | | | | | re | | | | | | -selection. | | | | | | In case of | | | | | | the expiry | | | | | | following | | | | | | the receipt | | | | | | of a PACKET | | | | | | ACCESS | | | | | | REJECT | | | | | | message, | | | | | | indicate a | | | | | | packet | | | | | | access | | | | | | failure to | | | | | | upper | | | | | | layers and | | | | | | return to | | | | | | packet idle | | | | | | mode or | | | | | | MAC-Idle | | | | | | state. | | +-------------+-------------+-------------+-------------+-------------+ | T3172 (per | On receipt | On receipt | Packet | assigned in | | TBF) | of a PACKET | of a | Access in | message | | | ACCESS | PA | the cell no | | | | REJECT | CKET UPLINK | longer | | | | message an | ASSIGNMENT | prohibited | | | | instance of | message or | | | | | T3172 is | MULTIPLE | | | | | started for | TBF UPLINK | | | | | each of the | ASSIGNMENT | | | | | TBFs that | that | | | | | have been | assigns | | | | | rejected. | resources | | | | | | to the TBF | | | | | | for which | | | | | | T3172 is | | | | | | running. | | | +-------------+-------------+-------------+-------------+-------------+ | T3174 (per | On receipt | On the | Return to | 15 s | | MS) | of a PACKET | successful | old cell, | | | | CELL CHANGE | completion | perform | | | | ORDER | or the | cell update | | | | message | occurrence | (or other | | | | | of an | GMM | | | | | abnormal | specific | | | | | condition | procedure) | | | | | in the | and send | | | | | network | PACKET CELL | | | | | controlled | CHANGE | | | | | cell | FAILURE | | | | | reselection | | | | | | procedure | | | +-------------+-------------+-------------+-------------+-------------+ | T3176 (per | Expiry of | After | Stop | 15 s | | MS) | T3174 or | sending of | handling of | | | | other | PACKET CELL | abnormal | | | | abnormal | CHANGE | condition | | | | condition | FAILURE | in the | | | | in the | message | network | | | | network | | controlled | | | | controlled | | cell | | | | cell | | reselection | | | | reselection | | procedure. | | | | procedure | | | | +-------------+-------------+-------------+-------------+-------------+ | T3180 (per | When | When | Abnormal | 5 s | | TBF) | t | detecting | release | | | | ransmitting | an assigned | with access | | | | an RLC/MAC | USF value | retry may | | | | block to | on assigned | be | | | | the network | PDCH | performed | | | | an instance | | under | | | | of T3180 is | | certain | | | | started for | | conditions | | | | the TBF for | | (see | | | | which the | | sub-clause | | | | block was | | 8.1.1.1) | | | | intended. | | | | | | It is also | | | | | | started for | | | | | | each uplink | | | | | | TBF | | | | | | allocated | | | | | | by the PS | | | | | | HANDOVER | | | | | | COMMAND | | | | | | message/DTM | | | | | | HANDOVER | | | | | | COMMAND | | | | | | message | | | | | | upon | | | | | | successful | | | | | | completion | | | | | | of the PS | | | | | | h | | | | | | andover/DTM | | | | | | handover | | | | | | from _Iu | | | | | | mode_ to | | | | | | _A/Gb | | | | | | mode_. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3182 (per | After | On receipt | Abnormal | 5 s | | TBF) | sending the | of the | release | | | | last data | PACKET UPLI | with access | | | | block (with | NK ACK/NACK | retry may | | | | CV = 0), or | message | be | | | | upon | | performed | | | | detecting a | | under | | | | transmit | | certain | | | | window | | conditions | | | | stall | | (see | | | | condition | | sub-clauses | | | | an instance | | 9.3.2.3 and | | | | of T3182 is | | 9.3.3.3) | | | | started for | | | | | | the TBF for | | | | | | which the | | | | | | condition | | | | | | has | | | | | | occurred. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3184 (per | On receipt | On receipt | Abnormal | 5 s | | TBF) | of a | of | release | | | | PACKET UPLI | PACKET UPLI | with access | | | | NK ACK/NACK | NK ACK/NACK | retry may | | | | message (in | message\ | be | | | | exclusive | (T3184 is | performed | | | | allocation) | also | under | | | | | restarted) | certain | | | | | | conditions | | | | | | (see | | | | | | sub-clause | | | | | | 8 | | | | | | .1.1.3a.2). | | +-------------+-------------+-------------+-------------+-------------+ | T3186 (per | When packet | Either | Abort | 5 s | | MS) | access | stopped | packet | | | | procedure | when | access | | | | is started | receiving | procedure. | | | | | any message | If at least | | | | | from the | one message | | | | | network in | was | | | | | response to | transmitted | | | | | the (EGPRS) | by the | | | | | PACKET | mobile | | | | | CHANNEL | station, | | | | | REQUEST | indicate | | | | | message or | random | | | | | after M+1 | access | | | | | attempts to | failure to | | | | | send | upper | | | | | (EGPRS) | layers and | | | | | PACKET | perform | | | | | CHANNEL | autonomous | | | | | REQUEST | cell | | | | | messages on | re | | | | | the PRACH | -selection; | | | | | channel or\ | otherwise, | | | | | stopped | indicate | | | | | when | packet | | | | | receiving | access | | | | | any message | failure to | | | | | from the | upper | | | | | network in | layers and | | | | | response to | return to | | | | | the MPRACH | packet idle | | | | | PACKET | mode or | | | | | CHANNEL | MAC-Idle | | | | | REQUEST | state. | | | | | message or | | | | | | after M+1 | | | | | | attempts to | | | | | | send MPRACH | | | | | | PACKET | | | | | | CHANNEL | | | | | | REQUEST | | | | | | messages on | | | | | | the uplink | | | | | | PDCH | | | | | | channel | | | +-------------+-------------+-------------+-------------+-------------+ | T3188 | When a | When a | A mobile | Set to the | | | mobile | mobile | station | value of | | | station | station | that | T3168 | | | that | that | supports | included as | | | supports | supports | multiple | part of | | | multiple | multiple | TBF | system | | | TBF | TBF | procedures | broadcast | | | procedures | procedures | considers | i | | | requests | receives a | its' | nformation. | | | two or more | MULTIPLE | two-phase | | | | uplink TBFs | TBF UPLINK | access to | | | | in a Packet | ASSIGNMENT | have failed | | | | Resource | message. | | | | | Request | | | | | | message | | | | | | during a | | | | | | two-phase | | | | | | access. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3190 (per | At | Restarted | Abnormal | 5 s | | TBF/ MBMS | reception | on receipt | release | | | radio | of a | of data on | without | | | bearer) | downlink | the | retry may | | | | assignment | TBF/MBMS | be | | | | message an | radio | performed | | | | instance of | bearer | under | | | | T3190 is | | certain | | | | started for | | conditions | | | | each | | (see | | | | TBF/MBMS | | sub-clauses | | | | radio | | 8.1.2.1 and | | | | bearer that | | 8.1.2.4). | | | | has been | | | | | | assigned | | The MBMS | | | | resources. | | packet | | | | It is also | | access | | | | started for | | procedure | | | | each | | may be | | | | downlink | | initiated | | | | TBF | | as | | | | allocated | | specified | | | | by the PS | | in | | | | HANDOVER | | sub-clause | | | | COMMAND | | 7.7.1. | | | | message/DTM | | | | | | HANDOVER | | | | | | COMMAND | | | | | | message | | | | | | upon | | | | | | successful | | | | | | completion | | | | | | of the PS | | | | | | h | | | | | | andover/DTM | | | | | | handover | | | | | | from _Iu | | | | | | mode_ to | | | | | | _A/Gb | | | | | | mode_. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3192 (per | At sending | Restarted | If the | assigned in | | TBF) | the | at sending | mobile | system | | | PA | the | station is | information | | | CKET DOWNLI | PA | in packet | | | | NK ACK/NACK | CKET DOWNLI | transfer | | | | with the | NK ACK/NACK | mode or | | | | Final Ack | with the | MAC-Shared | | | | I | Final Ack | state it | | | | ndicator=1, | I | shall | | | | or at | ndicator=1, | release the | | | | sending the | or at | resources, | | | | PACKET | sending the | stop | | | | CONTROL ACK | PACKET | monitoring | | | | as a | CONTROL ACK | the PDCHs, | | | | response to | as a | and begin | | | | final RLC | response to | to monitor | | | | data block | final RLC | the paging | | | | in | data block | channel if | | | | una | in | there are | | | | cknowledged | una | no other | | | | mode. | cknowledged | ongoing | | | | | mode.\ | TBFs. The | | | | | \ | mobile | | | | | Stopped at | station in | | | | | the | dual | | | | | reception | transfer | | | | | of a | mode | | | | | PACKE | r | | | | | T DOWNLINK | espectively | | | | | ASSIGNMENT, | MAC-DTM | | | | | MULTIPLE | state shall | | | | | TBF | return to | | | | | DOWNLINK | dedicated | | | | | ASSIGNMENT, | mode or | | | | | PACKET | MA | | | | | TIMESLOT | C-Dedicated | | | | | R | state. (see | | | | | ECONFIGURE, | sub-clauses | | | | | MULTIPLE | 9.3.2.6 and | | | | | TBF | 9.3.3.5). | | | | | TIMESLOT | | | | | | RECONFIGURE | | | | | | or PACKET | | | | | | CS RELEASE | | | | | | INDICATION | | | | | | message | | | | | | that | | | | | | assigns | | | | | | resources | | | | | | to the TBF | | | | | | for which | | | | | | T3192 was | | | | | | started.. | | | +-------------+-------------+-------------+-------------+-------------+ | T3194 (per | At the | On receipt | Restart the | 200 ms | | TBF) | sending of | of the USF | timer | | | | a RLC data | for the | unless it | | | | block on a | radio | has expired | | | | radio block | bearer for | four times, | | | | that has | which the | in which | | | | been stolen | radio block | case a link | | | | (i.e. | was stolen. | failure is | | | | intended | | reported to | | | | for a | | the RRC | | | | different | | layer. | | | | radio | | | | | | bearer). | | | | | | See | | | | | | 3GP | | | | | | P TS 44.160 | | | | +-------------+-------------+-------------+-------------+-------------+ | T3196 | When the RR | Upon | Release of | 1.5 s | | | connection | receipt of | all ongoing | | | | request is | the PACKET | TBFs and | | | | received | CS COMMAND | start RR | | | | from the | message. | connection | | | | upper | | es | | | | layer. | | tablishment | | | | | | as | | | | | | specified | | | | | | in 3GPP TS | | | | | | 44.018. | | +-------------+-------------+-------------+-------------+-------------+ | T3200 (per | On receipt | On receipt | Discard and | see | | RLC/MAC | of an | of an | ignore all | sub-clause | | control | RLC/MAC | RLC/MAC | segments of | 9.1.11b | | message) | control | control | the | | | | block | block | partially | | | | containing | containing | received | | | | a segment | a segment | RLC/MAC | | | | of an | of an | control | | | | RLC/MAC | RLC/MAC | message | | | | control | control | | | | | message | message | | | | | | such that | | | | | | the mobile | | | | | | station now | | | | | | has the | | | | | | complete | | | | | | control | | | | | | message | | | +-------------+-------------+-------------+-------------+-------------+ | T3204 (per | The first | Upon | The packet | 1 s | | MS) | attempt to | receipt of | pause | | | | send a | a | procedure | | | | PACKET | PACK | (sub-clause | | | | CHANNEL | ET UPLINK A | 7.6) is | | | | REQUEST | SSIGHNMENT. | aborted | | | | during a | | (A/Gb mode | | | | packet | | only). | | | | access | | | | | | procedure. | | | | | | The PACKET | | | | | | CHANNEL | | | | | | REQUEST was | | | | | | attempted | | | | | | indicating | | | | | | \'Single | | | | | | block | | | | | | without TBF | | | | | | esta | | | | | | blishment\' | | | | | | and the | | | | | | purpose of | | | | | | the packet | | | | | | access | | | | | | procedure | | | | | | is to send | | | | | | a PACKET | | | | | | PAUSE | | | | | | message. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3206 (per | When | When the | Leave CCN | 400 ms | | MS) | entering | PACKET CELL | mode and | | | | CCN mode | CHANGE | continue | | | | | N | according | | | | | OTIFICATION | to current | | | | | message is | NC mode | | | | | transmitted | | | | | | or when CCN | | | | | | is no | | | | | | longer | | | | | | enabled. | | | +-------------+-------------+-------------+-------------+-------------+ | T3208 (per | When the | Upon | Leave CCN | 0,96 s | | MS) | PACKET CELL | receipt of | mode and | | | | CHANGE | a PACKET | continue | | | | N | CELL CHANGE | according | | | | OTIFICATION | CONTINUE or | to current | | | | message is | a PACKET | NC mode | | | | transmitted | CELL CHANGE | | | | | for the | ORDER | | | | | first time | message or | | | | | | when CCN is | | | | | | no longer | | | | | | enabled.. | | | +-------------+-------------+-------------+-------------+-------------+ | T3210 (per | When the | Upon | Retransmit | 0,3 s | | MS) | PACKET CELL | receipt of | the PACKET | | | | CHANGE | a PACKET | CELL CHANGE | | | | N | NEIGHBOUR | N | | | | OTIFICATION | CELL DATA | OTIFICATION | | | | message is | message, or | message at | | | | transmitted | a PACKET | the first | | | | for the | CELL CHANGE | uplink | | | | first time | CONTINUE | o | | | | | message or | pportunity. | | | | | a PACKET | | | | | | CELL CHANGE | | | | | | ORDER | | | | | | message or | | | | | | when CCN is | | | | | | no longer | | | | | | enabled. | | | +-------------+-------------+-------------+-------------+-------------+ | T3214 | When the | Upon | Mobile | 60 s | | | MBMS | receipt of | station in | | | | SERVICE | the MBMS | packet idle | | | | REQUEST | ASSIGNMENT | mode or | | | | message is | message | MAC-Idle | | | | transmitted | addressing | state: | | | | or when | the same | Return to | | | | receiving | session | DRX mode. | | | | MBMS | that | | | | | no | started | Mobile | | | | tification, | this timer | station in | | | | for an MBMS | or any | broadcas | | | | session the | other | t/multicast | | | | mobile | procedure | receive | | | | station is | on (P)CCCH | mode: | | | | required to | not related | Remain in | | | | receive, | to MBMS is | broadcas | | | | with no | triggered | t/multicast | | | | MBMS p-t-m | or a | receive | | | | channel | n | mode | | | | description | otification | | | | | and | is received | | | | | indicating | for a | | | | | that no | higher | | | | | counting | priority | | | | | shall be | session. | | | | | performed. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3216 (per | Upon | Upon | The MS | 1 s | | MS) | t | receipt of | returns to | | | | ransmission | the PACKET | the old | | | | of the PS | PHYSICAL | cell and | | | | HANDOVER | INFORMATION | attempts to | | | | ACCESS | message | resume | | | | message | | packet data | | | | (see | | t | | | | sub-clause | | ransmission | | | | 8 | | (see | | | | .10.4.4.4). | | sub-clause | | | | | | 8.10.5). | | +-------------+-------------+-------------+-------------+-------------+ | T3218 (per | On receipt | Upon | The MS | 1 s | | MS) | of PS | detecting | returns to | | | | HANDOVER | of the | the old | | | | COMMAND | first USF | cell and | | | | message or | for any | attempts to | | | | Handover | uplink TBF | resume | | | | from UTRAN | assigned to | packet data | | | | Command | the MS in | t | | | | message or | the new | ransmission | | | | _Mob | cell. | (see | | | | ilityFromEU | | sub-clause | | | | TRACommand_ | | 8.10.5). | | | | message. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3220 | When the | Upon | Mobile | 46 s | | | PACKET | receipt of | station in | | | | PAGING | the PACKET | packet idle | | | | REQUEST | PAGING | mode or | | | | message | REQUEST | MAC-Idle | | | | containing | message | state: | | | | MBMS | containing | Return to | | | | pre-n | MBMS | DRX mode. | | | | otification | n | | | | | parameters, | otification | Mobile | | | | for an MBMS | parameters | station in | | | | session the | of the same | broadcas | | | | mobile | session | t/multicast | | | | station is | that | receive | | | | required to | started | mode: | | | | receive, is | this timer | Remain in | | | | received. | or any | broadcas | | | | | other | t/multicast | | | | | procedure | receive | | | | | on PCCCH | mode | | | | | not related | | | | | | to MBMS is | | | | | | triggered | | | | | | or a | | | | | | n | | | | | | otification | | | | | | is received | | | | | | for a | | | | | | higher | | | | | | priority | | | | | | session. | | | +-------------+-------------+-------------+-------------+-------------+ | T3222 | When the | When the | The MBMS | See | | | PACKET MBMS | mobile | related | sub-clause | | | A | station | information | 6.3.2.2 | | | NNOUNCEMENT | enters | stored upon | | | | message is | packet idle | receipt of | | | | received | mode, if | the | | | | indicating | the PACKET | co | | | | an MBMS | MBMS | rresponding | | | | broadcast | A | PACKET MBMS | | | | service or | NNOUNCEMENT | A | | | | an MBMS | message | NNOUNCEMENT | | | | multicast | included | message is | | | | service to | the | deleted. | | | | which the | Estimated | | | | | mobile | Session | | | | | station has | Duration. | | | | | subscribed | | | | | | and an MBMS | When the | | | | | session the | mobile | | | | | mobile | station | | | | | station has | enters | | | | | not | packet idle | | | | | received, | mode and | | | | | and | completes | | | | | including | the | | | | | the | Transfer | | | | | Restriction | non-DRX | | | | | Timer or | mode | | | | | the | period, if | | | | | Estimated | the PACKET | | | | | Session | MBMS | | | | | Duration. | A | | | | | | NNOUNCEMENT | | | | | | message | | | | | | included | | | | | | the | | | | | | Restriction | | | | | | Timer. | | | +-------------+-------------+-------------+-------------+-------------+ | T3290 (per | At | Restarted | The mobile | 5 s | | MS_ID on | reception | on receipt | station | | | an MBMS | of a | of an | considers | | | radio | downlink | RLC/MAC | the MS_ID | | | bearer) | assignment | block | as | | | | (i.e. MBMS | including | released, | | | | ASSIGNMENT, | the | i.e. it no | | | | MBMS MS_ID | co | longer | | | | ASSIGNMENT) | rresponding | answers | | | | message | MBMS Bearer | when polled | | | | assigning | Identity | with the | | | | an MS_ID | and the | MS_ID. | | | | to a mobile | MS_ID in | | | | | station | the TFI | | | | | receiving | field. | | | | | an MBMS | | | | | | radio | | | | | | bearer. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3230 (per | When the | Upon | The MS | Assigned in | | MS) | PACKET CELL | occurrence | shall | message | | | CHANGE | of one of | delete the | | | | ORDER or | the | individual | | | | PACKET | conditions | priorities | | | | MEASUREMENT | specified | value. | | | | ORDER | in | | | | | message | subclause | | | | | containing | 5.5.1.1c.3. | | | | | individual | | | | | | priorities, | | | | | | is | | | | | | received. | | | | +-------------+-------------+-------------+-------------+-------------+ | T3232 (per | At | At | The mobile | 5 s | | MS) | reception | reception | station | | | | of a PACKET | of the | shall enter | | | | PAGING | complete | DRX mode. | | | | REQUEST | ETWS | | | | | message on | Primary | | | | | the PPCH | N | | | | | carrying a | otification | | | | | segment of | message or | | | | | an ETWS | upon | | | | | Primary | initiating | | | | | N | cell | | | | | otification | reselection | | | | | message. | or | | | | | | connection | | | | | | es | | | | | | tablishment | | | | | | procedures. | | | +-------------+-------------+-------------+-------------+-------------+
> **T3158** : Wait for sending measurement reports for network controlled cell
> reselection.
>
> This timer is used on the mobile station side to define the period for
> performing NC-measurements and send measurement reports in either packet
> idle or packet transfer mode in _A/Gb mode_ and MAC-Idle or MAC-Shared state
> in _Iu mode_ (see 3GPP TS 45.008).
>
> **T3162:** Wait for Packet Uplink Assignment after reception of Packet
> Queuing Notification
>
> This timer is used on the mobile station side after received Packet Queuing
> Notification to define when to stop waiting for a Packet Uplink Assignment.
>
> **T3164:** Wait for Uplink State Flag After Assignment
>
> This timer is used on the mobile station side to define when to stop waiting
> for the USF determining the assigned portion of the uplink channel and
> repeat the procedure for random access. In multislot operation, it is enough
> that the assigned USF is noted on one of the uplink PDCHs.
>
> **T3166:** Wait for Packet Uplink ACK/NACK after sending of first data block
>
> This timer is used on the mobile station side to define when to stop waiting
> for a Packet Uplink ACK/NACK after sending of the first data block.
>
> **T3168:** Wait for PACKET UPLINK ASSIGNMENT, Multiple TBF Uplink
> Assignment, PACKET TIMESLOT RECONFIGURE or a MULTIPLE TBF TIMESLOT
> RECONFIGURE message
>
> This timer is used on the mobile station side to define when to stop waiting
> for a Packet Uplink Assignment, Multiple TBF Uplink Assignment, PACKET
> TIMESLOT RECONFIGURE or a MULTIPLE TBF TIMESLOT RECONFIGURE message after
> sending of a Packet Resource request message or a PACKET CONTROL
> ACKNOWLEDGEMENT message requesting new TBF.
>
> **T3170** : Wait for Packet Uplink Assignment message after having done
> (M+1) Packet Channel Requests or after reception of a PACKET ACCESS REJECT
> message.
>
> This timer is used on the mobile station side when having made M + 1
> attempts to send a Packet Channel Request or EGPRS Packet Channel Request or
> MPRACH PACKET CHANNEL REQUEST message (if at least one message was
> transmitted by the mobile station) or after reception of a PACKET ACCESS
> REJECT message. At expiry of timer T3170 when having made M+1 attempts to
> send a PACKET CHANNEL REQUEST or EGPRS Packet Channel Request or MPRACH
> PACKET CHANNEL REQUEST message, the mobile station shall abort the packet
> access procedure, indicate a random access failure to upper layers and
> perform autonomous cell re-selection according to 3GPP TS 43.022. At expiry
> of timer T3170 after receiving a PACKET ACCESS REJECT message, the mobile
> station shall abort the packet access procedure, indicate a packet access
> failure to upper layers and return to packet idle mode or MAC-Idle state.
>
> The value of this timer is equal to the time taken by T+2S TDMA frames, T
> and S are defined in sub-clause 7.1.2.1.1.
>
> **T3172:** Prohibit packet access in the cell after Packet Access Reject
> message has been received.
>
> This timer is used on the mobile station side on receipt of a Packet Access
> Reject message corresponding to one of the mobile station\'s 3 last Packet
> Channel Request messages. If T3172 expires before receiving an assignment
> message, the mobile station returns to packet idle mode or MAC-Idle state.
>
> After T3172 expiry packet Access is no longer prohibited in the cell but no
> Channel Request message shall be sent as a response to a page until a Paging
> Request message for the mobile station is received.
>
> **T3174:** Wait for successful packet access in new cell after Packet Cell
> Change Order.
>
> This timer is used on the mobile station side on receipt of a PACKET CELL
> CHANGE ORDER message. The timer is stopped upon successful completion of
> packet access in the new cell. On expiry, the mobile station returns to the
> old cell, performs cell update (or other GMM specific procedure) and sends
> PACKET CELL CHANGE FAILURE message.
>
> **T3176:** Stop handling of abnormal condition in the network controlled
> cell reselection procedure.
>
> This timer is started when T3174 expires or another abnormal condition
> occurs in the network controlled cell reselection procedure. The timer is
> stopped upon transmission of the PACKET CELL CHANGE FAILURE message. On
> expiry, the mobile station stops handling of abnormal condition in the
> network controlled cell reselection procedure.
>
> **T3180:** Wait for Uplink State Flag After Data Block
>
> This timer is used on the mobile station side to define when to stop waiting
> for the USF determining the assigned portion of the uplink channel after the
> previous RLC/MAC block is sent. In multislot operation, it is enough that
> the assigned USF is noted on one of the uplink PDCHs. If expired, the mobile
> station repeats the procedure for random access if there are no remaining
> TBFs. If it expires and there are one or more remaining TBFs the MS may
> reattempt the establishment of the corresponding uplink TBF.
>
> **T3182:** Wait for Acknowledgement
>
> This timer is used on the mobile station side to define when to stop waiting
> for temporary Packet Uplink Ack/Nack after the last RLC data block has been
> sent for the current send window or for the entire Temporary Block Flow.
>
> **T3184:** No Ack/Nack Received
>
> At exclusive allocation, this timer is used to detect a radio link failure
> condition. If expired, the mobile station performs an abnormal release with
> access retry.
>
> **T3186:** Supervision of the random access procedure
>
> This timer is used on the mobile station side to define the maximum allowed
> time to repeat the sending of all PACKET CHANNEL REQUEST or EGPRS PACKET
> CHANNEL REQUEST or MPRACH PACKET CHANNEL REQUEST messages. At expiry of
> timer T3186, the mobile station shall abort the packet access procedure. If
> at least one message was transmitted by the mobile station, it shall
> indicate a random access failure to upper layers and perform autonomous cell
> re-selection according to 3GPP TS 43.022; otherwise, it shall indicate a
> packet access failure to upper layers and return to packet idle mode or MAC-
> Idle state.
>
> **T3188:** This timer is used by a mobile station that supports multiple TBF
> procedures to define when to stop waiting for a MULTIPLE TBF UPLINK
> ASSIGNMENT message after sending a Packet Resource request message during a
> two-phase access that requests two or more uplink TBFs.
>
> **T3190** : Wait for Valid Downlink Data Received from the Network
>
> This timer is used on the mobile station side to stop waiting for the valid
> data from the network side either following the initial Packet Downlink
> Assignment/MBMS Assignment or after some previous downlink RLC data block.
>
> **T3192** : Wait for release of the TBF after reception of the final block
>
> This timer is used on the mobile station side when the mobile station has
> received all of the RLC data blocks. When timer T3192 expires the mobile
> station shall release the resources associated with the TBF (e.g. TFI) and
> begin to monitor its paging channel.
**T3194:** Minimum time between stolen radio blocks for a given radio bearer.
Following stealing a radio block for a given radio bearer, the mobile station
shall expect to have this radio bearer scheduled via its USF within an
interval defined by four times the duration of T3194, else link failure is
reported to RRC.
**T3196** Wait for Packet CS COMMAND message.
This timer is used on the mobile station side to define when to stop waiting
for the Packet CS COMMAND message. At expiry of timer T3196, the mobile
station shall release all ongoing TBFs and start RR connection establishment
as specified in 3GPP TS 44.018.
> **T3200** RLC/MAC control message reassembly guard
T3200 is used by the mobile station to control when it will discard segments
of a partially received RLC/MAC control message. The mobile station shall have
one instance of timer T3200 for each segmented RLC/MAC control message that
the mobile station is capable of receiving in parallel.
> **T3204** : Wait for Packet Uplink Assignment after the first attempt to
> send a Packet Channel Request during a packet access procedure. The Packet
> Channel Request was attempted indicating \'Single block without TBF
> establishment\' and the purpose of the packet access procedure is to send a
> PACKET PAUSE message.
>
> This timer is used by a mobile station with non-GSM capabilities to stop
> waiting for a PACKET UPLINK ASSIGNMENT message. At expiry of timer T3204,
> the Packet Pause procedure (sub-clause 7.6) is aborted.
>
> **T3206** Wait for sending of the PACKET CELL CHANGE NOTIFICATION message
> after entering CCN mode
This timer is used to control that the MS in CCN mode is not prevented to
proceed with a cell re-selection for too long if it cannot send the PACKET
CELL CHANGE NOTIFICATION message (e.g. T3192 is running and there is no uplink
block granted to the MS).
> **T3208** Maximum delay of the MS initiated cell re-selection after the
> point in time when the MS has sent the PACKET CELL CHANGE NOTIFICATION
> message in CCN mode.
T3208 is used by the mobile station in CCN mode to decide when to stop waiting
for network assistance for the cell reselection (see sub-clause 5.5.1.1a).
> **T3210** Wait for retransmitting the PACKET CELL CHANGE NOTIFICATION
> message after having sent the PACKET CELL CHANGE NOTIFICATION message for
> the first time (see sub-clause 5.5.1.1a).
This timer is used to request the mobile station to retransmit the PACKET CELL
CHANGE NOTIFICATION message in the case it has not received any PACKET
NEIGHBOUR CELL DATA message nor PACKET CELL CHANGE CONTINUE message nor PACKET
CELL CHANGE ORDER message nor the PS HANDOVER COMMAND message in response to
the sending of the PACKET CELL CHANGE NOTIFICATION message sent for the first
time. It can reduce the cell re-selection delay implied by entering CCN mode
in case the first PACKET CELL CHANGE NOTIFICATION message was not received by
the network.
**T3214** Wait for MBMS ASSIGNMENT message.
This timer is used on the mobile station side to define when to stop waiting
for the MBMS ASSIGNMENT message. At expiry of timer T3214, a mobile station in
packet idle mode or MAC-Idle state shall return to DRX mode. A mobile station
in broadcast/multicast receive mode shall remain in broadcast/multicast
receive mode.
**T3216** Wait for the PACKET PHYSICAL INFORMATION message.
This timer is used on the mobile station side to define when to stop waiting
for the PACKET PHYSICAL INFORMATION message in the non-synchronized cell PS
handover case (see sub-clause 8.10.4.4.4). At expiry of timer T3216, the
mobile station shall abort the PS handover procedure, return to the old cell,
send a Packet Cell Change Failure message using the first available uplink
transmission opportunity (if PS handover from _A/Gb mode_ was attempted) and
attempt to continue all TBFs/RABs that were ongoing prior to the reception of
the PS HANDOVER COMMAND message/Handover from UTRAN Command message or
_MobilityFromEUTRACommand_ message (see sub-clause 8.10.5).
> **T3218** Wait for the first USF for any uplink TBF assigned to the MS after
> receiving the PS HANDOVER COMMAND message or Handover from UTRAN Command
> message or _MobilityFromEUTRACommand_ message.
This timer is used on the mobile station side to define when to stop waiting
for a USF of any uplink TBF assigned to the MS in the new cell.\ \ At expiry
of timer T3218, the mobile station shall abort the PS handover procedure,
return to the old cell, send a Packet Cell Change Failure message using the
first available uplink transmission opportunity (if PS handover from _A/Gb
mode_ was attempted) and attempt to continue all TBFs or RABs that were
ongoing prior to the reception of the PS HANDOVER COMMAND message or Handover
from UTRAN Command message or _MobilityFromEUTRACommand_ message (see sub-
clause 8.10.5).
**T3220** Wait for PACKET PAGING REQUEST message.
This timer is used to ensure that the mobile station stops waiting for a
PACKET PAGING REQUEST message containing an MBMS notification part. At expiry
of the T3220, the mobile station in packet idle mode or MAC-Idle state shall
return to DRX mode unless it is already engaged in any other MBMS session and
remaining in broadcast/multicast receive mode.
**T3222** An instance of the timer may be used during the notification of MBMS
for mobile stations in packet transfer mode or in dual transfer mode. An
instance of this timer may be started at the receipt of a PACKET MBMS
ANNOUNCEMENT message when in packet transfer mode or in dual transfer mode.
The instance of this timer is stopped either when the mobile station enters
packet idle mode, if the PACKET MBMS ANNOUNCEMENT message included the
Estimated Session Duration, or when the mobile station enters packet idle mode
and completes the Transfer non-DRX mode period, if the PACKET MBMS
ANNOUNCEMENT message included the Restriction Timer.
At expiry of an instance of this timer, the mobile station discards the MBMS
related information stored upon receipt of the corresponding PACKET MBMS
ANNOUNCEMENT message.
> **T3290** Wait for Downlink Data identified with the assigned MS_ID during
> an MBMS radio bearer.
This timer is used on the mobile station side to stop answering to polling
during an MBMS radio bearer.
T3290 has the same value as the one specified for T3190.
**T3230** The timer is used to control the validity period of the individual
priorities. It is started on receipt of the individual priorities included in
the PACKET CELL CHANGE ORDER or PACKET MEASUREMENT ORDER message for cell
reselection or on inter-RAT reselection to GERAN if the corresponding timer in
the source RAT (i.e, T320 in E-UTRA, T322 in UTRA) was running when
reselection occurred.
> When one of the conditions specified in subclause 5.5.1.1c.3 is met, the MS
> shall stop T3230 and delete the corresponding individual priorities.
>
> At expiry the mobile station shall delete the corresponding individual
> priorities.
**T3232** The timer is used to control the length of the non-DRX mode period
in which the mobile station is acquiring an ETWS Primary Notification message.
It is started when receiving a PACKET PAGING REQUEST message on the PPCH
carrying a segment of an ETWS Primary Notification message.
> It is stopped at reception of the complete ETWS Primary Notification message
> or upon initiating cell reselection or connection establishment procedures.
>
> At expiry the mobile station shall enter DRX mode.
## 13.2 Timers on the network side
For each timer, it is shown whether one timer instance is needed per MS, per
TBF/MBMS radio bearer, per MS_ID or per RLC/MAC control message.
Table 13.2.1: Specification of timers used in GPRS on the Network side
+-------------+-------------+-------------+-------------+-------------+ | timer | started | stopped | action at | typical | | | | | expiry | value | +-------------+-------------+-------------+-------------+-------------+ | T3169 (per | If counter | None | The network | 5 s | | TBF) | N3101 = | | releases | | | | N3101_MAX, | | USF and TFI | | | | or if | | resources. | | | | counter | | | | | | N3103 = | | | | | | N3103_MAX | | | | | | an instance | | | | | | of T3169 is | | | | | | started for | | | | | | this TBF | | | | +-------------+-------------+-------------+-------------+-------------+ | T3191 (per | When the | When the | The network | 5 s | | TBF) | last RLC | final | releases | | | | data block | PACKET | TFI | | | (per MBMS | is sent | DOWNLINK | resource. | | | radio | with the | ACK/NACK or | | | | bearer) | FBI bit set | PACKET | The network | | | | to \'1\' an | CONTROL | releases | | | | instance of | ACKN | all the | | | | T3191 is | OWLEDGEMENT | TFIs | | | | started for | is received | related to | | | | this TBF | | the MBMS | | | | | Restarted | radio | | | | When the | at the | bearer | | | | PACKET TBF | t | | | | | RELEASE | ransmission | | | | | message is | of an RLC | | | | | sent | data block | | | | | | with the | | | | | | FBI bit set | | | | | | to \'1\'. | | | | | | | | | | | | Restarted | | | | | | at the | | | | | | t | | | | | | ransmission | | | | | | of a | | | | | | further | | | | | | PACKET TBF | | | | | | RELEASE | | | | | | message | | | +-------------+-------------+-------------+-------------+-------------+ | T3193 (per | When the | Stopped | The network | Greater | | TBF) | final | when the | releases | than T3192 | | | PACKET | network | TFI | | | | DOWNLINK | establishes | resource | | | | ACK/NACK or | a new | | | | | PACKET | downlink | | | | | CONTROL | TBF using | | | | | ACKN | the same | | | | | OWLEDGEMENT | TFI value.\ | | | | | is received | \ | | | | | an instance | Restarted | | | | | of T3193 is | at the | | | | | started for | reception | | | | | this TBF | of the | | | | | | final | | | | | | PACKET | | | | | | DOWNLINK | | | | | | ACK/NACK or | | | | | | PACKET | | | | | | CONTROL | | | | | | ACKNO | | | | | | WLEDGEMENT. | | | +-------------+-------------+-------------+-------------+-------------+ | T3195 (per | If counter | None | The network | 5 s | | TBF) | N3105 = | | may reuse | | | | N3105_MAX | | the TFI | | | (per MS_ID | an instance | | resources. | | | on an MBMS | of T3195 is | | | | | radio | started for | | The network | | | bearer) | this TBF | | may reuse | | | | | | the MS_ID | | | | If counter | | on the | | | | N3105 = | | co | | | | N3105 | | rresponding | | | | _MBMS_MAX | | MBMS radio | | | | an instance | | bearer. | | | | of T3195 is | | | | | | started | | | | +-------------+-------------+-------------+-------------+-------------+ | T3197 | When PACKET | On receipt | The network | 2 s | | | CS RELEASE | of PACKET | shall send | | | | INDICATION | SI STATUS | CHANNEL | | | | message is | or PACKET | RELEASE | | | | t | PSI STATUS | message | | | | ransmitted. | message | (specified | | | | | indicating | in 3GPP TS | | | | | that the | 44.018) to | | | | | mobile | the mobile | | | | | station has | station. | | | | | received | | | | | | system | | | | | | information | | | | | | to maintain | | | | | | its radio | | | | | | resources | | | | | | after the | | | | | | release of | | | | | | the RR | | | | | | connection. | | | +-------------+-------------+-------------+-------------+-------------+ | T3199 | If counter | None | The network | **5 s** | | | N3109 = | | releases | | | (per MS_ID | N3109_MAX | | the MS_ID | | | on an MBMS | an instance | | on the | | | radio | of T3199 is | | co | | | bearer) | started for | | rresponding | | | | this | | MBMS radio | | | | MS_ID. | | bearer. | | | | | | | | | | At the | | | | | | point in | | | | | | time | | | | | | denoted by | | | | | | the Current | | | | | | MS_ID | | | | | | Expiry Time | | | | | | while no | | | | | | PACKET | | | | | | CONTROL | | | | | | ACKN | | | | | | OWLEDGEMENT | | | | | | message has | | | | | | been | | | | | | received, | | | | | | an instance | | | | | | of T3199 is | | | | | | started for | | | | | | this | | | | | | MS_ID. | | | | +-------------+-------------+-------------+-------------+-------------+
> **T3169:** Wait for Reuse of USF and TFI after the mobile station uplink
> assignment for this TBF is invalid
>
> This timer is used on the network side to define when the current uplink
> assignment for this TBF is surely invalid on the mobile station side so that
> the assigned USF(s) and TFI can be reused on the uplink. During that period
> the corresponding USF(s) is not broadcast.
Its value is network dependent. The value of T3169 should be greater than
T3180, T3182 and (for exclusive allocation) T3184.
> **T3191:** Wait for reuse of TFI after sending of the last RLC Data Block on
> this TBF. Wait for reuse of TFI(s) after sending the PACKET TBF RELEASE for
> an MBMS radio bearer.
>
> This timer is used on the network side to define when the current assignment
> for this TBF/MBMS is surely invalid on the mobile station side so that the
> TFI(s) can be reused.
Its value is network dependent.
> **T3193:** Wait for reuse of TFI after reception of the final PACKET
> DOWNLINK ACK/NACK from the mobile station for this TBF.
>
> This timer is used on the network side to define when timer T3192 on the
> mobile station side has surely expired so that the TFI can be reused.
>
> Its value is network dependent.
>
> **T3195:** Wait for reuse of TFI when there is no response from the MS
> (radio failure or cell change) for this TBF/MBMS radio bearer.
>
> This timer is used on the network side to define when the current assignment
> for this TBF/MS_ID on an MBMS radio bearer is surely invalid on the mobile
> station side so that the TFI can be reused.
>
> Its value is network dependent.
>
> **T3197:** Wait for the indication from the mobile station that it has
> received needed system information messages.
>
> This timer is used on the network side to delay the release of RR connection
> release in order to maintain radio resources before the mobile station has
> indicated the receipt of system information messages specified in sub-clause
> 5.5.1.2 or 5.5.1.3.
>
> **T3199:** Wait for reuse of MS_ID on an MBMS radio bearer.
>
> This timer is used on the network side to define for a given MBMS radio
> bearer when a(n) (re)assigned MS_ID is surely invalid on the mobile station
> side so that this MS_ID can be reused. During that period the corresponding
> MS_ID is not used.
>
> Its value is network dependent.
## 13.3 Counters on the Mobile Station side
> **N3102** At each cell reselection the mobile station shall set the counter
> N3102 to the value defined by the optional broadcast parameter PAN_MAX.
> Whenever the mobile station receives a Packet Ack/Nack that allows the
> advancement of V(S), the mobile station shall increment N3102 by the
> broadcast value PAN_INC, however N3102 shall never exceed the value PAN_MAX.
> Each time T3182 expires the mobile station shall decrement N3102 by the
> broadcast value PAN_DEC. When N3102 ≤ 0 is reached, the mobile station shall
> perform an abnormal release with cell re-selection.
>
> **N3104** When the mobile station sends the first RLC/MAC block the counter
> N3104 shall be initialized to 1. For each new RLC/MAC block the mobile
> station sends it shall increment N3104 by 1 until the first correct PACKET
> UPLINK ACK/NACK message is received. Then N3104 shall not be further
> incremented. If the N3104 counter is equal to N3104_MAX and no correct
> PACKET UPLINK ACK/NACK message has been received, the contention resolution
> fails and the mobile station behaves as specified in sub-clause 7.1.2.3.
>
> N3104_MAX shall have the value:
>
> N3104_MAX = 3 * (BS_CV_MAX + 3) * number of uplink timeslots assigned.
>
> **N3106** N3106 is used in _Iu mode_ on the mobile station side to detect
> link failures that may occur for a given uplink RLC entity and shall be
> reported to the RRC layer. It is incremented each time a response to a given
> request is not received before a specified response time. It is reset upon
> reception of a response within the response time requirements. If the
> counter N3106 is equal to N3106max, a link failure has occurred that shall
> be reported to the RRC layer. There is one N3106 instance per uplink RLC
> entity in TCH or DCCH TBF mode.
>
> N3106max shall have the value: 5.
## 13.4 Counters on the Network side
> **N3101:** When the network after setting USF for a given TBF, receives a
> valid data block of this TBF from the mobile station in a block assigned for
> this USF, it will reset counter N3101. If PS Handover is not ongoing, the
> network will increment counter N3101 for each USF for which no data is
> received for this TBF. N3101max shall be greater than 8. If N3101 =
> N3101max, the network shall stop the scheduling of RLC/MAC blocks from the
> mobile station for this USF and start timer T3169.
>
> During extended uplink TBF mode, counter N3101 shall not be incremented if
> the network does not require a mobile station to send PACKET UPLINK DUMMY
> CONTROL BLOCK messages when there is no other RLC/MAC block ready to send
> for this TBF in uplink radio blocks allocated by the network (see sub-clause
> 9.3.1b.2).
>
> The use of N3101 during PS Handover is implementation specific.
>
> **N3103:** N3103 is reset when transmitting the final PACKET UPLINK ACK/NACK
> message within a TBF (final ack indicator set to 1). If the network does not
> receive the PACKET CONTROL ACKNOWLEDGEMENT message in the scheduled block
> for this TBF, it shall increment counter N3103 and retransmit the PACKET
> UPLINK ACK/NACK message. If counter N3103 exceeds its limit, the network
> shall start timer T3169.
>
> **N3105:** When the network after sending a RRBP field in the downlink RLC
> data block or in _Iu mode_ also RLC/MAC control block, receives a valid
> RLC/MAC control message from the mobile station, it will reset counter
> N3105. The network will increment counter N3105 for each allocated data
> block for which no RLC/MAC control message is received for this TBF. The
> value of N3105max is network dependent.
>
> During an MBMS data transfer, whenever the network receives a valid RLC/MAC
> control message from a mobile station identified by a given MS_ID value, it
> shall reset the counter N3105 for that MS_ID. The network shall increment
> the counter N3105 for a given MS_ID for each radio block, allocated via the
> polling procedure to the mobile station identified by that MS_ID value, for
> which no RLC/MAC control message is received. The value of N3105_MBMS_MAX is
> network dependent
>
> **N3107** N3107 is used in _Iu mode_ on the network side to detect link
> failures that may occur for a given RLC entity and that shall be reported to
> the RRC layer. It is incremented each time a response to a given request is
> not received before a specified response time. It is reset upon reception of
> a response within the response time requirements. If the counter N3107 is
> equal to N3107max, a link failure has occurred that shall be reported to the
> RRC layer. There is one N3107 instance per downlink RLC entity in TCH or
> DCCH TBF mode. The value of N3107max is network dependent.
>
> **N3109:** N3109 for a given MS_ID on an MBMS radio bearer is reset when
> transmitting for the first time the MBMS MS_ID ASSIGNMENT message including
> a polling request. If the network does not receive the PACKET CONTROL
> ACKNOWLEDGEMENT message in the scheduled block, it shall increment counter
> N3109 for that MS_ID and may retransmit the MBMS MS_ID ASSIGNMENT message.
> If counter N3109 = N3109_MAX, the network shall start timer T3199 for that
> MS_ID. The value of N3109_MAX is network dependent.
###### ## Annex A (informative): Bibliography
1) ITU-T Recommendation I.130: \"Method for the characterization of
telecommunication services supported by an ISDN and network capabilities of an
ISDN\".
2) ITU-T Recommendation Q.65: \"The unified functional methodology for the
characterization of services and network capabilities\".
3) ISO/IEC 8886: \"Information technology - Open Systems Interconnection -
Data link service definition\".
4) ISO/IEC 10022: \"Information technology - Open Systems Interconnection -
Physical Service Definition\".
5) ISO/IEC 10039: \"Information technology - Open Systems Interconnection -
Local area networks - Medium Access Control (MAC) service definition\".
6) ISO/IEC 4335: \"Information technology - Telecommunications and information
exchange between systems - High‑level data link control (HDLC) procedures -
Elements of procedures\".
7) ISO/IEC 7478: \"Information processing systems - Data communication \-
Multilink procedures\".
8) ISO/IEC 7498: \"Information technology - Open Systems Interconnection -
Basic Reference Model\".
###### ## Annex B (informative): RLC data block encoding
## B.1 Example 1
Figure B.1 provides an example of the use of the Length indicator in
conjunction with the M and E bits. In the example, LLC PDU 1 continues from a
previous RLC data block and ends in the RLC data block shown. LLC PDU 2
follows LLC PDU 1 and is completely contained within the RLC data block. LLC
PDU 3 follows LLC PDU 2, beginning in the RLC data block shown, and continues
into the next RLC data block.
Bit |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
PR | TFI | FBI | Octet 1 |  |  |  |  |  |   
|  |  | BSN |  |  |  | E = 0 | Octet 2 |   
Length indicator = 11 | M = 1 | E = 0 | Octet 3 | LLC PDU 1 |  |  |  |  |   
Length indicator = 26 | M = 1 | E = 1 | Octet 4 |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 5 |   
LLC PDU 1 (cont) | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 15 |   
|  |  |  |  |  |  |  | Octet 16 |   
|  |  |  |  |  |  |  | Octet 17 |   
LLC PDU 2 | . . . | LLC PDU 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 41 |   
|  |  |  |  |  |  |  | Octet 42 |   
|  |  |  |  |  |  |  | Octet 43 |   
LLC PDU 3 | . . . | LLC PDU 3 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N-1 |   
|  |  |  |  |  |  |  | Octet N |   
|  |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  |  |   
Figure B.1: Length indicator (LI) example
## B.2 Example 2
Figure B.2 provides an example of the use of the Length indicator when the end
of an LLC PDU would fit within an RLC data block but the addition of the
length indicator octet (to indicate the LLC PDU boundary) causes the LLC PDU
to extend into another RLC data block. In the example, LLC PDU 1 continues
from a previous RLC data block and has 20 remaining octets. The first 19
octets are placed into RLC data block N, the Length Indicator is set to 0 (to
indicate that the LLC PDU does not end within the current RLC data block), and
the 20^th^ octet is placed in RLC data block N+1.
RLC data block N |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
PR | TFI | FBI | Octet 1 |  |  |  |  |  |   
|  |  | BSN |  |  |  | E = 0 | Octet 2 |   
Length indicator = 0 | M = 0 | E = 1 | Octet 3 |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 4 |   
LLC PDU 1 (cont) | . . . | LLC PDU 1 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
RLC data block N + 1 |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
|  |  | TFI |  |  |  | FBI | Octet 1 |   
|  |  | BSN |  |  |  | E = 0 | Octet 2 |   
Length indicator = 1 | M = 1 | E = 1 | Octet 3 (optional) |  |  |  |  |  |   
LLC PDU 1 (cont) | Octet 4 |  |  |  |  |  |  |  |   
LLC PDU 2 | . . . | LLC PDU 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
Figure B.2: Length indicator (LI) example
## B.3 Example 3
Figure B.3 provides an example of the use of the Length indicator when the end
of an LLC PDU fits precisely into an RLC data block. In the example, LLC PDU 1
continues from a previous RLC data block and ends in the RLC data block shown.
LLC PDU 2 follows LLC PDU 1 and fills precisely the RLC data block shown.
Bit |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
PR | TFI | FBI | Octet 1 |  |  |  |  |  |   
|  |  | BSN |  |  |  | E = 0 | Octet 2 | LLC PDU 1  
Length indicator = 7 | M = 1 | E = 0 | Octet 3 |  |  |  |  |  |   
Length indicator = 11 | M = 0 | E = 1 | Octet 4 |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 5 |   
LLC PDU 1 (cont) | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 11 |   
|  |  |  |  |  |  |  | Octet 12 |   
LLC PDU 2 | . . . | LLC PDU 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
Figure B.3: Length indicator (LI) example
## B.4 Example 4
Figure B.4 provides an example when the Length indicator is not used. As the
example does not contain any LLC frame boundaries, no Length Indicator octets
are needed. 20 octets is used for LLC data in each RLC data block.
RLC data block N |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
PR | TFI | FBI | Octet 1 |  |  |  |  |  |   
|  |  | BSN |  |  |  | E = 1 | Octet 2 |   
|  |  | Octet 3 |  |  |  |  |  |   
|  |  |  |  |  |  |  | . |   
LLC PDU 1 (cont) | . . . | LLC PDU 1 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
RLC data block N + 1 |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
|  |  | TFI |  |  |  | FBI | Octet 1 |   
|  |  | BSN |  |  |  | E = 1 | Octet 2 |   
| Octet 3 | LLC PDU 1 |  |  |  |  |  |  |   
LLC PDU 1 (cont) | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  |  |   
Figure B.4: Example when Length indicator (LI) can be omitted
## B.5 Example 5
Figure B.5 provides an example when the final LLC PDU (FBI=1) of a _downlink_
TBF fills the RLC data block precisely in which case the Length indicator can
be omitted. In the example, LLC PDU 1 continues from a previous RLC data block
and ends in and fills precisely the RLC data block shown.
|  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | RRBP | S/P |  | USF |  | MAC header |  |  |   
PR | TFI | FBI=1 | Octet 1 |  |  |  |  |  |   
|  |  | BSN |  |  |  | E = 1 | Octet 2 | LLC PDU 1  
|  |  |  |  |  |  |  | Octet 3 |   
|  |  |  |  |  |  |  | Octet 4 |   
LLC PDU 1 (cont) | . . . |  |  |  |  |  |  |  |   
| . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
Figure B.5: Example when Length indicator (LI) can be omitted
## B.6 Example 6
Figure B.6 provides an example when the final LLC PDU (CV=0) of an _uplink_
TBF fills the RLC data block precisely in which case the Length indicator can
be omitted. In the example, LLC PDU 1 continues from a previous RLC data block
and ends in and fills precisely the RLC data block shown.
|  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | Countdown value = 0 | SI | R | MAC header |  |  |  |  |   
spare | TFI | TI | Octet 1 |  |  |  |  |  |   
|  |  | BSN |  |  |  | E = 1 | Octet 2 | LLC PDU 1  
|  |  |  |  |  |  |  | Octet 3 |   
|  |  |  |  |  |  |  | Octet 4 |   
LLC PDU 1 (cont) | . . . |  |  |  |  |  |  |  |   
| . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
Figure B.6: Example when Length indicator (LI) can be omitted
## B.7 Example 7
Figure B.7 provides an example when the Length indicator can be omitted. As
the LLC PDU 1 begins in the RLC data block N and continues to the next one, no
Length octet is needed.
RLC data block N |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | Countdown value | SI | R | MAC header |  |  |  |  |   
spare |  | TFI |  |  |  | TI | Octet 1 |  |   
|  |  | BSN |  |  |  | E = 1 | Octet 2 |   
|  |  |  |  |  |  |  | Octet 3 |   
|  |  |  |  |  |  |  | Octet 4 |   
LLC PDU 1 | . . . | LLC PDU 1 |  |  |  |  |  |  |   
| . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
RLC data block N+1 |  |  |  |  |  |  |  |  |   
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
Payload Type | Countdown value | SI | R | MAC header |  |  |  |  |   
spare |  | TFI |  |  |  | TI | Octet 1 |  |   
|  |  | BSN |  |  |  | E = 0 | Octet 2 |   
|  | LI=10 |  |  |  | M=1 | E=1 | Octet 3 |   
|  |  |  |  |  |  |  | Octet 4 |   
LLC PDU 1 (cont) | . Octet 13 |  |  |  |  |  |  |  |   
LLC PDU 2 | . . . | LLC PDU 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  |  |   
Figure B.7: Example when Length indicator (LI) can be omitted
## B.8 RLC data block delimitation for EGPRS
### B.8.1 Example 1
Figure B.8 shows the first 2 RLC blocks of a TBF (Down-link). Only the last
segment of a LLC PDU requires a length indicator.
1st RLC Block |  | LLC PDU |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=0 | E = 0 |  |   
Length indicator = 11 | E = 0 | Octet 1 |  |  |  |  |  |  |   
Length indicator = 26 | E = 1 | Octet 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 3 |   
LLC PDU 1 (cont) | . . . | LLC PDU 1 1st PDU of the TBF |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 13 |   
|  |  |  |  |  |  |  | Octet 14 |   
|  |  |  |  |  |  |  | Octet 15 |   
LLC PDU 2 | . . . | LLC PDU 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 39 |   
|  |  |  |  |  |  |  | Octet 40 |   
|  |  |  |  |  |  |  | Octet 41 |   
LLC PDU 3 | . . . | LLC PDU 3 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
|  |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  |  |   
2nd RLC block of the TBF |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=0 | E = 0 |  |   
Length indicator = 11 | E = 0 | Octet 1 | LLC PDU 3 |  |  |  |  |  |   
Length indicator = 26 | E = 1 | Octet 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 3 |   
LLC PDU 3 (cont) | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 13 |   
|  |  |  |  |  |  |  | Octet 14 |   
|  |  |  |  |  |  |  | Octet 15 |   
LLC PDU 4 | . . . | LLC PDU 4 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 39 |   
|  |  |  |  |  |  |  | Octet 40 |   
|  |  |  |  |  |  |  | Octet 41 |   
LLC PDU 5 | . . . | LLC PDU 5 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2-1 |   
|  |  |  |  |  |  |  | Octet N2 |   
|  |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  |  |   
Figure B.8: Example for the case when a LLC PDU stretches over more\ than 2
consecutive in sequence RLC data blocks (LLC PDU 3 and LLC PDU 5).
### B.8.2 Example 2
Figure B.9 shows the last 3 RLC blocks of a TBF consisting of N blocks
(Downlink). When an LLC PDU fills an RLC data block precisely and adding an LI
for it would push the LLC PDU into the next in sequence RLC data block, then
the LLC PDU is present in this RLC data block without a corresponding length
indicator. If this LLC PDU is not the last LLC PDU of the TBF, its
delimitation is indicated by the first length indicator of the next in
sequence RLC data block with value LI=0. In case when the LLC PDU, or the last
segment of it, does not fill the RLC data block, a length indicator with value
127 is added as the last length indicator of the RLC data block.
RLC Block with BSN=N-2 (mod SNS) |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=0 | E = 0 | Octet 1 | LLC PDU J+1  
Length indicator = N2-13 | E = 1 | Octet 2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 3 |   
LLC PDU J+1 (continue) | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2-11 |   
|  |  |  |  |  |  |  | Octet N2-10 |   
LLC PDU J+2 | . . . | LLC PDU J+2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
RLC Block with BSN=N-1 (mod SNS) |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=0 | E = 0 | Octet 1 |   
Length indicator = 0 | E = 0 | Octet 2 |  |  |  |  |  |  |   
Length indicator= 7 | E =0 | Octet 3 |  |  |  |  |  |  |   
Length indicator= N2-11 | E=1 | Octet 4 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 5 | LLC PDU J+3  
LLC PDU J+3 | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 11 |   
|  |  |  |  |  |  |  | Octet 12 |   
LLC PDU J+4 | . . . | LLC PDU J+4 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
RLC Block with BSN=N (mod SNS) |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=1 | E=0 | Octet 1 |   
Length indicator=6 | E=0 | Octet 2 |  |  |  |  |  |  |   
Length indicator=12 | E=0 | Octet 3 |  |  |  |  |  |  |   
Length indicator=127 | E=1 | Octet 4 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 5 | LLC PDU J+5  
LLC PDU J+5 | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 10 |   
|  |  |  |  |  |  |  | Octet 11 |   
LLC PDU J+6 | . . . | LLC PDU J+6 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 22 |   
|  |  |  |  |  |  |  |  |   
|  | Filling Octets |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
Figure B.9: Example for the case when the LLC PDU fills exactly the RLC data
block\ (LLC PDU J+2 and LLC PDU J+4) and when the last LLC PDU cannot not
fill\ the last RLC data block(LLC PDU J+6)
### B.8.3 Example 3
Figure B.10 shows a TBF of one LLC PDU which fills exactly the RLC data block
(Downlink).
Bit |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=1 | E = 1 | Octet 1 |   
|  |  |  |  |  |  |  | Octet 2 | LLC PDU 1  
LLC PDU 1 | . . . |  |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
Figure B.10: Example for the case when a LLC PDU fills the RLC data block
precisely.
### B.8.4 Example 4
Figure B.11 shows 2 RLC blocks of a TBF during RLC non-persistent mode of
operation. When an LLC PDU ends in the previous RLC data block, a length
indicator with value=126 is added in the next in sequence RLC data block to
indicate the start of the next LLC PDU.
RLC Block with BSN=N (mod SNS) |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=0 | E = 0 | Octet 1 |   
Length indicator= 7 | E =0 | Octet 2 |  |  |  |  |  |  |   
Length indicator= 12 | E =0 | Octet 3 |  |  |  |  |  |  |   
Length indicator= 127 | E=1 | Octet 4 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 5 |   
LLC PDU J | . . . | LLC PDU J |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 11 |   
|  |  |  |  |  |  |  | Octet 12 |   
LLC PDU J+1 | . . . | LLC PDU J+1 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 23 |   
|  |  |  |  |  |  |  | Octet 24 |   
|  | Filling Octets |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
RLC Block with BSN=N+1 (mod SNS) |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Bit |  |  |  |  |  |  |  |  |   
8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |  |   
|  |  |  |  |  | FBI=0 | E=0 | Octet 1 |   
Length indicator=126 | E=0 | Octet 2 |  |  |  |  |  |  |   
Length indicator=19 | E=0 | Octet 3 |  |  |  |  |  |  |   
Length indicator=127 | E=1 | Octet 4 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 5 |   
LLC PDU J+2 | . . . | LLC PDU J+2 |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet 23 |   
|  |  |  |  |  |  |  |  |   
|  | Filling Octets |  |  |  |  |  |  |   
|  |  |  |  |  |  |  | Octet N2 |   
Figure B.11: Example for the case when the LLC PDU J+1 ends in the previous
RLC data block and the start of the next LLC PDU J+2 is in the next RLC data
block which is indicated using LI=126 as the first LI in that RLC data block.
###### ## Annex C (informative): Message Sequence Diagrams
The following figures illustrate message sequences for:
\- one phase mobile originated access (figure C.1); and
\- network originated access (figure C.2).
Figure C.1: Message Sequence Diagram for one phase packet access
Figure C.2: TBF establishment initiated by the network
###### ## Annex D (informative): (void)
###### ## Annex E (informative): (void)
###### ## Annex F (informative): Examples of Countdown procedure operation
This annex presents several examples of the countdown procedure operation.
The following parameters are used in the following examples:
TBC = total number of RLC data blocks that will be transmitted in the TBF;
BSN\' = absolute block sequence number of the RLC data block, with range from
0 to (TBC - 1);
NTS = number of timeslots assigned to the uplink TBF in the assignment
message, with range 1 to 8.
## F.1 Example 1
In this example, shown in the first column, the total number of RLC data
blocks in the TBF (TBC) is 155, the number of timeslots (NTS) is 1, and
BS_CV_MAX is 15. The second column shows the same example with BS_CV_MAX = 6.
* * *
TBC 155 TBC 155  
NTS 1 NTS 1  
BS_CV_MAX 15 BS_CV_MAX 6
**BSN\'** **CV** **BSN\'** **CV**  
137 15 137 15  
138 15 138 15  
139 15 139 15  
140 14 140 15  
141 13 141 15  
142 12 142 15  
143 11 143 15  
144 10 144 15  
145 9 145 15  
146 8 146 15  
147 7 147 15  
148 6 148 6  
149 5 149 5  
150 4 150 4  
151 3 151 3  
152 2 152 2  
153 1 153 1  
154 0 154 0
* * *
Figure F.1: Example 1
## F.2 Example 2
In this example, shown in the first column, the total number of RLC data
blocks in the TBF (TBC) is 155, the number of timeslots (NTS) is 3, and
BS_CV_MAX is 6. Note that the RLC data block with BSN\' = 154 arbitrarily
occurs in timeslot 2. In the second column, the same example is shown with the
RLC data block with BSN\' = 154 occuring in timeslot 0.
TBC 155
NTS 3
BS_CV_MAX 6
* * *
**TS0** **TS1** **TS2** **TS0** **TS1** **TS2**  
**BSN\'** **CV** **BSN\'** **CV** **BSN\'** **CV** **BSN\'** **CV** **BSN\'**
**CV** **BSN\'** **CV** 125 15 126 15 127 15 127 15 128 15 129 15 128 15 129
15 130 15 130 15 131 15 132 15 131 15 132 15 133 15 133 15 134 15 135 15 134
15 135 15 136 6 136 6 137 6 138 6 137 6 138 6 139 5 139 5 140 5 141 5 140 5
141 5 142 4 142 4 143 4 144 4 143 4 144 4 145 3 145 3 146 3 147 3 146 3 147 3
148 2 148 2 149 2 150 2 149 2 150 2 151 1 151 1 152 1 153 1 152 1 153 1 154 0
154 0
* * *
Figure F.2: Example 2
## F.3 Example 3
In this example, the channel coding scheme is changed at BSN\' = 149,
resulting in more RLC data blocks being required to complete the TBF. The
value of TBC is changed from 155 to 165 at BSN\' = 149.
TBC 155
NTS 3
BS_CV_MAX 6
* * *
**TS0** **TS1** **TS2**  
**BSN\'** **CV** **BSN\'** **CV** **BSN\'** **CV** 125 15 126 15 127 15 128 15
129 15 130 15 131 15 132 15 133 15 134 15 135 15 136 6 137 6 138 6 139 5 140 5
141 5 142 4 143 4 144 4 145 3 146 3 147 3 148 2 149 5 150 5 151 5 152 4 153 4
154 4 155 3 156 3 157 3 158 2 159 2 160 2 161 1 162 1 163 1 164 0
* * *
Figure F.3: Example 3
###### ## Annex G (informative): Handling of erroneous protocol data, examples
Procedures for the handling of erroneous protocol data are defined in sub-
clause 11.1. These procedures define error labels for the treatment of
syntactical errors in a received message.
## G.1 Application of error labels
An RLC/MAC control message description could have an error label included, as
shown in the examples below.
+-----------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | ... | | | | \ | | | | ! \ > ; | +-----------------------------------------------+
In the case of a complete message, the contents of the received syntactically
incorrect message can be ignored.
Or
+-------------------------------------------------+ | \ | | | | ... | | | | { 00 \ | | | | \| 01 \ | | | | ! \ > } | | | | ... | | | | \ | +-------------------------------------------------+
The syntactically incorrect description within the { } brackets can be
ignored, the correctly received descriptions preceding and following the { }
brackets shall be accepted.
Or
+-----------------------------------------------+ | \ ::= | | | | \ | | | | { 1 \ } ** 0 | | | | ... | | | | ! \ > ; | +-----------------------------------------------+
The above description indicates that the syntactically incorrect structure can
be ignored. (Note: When this structure is included in the description of a
message, any description following the structure must allow truncation.)
## G.2 Application of the \'Message escape\' error label
The \'Message escape\' branch protects the comprehension of the description
following bit \'0\', as shown in the example below.
+---------------------------------------------------------------+ | \ ::= -- _Protocol version 1_ | | | | \ | | | | { 0 \ | | | | ... | | | | \ | | | | ! \ > } ; | +---------------------------------------------------------------+
The comprehension of \'FIELD_2\' is required. If the receiver detects bit
\'1\', the \'Message escape\' branch is called and the remaining part of the
message can be ignored.
The \'Message escape\' branch may be used to introduce an new alternative
coding of the message in a later version of the protocol.
+----------------------------------------------------------------------+ | \ ::= -- _Protocol version 2_ | | | | \ | | | | { 0 \ | | | | ... | | | | \ | | | | \| 1 -- _New code option, replacing old \'Message escape\':_ | | | | { 00 \ | | | | ... | | | | \ | | | | ! \ > | | } } ; | +----------------------------------------------------------------------+
An alternative coding, including \'FIELD_3\', is introduced following \'bit
1\' in the former \'Message escape\' branch. A new \'Message escape\' is
defined, this time using to control bits to allow future modification.
A receiver implemented according to the original syntax will not accept the
new coding. The original \'Message escape\' branch will be called and the
remaining part of the message, including \'FIELD_3\' is ignored. The content
of \'FIELD_1\' (e.g. information to identify the receiver) is accepted and can
be used to determine appropriate condition handling.
## G.3 Application of truncated concatenation including \'padding bits\'
The truncated concatenation may include \'padding bits\' at the end of a
message. In that case, the resulting concatenation shall fit exactly with the
received message length, otherwise the message is syntactically incorrect.
The construction is useful, e.g. when a message ends with a sequence of
optional components, where the transmitter may need to truncate tailing bits
\'0\', indicating optional components not included in the message.
+-----------------------------------------+ | \ ::= | | | | ... | | | | { { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | ... | | | | { 0 \| 1 \ } | | | | \ } // ; | +-----------------------------------------+
If the optional components from k to N are not needed in the message, the
transmitter may use the full message length for the components up to optional
component k - 1. The receiver accepts this message and assumes that the choice
bits for optional components from k to N are all set to zero (i.e. these
components are not present).
However, if the receiver detects a syntactical error within one optional
component which is indicated as present in the message, that results in a
truncated concatenation which does not fit with the received message length.
In this case, the receiver shall not accept the message as being syntactically
correct.
An error label may be provided within a truncated concatenation to allow the
receiver to accept part of a concatenation in case of a syntactical error
within it. This is useful for recurring components at the end of a message.
+----------------------------------------------------------------------+ | \ ::= | | | | ... | | | | { { 1 { \ ! \ > } } ** 0 | | | | \ } // ; | +----------------------------------------------------------------------+
If one of the recurring components is syntactically incorrect, the error
branch is called. The error branch expands to the end of the message. The tail
bit \'0\', terminating the recursion, and the \'spare padding\' are truncated.
The receiver accepts any syntactically correct instance of the recurring
component preceding the syntactically incorrect one in the message.
## G.4 Message extension using \'padding bits\'
The bit \'0\' in the first bit position of the \'padding bits\', see sub-
clause 11, may be altered into a bit \'1\' in future versions of the present
document, in order to indicate an extension of the message content. When a
message is received with bit \'1\' in this position, a receiver implemented
according to the current version of the present document shall ignore the
remaining part of the message.
The example show how a message can be extended, relying on the fact that the
\'padding bits\' are defined with bit \'0\' in the first bit position.
+----------------------------------------------------------------------+ | \ ::= -- Current version of the | | present document | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
The presence of the extension of the message content is indicated by bit
\'1\'. The transmitter shall send a bit \'1\' in this position if any content
is defined for the remaining part of the message. If a bit \'0\' is received
in this position by a receiver in the new version, it shall ignore the
remaining part of the message.
+----------------------------------------------------------------------+ | \ ::= -- Future version of the | | present document | | | | \ | | | | { null \| 0 bit** = \ \-- Receiver backward | | compatible with earlier version | | | | \| 1 -- Bit \'1\' sent by transmitter in new version | | | | \ | | | | \ } ; -- New \'padding bits\' allows further | | extension | +----------------------------------------------------------------------+
## G.5 Message extension using the Extension Bits IE
The Extension Bits IE defined in sub-clause 12.26 may be used in some messages
or information elements as a place­holder for future extension when an
extension at the end of the message is less suitable. The Extension Bits IE is
usually included as an optional or conditional information element. When
included, it provides a length indication and a corresponding set of 'spare
bits', which may be used in future versions of the protocol to carry an
extension of the message contents.
When this extension mechanism is applied, the original Extension Bits IE shall
be removed from the message and replaced by a new information element or a new
construction, carrying an extension by up to 64 bits of the message contents.
An example is given below.
+----------------------------------------------------------------------+ | \ ::= -- Current (original) version | | of the present document | | | | ... | | | | { 0 \| 1 \ } _\-- sub-clause | | 12.26_ | | | | ... | | | | \ ; | +----------------------------------------------------------------------+
The Extension Bits IE is replaced by a new construction named 'VVV Extension
Info'. The new construction includes extensions introduced in Rel-M and Rel-N.
In order to enable backward compatibility, truncation of the extension
information may occur between released versions of the protocol. The receiver
shall assume the value zero of any truncated bits. In order to enable forward
compatibility, additional 'spare bits' may occur after the defined extensions.
+----------------------------------------------------------------------+ | \ ::= -- Future version of the | | present document; extensions in Rel-M and Rel-N | | | | ... | | | | { 0 \| 1 \ | | | | \ ! { bit** = \ }} > } | | | | ... | | | | \ ; | +----------------------------------------------------------------------+ | \ ::= | | | | { { _\-- Rel-M extension_ | | | | \ } | | | | { _\-- Rel-N extension_ | | | | \ } | | | | \** } // ; _\-- Truncation may occur between | | released versions of the protocol_ | | | | _\-- The receiver shall assume the value zero of any truncated bits_ | +----------------------------------------------------------------------+
###### ## Annex H (informative): (void)
###### ## Annex I (informative): EGPRS RLC Window Sizes
Although for each multislot allocation, the selected window size could
preferably be the maximum, a smaller window size may be selected in order to
optimize e.g. the number of (multislot) users and network memory consumption.
However, for each MS, in order to meet a performance which corresponds to the
number of timeslots assigned to this MS, the selected window size shall not be
smaller than a minimum window size for this particular multislot allocation.
For each network, the round-trip delay has a direct implication on the
performance, hence on the definition of the minimum window sizes.
Consequently, no generic minimum window sizes are suggested. However, for
information, the table below lists the window size ranges recommended with a
round-trip delay of about 120 ms.
* * *
Window size Coding Timeslots assigned (Multislot capability)  
1 2 3 4 5 6 7 8-16 64 00000 Min  
96 00001 Min  
128 00010  
160 00011 Min Min  
192 00100 Max  
224 00101 Min  
256 00110 Max  
288 00111  
320 01000 Min  
352 01001 Min  
384 01010 Max  
416 01011  
448 01100  
480 01101  
512 01110 Max Min 544 01111  
576 10000  
608 10001  
640 10010 Max  
672 10011  
704 10100  
736 10101  
768 10110 Max  
800 10111  
832 11000  
864 11001  
896 11010 Max  
928 11011  
960 11100  
992 11101  
1024 11110 Max Reserved 11111 x X x x x x x X
* * *
###### ## Annex J (informative): An example of MCS-8 retransmission
This example shows the radio blocks of an MCS-8 RLC data block retransmitted
using MCS-6 (padding) and MCS-3 (padding).
The following hypothesis are used:
\- Uplink block;
\- The MCS-8 RLC data block contains three LLC PDU: last part of LLC1 (last 40
octets), the whole LLC2 (length 60 octets) and the first part of LLC3 (first
34 octets);
\- No TLLI nor PFI is present.
## J.1 Original MCS-8 RLC data block
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown Value SI R 1 (header)  
BSN1 TFI 2 (header)  
BSN 2 BSN 1 3 (header)  
BSN2 4 (header)  
Spare PI RSB CPS 5 (header)  
Spare _(See note_  
TI E _below)_ Length indicator = 40 E 1 (RLC data 1)  
LLC1 (octet 1) 2 (RLC data 1)  
LLC1 (octet 2) 3 (RLC data 1)  
**: :** :  
LLC1 (octet 39) 40 (RLC data 1)  
LLC1 (octet 40) 41 (RLC data 1)  
LLC2 (octet 1) 42 (RLC data 1)  
LLC2 (octet 2) 43 (RLC data 1)  
**: :** :  
LLC2 (octet 26) 67 (RLC data 1)  
LLC2 (octet 27) 68 (RLC data 1)  
TI E _(See note below)_ Length indicator = 33 E 1 (RLC data 2)  
LLC2 (octet 28) 2 (RLC data 2)  
LLC2 (octet 29) 3 (RLC data 2)  
**: :** :  
LLC2 (octet 59) 33 (RLC data 2)  
LLC2 (octet 60) 34 (RLC data 2)  
LLC3 (octet 1) 35 (RLC data 2)  
LLC3 (octet 2) 36 (RLC data 2)  
**: :** :  
LLC3 (octet 33) 67 (RLC data 2)  
LLC3 (octet 34) 68 (RLC data 2)
* * *
NOTE: At this row, only a few bits are sent (not a full octet).
## J.2 Retransmission in two MCS-6 RLC data blocks
When this RLC data block is repeated using MCS-6 (padding), the two radio
blocks have the following format:
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown value SI R 1 (header)  
BSN 1 TFI 2 (header)  
CPS BSN 1 3 (header)  
Spare PI RSB CPS 4 (header)  
Spare _(See note below)_  
Padding 1 (RLC data)  
**: :** :  
Padding 6 (RLC data)  
TI E _(See note below)_ Length indicator = 40 E 7 (RLC data)  
LLC1 (octet 1) 8 (RLC data)  
LLC1 (octet 2) 9 (RLC data)  
**: :** :  
LLC1 (octet 39) 46 (RLC data)  
LLC1 (octet 40) 47 (RLC data)  
LLC2 (octet 1) 48 (RLC data)  
LLC2 (octet 2) 49 (RLC data)  
**: :** :  
LLC2 (octet 26) 73 (RLC data)  
LLC2 (octet 27) 74 (RLC data)
* * *
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown value SI R 1 (header)  
BSN 1 TFI 2 (header)  
CPS BSN 1 3 (header)  
Spare PI RSB CPS 4 (header)  
Spare _(See note below)_  
Padding 1 (RLC data)  
**: :** :  
Padding 6 (RLC data)  
TI E _(See note below)_ Length indicator = 33 E 7 (RLC data)  
LLC2 (octet 28) 8 (RLC data)  
LLC2 (octet 29) 9 (RLC data)  
**: :** :  
LLC2 (octet 59) 39 (RLC data)  
LLC2 (octet 60) 40 (RLC data)  
LLC3 (octet 1) 41 (RLC data)  
LLC3 (octet 2) 42 (RLC data)  
**: :** :  
LLC3 (octet 33) 73 (RLC data)  
LLC3 (octet 34) 74 (RLC data)
* * *
NOTE: At this row, only a few bits are sent (not a full octet).
## J.3 Retransmission in four MCS-3 RLC data blocks
When the original RLC data block is repeated using MCS-3, the four radio
blocks have the following format:
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown value SI R 1 (header)  
BSN 1 TFI 2 (header)  
CPS BSN 1 3 (header)  
Spare PI RSB SPB CPS _(See note 1 below)_  
Padding 1 (RLC data)  
**: :** :  
Padding 6 (RLC data)  
TI E _(See note 1 below)_ Length indicator = 40 E 7 (RLC data)  
LLC1 (octet 1) 8 (RLC data)  
LLC1 (octet 2) 9 (RLC data)  
**: :** :  
LLC1 (octet 29) 36 (RLC data)  
LLC1 (octet 30) 37 (RLC data)
* * *
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown value SI R 1 (header)  
BSN 1 TFI 2 (header)  
CPS BSN 1 3 (header)  
Spare PI RSB SPB CPS _(See note 1 below)_  
TI E _(See note 2 below)_ LLC1 (octet 31) 1 (RLC data)  
LLC1 (octet 32) 2 (RLC data)  
**: :** :  
LLC1 (octet 39) 9 (RLC data)  
LLC1 (octet 40) 10 (RLC data)  
LLC2 (octet 1) 11 (RLC data)  
LLC2 (octet 2) 12 (RLC data)  
**: :** :  
LLC2 (octet 26) 36 (RLC data)  
LLC2 (octet 27) 37 (RLC data)
* * *
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown value SI R 1 (header)  
BSN 1 TFI 2 (header)  
CPS BSN 1 3 (header)  
Spare PI RSB SPB CPS _(See note 1 below)_  
Padding 1 (RLC data)  
**: :** :  
Padding 6 (RLC data)  
TI E _(See note 1 below)_ Length indicator = 33 E 7 (RLC data)  
LLC2 (octet 28) 8 (RLC data)  
LLC2 (octet 29) 9 (RLC data)  
**: :** :  
LLC2 (octet 56) 36 (RLC data)  
LLC2 (octet 57) 37 (RLC data)
* * *
* * *
8 7 6 5 4 3 2 1 Octet TFI Countdown value SI R 1 (header)  
BSN 1 TFI 2 (header)  
CPS BSN 1 3 (header)  
Spare PI RSB SPB CPS _(See note 1 below)_  
TI E _(See note 2 below)_ LLC2 (octet 58) 1 (RLC data)  
LLC2 (octet 59) 2 (RLC data)  
LLC2 (octet 60) 3 (RLC data)  
LLC3 (octet 1) 4 (RLC data)  
LLC3 (octet 2) 5 (RLC data)  
**: :** :  
LLC3 (octet 33) 36 (RLC data)  
LLC3 (octet 34) 37 (RLC data)
* * *
NOTE 1: At this row, only a few bits are sent (not a full octet).
NOTE 2: In this radio block, the bits TI / E are meaningless.
###### ## Annex K (informative): Signalling uplink assignments for Downlink
Dual Carrier and/or RTTI configurations
In the PACKET UPLINK ASSIGNMENT and PACKET TIMESLOT RECONFIGURE, uplink
assignments may include the Dynamic Allocation 2 struct.
The maximum number of USFs, timeslots and PDCH pairs for which allocations are
made (i.e. the maximum value of N_USF + 1, N_TS + 1 and N_PAIRS + 1,
respectively), and hence the maximum number of repetitions of the subsequent
fields and structures, are as follows:
+----------+----------+----------+----------+----------+----------+ | As | RTTI | USF mode | Maximum | Maximum | Maximum | | signment | confi | (ap | value of | value of | value of | | Type | guration | plicable | (N_USF | (N_TS + | ( | | | | to RTTI | + 1) | 1) | N_PAIRS | | | | config | | | + 1) | | | | urations | | | | | | | only) | | | | +----------+----------+----------+----------+----------+----------+ | Single | No | | 8 | 8 | n/a | | Carrier | | | | | | | As | | | | | | | signment | | | | | | | | | | | | | | (Note 1) | | | | | | +----------+----------+----------+----------+----------+----------+ | | Yes | RTTI | 4 | n/a | 4 | +----------+----------+----------+----------+----------+----------+ | | Yes | BTTI | 8 | n/a | 4 | +----------+----------+----------+----------+----------+----------+ | Dual | No | | 16 | 16 | n/a | | Carrier | | | | | | | As | | | | | | | signment | | | | | | +----------+----------+----------+----------+----------+----------+ | | Yes | RTTI | 8 | n/a | 8 | +----------+----------+----------+----------+----------+----------+ | | Yes | BTTI | 16 | n/a | 8 | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | This | | | | | | | applies | | | | | | | when the | | | | | | | As | | | | | | | signment | | | | | | | Type | | | | | | | field | | | | | | | i | | | | | | | ndicates | | | | | | | \"As | | | | | | | signment | | | | | | | on | | | | | | | single | | | | | | | carrier | | | | | | | only\" | | | | | | | or | | | | | | | \"Modi | | | | | | | fication | | | | | | | of | | | | | | | Existing | | | | | | | Assi | | | | | | | gnment\" | | | | | | +----------+----------+----------+----------+----------+----------+
The order of USF assignment is as shown in the table below. PNx stands for
PDCH pair number x, where PDCH pairs are ordered according to the timeslot
numbers of their constituent PDCHs. The prefixes C1 and C2 indicate the
resources on carrier 1 and carrier 2 respectively. The subscript \'a\'
(respectively \'b\') indicates that the USF applies to the first two
(respectively second two) TDMA frames of the following basic radio block
period (see sub-clauses 8.1.1.1, 8.1.1.2.1).
+----------------+----------------+----------------+----------------+ | Assignment | RTTI | Order of USF | Order of USF | | Type | configuration | assignments | assignments | | | | | (RTTI mode | | | | | with BTTI USF, | | | | | without power | | | | | control | | | | | parameters) | +----------------+----------------+----------------+----------------+ | Single Carrier | No | TN0, ...TN7 | n/a | | Assignment | | | | | | | | | | (Note 1) | | | | +----------------+----------------+----------------+----------------+ | Single Carrier | Yes | PN0, ..PN3 | PN0a, PN0b, | | Assignment | | | PN1a, ... | | | | (Note 2) | PN3b | | (Note 1) | | | | | | | | (Note 2) | +----------------+----------------+----------------+----------------+ | **Dual Carrier | No | C1/TN0, | n/a | | Assignment** | | ...C1/TN7, | | | | | | | | | | C2/TN0, | | | | | ...C2/TN7 | | +----------------+----------------+----------------+----------------+ | **Dual Carrier | Yes | C1/PN0, | C1/PN0a, | | Assignment** | | ...C1/PN3, | C1/PN0b, | | | | | C1/PN1a, ... | | | | C2/PN0, | C1/PN3b, | | | | ...C2/PN3 | C2/PN0a, | | | | | C2/PN0b, | | | | (Note 2) | C2/PN1a, ... | | | | | C2/PN3b | | | | | | | | | | (Note 2) | +----------------+----------------+----------------+----------------+ | NOTE 1: This | | | | | applies when | | | | | the Assignment | | | | | Type field is | | | | | included and | | | | | indicates | | | | | \"Assignment | | | | | on single | | | | | carrier only\" | | | | | or | | | | | \"Modification | | | | | of Existing | | | | | Assignment\" | | | | | | | | | | NOTE 2: In a | | | | | RTTI | | | | | configuration, | | | | | the table | | | | | assumes a | | | | | default PDCH | | | | | pair | | | | | configuration | | | | | on each | | | | | carrier (see | | | | | sub-clause | | | | | 7.1.3.6). If | | | | | fewer than | | | | | four PDCH | | | | | pairs are | | | | | configured on | | | | | a carrier the | | | | | maximum value | | | | | of N_USF or | | | | | N_PAIRS is | | | | | c | | | | | orrespondingly | | | | | reduced and | | | | | the list | | | | | contains only | | | | | the PDCH pairs | | | | | in the PDCH | | | | | pair | | | | | configuration, | | | | | e.g. if there | | | | | are 3 PDCH | | | | | pairs | | | | | configured on | | | | | each carrier, | | | | | the order of | | | | | USF | | | | | assignments | | | | | for a Downlink | | | | | Dual Carrier, | | | | | RTTI | | | | | configuration | | | | | is C1/PN0 ... | | | | | C1/PN2, C2/PN0 | | | | | ... C2/PN2. | | | | +----------------+----------------+----------------+----------------+
If the value of (N_USF + 1), (N_TS + 1) or (N_PAIRS + 1) is lower than the
maximum, then the list of USF assignments is truncated, and there is
(implicitly) no assignment for the timeslots/PDCH pairs for which no
corresponding value is present.
###### ## Annex L (informative): MultislotClassGroup in EGPRS Packet Channel
Request
In the EGPRS PACKET CHANNEL REQUEST message with cause \"One Phase Access
Request by Reduced Latency MS\", the mobile station multislot class is
signalled by the MultislotClassGroup. The MultislotClassGroup indicates the
set of the EGPRS multislot classes to which the mobile station belongs.
Supported multislot class configurations are limited by the maximum transition
times **(T~ta~, T~tb~, T~ra~, T~rb~) and the minimum number of RX, TX and SUM
slots common to the multislot classes in each set as follows (see also 3GPP TS
45.002)**
* * *
MultislotClassGroup Maximum number of slots Minimum number of slots  
Rx Tx Sum T~ta~ T~tb~ T~ra~ T~rb~ 0 0 0 2 2 4 3 1 3 1 0 0 1 3 2 5 3 1 2 1 0 1
0 5 2 6 2 1 1+to 1 0 1 1 4 3 5 2 1 2 1 1 0 0 5 4 6 2 1 1 1 1 0 1 5 4 6 2 1
1+to 1 1 0 1 6 5 7 1 1 1 to 1 1 1 reserved
* * *
#