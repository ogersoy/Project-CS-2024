# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document is part of a TS-family covering the 3^rd^ Generation
Partnership Project; Technical Specification Group Services and System
Aspects; Telecommunication management; as identified below:
32.441 \"Trace **Management Integration Reference Point (IRP):**
Requirements\".
**32.442 \"Trace Management Integration Reference Point (IRP): Information
Service (IS)\".**
32.443 \"Trace Management Integration Reference Point (IRP): Common Object
Request Broker Architecture (CORBA) Solution Set (SS)\".
32.445 \"Trace Management Integration Reference Point (IRP): eXtensible Markup
Language (XML) file format definition\".
The present document is part of a TS-family which describes the information
service necessary for the Telecommunication Management (TM) of 3G systems. The
TM principles and TM architecture are specified in 3GPP TS 32.101 [1] and 3GPP
TS 32.102 [2].
Trace provides very detailed information on call level for a specific
subscriber or MS. This data is an additional information source to Performance
Measurements and allows deeper investigations in problems solving or in case
of optimization.
# 1 Scope
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 32.101: \"Telecommunication management; Principles and high level
requirements\".
[2] 3GPP TS 32.102: \"Telecommunication management; Architecture\".
[3] 3GPP TS 32.150: \"Telecommunication management; Integration Reference
Point (IRP) Concept and definitions\".
[4] 3GPP TS 32.152: \"Telecommunication management; Integration Reference
Point (IRP) Information Service (IS) Unified Modelling Language (UML)
repertoire\".
[5] 3GPP TS 32.622: \"Telecommunication management; Configuration Management
(CM); Generic network resources Integration Reference Point (IRP); Network
Resource Model (NRM)\".
[6] 3GPP TS 32.302: \"Telecommunication management; Configuration Management
(CM); Notification Integration Reference Point (IRP): Information Service
(IS)\".
[7] 3GPP TS 32.342: \" Telecommunication management; File Transfer (FT)
Integration Reference Point (IRP): Information Service (IS)\".
[8] 3GPP TS 32.312: \"Telecommunication management; Generic Integration
Reference Point (IRP) management: Information Service (IS)\".
[9] 3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment
trace; Trace control and configuration management\".
[10] 3GPP TS 32.602: \"Telecommunication management; Configuration Management
(CM); Basic CM Integration Reference Point (IRP): Information Service (IS)\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TS 32.101 [1], 3GPP TS 32.102 [2], 3GPP TS 32.150 [3] and the following
apply:
**IRPAgent:** See 3GPP TS 32.102 [2].
**IRPManager:** See 3GPP TS 32.102 [2].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TS
32.101 [1], 3GPP TS 32.102 [2], 3GPP TS 32.150 [3] and the following apply:
IOC Information Object Class
IRP Integration Reference Point
IS Information Service
OMG Object Management Group
UML Unified Modelling Language (OMG)
# 4 System Overview
## 4.1 System context
The general definition of the System Context for the present IRP is found in
3GPP TS 32.150 [3] subclause 4.7.
In addition, the set of related IRP(s) relevant to the present IRP is shown in
the two diagrams below.
Figure 4.1.1: System Context A
**Figure 4.1.2: System Context B**
## 4.2 Compliance rules
For general definitions of compliance rules related to qualifiers
(Mandatory/Optional/Conditional) for _operations_ , _notifications_ _and_
_parameters_ (of operations and notifications) please refer to 3GPP TS 32.150
[3].
# 5 Information Object Classes
## 5.1 Imported information entities and local labels
* * *
Label reference Local label 3GPP TS 32.622 [5], information object class, Top
Top 3GPP TS 32.622 [5], information object class, IRPAgent IRPAgent 3GPP TS
32.622 [5], information object class, GenericIRP GenericIRP 3GPP TS 32.302
[6], information object class, NotificationIRP NotificationIRP 3GPP TS 32.342
[7], information object class, FileTransferIRP FileTransferIRP 3GPP TS 32.602
[10], information object class, ManagedEntity ManagedEntity
* * *
## 5.2 Class diagram
### 5.2.1 Attributes and relationships
This clause introduces the set of Information Object Classes (IOCs) that
encapsulate information within the IRPAgent. The intent is to identify the
information required for the TraceIRP implementation of its operations and
notification emission. This clause provides the overview of all support object
classes in UML. Subsequent clauses provide more detailed specification of
various aspects of these support object classes.
{width="5.839583333333334in" height="4.325in"}
Figure 5.2.1: Information Object Class (IOC) UML diagram
### 5.2.2 Inheritance
{width="4.157638888888889in" height="6.288888888888889in"}
Figure 5.2.2: Information Object Class Inheritance UML Diagram
## 5.3 Information object class definitions
### 5.3.1 TraceJob
#### 5.3.1.1 Definition
It represents a task that controls the Trace Sessions and collects the trace
data (i.e. collects the TraceRecord of multiple ManagedEntity instances). The
TraceReference is a unique ID, which identifies the Trace Session that has
been created by the TraceJob and activated to one or multiple ManagedEntity
instance(s).
When a TraceJob is created the following attributes cannot be modified via the
Itf-N:
  * TraceReference
  * ListOfInterfaces
  * ListofNeTypes
  * TraceDepth
  * TraceTarget
  * TriggeringEvent
If for any reason the TraceIRP determines that a Trace Session has been
activated in its ManagedEntity(ies) the TraceIRP shall emit the
\"noitfyTraceSessionLocalActivation\" notification to the subscribed
IRPManagers to inform the active Trace Sessions. The IRPManagers can decide
whether they deactivate the Trace Session or keep the Trace Session active.
(E.g. if the TraceReference is colliding with an existing TraceJob's
TraceReference, the IRPManager may decide to immediately deactivate the Trace
Session in that ManagedEntity.)
The TraceJob shall use its information to activate and configure Trace
Session(s) in the requested ManagedEntity instance(s). When the TraceIRP
determines that there are available TraceRecord files, it shall emit a
notification to all subscribed IRPManagers informing the availability of the
files. The method and the notification of the available files is described in
the File Transfer IRP (3GPP TS 32.342 [7]).
If a TraceJob receives an indication from one of its ManagedEntity that
starting a Trace Recording Session is failed for any reason, the
\"notifyTraceRecordingSessionFailure\" notification may be emitted to inform
all subscribed IRPManagers that there was a Trace Recording Session that was
not started in the ManagedEntity.
#### 5.3.1.2 Attributes
* * *
Attribute name Visibility Support Qualifier Read Qualifier Write Qualifier
traceReference + M M - listOfInterfaces + O O - listOfNeTypes + CM M -
traceDepth + M M - traceTarget + M M - triggeringEvent + M M -
traceCollectionEntityAddress + M M -
* * *
#### 5.3.1.3 Attribute constraints
The listOfNeTypes attributes shall be present only for Signalling Based
Activation.
The traceTarget shall be public ID in case of a Management Based Activation is
done to an ScscfFunction. The TraceTarget shall be cell only in case of the
UTRAN cell traffic trace function.\ The TraceTarget shall be E-UtranCell only
in case of E-UTRAN cell traffic trace function.The traceTarget shall be either
IMSI or IMEI(SV) if the Trace Session is activated to any of the following
ManagedEntity(ies):
  * HssFunction
  * MscServerFunction
  * SgsnFunction
  * GgsnFunction
  * BmscFunction
  * RncFunction
  * MmeFunction
> The traceTarget shall be IMSI if the Trace Session is activated to a
> ManagedEntity playing a role of SgwFunction.
### 5.3.2 TraceRecord
### 5.3.2.1 Definition
TraceRecord is the representation of the files containing the logged
information from the Trace Recording Sessions.
#### 5.3.2.2 Attributes
* * *
Attribute name Visibility Support Qualifier Read Qualifier Write Qualifier
fileName + M M -
* * *
### 5.3.3 TraceIRP
#### 5.3.3.1 Definition
TraceIRPis the representation of the trace management capabilities specified
by the present document. This IOC inherits from ManagedGenericIRP IOC
specified in 3GPP TS 32.312 [8].
### 5.3.4 ManagedEntity
#### 5.3.4.1 Definition
In case of Signalling Based Activation the ManagedEntity represents the role
that can be played by an instance of one of the following IOCs:
  * HssFunction
  * MscServerFunction
  * SgsnFunction
  * MmeFunction
In case of Management Based Activation the ManagedEntity represents the role
that can be played by an instance of the following IOCs:
  * HssFunction
  * MscServerFunction
  * SgsnFunction
  * GgsnFunction
  * BmscFunction
  * RncFunction
  * CscfFunction
  * MmeFunction
  * SgwFunction
In case of Cell Traffic Trace the ManagedEntity represents the role that can
be played by an instance of the of the following IOCs:
  * UtranCell
  * E-UtranCell
## 5.4 Information relationship definitions
### 5.4.1 relation-traceIRP-traceJob (M)
#### 5.4.1.1 Definition
This represents the relationship between TraceIRP and the TraceJob.
#### 5.4.1.2 Roles
* * *
Name Definition theTraceIRP It represents the TraceIRP theTraceJobList It
represents the TraceJobList
* * *
### 5.4.2 relation-traceJob-managedEntity (M)
#### 5.4.2.1 Definition
This represents the relationship between TraceJob and the ManagedEntity.
#### 5.4.2.2 Roles
* * *
Name Definition theManagedEntity The ManagedEntity, when playing this role,
represents the actual network resource instance, where a Trace Session is
activated. theTraceJob It represents the TraceJob
* * *
### 5.4.3 relation-traceJob-traceRecord (M)
#### 5.4.3.1 Definition
This represents the relationship between TraceJob and the TraceRecord.
#### 5.4.3.2 Roles
* * *
Name Definition theTraceJob It represents the TraceJob theTraceRecord It
represnts the TraceRecord.
* * *
## 5.5 Information attribute definitions
### 5.5.1 Definition and legal values
* * *
Attribute Name Definition Legal Values listOfInterfaces It specifies the
interfaces that needs to be traced in the given ManagedEntityFunction See 3GPP
TS 32.422 [9] listOfNETypes It specifies in which type of ManagedFunction the
trace should be activated. See 3GPP TS 32.422 [9] traceCollectionEntityAddress
It specifies the address of the Trace Collection Entity within an IRPManager.
See 3GPP TS 32.422 [9] traceDepth It specifies the trace depth of the
ManagedEntityFunction instances. See 3GPP TS 32.422 [9] traceReference A
globally unique identifier, which uniquely identifies the Trace Session that
is created by the TraceJob. Any positive integer value traceTarget It
specifies what is the target object of the Trace IMSI, IMEI, IMEISV, Public
ID, Private ID, Cell(identified by its DN id) triggeringEvent It specifies the
triggering event parameter of the trace session. See 3GPP TS 32.422 [9]
* * *
# 6 Interface Definition
## 6.1 Class diagram representing interfaces
{width="6.6930555555555555in" height="3.7006944444444443in"}
Figure 6.1: Class Diagram
## 6.2 Generic rules
\- **Rule 1:** each operation with at least one input parameter supports a
pre-condition valid_input_parameter which indicates that all input parameters
shall be valid with regards to their information type. Additionally, each such
operation supports an exception operation_failed_invalid_input_parameter which
is raised when pre-condition valid_input_parameter is false. The exception has
the same entry and exit state.
\- **Rule 2:** each operation with at least one optional input parameter
supports a set of pre-conditions supported_optional_input_parameter_xxx where
\"xxx\" is the name of the optional input parameter and the pre-condition
indicates that the operation supports the named optional input parameter.
Additionally, each such operation supports an exception
operation_failed_unsupported_optional_input_parameter_xxx which is raised when
(a) the pre-condition supported_optional_input_parameter_xxx is false and (b)
the named optional input parameter is carrying information. The exception has
the same entry and exit state.
\- **Rule 3:** each operation shall support a generic exception
operation_failed_internal_problem which is raised when an internal problem
occurs and that the operation cannot be completed. The exception has the same
entry and exit state.
NOTE: These rules are mapped at the solution set level. Pre-conditions and
exceptions, generated by these rules, need not appear explicitly in the
present document.
## 6.3 TraceIRPManagement (M)
### 6.3.1 Operation activateTraceJob (M)
#### 6.3.1.1 Definition
This operation support IPRManager's request to create a TraceJob through
Itf-N.
Once the TraceJob has been created, the attributes of the TraceJob will not be
modified during the lifetime of the TraceJob.
One TraceJob can manage Trace Sessions in one or more ManagedEntity.
#### 6.3.1.2 Input parameters
* * *
Parameter Name Qualifier Information type Comment iOCInstance M
ManagedEntity.objectInstance It specifies the DN of ManagedEntity instance
where Trace Session is to be activated. listOfInterfaces O
TraceJob.listOfInterfaces  
listOfNeTypes CM TraceJob.listOfNeTypes It specifies the type of
ManagedFunctions. traceDepth M TraceJob.traceDepth It shows the traceDepth set
to the Trace Session. traceReference M TraceJob.traceReference It identifies
the TraceSession. traceTarget M TraceJob.traceTarget It specifies whether the
trace shall be activated by IMSI, IMEI(SV), Public ID, Cell(identified by its
DN id). triggeringEvent CO TraceJob.triggeringEvent  
traceCollectionEntityAddress CM TraceJob.traceCollectionEntityAddress It
specifies the address to the Trace Collection Entity that is associated to the
TraceJob. See 3GPP TS 32.422 [9].
* * *
#### 6.3.1.3 Output parameters
* * *
Parameter Name Qualifier Matching Information Comment status M ENUM (Success,
Failure, PartialSuccess)  
unsupportedList M List of \ | identification | | | | | of each | | | | | activated Trace | | | | | Session. | | | | | | | | | | If no | | | | | TraceReference | | | | | can be found, | | | | | then this list | | | | | is empty and | | | | | status is | | | | | \"Success\" | +-----------------+-----------+-----------------+-----------------+ | status | M | ENUM (Success, | The operation | | | | Failure) | may fail | | | | | because of a | | | | | specified or an | | | | | unspecified | | | | | reason. | +-----------------+-----------+-----------------+-----------------+
### 6.3.5 Notification notifyTraceRecordingSessionFailure (O)
#### 6.3.5.1 Definition
The TraceIRP notifies all subscribed IRPManagers and the Trace Collection
Entity (if its address is provided) if a Trace Recording Session in a
ManagedEntity has not been started due to any problem.
#### 6.3.5.2 Input parameters
* * *
Parameter Name Qualifiers Matching Information Comment objectClass M,Y
TraceIRP.objectClass Notification header objectInstance M,Y
TraceIRP.objectInstance Notification header eventTime M,Y -- Notification
header notificationType M,Y \"notifyTraceRecordingSessionFailure\"
Notification header systemDN M,Y -- Notification header notificationID O,Y --
Notification header traceRecordingSessionReference O,N -- The Trace Recording
Session Reference may be visible only in signalling based activation.
traceReference M,Y TraceJob.traceReference  
reason O,N --
* * *
#### 6.3.5.3 Triggering event
##### 6.3.5.3.1 From state
internalProblemInManagedEntity
* * *
Assertion Name Definition internalProblemInManagedEntity Because of an
internal problem the ManagedEntity cannot start a Trace Recording Session.
* * *
##### 6.3.5.3.2 To state
newNotificationReported
* * *
Assertion Name Definition newNotificationReported The \"
notifyTraceRecordingSessionFailure \" notification is emitted to the
subscribed IRPManager(s).
* * *
### 6.3.6 Notification notifyTraceSessionLocalActivation (M)
#### 6.3.6.1 Definition
The TraceIRP notifies all subscribed IRPManagers if a Trace Session is
configured by the Element Manager.
#### 6.3.6.2 Input parameters
* * *
Parameter Name Qualifiers Matching Information Comment objectClass M,Y
TraceIRP.objectClass Notification header objectInstance M,Y
TraceIRP.objectInstance Notification header eventTime M,Y -- Notification
header notificationType M,Y \"notifyTraceSessionLocalActivation\" Notification
header systemDN M,Y -- Notification header notificationID O,Y -- Notification
header traceReference M,Y TraceJob.traceReference  
traceTarget M,Y TraceJob.traceTarget  
iOCInstance M,Y ManagedEntity.objectInstance
* * *
#### 6.3.6.3 Triggering event
##### 6.3.6.3.1 From state
unknownTraceReference
* * *
Assertion Name Definition unknownTraceReference The TraceIRP has detected a
traceReference associated to a Trace Session in a ManagedEntity that is not
initiated via the Itf-N.
* * *
##### 6.3.6.3.2 To state
newNotificationReported
* * *
Assertion Name Definition newNotificationReported The \"
notifyTraceSessionLocalActivation \" notification is emitted to the subscribed
IRPManager(s).
* * *
### 6.3.7 Notification notifyTraceSessionIdentities (CM)
#### 6.3.7.1 Definition
The TraceIRP or the MmeFunction notifies the Trace Collection Entity about the
identities of the subscriber and Equipment in case of tracing a session in
E-UTRAN only.
#### 6.3.7.2 Input parameters
* * *
Parameter Name Qualifiers Matching Information Comment objectClass M,Y
TraceIRP.objectClass, or MmeFunction.objectClass Notification header
objectInstance M,Y TraceIRP.objectInstance, or MmeFunction.objectClass
Notification header eventTime M,Y -- Notification header notificationType M,Y
\"notifyTraceSessionIds\" Notification header systemDN M,Y -- Notification
header notificationID O,Y -- Notification header traceReference M,Y
TraceJob.traceReference  
traceRecordingSessionReference M,Y TraceJob.traceRecordingSessionReference  
traceTarget M,Y TraceJob.traceTarget
* * *
#### 6.3.7.3 Triggering event
##### 6.3.7.3.1 From state
FFS
* * *
Assertion Name Definition FFS FFS
* * *
##### 6.3.7.3.2 To state
FFS
* * *
Assertion Name Definition FFS FFS
* * *
#### 6.3.7.4 Constraint
* * *
Name Definition notifyTraceSessionIdentities Notification CM qualifier Tracing
is performed only in E-UTRAN
* * *
#