# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document is part of a TS-family covering the 3rd Generation
Partnership Project; Technical Specification Group Services and System
Aspects; Telecommunication management, as identified below:
\- **TS 32.421: \"Subscriber and equipment trace: Trace concepts and
requirements\";**
\- TS 32.422: \"Subscriber and equipment trace: Trace control and
configuration management\";
\- TS 32.423: \"Subscriber and equipment trace: Trace data definition and
management\";
Subscriber and equipment trace provide very detailed information at call level
on one or more specific mobile(s).\ This data is an additional source of
information to Performance Measurements and allows going further in monitoring
and optimisation operations.
Contrary to Performance measurements, which are a permanent source of
information, trace is activated on user demand for a limited period of time
for specific analysis purposes.
Trace plays a major role in activities such as determination of the root cause
of a malfunctioning mobile, advanced troubleshooting, optimisation of resource
usage and quality, RF coverage control and capacity improvement, dropped call
analysis, Core Network and UTRAN end-to-end UMTS procedure validation.
The capability to log data on any interface at call level for a specific user
(e.g. IMSI) or mobile type (e.g. IMEI or IMEISV) allows getting information
which cannot be deduced from Performance measurements such as perception of
end-user QoS during his call (e.g. requested QoS vs. provided QoS),
correlation between protocol messages and RF measurements, or interoperability
with specific mobile vendors.
Moreover, performance measurements provide values aggregated on an observation
period; Subscriber and UE Trace give instantaneous values for a specific event
(e.g. call, location update, etc.).
If performance measurements are mandatory for daily operations, future network
planning and primary trouble shooting; Subscriber and UE Trace is the easy way
to go deeper into investigation and UMTS network optimisation.
In order to produce this data, Subscriber and UE Trace are carried out in the
NEs, which comprise the network. The data can then be transferred to an
external system (e.g. an Operations System (OS) in TMN terminology, for
further evaluation).
# 1 Scope
The present document describes the requirements for the management of Trace
and the reporting of Trace data (including FDD mode and TDD mode) across UMTS
networks or EPS networks as it refers to subscriber tracing (tracing of IMSI
or Private ID) and equipment tracing (tracing of IMEI or IMEISV). Trace also
includes the ability to trace all active calls in a cell or multiple cells
(Cell Traffic Trace). It defines the administration of Trace Session
activation/deactivation by the Element Manager (EM), the network or User
Equipment (UE) itself via signalling, the generation of Trace results in the
Network Elements (NEs) and UE and the transfer of these results to one or more
Operations Systems, i.e. EM(s) and/or Network Manager(s) (NM(s)).
The present document is built upon the basic Subscriber and UE Trace concept
described in clause 4.\ The high-level requirements for Trace data, Trace
Session activation/deactivation and Trace reporting are defined in clause 5.
Clause 5 also contains an overview of use cases for Trace (the use cases are
described in Annex A). Trace control and configuration management are
described in 3GPP TS 32.422 [2], and Trace data definition and management are
described in 3GPP TS 32.423 [3].
The present document does not cover any Trace capability limitations within a
NE (e.g. maximum number of simultaneous traced mobiles for a given NE) or any
functionality related to these limitations (e.g. NE aborting a Trace Session
due to resource limitations).
The objectives of the Trace specifications are:
a) to provide the descriptions for a standard set of Trace data;
b) to produce a common description of the management technique for Trace
administration and result reporting;
c) to define a method for Trace results reporting across the management
interfaces.
The following is beyond the scope of the present document, and therefore the
present document does not describe:
\- tracing non-Subscriber or non-UE related events within an NE;
\- tracing of all possible parties in a multi-party call (although multiple
calls related to the IMSI specified in the Trace control and configuration
parameters are traceable).
The definition of Trace data is intended to result in comparability of Trace
data produced in a multi-vendor wireless UMTS and/or EPS network(s), for those
Trace control and configuration parameters that can be standardised across all
vendors\' implementations.
Vendor specific extensions to the Trace control and configuration parameters
and Trace data are discussed in 3GPP TS 32.422 [2] and 3GPP TS 32.423 [3].
# 2 References
The following documents contain provisions, which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 32.101: \"Telecommunication management; Principles and high level
requirements\".
[2] 3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment
trace: Trace control and configuration management\".
[3] 3GPP TS 32.423: \"Telecommunication management; Subscriber and equipment
trace: Trace data definition and management\".
[4] 3GPP TS 23.002: \"Network architecture\".
[6] 3GPP TS 29.207: \"Policy control over Go interface\".
[7] 3GPP TS 52.008: \"Telecommunication management; GSM subscriber and
equipment trace\".
[8] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[9] void
[10] 3GPP TS 33.401: \"System Architecture Evolution (SAE); Security
architecture\".
NOTE: Overall management principles are defined in 3GPP TS 32.101 [1].
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
21.905 [8] and the following apply:
**Cell Traffic Trace: The ability to trace one or more** active calls in one
or more cells.
**management activation/deactivation:** Trace Session is activated/deactivated
in different NEs directly from the EM using the management interfaces of those
NEs.
**Signalling Based Activation/Deactivation:** Trace Session is
activated/deactivated in different NEs using the signalling interfaces between
those elements so that the NEs may forward the activation/deactivation
originating from the EM
**System Context:** two different realisations of the telecommunication
management architecture. System Context A has the Itf-N between a Network
Manager and an Element Manger. System Context B has the Itf-N between a
Network Manager and a Network Element that has an embedded Element Manager.
See figure 1 in TS 32.101 [1].
**Trace:** general term used for Subscriberand Equipment Trace.
**Trace record:** in the NE a Trace record is a set of Traceable data
collected as determined by the Trace control and configuration parameters.
**Trace Recording Session:** time interval within a Trace Session while trace
records are generated for the Subscriberor UE being traced. The triggering
events starting and stopping a Trace Recording Session are defined in 3GPP TS
32.422 [2] (see figure 1).
**Trace Recording Session Reference:** identifies a Trace Recording Session
within a Trace Session (see figure 1)
Figure 1: Trace Recording Session
Note that overlapping calls/sessions are possible for e.g. Cell Traffic Trace.
**Trace Reference:** identifies a Trace Session and is globally unique (see
figure 2)
**Trace Session:** time interval started with a Trace Session Activation and
lasts until the Deactivation of that specific Trace Session (see figure 2)
Figure 2: Trace Session
**Trace Parameter Configuration:** a technique whereby a request for tracing a
certain Subscriberor UE is sent by the EM to the NE for execution.
**Trace Parameter Propagation:** a technique by which the NE processes the
trace configuration (received from the EM or another NE) and sends it to the
relevant Network Element(s) via signalling interface(s).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 21.905
[8] and 32.101 [1] apply.
# 4 Trace concepts and high-level architecture
## 4.1 Trace concepts
The diversity of Trace requirements makes it difficult to identify and
anticipate all the operator\'s specific needs. Thus, the objective of this TS
is not to list an exhaustive set of information to meet all the requirements.
Rather, Trace data is defined without any limitation on the 2 following
dimensions:
\- Trace scope: NEs and signalling interfaces to Trace.
\- Trace depth: level of details of Trace data.
In order not to have any limitation of Trace data, there are six levels of
details defined: Maximum, Minimum, Medium,
MaximumWithoutVendorSpecificExtension, MinimumWithoutVendorSpecificExtension
and MediumWithoutVendorSpecificExtension. The first three levels allow for
vendor specific information to be traced and sent in the trace report file.
The Maximum (or MaximumWithoutVendorSpecificExtension) Levels allow all Trace
data to be recorded. The other Levels provide a decoded subset of the data in
the Maximum Level and allow an operator the flexibility in selecting the
appropriate Trace data to record.
The Trace Depth, specified at the Trace Session activation, is used to choose
the level of detail of information to retrieve on the Itf-N.
The Maximum (or MaximumWithoutVendorSpecificExtension) Levels of detail allow
for retrieval of signalling interface messages within the Trace Scope in
encoded format (see figure 4.1.1).
Figure 4.1.1: Maximum (or MaximumWithoutVendorSpecificExtension) Levels of
details of Trace
The Minimum (or MinimumWithoutVendorSpecificExtension) Levels of detail allow
for retrieval of a decoded subset of the IEs contained in the signalling
interface messages (see figure 4.1.2).
Figure 4.1.2: Minimum (or MinimumWithoutVendorSpecificExtension) Levels of
detail of Trace
The Medium (or MediumWithoutVendorSpecificExtension) Levels of detail allow
for retrieval of the decoded subset of the IEs contained in the signalling
interface messages in the Minimum Level plus a selected set of decoded radio
measurement IEs.
The Trace data recorded at each Level is defined in 3GPP TS 32.423 [3].
## 4.2 Trace high level Architecture
There are two types of activation, management based activation and signalling
based activation.
Figure 4.2.1 represents the high-level view of the architecture of Trace
Management Based Activation/Deactivation.\ Figure 4.2.1 is only showing the
interfaces in principle a high-level view. Details of Trace
activation/deactivation are defined in 3GPP TS 32.422 [2].
Figure 4.2.1: Architecture for Management Based Activation/Deactivation
Figure 4.2.2 represents the high-level view of the architecture of Signalling
Based Activation/Deactivation. Figure 4.2.2 is only showing the interfaces in
principle. Details of Trace activation/deactivation are defined in 3GPP TS
32.422 [2].
Figure 4.2.2: Architecture for Signalling Based Activation/Deactivation
Figure 4.2.3 represents the high-level view of the architecture of Trace
Reporting for System Context A. Figure 4.2.3 is only showing the interfaces in
principle.
Figure 4.2.3: Architecture for High-level view of Trace Reporting in System
Context A
Figure 4.2.4 represents the high-level view of the architecture of Trace
Reporting for System Context B. Figure 4.2.4 is only showing the interfaces in
principle.
Figure 4.2.4: Architecture for Trace Reporting in System Context B
Editor\'s note: The placement of the Trace Collection Entity is a deployment
matter for the operator. If it is placed outside the operator\'s secure zone,
it is up to the operator to use secure connections to and from the Trace
Collection Entity.
## 4.3 void
Figure 4.3.3: Architecture for Trace Reporting from UE to support Service
Level Tracing for IMS
# 5 Trace requirements
## 5.1 General trace requirements
The general high-level requirements for Trace, common to both Management
activation/deactivation and Signalling Based Activation/Deactivation, are as
follows:
\- for the Maximum Level: Trace data encompassing all signalling messages on
the different interfaces dedicated to the events of the traced subscriber or
UE with their entire content (all IEs) shall be retrieved. The operator can
then use an external system (e.g. an Operations System (OS) in TMN
terminology) and decode specific information in line with operator
requirements.
\- for the Minimum Level: a selected subset of IEs shall be retrieved from the
signalling interface messages. The Minimum Level provides support for the most
common use cases (described in annex A).
\- for the Medium Level: a selected Minimum Level subset of IEs from the
signalling interface messages and a selected set of radio measurement IEs
shall be retrieved.
\- for the MaximumWithoutVendorSpecificExtension Level: it is the same as for
Maximum level without vendor specific data.
\- for the MediumWithoutVendorSpecificExtension Level: it is the same as for
Medium level without vendor specific data.
\- for the MinimumWithoutVendorSpecificExtension Level: it is the same as for
Minimum level without vendor specific data.
## 5.2 Requirements for Trace data
The high level requirements for Trace data, common to both Management
activation/deactivation and Signalling Based Activation/Deactivation, are as
follows:
\- The Trace records have to contain Information Elements or signalling
messages from control signalling and/or the characteristics of the user data.
The following list contains the Network Elements and the Traceable interfaces
in the NEs where tracing is needed:
\- MSC Server: A, Iu-CS, Mc and MAP (G, B, E, F, D, C) interfaces; CAP
\- MGW: Mc, Nb-UP, Iu-UP
\- HSS: MAP (C, D, Gc, Gr) Cx, S6a and S6d interfaces and location and
subscription information
\- SGSN: Gb, Iu-PS, Gn, MAP (Gr, Gd, Gf), CAP (Ge) Gs, S6d, S4 and S3
interfaces
\- GGSN: Gn, Gi and Gmb interfaces
\- S-CSCF: Mw, Mg, Mr and Mi interfaces
\- P-CSCF: Gm and Go interfaces
\- RNC: Iu-CS, Iu-PS, Iur, Iub and Uu interfaces
\- BM-SC: Gmb interface
\- e-NodeB: S1-MME, X2, Uu
\- MME: S1-MME, S3, S6a, S10, S11
\- Serving Gateway: S4, S5, S8, S11
\- PDN Gateway: S2a, S2b, S2c, S5, S6b, Gx, S8, SGi
\- A unique ID within a Trace Session shall be generated for each Trace
Recording Session. This is called the Trace Recording Session Reference.
Changes to existing NEs and interfaces above may be required. These changes
would be dependent upon various 3GPP working groups and possibly other
non-3GPP industry groups for completion of Trace Session
Activation/Deactivation.
For a detailed description of NEs and interfaces above see 3GPP TS 23.002 [4].
## 5.3 Requirements for Trace activation
### 5.3.1 Requirements for Trace Session activation
The high level requirements for Trace Session activation, common to both
Management activation and Signalling based activation), are as follows:
\- In the case of a subscriber Trace, the Trace Session will be activated for
a certain subscriber whose identification (IMSI in UTRAN/CS/PS) shall be known
in the NEs where subscriber Trace is needed.\ In the case of E-UTRAN the IMSI
shall not be included in the Trace Parameter Propagation data to the e-NodeB.
\- In the case of a UE Trace, the Trace Session will be activated for a
certain UE whose identification (IMEI or IMEISV) shall be known in the NEs
where UE Trace is needed. In the case of E-UTRAN, neither the IMEI nor IMEISV
shall be included in the Trace Parameter Propagation data to the e-NodeB -
Trace Session activation shall be possible for both home subscribers and
visiting subscribers.
\- There are two methods for Trace Session activation: Management activation
and Signalling activation.
\- For an established call/session within a Network Element, it is optional
for the Network Element to start a Trace Recording Session for the associated
Subscriber or UE upon receipt of the Trace activation request from the EM.
\- A globally unique ID shall be generated for each Trace Session to identify
the Trace Session.\ This is called the Trace Reference.\ The method for
achieving this is to divide the Trace reference into Country, Operator, and
trace Id.
\- Trace Session may be activated from the EM simultaneously to multiple NEs
with the same Trace Reference (i.e. same Trace Session).
\- The Trace Scope and Depth shall be specified within the control and
configuration parameters during Trace Session activation.
\- There can be cases in a NE when it receives multiple Trace Session
activations for the same connection (e.g. simultaneous CS/PS connections). In
these cases the starting time of the Trace Session Activation and the starting
time of the first Trace Recording Session is the same using signalling based
activation. For these cases there are two different cases for the Trace
Session activation in a Network Element when it receives another Trace Session
activation to the same subscriber or MS:
\- If the Trace Reference is equal to an existing one, a new Trace Session
shall not be started;
\- If the Trace Reference is not equal to an existing one, a new Trace Session
may be started.
\- The EM shall always provide the trace control and configuration parameters
to the appropriate NEs at the time of Trace Session activation.
\- The Trace collection entity shall be notified, in case of theTrace Session
activation has failed, by the response message with the specific cause (e.g.
overload) from the NE on which the Trace Session activation failure happened.
The high-level requirements for Trace Session activation, specific to
Signalling Based activation, are as follows:
\- Signalling based activation shall be able to capture signalling messages as
early in a session as possible, e.g. by means of a piggybacked trace
invocation message in the case of a new connection or new bearer setup
For active users, it shall be possible to start trace recording when the trace
order is received, by means of a distinct trace invocation message.
The high-level requirements for Trace Session activation, specific to
Management activation, are as follows:
\- In the case of a subscriber Trace, the Trace Session will be activated for
a certain subscriber whose identification (IMSI in UTRAN/CS/PS or Private ID
in IMS) shall be known in the NEs where subscriber Trace is needed.
In the case of a Cell Traffic Trace, Trace Session activation should be
possible for all calls active in a cell or multiple cells without knowledge of
the UEs' identification (IMEI or IMEISV).
\- In the case of a Cell Traffic Trace, Trace Sessions should be activated for
all the NEs where Cell Traffic Trace is specified.
### 5.3.2 Requirements for starting a Trace Recording Session
The high level requirements for starting a Trace Recording Session, common to
both Management activation and Signalling based activation), are as follows:
\- It is optional for the NE to start a Trace Recording Session if there are
insufficient resources available within the NE.
\- The Trace Recording Session Reference shall be unique within a Trace
Session.
\- The Trace Recording Session should be started after appropriate start
trigger events are detected.
The high level requirements for starting a Trace Recording Session, specific
to Management activation, are as follows:
\- Each NE shall generate its own Trace Recording Session Reference (i.e.,
independent Trace Recording Sessions).
\- Each NE shall start the Trace Recording Session based upon the Trace
control and configuration parameters received by the NE in the Trace Session
activation.
\- In the case of a trace other than Cell Traffic Trace, the correlation of
Trace data will be done with a Trace Reference and IMSI / IMEI / IMEISV /
Private ID.
\- The Trace Recording Session can start only when the IMSI (in the case of a
subscriber trace), the IMEI / IMEISV (in case of UE trace) or Private ID (in
the case of IMS) is made available in the NE. In order to trace the early
phases of the call the IMSI (in case of subscriber trace), the IMEI / IMEISV
(in case of UE trace) or Private ID (in case of IMS) shall be made available
to the NE as soon as practically possible. E.g. the IMSI and IMEI / IMEISV
shall be made available to both Serving RNC and Drift RNC.
\- In the case of E-UTRAN the Core Network node that triggers a Trace
Recording Session to E-UTRAN shall either:
  * provide a trace log including Trace Reference, Trace Recording Session Reference and the identity of the UE (i.e. IMSI or IMEI(SV) to the Trace Collection Entity, or
  * provide a notification including Trace Reference, Trace Recording Session Reference and the identity of the UE (i.e. IMSI or IMEI(SV)) to the Trace Collection Entity.
\- In the case of a Cell Traffic Trace, the Trace Recording Session should
start upon the Trace control and configuration parameters being received by
the NEs in the Trace Session activation and the presence of call activity.
Furthermore, the the Core Network node that handles the traced session should
be requested to:
  * provide a trace log including Trace Reference, Trace Recording Session Reference and the identity of the UE (i.e. IMSI or IMEI(SV) to the Trace Collection Entity, or
  * provide a notification including Trace Reference, Trace Recording Session Reference and the identity of the UE (i.e. IMSI or IMEI(SV)) to the Trace Collection Entity.
## 5.4 Requirements for Trace deactivation
### 5.4.1 Requirements for Trace Session deactivation
The high level requirements for Trace Session deactivation, common to both
Management deactivation and Signalling based deactivation, are as follows:
\- The Trace Session shall be deactivated using the Trace Reference specified
for the Trace Session activation.
\- The Trace Session shall be deactivated in all those NEs where it was
activated.
\- The deactivation of a Trace Session during a Trace Recording Session within
a NE may take place anytime after the NE receives the deactivation request
until the end of the current Trace Recording Session related to the traced
Subscriber or UE.
\- Trace Session deactivation in a NE could occur when two simultaneous
signalling connections for a subscriber or UE exist. E.g. figure 5.4.1 shows
NE 3 having two signalling connections (one of them or both of them are traced
with the same Trace Reference) and a Trace deactivation message is received.
The Trace Session shall be closed.
Figure 5.4.1: Trace Session closure
### 5.4.2 Requirements for stopping a Trace Recording Session
The high level requirements for stopping a Trace Recording Session, common to
both Management deactivation and Signalling based deactivation, are as
follows:
\- The Trace Recording Session should be stopped after appropriate stop
trigger events are detected.
\- Trace Session deactivation in a NE could occur when two simultaneous
signalling connections for a subscriber or UE exist. E.g. figure 5.4.2 shows
NE3 having two signalling connections, but only one connection is traced. If
the non-traced connection is released, the Trace Recording Session shall be
kept in NE3. If the traced connection is released the Trace Recording Session
shall be closed.
Figure 5.4.2: Trace Recording Session closure
The high level requirements for stopping a Trace Recording Session, specific
to Signalling based deactivation, are as follows:
  * The Trace Recording Session should be stopped after an NE receives the appropriate signalling deactivation message.
## 5.5 Requirements for Trace Data reporting
The high level requirements for Trace Data reporting, common to both
Management activation/deactivation and Signalling Based
Activation/Deactivation, are as follows (Trace record contents, file formats
and file transfer mechanisms are defined in 3GPP TS 32.423 [3]):
\- Trace records should be generated in each NE where a Trace Session has been
activated and a Trace Recording Session has been started.
\- Format of the Trace records sent over Itf-N shall be XML based on the
Schema in TS 32.423 [3].
\- Trace records should be transferred on the Itf-N to the Network Manager
using one of two approaches: direct transfer from NE to NM or transfer from NE
to NM via EM.
\- Trace records may also be transferred to an external IP address (received
in Trace Control and Configuration Parameters) in 3 ways:
  1. Direct transfer from NE to IP address
  2. Transfer from NE to IP address via EM
  3. Transfer from NE to EM. The EM notifies the holder of the IP address that collects the files.
For transfer of Trace records via Itf-N, FTP or secure FTP shall be used.
## 5.6 Requirements for Privacy and Security
As the radio access nodes in E-UTRAN are outside an operator's secure domain,
the following requirement applies for E-UTRAN as described in 3GPP TS 33.401
[10]:
  * [SET-SEC-1] Keys stored inside eNBs shall never leave a secure environment within the eNB. When security key(s) transported on control signalling messages are included in the trace file, the key value(s) shall be removed and replaced with the value "Unavailable".
## 5.7 void
## 5.8 Use cases for Trace
The operator can use Subscriber and UE Trace for numerous purposes. However,
the use cases for Trace can be divided into two basic categories:
\- Troubleshooting use cases cover situations where the operator is solving an
existing problem in his network;
\- Validation testing use cases cover situations where the operator is not
solving a known problem but merely analysing, fine-tuning or optimising his
network.
A more detailed description for the following use cases for Subscriber and UE
Trace can be found in annex A:
\- Interoperability checking between UE from different vendors;
\- QoS profile checking for a subscriber after a subscriber complaint;
\- Malfunctioning UE;
\- Checking radio coverage in a certain area;
\- Testing new features;
\- Fine-tuning and optimisation of algorithms or procedures.
###### ## Annex A (informative): Trace use cases
# A.1 Use case #1: multi-vendor UE validation
## A.1.1 Description
The aim of this use case is to check how different vendor\'s UEs are working
(e.g. in field testing) in the mobile network or to get detailed information
on the UE.
The study can be started by an initiative from operator for verification of UE
from different vendors (e.g. testing how the UE fulfils the requirements set
by the standards).
The operator can perform the test using test UEs or tracing subscribers\'
mobiles.
## A.1.2 Example of required data for this use case
The Trace parameters required to cover use case #1 are listed below:
\- Tracing is needed in the Radio Network (RNC) or in the Core Network (MSS,
SGSN);
\- The identification of the Trace case shall be IMEI or IMEISV (and possibly
IMSI);
\- The level of details usually is to get the most important IEs from the
signalling messages (Medium Level) or all messages with their encoded IEs
(Maximum Level).
The traceable protocols are:
\- In RNC: RRC, NBAP, RNSAP, RANAP.
\- In MSS/SGSN: DTAP messages.
# A.2 Use case #2: subscriber complaint
## A.2.1 Description
The aim of this use case is to check how the complaining subscriber\'s
services are working, to get information on the services in order to find out
the reason for the complaint.
The study can be started after a subscriber is complaining at his/her home or
visited operator that some of the service to which he/she subscribed is not
working. E.g. the subscriber:
\- cannot make calls;
\- cannot use some supplementary service;
\- does not get the negotiated QoS level (e.g. Mobile subscriber activates
video-streaming application to watch the latest sport events and every time
the subscriber tries to connect to the service the system disconnects the
subscriber\'s UMTS bearer).
As the Trace is activated for a subscriber, the signalling based Trace Session
activation shall be used, as the location of the subscriber is not known.
## A.2.2 Example of required data for this use case
The Trace parameters required to cover the use case #2 are listed below:
\- The list of NEs where tracing may be needed depends on the service being
complained about by the subscriber. For this use case, tracing should be
possible in all network elements, such as: HSS, MSS, RNC, MGW, SGSN, GGSN.
\- The identification of the subscriber in a Trace is IMSI in UTRAN/CS/PS. The
identification of the UE in a Trace is IMEI or IMEISV.
\- The data includes those Information Elements from the signalling messages,
which are related to the service(s) being complained about by the subscriber
(Medium Level).
Example cases, which can be the basis for subscriber complaint:
1\. The subscriber\'s CS call is misrouted
This illustrates an instance where a subscriber complains that his calls are
being cross-connected (or misrouted). Such a complaint involves setting up a
Trace at all the 3GPP standardised interfaces being handled by the MSC.
However, the Trace functionality shall not cover MSC internal or vendor
proprietary interfaces. The Trace record shall need to have the dialled number
and connected number.
2\. The subscriber\'s call is dropped
Tracing data is required from the radio network (UTRAN) or from the core
network (MSS, SGSN, GGSN). In the radio network the radio coverage shall be
checked. See use case #4 (checking radio coverage). Beside the radio coverage,
other information can be useful as well, like RLC parameter, power information
(OLPC or RRC measurement report), error ratios (BLER / BER, SDU error ratio),
etc. Tracing in the core network is needed also, if the problem is not in the
radio network. E.g. in case of PS domain the call can be dropped by the
application due to the long delays or congestions in TCP layer or due to bad
QoS. Thus in SGSN the requested and negotiated QoS parameters should be
included in the Trace record.
3\. The received QoS level is less than the negotiated level.
To be able to solve the possible problem Tracing data is required from HSS,
SGSN, GGSN, and UTRAN. Furthermore in case of problem in CS calls tracing in
MGW shall be performed.
From HSS Trace data the operator can monitor whether the subscriber\'s
authentication to the network is successful, and what kind of QoS parameters
are allowed to the subscriber. From SGSN Trace data the operator can monitor
PDP context creation request from mobile. Request seems to contain legal QoS
profile (incl. Maximum bandwidth, guaranteed bandwidth etc) and the local
resources in SGSN are available to provide the service as requested by the
subscriber. From UTRAN Trace data the operator can monitor whether the maximum
bandwidth and guaranteed bandwidth, requested by SGSN, acceptable for UTRAN.
Thus to check whether UTRAN can provide and maintain the requested radio
access bearer services. From GGSN Trace data the operator can monitor PDP
context activation between SGSN and GGSN. If the problem is in the CS domain
the MGW Trace can provide the QoS data.
# A.3 Use case #3: malfunctioning UE
## A.3.1 Description
The aim of this use case is to check a UE, which is not working correctly.
The study can be initiated by the operator when he/she suspects that a UE not
working according to the specifications or he/she would like to get more
information on a specific UE, which is on the grey or black EIR list.
## A.3.2 Example of required data for this use case
The Trace parameters required to cover the use case #3 are listed below:
\- UE Tracing may be needed in the Radio Network (UTRAN) or in the Core
Network (MSS, SGSN).
\- The identification of the subscriber in a Trace is IMSI. The identification
of the UE in a Trace is IMEI or IMEISV.
\- The level of details depends on the operator needs (either Minimum Level or
Medium Level).
The malfunction of UE in UTRAN can occur in different places. The problem can
be in basic RRC and RANAP signalling, Radio Bearer procedures, Handover
procedures, Power control etc.
Therefore, all RRC, RANAP, NBAP, RNSAP signalling procedures, transmission
powers, error ratios (BLER / BER, SDU error ratio) and retransmission can be
included in the Trace records.
# A.4 Use case #4: checking radio coverage
## A.4.1 Description
This use case aims at checking the radio coverage on a particular network
area.
This study can be started by an initiative from operator for testing radio
coverage on a particular geographical area following network extension for
instance (e.g. new site installation).
The operator can perform a drive test on the new site area, and check that
radio coverage is correct, or may collect Cell Traffic Trace data on all of
the cells active in the area of interest.
## A.4.2 Example of required data to cover use case #4
The DL radio coverage can be checked using the values of CPICH Ec/No and RSCP
measured by the mobile on the cells in the active set and the monitored set.
These measurements are sent to the RNC trough the RRC message MEASUREMENT
REPORT.
The UTRAN Trace record intra frequency measurement contains the required
information.
The UTRAN Trace record inter frequency, and inter RAT measurements can also be
used to check radio coverage with other frequencies or systems.
After a network extension, the operator can check that Ec/No and RSCP levels
on the new site area are the expected ones, and there is no coverage hole.
The following Trace parameters are required to cover use case #4:
\- The type of NE to Trace is RNC.
\- The identification of the subscriber in a Trace is IMSI. The identification
of the UE in a Trace is IMEI or IMEISV.
\- In the case of a Cell Traffic Trace, the identification of the cells where
Trace data is to be collected.
\- The Trace data to retrieve shall contain the messages with all IEs that are
relevant for radio coverage.
# A.5 Use case #5: testing a new feature
## A.5.1 Description
This use case aims at testing the implementation of a new feature in the
network before its general deployment. The functionality can be either a
standard feature or a vendor/operator specific feature.
This study is started by an initiative from the operator.
The operator can perform a drive test on the area where the feature is
introduced, and check its good behaviour as well as its benefits, in term of
quality or capacity. He can also rely on subscribers\' Trace data when they
use the feature to be tested.
## A.5.2 Example of required data to cover use case #5
Depending on the feature, the list of NEs to Trace, as well as the level of
details can be different.
For a feature concerning Core and UTRAN networks, for instance hard handover,
SRNS relocation, or new UMTS bearer service, the operator needs to activate
Trace on several NEs.
Then, the operator can be interested in:
\- Only the protocol messages generated by the feature; or
\- The impact of the new feature introduction on the network, for instance,
the radio coverage, the capacity, the quality, or the behaviour of the
existing algorithms.
In this last case, the operator needs more detailed data, for instance
messages with all (Maximum Level) or part of the IEs (Minimum Level).
The following Trace parameters are required to cover use case #5:
\- The types of NEs to Trace are NEs that can be traced related to the
feature.
\- The identification of the subscriber in a Trace is IMSI. The identification
of the UE in a Trace is IMEI or IMEISV.
\- The Trace data to retrieve can be either only the protocol messages
(Maximum Level) or the messages with all or part of the IEs (Minimum Level).
# A.6 Use case #6: fine-tuning and optimisation of algorithms/procedures
## A.6.1 Description
Subscriber and UE Trace is part of the optimisation process. Trace data are
used to get feedback on the network quality and capacity after optimisation
operations like parameter fine-tuning, or new network design. Each
intervention to improve the network behaviour can be confirmed both by
measurement data and Trace data.
This study is started following an initiative from the operator.
The operator can perform a drive test on the area and/or activate a Cell
Traffic Trace where the optimisation has been performed, and check its good
behaviour as well as its impact on the network. He can also rely on
subscribers\' Trace data when they use the network to be optimised.
## A.6.2 Example of required data to cover use case #6
Depending on the optimisation operation, the list of NEs to Trace, as well as
the level of details can be different. But generally, fine-tuning activities
like scrambling code plan, handover and relocation algorithms, or call
admission algorithm optimisation concern a very specific part of the network.
To cover this use case, the operator is usually searching for the highest
level of details, on specific NEs.
The following Trace parameters are required to cover use case #6:
\- The types of NEs to Trace are any NE that can be traced related to the
network to be optimised.
\- The identification of the subscriber in a Trace is IMSI. The identification
of the UE in a Trace is IMEI or IMEISV.
\- In the case of a Cell Traffic Trace, the identification of the cells where
Trace data is to be collected.
\- The Trace data to retrieve are the messages in encoded format with all
(Maximum Level) or part of the IEs (Minimum Level).
# A.7 void
## A.7.1 void
# A.8 void
## A.8.1 void
# A.9 void
## A.9.1 void
# A.10 void
## A.10.1 void
#