# Foreword
This Technical Specification (TS) was produced by ETSI Technical Committee
Telecommunications and Internet converged Services and Protocols for Advanced
Networking (TISPAN) and originally published and subsequently modified as ETSI
ES 282 007 [xvii]. It was transferred to the 3rd Generation Partnership
Project (3GPP) in December 2007.
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the IP Multimedia Subsystem (IMS) core
component of the TISPAN NGN functional architecture and its relationships to
other subsystems and components.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] ETSI ES 282 001: \"Telecommunications and Internet converged Services and
Protocols for Advanced Networking (TISPAN); NGN Functional Architecture
Release 1\".
[2] ETSI TS 182 006: \"Telecommunications and Internet converged Services and
Protocols for Advanced Networking (TISPAN); IP Multimedia Subsystem (IMS);
Stage 2 description\ \".
[3] ETSI TS 123 218: \"Digital cellular telecommunications system (Phase 2+);
Universal Mobile Telecommunications System (UMTS); IP Multimedia (IM) session
handling; IM call model;\ Stage 2 (3GPP TS 23.218)\".
[4] ETSI ES 282 010: \"Telecommunications and Internet Converged Services and
Protocols for Advanced Networking (TISPAN); Charging \".
[5] ETSI ES 283 024: \"Telecommunications and Internet converged Services and
Protocols for Advanced Networking (TISPAN); PSTN/ISDN Emulation: H.248 Profile
for controlling Trunking Media Gateways in the PSTN/ISDN Emulation Subsystem
(PES); Protocol specification\".
[6] ETSI ES 283 027: \"Telecommunications and Internet converged Services and
Protocols for Advanced Networking (TISPAN); Endorsement of the SIP-ISUP
Interworking between the IP Multimedia (IM) Core Network (CN) subsystem and
Circuit Switched (CS) networks\ \".
[7] ETSI TS 183 021: \"Telecommunications and Internet converged Services and
Protocols for Advanced Networking (TISPAN); Endorsement of 3GPP TS 29.162
Interworking between IM CN Sub-system and IP networks\".
[8] ETSI EN 301 931: \"Intelligent Network (IN); Intelligent Network
Capability Set 3 (CS3); Intelligent Network Application Protocol (INAP);
Protocol specification\".
[9] ETSI ES 201 915-1: \"Open Service Access (OSA); Application Programming
Interface (API);\ Part 1: Overview (Parlay 3)\".
[10] ETSI TS 123 002: \"Digital cellular telecommunications system (Phase 2+);
Universal Mobile Telecommunications System (UMTS); Network architecture (3GPP
TS 23.002)\".
[11] ETSI TS 123 278: \"Digital cellular telecommunications system (Phase 2+);
Universal Mobile Telecommunications System (UMTS); Customised Applications for
Mobile network Enhanced Logic (CAMEL) Phase 4; Stage 2; IM CN Interworking
(3GPP TS 23.278)\".
[12] ETSI TS 129 278: \"Digital cellular telecommunications system (Phase 2+);
Universal Mobile Telecommunications System (UMTS); customized Applications for
Mobile network Enhanced Logic (CAMEL); CAMEL Application Part (CAP)
specification for IP Multimedia Subsystems (IMS) (3GPP TS 29.278)\".
[13] IETF RFC 3136 (2001): \"The SPIRITS Architecture\".
[14] IETF RFC 3261 (2002): \"SIP: Session Initiation Protocol\".
[15] ITU-T Recommendation H.248: \"Gateway control protocol\".
[16] ETSI TS 182 009: \"Telecommunications and Internet converged Services and
Protocols for Advanced Networking (TISPAN); NGN Architecture to support
emergency communication from citizen to authority\".
[xvii] ETSI ES 282 007 v1.1.1: \"Telecommunications and Internet converged
Services and Protocols for Advanced Networking (TISPAN); IP Multimedia
Subsystem (IMS); Functional architecture\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply:
**IP Multimedia Subsystem:** As defined in TS 123 002 [10].
**NGN IP Multimedia Subsystem:** IMS that supports the provision of SIP-based
multimedia services and PSTN/ISDN simulation services to NGN terminals
**User Equipment (UE):** one or more devices allowing a user to access
services delivered by TISPAN NGN networks
## 3.2 Abbreviations
For the purposes of the present document, the following abbreviations apply:
AF Application Function
ALG Application Layer Gateway
AS Application Server
ASF Application Server Function
BCSM Basic Call State Model
BGF Border Gateway Function
CAMEL Customised Application for Mobile Enhanced Logic
CCBS Call Control on Busy Subscriber
CSCF Call Session Control Function
E-CSCF Emergency-Call Session Control Function
IBCF Intermediate Breakout Control Function
I-BGF Interconnection-Border Gateway Function
I-CSCF Interrogating-Call Session Control Function
IM-MGW IP Multimedia - Media GateWay
IMS IP Multimedia Subsystem
IN Intelligent Network
INAP IN Application Part
IN-SCF Intelligent Network Switching Control Function
IP-CAN IP-Connectivity Access Network
ISDN Integrated Services Digital Network
MGCF Media Gateway Control Function
MGF Media Gateway Function
MM MultiMedia
MRFC Multimedia Resource Function Controller
MRFP Multimedia Resource Function Processor
NAPT Network Address and Port Translation
NASS Network Attachment SubSystem
NGN Next Generation Network
OSA Open Service Access
P-CSCF Proxy-Call Session Control Function
PDF Policy Decision Function
PES PSTN/ISDN Emulation Subsystem
PSTN Public Switched Telephony Network
RACS Resource and Admission Control Subsystem
SCF Switching Control Function
SCIM Service Capability Interaction Manager
S-CSCF Serving-Call Session Control Function
SGF Signalling Gateway Function
SIP Session Initiation Protocol
SLF Subscription Locator Function
SPIRITS Service in the PSTN/IN Requesting InTernet Services
SSF Service Switching Function
TCAP Transaction Capabilities Application Part
T-MGF Trunking-Media Gateway Function
UE User Equipment
UPSF User Profile Server Function
# 4 Overall architecture
The TISPAN NGN functional architecture ES 282 001 [1]Error: Reference source
not found is structured according to a service layer and an IP-based transport
layer (see figure 1).
The service layer comprises the following components:
  * The IP Multimedia Subsystem core component (IMS).
  * The PSTN/ISDN Emulation Subsystem (PES).
  * Other multimedia subsystems and applications.
  * Common components (i.e. used by several subsystems) such as those required for accessing applications, charging functions, user profile management, security management, routing data bases (e.g. ENUM), etc.
IP-connectivity is provided to NGN user equipment by the transport layer,
under the control of the Network Attachment SubSystem (NASS) and the Resource
and Admission Control Subsystem (RACS). These subsystems hide the transport
technology used in access and core networks below the IP layer.
The present document further describes the functional architecture of the IP
Multimedia Subsystem (IMS) core component.
Figure 1: TISPAN NGN overall architecture
# 5 Overview
The NGN IP Multimedia Subsystem (IMS) supports the provision of SIP-based
multimedia services to NGN terminals. It also supports the provision of
PSTN/ISDN simulation services.
Functional entities of an IMS may be used by an operator in support of transit
network scenarios. The routing may be performed, depending on the entity
performing the routing, and depending on the traffic case, on signalling
information, configuration data, and/or data base lookup.
The NGN IMS, also known as \"Core IMS\" is a subset of the 3GPP IMS defined in
TS 123 002 [10] which is restricted to the session control functionalities.
Application Servers (AS) and transport/media related functions such as the
Multimedia Resource Function Processor function (MRFP) and the IP Multimedia
Gateway Functions (IM-MGW) are considered to be outside the \"core IMS\".
Although essentially identical to the 3GPP IMS entities, NGN IMS functional
entities might exhibit minor variations in behaviour, due to differences in
access networks and user equipment. However, the NGN IMS architecture defined
in the present document remains compatible with 3GPP-defined IP-connectivity
access networks (IP-CAN) and as such can provide services to user equipment
connected to both fixed broadband access and 3GPP IP-CANs (see annex A).
Figure 2 illustrates the position of the IMS in the overall NGN architecture.
The IMS interfaces the following components:
  * User Equipment.
  * The Resource and Admission Control Subsystem.
  * The Network Attachment Subsystem.
  * The PSTN/ISDN.
  * The PSTN/ISDN Emulation Subsystem.
  * Other multimedia subsystems.
  * Charging Functions.
  * Network Management Functions.
  * Applications and other common architectural elements.
{width="5.210416666666666in" height="3.6597222222222223in"}
Figure 2: TISPAN IMS and its environment
# 6 Functional entities
Figure 3 provides an overview of the functional entities that compose the NGN
IMS, the reference points between them and with components outside the IMS.
Unless stated explicitly, the functional entities identified in this clause
are identical to those defined in TS 123 002 [10]. Except when highlighting
explicitly a difference, the descriptions provided in the present document are
intended to provide tutorial information only and in case of discrepancy with
the definitions in TS 123 002 [10], the definitions in TS 123 002 [10] shall
take precedence.
Figure 3: NGN IMS overview
## 6.1 Call Session Control Function (CSCF)
The Call Session Control Function (CSCF) establishes, monitors, supports and
releases multimedia sessions and manages the user\'s service interactions. For
more details see clause 4a.7.1 in TS 123 002 [10].
NOTE: The CSCF can act as Proxy CSCF (P-CSCF), Serving CSCF (S-CSCF) or
Interrogating CSCF (I-CSCF). The P-CSCF is the first contact point for the UE
within the IM subsystem (IMS); the S-CSCF actually handles the session states
in the network; the I-CSCF is mainly the contact point within an operator\'s
network for all IMS connections destined to a subscriber of that network
operator, or a roaming subscriber currently located within that network
operator\'s service area.
This functional entity is identical to the CSCF defined in TS 123 002 [10],
except for when acting as a P-CSCF. The Pâ€‘CSCF behaviour differs from the
behaviour in TS 123 002 [10] by the following main points:
  * The e2 reference point is supported to enable the P-CSCF to retrieve information (e.g. physical location of the user equipment) from the Network Attachment Subsystem (See clause 11).
  * The Gq and Iq reference points are not supported but replaced with the Gq\' reference point (See clause 12).
  * .
Based on local configuration, the Iâ€‘CSCF may perform transit routing functions
(see TS 182 006 [2]).
Further specifications of the P-, S- and I-CSCF are provided in TS 182 006
[2].
Support of emergency communications require the use of an E-CSCF as described
in TS 182 009 [16]. For the sake of simplicity this type of CSCF is not
represented on Figure 3.
## 6.2 Media Gateway Control Function (MGCF)
The Media Gateway Controller Function (MGCF) provides the ability to control a
trunking media gateway function (Tâ€‘MGF) through a standardized interface. Such
control includes allocation and deallocation of resources of the media
gateway, as well as modification of the usage of these resources. The MGCF
communicates with the CSCF, the BGCF and circuit-switched networks. The MGCF
performs protocol conversion between ISUP and SIP. It also supports
interworking between SIP and non-call related SS7 signalling (i.e. TCAP-based
signalling for supplementary services such as CCBS).
In case of incoming calls from legacy networks, the MGCF determines the next
hop in IP routing depending on received signalling information.
Based on local configuration,the MGCF may perform transitrouting functions
(see TS 182 006 [2]).
This functional entity is identical to the MGCF defined in TS 123 002 [10],
except that in addition it supports TCAP interworking. A node implementing
this functional entity in an NGN network and a node implementing it in a 3GPP
network may differ in terms of supported resources (e.g. codecs) and
configuration.
## 6.3 Multimedia Resource Function Controller (MRFC)
The Multimedia Resource Function Controller (MRFC), in conjunction with an
MRFP located in the transport layer (see ES 282 001 [1]), provides a set of
resources within the core network for supporting services. The MRFC interprets
information coming from an AS via an S-CSCF and control MRFP accordingly. The
MRFC, in conjunction with the MRFP, provides e.g. multi-way conference
bridges, announcement playback, media transcoding etc.
This functional entity is identical to the MRFC defined in TS 123 002 [10],
although a node implementing this functional entity in an NGN network and a
node implementing it in a 3GPP network may differ in terms of supported
resources and configuration.
## 6.4 Breakout Gateway Control Function (BGCF)
The Breakout Gateway control function (BGCF) determines the next hop in SIP
routing. This determination may be based on information received in the
protocol, administrative information, and/or database access. For PSTN
terminations, the BGCF selects the network in which PSTN breakout is to occur
and - within the network where the breakout is to occur - selects the MGCF.
This functional entity is identical to the BGCF defined in TS 123 002 [10],
although a node implementing this functional entity in an NGN network and a
node implementing it in a 3GPP network may differ in terms of configuration
(e.g. breakout criteria).
In case of transit the BGCF may have extra functionality for routing transit
traffic (see TS 182006 [2]).
### 6.5 Interconnection Border Control Function (IBCF)
An IBCF provides application specific functions at the SIP/SDP protocol layer
in order to perform interconnection between two operator domains. It enables
communication between IPv6 and IPv4 SIP applications. network topology hiding,
controlling transport plane functions, screening of SIP signalling
information, selecting the appropriate signalling interconnect and generation
of charging data records.
Based on local configuration, the IBCF may perform transit routing functions
(see TS 182 006 [2]).
This functional entity is identical to the IBCF defined in TS 123 002 [10].
Details are described in TS 182 006 [2].
# 7 Internal reference points
Unless stated explicitly, the reference points identified in this clause are
identical to those defined in TS 123 002 [10]. Except when highlighting
explicitly a difference, the descriptions provided in the present document are
intended to provide tutorial information only and in case of discrepancy with
the definitions in TS 123 002 [10], the definitions in TS 123 002 [10] shall
take precedence.
## 7.1 Reference point MGCF - CSCF (Mg reference point)
This reference point is identical to the reference point MGCF - CSCF (Mg)
defined in TS 123 002 [10].
The Mg reference point allows the MGCF to forward incoming session signalling
(from the PSTN) to the CSCF for the purpose of interworking with PSTN
networks.
NOTE: The protocol used for the Mg reference point is SIP.
Details are described in TS 182 006 [2].
## 7.2 Reference point CSCF - MRFC (Mr reference point)
This reference point is identical to the reference point CSCF - MRFC (Mr)
defined in TS 123 002 [10].
The Mr reference point allows the S-CSCF to relay signalling messages between
an application server function and an MRFC.
NOTE: The protocol used for the Mr reference point is SIP.
Details are described in TS 182 006 [2].
## 7.3 Reference point CSCF - CSCF (Mw reference point)
This reference point is identical to the reference point CSCF - CSCF (Mw)
defined in TS 123 002 [10].
The Mw reference point allows the communication and forwarding of signalling
messaging between CSCFs, e.g. during registration and session control.
NOTE: The protocol used for the Mr reference point is SIP.
Details are described in TS 182 006 [2].
## 7.4 Reference point CSCF - BGCF (Mi reference point)
This reference point is identical to the reference point CSCF-BGCF (Mi)
defined in TS 123 002 [10].
This reference point allows the Serving CSCF to forward the session signalling
to the Breakout Gateway Control Function for the purpose of interworking to
the PSTN networks.
NOTE: The protocol used for the Mi reference point is SIP.
Details are described in TS 182 006 [2].
## 7.5 Reference point BGCF - MGCF (Mj reference point)
This reference point is identical to the reference point BGCF - MGCF (Mj)
defined in TS 123 002 [10].
This reference point allows the Breakout Gateway Control Function to forward
the session signalling to the Media Gateway Control Function for the purpose
of interworking to the PSTN networks.
This reference point may also be used by an MGCF to forward session signalling
to the BGCF in case of transit scenarios, if the MGCF supports transit
routing.
NOTE: The protocol used for the Mj reference point is SIP.
Details are described in TS 182 006 [2].
## 7.6 Reference point BGCF - BGCF (Mk reference point)
This reference point is identical to the reference point BGCF - BGCF (Mk)
defined in TS 123 002 [10].
This reference point allows the Breakout Gateway Control Function to forward
the session signalling to another Breakout Gateway Control Function.
NOTE: The protocol used for the Mk reference point is SIP.
Details are described in TS 182 006 [2].
## 7.7 Reference point CSCF or BGCF - IBCF (Mx Reference Point)
This reference point is identical to the reference point CSCF or BGCF - IBCF
(Mx) defined in TS 123 002 [10].
The Mx reference point allows the communication and forwarding of signalling
messages between a CSCF or a BGCF and an IBCF.
NOTE: The protocol used for the Mx reference point is SIP.
Details are described in TS 182 006 [2].
# 8 Value added services architecture
Unless stated explicitly, the reference points identified in this clause are
identical to those defined in TS 123 002 [10]. Except when highlighting
explicitly a difference, the descriptions provided in the present document are
intended to provide tutorial information only and in case of discrepancy with
the definitions in TS 123 002 [10], the definitions in TS 123 002 [10] shall
take precedence.
## 8.1 Overview
Three types of Application Server Functions (ASF) can be accessed by the IMS
through the ISC or Ma reference point (see figure 4).
  * SIP Application Servers (SIP AS);
  * the IM-SSF Application Server;
  * the OSA SCS Application Server.
A SIP Application Server may contain \'Service Capability Interaction
Manager\' (SCIM) functionality and other application servers. The SCIM
functionality is an application which performs the role of interaction
management. The internal structure of the application server is outside the
standards.
The purpose of the IM SSF is to enable access to IN service logic programs
hosted in legacy SCPs. The IM-SSF functionality encompasses the emulation of
the IN Call Model (BCSM) on top of SIP signalling, IN triggering and feature
management mechanisms, emulation of the IN Service Switching Finite State
Machine and interworking with INAP.
NOTE 1: The IM SSF identified in the present document differs from the IM SSF
identified in TS 123 002 [10]. The latter implements the CAMEL call model and
protocols, as defined in TS 123 278 [11] and TS 129 278 [12],while the former
implements either the CAMEL call model and protocols or the ETSI Core INAP
capabilities as defined in EN 301 931 [8], or both. The Si reference point is
used for CAMEL services only.
> NOTE 2: The IM SSF is intended to enable access from the IMS to IN service
> logic programs hosted in legacy SCPs. Access to IMS services (i.e. hosted in
> SIP-based Application Servers) from legacy SSPs in the PSTN/ISDN is outside
> the scope of the present document. Appropriate gateway functions (e.g.
> SPIRITS gateway as defined in RFC 3136 [13]) have to be implemented in the
> PSTN/ISDN network for supporting such scenarios.
The purpose of the OSA Service Capability Server is to provide access to OSA
applications, according to the OSA/Parlay framework ES 201 915-1 [9].
Further details can be found in TS 123 218 [3].
{width="3.704861111111111in" height="3.3in"}
Figure 4: Value Added Services architecture
The Service-CSCF to AS reference point is used to forward SIP requests, based
on filter criteria associated with the originating or destinating user.
The Interrogating-CSCF to AS reference point is used to forward SIP requests
destined to a Public Service Identity hosted by the AS directly to that AS.
## 8.2 Reference points
### 8.2.1 Reference point S-CSCF - ASF (ISC reference point)
This reference point is identical to the reference point S-CSCF - AS (ISC
Reference Point) defined in TS 123 002 [10].
This reference point between S-CSCF and the Application Server Functions (i.e.
SIP Application Server, OSA Service Capability Server, or IM-SSF) is used to
provide services for the IMS.
Details are described in TS 182 006 [2].
### 8.2.2 Reference point UPSF - SIP AS or OSA SCS (Sh reference point)
This reference point is identical to the reference point HSS - SIP AS or OSA
SCS (Sh Reference Point) defined in TS 123 002 [10].
The Application Server (SIP Application Server and/or the OSA Service
Capability Server) may communicate to the UPSF. The Sh reference point is used
for this purpose. Details are described in TS 182 006 [2].
### 8.2.3 Reference point UPSF - IM SSF (Si reference point)
This reference point is identical to the reference point HSS - CAMEL IM-SSF
(Si Reference Point) defined in TS 123 002 [10].
The IM-SSF may communicate with the UPSF, via the Si reference point. Details
are described in TS 182 006 [2].
### 8.2.4 Reference point ASF - SLF (Dh reference point)
This reference point is identical to the reference point AS - SLF (Dh
Reference Point) defined in TS 123 002 [10].
This reference point between Application Server Functions and SLF is used to
retrieve the address of the UPSF which holds the subscription for a given
user. This reference point is not required in a single UPSF environment.
Details are described in TS 182 006 [2].
### 8.2.5 Reference point UE - ASF (Ut reference point)
This reference point is identical to the reference point UE - AS (Ut Reference
Point) defined in TS 123 002 [10].
This reference point enables the user to manage information related to his
services, such as creation and assignment of Public Service Identities,
management of authorization policies that are used e.g. by Presence service,
conference policy management, etc.
The signalling flows across this reference point may be routed directly
between the UE and the ASF hosting the application to be managed or may be
routed via an aggregation node acting as a font-end for a number of
applications.
Details are described in TS 182 006 [2].
NOTE: The type of ASF connected to this reference point is restricted to a SIP
Application Server.
8.2.6 Reference point I-CSCF - AS (Ma reference point)
This reference point is identical to the reference point I-CSCF - AS (Ma
Reference Point) defined in TS 123 002 [10].
This reference point between Interrogating-CSCF and the Application Servers
(i.e. SIP Application Server, OSA Service Capability Server, or CAMEL IM-SSF)
is used to forward SIP requests destined to a Public Service Identity hosted
by an Application Server directly to the Application Server.
Details are described in TS 182 006 [2].
# 9 External reference points
Unless stated explicitly, the reference points identified in this clause are
identical to those defined in TS 123 002 [10]. Except when highlighting
explicitly a difference, the descriptions provided in the present document are
intended to provide tutorial information only and in case of discrepancy with
the definitions in TS 123 002 [10], the definitions in TS 123 002 [10] shall
take precedence.
## 9.1 Interfaces with entities in the transfer plane
Transfer plane entities are defined in ES 282 001 [Error: Reference source not
found].
### 9.1.1 Reference Point MGCF - T-MGF (Mn Reference Point)
This reference point is identical to the reference point MGCF - IMS-MGW (Mn
Reference Point) defined in TS 123 002 [10].
The Mn reference point describes the interfaces between the MGCF and a T-MGF.
It has the following properties:
\- Full compliance with the ITU-T Recommendation H.248 [15] standard functions
for IMS - PSTN/PLMN interworking.
\- Open architecture where extensions/Packages definition work on the
interface may be carried out.
\- Dynamic sharing of T-MGF physical node resources. A physical T-MGF can be
partitioned into logically separate virtual media gateways/domains consisting
of a set of statically allocated Terminations.
\- Dynamic sharing of transmission resources between the domains as the MGF
controls bearers and manage resources according to the H.248 protocols and
functions for IMS.
Details are described in ES 283 024 [5].
### 9.1.2 Reference point MGCF - SGF (Ie reference point)
The Ie reference point enables the MGCF to exchange SS7 signalling information
over IP with the SGF, according to the SIGTRAN architecture.
### 9.1.3 Reference point MRFC - MRFP (Mp reference point)
This reference point is identical to the reference point MRFC - MRFP (Mp
reference point) defined in TS 123 002 [10].
The Mp reference point allows an MRFC to control media stream resources
provided by an MRFP.
The Mp reference point has the following properties:
\- Full compliance with the ITU-T Recommendation H.248 [15] standard.
\- Open architecture where extensions (packages) definition work on the
interface may be carried out.
Details are described in TS 182 006 [2].
## 9.2 Interface with the UE
The reference point CSCF - UE (Gm reference point) is identical to the
reference point CSCF - UE (Gm reference point) defined in TS 123 002 [10].
The Gm reference point supports the communication between UE and the IMS, e.g.
related to registration and session control.
NOTE: The protocol used for the Gm reference point is SIP.
Details are described in TS 182 006 [2].
## 9.3 Interfaces with the user profile
The SLF and UPSF entities are defined in ES 282 001 [Error: Reference source
not found].
### 9.3.1 Reference point CSCF - SLF (Dx reference point)
The interface at this reference point is identical to the one at reference
point CSCF - SLF (Dx Reference Point) defined in TS 123 002 [10].
Interface between CSCF and SLF is used to retrieve the address of the UPSF
which holds the subscription for a given user.
This reference point is not required in a single UPSF environment. An example
for a single UPSF environment is a server farm architecture.
Details are described in TS 182 006 [2].
### 9.3.2 Reference point CSCF - UPSF (Cx reference point)
This reference point is identical to the reference point HSS - CSCF (Cx
Reference Point) defined in TS 123 002 [10].
The Cx reference point supports information transfer between CSCF and UPSF.
The main procedures that require information transfer between CSCF and UPSF
are:
1) Procedures related to Serving CSCF assignment.
2) Procedures related to routing information retrieval from UPSF to CSCF.
3) Procedures related to authorization (e.g., checking of roaming agreement).
4) Procedures related to authentication: transfer of security parameters of
the subscriber between UPSF and CSCF.
5) Procedures related to filter control: transfer of filter parameters of the
subscriber from UPSF to CSCF.
Further information on the Cx reference point is provided in TS 182 006 [2].
## 9.4 Interfaces with Charging Functions
The following functional entities in the Core IMS may act as charging trigger
points:
\- AS;
\- BGCF;
\- (I-/P-/S-/E-) CSCF;
\- MGCF;
\- MRFC;
\- IBCF.For off-line charging the Rf reference point is used. For on-line
charging the Ro reference point is used. Details are described in ES 282 010
[4].
# 10 Interconnection with other networks
## 10.1 Interfaces with the PSTN/ISDN
Interconnection at the signalling level is provided via the SGF (transport)
and MGCF (call/service control).
Interconnection at the media level is provided by the trunk interfaces at the
T-MGF.
Further details can be found in ES 283 027 [6].
## 10.2 Interfaces with other IP-based service subsystems
Interconnection with other IP-based service subsystems (including PSTN/ISDN
Emulation subsystems and other IMS subsystems) is performed via the IBCF at
the signalling level and the I-BGF at the media level.
In case of transit the IBCF may have extra functionality for routing transit
traffic.
Annex B illustrates various interconnection scenarios.
Interconnection between IMS subsystems occurs either between two home domains
(e.g. session originating and terminating domain) or between a visited domain
and a home domain (i.e. support of roaming capabilities).
Based on signalling information received from the Core IMS and local policy
rules, the IBCF decides on a per session basis whether the RACS should be
involved in the interconnection.
NOTE: Depending on the operator policies, the decision as to whether or nor
media level interconnection is required (i.e. an I-BGF shall be inserted in
the media path) for a particular session may be taken by the RACS, based on
information received from the IBCF. The RACS shall also choose the appropriate
interconnect link for media traffic based on the information received from the
IBCF.
Further details can be found in TS 183 021 [7].
Figure 5 illustrates the case where no I-BGF is inserted. Figure 6 illustrates
the case where an I-BGF is inserted by the visited network. The Ici reference
point is a specialisation of the generic Ic reference point identified in ES
282 001 [1] and is further described in TS 182 006 [2].
Figure 5: IMS interconnect scenario without I-BGF
Figure 6: IMS interconnect scenario with I-BGF
# 11 Interface with the Network Attachment Subsystem (NASS)
The e2 reference point supports information transfer between the P-CSCF and
the Network Attachment Subsystem.
This reference point is not required when the user equipment is connected to a
3GPP IP-CAN.
# 12 Interface with the Resource and Admission Control Subsystem (RACS)
The NGN IMS interacts with the Resource and Admission Control Subsystem (RACS)
at the Gq\' reference point for the following purposes:
\- authorization of QoS resources;
\- resource reservation;
\- gate control (including NAPT binding information relay).
With regard to the RACS architecture; the P-CSCF plays the role of an
Application Function (AF).
Details are described in TS 182 006 [2].
This reference point is not required when the user equipment is connected to a
3GPP IP-CAN. In such configurations, the P-CSCF interacts the 3GPP Policy
Decision Function as described in TS 123 002 [10].
In case of network interconnection, interactions with the resource control
subsystem may also take place at the edge of the IMS, at the IBCF level for
the following purposes:
\- gate control (including NAPT binding information relay).
With regard to the RACS architecture; the IBCF plays the role of an
Application Function (AF).
Details are described in TS 183 021 [7].
###### ## Annex A (informative): IMS Access scenarios
The IMS subsystem described in the present document provides services to user
equipment connected via a plurality of IP connectivity access networks. The
following figure illustrates the case where an IMS subsystem provides services
to user equipment connected to a fixed broadband access network and to other
user equipment connected via a GPRSâ€‘based IP-CAN.
{width="4.34375in" height="3.397222222222222in"}
Figure A.1: Access to IMS services from multiple access technologies
###### ## Annex B (informative): IMS interconnection scenarios
This annex describes a number of example interconnection scenarios at the SIP
signalling level, based on the use of an IBCF at the boundary between two
TISPAN networks or between a TISPAN network and an external network.
Figure B.1 illustrates an interconnection scenario where a registration
procedure is performed between a visited network and a home network.
Figure B.1: IMS registration between visited and home network
Figure B.2 illustrates an interconnection scenario where the originating and
destination party of an IMS session belong to different home networks.
Figure B.2: IMS session between two networks
Figure B.3 illustrates an interconnection scenario where the originating party
is in a visited network and the destination party of an IMS session belong to
different home networks.
Figure B.3: IMS session between two networks, with roaming originating party
Figure B.4 illustrates an interconnection scenario where a session is
established between an IMS User Equipment and the PSTN, the PSTN breakout
being performed in another IMS than the originating party\'s home network.
Figure B.4: IMS session with PSTN interworking
Figure B.5 illustrates an interconnection scenario where a session is
established between an IMS User Equipment and an H.323 network or a non IMS-
based SIP network [14].
Figure B.5: Interworking with non IMS multimedia networks
Figure B.6 illustrates an interconnection scenario where a session is
established between an IMS User Equipment and a PES.
Figure B.6: Interconnection between an IMS and a PES
Figure B.7 illustrates a configuration where an IMS provides transit services
between a PSTN or an IMS and another PSTN or IMS.
Figure B.7: IMS transit scenarios
#