# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
Editor's Note: This subclause will define the scope of this specification.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.142: \"Value Added Services (VAS) for Short Message Service
(SMS) requirements \".
[3] 3GPP TS 22.041: \"Operator Determined Barring (ODB)\".
[4] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\".
# 3 Definitions, symbols and abbreviations
Delete from the above heading those words which are not applicable.
Subclause numbering depends on applicability and should be renumbered
accordingly.
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [x] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[x].
Definition format
**\ **: \.
**example:** text used to clarify abstract rules by applying them literally.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Symbol format
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[x] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [x].
Abbreviation format
\ \
# 4 VAS-SMS service requirements
## 4.1 General description of VAS-SMS service requirements
As defined in 3GPP TS 22.142[2], the VAS4SMS is an operator specific service
by which an operator enables the subscriber to experience some value-added
service features for SMS.
VAS4SMS features that were defined in stage 1 include:
1) Short Message Forwarding
2) Short Message Forwarding Multiple Subscriptions
3) Short Message Filtering
4) Short Message Receipt
5) Short Message Network Storage
6) Short Message to Multiple Destinations
7) Short Message Virtual Private Network (VPN)
8) Short Message Auto Reply
9) Short Message Personal Signature
10) Short Message Deferred Delivery
VAS4SMS should not negatively affect the normal SMS communication between
calling and called parties.
The service subscriber is able to subscribe to the VAS4SMS service, activate
(or de-activate) the service, and update the settings, e.g., to change by
configure the personalized service related information. The personalized
service information can consist of message signature, the forwarding
destination address and message contents for auto reply, etc.
The VAS4SMS subscriber is able to refine the VAS4SMS behaviour with configured
rules, e.g. time, the identity of the calling party, the SMS forwarding
service is able to act according to the rules.
VAS4SMS is either a terminating network or originating network service. That
is, VAS4SMS can be used by the calling and called subscribers.
In general, services offered by the sender's VAS4SMS occur prior to the SMS
delivering to the recipient's operation.
## 4.2 Operational requirements
### 4.2.1 VAS-SMS Provision/withdrawal
#### 4.2.1.1 General
The VAS4SMS may be provided after prior arrangement with the service provider.
The VAS4SMS may be provided/withdrawn upon the subscriber's request or for
administrative reasons.
#### 4.2.1.2 Requirements on the originating network side
A VAS4SMS application server in the originating network is required to be
under the control of the SMS-SC that is serving a calling subscriber who has
activated VAS4SMS.
#### 4.2.1.3 Requirements on the terminating network side
A VAS4SMS application server in the terminating network is required to be
under the control of the SMS-R that is serving a called subscriber who has
activated VAS4SMS.
# 5 Architecture and Interface
## 5.1 Architectural requirements
**The network architecture defined for VAS SMS should have less impact on pre-
Rel 8 realization of short message service. The VAS SMS solution shall be able
to be deployed independently of the pre-Rel 8 services. VAS SMS shall not
break pre-Rel 8 services.**
## 5.2 Reference model
### 5.2.1 Logical network architecture
**There are two scenarios for the interworking between operators that will be
taken into account for the VAS SMS network architecture:**
**1) IP based interface interworking network architecture: Short message is
interworked by SMSC Gateways which belong to two different operators. The
interface between these two SMSC Gateways is IP based, such as SMPP.**
**2) MAP based interface interworking network: Short message is interworked by
SMS GMSC and SMS-Router which respectively belongs to two different operators.
The interface between these two entities is MAP based.**
**The choice of the interworking scenario depends on the deployment agreement
between different operators**
#### Scenario 1: IP based Interface Interworking
Figure 5.2.1.1. IP Based Interface Interworking Network Architecture for VAS
SMS
#### Scenario 2: MAP based Interface Interworking
Figure 5.2.1.2. MAP Based Interface Interworking Network Architecture for VAS
SMS
NOTE 1: Reference Point 3 as specified in 3GPP TS 23.040[4].
### 5.2.2 Functional Entities
**The main functional entities involved in the VAS SMS services provisioning
depicted in figure 5.2.1.1 and figure 5.2.1.2 are described as follows.**
  * **_VAS SMS Application Server (VSAS): VSAS is a network element, which play the role for VAS SMS service provisioning. The VSAS is used to implement calling and called VAS SMS user service. VSAS stores detailed subscription data of the calling and called VAS SMS user service, and implements the service logic and service control for VAS SMS. VSAS synchronizes local subscription information to SMS-SC in real time._**
  * **_SMS Gateway (SMSGW): SMS GW is used to route the VAS SMS between PLMNs under scenario 1. If it receives SMS from SMSC, it forwards the SMS to the corresponding SMS GW; or if it receives SMS from the opposite SMS GW, it forwards the SMS to SMSC_**.
  * **_Short Message Service Centre (SMS-SC): SMS-SC plays the role of service triggering function for Mobile Originating VAS SMS services and in scenario 1 also for Mobile Terminating VAS SMS services, it shall store the user subscription indication information for the VAS SMS._**
  * **_SMS Router: In the architecture defined in figure 5.2.1.2 the SMS Router plays the role of service triggering function for Mobile Terminating VAS SMS services._**
  * **_Service Portal Function (SPF): The SPF provides the means to VAS SMS subscription,_** activation & deactivation, configuration** _. The detailed information for these operations is described in section 6. After a user subscribing a VAS SMS, the portal should support the capability to synchronize the user setting information to VSAS._**
  * **_Billing and Charging Function (BCF): It plays the role of receiving the call detail record (CDR) information from the VSAS._**
**_The other function entities in figure 5.2.1.2 shall follow 3GPP TS
23.040[4], which is outside the scope of this specification._**
### 5.2.3 Interfaces
**_As illustrated in figure_ 5.2.1.1 _and_ 5.2.1.2*, new interfaces should be
defined as follows.***
  * **_Rf-a: Rf-a is the interface between VSAS and SMS-SC. Rf-a shall support transfer short messages between VSAS and SMS-SC. Rf-a interface is used for the processing of VAS SMS services by VSAS._**
  * **_Rf-b: Rf-b is the interface between SMSC and SMS GW. The Rf-b interface is used for routing VAS SMS from SMSC to SMS GW._**
  * **_Rf-c: Rf-c is the interface between VSAS and Charging and Billing Function (BCF). The Rf-c is used for the VSAS to transfer the CDR information to the BCF._**
  * **_Rf-d: Rf-d is the interface between VSAS and Service Portal Function (SPF). Rf-d is used to synchronize the user setting and subscription information from SPF to VSAS._**
  * **_Rf-e: Rf-e is the interface based on IP protocol between SMS GWs. Rf-e shall support to transfer VAS SMS control information if necessary._**
  * **_Rf-f: Rf-f is the interface between VSAS and SMS Router, Rf-f interface is used for the processing of VAS SMS services by called party VSAS._**
**_Reference point 3 as specified in 3GPP TS 23.040[4] shall allow transfer
VAS SMS control information if necessary._**
# 6 VAS-SMS service provisioning, activation & deactivation, configuration
### 6.1 Activation/deactivation
The VAS-SMS service is activated at provisioning and deactivated at
withdrawal.
A subscriber can subscribe all the VASSMS service features as a whole or make
the subscription to every feature separately, which is subject to operator's
policy. When a VAS-SMS service is activated, a subscriber can specify some
configuration for each subscribed service feature, such as the destination
address which short messages shall be forwarded to.
After a subscriber has activated their VAS-SMS service all short messages
related to him shall be handled according to his service configuration.
### 6.2 Configuration
Different methods may be provided for configuration of VAS-SMS service, e.g.
such as short message, IVR and etc. It is out of the scope of this document to
specify the configuration procedure itself.
# 7 VAS-SMS signalling procedure
Editor\'s Note: This sub-clause will describe the signalling procedure based
on the architecture requirement described in chapter 5.
## 7.1 Short Message Forwarding
## 7.2 Short Message Forwarding Multiple Subscriptions
## 7.3 Short Message Filtering
## 7.4 Short Message Receipt
## 7.5 Short Message Network Storage
## 7.6 Short Message to Multiple Destinations
## 7.7 Short Message Virtual Private Network (VPN)
## 7.8 Short Message Auto Reply
## 7.9 Short Message Personal Signature
## 7.10 Short Message Deferred Delivery
# 8 Interaction with other features
## 8.1 Interaction with Barring services
Barring services described in 3GPP TS 23.040[4] are prior to VAS-SMS services.
Any related VAS-SMS service to Operator Determined Barring (see 3GPP TS 22.041
[3]) is not applicable when Operator Determined Barring applies to the Short
Message Service. For example, if an originating service for SMS is barred by
ODB and a terminating service for SMS is not barred, all the related
originating services for VAS-SMS service are also barred, but terminating
services (e.g. SMS forwarding) for VAS-SMS are not impacted.
## 8.2 Interaction with Multiple short message transfer
There is no direct conflict between the VAS-SMS service and the multiple short
message transfer service described in 3GPP TS 23.040[4]. VAS-SMS services
shall not impact the implementation of the multiple short message transfer
service when the SMS-SC indicates to the SMS-GMSC that there are more messages
to send for each message waiting in the service centre.
## 8.3 Interaction with SMS COMPRESSION
VAS-SMS services should be applicable for the SMS COMPRESSION described in
3GPP TS 23.040[4]. If the VAS-SMS service does not support SMS COMPRESSION
(for example for VAS-SMS services that modify the content of a SM), then it
shall guarantee the compressed SMS message delivery as normal.
## 8.4 Interaction with Enhanced Messaging Service
For the enhanced messaging service described in 3GPP TS 23.040[4], VAS-SMS
services should be applicable. If the VAS-SMS service does not support the
enhanced messaging service (for example for VAS-SMS services that modify the
content of a SM), then it shall guarantee enhanced message delivery as normal.
## 8.5 Interaction with SM delivery report
If a Short Message Receipt service is applied the SMS-SC shall not send SM
delivery report message to the user.
## 8.6 Interaction with charging
VAS-SMS services are required to produce billing of extra fee (e.g. monthly
based function fee).
## 8.7 Interaction between VAS-SMS Services
VAS-SMS services should be classified by priority and triggered according to
priority order based on operator's policy.
# 9 Interworking with other networks
Editor\'s Note: This sub-clause will address interworking of VAS-SMS services
with other domains, e.g. IMS.
###### ## Annex A (informative): Detailed signalling flows
Editor's Note: Example signalling flows for VAS-SMS will be included in this
informative annex.
#