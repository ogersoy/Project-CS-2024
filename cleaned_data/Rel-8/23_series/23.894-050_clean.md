# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
Y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Due to the increasing volume of data traffic exchanged by mobile users and the
rapid decrease of roaming rates that is being imposed by the regulator, mobile
operators will most likely have to revisit their roaming agreements, moving
towards a more extensive usage of local breakout. This will allow to reduce
the cost per bit of data traffic exchanged by roaming customers, since at
least part of it will be handled directly by the visited operator, with no
need to waste bandwidth on the international links between home and visited
networks; moreover, local breakout would allow to offer better performance to
the customers.
Based on the analysis of the requirements on local breakout and on the
increasing number of the services controlled by IMS that operators are
expected to face, it has been proposed that system enhancements are needed to
enable extensive usage of IMS services in local breakout.
Furthermore, international communications and terminal roaming introduce a
number of scenarios where sessions may traverse multiple IMS networks. The use
of Border Control Function makes both the signalling and bearer path traverse
through the same networks path and could make the media path not optimized.
In order to ensure Quality of Service (QoS) and, in certain cases, minimal
routing costs, there is a need to enable the routing of media traffic via an
optimal path between those networks, without necessarily being linked to the
path that the signalling flow needs to take. The optimal media path between
two endpoints may involve IP transit networks, which in normal circumstances
are not included in the SIP signalling path. Current QoS reservation is
negotiated based on the SIP pre-conditions model, and hence the lack of SIP
signalling in the transit network presents a problem for the negotiation of
QoS between the end-points.
# 1 Scope
This study intends to investigate the general problem of system enhancements
for the use of IMS services in local breakout and optimal routing of media.
In particular the above issues will be addressed identifying
  * solutions for the home operator to control
    * whether the IMS user may connect to a PDN in the visited network, and
    * whether connections to PDNs provided from the home and visited network may exist in parallel;
  * solutions to enable the IMS network to be aware of whether local breakout can be invoked or not;
  * solutions to allow the home operator to determine which of the IMS sessions (for a given UE) can be handled in local breakout and which in home routed mode, and what information (e.g. operator's policies, customer's subscription profile, UE connectivity, and location of the remote end terminal/service) is needed for the decision;
  * solutions to allow the UE to concurrently use IMS services through local breakout and other IMS services through home routing;
  * the feasibility of having the local breakout option in IMS service nodes:
    * is there a need for a P-CSCF at both PDN accesses?
    * if one P-CSCF is enough, what requirements are there for connectivity between the PDNs?
  * if methods are necessary to discover an additional P-CSCF in the visited network after the UE has moved to the visited network, even if the network-layer mobility mechanisms can sustain IP connectivity to the previously discovered P-CSCF in the home network;
  * the exact location of the decision point in the home network whether to use local breakout (application or delegated to IP-CAN);
  * solutions for SIP/SDP signalling related to the use of IMS services through local breakout.
  * interactions with network entities such as NAT (as specified in TS 23.228) when providing IMS services through local breakout;
  * interactions with and support of PCC to provide IMS services through local breakout;
  * security implications if there is need for multiple P-CSCFs per UE.
Moreover
  * describing a set of scenarios where the selection of an alternative media path (i.e., different to the signalling path) provides benefits to IMS operators by reducing the number of network entities in the media path;
  * providing requirements for suitable mechanisms to achieve optimal media routing;
  * analysing the potential solution(s) to solve those scenarios in line with IMS procedures, while taking into account any impact of extensions required to existing functions/procedures (e.g., NAT, transcoding, Security, PCC, BCF, LI, etc.);
  * reducing the number of options for solving the same requirement and agree on a preferred solution.
In the end this study will provide conclusions with respects to what further
specification work is required in order to fulfil the requirements for the use
of IMS services through local breakout and achieve optimal routing of media.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: "Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.258: "Service requirements for the AIPN".
[3] 3GPP TS 22.278: "Service requirements for evolution of the 3GPP system".
[4] 3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access\"
[5] 3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\"
[6] 3GPP TS 23.203: \"Policy and charging control architecture\".
[7] GSMA PRD IR.34 "Inter-Service Provider IP Backbone Guidelines"
[8] 3GPP TS 23.228: "IP Multimedia Subsystem (IMS)"
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following definitions apply.
**IP gateway:** The node in the operator's network that is responsible for
allocating an IP address to a subscriber.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
EPC Evolved Packet Core
EPS Evolved Packet System
GW GateWay
IP Internet Protocol
P-CSCF Proxy-Call Session Control Function
SDP Session Description Protocol
UE User Equipment
LBO Local Breakout
OMR Optimal Media Routing
# 4 Overall Requirements
The overall requirements to provide IMS services through local breakout are
defined in 3GPP TS 23.401 [4].
Editor's Note: Requirements for optimal routing of media need to be added.
Editor's Note: Additional requirements may be added as the study work
progresses.
# 5 Architectural Requirements and Assumptions
The following general architecture principles shall be used when developing
solutions for LBO and OMR:
\- Radio impacts/Access network procedures like IDLE mobility should not be
affected;
\- S-CSCF is the service control entity for IMS, as per current IMS core
principle; even though media may be routed according to LBO or OMR procedures;
(except for emergency case where E-CSCF is used as described in TS 23.167);
\- Backward compatibility with Rel-7 (e.g. Rel-8 Terminal shall be able to
connect to a Rel-7 IMS system and Rel-7 terminal shall be able to connect to
Rel-8 IMS) shall be maintained and impacts from the development within Rel-8
IMS system shall be addressed before reaching final conclusion;
\- UE battery consumption and complexity/cost of impacts must be considered;
\- An UE shall not use the same IP address simultaneously across multiple
accesses;
\- Any solution(s) developed should work in single PLMN scenario as well as
roaming scenarios.
Editor's note: Current IMS sessions between two or more end points are based
on the HPLMN roaming agreements. In case of media routed via different PLMN
than signaling traffic, where is the decision responsibility regarding
operator agreements on charging, roaming, SLA etc.?
In addition to the general requirements above, the following requirements
shall be used when developing solutions for Optimal Media Routing (OMR):
\- OMR shall apply to IMS systems that use IBCF and TrGW for interconnection.
\- OMR shall establish an optimal media path for each of the media streams of
an IMS session, subject to the Home operator's policy, system constraints
(such as transcoding function location) and the information available within
SIP signalling;
\- All media components of a session that traverse the same un-optimized
sequence of IBCFs/TrGWs and networks shall, subject to Home operators' policy,
traverse the same optimized sequence of IBCFs/TrGWs and networks. This ensures
similar end to end path delay characteristics for media components that may be
synchronized;
\- Where end points are located within the same residence or enterprise
network, OMR should be able to support the routing of the media path such that
it does not egress that network;
\- OMR should be capable of optimizing the media paths for a session where the
same interconnect network is used for multiple legs of the un-optimized media
path;
\- OMR should be capable of optimizing the media paths for a session between
two UEs where the same serving network is used by the UEs;
\- Home operators (of both calling and called UE) may be informed, upon
session establishment/modification, of the successful enforcement or removal
of OMR for that session;
\- On session establishment, OMR shall establish an optimal media path
separately for each remote endpoint of the session;
\- OMR should re-establish an optimal media path for a session in the event of
session modification (SDP offer/answer exchange);
\- Impacts on IMS shall be minimized. Solutions should be based on existing
IMS functional entities, use existing message flows and avoid the addition of
new protocols or new messages between network elements;
\- A single bandwidth reservation mechanism shall be used (for both roaming
and non-roaming cases and for optimized and non-optimized sessions);
\- Entities in one network shall not need to be aware of the internal
structure of other networks;
\- The routing of media within a network shall not be constrained by OMR;
\- OMR shall not be dependant on the direct peering of policies across a
network boundary. No peering of Policy and Charging Rules Function (PCRF) [6]
across network boundaries shall be required (since this does not represent a
likely commercially acceptable solution);
\- The service disruption of an on-going session when establishing OMR should
be minimised;
\- The impacts of OMR on the transport layers shall be minimised;
\- The effects of introducing OMR on EPS shall be minimised;
\- OMR shall provide mechanisms supporting media optimizations across multiple
transit networks supporting homogenous interconnect agreements (e.g. IPX [7]);
\- The originating or terminating networks shall be able to apply OMR on a
session by session basis (e.g. for lawful intercept reasons, for media streams
that need transcoding, or for services that require announcements to be played
from the home network);
Editor's note: Once sufficiently progressed the TR shall be sent to SA3-LI in
order for that group to assess impacts on their specifications.
Editor's Note: Further requirements may be found when business model analyses
have been performed.
# 6 Scenarios and Solutions for local breakout
## 6.1 Scenarios
Editor's Note: PCC considerations are for FFS in following the scenarios.
### 6.1.1 P-CSCF located in home network -- dual IP address
The user has the subscription through home operator H. The user is roaming and
is currently served by a different operator. Figure 6.1.1-1 shows the
signalling and media paths for this scenario. In this scenario, the UE uses
two distinct IP addresses, one for IMS signalling and one for media. The IP
address allocated by the home network is used for IMS signalling and the IP
address allocated by the local IP gateway in the serving network is used for
the media.
NOTE: The scenario where both IP addresses (e.g. one from home network and one
from local IP gateway) are identical (e.g. overlapping private IP address) is
out of the scope of this study.
Figure 6.1.1-1: P-CSCF located in home network -- dual IP address
Before starting IMS sessions, the UE sets up IP connectivity. In this
scenario, the UE roams to a local access network, is assigned an IP gateway
(GW-H) in the operator H's network and obtains an IP address (IP-H). Regarding
the establishment of connectivity to the local IP gateway for local breakout,
the UE can set up IP connectivity with the local IP gateway before IMS
registration based on policies pre-configured on the UE. In this case, the UE
is assigned an IP gateway (GW-L) in the local network and obtains an IP
address (IP-L) for local breakout of IMS sessions. After that, the UE
discovers a P-CSCF in the operator H\'s network and performs IMS registration.
Alternatively, the UE performs IMS registration before establishing
connectivity with a local IP gateway, and upon indication by the IMS, it sets
up IP connectivity with the local IP gateway.
Editor's note: The method for indication by the IMS is FFS.
When the user wishes to establish an IMS session with another user and this
session uses local breakout, the UE indicates, in the SDP offer, IP-L as the
address to which media is to be sent. Operator H authorizes the use of local
breakout for the user for this session. The other user accepts the offer and
indicates its own IP address as the address to which media is to be sent.
After the IMS session is established, the media does not traverse through the
network of operator H, but is handled by the local IP gateway in serving
operator's network.
This scenario permits the home operator to exercise control over the
utilization of local breakout on a per IMS session basis.
This scenario is also applicable when operator H provides service over a large
geographic area. The main difference from the above is that the GW-L will be
in operator H's administrative domain and may even have IP connectivity to the
P-CSCF.
### 6.1.2 P-CSCF located in home network -- single IP address
The user is roaming and is currently served by the operator L. Figure 6.1.2-1
shows the signalling and media paths for this scenario. In this scenario, the
UE uses the same IP address for both IMS signalling and the media. This IP
address is allocated by the local IP gateway in the serving network.
Figure 6.1.2-1: P-CSCF located in home network -- single IP address
The UE discovers an IP gateway (GW-L) in the operator L's network and obtains
an IP address (IP-L). Then the UE discovers a P-CSCF in the operator H's
network and performs IMS registration.
The user wishes to establish a session with another user and indicates, in the
SDP offer, IP-L as the address to which media is to be sent. The other user
accepts the offer and indicates its own IP address as the address to which
media is to be sent.
After the session is established, the media does not traverse through the
network of operator H, but is handled by the local IP gateway in the serving
operator's network.
This scenario assumes that the operator H has authorized the UE to utilize
local breakout for all the IMS sessions.
Some non-3GPP IMS networks provide the capability to locate the P-CSCF in the
home network even when the UE is roaming.
### 6.1.3 P-CSCF located in serving network
The user has the subscription through home operator H. The user is roaming and
is currently served by operator L. Figure 6.1.3-1 shows the signalling and
media paths for this scenario. In this scenario, the UE uses the same IP
address for both IMS signalling and media. This IP address is allocated by the
IP gateway (GW-L) in the serving network.
Figure 6.1.3-1: P-CSCF located in serving network
The UE discovers an IP gateway (GW-L) in the serving operator's network and
obtains an IP address (IP-L). Then the UE discovers a P-CSCF in the serving
operator's network and performs IMS registration.
The user wishes to establish a session with another user and indicates, in the
SDP offer, IP-L as the address to which media is to be sent. The other user
accepts the offer and indicates its own IP address as the address to which
media is to be sent.
After the session is established, the media does not traverse through the
network of the home operator, but is handled by the local IP gateway in the
serving operator's network.
This scenario assumes that the operator H has authorized the UE to utilize
local breakout for all the IMS sessions.
## 6.2 Alternative 1: Dual IP address
### 6.2.1 Description
In this scenario, there are two PDN GWs:
  * PDN GW1 used for anchoring of SIP signalling and IMS bearer traffic; it is located in the Home network;
  * PDN GW2 used for anchoring of IMS bearer traffic and located in the Visited network.
For the sake of simplicity, only 3GPP access and trusted non-3GPP access is
depicted in Figure 6.2.1-1. S7c is present only with PMIP-based S8 (S8b).
Figure 6.2.1-1: Local Breakout for IMS services with Dual IP addresses
From EPS perspective this looks like concurrent access to Multiple PDNs.
S9 is used in order to provide PCC rules to the vPCRF function in the Visited
network, which then distributes the PCC information towards PDN GW2 via S7. In
addition, in case of PMIP-based S8, S9 is also used for conveyance of QoS
rules to the Serving GW or the trusted non-3GPP access via S7c and S7a,
respectively.
Inter-PLMN handovers are supported by re-assigning a new PDN GW2 in the target
VPLMN (note that PDN GW1 is not re-assigned).
For intra-PLMN handovers involving Serving GW change it may be possible to
defer the re-assignment of a new PDN GW2 until the completion of any ongoing
calls.
Figures 6.2.1-2 and 6.2.1-3 illustrates the two types of handovers involving
Serving GW relocation:
Figure 6.2.1-2: Handover involving Serving GW relocation: PDN GW2 relocation
is postponed until there are no ongoing RT sessions
In Figure 6.2.1-2 the Serving GW is relocated while keeping the original PDN
GW2. This is achieved by instantiating an S5 interface between the target
Serving GW and the original PDN GW2. The bearer path after handover in this
approach may thus not be optimised, however the advantage of this approach is
that it minimises the service break, which is in particular important for real
time traffic (e.g. VoIP). Once the ongoing VoIP sessions are terminated, it
should be possible for the network to trigger a streamlining procedure by
which the old PDN GW2 is released and a new PDN GW is assigned in order to
optimise the bearer path for future VoIP sessions.
In Figure 6.2.1-3 the visited PDN GW (PDN GW2) is relocated at the same time
as the Serving GW. This would typically be the case in inter-PLMN handovers.
In this approach a new visited PDN GW (PDN GW3) is assigned, which implies a
new IP address for the bearer plane (hosted on SGi 3), as well as relocation
of the S7/S7c legs.
Editor's note: The change of local IP address requires that the UE shall send
a reINVITE (or UPDATE) to the remote party to inform of the new media stream
IP address for any established media streams using local breakout. The service
interruption in the Figure X3 case is therefore longer than in the Figure X2
case. Nevertheless, as SA2 has already pointed out in a liaison reply to RAN3
(S2-062566): "However SA2 believe that MME/UPE relocation should be a
relatively infrequent event, and does not need to have the same performance as
intra-UPE handover, which should be the main way of supporting intra-LTE
handover.".
Figure 6.2.1-3: Handover involving Serving GW relocation: the visited PDN GW
(PDN GW2) is relocated at the same time (e.g. Inter-PLMN handover)
### 6.2.2 Impact on IMS
Rel-7 IMS supports the usage of different IP addresses for the SIP signalling
and for the bearer traffic, so there is no IMS impact from that perspective.
The decision on whether a particular IMS media stream should be home routed or
routed in local breakout is made by the IMS in the home network. How this is
achieved is FFS.
It is FFS whether the IMS in the home network indicates to the UE upon
registration whether it needs to establish connectivity with a local PDN GW
for local breakout.
### 6.2.3 Impact on EPS
It is FFS whether the two PDN connections can be set up as part of the Attach
procedure.
Among the two approaches for NAT traversal described in TS 23.288, only the
ICE and Outbound approach is applicable for the IMS bearer traffic breaking
out of the visited PDN GW (PDN GW2), given that in this solution the P‑CSCF is
assigned in the home network.
It is FFS whether and how EPS is involved in dynamic decisions on whether a
particular IMS session should be home routed or broken out locally.
### 6.2.4 Impact on UE
How the IMS client in the terminal is instructed about the usage of the two IP
addresses is FFS. For example, the IMS client in the terminal may be
instructed about the usage of the two IP addresses either based on the pre-
configured policy or during the IMS registration.
In case of handover involving PDN GW change (e.g. inter-PLMN handover), the
IMS client may have to manage the change of the IP address in the bearer plane
(e.g. by sending SIP reINVITE to the remote party).
## 6.3 Alternative 2
## 6.5 Comparison of the scenarios
The following table summarizes the differences between the three scenarios and
identifies areas where additional work is needed.
* * *
                                              Dual IP address                                                                                                                                  Single IP address - Home P-CSCF                    Single IP address - Visited P-CSCF
Number of IP addresses obtained by the UE 2 1 1 IMS signalling anchored in the
Home Yes No No NAT traversal for media ICE/Outbound ICE/Outbound IMS ALG or
ICE/Outbound Serving network support of IMS Not needed Not needed Needed PCC
impact FFS None S9 may need to include both Rx and Gx functionality (FFS) UE
impact Handling of two IP addresses None None IMS impact Indication for
establishment of local PDN connectivity during IMS registration (FFS);
Decision about Local Breakout on per-session basis (FFS) Procedures for
discovery of a P-CSCF in the home None Other EPS impact Establishment of
additional PDN connectivity upon Attach (FFS) None None
* * *
NOTE: The Dual IP address scenario allows for co-existence of IMS signalling
anchored in the home network, along with media streams anchored in the home
network, in the visited network or in both.
# 7 Scenarios and Solutions for optimal routing of media
Editor's Note: This section i) will identify the possible scenarios where the
selection of an alternative media path (i.e. different to the signalling path)
provides benefits to IMS operators by reducing the number of network entities
in the media path and ii) will document the detailed reference architectures,
including network elements, interfaces and reference points, suitable to carry
out the identified scenarios.
## 7.1 Scenarios
## 7.2 Alternative 1
# 8 Evaluation of the Solutions
Editor's Note: This section will evaluate the solutions identified in sections
6 and 7.
## 8.1 Evaluation Criteria
## 8.2 Evaluation Results
### 8.2.1 Relationship between local breakout and optimal media routing
The scenarios for local breakout documented in Section 6.1 are not equally
effective in order to perform optimal routing of media.
Let's consider a couple of users "User A" and "User B" that are roaming in
Serving A and Serving B networks respectively (see Figure 8.2.1-1) and let's
suppose that scenario with "P-CSCF located in home network -- dual IP address"
or scenario with "P-CSCF located in home network -- single IP address"
applies.
Figure 8.2.1-1: Optimal media routing in roaming case.
Scenario with "P-CSCF located in home network -- dual IP address" or scenario
with "P-CSCF located in home network -- single IP address" are characterized
by IMS signalling that is transported from the UE (in VPLMN) to the P-CSCF (in
HPLMN) in a completely transparent way across the (visited and transit)
networks in between: in both scenarios IMS signalling is encrypted on the Gm
reference point and, in addition, in scenario with "P-CSCF located in home
network -- dual IP address" signalling is tunnelled (e.g. into GTP). This
arrangement has an architectural drawback: if UE A and UE B are assigned
globally routable IP addresses from their respective visited networks and no
SDP manipulation is performed by any IMS node, the media could go directly
from User A to User B and vice versa, according to the best optimal routing
scenario. However, when performing this kind of OMR, we will have a media
stream crossing networks Serving A, TR-3, TR-4 and Serving B with no
associated usable IMS signalling (i.e. plain and not tunnelled) that these
networks could potentially handle to provide the appropriate authorisation of
bearer resources, QoS management and charging functions; this could lead to
serious problems for the home operators when they have to negotiate the
roaming agreement with Serving networks and the commercial agreement with the
carriers owner of the Transit networks. Furthermore in these scenarios OMR
does not rely on IMS routing within the crossed (Serving and Transit)
networks, but only on IP routing and IP routing policies of the carriers: in
the worst case, the media could even be routed from Serving A to Serving B
through other transit networks different from TR-3 and TR-4, which are also
routing the signalling; this would considerably add complexity to the
commercial settlements between involved operators and carriers.
On the contrary, in scenario with "P-CSCF located in serving network -- single
IP address" IMS signalling passes through the P-CSCF in VPLMN and, e.g. a
sequence of IBCFs that can manipulate IMS signalling itself, forcing the media
stream to follow the same path as signalling. In the same way, i.e.
manipulating IMS signalling, the networks (Serving, Home or Transit) can
optimize the media stream path in a way potentially controlled by the home
operators and, in any case, making the serving and the transit networks
service aware in a way that there are no more problems of resource reservation
and charging.
Summarizing:
  * when the user is roaming and is currently served by a different > operator, scenario with "P-CSCF located in home network -- dual IP > address" and scenario with "P-CSCF located in home network -- > single IP address" may prevent the routing optimization of media > or limit its effectiveness; on the contrary scenario with "P-CSCF > located in serving network -- single IP address" enables the best > performances for OMR.
  * when IP GW-H and IP GW-L belong to the same serving network there is > no need to cross border elements (e.g. IBCFs) to complete an MMTel > call to another user in the same serving network; manipulation of > IMS signalling is no more needed to achieve OMR, cause within the > same serving network standard IP routing is enough: in this > scenario dual IP address approach is no more an obstacle to OMR > and this is the reason why it can be used without any drawback.
# 9 Conclusions
## 9.1 Conclusion on LBO dual IP address solutions
Considering that:
\- LBO single IP address solutions introduced in Rel-8 [8] allows for co-
existence of IMS signalling anchored in the home network, along with media
streams anchored in the home network, in the visited network or in both
\- LBO dual IP address solutions may prevent the routing optimization of media
or limit its effectiveness
it is recommended to not further develop in Rel-9 any LBO dual IP address
solution for the roaming case as currently described in section 6.1.1, i.e.
with IP GW-H and IP GW-L belonging to serving networks owned by different
operators.
# Annex A: OMR use cases
## A.1 Discussion
The following clauses describe use cases to be included in the OMR feasibility
study. Figure A.1-1 below shows a configuration of networks that is used as
the basis for the use cases.
In this example the transit network (TR) provides interconnect between all of
the other networks. The dotted line shows the media path without OMR
procedures.
In each of the following use cases:
\- A network, in this context, is a network bounded by IBCF's/TRGW's.
\- The signalling path is not shown
\- It is a precondition that services are subject to local breakout
It should be noted that all of the configurations are examples only, and other
configurations are possible.
Figure A.1-1: Example of network configuration
## A.2 Common Transit Network
In this example the transit network provides interconnect between all of the
other networks. In Figure A.2-1 below, if a connection exists between Serving
A and B then the alternative optimized media path is possible, as shown.
Figure A.2-1: Common transit network example configuration
## A.3 Common Serving Network
In this example the transit network provides interconnect between all of the
other networks. A common serving network is being used by both users, allowing
the media path to stay within the same network.
Figure A.3-1: Common serving network example configuration
The media path may be further optimized where the users are in the same
residential or enterprise network (see Figure A.3-2). The priority for support
of this further optimization is lower than for supporting the optimization
through the serving network.
Figure A.3-2: Users in same residential/enterprise network
## A.4 Two Transit Networks (1)
In this example TR-1 provides interconnect between all of the other networks
but for restricted scenarios in the case of Home A and Home B, so TR-2 also
provides interconnect between those networks.
Figure A.4-1: Two transit networks example configuration (1)
## A.5 Two Transit Networks (2)
### A.5.1 Two Transit Networks (2) -- Example optimization
In this example TR-1 provides interconnect between Serving A and the two home
networks and TR-2 provides interconnect between Serving B and Home B only.
The optimal media path will depend on which connections are available between
networks. The media path shown by the solid line is certainly possible, and
more optimal paths are possible. For example, if there is a connection
available between TR-1 and TR-2 then the path via Home B can be eliminated.
Other optimizations are possible. They are dependent on connections existing
between networks and are shown in the clause A.5.2.
Figure A.5.1-1: Two transit networks example configuration (2)
### A.5.2 Two Transit Networks (2) -- Alternative optimizations
Figure A.5.2-1: Connection between TR-1 and TR-2
Figure A.5.2-2: Connection between TR-1 and Serving B
Figure A.5.2-3: Connection between TR-2 and Serving A
## A.6 Four transit networks
In this example the four transit networks are fully interconnected. This is
envisaged as a likely scenario since each of the home and serving networks is
served by a transit network and each of the transit networks is interconnected
with the others. An optimization avoiding Home B will always be possible.
Figure A.6-1: Four transit networks example configuration
The alternative optimization shown below is dependent on a connection existing
between Serving A and TR-4. Other optimizations are possible, depending on
additional connections existing between home/serving networks and transit
networks.
Figure A.6-2: Optimization when connection exists between Serving A and TR-4
## A.7 User performs SC
In this example TR-1 provides interconnect between all of the other networks
but for restricted scenarios in the case of Home A and Home B, so TR-2 also
provides interconnect between those networks.
Access A and Access A' belong to the same operator. If User A changes access
network (using Service Continuity procedures as specified in TS 23.237) the
new un-optimized and optimized media paths will be via Access A'.
It is also possible that Access A and Access A' are connected to different
transit networks.
Figure A.7-1: Before Service Continuity
Figure A.7-2: After Service Continuity
## A.8 User splits media across access networks
In this example TR-1 provides interconnect between all of the other networks
but for restricted scenarios in the case of Home A and Home B, so TR-2 also
provides interconnect between those networks.
User A is using both Serving A1 and Serving A2 to carry media, one for audio
and one for video.
It is also possible that Serving A1 and Serving A2 are connected to different
transit networks.
Figure A.8-1: User splits media across access networks example configuration
## A.9 Media server in Home A
This use case may occur in the case of a conference call being hosted in User
A's home network. TR-1 provides interconnect between all of the other
networks, but configurations involving more than one transit network are also
possible.
An MRF exists in User A's Home network. The path from User A to the MRF is
already optimal but the path from User B to the MRF can be optimized by
eliminating the loop through User B's Home network.
Figure A.9-1: Media server in Home A example configuration
## A.10 No Transit networks
In this example no interconnect networks are used.
The optimal media path will depend on which connections are available between
networks. The dotted line shows the unoptimized media path. The solid line
traversing all of the networks is the case where no optimization is possible
because there are no other interconnections. More optimal paths are shown by
the solid lines. For example, if there is a connection available between Home
A and Serving B then the loop through Home B can be eliminated.
Figure A.10-1: No transit networks example configuration
# Annex B: Change history
+-------+-------+-------+----+-----+-------+-------+-------+ | **C | | | | | | | | | hange | | | | | | | | | hist | | | | | | | | | ory** | | | | | | | | +-------+-------+-------+----+-----+-------+-------+-------+ | Date | T | TSG | CR | Rev | Subje | Old | New | | | SG # | Doc. | | | ct/Co | | | | | | | | | mment | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | SA | S2-0 | | | TR | - | v | | 07-10 | 2#60 | 74050 | | | Ske | | 0.0.1 | | | | | | | leton | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | SA | S2-0 | | | Merge | v | v | | 07-10 | 2#60 | 74671 | | | with | 0.0.1 | 0.0.2 | | | | | | | SID | | | | | | | | | pro | | | | | | | | | posal | | | | | | | | | in | | | | | | | | | S2-0 | | | | | | | | | 74613 | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | | | | | Edit | v | v | | 07-10 | | | | | orial | 0.0.2 | 0.1.0 | | | | | | | up | | | | | | | | | date: | | | | | | | | | corre | | | | | | | | | ction | | | | | | | | | of | | | | | | | | | the | | | | | | | | | ve | | | | | | | | | rsion | | | | | | | | | n | | | | | | | | | umber | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | SA | S2-0 | | | Incl | v | v | | 07-10 | 2#60 | 74672 | | | usion | 0.1.0 | 0.2.0 | | | | | | | of | | | | | | S2-0 | | | docu | | | | | | 74673 | | | ments | | | | | | | | | app | | | | | | S2-0 | | | roved | | | | | | 74778 | | | at | | | | | | | | | SA | | | | | | | | | 2#60 | | | | | | | | | (K | | | | | | | | | obe): | | | | | | | | | | | | | | | | | | - | | | | | | | | | In | | | | | | | | | trodu | | | | | | | | | ction | | | | | | | | | | | | | | | | | | and | | | | | | | | | | | | | | | | | | Scope | | | | | | | | | | | | | | | | | | for | | | | | | | | | S | | | | | | | | | ystem | | | | | | | | | | | | | | | | | | en | | | | | | | | | hance | | | | | | | | | ments | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | the | | | | | | | | | | | | | | | | | | use | | | | | | | | | | | | | | | | | | of | | | | | | | | | | | | | | | | | | IMS | | | | | | | | | | | | | | | | | | ser | | | | | | | | | vices | | | | | | | | | | | | | | | | | | in | | | | | | | | | | | | | | | | | | local | | | | | | | | | | | | | | | | | | bre | | | | | | | | | akout | | | | | | | | | | | | | | | | | | and | | | | | | | | | | | | | | | | | | op | | | | | | | | | timal | | | | | | | | | | | | | | | | | | ro | | | | | | | | | uting | | | | | | | | | | | | | | | | | | of | | | | | | | | | | | | | | | | | | the | | | | | | | | | | | | | | | | | | media | | | | | | | | | | | | | | | | | | TR | | | | | | | | | | | | | | | | | | - | | | | | | | | | Local | | | | | | | | | | | | | | | | | | Bre | | | | | | | | | akout | | | | | | | | | | | | | | | | | | Scen | | | | | | | | | arios | | | | | | | | | | | | | | | | | | - | | | | | | | | | IM | | | | | | | | | S/EPS | | | | | | | | | | | | | | | | | | Local | | | | | | | | | | | | | | | | | | Brea | | | | | | | | | kout, | | | | | | | | | | | | | | | | | | some | | | | | | | | | | | | | | | | | | ar | | | | | | | | | chite | | | | | | | | | cture | | | | | | | | | | | | | | | | | | princ | | | | | | | | | iples | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | SA | S2-0 | | | Incl | v | v | | 08-01 | 2#62 | 81009 | | | usion | 0.2.0 | 0.3.1 | | | | | | | of a | | | | | | | | | doc | | | | | | | | | ument | | | | | | | | | app | | | | | | | | | roved | | | | | | | | | at | | | | | | | | | SA | | | | | | | | | 2#62 | | | | | | | | | (M | | | | | | | | | arina | | | | | | | | | Del | | | | | | | | | Rey): | | | | | | | | | | | | | | | | | | - A | | | | | | | | | ltern | | | | | | | | | ative | | | | | | | | | | | | | | | | | | sol | | | | | | | | | ution | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | Local | | | | | | | | | | | | | | | | | | Bre | | | | | | | | | akout | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | IMS | | | | | | | | | | | | | | | | | | Edit | | | | | | | | | orial | | | | | | | | | upd | | | | | | | | | ates: | | | | | | | | | | | | | | | | | | - | | | | | | | | | corre | | | | | | | | | ction | | | | | | | | | | | | | | | | | | of | | | | | | | | | | | | | | | | | | ca | | | | | | | | | ption | | | | | | | | | | | | | | | | | | nu | | | | | | | | | mbers | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | fi | | | | | | | | | gures | | | | | | | | | | | | | | | | | | in | | | | | | | | | | | | | | | | | | sec | | | | | | | | | tions | | | | | | | | | | | | | | | | | | 6.1.2 | | | | | | | | | | | | | | | | | | and | | | | | | | | | | | | | | | | | | 6.1.3 | | | | | | | | | | | | | | | | | | - | | | | | | | | | in | | | | | | | | | trodu | | | | | | | | | ction | | | | | | | | | | | | | | | | | | of | | | | | | | | | f | | | | | | | | | igure | | | | | | | | | | | | | | | | | | cap | | | | | | | | | tions | | | | | | | | | | | | | | | | | | (fi | | | | | | | | | gures | | | | | | | | | | | | | | | | | | 6. | | | | | | | | | 1.2‑1 | | | | | | | | | | | | | | | | | | and | | | | | | | | | | | | | | | | | | 6.1 | | | | | | | | | .3‑1) | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | SA | S2-0 | | | Incl | v. | v. | | 08-09 | 2#67 | 85419 | | | usion | 0.3.1 | 0.4.1 | | | | | | | of | | | | | | **S | | | docu | | | | | | 2-086 | | | ments | | | | | | 180** | | | app | | | | | | | | | roved | | | | | | **S | | | at | | | | | | 2-086 | | | SA | | | | | | 213** | | | 2#67 | | | | | | | | | (S | | | | | | * | | | ophia | | | | | | _S2-0 | | | A | | | | | | 86215 | | | ntipo | | | | | | S | | | lis): | | | | | | 2-086 | | | | | | | | | 402_ _| | | - | | | | | | | | | Concl | | | | | | | | | usion | | | | | | | | | | | | | | | | | | on | | | | | | | | | | | | | | | | | | LBO | | | | | | | | | | | | | | | | | | dual | | | | | | | | | | | | | | | | | | IP | | | | | | | | | | | | | | | | | | ad | | | | | | | | | dress | | | | | | | | | | | | | | | | | | solu | | | | | | | | | tions | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | the | | | | | | | | | | | | | | | | | | ro | | | | | | | | | aming | | | | | | | | | | | | | | | | | | case | | | | | | | | | | | | | | | | | | - | | | | | | | | | Jus | | | | | | | | | tific | | | | | | | | | ation | | | | | | | | | | | | | | | | | | of | | | | | | | | | | | | | | | | | | concl | | | | | | | | | usion | | | | | | | | | | | | | | | | | | on | | | | | | | | | | | | | | | | | | LBO | | | | | | | | | | | | | | | | | | dual | | | | | | | | | | | | | | | | | | IP | | | | | | | | | | | | | | | | | | ad | | | | | | | | | dress | | | | | | | | | | | | | | | | | | solu | | | | | | | | | tions | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | the | | | | | | | | | | | | | | | | | | ro | | | | | | | | | aming | | | | | | | | | | | | | | | | | | case | | | | | | | | | | | | | | | | | | - | | | | | | | | |__Re | | | | | | | | | moval | | | | | | | | | | | | | | | | | | of | | | | | | | | | | | | | | | | | | Edit | | | | | | | | | or\'s | | | | | | | | | | | | | | | | | | note | | | | | | | | | | | | | | | | | | on | | | | | | | | | | | | | | | | | | cha | | | | | | | | | rging | | | | | | | | | | | | | | | | | | pr | | | | | | | | | incip | | | | | | | | | les_ _| | | | | | | | | | | | | | | | | | - | | | | | | | | |__New | | | | | | | | | " | | | | | | | | | Annex | | | | | | | | | | | | | | | | | | A: | | | | | | | | | | | | | | | | | | OMR | | | | | | | | | | | | | | | | | | Use | | | | | | | | | | | | | | | | | | Cas | | | | | | | | | es"_ * | | | | | | | | | | | | | | | | | | - | | | | | | | | | Re | | | | | | | | | quire | | | | | | | | | ments | | | | | | | | | | | | | | | | | | for | | | | | | | | | | | | | | | | | | OMR | | | | | | | | | | | | | | | | | | work | | | | | | | | | | | | | | | | | | Edit | | | | | | | | | orial | | | | | | | | | upd | | | | | | | | | ates: | | | | | | | | | | | | | | | | | | - r | | | | | | | | | enumb | | | | | | | | | ering | | | | | | | | | | | | | | | | | | of | | | | | | | | | | | | | | | | | | Refer | | | | | | | | | ences | | | | | | | | | | | | | | | | | | - | | | | | | | | | added | | | | | | | | | | | | | | | | | | mi | | | | | | | | | ssing | | | | | | | | | | | | | | | | | | numb | | | | | | | | | ering | | | | | | | | | | | | | | | | | | in | | | | | | | | | | | | | | | | | | se | | | | | | | | | ction | | | | | | | | | | | | | | | | | | A.5 | | | | | | | | | | | | | | | | | | title | | | | | | | | | | | | | | | | | | - r | | | | | | | | | enumb | | | | | | | | | ering | | | | | | | | | | | | | | | | | | of | | | | | | | | | " | | | | | | | | | Annex | | | | | | | | | | | | | | | | | | x: | | | | | | | | | C | | | | | | | | | hange | | | | | | | | | | | | | | | | | | his | | | | | | | | | tory" | | | +-------+-------+-------+----+-----+-------+-------+-------+ | 20 | SA | S2-0 | | | Incl | v. | v. | | 08-10 | 2#68 | 86622 | | | usion | 0.4.1 | 0.5.0 | | | | | | | of | | | | | | | | | the | | | | | | | | | doc | | | | | | | | | ument | | | | | | | | | app | | | | | | | | | roved | | | | | | | | | at | | | | | | | | | SA | | | | | | | | | 2#68 | | | | | | | | | (Qing | | | | | | | | | dao): | | | | | | | | | | | | | | | | | | - | | | | | | | | | Mi | | | | | | | | | ssing | | | | | | | | | | | | | | | | | | abb | | | | | | | | | revia | | | | | | | | | tions | | | | | | | | | | | | | | | | | | in | | | | | | | | | | | | | | | | | | TR | | | | | | | | | 2 | | | | | | | | | 3.894 | | | +-------+-------+-------+----+-----+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+----+-----+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+----+-----+-------+-------+-------+