# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The present document identifies the Quality of Service (QoS) aspects for the
3GPP system.
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document provides the framework for Quality of Service within the
3GPP system. The main purpose is to specify the list of attributes applicable
to the UMTS Bearer Service and the Radio Access Bearer Service, as well as
describe the Quality of Service architecture to be used in the 3GPP system.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 23.110: \"UMTS Access Stratum - Services and Functions\".
[2] 3GPP TS 22.100: \"UMTS Phase 1\".
[3] 3GPP TS 23.121: \"Architectural Requirements for Release 1999\".
[4] Void.
[5] 3GPP TS 22.105: \"Services & Service capabilities\".
[6] 3GPP TS 24.008: \"Mobile radio interface layer 3 specification; Core
Network Protocols -- Stage 3\".
[7] 3GPP TS 23.207: \"End-to-end QoS concept and architecture\".
[8] 3GPP TS 23.008: \"Organization of subscriber data\".
[9] 3GPP TS 23.067: \"enhanced Multi-Level Precedence and Pre-emption service
(eMLPP) - Stage 2\".
[10] 3GPP TS 03.60 (Release 1998): \"Digital cellular telecommunications
system (Phase 2+); General Packet Radio Service (GPRS); Service description;
Stage 2 (Release 1998)\".
[11] 3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC); Stage 2\".
# 3 Abbreviations
For the purpose of the present document, the following abbreviations apply:
3G 3rd Generation
AMR Adaptive Multirate speech codec
ATM Asynchronous Transfer Mode
BER Bit Error Rate
BS Bearer Service
CC Call Control
CN Core Network
CRC Cyclic Redundancy Check
CS Circuit Switched
DTX Discontinuous Transmission
FDD Frequency Division Duplex
FER Frame Erasure Ratio
FTP File Transfer Protocol
GERAN GSM/EDGE Radio Access Network
GPRS General Packet Radio Service
GSM Global System for Mobile Communication
IETF Internet Engineering Task Force
IP Internet Protocol
ISDN Integrated Services Digital Network
MO Mobile Originating Call
MPEG Moving Pictures Expert Group
MT Mobile Terminal
MTC Mobile Terminated Call
NS Network Service
PDP Packet Data Protocol
PDU Protocol Data Unit
PS Packet Switched
PSTN Public Switched Telephone Network
QoS Quality of Service
RA Routing Area
RAB Radio Access Bearer
RAN Radio Access Network
RLC Radio Link Control
RSVP Resource Reservation Protocol
RT Real Time
RTP Real Time Transport Protocol
SAP Service Access Point
SDU Service Data Unit
SGSN Serving GPRS Support Node
SLA Service Level Agreement
SMS Short Message Service
SVC Switched Virtual Circuit
UDP User Datagram Protocol
TBC Token Bucket Counter
TDD Time Division Duplex
TE Terminal Equipment
TSPEC Traffic Specification
UE User Equipment
UMTS Universal Mobile Telecommunication System
UTRA UMTS Terrestrial Radio Access
UTRAN UMTS Terrestrial Radio Access Network
# 4 High Level Requirements
## 4.1 End User QoS Requirements
Generally, end users care only the issues that are visible to them. The
involvement of the user leads to the following conclusions. From the end-user
point of view:
\- only the QoS perceived by end-user matter;
\- the number of user defined/controlled attributes has to be as small as
possible;
\- derivation/definition of QoS attributes from the application requirements
has to be simple;
\- QoS attributes shall be able to support all applications that are used, a
certain number of applications have the characteristic of asymmetric nature
between two directions, uplink/downlink;
\- QoS definitions have to be future proof;
\- QoS has to be provided end-to-end.
## 4.2 General Requirements for QoS
\- QoS attributes (or mapping of them) should not be restricted to one or few
external QoS control mechanisms but the QoS concept should be capable of
providing different levels of QoS by using UMTS specific control mechanisms
(not related to QoS mechanisms in the external networks).
\- All attributes have to have unambiguous meaning.
\- QoS mechanism have to allow efficient use of radio capacity.
\- Allow independent evolution of Core and Access networks.
\- Allow evolution of UMTS network, (i.e., eliminate or minimise the impact of
evolution of transport technologies in the wireline world).
\- All attribute combinations have to have unambiguous meaning.
## 4.3 Technical Requirements for QoS
This clause presents the general high-level technical requirements for the
UMTS QoS. QoS will be defined with a set of attributes. These attributes
should meet the following criteria:
\- UMTS QoS control mechanisms shall provide QoS attribute control on a peer
to peer basis between UE and 3G gateway node;
\- the UMTS QoS mechanisms shall provide a mapping between application
requirements and UMTS services;
\- the UMTS QoS control mechanisms shall be able to efficiently interwork with
current QoS schemes. Further, the QoS concept should be capable of providing
different levels of QoS by using UMTS specific control mechanisms (not related
to QoS mechanisms in the external networks);
\- a session based approach needs to be adopted for all packet mode
communication within the 3G serving node with which UMTS QoS approach shall be
intimately linked, essential features are multiple QoS streams per address;
\- the UMTS shall provide a finite set of QoS definitions;
\- the overhead and additional complexity caused by the QoS scheme should be
kept reasonably low, as well as the amount of state information transmitted
and stored in the network;
\- QoS shall support efficient resource utilisation;
\- the QoS attributes are needed to support asymmetric bearers;
\- applications (or special software in UE or 3G gateway node) should be able
to indicate QoS values for their data transmissions;
\- QoS behaviour should be dynamic , i.e., it shall be possible to modify QoS
attributes during an active session;
\- number of attributes should be kept reasonably low (increasing number of
attributes, increase system complexity);
\- user QoS requirements shall be satisfied by the system, including when
change of SGSN within the Core Network occurs.
# 5 CS QoS in release 1999
For UMTS release \'99 CS-CC, the QoS related bearer definitions of GSM (as
defined in bearer capability information element, octet 6 and its extensions)
are sufficient.
Based on the Bearer Capability information element the following services can
be identified:
**a) speech:** from the Information Transfer Capability (ITC) parameter;
**b) data, non-transparent:** from the ITC and Connection element (CE)
parameters;
**c) data, transparent:** from the ITC and CE parameters.
For each of the above services, associated call control parameters, including
the Bearer Capability information element, can be considered to define the
UMTS bearer service.
The further mapping to Radio Access Bearer attributes is done according to the
principles described in clause 8.
NOTE: The mapping from GSM CC to UMTS RAB attributes is in the responsibility
of CN WG1 and CN WG3.
# 6 QoS Architecture
## 6.1 Overview of Different Levels of QoS
Network Services are considered end-to-end, this means from a Terminal
Equipment (TE) to another TE. An End-to-End Service may have a certain Quality
of Service (QoS) which is provided for the user of a network service. It is
the user that decides whether he is satisfied with the provided QoS or not.
To realise a certain network QoS a Bearer Service with clearly defined
characteristics and functionality is to be set up from the source to the
destination of a service.
A bearer service includes all aspects to enable the provision of a contracted
QoS. These aspects are among others the control signalling, user plane
transport and QoS management functionality. A UMTS bearer service layered
architecture is depicted in figure 1, each bearer service on a specific layer
offers it\'s individual services using services provided by the layers below.
Figure 1: UMTS QoS Architecture
### 6.1.1 The End-to-End Service and UMTS Bearer Service
On its way from the TE to another TE the traffic has to pass different bearer
services of the network(s). A TE is connected to the UMTS network by use of a
Mobile Termination (MT). The **End-to-End Service** on the application level
uses the bearer services of the underlying network(s). As the **End-to-End
Service** is conveyed over several networks (not only UMTS) it is not subject
for further elaboration in the present document.
The **End-to-End-Service** used by the TE will be realised using a **TE/MT
Local Bearer Service** , a **UMTS Bearer Service** , and an **External Bearer
Service**.
**TE/MT Local Bearer Service** is not further elaborated here as this bearer
service is outside the scope of the UMTS network.
Having said that the **End-to-End Bearer Service** is beyond the scope of the
present document it is however the various services offered by the **UMTS
Bearer Service** that the UMTS operator offers. It is this bearer service that
provides the UMTS QoS.
The **External Bearer Service** is not further elaborated here as this bearer
may be using several network services, e.g. another **UMTS Bearer Service**
_._
### 6.1.2 The Radio Access Bearer Service and the Core Network Bearer Service
As described in the previous clause it is the UMTS Bearer Service that
provides the UMTS QoS. The UMTS Bearer Service consists of two parts, the
Radio Access Bearer Service and the Core Network Bearer Service. Both services
reflects the optimised way to realise the UMTS Bearer Service over the
respective cellular network topology taking into account such aspects as e.g.
mobility and mobile subscriber profiles.
The Radio Access Bearer Service provides confidential transport of signalling
and user data between MT and CN Edge Node with the QoS adequate to the
negotiated UMTS Bearer Service or with the default QoS for signalling. This
service is based on the characteristics of the radio interface and is
maintained for a moving MT.
If unequal error protection shall be supported, it is provided by underlying
Radio Bearer Services. In this case the payload of the user data SDU,
transported by the Radio Access Bearer Service, shall conform to a SDU format
defined with possible exact sizes and the payload bits statically structured
per size. Each bit of the SDU payload belongs to a defined subflow. At Radio
Access Bearer Service establishment, the exact SDU payload format and required
reliability per subflow is signalled to RAN using standardised attributes (see
clause 6.4.3).
In release 1999, unequal error protection for a Radio Access Bearer is only
applicable for services using a codec integrated in the core network. This
implies that UMTS Bearer service can not use the attribute SDU format
information to define subflows and the payload bits of the SDUs will therefore
be equally protected.
The Core Network Bearer Service of the UMTS core network connects the UMTS CN
Edge Node with the CN Gateway to the external network. The role of this
service is to efficiently control and utilise the backbone network in order to
provide the contracted UMTS bearer service. The UMTS packet core network shall
support different backbone bearer services for variety of QoS.
### 6.1.3 The Radio Bearer Service and the RAN Access Bearer Service
The Radio Access Bearer Service is realised by a Radio Bearer Service and an
RAN Access -Bearer Service.
The Radio Bearer Service covers all the aspects of the radio interface
transport. This bearer service is provided by the UTRAN FDD/TDD or the GERAN,
which are not elaborated further in the present document.
To support unequal error protection, RAN and MT shall have the ability to
segment/reassemble the user flows into the different subflows requested by the
Radio Access Bearer Service. The segmentation/ reassemble is given by the SDU
payload format signalled at Radio Access Bearer establishment. The Radio
Bearer service handles the part of the user flow belonging to one subflow,
according to the reliability requirements for that subflow.
The RAN Access Bearer Service together with the Physical Bearer Service
provides the transport between RAN and CN. RAN Access bearer services for
packet traffic shall provide different bearer services for variety of QoS. The
RAN Access Bearer Service is provided by the Iu or the Gb Bearer Service.
### 6.1.4 The Backbone Network Service
The Core Network Bearer Service uses a generic Backbone Network Service.
The Backbone Network Service covers the layer 1/Layer2 functionality and is
selected according to operator\'s choice in order to fulfil the QoS
requirements of the Core Network Bearer Service. The Backbone Network Service
is not specific to UMTS but may reuse an existing standard.
## 6.2 QoS Management Functions in the Network
The purpose of this clause is to give a comprehensive overview of
functionality needed to establish, modify and maintain a UMTS Bearer Service
with a specific QoS. The relations between the functions internal to the nodes
are implementation specific. The allocation of these functions to the UMTS
entities shall indicate the requirement for the specific entity to enforce the
QoS commitments negotiated for the UMTS bearer service. The specific
realisation of these functions is implementation dependent and has only to
maintain the specified QoS characteristics. The QoS management functions of
all UMTS entities together shall ensure the provision of the negotiated
service between the access points of the UMTS bearer service. The end-to-end
service is provided by translation/mapping with UMTS external services.
### 6.2.1 Description of functions
### 6.2.1.1 QoS management functions for UMTS bearer service in the control
plane
**Service Manager** co-ordinates the functions of the control plane for
establishing, modifying and maintaining the service it is responsible for.
And, it provides all user plane QoS management functions with the relevant
attributes. The service manager offers services to other instances, it signals
with peer service managers and uses services provided by other instances. The
service manager may perform an attribute translation to request lower layer
services. Furthermore, it may interrogate other control functions to receive
permission for service provision.
**Translation function** converts between the internal service primitives for
UMTS bearer service control and the various protocols for service control of
interfacing external networks. The translation includes the converting between
UMTS bearer service attributes and QoS attributes of the external networks
service control protocol (e.g. between IETF TSPEC and UMTS service
attributes). The service manager may include a translation function to convert
between its service attributes and the attributes of a lower layer service it
is using.
**Admission/Capability control** maintains information about all available
resources of a network entity and about all resources allocated to UMTS bearer
services. It determines for each UMTS bearer service request or modification
whether the required resources can be provided by this entity and it reserves
these resources if allocated to the UMTS bearer service. The function checks
also the capability of the network entity to provide the requested service,
i.e. whether the specific service is implemented and not blocked for
administrative reasons. The resource control performed by the admission
control supports also the service retention.
**Subscription Control** checks the administrative rights of the UMTS bearer
service user to use the requested service with the specified QoS attributes.
### 6.2.1.2 Functions for UMTS bearer service in the user plane
User plane QoS management functions maintain the signalling and user data
traffic within certain limits, defined by specific QoS attributes. UMTS bearer
services with different QoS attribute values shall be supported by the QoS
management functions. These functions ensure the provision of the QoS
negotiated for a UMTS bearer service.
**Mapping function** provides each data unit with the specific marking
required to receive the intended QoS at the transfer by a bearer service.
**Classification function** assigns data units to the established services of
a MT according to the related QoS attributes if the MT has multiple UMTS
bearer services established. The appropriate UMTS bearer service is derived
from the data unit header or from traffic characteristics of the data.
**Resource Manager** distributes the available resources between all services
sharing the same resource. The resource manager distributes the resources
according to the required QoS. Example means for resource management are
scheduling, bandwidth management and power control for the radio bearer.
**Traffic conditioner** provides conformance between the negotiated QoS for a
service and the data unit traffic. Traffic conditioning is performed by
policing or by traffic shaping. The policing function compares the data unit
traffic with the related QoS attributes. Data units not matching the relevant
attributes will be dropped or marked as not matching, for preferential
dropping in case of congestion. The traffic shaper forms the data unit traffic
according to the QoS of the service. The reference algorithm for traffic
conditioning is described in Annex B. This reference algorithm should not be
interpreted as a required implementation algorithm.
### 6.2.2 Allocation of QoS management functions
### 6.2.2.1 QoS management functions for UMTS bearer service in the control
plane
The QoS management functions for controlling the UMTS bearer service are shown
in figure 2. These control functions support the establishment and the
modification of a UMTS bearer service by signalling/negotiation with the UMTS
external services and by the establishment or modification of all UMTS
internal services with the required characteristics.
Figure 2: QoS management functions for UMTS bearer service in the control
plane
The translation functions (Trans.) in the MT and the Gateway convert between
external service signalling and internal service primitives including the
translation of the service attributes. The translation function in the Gateway
is FFS regarding packet oriented services.
The UMTS BS manager in the MT, CN EDGE and the Gateway signal between each
other and via the translation function with external instances to establish or
modify a UMTS bearer service. Each of the UMTS BS managers interrogates its
associated admission/capability control whether the network entity supports
the specific requested service and whether the required resources are
available. Additionally, the CN EDGE UMTS BS manager verifies with the
subscription control the administrative rights for using the service.
The UMTS BS manager of the MT translates the UMTS bearer service attributes
into attributes for the local bearer service and requests this service from
the local BS manager.
The UMTS BS manager of the CN EDGE translates the UMTS bearer service
attributes into RAB service attributes and RAN Access bearer service
attributes and it translates UMTS bearer service attributes into CN bearer
service attributes. Also, the UMTS BS manager of the CN EDGE requests its RAN
Access BS manager, its CN BS manager and the RAB manager in the RAN to provide
the required services.
The RAB manager verifies with its admission/capability control whether the RAN
supports the specific requested service and whether the required resources are
available. It translates the RAB service attributes into radio bearer service
and RAN Access bearer service attributes and requests the radio BS manager and
the RAN Access BS manager to provide bearer services with the required
attributes.
The Gateway UMTS BS manager translates the UMTS bearer service attributes into
CN bearer service attributes and requests its CN BS manager to provide the
service. Furthermore, it translates the UMTS bearer service attributes into
the external bearer service attributes and requests this service from the
external BS manager.
Radio, RAN Access and CN BS managers use services provided by lower layers as
indicated in figure 2.
### 6.2.2.2 QoS management functions for the UMTS bearer service in the user
plane
The QoS management functions of the UMTS BS for the user plane are shown in
figure 3. These functions maintain the data transfer characteristics according
to the commitments established by the UMTS BS control functions and expressed
by the bearer service attributes. The QoS management user plane functions are
provided with the relevant attributes by the QoS management control functions.
Figure 3: QoS management functions for the UMTS bearer service in the user
plane
The classification function (Class.) in the Gateway and in the MT assign user
data units received from the external bearer service or the local bearer
service to the appropriate UMTS bearer service according to the QoS
requirements of each user data unit. The classification function in the MT is
FFS.
The traffic conditioner (Cond.) in the MT provides conformance of the uplink
user data traffic with the QoS attributes of the relevant UMTS bearer service.
In the Gateway a traffic conditioner may provide conformance of the downlink
user data traffic with the QoS attributes of the relevant UMTS bearer service;
i.e., on a per PDP context basis. The packet oriented transport of the
downlink data units from the external bearer service to the RAN and the
buffering in the RAN may result in bursts of downlink data units not
conformant with the UMTS BS QoS attributes. A traffic conditioner in the RAN
forms this downlink data unit traffic according to the relevant QoS
attributes.
The traffic conditioners are not necessarily separated functions. For example
a resource manager may also provide conformance with the relevant QoS
attributes by appropriate data unit scheduling. Or, if fixed resources are
dedicated to one bearer service the resource limitations implicitly condition
the traffic.
The mapping function marks each data unit with the specific QoS indication
related to the bearer service performing the transfer of the data unit.
Each of the resource managers of a network entity is responsible for a
specific resource. The resource manager distributes its resources between all
bearer services requesting transfer of data units on these resources. Thereby,
the resource manager attempts to provide the QoS attributes required for each
individual bearer service.
## 6.3 UMTS QoS Classes
When defining the UMTS QoS classes, also referred to as traffic classes, the
restrictions and limitations of the air interface have to be taken into
account. It is not reasonable to define complex mechanisms as have been in
fixed networks due to different error characteristics of the air interface.
The QoS mechanisms provided in the cellular network have to be robust and
capable of providing reasonable QoS resolution. Table 1 illustrates the QoS
classes for UMTS.
There are four different QoS classes:
\- conversational class;
\- streaming class;
\- interactive class; and
\- background class.
The main distinguishing factor between these QoS classes is how delay
sensitive the traffic is: Conversational class is meant for traffic which is
very delay sensitive while Background class is the most delay insensitive
traffic class.
Conversational and Streaming classes are mainly intended to be used to carry
real-time traffic flows. The main divider between them is how delay sensitive
the traffic is. Conversational real-time services, like video telephony, are
the most delay sensitive applications and those data streams should be carried
in Conversational class.
Interactive class and Background are mainly meant to be used by traditional
Internet applications like WWW, Email, Telnet, FTP and News. Due to looser
delay requirements, compare to conversational and streaming classes, both
provide better error rate by means of channel coding and retransmission. The
main difference between Interactive and Background class is that Interactive
class is mainly used by interactive applications, e.g. interactive Email or
interactive Web browsing, while Background class is meant for background
traffic, e.g. background download of Emails or background file downloading.
Responsiveness of the interactive applications is ensured by separating
interactive and background applications. Traffic in the Interactive class has
higher priority in scheduling than Background class traffic, so background
applications use transmission resources only when interactive applications do
not need them. This is very important in wireless environment where the
bandwidth is low compared to fixed networks.
However, these are only typical examples of usage of the traffic classes.
There is in particular no strict one-to-one mapping between classes of service
(as defined in TS 22.105 [5]) and the traffic classes defined in this TS. For
instance, a service interactive by nature can very well use the Conversational
traffic class if the application or the user has tight requirements on delay.
### 6.3.1 Conversational class
The most well known use of this scheme is telephony speech (e.g. GSM). But
with Internet and multimedia a number of new applications will require this
scheme, for example voice over IP and video conferencing tools. Real time
conversation is always performed between peers (or groups) of live (human)
end-users. This is the only scheme where the required characteristics are
strictly given by human perception.
Real time conversation scheme is characterised by that the transfer time shall
be low because of the conversational nature of the scheme and at the same time
that the time relation (variation) between information entities of the stream
shall be preserved in the same way as for real time streams. The maximum
transfer delay is given by the human perception of video and audio
conversation. Therefore the limit for acceptable transfer delay is very
strict, as failure to provide low enough transfer delay will result in
unacceptable lack of quality. The transfer delay requirement is therefore both
significantly lower and more stringent than the round trip delay of the
interactive traffic case.
Real time conversation - fundamental characteristics for QoS:
\- preserve time relation (variation) between information entities of the
stream;
\- conversational pattern (stringent and low delay).
### 6.3.2 Streaming class
When the user is looking at (listening to) real time video (audio) the scheme
of real time streams applies. The real time data flow is always aiming at a
live (human) destination. It is a one way transport.
This scheme is one of the newcomers in data communication, raising a number of
new requirements in both telecommunication and data communication systems. It
is characterised by that the time relations (variation) between information
entities (i.e. samples, packets) within a flow shall be preserved, although it
does not have any requirements on low transfer delay.
The delay variation of the end-to-end flow shall be limited, to preserve the
time relation (variation) between information entities of the stream. But as
the stream normally is time aligned at the receiving end (in the user
equipment), the highest acceptable delay variation over the transmission media
is given by the capability of the time alignment function of the application.
Acceptable delay variation is thus much greater than the delay variation given
by the limits of human perception.
Real time streams - fundamental characteristics for QoS:
\- preserve time relation (variation) between information entities of the
stream.
### 6.3.3 Interactive class
When the end-user, that is either a machine or a human, is on line requesting
data from remote equipment (e.g. a server), this scheme applies. Examples of
human interaction with the remote equipment are: web browsing, data base
retrieval, server access. Examples of machines interaction with remote
equipment are: polling for measurement records and automatic data base
enquiries (tele-machines).
Interactive traffic is the other classical data communication scheme that on
an overall level is characterised by the request response pattern of the end-
user. At the message destination there is an entity expecting the message
(response) within a certain time. Round trip delay time is therefore one of
the key attributes. Another characteristic is that the content of the packets
shall be transparently transferred (with low bit error rate).
Interactive traffic - fundamental characteristics for QoS:
\- request response pattern;
\- preserve payload content.
### 6.3.4 Background class
When the end-user, that typically is a computer, sends and receives data-files
in the background, this scheme applies. Examples are background delivery of
E-mails, SMS, download of databases and reception of measurement records.
Background traffic is one of the classical data communication schemes that on
an overall level is characterised by that the destination is not expecting the
data within a certain time. The scheme is thus more or less delivery time
insensitive. Another characteristic is that the content of the packets shall
be transparently transferred (with low bit error rate).
Background traffic - fundamental characteristics for QoS:
\- the destination is not expecting the data within a certain time;
\- preserve payload content.
Table 1: UMTS QoS classes
+-------------+-------------+-------------+-------------+-------------+ | Traffic | Con | Streaming | Interactive | Background | | class | versational | class | class | | | | class | | | Background | | | | streaming | Interactive | best effort | | | con | RT | best effort | | | | versational | | | | | | RT | | | | +-------------+-------------+-------------+-------------+-------------+ | Fundamental | - Preserve | - Preserve | - Request | - | | char | time | time | response | Destination | | acteristics | relation | relation | pattern | is not | | | (variation) | (variation) | | expecting | | | between | between | - Preserve | the data | | | information | information | payload | within a | | | entities of | entities of | content | certain | | | the stream | the stream | | time | | | | | | | | | Con | | | - Preserve | | | versational | | | payload | | | pattern | | | content | | | (stringent | | | | | | and low | | | | | | delay ) | | | | +-------------+-------------+-------------+-------------+-------------+ | Example of | - voice | - | - Web | - | | the | | streaming | browsing | background | | application | | video | | download of | | | | | | emails | +-------------+-------------+-------------+-------------+-------------+
## 6.4 QoS Attributes
NOTE: The discussion of UMTS bearer service attributes as well as radio access
bearer attributes is still going on. Especially the bitrate attributes are
under discussion and few comments have also been given to reliability
attribute.
### 6.4.1 Asymmetric Bearers
Uni-directional and bi-directional bearer services shall be supported. For bi-
directional bearer services, the attributes Maximum bitrate, and Guaranteed
bitrate should be possible to set separately for uplink/downlink in order to
support asymmetric bearers.
### 6.4.2 Sources of UMTS Bearer Service Attributes
UMTS bearer service attributes describe the service provided by the UMTS
network to the user of the UMTS bearer service. A set of QoS attributes (QoS
profile) specifies this service. At UMTS bearer service establishment or
modification different QoS profiles have to be taken into account.
\- The UE capabilities form a QoS profile which may limit the UMTS bearer
service which can be provided.
\- The UE or the terminal equipment (TE) within the terminating network may
request a QoS profile at UMTS bearer establishment or modification. The
application using the UE may request the UE to provide a UMTS bearer service
with a specific QoS profile. If the application requests no specific QoS the
UE may use a QoS profile configured within the UE (e.g., by AT commands). How
the TE derives a QoS profile is out of scope for UMTS.
\- A QoS profile in the UMTS subscription describes the upper limits for the
provided service if the service user requests specific values.
\- If the UE requests or modifies a UMTS bearer and one or more of the QoS
attributes are not specified by the UE by setting the attributes to
\'subscribed\', the SGSN shall assume a request of values as specified in the
QoS profile in the UMTS subscription. If the UE sets the traffic class to
\'subscribed\', the SGSN shall assume a request for Interactive class. When
the application in the UE requires streaming or conversational QoS, then the
UE shall at least explicitly request the traffic class and should explicitly
request the guaranteed bit rate and the maximum bit rate. For the rest of the
QoS attributes, the network shall ensure that the negotiated QoS contains only
values explicitly defined for the traffic class.
\- A Network specific QoS profile characterising for example the current
resource availability or other network capabilities or limitations may limit
the provided UMTS bearer service or initiate a modification of an established
UMTS bearer service.
### 6.4.3 UMTS Bearer Service Attributes
### 6.4.3.1 List of attributes
**Traffic class (\'conversational\', \'streaming\', \'interactive\',
\'background\')**
Definition: type of application for which the UMTS bearer service is optimised
[Purpose: By including the traffic class itself as an attribute, UMTS can make
assumptions about the traffic source and optimise the transport for that
traffic type.]
**Maximum bitrate (kbps)**
Definition: maximum number of bits delivered by UMTS and to UMTS at a SAP
within a period of time, divided by the duration of the period. The traffic is
conformant with Maximum bitrate as long as it follows a token bucket algorithm
where token rate equals Maximum bitrate and bucket size equals Maximum SDU
size.
The conformance definition should not be interpreted as a required
implementation algorithm. The token bucket algorithm is described in annex B.
The Maximum bitrate is the upper limit a user or application can accept or
provide. All UMTS bearer service attributes may be fulfilled for traffic up to
the Maximum bitrate depending on the network conditions.
[Purpose: Maximum bitrate can be used to make code reservations in the
downlink of the radio interface. Its purpose is 1) to limit the delivered
bitrate to applications or external networks with such limitations 2) to allow
maximum wanted user bitrate to be defined for applications able to operate
with different rates (e.g. applications with adapting codecs).]
**Guaranteed bitrate (kbps)**
Definition: guaranteed number of bits delivered by UMTS at a SAP within a
period of time (provided that there is data to deliver), divided by the
duration of the period. The traffic is conformant with the guaranteed bitrate
as long as it follows a token bucket algorithm where token rate equals
Guaranteed bitrate and bucket size equals Maximum SDU size.
The conformance definition should not be interpreted as a required
implementation algorithm. The token bucket algorithm is described in annex B.
UMTS bearer service attributes, e.g. delay and reliability attributes, are
guaranteed for traffic up to the Guaranteed bitrate. For the traffic exceeding
the Guaranteed bitrate the UMTS bearer service attributes are not guaranteed.
[Purpose: Describes the bitrate the UMTS bearer service shall guarantee to the
user or application. Guaranteed bitrate may be used to facilitate admission
control based on available resources, and for resource allocation within
UMTS.]
**Delivery order (y/n)**
Definition: indicates whether the UMTS bearer shall provide in-sequence SDU
delivery or not.
[Purpose: the attribute is derived from the user protocol (PDP type) and
specifies if out-of-sequence SDUs are acceptable or not. This information
cannot be extracted from the traffic class. Whether out-of-sequence SDUs are
dropped or re-ordered depends on the specified reliability]
Delivery order should be set to \'no\' for PDP Type = \'IPv4\' or \'IPv6\'.
The SGSN shall ensure that the appropriate value is set.
**Maximum SDU size (octets)**
Definition: the maximum SDU size for which the network shall satisfy the
negotiated QoS.
[Purpose: The maximum SDU size is used for admission control and policing
and/or optimising transport (optimized transport in for example the RAN may be
dependent on the size of the packets). Handling by the network of packets
larger than Maximum SDU size is implementation specific (e.g. they may be
dropped or forwarded with decreased QoS).]
NOTE: The Maximum Transfer Unit (MTU) of the IP layer and the Maximum SDU Size
have no relationship; in particular the GGSN should not perform IP
fragmentation based on the Maximum SDU Size.
**SDU format information (bits)**
Definition: list of possible exact sizes of SDUs
[Purpose: RAN needs SDU size information to be able to operate in transparent
RLC protocol mode, which is beneficial to spectral efficiency and delay when
RLC re-transmission is not used. Thus, if the application can specify SDU
sizes, the bearer is less expensive.]
**SDU error ratio**
Definition: Indicates the fraction of SDUs lost or detected as erroneous. SDU
error ratio is defined only for conforming traffic.
NOTE 1: By reserving resources, SDU error ratio performance is independent of
the loading conditions, whereas without reserved resources, such as in
Interactive and Background classes, SDU error ratio is used as target value.
[Purpose: Used to configure the protocols, algorithms and error detection
schemes, primarily within RAN.]
**Residual bit error ratio**
Definition: Indicates the undetected bit error ratio in the delivered SDUs. If
no error detection is requested, Residual bit error ratio indicates the bit
error ratio in the delivered SDUs.
[Purpose: Used to configure radio interface protocols, algorithms and error
detection coding.]
**Delivery of erroneous SDUs (y/n/-)**
Definition: Indicates whether SDUs detected as erroneous shall be delivered or
discarded.
NOTE 2: \'yes\' implies that error detection is employed and that erroneous
SDUs are delivered together with an error indication, \'no\' implies that
error detection is employed and that erroneous SDUs are discarded, and \'-\'
implies that SDUs are delivered without considering error detection.
[Purpose: Used to decide whether error detection is needed and whether frames
with detected errors shall be forwarded or not.]
**Transfer delay (ms)**
Definition: Indicates maximum delay for 95^th^ percentile of the distribution
of delay for all delivered SDUs during the lifetime of a bearer service, where
delay for an SDU is defined as the time from a request to transfer an SDU at
one SAP to its delivery at the other SAP.
[Purpose: relates to the delay tolerated by the application. In conjunction
with the SDU error ratio attribute, care needs to be taken in deriving the
value for the 95th percentile when an application desires, for example, that
99.9% of all transmitted packets are delivered within a certain time. This
attribute allows RAN to set transport formats and ARQ parameters.]
NOTE 3: Transfer delay of an arbitrary SDU is not meaningful for a bursty
source, since the last SDUs of a burst may have long delay due to queuing,
whereas the meaningful response delay perceived by the user is the delay of
the first SDU of the burst.
**Traffic handling priority**
Definition: specifies the relative importance for handling of all SDUs
belonging to the UMTS bearer compared to the SDUs of other bearers.
[Purpose: Within the interactive class, there is a definite need to
differentiate between bearer qualities. This is handled by using the traffic
handling priority attribute, to allow UMTS to schedule traffic accordingly. By
definition, priority is an alternative to absolute guarantees, and thus these
two attribute types cannot be used together for a single bearer.]
**Allocation/Retention Priority**
Definition: specifies the relative importance compared to other UMTS bearers
for allocation and retention of the UMTS bearer. The Allocation/Retention
Priority attribute is a subscription attribute which is not negotiated from
the mobile terminal, but the value might be changed either by the SGSN or the
GGSN network element.
NOTE 4: The addition of a user-controlled Allocation/Retention Priority
attribute is for further study in future releases.
[Purpose: Priority is used for differentiating between bearers when performing
allocation and retention of a bearer. In situations where resources are
scarce, the relevant network elements can use the Allocation/Retention
Priority to prioritize bearers with a high Allocation/Retention Priority over
bearers with a low Allocation/Retention Priority when performing admission
control.]
**Source statistics descriptor (\'speech\'/\'unknown\')**
Definition: specifies characteristics of the source of submitted SDUs.
Editor\'s note: The number of different source statistics descriptors that
should be allowed is FFS.
[Purpose: Conversational speech has a well-known statistical behaviour (or the
discontinuous transmission (DTX) factor). By being informed that the SDUs for
a UMTS bearer are generated by a speech source, RAN, the SGSN and the GGSN and
also the UE may, based on experience, calculate a statistical multiplex gain
for use in admission control on the relevant interfaces.]
**Signalling Indication (Yes/No)**
Definition: Indicates the signalling nature of the submitted SDUs. This
attribute is additional to the other QoS attributes and does not over-ride
them. This attribute is only defined for the interactive traffic class. If
signalling indication is set to \'Yes\', the UE should set the traffic
handling priority to \'1\'.
[Purpose: Signalling traffic can have different characteristics to other
interactive traffic, eg higher priority, lower delay and increased peakiness.
This attribute permits enhancing the RAN operation accordingly. An example use
of the Signalling Indication is for IMS signalling traffic.]
NOTE: This indication is sent by the UE in the QoS IE.
### 6.4.3.2 Attributes discussed per traffic class
**Conversational class**
If the UMTS bearer carries speech service, **Source statistics descriptor**
can be set, which allows UMTS to calculate a statistical multiplexing gain in
core network, RAN and UE and use that for admission control.
The support for SRVCC requires conversational class and Source statistics
descriptor set to speech only be used for IMS speech sessions in accordance to
TS 23.216 [11].
NOTE: Triggering SRVCC will cause service interruption and/or inconsistent
service experience when using conversational class and Source statistics
descriptor set to speech for non-IMS services.
Although the bitrate of a conversational source codec may vary, conversational
traffic is assumed to be relatively non‑bursty. **Maximum** **bitrate**
specifies the upper limit of the bitrate with which the UMTS bearer delivers
SDUs at the SAPs. The UMTS bearer is not required to transfer traffic
exceeding the **Guaranteed** **bitrate**. Maximum and guaranteed bitrate
attributes are used for resource allocation within UMTS. Minimum resource
requirement is determined by guaranteed bitrate (When a conversational source
generates less traffic than allocated for the bearer, the unused resources can
of course be used by other bearers).
Since the traffic is non-bursty, it is meaningful to guarantee a **transfer
delay** of an arbitrary SDU.
Conversational bearers are likely to be realised in RAN without RLC re-
transmissions. Hence, RAN transport is more efficient and thereby cheaper if
RLC PDU size is adapted to UMTS bearer SDU size (RLC transparent mode). This
motivates the use of **SDU format information**. The SDU periodicity knowledge
needed to operate in RLC transparent mode is obtained through dividing the
largest defined SDU format by Maximum bitrate. This shall be considered when
setting the attribute values in a service request.
The **Maximum SDU size** is only applicable if **SDU format information** is
not specified and is used for admission control and policing and/or optimising
transport. If **Maximum SDU size** is specified the SDU size is variable. If
**SDU format information** is specified, with one or several possible sizes,
each SDU shall exactly conform to one of the specified sizes. By using the
**SDU error ratio** , **Residual bit error ratio** and **Delivery of erroneous
SDUs** attribute, the application requirement on error rate can be specified,
as well as whether the application wants UMTS to detect and discard SDUs
containing errors and an adequate forward error correction means can be
selected.
**Streaming class**
If the UMTS bearer carries streaming speech service, **Source statistics
descriptor** can be set, which allows UMTS to calculate a statistical
multiplexing gain in core network, RAN and UE and use that for admission
control.
As for conversational class, streaming traffic is assumed to be rather non-
bursty. **Maximum bitrate** specifies the upper limit of the bitrate the UMTS
bearer delivers SDUs at the SAPs. The UMTS bearer is not required to transfer
traffic exceeding the Guaranteed bitrate. Maximum and guaranteed bitrate
attributes are used for resource allocation within UMTS. Minimum resource
requirement is determined by guaranteed bitrate. (When a streaming source
generates less traffic than allocated for the bearer, the unused resources can
of course be used by other bearers.)
Since the traffic is non-bursty, it is meaningful to guarantee a **transfer
delay** of an arbitrary SDU.
The transfer delay requirements for streaming are typically in a range where
at least in a part of this range RLC re‑transmission may be used. It is
assumed that the application\'s requirement on delay variation is expressed
through the transfer delay attribute, which implies that there is no need for
an explicit delay variation attribute.
It shall be possible for Streaming bearers to be realised in RAN without RLC
re-transmissions. Hence, RAN transport is more efficient and thereby cheaper
if RLC PDU size is adapted to UMTS bearer SDU size (RLC transparent mode).
This motivates the use of **SDU format information**. The SDU periodicity
knowledge needed to operate in RLC transparent mode is obtained through
dividing the largest defined SDU format by Maximum bitrate. This shall be
considered when setting the attribute values in a service request.
The **Maximum SDU size** is only applicable if **SDU format information** is
not specified and is used for admission control and policing and/or optimising
transport. If **Maximum SDU size** is specified the SDU size is variable. If
**SDU format information** is specified, with one or several possible sizes,
each SDU shall exactly conform to one of the specified sizes.
By using the **SDU error ratio** , **Residual bit error ratio** and **Delivery
of erroneous SDUs** attribute, the application requirement on error rate can
be specified, as well as whether the application wants UMTS to detect and
discard SDUs containing errors.
**Interactive class**
This bearer class is optimised for transport of human or machine interaction
with remote equipment, such as web browsing. The source characteristics are
unknown but may be bursty.
To be able to limit the delivered data rate for applications and external
networks by traffic conditioning, **maximum bitrate** is included.
There is a definite need to differentiate between quality for bearers within
the interactive class. One alternative would be to set absolute guarantees on
delay, bitrate etc, which however at present seems complex to implement within
RAN/CN. Instead, **traffic handling priority** is used. SDUs of a UMTS bearer
with higher traffic handling priority is given priority over SDUs of other
bearers within the interactive class, through UMTS-internal scheduling.
It is principally impossible to combine this relative approach with attributes
specifying delay, bitrate, packet loss etc, so an interactive bearer gives no
quality guarantees, and the actual bearer quality will depend on the load of
the system and the admission control policy of the network operator.
The only additional attribute that is reasonable to specify is the bit
integrity of the delivered data, which is given by **SDU error ratio** ,
**Residual bit error ratio** and **Delivery of erroneous SDUs**. Because there
are no reserved resources for interactive class, SDU error ratio should be
used as a target value. SDU error ratio cannot be guaranteed under abnormal
load conditions.
If the **Signalling Indication** is set, a statistical multiplexing gain
and/or improvements in signalling speed may be obtained within the UTRAN.
**Background class**
The background class is optimised for machine-to-machine communication that is
not delay sensitive, such as messaging services. Background applications
tolerate a higher delay than applications using the interactive class, which
is the main difference between the background and interactive classes.
UMTS only transfers background class SDUs when there is definite spare
capacity in the network. To be able to limit the delivered data rate for
applications and external networks by traffic conditioning, **maximum
bitrate** is included.
No other guarantee than bit integrity in the delivered data, given by **SDU
error ratio** , **Residual bit error ratio** and **Delivery of erroneous
SDUs** , is needed. Because there are no reserved resources for background
class, SDU error ratio should be used as a target value. SDU error ratio
cannot be guaranteed under abnormal load conditions.
### 6.4.3.3 UMTS bearer attributes: summary
In table 2, the defined UMTS bearer attributes and their relevancy for each
bearer traffic class are summarised. Observe that traffic class is an
attribute itself.
Table 2: UMTS bearer attributes defined for each bearer traffic class
* * *
Traffic class Conversational class Streaming class Interactive class
Background class Maximum bitrate X X X X Delivery order X X X X Maximum SDU
size X X X X SDU format information X X  
SDU error ratio X X X X Residual bit error ratio X X X X Delivery of erroneous
SDUs X X X X Transfer delay X X  
Guaranteed bit rate X X  
Traffic handling priority X  
Allocation/Retention priority X X X X Source statistics descriptor X X  
Signalling indication X
* * *
### 6.4.4 Radio Access Bearer Service Attributes
Radio Access Bearer Service Attributes shall be applied to both CS and PS
domains.
### 6.4.4.1 List of attributes
**Traffic class (\'conversational\', \'streaming\', \'interactive\',
\'background\')**
Definition: type of application for which the Radio Access Bearer service is
optimised.
[Purpose: By including the traffic class itself as an attribute, RAN can make
assumptions about the traffic source and optimise the transport for that
traffic type. In particular, buffer allocation may be based on traffic class.]
**Maximum bitrate (kbps)**
Definition: maximum number of bits delivered by RAN and to RAN at a SAP within
a period of time, divided by the duration of the period. The traffic is
conformant with the Maximum bitrate as long as it follows a token bucket
algorithm where token rate equals Maximum bitrate and bucket size equals
Maximum SDU size.
The conformance definition should not be interpreted as a required
implementation algorithm. The token bucket algorithm is described in annex B.
The Maximum bitrate is the upper limit a user or application can accept or
provide. All RAB attributes may be fulfilled for traffic up to the Maximum
bitrate depending on the network conditions.
[Purpose: 1) to limit the delivered bitrate to applications or external
networks with such limitations, 2) to allow maximum wanted RAB bitrate to be
defined for applications able to operate with different rates (e.g.
applications with adapting codecs.)]
**Guaranteed bitrate (kbps)**
Definition: guaranteed number of bits delivered at a SAP within a period of
time (provided that there is data to deliver), divided by the duration of the
period. The traffic is conformant with the Guaranteed bitrate as long as it
follows a token bucket algorithm where token rate equals Guaranteed bitrate
and bucket size equals Maximum SDU size.
The conformance definition should not be interpreted as a required
implementation algorithm. The token bucket algorithm is described in annex B.
RAB attributes, e.g. delay and reliability attributes, are guaranteed for
traffic up to the Guaranteed bitrate. For the traffic exceeding the Guaranteed
bitrate the RAB attributes are not guaranteed.
[Purpose: Describes the bitrate the RAB shall guarantee to the user or
application. Guaranteed bitrate may be used to facilitate admission control
based on available resources, and for resource allocation within RAN.. The
guaranteed bitrate at the RAB level may be different from that on UMTS bearer
level, for example due to header compression.]
**Delivery order (y/n)**
Definition: indicates whether the UMTS bearer shall provide in-sequence SDU
delivery or not.
[Purpose: specifies if out-of-sequence SDUs are acceptable or not. This
information cannot be extracted from the traffic class. Whether out-of-
sequence SDUs are dropped or re-ordered depends on the specified reliability.]
NOTE: Delivery order should be set to \'no\' for PDP Type = \'IPv4\' or
\'IPv6\'.
**Maximum SDU size (octets)**
Definition: the maximum SDU size for which the network shall satisfy the
negotiated QoS.
[Purpose: The maximum SDU size is used for admission control and policing
and/or optimising transport (optimized transport in for example the RAN may be
dependent on the size of the packets). Handling by the network of packets
larger than Maximum SDU size is implementation specific (e.g. they may be
dropped or forwarded with decreased QoS).]
**SDU format information (bits)**
Definition: list of possible exact sizes of SDUs. If unequal error protection
shall be used by a Radio Access Bearer service, SDU format information defines
the exact subflow format of the SDU payload. SDU format information also
supports definition of allowed subflow bitrates.
NOTE 1: SDU format information is used by RAN to define which bits of the
payload that belongs to each subflow. Exact syntax of SDU format information
attribute is the task of RAN WG3.
[Purpose: RAN needs SDU format information to be able to operate in
transparent RLC protocol mode, which is beneficial to spectral efficiency and
delay when RLC re-transmission is not used. Thus, if the application can
specify SDU sizes, the bearer is less expensive. Moreover, in case of unequal
error protection, RAN needs to know the exact format of SDU payload to be able
to demultiplex the SDU onto different radio bearer services. When rate control
is applied to services having a constant SDU size, e.g. CS data, the subflow
bitrate is used to calculate the allowed inter PDU transmission interval
(IPTI).]
**SDU error ratio**
Definition: Indicates the fraction of SDUs lost or detected as erroneous. SDU
error ratio is defined only for conforming traffic. In case of unequal error
protection., SDU error ratio is set per subflow and represents the error ratio
in each subflow. SDU error ratio is only set for subflows for which error
detection is requested.
NOTE 2: By reserving resources, SDU error ratio performance is independent of
the loading conditions, whereas without reserved resources, such as in
Interactive and Background classes, SDU error ratio is used as target value.
[Purpose: Used to configure protocols, algorithms and error detection schemes,
primarily within RAN.]
**Residual bit error ratio**
Definition: Indicates the undetected bit error ratio for each subflow in the
delivered SDUs. For equal error protection, only one value is needed. If no
error detection is requested for a subflow, Residual bit error ratio indicates
the bit error ratio in that subflow of the delivered SDUs.
[Purpose: Used to configure radio interface protocols, algorithms and error
detection coding. For services requiring unequal error protection, residual
bit error ratio is given for each subflow.]
**Delivery of erroneous SDUs (y/n/-)**
Definition: Indicates whether SDUs with detected errors shall be delivered or
not. In case of unequal error protection, the attribute is set per subflow.
NOTE 3: \'yes\' implies that error detection is employed and that erroneous
SDUs are delivered together with an error indication, \'no\' implies that
error detection is employed and that erroneous SDUs are discarded, and \'-\'
implies that SDUs are delivered without considering error detection.
In case of unequal protection, different subflows may have different settings.
Whenever there is a detected error in a subflow with \'no\', the SDU is
discarded, irrespective of settings in other subflows. For an SDU with
multiple subflows with a \'yes\' setting, there may be one error indication
per subflow, or, if there is only one error indication per SDU, it indicates
that an error was detected in at least one of these subflows. Exact
definitions are the task of RAN3.
[Purpose: Used to decide whether error detection is needed and whether frames
with detected errors shall be forwarded or discarded.]
**Transfer delay (ms)**
Definition: Indicates maximum delay for 95^th^ percentile of the distribution
of delay for all delivered SDUs during the lifetime of a bearer service, where
delay for an SDU is defined as the time from a request to transfer an SDU at
one SAP to its delivery at the other SAP.
[Purpose: permits the derivation of the RAN part of the total transfer delay
for the UMTS bearer. In conjunction with the SDU error ratio attribute, care
needs to be taken in deriving the value for the 95th percentile when an
application desires, for example, that 99.9% of all transmitted packets are
delivered within a certain time. This attribute allows RAN to set transport
formats and ARQ parameters.]
**Traffic handling priority**
Definition: specifies the relative importance for handling of all SDUs
belonging to the radio access bearer compared to the SDUs of other bearers.
[Purpose: Within the interactive class, there is a definite need to
differentiate between bearer qualities. This is handled by using the traffic
handling priority attribute, to allow RAN to schedule traffic accordingly. By
definition, priority is an alternative to absolute guarantees, and thus these
two attribute types cannot be used together for a single bearer.]
**Allocation/Retention Priority**
Definition: specifies the relative importance compared to other Radio access
bearers for allocation and retention of the Radio access bearer. For PS
services the Allocation/Retention Priority attribute of the Radio access
bearer is derived from the UMTS bearer service attributes Allocation/Retention
Priority. Other attributes may be used in addition. For CS services the
Allocation/Retention Priority attribute of the Radio access bearer is derived
from the eMLPP priority level attribute (TS 23.067 [9]) and/or the CS
Allocation/Retention Priority attribute (TS 23.008 [8]) and/or the Mobile
Station Category attribute (TS 23.008 [8]) (which is only available for
subscribers in their home PLMN). Other attributes may be used in addition.
NOTE 4: The parameter is not negotiated from the mobile terminal. The addition
of a user-controlled Allocation/Retention Priority attribute is for further
study in future releases.
[Purpose: Priority is used for differentiating between bearers when performing
allocation and retention of a bearer. In situations where resources are
scarce, the relevant network elements can use the Allocation/Retention
Priority to prioritize bearers with a high Allocation/Retention Priority over
bearers with a low Allocation/Retention Priority when performing admission
control.]
**Source statistics descriptor (\'speech\'/\'unknown\')**
Definition: specifies characteristics of the source of submitted SDUs.
[Purpose: Conversational speech has a well-known statistical behaviour (or the
discontinuous transmission (DTX) factor). By being informed that the SDUs for
a RAB are generated by a speech source, RAN may, based on experience,
calculate a statistical multiplex gain for use in admission control on the
radio and RAN Access interfaces.]
**Signalling Indication (Yes/No)**
Definition: Indicates the signalling nature of the submitted SDUs. This
attribute is additional to the other QoS attributes and does not over-ride
them.
[Purpose: Signalling traffic can have different characteristics to other
interactive traffic, eg higher priority, lower delay and increased peakiness.
This attribute permits enhancing the RAN operation accordingly. An example use
of the Signalling Indication is for IMS signalling traffic. ]
### 6.4.4.2 Attributes discussed per traffic class
**Conversational class**
If the RAB carries a speech service, **Source statistics descriptor** can be
set, which allows RAN to calculate a statistical multiplexing gain on radio
and RAN Access interfaces and use that for admission control.
The support for SRVCC requires conversational class and Source statistics
descriptor set to speech only be used for IMS speech sessions in accordance to
TS 23.216 [11].
NOTE: Triggering SRVCC will cause service interruption and/or inconsistent
service experience when using conversational class and Source statistics
descriptor set to speech for non-IMS services.
Unequal error protection can be supported in conversational class. In case
unequal error protection is requested for a given RAB, the attributes Delivery
of erroneous SDUs, Residual bit error ratio and SDU error ratio are specified
per subflow**. Delivery of erroneous SDUs** determines whether error detection
shall be used and, if so, whether SDUs with error in a certain subflow shall
be delivered or not. **Residual bit error ratio** specifies the bit error
ratio for undetected delivered bits. **SDU error ratio** specifies the
fraction of SDUs with detected error in each subflow. It is only set for
subflows for which error detection is requested.
In case of unequal error protection the payload of the user data SDU,
transported by the Radio Access Bearer Service, shall conform to a SDU format
defined with possible exact sizes. The payload bits are statically structured
into subflows. The **SDU format information** attribute defines the exact
subflow format of SDU payload.
RAN includes a rate control protocol, making it able of controlling the rate
of sources requesting this, provided that they are periodic and that **SDU
format information** is specified. RAN is allowed to control the rate between
**Guaranteed bitrate** and **Maximum bitrate**. Each of these two rates shall
correspond to an SDU format specified in **SDU format information**. For the
case the SDU size is constant, as is the case for CS data, SDU format
information may include a list of possible bitrates per subflow, to allow rate
control of the subflows by change of inter PDU transmission interval (IPTI).
**Streaming class**
If the RAB carries streaming speech, **Source statistics descriptor** can be
set, which allows RAN to calculate a statistical multiplexing gain on radio
and RAN Access interfaces and use that for admission control.
Unequal error protection can be supported in streaming class. In case unequal
error protection is requested for a given RAB, the attributes Delivery of
erroneous SDUs, Residual bit error ratio and SDU error ratio are specified per
subflow**. Delivery of erroneous SDUs** determines whether error detection
shall be used and, if so, whether SDUs with error in a certain subflow shall
be delivered or not. **Residual bit error ratio** specifies the bit error
ratio for undetected delivered bits. **SDU error ratio** specifies the
fraction of SDUs with detected error in each subflow. It is only set for
subflows for which error detection is requested.
In case of unequal error protection the payload of the user data SDU,
transported by the Radio Access Bearer Service, shall conform to a SDU format
defined with possible exact sizes. The payload bits are statically structured
into subflows. The **SDU format information** attribute defines the exact
subflow format of SDU payload.
RAN includes a rate control protocol, making it able of controlling the rate
of sources requesting this, provided that they are periodic and that **SDU
format information** is specified. RAN is allowed to control the rate between
**Guaranteed bitrate** and **Maximum bitrate**. Each of these two rates shall
correspond to an SDU format specified in **SDU format information**. For the
case the SDU size is constant, as is the case for CS data, SDU format
information may include a list of possible bitrates per subflow, to allow rate
control of the subflows by change of inter PDU transmission interval (IPTI).
**Other classes**
The RAB attribute sets and their use in, interactive and background classes
are identical to those of UMTS bearer services (clause 6.4.2.2).
### 6.4.4.3 Radio Access Bearer attributes: summary
In table 3, the defined Radio Access Bearer attributes and their relevancy for
each bearer traffic class are summarised. Observe that traffic class is an
attribute itself.
Table 3: Radio Access Bearer attributes defined for each bearer traffic class
* * *
Traffic class Conversational class Streaming class Interactive class
Background class Maximum bitrate X X X X Delivery order X X X X Maximum SDU
size X X X X SDU format information X X  
SDU error ratio X X X X Residual bit error ratio X X X X Delivery of erroneous
SDUs X X X X Transfer delay X X  
Guaranteed bit rate X X  
Traffic handling priority X  
Allocation/ Retention priority X X X X Source statistics descriptor X X  
Signalling Indication X
* * *
### 6.4.5 Radio Bearer Service Attributes
NOTE: Defining the radio bearer service attributes is a task for RAN WG2.
### 6.4.6 RAN Access Bearer Service Attributes
The RAN Access-Bearer Service together with the Physical Bearer Service
provides the transport between RAN and CN. RAN Access bearer services for
packet traffic shall provide different bearer services for variety of QoS. It
is operators\' option which of QoS capabilities in Frame Relay layer, in IP
layer or in ATM layer is used. For IP based RAN Access bearer services,
Differentiated Services defined by IETF shall be used. If operator choose ATM-
SVC as an internal dedicated transport bearer, inter operation with IP based
networks will be based on Differentiated Services. The mapping from UMTS QoS
classes to Diffserv codepoints will be controlled by the operator. The mapping
depends on bandwidth and provisioning of resources among the different
Diffserv classes which the operators control to satisfy their cost and
performance requirements. Interoperability between operators will be based on
the use of service level agreements (SLAs) which are an integral part of the
Diffserv Architecture.
### 6.4.7 Core Network Bearer Service Attributes
The UMTS packet core network shall support different backbone bearer services
for variety of QoS. It is operators\' option which of QoS capabilities in IP
layer or QoS capabilities in ATM layer is used. For the IP based backbone,
Differentiated Services defined by IETF shall be used. If operator choose ATM-
SVC as an internal dedicated transport bearer, interoperation with IP based
backbone networks will be based on Differentiated Services. The mapping from
UMTS QoS classes to Diffserv codepoints will be controlled by the operator.
The mapping depends on bandwidth and provisioning of resources among the
different Diffserv classes which the operators control to satisfy their cost
and performance requirements. Interoperability between operators will be based
on the use of service level agreements (SLAs) which are an integral part of
the Diffserv Architecture.
## 6.5 Attribute Value Ranges
For UMTS Bearer service and Radio Access Bearer services a list of finite
attribute values or the allowed value range is defined for each attribute. The
value list/value range defines the values that are possible to be used for an
attribute considering every possible service condition. When a service is
defined as a combination of attributes, further limitations may apply; for
example the shortest possible delay may not be possible to use together with
the lowest possible SDU error ratio. Service requirements, i.e. required QoS
and performance for a given UMTS service is defined in the service requirement
specifications TS 22.105 [5]. The aspect of future proof coding of attributes
in protocol specifications is not considered in the defined value list/value
range tables.
### 6.5.1 Ranges of UMTS Bearer Service Attributes
The following table lists the value ranges of the UMTS bearer service
attributes. The value ranges reflect the capability of UMTS network.
Table 4: Value ranges for UMTS Bearer Service Attributes
* * *
Traffic class Conversational class Streaming class Interactive class
Background class Maximum bitrate (kbps) \ 5*10^-4^ | SDU error | | | | | ratio | +----------------+----------------+----------------+----------------+ | | | \ 5*10^-4^ | SDU error | | | | | ratio | +----------------+----------------+----------------+----------------+ | | | > 2*10^-4^ | Residual bit | | | | | error ratio | +----------------+----------------+----------------+----------------+ | Peak | 1 | \= 2048 | | +----------------+----------------+----------------+----------------+ | Precedence | 1 | 1 | Alloca | | class | | | tion/retention | | | | | priority | +----------------+----------------+----------------+----------------+ | | 2 | 2 | | +----------------+----------------+----------------+----------------+ | | 3 | 3 | | +----------------+----------------+----------------+----------------+ | Mean | Always set to | - | | | throughput | 31 | | | | class | | | | +----------------+----------------+----------------+----------------+ | Reordering | yes\' | yes\' | Delivery order | | Required | | | | | (Information | | | | | in the SGSN | | | | | and the GGSN | | | | | PDP Contexts) | | | | +----------------+----------------+----------------+----------------+ | | \'no\' | \'no\' | | +----------------+----------------+----------------+----------------+
As the allocation/retention priority attribute is not available in the UE (see
6.4.4.1) the UE shall set the R97/98 precedence class attribute to the value
\"subscribed\" (see TS 24.008 [6]).
NOTE 2: For asymmetric bearers, the higher value of the maximum bitrate
attributes for downlink and uplink is selected and used for the maximum
bitrate value.
NOTE 3: To avoid interoperability issues with LLC acknowledged mode the
Reliability Class is set to \"3\" by the network in case the SDU error ratio
is \"\ 10^-3^ - limited practical application
**Packet loss rate FFS**
_Data and control:_
Data (data refers to other types than audio and video e.g. file transfers,
shared whiteboard) and control information shall be transmitted reliably (i.e.
residual bit errors should result in a lost packet).
###### ## Annex B (normative): Reference Algorithm for Conformance Definition
of Bitrate
The annex shows a reference algorithm for the conformance definition of
bitrate. This may be used for traffic contract between UMTS bearers and
external network/user equipment. It should be noted that the reference
algorithm will never imply a particular implementation for the traffic
conditioner.
The algorithm is well known as \"Token Bucket Algorithm\" which has been
described in IETF. Here, \"tokens\" represents the allowed data volume, for
example in byte. \"Tokens\" are given at a constant \"token rate\" by a
traffic contract, are stored temporarily in a \"token bucket\", and are
consumed by accepting the packet. This algorithm uses the following two
parameters (r and b) for the traffic contract and one variable (TBC) for the
internal usage.
\- r: token rate, (corresponds to the monitored Maximum bitrate/Guaranteed
bitrate).
\- b: bucket size, (the upper bound of TBC, corresponds to bounded burst
size).
\- TBC(Token bucket counter): the number of given/remained tokens at any time.
In words, conformance according to a token bucket can be defined as: \"Data is
conformant if the amount of data submitted during any arbitrarily chosen time
period T does not exceed (b+rT)\".
The algorithm is described in the following.
Token bucket counter (TBC) is usually increased by \"r\" in each small time
unit. However, TBC has upper bound \"b\" and the value of TBC shall never
exceed \"b\".
When a packet #i with length Li arrives, the receiver checks the current TBC.
If the TBC value is equal to or larger than Li, the packet arrival is judged
compliant, i.e., the traffic is conformant. At this moment tokens
corresponding to the packet length is consumed, and TBC value decreases by Li.
When a packet #j with length Lj arrives, if TBC is less than Lj, the packet
arrival is non-compliant, i.e., the traffic is not conformant. In this case,
the value of TBC is not updated.
Figure B.1: Operation example of the reference conformance algorithm
###### ## Annex C (normative): Determine which QoS profile is of highest QoS
In handovers from Release 1999 to GPRS Release 97/98 networks, it will be
necessary to determine which PDP context of a set of PDP contexts provides the
highest QoS, since, of a set of PDP contexts with the same APN and PDP
address, all PDP contexts except the one with the highest QoS profile will be
deactivated.
To determine which PDP context that has the highest QoS table C.1 is used.
Only the PDP context(s) with the highest QoS ranking will be maintained and
the rest will be deactivated. In a second step, if more than one PDP context
remain, the PDP context with the highest value for the maximum bitrate
attributes for downlink or uplink is selected. All PDP contexts except the PDP
context(s) with the highest Maximum bitrate selected will be deactivated.
If more than one PDP context remain after the second step, all PDP contexts
except that with the lowest NSAPI are deactivated.
Table C.1
* * *
QoS ranking Traffic class Traffic handling priority 1 Interactive 1 2
conversational Not applicable 3 streaming Not applicable 4 Interactive 2 5
Interactive 3 6 Background Not applicable
* * *
###### ## Annex D (normative): Determine Traffic Class weights in HLR QoS
profile
The QoS profile in the subscription record represents the maximum QoS per PDP
context to the associated APN. Subsequently, it shall be possible to negotiate
all QoS parameters, including an appropriate Traffic Class for each QoS flow.
This is valid for the first PDP context that is established as well as
subsequent PDP contexts, i.e. this includes primary and secondary PDP contexts
activations. The traffic classes have increasing weight according to the order
background, interactive, streaming and conversational.
#