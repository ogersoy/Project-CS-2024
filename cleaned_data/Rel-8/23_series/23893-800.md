# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Multimedia service continuity requirements for Rel‑8 have already been
included in both TS 22.278 [3] (Service requirements for evolution of the 3GPP
system) and TS 22.258 [2] (Service requirements for the AIPN). This document
introduces the corresponding stage-2 requirements and studies IMS-level
architectures and solutions that can enable multimedia service continuity.
# 1 Scope
This study intends to investigate the general problem of IMS-level multimedia
session continuity, including potential enhancements to IMS specifications
that can improve the multimedia session continuity experience. In particular,
the following topics will be studied:
\- Identification of session continuity scenarios;
\- PS-PS session continuity;
\- PS-PS session continuity in conjunction with PS-CS continuity;
\- Session continuity between 3GPP and non-3GPP systems;
\- Network-initiated Multimedia Session Transfer;
\- Mobility of media components of a session between different terminals under
the control of the same user;
\- Coexistence and/or potential interactions with possible underlying mobility
solutions defined by 3GPP. The solutions developed within this study should
not have any impacts to underlying mobility solutions.
In the end this study will provide conclusions with respects to what further
specification work is required in order to fulfil the IMS-level Multimedia
Session Continuity requirements and improve the overall service continuity
experience.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.258: \"Service requirements for the AIPN\".
[3] 3GPP TS 22.278: \"Service requirements for evolution of the 3GPP system\".
[4] 3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access\".
[5] 3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".
[6] 3GPP TS 23.206: \"Voice Call Continuity between CS and IMS\".
[7] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS)\".
[8] 3GPP TS 23.002: \"Network architecture\".
[9] 3GPP TS 23.279: \"Combining Circuit Switched (CS) and IP Multimedia
Subsystem (IMS) services\".
[10] 3GPP TS 23.292: \"IP Multimedia System (IMS) centralized services\".
[11] 3GPP TS 23.203: \"Policy and charging control architecture\".
**[12] 3GPP TS 29.214: \"Policy and charging over Rx reference point\".**
**[13] 3GPP TS 24.216: \"Communication Continuity Management Object (MO)\".**
**[14] 3GPP TR 23.892: \"IP Multimedia System (IMS) centralized services\".**
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.
**Multimedia Session Transfer** : Transfer at the IMS-level of one or more of
the session signalling paths and associated media paths of an ongoing
multimedia session while maintaining session continuity. The multimedia
session transfer incorporates both Access Network Transfer and UE Transfer.
**Multi-Media Session Continuity** : A service of the IMS which supports the
use of Multimedia Session Transfer mechanisms in order to handle Terminal
Mobility events and/or mobility between UEs for the case when such events are
not hidden from the IMS session layer and thus Session Continuity could not
otherwise be maintained.
**MMSC UE** : The MMSC UE is a User Equipment supporting multimedia session
continuity as defined in this document.
**Domain Transfer: as defined in TS 23.206 [6].**
**Access Network Transfer: Transfer at the IMS-level of both the signalling
path and media path of an ongoing multimedia session on a UE from PS to CS
domain or vice versa or between different IP‑CANs.**
**UE Transfer: Transfer at the IMS-level of all or some of the media
components and associated signalling between UEs under the control of the
user.**
NOTE: The transfer of all media components and the signalling from one device
to another is also known as Session Mobility as defined in TS 22.258 [2].
**Network-initiated Multimedia Session Transfer: A Multimedia Session Transfer
that is initiated by the network**.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply:
EPS Evolved Packet System
ICS IMS Centralized Services
MMSC Multi-Media Session Continuity
# 4 Architectural Requirements and Assumptions
Editor\'s note: This clause describes the issues and related architectural
requirements which need to be studied in this document.
## 4.1 Basic Assumptions
\- The UE may be capable of transmitting and receiving simultaneously in
multiple access networks or may be capable of transmitting and receiving in
only one access network at a time.
\- It is assumed that underlying mobility mechanisms can not handle PS-PS
continuity in conjunction with PS-CS continuity.
\- If a UE has an ongoing multimedia session over an IP‑CAN and moves to a
different IP‑CAN but its contact address and its serving P‑CSCF remain the
same, then there is no need to activate any IMS level mechanisms to transfer
its multimedia session.
## 4.2 Architectural Requirements
\- The solution shall be applicable to both EPC and non-EPC Networks.
\- The solution shall be able to provide IMS level multimedia session
continuity when the user is moving between 3GPP access systems.
\- The solution shall be able to provide IMS level multimedia session
continuity when the user is moving between 3GPP and non-3GPP access systems.
\- The solution shall be able to provide IMS level multimedia session
continuity between an access network that supports real-time media on the CS
domain and non-real-time media on the PS domain (e.g. UTRAN or GERAN), and an
IP‑CAN that supports transport of all media types (e.g. WLAN or WiMAX).
\- The service disruption when multi-media session continuity occurs should be
minimized.
\- The impact of the MMSC solution on the radio and transport layers and on
the PS core network should be minimized.
\- UEs that do not support the functionality described in this TR shall not be
impacted.
\- The impact to the existing voice continuity procedures as a result of
multimedia session continuity should be minimized.
\- The signalling load as a result of multimedia session continuity should be
minimized.
\- All media composing a multimedia session could be subject to session
continuity procedures.
\- It shall be possible for an IMS user to add /remove one or more media
components to/from an ongoing multimedia session that he controls during
session transfer.
\- It shall be possible for an IMS user to add or remove from a UE media
components of an ongoing multimedia session that he controls, which are active
in a different UE.
\- It shall be possible for an IMS user to retrieve on a UE one or more media
components of an ongoing communication session that he controls from other
UEs.
\- It shall be possible for an IMS user to transfer one or more media
components of an ongoing communication session that he controls between
different UEs. These media components could be transferred to UEs that already
participate in the ongoing session or to new UEs added to the session.
\- The solution shall be able to provide IMS-level multimedia session
continuity when the session is transferred between UEs with different
capabilities (e.g., display resolutions, codecs, video encoding and decoding
capabilities, and access network data rate, etc.).
\- It shall be possible to register a Public User Identity with multiple
contact addresses (at the same or via separate UEs) via IMS registration
procedures as defined in TS 23.228 [7], clause 5.2.1. The number of allowed
simultaneous registrations is defined by home operator policy.
\- It shall be possible to perform correlation of charging data from different
access networks when service continuity between these networks is performed.
\- It shall be possible to provide multimedia session continuity when the
P‑CSCF changes.
\- It shall be possible for the UE to use IMS mechanisms to transfer its
ongoing multimedia sessions to a target access network without requiring any
new functionality on the remote party.
\- If all the media components of the ongoing multimedia session cannot be
transferred, then the selection of the media components, to be transferred,
may be based on:
\- Target access network(s) capabilities (if known)
\- User preferences and/or operator policies
\- Application specific constraints on the selection of a target access
network for the transfer of media components (e.g. lip sync for a real time
audio/video conference require the audio and video bearers to be transferred
to the same target Access Network)
> Media components that cannot be transferred shall be released, if they
> cannot be maintained in the source access network.
>
> \- It shall be possible for the MMSC UE to initiate a multimedia session
> transfer procedure based on session transfer policies provided by the
> network.
>
> \- It shall be possible for the MMSC AS to update the session transfer
> policies in the UE to trigger the initiation of a multimedia session
> transfer procedure.
>
> \- It shall be possible for the transfer originating UE to keep the session
> control during a session transfer
>
> \- It shall be possible for the transfer originating UE to release the
> session control during a session transfer to a transfer target UE
## 4.3 Service Requirements
\- MMSC subscribers are IMS subscriber. All their services are centralized in
IMS regardless of the access networks being used.
# 5 Multimedia Session Continuity Scenarios
## 5.1 General
In general, the continuity of multimedia services refers to the capability of
continuing ongoing communication sessions with multiple media across different
access networks or across different user equipments (UEs). The main need for
such continuity arises because (i) UEs with multimedia capabilities can move
across a multiplicity of different access networks or because (ii) the users
can move the media of their communication sessions across different UEs to
best meet their communication preferences.
Transfer of a multimedia session to a different access network may lead to
loss of synchronization across various media components (e.g. across voice and
video components). The session continuity solution may take such
synchronization issues into account for assuring the best user experience.
In this technical report the following multimedia session continuity scenarios
are considered.
## 5.2 PS-PS session continuity
The PS-PS session continuity refers to a particular case of multimedia session
continuity in which a session with multiple media is transferred between two
different access networks supporting packet switched (PS) communications. The
transfer of the session is required due to user\'s movement from a PS access
network (source) to another PS access network (target). To maintain a high-
quality of user experience, the session is transferred to and continued on the
target PS access network as seamlessly as possible.
A PS-PS session continuity example is illustrated in figure 5.1. In this
figure, UE‑1 has established a session with voice and data components towards
UE‑2 over a non-3GPP IP access network (e.g. WiMAX). Later on, UE‑1 moves to
an area that is better served (e.g. in terms of radio signal quality or in
terms of other criteria) by an E-UTRAN access network. The ongoing session and
its media are transferred to E-UTRAN and, if possibly, without the two parties
to perceive any downgrade to their communications experience. As shown in
figure 5.1, the multimedia session transfer might be coupled with a P‑CSCF
change (P‑CSCF-a1 in non-3GPP access and P‑CSCF-a2 in E-UTRAN).
{width="5.998611111111111in" height="1.8111111111111111in"}
Figure 5.1: An example of PS-PS multimedia session continuity
It is clarified that for the scenario of PS-PS multimedia session continuity:
\- All or some ongoing media components in the source access network are
transferred to the target access network. If it is not possible or not desired
(e.g. due to operator policies) to transfer all media, then part of the media
components are transferred and the remaining component(s) are released or
kept. The selection of media to be transferred may depend on the solution used
to realize the session transfer.
Editor\'s note: It may not be possible to transfer some media components to
the target access network due to limited target access network capabilities.
It is FFS if the target access network capabilities can be identified.
\- If possible and if allowed (e.g. by user preferences and/or operator
policies) some media components may remain in the source access network.
\- The source and the target access network can include both 3GPP and non-3GPP
IP access systems.
\- After the UE hands over to the target access network the same or a
different P‑CSCF (as shown in figure 5.1) may be used. The solution for PS-PS
multimedia session continuity should cope with both cases.
\- The underlying transport network may or may not support mobility
mechanisms. In case it does support mobility mechanisms the session transfer
may be transparent to the application layer, e.g. when the contact address
remains the same.
## 5.3 PS-PS session continuity in conjunction with PS-CS continuity
The PS-PS session continuity in conjunction with PS-CS continuity refers to a
particular case of multimedia session continuity in which a session with media
on both the CS domain and the PS domain is transferred to an access network
supporting only packet switched (PS) communications, or vice versa. The
transfer of the session is required due to user\'s movement from one access
network (source) to another access network (target). The typical
characteristic of this case is that one access network supports real-time
media (usually voice) only on the CS domain (e.g. GERAN or UTRAN) whereas the
other access network supports both real-time media and non-real-time media on
PS bearers (e.g. E-UTRAN, WiMAX, or WLAN). To maintain a high-quality of user
experience, the session is transferred to and continued on the target access
network as seamlessly as possible.
An example of PS-PS session continuity in conjunction with PS-CS continuity is
illustrated in figure 5.2. UE‑1 has established a session with voice and data
components towards UE‑2 over a non-3GPP access network that supports IMS
Multimedia Telephony (WLAN). Later, UE‑1 moves to a GERAN or UTRAN access
network, which supports voice only on CS bearers. Its ongoing multimedia
session is transferred to and continued on GERAN or UTRAN by splitting the
media into two legs: one for voice carried over the CS domain and one for the
data carried over the IMS/PS domain.
{width="6.3875in" height="2.125in"}
Figure 5.2: An example of continuity scenario involving PS-PS session
continuity in conjunction with PS-CS continuity
It is clarified that for the scenario of PS-PS session continuity in
conjunction with PS-CS continuity:
\- One access network (either the source or the target) supports voice on the
CS domain only (such as UTRAN or GERAN), while the other access network
supports voice and non-voice components on IP transport bearers (such as WLAN,
WiMAX or E-UTRAN).
\- If the target access network supports voice on the CS domain only (as shown
in figure 5.2), then a voice component is transferred to the CS domain and all
other components can be transferred to the PS domain.
\- If possible and if allowed (e.g. by user preferences and/or operator
policies) some non-voice media components may remain in the source access
network.
\- If the target access network supports video on the CS domain, then voice
and video components can be transferred to the CS domain and all other
components can be transferred to the PS domain.
\- If the target access network supports all media on IP transport bearers,
then all media components active in the CS and PS domain of the source network
are transferred to IP transport bearers.
## 5.4 Mobility of media components of a session between different terminals
under the control of the same user
This scenario enables an IMS user to utilize the following capabilities:
1\. transfer some or all media components of an ongoing multimedia session
between different UEs;
2\. retrieve some or all media components of an ongoing multimedia session
from different UEs;
3\. add new media components in an ongoing multimedia session to different
UEs; and
4\. remove media components of an ongoing multimedia session from different
UEs.
NOTE: The UEs referred to above are under the control of the same user.
By means of the above capabilities the user is provided with session mobility
services, i.e. with capabilities to transfer/add/retrieve media components
between his different devices.
In this TR the following cases of session mobility are considered.
All the scenarios in this clause assume that the different terminals share the
same subscription.
NOTE: Cases where session needs to be transferred between terminals with
different subscriptions are FFS.
### 5.4.1 Mobility of media components of a session between different
terminals under the control of the same user without keep control mode
##### Case 1: Transfer media components to different UEs {#case-1-transfer-
media-components-to-different-ues .H6}
This case enables the IMS user to transfer one or more media components of an
ongoing multimedia session between different UEs that he owns. In the example
shown in figure 5.3, a user has a multimedia session with his device UE‑1 with
voice and video media components. Subsequently, the user initiates the
transfer of the voice component from device UE‑1 to device UE‑3 and the
transfer of the video component from device UE‑1 to device UE‑4.
{width="3.682638888888889in" height="2.7395833333333335in"}
Figure 5.3: An example of media component transfer - The voice component is
transferred to UE‑3 and the video component is transferred to UE‑4
The study should also consider that different access networks can have
different access capabilities, e.g., data rates, and different UEs can have
different capabilities, e.g., display resolutions, codecs, video encoding and
decoding capabilities. In this case as part of the session continuity
procedure, the UE may need to re-negotiate the different capabilities, in
addition to changing the terminal and access network.
In another example, shown in figure 5.4, the user has an ongoing multimedia
session with his UE‑1 with three media components: voice, video and text.
Subsequently, the user transfers only the voice component of the session to
his device UE‑3. The video and text components can either resume on device
UE‑1 or can be released under the control of the user.
{width="3.6395833333333334in" height="2.7444444444444445in"}
Figure 5.4: An example of media component transfer - The voice component is
transferred from UE‑1 to UE‑3 under the control of the user
##### Case 2: Retrieve media components from different UEs {#case-2-retrieve-
media-components-from-different-ues .H6}
Media transfer can also be conducted in the opposite direction as shown in
figure 5.5. In this case the user from his device UE‑1 retrieves the voice and
video components of a session which were previously active on devices UE‑3 and
UE‑4 respectively.
{width="3.6979166666666665in" height="2.759027777777778in"}
Figure 5.5: An example of media component retrieval - The user uses device
UE‑1 to retrieve the voice and video components from UE‑3 and UE‑4
respectively
##### Case 3: Add new media components to different UEs {#case-3-add-new-
media-components-to-different-ues .H6}
In this case, the user adds new media components to an ongoing multimedia
session targeted to additional UEs. In the example shown in figure 5.6, a user
has initially an ongoing multimedia session with his UE‑1 with only a voice
component. Subsequently, the user adds a video component to the session which
is targeted to his device UE‑3.
NOTE: This case refers specifically to the scenario when the user adds new
media component(s) from one device to a different device, e.g. from device
UE‑1 he adds a media component to device UE‑3, as shown in figure 5.6.
Addition of media component(s) to the same device is considered a trivial
case, readily supported by session re-negotiation between two peers.
{width="3.5618055555555554in" height="2.5319444444444446in"}
Figure 5.6: An example of media component addition - UE‑1 adds a video
component to UE‑3
There is another case for adding new media components to different UEs, which
is when a new added media component(s) request is coming to UE‑1, the UE‑1
transfers the added media component(s) to UE‑3.
##### Case 4: Remove media components from different UEs {#case-4-remove-
media-components-from-different-ues .H6}
In this case, the user removes existing media components from an ongoing
multimedia session on different UEs. In the example shown in figure 5.7, a
user has initially an ongoing multimedia session with a voice component on his
UE‑1 and a video component on his UE‑3. Subsequently, the user from device
UE‑1 removes the video component that is active on device UE‑3.
NOTE: This case refers specifically to the scenario when the user, from one
device, removes existing media component(s) active on a different device, e.g.
from device UE‑1 he removes a media components active on device UE‑3, as shown
in figure 5.7. Removal of media component(s) in the same device is considered
a trivial case, readily supported by session re-negotiation between two peers.
{width="3.667361111111111in" height="2.6152777777777776in"}
Figure 5.7: An example of media component removal - UE‑1 removes the video
component active on UE‑3
### 5.4.2 Mobility of media components of a session between different
terminals under the control of the same user using keep control mode and
release control mode
In addition to the capabilities mentioned in section 5.4.1, this scenario
enables an IMS user to utilize the following capabilities:
> \- allow separation of userage plane (U-plane or media components) and
> control plane (C-plane or signalling session) while performing the UE
> transfer.
>
> \- select to keep control on the transfer originating UE or release the
> control to the transfer target UE.
In this TR, the following cases of session mobility are considered.
##### Case 1: Transfer media components to different UEs with the selection of
"keep control" mode {#case-1-transfer-media-components-to-different-ues-with-
the-selection-of-keep-control-mode .H6}
This case enables the IMS user to transfer one or more media components of an
ongoing multimedia session between different UEs that he owns. In the example
shown in Figure 5.8, a user has a multimedia session with his device UE-1 with
voice and video media components. Subsequently, the user selects a "keep
control" mode for the transfer of the voice components from device UE-1 to
device UE-3 and the transfer of the video component from device UE-1 to device
UE-4. With the selection of "keep control" mode, the control plane remains
with the device UE-1 after the session transfer is completed and no media
remains on the device UE-1.
Figure 5.8: An example of media component transfer with the selection of "keep
control" mode -- The voice component is transferred to UE-3 and the video
component is transferred to UE-4. The control plane remains with UE-1
##### Case 2: Transfer media components to different UEs with the selection of
"release control" mode {#case-2-transfer-media-components-to-different-ues-
with-the-selection-of-release-control-mode .H6}
This case enables the IMS user to transfer one or more media components of an
ongoing multimedia session between different UEs that he owns. In the example
shown in Figure 5.9, a user has a multimedia session with his device UE-1 with
voice and video media components. Subsequently, the user selects a "release
control" mode for the transfer of the voice components from device UE-1 to
device UE-3 and the transfer of the video component from device UE-1 to device
UE-4. With the selection of a "release control" mode, the control plane
previously set for the device UE-1 will be terminated after the session
transfer is completed and no media remains on the device UE-1. Depending on
the policy or the user preferences, the control will be released to a transfer
target device (UE-3 in this case).
{width="3.8534722222222224in" height="2.1256944444444446in"}
Figure 5.9: An example of media component transfer with the selection of
"release control" mode -- The voice component is transferred to UE-3 and the
video component is transferred to UE-4. The control plane on UE-1 is
terminated.
# 6 Architecture
## 6.1 General Principles and Description
This MMSC Architecture is based to the following key principle:
\- The MMSC solution complements other network mechanisms that provide session
continuity (such as radio level handover mechanisms). The MMSC solution should
effectively provide handover mechanisms at the IMS level and enable session
continuity across different access networks, domains and devices. It is
particularly useful when no other lower-level mechanisms exist to enable
session continuity.
The MMSC AS in IMS domain is introduced to meet the requirements of the
Multimedia Session Continuity.
The MMSC AS extends existing functional capabilities from the VCC Application
defined in TS 23.206 [6]. The MMSC AS provides UE‑initiated and network-
initiated transfer of the multimedia sessions.
To support Service Continuity between CS and PS of bidirectional speech media
in IMS sessions, ICS interworking nodes as specified in TS 23.292 [10] shall
be used for the CS leg.
Additionally functionalities to support session split and merger are provided.
## 6.2 MMSC Architecture Reference Model
SIP protocol enables building blocks for mobility and routing to specific
device. However, it cannot always be assured that all such SIP mechanisms will
be supported by the session participants (e.g. when one session participant is
a legacy PLMN terminal). This creates the need for the network to provide the
appropriate functionality to efficiently handle the relevant interworking
aspects of session continuity.
The MMSC reference architecture for multimedia session continuity is
illustrated in figure 6.1. In this architecture, the MMSC AS is the key AS
used to support the session continuity scenarios documented in clause 5.
{width="2.1979166666666665in" height="3.125in"}
NOTE: Not all standard interfaces and elements are depicted in the
architecture. Interfaces and elements for ICS are not depicted. Both ICS and
MMSC specify functions which are provided by a SIP application server. These
functions may be collocated as optional functions in a single SIP application
server. The interfaces and interactions between them are not specified in this
release.
Figure 6.1: MMSC Reference Architecture
### 6.2.1 MMSC AS
The purpose of the MMSC AS is to provide an IMS-based mechanism for enabling
continuity of multimedia sessions between different domains (i.e. CS domain
and IMS) and to support all other session continuity scenarios, such as PS-PS
continuity, PS-PS in conjunction with CS-PS continuity, and media transfer
between different terminals. The MMSC AS acts as a B2BUA.
The MMSC AS comprises a set of functions required to perform multimedia
session continuity and anchor/manage multimedia session. The MMSC AS also
provides session continuity specific charging data.
The MMSC AS uses the ISC reference point towards the S‑CSCF for execution of
the Session Transfer functions. The MMSC AS performs the following functions:
\- Executes the transfer of the multimedia session between different accesses
or domains.
\- Anchor the session by inserting 3rd party call control (3PCC) upon call
establishment to enable multimedia session continuity.
\- Hides and/or translates the SIP mechanisms used by the UE to implement
session continuity from the remote terminal which might not support those
mechanisms.
\- Provides Session Transfer specific charging data.
The MMSC AS also provides the following functions to enable network-initiated
multimedia session transfer:
Editor\'s note: The scope of the network-initiated session transfer is FFS.
\- Generate and update session transfer operator policy.
\- Sends session transfer information (e.g., operator policy) to the MMSC UE
via V1 reference point.
\- Analyzes various session continuity related input factors and decide
whether to initiate session transfer and which type session continuity
scenario should be performed.
\- Trigger session transfer procedure by sending session transfer information
(e.g., operator policy) to the MMSC UE including a parameter which indicates
that session transfer is required.
\- Determine for which sessions the network-initiated session transfer can be
performed.
Several information (e.g., network load balancing, system maintenance, etc)
can be taken into account to decide and maintain session continuity.
Editor\'s note: It is FFS which factors are taken into account for session
transfer execution.
The MMSC AS provides multimedia session splitting/merging functionalities
based on different type of session continuity scenarios described in this TR
(e.g. PS-PS, PS-PS in conjunction with PS-CS, partial session continuity,
session mobility between different terminal etc) and performs the following:
\- In case of PS-PS in conjunction with PS-CS session continuity, the MMSC AS
combines session information on both PS domain and CS domain before updating
the remote party and send combined INVITE to the anchoring point for
anchoring.
\- In case of combined PS and CS termination, the MMSC AS anchors the combined
session and splits the sessions on both PS and CS domains.
When making the decision about session merge, the MMSC AS takes into account
the services the sessions belong to. The MMSC AS shall not merge two sessions
if they belong to different services. The services can be identified by IMS
Communication Service Identifiers as defined in TS 23.228 [7], clause 4.13, or
by other means (e.g feature tags).
Editor\'s note: Other conditions under which the split and merger are
performed are FFS.
### 6.2.2 ICS AS
The functions and role of the ICS AS is defined in TS 23.292 [10].
### 6.2.3 MMSC UE
The MMSC UE is a User Equipment as defined in clause 3.1. In this
architecture, a MMSC UE can support the network- initiated session transfer
procedure by communicating with the MMSC AS over the V1 reference point.
The MMSC UE performs the following functions:
\- Stores and applies session transfer operator policy for originating calls,
session transfer.
\- Receives and takes into account session transfer information (e.g.
indication and/or session transfer operator policy) from the MMSC AS.
\- Perform session transfer based on session transfer related information
(e.g. indication and/or session transfer operator policy, user preferences
etc).
\- Stores VDN/VDI for session transfer execution.
\- Allows the stored VDN/VDI values to be updated.
### 6.2.4 Reference points
#### 6.2.4.1 MMSC AS - S‑CSCF, ICCF - S‑CSCF reference point (ISC)
The ISC reference point between Serving CSCF and the AS is described in TS
23.002 [8].
#### 6.2.4.2 MMSC AS -- MMSC UE reference point (V1)
V1 is a reference point between MMSC UE and the MMSC AS. It is used to
transfer Session transfer operator policy from the MMSC AS to the MMSC UE and
to support the network-initiated session transfer procedure.
Editor\'s note: It is FFS which transport mechanism is used to realize this
reference point.
## 6.3 Session Anchoring
Static anchoring techniques are employed upon session establishment in order
to provide a 3pcc (3rd party call control) function at the MMSC AS for MMSC
subscribers using a MMSC UE. These anchoring mechanisms are the same as those
described in TS 23.206 [6].
### 6.3.1 Multimedia sessions originated by MMSC subscribers
Anchoring of multimedia sessions is controlled by the operator policy. The
default policy is all multimedia sessions originated by MMSC subscribers in
the IMS are anchored in the MMSC AS in order to facilitate session transfer of
the multimedia component to the different domain and access system and/or
different UEs.
The MMSC UE is able to initiate a session from different domains and/or PS
accesses, for example to initiate a speech component from UTRAN/GERAN and a
non-speech component from another PS access. In this case, the sessions for
speech and non-speech components are routed to the MMSC AS for anchoring. The
MMSC AS makes the decision about session merge and continues the session
towards remote party with a single combined multimedia session if appropriate.
### 6.3.2 Multimedia sessions terminated to MMSC subscribers
Anchoring of multimedia sessions is controlled by the operator policy. The
default policy is that all multimedia sessions to MMSC subscribers directed to
the IMS are anchored in the MMSC AS in order to facilitate domain transfer and
session continuity of the multimedia component to the different domain and
access system.
When the MMSC AS receives incoming multimedia session, the MMSC AS decides how
to handle the session and takes various factors into account to terminate the
session. After that, the session is handled in a different way for example,
forwarding to other domain, splitting the session into the separate domains
and/or PS accesses, etc.
Editor\'s note: How to implement splitting the session into the separate
domains and/or PS access over different UEs under the control of the same user
is FFS.
## 6.4 Session Transfer
When a MMSC UE is active in a multimedia session, multimedia session
continuity between different domains or /access systems, or
add/transfer/retrieve media components of an ongoing communication session
between different UEs is enabled by execution of the Session Transfer
procedures.
MMSC UE multimedia sessions are anchored at the MMSC AS in the home IMS upon
session establishment as specified in 6.3. All initial and subsequent Session
Transfers are initiated by the MMSC AS in the home IMS or by the UEs according
to the session transfer operator policy from MMSC AS.
If the MMSC UE wants to transfer ongoing multimedia session to different PS
access or domain, the session transfer procedure can be executed. When the
MMSC UE determines that session transfer is desirable and possible based on
the session transfer operator policy, a registration is performed by the MMSC
UE in the transferring-in domain or access (if the user is not already
registered for the transferring-in domain or access). Sessions including
session transfer information is established by the MMSC UE toward the MMSC AS
in the home IMS. Signalling and bearer resources are allocated in the
transferring-in access network and the user\'s active session is transferred
from the transferring-out access network. The MMSC AS in the home IMS executes
Session Transfer. Resources in the transferring-out access network are
subsequently released. If the MMSC UE is capable of dual mode operation, then
the MMSC UE can also maintain part of the media components in the
transferring-out access network while transferring the other media components
to the transferring-in access network.
NOTE: No special procedures have been studied in the Rel‑8 MMSC TR to support
the transfer of multimedia sessions between access networks by UEs which are
capable of transmitting/receiving on only one of those access networks at a
given time.
Initiation of the session transfer procedures for ongoing multimedia session
is based on the session transfer operator policy received from the MMSC AS.
Various input factors can be taken into account for session transfer.
In case when a session transfer is initiated by an MMSC UE, the MMSC UE sends
Session Transfer Information to the MMSC AS in order to trigger session
transfer execution. The Session Transfer Information provides the necessary
information to the MMSC AS for executing the session transfer.
### 6.4.1 Multimedia Session Transfer Information
The Multimedia Session Transfer Information (MST Info) represents the
information carried in various SIP/SDP and CS call control messages (specified
in the applicable information flows), which provides the necessary details for
conducting a session continuity operation, such as a PS-PS session transfer, a
transfer of media components between different UEs, etc. The MMSC AS and the
MMSC UE check the MST Info to determine if and how a session continuity
operation needs to be executed.
The MST Info depends on the Multimedia Session Continuity scenario being used.
For example, if one media component is to be transferred and the rest kept
unchanged, there is no need to identify which media component is added and
removed.
The information is encoded in existing SIP messages (SIP headers, SIP payload)
or carried in the called party address field (e.g. PSI for requesting session
transfer), in order that the behaviour of MMSC AS can be achieved using
existing protocol mechanisms where applicable (e.g. Replaces, Refer-To, SDP
m-line, c-line, etc.. ). The definition of new protocol extensions can be
considered for cases that cannot be covered by existing means. The information
details needed by MMSC AS to perform Multimedia Session Transfer are different
for each multimedia session continuity scenario and it is therefore
appropriate to define them as part of the related information flows in clause
6.5. This also allows for clear identification of the requirements for each
scenario.
The MST Info shall provide the following information:
\- A session transfer identifier (FFS if this is really needed)
\- For the case of a multimedia session origination / termination, the MST
info shall identify:
\- that the SIP message (which carries the MST Info) is a request for a new
multimedia session;
\- the access leg over the PS domain, in case the session is split across the
CS domain and the PS domain (in which case the MMSC AS needs to do session
combining before establishing the remote leg);
\- the media carried over the CS domain, in case the session is split across
the CS domain and the PS domain;
\- the access leg over the CS domain, in case the session is split across the
CS domain and the PS domain (in which case the MMSC AS needs to do session
combining before establishing the remote leg);
\- optionally, an IMS Communication Service Identifier defined in TS 23.228
[7].
\- For the case of a multimedia session transfer between different access
networks / domains, the MST info shall identify:
\- which session this SIP message is required to replace or update;
\- the media components of the anchored multimedia session affected by the
transfer operation (in case of a partial media transfer);
\- whether the SIP message (which carries the MST Info) is a request to
transfer a multimedia session with video and voice media components to the CS
domain (in which case the remote leg needs to be updated only after the H.245
negotiation is completed; see clause 6.5.4.1).
\- For the case of UE transfer, the MST info shall identify:
\- which session this SIP message is required to replace or update;
\- that the SIP message (which carries the MST Info) is a request to perform a
specific UE transfer operation, e.g. media transfer, retrieval, addition,
removal;
\- the target of the UE transfer operation (e.g. the UE to which media need to
be transferred to or retrieved from);
\- the media components affected by the UE transfer operation (i.e. the media
to be transferred / retrieved / added / removed).
Editor\'s note: It is FFS how to convey the Session Transfer Information from
the MMSC UE to the MMSC AS with minimizing the impact to the existing CS
signalling.
The session transfer identifier has to fulfil the following requirements:
\- Each session subject to domain session transfer must have a session
identifier.
\- The MMSC AS must be able to uniquely identify a single session through the
session identifier.
\- A UE requesting session transfer must include the session identifier in the
request.
## 6.5 Information flows
### 6.5.1 MMSC Origination and Termination
#### 6.5.1.1 CS Origination
{width="6.690277777777778in" height="3.602777777777778in"}
Figure 6.5.1-1: CS origination anchored at the MMSC AS
1\. UE‑1 initiates a call to UE‑2 and request the call to be setup with CS
bearer.
2\. After processing at ICS/Interworking nodes, the resulting INVITE is sent
to the S‑CSCF.
3\. The S‑CSCF invokes appropriate service logics.
4\. The S‑CSCF forwards the INVITE to the MMSC AS.
5\. The session is anchored at the MMSC AS.
6\~7. The MMSC AS sends INVITE to the remote end point for session
establishment.
8\~12. The session is established between UE‑1 and the remote end point.
#### 6.5.1.2 CS Termination
{width="6.688194444444444in" height="2.995833333333333in"}
Figure 6.5.1-2: CS termination anchored at the MMSC AS
1\. UE‑2 sends INVITE to UE‑1 to establish a session and the INVITE reaches
the S‑CSCF serving UE‑1.
2\. The S‑CSCF invokes appropriate service logic for UE‑1.
3\. The S‑CSCF forwards the INVITE to the MMSC AS.
4\. The session is anchored at the MMSC AS.
5\~6. The MMSC AS determines that the call will be delivered on the CS domain
and sends INVITE to the ICS/Interworking nodes.
7\. The ICS/Interworking nodes interacts with UE‑1 and set up CS call.
8\~11. The session is established between UE‑1 and the remote end point.
#### 6.5.1.3 PS and CS Combined Origination
Figure 6.5.1-3: PS and CS combined origination anchored at the MMSC AS
1\. UE‑1 wants to initiate a multimedia session with UE‑2 with speech
components carried on CS bearers and non-speech components carried on PS
bearers. Therefore the multimedia session is split into two parts, each one
corresponding to a separate access leg. UE‑1 initiates the establishment of
the first access leg by sending and INVITE request with non-speech media
components. The INVITE contains MST information indicating that a second
access let (with the speech component) will be originated from the CS domain.
2\. The S‑CSCF executes any service logic as appropriate.
3\. The S‑CSCF sends the INVITE to the MMSC AS. The MMSC AS identifies that
this access leg has to be correlated to a subsequent access leg based on the
MST information in the INVITE.
Editor\'s note: It is FFS whether the MST information includes the called
party number that is used to setup the CS bearer in step 5.
4\. UE‑1 request to set up call with CS bearer. The called party number is set
to an identifier such as a PSI DN, which is used to indicate to the MMSC AS
that this access leg is to be combined with a PS leg. The DN is either
statically configured on the UE or assigned to the UE by the network upon IMS
Registration.
Editor\'s note: Besides PSI DN, other identifier as called party number is
FFS.
5\. After processing at ICS/Interworking nodes, the resulting INVITE is sent
to the S‑CSCF.
6\. The S‑CSCF executes any service logic as appropriate.
7\. The S‑CSCF sends the INVITE to the MMSC AS. The MMSC AS identifies that
this CS leg has to be correlated to a PS leg based on the PSI DN in the
INVITE.
NOTE: As step 1 and step 4 are parallel, when either INVITE in step 3 or 7
firstly arrives at MMSC AS, MMSC AS anchors the session and waits for the
other INVITE to arrive before performing the combination in step 8.
8\. After the MMSC AS receives both the INVITE requests in step 3 and in step
7, the MMSC AS identifies that they are part of the same multimedia session
and combines the two access legs of the session by checking the caller\'s
identity and anchor the combined session.
9\~10. The MMSC AS sends INVITE to the remote end point for combined session
establishment.
11\~12. The session is established between UE‑1 and the remote end point.
#### 6.5.1.4 PS and CS Combined Termination
{width="6.688194444444444in" height="3.696527777777778in"}
Figure 6.5.1-4: PS and CS combined termination anchored at the MMSC AS
Editor Note: This flow needs revision based on discussion regarding T-ADS
execution by the ICS interworking
1\. UE‑2 sends INVITE to UE‑1 to establish a session with both speech and non-
speech components.
2\. The S‑CSCF executes any service logic as appropriate.
3\. The S‑CSCF forwards the INVITE to the MMSC AS based on iFC triggers.
4\. The session is anchored at the MMSC AS. Based on operator policy and on
information indicating that UE‑1 is accessible over both the PS and CS
domains, the MMSC AS decides to split the session over PS and CS domains. This
behaviour is similar to the behaviour of a CSI AS specified in TS 23.279 [9]
5\~6. The MMSC AS sends INVITE for the non-speech part of the session. The
INVITE contains MST information indicating that the speech component will be
established from the CS domain.
7\~8. The MMSC AS sends INVITE for the speech part of the session and the
S‑CSCF forwards the INVITE to the ICS/Interworking nodes.
9\. The ICS/Interworking nodes set up call to UE‑1 with CS bearer.
Editor\'s Note: It is FFS whether MST information needs to be included in step
7\~9.
10\~11. The speech part of the session is established.
12\~13. The non-speech part of the session is established.
14\~15. The session is established between UE‑1 and the remote end point.
### 6.5.2 Information flow for providing PS-PS session continuity
#### 6.5.2.1 PS-PS session continuity with P‑CSCF change and full media
transfer
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN, obtaining new signalling and media addresses, and
completing the session continuity procedures, UE‑1 continues the multimedia
session with UE‑2 on the new IP‑CAN. UE‑1 is attached to a new P‑CSCF after
the session continuity procedures.
NOTE: This scenario requires the UE and IMS network to support simultaneous
multiple registrations and requires the UE to support dual mode operation in
both IP‑CAN networks.
Figure 6.5.2-1: Information flow for PS to PS multimedia session continuity
1\. UE‑1 on PS1 registers to S‑CSCF via P‑CSCF1.
2\. The MMSC user originates a multimedia session in PS1 access systems.
3\. The P‑CSCF1 routes the INVITE to the S‑CSCF.
4\. The S‑CSCF invokes the necessary service logic as appropriate.
5\. The S‑CSCF forwards the INVITE to the MMSC AS over the ISC interface.
6\. The MMSC AS anchors the multimedia session depending on operator policy.
7\~8. The MMSC AS sends the INVITE to UE‑2.
9-13. UE‑2 accepts the initial session setup by sending to UE‑1 a 200 OK
response.
14-18. UE‑1 send ACK to UE‑2.
19\. The UE‑1 connects to another IP‑CAN, PS2. UE‑1 decides to perform PS to
PS session continuity based on MMSC policy information received from the IMS
Network.
20\. UE‑1 on PS2 registers to S‑CSCF via P‑CSCF2.
21\. UE‑1 sends an INVITE message on the PS2 access system towards the MMSC
AS. The INVITE message includes MST information indicating to the MMSC AS that
this request is for session continuity.
22\. The P‑CSCF2 routes the INVITE to the S‑CSCF.
23\. The S‑CSCF invokes the necessary service logic as appropriate.
24\. The S‑CSCF forwards the INVITE to the MMSC AS over the ISC interface.
25\. The MMSC AS correlates and updates the multimedia session based on the ST
Information.
26\~27. The MMSC AS sends the re-INVITE to UE‑2 for session update.
28-32. UE‑2 accepts the re-INVITE by sending a 200 OK response.
33-37. UE‑1 sends ACK to UE‑2.
38\. The MMSC AS releases the original call leg established on PS1 IP‑CAN.
#### 6.5.2.2 PS-PS session continuity with P‑CSCF change and partial media
transfer
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN, obtaining new signalling and media addresses, and
completing the session continuity procedures, UE‑1 transfers part of the
multimedia session with UE‑2 to the new IP‑CAN and keep the remaining part on
the original IP‑CAN. UE‑1 is attached to both the new and old P‑CSCFs after
the session continuity procedures. The call flow is the same as shown in
clause 6.5.2.1. The only difference is that in Steps 21\~22, the INVITE needs
to indicate that the request is for a partial transfer and instead of
releasing the old call leg in Step 38, the AS may send re-INVITE or UPDATE to
update session information over the old access leg. In this case, the MST Info
included in the INVITE message sent in steps 21\~22 shall indicate the media
components which need to be transferred to the new PS domain (PS2).
NOTE: This scenario requires the UE and IMS network to support simultaneous
multiple registrations and requires the UE to support dual mode operation in
both IP‑CAN networks.
#### 6.5.2.3a PS-PS session continuity with full media transfer with no P‑CSCF
change and no change in Signalling address
Editor\'s Note: It is FFS how NAT traversal and PCC will work for this
scenario.
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN, obtaining new media addresses, and completing the
session continuity procedures, UE‑1 continues the multimedia session with UE‑2
on the new IP‑CAN. The signalling is still continued using the old IP‑CAN.
Figure 6.5.2-2a: Information flow for PS to PS multimedia session continuity
with no P‑CSCF change
1\. UE‑1 on PS1 registers to S‑CSCF via P‑CSCF1.
2\. UE‑1 sends INVITE to originate a multimedia session with UE‑2.
3\. P‑CSCF1 routes the INVITE to the S‑CSCF.
4\. The S‑CSCF invokes the necessary service logic as appropriate.
5\. The S‑CSCF forwards the INVITE to the MMSC AS over the ISC interface.
6\. The MMSC AS anchors the multimedia session depending on operator policy.
7\~8. The MMSC AS sends the INVITE to UE‑2.
9-13. UE‑2 accepts the initial session setup by sending to UE‑1 a 200 OK
response.
14-18. UE‑1 send ACK to UE‑2.
19\. UE‑1 connects to another IP‑CAN, PS2 and decides to perform PS to PS
session continuity based on MMSC policy information received from the IMS
Network.
20\~22. UE‑1 sends an re-INVITE message on the PS1 IP‑CAN towards the MMSC AS.
The re-INVITE message includes MST information and notifies the MMSC AS to
perform session continuity.
23\. The MMSC AS correlates and updates the multimedia session based on the ST
Information.
24\~25. The MMSC AS sends re-INVITE to UE‑2 to update the session.
26-30. UE‑2 accepts the re-INVITE by sending a 200 OK response.
31-35. UE‑1 sends ACK to UE‑2.
#### 6.5.2.3b PS-PS session continuity with full media transfer with no P‑CSCF
change and with change in Signalling address
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN, obtaining new media addresses, and completing the
session continuity procedures, UE‑1 continues the multimedia session with UE‑2
on the new IP‑CAN. The signalling is continued using the new IP‑CAN.
Figure 6.5.2-2b: Information flow for PS to PS multimedia session continuity
with no P‑CSCF change
1\. UE‑1 on PS1 registers to S‑CSCF via P‑CSCF1.
2\. UE‑1 sends INVITE to originate a multimedia session with UE‑2.
3\. P‑CSCF1 routes the INVITE to the S‑CSCF.
4\. The S‑CSCF invokes the necessary service logic as appropriate.
5\. The S‑CSCF forwards the INVITE to the MMSC AS over the ISC interface.
6\. The MMSC AS anchors the multimedia session depending on operator policy.
7\~8. The MMSC AS sends the INVITE to UE‑2.
9-13. UE‑2 accepts the initial session setup by sending to UE‑1 a 200 OK
response.
14-18. UE‑1 send ACK to UE‑2.
19\. UE‑1 connects to another IP‑CAN, PS2 and decides to perform PS to PS
session continuity based on MMSC policy information received from the IMS
Network.
20\~22. UE‑1 sends an INVITE message on the PS2 IP‑CAN towards the MMSC AS.
The INVITE message includes MST information and notifies the MMSC AS to
perform session continuity.
23\. The MMSC AS correlates and updates the multimedia session based on the ST
Information.
24\~25. The MMSC AS sends re-INVITE to UE‑2 to update the session.
26-30. UE‑2 accepts the re-INVITE by sending a 200 OK response.
31-35. UE‑1 sends ACK to UE‑2.
#### 6.5.2.4a PS-PS session continuity with partial media transfer with no
P‑CSCF change and no change in Signalling address
Editor\'s Note: It is FFS how NAT traversal and PCC will work for this
scenario.
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN, obtaining new media addresses, and completing the
session continuity procedures, UE‑1 transfers part of the multimedia session
with UE‑2 to the new IP‑CAN and keep the remaining part on the original
IP‑CAN. UE‑1 is attached to the same P‑CSCF after the session continuity
procedures. The call flow is the same as shown in clause 6.5.2. 3a. The only
difference is that in Steps 20\~22, the re-INVITE needs to indicate that the
request is for a partial transfer. In this case, the MST Info included in the
INVITE message sent in steps 20\~22 shall indicate the media components which
need to be transferred to the new PS domain (PS2). The signalling is continued
using the old IP‑CAN.
NOTE: This scenario requires UE‑1 to support dual mode operation in both
IP‑CAN networks.
#### 6.5.2.4b PS-PS session continuity with partial media transfer with no
P‑CSCF change and with change in Signalling address
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN, obtaining new media addresses, and completing the
session continuity procedures, UE‑1 transfers part of the multimedia session
with UE‑2 to the new IP‑CAN and keep the remaining part on the original
IP‑CAN. UE‑1 is attached to the same P‑CSCF after the session continuity
procedures. The call flow is the same as shown in clause 6.5.2.3b. The only
difference is that in Steps 20\~22, the INVITE needs to indicate that the
request is for a partial transfer. The signalling is continued using both the
old and new IP‑CAN.
NOTE: This scenario requires UE‑1 to support dual mode operation in both
IP‑CAN networks.
### 6.5.3 Information flows for PS-PS session continuity in conjunction with
PS-CS session continuity
#### 6.5.3.1 Session transfer: the multi-media session transferred to combined
sessions
Figure 6.5.3-1 describes the information flows for transferring a multi-media
session speech via PS2 to CS access in conjunction with PS access.
Figure 6.5.3-1: Information flow for session transfer
1\. The MMSC user is engaged in an active multimedia session with UE‑2 via
I‑WLAN(PS2).
2-3. UE‑1 sends the INVITE request with a new contact information, a suitable
information to replace the existing session, VDI and modified SDP (multimedia
and hint for CS voice bearer).
4\. The session establishment request is routed to the S‑CSCF by the P‑CSCF.
5\. The S‑CSCF invokes the MMSC Application as the first Application Server of
any Application Servers that need to remain in the path of the call after
session transfer.
6\. The S‑CSCF forwards the INVITE to the MMSC Application over the ISC
interface.
7\. The MMSC Application analyses the INVITE from which the MMSC is able to
derive:
\- That the INVITE is for session transfer;
\- That the INVITE is in conjunction with another call leg:
\- Whether to merge or split the session(s):
\- Description of the corresponding transferred session(s) and media(s) to be
transferred:
The MMSC decides to wait for the session transfer request in CS access.
8\. UE‑1 origins a CS call including VDN to indicate to the network that this
is a session transfer request.
9\. The ICS intermediate Nodes convert the request into IMS SIP format and
then forward the converted request to the S‑CSCF.
Editor\'s Note: It is FFS how ICS intermediate Nodes convert the session
transfer request received from CS access.
10\. The S‑CSCF forwards the INVITE to the MMSC Application over the ISC
interface from which the MMSC AS is able to derive:
\- That the INVITE is for session transfer;
\- That the INVITE is in conjunction with another call leg:
11\. The MMSC Application correlates the two requests and decides to update
the Remote leg.
Editor\'s Note: It is FFS how to correlate the two requests received from
different domains.
12-27. The MMSC Application updates the Remote Leg with the connection
information of the received sessions and completes the establishment of the
two Access legs.
28-33. The MMSC Application initiates to release the old access leg.
NOTE: The UE‑1 may also initiate the release procedure.
#### 6.5.3.2 The two split sessions transferred into one multimedia session
over another access
In this flow, the MMSC Application analyses the session transfer information
and decide to transfer the media carried in CS bearer to IP‑CAN.
Figure 6.5.3-2: Information flow for CS multimedia session transfer
1\. The MMSC user is on an active multimedia session which is split into two
separate sessions, one part via PS1 access and the other part via CS access.
2-3. When the UE‑1 determines a need to transfer two separate sessions to one
session via PS2, the UE‑1 subsequently sends the INVITE request with new
contact information, suitable information to replace the existing session, the
VDI and modified SDP to indicate to the MMSC Application to transfer the split
sessions via CS access and PS2 access to the establishing session via PS2
access.
4\. The session establishment request is routed to the S‑CSCF by intermediate
nodes.
5\. The S‑CSCF invokes the MMSC Application as the first Application Server of
any Application Servers that need to remain in the path of the call after
session transfer.
6\. The S‑CSCF forwards the INVITE to the MMSC Application over the ISC
interface.
7\. The MMSC Application analyses the INVITE from which the MMSC AS is able to
derive:
\- That the INVITE is for session transfer;
\- Whether to merge or split the session(s):
\- Description of the corresponding session(s) and media(s) to be transferred:
8-19. After identifying transfer a multimedia session via PS2, the MMSC
Application performs the session transfer by updating the Remote leg with the
connection information of the newly updated Access Leg 1.
20-24. The MMSC Application initiates to release the old access leg via CS
access in this example, however the UE‑1 may initiate to release the source
Access Leg.
25-30. The source Access Leg 2(which is one of the Access Legs previously
established over PS1) is released by the MMSC Application in this example,
however the UE‑1 may initiate to release the source Access Leg 2.
### 6.5.4 Information flow for PS-CS session continuity
#### 6.5.4.1 Session transfer: the real time media component (video and
speech) transferred to the CS access
Figure 6.5.4-1 describes the information flows for transfer real time media
component (video and speech) to CS access.
In this flow, the MMSC Application needs to wait for the H245 negotiation
complete before it updates the remote access leg.
Figure 6.5.4-1: Information flow for CS multimedia session transfer
1\. The MMSC user is engaged in an active multimedia session including real-
time(including speech and video) and non-real-time media components with UE‑2
via I‑WLAN.
2-3. UE‑1 originates a multimedia call in the CS domain including the VDN and
MST information to request the real time media transfer to CS access.
Editor\'s Note: It is FFS how to transfer the MST information in CS network.
Anyhow the solutions shall not have impact on VMSC.
5\. The ICS intermediate Nodes convert the request into IMS SIP format and
then forward the converted request to the S‑CSCF.
Editor\'s Note: It is FFS how ICS intermediate Nodes convert the session
transfer request received from CS access.
6\. The S‑CSCF invokes the MMSC Application as the first Application Server of
any Application Servers that need to remain in the path of the call after
session transfer.
7\. The S‑CSCF forwards the INVITE to the MMSC Application over the ISC
interface.
8-15. The MMSC Application analyses the INVITE to derive that the INVITE is a
request to transfer a multimedia session with video and voice media components
to the CS domain. In order to avoid the service interruption of CS multimedia
call the MMSC Application firstly completes the CS leg establishment by
sending 200 OK responses to the transfer request and waits for the H.245
negotiation completion and receives ACK request.
16\. UE and MGCF/MGW starts in band H245 negotiation.
17-20. After the H245 negotiation is done, MGCF sends Update towards MMSC AS
and receives 200 OK response.
21-23. The UE‑1 initiates to release the old access leg after the completion
of the H.245 in-band negotiation procedure. The release request is forwarded
to the MMSC Application.
24\. After determining that the H.245 in-band negotiation procedure for the CS
multimedia call is complete by the indication received from the UE or the
MGCF, the MMSC Application updates the Remote Leg with the connection
information of the newly established Access Leg.
25-27. The MMSC Application acknowledges the BYE request with a 200 OK
response.
NOTE 1: If the non real time media component will be remained, the source
Access Leg may be updated by session re-negotiation.
NOTE 2: If ICS is using the MSC server enhanced for ICS approach, the H.245
negotiation with UE would be executed by the MSC server enhanced for ICS, and
the H.245 negotiation complete indication would be sent by the MSC server
enhanced for ICS to MMSC AS.
### 6.5.5 Information flow for providing UE Transfer
#### 6.5.5.1 Information flow for transferring media components to different
UEs
##### 6.5.5.1.1 Alternative 1
In this Alternative, a UE requests to transfer one or more media components to
another UE (the transfer target) by sending a REFER request to this UE.
In the example flow shown below, UE‑1 initiates the media transfer to UE‑2 by
sending a REFER request to UE‑2 populated with the appropriate session
transfer information (ST Info). This triggers UE‑2 to send an INVITE request
to MMSC AS requesting the appropriate media from the Remote UE.
Figure 6.5.5.1-1: UE‑1 transfers media components to UE‑2
1\. UE‑1 establishes a multimedia session with Remote UE via MMSC AS.
2\. The UE‑1 perform session continuity to transfer one media to UE‑2 under
the control of the MMSC user.
3\. The UE‑1 originates a REFER in the PS access system towards the UE‑2. The
REFER message includes MST information which notifies to the MMSC AS that this
is for multimedia session continuity to transfer the specified media from the
specified session of UE‑1 media to the UE‑2.
4\. The P‑CSCF1 routes the REFER to the S‑CSCF.
5\. The S‑CSCF routes the REFER to the P‑CSCF2.
6\. The P‑CSCF2 routes the REFER to the UE‑2.
7-10. The UE‑2 accepts the transfer request by sending to UE‑1 a 202 Accepted
response.
NOTE: The above steps may be skipped in case the user initiates media transfer
by sending INVITE directly from UE‑2 without receiving REFER message from
UE‑1.
11\. The UE‑2 originates an INVITE message towards the MMSC AS. The INVITE
message includes necessary MST information which notifies to the MMSC AS that
this is for multimedia session continuity to transfer the media from UE‑1.
12\. The P‑CSCF2 routes the INVITE to the S‑CSCF.
13\. The S‑CSCF invokes the necessary service logic as appropriate.
14\. The S‑CSCF forwards the INVITE to the MMSC AS over the ISC interface.
15\. The MMSC AS correlates the new access leg with the remote leg of the
multimedia session between the MMSC AS and the Remote UE and updates the
remote leg.
16\. The MMSC AS sends a re-INVITE/UPDATE to the S‑CSCF for session update.
17\. The S‑CSCF routes the re-INVITE/UPDATE to the Remote UE per TS 23.228
[7].
18-19. The Remote UE accepts the re-INVITE/UPDATE by sending a 200 OK response
to the MMSC AS.
20-21. The MMSC AS sends an ACK response to the Remote UE.
22-24. The MMSC AS accepts session continuity message from the Remote UE by
sending to UE‑2 a 200 OK response.
25-27. UE‑2 sends an ACK response to the MMSC AS.
28-36. The old access leg which is the access leg previously established is
subsequently updated for deleting the transferred media of the multimedia
session by the MMSC AS.
NOTE: The old Access Leg may be subsequently released by the MMSC AS
optionally.
37-40. UE‑2 sends the NOTIFY message to UE‑1 via P‑CSCF2, S‑CSCF and P‑CSCF1,
and UE‑1 responses to UE‑2 by sending a 200 OK.
##### 6.5.5.1.2 Alternative 2
In this Alternative, a UE requests to transfer one or more media components to
another UE (the transfer target) by sending a REFER request to MMSC AS. The
REFER message doesn\'t need to be sent to the transfer target.
In the example flow shown below, UE‑1 has established a multimedia session
with a Remote UE, which is anchored at the MMSC AS. The multimedia session
contains several media components and UE‑1 wants to transfer one or more of
them to another UE (i.e. UE‑2). The media component(s) which should be
transferred to UE‑2 are indicated as \"multimedia stream-2\" whereas the media
components which are not affected by the media transfer procedure are
indicated as \"multimedia stream-1\". It is assumed that UE‑1 and UE‑2 belong
to the same subscriber (i.e. they share the same subscription).
Figure 6.5.5.1-2: UE‑1 transfers media components to UE‑2
NOTE: For simplicity, not all SIP messages are shown in the figure above.
1\. UE‑1 decides to transfer some of the media components to UE‑2.
2\~5. UE‑1 sends REFER request to the MMSC AS with MST information, which
indicates to MMSC AS that media transfer to UE‑2 is requested. The REFER
request identifies:
\- the type of the requested action (in this case, \"transfer media to another
device\");
\- the target of the media addition (i.e. UE‑2) in the Refer-To header; and
\- details about the existing media component(s) to be transferred, e.g. type
of media component(s), the dialog associated with these media components, etc.
The MMSC AS authorizes this request, i.e. it verifies that UE‑1 is entitled to
request this media transfer to UE‑2 and initiates the media component transfer
procedure.
Editor\'s note: How MMSC AS authorizes the request for media transfer is FFS.
6-9. The MMSC AS may request the capabilities of UE‑2 (i.e. the supported
Codecs, media types, etc.).
10-14. The MMSC AS sends an INVITE request to UE‑2 proposing the media
parameters corresponding to the transferred media. When UE‑2 receives the
media parameters, it returns an answer and starts sending/receiving the data
stream.
15-19. The MMSC AS sends a re-INVITE to the Remote UE to update the remote
leg. The re-INVITE proposes new SDP parameters based on the parameters
received from UE‑2 in step 14. When the Remote UE receives the new media
parameters, it returns an answer and starts the reception/transmission of
these media components.
20-24. The MMSC AS proposes new media parameters to UE‑1 (by sending a re-
INVITE request) in order to deactivate the media components that were
transferred to UE‑2. When UE‑1 receives the media parameters, it returns an
answer and stops sending / receiving these media components.
The above steps 15-19 and 20-24 can be executed in parallel.
NOTE: If after media transfer, there are no media components left on UE‑1,
steps 20-24 will not take place. Instead, the MMSC AS will release the
multimedia session with UE‑1.
##### 6.5.5.1.3 Flow for transferring media components to different UEs
This signaling flow for media transfer is shown in the figure below. In this
example, UE-1 is using an IP-CAN/PS domain and has a multimedia session with a
Remote UE, which is anchored at the MMSC AS. The multimedia session contains
several media components and UE-1 wants to transfer one or more of them to
another UE (i.e. UE-2). In this example, UE-2 is also using an IP-CAN/PS
domain. The media component(s) which should be transferred to UE-2 are
indicated as \"multimedia stream-1\" whereas the media components which are
not affected by the media transfer procedure are indicated as \"multimedia
stream-2\". It is assumed that UE-1 and UE-2 belong to the same subscriber
(i.e. they share the same subscription).
Editor's Note: The transfer of TCP-based media components needs further
study**.**
Figure 6.5.5.1-3: Flow for media transfer
1-2. When UE-1 decides to transfer one or more media components to UE-2 it
sends a Media Transfer Request (Target, Media, Session Info). The Target
identifies the UE that serves as the target of media transfer and Media
identifies the active media components that should be transferred. The Session
Info identifies an anchored session at the MMSC AS that is associated with
this request. The Media Transfer Request is routed to MMSC AS (directly or
through iFC), which should authorize the media transfer operation.
NOTE 1: Authorization in this step by MMS AC is required in order to make sure
e.g. that both UEs share the same subscription.
NOTE 2: The Media Transfer Request may also include an indication of whether
UE-1 wants to keep the control of the transferred session.
3-5. The Media Transfer Request (Media) is sent to UE-2, which identifies the
media that need to be established on UE-2. In this step, the terminating
access domain is also selected as specified in TS 23.292 [10].
NOTE 3: In the example shown in Figure 6.5.5.1-3, it is assumed that UE-2 is
using an IP-CAN/PS domain so the PS domain is selected for terminating the
Media Transfer Request. In case UE-2 is using the CS domain, the Media
Transfer Request in step 5 is routed to a BGCF/MGCF and it is inter-worked
with the CS domain.
6\. UE-2 accepts the media transfer request.
7-8. The MMSC AS sends a re-INVITE request to the Remote UE in order to
redirect the requested media from UE-1 to UE-2. The Remote UE is identified
from the Access Leg information received in step 1. After this step, the
Remote UE starts sending the media for stream 1 to UE-2.
9-10. The MMSC AS notifies UE-1 that the media transfer operation was
successfully completed and the corresponding media can be deactivated.
#### 6.5.5.2 Information flow for retrieving media components from different
UEs
##### 6.5.5.2.1 Alternative 1
In this Alternative, a UE requests retrieval of one or more media components
which are currently active in another UE by sending an INVITE request to MMSC
AS.
In the example flow shown below, the MMSC AS analyses the multimedia session
transfer information (MST info) included in the INVITE request and redirects
the media from UE‑1 back to UE‑2 according to the request from UE‑2.
Figure 6.5.5.2-1: UE‑2 retrieves media components from UE‑1 (UE‑2 is not
initially involved in the MMSC session)
1\. UE‑1 is on multimedia session with a remote end point and the session has
been anchored at MMSC AS to enable session continuity.
2\. UE‑2 obtains information about UE‑1\'s on-going session through MMSC AS,
for example, by subscribing to UE‑1\'s dialog event package.
3\. UE‑2 decides to retrieve some of the media components from UE‑1.
4\~6. UE‑2 sends INVITE to the MMSC AS with MST information to indicate that
this session is established to retrieve media components from UE‑1.
7\~12. Session established successfully between the MMSC AS and UE‑2.
13\~18. MMSC AS sends Re-INVITE to update the existing session with the remote
end point.19\~27. MMSC AS sends Re-INVITE to update the existing session with
UE‑1.
NOTE: If all media components are transferred from UE‑1 to UE‑2, then Step
13\~21 will not happen. Instead, the MMSC AS sends BYE to UE‑1 to release the
session.
If UE‑1 has session information about ongoing multimedia session between the
UE‑2 and remote UE, the UE‑1 may send re-INVITE message for session retrieval
directly to the MMSC AS. The figure below shows that the UE‑1 retrieves the
media of UE‑2 that transferred from UE‑1 in case the UE‑1 has session
information.
Figure 6.5.5.2-2: UE‑1 retrieves media components from UE‑2 (UE‑2 is initially
involved in the MMSC session)
1\. UE‑2 has an active multimedia session including media F1 transferred from
the session S1 of UE‑1 with Remote UE. The session S1 still have media with
Remote UE.
2\. Under the control of the MMSC user, the UE‑1 performs session continuity
to retrieve the media F1 from UE‑2.
3\. UE‑1 originates a re-INVITE in S1 towards the MMSC AS. The re-INVITE
message includes MST information which notifies to the MMSC AS that this is
for multimedia session continuity to retrieve the media F1.
4\. The P‑CSCF1 routes the re-INVITE to the S‑CSCF.
5\. The S‑CSCF forwards the re-INVITE to the MMSC AS over the ISC interface.
6\. The MMSC AS correlates and updates the multimedia session based on the ST
Information.
7\. The MMSC AS sends a re-INVITE/UPDATE to the S‑CSCF for session update.
8\. The S‑CSCF routes the re-INVITE/UPDATE to the Remote UE per TS 23.228 [7].
9\. The Remote UE accepts the re-INVITE/UPDATE by sending a 200 OK response.
10\. The S‑CSCF forwards the 200 OK response to the MMSC AS.
11-12. MMSC AS sends an ACK response to the Remote UE.
13-15. The MMSC AS accepts session continuity message from the Remote UE by
sending to UE‑1 a 200 OK response.
16-18. UE‑1 sends an ACK response to the MMSC AS.
19-24. The old access legs which are the Access legs previously established
between UE‑2 and MMSC AS is subsequently released by the MMSC AS.
##### 6.5.5.2.2 Alternative 2
In this Alternative, a UE requests retrieval of one or more media components
which are currently active in another UE by sending a REFER request to MMSC
AS.
In the example flow shown below, UE‑2 has established a multimedia session
with a Remote UE, which is anchored at the MMSC AS. The multimedia session
contains several media components. Another UE (i.e. UE‑1) wants to retrieve
some of the media components active in UE‑2. The media component(s) which
should be retrieved by UE‑1 are indicated as \"multimedia stream-1\" whereas
the media components which are not affected by the media retrieval procedure
(and remain in UE‑2) are indicated as \"multimedia stream-2\". It is assumed
that UE‑1 and UE‑2 belong to the same subscriber.
Figure 6.5.5.2-3: UE‑1 retrieves some media components from UE‑2
1-4. UE‑1 initiates the media retrieval by sending a REFER request (1-2) to
the MMSC AS. The REFER request identifies:
\- the type of the requested action (in this case, \"retrieve media from
another device\");
\- the source of the media retrieval (i.e. UE‑2) in the Refer-To header; and
\- details about the existing media component(s) to be retrieve, e.g. type of
media component(s), the UE‑2\'s dialog associated with these media components,
etc.
The MMSC AS authorizes this request, i.e. it verifies that UE‑1 is entitled to
request this media retrieval from UE‑2 and initiates the media component
transfer procedure.
Editor\'s Note: How MMSC AS authorizes the request for media retrieval is FFS.
Editor\'s Note: It is FFS how UE‑1 identifies the media component requested
for retrieval in case UE‑2 has several active media components with the same
type.
5-14. The MMSC AS may request the capabilities of UE‑1 (i.e. the supported
Codecs, media types, etc.).
15-21. The MMSC AS sends an INVITE request to UE‑1 proposing the media
parameters corresponding to the transferred media. When UE‑1 receives the
media parameters, it returns an answer and starts sending/receiving the data
stream.
22-28. The MMSC AS sends an (re)INVITE to the Remote UE to update the remote
leg. The (re)INVITE proposes new SDP parameters based on the parameters
received from UE‑1 in step 19. When the Remote UE receives the new media
parameters, it returns an answer and starts the reception/transmission of
these media components.
29-35. The MMSC AS proposes new media parameters to UE‑2 in order to
deactivate the media components that were transferred to UE‑1. When UE‑2
receives the media parameters, it returns an answer and stops sending /
receiving these media components.
The above steps 22-28 and 29-35 can be executed in parallel.
NOTE: If after media retrieval, there are no media components left on UE‑2,
steps 29-35 will not take place. Instead, the MMSC AS will release the
multimedia session with UE‑2.
#### 6.5.5.3 Signalling flow for adding new media components to different UEs
##### 6.5.5.3.1 Alternative 1
In this Alternative, a UE requests to add one or more media components to a
multimedia session active in another UE by sending a REFER request to MMSC AS.
In the example flow shown below, UE‑1 has established a multimedia session
with a Remote UE, which is anchored at the MMSC AS, and wants to add one or
more new media components between the Remote UE and another UE (i.e. UE‑2). It
is assumed that UE‑1 and UE‑2 belong to the same subscriber.
{width="5.496527777777778in" height="7.725in"}
Figure 6.5.5.3-1: UE‑1 adds one or more media components to UE‑2
1-4. UE‑1 initiates the media addition by sending a REFER request (1-2) to the
MMSC AS (sent outside the already established dialog with the MMSC AS). The
REFER request identifies:
\- the type of the requested action (in this case, \"add media to an ongoing
multimedia session\");
\- the target of the media addition (i.e. UE‑2) in the Refer-To header; and
\- details about the media component(s) to be added, e.g. type of media
component(s), etc.
The MMSC AS authorizes this request, i.e. it verifies that UE‑1 is entitled to
request this media addition to UE‑2 and, if there is not other session
modification in progress with the Remote UE, it initiates the media component
addition procedure.
Editor\'s note: How MMSC AS authorizes the request for media addition is FFS.
5-14. The MMSC AS requests the capabilities of UE‑2 (i.e. the supported
codecs, media types, etc.)
15-21. The MMSC AS sends an re-INVITE to the Remote UE (15-16) to update the
remote leg. The re-INVITE proposes new SDP parameters based on the parameters
received from UE‑2 in step 12. When the Remote UE receives the new media
parameters, it returns an answer and starts the reception/transmission of
these media components (17-19).
22-28. The MMSC AS proposes new media parameters to UE‑2 (22-23). When UE‑2
receives the media parameters, it returns an answer and starts sending /
receiving for these media parameters (24-26).
#### 6.5.5.4 Information flow for removing media components from different UEs
##### 6.5.5.4.1 Alternative 1
In this Alternative, a UE requests to remove one or more media components from
a multimedia session active in another UE by sending a REFER request to MMSC
AS.
In the example flow shown below, a Remote UE has an ongoing multimedia session
with UE‑1 and UE‑2. It exchanges one or more media components with UE‑1 and
also one or more media components with UE‑2. In this example, UE‑1 wants to
remove all media components between the Remote UE and UE‑2. It is assumed that
UE‑1 and UE‑2 belong to the same subscriber.
{width="5.613888888888889in" height="5.3381944444444445in"}
Figure 6.5.5.4.1-1: UE‑1 removes the media components active on UE‑2
1-4. UE‑1 initiates the media removal by sending a REFER request (1-2) to the
MMSC AS (sent outside the already established dialog with the MMSC AS). The
REFER request identifies:
\- the type of the requested action (in this case, \"remove media from an
ongoing multimedia session\");
\- the target of the media removal (i.e. UE‑2) in the Refer-To header; and
\- details about the media component(s) to be removed, e.g. type of media
component(s), etc.
The MMSC AS authorizes this request, i.e. it verifies that UE‑1 is entitled to
request this media removal from UE‑2 and, if there is not other session
modification in progress with the Remote UE, it initiates the media component
removal procedure.
Editor\'s note: How MMSC AS authorizes the request for media removal is FFS.
5-11. The MMSC AS sends a re-INVITE message and proposes new media parameters
(5-6) to the Remote UE that remove all ongoing media components with UE‑2. The
Remote UE receives the media parameters, returns an answer and stops sending /
receiving the identified media components (7-9).
12-15. Since all media components are removed from UE‑2, the MMSC AS releases
the appropriate dialog with UE‑2. This dialog is identified by means of
binding information stored in the MMSC AS (i.e. information correlating the
dialog with the Remote UE and the dialog with UE‑2).
#### 6.5.5.5 Information flow for addition of media components with
redirection at the terminating side
##### 6.5.5.5.1 Alternative 1
In the example flow shown below, UE‑3 has an ongoing multimedia session with
another UE in the originating side. The multimedia session of UE‑3 is anchored
at the MMSC AS. At some point during the session, a request to add new media
components at UE‑3 is initiated (for example, by the UE in the originating
side). The request for adding new media components at UE‑3 triggers the
transfer of (all or part of) these media components to UE‑4 (which is also a
UE of subscriber B).
Figure 6.5.5.5-1: UE‑3 redirects the addition of new media components to UE‑4
NOTE: For simplicity, ACK messages are not shown in the above figure.
1\. A request to add new media component(s) at UE‑3 is initiated. This may
occur for example when a UE in the originating side requests to add one or
more media components with the UE‑3.
> 2-6. As a result of the initiation of media addition, a re-INVITE request
> proposing new SDP parameters is sent to UE‑3 to modify the media components
> of its existing dialog. When UE‑3 receives the re-INVITE, it returns a
> response (e.g. 3xx response) requesting to transfer (all or part of) these
> media components to UE‑4. Optionally, an interaction takes place at UE‑3
> which allows the user to specify the device that should accept the new media
> components. The response from UE‑3 identifies:
>
> \- the new target of the media addition (i.e. UE‑4);
>
> \- which media component(s) to be transferred to UE‑4;
>
> \- which media component(s) to be added to UE‑3 (in case only part of the
> new media components are transferred to UE‑4).
>
> 7-10. Optionally, the MMSC AS requests the capabilities of UE‑4 (e.g. the
> supported codecs, media types, etc.) in order to determine if all media
> components requested to be transferred to UE‑4 can be supported by UE‑4.
NOTE: If some media components cannot be supported by UE‑4 (e.g. due to
limited capabilities) the MMSC AS does not offer these components to UE‑4. It
is FFS if the MMSC AS can re-offer these components to UE‑3. The example flow
shown in figure 6.5.5.x-y assumes that UE‑4 can support all new media
components requested to be transferred by UE‑3.
Editor\'s note: It is FFS whether the MMSC AS uses the Options request for
discovering the UE‑4\'s capabilities before offering the media components to
UE‑4.
> 11-15. The MMSC AS sends an INVITE to UE‑4 to invite it to the session and
> add the media components identified in the response from UE‑3. When UE‑4
> receives the new media parameters, it returns an answer and starts the
> reception/transmission of these media components.
## 6.6 Network-initiated Multimedia Session Transfer
### 6.6.1 General
The domain transfer approach as currently defined in Release 7 VCC requires
the UE to be the decision maker of domain transfer. The UE continually
monitors received signal strengths from both IMS and CS cellular network
domains. UE decisions for session transfer can be _loosely_ controlled by the
network through the provision of appropriate policies in the UE (as specified
in TS 23.206 [6] for VCC). Although the transfer of a multimedia sessions
initiated by the UE is a simple session transfer approach and possibly
adequate for light traffic network conditions, it does not allow the operator
to exercise _tight_ control of access resource utilization neither allows the
system to optimize various operating parameters, such as the overall capacity
and performance. This approach is sensible and may prove to be sufficient at
least for smaller scale deployments. However, as the number of user sessions,
mobility events, and bandwidth consumption increases, the impact on operator
network resource consumption must be considered.
It is recognized that in several cases, session transfer initiated by the
network advantages as compared to session transfer initiated by the UE.
Therefore, it will be beneficial from a system performance point of view to
specify appropriate mechanisms for session transfer mechanism initiated by the
network.
To exploit the anticipated benefits of session transfer initiated by the
network this TR considers mechanisms that allow the functionality performed by
the IMS to indicate when and how a session transfer is need to be performed.
Focus is given on IMS-layer mechanisms for a multimedia session transfer
initiated by the network.
This IMS-layer network-initiated multimedia session transfer mechanism
_provides the capability to transfer existing multimedia sessions between
different PS accesses and or domains._
### 6.6.2 Session Continuity operator policies
The MMSC AS provides the MMSC UE with session continuity operator policies
suitable for the possible access networks that the UE can discover. These
operator policies are an extension of the VCC Rel‑7 operator policy to cover
not only domain transfer but also the session transfer scenarios identified in
this TR.
The MMSC AS can change anytime the policies in a specific UE, thus enabling
the network to change the preferred access network for originating and
transferring multimedia sessions, change the session transfer restrictions and
impact the initiation of a session transfer of an established multimedia
session.
The session continuity operator policies may be related to the area where the
UE is operating in order to allow the Operator to provide consistent
information with the access networks that the UE can find in that area.
Session continuity is triggered by the MMSC UE, the MMSC UE shall take the
session continuity operator policies into account when deciding which access
network to use for outgoing sessions or before considering session transfer.
For this reason, a priority order of operator policies versus user preferences
shall be defined with MMSC UE by the operator during initial provisioning or
via (OMA DM) reference point. Session continuity triggers at the MMSC UE may
be influenced by the MMSC AS by updating the operator policies held on the
MMSC UE.
Editor's note: The complete call flows for this scenario is FFS.
#### 6.6.2.1 Characteristics of Session Continuity operator policies
The session continuity policies provides the MMSC UE with information that the
MMSC UE shall take into account before originating a session and before
starting a session transfer procedure, e.g. \"move media X to WiFi or WiMAX or
UTRAN PS according this order of preference\".
The MMSC UE shall be provided with session continuity operator policy during
initial provisioning or via V1 reference point. The session continuity
operator policy is valid until it is overwritten by the MMSC AS and shall be
communicated to the MMSC UE whenever the policy is updated by the operator.
The session continuity operator policy shall indicate:
> \- which access network is restricted;
>
> \- for each media or group of media a list of access networks (ordered
> according to operator preference) to be used by the MMSC UE for session
> initiation and/or session transfer, when one or a group of those access
> networks becomes available;
>
> \- the level of priority for initiating session transfer, i.e. whether the
> MMSC UE shall/should/may start transferring a media component to a target
> access network when it becomes available, if the other policy requirements
> are met and if permitted by the lower network layers (core and radio access
> network).
Editor\'s note: The transport mechanisms used over the CS domain and the PS
domain / IP‑CAN for providing / updating the session continuity operator
policy are FFS.
#### 6.6.2.2 Update of Session Continuity operator policies
Editor\'s note: When, why and how often policies may be updated is FFS.
To enable the update of session continuity operator policies, the MMSC UE can
maintain a \"working\" set of session continuity (SC) operator policies in
addition to the \"provisioned\" session continuity (SC) operator policies
(which are static operator policies similar to those specified in VCC Rel‑7).
The characteristics of Working SC operator policies are the following:
Editor\'s note: Whether the UE needs to maintain two sets of operator
policies, static and working, is FFS.
Editor\'s note: The characteristics below are provided in order to explain the
various options / possibilities that exist with a working set of SC operator
policies. Which of those characteristics need to be standardized is FFS.
> \- The Working SC operator policies can be dynamically updated and reset to
> the provisioned values at any time by the MMSC AS via procedures on the V1
> reference point. Dynamic update is feasible over the CS domain and the PS
> domain / IP‑CAN.
Editor\'s note: The transport mechanisms used over the CS domain and the PS
domain / IP‑CAN for updating the Working SC operator policies in a UE are FFS.
> \- Updated Working SC operator policies shall be considered immediately,
> i.e. the MMSC UE takes into account the updated values and adjusts its
> behaviour immediately after the Working SC operator policies are updated by
> the network.
>
> \- The Working SC operator policies override the provisioned SC operator
> policies.
>
> \- The Working SC operator policy values are initialized to the provisioned
> SC operator policy values. They hold working values for operator policy
> parameters.
>
> \- Optionally, the Working SC operator policies may have an expiration time
> (be time stamped) associated with them thus limiting the time that they are
> in effect. Upon expiration, the Working SC operator policies are reset to
> the provisioned operator policies.
>
> \- The Working SC operator policies can be disabled or enabled by the
> network.
With the use of Working SC operator policies the MMSC UE continues being the
decision maker of access and/or domain selection and session transfer based on
access network availability, user preferences and SC operator policies, as in
Rel‑7 VCC solution. The main difference from Rel‑7 VCC behaviour is that the
MMSC UE reacts in real-time to the dynamic changes of the working SC operator
policies.
To illustrate how the Working SC policies can be used to facilitate network-
initiated session transfers, one typical example scenario is discussed. In
this example, the MMSC UE is in GSM CS coverage and has an ongoing voice call
anchored in IMS. Its Working SC policies have the following values (in this
example we use the policy parameters specified in TS 24.216 [13]):
Preferred Domain: IMS;
Immediate DT: Immediate transfer to the preferred domain _is not_ _required_ ;
DT CS-to-IMS direction: Can occur;
DT IMS-to-CS direction: Can occur.
Even though the MMSC UE can access IMS over a WLAN it still maintains the
voice call over the CS domain (this is because Immediate DT is not required).
However, when the MMSC AS decides that a domain transfer to IMS is required
(e.g. to optimize some network operating parameters), it can update the
working SC policies of the UE with the following values:
Preferred Domain: IMS;
Immediate DT: Immediate transfer to the preferred domain _is required_ ;
DT CS-to-IMS direction: Can occur;
DT IMS-to-CS direction: Can occur.
Immediately after the update of the Working SC policies, the UE performs a
domain transfer (if possible) of its ongoing voice call to IMS because the
preferred domain is IMS and immediate transfer to the preferred domain is now
required.
# 7 Impacts and Enhancements to the IM CN subsystem
Editor\'s note: This clause describes and investigates possible impacts to the
IM CN subsystem. And enhancements to the functionalities or entities of IM CN
subsystem need to be investigated at this section.
## 7.1 MMSC and CSI interworking
A call that is subject to MMSC, will always be anchored in the home IMS domain
and present a single media session towards the remote party over the NNI. For
an IMS originated call CSI is only defined for the terminated scenario, where
the CSI AS will receive the combined session. This session can be split
according to the rules of CSI thus enabling MMSC and CSI to coexist.
On the terminating side CSI should only be used if MMSC is not available as
the MMSC AS provides the same functionalities as the CSI AS.
NOTE: Future developments of the CSI specification should be monitored in
order to avoid possible future interactions between MMSC and \"CSI origination
towards IMS termination with CSI interworking\".
# 8 Coexistence and/or potential interactions with underlying mobility
solutions
Editor\'s note: This clause describes and investigates how IMS-level
Multimedia Session Continuity will coexist and/or interact with possible
underlying mobility solutions defined by 3GPP. The solutions developed within
this study should not have any impacts to underlying mobility solutions.
## 8.1 General
In a mobility-enabled network environment where both network-level as well as
IMS-level mobility mechanisms are provided, it is imperative to investigate
the mutual impacts between those mechanisms and adapt them appropriately in
order harmonize their coexistence. In order to accomplish this and establish a
network environment where IMS-level mechanisms can efficiently co-operate and
co-exist with potential underlying mobility mechanisms, this clause
investigates the interactions between IMS-level and network-level mobility
mechanisms (as defined in 3GPP Rel‑8 specifications).
## 8.2 Impact of underlying mobility mechanisms on IMS
Editor\'s note: It is FFS whether these issues are in the scope of this study.
In this sub-clause we discuss the impact of user\'s mobility on IMS under the
assumption that the underlying network layers support the mobility mechanisms
specified in TS 23.401 [4] and TS 23.402 [5]. In many mobility scenarios,
these mechanisms allow the UE to use the same contact address across different
IP‑CANs, i.e. there is no need for the UE to register a different contact
address at every IP‑CAN change neither to transfer its ongoing sessions to
another contact address. This can help making mobility transparent to the IMS
layer. However, as discussed below, even when the UE can use the same contact
address across different IP‑CANs, its mobility is not completely transparent
to the IMS layer.
### 8.2.1 Access Network Info
Several IMS elements may store the type of access network that is currently
used by the UE (as provided in the P-Access-Network-Info header) and use it
subsequently for performing access-specific service logic. For example, the
Domain Selection Function (DSF, see TS 24.206 [6]) can use the UE\'s current
access network type to determine the domain to be used for terminating an
incoming session request. Therefore, when the UE hands over to a new IP‑CAN
with a different access type from the old IP‑CAN (e.g. from GERAN to IEEE
802.11) it is desirable to update the IMS network with its current access
network type.
When the network supports extended mobility mechanisms, such as those
specified in TS 23.401 [4] and TS 23.402 [5], then the UE may change several
IP‑CANs during an active multimedia session without updating the IMS network
with a new P-Access-Network-Info header, i.e. without sending any SIP
signalling until it refreshes the session timers. The same holds true for the
case when the UE does not have an active multimedia session. As a consequence,
by using extended mobility in the underlying layers the IMS network may not be
regularly updated with the UE\'s current access network type. This could have
a significant impact on IMS session terminating procedures or any other IMS
procedures which rely on the UE\'s current access network type.
NOTE: The value inserted by the UE in the P-Access-Network-Info header is
considered as un-trusted information by the network.
P‑CSCF may derive and/or validate UE\'s IP‑CAN information using PCC
mechanisms as specified in TS 23.203 [11]. P‑CSCF may also subscribe to IP‑CAN
update procedures provided by the PCRF via Rx reference point as specified in
TS 29.214 [12].
The UE may in the event of IP-CAN change, update the network with its current
capabilities and access network information during the normal
(re-)registration procedure or may initiate a new (re-)registration only for
this purpose. If an ongoing session is refreshed this is enough to update the
network with the new access network information.
### 8.2.2 P‑CSCF Discovery
With extended network mobility mechanisms the UE may be able to maintain IP
connectivity to the same P‑CSCF while moving across several access networks
within a single PLMN or across different PLMNs. This capability creates the
question of whether the UE needs to perform the P‑CSCF discovery procedure
(see TS 23.228 [7]) at every IP‑CAN change or whether it could reuse the
previously discovered P‑CSCF.
When to perform a P‑CSCF discovery may need to be re-evaluated when the
network mobility mechanisms are in effect because in such case the UE could
maintain connectivity to the same P‑CSCF when moving across different IP‑CANs.
Frequent P‑CSCF re-discoveries seem not useful and could severely impact the
continuity of multimedia sessions because every re-discovery can introduce a
considerable additional delay to the session transfer procedure especially
when DHCP is used.
Ideally, the UE may not perform the P‑CSCF discovery in the new IP‑CAN if its
IP address used to access IMS does not change in the new IP‑CAN. However,
there are scenarios when the P‑CSCF discovery may be required even when the IP
address used to access IMS does not change in the new IP‑CAN. For example when
an operator wants to deploy particular P‑CSCFs for particular access networks
(e.g. a separate pool of P‑CSCFs for WLAN access and another pool for E-UTRAN
access). It might also be required in order to allow the UE to proactively re-
discover a usable P‑CSCF in the new IP‑CAN instead of waiting until
discovering that its old P‑CSCF is not usable any more.
Editor\'s note: The principle of \"P‑CSCF re-discovery at every IP‑CAN
change\" needs to be further studied and identify potential methods to
minimize the P‑CSCF re-discovery impact on session continuity.
### 8.2.3 Mobility Scenarios with P‑CSCF Change
Depending upon the network architecture and deployment scenarios, the UE must
register with the S‑CSCF via the new P‑CSCF after the handover is executed. In
this section, such handover scenarios are categorized into non-roaming and
roaming cases.
#### 8.2.3.1 Non-roaming case
When different access systems are covered by different P‑CSCFs for scalability
or operational reasons, P‑CSCF change happens due to the movement of the UE
between these access systems. Figure 8.1 depicts handover between EUTRAN and
non-3GPP access systems, where P‑CSCF1 and P‑CSCF2 are in charge of the access
systems AN‑1 and AN‑2, respectively.
At some point, the UE is attached to the AN1 and registered with the S‑CSCF
via P‑CSCF1. When the UE moves and attaches to AN2 with an ongoing IMS
session, the UE needs to register with S‑CSCF via P‑CSCF2. In such cases even
if the IP‑level mobility is provided, in order to maintain the on-going IMS
session(s), the UE shall discover P‑CSCF2 and send IMS related signalling via
P‑CSCF2 if P‑CSCF1 is no longer available. This will allow P‑CSCF2 and PCRF to
perform policy and QoS controls (e.g., gate control) that are required at the
access gateway (AGW) serving AN‑2 in order for the on-going IMS session to
continue seamlessly. It is also expected that inter access technology handover
happens more frequently than inter PLMN handover and therefore seamless IMS
session continuity is very important for a better user experience.
{width="6.691666666666666in" height="2.5305555555555554in"}
Figure 8.1: Inter access technology handover
#### 8.2.3.2 Roaming case
Figure 8.2 shows that the UE, over the access network AN‑2, uses the services
provided by the visited IMS (e.g. emergency IP services) and has a security
association with the vP‑CSCF. When the UE performs an inter-PLMN handover to
access network AN‑3, even if the network-layer mobility mechanisms can sustain
IP connectivity to vP‑CSCF, it might not be able to use vP‑CSCF any more for
various reasons. For instance, if the UE were using emergency IP services in
the visited IMS, after handover the vP‑CSCF will reject further requests from
UE because now the UE has moved to a different PLMN (this is determined from
the new value of P-Access-Network-Info header in all subsequent requests).
Even in the case of non-emergency IMS services, operator policy may enforce
the vP‑CSCF to reject requests from UEs from different PLMNs.
Figure 8.2: Access to visited IMS services after inter-PLMN handover
In further deployment scenarios (see figure 8.3) there might be no inter-PLMN
policy interface (S9). In such scenarios, even when the network-layer mobility
mechanisms can sustain IP connectivity between the UE and the vP‑CSCF after
the inter-PLMN handover, there might be no mechanisms to dynamically reserve
QoS resources in the target access network (AN‑3 in figure 8.3). This lack of
policy interworking between different PLMNs could have an impact on IMS layer,
as in this case IMS mobility mechanisms might be required for continuing the
UE\'s services through the new PLMN (and through a different P‑CSCF).
Figure 8.3: Access to visited IMS services after inter-PLMN handover
Editor\'s note: Other mobility scenarios that require a P‑CSCF change are FFS.
Editor\'s note: There is need to identify in IMS level when the P‑CSCF is
required to change and thus invoke appropriate re-discovery and IMS mobility
mechanisms.
Editor\'s note: It should be investigated how the selection and use of IP
address in UE (i.e. HoA or CoA) affect the session continuity procedure.
### 8.2.4 PS-PS session continuity with P‑CSCF Change under IP‑level mobility
support
The following simplified information flow describes the use case of PS-PS
session continuity when the network layer supports mobility and thus the
contact address of the UE does not change when the UE hands over to a
different access network. In this use case, the P‑CSCF changes after the
handover due to the change of the coverage of the P‑CSCF (i.e, one for 3GPP
access and another for non-3GPP access), thus the UE needs to discover a new
P‑CSCF and to register with the S‑CSCF via the new P‑CSCF in order to transfer
the ongoing session to this new access network. A typical use case and network
configurations are illustrated in clause 8.2.3. In summary, it is assumed
that:
i) The UE does not change the IP address after it moves to the new access
network;
ii) A new P‑CSCF is used in the new access network;
iii) S‑CSCF does not change;
iv) The PCRF may or may not change; and
v) The UE is an MMSC UE.
GW1 and GW2 in the information flow refer to S-GW (3GPP access in a different
PLMN) or the access gateway (non-3GPP access).
Figure 8.4: Signalling flow for providing PS-PS session continuity with P‑CSCF
change under IP‑level mobility support
A step-by-step description of the signalling flow is shown below:
1-18. These steps are identical to the steps described in clause 6.5.2.1.
19a. UE#1 may be able to discover the new P‑CSCF to be used in the target
network before the handover and the necessary context transfer may occur
between the current P‑CSCF and the new P‑CSCF.
19b. If UE#1 has discovered a new P‑CSCF in step 19a, the UE informs the MMSC
AS about the handover of UE#1 (via the current P‑CSCF and the S‑CSCF), whereby
the MMSC AS can properly handle the incoming sessions and maintain the on-
going session(s) during UE#1\'s handover interval.
Editor\'s note: The details of how the new P‑CSCF is discovered are FFS.
(e.g., it could be a simple operator\'s policy that whenever the UE changes
from 3GPP access to non-3GPP access, it needs to discover a new P‑CSCF).
Editor\'s note: The trigger for the UE to send the handover notification is
FFS.
20\. Later, UE#1 discovers and attaches to a new access network (e.g. an
I‑WLAN). Since IP‑level mobility is provided, the IP address of UE#1 does not
change before and after the handover.
21a. If the proactive P‑CSCF discovery is not performed at step 19, UE#1
discovers a new P‑CSCF (P‑CSCF#2) that is applicable in the new access
network.
21b. If the UE has discovered a new P‑CSCF in step 21 (a), the UE informs the
MMSC AS about the handover of the UE (via the current P‑CSCF and the S‑CSCF),
whereby the MMSC AS can properly handle and maintain the on-going session(s)
during the UE\'s handover.
22\. Although the contact address of UE#1 does not change, due to the change
of the P‑CSCF, UE#1 is required to register with S‑CSCF via the new P‑CSCF.
Again, 3rd-party registration may optionally be used
Editor\'s note: The UE of 3rd-party registration is FFS.
23\. To transfer its ongoing video sharing session from the old access network
to the new access network, UE#1 sends an INVITE effectively requesting to
replace the previous dialog settings, which includes the route set. This
INVITE creates a new dialog between UE#1 and MMSC AS.
Editor\'s note: It is FFS whether the INVITE message sent in this step
includes a Replaces header (this initiates a new dialog). The name and details
of the AS will be resolved later.
24-28. Since the IP address of UE#1 does not change, it may not be needed to
send a re-INVITE (or UPDATE) message to UE#2. However, if some conditions
(e.g. QoS) have changed, MMSC AS updates the existing dialog with UE#2 by
sending a re-INVITE (or UPDATE) message with a new SDP.
29\. MMSC AS responds to the INVITE sent by UE#1 with a 200 OK effectively
accepting the request to transfer the video sharing session from the old
access network to the new one.
30\. The old access leg is released.
# 9 Conclusion
## 9.1 Conclusion on multimedia session continuity scenarios
Voice call continuity between CS and PS (incl. WLAN) and the identified
multimedia session continuity scenarios in this TR shall be captured as the
scenarios for the technical specification for IMS Service Continuity.
## 9.2 Conclusion on MMSC architecture and anchoring solution
The MMSC AS comprises a set of following high-level functions to perform
multimedia session continuity and anchor/manage multimedia session.
\- anchor all the multimedia sessions;
\- execute the session transfer of multimedia session;
\- enable network-initiated multimedia session transfer by updating and
providing session transfer policies stored in the UE;
\- provides multimedia session splitting/merging functionalities.
The MMSC reference architecture extends the set of domain transfer
functionalities of Rel‑7 VCC Application to support multimedia sessions in
addition to voice. It is recommended to document the MMSC AS and set of its
functionalities in the technical specification for IMS Service Continuity.
## 9.3 Conclusion on session transfer operator policy
It is recommended to standardize the session transfer operator policy which is
an enhancement of the VCC Rel‑7 operator policy to cover not only domain
transfer but also session transfer scenarios identified in this TR.
The V1 reference point has been defined to convey the session transfer
operator policy.
## 9.4 Conclusion on the relationship between ICS and MMSC
Clear demarcation between ICS and MMSC with respect to session/merge split
functionality is only possible in the event that ICS is implemented as a SIP
application. It is therefore recommended to specify MMSC with the assumption
that when ICS is implemented in a network it is done so using an ICS AS, as
described in TR 23.892 [14].
Both ICS and MMSC specify functions which are provided by a SIP application
server. These functions may be collocated as optional functions in a single
SIP application server.
## 9.5 Conclusion on specification of session split/merger functionality
Both ICS and MMSC specify functionality to split and merge of SIP sessions.
IMS Service Continuity specification shall include the specification of
session split/merge function as needed for SIP sessions without any speech or
speech and video component which use the CS RAB.
IMS Service Continuity specification shall include the specification of a
session split/merge function needed for adding or deleting new media to an
existing session when media is carried simultaneously over two access
networks, one of which might be CS access. This covers the cases in which
media is added or deleted or media components are transferred to another
access.
TS 23.292 [10] shall specify split/merge of SIP sessions, with at least one
speech or speech and video component which use the CS RAB, for session
originations and terminations which use the Gm reference point of ICS as
specified in 3GPP TS 23.292 [10].
The session split/merge of SIP sessions with at least one speech or speech and
video component which use the CS RAB need not be specified for session
originations and terminations which use the I1 reference point of ICS, see
3GPP TS 23.292 [10].
## 9.6 Conclusion on T-ADS and session split/merger functionality for MMSC and
ICS
**If the MMSC and ICS are collocated in a single logical application which
provides T-ADS and session split/merger functionality for all ICS and MMSC
scenarios, interactions and interfaces between ICS and MMSC need not be
specified. It is recommended that functions of ICS and MMSC are specified as
optional collocated functions of a single application server in this
release.**
## 9.7 Conclusion on the applicable scope of MMSC
It is recommended to handle the cases in the following list as the applicable
scope of MMSC Rel‑8 specification, and be used to concentrate further study
work to reach conclusions.
MMSC Rel‑8 is applicable:
\- in the case of PS-PS session continuity, when:
\- underlying mobility is not used; or
\- transferring part of media components between access networks; or
\- in the case of PS-CS session continuity;
\- to the mobility of media components of a session between different
terminals under the control of the same user;
\- when underlying mobility is used but is not sufficient to maintain the
session, e.g. when QoS re-negotiation and/or P‑CSCF re-discovery is required.
## 9.8 Conclusion on Single Radio MMSC
MMSC Rel‑8 specification supports the transfer of multimedia sessions between
access networks by UEs which are capable of simultaneous
transmitting/receiving on those access networks.
No special procedures have been studied in Rel‑8 MMSC TR to support the
transfer of multimedia sessions between access networks by UEs which are
capable of transmitting/receiving on only one of those access networks at a
given time.
## 9.9 Conclusion on Session Transfer Information
The Session Transfer Information defined in clause 6.4.1 is encoded in
existing SIP messages (SIP headers, SIP payload) or carried in the called
party address field (e.g. PSI for requesting session transfer) according to
existing protocol mechanisms where applicable. The information details needed
by MMSC AS for each multimedia session continuity scenario will be identified
in the related information flows in clause 6.5 and the requirements will be
derived from there.
The terms Session Transfer Information and MST information will not be used in
the TS.
## 9.10 Conclusion on UE Transfer information flows
It is recommended to use the flows for media transfer shown in clause
6.5.5.1-3 as a baseline for the specification work in the SC TS. The stage-3
details of the flows should be handled by the stage-3 working groups.
## 9.11 Conclusion on Keep and Release Control Mechanism in UE Transfer Mode
Mobility of media components of a session between different terminals under
the control of the same user using keep control and release control mode,
mentioned scenario in section 5.4.2 is recommended to consider early stage of
post Rel-8 time frame.
#