# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The objective of this feasibility study is to outline the technical
requirements, scope of work required, and perform a gap analysis to determine
whether existing 3GPP specifications can support LCS requirements for 3GPP
WLAN interworking. If it is determined that providing for this service is
feasible, then this feasibility study will continue forward to encompass
future work.
# 1 Scope
The 3GPP has developed and continues to develop Location Services (LCS)
requirements and standards for GSM and UMTS. To further the advancement of LCS
within the 3GPP, LCS requirements and standards may be extended for 3GPP WLAN
interworking to support the same location-based services that have been
deployed today for GSM and UMTS. LCS with 3GPP WLAN Interworking system is
considered to enlarge the area of location services.
The purpose of the feasibility study is to study a generic interworking
functionality for LCS between 3GPP system and WLAN systems (e.g. IEEE 802.11
family, HIPERLAN/2, ...). Specifically, the feasibility study aims to:
\- Study the LCS requirements for 3GPP WLAN Interworking scenarios.
\- Study the different possible LCS architectures for interworking.
Also, the feasibility study will:
\- Assess the service requirements for support of LCS over I-WLAN
\- Define the MMI aspects, i.e., the minimum set of functions to support LCS
when the choice of access system by the user and/or terminal for when both
access systems is available.
\- Assess the charging requirements and architecture impacts. In particular,
consider whether or not WLAN charging for LCS should be integrated with the
architecture for UMTS charging for LCS.
\- Assess the security requirements, given the prerequisite that a) the
security level of the UMTS platform itself is not impacted, b) the security
level provided to users in the WLAN mode is comparable to the one of UMTS.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.032: \"Universal Geographical Area Description\".
[3] 3GPP TS 22.101: \"Service principles\".
[4] 3GPP TS 22.105: \"Services and Service Capabilities\".
[5] 3GPP TS 22.115: \"Charging and Billing\".
[6] 3GPP TS 22.127: \"Stage 1 Service Requirement for the Open Service Access
(OSA)\".
[7] 3GPP TS 23.110: \" UMTS Access Stratum; Services and Functions\".
[8] 3GPP TS 22.071: \" Location Services (LCS); Service Description; Stage
1\".
[9] 3GPP TS 23.271: \"Functional Stage 2 description of Location Services
(LCS)\".
[10] 3GPP TS 22.234: \"Requirements on 3GPP system to Wireless Local Area
Network (WLAN) interworking\".
[11] 3GPP TS 22.934: \"Feasibility study on 3GPP system to Wireless Local Area
Network (WLAN) interworking\".
[12] 3GPP TS 23.234: \"3GPP system to Wireless Local Area Network (WLAN)
interworking; System description\".
[13] 3GPP TR 23.934: \"3GPP system to Wireless Local Area Network (WLAN)
interworking; Functional and architectural definition\".
[14] 3GPP TS 25.305: \"Stage 2 functional specification of User Equipment (UE)
positioning in UTRAN\".
[15] Open Mobile Alliance, OMA-RD-SUPL \"Secure User Plane Requirements\".
[16] Open Mobile Alliance, OMA-AD-SUPL \"Secure User Plane Architecture\".
[17] Open Mobile Alliance, OMA-TS-SUPL \"User Plane Location Protocol\".
# 3 Definitions and abbreviations
## 3.1 Abbreviations
For the purposes of the present document, in addition to 3GPP TR.21.905, the
following abbreviations apply:
3GPP Third Generation Partnership Project
AAA Authentication, Authorization, Accounting
AP Access Point
GMLC Gateway Mobile Location Centre
I-WLAN Interworking WLAN
LCS Location Service
UE User Equipment
NOTE: In the present document, acronyms are used in the text as if they are
read either in their fully expanded form or in their alphabet names with no
consistent principle.
## 3.2 Definitions
For the purposes of the present document the following definitions apply:
**Change of Area** : is one event supported for deferred Location Requests.
Change of Area means that the network is required to report the location or
the occurrence of the event of the requested subscriber in triggered fashion
immediately after the network (MSC/SGSN) processes the mobility event for the
new location of the subscriber. Usually new location is noticed after the
Location Update, Handover, RAU, Registration or RANAP Location Report, e.g.
when the SAI changes.
**Codeword:** access code, which is used by a Requestor or LCS Client in order
to gain acceptance of a location request for a Target UE. The codeword is part
of the privacy information that may be registered by a Target UE user.
**Current Location** : after a location attempt has successfully delivered a
location estimate and its associated time stamp, the location estimate and
time stamp are referred to as the \'current location\' at that point in time.
**Deferred location request:** a location request where the location response
(responses) is (are) required after specific event has occurred. Event may or
may not occur immediately. In addition event may occur many times.
**Immediate location request:** a location request where a single location
response only is required immediately.
**Initial Location** : in the context of an originating emergency call the
location estimate and the associated time stamp at the commencement of the
call set-up is referred to as \'initial location\'.
**Last Known Location** : The current location estimate and its associated
time stamp for Target UE stored in the LCS Server is referred to as the \'last
known location\' and until replaced by a later location estimate and a new
time stamp is referred to as the \'last known location\'.
**LCS Client:** a software and/or hardware entity that interacts with a LCS
Server for the purpose of obtaining location information for one or more
Mobile Stations. LCS Clients subscribe to LCS in order to obtain location
information. LCS Clients may or may not interact with human users. The LCS
Client is responsible for formatting and presenting data and managing the user
interface (dialogue). The LCS Client is identified by a unique international
identification, e.g. E.164.
NOTE: The LCS Client may reside inside or outside the PLMN.
**LCS Client Access barring list:** an optional list of MSISDNs per LCS Client
where the LCS Client is not allowed to locate any MSISDN therein.
**LCS Client Subscription Profile:** a collection of subscription attributes
of LCS related parameters that have been agreed for a contractual period of
time between the LCS client and the service provider.
**LCS Feature** : the capability of a PLMN to support LCS Client/server
interactions for locating Target UEs.
**LCS Server:** a software and/or hardware entity offering LCS capabilities.
The LCS Server accepts requests, services requests, and sends back responses
to the received requests. The LCS server consists of LCS components which are
distributed to one or more PLMN and/or service provider.
**Service Identifier:** A service provided by an LCS Client is identified by a
Service Identifier. One LCS client may have one or more services. The
combination of the LCS client Identifier and the Service Identifier constitute
a unique identification of a service.
**Location Estimate:** the geographic location of a UE and/or a valid Mobile
Equipment (ME), expressed in latitude and longitude data. The Location
Estimate shall be represented in a well-defined universal format. Translation
from this universal format to another geographic location system may be
supported, although the details are considered outside the scope of the
primitive services.
**PLMN Access barring list:** an optional list of MSISDN per PLMN where any
LCS Client is not allowed to locate any MSISDN therein except for certain
exceptional cases.
**Privacy Class:** list of LCS Clients defined within a privacy exception
class to which permission may be granted to locate the target UE. The
permission shall be granted either on activation by the target UE or
permanently for a contractual period of time agreed between the target UE and
the service provider.
**Privacy Exception List** : a list consisting of various types of privacy
classes (i.e. operator related, personal etc.). Certain types of classes may
require agreement between the service provider and the target MS.**Target
MS:** The UE being positioned.
**Requestor** : an originating entity, which has requested the location of the
target UE from the LCS client.
**Target UE:** The UE being positioned.
**Target UE Subscription Profile** : the profile detailing the subscription to
various types of privacy classes.
**UE available:** deferred Location Request event in which the MSC/SGSN has
established a contact with the UE. Note, this event is considered to be
applicable when the UE is temporarily unavailable due to inaction by the UE
user, temporarily loss of radio connectivity or IMSI detach and so on. Note
that IMSI detach is only applicable in the case UE has previously been
registered and information is still kept in the node.
# 4 Main concepts
This clause covers the main concepts of providing location services for I-WLAN
within 3GPP systems.
## 4.1 Benefits of LCS for I-WLAN
WLAN-based public hotspots are experiencing phenomenal growth. The areas
covered by these hotspots include airports, hotels, shopping malls, coffee
houses, and other public areas. The intent of 3GPP-WLAN interworking is to
extend 3GPP services and functionality to the WLAN access environment. LCS is
one of the functionalities developed by 3GPP for GSM and UMTS.
Subscribers will soon get used to LCS as a part of their cellular service
capabilities. Though the primary objective of I-WLAN access is for higher
speed data access, subscribers will expect to get LCS functionality from
I-WLAN. As voice services using IP transport become more prevalent,
subscribers may not know if the voice call is over the I-WLAN or over cellular
networks. Many of the location services that are available in the cellular
subscription will have a similar appeal in the confines of I-WLAN coverage
areas. Examples include finding the nearest coffee shop in a large shopping
mall or the nearest souvenir shop in an airport. Another example is the need
to support location information for emergency calls made over I-WLAN.
From an operator\'s perspective, LCS in I-WLAN offers opportunities for
additional revenue from value added services from LCS clients. These clients
include subscribers as well as non-subscribers to other services. LCS may also
serve to enhance or support certain O&M related tasks, supplementary services,
and IN-related services. An operator may be mandated to have LCS to support
emergency calls from I-WLAN service areas. LCS may also be used to support
lawful interception. LCS capability may become a service differentiator when
multiple I-WLAN operators compete in a given area.
Third party providers and merchants will require LCS capability for proximity
marketing. LCS may also benefit third parties from offering value added
services to end subscribers.
## 4.2 LCS Applications for I-WLAN
Wireless service providers are deploying wireless broadband data services
based on UMTS and I-WLAN. As a commercial, value-added service, wireless
service providers are deploying location services within their 3GPP networks.
By combining location services with I-WLAN, wireless service providers may
generate additional revenues from their investments in 3GPP location services
and I-WLAN.
In mentioning this opportunity, the question that often arises is \"What
commercial location services are possible with I-WLAN?\" This clause outlines
use cases for three types of commercial location services for I-WLAN. One, the
commercial location services for I-WLAN can be taken directly from the
services planned for 3GPP networks. Two, coupling location with presence
technology being used by an I-WLAN user is another natural extension of
commercial location services for the instant messaging (IM) industry. Three,
bringing a product or service advertisement to a consumer at the right time
and the right place has always been the goal of the advertising industry. To
help meet its goal, the advertising industry can leverage location-based
advertising for consumers using I-WLAN.
### 4.2.1 Leverage of today\'s Location Services
Many of the location services planned for today\'s 3GPP networks would be of
value to the I-WLAN customer. One example is the location service called
\"find-the-nearest-shop.\" This service would find the find the nearest, most
convenient restaurant, bar, or place to shop. The \"find-the nearest-shop\"
service could even provide detailed directions to help the I-WLAN user to
quickly get to their lunch meeting.
Besides the \"find-the-nearest\" service, other possible location services
planned [8] for 3GPP networks that could be extended to I-WLAN:
+----------------------------------+----------------------------------+ | Tracking | Network Enhancing | | | | | > Fleet Management: enables an | > Network Planning: locate | | > enterprise or a public | > calls/connections in certain | | > organization to track the | > areas to estimate the | | > location of vehicles (cars, | > distribution of | | > trucks, etc.) and use location | > calls/connections and user | | > information to optimize | > mobility for network planning | | > services. | > purposes. These applications | | > | > may be used for hot spot | | > Asset Management: may range | > detection and user behavior | | > from asset visualization | > modelling. | | > (general reporting of | > | | > position) to stolen vehicle | > Radio Resource Management: | | > location and geofencing | > more intelligent handovers and | | > (reporting of location when an | > more efficient WLAN channel | | > asset leaves or enters a | > allocation techniques. | | > defined zone). | > | | > | > Network QoS: track dropped | | > People Monitoring: track the | > calls/connections to identify | | > location of a person/child and | > problematic areas. The system | | > geofencing. | > may also be used to identify | | > | > poor quality areas. | | > **Information Services -** | > | | > allow subscribers to access | > **Examples:** | | > information for which the | > | | > information is filtered and | > Hot spot location: learn the | | > tailored based on the location | > locations of where users | | > of the requesting user. | > access an I-WLAN. | | > | > | | > Navigation: guide the handset | > Tracking of dropped | | > user to his/her destination. | > calls/connections: identify | | > | > where users experience dropped | | > Sightseeing: enable the | > calls/connection. | | > delivery of location specific | > | | > information to a sightseer. | > **Location Based Charging** | | > | > | | > Mobile Yellow Pages: provide | > Communications Services Rate | | > the user with the location of | > Setting: allows a subscriber | | > the nearest service point, | > to be charged different rates | | > e.g. Italian restaurant. | > depending on the subscriber\'s | | > | > location or geographic zone, | | > Dating and games: provide | > or changes in location or | | > location of user for gaming | > zone. | | > and dating. | > | | > | > Usage Rate Setting: users are | | > **Public Safety -** Service | > billed for access to public | | > providers offer these | > parks or theme parks based on | | > location-based services for | > their location. Users may be | | > the good of the public. | > charged for tolls based on | | > | > their location. | | > Emergency Services: E911, | | | > E112. | | | > | | | > Community Notification: notify | | | > wireless subscribers within a | | | > specific geographic location | | | > of emergency alerts. This may | | | > include such alerts as tornado | | | > warnings, pending volcano | | | > eruptions, etc. | | +----------------------------------+----------------------------------+
### 4.2.2 Additional Location Services with WLAN
I-WLAN may enable additional location services for commercialization. An
example is the merging of presence information with the location of an I-WLAN
terminal. In this example users of IM want to know when their friends are
reachable with IM. Presence services tell users that their friends are ready
to chat via IM. Often times the IM conversations include the exchanges of
\"Where are you?\" to find whether their friend is at home or in a coffee
house.
By adding location services to presence information, I-WLAN users can tell
their friends where they are, instantly and automatically. For example, an
I-WLAN user is within a very busy coffee shop and chatting via IM with a
friend. The presence and location information delivered to the friend allows
her to find that the I-WLAN user is in the coffee shop. Now knowing that the
I-WLAN is in the coffee shop, the friend asks about the daily specials.
Finding that her favorite flavored coffee is on special, the friend decides to
go have a special coffee and meet with the I-WLAN user in the coffee shop.
Location services for I-WLAN make it happen by instantly and automatically
delivering the I-WLAN user\'s location to her friend.
In another example of I-WLAN enabling additional location services for
commercialization is coupling location with advertising for I-WLAN users. When
a user pauses to access an I-WLAN, they may have time to explore their
surroundings. One good way to help introduce the I-WLAN user to their
surroundings is to tell them about the shoe sale up on the third floor or the
latest CD from their favorite rock band that went on sale in the record store
next door. The wireless service provider could optionally show the advertising
in the I-WLAN service log-in screen or via a pop-up window. The location
service matches the advertising to the location so the I-WLAN user is put into
a convenient position to make a purchase.
## 4.3 Potential for implementation of LCS for I-WLAN
This clause addresses where LCS applies to I-WLAN and the applicability of OMA
User Plane Approach to LCS for I-WLAN.
### 4.3.1 I-WLAN interworking scenario analysis
TR 22.934 [11] defines six different scenarios of interworking for I-WLANs.
This clause describes how each scenario may or may not support LCS.
Scenario 1 (Common Billing and Customer Care) does not pose any new
requirements on 3GPP specifications. There is no LCS for I-WLAN support for
this scenario. However, this does not preclude location services offered by
the WLAN operator that is not a part of I-WLAN services.
Scenario 2 (3GPP-based Access Control and Charging) offers only IP
connectivity and does not offer access to any 3GPP system PS-based services.
Therefore, there is no LCS for I-WLAN support. As in scenario 1, any WLAN
operator-provided location service support is not precluded.
In scenario 3 (Access to 3GPP System PS-based Services) allows access to PS
services. This scenario may support LCS for I-WLAN as a part of PS-based
services.
Scenarios 4, 5, 6 are to allow services supported in scenario 3 to survive
different levels of service continuity. These scenarios may support LCS for
I-WLAN.
### 4.3.2 Applicability of OMA user plane approach to LCS for I-WLAN
Existing 3GPP specifications do not support the protocol needed to
successfully transfer the location information from a terminal to a 3GPP
network via I-WLAN, however OMA (Open Mobile Alliance) Location group has been
working on the technical specifications in order to transmit location data
over the user plane, specifications [15], [16] and [17] are referenced here.
# 5 Technical service requirements
Future standardization of LCS for I-WLAN will need to take into account the
LCS technical service requirements [8]. LCS for I-WLAN may require additional
technical service requirements. This clause describes the additional technical
service requirements that LCS for I-WLAN may require.
## 5.1 LCS for I-WLAN additional requirements framework
The following high level requirements are applicable to LCS for I-WLAN:
  * Multiple positioning methods should be supported in the I-WLAN, including (but not limited to) Network Assisted GPS and methods using WLAN access point locations (e.g. Civic Address Locations).
> [Editors note: Civic address location document reference to be provided]
  * LCS for I-WLAN should provide position information to an LCS client existing within PLMN (including I-WLAN), external to the PLMN, or in User Equipment.
  * LCS for I-WLAN may include the serving AP identity to the LCS client.
## 5.2 Functional requirements
The following clauses describe functional service requirements for supporting
LCS in I-WLAN.
### 5.2.1 Quality of Service
The Quality of Service consists of horizontal accuracy, vertical accuracy,
response time and QoS class.
LCS for I-WLAN can typically expect horizontal accuracies of between 10 m and
100m.
If the location of an I-WLAN (e.g. I-WLAN Access Point) is used to determine
the position of a UE, then it should be ensured that the reported location of
that I-WLAN is accurate. If the I-WLAN has been moved to a distant place, then
the location information associated with it must be updated before it is used
again. The consequences of providing false I-WLAN location information can be
serious, e.g. for an emergency call. Methods of ensuring the reliability fall
outside the scope of SA1, but may involve calibrating the access point\'s
location using another 3GPP positioning technology, or including a warning
flag if accuracy can not be guaranteed.
### 5.2.2 Coverage
Any properly authorized location-based service may position a target UE
located in an I-WLAN AN.
### 5.2.3 Roaming target UE
Provided that a roaming agreement exists and coverage is available, any
properly authorized LCS client may request and receive the location of a
target I-WLAN UE located in a home network or in a visited network.
### 5.2.4 Privacy
[Editorial Note: FFS]
# 6 Summary and conclusion
The intent of 3GPP-WLAN interworking is to extend 3GPP services and
functionality to the WLAN access environment. LCS functionalities developed by
3GPP for GSM and UMTS will have a similar appeal in I-WLAN coverage areas.
This feasibility study has found no reason why existing 3GPP LCS
specifications cannot support LCS requirements for I-WLAN. Additional
considerations are required, e.g. in SA2, CT1.
According to this study, it is feasible to offer LCS in I-WLAN. LCS for I-WLAN
can leverage on today\'s location services and may offer additional services.
In order to support LCS in I-WLAN, multiple positioning methods need to
include WLAN access point locations. The LCS capability in I-WLAN allows any
properly authorized location based service to position an I-WLAN UE in any
I-WLAN including roaming. LCS functionality in I-WLAN enhances the overall
value of I-WLAN services.
###### ## Annex A (normative): Attributes of Specific Services
[Editor\'s Note: This proposed clause contains a table depicting the range of
values that may be expected for various attributes of location-based services.
FFS]
###### ## Annex B (informative): Potential for Implementation
## B.1 Wireless LAN positioning techniques
This clause describes several wireless LAN positioning techniques that exist
for determining the location of I-WLAN UE. The positioning techniques can be
grouped into WLAN location database techniques, WLAN radio-based positioning
techniques, and 3GPP RAN techniques. One or a combination of these techniques
can be applied to determine the position of an I-WLAN UE.
### B.1.1 WLAN location database positioning techniques
Operators of commercial WLAN deployments typically maintain databases
containing the location of hotspots and the WLAN access points within a
hotspot. When an I-WLAN UE is associated with an access point within these
hotspots, the access point has a unique MAC address that it broadcasts to the
I-WLAN UE. The position of the I-WLAN UE can be determined by performing a
position look-up in a hotspot and/or access point database based upon the
access point MAC address received by the I-WLAN UE.
### B.1.2 WLAN radio-based positioning techniques
Several radio-based positioning techniques with variations are available for
WLAN. The RF triangulation technique calculates the position of an I-WLAN UE
based on the received signal strength from three or more WLAN access points
and a database of WLAN access point locations. The RF fingerprinting technique
requires the I-WLAN operators to make an RF fingerprint of a known area. To
make the RF fingerprint, the I-WLAN operator measures received signal
strengths from multiple access points and records the exact position where
each received signal strength measurements is made. When the position of the
I-WLAN UE is requested, the I-WLAN UE measures the received signal strength
from multiple access points and an algorithm compares the measurements against
the RF fingerprint to determine the position of the I-WLAN UE. Time difference
of arrival is another possibility for a radio-based positioning technique.
### B.1.3 3GPP RAN positioning techniques
When a UE is capable of simultaneously accessing an I-WLAN and a GERAN/UTRAN,
either GERAN or UTRAN positioning techniques could be applied to an I-WLAN UE.
When a position of the I-WLAN UE is requested, the UE could initiate a session
with the GERAN or UTRAN, wait until the GERAN or UTRAN determines its
position, and then resume the session with the I-WLAN. In the case for
Scenario 4 [11] , a separate session could be initiated between the I-WLAN UE
and the GERAN or UTRAN to perform positioning.
## B.2 General navigation systems
Some I-WLAN UE will be equipped with auxiliary equipment and software to
enable them to make estimates of their location based on radio signals and
other techniques outside the I-WLAN and 3GPP RAN environment. For example,
some I-WLAN UE may be equipped with GPS. LCS for I-WLAN will not address these
general navigation systems because they are outside the control of a 3GPP
network.
## B.3 Positioning information sources
The positioning of an I-WLAN UE should not be limited to a single positioning
technique or system. As operating conditions vary both within and between the
I-WLAN and 3GPP networks, the LCS design should be able to make use of as many
measurements and techniques as are available and are appropriate for the needs
of (and the cost of) the service being provided.
The positioning process should have the option to include all of the available
I-WLAN and 3GPP RAN signals, including those from other networks with coverage
available to the UE. While it should not be necessary for the I-WLAN UE to
access these other networks, the I-WLAN UE and the location process should be
able to make use of the signals from these sources in addition to those of the
serving network. It is critical to positioning accuracy that as many
measurements are made as possible. This is particularly important in regions
where the serving operator may provide coverage with only a single WLAN access
point. Typically there will be additional coverage of these regions by other
WLAN operators, but perhaps only from one WLAN access point from each
operator. By making measurements of the signals from several operators the
I-WLAN UE will typically be able to obtain information to make a better
location estimate than would be possible with just the signals from a single
operator. The use of signals and other information from several operators
would, of course, be subject to suitable operator agreement.
In some cases the I-WLAN UE may be able to operate in other modes (e.g. GSM,
UMTS) for which a location service feature is also provided. The signals of
the other mode and location information may be helpful to the I-WLAN LCS. For
example, measurements of the GSM signals may be used by the I-WLAN calculation
function to supplement the I-WLAN positioning techniques. The use of this
information would, of course, be subject to suitable operator agreements. The
techniques for this inter-mode operation and any signalling between networks
are FFS.
The positioning process shall include the option to accommodate several
techniques of measurement and processing to ensure that the evolution follows
changing service requirements and to take advantage of advancing technology.
The information sources and the signalling required for this interaction are
FFS.
#