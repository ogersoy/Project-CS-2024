# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
This document defines the protocol for Nt reference point. The functional
requirements and the stage 2 specifications of the Nt reference point are
contained in 3GPP TS 23.203 [2]. The Nt reference point lies between Service
Capability Exposure Function (SCEF) and Policy and Charging Rules Function
(PCRF).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.203: \"Policy and charging control architecture\".
[3] IETF RFC 3588: \"Diameter Base Protocol\".
[4] IETF RFC 4006: \"Diameter Credit Control Application\".
[5] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".
[6] 3GPP TS 29.274: \"3GPP Evolved Packet System. Evolved GPRS Tunnelling
Protocol for EPS (GTPv2)\".
[7] IETF RFC 5719: \"Updated IANA Considerations for Diameter Command Code
Allocations \".
[8] IETF RFC 2234: \"Augmented BNF for syntax specifications \".
[9] 3GPP TS 29.213: \"Policy and charging control signalling flows and Quality
of Service (QoS) parameter mapping\".
[10] IETF RFC 7683: \"Diameter Overload Indication Conveyance\".
[11] 3GPP TS 29.229: \"Cx and Dx interfaces based on Diameter protocol;
Protocol details\".
[12] IETF RFC 7944: \"Diameter Routing Message Priority\".
[13] 3GPP TS 29.215: \"Policy and Charging Control (PCC) over S9 reference
point; Stage 3\".
[14] IETF RFC 8583: \"Diameter Load Information Conveyance\".
[15] IETF RFC 6733: \"Diameter Base Protocol\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in 3GPP
TR 21.905 [1].
ASP Application Service Provider
BTA Background Data Transfer Answer
BTR Background Data Transfer Request
DRA Diameter Routing Agent
DRMP Diameter Routing Message Priority
PCRF Policy and Charging Rules Function
SCEF Service Capability Exposure Function
SPR Subscription Profile Repository
# 4 Nt reference point
## 4.1 Overview
The Nt reference point is located between the PCRF and the SCEF. The Nt
reference point is used for:
\- Reporting the transfer policies from the PCRF to the SCEF;
The stage 2 requirements for Nt reference point are defined in TS 23.203 [2].
Refer to Annex G of 3GPP TS 29.213 [9] for Diameter overload control
procedures over the Nt interface.
Refer to Annex J of 3GPP TS 29.213 [9] for Diameter message priority mechanism
procedures over the Nt interface.
Refer to Annex K of 3GPP TS 29.213 [9] for Diameter load control procedures
over the Nt interface.
## 4.2 Nt Reference Model
The Nt reference point resides between the SCEF and PCRF. The relationship
between the two functional entities is depicted in figure 4.2-1. The overall
PCC architecture is depicted in subclause 3a of 3GPP TS 29.213 [9].
Figure 4.2-1: Nt reference model
NOTE: For roaming case, the SCEF is always in the H-PLMN and always contact
the H-PCRF.
## 4.3 Functional elements
### 4.3.1 PCRF
The PCRF is a functional element that encompasses policy control decision and
flow based charging control functionalities.
The PCRF uses the information received from SCEF and other available
information to determine one or more transfer policies for background data to
the application service provider. The PCRF provides the selected transfer
policies with a reference ID to the SPR for storage.
### 4.3.2 SCEF
The SCEF is a functional element which provides a means to securely expose the
services and capabilities provided by 3GPP network interfaces.
The SCEF is triggered by an SCS/AS which requests for the negotiation with the
PCRF for providing necessary policy to transfer background data.
## 4.4 Procedures over the Nt reference point
### 4.4.1 Negotiation for future background data transfer
Based on the SCS/AS request, the SCEF shall send the Background-Data-Transfer-
Request (BTR) command to the PCRF including the Transfer-Request-Type AVP with
the value TRANSFER_POLICY_REQUEST(0), it shall also include the ASP identifier
within the Application-Service-Provider-Identity AVP, volume of data per UE
within the CC-Output-Octets AVP for downlink volume and/or the CC-Input-Octets
AVP for uplink volume, or the CC-Total-Octets AVP for total volume regardless
direction, expected number of UEs within the Number-Of-UEs AVP and desired
time window within the Time-Window AVP.\ The Time-Window AVP shall include
desired start time within the Transfer-Start-Time AVP and desired end time
within the Transfer-End-Time AVP.\ The SCEF may also provide network area
information within Network-Area-Info-List AVP.
Once the PCRF receives the BTR command, the PCRF shall retrieve all existing
transfer policies stored for any ASP from the SPR.\ When all existing transfer
policies are retrieved, the PCRF shall determine one or more transfer policies
based on the information received from the SCEF and other available
information (e.g. network policy, congestion level (if available), load status
estimation for the required time window and network area, existing transfer
policies) and respond with a Background-Data-Transfer-Answer (BTA) command
including the possible transfer policies within Transfer-Policy AVP (s) and a
reference ID within Reference-Id AVP.\ The Transfer-Policy AVP(s) shall
include the Transfer-Policy-Id AVP, the Time-Window AVP, the Rating-Group AVP,
and may also include an Max-Requested-Bandwidth-DL AVP and/or an Max-
Requested-Bandwidth-UL AVP.
If more than one transfer policies are included in the BTA command, the PCRF
shall also include the PCRF Id within the PCRF-Address AVP in the BTA command.
NOTE 1: If only one Transfer-Policy AVP is included in the BTA command, the
PCRF sends a request to the SPR to store the reference ID together with the
transfer policy and corresponding network area information(if available).\ If
there is more than one Transfer-Policy AVP included in the BTA command, the
PCRF waits for the transfer policy selected by the SCS/AS before communicating
with the SPR.
If there is more than one transfer policy provided from the PCRF to the SCEF
in the BTA command, when the SCEF receives the selected transfer policy from
the SCS/AS, the SCEF shall send Background-Data-Transfer-Request (BTR) command
to the PCRF including the Transfer-Request-Type AVP set to the value
TRANSFER_POLICY_NOTIFICATION (1). The SCEF shall also include the reference ID
in the Reference-Id AVP, the identity of the selected transfer policy within
the Transfer-Policy-Id AVP and the destination PCRF Id within the Destination-
Host AVP.
NOTE 2: When receiving the BTA command from the PCRF, if there is only one
transfer policy included, the SCEF forwards the transfer policy to SCS/AS.\ If
there is more than the one transfer policy included, the SCEF forwards these
transfer policies to the SCS/AS and waits for the answer including the
identity of the transfer policy selected by the SCS/AS.
The PCRF shall acknowledge the BTR command by sending Background-Data-
Transfer-Answer (BTA) command.
NOTE 3: The PCRF sends a request to the SPR to store the reference ID together
with the transfer policy and corresponding network area information (if
available).
## 4.5 PCRF selection
The SCEF or DRA (if deployed) may select a PCRF in the HPLMN based on operator
policy (e.g. pre-configured PCRF identities or routing strategy, etc).
# 5 Nt protocol
## 5.1 Protocol support
The Diameter Base Protocol as specified in IETF RFC 6733 [15] shall apply
except as modified by the defined support of the methods and the defined
support of the commands and AVPs, result and error codes as specified in this
specification. Unless otherwise specified, the procedures specified in IETF
RFC 6733 [15] (including error handling and unrecognised information handling)
shall be used unmodified.
The Nt application is defined as vendor specific Diameter application, where
the vendor is 3GPP and the Application-ID for the Nt Application in the
present release is 16777348. The vendor identifier assigned by IANA to 3GPP
(http://www.iana.org/assignments/enterprise-numbers) is 10415.
With regard to the Diameter protocol defined over the Nt interface, the PCRF
acts as a Diameter server, in the sense that it is the network element that
handles background data transfer request. The SCEF acts as the Diameter
client, in the sense that it is the network element requesting background data
transfer.
## 5.2 Initialization, maintenance and termination of connection and session
The initialization and maintenance of the connection between each SCEF and
PCRF pair is defined by the underlying protocol. Establishment and maintenance
of connections between Diameter nodes is described in IETF RFC 6733 [15].After
establishing the transport connection, the SCEF and the PCRF shall advertise
the support of the Nt specific Application by including the value of the
application identifier in the Auth-Application-Id AVP and the value of the
3GPP (10415) in the Vendor-Id AVP of the Vendor-Specific-Application-Id AVP
contained in the Capabilitiesâ€‘Exchange-Request and Capabilities-Exchange-
Answer commands. The Capabilities-Exchange-Request and Capabilities-Exchange-
Answer commands are specified in the Diameter Base Protocol (IETF RFC 6733
[15]).
An Nt Diameter session shall consist of a single request and answer pair. The
Nt Diameter session is terminated after each request and answer pair
interaction. In order to indicate that the session state is not to be
maintained, the Diameter client and server shall include the Auth-Session-
State AVP with the value set to NO_STATE_MAINTAINED (1), in the request and in
the answer messages (see IETF RFC 6733 [15]).
## 5.3 Nt specific AVPs
### 5.3.1 General
Table 5.3.1.1 describes the Diameter AVPs defined for the Nt reference point,
their AVP Code values, types, possible flag values, whether or not the AVP may
be encrypted and which supported features the AVP is applicable to. The
Vendor-Id header of all AVPs defined in the present document shall be set to
3GPP (10415).
Table 5.3.1.1: Nt specific Diameter AVPs
+-------+-------+-------+-------+-------+-------+-------+-------+---+ | | | | | AVP | App | | | | | | | | | Flag | licab | | | | | | | | | rules | ility | | | | | | | | | (Note | | | | | | | | | | 1) | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Attr | AVP | C | Value | Must | May | S | Must | | | ibute | Code | lause | Type | | | hould | not | | | Name | | de | | | | not | | | | | | fined | (Note | | | | | | | | | | 2) | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Ne | 4201 | 5.3.2 | O | M,V | P | | | | | twork | | | ctetS | | | | | | | -Area | | | tring | | | | | | | -Info | | | | | | | | | | -List | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Num | 4209 | 5 | Unsig | M,V | P | | | | | ber-O | | .3.10 | ned32 | | | | | | | f-UEs | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Re | 4202 | 5.3.3 | O | M,V | P | | | | | feren | | | ctetS | | | | | | | ce-Id | | | tring | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | T | 4203 | 5.3.4 | Unsig | M,V | P | | | | | ransf | | | ned32 | | | | | | | er-Re | | | | | | | | | | quest | | | | | | | | | | -Type | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | T | 4204 | 5.3.5 | Gr | M,V | P | | | | | ime-W | | | ouped | | | | | | | indow | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Tr | 4205 | 5.3.6 | Time | M,V | P | | | | | ansfe | | | | | | | | | | r-End | | | | | | | | | | -Time | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Trans | 4207 | 5.3.8 | Gr | M,V | P | | | | | fer-P | | | ouped | | | | | | | olicy | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Tra | 4208 | 5.3.9 | Unsig | M,V | P | | | | | nsfer | | | ned32 | | | | | | | -Poli | | | | | | | | | | cy-Id | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | Tran | 4206 | 5.3.7 | Time | M,V | P | | | | | sfer- | | | | | | | | | | Start | | | | | | | | | | -Time | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+ | NOTE | | | | | | | | | | 1: | | | | | | | | | | The | | | | | | | | | | AVP | | | | | | | | | | h | | | | | | | | | | eader | | | | | | | | | | bit | | | | | | | | | | de | | | | | | | | | | noted | | | | | | | | | | as | | | | | | | | | | \ | | | | | | | | | | 'M\', | | | | | | | | | | indi | | | | | | | | | | cates | | | | | | | | | | wh | | | | | | | | | | ether | | | | | | | | | | su | | | | | | | | | | pport | | | | | | | | | | of | | | | | | | | | | the | | | | | | | | | | AVP | | | | | | | | | | is | | | | | | | | | | requ | | | | | | | | | | ired. | | | | | | | | | | The | | | | | | | | | | AVP | | | | | | | | | | h | | | | | | | | | | eader | | | | | | | | | | bit | | | | | | | | | | de | | | | | | | | | | noted | | | | | | | | | | as | | | | | | | | | | \ | | | | | | | | | | 'V\', | | | | | | | | | | indi | | | | | | | | | | cates | | | | | | | | | | wh | | | | | | | | | | ether | | | | | | | | | | the | | | | | | | | | | opt | | | | | | | | | | ional | | | | | | | | | | Vend | | | | | | | | | | or-ID | | | | | | | | | | field | | | | | | | | | | is | | | | | | | | | | pr | | | | | | | | | | esent | | | | | | | | | | in | | | | | | | | | | the | | | | | | | | | | AVP | | | | | | | | | | he | | | | | | | | | | ader. | | | | | | | | | | For | | | | | | | | | | fu | | | | | | | | | | rther | | | | | | | | | | det | | | | | | | | | | ails, | | | | | | | | | | see | | | | | | | | | | I | | | | | | | | | | ETF R | | | | | | | | | | FC 67 | | | | | | | | | | 33 [ | | | | | | | | | | 15]. | | | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | | 2: | | | | | | | | | | The | | | | | | | | | | value | | | | | | | | | | types | | | | | | | | | | are | | | | | | | | | | de | | | | | | | | | | fined | | | | | | | | | | in | | | | | | | | | | I | | | | | | | | | | ETF R | | | | | | | | | | FC 67 | | | | | | | | | | 33 [ | | | | | | | | | | 15]. | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+---+
### 5.3.2 Network-Area-Info-List AVP
The Network-Area-Info-List AVP (AVP code 4201) is of type OctetString, it
contains the network area information which is coded as specified in 3GPP TS
29.274 [6] in Presence Reporting Area Action IE, starting from octet 9.
### 5.3.3 Reference-Id AVP
The Reference-Id AVP (AVP code 4202) is of type OctetString. It is used by the
PCRF to correlate an SCS/AS request with the transfer policy retrieved from
the SPR. It is assigned by the PCRF and shall be globally unique per PLMN.
NOTE: To guarantee the uniqueness of the Reference Id, the Reference Id can
follow the definition of Session Id in IETF RFC 6733 [15].
### 5.3.4 Transfer-Request-Type AVP
The Transfer-Request-Type AVP (AVP code 4203) is of type Unsigned32, it
contains the reason for sending the BT-Request message.
The following values are defined:
0 (TRANSFER_POLICY_REQUEST)
The BT-Request message is sent to initiate a transfer policy request
procedure.
1 (TRANSFER_POLICY_NOTIFICATION)
The BT-Request message is sent to initiate a transfer policy notification
procedure.
### 5.3.5 Time-Window AVP
The Time-Window AVP (AVP code 4204) is of type Grouped. It contains a
Transfer-Start-Time and a Transfer-End-Time. It describes the time interval
during which the SCS/AS may realize the background data transfer.
Time-window ::= \
{ Transfer-Start-Time }
{ Transfer-End-Time }
*[ AVP ]
### 5.3.6 Transfer-End-Time AVP
The Transfer-End-Time AVP (AVP code 4205) is of type Time. It indicates the
NTP time at which the SCS/AS shall stop the background data transfer.
### 5.3.7 Transfer-Start-Time AVP
The Transfer-Start-Time AVP (AVP code 4206) is of type Time. It indicates he
NTP time when the SCS/AS may start the background data transfer.
### 5.3.8 Transfer-Policy AVP
The Transfer-Policy AVP (AVP code 4207) is of type Grouped. It indicates the
transfer policy determined by the PCRF.
Transfer-Policy ::= \
{ Transfer-Policy-Id }
[ Time-Window ]
[ Rating-Group ]
[ Max-Requested-Bandwidth-DL ]
[ Max-Requested-Bandwidth-UL ]
*[ AVP ]
### 5.3.9 Transfer-Policy-Id AVP
The Transfer-Policy-Id AVP (AVP code 4208) is of type Unsigned32. It indicates
the identity of the transfer policy. It is assigned by the PCRF and is unique
per Reference-Id.
### 5.3.10 Number-Of-UEs AVP
The Number-Of-UEs AVP (AVP code 4209) is of type Unsigned32. It indicates the
expected number of UEs.
## 5.4 Nt re-used AVPs
### 5.4.1 General
Table 5.4.1 lists the Diameter AVPs re-used by the Nt reference point from
other existing Diameter Applications, reference to their respective
specifications, short description of their usage within the Nt reference
point. Other AVPs from existing Diameter Applications, except for the AVPs
from Diameter base protocol, do not need to be supported. The AVPs from
Diameter base protocol are not included in table 5.4.1, but they are re-used
for the Nt reference point. Unless otherwise stated, re-used AVPs shall
maintain their 'M', 'P' and 'V' flag settings.
Table 5.4.1: Nt re-used Diameter AVPs
+----------------+----------------+----------------+---------------+ | Attribute Name | Reference | Description | Applicability | | | | | | | | | | (NOTE) | +----------------+----------------+----------------+---------------+ | Applicati | 3GPP T | The identity | | | on-Service-Pro | S 29.214 [5] | of the | | | vider-Identity | | application | | | | | service | | | | | provider that | | | | | is delivering | | | | | a service to | | | | | an end user. | | +----------------+----------------+----------------+---------------+ | CC | IETF | It contains | | | -Output-Octets | RFC 4006 [4] | the number of | | | | | requested, | | | | | octets that | | | | | may be sent to | | | | | involved | | | | | users. | | +----------------+----------------+----------------+---------------+ | C | IETF | It contains | | | C-Input-Octets | RFC 4006 [4] | the number of | | | | | requested | | | | | octets that | | | | | may be | | | | | received from | | | | | the involved | | | | | users. | | +----------------+----------------+----------------+---------------+ | CC-Total- | IETF | It contains | | | Octets | RFC 4006 [4] | the total | | | | | number of | | | | | requested | | | | | octets | | | | | regardless of | | | | | the direction | | | | | (sent or | | | | | received). | | +----------------+----------------+----------------+---------------+ | DRMP | IETF R | Allows | | | | FC 7944 [12] | Diameter | | | | | endpoints to | | | | | indicate the | | | | | relative | | | | | priority of | | | | | Diameter | | | | | transactions. | | +----------------+----------------+----------------+---------------+ | Load | IETF RFC 8583 | The AVP used | | | | [14] | to convey load | | | | | information | | | | | between | | | | | Diameter | | | | | nodes. | | | | | | | | | | This AVP and | | | | | all AVPs | | | | | within this | | | | | grouped AVP | | | | | shall have the | | | | | \'M\' bit | | | | | cleared. | | +----------------+----------------+----------------+---------------+ | Max-Requeste | 3GPP T | Defines the | | | d-Bandwidth-DL | S 29.214 [5] | maximum | | | | | aggregated | | | | | authorized | | | | | bandwidth for | | | | | downlink by | | | | | the PCRF. | | +----------------+----------------+----------------+---------------+ | Max-Requeste | 3GPP T | Defines the | | | d-Bandwidth-UL | S 29.214 [5] | maximum | | | | | aggregated | | | | | authorized | | | | | bandwidth for | | | | | uplink by the | | | | | PCRF. | | +----------------+----------------+----------------+---------------+ | OC-OLR | IETF R | Contains the | | | | FC 7683 [10] | necessary | | | | | information to | | | | | convey an | | | | | overload | | | | | report. | | +----------------+----------------+----------------+---------------+ | OC-Supp | IETF R | Defines the | | | orted-Features | FC 7683 [10] | support for | | | | | the Diameter | | | | | overload | | | | | indication | | | | | conveyence by | | | | | the sending | | | | | node. | | +----------------+----------------+----------------+---------------+ | PCRF-Address | 3GPP TS | The identity, | | | | 29.215 [13] | which | | | | | indicates the | | | | | destination | | | | | PCRF. | | +----------------+----------------+----------------+---------------+ | Rating-Group | IETF | The charging | | | | RFC 4006 [4] | key for the | | | | | aggregated | | | | | traffic of all | | | | | involved UEs | | | | | used for | | | | | rating | | | | | purpose. | | +----------------+----------------+----------------+---------------+ | Supp | 3GPP TS | If present, | | | orted-Features | 29.229 [11] | this AVP | | | | | informs the | | | | | destination | | | | | host about the | | | | | features that | | | | | the origin | | | | | host requires | | | | | to | | | | | successfully | | | | | complete this | | | | | command | | | | | exchange. | | +----------------+----------------+----------------+---------------+ | > NOTE: AVPs | | | | | > marked with | | | | | > a supported | | | | | > feature are | | | | | > applicable | | | | | > as described | | | | | > in | | | | | > su | | | | | bclause 5.4.2. | | | | +----------------+----------------+----------------+---------------+
### 5.4.2 Use of the Supported-Features AVP on the Nt reference point
When new functionality is introduced on the Nt reference point, it should be
defined as optional. If backwards incompatible changes cannot be avoided, the
new functionality shall be introduced as a new feature and support advertised
with the Supported-Features AVP. Unless otherwise stated, the use of the
Supported-Features AVP on the Nt reference point shall be compliant to the
usage of the Supported-Features AVP on the Cx reference point and consistent
with the procedures for the dynamic discovery of supported features as defined
in subclause 7.2 of 3GPP TS 29.229 [11].
The base functionality for the Nt reference point is the 3GPP Rel-13 standard
and a feature is an extension to that functionality. If the origin host does
not support any features beyond the base functionality, the Supported-Features
AVP may be absent from the Nt commands. As defined in subclause 7.1.1 of 3GPP
TS 29.229 [11], when extending the application by adding new AVPs for a
feature, the new AVPs shall have the M bit cleared and the AVP shall not be
defined mandatory in the command ABNF.
When extending the application by adding new AVPs for a feature, the new AVPs
shall have the M bit cleared and the AVP shall not be defined mandatory in the
command ABNF.
As defined in 3GPP TS 29.229 [11], the Supported-Features AVP is of type
grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On
the all reference points as specified in this specification, the Supported-
Features AVP is used to identify features that have been defined by 3GPP and
hence, for features defined in this document, the Vendor-Id AVP shall contain
the vendor ID of 3GPP (10415). If there are multiple feature lists defined for
the reference point, the Feature-List-ID AVP shall differentiate those lists
from one another.
The Supported-Features AVP shall be included in every BTR and BTA command if
supported by the SCEF and PCRF respectively.
The table 5.4.2.1 defines the features applicable to the Nt reference point
for the feature list with a Feature-List-ID of 1.
Table 5.4.2.1: Features of Feature-List-ID 1 used in Nt
+-------------------------------------+---------+-----+-------------+ | Feature bit | Feature | M/O | Description | +-------------------------------------+---------+-----+-------------+ | | | | | +-------------------------------------+---------+-----+-------------+ | **Feature bit:** The order number | | | | | of the bit within the Feature-List | | | | | AVP where the least significant bit | | | | | is assigned number \"0\". | | | | | | | | | | **Feature:** A short name that can | | | | | be used to refer to the bit and to | | | | | the feature, e.g. \"EPS\". | | | | | | | | | | **M/O:** Defines if the | | | | | implementation of the feature is | | | | | mandatory (\"M\") or optional | | | | | (\"O\") in this 3GPP Release. | | | | | | | | | | **Description:** A clear textual | | | | | description of the feature. | | | | +-------------------------------------+---------+-----+-------------+
NOTE: This table is a placeholder for when any supported features are added to
Nt. There are no supported features in this release.
## 5.5 Nt specific Experimental-Result-Code AVP values
### 5.5.1 General
This subclause defines result code values that shall be supported by Diameter
implementations that conform to this specification.
### 5.5.2 Success
Result Codes that fall into the Success category are used to inform a peer
that a request has been successfully completed. The Result-Code AVP values
defined in Diameter base protocol IETF RFC 6733 [15] are applied.
### 5.5.3 Permanent Failures
Errors that fall into the Permanent Failures category shall be used to inform
the peer that the request has failed, and should not be attempted again.
The Result-Code AVP values defined in Diameter base protocol IETF RFC 6733
[15] are applied.
### 5.5.4 Transient Failures
Errors that fall within the Transient Failures category are used to inform a
peer that the request could not be satisfied at the time it was received, but
may be able to satisfy the request in the future.
The Result-Code AVP values defined in Diameter base protocol IETF RFC 6733
[15] are applied.
## 5.6 Nt messages
### 5.6.1 Command-Code Values
This subclause defines the Command-Code values for the Nt interface
application as allocated by IANA from the vendor-specific namespace defined in
IETF RFC 5719 [7]. Every command is defined by means of the ABNF syntax in
IETF RFC 2234 [8], and according to the rules in IETF RFC 6733 [15].
NOTE: As the commands in the present specification have originally been
defined based on the former specification of the Diameter Base Protocol (IETF
RFC 3588 [3]), the Vendor-Specific-Application-Id AVP is still assumed as a
required AVP (an AVP indicated as {AVP}) in the command code format to avoid
backward compatibility issues, even if the use of this AVP has been deprecated
in the new specification of the Diameter Base Protocol (IETF RFC 6733 [15]).
The Nt application identifier shall be included in the Auth-Application-Id AVP
within the Vendor-Specific-Application-Id grouped AVP contained in the BT-
Request/Answer commands.
The following Command Codes are defined in this specification:
Table 5.6.1: Command-Code values for Nt
* * *
Command-Name Abbreviation Code Section Background-Data-Transfer-Request BTR
8388723 5.6.2 Background-Data-Transfer-Answer BTA 8388723 5.6.3
* * *
### 5.6.2 Background-Data-Transfer-Request (BTR) command
The BTR command, indicated by the Command-Code field set to 8388723 and the
\'R\' bit set in the Command Flags field, is sent by the SCEF to the PCRF as
part of Negotiation for future background data transfer procedure.
Message Format:
\ ::= \
\
[ DRMP ]
{ Vendor-Specific-Application-Id }
{ Auth-Session-State }
{ Origin-Host }
{ Origin-Realm }
{ Destination-Realm }
**{** Transfer-Request-Type **}**
[ Destination-Host ]
**[ OC-Supported-Features ]**
[ Application-Service-Provider-Identity ]
[ CC-Output-Octets ]
[ CC-Input-Octets ]
[ CC-Total-Octets ]
[ Number-Of-UEs ]
[ Time-Window ]
[ Network-Area-Info-List ]
[ Reference-Id ]
[ Transfer-Policy-Id ]
*[ Proxy-Info ]
*[ Route-Record ]
*[ Supported-Features ]
*[ AVP ]
### 5.6.3 Background-Data-Transfer-Answer (BTA) command
The BTA command, indicated by the Command-Code field set to 8388723 and the
\'R\' bit cleared in the Command Flags field, is sent by the PCRF to the SCEF
as part of Negotiation for future background data transfer procedure.
Message Format:
\ ::= \
\
[ DRMP ]
{ Vendor-Specific-Application-Id }
{ Auth-Session-State }
{ Origin-Host }
{ Origin-Realm}
[ Result-Code ]
[ Experimental-Result ]
[ Error-Message ]
[ Error-Reporting-Host ]
[ Failed-AVP ]
*[ Redirect-Host ]
[ Redirect-Host-Usage ]
[ Redirect-Max-Cache-Time ]
[ Reference-Id ]
**[ OC-Supported-Features ]**
**[ OC-OLR ]**
*[ Transfer-Policy ]
[ PCRF-Address ]
*[ Proxy-Info ]
*[ Route-Record ]
*[ Supported-Features ]
*[ Load ]
*[ AVP ]
#