# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
At the 3GPP TSG RAN#71 meeting, the Study Item Description on \"Study on
enhancement of VoLTE\" has been approved in [2]. This study item covers the
evaluation of potential enhancements for voice and video over LTE.
# 1 Scope
The present document captures the findings of the study on voice and video
enhancement for LTE.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] RP-160563: \"New SI proposal: Study on enhancement of VoLTE\". CMCC,
Huawei, China Telecom.
[3] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia Telephony;
Media handling and interaction\".
[4] RFC 2481: \"A Proposal to add Explicit Congestion Notification (ECN) to
IP\".
[5] R2-162650: \"Analysis on ECN-triggered codec adaptation solution\",
Huawei.
[6] R2-162214: \"Considerations on Vocoder Rate Adaptation\", Qualcomm.
[7] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[8] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[9] 3GPP TS 23.272: \"Circuit Switched (CS) fallback in Evolved Packet System
(EPS); Stage 2\".
[10] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[11] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[12] R2-165194: \"On eNB awareness of EVS codec for coverage and mobility
enhancements\", Qualcomm Incorporated.
[13] R2-165792: \"UE Indication of C-DRX Deactivation for VoLTE\", Qualcomm
Inc., Apple Inc., AT&T Inc., Motorola Solutions Inc., the U.S. Department of
Commerce, Verizon.
[14] R2-164992: \"Video signalling related enhancements\", Intel Corporation.
[15] R1-167671: \"VoLTE quality improvements \", Ericsson.
[16] R1-167442: \"Performance evaluation of coverage enhancements for
VoLTE/video quality\", China Telecom.
[17] R1-167103: \"Evaluation results of coverage enhancement schemes for
eVoLTE\", CMCC.
[18] R1-166188: \"Overview of the eVoLTE coverage enhancement technologies\",
Huawei, HiSilicon.
[19] R1-166549: \"Evaluation of VoLTE support for Cat M1 UEs\", Intel
Corporation.
[20] R1-164566: \"LS on VoLTE and video quality related enhancements\",
Ericsson.
[21] R1-164579: \"VoLTE/video quality related enhancements\", Ericsson.
[22] GSM PRD IR.92: "IMS profile for Voice and SMS".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**example:** text used to clarify abstract rules by applying them literally.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
AMR Adaptive Multi-Rate
AMR-WB Adaptive Multi-Rate -- WideBand
APP APPlication-defined RTCP packet
CMR Codec Mode Request
ECN Explicit Congestion Notification
ECN-CE ECN Congestion Experienced
ECT ECN-Capable Transport
E-UTRA Evolved UTRA
EVS Enhanced Voice Services
E2E End-to-End
ICM Initial Codec Mode
LTE Long Term Evolution
RAN Radio Access Network
RTCP RTP Control Protocol
RTP Real-time Transport Protocol
VoLTE Voice over LTE
# 4 Objectives and requirements
The objective of the study on voice and video enhancement for LTE is to
investigate the potential RAN enhancements to:
\- enable VoLTE/video codec mode and codec rate selection and change over
E-UTRA;
\- improve the VoLTE/video quality perceived by the user by reducing packet
loss or allowing the use of higher codec rate;
\- prioritize VoLTE/video access and/or VoLTE/video related signaling and
reduce call drop probability.
The study on enhancement should be considered in the following areas:
\- Investigate mechanisms that are applicable to different codec types
including AMR, EVS and video in both downlink and uplink to enable:
\- Codec mode and rate selection at call setup
\- Codec rate adaptation during an on-going call
\- Coder adaptation can be triggered cell-wide or on a per-UE or per DRB basis
\- Up/down-side tuning of codec rate
\- Enhancements that improve the VoLTE/video quality perceived, focusing on:
\- Identify if it is possible to re-use the coverage enhancement techniques
that have been already discussed in previous releases
\- Identify possible further enhanced HARQ for TTI bundling beyond Rel-12
enhancements
\- Enhancements to prioritize VoLTE/video access and/or VoLTE/video related
signaling and reduce call drop probability (e.g. potential call drop during
mobility) by signalling enhancement for VoLTE/video.
NOTE 1: The focus should be on the E-UTRAN based enhancement. The expected
solution should have no or minor impact on the core network. This study on
codec adaptation requires coordination with SA4 and potentially other working
groups in SA and CT.
NOTE 2: In case the time is limited, the study on the voice aspects has high
priority than that on the video aspects.
# 5 Codec mode/rate selection/adaptation
## 5.1 Identified problems of existing mechanisms
ECN is a congestion indication mechanism which indicates congestion by means
of IP-packet marking. It needs all network nodes on the routing path to behave
correctly. If any node on the routing path does not support ECN, or it does
not understand the meaning of ECN-Capable Transport (ECT) codepoint, ECN
mechanism may not work correctly.
## 5.2 Design Principles
During the study, following principles should be considered when developing
the candidate solutions:
\- The candidate solutions should be RAN-involved.
\- Any rate adaptation mechanism introduced by RAN can co-exist with the rate-
adaptation mechanisms specified in TS 26.114 [3].
\- Any rate adaptation mechanism introduced by RAN should explicitly indicate
the recommended bit rate (e.g. maximum bitrate for service of the UE could
use), which can be used for both codec rate increase and codec rate decrease
cases.
\- The candidate solution should be able to avoid excessive ping-pong tuning.
\- Solutions for codec rate adaptation should take into account the radio
conditions in both ends of the communication path.
When evaluating the potential solutions, the following criteria should be
considered:
\- Independence of application specific information
\- Response time and possibility to adapt to the available transport capacity.
\- RAN resource efficiency.
\- Robustness of the RAN rate information to transmission errors.
\- Robustness to increased call set-up time and call drop probability.
\- Independence of cross layer information.
\- Possibility for per-user service differentiation
\- Flexibility to base the rate recommendation on several different RAN
characteristics
\- Security
## 5.3 Use cases
This section provides the use cases for RAN interaction with the application
layer for codec rate selection and adaptation. Unless explicitly stated in the
use cases, the steps are equally applicable to the voice media in VoLTE and
the individual voice and video media.
### 5.3.1 Codec mode and rate selection at call setup
The use case was not studied entirely due to limited time.
### 5.3.2 Codec rate adaptation during an on-going call
The RAN-involved codec adaptation solutions enable the eNB to send codec
adaptation indication with the explicitly recommended bit-rate information to
help UE to select or adapt a proper codec rate.
#### 5.3.2.1 Uplink codec rate decrease
The eNB can send a codec adaptation indication with the explicitly recommended
bit-rate information to the UE for its uplink transmission. The uplink codec
rate could be decreased taken the recommendation as one input. An exemplary
procedure is shown as below Figure 5.3.2.1-1.
Figure 5.3.2.1-1: Uplink codec rate decrease
Step 0: On-going call with UE-1 send bit rate R0.
Step 1: eNB-1 determines to recommend UE-1 to decrease the codec bit rate due
to e.g. poor radio condition or network congestion detected in uplink
transmission direction.
Step 2: eNB-1 sends a message with the recommended bit rate to UE-1 for its
uplink transmission.
Step 3: UE-1 takes the recommended bit rate as one input to adapt the codec
bit rate on its uplink transmission direction;
Step 4: UE-1 sends an application layer message to UE-2 to notify the changed
codec bit rate (optional).
Step 5: UE-1 sends bit rate is equal to R1 \ R0.
#### 5.3.2.4 Downlink codec rate increase
The eNB can send a codec adaptation indication with the explicitly recommended
bit-rate information to the UE for its downlink transmission, and the downlink
codec bit rate could be decreased taken the recommendation as one input. The
UE can send an application layer codec rate increase message (e.g. RTCP or RTP
CMR) to the peer UE for negotiating a higher codec bit rate. An exemplary
procedure is shown as below Figure 5.3.2.4-1.
Figure 5.3.2.4-1: Downlink codec rate increase
Step 0: On-going call with UE-2 send bit rate R0.
Step 1: eNB-1 determines to recommend UE-1 to increase the codec bit rate due
to e.g. good radio conditions or network congestion recovery detected in
uplink transmission direction.
Step 2: eNB-1 sends a message with a recommended bit rate R1 to UE-1 for its
downlink transmission.
Step 3: UE-1 takes the recommended bit rate as one input to adapt codec bit
rate on its downlink transmission direction.
Step 4: (optional) UE-1 sends an application layer message to UE-2 with
recommended UE-2 send bit-rate R1.
Step 5: (optional) UE-2 takes the recommended bit rate indicated in
application layer message as one input to adapt codec bit rate on its uplink
transmission direction.
Step 6 (optional): UE-2 retrieves a recommended bit rate from eNB-2, which may
be \ R0.
## 5.4 Candidate solutions
In case an eNB determines to recommend a UE in RRC_CONNECTED mode to modify
the bit rate due to e.g. poor radio conditions or network congestion detected
in the uplink or downlink transmission direction, it may signal a recommended
bit rate to that UE. The UE may use the recommended bit rate as an input to
initiate an end-to-end rate adaptation by sending an application layer message
(e.g. RTCP or RTP CMR) to the peer UE or the concerning media GW. Accordingly,
the peer UE may retrieve a recommended bit rate from its serving eNB to ensure
end-to-end codec adaptation.
Regarding the provision and delivery of the recommended bit rate from eNB to
UE, there are four alternatives that are studied, as described in the
following sections.
### 5.4.1 Dedicated RRC signaling based solution
The eNB indicates the recommended bit rate to the UE via dedicated RRC
signaling, e.g. in case of poor radio conditions or network congestion.
For the use cases in Sections 5.3.2 1 -- 5.3.2.4, the UL and DL recommended
bit rate indication in Step 2 is conveyed by dedicated RRC signaling, e.g.
_RRCConnectionReconfiguration_ from the eNB to the UE.
### 5.4.2 Broadcast based bit rate adaptation
This approach is to assist UE to adjust bit rate based on broadcast signaling
when a VoLTE/video call is initiated or on-going. With this mechanism, network
can consider the load in the cell and broadcast the mapping relationship
between recommended bit rates and channel conditions via system information.
When initiating VoLTE/video call or during an on-going call, UE determines the
recommended bit rate corresponding to the measured channel conditions and
negotiates with the peer UE based on SIP procedure.
The detail procedure is as follows:
Figure 5.4.2-1: Broadcast based bit rate adaptation mechanism
Step 1: eNB decides the mapping relationship of the bit rates/highest bit rate
corresponding to each channel condition scope considering the load in the
cell.
Step 2: eNB broadcasts the mapping relationship to UEs.
Step 3: UE performs the measurements, and determines the recommended bit rates
from the broadcast information based on the measurements.
Step 4: UE performs legacy SIP signaling or application layer bit rate
negotiation with the peer UE considering the recommended bit rates determined
in step 3.
### 5.4.3 MAC Control Element
The UL and DL rate indication in Step 2 of the use cases in Sections 5.3.2 1
-- 5.3.2.4 is conveyed as a MAC Control Element (CE) from the eNB to the UE.
The bit rate recommendation retrieval in Step 5 of the use case in 5.3.2.3 and
Step 6 of the use case 5.3.2.4 uses the MAC Control Element as a combination
of a UE UL or DL bit rate query and a corresponding eNB bit rate
recommendation as outlined in Figure 5.4.3-1.
Figure 5.4.3-1: UE UL or DL bit rate query and a corresponding eNB bit rate
recommendation
The recommended bit rate on an established radio bearer is provided with an
index to a table of bit rate values. It is indicated whether the bit rate
recommendation is in the uplink or downlink.
The response from the eNB to the UE uses the same MAC CE as for the bit rate
recommendation from the eNB to the UE as described above. The eNB may respond
with a bit rate either equal, lower, or higher than the bit rate included in
the query from the UE. The eNB may also send a response with reject for the
query for a recommended bit rate.
### 5.4.4 Application layer based solution
Figure 5.4.4-1: Application layer based solution
The application layer based solution is the network triggered CMR/TMMBR
solution.
The eNB knows which DRB is using speech or video service. In order to change
the DL/UL bit rate of the DRB, the eNB can construct a CMR message for speech
or a TMMBR message for video which is sent to the target UE. The UE(s)
receiving the bit rate change request message will trigger the codec mode/bit
rate change in-return. The CMR/TMMBR message sent by the eNB can be per DRB or
per UE. The UE receiving the change request of codec mode/bit rate will
trigger the SIP signalling procedure to negotiate the new code mode/bit rate
with the target UE, according to [3].
## 5.5 Evaluations and Conclusions
The use cases for RAN interaction with the application layer for bit rate
selection and adaptation are presented in Section 5.3.2. The information,
described in the use cases, may be exchanged between the eNB and the UE on
different layers. In Table 5.5-1, we consider broadcast and unicast, via MAC,
PDCP, and RRC layers, to convey such information. For the PDCP layer, it is
considered that the information is conveyed with an application layer message
injected as an IP packet at the PDCP layer (e.g. an RTCP TMMBR message or an
RTCP APP message).
Table 5.5-1 compares these alternatives with reference to the evaluation
criteria provided in section 5.2.1.
Table 5.5-1: Comparison of different layers for eNB-to-UE bit rate information
exchange
+-------------+-------------+-------------+-------------+-------------+ | | MAC CE | PDCP | RRC IE | Broadcast | | | | application | | | | | | message | | | +-------------+-------------+-------------+-------------+-------------+ | Coexistence | Possible | Possible | Possible | Possible | | with E2E | | | | | | adaptation | | | | | +-------------+-------------+-------------+-------------+-------------+ | Explicit | Possible | Possible | Possible | Possible | | indication | | | | | | of | | | | | | recommended | | | | | | bit rate | | | | | +-------------+-------------+-------------+-------------+-------------+ | Codec | Possible | Voice and | Possible | Possible | | agnostic | | video | | | | | | requires | | | | | | different | | | | | | messages. | | | +-------------+-------------+-------------+-------------+-------------+ | I | Possible | May require | Possible | Possible | | ndependence | | service | | | | of | | specific | | | | application | | information | | | | specific | | (e.g. IP | | | | information | | address and | | | | | | port) to | | | | | | compose the | | | | | | application | | | | | | message. | | | +-------------+-------------+-------------+-------------+-------------+ | Response | Good | Good | Good | Medium | | time and | | | | | | accuracy | | | | | +-------------+-------------+-------------+-------------+-------------+ | RAN | Good | Medium | Medium | Poor | | resource | | | | | | efficiency | | | | | +-------------+-------------+-------------+-------------+-------------+ | Robustness | Good | RLC UM may | Good | Good | | of the RAN | | result in | | | | rate | | packet loss | | | | information | | | | | | to | | | | | | t | | | | | | ransmission | | | | | | errors | | | | | +-------------+-------------+-------------+-------------+-------------+ | Robustness | Good | Good if RLC | Medium | Good | | to | | UM is used | | | | increased | | | | | | call set-up | | | | | | time and | | | | | | call drop | | | | | | probability | | | | | +-------------+-------------+-------------+-------------+-------------+ | I | Yes | Partially | Yes | Yes | | ndependence | | | | | | of cross | MAC layer | PDCP layer | RRC layer | RRC layer | | layer | provides | may provide | may provide | may provide | | information | information | information | information | information | | (eNB) | on the link | on the DL | on link | on link | | | p | packet | p | p | | | erformance. | queue | erformance, | erformance, | | | | | e.g. RRM | e.g. RRM | | | | | me | me | | | | | asurements. | asurements. | +-------------+-------------+-------------+-------------+-------------+ | I | No | Yes | No | No | | ndependence | | | | | | of cross | Requires | | Requires | Requires | | layer | client | | client | client | | information | interface | | interface | interface | | (UE) | in UE to | | in UE to | in UE to | | | MAC layer | | RRC layer | RRC layer | | | information | | information | information | +-------------+-------------+-------------+-------------+-------------+ | Per-user | Possible | Possible | Possible | Not | | service | | | | possible | | diff | | | | | | erentiation | | | | | +-------------+-------------+-------------+-------------+-------------+ | Flexibility | Good | Good | Good | Poor | | of using | | | | | | different | | | | | | RAN | | | | | | char | | | | | | acteristics | | | | | +-------------+-------------+-------------+-------------+-------------+ | Security | No | Partially | Yes | No | | for bit | | | | | | rate | Integrity | No | Both | Integrity | | rec | protection | integrity | integrity | protection | | ommendation | and | protection | protection | and | | message | ciphering | in PDCP | and | ciphering | | | are not | layer since | ciphering | are not | | | available. | it is only | are | available. | | | | for the | available. | | | | | control | | | | | | plane | | | +-------------+-------------+-------------+-------------+-------------+
Based on the evaluation provided in Table 5.5-1, it is concluded that either
dedicated RRC signaling or MAC signaling can be used to recommended bit rate
to the UE as an input to initiate an end-to-end rate adaptation. The details
of the recommended solutions, e.g. the message types and formats, the format
of recommended bit rate and the UE assistance information, etc., are to be
further discussed in a follow-up work item.
# 6 VoLTE/video enhancements to improve access and signalling
## 6.1 Identified problems of existing mechanisms
This section describes the potential issues/scenarios discussed in this study.
### 6.1.1 Prioritization of Voice/Video call access
In case of network congestion (e.g. maximum number of users that can be
connected, poor radio conditions, etc), an operator may want to prioritize
Voice/Video access.
### 6.1.2 Prioritization of Voice/Video call signaling
During the study, the following scenarios have been discussed:
**Scenario 1** : Voice/Video call, SMS and RCS may use SIP signalling, but the
eNB may not be aware of what SIP signalling is for. In case of network
congestion, it may be beneficial for the network to handle SIP signalling for
Voice/video with higher priority compared to e.g. SIP signalling for SMS and
RCS.
During the study, it was not clear whether SIP signalling for SMS or RCS
blocking having an impact on the SIP signalling for voice/video is a frequent
scenario.
**Scenario 2** : For uplink transmission, if there are no UL resources
available, the UE sends SR first and BSR later. Based on the current
mechanism, it is not possible for the eNB to know whether SR/BSR is for
voice/video SIP signalling.
During the study, RAN2 agreed the following:
\- For initial voice call setup in idle mode, the UE shall indicate "MO Voice"
cause value.
\- For initial voice call setup in connected mode, SR/BSR is used to indicate
that the data is available if there is no UL grant. However, SR/BSR signalling
can be handled by eNB with the existing legacy scheduling prioritization
mechanism, i.e. this can be handled with a suitable network implementation.
### 6.1.3 Mobility related issues
During the study, following scenarios have been discussed:
**Scenario 1** :
When an IMS voice call for the terminating UE is under establishment or
established, and the terminating UE moves to 2G/3G which cannot support IMS
voice.
For this scenario, the terminating UE may be kept in LTE if SRVCC or CSFB
cannot be triggered in 2G/3G or the calling UE may redial to establish the IMS
voice call.
**Scenario 2** :
During an ongoing call, as part of intra-LTE handover, the UE may be moved by
source eNB from a tracking area with IMS voice support to a tracking area
without IMS support.
This scenario has been discussed in CT1 and it was agreed that if the
persistent EPS bearer is established, the UE shall keep the call or multi-
media session and delay subsequent NAS actions (related to disabling the
E-UTRAN capability and performing inter-system change, as indicated in [7]
until the persistent EPS bearer is normally or abnormally released;
**Scenario 3** :
When one frequency is used for the coverage layer which supports VoLTE whereas
another frequency is used for the capacity layer which does not support VoLTE.
The UE experiences RLF on the coverage layer when VoLTE call is ongoing, and
performs reestablishment on the capacity layer. Since the latter fails, the UE
performs reestablishment for the VoLTE call on coverage layer which results
increase of the interruption time and call setup delay.
Since this scenario is due to a specific deployment in one region, it was
agreed not to be addressed as part of this study;
**Scenario 4** :
Redirection is mainly useful in case that there are no available measurement
results in eNB. In this case, it makes sense for eNB to perform redirection
instead of handover. During redirection procedure, the eNB can only indicate
the frequency layer which can be independent from measurement results to the
UE. The UE can then select and access a suitable cell on the indicated
frequency layer during redirection. These principles of redirection should
also be applied to voice service. However, redirection for VoLTE will cause
call drop which needs to be addressed.
The voice call will drop during redirection procedure and the overall issue is
depicted as in the Figure 6.1.3-1.
Figure 6.1.3-1: Issue of redirection for VoLTE
1\. Upon eNB decision to perform redirection to another E-UTRAN frequency e.g.
due to mobility or load balancing, the eNB shall send UE CONTEXT RELEASE
REQUEST message with an appropriate cause value.
2\. The MME shall trigger the MME Initiated Dedicated Bearer Deactivation
procedure to delete the GBR voice bearer as specified in section 5.3.5 of TS
23.401[8]:
> _If the cause of S1 release is because of User I inactivity, Inter-RAT
> Redirection, the MME shall preserve the GBR bearers. If the cause of S1
> release is because of CS Fallback triggered, further details about bearer
> handling are described in TS 23.272 [9]. Otherwise, e.g. Radio Connection
> With UE Lost, S1 signalling connection lost, eNodeB failure the MME shall
> trigger the MME Initiated Dedicated Bearer Deactivation procedure (clause
> 5.4.4.2) for the GBR bearer(s) of the UE after the S1 Release procedure is
> completed._
>
> Since GBR voice bearer is deleted in the core network, the P-CSCF shall send
> SIP BYE 503 to the peer, which means that the voice call is dropped
> completely. As defined in TS 24.229[10], Clause 5.2.8.1.1,upon receipt of an
> indication that QoS or bearer resources are no longer available for a media
> negotiated in a multimedia session currently being established (e.g. an Rx
> interface message from PCRF) and if no SIP message removing the media for
> which resources are no longer available is received within an operator
> defined time after the reception of the indication, the P-CSCF shall cancel
> that dialog by responding to the original INVITE request with a 500 (Server
> Internal Error) response and also sends a Cancel message to notify the
> remote party the dialog has been cancelled e.g. by a 503 (Service
> Unavailable).
3\. The UE shall select and access a suitable cell in the frequency indicated
in the RRC Connection Release message.
4\. Since the GBR bearer has already been deleted in core network, after
redirection the voice call cannot be recovered. The user can re-dial the phone
number again. However, the related bearer needs to be setup from beginning,
which will spend several seconds. This will cause very bad user experience.
### 6.1.4 RAN related issues with conversational video calls
In case of UL congestion critical data in UL for conversational video calls
(real-time streaming) may be discarded at the PDCP layer. This may occur due
to following reasons [14].
Unlike VoLTE speech decoder, the video decoder is less robust against packet
loss. The quality of decoded frames (or picture) depends on the preceding
frames.
\- **I-frame (Intra Coded Picture)** : An I-frame is the key frame for a whole
video sequence. If an I-frame is lost or partially lost, the full video
sequence is lost until a new I-frame is received. It is perceived by the end-
user as a video freeze of typically a few seconds.
\- **P-frame (Predictive Coded Picture)** : The P-frame is the compressed
frame attached to the I-frame. If a P-frame is fully lost, the prediction
chain is broken and the video sequence is frozen until a new I-frame is
received. But if a P-frame is partially received, the frame and the following
frames may be decoded.
Furthermore, unlike VoLTE, the video bitrate is not constant and the size of
video frames (after H.264 encoding) may vary significantly. Therefore, in case
the UL radio conditions are not good or when the eNB scheduler allocates small
grants for video transmission (e.g. in case the cell is highly loaded), the
transmission time of I-frame is significantly longer than the average
transmission time of P-frames.
In the protocol stack I-/P-frames are mapped to RTP packets which are then
mapped to IP packets and PDCP SDUs. In PDCP, due to configured PDCP discard
timer, the life time of RTP packets is bounded and in UL channel congestion
case, some RTP packets may be discarded when they cannot be transmitted
successfully before PDCP discard timer expires. The I-frames are the ones with
the highest probability of packet discard since they are the longest frames.
Data of I-frames are the most critical data of the video bearer for the
perceived video quality at the receiving side. The, typical ratio of
I-frame/P-frame size = 4 to 5 or even more, therefore the transmission time of
I-frame is significantly longer than the average transmission time of
P-frames. Video bitrate adaptation may not resolve the problem. Also, lost RTP
packets need to be retransmitted based on received RTCP feedback from the
receiving side. But the RTCP feedbacks to be sent for the received video are
carried on the same bearer as the video data to be sent. Hence if the video
bearer queue is highly loaded (e.g. in case of UL congestion), these feedback
packets are delayed by pending video data and may be discarded due to PDCP
discard timer expiry. Therefore, these feedback packets could also be
considered as critical data, especially the RTCP Full Intra Request or Picture
Loss Indication and RTCP NACK.
Therefore in UL congestion or when UL radio conditions are not good, the means
to prioritize transmission of I-frame data and RTCP feedback packets over
P-frame data might be desirable.
If this problem is not addressed, some video freezes which are perceived by
the human eye may happen. For example, a ViLTE call with a CBP1.2 profile at
384kbps (as being the most common video profile for IMS); the UL radio channel
is throttled by reducing the number of physical Resource Blocks and the MCS so
that the effective bitrate at video application is only 250kbps.The receiver
detects this video bandwidth reduction and the video bitrate oscillates around
250 kbps. Therefore the following issues might be observed:
\- Very short video freezes: some I-frames are not fully transmitted by the
modem because of PDCP discard. On the receiver side, video decoding is stopped
until the video sender retransmits the missing I-frames.
\- Small video jumps: due to retransmission of the missing video data by the
video sender, the end-to-end latency increases suddenly and the video jitter
buffer throws away a few frames because they are too old to be played out.
\- Longer video freezes: the video data which have been discarded by PDCP are
not retransmitted by the video sender (because the I-frame to be retransmitted
is too old) or are retransmitted by the video sender but discarded again in
PDCP layer. The video freezes until the next I-frame.
## 6.2 Potential solutions
### 6.2.1 Prioritization of Voice/Video call access
Regarding the access of Voice calls:
\- MO voice call: RRC establishment cause value "_mo-VoiceCall-v1280_ " was
introduced from rel-12 for "mobile originating MMTEL voice calls"[11];
\- MT voice call: suitable network implementation can handle the access of MT
VoLTE call, e.g. by paging priority as:
\- The MME needs to identify the MT call, and only marks the paging for VoLTE
as high priority;
\- In congestion situation, the eNB may only send high priority paging;
\- The consequence is that all MT accesses are for VoLTE;
In view of above there is no need for additional mechanisms for prioritisation
of MO/MT voice call access.
Regarding the access of Video calls:
\- The following options have been considered for prioritizing the access of
MO Video calls:
\- Option 1: use MO voice cause value in MSG3 for MO video calls; Some
clarifications are needed in RAN2 and CT1 if MO voice cause value for MO video
call is allowed.
\- Pros: no ASN.1 impact;
\- Cons: NAS impacts, unclear handling at higher layers and cannot distinguish
access for Voice and Video in AS;
\- Option 2: introduce a new cause value for MO video call, e.g. in MSG3 or
MSG5; Some clarifications are needed in CT1 and SA1 on the usage of MO video
call value.
\- Pros: can distinguish access for Voice and Video in AS;
\- Cons: ASN.1 impact, NAS impacts, overlap with MMTEL video call type,
unclear handling at higher layers;
\- MT video call: suitable network implementation can handle the access of MT
Video call, e.g. by paging priority.
### 6.2.2 Signalling Enhancement to Support of Redirection
In order to address the issue caused by scenario 4 described in 6.1.3, a
straight way is to keep the voice bearer in both UE and core network during
redirection procedure as shown in Figure 6.2.2-1.
Figure 6.2.2-1: A potential solution to support redirection for VoLTE
1\. Upon eNB decision to perform redirection to another E-UTRAN frequency e.g.
due to mobility or load balancing, the eNB shall send UE CONTEXT RELEASE
REQUEST message with a new code point e.g. a new IE / cause value or reuse of
existing cause value.
2\. Upon receiving UE CONTEXT RELEASE REQUEST message with the new cause
value, the MME shall keep the voice GBR bearer for a while. The time of
keeping the voice GBR bearer should be long enough to allow the UE recovery
after redirection.
3\. On the UE side, if the UE receives the RRC Connection Release message with
redirection and the voice call is ongoing, the UE can keep the voice call in
the application layer. The existing UEs already support this function which
depends on their implementation.
4\. After the UE re-accesses the network, the voice GBR bearer can be
recovered immediately.
Compared with re-establishment of voice service as shown in Figure 6.1.3-1,
the solution in Figure 6.2.2-1 can reduce the delay about 3 seconds.
Note: in step 1, whether a new IE/cause value is used or an existing cause
value is reused should be discussed and decided in WID stage.
## 6.3 Evaluations and Conclusions
During the study of signalling enhancements, RAN2 made the following
agreements:
Prioritisation of access for Voice/Video call:
\- MO/MT voice call and MT video call: these can be handled with the existing
mechanisms and suitable network implementation;
\- MO video call: use MO voice cause value in MSG3 for MO video calls.
Priority handling for IMS video service is already well established across
network layers if MO voice cause value is used and distinction of video from
voice by adapting of a new establishment cause does not guarantee improved
priority handling at higher layers. Prioritisation of the signalling for
Voice/Video calls
\- Prioritisation of SIP signalling: no additional work is identified;
Enhancements on mobility related issues:
\- Scenarios 1-2 described in 6.1.3: these can be handled with the existing
solutions and suitable network implementation;
\- Scenario 3 described in 6.1.3: does not need to be addressed in this study;
\- Scenario 4 described in 6.1.3 (Call drop due to redirection): solution
described in 6.2.2 should be used to address the problem.
# 7 VoLTE/video enhancements to improve quality
## 7.1 Identified problems of existing mechanisms
This section describes the potential issues/scenarios discussed in this study.
### 7.1.1 Use case 1: Coverage enhancement
In order to improve VoLTE end user experience, mechanisms with high codec
rates are widely deployed. Voice quality strongly relies on the radio
transmission reliability, which may be critical in certain environments, such
as indoor scenario. 3GPP previously enhanced coverage specifically for 328bits
MAC PDUs of AMR12.2kbps and did not consider EVS, and with the introduction of
new eMTC feature in Rel-13, more potential coverage enhancement techniques are
possible to be used by VoLTE UEs.
### 7.1.2 Use case 2: eNB codec mode awareness
EVS offers partial redundancy based error robust channel aware mode at 13.2
kbps for both wideband and super-wideband audio bandwidths.
In a VoIP system, packets arrive at the decoder with random jitters in their
arrival time. Packets may also arrive out of order at the decoder. Since the
decoder expects to be fed a speech packet every 20 ms to output speech samples
in periodic blocks, a de-jitter buffer is required to absorb the jitter in the
packet arrival time. The channel aware mode combines the presence of a de-
jitter buffer with partial redundancy coding of a current frame which gets
piggy-backed onto a future frame. At the receiver, the de-jitter buffer is
polled to check if a partial redundant copy of the current lost frame is
available in any of the future frames. If present, the partial redundant
information is used to synthesize the lost frame which offers significant
quality improvements under low to high FER conditions. Source control is used
to determine which frames of input can best be coded at a reduced frame rate
(called primary frames) to accommodate the attachment of redundancy without
altering the total packet size. In this way, the channel aware mode includes
redundancy in a constant-bit-rate channel (13.2 kbps). The spacing between the
packet containing the primary frame and the future packet containing the
partial redundant frame determines the maximum burst error length that the
error resiliency mechanism can correct. This spacing is configurable but
defaults at 3 frames.
Table 7.1.2-1 lists the selected EVS modes, corresponding transport block size
(TBS) and BLER target based on the analysis from a source [12]. The quality
benchmark for this exercise was chosen to be AMR-WB 12.65 kbps at 1% target
BLER which is the "HD Voice" experience delivered by commercial 3GPP networks
at cell center. The BLER targets for the different EVS modes were chosen such
that the resulting voice quality is equal or better than AMR-WB @ 1% BLER.
Table 7.1.2-1: EVS modes and corresponding BLER targets to meet or exceed the
voice quality benchmark
* * *
EVS mode Transport Block Size Target BLER 7.2 kbps WB 208 1% 8 kbps WB 224 1%
9.6 kbps WB 256 1% 13.2 kbps WB Channel Aware (Ch-Aw) mode 328 6%
* * *
Packet Error Loss Rate is part of QoS information provided to E-UTRAN by means
of QoS Class Identifier (QCI), for the purpose of QoS enforcement at the eNB.
Likewise, the eNB hosting the VoLTE bearer could use the BLER target
information for the following purposes.
1\. Extending coverage/time in VoLTE by setting the threshold for handing over
to SRVCC at a higher BLER target
2\. Lowering UL transmit power of the UE with a higher BLER target
3\. Reducing the number of HARQ transmissions of the UE with a higher BLER
target
4\. Set the threshold for TTI bundling configuration and/or RLC segmentation
configuration
5\. Tearing down the call when this exceeds a PLR particular threshold.
However, there is no standardized way for the eNB to be made aware of the BLER
target of the VoLTE bearer which may be different depending on the codec mode.
### 7.1.3 Use case 3: UE preferred C-DRX Cycle reporting
The UE VoLTE application has to discard received VoLTE frames that exceed
maximum E2E delay[13]. Hence, even though the transmitter side VoLTE UE1
performs multiple UL HARQ retransmissions, the packets that experienced HARQ
retransmissions have long delay, hence these packets are subject to being
discarded. This effectively reduces the number of useful UL HARQ
retransmissions, hence reducing VoLTE coverage range. The receiver side eNB
controls RAN configurations that affect RAN level delay, but it is not aware
if the receiver side UE2 sees that the E2E VoLTE delay exceeds the maximum
delay. If the delay between the receiver side UE2 and receiver side eNB can be
reduced, the transmitter side UE 1's retransmissions may not be discarded.
## 7.2 Design Principles
During the study, following design principles have been considered when
developing the candidate solutions:
\- _Focus the study of VoLTE/video quality related enhancements on the
techniques introduced by the eMTC work item_.
\- _Focus the study of VoLTE/video quality related enhancements on the
techniques available in CE mode A (with/without SPS) for Cat-M1 and other UE
categories_.
The study should investigate the trade-off between packet delay budget and
achievable coverage to assess the benefits of VoLTE/video quality related
enhancements.
## 7.3 Candidate solutions
In RAN2#94 in Nanjing, an LS [20] was sent to RAN1 with an action to
investigate and evaluate the candidate solutions within the scope of
"extending packet delay budget" and "techniques introduced by Rel-13 eMTC work
item" for VoLTE. Section 7.3.1- 7.3.3 describes the candidate solutions which
were discussed in RAN1#86.
### 7.3.1 Relaxing air interface delay budget
Contributions [15][16][17][18][19] evaluated the gain from packet delay budget
relaxing, and remarkable coverage gain were observed, with the e2e delay still
within the tolerable limit.
### 7.3.2 Packet aggregation
Contributions [15][19] evaluated the packet aggregation. Both two options for
packet aggregation, RAN aggregation of RTP packets composed of one speech
frame and application encapsulation of several speech frames into one RTP
packet. In this way, the signalling overhead can be reduced. And VoLTE
coverage gain was observed with this mechanism.
### 7.3.3 Techniques from CE mode A
Contributions [15][16][18] evaluated the technologies from CE mode A. A couple
of solutions from CE mode A e.g. asynchronous UL HARQ transmission, different
repetition levels, and multi-subframe frequency hopping technique etc were
evaluated. The results show eMTC framework may give significant improvements
to the VoLTE coverage.
## 7.4 Evaluations and Conclusions
As stated in [21] for the recommended evaluation assumptions, the EVS 7.2 kbps
is used as the baseline speech codec for evaluation and evaluate the effect of
handling up to four speech frames in one transmission. Besides, in order to
evaluate possible coverage enhancements benefits, both RAN aggregates up to
four RTP packets with one speech frame encapsulated in one RTP packet and the
application encapsulating up to four packets in one RTP packet are considered.
Furthermore, full ROHC header compression is assumed, and BSR and PHR in each
transmission. The resulting required transport block size including PDCP, RLC,
and MAC headers for the different packet bundling strategies is presented in
Table 7.4-1.
Table 7.4-1: Recommended evaluation assumptions for VoLTE quality related
enhancements
* * *
Codec RAN aggregation (NOTE 1) Application encapsulation (NOTE 2) Payload
(NOTE 3) RTP header (ROHC) PDCP RLC MAC BSR PHR Inter tx time (ms) Total
(bytes) _TBS (bits) (NOTE 4)_ EVS 7.2kbps 1 1 18 3 2 2 1 4 2 20 32 256 EVS
7.2kbps 2 1 18*2 3*2 2*2 4 1 4 2 40 57 456 EVS 7.2kbps 3 1 18*3 3*3 2*3 5 1 4
2 60 81 648 EVS 7.2kbps 4 1 18*4 3*4 2*4 7 1 4 2 80 106 848 EVS 7.2kbps 1 2
19*2 3 2 2 1 4 2 40 52 _416_ EVS 7.2kbps 1 3 19*3 3 2 2 1 4 2 60 71 _568_ EVS
7.2kbps 1 4 19*4 3 2 2 1 4 2 80 90 _720_
* * *
NOTE 1: RAN aggregation of RTP packets each composed of one speech frame
NOTE 2: Application encapsulation of speech frames in one RTP packet may
require updates to the VoLTE service description in [3] and [22]
NOTE 3: For Payload, Compact Format is used for RAN aggregation and Header-
Full Format is used for Application encapsulation as described in Annex A of
TS 26.445
NOTE 4: Some of the TBS values do not match the valid TBS values in Table
7.1.7.2.1-1 in 36.213. It is assumed that lower layers will choose a suitable
TBS value, equal to or greater than the values in this column.
Typically a rather tight packet delay budget is assumed for conversational
services. While this is often required, there are also scenarios where a more
relaxed packet delay budget can be considered acceptable (perhaps allowing for
one-way delays of several hundred ms instead of 50-100 ms) if this means that
the service can be provided with a larger coverage. Accordingly, the study
investigates the possible trade-off between packet delay budget and achievable
coverage to provide a better understanding of this aspect.
After investigation and evaluation in RAN1#86, the response LS R1-168256 to
RAN2 LS R2-164566 was approved, in which RAN1 concluded the candidate
solutions above were beneficial for VoLTE coverage enhancement as follows:
1\. VoLTE coverage can be effectively enhanced by relaxing the air interface
delay budget. As an example, if the delay budget is extended to 100ms, about
1\~3dB coverage gain can be achieved compared with 50ms delay budget for full
duplex UEs. Extending maximum packet transmission time beyond 100ms can
further improve the coverage. Techniques that can be used to extend the
coverage if the air interface delay budget is relaxed are asynchronous UL HARQ
transmission and different repetition levels in combination with RTP packet
bundling.
a) Note that the performance can be significantly impacted by the assumption
of header compression.
2\. The multi-subframe frequency hopping technique that was specified in CE
mode A, which enables cross-subframe channel estimation, can be used to
enhance the VoLTE coverage effectively.
3\. The coverage for half-duplex FDD UEs is less than the coverage for full-
duplex UEs. In order to maximize the VoLTE coverage that can be achieved in
half-duplex FDD, opportunities to optimize the UL/DL resource utilization have
been identified e.g. through techniques to reduce DL repetitions, new
repetition factors, and adjusted scheduling delay.
Note more details including the necessary information exchange and
configuration between the UE and eNB on the Uu interface to enable the above
solution need further work in the work item phase.
# 8 Conclusions and Recommendations
Regarding the codec mode/rata selection and adaptation, based on the
discussion in the study item, the study concluded that:
1\. The problems for the use case of codec rate adaptation during an on-going
call have been identified and agreed to address.
2\. From RAN perspective, a RAN-assisted solution is beneficial and feasible,
and the corresponding solution could be elaborated in general as follows:
In case an eNB determines to recommend a UE in connected-mode to modify the
bit rate due to e.g. poor radio condition or network congestion detected in
uplink or downlink transmission direction, it can signal the UE with the
recommended bit rate. The UE may then use this recommended bit rate as an
input to initiate an end-to-end rate adaptation, e.g. by sending an
application layer message (e.g. RTCP or RTP CMR) to the peer UE or the
concerning media GW. Accordingly, the peer UE may further retrieves a
recommended bit rate from its serving eNB to ensure an end-to-end codec
adaptation.
3\. Either dedicated RRC signaling or MAC signaling can be used to perform
codec adaptation procedure.
4\. The details of the recommended solutions, e.g. the message types and
formats, the format of recommended bit rate and the UE assistance information,
etc., are to be further discussed in a follow-up work item.
Regarding the signalling optimization, based on the discussion in the study
item, the study concluded as follows:
1\. For the use case of prioritization of MO Video call over e.g. MO
data/signalling,
a) The recommended solution is to use the MO voice cause value in MSG3 for MO
video calls and hence additional clarifications are needed in RAN2 and CT1.
2\. For the mobility related use cases,
a) The recommended solution is to keep the voice bearer in both UE and core
network during redirection procedure and hence additional clarifications are
needed in RAN3 and SA2 as shown in section 6.2.2.
Regarding the VoLTE/video enhancements to improve quality, based on the
discussion in the study item, the study concluded as follows:
1\. VoLTE coverage can be effectively enhanced by relaxing the air interface
delay budget. As an example, if the delay budget is extended to 100ms, about
1\~3dB coverage gain can be achieved compared with 50ms delay budget for full
duplex UEs. Extending maximum packet transmission time beyond 100ms can
further improve the coverage. Techniques that can be used to extend the
coverage if the air interface delay budget is relaxed are asynchronous UL HARQ
transmission and different repetition levels in combination with RTP packet
bundling.
Note that the performance can be significantly impacted by the assumption of
header compression.
2\. The multi-subframe frequency hopping technique that was specified in CE
mode A, which enables cross-subframe channel estimation, can be used to
enhance the VoLTE coverage effectively.
3\. The coverage for half-duplex FDD UEs is less than the coverage for full-
duplex UEs. In order to maximize the VoLTE coverage that can be achieved in
half-duplex FDD, opportunities to optimize the UL/DL resource utilization have
been identified e.g. through techniques to reduce DL repetitions, new
repetition factors, and adjusted scheduling delay.
The corresponding details as mentioned above are recommended to be further
developed in a follow-up work item.
NOTE: The use cases described in Section 5.3.1, 6.1.2, 6.1.4 ,7.1.2 and 7.1.3
of this TR are not considered in this section since they are not fully
studied.
###### ### Annex A: ECN-based codec rate adaptation mechanism
# A.1 ECN-based codec rate selection at call set-up
According to the Initial Codec Mode (ICM) scheme specified in TS 26.114 [3]
the sending side always starts out with a low codec rate (this can be
configured by the MNO using the ICM/INITIAL_CODEC_RATE parameter). After an
initial measurement period and RTCP receiver reports indicating "good
channel", the sending side will attempt to up-switch the codec rate. If a
media-receiver receives RTP packets with ECN-CE markings during the up switch
phase, it may send an application layer rate control message to the media-
sender so that it decreases its sending bit rate. Otherwise, the up-switch of
the codec rate succeeds. It is estimated that the target codec rate would be
selected within 700-1500 milliseconds.
As defined in TS 26.114 [3], the following rules apply for ICM (Initial Codec
mode) selection for AMR and AMR-WB.
\- If 1 codec mode is included in the mode-set, this should be the ICM.
\- If 2 or 3 codec modes are included in the mode-set, the ICM should be the
codec mode with the lowest rate.
\- If 4 or more codec modes are included in the mode-set, the ICM should be
the codec mode with the 2nd lowest rate.
The ICM and ECNrules are defined for the AMR and AMR-WB codecs in TS 26.114
[3]. There has not been any ECN procedure specified for the EVS codec.
# A.2 ECN-based codec rate adaptation at on-going session
The Rel-9 and Rel-10 work items on speech and video rate adaptation specified
the use of ECN mechanism as one option.
After ICM selection, ECN can be used for codec adaptation. Two bits in the ToS
field in IP header are used for ECN marking. As defined in [4], these two bits
are set to '00'when ECN is not supported. If ECN is supported, these two bits
are set to '01' or '10'. These two bits are set to '11' when congestion is
detected. The detailed procedures are provided in [6] as shown below.
Figure A.2-1: Codec rate adaptation procedure for downlink direction
In the downlink direction, when network congestion is detected, the eNB should
set the ECN-CE codepoint ('11') in PDCP SDUs to indicate downlink (radio)
congestion. If ECN-CE is detected in the received PDCP SDU, UE shall send
application specific adaptation request to the peer (UE) by using RTCP APP or
CMR in RTP payload to request rate reduction. Based on the adaptation request
from the UE, the peer (UE) performs the corresponding media bit-rate
adaptation.
Figure A.2-2: Codec rate adaptation procedure for uplink direction
Similar to the downlink, in the uplink direction, when network congestion is
detected, the eNB should set the ECN-CE codepoint ('11') in IP packet to
indicate uplink (radio) congestion. The IP packet with ECN-CE marking is then
sent to the peer (UE) through CN. If ECN-CE is detected in the received PDCP
SDU, the peer (UE) shall send application specific adaptation request to the
UE by using RTCP APP or CMR in RTP payload to request rate reduction. Based on
the adaptation request from the peer (UE), the UE performs the corresponding
media bit-rate adaptation.
#