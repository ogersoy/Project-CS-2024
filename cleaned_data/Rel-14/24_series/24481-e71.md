# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the group management protocols needed to
support Mission Critical Services (MCSs).
Group management applies only when the UE operates on the network.
MCSs are services that require preferential handling compared to normal
telecommunication services, e.g. in support of police or fire brigade.
MCSs can be used for public safety applications and also for general
commercial applications (e.g., utility companies and railways).
The present document is applicable to User Equipment (UE) supporting the group
management client (GMC) functionality, to application server supporting the
group management server (GMS) functionality, and to application server
supporting the Mission Critical Push To Talk (MCPTT) server functionality.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] OMA OMA-TS-XDM_Core-V2_1-20120403-A: \"XML Document Management (XDM)
Specification\".
[3] OMA OMA-TS-XDM_Group-V1_1_1-20170124-A: \"Group XDM Specification\".
[4] 3GPP TS 23.179: \"Functional architecture and information flows to support
mission critical communication services\".
[5] 3GPP TS 24.379: \"Mission Critical Push To Talk (MCPTT) call control
Protocol specification\".
[6] IETF RFC 4745: \"Common Policy: A Document Format for Expressing Privacy
Preferences\".
[7] 3GPP TS 24.334: \"Proximity-services (ProSe) User Equipment (UE) to ProSe
function protocol aspects; Stage 3\".
[8] IETF RFC 1166: \"Internet Numbers\".
[9] IETF RFC 5952: \"A Recommendation for IPv6 Address Text Representation\".
[10] 3GPP TS 24.482: \"Mission Critical Services (MCS) identity management;
Protocol specification\".
[11] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[12] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[13] IETF RFC 5875: \"An Extensible Markup Language (XML) Configuration Access
Protocol (XCAP) Diff Event Package\".
[14] IETF RFC 6050: \"A Session Initiation Protocol (SIP) Extension for the
Identification of Services\".
[15] void.
[16] IETF RFC 3830: \"MIKEY: Multimedia Internet KEYing\".
[17] IETF RFC 6043: \"MIKEY-TICKET: Ticket-Based Modes of Key Distribution in
Multimedia Internet KEYing (MIKEY)\".
[18] IETF RFC 6509: \"MIKEY-SAKKE: Sakai-Kasahara Key Encryption in Multimedia
Internet KEYing (MIKEY)\".
[19] OMA OMA-SUP-XSD_poc_listService-V1_0_2: \"PoC - List Service\", version
1.0.2.
[20] IETF RFC 4566: \"SDP: Session Description Protocol\".
[21] IETF RFC 2616: \"Hypertext Transfer Protocol -- HTTP/1.1\".
[22] IETF RFC 4825: \"The Extensible Markup Language (XML) Configuration
Access Protocol (XCAP)\".
[23] 3GPP TS 23.280: \"Common functional architecture to support mission
critical services; Stage 2\".
[24] 3GPP TS 23.281: \"Mission Critical Video (MCVideo); Stage 2\".
[25] 3GPP TS 23.282: \"Mission Critical Data (MCData); Stage 2\".
[26] 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling control;
Protocol specification\".
[27] 3GPP TS 24.282: \"Mission Critical Data (MCData) signalling control;
Protocol specification\".
[28] IETF RFC 4826: \"Extensible Markup Language (XML) Formats for
Representing Resource Lists\".
[29] 3GPP TS 33.180: \"Security of the mission critical service\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**MCS group** : An MCPTT group, an MCVideo group or an MCData group.
**MCPTT group** : A group supporting the MCPTT service.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.280 [23] apply:
**MC service (MCS) group identity (ID)**
**MC service (MCS) server**
**MC service (MCS) user identity (ID)**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.179 [4] apply:
**MCPTT group identity**
**MCPTT server**
**MCPTT service**
**MCPTT user identity**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.281 [24] apply:
**MCVideo group**
**MCVideo group id**
**MCVideo server**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.282 [25] apply:
**MCData group**
**MCData group id**
**MCData server**
For the purposes of the present document, the following terms and definitions
given in OMA OMA-TS-XDM_Group-V1_1_1 [3] apply:
**Group**
**XDMC**
**Group XDMS**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.228 [11] apply:
**Public Service Identity**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 33.180 [29] apply:
**Group Master Key (GMK)**
**Group Master Key Identifier (GMK-ID)**
**Multicast Key for Floor Control (MKFC)**
**Identifier of Multicast Key for Floor Control (MKFC-ID)**
**Multicast Signalling Key (MuSiK)**
**Multicast Signalling Key Identifier (MuSiK-ID)**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
GC General Client
GKTP Group Key Transport Payload
GMC Group Management Client
GMOP Group Management OPeration
GMS Group Management Server
HTTP HyperText Transfer Protocol
ICSI IMS Communication Service Identifier
ID IDentifier
IETF Internet Engineering Task Force
MCS Mission Critical Service
MCSs Mission Critical Services
MCPTT Mission Critical Push To Talk
MIME Multipurpose Internet Mail Extensions
OMA Open Mobile Alliance
UE User Equipment
URI Uniform Resource Identifier
XDMC XML Document Management Client
XDMS XML Document Management Server
XML eXtensible Markup Language
# 4 General
The present document enables a group management client (GMC) and a mission
critical service (MCS) server to manage group documents in a group management
server (GMS).
# 5 Functional entities
## 5.1 Group management client (GMC)
To be compliant with the procedures in the present document, a GMC:
\- shall support the role of XCAP client as specified in IETF RFC 4825 [22];
\- shall support the role of XDMC as specified in OMA OMA-TS-XDM_Group-V1_1_1
[3];
\- shall support the procedure in subclause 6.2.3;
\- may support the procedure in subclause 6.3.2.2.2;
\- shall support the procedure in subclause 6.3.3.2.2;
\- may support the procedure in subclause 6.3.4.2.2;
\- may support the procedure in subclause 6.3.5.2.2;
\- may support the procedure in subclause 6.3.6.2.2;
\- may support the procedure in subclause 6.3.7.2.2;
\- may support the procedure in subclause 6.3.8.2.2;
\- may support the procedure in subclause 6.3.9.2.2;
\- may support the procedure in subclause 6.3.10.2.2;
\- may support the procedure in subclause 6.3.11.2.2;
\- may support the procedure in subclause 6.3.12.2.2;
\- shall support the procedure in subclause 6.3.13.2.1;
\- may support the procedure in subclause 6.3.14.2;
\- may support the procedure in subclause 6.3.15.2; and
\- shall support the procedure in subclause 6.3.16.2.
## 5.2 Group management server (GMS)
To be compliant with the procedures in the present document, a GMS:
\- shall support the role of XCAP server as specified in IETF RFC 4825 [22];
\- shall support the role of Group XDMS as specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3];
\- shall support the procedure in subclause 6.2.5;
\- shall support the procedure in subclause 6.3.2.3;
\- shall support the procedure in subclause 6.3.3.3;
\- shall support the procedure in subclause 6.3.4.3;
\- shall support the procedure in subclause 6.3.5.3;
\- shall support the procedure in subclause 6.3.6.3;
\- shall support the procedure in subclause 6.3.7.3;
\- shall support the procedure in subclause 6.3.8.3;
\- shall support the procedure in subclause 6.3.9.3;
\- shall support the procedure in subclause 6.3.10.3;
\- shall support the procedure in subclause 6.3.11.3;
\- shall support the procedure in subclause 6.3.12.3;
\- shall support the procedure in subclause 6.3.13.2.3;
\- shall support the procedure in subclause 6.3.13.3;
\- shall support the procedure in subclause 6.3.14.3;
\- shall support the procedure in subclause 6.3.15.3; and
\- shall support the procedure in subclause 6.3.16.3.
## 5.2A MCS server
To be compliant with the procedures in the present document, an MCS server:
\- shall support the role of XCAP client as specified in IETF RFC 4825 [22];
\- shall support the role of XDMC as specified in OMA OMA-TS-XDM_Group-V1_1_1
[3];
\- shall support the procedure in subclause 6.2.4;
\- shall support the procedure in subclause 6.3.3.2.3; and
\- shall support the procedure in subclause 6.3.13.2.2.
## 5.3 MCPTT server
To be compliant with the procedures in the present document, an MCPTT server
shall support role of an MCS server as specified in subclause 5.2A.
## 5.4 MCVideo server
To be compliant with the procedures in the present document, an MCVideo server
shall support role of an MCS server as specified in subclause 5.2A.
## 5.5 MCData server
To be compliant with the procedures in the present document, an MCData server
shall support role of an MCS server as specified in subclause 5.2A.
# 6 Procedures
## 6.1 Introduction
This clause specifies procedures enabling a group management client (GMC) and
an MCS server to manage group documents in a group management server (GMS).
## 6.2 Common procedures
### 6.2.1 General
This subclause contains common procedures applied on HTTP signalling specified
in the present document.
### 6.2.2 General client (GC) procedures
#### 6.2.2.1 General
GC procedures are usable by both GMC and MCS server.
#### 6.2.2.2 Accessing group document by group ID
In order to address an existing group document defining a group ID known by
GC, the GC shall set the Request-URI of an HTTP request to a XCAP URI
identifying a group document addressed by a group ID as described in subclause
7.2.10.2, where the group ID is set to the group ID known by GC and where the
XCAP root URI is the XCAP root URI configured in the GC.
### 6.2.3 Group management client (GMC) procedures
The GMC shall send the HTTP request over a TLS connection as specified for the
HTTP client in the UE in annex A of 3GPP TS 24.482 [10].
The GMC shall perform the procedures in subclause 6.2.2 specified for GC.
### 6.2.4 MCS server procedures
The MCS server shall send the HTTP request as specified for the HTTP client in
the network entity in annex A of 3GPP TS 24.482 [10].
The MCS server shall perform the procedures in subclause 6.2.2 specified for
GC.
### 6.2.5 Group management server (GMS) procedures
#### 6.2.5.1 General
The GMS shall handle the HTTP request as specified for the HTTP server in
annex A of 3GPP TS 24.482 [10].
The GMS server shall send the HTTP request as specified for the HTTP client in
the network entity in annex A of 3GPP TS 24.482 [10].
The GMS shall be configured with own public service identity for accessing
documents.
The GMS shall be configured with an authorized GMS list, containing:
a) own public service identity for accessing documents; and
b) public service identities for accessing documents of GMSs of MCS providers
which are partners of the MCS provider of the GMS.
The GMS shall be configured with an authorized MCS server list, containing
public service identities of MCS servers of the MCS provider of the GMS.
#### 6.2.5.2 Configuration for access to group document of another MCS
provider or to MCS GKTP document of another MCS provider
The GMS shall be configured with a group ID routing database. The group ID
routing database consists of mapping of a group ID of another MCS provider to:
a) an XCAP root URI of the MCS provider; and
b) a public service identity for accessing documents of the MCS provider.
#### 6.2.5.3 Forwarding HTTP request accessing a group document of other MCS
provider
If the GMS receives an HTTP request with Request-URI identifying a group
document addressed by a group ID as described in subclause 7.2.10.2 and the
group ID in the Request-URI identifies a group of another MCS provider, then
GMS:
a) shall derive XCAP root URI of the other MCS provider using the group ID
routing database as specified in subclause 6.2.5.2 and the group ID in the
Request-URI;
b) shall replace the XCAP root URI of the Request URI with the derived XCAP
root URI of the other MCS provider;
c) if the X-3GPP-Asserted-Identity header field is not present in the received
HTTP request, shall insert an X-3GPP-Asserted-Identity header field with the
identity of the sender of the HTTP request determined as specified in 3GPP TS
24.482 [10];
d) if the Authorization header field is present in the received HTTP request,
shall remove the Authorization header field from the HTTP request; and
e) shall forward the HTTP request.
#### 6.2.5.4 Authenticated identity in HTTP request
When handling an HTTP request, the GMS shall determine the identity of the
sender of the HTTP request as specified in 3GPP TS 24.482 [10], and shall use
the identity of the sender of the HTTP request as an authenticated identity
when performing the authorization:
## 6.3 Group management procedures
### 6.3.1 General
The following procedures are defined for management of group documents:
\- group document creation procedure;
\- group document retrieval procedure;
\- group document update procedure;
\- group document deletion procedure;
\- group document element creation or replacement procedure;
\- group document element deletion procedure;
\- group document element fetching procedure;
\- group document attribute creation or replacement procedure;
\- group document attribute deletion procedure;
\- group document attribute fetching procedure;
\- group document namespace binding fetching procedure;
\- group document subscription and notification procedure;
\- temporary MCS group formation procedure;
\- temporary MCS group tear down procedure; and
\- group document excluding group members retrieval procedure.
NOTE: CSC-3 part of MCS group affiliation procedure and CSC-3 part of MCS
group de-affiliation procedure are not specified in this version of the
present document.
### 6.3.2 Group document creation procedure
#### 6.3.2.1 General
This procedure enables the GMC to create a group document in GMS.
#### 6.3.2.2 Client procedures
##### 6.3.2.2.1 General client (GC) procedures
In order to create a group document, a GC shall create an XML document of the
application usage specified in subclause 7.2.1 and shall send the XML document
to the network according to procedures specified in IETF RFC 4825 [22]
\"_Create or Replace a Document_ \". The GC shall set the Request-URI of the
HTTP PUT request to an XCAP URI in users tree where the XUI is set to a group
creation XUI configuration parameter.
##### 6.3.2.2.2 Group management client (GMC) procedures
In order to create a group document, a GMC shall perform the procedures in
subclause 6.3.2.2.1 specified for GC.
#### 6.3.2.3 Group management server (GMS) procedures
A GMS shall support receiving an XML document of the application usage
specified in subclause 7.2.1 according to procedures specified in IETF RFC
4825 [22] \"_PUT Handling_ \" where the Request-URI of the HTTP PUT request
identifies an XML document of the application usage specified in subclause
7.2.
### 6.3.3 Group document retrieval procedure
#### 6.3.3.1 General
This procedure enables the GMC or the MCS server to retrieve a group document
from the GMS.
#### 6.3.3.2 Client procedures
##### 6.3.3.2.1 General client (GC) procedures
In order to retrieve a group document, a GC shall send an HTTP GET request
with the Request URI that references the document to be retrieved to the
network according to procedures specified in IETF RFC 4825 [22] \"_Fetch a
Document_ \".
##### 6.3.3.2.2 Group management client (GMC) procedures
In order to retrieve a group document, a GMC shall perform the procedures in
subclause 6.3.3.2.1 specified for GC.
##### 6.3.3.2.3 MCS server procedures
In order to retrieve a group document, an MCS server shall perform the
procedures in subclause 6.3.3.2.1 specified for a GC.
#### 6.3.3.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_GET Handling_ \" where the
Request-URI of the HTTP GET request identifies an XML document of the
application usage specified in subclause 7.2.
### 6.3.4 Group document update procedure
#### 6.3.4.1 General
This procedure enables the GMC to update a group document in the GMS.
#### 6.3.4.2 Client procedures
##### 6.3.4.2.1 General client (GC) procedures
In order to update a group document, a GC shall create an XML document of the
application usage specified in subclause 7.2.1 and shall send the XML document
to the network according to procedures specified in IETF RFC 4825 [22]
\"_Create or Replace a Document_ \".
##### 6.3.4.2.2 Group management client (GMC) procedures
In order to update a group document, a GMC shall perform the procedures in
subclause 6.3.4.2.1 specified for a GC.
#### 6.3.4.3 Group management server (GMS) procedures
A GMS shall support receiving an XML document of the application usage
specified in subclause 7.2.1 according to procedures specified in IETF RFC
4825 [22] \"_PUT Handling_ \" where the Request-URI of the HTTP PUT request
identifies an XML document of the application usage specified in subclause
7.2.
### 6.3.5 Group document deletion procedure
#### 6.3.5.1 General
This procedure enables the GMC to delete a group document in the GMS.
#### 6.3.5.2 Client procedures
##### 6.3.5.2.1 General client (GC) procedures
In order to delete a group document, a GC shall send an HTTP DELETE request
with the Request URI that references the document to be deleted to the network
according to procedures specified in IETF RFC 4825 [22] \"_Delete a Document_
\".
##### 6.3.5.2.2 Group management client (GMC) procedures
In order to delete a group document, a GMC shall perform the procedures in
subclause 6.3.5.2.1 specified for a GC.
#### 6.3.5.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP DELETE request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_DELETE Handling_ \" where the
Request-URI of the HTTP DELETE request identifies an XML document of the
application usage specified in subclause 7.2.
### 6.3.6 Group document element creation or replacement procedure
#### 6.3.6.1 General
This procedure enables the GMC to create or replace an element of a group
document from the GMS.
#### 6.3.6.2 Client procedures
##### 6.3.6.2.1 General client (GC) procedures
In order to create or replace an element of a group document, a GC shall send
an HTTP PUT request with the Request URI that references the element of the
document to be created or replaced to the network according to procedures
specified in IETF RFC 4825 [22] \"_Create or Replace an Element_ \".
##### 6.3.6.2.2 Group management client (GMC) procedures
In order to create or replace an element of a group document, a GMC shall
perform the procedures in subclause 6.3.6.2.1 specified for a GC.
#### 6.3.6.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP PUT request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_PUT Handling_ \" where the
Request-URI of the HTTP PUT request identifies an element of XML document of
the application usage specified in subclause 7.2.
### 6.3.7 Group document element deletion procedure
#### 6.3.7.1 General
This procedure enables the GMC to delete an element of a group document from
the GMS.
#### 6.3.7.2 Client procedures
##### 6.3.7.2.1 General client (GC) procedures
In order to delete an element of a group document, a GC shall send an HTTP
DELETE request with the Request URI that references the element of the
document to be deleted to the network according to procedures specified in
IETF RFC 4825 [22] \"_Delete an Element_ \".
##### 6.3.7.2.2 Group management client (GMC) procedures
In order to delete an element of a group document, a GMC shall perform the
procedures in subclause 6.3.7.2.1 specified for a GC.
#### 6.3.7.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP DELETE request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_DELETE Handling_ \" where the
Request-URI of the HTTP DELETE request identifies an element of XML document
of the application usage specified in subclause 7.2.
### 6.3.8 Group document element fetching procedure
#### 6.3.8.1 General
This procedure enables the GMC to fetch an element of a group document from
the GMS.
#### 6.3.8.2 Client procedures
##### 6.3.8.2.1 General client (GC) procedures
In order to fetch an element of a group document, a GC shall send an HTTP GET
request with the Request URI that references the element of the document to be
fetched to the network according to procedures specified in IETF RFC 4825 [22]
\"_Fetch an Element_ \".
##### 6.3.8.2.2 Group management client (GMC) procedures
In order to fetch an element of a group document, a GMC shall perform the
procedures in subclause 6.3.8.2.1 specified for a GC.
#### 6.3.8.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_GET Handling_ \" where the
Request-URI of the HTTP GET request identifies an element of XML document of
the application usage specified in subclause 7.2.
### 6.3.9 Group document attribute creation or replacement procedure
#### 6.3.9.1 General
This procedure enables the GMC to create or replace an attribute of a group
document from the GMS.
#### 6.3.9.2 Client procedures
##### 6.3.9.2.1 General client (GC) procedures
In order to create or replace an attribute of a group document, a GC shall
send an HTTP PUT request with the Request URI that references the attribute of
the document to be created or replaced to the network according to procedures
specified in IETF RFC 4825 [22] \"_Create or Replace an Attribute_ \".
##### 6.3.9.2.2 Group management client (GMC) procedures
In order to create or replace an attribute of a group document, a GMC shall
perform the procedures in subclause 6.3.9.2.1 specified for a GC.
#### 6.3.9.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP PUT request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_PUT Handling_ \" where the
Request-URI of the HTTP PUT request identifies an attribute of XML document of
the application usage specified in subclause 7.2.
### 6.3.10 Group document attribute deletion procedure
#### 6.3.10.1 General
This procedure enables the GMC to delete an attribute of a group document from
the GMS.
#### 6.3.10.2 Client procedures
##### 6.3.10.2.1 General client (GC) procedures
In order to delete an attribute of a group document, a GC shall send an HTTP
DELETE request with the Request URI that references the attribute of the
document to be deleted to the network according to procedures specified in
IETF RFC 4825 [22] \"_Delete an Attribute_ \".
##### 6.3.10.2.2 Group management client (GMC) procedures
In order to delete an attribute of a group document, a GMC shall perform the
procedures in subclause 6.3.10.2.1 specified for a GC.
#### 6.3.10.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP DELETE request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_DELETE Handling_ \" where the
Request-URI of the HTTP DELETE request identifies an attribute of XML document
of the application usage specified in subclause 7.2.
### 6.3.11 Group document attribute fetching procedure
#### 6.3.11.1 General
This procedure enables the GMC to fetch an attribute of a group document from
the GMS.
#### 6.3.11.2 Client procedures
##### 6.3.11.2.1 General client (GC) procedures
In order to fetch an attribute of a group document, a GC shall send an HTTP
GET request with the Request URI that references the attribute of the document
to be fetched to the network according to procedures specified in IETF RFC
4825 [22] \"_Fetch an Attribute_ \".
##### 6.3.11.2.2 Group management client (GMC) procedures
In order to fetch an attribute of a group document, a GMC shall perform the
procedures in subclause 6.3.11.2.1 specified for a GC.
#### 6.3.11.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_GET Handling_ \" where the
Request-URI of the HTTP GET request identifies an attribute of XML document of
the application usage specified in subclause 7.2.
### 6.3.12 Group document namespace binding fetching procedure
#### 6.3.12.1 General
This procedure enables the GMC to fetch a namespace binding of a group
document from the GMS.
#### 6.3.12.2 Client procedures
##### 6.3.12.2.1 General client (GC) procedures
In order to fetch a namespace binding of a group document, a GC shall send an
HTTP GET request according to procedures specified in IETF RFC 4825 [22]
\"_Fetch Namespace Bindings_ \".
##### 6.3.12.2.2 Group management client (GMC) procedures
In order to fetch a namespace binding of a group document, a GMC shall perform
the procedures in subclause 6.3.12.2.1 specified for a GC.
#### 6.3.12.3 Group management server (GMS) procedures
A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 [22] \"_GET Handling_ \" where the
Request-URI of the HTTP GET request identifies a namespace binding of XML
document of the application usage specified in subclause 7.2.
### 6.3.13 Group document subscription and notification procedure
#### 6.3.13.1 General
This procedure enables the GMC to subscribe to notification of changes of:
a) one or more MCS group documents;
b) \ elements of one or more MCS GKTP documents; or
c) both.
This procedure enables the MCS server to subscribe to notification of changes
of:
a) one or more MCS group documents.
This procedure enables the GMS owning a constituent MCS group of a temporary
MCS group to subscribe to notification of changes of:
a) an MCS group document of the temporary MCS group;
b) a \ element of an MCS GKTP document for the temporary MCS group; or
c) both.
The group management procedures are MC service agnostic. However, for
historical reasons the procedures use MCPTT elements to populate the service
specific MIME bodies, header fields and header field parameters. The GMC uses
the access token received during authentication.
#### 6.3.13.2 Client procedures
##### 6.3.13.2.1 Group management client (GMC) procedures
In order to subscribe to notification of changes of:
a) one or more MCS group documents of MCS groups identified by MCS group IDs;
b) \ elements of one or more MCS GKTP documents for MCS groups
identified by MCS group IDs; or
c) both;
a GMC shall send an initial SIP SUBSCRIBE request to the network according to
the UE originating procedures specified in 3GPP TS 24.229 [12] and IETF RFC
5875 [13]. In the initial SIP SUBSCRIBE request, the GMC:
a) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMC shall include one \
element for each document or element to be subscribed to, such that the
\"uri\" attribute of the \ element:
1) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI configured in the GMC;
and
B) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or
2) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI configured in the GMC;
B) with the document selector identifying the MCS GKTP document as described
in subclause 7.7.10 where the group ID is set to the MCS group ID; and
C) with the node selector identifying a \ element of the MCS GKTP
document;
b) shall set the Request-URI to the configured public service identity for
performing subscription proxy function of the GMS;
c) shall include an application/vnd.3gpp.mcptt-info+xml MIME body with the
\ element set to the value of the access token received
during authentication procedure as described in 3GPP TS 24.482 [49];
d) if identity hiding is required:
1) shall perform the confidentiality protection procedures and integrity
protection procedures defined in 3GPP TS 24.379 [5] for MCPTT client on the
application/vnd.3gpp.mcptt-info+xml MIME body and on the application/resource-
lists+xml MIME body; and
2) shall include an application/mikey MIME body with the CSK as specified in
3GPP TS 24.379 [5];
e) shall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\"
(coded as specified in 3GPP TS 24.229 [12]), in a P-Preferred-Service header
field according to IETF RFC 6050 [14]; and
f) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header field.
Upon receiving a SIP NOTIFY request associated with a subscription created as
result of the sent initial SIP SUBSCRIBE request:
1) if identity hiding is required, the GMC shall perform the confidentiality
protection procedures and integrity protection procedures defined in 3GPP TS
24.379 [5] for MCPTT client; and
2) shall handle the SIP NOTIFY request according to IETF RFC 5875 [13].
In order to re-subscribe to notification of changes of a modified list of:
a) one or more MCS group documents of MCS groups identified by MCS group IDs;
b) \ elements of one or more MCS GKTP documents for MCS groups
identified by MCS group IDs; or
c) both;
a GMC shall send a SIP re-SUBSCRIBE request to the network according to the UE
originating procedures specified in 3GPP TS 24.229 [12] and IETF RFC 5875
[13]. In the SIP re-SUBSCRIBE request, the GMC:
a) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMC shall include one \
element for each document or element to be subscribed to, such that the
\"uri\" attribute of the \ element:
1) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI configured in the GMC;
and
B) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or
2) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI configured in the GMC;
B) with the document selector identifying the MCS GKTP document as described
in subclause 7.7.10 where the group ID is set to the MCS group ID; and
C) with the node selector identifying a \ element of the MCS GKTP
document;
b) if identity hiding is required, shall perform the confidentiality
protection procedures and integrity protection procedures defined in 3GPP TS
24.379 [5] for MCPTT client on the application/vnd.3gpp.mcptt-info+xml MIME
body and on the application/resource-lists+xml MIME body using the CSK
included in the initial SIP SUBSCRIBE request; and
c) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header field.
##### 6.3.13.2.2 MCS server procedures
In order to subscribe to notification of changes of:
a) one or more MCS group documents of MCS groups identified by MCS group IDs;
an MCS server shall send an initial SIP SUBSCRIBE request to the network
according to the originating AS procedures specified in 3GPP TS 24.229 [12]
and IETF RFC 5875 [13]. In the initial SIP SUBSCRIBE request, MCS server:
a) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the MCS server shall include one
\ element for each document or element to be subscribed to, such that
the \"uri\" attribute of the \ element:
1) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI configured in the MCS
server; and
B) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID;
b) shall set the Request-URI to the configured public service identity for
performing subscription proxy function of the GMS;
c) shall include a P-Asserted-Identity header field containing the public
service identity of the MCS server;
e) shall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\"
(coded as specified in 3GPP TS 24.229 [12]), in a P-Asserted-Service header
field according to IETF RFC 6050 [14]; and
f) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header field.
Upon receiving a SIP NOTIFY request associated with a subscription created as
result of the sent initial SIP SUBSCRIBE request, the MCS server shall handle
the SIP NOTIFY request according to IETF RFC 5875 [13].
In order to re-subscribe to notification of changes of a modified list of:
a) one or more MCS group documents of MCS groups identified by MCS group IDs,
the MCS server shall send a SIP re-SUBSCRIBE request to the network according
to the originating AS procedures specified in 3GPP TS 24.229 [12] and IETF RFC
5875 [13]. In the SIP re-SUBSCRIBE request, MCS server:
a) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the MCS server shall include one
\ element for each document or element to be subscribed to, such that
the \"uri\" attribute of the \ element:
1) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI configured in the MCS
server; and
B) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; and
b) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header field.
##### 6.3.13.2.3 Procedure of group management server (GMS) owning a
constituent MCS group acting as subscriber
In order to subscribe to notification of changes of:
a) an MCS group document of a temporary MCS group;
b) a \ element of an MCS GKTP document for the temporary MCS group; or
c) both;
such that the temporary MCS group is identified by a MCS group ID and an MCS
group owned by the GMS is a constituent MCS group of the temporary MCS group,
the GMS shall send an initial SIP SUBSCRIBE request to the network according
to the originating AS procedures specified in 3GPP TS 24.229 [12] and IETF RFC
5875 [13]. In the initial SIP SUBSCRIBE request, the GMS:
a) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMS shall include one \
element for each document or element to be subscribed to, such that the
\"uri\" attribute of the \ element:
1) contains a relative path reference:
A) with the base URI being equal to the XCAP root URI of the MCS provider of
the GMS, if the MCS group ID is owned by the MCS provider of the GMS;
B) with the base URI being derived from the group ID routing database
specified in subclause 6.2.5.2 and the MCS group ID, if the MCS group ID is
owned by an MCS provider other than the MCS provider of the GMS; and
C) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or
2) contains a relative path reference
A) with the base URI being equal to the XCAP root URI of the MCS provider of
the GMS, if the MCS group ID is owned by the MCS provider of the GMS; and
B) with the base URI being equal to derived from the group ID routing database
specified in subclause 6.2.5.2 and the MCS group ID, if the MCS group ID is
owned by an MCS provider other than the MCS provider of the GMS;
C) with the document selector identifying the MCS GKTP document as described
in subclause 7.7.10 where the group ID is set to the MCS group ID; and
D) with the node selector identifying a \ element of the MCS GKTP
document;
c) shall set the Request-URI to:
1) own public service identity for accessing documents, if the MCS group ID is
owned by the MCS provider of the GMS; and
2) the public service identity for accessing documents of other MCS provider
derived from the group ID routing database specified in subclause 6.2.5.2 and
the MCS group ID, if the MCS group ID is owned by an MCS provider other than
the MCS provider of the GMS;
d) shall include a P-Asserted-Identity header field containing the own public
service identity for accessing documents;
e) shall include an application/vnd.3gpp.mcptt-info+xml MIME body. In the
application/vnd.3gpp.mcptt-info+xml MIME body, the GMS shall include the
\ element set to the MCS ID of the constituent MCS
group;
f) shall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\"
(coded as specified in 3GPP TS 24.229 [12]), in a P-Asserted-Service header
field according to IETF RFC 6050 [14]; and
g) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header field.
#### 6.3.13.3 Group management server (GMS) procedures
##### 6.3.13.3.1 General
The GMS procedures consist of:
a) procedures of GMS performing the subscription proxy function; and
b) procedures of GMS owning the MCS group.
The GMS shall be configured with own public service identity for performing
subscription proxy function of the GMS.
##### 6.3.13.3.2 Procedures of GMS performing the subscription proxy function
###### 6.3.13.3.2.1 General
The procedures of GMS performing the subscription proxy function consist of:
a) a GMC originated subscription proxy procedure; and
b) a MCS server originated subscription proxy procedure; and
c) a procedure for GMS acting as subscriber on behalf of GMC.
###### 6.3.13.3.2.2 GMC originated subscription proxy procedure
Upon reception of an initial SIP SUBSCRIBE request:
a) with the Event header field set to xcap-diff;
b) with the Request-URI set to own public service identity for performing
subscription proxy function of the GMS;
c) with a P-Asserted-Identity header field not containing an identity listed
in the authorized MCS server list specified in subclause 6.2.5.1 and not
containing an identity listed in the authorized GMS list as specified in
subclause 6.2.5.1;
d) with an application/vnd.3gpp.mcptt-info+xml MIME body containing the
\ element;
e) with an application/resource-lists+xml MIME body; and
f) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as
specified in 3GPP TS 24 229 [12]), in a P-Asserted-Service header field
according to IETF RFC 6050 [14];
the GMS:
a) if an \ XML tag is included in the
application/vnd.3gpp.mcptt-info+xml MIME body and the CSK is received in an
application/mikey MIME body of the initial SIP SUBSCRIBE request, shall
decrypt the application/vnd.3gpp.mcptt-info+xml MIME body;
b) if an \ XML tag is included in the application/resource-
lists+xml MIME body and the CSK is received in an application/mikey MIME body
of the initial SIP SUBSCRIBE request, shall decrypt the application/resource-
lists+xml MIME body;
c) shall identify the originating MCS ID from \ element
received in the application/vnd.3gpp.mcptt-info+xml MIME body and shall use
the originating MCS ID as an authenticated identity when performing the
authorization;
d) if the authenticated identity is not authorized to subscribe to
notification of changes of any resource in the application/resource-lists+xml
MIME body, shall reject the request with a SIP 403 (Forbidden) response and
shall not continue with rest of the steps;
e) act as a notifier according to IETF RFC 5875 [13]. Additionally, if an XCAP
URI in the \"uri\" attribute of the \ element of the
application/resource-lists+xml MIME body of the initial SIP SUBSCRIBE request
identifies:
1) a group document addressed by a group ID as described in subclause 7.2.10.2
where the group ID is an MCS group ID owned by an MCS provider other than the
MCS provider of the GMS; or
2) a element of an MCS GKTP document as described in subclause 7.7.10 where
the group ID is an MCS group ID owned by an MCS provider other than the MCS
provider of GMS;
shall perform the procedure in subclause 6.3.13.3.2.4 for each such MCS group
ID and shall interwork information of received SIP NOTIFY requests in
subclause 6.3.13.3.2.4 in SIP NOTIFY requests associated with a subscription
created as result of the received initial SIP SUBSCRIBE request.
Upon sending a SIP NOTIFY request associated with a subscription created as
result of the received initial SIP SUBSCRIBE request, if the CSK is received
in an application/mikey MIME body of the initial SIP SUBSCRIBE request, the
GMS shall perform the confidentiality protection procedures and integrity
protection procedures defined in 3GPP TS 24.379 [5] for MCS server.
Upon reception of a SIP re-SUBSCRIBE request:
a) with the Event header field set to xcap-diff; and
b) with an application/resource-lists+xml MIME body;
the GMS:
a) if an \ XML tag is included in the application/resource-
lists+xml MIME body of the received SIP re-SUBSCRIBE request and the CSK was
received in an application/mikey MIME body of the initial SIP SUBSCRIBE
request, shall decrypt the application/resource-lists+xml MIME body; and
b) act as a notifier according to IETF RFC 5875 [13]. Additionally, if an XCAP
URI in the \"uri\" attribute of the \ element of the
application/resource-lists+xml MIME body of the SIP re-SUBSCRIBE request
identifies:
1) a group document addressed by a group ID as described in subclause 7.2.10.2
where the group ID is an MCS group ID owned by an MCS provider other than the
MCS provider of the GMS; or
2) a element of an MCS GKTP document as described in subclause 7.7.10 where
the group ID is an MCS group ID owned by an MCS provider other than the MCS
provider of GMS;
and for which there is no related subscription established according to the
subclause 6.3.13.3.2.4, shall perform the procedure in subclause 6.3.13.3.2.4
for each such MCS group ID and shall interwork information of received SIP
NOTIFY requests in subclause 6.3.13.3.2.4 in SIP NOTIFY requests associated
with a subscription created as result of the received initial SIP SUBSCRIBE
request.
###### 6.3.13.3.2.3 MCS server originated subscription proxy procedure
Upon reception of an initial SIP SUBSCRIBE request:
a) with the Event header field set to xcap-diff;
b) with the Request-URI set to own public service identity for performing
subscription proxy function of the GMS;
c) with a P-Asserted-Identity header field containing an identity listed in
the authorized MCS server list specified in subclause 6.2.5.1;
d) with an application/resource-lists+xml MIME body; and
e) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as
specified in 3GPP TS 24 229 [12]), in a P-Asserted-Service header field
according to IETF RFC 6050 [14];
the GMS shall act as a notifier according to IETF RFC 5875 [13].
Upon reception of a SIP re-SUBSCRIBE request:
a) with the Event header field set to xcap-diff; and
b) with an application/resource-lists+xml MIME body;
the GMS:
a) shall use URI of the P-Asserted-Identity header field as an authenticated
identity when performing the authorization;
b) if the authenticated identity is not authorized to subscribe to
notification of changes of any document or element in the
application/resource-lists+xml MIME body, shall reject the request with a SIP
403 (Forbidden) response and shall not continue with rest of the steps; and
c) shall act as a notifier according to IETF RFC 5875 [13].
###### 6.3.13.3.2.4 Procedure for GMS acting as subscriber on behalf of GMC
In order to subscribe to notification of changes of:
a) an MCS group document of an MCS group;
b) a \ element of an MCS GKTP document for an MCS group; or
c) both;
such that the MCS group is identified by a MCS group ID owned by an MCS
provider other than the MCS provider of the GMS, the GMS shall send an initial
SIP SUBSCRIBE request to the network according to the originating AS
procedures specified in 3GPP TS 24.229 [12] and IETF RFC 5875 [13]. In the
initial SIP SUBSCRIBE request, the GMS:
a) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMS shall include one \
element for each document or element to be subscribed to, such that the
\"uri\" attribute of the \ element contains XCAP URI:
1) contains a relative path reference:
A) with the base URI being derived from the group ID routing database
specified in subclause 6.2.5.2 and the MCS group ID; and
B) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or
2) contains a relative path reference
A) with the base URI being equal to the XCAP root URI of the MCS provider of
the GMS;
B) with the document selector identifying the MCS GKTP document as described
in subclause 7.7.10 where the group ID is set to the MCS group ID; and
C) with the node selector identifying a \ element of the MCS GKTP
document;
b) shall set the Request-URI to the public service identity for accessing
documents of the other MCS provider derived from the group ID routing database
specified in subclause 6.2.5.2; and
c) shall include a P-Asserted-Identity header field containing the own public
service identity for accessing documents;
d) shall include an application/vnd.3gpp.mcptt-info+xml MIME body. In the
application/vnd.3gpp.mcptt-info+xml MIME body, the GMS shall include the
\ element set to the originating MCS ID;
e) shall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\"
(coded as specified in 3GPP TS 24.229 [12]), in a P-Asserted-Service header
field according to IETF RFC 6050 [14]; and
f) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header field.
Upon receiving a SIP NOTIFY request associated with a subscription created as
result of the sent initial SIP SUBSCRIBE request, the GMS shall handle the SIP
NOTIFY request according to IETF RFC 5875 [13] and shall interwork the
received information in subclause 6.3.13.3.2.2.
##### 6.3.13.3.3 Procedures of GMS owning the MCS group
Upon reception of an initial SIP SUBSCRIBE request:
a) with the Event header field set to xcap-diff;
b) with the Request-URI set to own public service identity for accessing
documents;
c) with a P-Asserted-Identity header field containing an identity listed in
the authorized GMS list as specified in subclause 6.2.5.1;
d) with an application/resource-lists+xml MIME body;
e) with an application/vnd.3gpp.mcptt-info+xml MIME body; and
f) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as
specified in 3GPP TS 24 229 [12]), in a P-Asserted-Service header field
according to IETF RFC 6050 [14];
the GMS:
a) if the \ element is included in the
application/vnd.3gpp.mcptt-info+xml MIME body:
1) shall use the \ element value as an authenticated
identity when performing the authorization; and
2) if the authenticated identity is not authorized to subscribe to
notification of changes of any document or element in the
application/resource-lists+xml MIME body, shall reject the request with a SIP
403 (Forbidden) response and shall not continue with rest of the steps;
b) if the \ element is included in the
application/vnd.3gpp.mcptt-info+xml MIME body:
1) when performing the authorization, shall use URI of the P-Asserted-Identity
header field as an authenticated identity and shall determine that the
subscription is on behalf of the identity in the \
element;
2) if the authenticated identity is not authorized to subscribe to
notification of changes of any document or element in the
application/resource-lists+xml MIME body, shall reject the request with a SIP
403 (Forbidden) response and shall not continue with rest of the steps; and
3) if the MCS group ID indicated in the \ element is a
constituent MCS group of a temporary MCS group and the documents or elements
indicated in the application/resource-lists+xml MIME body are not associated
with the temporary MCS group ID, shall reject the request with a SIP 403
(Forbidden) response and shall not continue with rest of the steps; and
c) shall act as a notifier according to IETF RFC 5875 [13].
### 6.3.14 Temporary MCS group formation procedure
#### 6.3.14.1 General
This procedure enables a GMC to initiate creation of a temporary MCS group by
combining MCS groups.
NOTE: The temporary MCS group formation procedure does not ensure that the
MCSs of the temporary MCS group are the same as MCSs of each constituent MCS
group of the temporary MCS group.
#### 6.3.14.2 Group management client (GMC) procedures
In order to form a temporary MCS group, a GMC shall send a HTTP POST request
according to procedures specified in IETF RFC 2616 [21] and subclause 6.2.3.
In the HTTP POST request, the GMC:
a) shall set the Request-URI to an XCAP URI:
1) in users tree where the XUI is set to a group creation XUI configuration
parameter; and
2) with the document selector identifying the temporary MCS group to be
created; and
b) shall include an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document requesting group regroup creation specified in subclause 7.3.4.3,
with a \ element containing a group document for an MCS group. In the
group document, the GMC shall include the \ element
according to subclause 7.2. In the \ element, the GMC
shall include \ element according to subclause
7.2. In the \ element, the GMC shall include one
\ element according to subclause 7.2 for each MCS
group to be combined.
Upon reception of an HTTP 2xx response to the sent HTTP POST request, the GMC
shall consider the temporary MCS group formation as successful.
Upon reception of an HTTP 409 (Conflict) response with at least one \ element in the \ error element, the GMC may repeat
procedures of the present subclause and identify the temporary MCS group being
formed with an MCS Group ID indicated in an \ element.
#### 6.3.14.3 Group management server (GMS) procedures
##### 6.3.14.3.1 Procedure of GMS creating a temporary MCS group
Upon reception of an HTTP POST request:
a) with a Request-URI with an XCAP URI identifying a non-existing group
document; and
b) with an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP document
requesting group regroup creation specified in subclause 7.3.4.3;
then the GMS:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in subclause 6.2.5;
b) if the identity of the sender of the received HTTP POST request is not
authorized to initiate temporary MCS group formation, shall respond with HTTP
403 (Forbidden) response to the HTTP POST request and shall not continue with
rest of the steps;
c) if value of the \"uri\" attribute of the \ element of the
\ element of the GMOP document requesting group regroup creation
specified in subclause 7.3.4.3 of the received HTTP POST request does not
conform to local policy, shall respond with an HTTP 409 (Conflict) response to
the HTTP POST request. The \ error element shall identify
the error condition. The GMS shall include at least one \ element
in the \ error element, whereby each \ element
contains a MCS Group ID acceptable for the GMS. The GMS shall not continue
with rest of the steps; and
d) for each MCS group ID of an MCS group to be combined indicated in content
of a \ element of the \ element of the \ element of the group document of
the \ element of the GMOP document requesting group regroup creation
specified in subclause 7.3.4.3 of the received HTTP POST request:
1) shall send a HTTP POST request according to procedures specified in IETF
RFC 2616 [21] and subclause 6.2.5. In the HTTP POST request, the GMS:
A) shall set the Request-URI to an XCAP URI:
i) with the document selector identifying a group document addressed by a
group ID as specified in subclause 7.2.10.2, where the group ID is set to the
MCS group ID of the MCS group to be combined;
ii) with the node selector identifying a \ element of
the constituent MCS group such that the \ element has
the \"temporary-MCPTT-group-ID\" attribute set to the content of the \"uri\"
attribute of the \ element of the group document included in the
received HTTP POST request;
iii) if the MCS group ID of the MCS group to be combined is owned by the MCS
provider of the GMS, with the XCAP root URI of the MCS provider of the GMS;
and
iv) if the MCS group ID of the MCS group to be combined is owned by an MCS
provider other than the MCS provider of the GMS, with XCAP root URI derived
using the group ID routing database as specified in subclause 6.2.5.2 and the
MCS group ID of the MCS group to be combined;
B) shall set the X-3GPP-Asserted-Identity header field as specified in 3GPP TS
24.482 [10] to a public service identity of the GMS; and
C) shall include an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document requesting group regroup check specified in subclause 7.3.4.4 with a
\ element. In the \ element, the
GMS:
i) shall set the \"temporary-MCPTT-group-ID\" attribute to the content of the
\"uri\" attribute of the \ element of the group document
included in the received HTTP POST request;
ii) shall set the \"temporary-MCPTT-group-requestor\" attribute to the
identity of the sender of the received HTTP POST request;
iii) shall include the \ element set to content
of the \ element of \
element of the \ element of the group document of the MCS group
included in the received HTTP POST request;
iv) if an \ element is included in the \ element of the group document included in the received HTTP POST
request, shall include the \ element set to content
of the \ element of the \ element of
the group document included in the received HTTP POST request;
v) if a \ element is included in the \ element of
the group document included in the received HTTP POST request, shall include
the \ element set to content of the \ element of
the \ element of the group document included in the received
HTTP POST request;
vi) if a \ element is included in the
\ element of the group document included in the received HTTP
POST request, shall include the \ element
set to content of the \ element of the
\ element of the group document included in the received HTTP
POST request; and
vii) if a \ element is included in
the \ element of the group document included in the received
HTTP POST request, shall include the \ element.
Upon reception of a HTTP 3xx, 4xx, or 5xx responses to a sent HTTP POST
request or upon timeout, the GMS shall send a HTTP 403 (Forbidden) response to
the received HTTP request and shall not continue with rest of the steps.
Upon reception of HTTP 2xx responses to all sent HTTP POST requests, the GMS:
a) for each MCS group ID of an MCS group to be combined indicated in content
of a \ element of the \ element of the \ element of the \ element of
the GMOP document requesting group regroup creation specified in subclause
7.3.4.3 of the received HTTP POST request:
1) shall send an HTTP POST request according to procedures specified in IETF
RFC 2616 [21] and subclause 6.2.5. In the HTTP POST request, the GMS:
A) shall set the Request-URI to an XCAP URI:
i) with the document selector identifying a group document addressed by a
group ID as specified in subclause 7.2.10.2, where the group ID is set to the
MCS group ID of the MCS group to be combined;
ii) with the node selector identifying a \ element of
the constituent MCS group such that the \ element has
the \"temporary-MCPTT-group-ID\" attribute set to the content of the \"uri\"
attribute of the \ element of the group document included in the
received HTTP POST request;
iii) if the MCS group ID of the MCS group to be combined is owned by the MCS
provider of the GMS, with the XCAP root URI of the MCS provider of the GMS;
and
iv) if the MCS group ID of the MCS group to be combined is owned by an MCS
provider other than the MCS provider of the GMS, with XCAP root URI derived
using the group ID routing database as specified in subclause 6.2.5.2 and the
MCS group ID of the MCS group to be combined;
B) shall set the X-3GPP-Asserted-Identity header field as specified in 3GPP TS
24.482 [10] to a public service identity of the GMS; and
C) shall include an application/vnd.3gpp.GMOP+xml MIME body with a GMOP
document requesting group regroup notification specified in subclause 7.3.4.5.
In the GMOP document requesting group regroup notification, the GMS:
i) shall include a \ element. In the \ element, the GMS:
\- shall set the \"temporary-MCPTT-group-ID\" attribute to the content of the
\"uri\" attribute of the \ element of the group document
included in the received HTTP POST request;
\- shall set the \"temporary-MCPTT-group-requestor\" attribute to the identity
of the sender of the received HTTP POST request;
\- shall include the \ element set to content of
the \ element of \ element
of the \ element of the group document of the MCS group included
in the received HTTP POST request;
\- if an \ element is included in the \ element of the group document included in the received HTTP POST
request, shall include the \ element set to content
of the \ element of the \ element of
the group document included in the received HTTP POST request;
\- if a \ element is included in the \ element of
the group document included in the received HTTP POST request, shall include
the \ element set to content of the \ element of
the \ element of the group document included in the received
HTTP POST request;
\- if a \ element is included in the \ element of the group document included in the received HTTP POST
request, shall include the \ element set to
content of the \ element of the \ element of the group document included in the received HTTP POST
request; and
\- if a \ element is included in
the \ element of the group document included in the received
HTTP POST request, shall include the \ element.
NOTE: GMK is not included in the GMOP document requesting group regroup
notification as GMK is provided only using SIP.
Upon reception of HTTP 2xx responses to all sent HTTP POST requests, the GMS
shall create the group document of the temporary MCS group at the location
specified by the Request-URI of the received HTTP POST request and shall send
an HTTP 2xx response to the received HTTP request. In the HTTP 2xx response,
the GMS shall include an application/vnd.3gpp.GMOP+xml MIME body containing a
GMOP document with group regroup creation response specified in subclause
7.3.4.6 with a \ element set to the current
value of the entity tag for the created group document of the temporary MCS
group.
##### 6.3.14.3.2 Procedure of GMS owning an MCS group to be combined
Upon reception of an HTTP POST request:
a) with the Request-URI set to an XCAP URI identifying an existing or a non-
existing \ element of an existing group document of an
MCS group; and
b) with an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP document
requesting group regroup check specified in subclause 7.3.4.4;
the GMS:
a) if:
1) the Request-URI identifies an existing \ element of
an existing group document of an MCS group;
2) the Request-URI identifies a non-existing \ element
of an existing group document defining a temporary MCS group;
3) identity indicated in the X-3GPP-Asserted-Identity header field is not
listed in the authorized GMS list specified in subclause 6.2.5.1; or
4) the MIME body of the HTTP POST request is not acceptable;
then shall respond with HTTP 403 (Forbidden) response to the HTTP POST request
and shall not continue with rest of the steps; and
b) shall respond with HTTP 200 (OK) response to the HTTP POST request.
Upon reception of an HTTP POST request:
a) with the Request-URI set to an XCAP URI identifying an existing or a non-
existing \ element of an existing group document of an
MCS group; and
b) with an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP document
requesting group regroup notification specified in subclause 7.3.4.5;
the GMS:
a) if:
1) the Request-URI identifies an existing \ element of
an existing group document of an MCS group;
2) the Request-URI identifies a non-existing \ element
of an existing group document defining a temporary MCS group;
3) identity indicated in the X-3GPP-Asserted-Identity header field is not
listed in the authorized GMS list specified in subclause 6.2.5.1; or
4) the MIME body of the HTTP POST request is not acceptable;
then shall respond with HTTP 403 (Forbidden) response to the HTTP POST request
and shall not continue with rest of the steps;
b) shall place the \ element of the GMOP document
requesting group regroup notification of the HTTP POST request at the location
identified by the Request-URI of the received HTTP POST request;
c) shall respond with HTTP 200 (OK) response to the HTTP POST request; and
NOTE: GMKis not included in the GMOP document requesting group regroup
notification as GMK is provided only using SIP.
d) shall subscribe for changes of the MCS GKTP document of the temporary MCS
Group ID indicated in the \"temporary-MCPTT-group-ID\" attribute of the \ element of the GMOP document requesting group regroup
notification according to subclause 6.3.13.2.3.
### 6.3.15 Temporary MCS group tear down procedure
#### 6.3.15.1 General
This procedure enables a GMC to initiate tear down of a temporary MCS group.
#### 6.3.15.2 Group management client (GMC) procedures
In order to tear down a temporary MCS group, the GMC shall send an HTTP DELETE
request with Request-URI with an XCAP URI identifying a group document of the
temporary MCS group according to procedures specified in IETF RFC 4825 [22]
\"_Delete an Element_ \".
#### 6.3.15.3 Group management server (GMS) procedures
##### 6.3.15.3.1 Procedure of GMS owning the temporary MCS group
Upon reception of an HTTP DELETE request with Request-URI with an XCAP URI
identifying a group document of a temporary MCS group, the GMS:
a) for each constituent MCS group indicated in the group document indicated by
Request-URI:
1) shall send an HTTP DELETE request. In the HTTP DELETE request, the GMS:
A) shall set the Request-URI to an XCAP URI:
i) with the document selector identifying a group document addressed by a
group ID as specified in subclause 7.2.10.2, where the group ID is set to the
MCS group ID of the constituent MCS group;
ii) with the node selector identifying a \ element of
the constituent MCS group, such that the \"temporary-MCPTT-group-ID\"
attribute of the \ element contains the temporary MCS
group ID of the temporary MCS group;
iii) if the MCS group ID of the constituent MCS group is owned by the MCS
provider of the GMS, with the XCAP root URI of the MCS provider of the GMS;
and
iv) if the MCS group ID of the constituent MCS group is owned by an MCS
provider other than the MCS provider of the GMS, with XCAP root URI derived
using the group ID routing database as specified in subclause 6.2.5.2 and the
MCS group ID of the constituent MCS group; and
B) shall set the X-3GPP-Asserted-Identity header field as specified in 3GPP TS
24.482 [10] to a public service identity of the GMS.
Upon reception of an HTTP response to all sent HTTP DELETE requests, the GMS
shall remove the group document of the temporary MCS group and shall send an
HTTP 2xx response to the received HTTP request.
##### 6.3.15.3.2 Procedure of GMS owning a constituent MCS group
Upon reception of an HTTP DELETE request with Request-URI identifying a \ element of an MCS group document, the GMS:
a) if:
1) the Request-URI identifies an existing \ element of a
non-existing group document; or
2) identity indicated in the X-3GPP-Asserted-Identity header field is not
listed in the authorized GMS list specified in subclause 6.2.5.1;
then shall respond with HTTP 403 (Forbidden) response to the HTTP DELETE
request and shall not continue with rest of the steps; and
b) shall act according to according to procedures specified in IETF RFC 4825
[22] \"_DELETE Handling_ \".
### 6.3.16 Group document excluding group members retrieval procedure
#### 6.3.16.1 General
This procedure enables the GMC to retrieve a group document excluding group
members from the GMS.
When the MCS user requires the group document, then the default action by the
GMC is to use the procedure in subclause 6.3.16.2 to request the group
document excluding the group members from the GMS. If the MCS user requires
the group document including the group members, then the GMC will request the
entire group document using the procedures described in subclause 6.3.3.2.1.
#### 6.3.16.2 Group management client (GMC) procedures
In order to retrieve a group document except group members, a GMC shall send
an HTTP POST request according to procedures specified in IETF RFC 2616 [21]
and subclause 6.2.3. In the HTTP POST request, the GMC:
a) shall set the Request-URI to XCAP URI of the group document addressed by a
group ID; and
b) shall include an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document requesting retrieval of a group document excluding group members
specified in subclause 7.3.4.2.
Upon reception of an HTTP 2xx response to the HTTP POST request such that the
HTTP 2xx response contains a MIME body of the MIME type specified in subclause
7.2.6, the GMC shall consider the MIME body as the group document excluding
group members.
#### 6.3.16.3 Group management server (GMS) procedures
Upon reception of an HTTP POST request:
a) with a Request-URI set to an XCAP URI identifying a existing group
document; and
b) with application/vnd.3gpp.GMOP+xml MIME body containing a GMOP document for
retrieval of a group document excluding group members specified in subclause
7.3.4.2;
the GMS shall send an HTTP 2xx response to the received HTTP request. In the
HTTP 2xx response, the GMS shall include a MIME body of the MIME type
specified in subclause 7.2.6, containing a group document:
a) placed at location identified by the Request-URI; and
b) not including the \ element of the \ element of the
\ root element.
# 7 Coding
## 7.1 General
This clause specifies coding enabling a group management client (GMC) and an
MCS server to manage group documents in a group management server (GMS).
## 7.2 Group coding
### 7.2.1 General
Group document is described in the OMA OMA-TS-XDM_Group-V1_1_1 [3] \"_Group_
\".
The requirements in the remaining subclauses of the parent subclause of this
subclause apply for an MCS group document, i.e. a group document containing an
MCS group.
The usage of an MCS group document in an MCS service is described in 3GPP TS
24.379 [5], 3GPP TS 24.281 [26] and 3GPP TS 24.282 [27].
### 7.2.2 Structure
NOTE 1: An MCS group document can contain further attributes and elements from
any namespaces, according to the XML schemas of the MCS group document.
NOTE 2: For historical reasons, element names or attribute names can contain
\"mcptt\". However, such elements and such attributes can be used in any MCS
(the MCPTT or an MCS which is not the MCPTT).
The group document structure is described in the OMA OMA-TS-XDM_Group-V1_1_1
[3] \"_Structure_ \" with the MCS specific clarifications specified in this
subclause.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCS group document:
a) shall include a \"uri\" attribute specified in OMA OMA-TS-XDM_Group-V1_1_1
[3];
b) may include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3];
c) may include a \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3];
d) may include a \ element specified in OMA OMA-TS-XDM_Group-V1_1_1
[3];
e) shall include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3];
g) may include a \ element specified in subclause
7.2.4.2;
h) may include a \ element specified in subclause
7.2.4.2;
i) may include zero or more \ elements specified in
subclause 7.2.4.2;
j) may include an \ element specified in
subclause 7.2.4.2;
k) may include an \ element specified in subclause
7.2.4.2. In the present document, the \ element can only have the
values specified by the off-network-PDN-type-value ABNF rule of table 7.2.2-1;
l) may include an \ element specified in
subclause 7.2.4.2 containing a IP multicast address. If the IP multicast
address is an IPv4 address, its value is coded as a string representing the
dotted-decimal format of the IPv4 address as specified in IETF RFC 1166 [8].
If the IP multicast address is an IPv6 address, its value is coded as a string
representing the canonical text representation format of the IPv6 address as
specified in IETF RFC 5952 [9];
m) may include an \ element specified in
subclause 7.2.4.2;
n) may include an \ element specified in subclause 7.2.4.2;
o) may include a \ element specified in
subclause 7.2.4.2; and
p) may include a \ element specified in subclause
7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCPTT group document additionally:
a) may include an \ element specified in subclause
7.2.4.2;
b) may include a \ element specified in subclause
7.2.4.2;
c) may include a \ element specified in
subclause 7.2.4.2;
d) may include an \ element specified in
subclause 7.2.4.2;
e) may include an \ element
specified in subclause 7.2.4.2;
f) may include an \
element specified in subclause 7.2.4.2;
g) may include an \ element specified in
subclause 7.2.4.2;
h) may include an \ element
specified in subclause 7.2.4.2;
i) may include an \ element
specified in subclause 7.2.4.2;
j) may include a \ element specified in subclause
7.2.4.2;
k) may include an \ element specified in subclause 7.2.4.2;
l) may include an \ element specified in subclause 7.2.4.2;
m) may include an \ element specified in subclause 7.2.4.2;
n) may include an \ element specified in subclause 7.2.4.2;
o) may include an \ element specified in subclause
7.2.4.2;
p) may include an \ element specified in
subclause 7.2.4.2;
q) may include an \ element specified in subclause
7.2.4.2;
r) may include an \ element specified in
subclause 7.2.4.2;
s) may include an \ element specified in
subclause 7.2.4.2;
t) may include an \ element specified in subclause 7.2.4.2;
u) may include an \ element specified in subclause 7.2.4.2.
The \ element can only have the values specified by the on-
network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-
members ABNF rule of table 7.2.2-1. If a value of the \ element is
other than those specified by the defined-actions ABNF rule of table 7.2.2-1,
the \ element is interpreted as having the value specified by the
abandon-action ABNF rule of table 7.2.2-1;
v) may include a \ element specified in subclause 7.2.4.2;
w) may include a \ element specified in
subclause 7.2.4.2;
x) may include a \ element
specified in subclause 7.2.4.2;
y) may include an \ element specified in subclause
7.2.4.2; and
z) may include an \ element specified in
subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCVideo group document additionally:
a) may include an \ element specified in
subclause 7.2.4.2;
b) may include an \ element specified in
subclause 7.2.4.2;
c) may include an \ element specified in subclause
7.2.4.2;
d) may include an \ element specified in
subclause 7.2.4.2;
e) may include an \ element specified in
subclause 7.2.4.2;
f) may include an \ element specified in
subclause 7.2.4.2;
g) may include an \ element specified in
subclause 7.2.4.2;
h) may include an \ element specified in
subclause 7.2.4.2;
i) may include an \ element specified in
subclause 7.2.4.2;
j) may include an \ element specified
in subclause 7.2.4.2;
k) may include an \ element specified in
subclause 7.2.4.2;
l) may include an \ element specified in
subclause 7.2.4.2;
m) may include an \ element specified in subclause 7.2.4;
n) may include an \ element
specified in subclause 7.2.4.2;
o) may include an \ element specified in
subclause 7.2.4.2;
p) may include an \ element
specified in subclause 7.2.4.2;
q) may include an \
element specified in subclause 7.2.4.2;
r) may include an \ element
specified in subclause 7.2.4.2;
s) may include an \
element specified in subclause 7.2.4.2;
t) may include an \ element specified in subclause 7.2.4.2;
u) may include an \ element specified in
subclause 7.2.4.2;
v) may include an \
element specified in subclause 7.2.4.2;
w) may include an \
element specified in subclause 7.2.4.2;
x) may include an \ element specified in
subclause 7.2.4.2;
y) may include an \ element specified in subclause 7.2.4.2; and
z) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCData group document additionally:
a) may include an \ element specified in subclause
7.2.4.2;
b) may include an \ element specified in
subclause 7.2.4.2;
c) may include an \ element specified in
subclause 7.2.4.2;
d) may include an \ element specified in
subclause 7.2.4.2;
e) may include an \ element specified in
subclause 7.2.4.2;
f) may include an \ element specified in subclause
7.2.4.2;
g) may include an \ element specified in subclause
7.2.4.2;
h) may include an \ element specified in
subclause 7.2.4.2;
i) may include an \ element specified in
subclause 7.2.4.2;
j) may include an \ element specified
in subclause 7.2.4.2;
k) may include an \ element specified
in subclause 7.2.4.2;
l) may include an \ element
specified in subclause 7.2.4.2;
m) may include an \ element
specified in subclause 7.2.4.2; and
n) may include an \ element specified in
subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCS
group document:
a) may include zero or more \ elements specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3].
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCS
group document:
a) shall include a \"uri\" attribute specified in OMA OMA-TS-XDM_Group-V1_1_1
[3];
b) may include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3];
c) may include a \ element specified in subclause 7.2.4.2;
d) may include a \ element specified in subclause
7.2.4.2; and
e) may include a \ element specified in subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCPTT
group document additionally:
a) may include a \ element specified in subclause
7.2.4.2; and
b) may include an \ element specified in subclause
7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCVideo group document additionally:
a) may include an \ element specified in
subclause 7.2.4.2; and
b) shall include an \ element specified in subclause
7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCData
group document additionally:
a) may include an \ element specified in
subclause 7.2.4.2;
b) may include an \ element specified in
subclause 7.2.4.2; and
c) shall include an \ element specified in subclause
7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCS
group document:
a) may include zero or more \ elements specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3].
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCS
group document:
a) may include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3]; and
b) may include an \ element specified in OMA OMA-TS-XDM_Group-V1_1_1
[3].
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCS group document:
a) may include an \ element specified in OMA OMA-TS-XDM_Group-V1_1_1
[3]; and
b) may include an \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3].
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an MCS
group document:
a) may include an \ element specified in
subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCPTT group document additionally:
a) may include an \ element specified in OMA OMA-
TS-XDM_Group-V1_1_1 [3];
b) may include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3];
c) may include an \ element specified in subclause
7.2.4.2;
d) may include an \ element specified in subclause
7.2.4.2;
e) may include an \ element specified in
subclause 7.2.4.2;
f) may include an \ element
specified in subclause 7.2.4.2; and
g) may include an \ element specified in
subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCVideo group document additionally:
a) may include an \ element specified in
subclause 7.2.4.2;
b) may include an \ element specified in
subclause 7.2.4.2;
c) may include an \ element specified in
subclause 7.2.4.2;
d) may include an \ element
specified in subclause 7.2.4.2; and
e) may include an \ element
specified in subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of an
MCData group document additionally:
a) may include an \
specified in subclause 7.2.4.2; and;
b) may include an \ element
specified in subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3]
of an MCS group document:
a) shall include one or more \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3].
The MCPTT specific \ element specified in OMA OMA-TS-XDM_Group-V1_1_1
[3] of an MCPTT group document:
a) shall include an \"enabler\" attribute specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3] including a string defining an enabler. The \"enabler\"
attribute is set to the MCPTT ICSI specified in the 3GPP TS 24.379 [5]; and
b) shall include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3].
The MCVideo specific \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3] of an MCVideo group document:
a) shall include an \"enabler\" attribute specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3] including a string defining an enabler. The \"enabler\"
attribute is set to the MCVideo ICSI specified in the 3GPP TS 24.281 [26]; and
b) shall include a \ element specified in OMA OMA-TS-
XDM_Group-V1_1_1 [3].
The MCData specific \ element specified in OMA OMA-TS-XDM_Group-V1_1
[3] of an MCData group document:
a) shall include an \"enabler\" attribute specified in OMA OMA-TS-
XDM_Group-V1_1 [3] including a string defining an enabler. The \"enabler\"
attribute is set to one of:
1) the ICSI value for mission critical data (MCData) communications short data
service (SDS) specified in the 3GPP TS 24.282 [27];
2) the ICSI value for mission critical data (MCData) communications file
distribution (FD) specified in the 3GPP TS 24.282 [27]; or
3) the ICSI value for mission critical data (MCData) communications enhanced
service (ES) specified in the 3GPP TS 24.282 [27].
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of the
MCPTT specific \ element of an MCPTT group document:
a) shall include an \ element specified in subclause 7.2.4.2.
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3] of the
MCVideo specific \ element of an MCVideo group document:
a) shall include an \ element specified in subclause
7.2.4.2.
The \ element specified in subclause 7.2.4.2 of an MCS
group document:
a) shall include a \ element specified in
subclause 7.2.4.2; and
b) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in subclause 7.2.4.2 of
an MCS group document:
a) may include zero, or more \ elements specified
in subclause 7.2.4.2; and
b) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in subclause 7.2.4.2 of an MCS
group document:
a) shall include a \"temporary-MCPTT-group-ID\" attribute specified in
subclause 7.2.4.2;
b) shall include a \"temporary-MCPTT-group-requestor\" attribute specified in
subclause 7.2.4.2;
c) shall include a \ element specified in
subclause 7.2.4.2. and
d) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in subclause 7.2.4.2 of an MCPTT
group document:
NOTE 3: MCPTT parameters defined in release 13 are included in the \ element. MCPTT parameters defined in a release later than
release 13 are included in the \ element of the \ element.
d) may include a \ element specified in subclause
7.2.4.2;
e) may include a \ element specified in subclause 7.2.4.2;
f) may include a \ element specified in
subclause 7.2.4.2; and
g) may include a \ element
specified in subclause 7.2.4.2.
The \ element specified in subclause 7.2.4.2 of an
MCPTT group document:
a) shall include one or more \ element specified in subclause
7.2.4.2.
The \ element specified in subclause
7.2.4.2 of an MCVideo group document:
a) shall include one or more \ element specified in subclause
7.2.4.2.
The \ element specified in subclause
7.2.4.2 of an MCVideo group document:
a) shall include one or more \ element specified in subclause
7.2.4.2.
The \ element specified in subclause 7.2.4.2 of an MCS group
document:
a) shall include a \"name\" attribute with value equal to a value of the
\ field of a=rtpmap attribute as defined in IETF RFC 4566 [20].
Table 7.2.2-1: ABNF syntax of values of the elements
off-network-PDN-type-values = IPv4-value / IPv6-value
IPv4-value = %x49.50.76.34 ; \"IPv4\"
IPv6-value = %x49.50.76.36 ; \"IPv6\"
on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-
members
= defined-actions / future-actions
defined-actions = proceed-action / abandon-action
proceed-action = %x70.72.6f.63.65.65.64 ; \"proceed\"
abandon-action = %x61.62.61.6e.64.6f.6e ; \"abandon\"
future-actions = 1*( ALPHA / DIGIT / \"-\" )
Elements and attributes of the group document are defined in various
namespaces. The group document refers to namespaces using prefixes specified
in table 7.2.2-2.
Table 7.2.2-2: Assignment of prefixes to namespace names in group documents
* * *
Prefix Namespace rl urn:ietf:params:xml:ns:resource-lists cp
urn:ietf:params:xml:ns:common-policy ocp urn:oma:xml:xdm:common-policy oxe
urn:oma:xml:xdm:extensions mcpttgi urn:3gpp:ns:mcpttGroupInfo:1.0 NOTE: The
\"urn:oma:xml:poc:list-service\" namespace is the default namespace so no
prefix is used for it in the group document.
* * *
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3]
of an MCVideo group document
a) shall include a \"uri\" attribute specified in IETF RFC 4826 [28].
The \ element specified in OMA OMA-TS-XDM_Group-V1_1_1 [3]
of an MCData group document:
a) shall include a \"uri\" attribute specified in IETF RFC 4826 [28].
\ element contains elements defined by future versions of the present
document.
### 7.2.3 Application Unique ID
Application Unique ID is described in the OMA OMA-TS-XDM_Group-V1_1_1 [3]
\"_Application Unique ID_ \".
### 7.2.4 XML schema
#### 7.2.4.1 General
The group document is composed according the XML schema described in the OMA
OMA-TS-XDM_Group-V1_1_1 [3] \"_XML Schema_ \", and extended with extensions
from the XML schema defined in subclause 7.2.4.2.
#### 7.2.4.2 XML schema for MCS specific extensions
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.5 Default document namespace
The default document namespace used in evaluating URIs is described in the OMA
OMA-TS-XDM_Group-V1_1_1 [3] \"_Default Namespace_ \".
### 7.2.6 MIME type
MIME type is described in the OMA OMA-TS-XDM_Group-V1_1_1 [3] \"_MIME Type_
\".
### 7.2.7 Validation constraints
Validation constraints are described in the OMA OMA-TS-XDM_Group-V1_1_1 [3]
\"_Validation Constraints_ \", along with the validations constraints
described in this subclause.
When the \ element contains a value \"true\" then
the \ element shall contain a value.
When the \ element contains a value \"false\" then
a value may be included in the \ element.
### 7.2.8 Data semantics
Data semantics are described in the OMA OMA-TS-XDM_Group-V1_1_1 [3] \"_Data
Semantics_ \" with the MCS specific clarifications specified in this
subclause.
A group document is an MCS group document if the group document:
a) is an MCPTT group document;
b) is an MCData group document;
c) is an MCVideo group document; or
d) is any combination of the previous bullets.
A group document is an MCPTT group document only if:
a) the \ element is present in the group document;
b) the \ child element of the \ element is
present;
c) the \ element includes the \"enabler\" attribute set to the MCPTT
ICSI specified in the 3GPP TS 24.379 [5];
d) the \ child element of the \ element is present; and
e) the \ child element of the \ element is present.
A group document is an MCVideo group document only if:
a) the \ element is present in the group document;
b) the \ child element of the \ element is
present;
c) the \ element includes the \"enabler\" attribute set to the
MCVideo ICSI specified in the 3GPP TS 24.281 [26];
d) the \ child element of the \ element is present; and
e) the \ child element of the \ element is
present.
A group document is an MCData group document only if:
a) the \ element is present in the group document;
b) the \ child element of the \ element is
present; and
c) the \ element includes the \"enabler\" attribute set to:
1) the ICSI value for mission critical data (MCData) communications short data
service (SDS) specified in the 3GPP TS 24.282 [27];
2) the ICSI value for mission critical data (MCData) communications file
distribution (FD) specified in the 3GPP TS 24.282 [27]; or
3) the ICSI value for mission critical data (MCData) communications enhanced
service (ES) specified in the 3GPP TS 24.282 [27].
If a group document includes an element not specified in subclause 7.2.2 for
an MCS group document and the element has the \"must-understand\" attribute
with value \"true\", then the group document shall be ignored.
If a group document includes an element not specified in subclause 7.2.2 for
an MCS group document and the element:
a) does not have the \"must-understand\" attribute with value \"true\"; and
b) is not a descendant of a \ element;
then the element shall be ignored.
If a group document includes an element not specified in subclause 7.2.2 for
an MCS group document and the element:
a) does not have the \"must-understand\" attribute with value \"true\"; and
b) is a descendant of a \ element;
then the element shall be evaluated as not known element according to IETF RFC
4745 [6].
If a group document includes an attribute not specified in subclause 7.2.2 for
an MCS group and different from the \"must-understand\" attribute, then the
attribute shall be ignored.
The possible values of the \ element in the \ element of the MCPTT group document are:
a) \"true\" which represents the pre-arranged group in on-network MCPTT
procedures; and
b) \"false\" which represents the chat group in on-network MCPTT procedures.
This value is used when the element is not present.
NOTE 1: Presence or absence of the \ element specified in OMA
OMA-TS-XDM_Group-V1_1_1 [3] does not impact MCS procedures.
The \ element of a \ element of a group document
contains the group name.
The \ element of a \ element of a group document contains
the group members.
The \ element of a \ element of a group document
contains the authorization policy associated with this group.
The \ element of a \ element of a group
document contains the supported services of this group.
The \"uri\" attribute of a \ element of a group document
contains the group ID. The group ID of an MCS group document:
a) is also the MCS group identity, if the MCS group is not a temporary MCS
group; and
b) is also the temporary MCS group identity, if the MCS group is a temporary
MCS group.
If the MCS group document is an MCPTT group document and defines a non-
temporary MCS group, the MCS group identity is also the MCPTT group ID. If the
MCS group document is an MCVideo group document and defines a non-temporary
MCS group, the MCS group identity is also the MCVideo group ID. If the MCS
group document is an MCData group document and defines a non-temporary MCS
group, the MCS group identity is also the MCData group ID.
NOTE 2: The above statements apply also when the MCS group document is of
several MCSs.
If the MCS group document is an MCPTT group document and defines a temporary
MCS group, the MCS group identity is also the temporary MCPTT group ID. If the
MCS group document is an MCVideo group document and defines a temporary MCS
group, the MCS group identity is also the temporary MCVideo group ID. If the
MCS group document is an MCData group document and defines a temporary MCS
group, the MCS group identity is also the temporary MCData group ID.
NOTE 3: The above rules statements also when the MCS group document is of
several MCSs.
Presence of the \ element in the \ element
of the MCS group document indicates that the MCS group is disabled in on-
network procedures. Absence of the \ element in the
\ element of the MCS group document indicates that the MCS group
is enabled in on-network procedures.
Value of the \ element of the \
element of the MCPTT group document indicates the priority level of the group
in on-network MCPTT procedures. Higher value indicates higher priority.
Absence of the \ element of the \
element of the MCPTT group document indicates the lowest possible priority.
Value of the \ element of the \ element of the MCPTT group document indicates the maximum number of
participants in the MCPTT group session in on-network MCPTT procedures.
Presence of the \ element in the \ element
of the MCS group document indicates that the MCS group is a temporary MCS
group. Each \ child elements of the \ element of the \ element indicates MCS
group ID of a constituent MCS group of the temporary MCS group. Absence of the
\ element in the \ element of the MCS
group document indicates that the MCS group is not a temporary MCS group.
Presence of a \ element in the \ element
of the MCS group document indicates that the MCS group is a constituent MCS
group of a temporary MCS group with MCS Group ID indicated in the value of the
\"temporary-MCPTT-group-ID\" attribute of the \ element.
The data semantic of:
a) the \ child element;
b) the \ child element;
c) the \ child element; and
d) the \ child element;
of the \ element is the same as semantic of the
corresponding elements in the \ element of the MCS group
document of the temporary MCS group. Each \ child
elements of the \ element of the \ element indicates MCS group ID of a constituent MCS group of the
temporary MCS group. Absence of the \ element in the
\ element of the MCS group document indicates that the MCS group
is not a constituent MCS group of a temporary MCS group.
Value of the \ element of the \ element of the MCS group document indicates the ProSe layer-2 group
ID specified in 3GPP TS 24.334 [7] assigned to the MCS group for usage in the
off-network procedures specified in 3GPP TS 24.379 [5]. Absence of the \ element of the \ element of the
MCS group document indicates that the MCS group is not to be used in off-
network procedures specified in 3GPP TS 24.379 [5].
Value of the \ element of the \ element of
the MCS group document indicates the IP version to be used in off-network
procedures specified in 3GPP TS 24.379 [5] assigned to the MCS group for usage
in the off-network procedures specified in 3GPP TS 24.379 [5]. Absence of the
\ element of the \ element of the MCS
group document indicates that the MCS group is not to be used in off-network
procedures specified in 3GPP TS 24.379 [5]. A value of the \ element of the \ element of the MCS group document other
than any of the values specified in table 7.2.2-1 indicates that the MCS group
is not to be used in off-network procedures specified in 3GPP TS 24.379 [5].
Value of the \ element of the \ element of the MCS group document indicates the IP multicast address
assigned to the MCS group for usage in the off-network procedures specified in
3GPP TS 24.379 [5]. The IP multicast address is of the IP version to be used
in off-network procedures for the MCS group. Incorrect format of the \ element of the \ element of the
MCS group document indicates that the MCS group is not to be used in off-
network procedures specified in 3GPP TS 24.379 [5]. Absence of the \ element of the \ element of the
MCS group document indicates that the MCS group is not to be used in off-
network procedures specified in 3GPP TS 24.379 [5].
Value of the \ element of the \ element of the MCPTT group document indicates the ProSe Per-Packet
Priority value to be used when transmitting IP packets carrying signalling for
a call on the MCPTT group in off-network MCPTT procedures specified in 3GPP TS
24.379 [5]. Absence of the \ element of the
\ element of the MCPTT group document indicates that a call
cannot be established on the MCPTT group in off-network MCPTT procedures
specified in 3GPP TS 24.379 [5].
Value of the \ element of
the \ element of the MCPTT group document indicates the ProSe
Per-Packet Priority value to be used when transmitting IP packets carrying
signalling for an MCPTT-emergency call on the MCPTT group in off-network MCPTT
procedures specified in 3GPP TS 24.379 [5]. Absence of the \ element of the \ element
of the MCPTT group document indicates that an MCPTT-emergency call cannot be
established on the MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 [5].
Value of the \ element
of the \ element of the MCPTT group document indicates the ProSe
Per-Packet Priority value to be used when transmitting IP packets carrying
signalling for an imminent peril call on the MCPTT group in off-network MCPTT
procedures specified in 3GPP TS 24.379 [5]. Absence of the \ element of the \
element of the MCPTT group document indicates that an imminent peril call
cannot be established on the MCPTT group in off-network MCPTT procedures
specified in 3GPP TS 24.379 [5].
Value of the \ element of the \
element of the MCPTT group document indicates the ProSe Per-Packet Priority
value to be used when transmitting IP packets carrying media for a call on the
MCPTT group in off-network MCPTT procedures specified in 3GPP TS 24.379 [5].
Absence of the \ element of the \
element of the MCPTT group document indicates that a call cannot be
established on the MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 [5].
Value of the \ element of the
\ element of the MCPTT group document indicates the ProSe Per-
Packet Priority value to be used when transmitting IP packets carrying media
for an MCPTT-emergency call on the MCPTT group in off-network MCPTT procedures
specified in 3GPP TS 24.379 [5]. Absence of the \ element of the \ element of the MCPTT group
document indicates that an MCPTT-emergency call cannot be established on the
MCPTT group in off-network MCPTT procedures specified in 3GPP TS 24.379 [5].
Value of the \ element of
the \ element of the MCPTT group document indicates the ProSe
Per-Packet Priority value to be used when transmitting IP packets carrying
media for an imminent peril call on the MCPTT group in off-network MCPTT
procedures specified in 3GPP TS 24.379 [5]. Absence of the \ element of the \ element
of the MCPTT group document indicates that an imminent peril call cannot be
established on the MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 [5].
Value of the \ element of the
\ element of the MCVideo group document indicates the ProSe Per-
Packet Priority value to be used when transmitting IP packets carrying
signalling for a call on the MCVideo group in off-network MCVideo procedures
specified in 3GPP TS 24.281 [26]. Absence of the \ element of the \ element of the MCVideo group
document indicates that a call cannot be established on the MCVideo group in
off-network MCVideo procedures specified in 3GPP TS 24.281 [26].
Value of the \
element of the \ element of the MCVideo group document indicates
the ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying signalling for an MCVideo-emergency call on the MCVideo group in off-
network MCVideo procedures specified in 3GPP TS 24.281 [26]. Absence of the
\ element of the
\ element of the MCVideo group document indicates that an
MCVideo-emergency call cannot be established on the MCVideo group in off-
network MCVideo procedures specified in 3GPP TS 24.281 [26].
Value of the \
element of the \ element of the MCVideo group document indicates
the ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying signalling for an imminent peril call on the MCVideo group in off-
network MCVideo procedures specified in 3GPP TS 24.281 [26]. Absence of the
\ element of
the \ element of the MCVideo group document indicates that an
imminent peril call cannot be established on the MCVideo group in off-network
MCVideo procedures specified in 3GPP TS 24.281 [26].
Value of the \ element of the \ element of the MCVideo group document indicates the ProSe Per-Packet
Priority value to be used when transmitting IP packets carrying media for a
call on the MCVideo group in off-network MCVideo procedures specified in 3GPP
TS 24.281 [26]. Absence of the \ element
of the \ element of the MCVideo group document indicates that a
call cannot be established on the MCVideo group in off-network MCVideo
procedures specified in 3GPP TS 24.281 [26].
Value of the \ element of
the \ element of the MCVideo group document indicates the ProSe
Per-Packet Priority value to be used when transmitting IP packets carrying
media for an MCVideo-emergency call on the MCVideo group in off-network
MCVideo procedures specified in 3GPP TS 24.281 [26]. Absence of the \ element of the \
element of the MCVideo group document indicates that an MCVideo-emergency call
cannot be established on the MCVideo group in off-network MCVideo procedures
specified in 3GPP TS 24.281 [26].
Value of the \
element of the \ element of the MCVideo group document indicates
the ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying media for an imminent peril call on the MCVideo group in off-network
MCVideo procedures specified in 3GPP TS 24.281 [26]. Absence of the \ element of the \ element of the MCVideo group document indicates that an imminent
peril call cannot be established on the MCVideo group in off-network MCVideo
procedures specified in 3GPP TS 24.281 [26].
Value of the \ element of the
\ element of the MCData group document indicates the ProSe Per-
Packet Priority value to be used when transmitting IP packets carrying
signalling for a call on the MCData group in off-network MCData procedures
specified in 3GPP TS 24.282 [27]. Absence of the \ element of the \ element of the MCData group
document indicates that a call cannot be established on the MCData group in
off-network MCData procedures specified in 3GPP TS 24.282 [27].
Value of the \ element of the \ element of the MCData group document indicates the ProSe Per-Packet
Priority value to be used when transmitting IP packets carrying media for a
call on the MCData group in off-network MCData procedures specified in 3GPP TS
24.282 [27]. Absence of the \ element of
the \ element of the MCData group document indicates that a call
cannot be established on the MCData group in off-network MCData procedures
specified in 3GPP TS 24.282 [27].
Value of the \ element of the \ element of the MCS group document indicates of a ProSe relay service
code specified in 3GPP TS 24.334 [7] to be used by a UE when the UE accessing
a UE-to-network relay in procedures specified in 3GPP TS 24.379 [5]. Absence
of the \ element of the \
element of the MCS group document indicates that the MCS group is not to be
accessed using any procedures specified in 3GPP TS 24.379 [5] which requires
support of a ProSe UE-to-network relay.
Value of the \ element of the \ element of the MCS group
document indicates the group\'s owner (mission critical organisation)
specified in 3GPP TS 23.179 [4].
Value of the \"name\" attribute of the \ element of the \ element of the \ element of the MCPTT group
document indicates the preferred RTP payload format to be used for voice
encoding in MCPTT group sessions of the MCPTT group.
Value of the \ element of the \
element of the MCS group document indicates the level within group hierarchy
specified in 3GPP TS 23.179 [4].
Value of the \ element of the \
element of the MCS group document indicates the level within user hierarchy
specified in 3GPP TS 23.179 [4].
Value of the \
element of the \ element of the MCPTT group document indicates
the timeout value for the cancellation of an in progress emergency in on-
network MCPTT procedures.
Value of the \ element of the \ element of the MCPTT group document
indicates the timeout value for the cancellation of an in progress imminent-
peril group call in on-network MCPTT procedures.
Value of the \
element of the \ element of the MCPTT group document indicates
the timeout value for the cancellation of an in progress emergency in off-
network MCPTT procedures.
Value of the \ element of the \ element of the MCPTT group document
indicates the timeout value for the cancellation of an in progress imminent-
peril group call in off-network MCPTT procedures.
Value of the \ element of the \ element
of the MCPTT group document indicates the group call hang timer specified in
3GPP TS 23.179 [4] in on-network MCPTT procedures.
Value of the \ element of the \
element of the MCPTT group document indicates the maximum duration of group
calls specified in 3GPP TS 23.179 [4] in on-network MCPTT procedures.
Value of the \ element of the \ element
of the MCPTT group document indicates the group call hang timer specified in
3GPP TS 23.179 [4] in off-network MCPTT procedures.
Value of the \ element of the \
element of the MCPTT group document indicates the maximum duration of group
calls specified in 3GPP TS 23.179 [4] in off-network MCPTT procedures.
Value of the \ element of the \ element of the MCVideo group document
indicates the timeout value for the cancellation of an in progress emergency
in off-network MCVideo procedures.
Value of the \ element of the \ element of the MCVideo
group document indicates the timeout value for the cancellation of an in
progress imminent-peril group call in off-network MCVideo procedures.
Value of the \ element of the \ element of the MCVideo group document indicates the maximum duration
of group calls specified in 3GPP TS 23.281 [24] in off-network MCVideo
procedures.
Value of the \ element of the \ element of the MCPTT group document indicates the minimum number of
affiliated group members acknowledging before start of audio transmission
specified in 3GPP TS 23.179 [4] in on-network MCPTT procedures.
Value of the \
element of the \ element of the MCPTT group document indicates
the timeout for acknowledgement of required group members specified in 3GPP TS
23.179 [4] in on-network MCPTT procedures.
Value of the \ element of the \ element of
the MCPTT group document indicates the action upon failure to receive
acknowledgement from required group members before call timeout specified in
3GPP TS 23.179 [4] in on-network MCPTT procedures.
The possible values of the \ element are:
a) \"true\" which indicates that a GMK is required to confidentiality and
integrity protect media for on-network and off-network MCPTT calls on the
MCPTT group. This value is used when the element is not present; and
b) \"false\" which indicates that both confidentiality protection and
integrity protection of media are not required for on-network and off-network
MCPTT calls on the MCPTT group.
The possible values of the \ element are:
a) \"true\" which indicates that both confidentiality protection and integrity
protection of floor control signalling are required for on-network and off-
network MCPTT calls on the MCPTT group. This value is used when the element is
not present; and
b) \"false\" which indicates that both confidentiality protection and
integrity protection of floor control signalling are not required for on-
network and off-network MCPTT calls on the MCPTT group.
If the \ element is set to \"true\" or when
not present, then for on-network MCPTT group calls:
a) the presence of the \ element
in the \ element of the MCPTT group indicates that multicast
bearers are used for floor controlling signalling for this group requiring
that an MuSiK or MKFC is used to protect multicast floor control signalling;
b) the absence of the \ element in
the \ element of the MCPTT group indicates that multicast
bearers are not used for floor control signalling for this group requiring
that no MuSiK and no MKFC needs to be used to protect floor control signalling
NOTE 4: For on-network MCPTT group calls, in the case that the \ is \"true\" or not present, and the \ is not present, then floor control
protection is provided by the CSK, which is generated by the client.
NOTE 5: For off-network MCPTT group calls, a GMK is always used to protect
floor control signalling.
The possible values of the \ element in the
\ element of the MCVideo group document indicates are:
a) \"true\" which represents the pre-arranged group in on-network MCVideo
procedures; and
b) \"false\" which represents the chat group in on-network MCVideo procedures.
This value is used when the element is not present.
NOTE 6: Presence or absence of the \ element specified in OMA
OMA-TS-XDM_Group-V1_1_1 [3] does not impact MCS procedures.
Value of the \ element of the \ element of the MCVideo group document indicates the maximum duration
of group calls specified in 3GPP TS 23.281 [24] in on-network MCVideo
procedures.
The possible values of the \ element are:
a) \"true\" which indicates that a GMK is required to confidentiality and
integrity protect media for on-network and off-network MCVideo transmissions
on the MCVideo group. This value is used when the element is not present; and
b) \"false\" which indicates that both confidentiality protection and
integrity protection of media are not required for on-network and off-network
MCVideo transmissions on the MCVideo group.
The possible values of the \ element
are:
a) \"true\" which indicates that confidentiality and integrity protection for
on-network and off-network MCVideo transmission control signalling on the
MCVideo group is enabled. This value is used when the element is not present;
and
b) \"false\" which indicates that confidentiality and integrity protection for
on-network and off-network MCVideo transmission control signalling on the
MCVideo group is disabled.
Value of the \"name\" attribute of the \ element of the \ element of the \ element of the
MCVideo group document indicates the preferred RTP payload format to be used
for audio encoding in MCVideo group sessions of the MCVideo group.
Value of the \"name\" attribute of the \ element of the \ element of the \ element of the
MCVideo group document indicates the preferred RTP payload format to be used
for video encoding in MCVideo group sessions of the MCVideo group.
Value of the \ element of the \ element of the MCVideo group document indicates in order of
preference, the allowed set of video resolutions (number of horizontal pixels
x number of vertical pixels) to be used in MCVideo group sessions of the
MCVideo group.
Value of the \ element of the \ element of the MCVideo group document indicates in order of
preference, the allowed set of video frame rates (in frames per second) to be
used in MCVideo group sessions of the MCVideo group.
The possible values of the \ element are:
a) \"true\" which indicates that urgent real-time video mode is allowed for
the MCVideo group.
b) \"false\" which indicates that urgent real-time video mode is not allowed
for the MCVideo group. This value is used when the element is not present;
The possible values of the \ element
are:
a) \"true\" which indicates that non urgent real-time video mode is allowed
for the MCVideo group.
b) \"false\" which indicates that non urgent real-time video mode is not
allowed for the MCVideo group. This value is used when the element is not
present;
The possible values of the \ element are:
a) \"true\" which indicates that non real-time video mode is allowed for the
MCVideo group.
b) \"false\" which indicates that non real-time video mode is not allowed for
the MCVideo group. This value is used when the element is not present;
The possible values of the \ element are:
a) \"urgent-real-time\";
b) \"non-urgent-real-time\"; and
c) \"non-real-time\".
Value of the \ element of the \ element of the MCVideo group document
indicates the allowed maximum number of simultaneous transmitting MCVideo
Group Members.
Value of the \ element of the
\ element of the MCVideo group document indicates the minimum
number of affiliated group members acknowledging before start of video
transmission specified in 3GPP TS 23.281 [24] in on-network MCVideo
procedures.
Value of the \ element of the \ element of the MCVideo group document indicates the priority level of
the group in on-network MCVideo procedures. Higher value indicates higher
priority. Absence of the \ element of the
\ element of the MCVideo group document indicates the lowest
possible priority.
The possible values of the \ element
are:
a) \"single\" which indicates transmission participants rely on a single
participant designated as transmission arbitrator for the arbitraton of
transmission requests; and
b) \"self\" which indicates each transmsission participant arbitrates its own
transmission based on its view of the topology;
Value of the \ element
of the \ element of the MCVideo group document indicates the
allowed maximum number of simultaneous transmissions for off-network MCVideo
procedures.
The possible values of the \ element are:
a) \"true\" which indicates that a GDK is required to confidentiality and
integrity protect media for on-network and off-network MCData transmissions on
the MCData group. This value is used when the element is not present; and
b) \"false\" which indicates that both confidentiality protection and
integrity protection of media are not required for on-network and off-network
MCData transmissions on the MCData group.
The possible values of the \ element are:
a) \"true\" which indicates that confidentiality and integrity protection for
on-network and off-network MCData transmission control signalling on the
MCData group is enabled. This value is used when the element is not present;
and
b) \"false\" which indicates that confidentiality and integrity protection for
on-network and off-network MCData transmission control signalling on the
MCData group is disabled.
The possible values of \ element are:
a) \"true\" which indicates that short data service is enabled for the MCData
group. This value is used when the element is not present; and
b) \"false\" which indicates that short data service is disabled for the
MCData group.
The possible values of \ element are:
a) \"true\" which indicates that file distribution is enabled for the MCData
group. This value is used when the element is not present; and
b) \"false\" which indicates that file distribution is disabled for the MCData
group.
The possible values of \ element are:
a) \"true\" which indicates that conversation management is enabled for the
MCData group. This value is used when the element is not present; and
b) \"false\" which indicates that conversation management is disabled for the
MCData group.
The possible values of \ element are:
a) \"true\" which indicates that transmission control is enabled for the
MCData group. This value is used when the element is not present; and
b) \"false\" which indicates that transmission control is disabled for the
MCData group.
The possible values of \ element are:
a) \"true\" which indicates that reception control is enabled for the MCData
group. This value is used when the element is not present; and
b) \"false\" which indicates that reception control is disabled for the MCData
group.
The possible values of \ element are:
a) \"true\" which indicates that enhanced status is enabled for the MCData
group. This value is used when the element is not present; and
b) \"false\" which indicates that enhanced status is disabled for the MCData
group.
Value of the \ element of the \ element of the MCData group document indicates the priority level of
the group in on-network MCData procedures. Higher value indicates higher
priority. Absence of the \ element of the
\ element of the MCData group document indicates the lowest
possible priority.
Value of the \ element indicates the
maximum size of data (in bytes) that the originating MCData client is allowed
to send to the MCData server for on-network SDS communications.
Value of the \ element indicates the
maximum size of data (in bytes) that the originating MCData client is allowed
to send to the MCData server for on-network FD communications.
Value of the \ element indicates
the maximum size of data (in bytes) which the MCData server always requests
the terminating MCData client to automatically download for on-network FD
communications using HTTP.
The \"uri\" attribute of a \ element of the MCS group document:
a) contains the MCPTT user identity, if the MCS group is not a temporary MCS
group and the MCS group is an MCPTT group;
b) contains the MCVideo user identity, if the MCS group is not a temporary MCS
group, the MCS group is not an MCPTT group and the MCS group is an MCVideo
group;
c) contains the MCData user identity, if the MCS group is not a temporary MCS
group, the MCS group is not an MCPTT group, the MCS group is not an MCVideo
group and the MCS group is an MCData group; and
d) contains the MCS group identity of a constituent MCS group, if the MCS
group is a temporary MCS group.
Presence of the \ element in the \ element of the
MCPTT group document indicates that the MCPTT group member identified by the
\ element is a required MCPTT group member in on-network MCPTT
procedures. Absence of the \ element in the \
element of the MCPTT group document indicates that the MCPTT group member
identified by the \ element is not a required MCPTT group member in on-
network MCPTT procedures.
Value of the \ element in the \ element of the MCS group
document indicates the user priority of the MCS group member identified by the
\ element. Higher value indicates higher priority. Absence of the
\ element in the \ element of the MCS group document
indicates that the MCS group member identified by the \ element has the
lowest possible priority.
Value of the \ element in the \ element of the
MCS group document indicates the user reception priority of the MCS group
member identified by the \ element. Higher value indicates higher
reception priority. Absence of the \ element in the
\ element of the MCS group document indicates that the MCS group member
identified by the \ element has the lowest possible reception priority.
Value of the \ element in the \ element of the MCS
group document indicates the participant type specified in 3GPP TS 23.179 [4]
assigned to the MCS group member identified by the \ element. Absence
of the \ element in the \ element of the MCS group
document indicates that the MCS group member identified by the \
element is not assigned any participant type.
Presence of the \ element in the \ element of the
MCPTT group document indicates that the MCPTT group member identified by the
\ element is not allowed to send media in MCPTT group calls of the
MCPTT group in on-network MCPTT procedures. Absence of the \ element in the \ element of the MCPTT group document
indicates that the MCPTT group member identified by the \ element is
allowed to send media in MCPTT group calls of the MCPTT group in on-network
MCPTT procedures.
Presence of the \ element in the \ element
of the MCVideo group document indicates that the MCVideo group member
identified by the \ element is a required MCVideo group member in on-
network MCVideo procedures. Absence of the \ element in
the \ element of the MCVideo group document indicates that the MCVideo
group member identified by the \ element is not a required MCPTT group
member in on-network MCVideo procedures.
Value of the \"uri\" attribute of the \ element in the
\ element of the MCVideo group document indicates the MCVideo user
identity.
Value of the \ element in the \
element of the MCData group document indicates the maximum size of data (in
bytes) that the MCData group member identified by the \ element can
send in a single request during group communications.
Value of the \ element in the \
element of the MCData group document indicates the maximum time that the
MCData group member identified by the \ element can transmit for in a
single request during group communications.
Value of the \"uri\" attribute of the \ element in the
\ element of the MCData group document indicates the MCData user
identity.
The \ element of an \ element of a
\ element of the MCPTT group document indicates whether the identity
matching the rule identified by the \ element is allowed to request an
MCPTT-emergency call on the MCPTT group. The possible values of the element
are:
a) \"false\" which indicates that the identity is not allowed to request an
MCPTT-emergency call on the MCPTT group. This is the default value taken in
the absence of the element.
b) \"true\" which indicates that the identity is allowed to request an MCPTT-
emergency call on the MCPTT group.
The \ element of an \ element of a \
element of the MCPTT group document indicates whether the identity matching
the rule identified by the \ element is allowed to request an imminent
peril call on the MCPTT group. The possible values of the element are:
a) \"false\" which indicates that the identity is not allowed to request an
MCPTT-imminent peril call on the MCPTT group. This is the default value taken
in the absence of the element.
b) \"true\" which indicates that the identity is allowed to request an MCPTT
imminent peril call on the MCPTT group.
The \ element of an \ element of a
\ element of the MCPTT group document indicates whether the identity
matching the rule identified by the \ element is allowed to request an
MCPTT-emergency alert on the MCPTT group. The possible values of the element
are:
a) \"false\" which indicates that the identity is not allowed to request an
MCPTT-emergency alert on the MCPTT group. This is the default value taken in
the absence of the element.
b) \"true\" which indicates that the identity is allowed to request an MCPTT-
emergency alert on the MCPTT group.
The \ element of an \ element
of a \ element of the MCS group document indicates whether the identity
matching the rule identified by the \ element is allowed to get the MCS
group member list of the MCS group in on-network procedures. The possible
values of the element are:
a) \"false\" which indicates that the identity is not allowed to get the MCS
group member list of the MCS group in on-network procedures. This is the
default value taken in the absence of the element.
b) \"true\" which indicates that the identity is allowed to get the MCS group
member list of the MCS group in on-network procedures.
The \ element of an \
element of a \ element of the MCPTT group document indicates whether the
identity matching the rule identified by the \ element is allowed to get
the list of MCPTT users affiliated to the MCPTT group in on-network MCPTT
procedures. The possible values of the element are:
a) \"false\" which indicates that the identity is not allowed to get the list
of MCPTT users affiliated to the MCPTT group in on-network MCPTT procedures.
This is the default value taken in the absence of the element.
b) \"true\" which indicates that the identity is allowed to get the list of
MCPTT users affiliated to the MCPTT group in on-network MCPTT procedures.
The \ element of an \ element of a
\ element of the MCPTT group document indicates whether the identity
matching the rule identified by the \ element is allowed to subscribe to
the conference event package of an MCPTT group session of the MCPTT group in
on-network MCPTT procedures. The possible values of the element are:
a) \"false\" which indicates that the identity is not allowed to subscribe to
the conference event package of an MCPTT group session of the MCPTT group in
on-network MCPTT procedures. This is the default value taken in the absence of
the element.
b) \"true\" which indicates that the identity is allowed to subscribe to the
conference event package of an MCPTT group session of the MCPTT group in on-
network MCPTT procedures.
The \ element of an \ element of a
\ element of the MCVideo group document indicates whether the identity
matching the rule identified by the \ element is allowed to request an
MCVideo-emergency call on the MCVideo group. The possible values of the
element are:
a) \"false\" which indicates that the identity is not allowed to request an
MCVideo-emergency call on the MCVideo group. This is the default value taken
in the absence of the element.
b) \"true\" which indicates that the identity is allowed to request an
MCVideo-emergency call on the MCVideo group.
The \ element of an \ element of a
\ element of the MCVideo group document indicates whether the identity
matching the rule identified by the \ element is allowed to request an
imminent peril call on the MCVideo group. The possible values of the element
are:
a) \"false\" which indicates that the identity is not allowed to request an
MCVideo-imminent peril call on the MCVideo group. This is the default value
taken in the absence of the element.
b) \"true\" which indicates that the identity is allowed to request an MCVideo
imminent peril call on the MCVideo group.
The \ element of an \ element of a
\ element of the MCVideo group document indicates whether the identity
matching the rule identified by the \ element is allowed to request an
MCVideo-emergency alert on the MCVideo group. The possible values of the
element are:
a) \"false\" which indicates that the identity is not allowed to request an
MCVideo-emergency alert on the MCVideo group. This is the default value taken
in the absence of the element.
b) \"true\" which indicates that the identity is allowed to request an
MCVideo-emergency alert on the MCVideo group.
The \ element of an \
element of a \ element of the MCVideo group document indicates whether
the identity matching the rule identified by the \ element is allowed to
subscribe to the conference event package of an MCVideo group session of the
MCVideo group in on-network MCVideo procedures. The possible values of the
element are:
a) \"false\" which indicates that the identity is not allowed to subscribe to
the conference event package of an MCVideo group session of the MCVideo group
in on-network MCVideo procedures. This is the default value taken in the
absence of the element.
b) \"true\" which indicates that the identity is allowed to subscribe to the
conference event package of an MCVideo group session of the MCVideo group in
on-network MCVideo procedures.
The \ element of an
\ element of a \ element of the MCVideo group document
indicates whether the identity matching the rule identified by the \
element is allowed to get the list of MCVideo users affiliated to the MCVideo
group in on-network MCVideo procedures. The possible values of the element
are:
a) \"false\" which indicates that the identity is not allowed to get the list
of MCVideo users affiliated to the MCVideo group in on-network MCVideo
procedures. This is the default value taken in the absence of the element.
b) \"true\" which indicates that the identity is allowed to get the list of
MCVideo users affiliated to the MCVideo group in on-network MCVideo
procedures.
The \ element of an \
element of a \ element of MCData group document indicates whether the
whether the identity matching the rule identified by the \ element is
allowed to transmit data in this group. The possible values of this element
are:
a) \"false\" which indicates that the identity is not allowed to transmit data
in this group. This is the default value taken in the absence of the element.
b) \"true\" which indicates that the identity is allowed to transmit data in
this group.
The \ element of an
\ element of a \ element of the MCData group document indicates
whether the identity matching the rule identified by the \ element is
allowed to get the list of MCData users affiliated to the MCData group in on-
network MCData procedures. The possible values of the element are:
a) \"false\" which indicates that the identity is not allowed to get the list
of MCData users affiliated to the MCData group in on-network MCData
procedures. This is the default value taken in the absence of the element.
b) \"true\" which indicates that the identity is allowed to get the list of
MCData users affiliated to the MCData group in on-network MCData procedures.
The possible values of the \ element are:
a) \"true\" which indicates that the queue shall be used in off-network MCPTT
procedures. This is the default value taken in the absence of the element; and
b) \"false\" which indicates that the queue shall not be used in off-network
MCPTT procedures.
The \ element indicates whether or not a group
is configured for audio cut-in floor control. Audio cut-in floor control only
applies in on-network MCPTT and has no effect in off-network MCPTT. The
possible values of the element are:
a) \"true\" which indicates that audio cut-in is enabled for the group; and
b) \"false\" which indicates that audio cut-in is disabled for the group. This
is the default value taken in the absence of the element.
\ element contains elements defined by future version of the present
document.
### 7.2.9 Naming conventions
Naming conventions are described in the OMA OMA-TS-XDM_Group-V1_1_1 [3]
\"_Naming conventions_ \".
### 7.2.10 Global documents
#### 7.2.10.1 General
Global documents are described in the OMA OMA-TS-XDM_Group-V1_1_1 [3]
\"_Global Documents_ \".
#### 7.2.10.2 Group document addressed by a group ID
A group document addressed by a group ID is a group document:
\- located in a subdirectory of the global tree, with the subdirectory name
specified by the byGroupID-subdirectory ANBF rule of table 7.2.10.2-1; and
\- with the document name set to the group ID.
Table 7.2.10.2-1: ABNF syntax of directory name for group documents addressed
by a group ID
byGroupID-subdirectory = %x62.79.47.72.6f.75.70.49.44; \"byGroupID\"
### 7.2.11 Resource interdependencies
#### 7.2.11.1 General
Resource interdependencies are described in the OMA OMA-TS-XDM_Group-V1_1_1
[3] \"_Resource interdependencies_ \".
The presence and values of, or the absence of:
a) the \ child element;
b) the \ child element;
c) the \ child element; and
d) the \ child element;
of the \ element of the MCPTT group document of the
constituent MCTTP group are the same as the presence and values of, or the
absence of, the corresponding elements in the \ element of the
MCPTT group document of the temporary MCPTT group.
#### 7.2.11.2 Group document addressed by a group ID
The following applies for a group document addressed by a group ID as
described in subclause 7.2.10.2 where the group ID identifies a group defined
in the GMS:
a) a group document addressed by a group ID shall be associated with a group
document in the users tree of a particular user which defines the group ID;
b) a group document addressed by a group ID shall exist for each associated
group document in the users tree;
c) a group document addressed by a group ID shall have the same content as the
associated group document in the users tree;
d) GMS shall create a group document addressed by a group ID when the
associated group document in the users tree is created;
e) modification of a group document addressed by a group ID shall result in
the same modification of the associated group document in the users tree; and
f) removal of a group document addressed by a group ID shall result in removal
of the associated group document in the users tree.
The following applies for a group document addressed by a group ID where the
group ID identifies a group of another MCS provider:
a) GMS forwards a XCAP request for management of a group document addressed by
a group ID towards the other MCS provider.
### 7.2.12 Authorization policies
#### 7.2.12.1 General
Authorization policies are described in the OMA OMA-TS-XDM_Group-V1_1_1 [3]
\"_Authorization policies_ \".
An authenticated identity is authorized to read the \ element of an MCS
group document.
An authenticated identity is authorized to read a \ element of
the \ element of the MCS group document and any descendant elements of
the \ element:
a) except a \ element of the \ element; and
b) except descendant elements of the \ element of the \
element;
if the authenticated identity is a member of an MCS group defined by the
\ element.
An authenticated identity is authorized to read a \ element of a \ element of the \ element of an MCS group document and any
descendant elements of the \ element if:
a) the authenticated identity is a member of MCS group defined by the \ element; and
b) the MCS group document contains a \ element:
1) with the \ element evaluating to true for the authenticated
identity or without the \ element; and
2) with the \ element containing the \ element.
An authenticated identity is authorized to read an \ element of a
\ element of a \ element of the \ element of the
MCS group document and any descendant elements of the \ element if:
a) the \"uri\" attribute of the \ element contains the authenticated
identity;
b) the \"uri\" attribute of the \ element of the \
element contains the authenticated identity; or
c) the \"uri\" attribute of the \ element of the \
element contains the authenticated identity.
An authenticated identity is authorized to read an MCS group document if the
authenticated identity is listed in the authorized MCS server list specified
in subclause 6.2.5.1.
An authenticated identity is authorized to create, read, modify and delete an
MCS group document if the MCS group document is stored:
a) in users tree of the XUI equal to the authenticated identity; or
b) in users tree of the another XUI, subject to MCS service provider policy.
The MCS service provider policy can specified e.g. using an appropriate access
permissions document specified in OMA OMA-TS-XDM_Core-V2_1 [2], stored in the
user\'s tree of the other XUI;
and unless precluded by other statement of this subclause.
None is authorized to create, delete, and modify a \
element of a \ element of the \ element of an existing
MCS group document.
None is authorized to delete a group document containing a \ element of a \ element of the \ element of an
MCS group document.
An authenticated identity is authorized to create and delete a \ element in the \ element of the \ element of
an existing MCS group document if the authenticated identity is in authorized
GMS list specified in subclause 6.2.5.1.
An authenticated identity is authorized to subscribe to notification of
changes of an MCS group document if:
1) the authenticated identity is a member of an MCS group defined by a \ element of the \ element of the MCS group document;
2) the authenticated identity is listed in the authorized MCS server list
specified in subclause 6.2.5.1; or
3) the authenticated identity is listed in the authorized GMS list specified
in subclause 6.2.5.1 and the subscription is on behalf of a constituent MCS
group of the MCS group defined by the MCS group document.
#### 7.2.12.2 Group document addressed by a group ID
Authorizations for management of a group document addressed by a group ID as
described in subclause 7.2.10.2 are the same authorizations for management of
the associated group document in the users tree.
## 7.3 GMOP document
### 7.3.1 General
The GMOP document enables performing a group management operation which cannot
be expressed by HTTP GET, HTTP PUT or HTTP DELETE methods.
### 7.3.2 MIME type
The MIME type of the GMOP document is application/vnd.3gpp.GMOP+xml.
### 7.3.3 XML schema
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.3.4 Structure
#### 7.3.4.1 General
The GMOP document shall conform to the XML schema described in subclause
7.3.3.
The \ element specified in subclause 7.3.3 shall be the root element
of the GMOP document.
The \ element specified in subclause 7.3.3 of the GMOP document
shall include one of the following:
a) a \ element specified in subclause 7.3.3;
b) a \ element specified in subclause 7.3.3.
c) a \ element specified in subclause 7.3.3; or
d) a \ element specified in subclause 7.3.3.
\ element contains elements defined by future version of the present
document.
The GMOP document can contain unknown elements or unknown attributes. Unknown
elements and unknown attributes are ignored.
Elements and attributes of the GMOP document are defined in various
namespaces. The GMOP document refers to namespaces using prefixes specified in
table 7.3.4.1-1.
Table 7.3.4.1-1: Assignment of prefixes to namespace names in GMOP documents
* * *
Prefix Namespace rl urn:ietf:params:xml:ns:resource-lists cp
urn:ietf:params:xml:ns:common-policy ocp urn:oma:xml:xdm:common-policy oxe
urn:oma:xml:xdm:extensions mcpttgi urn:3gpp:ns:mcpttGroupInfo:1.0 gmop
urn:3gpp:ns:mcpttGMOP:1.0 NOTE: The \"urn:oma:xml:poc:list-service\" namespace
is the default namespace so no prefix is used for it.
* * *
#### 7.3.4.2 GMOP document requesting retrieval of a group document excluding
group members
The GMOP document requesting retrieval of a group document excluding group
members is a GMOP document according to subclause 7.3.4.1, where the
\ element includes a \ element specified in
subclause 7.3.3.
#### 7.3.4.3 GMOP document requesting group regroup creation
The GMOP document requesting group regroup creation is a GMOP document
according to subclause 7.3.4.1, where the \ element includes a
\ element specified in subclause 7.3.3.
The \ element:
a) shall include an \ element specified in subclause 7.2.4; and
b) may include an \ element specified in subclause 7.3.3.
#### 7.3.4.4 GMOP document requesting group regroup check
The GMOP document requesting group regroup check is a GMOP document according
to subclause 7.3.4.1, where the \ element includes a \ element specified in subclause 7.3.3.
The \ element:
a) shall include an \ element specified in subclause
7.2.4; and
b) may include an \ element specified in subclause 7.3.3.
#### 7.3.4.5 GMOP document requesting group regroup notification
The GMOP document requesting group regroup notification is a GMOP document
according to subclause 7.3.4.1, where the \ element includes a
\ element specified in subclause 7.3.3.
The \ element:
a) shall include an \ element specified in subclause
7.2.4; and
c) may include an \ element specified in subclause 7.3.3.
#### 7.3.4.6 GMOP document with group regroup creation response
The GMOP document with group regroup creation response is a GMOP document
according to subclause 7.3.4.1, where the \ element includes a
\ element specified in subclause 7.3.3.
The \ element:
a) shall include an \ element specified in
subclause 7.3.3 containing the ETag of the group document of the temporary MCS
group; and
b) may include an \ element specified in subclause 7.3.3.
## 7.4 Group key transport payload
### 7.4.1 General
The requirements in the remaining subclauses of the parent subclause of this
subclause apply for encoding of group key and related parameters using IETF
RFC 3830 [16] and IETF RFC 6509 [18], as specified in 3GPP TS 33.180 [29].
A GMS compliant to Release 14 of the present document does not send a group
key transport payload carrying MKFC and MKFC-ID.
A GMC can receive MKFC and MKFC-ID from a GMS compliant only to Release 13 of
the present document.
### 7.4.2 Group key transport payload structure
The group key transport payload is an I_MESSAGE as specified in IETF RFC 3830
[16] containing a GMK or an MKFC, with additional fields as specified in IETF
RFC 6509 [18], composed with the following clarification:
a) the common header payload specified in IETF RFC 3830 [16] is included and
the CSB_ID field of the common header payload:
i) for transport of the GMK, contains GUK-ID as specified in 3GPP TS 33.180
[29]; and
ii) for transport of the MKFC, contains MKFC-ID as specified in 3GPP TS 33.180
[29];
b) the timestamp payload specified in IETF RFC 3830 [16] is included and the
TS type field of the timestamp payload is set to \'NTP-UTC\';
c) the RAND payload specified in IETF RFC 3830 [16] is included;
d) if MCS identifiers are not protected, the IDRi payload specified in IETF
RFC 6509 [18] is included and:
1) the ID type field of the IDRi payload is set to the \'URI\';
2) if the originator of the I_MESSAGE is the GMS, the ID data field of the
IDRi payload is set to the GMS\'s URI, consisting of the HTTP URI identifying
the directory of the application unique ID as specified in subclause 7.2.3
under the XCAP root URI; and
3) if the originator of the I_MESSAGE is an MCS server, the ID data field of
the IDRi payload is set to the MCS server\'s URI;
e) if MCS identifiers are protected, the ID payload with role indicator
specified in IETF RFC 6043 [17] is included and:
1) the ID role field of the ID payload is set to the \'IDRuidi\' as specified
in subclause 7.5.2;
2) the ID type field of the ID payload is set to the \'Byte string\';
3) if the originator of the I_MESSAGE is the GMS, the ID data field of the ID
payload is set to the UID generated from the GMS\'s URI as specified in 3GPP
TS 33.180 [29], consisting of the HTTP URI identifying the directory of the
application unique ID as specified in subclause 7.2.3 under the XCAP root URI;
and
4) if the originator of the I_MESSAGE is an MCS server, the ID data field of
the ID payload is set to the MCS server\'s URI;
f) if MCS identifiers are not protected, the IDRr payload specified in IETF
RFC 6509 [18] is included and:
1) the ID type field of the IDRr payload is set to the \'URI\';
2) if an MCS user is targeted, the ID data field of the IDRr payload is set to
the MCS ID of the targeted MCS user;
3) if an constituent MCS group is targeted, the ID data field of the IDRr
payload is set to the MCS Group ID of the targeted constituent MCS group; and
4) if an MCS server is targeted, the ID data field of the IDRr payload is set
to the MCS server\'s URI;
g) if MCS identifiers are protected, the ID payload with role indicator
specified in IETF RFC 6043 [17] is included and:
1) the ID role field of the ID payload is set to the \'IDRuidr\' as specified
in subclause 7.5.2;
2) the ID type field of the ID payload is set to the \'Byte string\';
3) if an MCS user is targeted, the ID data field of the ID payload is set to
the UID generated from the MCS ID of the targeted MCS user;
4) if an constituent MCS group is targeted, the ID data field of the ID
payload is set to the UID generated from the MCS Group ID of the targeted
constituent MCS group; and
5) if an MCS server is targeted, the ID data field of the ID payload is set to
the MCS\'s server URI;
h) the IDRkmsi payload specified in IETF RFC 6509 [18] is included and:
1) the ID type field of the IDRkmsi payload is set to the \'URI\';
2) if the originator of the I_MESSAGE is the GMS, the ID data field of the
IDRkmsi payload is set to the URI of the MCS KMS used by the group management
server; and
3) if the originator of the I_MESSAGE is an MCS server, the ID data field of
the IDRkmsi payload is set to the URI of the MCS KMS used by MCS server;
i) the IDRkmsr payload specified in IETF RFC 6509 [18] is included and:
1) the ID type field of the IDRkmsr payload is set to the \'URI\';
2) if an MCS user is targeted, the ID data field of the IDRkmsr payload is set
to the URI of the MCS KMS used by targeted MCS user;
NOTE: The KMS URI is stored in the group configuration data.
Editor\'s Note: The XML element(s) (or XML attribute(s)) in the MCPTT Group
for carrying the KMS URI need to be defined.
3) if an constituent MCS group is targeted, the ID data field of the IDRkmsr
payload is set to the URI of the MCS KMS used by targeted constituent MCS
group; and
4) if an MCS server is targeted, the ID data field of the IDRkmsr payload is
set to the URI of the MCS KMS used by the MCS server;
j) the SAKKE payload specified in IETF RFC 6509 [18] is included and:
1) the SAKKE params field of the SAKKE payload is set to \'Parameter Set 1\';
2) the ID scheme field of the SAKKE payload is set to \'MCPTT-ID-scheme\' or
\'3GPP MCX hashed UID\' as specified in subclause 7.5.3; and
3) the SAKKE data field of the SAKKE payload contains the GMK or MKFC
specified in 3GPP TS 33.180 [29];
k) the SIGN payload specified in IETF RFC 6509 [18] is included and the S type
field of the SIGN payload is set to the \'ECCSI\';
l) the security policy payload specified in IETF RFC 3830 [16] can be
included;
m) the general extension payload specified in IETF RFC 3830 [16] with the type
field set to \'GMK-or-MKFC-associated-parameters\' or to \'3GPP key
parameters\' as specified in subclause 7.5.4 is included and the data field of
the general extension payload contains the associated parameters of GMK or
MKFC as specified in 3GPP TS 33.180 [29] figure E.6.1-1; and
n) the General extension payload specified in IETF RFC 3830 [16] with the type
field set to the \'SAKKE-to-self\' as specified in subclause 7.5.4 can be
included and the data field of the general extension payload contains a SAKKE
payload specified in IETF RFC 6509 [18]. In the SAKKE payload included in the
general extension payload:
1) the SAKKE params field of the SAKKE payload is set to \'Parameter Set 1\';
2) the ID scheme field of the SAKKE payload is set to \'MCPTT-SAKKE-to-self-
ID-scheme\' or \'3GPP MCX hashed UID\' as specified in subclause 7.5.3; and
3) the SAKKE data field of the SAKKE payload contains the GMK or MKFC
specified in 3GPP TS 33.180 [29].
## 7.5 MIKEY parameters value assignment
### 7.5.1 General
The requirements in the remaining subclauses of the parent subclause of this
subclause apply for:
\- assignment of \'reserved for private use\' values of parameters defined in
IETF RFC 3830 [16], IETF RFC 6043 [17] and IETF RFC 6509 [18]; or
\- IANA registered values in the Multimedia Internet KEYing (MIKEY) Payload
Name Spaces.
### 7.5.2 ID role field assignment
NOTE: A GMC can receive MKFC and MKFC-ID only from a GMS compliant only to
Release 13 of the present document.
IETF RFC 6043 [17] defines some values of the ID role field of the ID payload
with role indicator as \'reserved for private use\'. The table 7.5.2-1 shows
usage of the \'reserved for private use\' values of the ID role field of the
ID payload with role indicator for usage in MCS.
IANA registered values for the ID role field of the ID payload is shown in
table 7.5.2-2.
The IANA registered values and the values \'reserved for private use\' shall
be supported.
NOTE: Only the values \'reserved for private use\' were specified in earlier
versions of the present document. The continued support for these values is
for backwards compatibility.
Table 7.5.2-1: Usage of \'reserved for private use\' values of the ID role
field of the ID payload with role indicator
* * *
ID role name ID role value ID role descriptions IDRuidr 240 The ID data field
of an ID payload with the ID role field set to \'IDRuidr\' contains UID
generated from the MCS ID of an MCS user or a UID generated from the MCS Group
ID of an MCS group or a UID generated from the MCS server\'s URI, as specified
in 3GPP TS 33.180 [29]. IDRuidi 241 The ID data field of an ID payload with
the ID role field set to \'IDRuidi\' contains a UID generated from the GMS\'s
URI or a UID generated from the MCS server\'s URI, as specified in 3GPP TS
33.180 [29].
* * *
Table 7.5.2-2: Usage of IANA registered values values of the ID role field of
the ID payload with role indicator
* * *
ID role name ID role value ID role descriptions IDRuidr 9 The ID data field of
an ID payload with the ID role field set to \'IDRuidr\' contains UID generated
from the MCS ID of an MCS user or a UID generated from the MCS Group ID of an
MCS group or a UID generated from the MCS server\'s URI, as specified in 3GPP
TS 33.180 [29]. IDRuidi 8 The ID data field of an ID payload with the ID role
field set to \'IDRuidi\' contains a UID generated from the GMS\'s URI or a UID
generated from the MCS server\'s URI, as specified in 3GPP TS 33.180 [29].
* * *
### 7.5.3 ID scheme field assignment
IETF RFC 6509 [18] defines some values of the ID scheme field of the SAKKE
payload as \'reserved for private use\'. The table 7.5.3-1 shows usage of the
\'reserved for private use\' values of the ID scheme field of the SAKKE
payload for usage in MCS.
IANA registered values for the ID role field of the ID payload is shown in
table 7.5.3-2.
The IANA registered values and the values \'reserved for private use\' shall
be supported.
NOTE: Only the values \'reserved for private use\' were specified in earlier
versions of the present document. The continued support for these values is
for backwards compatibility.
Table 7.5.3-1: Usage of \'reserved for private use\' values of the ID scheme
field of the SAKKE payload
* * *
ID scheme name ID scheme value ID scheme descriptions MCPTT-ID-scheme 240 The
SAKKE data field of a SAKKE payload with the ID scheme field set to \'MCPTT-
ID-scheme\' contains the GMK encapsulated to the UID generated from the IDRr
payload or extracted from the IDRuidr payload according to 3GPP TS 33.180 [29]
subclause F.2.1. MCPTT-SAKKE-to-self-ID-scheme 241 The SAKKE data field of a
SAKKE payload with the ID scheme field set to \'MCPTT-SAKKE-to-self-ID-
scheme\' contains the GMK encapsulated to the UID generated from the IDRi
payload or extracted from the IDRuidi payload according to 3GPP TS 33.180 [29]
subclause F.2.1.
* * *
Table 7.5.3-2: Usage of IANA registered values of the ID scheme field of the
SAKKE payload
* * *
ID scheme name ID scheme value ID scheme descriptions 3GPP MCX hashed UID 2
The SAKKE data field of a SAKKE payload with the ID scheme field set to \'3GPP
MCX hashed UID\' contains the encapsulated GMK to the UID generated from the
MC Service user ID of the group management client according to 3GPP TS 33.180
[29] subclause E.2.1.
* * *
### 7.5.4 Type field assignment
IETF RFC 3830 [16] defines some values of the type field of the general
extension payload as \'reserved for private use\'. The table 7.5.4-1 shows
usage of the \'reserved for private use\' values of the type field of the
general extension payload for usage in MCS.
IANA registered values for the ID role field of the ID payload is shown in
table 7.5.4-2.
The IANA registered values and the values \'reserved for private use\' shall
be supported.
NOTE: Only the values \'reserved for private use\' were specified in earlier
versions of the present document. The continued support for these values is
for backwards compatibility.
Table 7.5.4-1: Usage of \'reserved for private use\' values of the type field
of the general extension payload
* * *
ID role name ID role value Descriptions SAKKE-to-self 241 The data field of a
general extension payload with the type field set to \'SAKKE-to-self\'
contains a SAKKE payload as specified in IETF RFC 6509 [18]. GMK-or-MKFC-
associated-parameters 242 The data field of a general extension payload with
the type field set to \'GMK-or-MKFC-associated-parameters\' contains the
associated parameters of GMK or MKFC as specified in 3GPP TS 33.180 [29] table
E.6.1-1.
* * *
Table 7.5.4-2: Usage of IANA registered values values of the type field of the
general extension payload
* * *
General extensions field nam ID role value Descriptions SAKKE-to-self 6 The
data field of a general extension payload with the type field set to \'SAKKE-
to-self\' contains a SAKKE payload as specified in IETF RFC 6509 [18]. 3GPP
key parameters 7 The data field of a general extension payload with the type
field set to \'GMK-or-MKFC-associated-parameters\' contains the associated
parameters of GMK, MKFC or MuSiK as specified in 3GPP TS 33.180 [29] table
E.6.1-1.
* * *
## 7.6 Group key transport payload failure
### 7.6.1 General
The requirements in the remaining subclauses of the parent subclause of this
subclause apply for coding of group key transport payload failure.
### 7.6.2 Group key transport payload structure
The group key transport payload is an Error payload as specified in IETF RFC
3830 [16].
## 7.7 MCS group key transport payloads (GKTP) document coding
### 7.7.1 General
The requirements in the remaining subclauses of the parent subclause of this
subclause apply for an MCS group key transport payloads (GKTP) document.
The MCS GKTP document contains group key transport payloads for an MCS group.
The MCS GKTP document is located in the global tree, cannot be managed using
XCAP and can be fetched using SIP.
An MCS GKTP document stored in a GMS compliant to Release 14 of the present
document does not contain an MKFC and an MKFC-ID.
A GMC can receive an MCS GKTP document containing an MKFC and an MKFC-ID from
a GMS compliant only to Release 13 of the present document.
### 7.7.2 Structure
The \ element specified in OMA OMA-SUP-XSD_poc_listService-V1_0_2 [19]
of an MCS GKTP document:
a) shall be the root element; and
b) shall include one \ elements specified in OMA OMA-SUP-
XSD_poc_listService-V1_0_2 [19].
The \ element specified in OMA OMA-SUP-
XSD_poc_listService-V1_0_2 [19] of an MCS GKTP document:
a) shall include a \"uri\" attribute specified in OMA OMA-SUP-
XSD_poc_listService-V1_0_2 [19]; and
b) shall include an \ element specified in subclause 7.7.4.2.
The \ element specified in subclause 7.7.4.2 of an MCS GKTP document:
a) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in subclause 7.7.4.2 of an MCS GKTP document
which is associated as specified in subclause 7.7.11 with an MCS group
document defining an MCPTT group additionally:
a) shall include zero or one \ elements specified in subclause
7.7.4.2; and
b) shall include zero or one \ elements specified in subclause
7.7.4.2.
The \ element specified in subclause 7.7.4.2 of an MCS GKTP
document which is associated as specified in subclause 7.7.11 with an MCS
group document defining an MCPTT group:
a) shall include zero or more \ elements specified in subclause 7.7.4.2;
and
b) shall include zero or more \ elements specified
in subclause 7.7.4.2; and
c) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in subclause 7.7.4.2 of an MCS GKTP
document which is associated as specified in subclause 7.7.11 with an MCS
group document defining an MCPTT group:
a) shall include zero or more \ elements specified in subclause 7.7.4.2;
and
b) shall include zero or more \ elements specified
in subclause 7.7.4.2; and
c) may include an \ element specified in subclause 7.2.4.2.
The \ element specified in subclause 7.7.4.2 of an MCS GKTP document:
a) shall include an \"id\" attribute specified in subclause 7.7.4.2.
The \ element specified in subclause 7.7.4.2 of an
MCS GKTP document:
a) shall include a \"temporary-MCPTT-group-ID\" attribute specified in
subclause 7.7.4.2;
b) shall include zero or more \ elements specified in subclause 7.7.4.2;
and
c) may include an \ element specified in subclause 7.2.4.2.
\ element contains elements defined by future version of the present
document.
Elements and attributes of the MCS GKTP document are defined in various
namespaces. The MCS GKTP document refers to namespaces using prefixes
specified in table 7.7.2-1.
Table 7.7.2-1: Assignment of prefixes to namespace names in MCS GKTP documents
* * *
Prefix Namespace oxe urn:oma:xml:xdm:extensions mgktp
urn:3gpp:ns:mcpttGKTP:1.0 NOTE: The \"urn:oma:xml:poc:list-service\" namespace
is the default namespace so no prefix is used for it in the MCS GKTP document.
* * *
MCS GKTP document may contain unknown elements and unknown attributes
according to the XML schemas specified in subclause 7.7.4.
### 7.7.3 Application Unique ID
Application Unique ID is \"org.3gpp.MCPTT-GKTP\".
### 7.7.4 XML schema
#### 7.7.4.1 General
The MCS GKTP document is composed according the XML schema specified in the
OMA OMA-SUP-XSD_poc_listService-V1_0_2 [19], and extended with extensions from
the XML schema defined in subclause 7.7.4.2.
#### 7.7.4.2 XML schema for MCS specific extensions
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.7.5 Default document namespace
The default document namespace used in evaluating URIs for MCS GKTP document
is urn:oma:xml:poc:list-service specified in the OMA OMA-SUP-
XSD_poc_listService-V1_0_2 [19].
### 7.7.6 MIME type
MIME type for MCS GKTP document is not specified.
NOTE: according to subclause 7.7.12, the MCS GKTP documents are not managed
using XCAP and fetching entire MCS GKTP document or a fragment of the MCS GKTP
using SIP as specified in subclause 6.3.13 and IETF RFC 5875 [13] uses
application/xcap-diff+xml MIME type.
### 7.7.7 Validation constraints
None.
### 7.7.8 Data semantics
If a MCS GKTP document includes an element not specified in subclause 7.7.2
and the element has the \"must-understand\" attribute with value \"true\",
then the MCS GKTP document shall be ignored.
If a MCS GKTP document includes an element not specified in subclause 7.7.2
and the element does not have the \"must-understand\" attribute with value
\"true\", then the element shall be ignored.
If a MCS GKTP document includes an attribute not specified in subclause 7.7.2
and different from the \"must-understand\" attribute, then the attribute shall
be ignored.
The \"uri\" attribute of a \ element of a MCS GKTP document
contains the MCS group ID, which is defined by a group document as specified
in subclause 7.2 and located in the same XCAP server.
The \ element of the \ element of the MCS GKTP document:
\- can contain a \ element containing group key transport payloads
carrying GMKs; and
\- can contain a \ element containing group key transport payloads
carrying MKFCs;
associated with the MCPTT group with the MCS group ID indicated in the \"uri\"
attribute of a \ element.
Value of a \ element of a \ element of a \ element of
the \ element of the MCS GKTP document contains a group key
transport payload carrying GMK as described in subclause 7.4, indicating the
GMK for protection of:
a) media; and
b) floor control signalling when the UE operates off the network;
to be used when the MCPTT group is not a constituent MCPTT group, encrypted to
the MCPTT ID of the MCPTT user accessing the MCS GKTP document, according to
3GPP TS 33.180 [29], signed using the identity of the GMS.
Value of a \ element of a \ element of a \ element of
the \ element of the MCS GKTP document contains a group key
transport payload carrying MKFC as described in subclause 7.4, indicating the
MKFC for protection of multicast floor control signalling when the UE operates
on the network, to be used when the MCPTT group is not a constituent MCPTT
group, encrypted to:
\- MCPTT ID of the MCPTT user accessing the MCS GKTP document; or
\- the identity of MCPTT server accessing the MCS GKTP document;
according to 3GPP TS 33.180 [29], signed using the identity of the GMS.
Value of the \"id\" attribute of a \ element shall be unique amongst
values of all other \"id\" attributes in \ elements within the same
parent element.
If multiple \ elements are included in a parent element, then each
\ element with the parent element has a different activation time.
Value of a \ element of an \ element of a
\ element of a \ element of the \ element of
the MCS GKTP document contains a group key transport payload carrying GMK as
described in subclause 7.4, indicating the GMK for protection of:
a) media; and
b) floor control signalling when the UE operates off the network;
to be used when the MCPTT group is a constituent MCS group of the temporary
MCS group with the MCS Group ID indicated in the \"temporary-MCPTT-group-ID\"
attribute of the \ element, encrypted to the MCPTT
ID of the MCPTT user accessing the MCS GKTP document, according to 3GPP TS
33.180 [29], signed using the identity of the GMS.
Value of a \ element of an \ element of a
\ element of a \ element of the \ element of
the MCS GKTP document contains a group key transport payload carrying MKFC as
described in subclause 7.4, indicating the MKFC for protection of multicast
floor control signalling when the UE operates on the network, to be used when
the MCPTT group is a constituent MCS group of the temporary MCS group with the
MCS Group ID indicated in the \"temporary-MCPTT-group-ID\" attribute of the
\ element, encrypted to:
\- MCPTT ID of the MCPTT user accessing the MCS GKTP document; or
\- the identity of MCPTT server accessing the MCS GKTP document;
according to 3GPP TS 33.180 [29], signed using the identity of the GMS.
\ element contains elements defined by future versions of the present
document.
### 7.7.9 Naming conventions
None.
### 7.7.10 Global documents
MCS GKTP documents:
\- are located in a subdirectory of the global tree, with the subdirectory
name specified by the byGroupID-subdirectory ANBF rule of table 7.7.10.2-1;
and
\- have the document name set to the group ID.
Table 7.7.10.2-1: ABNF syntax of directory name for MCS GKTP documents
addressed by a group ID
byGroupID-subdirectory = %x62.79.47.72.6f.75.70.49.44; \"byGroupID\"
### 7.7.11 Resource interdependencies
The following applies for a MCS GKTP document:
a) a MCS GKTP document shall be associated with an MCS group document in the
users tree of a particular user which defines the group ID;
b) a MCS GKTP document shall exist for each associated MCS group document;
c) GMS shall create a MCS GKTP document when the associated MCS group document
is created; and
d) GMS shall generate the GMK(s) of the MCS GKTP document according to the
presence and values of, or the absence of, the \ element, the
\ element and the \ element of the associated MCS group document.
NOTE: 3GPP TS 33.180 [29] describes how GMK(s) and MKFC(s) are generated.
### 7.7.12 Authorization policies
MCS GKTP documents shall not be managed using XCAP.
MCS GKTP documents can be fetched using SIP.
An authenticated identity is authorized to subscribe to notification of
changes of an \ element of an MCS GKTP document if:
a) the authenticated identity is a member of an MCS group defined by an MCS
group document associated with the MCS GKTP document; or
b) the authenticated identity is listed in the authorized GMS list specified
in subclause 6.2.5.1 and the subscription is on behalf of a constituent MCS
group of the MCS group defined by an MCS group document associated with the
MCS GKTP document.
###### ## Annex A (informative): Signalling flows
# A.1 Scope of signalling flows
This annex gives examples of signalling flows for group document management on
the extensible markup language configuration access protocol (XCAP) and the
session initiation protocol (SIP).
HTTP header fields and SIP header fields insignificant for the group document
management are omitted.
# A.2 Signalling flows for group creation
## A.2.1 General
The key to interpret signalling flows:
\- The MCPTT IDs of MCPTT users of the MCPTT service provider SP1 have format
sip:user _\ _\@MCPTTSP1.example.com
\- The MCPTT ID of the MCPTT user 1 of the MCPTT service provider SP1 is
sip:user1\@MCPTTSP1.example.com.
\- The GMC-1 serves the MCPTT user 1.
\- The GMC-1 is configured with the group creation XUI configuration parameter
set to sip:department1\@MCPTTSP1.example.com.
\- The GMC-1 is configured with XCAP Root URI set to
http://xcap.MCPTTSP1.example.com/path1
\- The GMS-1 is deployed in MCPTT service provider SP1.
\- The hostname of the GMS-1 is xcap.MCPTTSP1.example.com.
\- The GMS-1 provides XCAP server at XCAP Root URI
http://xcap.MCPTTSP1.example.com/path1
\- MCPTT Group IDs of MCPTT groups defined by group documents stored in GMS-1
have format sip:group _\ _\@MCPTTSP1.example.com
\- The GMS-2 is deployed in MCPTT service provider SP2.
\- The hostname of the GMS-2 is xcap.MCPTTSP2.example.com.
\- The GMS-2 provides XCAP server at XCAP Root URI
http://xcap.MCPTTSP2.example.com/path2
\- MCPTT Group IDs of MCPTT groups defined by group documents stored in GMS-2
have format sip:group _\ _\@MCPTTSP2.example.com
## A.2.2 GMC creating a MCPTT group on behalf of MCPTT user served by the GMC
Figure A.2.2-1 shows a flow for a group management client GMC-1 creating an
MCPTT group document in a group management server GMS-1.
Document name of the MCPTT group document is groupdocument1.xml.
The MCPTT group is a pre-arranged MCPTT group, which is disabled for on-
network procedures, with maximum of 10 participants, with on-network-group-
priority of 5, and with display name \"My conference display name\".
The MCPTT group members are the MCPTT user 1, a MCPTT user 2 and a MCPTT user
3. The MCPTT user 1 and the MCPTT user 2 are MCPTT group members required in
on-network procedures.
The MCPTT user identity of the MCPTT user 2 is
sip:user2\@MCPTTSP1.example.com, and the MCPTT user identity of the MCPTT user
3 is sip:user3\@MCPTTSP1.example.com. The MCPTT group document indicates a
display name for each member.
The user-priority of the MCPTT user 1 is 1, the user-priority of the MCPTT
user 2 is 2, and the user-priority of the MCPTT user 3 is 3.
The XUI of the MCPTT user 1 is the same as the MCPTT user identity of the
MCPTT user 1.
The members of the MCPTT group are allowed to initiate the MCPTT group
session, are allowed to join the MCPTT group session, are allowed to request
an MCPTT-emergency call on the MCPTT group, are allowed to request an imminent
peril call on the MCPTT group and are allowed to request an MCPTT-emergency
alert on the MCPTT group.
The GMC-1 proposes that the MCPTT group identity of the MCPTT group is
sip:GMCproposedMCPTTGroupID\@MCPTTSP1.example.com, but the GMS-1 decides that
the MCPTT group identity of the MCPTT group is
sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com.
Figure A.2.2-1: GMC-1 creating a MCPTT group document in GMS-1 on behalf of
user served by the GMC-1
The details of the flows are as follows:
1) GMC-1 sends an HTTP PUT request shown in table A.2.2-1 to the GMS-1.
Table A.2.2-1: first HTTP PUT request
+----------------------------------------------------------------------+ | PUT | | http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.g | | roups/users/sip:department1\@MCPTTSP1.example.com/groupdocument1.xml | | HTTP/1.1 | | | | Host: xcap.MCPTTSP1.example.com | | | | Content-Type: application/vnd.oma.poc.groups+xml; charset=\"utf-8\" | | | | \ | | | | \ | | | | \ | | | | \My conference display | | name\ | | | | \ | | | | \ | | | | \User 1\ | | | | \ | | | | \1\ | | | | \ | | | | \ | | | | \User 2\ | | | | \ | | | | \2\ | | | | \ | | | | \ | | | | \User 3\ | | | | \3\ | | | | \ | | | | \ | | | | \true\ | | | | \10\ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \true\ | | | | \true\ | | | | \true\ | | | | \true\ | | | | \true\ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \5\ | | | | \ | | | | \ | +----------------------------------------------------------------------+
2) GMS-1 rejects the HTTP PUT request with HTTP 409 (Conflict) response shown
in table A.2.2-2.
Table A.2.2-2: HTTP 409 (Conflict) response to HTTP PUT request
+----------------------------------------------------------------------+ | HTTP/1.1 409 Conflict | | | | Content-Type: application/xcap-error+xml; charset=\"utf-8\" | | | | \ | | | | \ | | | | \ | | | | \ | | | | \sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com\ | | | | \ | | | | \ | | | | \ | +----------------------------------------------------------------------+
3) GMC-1 sends an HTTP PUT request to the GMS-1. The HTTP PUT request is the
same as shown in table A.2.2-1 with exception of the value of the \"uri\"
attribute of the \ element of the \ root element. The
\"uri\" attribute contains
sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com.
4) GMS-1 creates the MCPTT group document so that it is accessible using the
XCAP URIs
http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/users/sip:department1\@MCPTTSP1.example.com/groupdocument1.xml
and
http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/global/byGroupID/sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com.
GMS-1 also creates the MCPTT GKTP document at
http://xcap.MCPTTSP1.example.com/path1/org.3gpp.MCPTT-
GKTP/global/byGroupID/sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com
GMS-1 accepts the HTTP PUT request with HTTP 201 (Created) response.
## A.2.3 GMC performing a temporary MCPTT group formation of two MCPTT groups
to be combined
Figure A.2.3-1 shows a flow for a group management client GMC-1 performing
formation of a temporary MCPTT group by combination of two MCPTT groups to be
combined.
The temporary MCPTT group is identified by the temporary MCPTT Group ID
sip:groupT\@MCPTTSP1.example.com and is being created in GMS-1 under the
groupdocumentT.xml document name.
The temporary MCPTT group is a pre-arranged MCPTT group.
The GMK is required to confidentiality and integrity protect media for calls
on the temporary MCPTT group. Both confidentiality protection and integrity
protection of floor control signalling are required for calls on the temporary
MCPTT group. Multicast bearers are used for floor controlling signalling for
the temporary MCPTT group.
One MCPTT group to be combined is identified by the MCPTT Group ID
sip:groupA\@MCPTTSP1.example.com and is owned by GMS-1.
The other MCPTT group to be combined is identified by the MCPTT Group ID
sip:groupB\@MCPTTSP2.example.com and is owned by GMS-2.
The GMS-1 is configured with the group ID routing database stating:
\- the XCAP Root URI of sip:groupB\@MCPTTSP2.example.com is
http://xcap.MCPTTSP2.example.com/path2; and
\- the public service identity for accessing documents of the MCPTT provider
of sip:groupB\@MCPTTSP2.example.com is sip:gms.MCPTTSP2.example.com.
The GMS-2 is configured with the group ID routing database stating:
\- the XCAP Root URI of sip:groupT\@MCPTTSP1.example.com is
http://xcap.MCPTTSP1.example.com/path1; and
\- the public service identity for accessing documents of the MCPTT provider
of sip:groupT\@MCPTTSP1.example.com is sip:gms.MCPTTSP1.example.com.
Figure A.2.3-1: GMC performing a temporary MCPTT group formation of two MCPTT
groups to be combined
The details of the flows are as follows:
1) GMC-1 sends an HTTP POST request with the GMOP document requesting group
regroup creation shown in table A.2.3-1 to the GMS-1.
Table A.2.3-1: 1. HTTP POST (GMOP document requesting group regroup creation)
+----------------------------------------------------------------------+ | POST | | http://xcap.MCPTTSP1.example.com/path1/org.openmobilea | | lliance.groups/users/sip:department1\@example.com/groupdocumentT.xml | | HTTP/1.1 | | | | Host: xcap.MCPTTSP1.example.com | | | | Content-Type: application/vnd.3gpp.GMOP+xml; charset=\"utf-8\" | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \true\ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \sip | | :groupA\@MCPTTSP1.example.com\ | | | | \sip | | :groupB\@MCPTTSP2.example.com\ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | +----------------------------------------------------------------------+
2) GMS-1 authorizes the request as specified in subclause 6.3.14.3.1 and sends
HTTP POST request with the GMOP document requesting group regroup check.
3) GMS-1 sends HTTP POST request with the GMOP document requesting group
regroup check to GMS-2 as shown in table A.2.3-3.
Table A.2.3-3: 3. HTTP POST (GMOP document requesting group regroup check)
+----------------------------------------------------------------------+ | POST | | http://xcap.MCPT | | TSP2.example.com/path2/org.openmobilealliance.groups/global/byGroupI | | D/sip:groupB\@MCPTTSP2.example.com/\~\~/group/list-service/mcpttgi:o | | n-network-regrouped%5b\@temporary-MCPTT-group-ID=%22sip:groupT\@MCPT | | TSP1.example.com%22%5d?xmlns(mcpttgi=urn:3gpp:ns:mcpttGroupInfo:1.0) | | HTTP/1.1 | | | | Host: xcap.MCPTTSP2.example.com | | | | X-3GPP-Asserted-Identity: sip:gms.MCPTTSP1.example.com | | | | Content-Type: application/vnd.3gpp.GMOP+xml; charset=\"utf-8\" | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \sip | | :groupA\@MCPTTSP1.example.com\ | | | | \sip | | :groupB\@MCPTTSP2.example.com\ | | | | \ | | | | \ | | | | \true\ | | | | \true\ | | | | \true\ | | | | \ | | | | \ | | | | \ | +----------------------------------------------------------------------+
4) GMS-1 authorizes the request as specified in subclause 6.3.14.3.2 and
responds with a HTTP 200 (OK) response to the HTTP POST request.
5) GMS-2 authorizes the request as specified in subclause 6.3.14.3.2 and
responds with a HTTP 200 (OK) response to the HTTP POST request.
6) GMS-1 sends HTTP POST request with the GMOP document requesting group
regroup notification.
7) GMS-1 sends HTTP POST request with the GMOP document requesting group
regroup notification to GMS-2 as shown in table A.2.3-7.
Table A.2.3-7: 7. HTTP POST (GMOP document requesting group regroup
notification)
+----------------------------------------------------------------------+ | POST | | http://xcap.MCPT | | TSP2.example.com/path2/org.openmobilealliance.groups/global/byGroupI | | D/sip:groupB\@MCPTTSP2.example.com/\~\~/group/list-service/mcpttgi:o | | n-network-regrouped%5b\@temporary-MCPTT-group-ID=%22sip:groupT\@MCPT | | TSP1.example.com%22%5d?xmlns(mcpttgi=urn:3gpp:ns:mcpttGroupInfo:1.0) | | HTTP/1.1 | | | | Host: xcap.MCPTTSP2.example.com | | | | X-3GPP-Asserted-Identity: sip:gms.MCPTTSP1.example.com | | | | Content-Type: application/vnd.3gpp.GMOP+xml; charset=\"utf-8\" | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \sip | | :groupA\@MCPTTSP1.example.com\ | | | | \sip | | :groupB\@MCPTTSP2.example.com\ | | | | \ | | | | \true\ | | | | \true\ | | | | \true\ | | | | \ | | | | \ | | | | \ | | | | \ | +----------------------------------------------------------------------+
8) GMS-1 authorizes the request as specified in subclause 6.3.14.3.2, place
the \ element of the GMOP document requesting group
regroup notification of the HTTP POST request at the location identified by
the Request-URI of the received HTTP POST request and responds with a HTTP 200
(OK) response to the HTTP POST request.
9) GMS-2 authorizes the request as specified in subclause 6.3.14.3.2, place
the \ element of the GMOP document requesting group
regroup notification of the HTTP POST request at the location identified by
the Request-URI of the received HTTP POST request and responds with a HTTP 200
(OK) response to the HTTP POST request.
10) GMS-1 creates the temporary MCPTT group document so that it is accessible
using the XCAP URIs
http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/users/sip:department1\@MCPTTSP1.example.com/groupdocumentT.xml
and
http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/global/byGroupID/sip:groupT\@MCPTTSP1.example.com.
GMS-1 also creates the MCPTT GKTP document at
http://xcap.MCPTTSP1.example.com/path1/org.3gpp.MCPTT-
GKTP/global/byGroupID/sip:groupT\@MCPTTSP1.example.com
GMS-1 accepts the HTTP POST request with HTTP 200 (OK) response. The HTTP 200
(OK) response includes the GMOP document with group regroup creation response.
10) GMS-1 subscribes to changes of the \ element of MCPTT-GKTP document
of the temporary MCPTT group, is notified about the current state and updates
the MCPTT-GKTP document for the MCPTT group with
sip:groupA\@MCPTTSP1.example.com MCPTT Group ID.
11) GMS-2 subscribes to changes of the \ element of MCPTT-GKTP document
of the temporary MCPTT group as shown in table A.2.3-11.
Table A.2.3-11: 11. SIP SUBSCRIBE request
+----------------------------------------------------------------------+ | SUBSCRIBE sip:gms.MCPTTSP1.example.com SIP/2.0 | | | | ... | | | | Accept: application/xcap-diff+xml | | | | Event: xcap-diff; diff-processing=no-patching | | | | Content-Type: multipart/mixed;boundary=\"xyz\" | | | | P-Asserted-Identity: sip:gms.MCPTTSP2.example.com | | | | Content-Length: ... | | | | --xyz | | | | Content-Type: application/resource-lists+xml | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | --xyz | | | | Content-Type: application/vnd.3gpp.mcptt-info+xml | | | | \ | | | | \ | | | | \ | | | | \sip:groupB\@MCPTTSP2.example.com\ | | | | \ | | | | \ | | | | --xyz-- | +----------------------------------------------------------------------+
12) GMS-1 authorizes the SIP SUBSCRIBE request and accepts it with SIP 200
(OK) response.
13) GMS-1 sends a SIP NOTIFY request with the content of the \ element
of MCPTT-GKTP document of the temporary MCPTT group as shown in table
A.2.3-13.
Table A.2.3-11: 13. SIP NOTIFY request
+----------------------------------------------------------------------+ | NOTIFY XXX SIP/2.0 | | | | ... | | | | Event: xcap-diff | | | | Content-Type: application/xcap-diff+xml | | | | Content-Length: ... | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \AAA\ | | | | \ | | | | \ | | | | \ | +----------------------------------------------------------------------+
14) GMS-2 accepts the SIP NOTIFY request with SIP 200 (OK) response and
updates the MCPTT-GKTP document for the MCPTT group with
sip:groupB\@MCPTTSP2.example.com MCPTT Group ID.
###### ## Annex B (informative): IANA registration templates
# B.1 IANA registration templates for MIME types
## B.1.1 application/vnd.3gpp.GMOP+xml IANA registration template
Your Name:
\
Your Email Address:
\
Media Type Name:
application
Subtype name:
vnd.3gpp.GMOP+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 10 of IETF RFC 7303.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters are
expected to be provided by the environment the media type operates in.
When a MIME body of the application/vnd.3gpp.GMOP+xml MIME type is transported
over HTTP protocol over unsecured IP network, the integrity protection needs
to be provided. Particularly, between the user agent and the entry point of
the provider\'s network, the integrity protection is provided by TLS as
described in 3GPP TS 24.482
(http://www.3gpp.org/ftp//Specs/archive/24_series/24.482/) subclause A.2.1.2.
When a MIME body of the application/vnd.3gpp.GMOP+xml MIME type is transported
over SIP protocol and when required so by provider providing the \"mission
critical\" service, the integrity protection of the MIME body needs to be
provided. Particularly, the integrity protection of the MIME body is provided
as described in 3GPP TS 24.379
(http://www.3gpp.org/ftp//Specs/archive/24_series/24.379/) subclause 6.6.1.3.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.481 \"Mission Critical Services (MCS) group management; Protocol
specification\" version 13.4.0, available via
http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the Mission Critical Push To Talk (MCPTT) group
management as described in the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
#