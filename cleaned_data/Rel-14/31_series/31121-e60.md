# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
Y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document defines the application test specification.
The aim of the present document is to ensure interoperability between an UICC
and a terminal independently of the respective manufacturer, card issuer or
operator. The present document does not define any aspects related to the
administrative management phase of the UICC. Any internal technical
realisation of either the UICC or the Terminal is only specified where these
are reflected over the interface.
Application specific details for applications residing on an UICC are
specified in the respective application specific documents. The logical and
physical Characteristics of the UICC Terminal interface is specified in
document ETSI TS 102 221 [5]. The Universal Subscriber Identity Module
(USIM)-application for 3G telecommunication networks is specified in document
TS 31.102 [4].
# 1 Scope
The present document provides the UICC --Terminal Interface Conformance Test
Specification between a 2G, 3G or 3G E-UTRAN terminal and the USIM (Universal
Subscriber Identity Module) as an application on the UICC and the Terminal for
a 2G, 3G or 3G E-UTRAN network operation:
\- the default setting of the USIM;
\- the applicability of each test case;
\- the test configurations;
\- the conformance requirement and reference to the core specifications;
\- the test purposes; and
\- a brief description of the test procedure and the specific acceptance
criteria.
For the avoidance of doubt, references to clauses of ETSI TS 102 221 [5]
include all the subclauses of that clause, unless specifically mentioned.
ETSI TS 102 221 [5] contains material that is outside of the scope of 3GPP
requirements. A 3GPP ME may support functionality that is not required by
3GPP, but the requirements to do so are outside of the scope of 3GPP. Thus the
present document does not contain tests for features defined in ETSI TS 102
221 [5] which are out of scope of 3GPP.
In the present document, unless explicitly stated otherwise, for Rel-13
onwards the term E-UTRAN implicitly refers to E-UTRAN in WB-S1 mode. E-UTRAN
in NB-S1 mode is always explicitly referred to as NB-IoT.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
• References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
• For a specific reference, subsequent revisions do not apply.
• For a non-specific reference, the latest version in same release as the
implementation release of the terminal under test applies.
[1] Void
[2] Void
[3] 3GPP TS 23.038: \"Alphabets and language-specific information\".
[4] 3GPP TS 31.102: \"Characteristics of the USIM application\".
[5] If the device under test is a
  * R99 ME: ETSI TS 102 221 v3.18.0: \"UICC-Terminal interface; Physical > and logical characteristics\",
  * Rel-4 ME: ETSI TS 102 221 v4.16.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-5 ME: ETSI TS 102 221 v5.10.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-6 ME: ETSI TS 102 221 v6.15.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-7 ME: ETSI TS 102 221 v7.17.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-8 ME: ETSI TS 102 221 v8.5.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-9 ME: ETSI TS 102 221 v9.2.0: \"UICC-Terminal interface; > Physical and logical characteristics\"\",
  * Rel-10 ME: ETSI TS 102 221 v10.0.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-11 ME: ETSI TS 102 221 v11.1.0: \"UICC-Terminal interface; > Physical and logical characteristics\",
  * Rel-12 ME: ETSI TS 102 221 v12.1.0: \"UICC-Terminal interface; > Physical and logical characteristics\".
  * Rel-13 ME: ETSI TS 102 221 v13.2.0: \"UICC-Terminal interface; > Physical and logical characteristics\".
  * Rel-14 ME: ETSI TS 102 221 v14.0.0: \"UICC-Terminal interface; > Physical and logical characteristics\".
[6] 3GPP TS 22.011: \"Service accessibility\".
[7] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[8] 3GPP TS 22.024: \"Description of Charge Advice Information (CAI)\".
[9] 3GPP TS 23.086: \"Advice of Charge (AoC) Supplementary Service -- Stage
2\".
[10] 3GPP TS 24.086: \"Advice of Charge (AoC) Supplementary Service -- Stage
3\".
[11] 3GPP TS 22.101: \"Service aspects; Service principles\".
[12] 3GPP TS 22.030: \"Man-Machine Interface (MMI) of the User Equipment
(UE)\".
[13] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\".
[14] 3GPP TS 23.003: \"Numbering, Addressing and Identification\".
[15] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[16] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
Network protocols; Stage 3\".
[17] 3GPP TS 24.080: \"Mobile radio Layer 3 supplementary service
specification; Formats and coding\".
[18] 3GPP TS 22.086: \"Advice of Charge (AoC) supplementary services; Stage
1\".
[19] 3GPP TS 21.111: \"USIM and IC card requirements\".
[20] 3GPP TS 25.331 \"Radio Resource Control (RRC); Protocol Specification\".
[21] 3GPP TS 34.108 \"Common test environments for User Equipment (UE)
conformance testing\".
[22] 3GPP TS 51.010‑1 \"Mobile Station (MS) conformance specification; Part1:
Conformance specification\".
[23] 3GPP TS 23.140 Release 6 \"Multimedia Messaging Service (MMS); Functional
description; Stage 2\".
[24] 3GPP TS 24.002 \"GSM -- UMTS Public Land Mobile Network (PLMN) Access
Reference Configuration\".
[25] 3GPP TS 23.060 \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[26] 3GPP TS 24.301: \"Technical Specification Group Core Network and
Terminals; Non-Access-Stratum (NAS) protocol for Evolved Packet Systems (EPS):
Stage 3\".
[27] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE); Security
architecture\".
[28] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
Radio Resource Control (RRC); Protocol specification\".
[29] 3GPP TS 36.508: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Packet Core (EPC); Common test environments for User Equipment (UE)
conformance testing\"
[30] 3GPP TS 36.523-2 \" Evolved Universal Terrestrial Radio Access (E-UTRA)
and Evolved Packet Core (EPC);User Equipment (UE) conformance
specification;Part 2: Implementation Conformance Statement (ICS) proforma
specification\"
[31] 3GPP TS 23.122: \"Non-Access-Stratum functions related to Mobile Station
(MS) in idle mode\".
[32] 3GPP TS 31.103: \"Characteristics of the IP Multimedia Services Identity
Module (ISIM) application\".
[33] 3GPP TS 34.229-1: \"Internet Protocol (IP) multimedia call control
protocol based on Session Initiation Protocol (SIP) and Session Description
Protocol (SDP); User Equipment (UE) conformance specification; Part 1:
Protocol conformance specification\".
[34] 3GPP TS 22.220: \"Universal Mobile Telecommunications System (UMTS);
Service requirements for Home Node B (HNB) and Home eNode B (HeNB)\".
[35] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
User Equipment (UE); Procedures in idle mode \".
[36] 3GPP TS 24.368: \"Non-Access Stratum (NAS) configuration Management
Object (MO)\"
[37] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[38] 3GPP 34.123-1: \"User Equipment (UE) conformance specification; Part 1:
Protocol conformance specification\".3 Definitions, symbols, abbreviations and
coding
[39] 3GPP TS 31.101: \" UICC-terminal interface; Physical and logical
characteristics\".
# 3 Definitions, symbols, abbreviations and coding
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply.
**Application DF (ADF):** entry point to an application
**access conditions:** set of security attributes associated with a file
**access technology:** Radio Access Technology of the Terminal (e.g. E-UTRAN,
UTRAN or GSM)
**application:** consists of a set of security mechanisms, files, data and
protocols (excluding transmission protocols)
**application protocol:** set of procedures required by the application
**card session:** link between the card and the external world starting with
the ATR and ending with a subsequent reset or a deactivation of the card
**current directory:** latest MF or DF or ADF selected
**current EF:** latest EF selected
**data object:** information coded as TLV objects, i.e. consisting of a Tag, a
Length and a Value part
**Dedicated File (DF):** file containing access conditions and, optionally,
Elementary Files (Efs) or other Dedicated Files (DFs)
**directory:** general term for MF, DF and ADF
**Elementary File (EF):** file containing access conditions and data and no
other files
**file:** directory or an organised set of bytes or records in the UICC
**file identifier:** 2 bytes which address a file in the UICC
**function:** function contains a command and a response pair
**GSM session:** that part of the card session dedicated to the GSM operation
**Master File (MF):** unique mandatory file containing access conditions and
optionally DFs and/or Efs
**MMS Relay/Server** : MMS-specific network entity/application that is under
the control of the MMS service provider
> NOTE: An MMS Relay/Server transfers messages, provides operations of the MMS
> that are specific or required by the mobile environment and provides
> (temporary and/or persistent) storage services to the MMS
**MMS User Agent** : application residing on a UE or an external device that
performs MMS-specific operations on a user\'s behalf
**normal USIM operation:** relating to general, PIN related, LTE and/or 3G
and/or GSM security and subscription related procedures
**record:** string of bytes within an EF handled as a single entity
**record number:** number, which identifies a record within an EF
**record pointer:** pointer, which addresses one record in an EF
**terminal:** device into which a UICC can be inserted and which is capable of
providing access to 3GPP system services to users, either alone or in
conjunction with a UICC
**User Equipment (UE):** terminal with a UICC inserted with one or several
Universal Subscriber Identity Module(s) (USIM) available for access either
E-UTRANor UTRAN or GERAN or any combination.
**USIM session:** USIM session is a selectable application session for a USIM
application
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
bx Bit x of byte (leftmost bit is MSB)
Bn Byte No. n
## 3.3 Abbreviations
For the purposes of the present document, the following abbreviations apply:
2G 2^nd^ Generation
3G 3^rd^ Generation
3GPP 3^rd^ Generation Partnership Project
ACC Access Class
ACL APN Control List
ACM Accumulated Call Meter
ACMmax ACM maximal value
ACT Access Technology
ADF Application Dedicated File
AoC Advice of Charge
AoCC Advice of Charge Charging
APN Access Point Name
ASME Access Security Management Entity
ATR Answer To Reset
BCCH Broadcast Control Channel
BCD Binary Coded Decimal
BDN Barred Dialling Number
CCI Capability / Configuration1 Identifier
CCI2 Capability / Configuration(2) Identifier
CCM Current Call Meter
CK Cipher key
CN Core Network
CS Circuit switched
CSG Closed Subscriber Group
DF Dedicated File
EPC Evolved Packet Core
E-USS Evolved UMTS System Simulator
E-UTRA Evolved UTRA
EF Elementary File
eFDD evolved Frequency Division Duplex
EMM EPS Mobility Management
EMMI Electrical Man Machine Interface
EPS Evolved Packet System
eTDD evolved Time Division Duplex
Ext n Extension n
FDD Frequency Division Duplex
FDN Fixed Dialling Number
FPLMN Forbidden PLMN
GSM Global System for Mobile communications
HNB Home NodeB
HeNB Home eNodeB
HPLMN Home PLMN
ICC Integrated Circuit Card
ID Identifier
IEC International Electrotechnical Commission
IK Integrity key
IMSI International Mobile Subscriber Identity
ISO International Organization for Standardization
KSI Key Set Identifier
LAC Location Area Code
LAI Location Area Information
LSB Least Significant Bit
MCC Mobile Country Code
MF Master File
MM Multimedia Message
MMI Man Machine Interface
MMS Multimedia Messaging Service
MNC Mobile Network Code
MS Mobile Station
MSB Most Significant Bit
NAS Non Access Stratum
> NB-IoT Narrow Band Internet of Things
>
> NB-SS Narrow Band System Simulator
NPI Numbering Plan Identifier
OFM Operational Feature Monitor
OSI Open System Interconnection
P1 Parameter 1
P2 Parameter 2
P3 Parameter 3
PIN Personal Identification Number
PLMN Public Land Mobile Network
PS Packet switched
RACH Random Access Channel
RFU Reserved for Future Use
RRC Radio Resource Control
SFI Short File Identifier
SM Short Message
SMS Short Message Service
SS System Simulator (GSM)
TDD Time Division Duplex
TE Terminal Equipment
TLV Tag Length Value
TMSI Temporary Mobile Subscriber Identity
TON Type Of Number
UE User Equipment
USIM Universal Subscriber Identity Module
USS UMTS System Simulator
UTRA Universal Terrestrial Radio Access
UTRAN UMTS Terrestrial Radio Access Network
VPLMN Visitor PLMN
## 3.4 Coding Conventions
For the purposes of the present document, the following coding conventions
apply:
All lengths are presented in bytes, unless otherwise stated. Each byte B is
represented by eight bits b8 to b1, where b8 is the most significant bit (MSB)
and b1 is the least significant bit (LSB). In each representation, the
leftmost bit is the MSB.
In the UICC, all bytes specified as RFU shall be set to \'00\' and all bits
specifies as RFU shall be set to \'0\'. If the GSM and/or USIM application
exists on a UICC or is built on a generic telecommunications card, then other
values may apply for the non- GSM or non-USIM applications. The values will be
defined in the appropriate specifications for such cards and applications.
These bytes and bits shall not be interpreted by a Terminal in a GSM or 3G
session.
The coding of all data objects in the present document is according to ETSI TS
102 221 [5]. All data objects are BER-TLV except if otherwise defined.
## 3.5 Generic procedures for E-UTRAN/UTRAN/GERAN/IMSNB-IoT
If a test case contains the statement \"This test applies to Terminals
accessing E-UTRAN\", the procedures defined in TS 36.508 [29] shall be the
basis for all performed procedures during the test. The procedures in
subclause 4.5 describe the default behaviour of a conformant UE regarding the
specified protocols to be used for E-UTRAN and the required procedures from
the NAS.
If a test case contains the statement \"This test applies to Terminals
accessing UTRAN\", the procedures defined in TS 34.108 [21], subclause 7.2
shall be the basis for all performed procedures during the test. The
procedures in subclause 7 describe the default behaviour of a conformant UE
regarding the specified protocols to be used for UTRAN and the required
procedures from the NAS.
If a test case contains the statement \"This test applies to Terminals
accessing GERAN\", the procedures defined in TS 51.010‑1 [22], subclause 10
shall be the basis for all performed procedures during the test. The
procedures in subclause 10 describe the default behaviour of a conformant UE
regarding the specified protocols to be used for GERAN and the required
procedures from the NAS.
3GPP TS 34.229-1[33], Annex C describes the generic test procedures for IMS.
If a test case contains the statement \"This test applies to Terminals
accessing NB\", the procedures defined in TS 36.508 [29] shall be the basis
for all performed procedures during the test. The procedures in TS 36.508 [29]
subclause 8.1.5 describe the default behaviour of a conformant UE regarding
the specified protocols to be used for NB-IoT and the required procedures from
the NAS.
## 3.6 Applicability
### 3.6.1 Applicability of the present document
The present document applies to a terminal equipment supporting the USIM.
### 3.6.2 Applicability to terminal equipment
The applicability to terminal equipment supporting the USIM is specified in
table B.1, unless otherwise specified in the specific clause.
### 3.6.3 Applicability of the individual tests
Table B.1 lists the optional, conditional or mandatory features for which the
supplier of the implementation states the support. As pre-condition the
supplier of the implementation shall state the support of possible options in
table A.1.
The \"Release XY ME\" columns shows the status of the entries as follows:
The following notations, defined in ISO/IEC 9646‑7 [19], are used for the
status column:
M mandatory -- the capability is required to be supported.
O optional -- the capability may be supported or not.
N/A not applicable -- in the given context, it is impossible to use the
capability.
X prohibited (excluded) -- there is a requirement not to use this capability
in the given context.
O.i qualified optional -- for mutually exclusive or selectable options from a
set. \"i\" is an integer which identifies an unique group of related optional
items and the logic of their selection which is defined immediately following
the table.
Ci conditional -- the requirement on the capability (\"M\", \"O\", \"X\" or
\"N/A\") depends on the support of other optional or conditional items. \"i\"
is an integer identifying an unique conditional status expression which is
defined immediately following the table. For nested conditional expressions,
the syntax \"IF ... THEN (IF ... THEN ... ELSE...) ELSE ...\" shall be used to
avoid ambiguities.
The \"Additional test case execution recommendation\" column shows the status
of the entries as follows:
A applicable - the test is applicable according to the corresponding entry in
the \"Rxx ME\" column
R redundant -- the test has to be considered as redundant when the
corresponding E-UTRAN/EPC related test of the present document has been
validated and successfully executed. In that case the requirement may be
verified by means of the E-UTRAN/EPC functionality only.
AERi Additional test case Execution Recommendation -- with respect to the
above listed definitions of (\"A\") and (\"R\") the test is applicable (\"A\")
or redundant (\"R\") depending on the support of other optional or conditional
items. \"i\" is an integer identifying a unique conditional status expression
which is defined immediately following the table. For nested conditional
expressions, the syntax \"IF ... THEN (IF ... THEN ... ELSE...) ELSE ...\"
shall be used to avoid ambiguities.
##### References to items {#references-to-items .H6}
For each possible item answer (answer in the support column) there exists a
unique reference, used, for example, in the conditional expressions. It is
defined as the table identifier, followed by a solidus character \"/\",
followed by the item number in the table. If there is more than one support
column in a table, the columns shall be discriminated by letters (a, b, etc.),
respectively.
EXAMPLE: A.1/4 is the reference to the answer of item 4 in table A.1.
## 3.7 Table of optional features
Support of several features is optional or release dependent for the terminal
equipment. However, if an ME states conformance with a specific 3GPP release,
it is mandatory for the ME to support all mandatory functions of that release,
as stated in table A.1 with the exception of the functions:
\- \"Support of ACL\"; and
\- \"Support of local phonebook\";
The supplier of the implementation shall state the support of possible options
in table A.1.
Table A.1: Options
+---------------+---------------+----------+---------+---------------+ | Item | Option | Status | Support | Mnemonic | +---------------+---------------+----------+---------+---------------+ | 1 | Support of CS | O | | O_CS | +---------------+---------------+----------+---------+---------------+ | 2 | Support of a | O | | O_PIN2 | | | feature | | | _ENTRY_FEAT | | | requiring | | | | | | PIN2 entry | | | | | | (such as e.g. | | | | | | AoC or FDN) | | | | +---------------+---------------+----------+---------+---------------+ | 3 | Support of | C001 | | O_UTRAN | | | UTRAN access | | | | +---------------+---------------+----------+---------+---------------+ | 4 | Support of | C002 | | O_GERAN | | | GERAN access | | | | +---------------+---------------+----------+---------+---------------+ | 5 | Support of | O | | O_FDN | | | Fixed | | | | | | Dialling | | | | | | Numbers | | | | +---------------+---------------+----------+---------+---------------+ | 6 | Support of | O | | O_AoCC | | | Advice of | | | | | | Charge | | | | | | Charging | | | | +---------------+---------------+----------+---------+---------------+ | 7 | Support of | C003 | | O_HPLMNwACT | | | Higher | | | | | | priority PLMN | | | | | | selector with | | | | | | Access | | | | | | Technology | | | | | | service | | | | | | (I | | | | | | mplementation | | | | | | is optional | | | | | | in Rel-6 and | | | | | | onwards) | | | | +---------------+---------------+----------+---------+---------------+ | 8 | Support of | O | | **O | | | local | | | _Local_PB** | | | phonebook | NOTE 1 | | | +---------------+---------------+----------+---------+---------------+ | 9 | **Support of |** C004**| |** O\ | | | global | | | _Global_PB**| | | phonebook** | | | | +---------------+---------------+----------+---------+---------------+ | 10 | Support of | O | | O_Store_ | | | storing | | | Received_SMS | | | received | | | | | | Class 2 Short | | | | | | Messages in | | | | | | the USIM | | | | +---------------+---------------+----------+---------+---------------+ | 11 | Support of | O | | O_MMS | | | MMS | | | | +---------------+---------------+----------+---------+---------------+ | 12 | Support of | C005 | | O_MM | | | usage of MMS | | | S_USIM_DATA | | | related data | | | | | | stored on the | | | | | | USIM | | | | +---------------+---------------+----------+---------+---------------+ | 13 | Supported of | O | | O_ | | | unselected | | | NO_USER_MMS | | | user MMS | | | _CONF_SELEC | | | connectivity | | | | | | parameters | | | | +---------------+---------------+----------+---------+---------------+ | 14 | Support of | O | | O_MMS_N | | | MMS | | | OTIF_STORAGE | | | notification | | | | | | storage on | | | | | | the USIM | | | | +---------------+---------------+----------+---------+---------------+ | 15 | Support of | O | | O_ACL | | | ACL | | | | | | | NOTE 2 | | | +---------------+---------------+----------+---------+---------------+ | 16 | Support of | O | | O_SDN | | | SDN | | | | +---------------+---------------+----------+---------+---------------+ | 17 | Support of | O | | O_EFPLMNwA | | | numerical | | | CT_numerical | | | entry of PLMN | | | entry | | | codes in EF | | | | | | PLMNwACT | | | | +---------------+---------------+----------+---------+---------------+ | 18 | Terminal does | O | | O_ | | | support | | | Speech_Calls | | | speech call | | | | +---------------+---------------+----------+---------+---------------+ | 19 | Terminal | O | | O_PIN\ | | | support PIN | | | _MMI_Strings | | | MMI strings | | | | +---------------+---------------+----------+---------+---------------+ | 20 | Terminal does | O | | pc_eFDD | | | support eFDD | | | | +---------------+---------------+----------+---------+---------------+ | 21 | Terminal does | O | | pc_eTDD | | | support eTDD | | | | +---------------+---------------+----------+---------+---------------+ | 22 | Terminal does | O | | pc_Allow | | | support CSG | | | ed_CSG_list | | | list handling | | | | | | (for E-UTRA) | | | | +---------------+---------------+----------+---------+---------------+ | 23 | Terminal | O | | p | | | supports | | | c_SM-over-IP | | | SM-ove | | | receiver | | | r-IP-receiver | | | | +---------------+---------------+----------+---------+---------------+ | 24 | Terminal | O | | pc_USIM_EF | | | supports | | | _SMS_readin | | | reading SMS\' | | | g_support_i | | | stored in EF | | | f_USIM_ISIM | | | SMS on the | | | both present | | | USIM if USIM | | | | | | and ISIM are | | | | | | present | | | | +---------------+---------------+----------+---------+---------------+ | 25 | Terminal | O | | pc_ISIM_EF | | | supports | | | _SMS_readin | | | reading SMS\' | | | g_support_i | | | stored in EF | | | f_USIM_ISIM | | | SMS on the | | | both present | | | ISIM if USIM | | | | | | and ISIM are | | | | | | present | | | | +---------------+---------------+----------+---------+---------------+ | 26 | Terminal can | O | | O_LARGE\ | | | store more | | | _SMS_STORAGE | | | than 1000 | | | | | | text messages | | | | +---------------+---------------+----------+---------+---------------+ | 27 | Support for | O | | pc_ | | | multiple PDN | | | Multiple_PDN | | | | | | | | | connections | | | | +---------------+---------------+----------+---------+---------------+ | 28 | Terminal does | O | | pc_CSG | | | support CSG | | | | | | (for UTRA) | | | | +---------------+---------------+----------+---------+---------------+ | 29 | Support of | O | | pc_manual_C | | | manual CSG | | | SG_selection | | | selection | | | | +---------------+---------------+----------+---------+---------------+ | 30 | Support of PS | O | | O_PS | +---------------+---------------+----------+---------+---------------+ | 31 | Terminal does | O | | O_Display | | | support | | | | | | display | | | | +---------------+---------------+----------+---------+---------------+ | 32 | Terminal does | O | | O_Keypad | | | support | | | | | | keypad | | | | +---------------+---------------+----------+---------+---------------+ | 33 | Terminal | O | | O_EUTRA\ | | | supports | | | _Disabling_E | | | E-UTRA | | | MM_cause#15 | | | Disabling | | | | | | Allowed for | | | | | | EMM cause | | | | | | #15 | | | | +---------------+---------------+----------+---------+---------------+ | 34 | Terminal | O | | O_O | | | supports | | | verride_NAS\ | | | Override NAS | | | _signalling_ | | | signalling | | | low_priority | | | low priority | | | | +---------------+---------------+----------+---------+---------------+ | 35 | Terminal | O | | O_T3245 | | | supports | | | | | | T3245 timer | | | | +---------------+---------------+----------+---------+---------------+ | 36 | Terminal | O | | O_ | | | supports | | | Override_EAB | | | Override | | | | | | Extended | | | | | | access | | | | | | barring | | | | +---------------+---------------+----------+---------+---------------+ | 37 | Terminal does | O | | pc_NB | | | support | | | | | | NB-IoT | | | | +---------------+---------------+----------+---------+---------------+ | 38 | MS maintains | O | | O_PLMN_s | | | a list of | | | pecific_atte | | | PLMN-specific | | | mpt_counters | | | attempt | | | | | | counters | | | | +---------------+---------------+----------+---------+---------------+ | 39 | Terminal does | O | | O_PS | | | support | | | M_DEAC_UICC | | | deactivation | | | | | | of the UICC | | | | | | in PSM. | | | | +---------------+---------------+----------+---------+---------------+ | 40 | Terminal does | O | | O_eDR | | | support | | | X_DEAC_UICC | | | deactivation | | | | | | of the UICC | | | | | | during | | | | | | extended DRX | | | | +---------------+---------------+----------+---------+---------------+ | 41 | Terminal does | O | | O_PSM_ | | | support the | | | **SU | | |** UICC | | | SPEND**_UICC | | | suspension | | | | | | mechanism** | | | | | | in PSM. | | | | +---------------+---------------+----------+---------+---------------+ | 42 | Terminal does | O | | O_eDRX_ | | | support the | | | **SU | | |** UICC | | | SPEND**_UICC | | | suspension | | | | | | mechanism** | | | | | | during | | | | | | extended DRX | | | | +---------------+---------------+----------+---------+---------------+ | > C001 If | | | | | | > terminal is | | | | | | > 3G terminal | | | | | | > then M else | | | | | | > N/A | | | | | | > | | | | | | > C002 If | | | | | | > terminal is | | | | | | > 2G terminal | | | | | | > then M else | | | | | | > O | | | | | | > | | | | | | > C003 If | | | | | | > Higher | | | | | | > priority | | | | | | > PLMN | | | | | | > selector | | | | | | > with Access | | | | | | > Technology | | | | | | > service is | | | | | | > implemented | | | | | | > according | | | | | | > to Rel-6 or | | | | | | > later then | | | | | | > O else M | | | | | | > | | | | | | > C004 If | | | | | | > (A.1/18 is | | | | | | > supported) | | | | | | > AND (A.1/31 | | | | | | > is | | | | | | > supported) | | | | | | > AND (A.1/32 | | | | | | > is | | | | | | > supported) | | | | | | > AND | | | | | | > (terminal | | | | | | > is | | | | | | > implemented | | | | | | > according | | | | | | > to Rel-6 or | | | | | | > later) then | | | | | | > M, else O | | | | | | > | | | | | | > C005 If | | | | | | > ((A.1/11 is | | | | | | > NOT | | | | | | > supported) | | | | | | > OR | | | | | | > (terminal | | | | | | > is | | | | | | > implemented | | | | | | > according | | | | | | > to R99)) | | | | | | > then N/A | | | | | | > else if | | | | | | > terminal is | | | | | | > implemented | | | | | | > according | | | | | | > to Rel-4 | | | | | | > then O else | | | | | | > M | | | | | | > | | | | | | > C006 void | | | | | | > | | | | | | > NOTE 1: The | | | | | | > support of | | | | | | > this | | | | | | > feature was | | | | | | > made | | | | | | > optional by | | | | | | > CR#0214. | | | | | | > See | | | | | | > conditions | | | | | | > in TS | | | | | | > 31.102 | | | | | | > [4] | | | | | | | | | | | | NOTE 2: The | | | | | | support of | | | | | | this feature | | | | | | was made | | | | | | optional by | | | | | | CR#0200. | | | | | +---------------+---------------+----------+---------+---------------+
## 3.8 Applicability table
Table B.1: Applicability of tests
Item | Description | Tested feature defined in Release | Test sequence(s) | R99 ME | Rel-4 ME | Rel-5 ME | Rel-6 ME | Rel-7 ME | Rel-8 ME | Rel-9 ME | Rel-10 ME | Rel-11 ME | Rel-12 ME | Rel-13 ME | Rel-14-ME | Network Dependency | Support | Additional test case execution recommendation  
---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---  
1 | UE identification by short IMSI | R99 | **5.1.1** | **M** | M | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | **UMTS System Simulator or System Simulator only** |  | AER005  
2 | UE identification by short IMSI using 2 digit MNC | R99 | 5.1.2 | M | M | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | UMTS System Simulator or System Simulator only |  | AER005  
3 | UE identification by "short" TMSI | R99 | 5.1.3 | C004 | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | UMTS System Simulator or System Simulator only |  | AER005  
4 | **UE identification by "long" TMSI** | R99 | **5.1.4** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | UMTS System Simulator or System Simulator only |  | AER005  
5 | UE identification by long IMSI, TMSI updating after key set identifier assignment | R99 | 5.1.5 | C004 | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | **C004** | UMTS System Simulator or System Simulator only |  | AER005  
6 | UE identification by short IMSI when accessing E-UTRAN/EPC | Rel-8 | **5.1.6** | N/A | **N/A** | N/A | N/A | **N/A** | C027 | C027 | C027 | C027 | C027 | C045 | **C045** | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
7 | UE identification by short IMSI using 2 digit MNC when accessing E-UTRAN/EPC | Rel-8 | 5.1.7 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | C027 | C027 | C027 | C027 | C027 | C045 | **C045** | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
8 | UE identification after changed IMSI with service "EMM Information" not available | Rel-8 | 5.1.8 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | C027 | C027 | C027 | C027 | C027 | C045 | **C045** | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
9 | UE identification by GUTI when using USIM with service "EMM Information" not available | Rel-8 | 5.1.9 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | C027 | C027 | C027 | C027 | C027 | C045 | **C045** | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
10 | UE identification by GUTI when using USIM with service "EMM Information" available | Rel-8 | 5.1.10 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | C027 | C027 | C027 | C027 | C027 | C045 | **C045** | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
11 | Access Control information handling | R99 | 5.2.1 | C024 | **C024** | **C024** | **C024** | **C024** | **C024** | **C024** | **C024** | **C024** | **C024** | **C024** | **C024** | UMTS System Simulator or System Simulator only |  |   
12 | Access Control information handling for E-UTRAN/EPC | Rel-8 | 5.2.2 | N/A | N/A | N/A | N/A | N/A | **C036** | **C036** | **C036** | **C036** | **C036** | **C036** | **C036** | E-UTRAN System Simulator only |  |   
13 | Entry of PIN | R99 | 6.1.1 | M | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | No |  |   
14 | Change of PIN | R99 | 6.1.2 | M | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | **M** | No |  |   
15 | Unblock PIN | R99 | 6.1.3 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | No |  |   
16 | **Entry of PIN2** | R99 | 6.1.4 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | No |  |   
17 | **Change of PIN2** | R99 | 6.1.5 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | No |  |   
18 | **Unblock PIN2** | R99 | 6.1.6 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | No |  |   
19 | **Replacement of PIN** | R99 | 6.1.7 | M | M | M | M | M | M | M | M | M | M | M | M | No |  |   
20 | Change of Universal PIN | R99 | 6.1.8 | M | M | M | M | M | M | M | M | M | M | M | M | No |  |   
21 | Unblock Univesal PIN | R99 | 6.1.9 | M | M | M | M | M | M | M | M | M | M | M | M | No |  |   
22 | Entry of PIN on multi-verification capable UICCs | Rel-4 | 6.1.10 | N/A | M | M | M | M | M | M | M | M | M | M | M | No |  |   
23 | Change of PIN on multi-verification capable UICCs | Rel-4 | 6.1.11 | N/A | M | M | M | M | M | M | M | M | M | M | M | No |  |   
24 | Unblock PIN on multi-verification capable UICCs | Rel-4 | 6.1.12 | N/A | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | C025 | No |  |   
25 | Entry of PIN2 on multi-verification capable UICCs | Rel-4 | 6.1.13 | N/A | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | No |  |   
26 | Change of PIN2 on multi-verification capable UICCs | Rel-4 | 6.1.14 | N/A | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | C005 | No |  |   
27 | Unblock PIN2 on multi-verification capable UICCs | Rel-4 | 6.1.15 | NA/ | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | C026 | No |  |   
28 | Replacement of PIN with key reference "07" | Rel-4 | 6.1.16 | N/A | M | M | M | M | M | M | M | M | M | M | M | No |  |   
29 | Terminal and USIM with FDN enabled, EFADN readable and updateable | R99 | 6.2.1 | C006 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | UMTS System Simulator or System Simulator only |  |   
30 | Terminal and USIM with FDN disabled | R99 | 6.2.2 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | UMTS System Simulator or System Simulator only |  |   
31 | Enabling, disabling and updating FDN | R99 | 6.2.3 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | UMTS System Simulator or System Simulator only |  |   
32 | Terminal and USIM with FDN enabled, EFADN readable and updateable (Rel-4 and onwards) | Rel-4 | 6.2.4 | N/A | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | C006 | UMTS System Simulator or System Simulator only |  |   
33 | AoC not supported by USIM | R99 | 6.4.1 | C007 | C007 | C007 | C007 | C007 | C007 | C007 | C007 | C007 | C007 | C007 | C007 | UMTS System Simulator or System Simulator only |  |   
34 | Maximum frequency of ACM updating | R99 | 6.4.2 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | UMTS System Simulator or System Simulator only |  |   
35 | Call terminated when ACM greater than ACMmax | R99 | 6.4.3 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | UMTS System Simulator or System Simulator only |  |   
36 | Response codes of increase command of ACM | R99 | 6.4.4 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | C008 | UMTS System Simulator or System Simulator only |  |   
37 | Adding FPLMN to the forbidden PLMN list | R99 | 7.1.1 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | UMTS System Simulator or System Simulator only |  | AER005  
38 | UE updating forbidden PLMNs | R99 | 7.1.2 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | C047 | UMTS System Simulator or System Simulator only |  | AER005  
39 | UE deleting forbidden PLMNs | R99 | 7.1.3 | M | M | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | UMTS System Simulator or System Simulator only |  | AER005  
40 | Adding FPLMN to the forbidden PLMN list when accessing E-UTRAN | Rel-8 | 7.1.4 | N/A | N/A | N/A | N/A | N/A | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
41 | UE updating forbidden PLMNs when accessing E-UTRAN | Rel-8 | 7.1.5 | N/A | N/A | N/A | N/A | N/A | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
42 | UE deleting forbidden PLMNs when accessing E-UTRAN | Rel-8 | 7.1.6 | N/A | N/A | N/A | N/A | N/A | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
43 | UE updating the User controlled PLMN selector list | R99 | 7.2.1 | C022 | C022 | C022 | C022 | C022 | C022 | C022 | C022 | C022 | C022 | C022 | C022 | No |  |   
44 | UE recognising the priority order of the User controlled PLMN selector list with the same access technology | R99 | 7.2.2 | M | M | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | UMTS System Simulator or System Simulator only |  | AER005  
45 | UE recognising the priority order of the User controlled PLMN selector list using an ACT preference | R99 | 7.2.3 | C009 | C009 | C009 | C009 | C009 | C009 | C009 | C009 | C009 | C009 | C009 | C009 | UMTS System Simulator and System Simulator |  |   
46 | User controlled PLMN selector handling for E-UTRAN | Rel-8 | 7.2.5 | N/A | N/A | N/A | N/A | N/A | C022 AND C027 | C022 AND C027 | C022 AND C027 | C022 AND C027 | C022 AND C027 | C022 AND C027 | C022 AND C027 | No |  |   
47 | UE recognising the priority order of the User controlled PLMN selector list using an ACT preference – UTRAN/E-UTRAN | Rel-8 | 7.2.6 | N/A | N/A | N/A | N/A | N/A | C022 AND C027 AND C048 | C022 AND C027 AND C048 | C022 AND C027 AND C048 | C022 AND C027 AND C048 | C022 AND C027 AND C048 | C022 AND C027 AND C048 | C022 AND C027 AND C048 | E-UTRAN and UMTS System Simulator |  |   
48 | UE recognising the priority order of the User controlled PLMN selector list using an ACT preference – GSM/E-UTRAN | Rel-8 | 7.2.7 | N/A | N/A | N/A | N/A | N/A | C022 AND C027 AND C056 | C022 AND C027 AND C056 | C022 AND C027 AND C056 | C022 AND C027 AND C056 | C022 AND C027 AND C056 | C022 AND C027 AND C056 | C022 AND C027 AND C056 | E-UTRAN and System Simulator |  |   
49 | UE recognising the priority order of the Operator controlled PLMN selector list | R99 | 7.3.1 | M | M | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | UMTS System Simulator or System Simulator only |  | AER005  
50 | UE recognising the priority order of the User controlled PLMN selector over the Operator controlled PLMN selector list | R99 | 7.3.2 | M | M | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | UMTS System Simulator or System Simulator only |  | AER005  
51 | UE recognising the priority order of the Operator controlled PLMN selector list when accessing E-UTRAN | Rel-8 | 7.3.3 | N/A | N/A | N/A | N/A | N/A | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
52 | UE recognising the priority order of the User controlled PLMN selector over the Operator controlled PLMN selector list - E-UTRAN | Rel-8 | 7.3.4 | N/A | N/A | N/A | N/A | N/A | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
53 | UE recognising the search period of the Higher priority PLMN | R99 | 7.4.1 | C010 | C010 | C010 | C010 | C010 | C010 | C010 | C010 | C010 | C010 | C010 | C010 | UMTS System Simulator or System Simulator only |  | AER005  
54 | GSM/UMTS dual mode Ues recognising the search period of the Higher priority PLMN | R99 | 7.4.2 | C003 | C003 | C003 | C003 | C003 | C003 | C003 | C003 | C003 | C003 | C003 | C003 | UMTS System Simulator and System Simulator |  |   
55 | UE recognising the search period of the Higher priority PLMN – E-UTRAN | Rel-8 | 7.4.3 | N/A | N/A | N/A | N/A | N/A | C010 AND C027 | C010 AND C027 | C010 AND C027 | C010 AND C027 | C010 AND C027 | C010 AND C045 | C010 AND C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
56 | E-UTRAN/EPC capable Ues recognising the search period of the Higher priority PLMN – GSM/E-UTRAN | Rel-8 | 7.4.4 | N/A | N/A | N/A | N/A | N/A | C003 AND C027 | C003 AND C027 | C003 AND C027 | C003 AND C027 | C003 AND C027 | C003 AND C027 | C003 AND C027 | E-UTRAN and System Simulator |  |   
57 | E-UTRAN/EPC capable Ues recognising the search period of the Higher priority PLMN – UTRAN/E-UTRAN | Rel-8 | 7.4.5 | N/A | N/A | N/A | N/A | N/A | C011 AND C027 | C011 AND C027 | C011 AND C027 | C011 AND C027 | C011 AND C027 | C011 AND C027 | C011 AND C027 | E-UTRAN and UMTS System Simulator |  |   
58 | Recognition of a previously changed phonebook | R99 | 8.1.1 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | No |  |   
59 | Update of the Phonebook Synchronisation counter (PSC) | R99 | 8.1.2 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | No |  |   
60 | Handling of BCD number/ SSC content extension | R99 | 8.1.3.1 | N/A | N/A | C013 | C013 | C013 | C013 | C013 | C013 | C013 | C013 | C013 | C013 | No |  |   
61 | Phonebook selection | R99 | 8.1.4 | N/A | N/A | C014 | C014 | C014 | C014 | C014 | C014 | C014 | C014 | C014 | C014 | No |  |   
62 | Local Phonebook handling | R99 | 8.1.5 | N/A | N/A | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | C012 | No |  |   
63 | Correct storage of a SM on the USIM | R99 | 8.2.1 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | UMTS System Simulator or System Simulator only |  | AER003  
64 | Correct reading of a SM on the USIM | R99 | 8.2.2 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | C015 | UMTS System Simulator or System Simulator only |  | AER004  
65 | SM memory capacity exceeded handling | R99 | 8.2.3 | C035 | C035 | C035 | C035 | C035 | C035 | C035 | C035 | C035 | C035 | C035 | C035 | UMTS System Simulator or System Simulator only |  |   
66 | Correct storage of an SM on the UICC | Rel-7 | 8.2.4.A | N/A | N/A | N/A | N/A | C032 | C032 | C032 | C032 | C032 | C032 | C032 | C032 | UMTS System Simulator |  |   
67 | Correct storage of an SM on the UICC | Rel-8 | 8.2.4.B | N/A | N/A | N/A | N/A | N/A | C031 | C031 | C031 | C031 | C031 | C031 | C031 | E-UTRAN System Simulator only |  |   
68 | Correct reading of a SM on the USIM if USIM and ISIM are present | Rel-7 | 8.2.5 | N/A | N/A | N/A | N/A | C033 | C033 | C033 | C033 | C033 | C033 | C033 | C033 | No |  |   
69 | Correct reading of a SM on the ISIM if USIM and ISIM are present | Rel-7 | 8.2.6 | N/A | N/A | N/A | N/A | C034 | C034 | C034 | C034 | C034 | C034 | C034 | C034 | No |  |   
70 | UE recognising the priority order of MMS Issuer Connectivity Parameters | Rel-4 | 8.3.1 | N/A | C016 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | E-UTRAN System Simulator or UMTS System Simulator or System Simulator only |  |   
71 | UE recognising the priority order of MMS User Connectivity Parameters | Rel-4 | 8.3.2 | N/A | C016 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | E-UTRAN System Simulator or UMTS System Simulator or System Simulator only |  |   
72 | UE recognising the priority order of MMS Issuer Connectivity Parameters over the MMS User Connectivity Parameters | Rel-4 | 8.3.3 | N/A | C016 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | C017 | E-UTRAN System Simulator or UMTS System Simulator or System Simulator only |  |   
73 | Usage of MMS notification | Rel-4 | 8.3.4 | N/A | C018 | C018 | C018 | C018 | C018 | C018 | C018 | C018 | C018 | C018 | C018 | E-UTRAN System Simulator or UMTS System Simulator or System Simulator only |  |   
74 | UICC presence detection | Rel-5 | 8.4 | N/A | N/A | M | M | M | C049 | C049 | C049 | C049 | C049 | C049 | C049 | UMTS System Simulator or System Simulator only |  | AER001  
75 | UICC presence detection when connected to E-UTRAN/EPC | Rel-8 | 8.5 | N/A | N/A | N/A | N/A | N/A | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
76 | Access Point Control List handling for terminals supporting ACL | R99 | 9.1.1 | N/A | N/A | C019 | C019 | C019 | C019 | C019 | C019 | C019 | C019 | C019 | C019 | UMTS System Simulator or System Simulator only |  | AER002  
77 | Network provided APN handling for terminals supporting ACL | R99 | 9.1.2 | N/A | N/A | C019 | C019 | C019 | C019 | C019 | C019 | C019 | C019 | C019 | C019 | UMTS System Simulator or System Simulator only |  | AER002  
78 | Access Point Control List handling for terminals not supporting ACL | R99 | 9.1.3 | N/A | N/A | C020 | C020 | C020 | C020 | C020 | C020 | C020 | C020 | C020 | C020 | UMTS System Simulator or System Simulator only |  | AER002  
79 | Access Point Control List handling for terminals supporting ACL connected to E-UTRAN/EPC | Rel-8 | 9.1.4 | N/A | N/A | N/A | N/A | N/A | C050 | C050 | C050 | C050 | C050 | C050 | C050 | E-UTRAN System Simulator only |  |   
80 | Void |  | 9.1.5 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |   
81 | Void |  | 9.1.6 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |   
82 | Service Dialling Numbers handling | R99 | 9.2 | N/A | N/A | N/A | C021 | C021 | C021 | C021 | C021 | C021 | C021 | C021 | C021 | UMTS System Simulator or System Simulator only |  |   
83 | Automatic CSG selection in E-UTRA with CSG list on USIM, success | Rel-8 | 10.1.1 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C028** | **C028** | **C028** | **C028** | **C028** | **C028** | **C028** | E-UTRAN System Simulator only |  |   
84 | Automatic CSG selection in E-UTRA with CSG list on USIM, removal of CSG ID from the USIM | Rel-8 | 10.1.2 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C028** | **C028** | **C028** | **C028** | **C028** | **C028** | **C028** | E-UTRAN System Simulator only |  |   
85 | Manual CSG selection in E-UTRA with CSG list on USIM, success | Rel-8 | 10.1.3 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | E-UTRAN System Simulator only |  |   
86 | Manual CSG selection in E-UTRA with CSG list on USIM, rejected | Rel-8 | 10.1.4 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | E-UTRAN System Simulator only |  |   
87 | CSG selection in E-UTRA with no CSG list on USIM, no IMSI change | Rel-8 | 10.1.5 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | E-UTRAN System Simulator only |  |   
88 | CSG selection in E-UTRA with no CSG list on USIM, with IMSI change | Rel-8 | 10.1.6 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | E-UTRAN System Simulator only |  |   
89 | NAS security context parameter handling when service "EMM Information" is available | Rel-8 | 11.1 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C027** | **C027** | **C027** | **C027** | **C027** | C045 | C045 | E-UTRAN System Simulatoror NB System Simulator (See Note 2) |  |   
90 | NAS security context parameter handling when service "EMM Information" is not available, no IMSI change | Rel-8 | 11.2 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C027** | **C027** | **C027** | **C027** | **C027** | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
91 | NAS security context parameter handling when service "EMM Information" is not available, IMSI changed | Rel-8 | 11.3 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **C027** | **C027** | **C027** | **C027** | **C027** | C045 | C045 | E-UTRAN System Simulatoror NB System Simulator (See Note 2) |  |   
92 | CSG Type display test | Rel-8 |  |  |  |  |  |  |  |  |  |  |  |  |  | TBD |  |   
93 | Home NodeB Name display test | Rel-8 |  |  |  |  |  |  |  |  |  |  |  |  |  | TBD |  |   
94 | Manual CSG selection without display restrictions in E-UTRA with ACSG list and OCSG list on USIM | Rel-9 | 10.1.7 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | E-UTRAN System Simulator only |  |   
95 | Manual CSG selection with display restrictions in E-UTRA with ACSG list and OCSG list on USIM | Rel-9 | 10.1.8 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **C038** | **C038** | **C038** | **C038** | **C038** | **C038** | E-UTRAN System Simulator only |  |   
96 | Manual CSG selection without display restrictions in UTRA with ACSG list and OCSG list on USIM | Rel-9 | 10.2.1 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C037 | C037 | C037 | C037 | C037 | C037 | UTRAN System Simulator only |  |   
97 | Manual CSG selection with display restrictions in UTRA with ACSG list and OCSG list on USIM | Rel-9 | 10.2.2 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C037 | C037 | C037 | C037 | C037 | C037 | UTRAN System Simulator only |  |   
98 | Manual CSG selection in UTRA with CSG list on USIM, success | Rel-8 | 10.2.3 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | C037 | C037 | C037 | C037 | C037 | C037 | C037 | UTRAN System Simulator only |  |   
99 | EPS NAS Security Context Storage | Rel-8 | 11.4 | N/A | **N/A** | **N/A** | **N/A** | **N/A** | C027 | C027 | C027 | C027 | C027 | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  |   
100 | EFNASCONFIG – NAS signaling priority handling | Rel-10 | 12.1 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | NOTE1 | No |  |   
101 | EFNASCONFIG – NMO I Network Mode of Operation I handling | Rel-10 | 12.2 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | No |  |   
102 | Void | Rel-10 | 12.3 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | No |  |   
103 | EFNASCONFIG – Verifying Minimum Periodic Search Timer | Rel-10 | 12.4 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | NOTE1 | No |  |   
104 | EFNASCONFIG – Extended access barring handling | Rel-10 | 12.5 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | No |  |   
105 | EFNASCONFIG – Verifying Timer T3245 Behaviour | Rel-10 | 12.6 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C043 | C043 | C043 | UTRAN System Simulator |  |   
106 | EFNASCONFIG – Override NAS signalling low priority | Rel-11 | 12.7 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C041 | C041 | UTRAN System Simulator |  |   
107 | EFNASCONFIG – Override Extended access barring | Rel-11 | 12.8 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C044 | C044 | UTRAN System Simulator |  |   
108 | EFNASCONFIG – Fast First Higher Priority PLMN Search | Rel-12 | 12.9 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | NOTE1 | NOTE1 | UTRAN System Simulator |  |   
109 | EFNASCONFIG – E-UTRA Disabling Allowed for EMM cause #15 | Rel-12 | 12.10 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C040 AND C048 AND C027 | C040 AND C048 AND C027 | E-UTRAN System Simulator AND UTRAN System Simulator |  |   
110 | EFNASCONFIG – SM_RetryWaitTime | Rel-12 | 12.11 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C042 | C042 | UTRAN System Simulator |  |   
111 | EFNASCONFIG – SM_RetryAtRATChange | Rel-12 | 12.12 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | NOTE1 | No |  |   
112 | Correct storage of an SM on the UICC | Rel-13 | 8.2.7 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C046 | C046 | NB System Simulator only |  |   
113 | **Access Control information handling for NB-IoT** | Rel-13 | 5.2.3 | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C046 | C046 | NB System Simulator only |  |   
114 | **Updating the Forbidden PLMN list after receiving non-integrity protected reject message – UTRAN** | Rel-13 | 7.1.7 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C048 | C048 | UMTS System Simulator |  | AER006  
115 | **Updating the Forbidden PLMN list after receiving non-integrity protected reject message – E-UTRAN** | Rel-13 | 7.1.8 | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | C045 | C045 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | AER006  
116 | **UICC interface in PSM handling for E-UTRAN – No UICC deactivation in PSM** | Rel-13 | **13.1** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C051 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER007** AER009  
117 | **UICC interface in PSM handling for E-UTRAN – PSM not accepted by E-USS/NB-SS** | Rel-13 | **13.2** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C051 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER007** AER009  
118 | **UICC interface in PSM handling for E-UTRAN – UICC deactivation in PSM** | Rel-13 | **13.3** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C051 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER007** AER009  
119 | **UICC interface in PSM for E-UTRAN – SUSPEND UICC** | Rel-14 | **13.4** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C053 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER007** AER009  
120 | **UICC interface during eDRX for E-UTRAN – eDRX is not supported by the UICC** | Rel-13 | **14.1** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C052 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER008** AER010  
121 | **UICC interface during eDRX for E-UTRAN – eDRX is not accepted by E-USS/NB-SS** | Rel-13 | **14.2** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C052 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER008** AER010  
122 | **UICC interface during eDRX for E-UTRAN – UICC deactivation** **during eDRX** | Rel-13 | **14.3** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C052 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER008** AER010  
123 | **UICC interface during eDRX for E-UTRAN– SUSPEND UICC** | Rel-14 | **14.4** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C054 | E-UTRAN System Simulator or NB System Simulator (See Note 2) |  | **AER008** AER010  
124 | **UE recognising the priority order of the User controlled PLMN selector over the Operator controlled PLMN selector list – E-UTRAN in NB-S1 mode** | Rel-14 | **7.3.6** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C022 AND C046 | NB System Simulator |  |   
125 | **UE recognising the priority order of the Operator controlled PLMN selector list using the ACT preference - E-UTRAN in NB-S1/ E-UTRAN in WB-S1 mode** | Rel-14 | **7.3.7** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C027 AND C046 | E-UTRAN System Simulator and NB System Simulator |  |   
126 | **UE recognising the priority order of the Operator controlled PLMN selector list using the ACT preference - E-UTRAN in NB-S1 mode/ GSM** | Rel-14 | **7.3.8** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C046 AND C055 | NB System Simulator and System Simulator |  |   
127 | **UE recognising the priority order of the Operator controlled PLMN selector list using the ACT preference - E-UTRAN in WB-S1 mode/GSM** | Rel-14 | **7.3.9** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | C027 AND C055 | E-UTRAN and System Simulator |  |   
**128** | **UE recognising the priority order of the User controlled PLMN selector list with the same access technology – E-UTRAN in NB-S1 mode** | **Rel-14** | **7.2.8** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **C022** **AND C046** | **NB System Simulator** |  |   
**129** | **UE recognising the priority order of the User controlled PLMN selector list using the ACT preference – E-UTRAN in WB-S1/E-UTRAN in NB-S1** | **Rel-14** | **7.2.9** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **C022** **AND C027** **AND** **C046** | **E-UTRAN System Simulator** **and** **NB System Simulator** |  |   
**130** | **UE recognising the priority order of the Operator controlled PLMN selector list when accessing E-UTRAN in NB-S1 mode** | **Rel-14** | **7.3.5** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **N/A** | **C046** | **NB System Simulator** |  |   
Table B.1: Applicability of tests (continued)
+----------------------+----------------------+----------------------+ | C001 | (NOT A.1/3) AND | -- (NOT O_UTRAN) | | | A.1/4 | AND O_GERAN | +----------------------+----------------------+----------------------+ | C002 | A.1/1 AND A.1/3 | -- O_CS AND | | | | O_UTRAN | +----------------------+----------------------+----------------------+ | C003 | A.1/3 AND A.1/4 | -- O_UTRAN AND | | | | O_GERAN | +----------------------+----------------------+----------------------+ | C004 | IF (C001 OR C002) | -- ((NOT O_UTRAN) | | | THEN M ELSE N/A | AND O_GERAN) OR | | | | (O_CS AND O_UTRAN) | +----------------------+----------------------+----------------------+ | C005 | IF A.1/2 THEN M ELSE | -- | | | N/A | O_PIN2_ENTRY_FEAT | +----------------------+----------------------+----------------------+ | C006 | IF (C001 OR C002) | -- (((NOT O_UTRAN) | | | AND A.1/5 AND A.1/18 | AND O_GERAN) OR | | | THEN M ELSE N/A | (O_CS AND O_UTRAN) | | | | AND O_FDN AND | | | | O_Speech_Calls | +----------------------+----------------------+----------------------+ | C007 | IF (C001 OR C002) | -- (((NOT O_UTRAN) | | | AND A.1/6 AND A.1/18 | AND O_GERAN) OR | | | THEN M ELSE N/A | (O_CS AND | | | | O_UTRAN)) AND | | | | O_AoCC AND | | | | O_Speech_Calls | +----------------------+----------------------+----------------------+ | C008 | IF (C001 OR C002) | -- (((NOT O_UTRAN) | | | AND A.1/6 AND A.1/18 | AND O_GERAN) OR | | | THEN O.1 ELSE N/A | (O_CS AND | | | | O_UTRAN)) AND | | | | O_AoCC AND | | | | O_Speech_Calls | +----------------------+----------------------+----------------------+ | C009 | IF C003 THEN M ELSE | -- O_UTRAN AND | | | N/A | O_GERAN | +----------------------+----------------------+----------------------+ | C010 | IF (C001 OR (A.1/3 | -- (((NOT O_UTRAN) | | | AND (!A.1/4)) OR | AND O_GERAN) OR | | | (C003 AND (!A.1/7))) | (O_UTRAN AND (NOT | | | THEN M ELSE N/A | O_GERAN)) OR | | | | (O_UTRAN AND | | | | O_GERAN AND (NOT | | | | O_HPLMNwACT))) | +----------------------+----------------------+----------------------+ | C011 | IF C003 AND A.1/7 | -- O_UTRAN AND | | | THEN M ELSE O | O_GERAN AND | | | | O_HPLMNwACT | +----------------------+----------------------+----------------------+ | C012 | IF A.1/8 THEN M ELSE | -- O_Local_PB | | | N/A | | +----------------------+----------------------+----------------------+ | C013 | IF A.1/9 THEN M ELSE | -- O_Global_PB | | | N/A | | +----------------------+----------------------+----------------------+ | C014 | IF A.1/8 AND A.1/9 | -- O_Local_PB AND | | | THEN M ELSE N/A | O_Global_PB | +----------------------+----------------------+----------------------+ | C015 | IF A.1/10 AND (A.1/3 | -- | | | OR A.1/4) THEN M | O_ | | | ELSE N/A | Store_Received_SMS | | | | AND (O_UTRAN OR | | | | O_GERAN) | +----------------------+----------------------+----------------------+ | C016 | IF A.1/11 AND A.1/12 | -- O_MMS AND | | | AND A.1/13 THEN M | O_MMS_USIM_DATA | | | ELSE N/A | AND | +----------------------+----------------------+----------------------+ | C017 | IF A.1/11 AND A.1/13 | -- O_MMS AND | | | THEN M ELSE N/A | O_NO_US | | | | ER_MMS_CONF_SELEC | +----------------------+----------------------+----------------------+ | C018 | IF A.1/11 AND A.1/14 | -- O_MMS AND | | | THEN M ELSE N/A | O\ | | | | _MMS_NOTIF_STORAGE | +----------------------+----------------------+----------------------+ | C019 | IF A.1/15 AND (A.1/3 | -- O_ACL AND | | | OR A.1/4) THEN M | (O_UTRAN OR | | | ELSE N/A | O_GERAN) | +----------------------+----------------------+----------------------+ | C020 | IF (NOT A.1/15) AND | -- (NOT O_ACL) AND | | | (A.1/3 OR A.1/4)M | (O_UTRAN OR | | | ELSE N/A | O_GERAN) | +----------------------+----------------------+----------------------+ | C021 | IF A.1/16 THEN M | -- O_SDN | | | ELSE N/A | | +----------------------+----------------------+----------------------+ | C022 | IF A.1/17 THEN M | -- | | | ELSE N/A | O_E | | | | FPLMNwACT_numerical | | | | entry | +----------------------+----------------------+----------------------+ | C023 | IF A.1/18 THEN M | -- O_Speech_Calls | | | ELSE N/A | | +----------------------+----------------------+----------------------+ | C024 | IF C004 AND A.1/18 | -- (((NOT O_UTRAN) | | | THEN M ELSE N/A | AND O_GERAN) OR | | | | (O_CS AND | | | | O_UTRAN)) AND | | | | O_Speech_Calls | +----------------------+----------------------+----------------------+ | C025 | IF A.1/19 THEN | -- | | | \"Expected Sequence | O_PIN_MMI_Strings | | | A\" M ELSE | | | | \"Expected Sequence | | | | B\" M | | +----------------------+----------------------+----------------------+ | C026 | IF A1/2 AND A.1/19 | -- | | | THEN \"Expected | ( | | | Sequence A\" M | O_PIN2_ENTRY_FEAT | | | | AND | | | | O | | | | _PIN_MMI_Strings) | | | | OR | | | | O_PIN2_ENTRY_FEAT | +----------------------+----------------------+----------------------+ | C027 | IF (A.1/20 OR | -- pc_eFDD OR | | | A.1/21) THEN M ELSE | pc_eTDD | | | N/A | | +----------------------+----------------------+----------------------+ | C028 | > IF (A.1/20 OR | -- (pc_eFDD OR | | | > A.1/21) AND A.1/22 | pc_eTDD) AND | | | > THEN M ELSE N/A | pc | | | | _Allowed_CSG_list | +----------------------+----------------------+----------------------+ | C029 | Void | | +----------------------+----------------------+----------------------+ | C030 | Void | | +----------------------+----------------------+----------------------+ | C031 | IF (A.1/10 AND | -- | | | A.1/23 AND (A.1/20 | O_ | | | OR A.1/21)) THEN M | Store_Received_SMS | | | ELSE N/A | AND pc_SM-over-IP | | | | receiver AND | | | | (pc_eFDD OR | | | | pc_eTDD) | +----------------------+----------------------+----------------------+ | C032 | IF (A.1/10 AND AND | -- | | | A.1/23 AND A.1/3) | O_ | | | THEN M ELSE N/A | Store_Received_SMS | | | | AND pc_SM-over-IP | | | | receiver AND | | | | (O_UTRAN) | +----------------------+----------------------+----------------------+ | C033 | IF (A.1/24) THEN M | -- | | | ELSE N/A | pc_USIM_E | | | | F_SMS_reading_sup | | | | port_if_USIM_ISIM | | | | both present | +----------------------+----------------------+----------------------+ | C034 | IF (A.1/25) THEN M | -- | | | ELSE N/A | pc_ISIM_E | | | | F_SMS_reading_sup | | | | port_if_USIM_ISIM | | | | both present | +----------------------+----------------------+----------------------+ | C035 | IF (A.1/10 AND NOT | -- | | | A.1/26 AND (A.1/3 OR | O_ | | | A.1/4)) THEN M ELSE | Store_Received_SMS | | | N/A | AND NOT | | | | O\ | | | | _LARGE_SMS_STORAGE | | | | AND (O_UTRAN OR | | | | O_GERAN) | +----------------------+----------------------+----------------------+ | C036 | IF (A.1/20 OR | -- pc_eFDD OR | | | A.1/21) AND A.1/27 | pc_eTDD AND | | | THEN M ELSE N/A | pc_Multiple_PDN | +----------------------+----------------------+----------------------+ | C037 | IF (A.1/3) AND | -- O_UTRAN AND | | | A.1/28 AND A.1/29 | pc_CSG AND | | | AND NOT ((A.1/20 OR | pc_ma | | | A.1/21) AND A.1/22) | nual_CSG_selection | | | THEN M ELSE N/A | AND NOT ((pc_eFDD | | | | OR pc_eTDD) AND | | | | pc\ | | | | _Allowed_CSG_list) | +----------------------+----------------------+----------------------+ | C038 | IF (A.1/20 OR | -- (pc_eFDD OR | | | A.1/21) AND A.1/22 | pc_eTDD) AND | | | AND A.1/29 THEN M | pc | | | ELSE N/A | _Allowed_CSG_list | | | | AND | | | | pc_ma | | | | nual_CSG_selection | +----------------------+----------------------+----------------------+ | C039 | IF A.1/1 AND A.1/30 | -- O_CS AND O_PS | | | THEN M ELSE N/A | | +----------------------+----------------------+----------------------+ | C040 | IF A.1/33 THEN M | -- | | | ELSE N/A | O_EUTRA_Disab | | | | ling_EMM_cause#15 | +----------------------+----------------------+----------------------+ | C041 | IF A.1/3 AND A.1/34 | -- O_UTRAN AND | | | THEN M ELSE N/A | O_ | | | | Override_NAS_signa | | | | lling_low_priority | +----------------------+----------------------+----------------------+ | C042 | IF A.1/3 AND A.1/30 | -- O_UTRAN AND | | | THEN M ELSE N/A | O_PS | +----------------------+----------------------+----------------------+ | C043 | IF A.1/3 AND A.1/35 | -- O_UTRAN AND | | | THEN M ELSE N/A | O_T3245 | +----------------------+----------------------+----------------------+ | C044 | IF A.1/3 AND A.1/36 | -- O_UTRAN AND | | | THEN M ELSE N/A | O_Override_EAB | +----------------------+----------------------+----------------------+ | C045 | IF A.1/20 OR A.1/21 | -- pc_eFDD OR | | | OR A.1/37 THEN M | pc_eTDD OR pc_NB | | | ELSE N/A | | +----------------------+----------------------+----------------------+ | C046 | IF A.1/37 THEN M | -- pc_NB | | | ELSE N/A | | +----------------------+----------------------+----------------------+ | C047 | IF (A.1/3 OR (A.1/4 | -- O_UTRAN OR | | | AND NOT A.1/38)) | (O_GERAN AND NOT | | | THEN M ELSE N/A | O | | | | _PLMN_specific_PS | | | | _attempt_counters) | +----------------------+----------------------+----------------------+ | C048 | IF A.1/3 THEN M ELSE | -- O_UTRAN | | | N/A | | +----------------------+----------------------+----------------------+ | C049 | IF A.1/3 OR A.1/4 | -- O_UTRAN OR | | | THEM M ELSE N/A | O_GERAN | +----------------------+----------------------+----------------------+ | C050 | IF A.1/15 AND | -- O_ACL AND | | | (A.1/20 OR A.1/21) | (pc_eFDD OR | | | THEN M ELSE N/A | pc_eTDD) | +----------------------+----------------------+----------------------+ | C051 | ..IF (A.1/20 OR | -- (pc_eFDD OR | | | A.1/21 OR A.1/37) | pc_eTDD OR pc_NB) | | | AND A.1/39 THEN M | AND | | | ELSE N/A | O_PSM_DEAC_UICC | +----------------------+----------------------+----------------------+ | C052 | IF (A.1/20 OR A.1/21 | -- (pc_eFDD OR | | | OR A.1/37) AND | pc_eTDD OR pc_NB) | | | A.1/40 THEN M ELSE | AND | | | N/A | O_eDRX_DEAC_UICC | +----------------------+----------------------+----------------------+ | C053 | IF (A.1/20 OR A.1/21 | -- (pc_eFDD OR | | | OR A.1/37) AND | pc_eTDD OR pc_NB) | | | A.1/41 THEN M ELSE | AND O_PSM_ | | | N/A | **SUSPEND** _UICC | +----------------------+----------------------+----------------------+ | C054 | IF (A.1/20 OR A.1/21 | -- (pc_eFDD OR | | | OR A.1/37) AND | pc_eTDD OR pc_NB) | | | A.1/42 THEN M ELSE | AND O_eDRX_ | | | N/A | **SUSPEND** _UICC | +----------------------+----------------------+----------------------+ | C055 | IF A.1/4 THEN M ELSE | -- O_GERAN | | | N/A | | +----------------------+----------------------+----------------------+ | O.1 | IF C002 THEN | | | | \"Expected Sequence | | | | A\" M ELSE IF C001 | | | | THEN \"Expected | | | | Sequence B\" M | | +----------------------+----------------------+----------------------+ | AER001 | IF ((A.1/20 OR | -- ((pc_eFDD OR | | | A.1/21) AND ((A.1/3 | pc_eTDD) AND | | | OR A.1/4) AND (NOT | ((O_UTRAN OR | | | A.1/18))) THEN R | O_GERAN) AND (NOT | | | ELSE A | O_Speech_Calls))) | +----------------------+----------------------+----------------------+ | AER002 | IF ((A.1/20 OR | -- (NOT O_UTRAN) | | | A.1/21) AND ((A.1/3 | AND ((O_GERAN AND | | | OR A.1/4) THEN R | (NOT O_CS)) | | | ELSE A | | +----------------------+----------------------+----------------------+ | AER003 | IF (test 8.2.3 has | | | | been PASSED) THEN R | | | | ELSE A | | +----------------------+----------------------+----------------------+ | AER004 | IF (test 8.2.5 has | | | | been PASSED) THEN R | | | | ELSE A | | +----------------------+----------------------+----------------------+ | AER005 | IF ((NOT A.1/3) AND | -- (NOT O_UTRAN) | | | ((A.1/4) AND (NOT | AND ((O_GERAN AND | | | A.1/1)) THEN R ELSE | (NOT O_CS)) | | | A | | +----------------------+----------------------+----------------------+ | AER006 | If A.1/38 is | | | | supported set the | | | | implementation | | | | specific counter to | | | | small value to | | | | reduce the test | | | | execution time. | | +----------------------+----------------------+----------------------+ | AER007 | > If A.1/39 is | | | | > supported, in | | | | > addition to the | | | | > test case initial | | | | > conditions, any | | | | > specific | | | | > information or | | | | > particular UE | | | | > configurations | | | | > required to ensure | | | | > that the UE | | | | > performs UICC | | | | > deactivation in | | | | > PSM shall be | | | | > provided by the UE | | | | > manufacturer. | | +----------------------+----------------------+----------------------+ | AER008 | > If A.1/40 is | | | | > supported, in | | | | > addition to the | | | | > test case initial | | | | > conditions, any | | | | > specific | | | | > information or | | | | > particular UE | | | | > configurations | | | | > required to ensure | | | | > that the UE | | | | > performs UICC | | | | > deactivation in | | | | > eDRX shall be | | | | > provided by the UE | | | | > manufacturer | | +----------------------+----------------------+----------------------+ | AER009 | The value of timers | | | | T3324 (T3324_V) and | | | | T3412 (T3412_V) | | | | shall be provided by | | | | the UE manufacturer | | | | and shall be set to | | | | a value suitable for | | | | executing the test | | | | cases. | | +----------------------+----------------------+----------------------+ | AER010 | The value of eDRX | | | | (eDRX_V) and PTW | | | | (PTW_V) parameters | | | | shall be provided by | | | | the UE manufacturer | | | | and shall be set to | | | | a value suitable for | | | | executing the test | | | | cases. | | +----------------------+----------------------+----------------------+ | | | | +----------------------+----------------------+----------------------+ | NOTE 1: Definition | | | | of applicability for | | | | this test case is | | | | FFS. | | | | | | | | NOTE 2: For Rel‑13, | | | | if the UE supports | | | | NB-IoT, this test | | | | case shall be | | | | verified by | | | | accessing the NB | | | | System Simulator | | | | (NB-SS). | | | +----------------------+----------------------+----------------------+
# 4 Default Values
All tests defined in the subsequent clauses apply to Terminals using card
types specified in ETSI TS 102 221 [5], unless otherwise stated.
The following sequence of tests confirms:
a) the correct interpretation of data read from the USIM (Universal Subscriber
Identification Module) by the Terminal;
b) the correct writing of data to the USIM by the Terminal;
c) the initiation of appropriate procedures by the Terminal;
d) High level protocols.
All tests apply to the USIM application on the UICC.
A USIM simulator will be required as part of the USS. Alternatively, to
perform the logical tests, USIMs programmed with specific data may be used.
The USIM data is not defined within the initial conditions of the tests unless
it differs from the default values defined below.
## 4.1 Definition of default values for USIM-Terminal interface testing
(Default UICC)
A USIM containing the following default values is used for all tests of this
present document unless otherwise stated.
The service \"Non-Access Stratum configuration by USIM\" shall not be
available unless otherwise specified.
For each data item, the logical default values and the coding within the
elementary files (EF) of the USIM follow.
NOTE 1: Bx represents byte x of the coding.
NOTE 2: Unless otherwise defined, the coding values are hexadecimal.
### 4.1.1 Values of the EF\'s (Default UICC)
#### 4.1.1.1 EF~IMSI~ (IMSI)
Logically: 2460813579
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 75 F9 FF FF
* * *
#### 4.1.1.2 EF~AD~ (Administrative Data)
Logically: Normal operation
OFM to be deactivated by the Terminal
MNC: 3 digit
* * *
Coding: B1 B2 B3 B4 Hex 00 00 00 03
* * *
#### 4.1.1.3 EF~LOCI~ (Location Information)
Logically: LAI-MCC: 246
LAI-MNC: 081
LAI-LAC: 0001
TMSI: \"FF .. FF\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex FF FF FF FF 42 16 80 00 01 FF
00
* * *
#### 4.1.1.4 EF~Keys~ (Ciphering and Integrity Keys)
Logically: Key Set Identifier KSI: 0x
Ciphering Keys CK: xx
Integrity Keys IK: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B30 B31 B32 B33 Hex 0x xx xx ... xx xx xx
... xx xx xx xx
* * *
#### 4.1.1.5 EF~KeysPS~ (Ciphering and Integrity Keys for Packet Switched
domain)
Logically: Key Set Identifier KSI: 0x
Ciphering Keys CK: xx
Integrity Keys IK: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 0x xx xx ... xx xx xx ...
xx xx xx
* * *
#### 4.1.1.6 EF~ACC~ (Access Control Class)
Logically: One and one access class from 0 -- 9, e.g. class 7 for which the
coding is \"00 80\".
#### 4.1.1.7 EF~FPLMN~ (Forbidden PLMNs)
Besides of the 4 mandatory EF~FPLMN~ 2 optional EF~FPLMN~ are defined
according to TS 31.102 [4], subclause 4.2.16.
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: 234 002
PLMN3: 234 003
PLMN4: 234 004
PLMN5: 234 005
PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 24 00 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
#### 4.1.1.8 EF~UST~ (USIM Service Table)
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
#### 4.1.1.9 EF~EST~ (Enable Service Table)
Logically: Fixed Dialling Numbers (FDN) disabled.
Barred Dialling Numbers (BDN) disabled.
APN Control list (ACL) disabled
* * *
Coding: B1 binary 0000 0000
* * *
The coding of EF~EST~ shall conform with the capabilities of the USIM, unused
Bits are set to \'0\'.
#### 4.1.1.10 EF~ADN~ (Abbreviated Dialling Number)
Logically:
At least 10 records, each non empty record unique.
Record 1: Length of alpha identifier: 32 characters;
Alpha identifier: \"ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEF\";
Length of BCD number: \"03\";
TON and NPI: Telephony and Unknown;
Dialled number: 123;
CCI: None;
Ext1: None.
Record 1:
* * *
Coding: B1 B2 B3 ... B32 B33 B34 B35 B36 B37 B38 B39 ... B46 Hex 41 42 43 ...
46 03 81 21 F3 FF FF FF ... FF
* * *
#### 4.1.1.11 EF~PLMNwACT~ (User Controlled PLMN Selector with Access
Technology)
Besides of the 8 mandatory PLMNwACT entries 4 optional PLMNwACT entries are
defined according to TS 31.102 [4], subclause 4.2.5. The Radio Access
Technology identifier for the first two PLMN (1^st^ PLMN and 2^nd^ PLMN) are
set to both UTRAN and GSM, all other PLMN to UTRAN only.
Logically: 1^st^ PLMN: 244 081 (MCC MNC)
1^st^ ACT: UTRAN
2^nd^ PLMN: 244 081
2^nd^ ACT: GSM
3^rd^ PLMN: 244 082
3^rd^ ACT: UTRAN
4^th^ PLMN: 244 082
4^th^ ACT: GSM
5^th^ PLMN: 244 003
5^th^ ACT: UTRAN
6^th^ PLMN: 244 004
6^th^ ACT: UTRAN
7^th^ PLMN: 244 005
7^th^ ACT: UTRAN
8^th^ PLMN: 244 006
8^th^ ACT: UTRAN
9^th^ PLMN: 244 007
9^th^ ACT: UTRAN
10^th^ PLMN: 244 008
10^th^ ACT: UTRAN
11^th^ PLMN: 244 009
11^th^ ACT: UTRAN
12^th^ PLMN: 244 010
12^th^ ACT: UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 80 00
42 14 80 00 80 42 24 80 80 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    24    80    00    80    42    34    00    80    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    64    00    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    80    00    42    94    00    80    00    42    04    10    80    00
* * *
#### 4.1.1.12 EF~OPLMNwACT~ (Operator Controlled PLMN Selector with Access
Technology)
The Radio Access Technology identifier for the first PLMN is set to both UTRAN
and GSM, the other remaining PLMNs to UTRAN only.
Logically: 1^st^ PLMN: 254 001 (MCC MNC)
1^st^ ACT: UTRAN
2^nd^ PLMN: 254 001
2^nd^ ACT: GSM
3^rd^ PLMN: 254 002
3^rd^ ACT: UTRAN
4^th^ PLMN: 254 003
4^th^ ACT: UTRAN
5^th^ PLMN: 254 004
5^th^ ACT: UTRAN
6^th^ PLMN: 254 005
6^th^ ACT: UTRAN
7^th^ PLMN: 254 006
7^th^ ACT: UTRAN
8^th^ PLMN: 254 007
8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 14 00 80 00 52 14 00 00
80 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 80 00 52 34 00 80 00 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 44 00 80 00 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
#### 4.1.1.13 Void
#### 4.1.1.14 PIN
Key reference: 01
Logically: 2468
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 32 34 36 38 FF FF FF FF
* * *
#### 4.1.1.15 PIN2
Key reference: 81
Logically: 3579
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 33 35 37 39 FF FF FF FF
* * *
#### 4.1.1.16 Unblock PIN
Key reference: 01
Logically: 13243546
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 31 33 32 34 33 35 34 36
* * *
#### 4.1.1.17 Unblock PIN2
Key reference: 81
Logically: 08978675
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 30 38 39 37 38 36 37 35
* * *
#### 4.1.1.18 Other Values of the USIM
All other values of Efs provided by the USIM shall be set to the default
values defined in the annex E of TS 31.102 [4]. Some Efs (like the GSM Access
files) may necessary for some tests and apply only to those test cases.
#### 4.1.1.19 EF~PSLOCI~ (Packet Switch Location Information)
Logically: RAI-MCC: 246
RAI-MNC: 081
RAI-LAC: 0001
RAI-RAC: 05
P-TMSI: \"FF....FF\"
P-TMSI signature value: \"FF...FF\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex FF FF FF FF FF FF FF 42 16 80
00
Coding: B12 B13 B14  
Hex 01 05 00
* * *
#### 4.1.1.20 Universal PIN
Key reference: 11
Logically: 2839
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 32 38 33 39 FF FF FF FF
* * *
#### 4.1.1.21 Unblock Universal PIN
Key reference: 11
Logically: 02030405
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 30 32 30 33 30 34 30 35
* * *
## 4.2 Definition of FDN UICC
The FDN test cases require a different configuration than the one described in
subclause 4.1. For that purpose a default FDN UICC is defined. In general the
values of the FDN UICC are identical to the default UICC, with the following
exceptions.
### 4.2.1 Values of the EF\'s (FDN UICC)
#### 4.2.1.1 EF~UST~ (USIM Service Table)
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available.
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
#### 4.2.1.2 EF~EST~ (Enable Service Table)
Logically: Fixed Dialling Numbers enabled.
Barred Dialling Numbers disabled.
APN Control list (ACL) disabled.
* * *
Coding: B1 Binary 0000 0001
* * *
The coding of EF~EST~ shall conform with the capabilities of the USIM, unused
Bits are set to \'0\'..
#### 4.2.1.3 EF~FDN~ (Fixed Dialling Numbers)
Logically:
Record 1: Length of alpha identifier: 6 characters;
Alpha identifier: \"FDN111\";
Length of BCD number: \"06\";
TON and NPI: Telephony and International;
Dialled number: +1357924680;
CCI2: None;
Ext2: None.
Coding for record 1:
* * *
        B1    B2    B3    B4    B5    B6    B7    B8   B9   B10   B11   B12   B13
Hex 46 44 4E 31 31 31 06 91 31 75 29 64 08
        B14   B15   B16   B17   B18   B19   B20                               
        FF    FF    FF    FF    FF    FF    FF
* * *
Record 2: Length of alpha identifier: 6 characters;
Alpha identifier: \"FDN222\";
Length of BCD number: \"04\";
TON and NPI: Telephony and Unknown;
Dialled number: 24680;
CCI2: None;
Ext2: None.
Coding for record 2:
* * *
        B1    B2    B3    B4    B5    B6    B7    B8   B9   B10   B11   B12   B13
Hex 46 44 4E 32 32 32 04 81 42 86 F0 FF FF
        B14   B15   B16   B17   B18   B19   B20                               
        FF    FF    FF    FF    FF    FF    FF
* * *
Record 3: Length of alpha identifier: 6 characters;
Alpha identifier: \"FDN333\";
Length of BCD number: \"0B\";
TON and NPI: Telephony and International;
Dialled number: +12345678901234567890;
CCI2: None;
Ext2: None.
Coding for record 3:
* * *
        B1    B2    B3    B4    B5    B6    B7    B8   B9   B10   B11   B12   B13
Hex 46 44 4E 33 33 33 0B 91 21 43 65 87 09
        B14   B15   B16   B17   B18   B19   B20                               
        21    43    65    87    09    FF    FF
* * *
#### 4.2.1.4 EF~ECC~ (Emergency Call Codes)
Logically: Emergency call code: \"122\";
Emergency call code alpha identifier: \"TEST\";
Emergency call Service Category: Mountain Rescue.
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 21 F2 FF 54 45 53 54 10
* * *
#### 4.2.1.5 Other Values of the USIM
All other values of Efs provided by the USIM shall be set to the default
values defined in the annex E of TS 31.102 [4]. Some Efs (like the GSM Access
files) may necessary for some tests and apply only to those test cases.
## 4.3 Void
## 4.4 Definition of E-UTRAN/EPC UICC
The E-UTRAN/EPC test cases require a different configuration than the one
described in subclause 4.1. For that purpose a default E-UTRAN/EPC UICC is
defined. In general the values of the E-UTRAN/EPC UICC are identical to the
default UICC, with the following exceptions:
#### 4.4.1 EF~UST~ (USIM Service Table)
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8  
Binary: xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx xx11 xxxx xxxx xxxx xxxx
xxxx xxxx
            B9          B10         B11                                                                              
            xxxx xxxx   xxxx xxxx   xx11 xxxx
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
  1. #### 
#### 4.4.2 EF~EPSLOCI~ (EPS Information)
Logically: GUTI: 24608100010266431122
Last visited registered TAI: 246/081/0001
EPS update status: not updated
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex: 0B F6 42 16 80 00 01 02 66 43 11
          B12   B13   B14   B15   B16   B17   B18                   
          22    42    16    80    00    01    01
* * *
#### 4.4.3 EF~PLMNwACT~ (User Controlled PLMN Selector with Access Technology)
Besides of the 8 mandatory PLMNwACT entries 4 optional PLMNwACT entries are
defined according to TS 31.102 [4], subclause 4.2.5. The Radio Access
Technology identifiers are set either to E-UTRAN only, UTRAN only or GSM only.
Logically: 1^st^ PLMN: 244 081 (MCC MNC)
1^st^ ACT: E-UTRAN
2^nd^ PLMN: 244 081
2^nd^ ACT: GSM
3^rd^ PLMN: 244 083
3^rd^ ACT: E-UTRAN
4^th^ PLMN: 244 082
4^th^ ACT: GSM
5^th^ PLMN: 244 003
5^th^ ACT: E-UTRAN
6^th^ PLMN: 244 004
6^th^ ACT: UTRAN
7^th^ PLMN: 244 005
7^th^ ACT: UTRAN
8^th^ PLMN: 244 081
8^th^ ACT: UTRAN
9^th^ PLMN: 244 007
9^th^ ACT: UTRAN
10^th^ PLMN: 244 008
10^th^ ACT: E-UTRAN
11^th^ PLMN: 244 009
11^th^ ACT: UTRAN
12^th^ PLMN: 244 010
12^th^ ACT: E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 40 00
42 14 80 00 80 42 34 80 40 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    24    80    00    80    42    34    00    40    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    14    80    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    40    00    42    94    00    80    00    42    04    10    40    00
* * *
#### 4.4.4 EF~OPLMNwACT~ (Operator Controlled PLMN Selector with Access
Technology)
The Radio Access Technology identifier for the first PLMN is set to both UTRAN
and GSM, the other remaining PLMNs to UTRAN only or E-UTRAN only.
Logically: 1^st^ PLMN: 254 001 (MCC MNC)
1^st^ ACT: E-UTRAN
2^nd^ PLMN: 254 001
2^nd^ ACT: GSM
3^rd^ PLMN: 254 002
3^rd^ ACT: E-UTRAN
4^th^ PLMN: 254 003
4^th^ ACT: E-UTRAN
5^th^ PLMN: 254 004
5^th^ ACT: UTRAN
6^th^ PLMN: 254 005
6^th^ ACT: UTRAN
7^th^ PLMN: 254 006
7^th^ ACT: UTRAN
8^th^ PLMN: 254 007
8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 14 00 40 00 52 14 00 00
80 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 40 00 52 34 00 40 00 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 44 00 80 00 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
#### 4.4.5 EF~ACSGL~ (Allowed CSG Lists)
For testing 2 CSG lists are defined and stored together in record one.
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
2^nd^ CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: A0 15 80 03 42 16 80 81
06 02 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 02 00 00 00 5F 81 06 03 03 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 00 00 7F A0 0D 80 03 42 14 80 B31 B32
B33 B34 B35 B36 B37 B38 B39 .. 81 06 08 08 00 00 01 1F FF FF Bxx  
FF
* * *
All other records are empty.
#### 4.4.6 EF~CSGT~ (CSG Type)
Record 1:
Logically: Group ONE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 4F 00 4E 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 FF FF FF FF FF FF FF FF FF
* * *
Record 2:
Logically: Group TWO
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 54 00 57 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 4F FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: Group THREE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 54 00 48 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 52 00 45 00 45 FF FF FF FF FF
* * *
Record 4:
Logically: Group FOUR
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 15 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 46 00 4F 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 55 00 52 FF FF FF FF FF FF FF
* * *
Record 5:
Logically: Group FIVE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 15 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 46 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 56 00 45 FF FF FF FF FF FF FF
* * *
Record 6:
Logically: Group SIX
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 53 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 58 FF FF FF FF FF FF FF FF FF
* * *
Record 7:
Logically: Group SEVEN
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 53 00 45 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 56 00 45 00 4E FF FF FF FF FF
* * *
Record 8:
Logically: Group EIGHT
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 45 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 47 00 48 00 54 FF FF FF FF FF
* * *
#### 4.4.7 EF~HNBN~ (Home (e)NodeB Name)
Record 1:
Logically: Home ONE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 4F 00 4E 00 45 FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 2:
Logically: Home TWO
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 54 00 57 00 4F FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: Home THREE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 54 00 48 00 52 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 00 45 FF FF FF FF FF FF FF
* * *
Record 4:
Logically: Home FOUR
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 13 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 46 00 4F 00 55 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 52 FF FF FF FF FF FF FF FF FF
* * *
Record 5:
Logically: Home FIVE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 13 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 46 00 49 00 56 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 FF FF FF FF FF FF FF FF FF
* * *
Record 6:
Logically: Home SIX
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 53 00 49 00 58 FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 7:
Logically: Home SEVEN
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 53 00 45 00 56 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 00 4E FF FF FF FF FF FF FF
* * *
Record 8:
Logically: Home EIGHT
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 45 00 49 00 47 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 48 00 54 FF FF FF FF FF FF FF
* * *
#### 4.4.8 EF~EPSNSC~ (EPS NAS Security Context)
Logically: Key Set Identifier KSI~ASME~: \'07\' (no key available)
ASME Key (KSI~ASME~) : 32 byte key, any value\'FF\' (not available)
Uplink NAS count: \'00\'
Downlink NAS count: \'01\'
Identifiers of selected NAS \'01\'\ integrity and encryption\ algorithm
* * *
**Byte:** **B1** **B2** **B3** **B4** **B5** **B6** **B7** **B8** **...**
**B39** Coding: A0 34 80 01 07 81 20 xx **...** xx **Byte:** **B40** **B41**
**B42** **B43** **B44** **B45** **B46** **B47** **B48** **B49** Coding: 82 04
00 00 00 00 83 04 00 00 **Byte:** **B50** **B51** **B52** **B53** **B54**  
Coding: 00 01 84 01 01
* * *
## 4.5 Definition of E-UTRAN/EPC ISIM-UICC
#### 4.5.1 Applications on the E-UTRAN/EPC ISIM-UICC
The E-UTRAN/EPC ISIM-UICC shall contain a USIM as defined in clause 4.5.2 and
an ISIM as defined in clause 4.5.3.
#### 4.5.2 Default USIM values on E-UTRAN/EPC ISIM-UICC
The E-UTRAN/EPC ISIM-UICC related test cases require a USIM to access the
E-UTRAN/EPC. For this purpose the USIM shall be configured as defined in
clause 4.4.
#### 4.5.3 Default ISIM values on E-UTRAN/EPC ISIM-UICC
The E-UTRAN/EPC ISIM-UICC shall contain an ISIM for IMS access with the
following values:
#### 4.5.3.1 EF~AD~ (Administrative Data**)**
Logically: Normal Operation
* * *
**Byte:** **B1** **B2** **B3** Coding: 00 00 00
* * *
#### 4.5.3.2 EF~IST~ (ISIM Service Table**)**
Logically:
(Service 01) P-CSCF Address: available
(Service 02) Generic Bootstrapping: not available
(Service 03) HTTP Digest: not available
(Service 04) GBA Based Local Key Establishment Mechanism: not available
(Service 05) Support for P-CSCF discovery for IMS local breakout: not
available
(Service 06) Short Message Storage (SMS): available
(Service 07) Short Message Status Reports (SMSR): available
(Service 08) Support for SM-over-IP: available
* * *
**Byte** **B1** Coding: 111x xxx1
* * *
  1. #### 
#### 4.5.3.3 EF~IMPI~ (IMS private user identity)
Logically: 001010123456789\@test.3gpp.com
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 1D 30 30 31 30 31 30 31 32 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 33 34 35 36 37 38 39
40 74 65 **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**B29** **B30** 73 74 2E 33 67 70 70 2E 63 6F **B31** **B32** **B33** **B34**
**B35** **B36** **B37** **B38** **B39** **B40** 6D FF FF FF FF FF FF FF FF FF
* * *
#### 4.5.3.4 EF~DOMAIN~ (Home Network Domain Name)
Logically: test.3gpp.com
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 0D 74 65 73 74 2E 33 67 70 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 70 2E 63 6F 6D FF FF
FF FF FF
* * *
  1. #### 
#### 4.5.3.5 EF~IMPU~ (IMS public user identity)
Record 1 :
Logically: sip:001010123456789@ims.mnc246.mcc081.3gppnetwork.org
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 35 73 69 70 3A 30 30 31 30 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 31 30 31 32 33 34 35
36 37 38 **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**B29** **B30** 39 40 69 6D 73 2E 6D 6E 63 32 **B31** **B32** **B33** **B34**
**B35** **B36** **B37** **B38** **B39** **B40** 34 36 2E 6D 63 63 30 38 31 2E
**B41** **B42** **B43** **B44** **B45** **B46** **B47** **B48** **B49**
**B50** 33 67 70 70 6E 65 74 77 6F 72 **B51** **B52** **B53** **B54** **B55**
**B56** **B57** **B58** **B59** **B60** 6B 2E 6F 72 67 FF FF FF FF FF
* * *
Record 2:
Logically: sip:+11234567890\@test.3gpp.com
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 1E 73 69 70 3A 2B 31 31 32 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 33 34 35 36 37 38 39
30 40 74 **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**B29** **B30** 65 73 74 2E 33 67 70 70 2E 63 **B31** **B32** **B33** **B34**
**B35** **B36** **B37** **B38** **B39** **B40** 6F 6D FF FF FF FF FF FF FF FF
**B41** **B42** **B43** **B44** **B45** **B46** **B47** **B48** **B49**
**B50** FF FF FF FF FF FF FF FF FF FF **B51** **B52** **B53** **B54** **B55**
**B56** **B57** **B58** **B59** **B60** FF FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: sip: user@test.3gpp.com
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 16 73 69 70 3A 75 73 65 72 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 40 74 65 73 74 2E 33
67 70 70 **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**B29** **B30** 2E 63 6F 6D FF FF FF FF FF FF **B31** **B32** **B33** **B34**
**B35** **B36** **B37** **B38** **B39** **B40** FF FF FF FF FF FF FF FF FF FF
**B41** **B42** **B43** **B44** **B45** **B46** **B47** **B48** **B49**
**B50** FF FF FF FF FF FF FF FF FF FF **B51** **B52** **B53** **B54** **B55**
**B56** **B57** **B58** **B59** **B60** FF FF FF FF FF FF FF FF FF FF
* * *
#### 4.5.3.6 EF~P-CSCF~ (P-CSCF ADDRESS)
Logically:
Address Type: FQDN
> P-CSCF Address: pcscf1.anyims.test.3gpp.com
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 1C 00 70 63 73 63 66 31 2E **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 61 6E 79 69 6D 73 2E
74 65 73 **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**B29** **B30** 74 2E 33 67 70 70 2E 63 6F 6D **B31** **B32** **B33** **B34**
**B35** **B36** **B37** **B38** **B39** **B40** FF FF FF FF FF FF FF FF FF FF
* * *
Note: This EF does not apply for 3GPP and shall not be used by a terminal
using a 3GPP access network or a 3GPP Interworking WLAN.
#### 4.5.3.7 EF~SMS~ (Short Message Service)
At least 10 records.
All records shall be empty.
Logically: Status byte set to empty.
Record 1-x (x ≥10):
* * *
**Byte:** **B1** **B2** **B3** **B4** **B5** **B6** **B7** **B8** **B9**
**B10** **B11** **B12** **...** **B176** Coding: 00 FF FF FF FF FF FF FF FF FF
FF FF ... FF
* * *
#### 4.5.3.8 EF~SMSR~ (Short message status reports)
This EF shall contain as many records as EF~SMS~.
All records shall be empty.
Logically: Status byte set to empty.
Record 1-x (x ≥10):
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 00 FF FF FF FF FF FF FF FF FF **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** FF FF FF FF FF FF FF
FF FF FF **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**B29** **B30** FF FF FF FF FF FF FF FF FF FF
* * *
#### 4.5.3.9 EF~SMSP~ (Short message service parameters)
Logically:
Record 1:
Record length: 28 bytes
Parameter Indicators:
TP-Destination Address: Parameter absent
TS-Service Centre Address: Parameter present
TP-Protocol Identifier: Parameter absent
TP-Data Coding Scheme: Parameter absent
TP-Validity Period: Parameter absent
TS-Service Centre Address:
TON: International Number
NPI: \"ISDN / telephone numbering plan\"
Dialled number string: \"112233445566778\"
* * *
Byte: B1 B2 B3 ... B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 B23 Coding: FD FF
FF ... FF 09 91 11 22 33 44 55 66 77 F8 B24 B25 B26 B27 B28  
FF FF FF FF FF
* * *
All other records shall be empty.
  1. #### 
#### 4.5.3.10 EF~SMSS~ (SMS Status)
Logically: Last used TP-MR set to\"00\".
Memory capacity available (flag unset b1=\"1\").
* * *
Byte: B1 B2 Coding: 00 FF
* * *
#### 4.5.4 Default values at DF_TELECOM
#### 4.5.4.1 EF~PSISMSC~ (Public Service Identity of the SM-SC)
1 record only.
Logically:
Record 1:
> Public Service Identity of the SM-SC:
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 14 74 65 6C 3A 2B 31 31 32 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18** **B19** **B20** 32 33 33 34 34 35 35
36 36 37 **B21** **B22** **B23** **B24** **B25** **B26** **B27** **B28**
**...** **Bxx** 37 38 FF FF FF FF FF FF ... FF
* * *
## 4.6 Definition of ACSGL/OCSGL E-UTRAN/EPC UICC
The ACSGL/OCSGL E-UTRAN/EPC test cases require a different configuration than
the one described in subclause 4.4. For that purpose a default ACSGL/OCSGL
E-UTRAN/EPC UICC is defined. In general the values of the ACSGL/OCSGL
E-UTRAN/EPC UICC are identical to the E-UTRAN/EPC UICC, with the following
exceptions:
#### 4.6.1 EF~UST~ (USIM Service Table)
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications
>
> Operator CSG Lists and corresponding indications
>
> Support of CSG Display Control
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8  
Binary: xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx xx11 xxxx xxxx xxxx xxxx
xxxx xxxx
            B9          B10         B11         B12                                                                  
            xxxx xxxx   xxxx xxxx   xx11 xxxx   xxxx 1x1x
* * *
The coding of EF~UST~ shall conform to the capabilities of the USIM used.
####
#### 4.6.2 EF~AD~ (Administrative Data)
Logically: Normal operation
OFM to be deactivated by the Terminal
MNC: 3 digit\ all available CSGs can be displayed without any restriction (B3)
* * *
Coding: B1 B2 B3 B4 Hex 00 00 00 03
* * *
#### 4.6.3 EF~OCSGL~ (Operator CSG Lists)
For testing 2 CSG lists are defined and stored together in record one.
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 01
1^st^ CSG list 1^st^ CSG HNB Name indication 01
1^st^ CSG list 1^st^ CSG CSG ID: 01 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 05
1^st^ CSG list 2^nd^ CSG HNB Name indication 05
1^st^ CSG list 2^nd^ CSG CSG ID: 05 (27bit)
CSG display indicator: All available CSG Ids can be displayed during a manual
CSGselection 00
2^nd^ CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 07
2^nd^ CSG list 1^st^ CSG HNB Name indication 07
2^nd^ CSG list 1^st^ CSG CSG ID: 07 (27bit)
CSG display indicator: All available CSG Ids can be displayed during a manual
CSGselection 00
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: A0 18 80 03 42 16 80 81
06 01 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 01 00 00 00 3F 81 06 05 05 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 00 00 BF 82 01 00 A0 10 80 03 B31 B32
B33 B34 B35 B36 B37 B38 B39 B40 42 14 80 81 06 07 07 00 00 00 B41 B42 B43 B44  
FF 82 01 00
* * *
All other records are empty.
#### 4.6.4 EF~OCSGT~ (Operator CSG Type)
Record 1:
Logically: OMode ONE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 4F 00 4D 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 64 00 65 00 20 00 4F 00 4E 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 FF FF FF FF FF FF FF FF FF
* * *
Record 2:
Logically: OMode TWO
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 4F 00 4D 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 64 00 65 00 20 00 54 00 57 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 4F FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: OMode THREE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 4F 00 4D 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 64 00 65 00 20 00 54 00 48 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 52 00 45 00 45 FF FF FF FF FF
* * *
Record 4:
Logically: OMode FOUR
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 15 80 00 4F 00 4D 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 64 00 65 00 20 00 46 00 4F 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 55 00 52 FF FF FF FF FF FF FF
* * *
Record 5:
Logically: Group FIVE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 15 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 46 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 56 00 45 FF FF FF FF FF FF FF
* * *
Record 6:
Logically: Group SIX
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 53 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 58 FF FF FF FF FF FF FF FF FF
* * *
Record 7:
Logically: Group SEVEN
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 53 00 45 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 56 00 45 00 4E FF FF FF FF FF
* * *
Record 8:
Logically: Group EIGHT
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 45 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 47 00 48 00 54 FF FF FF FF FF
* * *
#### 4.6.5 EF~OHNBN~ (Operator Home (e)NodeB Name)
Record 1:
Logically: Home ONE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 4F 00 4E 00 45 FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 2:
Logically: Home TWO
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 54 00 57 00 4F FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: Home THREE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 54 00 48 00 52 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 00 45 FF FF FF FF FF FF FF
* * *
Record 4:
Logically: Home FOUR
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 13 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 46 00 4F 00 55 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 52 FF FF FF FF FF FF FF FF FF
* * *
Record 5:
Logically: Home FIVE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 13 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 46 00 49 00 56 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 FF FF FF FF FF FF FF FF FF
* * *
Record 6:
Logically: Home SIX
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 53 00 49 00 58 FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 7:
Logically: Home SEVEN
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 53 00 45 00 56 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 00 4E FF FF FF FF FF FF FF
* * *
Record 8:
Logically: Home EIGHT
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 45 00 49 00 47 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 48 00 54 FF FF FF FF FF FF FF
* * *
4.7 Definition of Non Access Stratum Configuration UICC
In general the values of the UICC configuration are identical to the default
UICC, with the following exceptions:
### 4.7.1 Values of the EFs
#### 4.7.1.1 EF~UST~ (USIM Service Table)
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
>
> Non-Access Stratum configuration by USIM available
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8  
Binary: xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx xx11 xxxx xxxx xxxx xxxx
xxxx xxxx
            B9          B10         B11         B12                                                                  
            xxxx xxxx   xxxx xxxx   xxxx xxxx   1xxx xxxx
* * *
The coding of EF~UST~ shall conform to the capabilities of the USIM used.
#### 4.7.1.2 EF~NASCONFIG~ (Non Access Stratum Configuration)
> Logically: NAS signalling priority value: 00
>
> NMO I Behaviour value: 00
>
> Attach with IMSI value: 00
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: 00
>
> Timer T3245 Behaviour value: 00
* * *
**Byte:** **B01** **B02** **B03** **B04** **B05** **B06** **B07** **B08**
**B09** **B10** Coding: 80 01 00 81 01 00 82 01 00 83 **B11** **B12** **B13**
**B14** **B15** **B16** **B17** **B18**  
01 00 84 01 00 85 01 00
* * *
4.8 Definition of Non Access Stratum Configuration of E-UTRAN/EPC UICC
In general the values of the UICC configuration are identical to the default
UICC, with the following exceptions:
  1. 4.8.1 EF~UST~ (USIM Service Table)
> Logically: Local Phone Book available
>
> User controlled PLMN selector available
>
> Fixed dialling numbers available
>
> Barred dialling numbers available
>
> The GSM Access available
>
> The Group Identifier level 1 and level 2 not available
>
> Service n° 33 (Packed Switched Domain) shall be set to \'1\'
>
> Enabled Services Table available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications
>
> Non-Access Stratum configuration by USIM available
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 Binary: xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx xxxx xxxx xxxx xxxx xxxx B9 B10 B11 B12  
xxxx xxxx xxxx xxxx xx11 xxxx 1xxx xxxx
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
  1. 4.8.2 EF~EPSLOCI~ (EPS Information)
> Logically: GUTI: 24608100010266431122
>
> Last visited registered TAI: 246/081/0001
>
> EPS update status: not updated
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex: 0B F6 42 16 80 00 01 02 66 43 11
B12 B13 B14 B15 B16 B17 B18  
22 42 16 80 00 01 01
* * *
  1. 4.8.3 EF~PLMNwACT~ (User Controlled PLMN Selector with Access Technology)
Besides of the 8 mandatory PLMNwACT entries 4 optional PLMNwACT entries are
defined according to TS 31.102 [4], subclause 4.2.5. The Radio Access
Technology identifiers are set either to E-UTRAN only, UTRAN only or GSM only.
> Logically: 1^st^ PLMN: 244 081 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN
>
> 2^nd^ PLMN: 244 081
>
> 2^nd^ ACT: GSM
>
> 3^rd^ PLMN: 244 083
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 244 082
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 244 003
>
> 5^th^ ACT: E-UTRAN
>
> 6^th^ PLMN: 244 004
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 244 005
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 244 081
>
> 8^th^ ACT: UTRAN
>
> 9^th^ PLMN: 244 007
>
> 9^th^ ACT: UTRAN
>
> 10^th^ PLMN: 244 008
>
> 10^th^ ACT: E-UTRAN
>
> 11^th^ PLMN: 244 009
>
> 11^th^ ACT: UTRAN
>
> 12^th^ PLMN: 244 010
>
> 12^th^ ACT: E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 40 00
42 14 80 00 80 42 34 80 40 00 B16 B17 B18 B19 B20 B21 B22 B23 B24 B25 B26 B27
B28 B29 B30 42 24 80 00 80 42 34 00 40 00 42 44 00 80 00 B31 B32 B33 B34 B35
B36 B37 B38 B39 B40 B41 B42 B43 B44 B45 42 54 00 80 00 42 14 80 80 00 42 74 00
80 00 B46 B47 B48 B49 B50 B51 B52 B53 B54 B55 B56 B57 B58 B59 B60 42 84 00 40
00 42 94 00 80 00 42 04 10 40 00
* * *
  1. 4.8.4 EF~OPLMNwACT~ (Operator Controlled PLMN Selector with Access Technology)
The Radio Access Technology identifier for the first PLMN is set to both UTRAN
and GSM, the other remaining PLMNs to UTRAN only or E-UTRAN only.
> Logically: 1^st^ PLMN: 254 001 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN
>
> 2^nd^ PLMN: 254 001
>
> 2^nd^ ACT: GSM
>
> 3^rd^ PLMN: 254 002
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 254 003
>
> 4^th^ ACT: E-UTRAN
>
> 5^th^ PLMN: 254 004
>
> 5^th^ ACT: UTRAN
>
> 6^th^ PLMN: 254 005
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 254 006
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 254 007
>
> 8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 14 00 40 00 52 14 00 00
80 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 40 00 52 34 00 40 00 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 44 00 80 00 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
  1. 4.8.5 EF~ACSGL~ (Allowed CSG Lists)
For testing 2 CSG lists are defined and stored together in record one.
Logically:
1^st^ CSG list
> PLMN: 246 081 (MCC MNC)
>
> 1^st^ CSG list 1^st^ CSG Type indication 02
>
> 1^st^ CSG list 1^st^ CSG HNB Name indication 02
>
> 1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
>
> 1^st^ CSG list 2^nd^ CSG Type indication 03
>
> 1^st^ CSG list 2^nd^ CSG HNB Name indication 03
>
> 1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
2^nd^ CSG list
> PLMN: 244 081 (MCC MNC)
>
> 2^nd^ CSG list 1^st^ CSG Type indication 08
>
> 2^nd^ CSG list 1^st^ CSG HNB Name indication 08
>
> 2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: A0 15 80 03 42 16 80 81
06 02 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 02 00 00 00 5F 81 06 03 03 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 00 00 7F A0 0D 80 03 42 14 80 B31 B32
B33 B34 B35 B36 B37 B38 B39 .. 81 06 08 08 00 00 01 1F FF FF Bxx  
FF
* * *
All other records are empty.
4.8.6 EF~CSGT~ (CSG Type)
Record 1:
Logically: Group ONE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 4F 00 4E 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 FF FF FF FF FF FF FF FF FF
* * *
Record 2:
Logically: Group TWO
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 54 00 57 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 4F FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: Group THREE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 54 00 48 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 52 00 45 00 45 FF FF FF FF FF
* * *
Record 4:
Logically: Group FOUR
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 15 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 46 00 4F 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 55 00 52 FF FF FF FF FF FF FF
* * *
Record 5:
Logically: Group FIVE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 15 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 46 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 56 00 45 FF FF FF FF FF FF FF
* * *
Record 6:
Logically: Group SIX
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 13 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 53 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 58 FF FF FF FF FF FF FF FF FF
* * *
Record 7:
Logically: Group SEVEN
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 53 00 45 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 56 00 45 00 4E FF FF FF FF FF
* * *
Record 8:
Logically: Group EIGHT
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 89 17 80 00 47 00 72 00
6F 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 75 00 70 00 20 00 45 00 49 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 47 00 48 00 54 FF FF FF FF FF
* * *
4.8.7 EF~HNBN~ (Home (e)NodeB Name)
Record 1:
Logically: Home ONE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 4F 00 4E 00 45 FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 2:
Logically: Home TWO
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 54 00 57 00 4F FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 3:
Logically: Home THREE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 54 00 48 00 52 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 00 45 FF FF FF FF FF FF FF
* * *
Record 4:
Logically: Home FOUR
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 13 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 46 00 4F 00 55 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 52 FF FF FF FF FF FF FF FF FF
* * *
Record 5:
Logically: Home FIVE
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 13 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 46 00 49 00 56 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 FF FF FF FF FF FF FF FF FF
* * *
Record 6:
Logically: Home SIX
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 11 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 53 00 49 00 58 FF
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 FF FF FF FF FF FF FF FF FF FF
* * *
Record 7:
Logically: Home SEVEN
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 53 00 45 00 56 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 45 00 4E FF FF FF FF FF FF FF
* * *
Record 8:
Logically: Home EIGHT
* * *
Byte: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 15 80 00 48 00 6F 00
6D 00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 65 00 20 00 45 00 49 00 47 00
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 48 00 54 FF FF FF FF FF FF FF
* * *
  1. 4.8.8 EF~EPSNSC~ (EPS NAS Security Context)
> Logically: Key Set Identifier KSI~ASME~: \'07\' (no key available)
>
> ASME Key (KSI~ASME~) : 32 byte key, any value\'FF\' (not available)
>
> Uplink NAS count: \'00\'
>
> Downlink NAS count: \'01\'
>
> Identifiers of selected NAS \'01\'\ integrity and encryption\ algorithm
* * *
**Byte:** B1 B2 B3 B4 B5 B6 B7 B8 ... B39 Coding: A0 34 80 01 07 81 20 xx ...
xx B40 B41 B42 B43 B44 B45 B46 B47 B48 B49 82 04 00 00 00 00 83 04 00 00 B50
B51 B52 B53 B54  
00 01 84 01 01
* * *
4.8.9 EF~NASCONFIG~ (Non Access Stratum Configuration)
> Logically:
>
> _NAS signalling priority value: Reserved (NAS signalling low priority is not
> used)_
>
> _NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used_
>
> _Attach with IMSI value: normal behaviour is applied_
>
> _Minimum Periodic Search Timer value: 00_
>
> _Extended access barring value: extended access barring is not applied for
> the UE_
>
> _Timer T3245 Behaviour value: T3245 not used_
>
> _Override NAS signalling low priority: Indicates that the UE cannot override
> the NAS signalling low priority indicator_
>
> _Override Extended access barring: Indicates that the UE cannot override
> extended access barring_
>
> _Fast First Higher Priority PLMN Search: Indicates that the Fast First
> Higher Priority PLMN Search is not enabled_
>
> EUTRA Disabling Allowed For EMM Cause15: disabled
>
> SM_RetryWaitTime: 00
>
> SM_RetryAtRATChange: _UE is allowed to retry the corresponding ESM procedure
> in S1 mode if an SM procedure was rejected in A/Gb or Iu mode, and to retry
> the corresponding SM procedure in A/Gb or Iu mode if an ESM procedure was
> rejected in S1 mode._
* * *
**Byte:** B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Coding: 80 01 00 81 01 00 82
01 00 83 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 01 00 84 01 00 85 01 00 86 01
B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 00 87 01 00 88 01 00 89 01 00 B31 B32
B33 B34 B35 B36  
8A 01 00 8B 01 00
* * *
# 5 Subscription related tests
## 5.1 IMSI / TMSI handling
### 5.1.1 UE identification by short IMSI
#### 5.1.1.1 Definition and applicability
The IMSI is used for unique identification of the UE by UTRAN/ a GERAN. The
IMSI is stored in the USIM and read during the UICC-Terminal initialisation
procedure.
#### 5.1.1.2 Conformance requirement
After successful completion of the RRC Connection Establishment procedure (in
case of Terminals accessing UTRAN) respectively after receipt of an IMMEDIATE
ASSIGNMENT message (in case of a Terminal accessing a GERAN) the UE shall send
PAGING RESPONSE/ ATTACH REQUEST containing the IMSI of the USIM, which is less
than the maximum length.
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.008 [16], subclause 10.5.1.4 and 4.7.9.1.2;
\- ETSI TS 102 221 [5], subclause 14.1.1.
#### 5.1.1.3 Test purpose
1) To verify that the Terminal uses the IMSI of the USIM.
> 2) To verify that the Terminal can handle an IMSI of less than the maximum
> length.
3) To verify that the READ EF~IMSI~ command is performed correctly by the
terminal
#### 5.1.1.4 Method of test
##### 5.1.1.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN) / SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- RAI (MCC/MNC/LAC/RAC): 246/081/0001/05. (only for UTRAN cell)
\- Access control: unrestricted.
The default UICC is installed into the Terminal and the UE is powered on. In
case PS is supported and active the ME performs a GPRS attach procedure, this
will be accepted by the USS.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 5.1.1.4.2 Procedure
Expected Sequence A:
a) The USS sends PAGING TYPE 1 in the CS domain if supported by the ME or
where CS is not supported by the ME, in PS domain to the UE using the IMSI
stored in the USIM.
b) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
c) After receipt of a PAGING RESPONSE in case paging in CS domain or an ATTACH
REQUEST in case of PS domain from the UE, the USS sends RRC CONNECTION RELEASE
to the UE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE to the
USS.
Expected Sequence B:
a) The SS sends PAGING REQUEST to the UE using the IMSI stored in the USIM.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a PAGING RESPONSE from the UE, the SS sends CHANNEL
RELEASE to the UE.
#### 5.1.1.5 Acceptance criteria
After step b) the UE shall send PAGING RESPONSE or ATTACH REQUEST to the
USS/SS containing the IMSI stored in the USIM.
### 5.1.2 UE identification by short IMSI using a 2 digit MNC
#### 5.1.2.1 Definition and applicability
In some networks the IMSI identifying the UTRAN/ GERAN can be consistence of a
2 digit MNC. The IMSI is stored in the USIM and read during the UICC-Terminal
initialisation procedure.
#### 5.1.2.2 Conformance requirement
After successful completion of the RRC Connection Establishment procedure (in
case of Terminals accessing UTRAN) respectively after receipt of an IMMEDIATE
ASSIGNMENT message (in case of a Terminal accessing a GERAN) the UE shall send
PAGING RESPONSE/ ATTACH REQUEST containing the IMSI of the USIM.
Reference:
\- TS 31.102 [4], subclause 4.2.18;
\- TS 24.008 [16], subclause 10.5.1.4 and 4.7.9.1.2.
#### 5.1.2.3 Test purpose
1) To verify that the Terminal can handle an IMSI consistence of a 2 digit
MNC.
#### 5.1.2.4 Method of test
##### 5.1.2.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN) / SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/81/0001.
\- RAI (MCC/MNC/LAC/RAC): 246/81/0001/05. (only for UTRAN cell)
\- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 246
LAI-MNC: 81
LAI-LAC: 0001
TMSI: \"FF .. FF\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex FF FF FF FF 42 F6 18 00 01 FF
00
* * *
**EF~IMSI~ (IMSI)**
Logically: 246813579
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 05 29 64 18 53 97 FF FF FF
* * *
**EF~AD~ (Administrative Data)**
Logically: Normal operation
OFM to be deactivated by the Terminal
MNC: 2 digit
* * *
Coding: B1 B2 B3 B4 Hex 00 00 00 02
* * *
The UICC is installed into the Terminal and the UE is powered on. In case PS
is supported and active the ME performs a GPRS attach procedure, this will be
accepted by the USS.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 5.1.2.4.2 Procedure
Expected Sequence A:
a) The USS sends PAGING TYPE 1 in the CS domain if supported by the ME or
where CS is not supported by the ME, in PS domain to the UE using the IMSI
stored in the USIM.
b) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
c) After receipt of a PAGING RESPONSE in the case of paging in CS domain or an
ATTACH REQUEST in the case of PS domain from the UE, the USS sends RRC
CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS.
Expected Sequence B:
a) The SS sends PAGING REQUEST to the UE using the IMSI stored in the USIM.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a PAGING RESPONSE from the UE, the SS sends CHANNEL
RELEASE to the UE.
#### 5.1.2.5 Acceptance criteria
After step b) the UE shall send PAGING RESPONSE or ATTACH REQUEST to the
USS/SS containing the IMSI stored in the USIM.
### 5.1.3 UE identification by \"short\" TMSI
#### 5.1.3.1 Definition and applicability
The TMSI is temporarily used for identification of the UE by UTRAN/ a GERAN.
It will have been previously assigned by the network. The TMSI is stored in
the USIM by the Terminal and read during the USIM-Terminal initialisation
procedure.
NOTE: According to TS 23.003 [14], subclause 2.4, a TMSI always consists of 8
digits (4 bytes). With this tests the handling of a TMSI with leading zeros
will be tested. The term \"short\" TMSI is used in order to distinguish
between the tests as defined in subclauses 5.1.3 and 5.1.4.
#### 5.1.3.2 Conformance requirement
After successful completion of the RRC Connection Establishment procedure (in
case of Terminals accessing UTRAN) respectively after receipt of an IMMEDIATE
ASSIGNMENT message (in case of a Terminal accessing a GERAN) the UE shall send
PAGING RESPONSE containing the TMSI of the USIM. According to subclause
10.3.1.17 in TS 25.331 [20] the TMSI has a fixed length of 32 bit (8 digits)
when used inside the PAGING TYPE 1/ PAGING REQUEST message.
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.008 [16], subclause 10.5.1.4.
\- TS 25.331 [20], subclause 10.3.1.17
#### 5.1.3.3 Test purpose
1) To verify that the Terminal uses the TMSI stored in the USIM.
2) To verify that the Terminal can handle a TMSI of less than maximum length.
#### 5.1.3.4 Method of test
##### 5.1.3.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN) / SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 246
LAI-MNC: 081
LAI-LAC: 0001
TMSI: \"00002143\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 00 00 21 43 42 16 80 00 01 FF
00
* * *
The UICC is installed into the Terminal and the UE is powered on.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 5.1.3.4.2 Procedure
Expected Sequence A:
a) The USS sends PAGING TYPE 1 to the UE using the TMSI stored in the USIM
matching the required length of 8 digits.
b) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
c) After receipt of a PAGING RESPONSE from the UE, the USS sends RRC
CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS.
Expected Sequence B:
a) The SS sends PAGING REQUEST to the UE using the TMSI stored in the USIM
matching the required length of 8 digits.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a PAGING RESPONSE from the UE, the SS sends CHANNEL
RELEASE to the UE.
#### 5.1.3.5 Acceptance criteria
After step b) the UE shall send PAGING RESPONSE to the USS/SS containing the
TMSI stored in the USIM.
### 5.1.4 UE identification by \"long\" TMSI
#### 5.1.4.1 Definition and applicability
The TMSI is temporarily used for identification of the UE by UTRAN/ a GERAN.
It will have been previously assigned by the network. The TMSI is stored in
the USIM by the Terminal and read during the USIM-Terminal initialisation
procedure.
NOTE: According to TS 23.003 [14], subclause 2.4, a TMSI always consists of 8
digits (4 bytes). With this tests the handling of a new assigned TMSI will be
tested. The term \"long\" TMSI is used in order to distinguish between the
tests as defined in subclauses 5.1.3 and 5.1.4.
#### 5.1.4.2 Conformance requirement
After successful completion of the RRC Connection Establishment procedure (in
case of Terminals accessing UTRAN) respectively after receipt of an IMMEDIATE
ASSIGNMENT message (in case of a Terminal accessing a GERAN) the UE shall send
PAGING RESPONSE containing the correct TMSI stored in the USIM.
According to subclause 10.3.1.17 in TS 25.331 [20] the TMSI has a fixed length
of 32 bit (8 digits) when used inside the PAGING TYPE 1/PAGING REQUEST
message.
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.008 [16], subclause 10.5.1.4.
\- TS 25.331 [20], subclause 10.3.1.17
#### 5.1.4.3 Test purpose
1) To verify that the Terminal uses the TMSI stored in the USIM.
2) To verify that the Terminal can handle a TMSI of maximum length.
3) To verify that the Terminal does not respond to page requests containing a
previous TMSI.
#### 5.1.4.4 Method of test
##### 5.1.4.4.1 Initial conditions
Prior to this test, the Terminal shall have been operated with a USIM
containing TMSI \"2143\". This may be achieved by executing the previous test
(5.1.3) prior to this test. Only under this condition will test purpose 3) be
verified.
The USS (in case of a Terminal accessing UTRAN) / SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 246
LAI-MNC: 081
LAI-LAC: 0001
TMSI: \"21430000\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 21 43 00 00 42 16 80 00 01 FF
00
* * *
The UICC is installed into the Terminal and the UE is powered on.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 5.1.4.4.2 Procedure
Expected Sequence A:
a) The USS sends PAGING TYPE 1 to the UE using the TMSI \"00002143\".
b) The USS sends PAGING TYPE 1 to the UE using the TMSI stored in the USIM.
c) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
d) After receipt of a PAGING RESPONSE from the UE, the USS sends RRC
CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS.
Expected Sequence B:
a) The SS sends PAGING REQUEST to the UE using the TMSI \"00002143\".
b) The SS sends PAGING REQUEST to the UE using the TMSI stored in the USIM.
c) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
d) After receipt of a PAGING RESPONSE from the UE, the SS sends CHANNEL
RELEASE to the UE.
#### 5.1.4.5 Acceptance criteria
1) After step a) the UE shall not respond to the PAGING TYPE 1 respectively to
the PAGING REQUEST.
2) After step c) the UE shall send PAGING RESPONSE to the USS/ SS containing
the TMSI stored in the USIM.
### 5.1.5 UE identification by long IMSI, TMSI updating and key set identifier
assignment
#### 5.1.5.1 Definition and applicability
The IMSI and TMSI are used for identification of the UE by UTRAN/ a GERAN.
They are read from the USIM during the USIM-Terminal initialisation procedure.
Within the authentication procedure the UTRAN sends a key set identifier
respectively a GERAN sends a ciphering key sequence number to the UE. In
addition the network may allocate a new TMSI to the UE. Key set identifier and
TMSI are stored in the USIM after UTRAN call termination and/or at a 3G
session termination. Ciphering key sequence number and TMSI are stored in the
USIM after GERAN call termination and/or at a 3G session termination.
NOTE: According to TS 24.008 [16] the term KSI may be used instead of the term
ciphering key sequence number which is used inside the MM message
AUTHENTICATION REQUEST.
#### 5.1.5.2 Conformance requirement
1) After successful completion of the RRC Connection Establishment procedure
(in case of Terminals accessing UTRAN) respectively after receipt of an
IMMEDIATE ASSIGNMENT message (in case of a Terminal accessing a GERAN) the UE
shall send PAGING RESPONSE containing the correct IMSI stored in the USIM.
> Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.008 [16], subclause 10.5.1.4.
2) After call termination the USIM shall contain the key set identifier
(ciphering key sequence number) and TMSI received by the UE during the
authentication and TMSI reallocation procedures.
Reference:
\- TS 31.102 [4], subclauses 5.1.2, 5.2.5 and 5.2.6;
\- TS 21.111 [19], subclause 10.1.
\- TS 24.008 [16], subclause 4.3.2.4.
3) After call termination the Terminal shall have updated EFLOCI.
Reference:
\- ETSI TS 102 221 [5], subclause 14.1.2.
#### 5.1.5.3 Test purpose
1) To verify that the Terminal uses the IMSI stored in the USIM.
2) To verify that the Terminal does not respond to page requests containing a
previous IMSI.
3) To verify that the Terminal can handle an IMSI of maximum length.
4) To verify that the Terminal correctly updates the key set identifier
respectively the ciphering key sequence number at call termination.
> 5) To verify that the Terminal correctly updates the TMSI at call
> termination.
>
> 6) To verify that the UPDATE EF~LOCI~ command is performed correctly by the
> terminal
#### 5.1.5.4 Method of test
##### 5.1.5.4.1 Initial conditions
Prior to this test, the Terminal shall have been operated with a USIM
containing IMSI \"2460813579\". This may be achieved by executing the previous
test (5.1.4) prior to this test. Only under this condition will test purpose
2) be verified.
The USS (in case of a Terminal accessing UTRAN) / SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~IMSI~ (IMSI)**
Logically: 246081111111111
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 08 29 64 80 11 11 11 11 11
* * *
**EF~Kc~ (GSM Ciphering Key Kc)**
Logically: Ciphering key Kc: xx
Ciphering key sequence number n: 01
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex xx xx xx xx xx xx xx xx 01
* * *
The UICC is installed into the Terminal and the UE is powered on.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 5.1.5.4.2 Procedure
Expected Sequence A:
a) The USS sends PAGING TYPE 1 to the UE using the IMSI \"2460813579\".
b) The USS sends PAGING TYPE 1 to the UE using the IMSI stored in the USIM.
c) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
d) After receipt of a PAGING RESPONSE from the UE, the USS sends
AUTHENTICATION REQUEST to the UE containing Key Set Identifier KSI (ciphering
key sequence number) set to binary 010.
e) After receipt of AUTHENTICATION RESPONSE from the UE and subsequent
completion of the security procedure on RRC, the USS sends TMSI REALLOCATION
COMMAND to the UE containing TMSI \"32547698\".
f) Within 5 s after receipt of TMSI REALLOCATION COMPLETE from the UE, the USS
sends RRC CONNECTION RELEASE to the UE.
g) To allow examination of the values in the USIM after connection termination
the UE shall not be soft powered down. If the test is performed with a USIM
simulator, the simulation is stopped. If the test is performed with a USIM,
the UICC is removed without soft powering down the UE. If this is not
possible, the power supply of the Terminal is removed and then the UICC
removed.
Expected sequence B:
a) The SS sends PAGING REQUEST to the UE using the IMSI \"2460813579\".
b) The SS sends PAGING REQUEST to the UE using the IMSI stored in the USIM.
c) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
d) After receipt of a PAGING RESPONSE from the UE, the SS sends AUTHENTICATION
REQUEST to the UE containing ciphering key sequence number set to binary 010.
e) After receipt of AUTHENTICATION RESPONSE from the UE, the SS sends TMSI
REALLOCATION COMMAND to the UE containing TMSI \"32547698\".
f) Within 5 s after receipt of TMSI REALLOCATION COMPLETE from the UE, the SS
sends CHANNEL RELEASE to the UE.
g) To allow examination of the values in the USIM after connection termination
the UE shall not be soft powered down. If the test is performed with a USIM
simulator, the simulation is stopped. If the test is performed with a USIM,
the UICC is removed without soft powering down the UE. If this is not
possible, the power supply of the Terminal is removed and then the UICC
removed.
#### 5.1.5.5 Acceptance criteria
1) After step a) the UE shall not respond to the PAGING TYPE 1/ PAGING
REQUEST.
2) After step c) the UE shall send PAGING RESPONSE to the USS/SS containing
the IMSI stored in the USIM.
3) After step e) the UE shall send TMSI REALLOCATION COMPLETE to the USS/SS.
4) After step g) the USIM shall contain the following values:
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 246
LAI-MNC: 081
TMSI: \"32547698\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 32 54 76 98 42 16 80 xx xx xx
00
* * *
In case of a Terminal accessing UTRAN:
**EF~Keys~ (Ciphering and Integrity Keys)**
Logically: Key Set Identifier KSI: 02
Ciphering Keys CK: xx (result of the authentication algorithm)
Integrity Keys IK: xx (result of the authentication algorithm)
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 02 xx xx ... xx xx xx ...
xx xx xx
* * *
In case of a Terminal accessing a GERAN:
**EF~Kc~ (GSM Ciphering Key Kc)**
Logically: Ciphering key Kc: xx (result of the authentication algorithm)
Ciphering key sequence number n: 02
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex xx xx xx xx Xx xx xx xx 02
* * *
### 5.1.6 UE identification by short IMSI when accessing E-UTRAN/EPC
#### 5.1.6.1 Definition and applicability
Paging for EPS services using IMSI is an abnormal procedure used for error
recovery in the network. The IMSI is used for unique identification of the UE
by an E-UTRAN/EPC if there is no GUTI available. The IMSI is stored in the
USIM and read during the UICC-Terminal initialisation procedure.
#### 5.1.6.2 Conformance requirement
Only after reception of a Paging message containing the IMSI stored in the
USIM the UE shall send the _RRCConnectionRequest_ message.
For NB-IoT, the paging message shall include a CN domain indicator set to
\"PS\". If the paging message includes a UE Paging Identity set to the UE\'s
IMSI, the paging procedure is performed according to subclause 5.6.2.2.2 [26].
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- ETSI TS 102 221 [5], subclause 14.1.1;
\- TS 24.301 [26], subclause 5.6.2.2.2, 5.6.2.2.4.
#### 5.1.6.3 Test purpose
1) To verify that the Terminal uses the IMSI of the USIM.
> 2) To verify that the Terminal can handle an IMSI of less than the maximum
> length.
3) To verify that the READ EF~IMSI~ command is performed correctly by the
terminal.
4) To verify that the terminal does not respond to a Paging message containing
an IMSI not stored in the USIM.
#### 5.1.6.4 Method of test
##### 5.1.6.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is installed into the Terminal and the UE is powered
on.
##### 5.1.6.4.2 Procedure
a) The UE performs Attach procedure to E-USS/NB-SS.
b) The E-USS/NB-SS sends _Paging/Paging-NB_ to the UE using the IMSI
24608122222.
c) The E-USS/NB-SS sends _Paging/Paging-NB_ to the UE using the IMSI stored in
the USIM.
d) After receipt of a _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by the UE to
the E-USS/NB-SS.
e) After the EPS attach procedure the E-USS/NB-SS sends
_RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE.
#### 5.1.6.5 Acceptance criteria
1) After step b) the UE shall not send
_RRCConnectionRequest/RRCConnectionRequest-NB_ to the E-USS/NB-SS.
2) After step c) the UE shall send _RRCConnectionRequest/RRCConnectionRequest-
NB_ to the E-USS/NB-SS.
3) After step d) the UE performs the EPS attach procedure.
###
### 5.1.7 UE identification by short IMSI using a 2 digit MNC when accessing
E-UTRAN/EPC
#### 5.1.7.1 Definition and applicability
In some networks the IMSI identifying the E-UTRAN/EPC can be consistence of a
2 digit MNC. Paging for EPS services using IMSI is an abnormal procedure used
for error recovery in the network. The IMSI is used for unique identification
of the UE by an E-UTRAN/EPC if there is no GUTI available. The IMSI is stored
in the USIM and read during the UICC-Terminal initialisation procedure.
#### 5.1.7.2 Conformance requirement
Only after reception of a Paging message containing the IMSI stored in the
USIM the UE shall send the _RRCConnectionRequest_ message.
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- ETSI TS 102 221 [5], subclause 14.1.1;
\- TS 24.301 [26], subclause 5.6.2.2.2, 5.6.2.4.
#### 5.1.7.3 Test purpose
1) To verify that the Terminal uses the IMSI of the USIM.
> 2) To verify that the Terminal can handle an IMSI consistence of a 2 digit
> MNC.
3) To verify that the READ EF~IMSI~ command is performed correctly by the
terminal.
4) To verify that the terminal does not respond to a Paging message containing
an IMSI not stored in the USIM.
#### 5.1.7.4 Method of test
##### 5.1.7.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/81/0001.
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/81/0001.
\- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~IMSI~ (IMSI)**
Logically: 246813579
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 05 29 64 18 53 97 FF FF FF
* * *
**EF~AD~ (Administrative Data)**
Logically: Normal operation
OFM to be deactivated by the Terminal
MNC: 2 digit
* * *
Coding: B1 B2 B3 B4 Hex 00 00 00 02
* * *
The UICC is installed into the Terminal and the UE is powered on.
##### 5.1.7.4.2 Procedure
a) The UE performs Attach procedure to E-USS/NB-SS.
b) The E-USS/NB-SS sends _Paging_ /_Paging-NB_ to the UE using the IMSI
24608122222.
c) The E-USS/NB-SS sends _Paging_ /_Paging-NB_ to the UE using the IMSI stored
in the USIM.
d) After receipt of a _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by the UE to
the E-USS/NB-SS.
> e) After the EPS attach procedure the E-USS/NB-SS sends
> _RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE.
#### 5.1.7.5 Acceptance criteria
1) After step b) the UE shall not send
_RRCConnectionRequest/RRCConnectionRequest-NB_ to the E-USS/NB-SS.
2) After step c) the UE shall send _RRCConnectionRequest/RRCConnectionRequest-
NB_ to the E-USS/NB-SS.
3) After step d) the UE performs the EPS attach procedure.
### 5.1.8 UE identification after changed IMSI with service \"EMM
Information\" not available
The attach procedure is used to attach for packet services in EPS. With a
successful attach procedure, a context is established for the UE in the MME,
and a default bearer is established between the UE and the PDN GW, thus
enabling always-on IP connectivity to the UE. The network may also initiate
the activation of dedicated bearers as part of the attach procedure.For NB-IoT
terminals the establishment of the PDN connection is optional.
#### 5.1.8.2 Conformance requirement
The following EMM parameters shall be stored on the USIM if the corresponding
file is present:
\- GUTI;
\- last visited registered TAI;
\- EPS update status.
If the corresponding file is not present on the USIM, these EMM parameters
except allowed CSG list are stored in a non-volatile memory in the ME together
with the IMSI from the USIM. These EMM parameters can only be used if the IMSI
from the USIM matches the IMSI stored in the non-volatile memory; else the UE
shall delete the EMM parameters.
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.301 [26], subclause 5.5.1.2.1, 5.5.1.2.2, 5.5.1.2.4 and Annex C.
#### 5.1.8.3 Test purpose
1) To verify that UE deletes existing EMM parameters from the UE\'s non-
volatile memory in case a different IMSI is activated.
2) To verify that UE includes the IMSI stored in the USIM during the attach
procedure.
#### 5.1.8.4 Method of test
##### 5.1.8.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default UICC (without the service \"EMM Information\") is installed into
the Terminal and the UE is powered on.
##### 5.1.8.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and therefore performs EPS Attach procedure
to the E-USS/NB-SS. The E-USS/NB-SS sends _AttachAccept_ with the following
values:
> GUTI: \"24608100010266345678\"
>
> TAI (MCC/MNC/TAC): 246/081/0001
c) The UE send _AttachComplete._
d) The E-USS/NB-SS requests the release of the RRC Connection.
e) The UE is switched off.
f) A new UICC with the following configuration is activated:
The default UICC with the following exception: The IMSI is set to
\"246081222233333\".
g) The Terminal is switched on.
h) The UE requests RRC Connection and therefore performs EPS Attach procedure
to the E-USS/NB-SS.
#### 5.1.8.5 Acceptance criteria
1) After step a) the UE shall read EF~UST~.
2) During step h) the UE shall include the IMSI \"246081222233333\", but no
GUTI nor TAI in the AttachRequest message.
### 5.1.9 UE identification by GUTI when using USIM with service \"EMM
Information\" not available
The attach procedure is used to attach for packet services in EPS. With a
successful attach procedure, a context is established for the UE in the MME,
and a default bearer is established between the UE and the PDN GW, thus
enabling always-on IP connectivity to the UE. The network may also initiate
the activation of dedicated bearers as part of the attach procedure. For NB-
IoT terminals the establishment of the PDN connection is optional.
#### 5.1.9.2 Conformance requirement
The following EMM parameters shall be stored on the USIM if the corresponding
file is present:
\- GUTI;
\- last visited registered TAI;
\- EPS update status.
If the corresponding file is not present on the USIM, these EMM parameters
except allowed CSG list are stored in a non-volatile memory in the ME together
with the IMSI from the USIM. These EMM parameters can only be used if the IMSI
from the USIM matches the IMSI stored in the non-volatile memory; else the UE
shall delete the EMM parameters.
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.301 [26], subclause 5.5.1.2.1, 5.5.1.2.2, 5.5.1.2.4 and Annex C.
#### 5.1.9.3 Test purpose
1) To verify that UE stores the GUTI and the TAI in the UE\'s non-volatile
memory.
2) To verify that the UE uses the GUTI and the TAI from the UE\'s non-volatile
memory during the attach procedure if the IMSI stored in the USIM has not
changed.
#### 5.1.9.4 Method of test
##### 5.1.9.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default UICC (without the service \"EMM Information\") is installed into
the Terminal and the UE is powered on.
##### 5.1.9.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and therefore performs EPS Attach procedure
to the E-USS/NB-SS. The E-USS/NB-SS sends _AttachAccept_ with the following
values:
> GUTI: \"24608100010266345699\"
>
> TAI (MCC/MNC/TAC): 246/081/0001
c) The UE send _AttachComplete._
d) The E-USS/NB-SS requests the release of the RRC Connection.
e) The UE is switched off.
f) The default UICC remains in use.
g) The Terminal is switched on.
h) The UE requests RRC Connection and therefore performs EPS Attach procedure
to the E-USS/NB-SS.
#### 5.1.9.5 Acceptance criteria
1) After step a) the UE shall read EF~UST~.
2) During step h) the UE shall include the GUTI \"24608100010266345699\" and
the TAI 246/081/0001 in the AttachRequest message.
### 5.1.10 UE identification by GUTI when using USIM with service \"EMM
Information\" available
#### 5.1.10.1 Definition and applicability
The attach procedure is used to attach for packet services in EPS. With a
successful attach procedure, a context is established for the UE in the MME,
and a default bearer is established between the UE and the PDN GW, thus
enabling always-on IP connectivity to the UE. The network may also initiate
the activation of dedicated bearers as part of the attach procedure. For NB-
IoT terminals the establishment of the PDN connection is optional.
#### 5.1.10.2 Conformance requirement
The following EMM parameters shall be stored on the USIM if the corresponding
file is present:
\- GUTI;
\- last visited registered TAI;
\- EPS update status.
The presence and format of corresponding files on the USIM is specified in
3GPP TS 31.102 [4].
Reference:
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.2;
\- TS 24.301 [26], subclause 5.5.1.2.1, 5.5.1.2.2, 5.5.1.2.4 and Annex C.
#### 5.1.10.3 Test purpose
1) To verify that UE includes the GUTI and TAI stored in EF~EPSLOCI~ in the
_AttachRequest_ message.
2) To verify that the EMM parameters GUTI, Last Registered TAI sent in the
_AttachAccept_ message and the related EPS Update Status are correctly stored
on the USIM if the corresponding file is present.
#### 5.1.10.4 Method of test
##### 5.1.10.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0002.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is is used with the following exceptions:
**EF~EPSNSC~ (EPS NAS Security Context)**
Logically: Key Set Identifier KSI~ASME~: \'01\'
ASME Key (KSI~ASME~) : 32 byte key, any value
Uplink NAS count: 00
Downlink NAS count: 01
Identifiers of selected NAS 01\ integrity and encryption\ algorithm
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 **...** B39 Hex A0 34 80 01 01 81 20 xx
**...** xx Coding: B40 B41 B42 B43 B44 B45 B46 B47 B48 B49 Hex 82 04 00 00 00
00 83 04 00 00 Coding: B50 B51 B52 B53 B54  
Hex 00 01 84 01 01
* * *
##### 5.1.10.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and therefore performs EPS Attach procedure
to the E-USS/NB-SS. The E-USS/NB-SS sends _AttachAccept_ with the following
values:
> GUTI: \"24608100010266436587\"
>
> TAI (MCC/MNC/TAC): 246/081/0002
c) The UE send _AttachComplete._
d) The E-USS/NB-SS requests the release of the RRC Connection.
#### 5.1.10.5 Acceptance criteria
1) After step a) the UE shall read EF~UST~ and EF~EPSLOCI~.
2) During step b) the UE shall include the GUTI and the Last visited
registered TAI contained in EF~EPSLOCI~ when sending the _AttachRequest_
message.
3) After step b) EF~EPSLOCI~ shall contain:
Logically: GUTI: 24608100010266436587
Last visited registered TAI: 246/081/0002
EPS update status: updated
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex: 0B F6 42 16 80 00 01 02 66 43 65
          B12   B13   B14   B15   B16   B17   B18                   
          87    42    16    80    00    02    00
* * *
## 5.2 Access Control handling
### 5.2.1 Access Control information handling
#### 5.2.1.1 Definition and applicability
Access Control allows restriction of call access attempts. All User Equipments
are assigned to one out of ten randomly allocated classes, and optionally (for
priority uses) also to one or more special categories.
An Access Class of the special Categories is only valid in the HPLMN or HPLMN
country. Otherwise, the randomly allocated class is used.
The classes are programmed on the USIM. The network controls which classes at
any time may be barred.
In addition, there is a separate mechanism for control of network access for
emergency call attempts.
#### 5.2.1.2 Conformance requirement
> 1\. The Terminal shall read the access control value as part of the USIM-
> Terminal initialisation procedure, and subsequently adopt this value.
Reference:
\- TS 31.102 [4], subclause 5.1.1.
> 2\. If the UE is a member of at least one access class which corresponds to
> the permitted classes as signalled over the air interface, and the access
> class is applicable in the serving network,access attempts are allowed .
> Otherwise access attempts are not allowed.
>
> 3\. If access class 10 is barred, then the Ues of classes 0 -- 9 and the
> Terminals without UICCs shall not make emergency call attempts.
>
> 4\. UE of classes 11 -- 15 are not allowed to make emergency call attempts
> if access class 10 and the relevant access class(es) between 11 and 15 are
> barred. Otherwise, emergency call attempts are allowed irrespective of the
> conditions of access class 10.
All options are shown in figure 5-1 and are referenced to the tests.
Reference:
\- TS 22.011 [6], subclauses 4.3 and 4.4.
#### 5.2.1.3 Test purpose
1) To verify that the Terminal reads the access control value as part of the
USIM-Terminal initialisation procedure, and subsequently adopts this value.
2) To verify that the UE controls its network access in accordance with its
access control class and the conditions imposed by the serving network.
The tests verify Terminal performance for the following:
Tests (a) and (b) No UICC in Terminal.
Tests I to (e) UE with access class 0 to 9.
Test (f) UE with access class 11 and 15 not in HPLMN, and
UE with access class 12,13 and 14 not in HPLMN country.
Test (g) and (h) UE with access class 11 and 15 in HPLMN, and
UE with access class 12,13 and 14 in HPLMN country.
Each of the above are tested against all relevant combinations of access
control and emergency call bits signalled by the network, as shown in table
5-1.
#### 5.2.1.4 Method of test
##### 5.2.1.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a GERAN
Terminal) transmits on the BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): MCC, MNC: see table 5-1, LAC=\"0001\".
\- Access control: see table 5-1.
\- RACH: see table 5-1.
The default UICC is installed in the Terminal containing IMSI and access
control values as given in table 5-1 and the UE is powered on.
NOTE: Depending on the initial value of the EF~LOCI~, the UE may perform a
location update. This shall be accepted by the USS/SS.
##### 5.2.1.4.2 Coding details
USIM IMSI EF~IMSI~: Data Field \"6F 07\"
Logically: IMSI: \"2460813579\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 75 F9 FF FF
* * *
Logically: IMSI: \"24608135x9\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 x5 F9 FF FF
* * *
Access Control class EF~ACC~: Data field \"6F 78\"
Reference:
7) See TS 31.102 [4].
NETWORK (USS in case of a Terminal accessing UTRAN)
Access Class Barred List in SIB 3 should be set as table 5.1a:
Reference
7) TS 25.331 clause 10.3.2.1
NOTE: The first instance of the parameter corresponds to Access Class 0, the
second to Access Class 1 and so on up to Access Class 15.
NETWORK (SS in case of a Terminal accessing GERAN)
RACH: As defined in TS 44.018 subclause 10.5.2.29.
NOTE: TS 44.018 also apply for the Radio Resource management for UMTS (see TS
24.008, subclause 10.5.2).
Octet 1 0111 1000
Octet 2 0000 1000
Octet 3 }
Octet 4 } as table 5-1b
##### 5.2.1.4.3 Procedure
a) Using the MMI or EMMI a normal call set-up is attempted.
b) Using the MMI or EMMI an emergency call set-up is attempted.
c) The test is repeated for each set of values in table 5-1.
#### 5.2.1.5 Acceptance criteria
After steps a) and b) the UE shall access the network, or shall make no access
attempt, in accordance with table 5-1.
NOTE 1: For conformance testing, to limit testing, in tesI(c), (d) and (e) it
is only necessary that one of the access classes is tested. This access class
may be chosen randomly.
> NOTE 2: In tables 5-1a and 5-1b the following notation is used to describe
> the Access Class Barred IE:
>
> \"0\" = not barred, \"1\" =barred.
Table 5-1a
+-------+-------+-------+-------+-------+-------+-------+-------+ | | USIM | | | Ne | | Test | | | | | | | twork | | Re | | | | | | | | | sults | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | IMSI | | RACH | In | BCC | N | Emer | | | | | | forma | H/LAI | ormal | gency | | | | | SIB3: | tive: | | Call | Call | | | | | | Cell | | | | | | | | A | B | | | | | | | | ccess | arred | | | | | | | | Class | for: | | | | | | | | | | | | | | | | | B | | | | | | | | | arred | | | | | | | | | List | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | A | AC15 | Emer | MCC | | | | | | ccess | -AC08 | gency | | | | | | | | | Call | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | Class | AC07 | N | MNC | | | | | | | -AC00 | ormal | | | | | | | | | Call | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | No | N/A | 0000 | Yes | 234 | No | No | | (a) | UICC | | 0100 | | | | | | | in | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Ter | | 0000 | No | 001 | | | | | minal | | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | No | N/A | 0000 | No | 234 | No | Yes | | (b) | UICC | | 0000 | | | | | | | in | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Ter | | 0000 | No | 001 | | | | | minal | | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Ist | \"24 | 0 | 0000 | Yes | 246 | No | No | | (c) | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | No, | 081 | | | | | | | 0001 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 1 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | No, | 081 | | | | | | | 0010 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 2 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | No, | 081 | | | | | | | 0100 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 3 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | No, | 081 | | | | | | | 1000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 4 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0001 | No, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 5 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0010 | No, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 6 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0100 | No, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 7 | 0000 | Yes | 246 | No | No | | | 60813 | | 0100 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1000 | No, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 8 | 0000 | Yes | 246 | No | No | | | 60813 | | 0101 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | No, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 9 | 0000 | Yes | 246 | No | No | | | 60813 | | 0110 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | No, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | \"24 | 0 | 0000 | No | 246 | No | Yes | | (d) | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None, | 081 | | | | | | | 0001 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 1 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None, | 081 | | | | | | | 0010 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 2 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None, | 081 | | | | | | | 0100 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 3 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None, | 081 | | | | | | | 1000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 4 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0001 | None, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 5 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0010 | None, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 6 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0100 | None, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 7 | 0000 | No | 246 | No | Yes | | | 60813 | | 0000 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1000 | None, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 8 | 0000 | No | 246 | No | Yes | | | 60813 | | 0001 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 9 | 0000 | No | 246 | No | Yes | | | 60813 | | 0010 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None, | 081 | | | | | | | 0000 | e | | | | | | | | | xcept | | | | | | | | | for | | | | | | | | | ACC | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | \"24 | 0 | 1111 | No | 246 | Yes | Yes | | (e) | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1110 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 1 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1101 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 2 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1011 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 3 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 0111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 4 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1110 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 5 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1101 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 6 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1011 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 7 | 1111 | No | 246 | Yes | Yes | | | 06813 | | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0111 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 8 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1010 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 9 | 1111 | No | 246 | Yes | Yes | | | 60813 | | 1001 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | \"24 | 11 & | 0000 | Yes | 246 | No | No | | (f) | 60813 | x | 0111 | | | | | | | 5x9\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 11 & | 0000 | No | 246 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 11 & | 0000 | No | 246 | Yes | Yes | | | | x | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None | 082 | | | | | | | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 12 & | 0000 | Yes | 244 | No | No | | | 60813 | x | 0111 | | | | | | | 5x9\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 001 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 12 & | 0000 | No | 244 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 001 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 12 & | 0000 | No | 244 | Yes | Yes | | | | x | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None | 001 | | | | | | | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 13 & | 0000 | Yes | 244 | No | No | | | 60813 | x | 0111 | | | | | | | 5x9\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 001 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 13 & | 0000 | No | 244 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 001 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 13 & | 0000 | No | 244 | Yes | Yes | | | | x | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None | 001 | | | | | | | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 14 & | 0000 | Yes | 244 | No | No | | | 60813 | x | 0111 | | | | | | | 5x9\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 001 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 14 & | 0000 | No | 244 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 001 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 14 & | 0000 | No | 244 | Yes | Yes | | | | x | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 0000 | None | 001 | | | | | | | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 15 & | 0000 | Yes | 246 | No | No | | | 60813 | x | 0111 | | | | | | | 5x9\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 15 & | 0000 | No | 246 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | ACC | | | | | | | | | gr | | | | | | | | | eater | | | | | | | | | than | | | | | | | | | 11 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 15 & | 0000 | No | 246 | Yes | Yes | | | | x | 0000 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Set | | 0000 | None | 082 | | | | | \"x\" | | 0000 | | | | | | | to an | | | | | | | | | arbi | | | | | | | | | trary | | | | | | | | | value | | | | | | | | | in | | | | | | | | | the | | | | | | | | | range | | | | | | | | | 0 to | | | | | | | | | 9 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | \"24 | 11 & | 0000 | Yes | 246 | No | No | | (g) | 60813 | x | 1111 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 081 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 11 & | 0000 | No | 246 | No | Yes | | | | x | 1011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 081 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 12 & | 0001 | Yes | 246 | No | No | | | 60813 | x | 0111 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 082 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 12 & | 0001 | No | 246 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 082 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 13 & | 0010 | Yes | 246 | No | No | | | 60813 | x | 0111 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 082 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 13 & | 0010 | No | 246 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 082 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 14 & | 0100 | Yes | 246 | No | No | | | 60813 | x | 0111 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 082 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 14 & | 0100 | No | 246 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 082 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 15 & | 1000 | Yes | 246 | No | No | | | 60813 | x | 0111 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All | 081 | | | | | | | 1111 | n | | | | | | | | | ormal | | | | | | | | | ACC | | | | | | | | | and | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 15 & | 1000 | No | 246 | No | Yes | | | | x | 0011 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Set | | 1111 | All | 081 | | | | | \"x\" | | 1111 | n | | | | | | to an | | | ormal | | | | | | arbi | | | ACC | | | | | | trary | | | and | | | | | | value | | | ACC | | | | | | in | | | on | | | | | | the | | | USIM | | | | | | range | | | | | | | | | 0 to | | | | | | | | | 9 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Test | \"24 | 11 & | 1111 | No | 246 | Yes | Yes | | (h) | 60813 | x | 0011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 11 & | 1111 | Yes | 246 | Yes | Yes | | | | x | 0111 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 12 & | 1110 | No | 246 | Yes | Yes | | | 60813 | x | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 12 & | 1110 | Yes | 246 | Yes | Yes | | | | x | 1111 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 13 & | 1101 | No | 246 | Yes | Yes | | | 60813 | x | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 13 & | 1101 | Yes | 246 | Yes | Yes | | | | x | 1111 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 14 & | 1011 | No | 246 | Yes | Yes | | | 60813 | x | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 14 & | 1011 | Yes | 246 | Yes | Yes | | | | x | 1111 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 082 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \"24 | 15 & | 0111 | No | 246 | Yes | Yes | | | 60813 | x | 1011 | | | | | | | 579\" | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | 1111 | All, | 081 | | | | | | | 1111 | e | | | | | | | | | xcept | | | | | | | | | \ | | | | | | | | | "spec | | | | | | | | | ial\" | | | | | | | | | ACC | | | | | | | | | on | | | | | | | | | USIM | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | \" | 15 & | 0111 | Yes | 246 | Yes | Yes | | | | x | 1111 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Set | | 1111 | All, | 081 | | | | | \"x\" | | 1111 | e | | | | | | to an | | | xcept | | | | | | arbi | | | \ | | | | | | trary | | | "spec | | | | | | value | | | ial\" | | | | | | in | | | ACC | | | | | | the | | | on | | | | | | range | | | USIM | | | | | | 0 to | | | | | | | | | 9 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 5-1b
* * *
             USIM                                                                       Network                                          Test Results   
             IMSI                                                           RACH        Informative: Cell Barred for:         BCCH/LAI   Normal Call    Emergency Call
                                                                   Access   Octet 3     Emergency Call                        MCC                       
                                                                   Class    Octet 4     Normal Call                           MNC
Test (a) No UICC in N/A 0000 0100 Yes 234 No No Terminal 0000 0000 No 001
Test (b) No UICC in N/A 0000 0000 No 234 No Yes Terminal 0000 0000 No 001
Test (c) \"2460813579\" 0 0000 0100 Yes 246 No No 0000 0001 No, except for ACC
081
             \"2460813579\"                                        1        0000 0100   Yes                                   246        No             No
                                                                            0000 0010   No, except for ACC                    081
             \"2460813579\"                                        2        0000 0100   Yes                                   246        No             No
                                                                            0000 0100   No, except for ACC                    081
             \"2460813579\"                                        3        0000 0100   Yes                                   246        No             No
                                                                            0000 1000   No, except for ACC                    081
             \"2460813579\"                                        4        0000 0100   Yes                                   246        No             No
                                                                            0001 0000   No, except for ACC                    081
             \"2460813579\"                                        5        0000 0100   Yes                                   246        No             No
                                                                            0010 0000   No, except for ACC                    081
             \"2460813579\"                                        6        0000 0100   Yes                                   246        No             No
                                                                            0100 0000   No, except for ACC                    081
             \"2460813579\"                                        7        0000 0100   Yes                                   246        No             No
                                                                            1000 0000   No, except for ACC                    081
             \"2460813579\"                                        8        0000 0101   Yes                                   246        No             No
                                                                            0000 0000   No, except for ACC                    081
             \"2460813579\"                                        9        0000 0110   Yes                                   246        No             No
                                                                            0000 0000   No, except for ACC                    081
Test (d) \"2460813579\" 0 0000 0000 No 246 No Yes 0000 0001 None, except for
ACC 081
             \"2460813579\"                                        1        0000 0000   No                                    246        No             Yes
                                                                            0000 0010   None, except for ACC                  081
             \"2460813579\"                                        2        0000 0000   No                                    246        No             Yes
                                                                            0000 0100   None, except for ACC                  081
             \"2460813579\"                                        3        0000 0000   No                                    246        No             Yes
                                                                            0000 1000   None, except for ACC                  081
             \"2460813579\"                                        4        0000 0000   No                                    246        No             Yes
                                                                            0001 0000   None, except for ACC                  081
             \"2460813579\"                                        5        0000 0000   No                                    246        No             Yes
                                                                            0010 0000   None, except for ACC                  081
             \"2460813579\"                                        6        0000 0000   No                                    246        No             Yes
                                                                            0100 0000   None, except for ACC                  081
             \"2460813579\"                                        7        0000 0000   No                                    246        No             Yes
                                                                            1000 0000   None, except for ACC                  081
             \"2460813579\"                                        8        0000 0001   No                                    246        No             Yes
                                                                            0000 0000   None, except for ACC                  081
             \"2460813579\"                                        9        0000 0010   No                                    246        No             Yes
                                                                            0000 0000   None, except for ACC                  081
Test (e) \"2460813579\" 0 1111 1011 No 246 Yes Yes 1111 1110 All, except ACC
on USIM 081
             \"2460813579\"                                        1        1111 1011   No                                    246        Yes            Yes
                                                                            1111 1101   All, except ACC on USIM               081
             \"2460813579\"                                        2        1111 1011   No                                    246        Yes            Yes
                                                                            1111 1011   All, except ACC on USIM               081
             \"2460813579\"                                        3        1111 1011   No                                    246        Yes            Yes
                                                                            1111 0111   All, except ACC on USIM               081
             \"2460813579\"                                        4        1111 1011   No                                    246        Yes            Yes
                                                                            1110 1111   All, except ACC on USIM               081
             \"2460813579\"                                        5        1111 1011   No                                    246        Yes            Yes
                                                                            1101 1111   All, except ACC on USIM               081
             \"2460813579\"                                        6        1111 1011   No                                    246        Yes            Yes
                                                                            1011 1111   All, except ACC on USIM               081
             \"2406813579\"                                        7        1111 1011   No                                    246        Yes            Yes
                                                                            0111 1111   All, except ACC on USIM               081
             \"2460813579\"                                        8        1111 1010   No                                    246        Yes            Yes
                                                                            1111 1111   All, except ACC on USIM               081
             \"2460813579\"                                        9        1111 1001   No                                    246        Yes            Yes
                                                                            1111 1111   All, except ACC on USIM               081
Test (f) \"24608135x9\" 11 & x 0000 0111 Yes 246 No No 1111 1111 All, except
ACC greater than 11 082
             \"                                                    11 & x   0000 0011   No                                    246        No             Yes
                                                                            1111 1111   All, except ACC greater than 11       082
             \"                                                    11 & x   0000 0000   No                                    246        Yes            Yes
                                                                            0000 0000   None                                  082
             \"24608135x9\"                                        12 & x   0000 0111   Yes                                   244        No             No
                                                                            1111 1111   All, except ACC greater than 11       001
             \"                                                    12 & x   0000 0011   No                                    244        No             Yes
                                                                            1111 1111   All, except ACC greater than 11       001
             \"                                                    12 & x   0000 0000   No                                    244        Yes            Yes
                                                                            0000 0000   None                                  001
             \"24608135x9\"                                        13 & x   0000 0111   Yes                                   244        No             No
                                                                            1111 1111   All, except ACC greater than 11       001
             \"                                                    13 & x   0000 0011   No                                    244        No             Yes
                                                                            1111 1111   All, except ACC greater than 11       001
             \"                                                    13 & x   0000 0000   No                                    244        Yes            Yes
                                                                            0000 0000   None                                  001
             \"24608135x9\"                                        14 & x   0000 0111   Yes                                   244        No             No
                                                                            1111 1111   All, except ACC greater than 11       001
             \"                                                    14 & x   0000 0011   No                                    244        No             Yes
                                                                            1111 1111   All, except ACC greater than 11       001
             \"                                                    14 & x   0000 0000   No                                    244        Yes            Yes
                                                                            0000 0000   None                                  001
             \"24608135x9\"                                        15 & x   0000 0111   Yes                                   246        No             No
                                                                            1111 1111   All, except ACC greater than 11       082
             \"                                                    15 & x   0000 0011   No                                    246        No             Yes
                                                                            1111 1111   All, except ACC greater than 11       082
             \"                                                    15 & x   0000 0000   No                                    246        Yes            Yes
             Set \"x\" to an arbitrary value in the range 0 to 9            0000 0000   None                                  082
Test (g) \"2460813579\" 11 & x 0000 1111 Yes 246 No No 1111 1111 All normal
ACC and ACC on USIM 081
             \"                                                    11 & x   0000 1011   No                                    246        No             Yes
                                                                            1111 1111   All normal ACC and ACC on USIM        081
             \"2460813579\"                                        12 & x   0001 0111   Yes                                   246        No             No
                                                                            1111 1111   All normal ACC and ACC on USIM        082
             \"                                                    12 & x   0001 0011   No                                    246        No             Yes
                                                                            1111 1111   All normal ACC and ACC on USIM        082
             \"2460813579\"                                        13 & x   0010 0111   Yes                                   246        No             No
                                                                            1111 1111   All normal ACC and ACC on USIM        082
             \"                                                    13 & x   0010 0011   No                                    246        No             Yes
                                                                            1111 1111   All normal ACC and ACC on USIM        082
             \"2460813579\"                                        14 & x   0100 0111   Yes                                   246        No             No
                                                                            1111 1111   All normal ACC and ACC on USIM        082
             \"                                                    14 & x   0100 0011   No                                    246        No             Yes
                                                                            1111 1111   All normal ACC and ACC on USIM        082
             \"2460813579\"                                        15 & x   1000 0111   Yes                                   246        No             No
                                                                            1111 1111   All normal ACC and ACC on USIM        081
             \"                                                    15 & x   1000 0011   No                                    246        No             Yes
             Set \"x\" to an arbitrary value in the range 0 to 9            1111 1111   All normal ACC and ACC on USIM        081
Test (h) \"2460813579\" 11 & x 1111 0011 No 246 Yes Yes 1111 1111 All, except
\"special\" ACC on USIM 081
             \"                                                    11 & x   1111 0111   Yes                                   246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   081
             \"2460813579\"                                        12 & x   1110 1011   No                                    246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   082
             \"                                                    12 & x   1110 1111   Yes                                   246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   082
             \"2460813579\"                                        13 & x   1101 1011   No                                    246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   082
             \"                                                    13 & x   1101 1111   Yes                                   246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   082
             \"2460813579\"                                        14 & x   1011 1011   No                                    246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   082
             \"                                                    14 & x   1011 1111   Yes                                   246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   082
             \"2460813579\"                                        15 & x   0111 1011   No                                    246        Yes            Yes
                                                                            1111 1111   All, except \"special\" ACC on USIM   081
             \"                                                    15 & x   0111 1111   Yes                                   246        Yes            Yes
             Set \"x\" to an arbitrary value in the range 0 to 9            1111 1111   All, except \"special\" ACC on USIM   081
* * *
NOTE: UE adopts Access Class 0-9, based on IMSI, see TS 22.011 [6].
Access Class in USIM, See TS 31.102 [4], EF ACC, \"6F 78\".
Ecs: Emergency Calls.
EC Bit: In case of GERAN:
> Bit 3 of Octet 3 of RACH Control Parameters, See TS 44.018 Section
> 10.5.2.29.
>
> In case of UTRAN
>
> Access Class 10 defined in TS 22.011 clause 4.4.
AC Bit: See Access Class Barred List defined in TS 25.331 clause 10.3.2.1.
HPLMN: Country means that the MCC of the VPLMN is the same as the MCC of the
HPLMN.
Figure 5-1: Access control information
### 5.2.2 Access Control information handling for E-UTRAN/EPC
#### 5.2.2.1 Definition and applicability
Access Control allows restriction of EPS bearer context activation access
attempts. All User Equipments are assigned to one out of ten randomly
allocated classes, and optionally (for priority uses) also to one or more
special categories.
An Access Class of the special categories is only valid in the HPLMN or HPLMN
country. Otherwise, the randomly allocated class is used.
The classes are programmed on the USIM. The network controls which classes at
any time may be barred.
Emergency call handling is FFS.
#### 5.2.2.2 Conformance requirement
> 1\. The Terminal shall read the access control value as part of the USIM-
> Terminal initialisation procedure, and subsequently adopt this value.
Reference:
\- TS 31.102 [4], subclause 5.1.1.
> 2\. If the UE is a member of at least one access class which corresponds to
> the permitted classes as signalled over the air interface, and the access
> class is applicable in the serving network,access attempts are allowed .
> Otherwise access attempts are not allowed.
>
> All options are shown in figure 5-2 and are referenced to the tests.
Reference:
\- TS 22.011 [6], subclauses 4.3 and 4.4,
\- TS 24.301 [26], subclause 5.5.1.2.6,
#### 5.2.2.3 Test purpose
1) To verify that the Terminal reads the access control value as part of the
USIM-Terminal initialisation procedure, and subsequently adopts this value.
2) To verify that the UE controls its network access in accordance with its
access control class and the conditions imposed by the serving network.
The tests verify Terminal performance for the following:
Tests (a) to (b) UE with access class 0 to 9.
Test (c) UE with access class 11 and 15 not in HPLMN, and
UE with access class 12,13 and 14 not in HPLMN country.
Test (d) and (e) UE with access class 11 and 15 in HPLMN, and
UE with access class 12,13 and 14 in HPLMN country.
Each of the above are tested against all relevant combinations of access
control bits signalled by the network, as shown in table 5-2.
#### 5.2.2.4 Method of test
##### 5.2.2.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): MCC, MNC: see table 5-2, TAC=\"0001\".
\- Access control: see table 5-2.
The default UICC is installed in the Terminal containing IMSI and access
control values as given in table 5-2 and the UE is powered on.
NOTE: Depending on the initial value of the EF~EPSLOCI~, the UE may perform a
location update. This shall be accepted by the E-USS.
##### 5.2.2.4.2 Coding details
EF~IMSI~: Data Field \"6F 07\"
Logically: IMSI: \"2460813579\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 75 F9 FF FF
* * *
Logically: IMSI: \"24608135x9\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 x5 F9 FF FF
* * *
Access Control class EF~ACC~: Data field \"6F 78\"
Reference:
  * See TS 31.102 [4].
NETWORK (E-USS)
ac-BarringInfo in SystemInformationBlockType2 should be set as in table 5-2:
Reference
  * TS 36.331 clause 6.3.1
##### 5.2.2.4.3 Procedure
a) The terminal is switched on and performs registration if access is allowed
for signalling according to table 5-2.
b) Using the MMI or EMMI a normal EPS bearer context setup is attempted if
required by the test.
c) The test is repeated for each set of values in table 5-2.
#### 5.2.2.5 Acceptance criteria
After step a) the UE shall access the network, or shall make no access
attempt, in accordance with table 5-2.
In case in tables 5-2 the cell is indicated as
barred = yes, in these sub-sequences, the UE shall not establish a connection
barred = no, the UE shall establish a connection.
NOTE 1: For conformance testing, to limit testing, in tests (a), (b) and (c)
it is only necessary that one of the access classes is tested. This access
class may be chosen randomly.
Table 5-2
+---------+---------+---------+---------+---------+---------+---------+ | | USIM | | | Network | | | +---------+---------+---------+---------+---------+---------+---------+ | | IMSI | Access | SI | Cell | MCC MNC | Cell | | | | class: | BType2: | barred | for | barred | | | | | | for | B | for | | | | | ac-Barr | ATTACH | CCH/LAI | second | | | | | ingInfo | and | | (non-d | | | | | | Default | | efault) | | | | | | EPS | | EPS | | | | | | bearer | | bearer | | | | | | context | | context | | | | | | acti | | setup: | | | | | | vation: | | | +---------+---------+---------+---------+---------+---------+---------+ | Test | \"24608 | 0 | **S | | 246 | Yes | | (a) | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 1 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 2 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 3 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 4 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 5 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 6 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 7 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 8 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 9 | **S | | 246 | Yes | | | 13579\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | Test | \"24608 | 0 | **S | | 246 | No | | (b) | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 1 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 2 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 3 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 4 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 5 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 6 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 7 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 8 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 9 | **S | | 246 | No | | | 13579\" | | IBType2 | | | | | | | | _B01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | Test | \"24608 | 11 & x | **S | No | 246 | Yes | | (c) | 135x9\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 11 & x | **SIBTy | No | 246 | Yes | | | | | pe2_C1 | | | | | | | | 1_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 11 & x | **SIBTy | Yes | 246 | N/A\ | | | | | pe2_C1 | | | (no | | | | | 1_02** | | | regis | | | | | | | | tration | | | | | | | | p | | | | | | | | ossible | | | | | | | | as | | | | | | | | initial | | | | | | | | con | | | | | | | | dition) | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 12 & x | **S | | 244 | Yes | | | 135x9\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | No | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 12 & x | **SIBTy | No | 244 | Yes | | | | | pe2_C1 | | | | | | | | 2_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 12 & x | **SIBTy | Yes | 244 | N/A\ | | | | | pe2_C1 | | | (no | | | | | 2_02** | | | regis | | | | | | | | tration | | | | | | | | p | | | | | | | | ossible | | | | | | | | as | | | | | | | | initial | | | | | | | | con | | | | | | | | dition) | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 13 & x | **S | No | 244 | Yes | | | 135x9\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 13 & x | **SIBTy | No | 244 | Yes | | | | | pe2_C1 | | | | | | | | 3_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 13 & x | **SIBTy | Yes | 244 | N/A\ | | | | | pe2_C1 | | | (no | | | | | 3_02** | | | regis | | | | | | | | tration | | | | | | | | p | | | | | | | | ossible | | | | | | | | as | | | | | | | | initial | | | | | | | | con | | | | | | | | dition) | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 14 & x | **S | No | 244 | Yes | | | 135x9\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 14 & x | **SIBTy | No | 244 | Yes | | | | | pe2_C1 | | | | | | | | 4_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 14 & x | **SIBTy | Yes | 244 | N/A\ | | | | | pe2_C1 | | | (no | | | | | 4_02** | | | regis | | | | | | | | tration | | | | | | | | p | | | | | | | | ossible | | | | | | | | as | | | | | | | | initial | | | | | | | | con | | | | | | | | dition) | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 001 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 15 & x | **S | No | 246 | Yes | | | 135x9\" | | IBType2 | | | | | | | | _A01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 15 & x | **SIBTy | No | 246 | Yes | | | | | pe2_C1 | | | | | | | | 5_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 15 & x | **SIBTy | Yes | 246 | N/A\ | | | | | pe2_C1 | | | (no | | | | | 5_02** | | | regis | | | | | | | | tration | | | | | | | | p | | | | | | | | ossible | | | | | | | | as | | | | | | | | initial | | | | | | | | con | | | | | | | | dition) | +---------+---------+---------+---------+---------+---------+---------+ | | Set | | | | 082 | | | | \"x\" | | | | | | | | to an | | | | | | | | ar | | | | | | | | bitrary | | | | | | | | value | | | | | | | | in the | | | | | | | | range 0 | | | | | | | | to 9 | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Test | \"24608 | 11 & x | **SIBTy | No | 246 | Yes | | (d) | 13579\" | | pe2_C1 | | | | | | | | 1_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 11 & x | **SIBTy | Yes | 246 | N/A | | | | | pe2_C1 | | | | | | | | 1_02** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 12 & x | **SIBTy | No | 246 | Yes | | | 13579\" | | pe2_C1 | | | | | | | | 2_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 12 & x | **SIBTy | Yes | 246 | N/A | | | | | pe2_C1 | | | | | | | | 2_02** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 13 & x | **SIBTy | No | 246 | Yes | | | 13579\" | | pe2_C1 | | | | | | | | 3_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 13 & x | **SIBTy | Yes | 246 | N/A | | | | | pe2_C1 | | | | | | | | 3_02** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 14 & x | **SIBTy | No | 246 | Yes | | | 13579\" | | pe2_C1 | | | | | | | | 4_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 14 & x | **SIBTy | Yes | 246 | N/A | | | | | pe2_C1 | | | | | | | | 4_02** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 15 & x | **SIBTy | No | 246 | Yes | | | 13579\" | | pe2_C1 | | | | | | | | 5_01** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \" | 15 & x | **SIBTy | Yes | 246 | N/A | | | | | pe2_C1 | | | | | | | | 5_02** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | Set | | | | 081 | | | | \"x\" | | | | | | | | to an | | | | | | | | ar | | | | | | | | bitrary | | | | | | | | value | | | | | | | | in the | | | | | | | | range 0 | | | | | | | | to 9 | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Test | \"24608 | 11 & x | **SIBTy | No | 246 | No | | (e) | 13579\" | | pe2_C1 | | | | | | | | 1_03** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 081 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 12 & x | **SIBTy | No | 246 | No | | | 13579\" | | pe2_C1 | | | | | | | | 2_03** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 13 & x | **SIBTy | No | 246 | No | | | 13579\" | | pe2_C1 | | | | | | | | 3_03** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 14 & x | **SIBTy | No | 246 | No | | | 13579\" | | pe2_C1 | | | | | | | | 4_03** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | 082 | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | \"24608 | 15 & x | **SIBTy | No | 246 | No | | | 13579\" | | pe2_C1 | | | | | | | | 5_03** | | | | +---------+---------+---------+---------+---------+---------+---------+ | | Set | | | | 081 | | | | \"x\" | | | | | | | | to an | | | | | | | | ar | | | | | | | | bitrary | | | | | | | | value | | | | | | | | in the | | | | | | | | range 0 | | | | | | | | to 9 | | | | | | +---------+---------+---------+---------+---------+---------+---------+
##### **Specific message contents for Table 5-2** {#specific-message-contents-
for-table-5-2 .H6}
_SystemInformationBlockType2_ configuration SIBType2_A01
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00000\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration **SIBType2_B01**
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType2 ::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data Not present  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C11_01
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'10000\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C11_02
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'10000\'B  
}  
ac-BarringForMO-Data Not present  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C11_03
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'01111\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C12_01
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'01000\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C12_02
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'01000\'B  
}  
ac-BarringForMO-Data Not present  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C12_03
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'10111\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C13_01
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00100\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C13_02
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00100\'B  
}  
ac-BarringForMO-Data Not present  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C13_03
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'11011\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C14_01
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00010\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C14_02
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00010\'B  
}  
ac-BarringForMO-Data Not present  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C14_03
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'11101\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C15_01
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00001\'B  
}  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C15_02
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'00001\'B  
}  
ac-BarringForMO-Data Not present  
}  
}
* * *
_SystemInformationBlockType2_ configuration SIBType2_C15_03
* * *
Derivation Path: 36.508, Table 4.4.3.3-1  
Information Element Value/remark Comment Condition SystemInformationBlockType2
::= SEQUENCE {  
ac-BarringInfo SEQUENCE {  
ac-BarringForEmergency FALSE  
ac-BarringForMO-Signalling Not present  
ac-BarringForMO-Data SEQUENCE {  
ac-BarringFactor p00  
ac-BarringTime s512  
ac-BarringForSpecialAC \'11110\'B  
}  
}  
}
* * *
> _Editor\'s note: the flow chart is currently for information only and has to
> be updated to be in line with 36.331, this is TBD._
NOTE: UE adopts Access Class 0-9, based on IMSI, see TS 22.011 [6].
Access Class in USIM, See TS 31.102 [4], EF ACC, \"6F 78\".
ECs: Emergency Calls.
EC Bit: see description in 36.331, clause 6.3.1
> Access Class 10 defined in TS 22.011 clause 4.4.
AC Bit: see description in 36.331, clause 6.3.1.
HPLMN: Country means that the MCC of the VPLMN is the same as the MCC of the
HPLMN.
Figure 5-2: Access control information
5.2.3 Access Control information handling for NB-IoT
5.2.3.1 Definition and applicability
Access Control allows restriction on RRC connection establishment attempts.
All User Equipments are assigned to one out of ten randomly allocated classes,
and optionally (for priority uses) also to one or more special categories.
An Access Class of the special categories is only valid in the HPLMN or HPLMN
country. Otherwise, the randomly allocated class is used.
The classes are programmed on the USIM. The network controls which classes at
any time may be barred.
5.2.3.2 Conformance requirement
> 1\. The Terminal shall read the access control value as part of the USIM-
> Terminal initialisation procedure, and subsequently adopt this value.
Reference:
> \- TS 31.102 [4], subclause 5.1.1.
>
> 2\. If the UE is a member of at least one access class which corresponds to
> the permitted classes as signalled over the air interface, and the access
> class is applicable in the serving network,access attempts are allowed .
> Otherwise access attempts are not allowed.
Reference:
> \- TS 22.011 [6], subclauses 4.3 and 4.4,
>
> \- TS 24.301 [26], subclause 5.5.1.2.6,
5.2.3.3 Test purpose
> 1) To verify that the Terminal reads the access control value as part of the
> USIM-Terminal initialisation procedure, and subsequently adopts this value.
>
> 2) To verify that the UE controls its network access in accordance with its
> access control class and the conditions imposed by the serving network.
The tests verify Terminal performance for the following:
> Tests (a) to (b) UE with access class 0 to 9.
>
> Test (c) UE with access class 11 and 15 not in HPLMN, and
>
> UE with access class 12,13 and 14 not in HPLMN country.
>
> Test (d) and (e) UE with access class 11 and 15 in HPLMN, and
>
> UE with access class 12,13 and 14 in HPLMN country.
Each of the above are tested against all relevant combinations of access
control bits signalled by the network, as shown in table 5-3.
5.2.3.4 Method of test
5.2.3.4.1 Initial conditions
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): MCC, MNC: see table 5-3, TAC=\"0001\".
>
> \- Access control: see table 5-3.
The default UICC is installed in the Terminal containing IMSI and access
control values as given in table 5-3 and the UE is powered on.
> NOTE: Depending on the initial value of the EF~EPSLOCI~, the UE may perform
> a location update. This shall be accepted by the NB-SS.
5.2.3.4.2 Coding details
EF~IMSI~: Data Field \"6F 07\"
> Logically: IMSI: \"2460813579\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 75 F9 FF FF
* * *
> Logically: IMSI: \"24608135x9\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 06 21 64 80 31 x5 F9 FF FF
* * *
Access Control class EF~ACC~: Data field \"6F 78\"
Reference:
  * See TS 31.102 [4].
NETWORK (NB-SS)
_ab-Enabled_ included in _MasterInformationBlock-NB_ is set to _TRUE_ and in
_SystemInformationBlockType14-NB_ should be set as in table 5-3.
Reference
  * TS 36.331 clause 6.7.3.1.
5.2.3.4.3 Procedure
> a) The terminal is switched on and performs registration if access is
> allowed for signalling according to table 5-3.
>
> b) The test is repeated for each set of values in table 5-3.
5.2.3.5 Acceptance criteria
After step a) the UE shall access the network, or shall make no access
attempt, in accordance with table 5-3.
In case in tables 5-3 the cell is indicated as
> barred = yes, in these sub-sequences, the UE shall not establish a
> connection
>
> barred = no, the UE shall establish a connection.
>
> NOTE 1: For conformance testing, to limit testing, in tests (a), (b) and (c)
> it is only necessary that one of the access classes is tested. This access
> class may be chosen randomly.
**Table 5-3**
+----------+----------+--------+----------+----------+----------+ | | **USIM** | | **N | | | | | | | etwork** | | | +----------+----------+--------+----------+----------+----------+ | | **IMSI** | **AC** | * | **Cell |** MCC | | | | | _SIBType | barred | MNC for | | | | | 14-NB:__| for RRC | BC | | | | | | co | CH/LAI_ _| | | | |__\ | nnection | | | | | | ac | estab | | | | | | -Param_ _| lishment | | | | | | | / resume | | | | | | | :__| | +----------+----------+--------+----------+----------+----------+ | Test (a) | \"2460 | 0 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A00_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 1 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 2 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A02_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 3 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A03_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 4 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A04_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 5 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A05_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 6 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A06_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 7 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A07_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 8 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A08_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 9 |__SIB | Yes | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_A09_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | Test (b) | \"2460 | 0 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 1 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 2 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 3 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 4 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 5 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 6 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 7 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 8 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 9 |__SIB | No | 246 081 | | | 813579\" | | Type14-N | | | | | | | B_B01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | Test (c) | \"2460 | 11 & 2 | * | Yes | 246 082 | | | 8135x9\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 11_01**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \" | 11 & 2 | * | Yes | 246 082 | | | | | *SIBType | | | | | | | 14-NB_C | | | | | | | 11_02** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 12 & 5 | * | Yes | 244 001 | | | 8135x9\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 12_01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \" | 12 & 5 | * | Yes | 244 001 | | | | | _SIBType | | | | | | | 14-NB_C | | | | | | | 12_02**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 13 & 4 | * | Yes | 244 001 | | | 8135x9\" | | *SIBType | | | | | | | 14-NB_C | | | | | | | 13_01** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \" | 13 & 4 | * | Yes | 244 001 | | | | | _SIBType | | | | | | | 14-NB_C | | | | | | | 13_02_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 14 & 9 | * | Yes | 244 001 | | | 8135x9\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 14_01**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \" | 14 & 9 | * | Yes | 244 001 | | | | | *SIBType | | | | | | | 14-NB_C | | | | | | | 14_02** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 15 & 0 | * | Yes | 246 082 | | | 8135x9\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 15_01_ _| | | +----------+----------+--------+----------+----------+----------+ | | \" | 15 & 0 | * | Yes | 246 082 | | | | | _SIBType | | | | | | | 14-NB_C | | | | | | | 15_02**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | Test (d) | \"2460 | 11 & 2 | * | Yes | 246 081 | | | 813579\" | | *SIBType | | | | | | | 14-NB_C | | | | | | | 11_01** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 12 & 5 | * | Yes | 246 082 | | | 813579\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 12_01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 13 & 4 | * | Yes | 246 082 | | | 813579\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 13_01**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 14 & 9 | * | Yes | 246 082 | | | 813579\" | | *SIBType | | | | | | | 14-NB_C | | | | | | | 14_01** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 15 & 0 | * | Yes | 246 081 | | | 813579\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 15_01_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | Test (e) | \"2460 | 11 & 2 | * | No | 246 081 | | | 813579\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 11_03**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 12 & 5 | * | No | 246 082 | | | 813579\" | | *SIBType | | | | | | | 14-NB_C | | | | | | | 12_03** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 13 & 4 | * | No | 246 082 | | | 813579\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 13_03_ _| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 14 & 9 | * | No | 246 082 | | | 813579\" | | _SIBType | | | | | | | 14-NB_C | | | | | | | 14_03**| | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+ | | \"2460 | 15 & 0 | * | No | 246 081 | | | 813579\" | | *SIBType | | | | | | | 14-NB_C | | | | | | | 15_03** | | | +----------+----------+--------+----------+----------+----------+ | | | | | | | +----------+----------+--------+----------+----------+----------+
**Specific message contents for Table 5-3**
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A00***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'1000000000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0100000000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A02***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0010000000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A03***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0001000000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A04***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000100000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A05***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000010000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A06***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000001000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A07***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000000100\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A08***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000000010\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_A09***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000000001\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_B01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000000000\'B  
ab-BarringExceptionData-r13 Not present  
ab-BarringForSpecialAC-r13 \'00000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C11_01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0010000000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'10000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C11_02***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 b  
ab-BarringBitmap-r13 \'0010000000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'10000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C11_03***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0010000000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'01111\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C12_01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000010000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'01000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C12_02***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 b  
ab-BarringBitmap-r13 \'0000010000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'01000\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C12_03***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000010000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'10111\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C13_01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000100000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'00100\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C13_02***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 b  
ab-BarringBitmap-r13 \'0000100000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'00100\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C13_03***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000100000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'11011\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C14_01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000000001\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'00010\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C14_02***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 b  
ab-BarringBitmap-r13 \'0000000001\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'00010\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C14_03***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'0000000001\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'11101\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C15_01***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'1000000000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'00001\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C15_02***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 b  
ab-BarringBitmap-r13 \'1000000000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'00001\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
**_SystemInformationBlockType14-NB_ *configuration SIBType14-NB_C15_03***
* * *
Derivation Path: 36.508 Table 8.1.4.3.3-5  
**Information Element** **Value/remark** **Comment** **Condition**
SystemInformationBlockType14-NB-r13 ::= SEQUENCE {  
ab-Param-r13 CHOICE {  
ab-Common-r13 SEQUENCE {  
ab-Category-r13 a  
ab-BarringBitmap-r13 \'1000000000\'B  
ab-BarringExceptionData-r13 FALSE  
ab-BarringForSpecialAC-r13 \'11110\'B  
}  
}  
lateNonCriticalExtension Not present  
}
* * *
# 6 Security related Tests
## 6.1 PIN handling
### 6.1.1 Entry of PIN
#### 6.1.1.1 Definition and applicability
The PIN is a number used to authenticate the user to the UICC for security.
Entry of the correct PIN allows PIN-protected data to be accessed over the
UICC-Terminal interface.
#### 6.1.1.2 Conformance requirement
Following insertion of the UICC and switching on the UE, the Terminal shall
check the state of the PIN. If the PIN is enabled, the Terminal asks the user
for PIN verification.
The VERIFY PIN function verifies the PIN presented by the Terminal to the
UICC.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.9;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.1.
#### 6.1.1.3 Test purpose
1) To verify that the PIN verification procedure is performed by the Terminal
correctly.
2) To verify that the basic public MMI string is supported.
#### 6.1.1.4 Method of test
##### 6.1.1.4.1 Initial conditions
The Terminal is connected to a UICC or UICC simulator with the PIN enabled,
and powered off.
The default UICC is used.
##### 6.1.1.4.2 Procedure
a) The Terminal is powered on.
b) When the UE is in the \"PIN check\" mode, the sequence \"2468#\" shall be
entered.
#### 6.1.1.5 Acceptance criteria
1) After step b) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"01\".
2) After step b) the UE shall give an indication \"OK\", following a
successful execution of the command.
### 6.1.2 Change of PIN
#### 6.1.2.1 Definition and applicability
The PIN may be changed by the user, by entering the old and new PIN. The
length of the PIN is between 4 and 8 digits.
#### 6.1.2.2 Conformance requirement
The Terminal shall support the change of PIN procedure as defined in ETSI TS
102 221 [5], subclause 11.1.10.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.10;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.2.
#### 6.1.2.3 Test purpose
1) To verify that the PIN substitution procedure is performed correctly by the
Terminal.
2) To verify that the basic public MMI string is supported.
#### 6.1.2.4 Method of test
##### 6.1.2.4.1 Initial conditions
The Terminal is connected to a UICC or UICC simulator with the PIN enabled.
The default UICC is used.
The Terminal is powered-on, with the correct PIN entered.
##### 6.1.2.4.2 Procedure
a) Enter \"**04*2468*01234567*01234567#\" or initiate an equivalent MMI
dependent procedure to change the PIN from \'2468\' to \'01234567\'.
b) The UE is switched off and on.
c) When the UE is in the \"PIN check\" mode, the sequence \"2468#\" shall be
entered.
d) The UE is switched off and on.
e) When the UE is in the \"PIN-check\", mode the sequence \"01234567#\" shall
be entered.
#### 6.1.2.5 Acceptance criteria
1) After step a), the Terminal shall send a CHANGE PIN command to the UICC,
with the parameter P2 set to \"01\".
2) Following the successful execution of the command, the UE shall give an
indication that the new PIN is accepted.
3) After step c), the UE shall give an indication that the entered PIN is not
accepted.
4) After step e), the UE shall give an indication \"OK\".
### 6.1.3 Unblock PIN
#### 6.1.3.1 Definition and applicability
After three consecutive wrong entries of the PIN, the PIN shall become
blocked. The Unblock PIN command is used to unblock the PIN. This function may
be performed whether or not the PIN is blocked.
#### 6.1.3.2 Conformance requirement
The Terminal shall support the Unblock PIN command, as defined in ETSI TS 102
221 [5], subclause 11.1.13.
Reference:
\- ETSI TS 102 221 [5], subclause 11.1.13;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.3.
#### 6.1.3.3 Test purpose
1) To verify that the PIN unblocking procedure is performed correctly.
2) To verify that the basic public MMI string is supported.
#### 6.1.3.4 Method of test
##### 6.1.3.4.1 Initial conditions
The Terminal is connected to the UICC simulator.
The default UICC is used.
##### 6.1.3.4.2 Procedure
Sequence A:
a) The Terminal is powered on and the correct PIN is entered.
b) Enter \"**05*13243546*1234*1234#\"
c) The Terminal is powered off and on.
d) Enter the new PIN: \"1234#\".
e) The Terminal is powered off and on.
f) Enter a wrong PIN three times.
g) Enter \"**05*13243546*2468*2468#\".
h) The Terminal is powered off and on.
i) Enter the new PIN: \"2468#\".
Sequence B:
a) The Terminal is powered on.
b) Enter a wrong PIN three times.
c) The user shall initiate a MMI dependent procedure to unblock the PIN with
unblock code \'13243546\' and a new PIN \'2468\'.
d) The Terminal is powered off and on.
e) Enter the new PIN: \"2468#\".
#### 6.1.3.5 Acceptance criteria
Sequence A:
1) After step b), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"01\".
2) After step d), the Terminal shall indicate that the PIN has been accepted.
3) After step f), the Terminal shall indicate that the PIN has been blocked.
4) After step g), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"01\".
5) After step i), the Terminal shall indicate that the PIN has been accepted.
Sequence B:
1) After step b), the Terminal shall indicate that the PIN has been blocked.
2) After step c), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"01\".
3) After step e), the Terminal shall indicate that the PIN has been accepted.
### 6.1.4 Entry of PIN2
#### 6.1.4.1 Definition and applicability
The PIN2 is a number used to authenticate the user to the UICC for security.
Entry of the correct PIN2 allows PIN2‑protected data to be accessed over the
UICC-Terminal interface.
#### 6.1.4.2 Conformance requirement
Before allowing the access to PIN2 protected data, the Terminal shall ask the
user for PIN2 verification. Only after presenting the PIN2, the user shall get
access to these data.
The VERIFY PIN function verifies the PIN2 presented by the Terminal to the
UICC.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.9;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.1.
#### 6.1.4.3 Test purpose
1) To verify that the PIN2 verification procedure is performed by the Terminal
correctly.
2) To verify that the basic public MMI string is supported.
#### 6.1.4.4 Method of test
##### 6.1.4.4.1 Initial conditions
The Terminal is connected to a UICC or UICC simulator with the PIN enabled,
and powered off.
The default UICC is used.
NOTE: To perform the UPDATE FDN data (as described in the procedure below),
the default FDN UICC may be used.
##### 6.1.4.4.2 Procedure
a) The Terminal is powered on and the correct PIN is entered.
b) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN)
c) When the UE is in the \"PIN2 check\" mode, the sequence \"3579#\" shall be
entered.
#### 6.1.4.5 Acceptance criteria
1) After step c) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"81\".
2) After step c) the UE shall give an indication \"OK\", following a
successful execution of the command.
### 6.1.5 Change of PIN2
#### 6.1.5.1 Definition and applicability
The PIN2 may be changed by the user, by entering the old and new PIN2. The
length of the PIN2 is between 4 and 8 digits.
#### 6.1.5.2 Conformance requirement
The Terminal shall support the change of PIN2 procedure as defined in ETSI TS
102 221 [5], subclause 11.1.10.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.10;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.2.
#### 6.1.5.3 Test purpose
1) To verify that the PIN2 substitution procedure is performed correctly by
the Terminal.
2) To verify that the basic public MMI string is supported.
#### 6.1.5.4 Method of test
##### 6.1.5.4.1 Initial conditions
The Terminal is connected to a UICC or UICC simulator with the PIN2 enabled.
The default UICC is used.
NOTE: To perform the UPDATE FDN data (as described in the procedure below),
the default FDN UICC may be used.
The Terminal is powered-on, with the correct PIN entered.
##### 6.1.5.4.2 Procedure
a) Enter \"**042*3579*12345678*12345678#\" or initiate an equivalent MMI
dependent procedure to change PIN2 from \'3579\' to \'12345678\'.
b) The UE is switched off and on and the correct PIN is entered.
c) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
d) When the UE is in the \"PIN2 check\" mode, the sequence \"3579#\" shall be
entered.
e) The UE is switched off and on and the correct PIN is entered.
f) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
g) When the UE is in the \"PIN2 check\", mode the sequence \"12345678#\" shall
be entered.
#### 6.1.5.5 Acceptance criteria
1) After step a), the Terminal shall send a CHANGE PIN2 command to the UICC,
with the parameter P2 set to \"81\".
2) Following the successful execution of the command, the UE shall give an
indication that the new PIN2 is accepted.
3) After step d), the UE shall give an indication that the entered PIN2 is not
accepted.
4) After step g), the UE shall give an indication \"OK\".
### 6.1.6 Unblock PIN2
#### 6.1.6.1 Definition and applicability
After three consecutive wrong entries of the PIN2, the PIN2 shall become
blocked. The Unblock PIN2 command is used to unblock the PIN2. This function
may be performed whether or not the PIN2 is blocked.
#### 6.1.6.2 Conformance requirement
The Terminal shall support the Unblock PIN2 command, as defined in ETSI TS 102
221 [5], subclause 11.1.13.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.13;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.3.
#### 6.1.6.3 Test purpose
1) To verify that the PIN2 unblocking procedure is performed correctly.
2) To verify that the basic public MMI string is supported.
#### 6.1.6.4 Method of test
##### 6.1.6.4.1 Initial conditions
The Terminal is connected to the UICC simulator.
The default UICC is used.
NOTE: To perform the UPDATE FDN data (as described in the procedure below),
the default FDN UICC may be used.
##### 6.1.6.4.2 Procedure
Sequence A:
a) The Terminal is powered on and the correct PIN is entered.
b) Enter \"**052*08978675*1234*1234#\"
c) The Terminal is powered off and on and the correct PIN is entered.
d) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
e) Enter the new PIN2: \"1234#\".
f) The Terminal is powered off and on and the correct PIN is entered.
g) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
h) Enter a wrong PIN2 three times.
i) Enter \"**052*08978675*3579*3579#\".
j) The Terminal is powered off and on and the correct PIN is entered.
k) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
l) Enter the new PIN2: \"3579#\".
Sequence B:
a) The Terminal is powered on.
b) Enter a wrong PIN2 three times.
c) The user shall initiate a MMI dependent procedure to unblock the PIN2 with
unblock code \'08978675\' and a new PIN \'3579\'.
d) The Terminal is powered off and on and the correct PIN is entered.
e) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
f) Enter the new PIN2: \"3579#\".
#### 6.1.6.5 Acceptance criterias
Sequence A:
1) After step b), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"81\".
2) After step e), the Terminal shall indicate that the PIN2 has been accepted.
3) After step h), the Terminal shall indicate that the PIN2 has been blocked.
4) After step i), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"81\".
5) After step l), the Terminal shall indicate that the PIN2 has been accepted.
Sequence B:
1) After step b), the Terminal shall indicate that the PIN2 has been blocked.
2) After step c), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"81\".
3) After step f), the Terminal shall indicate that the PIN2 has been accepted.
### 6.1.7 Replacement of PIN
#### 6.1.7.1 Definition and applicability
The Universal PIN may be used to replace a PIN used to authenticate the user
to the UICC for security. In this case entry of the correct Universal PIN
allows PIN-protected data to be accessed over the UICC-Terminal interface.
ETSI TS 102 221 [5] defines the range of \"01\" to \"08\" as key reference of
the PIN on a multi-verification capable UICC.
#### 6.1.7.2 Conformance requirement
The Terminal shall support the usage of the Universal PIN as replacement PIN
and the replacement procedure as defined in ETSI TS 102 221 [5], subclause
11.1.11, as well as the procedure to disable the replacement defined in ETSI
TS 102 221 [5], subclause 11.1.12.
Reference:
\- ETSI TS 102 221 [5], subclauses 9, 11.1.11 and 11.1.12;
\- TS 31.102 [4], clause 6.
#### 6.1.7.3 Test purpose
1) To verify that the PIN replacement is supported by the Terminal correctly.
2) To verify that the PIN replacement procedure is performed by the Terminal
correctly.
3) To verify that the procedure to disable the PIN replacement is performed by
the Terminal correctly.
#### 6.1.7.4 Method of test
##### 6.1.7.4.1 Initial conditions
The Terminal is connected to the UICC simulator with the PIN enabled, and
powered off.
The default UICC is used.
##### 6.1.7.4.2 Procedure
a) The Terminal is powered on.
b) When the Terminal is in the \"PIN check\" mode, the sequence \"2468#\"
shall be entered.
c) The user shall initiate an MMI dependent procedure to replace the PIN by
the Universal PIN.
d) The Terminal is powered off and on and when the Terminal is in \"PIN
check\" mode the sequence \"2468#\" shall be entered.
e) The correct Universal PIN is entered.
f) The user shall initiate an MMI dependent procedure to disable the
replacement of the PIN by the Universal PIN.
g) The Terminal is powered off and on and when the Terminal is in \"PIN
check\" mode the sequence \"2839#\" shall be entered.
h) The correct PIN is entered.
#### 6.1.7.5 Acceptance criteria
1) After step b) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"01\".
2) After step c), the Terminal shall send a DISABLE PIN command to the UICC,
with parameter P1=\"91\" and P2 = \"01\".
3) After step d) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"11\" and after unsuccessful execution of the command the
Terminal shall indicate that the PIN has not been accepted.
4) After step e) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"11\" and after successful execution of the command the
Terminal shall indicate that the PIN has been accepted.
5) After step f), the Terminal shall send an ENABLE PIN command to the UICC,
with parameter P2 = \"01\".
6) After step g) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"01\" and after unsuccessful execution of the command the
Terminal shall indicate that the PIN has not been accepted.
7) After step e) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"01\" and after successful execution of the command the
Terminal shall indicate that the PIN has been accepted.
### 6.1.8 Change of Universal PIN
#### 6.1.8.1 Definition and applicability
The Universal PIN may be changed by the user, by entering the old and new
Universal PIN. The length of the Universal PIN is between 4 and 8 digits.
#### 6.1.8.2 Conformance requirement
The Terminal shall support the change of PIN procedure as defined in ETSI TS
102 221 [5], subclause 11.1.10.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.10;
\- TS 31.102 [4], clause 6.
#### 6.1.8.3 Test purpose
To verify that the PIN substitution procedure is performed correctly by the
Terminal.
#### 6.1.8.4 Method of test
##### 6.1.8.4.1 Initial conditions
The Terminal is connected to a UICC or UICC simulator with the PIN enabled.
The default UICC is used with the following exception:
\- The Universal PIN is used as a replacement of the PIN.
The Terminal is powered-on, with the correct Universal PIN entered.
##### 6.1.8.4.2 Procedure
a) The user shall initiate an MMI dependent procedure to change the Universal
PIN to \"01234567\".
b) The UE is switched off and on.
c) When the UE is in the \"PIN check\" mode, the sequence \"2839#\" shall be
entered.
d) The UE is switched off and on.
e) When the UE is in the \"PIN check\", mode the sequence \"01234567#\" shall
be entered.
#### 6.1.8.5 Acceptance criteria
1) After step a), the Terminal shall send a CHANGE PIN command to the UICC,
with the parameter P2 set to \"11\".
2) Following the successful execution of the command, the UE shall give an
indication that the new (Universal) PIN is accepted.
3) After step c), the UE shall give an indication that the entered (Universal)
PIN is not accepted.
4) After step e), the UE shall give an indication \"OK\".
### 6.1.9 Unblock Universal PIN
#### 6.1.9.1 Definition and applicability
After three consecutive wrong entries of the PIN, the PIN shall become
blocked. The Unblock PIN command is used to unblock the PIN. This function may
be performed whether or not the PIN is blocked.
#### 6.1.9.2 Conformance requirement
The Terminal shall support the Unblock PIN command, as defined in ETSI TS 102
221 [5], subclause 11.1.13.
Reference:
\- ETSI TS 102 221 [5], subclause 11.1.13;
\- TS 31.102 [4], clause 6.
#### 6.1.9.3 Test purpose
To verify that the PIN unblocking procedure is performed correctly.
#### 6.1.9.4 Method of test
##### 6.1.9.4.1 Initial conditions
The Terminal is connected to the UICC simulator.
The default UICC is used.
##### 6.1.9.4.2 Procedure
a) The Terminal is powered on and the correct PIN is entered.
b) The user shall initiate an MMI dependent procedure to unblock the Universal
PIN and set the new Universal PIN value to \"1234\"
c) The Terminal is powered off and on.
d) Enter the new PIN: \"1234#\".
e) The Terminal is powered off and on.
f) Enter a wrong PIN three times.
g) The user shall initiate an MMI dependent procedure to unblock the Universal
PIN and set the new Universal PIN value to \"2839\".
h) The Terminal is powered off and on.
i) Enter the new PIN: \"2839#\".
#### 6.1.9.5 Acceptance criteria
1) After step b), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"11\".
2) After step d), the Terminal shall indicate that the (Universal) PIN has
been accepted.
3) After step f), the Terminal shall indicate that the (Universal) PIN has
been blocked.
4) After step g), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"11\".
5) After step j), the Terminal shall indicate that the (Universal) PIN has
been accepted.
### 6.1.10 Entry of PIN on multi-verification capable UICCs
#### 6.1.10.1 Definition and applicability
The PIN is a number used to authenticate the user to the UICC for security.
Entry of the correct PIN allows PIN-protected data to be accessed over the
UICC-Terminal interface. ETSI TS 102 221 [5] defines the range of \"01\" to
\"08\" as key reference of the PIN on a multi-verification capable UICC.
#### 6.1.10.2 Conformance requirement
Following insertion of the UICC and switching on the UE, the Terminal shall
check the state of the PIN. If the PIN is enabled, the Terminal asks the user
for PIN verification.
The VERIFY PIN function verifies the PIN presented by the Terminal to the
UICC.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.9;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.1.
#### 6.1.10.3 Test purpose
1) To verify that the PIN verification procedure is performed by the Terminal
correctly.
2) To verify that the basic public MMI string is supported.
3) To verify that the Terminal supports key references in the range of \"01\"
to \"08\" as PIN.
#### 6.1.10.4 Method of test
##### 6.1.10.4.1 Initial conditions
The Terminal is connected to the UICC simulator with the PIN enabled, and
powered off.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the key reference of the PIN and
\"87\" as key reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
##### 6.1.10.4.2 Procedure
a) The Terminal is powered on.
b) When the UE is in the \"PIN check\" mode, the sequence \"8642#\" shall be
entered.
#### 6.1.10.5 Acceptance criteria
1) After step b) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"07\".
2) After step b) the UE shall give an indication \"OK\", following a
successful execution of the command.
### 6.1.11 Change of PIN on multi-verification capable UICCs
#### 6.1.11.1 Definition and applicability
The PIN may be changed by the user, by entering the old and new PIN. The
length of the PIN is between 4 and 8 digits. ETSI TS 102 221 [5] defines the
range of \"01\" to \"08\" as key reference of the PIN on a multi-verification
capable UICC.
#### 6.1.11.2 Conformance requirement
The Terminal shall support the change of PIN procedure as defined in TS 102
221 [5], subclause 11.1.10.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.10;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.2.
#### 6.1.11.3 Test purpose
1) To verify that the PIN substitution procedure is performed correctly by the
Terminal.
2) To verify that the basic public MMI string is supported.
3) To verify that the Terminal supports key references in the range of \"01\"
to \"08\" as PIN.
#### 6.1.11.4 Method of test
##### 6.1.11.4.1 Initial conditions
The Terminal is connected to the UICC simulator with the PIN enabled.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the reference of the PIN and
\"87\" as reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
The Terminal is powered-on, with the correct PIN entered.
##### 6.1.11.4.2 Procedure
a) Enter \"**04*8642*01234567*01234567#\" or initiate an equivalent MMI
dependent procedure to change the PIN from \'8642\' to \'01234567\'..
b) The UE is switched off and on.
c) When the UE is in the \"PIN check\" mode, the sequence \"8642#\" shall be
entered.
d) The UE is switched off and on.
e) When the UE is in the \"PIN check\", mode the sequence \"01234567#\" shall
be entered.
#### 6.1.11.5 Acceptance criteria
1) After step a), the Terminal shall send a CHANGE PIN command to the UICC,
with the parameter P2 set to \"07\".
2) Following the successful execution of the command, the UE shall give an
indication that the new PIN is accepted.
3) After step c), the UE shall give an indication that the entered PIN is not
accepted.
3) After step e), the UE shall give an indication \"OK\".
### 6.1.12 Unblock PIN on multi-verification capable UICCs
#### 6.1.12.1 Definition and applicability
After three consecutive wrong entries of the PIN, the PIN shall become
blocked. The Unblock PIN command is used to unblock the PIN. This function may
be performed whether or not the PIN is blocked. ETSI TS 102 221 [5] defines
the range of \"01\" to \"08\" as key reference of the PIN on a multi-
verification capable UICC.
#### 6.1.12.2 Conformance requirement
The Terminal shall support the Unblock PIN command, as defined in ETSI TS 102
221 [5], subclause 11.1.13.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.13;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.3.
#### 6.1.12.3 Test purpose
1) To verify that the PIN unblocking procedure is performed correctly.
2) To verify that the basic public MMI string is supported.
3) To verify that the Terminal supports key references in the range of \"01\"
to \"08\" as PIN.
#### 6.1.12.4 Method of test
##### 6.1.12.4.1 Initial conditions
The Terminal is connected to the UICC simulator.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the reference of the PIN and
\"87\" as reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
##### 6.1.12.4.2 Procedure
Sequence A:
a) The Terminal is powered on and the correct PIN is entered.
b) Enter \"**05*64534231*1234*1234#\"
c) The Terminal is powered off and on.
d) Enter the new PIN: \"1234#\".
e) The Terminal is powered off and on.
f) Enter a wrong PIN three times.
g) Enter \"**05*64534231*8642*8642#\".
h) The Terminal is powered off and on.
i) Enter the new PIN: \"8642#\".
Sequence B:
a) The Terminal is powered on.
b) Enter a wrong PIN three times.
c) The user shall initiate a MMI dependent procedure to unblock the PIN with
unblock code \'64534231\' and a new PIN \'8642\'.
d) The Terminal is powered off and on.
e) Enter the new PIN: \"8642#\".
#### 6.1.12.5 Acceptance criteria
Sequence A:
1) After step b), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"07\".
2) After step d), the Terminal shall indicate that the PIN has been accepted.
3) After step f), the Terminal shall indicate that the PIN has been blocked.
4) After step g), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"07\".
5) After step j), the Terminal shall indicate that the PIN has been accepted.
Sequence B:
1) After step b), the Terminal shall indicate that the PIN has been blocked.
2) After step c), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"07\".
3) After step e), the Terminal shall indicate that the PIN has been accepted.
### 6.1.13 Entry of PIN2 on multi-verification capable UICCs
#### 6.1.13.1 Definition and applicability
The PIN2 is a number used to authenticate the user to the UICC for security.
Entry of the correct PIN2 allows PIN2‑protected data to be accessed over the
UICC-Terminal interface. ETSI TS 102 221 [5] defines the range of \"81\" to
\"88\" as key reference of the PIN2 on a multi-verification capable UICC.
#### 6.1.13.2 Conformance requirement
Before allowing the access to PIN2 protected data, the Terminal shall ask the
user for PIN2 verification. Only after presenting the PIN2, the user shall get
access to these data.
The VERIFY PIN function verifies the PIN2 presented by the Terminal to the
UICC.
Reference:
\- ETSI TS 102 221 [5], 9 and subclause 11.1.9;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.1.
#### 6.1.13.3 Test purpose
1) To verify that the PIN2 verification procedure is performed by the Terminal
correctly.
2) To verify that the basic public MMI string is supported.
3) To verify that the Terminal supports key references in the range of \"81\"
to \"88\" as PIN2.
#### 6.1.13.4 Method of test
##### 6.1.13.4.1 Initial conditions
The Terminal is connected to the UICC simulator with the PIN enabled, and
powered off.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the reference of the PIN and
\"87\" as reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
NOTE: To perform the UPDATE FDN data (as described in the procedure below),
the default FDN UICC may be used. In this case the above mentioned exceptions
shall apply.
##### 6.1.13.4.2 Procedure
a) The Terminal is powered on and the correct PIN is entered.
b) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN)
c) When the UE is in the \"PIN2 check\" mode, the sequence \"9753#\" shall be
entered.
#### 6.1.13.5 Acceptance criteria
1) After step b) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"87\".
2) After step b) the UE shall give an indication \"OK\", following a
successful execution of the command.
### 6.1.14 Change of PIN2 on multi-verification capable UICCs
#### 6.1.14.1 Definition and applicability
The PIN2 may be changed by the user, by entering the old and new PIN2. The
length of the PIN2 is between 4 and 8 digits. ETSI TS 102 221 [5] defines the
range of \"81\" to \"88\" as key reference of the PIN2 on a multi-verification
capable UICC.
#### 6.1.14.2 Conformance requirement
The Terminal shall support the change of PIN2 procedure as defined in ETSI TS
102 221 [5], subclause 11.1.10.
Reference:
\- ETSI TS 102 221 [5], subclauses 9 and 11.1.10;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.2.
#### 6.1.14.3 Test purpose
1) To verify that the PIN2 substitution procedure is performed correctly by
the Terminal.
2) To verify that the basic public MMI string is supported.
3) To verify that the Terminal supports key references in the range of \"81\"
to \"88\" as PIN2.
#### 6.1.14.4 Method of test
##### 6.1.14.4.1 Initial conditions
The Terminal is connected to the UICC simulator with the PIN2 enabled.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the reference of the PIN and
\"87\" as reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
NOTE: To perform the UPDATE FDN data (as described in the procedure below),
the default FDN UICC may be used. In this case the above mentioned exceptions
shall apply.
The Terminal is powered-on, with the correct PIN entered.
##### 6.1.14.4.2 Procedure
a) Enter \"**042*9753*12345678*12345678#\" or initiate an equivalent MMI
dependent procedure to change PIN2 from \'9753\' to \'12345678\'.
b) The UE is switched off and on and the correct PIN is entered.
c) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
d) When the UE is in the \"PIN2 check\" mode, the sequence \"9753#\" shall be
entered.
e) The UE is switched off and on and the correct PIN is entered.
f) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
g) When the UE is in the \"PIN2-check\", mode the sequence \"12345678#\" shall
be entered.
#### 6.1.14.5 Acceptance criteria
1) After step a), the Terminal shall send a CHANGE PIN2 command to the UICC,
with the parameter P2 set to \"87\".
2) Following the successful execution of the command, the UE shall give an
indication that the new PIN2 is accepted.
3) After step d), the UE shall give an indication that the entered PIN2 is not
accepted.
3) After step g), the UE shall give an indication \"OK\".
### 6.1.15 Unblock PIN2 on multi-verification capable UICCs
#### 6.1.15.1 Definition and applicability
After three consecutive wrong entries of the PIN2, the PIN2 shall become
blocked. The Unblock PIN2 command is used to unblock the PIN2. This function
may be performed whether or not the PIN2 is blocked. ETSI TS 102 221 [5]
defines the range of \"81\" to \"88\" as key reference of the PIN2 on a multi-
verification capable UICC.
#### 6.1.15.2 Conformance requirement
The Terminal shall support the Unblock PIN2 command, as defined in ETSI TS 102
221 [5], subclause 11.1.13.
Reference:
\- ETSI TS 102 221 [5],subclauses 9 and 11.1.13;
\- TS 31.102 [4], clause 6;
\- TS 22.030 [12], subclause 6.6.3.
#### 6.1.15.3 Test purpose
1) To verify that the PIN2 unblocking procedure is performed correctly.
2) To verify that the basic public MMI string is supported.
3) To verify that the Terminal supports key references in the range of \"81\"
to \"88\" as PIN2.
#### 6.1.15.4 Method of test
##### 6.1.15.4.1 Initial conditions
The Terminal is connected to the UICC simulator.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the reference of the PIN and
\"87\" as reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
NOTE: To perform the UPDATE FDN data (as described in the procedure below),
the default FDN UICC may be used. In this case the above mentioned exceptions
shall apply.
##### 6.1.15.4.2 Procedure
Sequence A:
a) The Terminal is powered on and the correct PIN is entered.
b) Enter \"**052*57687980*1234*1234#\"
c) The Terminal is powered off and on and the correct PIN is entered.
d) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
e) Enter the new PIN2: \"1234#\".
f) The Terminal is powered off and on and the correct PIN is entered.
g) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
h) Enter a wrong PIN2 three times.
i) Enter \"**052*57687980*9753*9753#\".
j) The Terminal is powered off and on and the correct PIN is entered.
k) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
l) Enter the new PIN2: \"9753#\".
Sequence B:
a) The Terminal is powered on .
b) Enter a wrong PIN2 three times.
c) The user shall initiate a MMI dependent procedure to unblock the PIN2 with
unblock code \'57687980\' and a new PIN2 \'9753\'.
d) The Terminal is powered off and on and the correct PIN is entered.
e) The access to a PIN2 protected data field shall be performed (e.g. UPDATE
FDN).
f) Enter the new PIN2: \"9753#\".
#### 6.1.15.5 Acceptance criterias
Sequence A:
1) After step b), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"87\".
2) After step e), the Terminal shall indicate that the PIN2 has been accepted.
3) After step h), the Terminal shall indicate that the PIN2 has been blocked.
4) After step i), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"87\".
5) After step l), the Terminal shall indicate that the PIN2 has been accepted.
Sequence B:
1) After step b), the Terminal shall indicate that the PIN2 has been blocked.
2) After step c), the Terminal shall send an UNBLOCK PIN command to the UICC,
with parameter P2 = \"87\".
3) After step f), the Terminal shall indicate that the PIN2 has been accepted.
### 6.1.16 Replacement of PIN with key reference \"07\"
#### 6.1.16.1 Definition and applicability
The Universal PIN may be used to replace a PIN used to authenticate the user
to the UICC for security. In this case entry of the correct Universal PIN
allows PIN-protected data to be accessed over the UICC-Terminal interface.
#### 6.1.16.2 Conformance requirement
The Terminal shall support the usage of the Universal PIN as replacement PIN
and the replacement procedure as defined in ETSI TS 102 221 [5], subclause
11.1.11, as well as the procedure to disable the replacement defined in ETSI
TS 102 221 [5], subclause 11.1.12.
Reference:
\- ETSI TS 102 221 [5], subclauses 9, 11.1.11 and 11.1.12;
\- TS 31.102 [4], clause 6.
#### 6.1.16.3 Test purpose
1) To verify that the PIN replacement is supported by the Terminal correctly.
2) To verify that the PIN replacement procedure is performed by the Terminal
correctly.
3) To verify that the procedure to disable the PIN replacement is performed by
the Terminal correctly.
4) To verify that the Terminal supports key references in the range of \"01\"
to \"08\" as PIN.
#### 6.1.16.4 Method of test
##### 6.1.16.4.1 Initial conditions
The Terminal is connected to the UICC simulator with the PIN enabled, and
powered off.
The default UICC is used with the following exceptions:
The UICC shall be configured to use \"07\" as the reference of the PIN and
\"87\" as reference of the PIN2 with the following values:
PIN
Key reference: 07
Logically: 8642
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 38 36 34 32 FF FF FF FF
* * *
Unblock PIN
Key reference 07
Logically: 64534231
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 36 34 35 33 34 32 33 31
* * *
PIN2
Key reference 87
Logically: 9753
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 39 37 35 33 FF FF FF FF
* * *
Unblock PIN2
Key reference 87
Logically: 57687980
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 35 37 36 38 37 39 38 30
* * *
##### 6.1.16.4.2 Procedure
a) The Terminal is powered on.
b) When the Terminal is in the \"PIN check\" mode, the sequence \"8642#\"
shall be entered.
c) The user shall initiate an MMI dependent procedure to replace the PIN by
the Universal PIN.
d) The Terminal is powered off and on and when the Terminal is in \"PIN
check\" mode the sequence \"8642#\" shall be entered.
e) The correct Universal PIN is entered.
f) The user shall initiate an MMI dependent procedure to disable the
replacement of the PIN by the Universal PIN.
g) The Terminal is powered off and on and when the Terminal is in \"PIN
check\" mode the sequence \"2839#\" shall be entered.
h) The correct PIN is entered.
#### 6.1.16.5 Acceptance criteria
1) After step b) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"07\".
2) After step c), the Terminal shall send a DISABLE PIN command to the UICC,
with parameter P1=\"91\" and P2 = \"07\".
3) After step d) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"11\" and after unsuccessful execution of the command the
Terminal shall indicate that the PIN has not been accepted.
4) After step e) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"11\" and after successful execution of the command the
Terminal shall indicate that the PIN has been accepted.
5) After step f), the Terminal shall send an ENABLE PIN command to the UICC,
with parameter P2 = \"07\".
6) After step g) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"07\" and after unsuccessful execution of the command the
Terminal shall indicate that the PIN has not been accepted.
7) After step h) the Terminal shall send a VERIFY PIN command to the UICC,
with parameter P2 = \"07\" and after successful execution of the command the
Terminal shall indicate that the PIN has been accepted.
## 6.2 Fixed Dialling Numbers (FDN) handling
### 6.2.1 Terminal and USIM with FDN enabled, EF~ADN~ readable and updateable
#### 6.2.1.1 Definition and applicability
Fixed Dialling Numbers (FDN) is a service defined for the USIM. An enabled FDN
service results in call restrictions for the UE. The call restrictions are
controlled by the Terminal. To ascertain the type of USIM and state of FDN the
UE runs the FDN capability request procedure during UICC-Terminal
initialisation. During the initialisation the Terminal shall request the
Emergency call codes of the USIM EF~ECC~. At the time an emergency call is
setup using the emergency call code read from the EF~ECC~, the UE shall use
the category of the emergency service indicated.
#### 6.2.1.2 Conformance requirement
1) Recognising the state of the USIM (FDN enabled) the UE shall perform the
UICC initialisation procedure as specified.
2) The UE allows call set-up to a directory number as stored in EF~FDN~.
3) The UE allows call set-up to a directory number as stored in EF~FDN~ and
extended by digits in the end.
4) The UE does not allow call set-up to a directory number stored in EF~FDN~
but with missing digits at the end.
5) The UE does not allow call set-up to a directory number having no reference
in EF~FDN~.
6) The UE does not allow call set-up of an emergency call using the emergency
numbers stored in the Terminal except \"112\", \"911\", the emergency numbers
stored on the SIM/USIM and emergency numbers downloaded from the serving
network (if any).
7) The UE allows call set-up of an emergency call using the emergency number
stored in the USIM.
Reference:
\- TS 22.101 [11], clauses 8 and A.24;
\- TS 31.102 [4], subclauses 4.4.2, 4.2.24, 5.1.1 and 5.3.2;
\- TS 24.008 [16], subclause 10.5.4.33.
#### 6.2.1.3 Test purpose
1) To verify that the Terminal allows call set-up to a FDN number.
2) To verify that the Terminal allows call set-up to a FDN number extended by
some digits in the end.
3) To verify that the Terminal rejects call set-up to number having no
reference in EF~FDN~.
4) To verify that the Terminal rejects call set-up to a FDN number not
completely corresponding to an entry in EF~FDN~.
5) To verify that the Terminal does not allow emergency call set-up using the
emergency number stored in the Terminal except \"112\", \"911\", the emergency
numbers stored on the SIM/USIM and emergency numbers downloaded from the
serving network (if any).
6) To verify that the Terminal allows emergency call set-up using the
emergency number stored in the UISM.
#### 6.2.1.4 Method of test
##### 6.2.1.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing GERAN) transmits on the BCCH, with the following network parameters
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default FDN UICC with FDN service enabled and EF~ADN~ readable and
updateable is installed into the Terminal.
The following expection applies:
**EF~ECC~ (Emergency Call Codes)**
Logically: Emergency call code: \"122\";
Emergency call code alpha identifier: \"TEST\";
Emergency call Service Category: RFU.
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Hex 21 F2 FF 54 45 53 54 00
* * *
##### 6.2.1.4.2 Procedure
a) The UE is powered on and PIN is entered.
b) Using the MMI a call set-up to the fixed dialling number 1 (record 1) is
attempted.
c) Using the MMI a call set-up to the fixed dialling number 2 (record 2)
extended by \"123\" in the end is attempted.
d) Using the MMI a call set-up to a number which is equal to the fixed
dialling number 3 (record 3) without the last digit is attempted, e.g. by
recalling the fixed dialling number 3 and deleting the last digit (only in
display).
e) Using the MMI a call set-up to the number \"1234567\" is attempted.
f) Using the MMI an emergency call set-up is attempted using an emergency call
code stored in the Terminal, but not \"112\", \"911\" nor one of the emergency
numbers stored on the SIM/USIM emergency numbers downloaded from the serving
network (if any).
> g) Using the MMI an emergency call set-up is attempted using either \"112\",
> \"911\" or an emergency number downloaded from the serving network (if any).
>
> h) Using the MMI an emergency call set-up is attempted using the emergency
> call code stored in the USIM (i.e. \"122\").
NOTE: For step f) one of the emergency call codes according to TS 22.101 [11],
subclause 10.1, except \"112\" and \"911\", shall be used (i.e. \"000\",
\"08\", \"110\", \"118\", \"119\" or \"999\").
#### 6.2.1.5 Acceptance criteria
1) After step a) the UE is registered and in idle state.
2) After steps b) and c) the UE shall allow call set-up and send the requested
number across the air interface.
3) After steps d), e) and f) the UE shall prevent call set-up.
4) After steps g) and h) the UE shall allow emergency call by indicating the
call setup as \"Emergency Call\".
### 6.2.2 Terminal and USIM with FDN disabled
#### 6.2.2.1 Definition and applicability
Fixed Dialling Numbers (FDN) is a service defined for the USIM. An enabled FDN
service results in call restrictions for the UE. Only directory numbers which
are stored in the EF~FDN~ may be dialled by the UE. The call restrictions are
controlled by the Terminal. To ascertain the type of USIM and state of FDN the
UE runs the FDN capability request procedure during UICC-Terminal
initialisation. Deactivation of the service by the subscriber is possible
under the control of PIN2 and switches the USIM into a \"normal\", non
restrictive USIM.
#### 6.2.2.2 Conformance requirement
1) Recognising the state of the USIM (FDN disabled) the UE correctly performs
the UICC initialisation procedure.
2) The UE allows call set-up to a directory number as stored in EF~FDN~.
3) The UE allows call set-up to a directory number as stored in EF~ADN~.
4) The UE allows call set-up to a directory number given in manually.
Reference:
\- R99: TS 22.101 [11], clauses 8 and A.24
\- Rel-4: TS 22.101 [11], clauses 9 and A.25
\- Rel-5, Rel-6: TS 22.101 [11], clauses 10 and A.25;
\- TS 31.102 [4], subclauses 4.4.2.3, 4.2.24, 4.2.47, 5.1.1 and 5.3.2.
#### 6.2.2.3 Test purpose
1) To verify that the Terminal as a result of the state of the USIM correctly
performs the UICC-Terminal initialisation procedure.
2) To verify that the Terminal allows call set-up to a FDN number.
3) To verify that the Terminal allows call set-up to a ADN number.
4) To verify that the Terminal allows call set-up to manually given number.
#### 6.2.2.4 Method of test
##### 6.2.2.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN) /SS (in case of a Terminal
accessing GERAN) transmits on the BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default FDN UICC is used with the following exception:
**EF~EST~ (Enable Service Table)**
Logically: Fixed Dialling Numbers disabled.
Barred Dialling Numbers disabled.
APN Control list (ACL) disabled.
* * *
Coding: B1 binary 0000 0000
* * *
The UICC is installed into the Terminal and the UE is powered on.
##### 6.2.2.4.2 Procedure
a) Using the MMI a call set-up to the fixed dialling number 1 is attempted.
b) Using the MMI a call set-up to the abbreviated dialling number 1 is
attempted.
c) Using the MMI a call set-up to the number \"1234567\" is attempted.
#### 6.2.2.5 Acceptance criteria
After steps a), b) and c) the UE shall allow call set-up and send the
requested number across the air interface.
### 6.2.3 Enabling, disabling and updating of FDN
#### 6.2.3.1 Definition and applicability
FDN may be enabled and disabled by the subscriber under control of PIN2. Fixed
dialling numbers are read with PIN and updated under control of PIN2.
#### 6.2.3.2 Conformance requirement
1) Recognising the state of the USIM (FDN enabled) the UE shall perform the
UICC initialisation procedure as specified.
2) The UE shall allow updating of EF~FDN~ by the use of PIN2.
3) The UE provides means to disable the FDN service by the use of PIN2.
4) The UE shall allow the use of EF~ADN~ after disabling of FDN.
Reference:
\- R99: TS 22.101 [11], clauses 8 and A.24
\- Rel-4: TS 22.101 [11], clauses 9 and A.25
\- Rel-5, Rel-6: TS 22.101 [11], clause 10 and A.25;
\- TS 31.102 [4], subclauses 4.4.2.3, 4.2.24, 4.2.47, 5.1.1 and 5.3.2.
#### 6.2.3.3 Test purpose
1) To verify that the Terminal correctly performs the update of a number in
EF~FDN~.
2) To verify that the Terminal correctly disables FDN service.
3) To verify that the Terminal recognises disabling of FDN and allows access
to EF~ADN~.
#### 6.2.3.4 Method of test
##### 6.2.3.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/SS (in case of a Terminal
accessing GERAN) transmits on the BCCH, with the following network parameters
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default FDN UICC with FDN service enabled is installed into the Terminal.
##### 6.2.3.4.2 Procedure
a) The UE is powered on and PIN is entered.
b) Using the MMI the directory number \"+876543210\" is stored in EF~FDN~ as
fixed dialling number 1 (record 1). The alpha identifier is not changed. On
request of the UE PIN2 is entered.
c) Using the MMI the FDN disabling procedure is performed. On request of the
UE PIN2 is entered.
d) Using the MMI a call set-up to the abbreviated dialling number 1 (record 1)
is attempted.
e) The UE is soft-powered down.
#### 6.2.3.5 Acceptance criteria
1) After step a) the UE is registered and in idle state.
2) After step c) the UE shall indicate that the FDN disabling procedure has
been successful.
3) After step d) the UE shall allow call set-up and send the requested number
across the air interface.
4) After step e) record 1 in EF~FDN~ , shall contain the following values:
* * *
        B1    B2    B3    B4    B5    B6    B7    B8   B9   B10   B11   B12   B13
Hex 46 44 4E 31 31 31 06 91 78 56 34 12 F0
        B14   B15   B16   B17   B18   B19   B20                               
        FF    FF    FF    FF    FF    FF    FF
* * *
### 6.2.4 Terminal and USIM with FDN enabled, EF~ADN~ readable and updateable
(Rel-4 and onwards)
#### 6.2.4.1 Definition and applicability
Fixed Dialling Numbers (FDN) is a service defined for the USIM. An enabled FDN
service results in call restrictions for the UE. The call restrictions are
controlled by the Terminal. To ascertain the type of USIM and state of FDN the
UE runs the FDN capability request procedure during UICC-Terminal
initialisation. During the initialisation the Terminal shall request the
Emergency call codes of the USIM EF~ECC~. At the time an emergency call is
setup using the emergency call code read from the EF~ECC~, the UE shall use
the category of the emergency service indicated.
#### 6.2.4.2 Conformance requirement
1) Recognising the state of the USIM (FDN enabled) the UE shall perform the
UICC initialisation procedure as specified.
2) The UE allows call set-up to a directory number as stored in EF~FDN~.
3) The UE allows call set-up to a directory number as stored in EF~FDN~ and
extended by digits in the end.
4) The UE does not allow call set-up to a directory number stored in EF~FDN~
but with missing digits at the end.
5) The UE does not allow call set-up to a directory number having no reference
in EF~FDN~.
6) The UE does not allow call set-up of an emergency call using the emergency
numbers stored in the Terminal except \"112\", \"911\", the emergency numbers
stored on the SIM/USIM and emergency numbers downloaded from the serving
network (if any).
7) The UE allows call set-up of an emergency call using the emergency number
stored in the USIM.
8) The UE shall indicate the emergency service category as \"Mountain
Rescue\", when using the emergency number stored in the USIM.
Reference:
\- Rel-4: TS 22.101 [11], clauses 9 and A.25
\- Rel-5, Rel-6: TS 22.101 [11], clauses 10 and A.25;
\- TS 31.102 [4], subclauses 4.4.2, 4.2.24, 5.1.1 and 5.3.2;
\- TS 24.008 [16], subclause 10.5.4.33.
#### 6.2.4.3 Test purpose
1) To verify that the Terminal allows call set-up to a FDN number.
2) To verify that the Terminal allows call set-up to a FDN number extended by
some digits in the end.
3) To verify that the Terminal rejects call set-up to number having no
reference in EF~FDN~.
4) To verify that the Terminal rejects call set-up to a FDN number not
completely corresponding to an entry in EF~FDN~.
5) To verify that the Terminal does not allow emergency call set-up using the
emergency number stored in the Terminal except \"112\", \"911\", the emergency
numbers stored on the SIM/USIM and emergency numbers downloaded from the
serving network (if any).
6) To verify that the Terminal allows emergency call set-up using the
emergency number stored in the UISM.
7) To verify that the Terminal reads correctly the emergency service category.
#### 6.2.4.4 Method of test
##### 6.2.4.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing GERAN) transmits on the BCCH, with the following network parameters
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The default FDN UICC with FDN service enabled and EF~ADN~ readable and
updateable is installed into the Terminal.
##### 6.2.4.4.2 Procedure
a) The UE is powered on and PIN is entered.
b) Using the MMI a call set-up to the fixed dialling number 1 (record 1) is
attempted.
c) Using the MMI a call set-up to the fixed dialling number 2 (record 2)
extended by \"123\" in the end is attempted.
d) Using the MMI a call set-up to a number which is equal to the fixed
dialling number 3 (record 3) without the last digit is attempted, e.g. by
recalling the fixed dialling number 3 and deleting the last digit (only in
display).
e) Using the MMI a call set-up to the number \"1234567\" is attempted.
f) Using the MMI an emergency call set-up is attempted using an emergency call
code stored in the Terminal, but not \"112\", \"911\" nor one of the emergency
numbers stored on the SIM/USIM emergency numbers downloaded from the serving
network (if any).
> g) Using the MMI an emergency call set-up is attempted using either \"112\",
> \"911\" or an emergency number downloaded from the serving network (if any).
>
> h) Using the MMI an emergency call set-up is attempted using the emergency
> call code stored in the USIM (i.e. \"122\").
NOTE: For step f) one of the emergency call codes according to TS 22.101 [11],
subclause 10.1, except \"112\" and \"911\", shall be used (i.e. \"000\",
\"08\", \"110\", \"118\", \"119\" or \"999\").
#### 6.2.4.5 Acceptance criteria
1) After step a) the UE is registered and in idle state.
2) After steps b) and c) the UE shall allow call set-up and send the requested
number across the air interface.
3) After steps d), e) and f) the UE shall prevent call set-up.
4) After steps g) and h) the UE shall allow emergency call by indicating the
call setup as \"Emergency Call\".
> 5) After step h) the UE shall send the emergency service category correctly
> as \"Mountain Rescue\".
## 6.3 Void
## 6.4 Advice of charge (AoC) handling
### 6.4.1 AoC not supported by USIM
#### 6.4.1.1 Definition and applicability
If the Terminal under test supports Advice of Charge Charging, it shall still
look at the capability of the USIM, before responding to any AoCC information
from the network.
#### 6.4.1.2 Conformance requirement
1) An UE not supporting AoCC and in the outgoing call / U4 call delivered
state, on receipt of a CONNECT message containing AoCC information shall
acknowledge the CONNECT message but ignore and not acknowledge the AoCC
information sent within the CONNECT.
2) An UE not supporting AoCC and in the outgoing call / U4 call delivered
state, on receipt of a FACILITY message containing AoCC information shall
ignore and not acknowledge the AoCC information sent within the FACILITY.
3) An UE not supporting AoCC and in the incoming call / U9 call confirmed
state, on receipt of a FACILITY message containing AoCC information shall
ignore and not acknowledge the AoCC information sent within the FACILITY.
4) An UE not supporting AoCC and in the U10 call active state, on receipt of a
FACILITY message containing AoCC information, shall ignore and not acknowledge
the AoCC information sent within the FACILITY.
References:
\- TS 24.008 [16], subclause 5.1.2.1;
\- TS 23.086 [9], subclauses 1.2, 1.3, 2.2 and 2.3;
\- TS 24.086 [10], clause 2.
#### 6.4.1.3 Test purpose
1) To verify that an UE not supporting AoCC (where the Terminal does support
AoCC but the USIM does not) and in the outgoing call / U4 call delivered
state, on receipt of a CONNECT message containing AoCC information shall
acknowledge the CONNECT message but ignore and not acknowledge the AoCC
information sent within the CONNECT.
2) To verify that an UE not supporting AoCC (where the Terminal does support
AoCC but the USIM does not) and in the outgoing call / U4 call delivered
state, on receipt of a FACILITY message containing AoCC information shall
ignore and not acknowledge the AoCC information sent within the FACILITY.
3) To verify that an UE not supporting AoCC (where the Terminal does support
AoCC but the USIM does not) and in the incoming call / U9 call confirmed
state, on receipt of a FACILITY message containing AoCC information shall
ignore and not acknowledge the AoCC information sent within the FACILITY.
4) To verify that an UE not supporting AoCC (where the Terminal does support
AoCC but the USIM does not) and in the U10 call active state, on receipt of a
FACILITY message containing AoCC information, shall ignore and not acknowledge
the AoCC information sent within the FACILITY.
#### 6.4.1.4 Method of test
##### 6.4.1.4.1 Initial conditions
The Terminal shall be installed with a UICC or USIM simulator, with all
elementary files coded as for the default UICC, with the exception of:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available;
User controlled PLMN selector available;
Fixed dialling numbers available;
The GSM Access available;
The Group Identifier level 1 and level 2 not available;
AoC not available.
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xxxx xx11 xxx0 xxxx xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
The generic call set up procedures for UTRAN defined in TS 34.108 [21],
subclause 7.2.3.2.3 and 7.2.3.1.3 and defined in TS 51.010‑1 [22], clause 10
for GERAN are followed up to and including the reception, or transmission of
the ALERTING message by the UE.
##### 6.4.1.4.2 Procedure
a) For an MO call in the U4 state the USS/SS transmits CONNECT containing AoCC
information.
b) For an MO call in the U4 state the USS/SS transmits FACILITY containing
AoCC information.
c) For an MT call in the U9 state the USS/SS transmits FACILITY containing
AoCC information.
d) For an MO call in the U10 state the USS/SS transmits FACILITY containing
AoCC information.
#### 6.4.1.5 Acceptance criteria
In all cases, the UE shall ignore the AoCC information sent to it in the
Facility information elements as part of the CONNECT/FACILITY messages and not
send any AoCC information acknowledgement. It shall be checked for 15 s that
the UE does not transmit any AoCC information acknowledgement after the
receipt of AoCC information.
### 6.4.2 Maximum frequency of ACM updating
#### 6.4.2.1 Definition and applicability
During a call, the ACM shall be updated at the end of every interval. The
interval length is the greater of either 5 s or the value given by parameter
e2 (part of the Facility Information Element).
#### 6.4.2.2 Conformance requirement
The ACM shall be incremented when the CCM is incremented or once every 5 s,
whichever is the longer period.
When used the value \'1C\' shall be used as SFI for EF~ACM~, for compatibility
reasons the terminal shall accept other values.
Reference:
\- TS 22.024 [8], subclause 4.3, part h;
\- TS 31.102 [4], subclauses 4.2.9, 5.3.4 and Annex H.1.
#### 6.4.2.3 Test purpose
1) To verify that the Terminal, during a call, increments the ACM every 5 s
when e2 is less or equal to 5 s.
2) To verify that the Terminal is able to handle other values than \'1C\' as
SFI of EF~ACM~.
#### 6.4.2.4 Method of test
##### 6.4.2.4.1 Initial conditions
The Terminal shall be connected to the USIM simulator, with all elementary
files coded as default with the exception of:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available;
User controlled PLMN selector available;
Fixed dialling numbers available;
The GSM Access available;
The Group Identifier level 1 and level 2 not available;
AoC available.
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xxxx xx11 xxx1 xxxx xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~ACM~ (Accumulated call meter)**
Logically: 50 units
The SFI of EF~ACM~ shall be set to \'18\'.
**EF~ACMmax~ (Accumulated call meter maximum)**
Logically: 150 units
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
User Equipment:
The UE is in MM-state \"idle, updated\".
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 6.4.2.4.2 Procedure
a) The UE is made to initiate a call. The call establishment shall be
performed according to the procedures defined in TS 34.108 [21], subclause
7.2.3.2.3 extended by the messages of the AoCC. The call is established with
AoCC e-parameters sent in a Facility IE in the CONNECT message, as given
below. The UE returns the AoCC acknowledgement after the reception of the
CONNECT message. It is an implementation option whether the AoCC acknowledge
is sent by the UE before or after the CONNECT ACKNOWLEDGE.
b) The call is maintained for 90 s, then terminated by the USS. During the
call, the USIM-simulator monitors the time intervals between successive
INCREMENT commands. As the final INCREMENT command will have occurred as a
result of call termination, the time interval calculated since the prior
INCREMENT command shall be ignored.
Maximum Duration of Test:
2 minutes.
Expected Sequence A:
* * *
Step Direction Message Comments 1 UE The UE is made to initiate a call 2 UE ->
USS RRC CONNECTION REQUEST  
3 USS -> UE RRC CONNECTION SETUP  
4 UE -> USS RRC CONNECTION SETUP COMPLETE  
5 UE -> USS CM SERVICE REQUEST  
6 USS -> UE AUTHENTICATION REQUEST MM procedure, to ensure the successful
start of integrity in step 8 7 UE -> USS AUTHENTICATION RESPONSE  
8 USS -> UE SECURITY MODE COMMAND RRC procedure, start of integrity is
mandatory during call setup 9 UE -> USS SECURITY MODE COMPLETE  
10 UE -> USS SETUP  
11 USS -> UE CALL PROCEEDING  
12 USS -> UE RADIO BEARER SETUP To a supported channel type 13 UE -> USS RADIO
BEARER SETUPCOMPLETE  
14 USS -> UE ALERTING  
15 USS -> UE CONNECT As default message except contains Facility IE with
contents as indicated in i) below Either A or B branch is taken A16 UE -> USS
CONNECT ACKNOWLEDGE  
A17 UE -> USS FACILITY As default message except contains Facility IE with
contents as indicated in ii) below B16 UE -> USS FACILITY As default message
except contains Facility IE with contents as indicated in ii) below B17 UE ->
USS CONNECT ACKNOWLEDGE  
18 call duration 90 s after CAI information sent by USS, 19 USS -> UE
DISCONNECT  
20 UE -> USS RELEASE  
21 USS -> UE RELEASE COMPLETE  
22 USS -> UE RRC CONNECTION RELEASE All connections of RRC are released. 23 UE
-> USS RRC CONNECTION RELEASE COMPLETE
* * *
Expected Sequence B:
* * *
Step Direction Message Comments 1 UE The UE is made to initiate a call 2 UE ->
SS CHANNEL REQUEST  
3 SS -> UE IMMEDIATE ASSIGNMENT  
4 UE -> SS CM SERVICE REQUEST  
5 SS -> UE CM SERVICE ACCEPT  
6 UE -> SS SETUP  
7 SS -> UE CALL PROCEEDING  
8 SS -> UE ASSIGNMENT COMMAND To a supported channel type 9 UE -> SS
ASSIGNMENT COMPLETE  
10 SS -> UE ALERTING  
11 SS -> UE CONNECT As default message except contains Facility IE with
contents as indicated in i) below Either A or B branch is taken A12 UE -> SS
CONNECT ACKNOWLEDGE  
A13 UE -> SS FACILITY As default message except contains Facility IE with
contents as indicated in ii) below B12 UE -> SS FACILITY As default message
except contains Facility IE with contents as indicated in ii) below B13 UE ->
SS CONNECT ACKNOWLEDGE  
14 call duration 90 s after CAI information sent by SS, 15 SS -> UE DISCONNECT  
16 UE -> SS RELEASE  
17 SS -> UE RELEASE COMPLETE  
18 SS -> UE CHANNEL RELEASE The main signalling link is released.
* * *
Specific Message Contents:
7) **FACILITY Information Element** with **Invoke = ForwardChargeInformation**
component type as defined in TS 24.080 [17], subclause 3.6.1 table 3.3.
For ASN.1 description see default message contents in TS 51.010‑1 [22],
subclause 31.6.4.
The values of the e-parameters within the parameter part of the Facility
Information Element shall be set as below:
e-parameters:
* * *
parameter: e1 e2 e3 e4 e5 e6 E7 value 1 1 1 0 0 0 0
* * *
Values shown in table are in the format and have units as in TS 22.024 [8],
clause 3.
**ii) FACILITY Information Element** with **Return Result** component type as
defined in TS 24.080 [17], subclause 3.6.1 table 3.4.
For ASN.1 description see default message contents in TS 51.010‑1 [22],
subclause 31.6.4.
#### 6.4.2.5 Acceptance criteria
The UE shall, during a call, send INCREMENT commands to the USIM every 5 s.
### 6.4.3 Call terminated when ACM greater than ACMmax
#### 6.4.3.1 Definition and applicability
ACMmax gives the maximum value of ACM, at which the current chargeable calls
shall be terminated and no further calls may be made (except emergency calls).
#### 6.4.3.2 Conformance requirement
ACM shall be incremented by the value of CCM.
If the ACMmax is valid, and the ACM becomes equal to or exceeds the value of
the ACMmax, then all calls in progress, chargeable to the user, shall be
terminated by the UE, once the chargeable interval determined by the CAI has
elapsed, (except emergency calls).
When used the value \'1C\' shall be used as SFI for EF~ACM~, for compatibility
reasons the terminal shall accept other values.
Reference:
\- TS 22.024 [8], subclauses 4.2.2 and 4.3 (part h);
\- ETSI TS 102 221 [5], subclause 14.1.3;
\- TS 31.102 [4], subclause 4.2.9, 5.3.4 and Annex H.1.
#### 6.4.3.3 Test purpose
> 1) To verify that the Terminal increments the ACM by the correct number of
> units, even though this may take ACM above ACMmax.
>
> 2) To verify that the Terminal terminates the call.
3) To verify that the INCREMENT EF~ACM~ command is performed correctly by the
terminal.
4) To verify that the Terminal is able to handle other values than \'1C\' as
SFI of EF~ACM~.
#### 6.4.3.4 Method of test
##### 6.4.3.4.1 Initial conditions
The Terminal shall be connected to a UICC or the USIM simulator, with all
elementary files coded as default with the exception of:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available;
User controlled PLMN selector available;
Fixed dialling numbers available;
The GSM Access available;
The Group Identifier level 1 and level 2 not available;
AoC available.
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xxxx xx11 xxx1 xxxx xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~ACM~ (Accumulated call meter)**
Logically: 80 units
* * *
Coding: B1 B2 B3 binary 0000 0000 0000 0000 0101 0000
* * *
The SFI of EF~ACM~ shall be set to \'18\'.
**EF~ACMmax~ (Accumulated call meter maximum)**
Logically: 94 units
* * *
Coding: B1 B2 B3 binary 0000 0000 0000 0000 0101 1110
* * *
The USS transmits on the BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
User Equipment:
The UE is in MM-state \"idle, updated\".
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 6.4.3.4.2 Procedure
a) The UE is made to initiate a call. The call establishment shall be
performed according to the procedures defined in TS 34.108 [21], subclause
7.2.3.2.3 extended by the messages of the AoCC. The call is established with
AoCC e-parameters sent in a Facility IE in the CONNECT message, as given
below. The UE returns the AoCC acknowledgement after the reception of the
CONNECT message. It is an implementation option whether the AoCC acknowledge
is sent by the UE before or after the CONNECT ACKNOWLEDGE.
b) The call is maintained until cleared by the UE (after 30 s).
c) The contents of ACM are checked.
Maximum Duration of Test:
2 minutes.
Expected Sequence A:
* * *
Step Direction Message Comments 1 UE The UE is made to initiate a call 2 UE ->
USS RRC CONNECTION REQUEST  
3 USS -> UE RRC CONNECTION SETUP  
4 UE -> USS RRC CONNECTION SETUP COMPLETE  
4A UE -> USS CM SERVICE REQUEST  
5 USS -> UE AUTHENTICATION REQUEST MM procedure, to ensure the successful
start of integrity in step 8 6 UE -> USS AUTHENTICATION RESPONSE  
7 USS -> UE SECURITY MODE COMMAND RRC procedure, start of integrity is
mandatory during call setup 8 UE -> USS SECURITY MODE COMPLETE  
9 UE -> USS SETUP  
10 USS -> UE CALL PROCEEDING  
11 USS -> UE RADIO BEARER SETUP To a supported channel type 12 UE -> USS RADIO
BEARER SETUP COMPLETE  
13 USS -> UE ALERTING  
14 USS -> UE CONNECT As default message except contains Facility IE with
contents as indicated in i) below Either A or B branch is taken A15 UE -> USS
CONNECT ACKNOWLEDGE  
A16 UE -> USS FACILITY As default message except contains Facility IE with
contents as indicated in ii) below B15 UE -> USS FACILITY As default message
except contains Facility IE with contents as indicated in ii) below B16 UE ->
USS CONNECT ACKNOWLEDGE  
17 call duration 30 s after CAI information sent by USS 18 UE -> USS
DISCONNECT  
19 USS -> UE RELEASE  
20 UE -> USS RELEASE COMPLETE  
21 USS -> UE RRC CONNECTION RELEASE All connections of RRC are released. 22 UE
-> USS RRC CONNECTION RELEASE COMPLETE
* * *
Expected Sequence B:
* * *
Step Direction Message Comments 1 UE The UE is made to initiate a call 2 UE ->
SS CHANNEL REQUEST  
3 SS -> UE IMMEDIATE ASSIGNMENT  
4 UE -> SS CM SERVICE REQUEST  
5 SS -> UE CM SERVICE ACCEPT  
6 UE -> SS SETUP  
7 SS -> UE CALL PROCEEDING  
8 SS -> UE ASSIGNMENT COMMAND To a supported channel type 9 UE -> SS
ASSIGNMENT COMPLETE  
10 SS -> UE ALERTING  
11 SS -> UE CONNECT As default message except contains Facility IE with
contents as indicated in i) below Either A or B branch is taken A12 UE -> SS
CONNECT ACKNOWLEDGE  
A13 UE -> SS FACILITY As default message except contains Facility IE with
contents as indicated in ii) below B12 UE -> SS FACILITY As default message
except contains Facility IE with contents as indicated in ii) below B13 UE ->
SS CONNECT ACKNOWLEDGE  
14 call duration 30 s after CAI information sent by SS 15 UE -> SS DISCONNECT  
16 SS -> UE RELEASE  
17 UE -> SS RELEASE COMPLETE  
18 SS -> UE CHANNEL RELEASE The main signalling link is released.
* * *
Specific Message Contents:
7) **FACILITY Information Element** with **Invoke = ForwardChargeInformation**
component type as defined in TS 24.080 [17], subclause 3.6.1 table 3.3.
For ASN.1 description see default message contents in TS 51.010‑1 [22],
subclause 31.6.4.
The values of the e-parameters within the parameter part of the Facility
Information Element shall be set as below:
e-parameters:
* * *
parameter: e1 e2 e3 e4 e5 e6 e7 value 10 10 1 0 0 0 0
* * *
Values shown in table are in the format and have units as in TS 22.024 [8],
clause 3.
**ii) FACILITY Information Element** with **Return Result** component type as
defined in TS 24.080 [17], subclause 3.6.1 table 3.4.
For ASN.1 description see default message contents in TS 51.010‑1 [22],
subclause 31.6.4.
#### 6.4.3.5 Acceptance criteria
1) The UE shall terminate the call correctly 30 s after CAI was sent.
2) The value of ACM shall be 100 units.
### 6.4.4 Response codes of increase command of ACM
#### 6.4.4.1 Definition and applicability
ACM has a maximum value in terms of coding, and an attempt by the Terminal to
exceed that value by sending an INCREASE command shall result in an error
message from the USIM. As the maximum of the ACM is equal to the maximum value
of ACMmax, all current chargeable calls shall be terminated and no further
calls may be made (except emergency calls).
#### 6.4.4.2 Conformance requirement
The Terminal shall perform the increasing procedure, sending the amount to be
increased.
The running accumulated charge shall be stored in the ACM of the USIM.
Where this charge cannot be stored in the UE, use of the telecommunications
service shall be prevented.
At the time ACM exceeds it\'s maximum value, then all calls in progress,
chargeable to the user, shall be terminated by the UE, once the chargeable
interval determined by the CAI has elapsed, (except emergency calls).
When used the value \'1C\' shall be used as SFI for EF~ACM~, for compatibility
reasons the terminal shall accept other values.
References:
\- TS 31.102 [4], subclauses 4.2.9, 5.3.4 and Annex H.1;
\- TS 22.086 [18], subclauses 2.1 and 2.2.1.
#### 6.4.4.3 Test purpose
1) To verify that the Terminal clears a charged call if the USIM indicates
that the ACM cannot be increased.
2) To verify that the Terminal is able to handle other values than \"1C\" as
SFI of EF~ACM~.
#### 6.4.4.4 Method of test
##### 6.4.4.4.1 Initial conditions
The Terminal shall be connected to the USIM simulator, with all elementary
files coded as default with the exception of:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available;
User controlled PLMN selector available;
Fixed dialling numbers available;
The GSM Access available;
The Group Identifier level 1 and level 2 not available;
AoC available.
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xxxx xx11 xxx1 xxxx xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~ACM~ (Accumulated call meter)**
Logically: (Maximum value -- 10) units
* * *
Coding: B1 B2 B3 binary 1111 1111 1111 1111 1111 0101
* * *
The SFI of EF~ACM~ shall be set to \"18\".
**EF~ACMmax~ (Accumulated call meter maximum)**
Logically: (Maximum value -- 2) units
* * *
Coding: B1 B2 B3 binary 1111 1111 1111 1111 1111 1101
* * *
The USS transmits on the BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
User Equipment:
The UE is in MM-state \"idle, updated\".
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 6.4.4.4.2 Procedure
a) The UE is made to initiate a call. The call establishment shall be
performed according to the procedures defined in TS 34.108 [21], subclause
7.2.3.2.3 extended by the messages of the AoCC. The call is established with
AoCC e-parameters sent in a Facility IE in the CONNECT message, as given
below. The UE returns the AoCC acknowledgement after reception of the CONNECT
message. It is an implementation option whether the AoCC acknowledge is sent
by the UE before or after the CONNECT ACKNOWLEDGE.
b) After an interval has elapsed, the Terminal increments the ACM. When an
INCREASE command is received, the USIM-simulator sends back the error \"98
50\".
c) Conditions are reset to those described in the initial conditions. Steps a)
and b) of the test are repeated, except that the error code sent by the USIM
simulator at step b) is now \"6F xx\".
> d) Conditions are reset to those described in the initial conditions. Steps
> a) and b) of the test are repeated, except that the error code sent by the
> USIM simulator at step b) is now \"65 81\".
References:
\- ETSI TS 102 221 [5], subclause 10.2.1.
Maximum Duration of Test:
3 minutes.
Expected Sequence A:
* * *
Step Direction Message Comments 1 UE The UE is made to initiate a call 2 UE ->
USS RRC CONNECTION REQUEST  
3 USS -> UE RRC CONNECTION SETUP  
4 UE -> USS RRC CONNECTION SETUP COMPLETE  
4A UE -> USS CM SERVICE REQUEST  
5 USS -> UE AUTHENTICATION REQUEST MM procedure, to ensure the successful
start of integrity in step 8 6 UE -> USS AUTHENTICATION RESPONSE  
7 USS -> UE SECURITY MODE COMMAND RRC procedure, start of integrity is
mandatory during call setup 8 UE -> USS SECURITY MODE COMPLETE  
9  
10 UE -> USS SETUP  
11 USS -> UE CALL PROCEEDING  
12 USS -> UE RADIO BEARER SETUP To a supported channel type 13 UE -> USS RADIO
BEARER SETUP COMPLETE  
14 USS -> UE ALERTING  
15 USS -> UE CONNECT As default message except contains Facility IE with
contents as indicated in i) below Either A or B branch is taken A16 UE -> USS
CONNECT ACKNOWLEDGE  
A17 UE -> USS FACILITY As default message except contains Facility IE with
contents as indicated in ii) below B16 UE -> USS FACILITY As default message
except contains Facility IE with contents as indicated in ii) below B17 UE ->
USS CONNECT ACKNOWLEDGE  
18 call duration 10s after CAI information sent by USS 19 UE -> USS DISCONNECT  
20 USS -> UE RELEASE  
21 UE -> USS RELEASE COMPLETE  
22 USS -> UE RRC CONNECTION RELEASE All connections of RRC are released. 23 UE
-> USS RRC CONNECTION RELEASE COMPLETE
* * *
Expected Sequence B:
* * *
Step Direction Message Comments 1 UE The UE is made to initiate a call 2 UE ->
SS CHANNEL REQUEST  
3 SS -> UE IMMEDIATE ASSIGNMENT  
4 UE -> SS CM SERVICE REQUEST  
5 SS -> UE CM SERVICE ACCEPT  
6 UE -> SS SETUP  
7 SS -> UE CALL PROCEEDING  
8 SS -> UE ASSIGNMENT COMMAND To a supported channel type 9 UE -> SS
ASSIGNMENT COMPLETE  
10 SS -> UE ALERTING  
11 SS -> UE CONNECT As default message except contains Facility IE with
contents as indicated in i) below Either A or B branch is taken A12 UE -> SS
CONNECT ACKNOWLEDGE  
A13 UE -> SS FACILITY As default message except contains Facility IE with
contents as indicated in ii) below B12 UE -> SS FACILITY As default message
except contains Facility IE with contents as indicated in ii) below B13 UE ->
SS CONNECT ACKNOWLEDGE  
14 call duration 10s after CAI information sent by SS 15 UE -> SS DISCONNECT  
16 SS -> UE RELEASE  
17 UE -> SS RELEASE COMPLETE  
18 SS -> UE CHANNEL RELEASE The main signalling link is released.
* * *
Specific Message Contents:
7) **FACILITY Information Element** with **Invoke = ForwardChargeInformation**
component type as defined in TS 24.080 [17], subclause 3.6.1 table 3.3.
For ASN.1 description see default message contents in TS 51.010‑1 [22],
subclause 31.6.4.
The values of the e-parameters within the parameter part of the Facility
Information Element shall be set as below:
e-parameters:
* * *
parameter: e1 e2 e3 e4 e5 e6 e7 value 20 10 1 0 0 0 0
* * *
Values shown in table are in the format and have units as in TS 22.024 [8],
clause 3.
**ii) FACILITY Information Element** with **Return Result** component type as
defined in TS 24.080 [17], subclause 3.6.1 table 3.4.
For ASN.1 description see default message contents in TS 51.010‑1 [22],
subclause 31.6.4.
#### 6.4.4.5 Acceptance criteria
1) The UE shall terminate the call correctly 10 s after CAI was sent.
2) In each of the three cases, as described in steps b), c) and d) of the
procedure, the UE shall terminate the call correctly when it receives an
indication from the USIM that the ACM cannot be incremented.
# 7 PLMN related tests
## 7.1 FPLMN handling
### 7.1.1 Adding FPLMN to the Forbidden PLMN list
#### 7.1.1.1 Definition and applicability
A list of forbidden PLMNs stored in the USIM and providing storage for at
least 4 entries is managed by the UE. In automatic PLMN selection mode the UE
controls registration attempts to appropriate networks with respect to this
list of forbidden PLMNs. As a result of a registration reject with the cause
\"PLMN not allowed\" the UE stores the PLMN which rejected the update request
in the USIM.
The registration attempts initiated by the 3G UE depends on UEs capabilities
and can be one of the following:
> I. registration procedures for UEs supporting CS or
II. registration procedures for UEs supporting PS or
III. registration procedures for UEs supporting CS/PS
#### 7.1.1.2 Conformance requirement
In case of a 2G terminal:
1) In automatic PLMN selection mode the UE shall only attempt a LOCATION
UPDATE if it receives a BCCH containing a LAI that is not indicated in the
EF~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 2.3;
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
2) After receipt of a LOCATION UPDATING REJECT message with the cause \"PLMN
not allowed\" the Terminal shall update the EF~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 2.3;
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
3) After call termination the USIM shall contain the correct Ciphering Key
Sequence Number.
Reference:
\- TS 31.102 [4], subclauses 5.1.2, 5.2.5 and 5.2.6;
\- TS 21.111 [19], subclause 10.1.
4) After call termination the USIM shall contain the correct TMSI and location
information received by the UE.
Reference:
\- TS 31.102 [4], subclauses 5.1.2, 5.2.5 and 5.2.6;
\- TS 21.111 [19], subclause 10.1.
In case of a 3G terminal:
1) Depending on which domain the UE is going to be registered on, one of the
following requirements should be fulfilled:
I. In automatic PLMN selection mode the UE shall only attempt a LOCATION
UPDATING REQUEST during registration on CS if it receives a BCCH containing a
PLMN(MCC,MNC) that is not indicated in the EF ~FPLMN~ in the USIM or
II. in automatic PLMN selection mode the UE shall only attempt a ATTACH
REQUEST during registration on PS if it receives a BCCH containing a
PLMN(MCC,MNC) that is not indicated in the EF~FPLMN~ in the USIM or
III. in automatic PLMN selection mode the UE shall only attempt a LOCATION
UPDATING REQUEST and/or ATTACH REQUEST during registration on CS/PS if it
receives a BCCH containing a PLMN(MCC,MNC) that is not indicated in the
EF~FPLMN~ in the USIM.
> Reference:
\- TS 22.011 [6], subclause 2.3;
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
2) Depending on which domain the UE is going to be on, one of the following
requirements should be fulfilled:
I. After receipt of a LOCATION UPDATING REJECT message during registration on
CS with the cause \"PLMN not allowed\" the Terminal shall update the EF
~FPLMN~ in the USIM or.
II. after receipt of a ATTACH REJECT message during registration on PS with
the cause \"PLMN not allowed\" the Terminal shall update the EF~FPLMN~ in the
USIM or
III. after receipt of a LOCATION UPDATING REJECT and/or ATTACH REJECT message
during registration on CS/PS with the cause \"PLMN not allowed\" the Terminal
shall update the EF~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 3.2.2 2.3;
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
3) After call termination the USIM shall contain the correct Key Set
Identifier.
4) Depending on which domain the UE is going to be registered on, one of the
following requirements should be fulfilled:
I. after registration on CS the USIM shall contain the correct TMSI and
location information received by the UE or
II. after registration on PS the USIM shall contain the correct P-TMSI and
routing information received by the UE or
III. after registration on CS/PS the USIM shall contain the correct TMSI,
P-TMSI, location information and routing information received by the UE.
Reference:
\- TS 31.102 [4], subclauses 5.1.2, 5.2.5 and 5.2.6;
\- TS 21.111 [6], subclause 10.1.
5) After call termination the USIM shall contain the correct TMSI and location
information received by the UE.
Reference:
\- TS 31.102 [4], subclauses 5.1.2, 5.2.5 and 5.2.6;
\- TS 21.111 [6], subclause 10.1.
#### 7.1.1.3 Test purpose
In case of a 2G terminal:
1) To verify that in automatic PLMN selection mode the UE does not attempt to
access PLMNs stored in EF~FPLMN~ on the USIM.
2) To verify that the EF~FPLMN~ is correctly updated by the Terminal after
receipt of a LOCATION UPDATING REJECT message with cause \"PLMN not allowed\".
3) To verify that the EF~LOCI~ has been correctly updated by the Terminal.
In case of a 3G terminal:
1) To verify that in automatic PLMN selection mode the UE does not attempt to
access PLMNs stored in EF~FPLMN~ on the USIM.
2) To verify that after receipt of a
I. LOCATION UPDATING REJECT message with cause \"PLMN not allowed\" during
registration on CS\ the Terminal correctly updates EF~FPLMN~ and EF~Keys~, or
II. ATTACH REJECT message with cause \"PLMN not allowed\" during registration
on PS\ the Terminal correctly updates EF~FPLMN~ and EF~KeysPS~, or
III. LOCATION UPDATING REJECT and/or ATTACH REJECT message with cause \"PLMN
not allowed\" during registration on CS/PS the Terminal correctly updates
EF~FPLMN~, EF~Keys~ and EF~KeysPS~.
3) To verify that
I. the EF~LOCI~ has been correctly updated by the Terminal during registration
on CS or.
II. the EF~PSLOCI~ has been correctly updated by the Terminal during
registration on PS or.
III. the EF~LOCI~ and EF~PSLOCI~ have been correctly updated by the Terminal
during registration on CS/PS.
4) (void)
#### 7.1.1.4 Method of test
##### 7.1.1.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 234/002/0001.
\- RAI (MCC/MNC/LAC/RAC): 234/002/0001/05. (only for UTRAN cell)
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted
The default UICC is used with the following exception:
**EF~IMSI~ (IMSI)**
Logically: 246081111111111
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 Hex 08 29 64 80 11 11 11 11 11
* * *
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 234
LAI-MNC: 007
LAI-LAC: 0000
TMSI: \"32547698\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 32 54 76 98 32 74 00 00 00 FF
00
* * *
**EF~PSLOCI~ (Packet Switched location Information)**
Logically: RAI-MCC: 234
RAI-MNC: 007
RAI-LAC: 0000
RAI-RAC: 05
P-TMSI: \"32547698\"
P-TMSI signature value: \"112233\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 32 54 76 98 11 22 33 32 74 00
00
            B12   B13   B14                                       
            00    05    00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
**EF~Keys~ (Ciphering and Integrity Keys)**
Logically: Key Set Identifier KSI: 02
Ciphering Keys CK: undefined
Integrity Keys IK: undefined
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 02 xx xx ... xx xx xx ...
xx xx xx
* * *
**EF~KeysPS~ (Ciphering and Integrity Keys for Packet Switched domain)**
Logically: Key Set Identifier KSI: 02
Ciphering Keys CK: undefined
Integrity Keys IK: undefined
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 02 xx xx ... xx xx xx ...
xx xx xx
* * *
In case of a Terminal accessing UTRAN \"Expected Sequence A\" shall be
performed and in case of a Terminal accessing a GERAN \"Expected Sequence B\"
shall be performed.
##### 7.1.1.4.2 Procedure
Expected Sequence A:
a) The UE is powered on.
b) The USS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
PLMN (MCC/MNC): 234/003
The USS then resumes RF output on the BCCH.
> c) The USS stops all RF output on the BCCH for a long enough period of time
> to cause a cell reselection procedure in the UE. The BCCH is changed to
> contain:
PLMN (MCC/MNC): 234/004
The USS then resumes RF output on the BCCH.
> d) The USS stops all RF output on the BCCH for a long enough period of time
> to cause a cell reselection procedure in the UE. The BCCH is changed to
> contain:
PLMN (MCC/MNC): 234/005
The USS then resumes RF output on the BCCH.
> e) The USS stops all RF output on the BCCH for a long enough period of time
> to cause a cell reselection procedure in the UE. The BCCH is changed to
> contain:
LAI (MCC/MNC/LAC): 234/007/0001
RAI (MCC/MNC/LAC/RAC): 234/007/0001/05
The USS then resumes RF output on the BCCH.
f) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
g) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS performs authentication and starts integrity protection,
sends LOCATION UPDATING REJECT to the UE with cause \"PLMN Not Allowed\",
followed by RRC CONNECTION RELEASE, followed by RRC CONNECTION RELEASE
COMPLETE sent by the UE to the USS.
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS performs authentication and starts integrity protection, sends
ATTACH REJECT to the UE with cause \"PLMN Not Allowed\", followed by RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or
III.During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS performs authentication and
starts integrity protection, sends LOCATION UPDATING REJECT and/or ATTACH
REJECT to the UE with cause \"PLMN Not Allowed\", followed by RRC CONNECTION
RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE to the
USS.
The USS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
LAI (MCC/MNC/LAC): 234/008/0001
RAI (MCC/MNC/LAC/RAC): 234/008/0001/05
The USS then resumes RF output on the BCCH.
h) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
i) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 234/008/0001
TMSI: \"43658709\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT to the UE with:
RAI (MCC/MNC/LAC/RAC): 234/008/0001/05
P-TMSI: \"43658709\"
P-TMSI signature value \"443322\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT with some of the following values to the UE with:
LAI (MCC/MNC/LAC): 234/008/0001
TMSI: \"43658709\"
RAI (MCC/MNC/LAC/RAC): 234/008/0001/05
P-TMSI: \"43658709\"
P-TMSI signature value \"443322\"
j) After passing through the authentication procedure and after receipt of
I. TMSI REALLOCATION COMPLETE during registration on CS from the UE the USS
sends RRC CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS or.
II. ATTACH COMPLETE during registration on PS from the UE, the USS sends RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or.
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE during registration on
CS/PS from the UE, the USS sends RRC CONNECTION RELEASE, followed by RRC
CONNECTION RELEASE COMPLETE sent by the UE to the USS.
k) The UE is soft powered down.
Expected Sequence B:
a) The UE is powered on.
b) The SS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
PLMN (MCC/MNC): 234/003
The SS then resumes RF output on the BCCH.
c) The SS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
PLMN (MCC/MNC): 234/004
The SS then resumes RF output on the BCCH.
d) The SS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
PLMN (MCC/MNC): 234/005
The SS then resumes RF output on the BCCH.
e) The SS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
LAI (MCC/MNC/LAC): 234/007/0001
The SS then resumes RF output on the BCCH.
f) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
g) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING REJECT to the UE with cause \"PLMN Not Allowed\", followed
by CHANNEL RELEASE.
The SS stops all RF output on the BCCH for a long enough period of time to
cause a cell reselection procedure in the UE. The BCCH is changed to contain:
LAI (MCC/MNC/LAC): 234/008/0001
The SS then resumes RF output on the BCCH.
h) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
i) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
> LAI (MCC/MNC/LAC): 234/008/0001
>
> TMSI: \"43658709\"
>
> to the UE.
j) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
k) The UE is soft powered down.
#### 7.1.1.5 Acceptance criteria
1) After each of the steps a) to d) the UE shall not attempt a LOCATION
UPDATING and not a ATTACH procedure.
2) After step f) the 2G UE shall send LOCATION UPDATING REQUEST to the SS and
a 3G terminal shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST during registration on PS or
> III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
> registration on CS/PS.
2a) After step g) a terminal accessing UTRAN shall update
I. during the rejected registration attempt on CS or
> **EF~Keys~ (Ciphering and Integrity Keys)**
>
> Logically: Key Set Identifier KSI: 07 (no key available)
>
> Ciphering Keys CK: xx
>
> Integrity Keys IK: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 07 xx xx ... xx xx xx ...
xx xx Xx
* * *
II. during the rejected registration attempt on PS or
> **EF~KeysPS~ (Ciphering and Integrity Keys for Packet Switched domain)**
>
> Logically: Key Set Identifier KSIPS: 07 (no key available)
>
> Ciphering Keys CKPS: xx
>
> Integrity Keys IKPS: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 07 xx xx ... xx xx xx ...
xx xx Xx
* * *
> III. during the rejected registration attempt on CS/PS.
>
> **EF~Keys~ (Ciphering and Integrity Keys)**
>
> Logically: Key Set Identifier KSI: 07 (no key available)
>
> Ciphering Keys CK: xx
>
> Integrity Keys IK: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 07 xx xx ... xx xx xx ...
xx xx Xx
* * *
> **EF~KeysPS~ (Ciphering and Integrity Keys for Packet Switched domain)**
>
> Logically: Key Set Identifier KSIPS: 07 (no key available)
>
> Ciphering Keys CKPS: xx
>
> Integrity Keys IKPS: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 07 xx xx ... xx xx xx ...
xx xx Xx
* * *
3) After step h) the 2G UE shall send LOCATION UPDATING REQUEST to the SS and
a 3G terminal shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST during registration on PS or
> III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
> registration on CS/PS.
4) After step i) the 2G UE shall respond with TMSI REALLOCATION COMPLETE to
the SS and a 3G terminal shall respond with
I. TMSI REALLOCATION COMPLETE to the USS during registration on CS or
II. ATTACH COMPLETE during registration on PS or
> III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE to the USS during
> registration on CS/PS.
>
> 5) After step k) the USIM shall contain the following values:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 002 (MCC MNC)
PLMN2: 234 003
PLMN3: 234 004
PLMN4: 234 005
PLMN5: 234 006
PLMN6: 234 007
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 24 00 32 34 00 32 44 00
32 54 00
            B13   B14   B15   B16   B17   B18                              
            32    64    00    32    74    00
* * *
For 2G terminals and 3G terminals supporting (CS and PS) or (CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 234
LAI-MNC: 008
TMSI: \"43658709\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 43 65 87 09 32 84 00 xx xx xx
00
* * *
For 3G terminals supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 234
RAI-MNC: 008
P-TMSI: \"43658709\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 43 65 87 09 xx xx xx 32 84 00
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
**In case of a Terminal accessing GERAN:**
**EF~Keys~ (Ciphering and Integrity Keys)**
Logically: Key Set Identifier KSI: 07 (not available)
Ciphering Keys CK: xx
Integrity Keys IK: xx
* * *
Coding: B1 B2 B3 ... B16 B17 B18 ... B31 B32 B33 Hex 07 xx xx ... xx xx xx ...
xx xx Xx
* * *
### 7.1.2 UE updating forbidden PLMNs
#### 7.1.2.1 Definition and applicability
A list of forbidden PLMNs stored in the USIM provides storage for at least 4
entries, and is managed by the UE. In automatic PLMN selection mode the UE
controls registration attempts to appropriate networks with respect to this
list of forbidden PLMNs. As a result of a registration reject with the cause
\"PLMN not allowed\" the UE stores the PLMN which rejected the update request
in the USIM.
The registration attempts initiated by the 3G UE depends on UEs capabilities
and can be one of the following:
> I. registration procedures for UEs supporting CS or
II. registration procedures for UEs supporting PS or
III. registration procedures for UEs supporting CS/PS
#### 7.1.2.2 Conformance requirement
In case of a 2G terminal:
After the receipt of a LOCATION UPDATING REJECT message with the cause \"PLMN
not allowed\" the UE shall update the EF~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 3.2.2.4.
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
In case of a 3G terminal:
Depending on which domain the UE will be registered on, one of the following
requirements should be fulfilled:
> I. After the receipt of a LOCATION UPDATING REJECT message during
> registration on CS with the cause \"PLMN not allowed\" the UE shall update
> the EF ~FPLMN~ in the USIM or
>
> II. after receipt of a ATTACH REJECT message during registration on PS with
> the cause \"PLMN not allowed\" the Terminal shall update the EF ~FPLMN~ in
> the USIM or
>
> III. after receipt of a LOCATION UPDATING REJECT and/or ATTACH REJECT
> message during registration on CS/PS with the cause \"PLMN not allowed\" the
> Terminal shall update the EF ~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 3.2.2.4.
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
#### 7.1.2.3 Test purpose
To verify that the UE correctly updates the EF~FPLMN~, i.e. fill up existing
gaps in the elementary file before overwriting any existing entries.
#### 7.1.2.4 Method of test
##### 7.1.2.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 234/002/0001.
\- RAI (MCC/MNC/LAC/RAC): 234/002/0001/05 (only for UTRAN cell)
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted
The default UICC is used with the following exception:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: empty
PLMN3: 234 003
PLMN4: 234 004
PLMN5: 234 005
PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 FF FF FF 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 7.1.2.4.2 Procedure
Expected Sequence A:
a) The UE is powered on.
b) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
c) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS performs authentication and starts integrity protection,
sends LOCATION UPDATING REJECT to the UE with the cause \"PLMN not allowed\",
followed by RRC CONNECTION RELEASE, followed by RRC CONNECTION RELEASE
COMPLETE sent by the UE to the USS or
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS performs authentication and starts integrity protection, sends
ATTACH REJECT to the UE with cause \"PLMN Not Allowed\", followed by RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS performs authentication and
starts integrity protection, sends LOCATION UPDATING REJECT and/or ATTACH
REJECT to the UE with cause \"PLMN Not Allowed\", followed by RRC CONNECTION
RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE to the
USS.
d) The UE is soft powered down.
Expected Sequence B:
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING REJECT to the UE with cause \"PLMN Not Allowed\", followed
by CHANNEL RELEASE.
d) The UE is soft powered down.
#### 7.1.2.5 Acceptance criteria
1) After step b) the 2G UE shall send LOCATION UPDATING REQUEST to the SS and
the 3G terminal shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST during registration on PS or
III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
registration on CS/PS.
> 2) After step d) the USIM shall contain:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: 234 002
PLMN3: 234 003
PLMN4: 234 004
PLMN5: 234 005
PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 24 00 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
or
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: 234 003
PLMN3: 234 004
PLMN4: 234 005
PLMN5: 234 006
PLMN6: 234 002
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 34 00 32 44 00
32 54 00
            B13   B14   B15   B16   B17   B18                              
            32    64    00    32    24    00
* * *
### 7.1.3 UE deleting forbidden PLMNs
#### 7.1.3.1 Definition and applicability
In manual PLMN selection mode the UE allows registration attempts to all
available PLMNs, including forbidden PLMNs (as indicated by the forbidden PLMN
list on the USIM). As a result of a successful registration procedure onto a
PLMN which is in the forbidden PLMN list, the forbidden PLMN list is
automatically updated by the UE.
The registration attempts initiated by the 3G UE depends on Ues capabilities
and can be one of the following:
> I. registration procedures for Ues supporting CS or
II. registration procedures for Ues supporting PS or
III. registration procedures for Ues supporting CS/PS
#### 7.1.3.2 Conformance requirement
In case of a 2G terminal:
1) In manual PLMN selection mode the UE shall be able to perform a LOCATION
UPDATING attempt to a PLMN which is in the forbidden PLMN list.
\- TS 22.011 [6], subclause 3.2.2.2.
2) After receipt of LOCATION UPDATING ACCEPT the UE shall delete the forbidden
PLMN from the forbidden PLMN list.
\- TS 22.011 [6], subclause 3.2.2.4.
In case of a 3G terminal:
1) Depending on which domain the UE will be registered on, one of the
following requirements should be fulfilled:
I. In manual PLMN selection mode the UE shall be able to perform a LOCATION
UPDATING attempt during registration on CS to a PLMN which is in the forbidden
PLMN list or
II. In manual PLMN selection mode the UE shall be able to perform a ATTACH
attempt during registration on PS to a PLMN which is in the forbidden PLMN
list or
III. In manual PLMN selection mode the UE shall be able to perform a LOCATION
UPDATING and/or ATTACH attempt during registration on CS/PS to a PLMN which is
in the forbidden PLMN list.
\- TS 22.011 [6], subclause 3.2.2.2.
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
2) Depending on which domain the UE is going to be registered on, one of the
following requirements should be fulfilled:
I. After receipt of LOCATION UPDATING ACCEPT message during registration on CS
the UE shall delete the forbidden PLMN from the forbidden PLMN list OR
II. After receipt of ATTACH ACCEPT message during registration on PS the UE
shall delete the forbidden PLMN from the forbidden PLMN list or
III. After receipt of LOCATION UPDATING ACCEPT and/or ATTCH ACCEPT message
during registration on CS/PS the UE shall delete the forbidden PLMN from the
forbidden PLMN list.
\- TS 22.011 [6], subclause 3.2.2.4.
#### 7.1.3.3 Test purpose
1) To verify that the 2G UE is able to perform a LOCATION UPDATING on a
forbidden PLMN in manual PLMN selection mode or to verify that the 3G UE is
able to perform
I. a LOCATION UPDATING REQUEST during registration on CS on a forbidden PLMN
in manual PLMN selection mode or
II. a ATTACH REQUEST during registration on PS on a forbidden PLMN in manual
PLMN selection mode or
III. a LOCATION UPDATING REQUEST and/or ATTACH REQUEST during registration on
CS/PS on a forbidden PLMN in manual PLMN selection mode.
2) To verify that the UE after a successful registration attempt deletes the
PLMN in the EF~FPLMN~ on the USIM.
#### 7.1.3.4 Method of test
##### 7.1.3.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 234/005/0001.
\- RAI (MCC/MNC/LAC/RAC): 234/005/0001/05 (only for UTRAN cell).
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted
The default UICC is used with the following exception:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: empty
PLMN2: empty
PLMN3: empty
PLMN4: empty
PLMN5: 234 005 (MCC MNC)
PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex FF FF FF FF FF FF FF FF FF
FF FF FF
            B13   B14   B15   B16   B17   B18                              
            32    54    00    FF    FF    FF
* * *
The UICC is installed into the Terminal and the UE is set to manual PLMN
selection mode.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 7.1.3.4.2 Procedure
Expected Sequence A:
a) The UE is powered on.
b) PLMN with MCC/MNC of 234/005 is manually selected.
c) After receipt of a RRC CONNECTION REQUEST from the UE, the USS sends RRC
CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by
the UE to the USS.
d) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT with to the UE:
> LAI (MCC/MNC/LAC): 234/005/0001
>
> TMSI: \"12345678\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT with to the UE:
> RAI (MCC/MNC/LAC/RAC): 234/005/0001/05
>
> P-TMSI: \"12345678\"
>
> P-TMSI signature value \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT with some of the following values to the UE with:
> LAI (MCC/MNC/LAC): 234/005/0001
>
> TMSI: \"12345678\"
>
> RAI (MCC/MNC/LAC/RAC): 234/005/0001/05
>
> P-TMSI: \"12345678\"
>
> P-TMSI signature value \"AB1234\"
e) After passing through the authentication procedure and after receipt of
I. TMSI REALLOCATION COMPLETE during registration on CS from the UE, the USS
sends RRC CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS or
II. ATTACH COMPLETE during registration on PS from the UE, the USS sends RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or.
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE during registration on
CS/PS from the UE, the USS sends RRC CONNECTION RELEASE, followed by RRC
CONNECTION RELEASE COMPLETE sent by the UE to the USS.
f) The UE is soft powered down.
Expected Sequence B:
a) The UE is powered on.
b) PLMN with MCC/MNC of 234/005 is manually selected.
c) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
d) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 234/005/0001
TMSI: \"12345678\"
to the UE.
e) After receipt of TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE.
f) The UE is soft powered down.
#### 7.1.3.5 Acceptance criteria
1) After step c) the 2G UE shall send LOCATION UPDATING REQUEST to the SS and
the 3G terminal shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST during registration on PS or
III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
registration on CS/PS.
2) After step d) the 2G UE shall respond with TMSI REALLOCATION COMPLETE and
the 3G terminal shall respond with
I. TMSI REALLOCATION COMPLETE to the USS during registration on CS or
II. ATTACH COMPLETE during registration on PS or
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE to the USS during
registration on CS/PS.
3) After step f) the USIM shall contain the following values:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: empty
PLMN2: empty
PLMN3: empty
PLMN4: empty
PLMN5: empty
PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex FF FF FF FF FF FF FF FF FF
FF FF FF
            B13   B14   B15   B16   B17   B18                              
            FF    FF    FF    FF    FF    FF
* * *
For 2G terminals and 3G terminals supporting CS only or CS/PS:
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 234
LAI-MNC: 005
TMSI: \"12345678\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 12 34 56 78 32 54 00 xx xx xx
00
* * *
**For UEs supporting PS only or CS/PS :**
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 234
RAI-MNC: 005
P-TMSI: \"12345678\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 12 34 56 78 xx xx xx 32 54 00
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.1.4 Adding FPLMN to the forbidden PLMN list when accessing E-UTRAN
#### 7.1.4.1 Definition and applicability
A list of forbidden PLMNs stored in the USIM and providing storage for at
least 4 entries is managed by the UE. In automatic PLMN selection mode the UE
controls registration attempts to appropriate networks with respect to this
list of forbidden PLMNs. As a result of a registration reject with the cause
\"PLMN not allowed\" the UE stores the PLMN which rejected the update request
in the USIM.
#### 7.1.4.2 Conformance requirement
1) In automatic PLMN selection mode the UE shall only attempt a
_AttachRequest_ during registration on E-UTRAN/EPS if it receives a BCCH
containing a PLMN (MCC,MNC) that is not indicated in the EF~FPLMN~ in the USIM
> Reference:
\- TS 22.011 [6], subclause 2.3;
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
2) After receipt of an _AttachReject_ message during registration on
E-UTRAN/EPS with the EMM cause \"PLMN not allowed\" the Terminal shall update
the EF~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 3.2.2 2;
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7
3) After receipt of an _AttachReject_ message during registration on
E-UTRAN/EPS with the EMM cause \"PLMN not allowed\" the Terminal shall update
the EF~EPSLOCI~ in the USIM.
Reference:
\- TS 24.301 [26], subclause 5.5.1.2.5;
\- TS 31.102 [4], subclauses 5.1.1 and 4.2.9.1.
3) After registration on E-UTRAN/EPS the USIM shall contain the correct GUTI
and TAI received by the UE.
Reference:
\- TS 31.102 [4], subclauses 5.1.2 and 4.2.9.1;
\- TS 21.111 [6], subclause 10.1.
#### 7.1.4.3 Test purpose
1) To verify that in automatic PLMN selection mode the UE does not attempt to
access PLMNs stored in EF~FPLMN~ on the USIM.
2) To verify that the EF~FPLMN~ is correctly updated by the Terminal after
receipt of a _AttachReject_ message with cause \"PLMN not allowed\" during
registration.
3) To verify that the EF~EPSLOCI~ has been correctly updated by the Terminal
during registration.
#### 7.1.4.4 Method of test
##### 7.1.4.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 234/002/0001.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 234/002/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.1.4.4.2 Procedure
a) The UE is powered on.
b) The E-USS/NB-SS stops all RF output on the BCCH for a long enough period of
time to cause a cell reselection procedure in the UE. The BCCH is changed to
contain:
PLMN (MCC/MNC): 234/003
The E-USS/NB-SS then resumes RF output on the BCCH.
> c) The E-USS/NB-SS stops all RF output on the BCCH for a long enough period
> of time to cause a cell reselection procedure in the UE. The BCCH is changed
> to contain:
PLMN (MCC/MNC): 234/004
The E-USS/NB-SS then resumes RF output on the BCCH.
d) The E-USS/NB-SS stops all RF output on the BCCH for a long enough > period
of time to cause a cell reselection procedure in the UE. > The BCCH is changed
to contain:
PLMN (MCC/MNC): 234/005
The E-USS/NB-SS then resumes RF output on the BCCH.
> e) The E-USS/NB-SS stops all RF output on the BCCH for a long enough period
> of time to cause a cell reselection procedure in the UE. The BCCH is changed
> to contain:
TAI (MCC/MNC/TAC): 234/007/0001
The E-USS/NB-SS then resumes RF output on the BCCH.
f) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the
UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
g) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS/NB-SS performs authentication and starts NAS integrity protection,
sends _AttachReject_ to the UE with cause \"PLMN Not Allowed\", followed by
_RRCConnectionRelease/RRCConnectionRelease-NB_.
h) The E-USS/NB-SS stops all RF output on the BCCH for a long enough period of
time to cause a cell reselection procedure in the UE. The BCCH is changed to
contain:
TAI (MCC/MNC/TAC): 234/008/0001
The E-USS/NB-SS then resumes RF output on the BCCH.
h) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the
UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
i) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS/NB-SS initiates authentication, starts integrity by using the
security procedure and sends _AttachAccept_ to the UE with:
TAI (MCC/MNC/TAC): 234/008/ 0001
GUTI: \"23400800010266436587\"
j) After receipt of _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_.
k) The UE is soft powered down.
#### 7.1.4.5 Acceptance criteria
1) After each of the steps a) to d) the terminal shall not attempt an Attach
procedure.
2) After step f) the terminal shall send _AttachRequest_ during registration.
3) After step h) the terminal shall send _AttachRequest_ during registration.
4) After step i) the terminal shall respond with _AttachComplete_ during
registration.
5) After step k) the USIM shall contain the following values:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 002 (MCC MNC)
PLMN2: 234 003
PLMN3: 234 004
PLMN4: 234 005
PLMN5: 234 006
PLMN6: 234 007
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 24 00 32 34 00 32 44 00
32 54 00
            B13   B14   B15   B16   B17   B18                              
            32    64    00    32    74    00
* * *
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 23400800010266436587
Last visited registered TAI: 234/008/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 32 84 00 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    32    84    00    00    01    00
* * *
### 7.1.5 UE updating forbidden PLMNs when accessing E-UTRAN
#### 7.1.5.1 Definition and applicability
A list of forbidden PLMNs stored in the USIM provides storage for at least 4
entries, and is managed by the UE. In automatic PLMN selection mode the UE
controls registration attempts to appropriate networks with respect to this
list of forbidden PLMNs. As a result of a registration reject with the cause
\"PLMN not allowed\" the UE stores the PLMN which rejected the update request
in the USIM.
#### 7.1.5.2 Conformance requirement
After receipt of a _AttachReject_ message during registration with the cause
\"PLMN not allowed\" the Terminal shall update the EF ~FPLMN~ in the USIM.
Reference:
\- TS 22.011 [6], subclause 3.2.2.4.
\- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
#### 7.1.5.3 Test purpose
To verify that the UE correctly updates the EF~FPLMN~, i.e. fill up existing
gaps in the elementary file before overwriting any existing entries.
#### 7.1.5.4 Method of test
##### 7.1.5.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 234/002/0001.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 234/002/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: empty
PLMN3: 234 003
PLMN4: 234 004
PLMN5: 234 005
PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 FF FF FF 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.1.5.4.2 Procedure
a) The UE is powered on.
b) After receipt of a _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the
UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS/NB-SS performs authentication and starts NAS integrity protection, sends
_AttachReject_ to the UE with cause \"PLMN Not Allowed\", followed by
_RRCConnectionRelease/RRCConnectionRelease-NB_.
d) The UE is soft powered down.
#### 7.1.5.5 Acceptance criteria
1) After step b) the terminal shall send _AttachRequest_ during registration.
2) After step d) the USIM shall contain:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: 234 002
PLMN3: 234 003
PLMN4: 234 004
PLMN5: 234 005
PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 24 00 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
or
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: 234 001 (MCC MNC)
PLMN2: 234 003
PLMN3: 234 004
PLMN4: 234 005
PLMN5: 234 006
PLMN6: 234 002
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 34 00 32 44 00
32 54 00
            B13   B14   B15   B16   B17   B18                              
            32    64    00    32    24    00
* * *
### 7.1.6 UE deleting forbidden PLMNs when accessing E-UTRAN
#### 7.1.6.1 Definition and applicability
In manual PLMN selection mode the UE allows registration attempts to all
available PLMNs, including forbidden PLMNs (as indicated by the forbidden PLMN
list on the USIM). As a result of a successful registration procedure onto a
PLMN which is in the forbidden PLMN list, the forbidden PLMN list is
automatically updated by the UE.
#### 7.1.6.2 Conformance requirement
> a) In manual PLMN selection mode the UE shall be able to perform a ATTACH
> attempt during registration to a PLMN which is in the forbidden PLMN list or
>
> \- TS 22.011 [6], subclause 3.2.2.2.
>
> \- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
>
> b) After receipt of _AttachAccept_ message during registration the UE shall
> delete the forbidden PLMN from the forbidden PLMN list or
>
> \- TS 22.011 [6], subclause 3.2.2.4.
#### 7.1.6.3 Test purpose
1) To verify that the terminal is able to perform an _AttachRequest_ during
registration on a forbidden PLMN in manual PLMN selection mode.
2) To verify that the UE after a successful registration attempt deletes the
PLMN in the EF~FPLMN~ on the USIM.
#### 7.1.6.4 Method of test
##### 7.1.6.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 234/005/0001.
\- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 234/005/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: empty
PLMN2: empty
PLMN3: empty
PLMN4: empty
PLMN5: 234 005 (MCC MNC)
PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex FF FF FF FF FF FF FF FF FF
FF FF FF
            B13   B14   B15   B16   B17   B18                              
            32    54    00    FF    FF    FF
* * *
The UICC is installed into the Terminal and the UE is set to manual PLMN
selection mode.
##### 7.1.6.4.2 Procedure
a) The UE is powered on.
b) PLMN with MCC/MNC of 234/005 is manually selected.
c) After receipt of a _RRCConnectRequest/RRCConnectionRequest-NB_ from the UE,
the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the UE,
followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by
the UE to the E-USS/NB-SS.
d) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS/NB-SS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 234/005/ 0001
GUTI: \"23400500010266436587\"
e) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_.
f) The UE is soft powered down.
#### 7.1.6.5 Acceptance criteria
1) After step c) the terminal shall send _AttachRequest_ during registration
2) After step d) the terminal shall respond with _AttachComplete_ during
registration
3) After step f) the USIM shall contain the following values:
**EF~FPLMN~ (Forbidden PLMNs)**
Logically: PLMN1: empty
PLMN2: empty
PLMN3: empty
PLMN4: empty
PLMN5: empty
PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex FF FF FF FF FF FF FF FF FF
FF FF FF
            B13   B14   B15   B16   B17   B18                              
            FF    FF    FF    FF    FF    FF
* * *
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 23400500010266436587
Last visited registered TAI: 234/005/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 32 54 00 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    32    54    00    00    01    00
* * *
### 7.1.7 Updating the Forbidden PLMN list after receiving non-integrity
protected reject message -- UTRAN
#### 7.1.7.1 Definition and applicability
A list of forbidden PLMNs stored in the USIM and providing storage for at
least 4 entries is managed by the UE. In automatic PLMN selection mode the UE
controls registration attempts to appropriate networks with respect to this
list of forbidden PLMNs. As a result of a registration reject with the cause
\"PLMN not allowed\" the UE stores the PLMN which rejected the update request
in the USIM.
#### 7.1.7.2 Conformance requirement
After receipt of a not integrity-protected LOCATION UPDATING REJECT and/or
ATTACH REJECT message during registration on CS/PS with the cause \"PLMN not
allowed\" the Terminal shall update the EF~FPLMN~ in the USIM thereafter that
VPLMN will not be accessed by the MS in automatic mode:
  * if the MS is not configured to use timer T3245, and the MS maintains a list of PLMN-specific attempt counters and the value of the PLMN-specific attempt counter for that VPLMN is equal to the MS implementation specific maximum value or;
  * if the MS is not configured to use timer T3245, and the MS is not maintain a list of PLMN-specific attempt counters
Reference:
> \- TS 23.122 [31], subclause 3.1.
>
> \- TS 22.011 [6], subclause 3.2.2 2.3;
>
> \- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
#### 7.1.7.3 Test purpose
To verify in automatic PLMN selection mode and after receipt of a LOCATION
UPDATING REJECT and/or ATTACH REJECT message with cause \"PLMN not allowed\"
during registration that the UE correctly updates EF~FPLMN~, in the following
cases:
  * if the UE maintains a list of PLMN-specific attempt counters, and the value of the PLMN-specific attempt counter for that VPLMN is equal to the MS implementation specific maximum value.
  * if the UE does not maintain a list of PLMN-specific attempt counters.
To verify that the UE correctly updates the EF~FPLMN~, i.e. fill up existing
gaps in the elementary file before overwriting any existing entries.
#### 7.1.7.4 Method of test
##### 7.1.7.4.1 Initial conditions
The USS transmits on the BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 234/002/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 234/002/0001/05.
>
> \- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 001 (MCC MNC)
>
> PLMN2: empty
>
> PLMN3: 234 003
>
> PLMN4: 234 004
>
> PLMN5: 234 005
>
> PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 FF FF FF 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
##### 7.1.7.4.2 Procedure
> a) The UE is powered on.
>
> b) Depending on which domain the UE is going to be registered on, the UE
> attempts to perform CS, PS or CS/PS registration to the USS.
>
> c) During registration and after receipt of a LOCATION UPDATING REQUEST
> and/or ATTACH REQUEST from the UE, the USS sends a not integrity-protected
> LOCATION UPDATING REJECT and/or ATTACH REJECT to the UE with cause \"PLMN
> Not Allowed\", followed by RRC CONNECTION RELEASE, followed by RRC
> CONNECTION RELEASE COMPLETE sent by the UE to the USS.
>
> d) ) if the UE supports A.1/38, perform step e) after the expiry of timer
> T3247, otherwise perform step f).
>
> e) Using the settings declared in table B.1/AER006, repeat step c) -- d)
> until the PLMN-specific attempt counters has reached the maximum value for
> that VPLMN.
>
> f) The UE is powered down
#### 7.1.7.5 Acceptance criteria
> 1) After step b) the terminal shall send a LOCATION UPDATING REQUEST and/or
> _AttachRequest_ during registration.
>
> 2) After steps c) the UE shall start the timer T3247 before the next
> registration attempt.
>
> 3) Depending on the support of A.1/38, either after step d) or step e), the
> EF~FPLMN~ in the USIM shall be updated as specified below.
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 001 (MCC MNC)
>
> PLMN2: 234 002
>
> PLMN3: 234 003
>
> PLMN4: 234 004
>
> PLMN5: 234 005
>
> PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 24 00 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
or
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 001 (MCC MNC)
>
> PLMN2: 234 003
>
> PLMN3: 234 004
>
> PLMN4: 234 005
>
> PLMN5: 234 006
>
> PLMN6: 234 002
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 34 00 32 44 00
32 54 00
            B13   B14   B15   B16   B17   B18                              
            32    64    00    32    24    00
* * *
### 7.1.8 Updating the Forbidden PLMN list after receiving non-integrity
protected reject message -- E-UTRAN
#### 7.1.8.1 Definition and applicability
A list of forbidden PLMNs stored in the USIM and providing storage for at
least 4 entries is managed by the UE. In automatic PLMN selection mode the UE
controls registration attempts to appropriate networks with respect to this
list of forbidden PLMNs. As a result of a registration reject with the cause
\"PLMN not allowed\" the UE stores the PLMN which rejected the update request
in the USIM.
#### 7.1.8.2 Conformance requirement
After receipt of a not integrity-protected ATTACH REJECT message during
registration with the cause \"PLMN not allowed\" the Terminal shall update the
EF~FPLMN~ in the USIM thereafter that VPLMN will not be accessed by the MS in
automatic mode:
  * if the MS is not configured to use timer T3245, and the MS maintains a list of PLMN-specific attempt counters and the value of the PLMN-specific attempt counter for that VPLMN is equal to the MS implementation specific maximum value or;
  * if the MS is not configured to use timer T3245, and the MS is not maintain a list of PLMN-specific attempt counters
Reference:
> \- TS 23.122 [31], subclause 3.1.
>
> \- TS 22.011 [6], subclause 3.2.2 2.3;
>
> \- TS 31.102 [4], subclauses 5.1.1 and 5.2.7.
#### 7.1.8.3 Test purpose
To verify in automatic PLMN selection mode and after receipt of _ATTACH
REJECT_ message with cause \"PLMN not allowed\" during registration that the
UE correctly updates EF~FPLMN~, for the following cases:
  * if the UE maintains a list of PLMN-specific attempt counters, and the value of the PLMN-specific attempt counter for that VPLMN is equal to the MS implementation specific maximum value.
  * if the UE does not maintain a list of PLMN-specific attempt counters.
To verify that the UE correctly updates the EF~FPLMN~, i.e. fill up existing
gaps in the elementary file before overwriting any existing entries.
#### 7.1.8.4 Method of test
##### 7.1.8.4.1 Initial conditions
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 234/002/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 234/002/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 001 (MCC MNC)
>
> PLMN2: empty
>
> PLMN3: 234 003
>
> PLMN4: 234 004
>
> PLMN5: 234 005
>
> PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 FF FF FF 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.1.8.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of a _RRCConnectionRequest/RRCConnectionRequest-NB_ from
> the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to
> the UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-
> NB_ sent by the UE to the E-USS/NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the E-USS/NB-SS sends non-integrity protected _AttachReject_ message to the
> UE with cause \"PLMN Not Allowed\", followed by
> _RRCConnectionRelease/RRCConnectionRelease-NB_.
>
> d) ) if the UE supports A.1/114, perform step e) after the expiry of timer
> T3247, otherwise perform step f).
>
> e) Using the settings declared in table B.1/AER006, repeat step c) -- d)
> until the PLMN-specific attempt counters has reached the maximum value for
> that VPLMN.
>
> f) The UE is powered down.
#### 7.1.8.5 Acceptance criteria
> 1) After step b) the terminal shall send _AttachRequest_ during
> registration.
>
> 2) After steps c) the UE shall start the timer T3247 before the next
> registration attempt.
>
> 3) Depending on the support of A.1/114, either after step d) or step e), the
> EF~FPLMN~ in the USIM shall be updated as specified below.
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 001 (MCC MNC)
>
> PLMN2: 234 002
>
> PLMN3: 234 003
>
> PLMN4: 234 004
>
> PLMN5: 234 005
>
> PLMN6: 234 006
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 24 00 32 34 00
32 44 00
            B13   B14   B15   B16   B17   B18                              
            32    54    00    32    64    00
* * *
or
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 001 (MCC MNC)
>
> PLMN2: 234 003
>
> PLMN3: 234 004
>
> PLMN4: 234 005
>
> PLMN5: 234 006
>
> PLMN6: 234 002
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 14 00 32 34 00 32 44 00
32 54 00
            B13   B14   B15   B16   B17   B18                              
            32    64    00    32    24    00
* * *
## 7.2 User controlled PLMN selector handling
### 7.2.1 UE updating the User controlled PLMN selector list
#### 7.2.1.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
UPLMNs on which the UE shall register. The Radio Access Technology identifier
defines the Radio network in which the UE shall register. The list is stored
on the USIM in the EF~PLMNwACT~. Update and deletion of PLMNs may be performed
by the subscriber.
#### 7.2.1.2 Conformance requirement
The UE shall correctly replace the selected UPLMN in the User controlled PLMN
selector list.
\- TS 31.102 [4], subclause 5.3.6.
#### 7.2.1.3 Test purpose
To verify that the UE correctly updates the EF~PLMNwACT~.
#### 7.2.1.4 Method of test
##### 7.2.1.4.1 Initial conditions
No USS/SS is required for this test.
The default UICC is used.
The UICC is installed into the Terminal and the UE is powered on.
##### 7.2.1.4.2 Procedure
a) The user shall initiate an MMI dependent procedure to change the second
UPLMN in the User controlled PLMN selector list to MCC/MNC of 567/02, the ACT
identifier shall set to UTRAN only.
b) The UE is soft powered down.
#### 7.2.1.5 Acceptance criteria
After step b) the USIM shall contain the following values:
**EF~PLMNwACT~ (UPLMN Selector)**
Logically: 1^st^ PLMN: 244 081 (MCC MNC)
1^st^ ACT: UTRAN
2^nd^ PLMN: 567 02
2^nd^ ACT UTRAN
3^rd^ PLMN: 244 082
3^rd^ ACT UTRAN
4^th^ PLMN: 244 082
4^th^ ACT GSM
5^th^ PLMN: 244 003
5^th^ ACT UTRAN
6^th^ PLMN: 244 004
6^th^ ACT UTRAN
7^th^ PLMN: 244 005
7^th^ ACT UTRAN
8^th^ PLMN: 244 006
8^th^ ACT UTRAN
9^th^ PLMN: 244 007
9^th^ ACT UTRAN
10^th^ PLMN: 244 008
10^th^ ACT UTRAN
11^th^ PLMN: 244 009
11^th^ ACT UTRAN
12^th^ PLMN: 244 010
12^th^ ACT UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 80 00
65 F7 20 80 00 42 24 80 80 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    24    80    00    80    42    34    00    80    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    64    00    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    80    00    42    94    00    80    00    42    04    10    80    00
* * *
### 7.2.2 UE recognising the priority order of the User controlled PLMN
selector list with the same access technology.
#### 7.2.2.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
UPLMNs on which the UE shall register. The Radio Access Technology identifier
defines the Radio network in which the UE shall register. The list is stored
on the USIM in the EF~PLMNwACT~. Update and deletion of UPLMNs may be
performed by the subscriber by the use of the PIN.
The registration attempts initiated by the terminal accessing UTRAN depends on
terminal\'s capabilities and can be one of the following:
> I. registration procedures for Ues supporting CS or
II. registration procedures for Ues supporting PS or
III. registration procedures for Ues supporting CS/PS
#### 7.2.2.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority
order of the UPLMNs in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2.
#### 7.2.2.3 Test purpose
To verify that the UPLMN with the higher priority (defined by its position in
EF~PLMNwACT~) takes precedence over the UPLMN with the lower priority when the
UE performs a network selection.
#### 7.2.2.4 Method of test
##### 7.2.2.4.1 Initial conditions
The USS (in case of a Terminal accessing UTRAN)/SS (in case of a Terminal
accessing a GERAN) transmits on two BCCHs, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/033/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/033/0001/05 (only for UTRAN cell).
\- Access control: unrestricted.
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/034/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/034/0001/05 (only for UTRAN cell).
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted
The default UICC is used with the following exception:
**EF~PLMNwACT~ (UPLMN Selector with Access Technology)**
Logically: 1^st^ PLMN: 244 081 (MCC MNC)
1^st^ ACT: UTRAN
2^nd^ PLMN: 244 081
2^nd^ ACT GSM
3^rd^ PLMN: 244 082
3^rd^ ACT UTRAN
3^rd^ PLMN: 244 082
3^rd^ AIGSI........
........
8^th^ PLMN: 244 034
8^th^ ACT GSM
9^th^ PLMN: 244 033
9^th^ ACT GSM
10^th^ PLMN: 244 008
10^th^ ACT UTRAN
11^th^ PLMN: 244 034
11^th^ ACT UTRAN
12^th^ PLMN: 244 033
12^th^ ACT UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 80 00
42 14 80 00 80 42 24 80 80 00
            B16   B17   B18   B19     B20     .....   .....   .....   .....                                 
            42    24    80    00      80      .....   .....   .....   .....
                              .....   .....   B36     B37     B38     B39     B40   B41   B42   B43   B44   B45
                              .....   .....   42      44      30      00      80    42    34    30    00    80
            B46   B47   B48   B49     B50     B51     B52     B53     B54     B55   B56   B57   B58   B59   B60
            42    84    00    80      00      42      44      30      80      00    42    34    30    80    00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 7.2.2.4.2 Procedure
Expected Sequence A:
a) The UE is powered on.
b) After receipt on the cell related to the BCCH transmitting MCC/MNC 244/034
of a RRC CONNECTION REQUEST from the UE, the USS sends RRC CONNECTION SETUP to
the UE, followed by RRC CONNECTION SETUP COMPLETE sent by the UE to the USS.
c) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT to the UE with the
following values:
> LAI (MCC/MNC/LAC): 244/034/0001
>
> TMSI: \"34567890\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT to the UE with the following values:
> RAI (MCC/MNC/LAC/RAC) 244/034/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT to the UE with some of the following values:
> LAI (MCC/MNC/LAC): 244/034/0001
>
> TMSI: \"34567890\"
>
> RAI (MCC/MNC/LAC/RAC) 244/034/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
d) After passing through the authentication procedure and after receipt of
I. TMSI REALLOCATION COMPLETE during registration on CS from the UE, the USS
sends RRC CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE
COMPLETE sent by the UE to the USS or
II. ATTACH COMPLETE during registration on PS from the UE, the USS sends RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or.
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE during registration on
CS/PS from the UE, the USS sends RRC CONNECTION RELEASE, followed by RRC
CONNECTION RELEASE COMPLETE sent by the UE to the USS.
e) The UE is soft powered down.
Expected Sequence B:
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 244/034/0001
TMSI: \"34567890\"
to the UE
d) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
e) The UE is soft powered down.
#### 7.2.2.5 Acceptance criteria
1) After step a) the UE accessing a GERAN shall send CHANNEL REQUEST on the
cell related to the BCCH transmitting MCC/MNC 244/034 to the SS and the UE
accessing UTRAN shall send an RRC CONNECTION REQUEST on the cell related to
the BCCH transmitting MCC/MNC 244/034 to the USS.
2) After step b) the UE accessing a GERAN shall send LOCATION UPDATING REQUEST
to the SS and the UE accessing UTRAN shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST to the USS during registration on PS or
III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
registration on CS/PS.
3) After step c) the UE accessing a GERAN shall respond with TMSI REALLOCATION
COMPLETE and the UE accessing UTRAN shall respond with
I. TMSI REALLOCATION COMPLETE to the USS during registration on CS or
II. ATTACH COMPLETE during registration on PS or
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE to the USS during
registration on CS/PS.
> 4) After step e) the USIM shall contain the following values:
For UEs accessing GERAN and UEs accessing UTRAN and supporting (CS and PS) or
(CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 244
LAI-MNC: 034
TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 42 44 30 xx xx xx
00
* * *
For UEs accessing UTRAN and supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 244
RAI-MNC: 034
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 42 44 30
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.2.3 UE recognising the priority order of the User controlled PLMN
selector list using an ACT preference.
#### 7.2.3.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
PLMNs of the User on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~. Update and deletion of User
controlled PLMNs may be performed by the subscriber by the use of the PIN.
#### 7.2.3.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
the ACT identifier in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2;
\- TS 31.102 [4], subclauses 4.2.5 and 5.1.2.
##### 7.2.3.3 Test purpose
To verify that the ACT with the higher priority (defined by its position in
EF~PLMNwACT~) takes precedence over the UPLMN with the lower priority when the
UE performs a network selection.
#### 7.2.3.4 Method of test
##### 7.2.3.4.1 Initial conditions
For this test both a GSM SS and an UTRAN USS is needed.
The GSM SS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/081/0001.
\- Access control: unrestricted.
The UMTS USS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- RAI (MCC/MNC/LAC/RAC): 244/082/0001/05.
\- Access control: unrestricted.
The default UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.2.3.4.2 Procedure
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE on the GSM-cell related to
the BCCH transmitting MCC/MNC 244/081, the SS sends IMMEDIATE ASSIGNMENT to
the UE.
c) After receipt of a LOCATION UPDATING REQUEST and/or ATTACH REQUEST from the
UE, the SS sends LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 244/081/0001
TMSI: \"34567890\"
and/or ATTACH ACCEPT with:
RAI (MCC/MNC/LAC/RAC) 244/081/0001/05
P-TMSI \"34567890\"
P-TMSI signature value \"AB1234\"
to the UE.
d) After receipt of a TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE from
the UE, the SS sends CHANNEL RELEASE to the UE.
e) The UE is soft powered down.
#### 7.2.3.5 Acceptance criteria
1.) After step a) the UE shall send a CHANNEL REQUEST on the GSM-cell related
to the BCCH transmitting MCC/MNC 244/081 to the SS.
2) After step b) the UE shall send LOCATION UPDATING REQUEST and/or ATTACH
REQUEST to the SS.
3) After step c) the UE shall respond with TMSI REALLOCATION COMPLETE and/or
ATTACH COMPLETE.
4) After step e) the USIM shall contain the following values:
For UEs supporting (CS and PS) or (CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 244
LAI-MNC: 081
TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 42 14 80 xx xx xx
00
* * *
For UEs supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 244
RAI-MNC: 081
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 42 14 80
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.2.4 Void
### 7.2.5 UE updating the User controlled PLMN selector list for E-UTRAN
#### 7.2.5.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
UPLMNs on which the UE shall register. The Radio Access Technology identifier
defines the Radio network in which the UE shall register. The list is stored
on the USIM in the EF~PLMNwACT~. Update and deletion of PLMNs may be performed
by the subscriber.
#### 7.2.5.2 Conformance requirement
The UE shall correctly replace the selected UPLMN in the User controlled PLMN
selector list.
\- TS 31.102 [4], subclause 5.3.6 and 4.2.5.
#### 7.2.5.3 Test purpose
To verify that the UE correctly updates the EF~PLMNwACT~.
#### 7.2.5.4 Method of test
##### 7.2.5.4.1 Initial conditions
No USS/SS is required for this test.
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is powered on.
##### 7.2.5.4.2 Procedure
a) The user shall initiate an MMI dependent procedure to change the second
UPLMN in the User controlled PLMN selector list to MCC/MNC of 567/04, the ACT
identifier shall set to E-UTRAN only.
b) The UE is soft powered down.
#### 7.2.5.5 Acceptance criteria
After step b) the USIM shall contain the following values:
**EF~PLMNwACT~ (UPLMN Selector)**
Logically: 1^st^ PLMN: 244 081 (MCC MNC)
1^st^ ACT: E-UTRAN
2^nd^ PLMN: 567 04
2^nd^ ACT E-UTRAN
3^rd^ PLMN: 244 083
3^rd^ ACT: E-UTRAN
4^th^ PLMN: 244 082
4^th^ ACT: GSM
5^th^ PLMN: 244 003
5^th^ ACT: E-UTRAN
6^th^ PLMN: 244 004
6^th^ ACT: UTRAN
7^th^ PLMN: 244 005
7^th^ ACT: UTRAN
8^th^ PLMN: 244 081
8^th^ ACT: UTRAN
9^th^ PLMN: 244 007
9^th^ ACT: UTRAN
10^th^ PLMN: 244 008
10^th^ ACT: E-UTRAN
11^th^ PLMN: 244 009
11^th^ ACT: UTRAN
12^th^ PLMN: 244 010
12^th^ ACT: E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 40 00
65 F7 40 40 00 42 34 80 40 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    24    80    00    80    42    34    00    40    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    14    80    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    40    00    42    94    00    80    00    42    04    10    40    00
* * *
### 7.2.6 UE recognising the priority order of the User controlled PLMN
selector list using an ACT preference- UTRAN/E-UTRAN
#### 7.2.6.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
PLMNs of the User on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~. Update and deletion of User
controlled PLMNs may be performed by the subscriber by the use of the PIN.
#### 7.2.6.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
the ACT identifier in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2;
\- TS 31.102 [4], subclauses 4.2.5 and 5.1.1.2.
##### 7.2.6.3 Test purpose
To verify that the ACT with the higher priority (defined by its position in
EF~PLMNwACT~) takes precedence over the UPLMN with the lower priority when the
UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN has to
be handled correctly by the UE.
#### 7.2.6.4 Method of test
##### 7.2.6.4.1 Initial conditions
For this test both a UTRAN USS and an E-UTRAN E-USS is needed.
The USS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/004/0001.
\- Access control: unrestricted.
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 244/003/0001.
\- Access control: unrestricted.
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.2.6.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting MCC/MNC 244/003, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/003/ 0001
GUTI: \"24400300010266436587\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_.
e) The UE is soft powered down.
#### 7.2.6.5 Acceptance criteria
1.) After step a) the UE shall send a _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting MCC/MNC 244/003 to the E-USS.
2) After step b) the terminal shall send _AttachRequest_ to the E-USS.
3) After step c) the terminal shall respond with _AttachComplete_ during
registration.
4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24400300010266436587
Last visited registered TAI: 244/003/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 00 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    00    00    01    00
* * *
### 7.2.7 UE recognising the priority order of the User controlled PLMN
selector list using an ACT preference- GSM/E-UTRAN
#### 7.2.7.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
PLMNs of the User on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~. Update and deletion of User
controlled PLMNs may be performed by the subscriber by the use of the PIN.
#### 7.2.7.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
the ACT identifier in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2;
\- TS 31.102 [4], subclauses 4.2.5 and 5.1.1.2.
##### 7.2.7.3 Test purpose
To verify that the ACT with the higher priority (defined by its position in
EF~PLMNwACT~) takes precedence over the UPLMN with the lower priority when the
UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN has to
be handled correctly by the UE.
#### 7.2.7.4 Method of test
##### 7.2.7.4.1 Initial conditions
For this test both a GSM SS and an E-UTRAN E-USS is needed.
The GSM SS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/082/0001.
\- Access control: unrestricted.
The E-USS transmits on the BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 244/083/0001.
\- Access control: unrestricted.
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.2.7.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting MCC/MNC 244/083, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/083/ 0001
GUTI: \"24408300010266436587\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_.
e) The UE is soft powered down.
#### 7.2.7.5 Acceptance criteria
1.) After step a) the UE shall send a _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting MCC/MNC 244/083 to the e-USS.
2) After step b) the terminal shall send _AttachRequest_ to the E-USS.
3) After step c) the terminal shall respond with _AttachComplete_ during
registration.
4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24408300010266436587
Last visited registered TAI: 244/083/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    80    00    01    00
* * *
7.2.8 UE recognising the priority order of the User controlled PLMN selector
list with the same access technology -- E-UTRAN in NB-S1 mode
7.2.8.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
PLMNs of the User on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~. Update and deletion of User
controlled PLMNs may be performed by the subscriber by the use of the PIN.
7.2.8.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
the ACT identifier in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2;
>
> \- TS 31.102 [4], subclauses 4.2.5 and 5.1.1.2.
7.2.8.3 Test purpose
To verify that the ACT with the higher priority (defined by its position in
EF~PLMNwACT~) takes precedence over the UPLMN with the lower priority when the
UE performs a network selection. Hereby the new coding for\ E-UTRAN in NB-S1
mode has to be handled correctly by the UE.
7.2.8.4 Method of test
7.2.8.4.1 Initial conditions
For this test 2 NB-IoT-cells are needed.
The NB-SS transmits on BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 244/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 244/083/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used, with the following exception:
  1. **EFPLMNwACT (User Controlled PLMN Selector with Access Technology)**
> Logically: 1^st^ PLMN: 244 083 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN in NB-S1mode
>
> 2^nd^ PLMN: 244 081
>
> 2^nd^ ACT: E-UTRAN in NB-S1 mode
>
> 3^rd^ PLMN: 244 083
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 244 082
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 244 003
>
> 5^th^ ACT: E-UTRAN
>
> 6^th^ PLMN: 244 004
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 244 005
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 244 081
>
> 8^th^ ACT: UTRAN
>
> 9^th^ PLMN: 244 007
>
> 9^th^ ACT: UTRAN
>
> 10^th^ PLMN: 244 008
>
> 10^th^ ACT: E-UTRAN
>
> 11^th^ PLMN: 244 009
>
> 11^th^ ACT: UTRAN
>
> 12^th^ PLMN: 244 010
>
> 12^th^ ACT: E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 34 80 50 00
42 14 80 50 00 42 34 80 40 00 B16 B17 B18 B19 B20 B21 B22 B23 B24 B25 B26 B27
B28 B29 B30 42 24 80 00 80 42 34 00 40 00 42 44 00 80 00 B31 B32 B33 B34 B35
B36 B37 B38 B39 B40 B41 B42 B43 B44 B45 42 54 00 80 00 42 14 80 80 00 42 74 00
80 00 B46 B47 B48 B49 B50 B51 B52 B53 B54 B55 B56 B57 B58 B59 B60 42 84 00 40
00 42 94 00 80 00 42 04 10 40 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
7.2.8.8.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest-NB_ from the UE on the NB-IoT-
> cell related to the BCCH transmitting MCC/MNC 244/083, the NB-SS sends
> _RRCConnectionSetup-NB_ to the UE, followed by _RRCConnectionSetupComplete-
> NB_ sent by the UE to the NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the NB-SS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 244/083/ 0001
>
> GUTI: \"24408300010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the NB-SS sends _RRCConnectionRelease-NB_.
>
> e) The UE is powered down.
7.2.8.5 Acceptance criteria
> 1) After step a) the UE shall send a _RRCConnectionRequest-NB_ on the NB-IoT
> -cell related to the BCCH transmitting MCC/MNC 244/083 to the NB-SS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the NB-SS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 24408300010266436587
>
> Last visited registered TAI: 244/083/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    80    00    01    00
* * *
7.2.9 UE recognising the priority order of the User controlled PLMN selector
list using the ACT preference -- E-UTRAN in WB-S1/E-UTRAN in NB-S1
7.2.9.1 Definition and applicability
The User controlled PLMN selector list gives in priority order the preferred
PLMNs of the User on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~. Update and deletion of User
controlled PLMNs may be performed by the subscriber by the use of the PIN.
7.2.9.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
the ACT identifier in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2;
>
> \- TS 31.102 [4], subclauses 4.2.5 and 5.1.1.2.
7.2.9.3 Test purpose
To verify that the ACT with the higher priority (defined by its position in
EF~PLMNwACT~) takes precedence over the UPLMN with the lower priority when the
UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN in
WB-S1 mode and E-UTRAN in NB-S1 mode has to be handled correctly by the UE.
7.2.9.4 Method of test
7.2.9.4.1 Initial conditions
For this test both an E-USS and NB-SS are needed.
The E-USS transmits on BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- TAI (MCC/MNC/LAC): 244/083/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 244/083/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~PLMNwACT~ (User Controlled PLMN Selector with Access Technology)**
> Logically: 1^st^ PLMN: 244 081 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN
>
> 2^nd^ PLMN: 244 081
>
> 2^nd^ ACT: GSM
>
> 3^rd^ PLMN: 244 083
>
> 3^rd^ ACT: E-UTRAN in NB-S1 mode
>
> 4^th^ PLMN: 244 083
>
> 4^th^ ACT: E-UTRAN in WB-S1 mode
>
> 5^th^ PLMN: 244 003
>
> 5^th^ ACT: E-UTRAN
>
> 6^th^ PLMN: 244 004
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 244 005
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 244 081
>
> 8^th^ ACT: UTRAN
>
> 9^th^ PLMN: 244 007
>
> 9^th^ ACT: UTRAN
>
> 10^th^ PLMN: 244 008
>
> 10^th^ ACT: E-UTRAN
>
> 11^th^ PLMN: 244 009
>
> 11^th^ ACT: UTRAN
>
> 12^th^ PLMN: 244 010
>
> 12^th^ ACT: E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 40 00
42 14 80 00 80 42 34 80 50 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    34    80    60    00    42    34    00    40    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    14    80    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    40    00    42    94    00    80    00    42    04    10    40    00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
7.2.9.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest-NB_ from the UE on the NB-IoT-
> cell related to the BCCH transmitting MCC/MNC 244/083, the NB-SS sends
> _RRCConnectionSetup-NB_ to the UE, followed by _RRCConnectionSetupComplete-
> NB_ sent by the UE to the NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the NB-SS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 244/083/ 0001
>
> GUTI: \"24408300010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the NB-SS sends _RRCConnectionRelease-NB_.
>
> e) The UE is soft powered down.
7.2.9.5 Acceptance criteria
> 1.) After step a) the UE shall send a _RRCConnectionRequest-NB_ on the NB-
> IoT-cell related to the BCCH transmitting MCC/MNC 244/083 to the NB-SS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the NB-SS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 24408300010266436587
>
> Last visited registered TAI: 244/083/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    80    00    01    00
* * *
## 7.3 Operator controlled PLMN selector handling
### 7.3.1 UE recognising the priority order of the Operator controlled PLMN
selector list.
#### 7.3.1.1 Definition and applicability
The Operator controlled PLMN selector list gives in priority order the
preferred OPLMNs on which the UE shall register if no network of the User
controlled PLMN selector list is available. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~OPLMNwACT~. Update and deletion of OPLMNs
shall not be possible by the subscriber by the use of the PIN.
The registration attempts initiated by the UE accessing UTRAN depends on UE\'s
capabilities and can be one of the following:
> I. registration procedures for Ues supporting CS or
II. registration procedures for Ues supporting PS or
III. registration procedures for Ues supporting CS/PS
#### 7.3.1.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
OPLMNs in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2;
\- TS 31.102 [4], subclause 4.2.53.
#### 7.3.1.3 Test purpose
To verify that the OPLMN with the higher priority (defined by its position in
EF~OPLMNwACT~) takes precedence over the OPLMN with the lower priority when
the UE performs a network selection.
#### 7.3.1.4 Method of test
##### 7.3.1.4.1 Initial conditions
For this test a USS (in case of a Terminal accessing UTRAN) or a SS (in case
of a Terminal accessing a GERAN) is needed.
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing a GERAN) transmits on two BCCHs, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 254/011/0001.
\- RAI (MCC/MNC/LAC/RAC): 254/011/0001/05 (for UTRAN cell only).
\- Access control: unrestricted.
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 254/012/0001.
\- RAI (MCC/MNC/LAC/RAC): 254/012/0001/05 (for UTRAN cell only).
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted.
The default UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
Operator controlled PLMN selector available
* * *
Coding: B1 B2 B3 B4 B5 B6 binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx
xx11 xxxx xx1x
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~OPLMNwACT~ (OPLMN Selector)**
Logically: 1^st^ PLMN: 254 012 (MCC MNC)
1^st^ ACT UTRAN
2^nd^ PLMN: 254 011
2^nd^ ACT UTRAN
3^rd^ PLMN: 254 002
3^rd^ ACT: UTRAN
4^th^ PLMN: 254 012
4^th^ ACT: GSM
5^th^ PLMN: 254 011
5^th^ ACT: GSM
6^th^ PLMN: 254 005
6^th^ ACT: UTRAN
7^th^ PLMN: 254 006
7^th^ ACT: UTRAN
8^th^ PLMN: 254 007
8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 24 10 80 00 52 14 10 80
00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 80 00 52 24 10 00 80 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 14 10 00 80 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 7.3.1.4.2 Procedure
Expected Sequence A:
a) The UE is powered on.
b) After receipt on the cell related to the BCCH transmitting MCC/MNC 254/012
of a RRC CONNECTION REQUEST from the UE, the USS sends RRC CONNECTION SETUP to
the UE, followed by RRC CONNECTION SETUP COMPLETE sent by the UE to the USS.
c) Depending on which domain the UE is going to be registered on, one of the
following requirements should be fulfilled:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT to the UE with the
following values:
> LAI (MCC/MNC/LAC): 254/012/0001
>
> TMSI: \"34567890\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT to the UE with following values:
> RAI (MCC/MNC/LAC/RAC) 254/012/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT to the UE with some of the following values:
> LAI (MCC/MNC/LAC): 254/012/0001
>
> TMSI: \"34567890\"
>
> RAI (MCC/MNC/LAC/RAC) 254/012/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
d) After receipt of a
I. TMSI REALLOCATION COMPLETE during registration on CS from the UE, the USS
sends RRC CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE
COMPLETE sent by the UE to the USS.
II. ATTACH COMPLETE during registration on PS from the UE, the USS sends RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or.
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE during registration on
CS/PS from the UE, the USS sends RRC CONNECTION RELEASE, followed by RRC
CONNECTION RELEASE COMPLETE sent by the UE to the USS.
e) The UE is soft powered down.
Expected Sequence B:
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 254/012/0001
TMSI: \"34567890\"
to the UE.
d) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
e) The UE is soft powered down.
#### 7.3.1.5 Acceptance criteria
1) After step a) the UE accessing a GERAN shall send CHANNEL REQUEST on the
cell related to the BCCH transmitting MCC/MNC 254/012 to the SS and the UE
accessing UTRAN shall send an RRC CONNECTION REQUEST on the cell related to
the BCCH transmitting MCC/MNC 254/012 to the USS.
2) After step b) the UE accessing a GERAN shall send LOCATION UPDATING REQUEST
to the SS and the UE accessing UTRAN shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST. To the USS during registration on PS or
III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
registration on CS/PS.
3) After step c) the UE accessing GERAN shall respond with TMSI REALLOCATION
COMPLETE and the UE accessing UTRAN shall respond with
I. TMSI REALLOCATION COMPLETE during registration on CS or
II. ATTACH COMPLETE during registration on PS or
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE to the USS during
registration on CS/PS.
> 4) After step e) the USIM shall contain the following values:
For UEs accessing GERAN and UEs accessing UTRAN and supporting (CS and PS) or
(CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 254
LAI-MNC: 012
TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 52 24 10 xx xx xx
00
* * *
For UEs supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 254
RAI-MNC: 012
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 52 24 10
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.3.2 UE recognising the priority order of the User controlled PLMN
selector over the Operator controlled PLMN selector list.
#### 7.3.2.1 Definition and applicability
The User controlled PLMN selector list has a higher priority as the OPLMN
selector list on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~.
The registration attempts initiated by the terminal accessing UTRAN depends on
terminal\'s capabilities and can be one of the following:
> I. registration procedures for Ues supporting CS or
II. registration procedures for Ues supporting PS or
III. registration procedures for Ues supporting CS/PS
#### 7.3.2.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
UPLMNs first before the OPLMNs in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2.2;
\- TS 31.102 [4], subclauses 4.2.5 and 4.2.53.
#### 7.3.2.3 Test purpose
To verify that the User controlled PLMN with a lower priority (defined by its
position in EF~PLMNwACT~) takes precedence over the OPLMN with a higher
priority when the UE performs a network selection.
#### 7.3.2.4 Method of test
##### 7.3.2.4.1 Initial conditions
For this test a USS (in case of a Terminal accessing UTRAN) or a SS (in case
of a Terminal accessing a GERAN) is needed.
The USS (in case of a Terminal accessing UTRAN)/ SS (in case of a Terminal
accessing a GERAN) transmits on two BCCHs, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 254/001/0001.
\- RAI (MCC/MNC/LAC/RAC): 254/001/0001/05 (only for UTRAN cell).
\- Access control: unrestricted.
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/010/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/010/0001/05 (only for UTRAN cell).
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted
The default UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
> Operator controlled PLMN selector available
* * *
Coding: B1 B2 B3 B4 B5 B6 binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx
xx11 xxxx xx1x
* * *
> The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~PLMNwACT~ (UPLMN Selector with Access Technology)**
Logically: 1^st^ PLMN: 244 081 (MCC MNC)
1^st^ ACT: UTRAN
2^nd^ PLMN: 244 081
2^nd^ ACT: GSM
3^rd^ PLMN: 244 082
3^rd^ ACT: UTRAN
4^th^ PLMN: 244 082
4^th^ ACT: GSM
5^th^ PLMN: 244 003
5^th^ ACT: UTRAN
6^th^ PLMN: 244 004
6^th^ ACT: UTRAN
7^th^ PLMN: 244 005
7^th^ ACT: UTRAN
8^th^ PLMN: 244 006
8^th^ ACT: UTRAN
9^th^ PLMN: 244 007
9^th^ ACT: UTRAN
10^th^ PLMN: 244 008
10^th^ ACT: UTRAN
11^th^ PLMN: 244 010
11^th^ ACT: UTRAN
12^th^ PLMN: 244 010
12^th^ ACT: GSM
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 80 00
42 14 80 00 80 42 24 80 80 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    24    80    00    80    42    24    00    80    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    64    00    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    80    00    42    04    10    80    00    42    04    10    00    80
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 7.3.2.4.2 Procedure
Expected Sequence A:
a) The UE is powered on.
b) After receipt of a RRC CONNECTION REQUEST from the UE on the cell related
to the BCCH transmitting MCC/MNC 244/010, the USS sends RRC CONNECTION SETUP
to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by the UE to the
USS.
c) Depending on which domain the UE is going to be registered on, one of the
following requirements should be fulfilled:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT to the UE with the
following values:
> LAI (MCC/MNC/LAC): 244/010/0001
>
> TMSI: \"34567890\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT with the following values:
> RAI (MCC/MNC/LAC/RAC) 244/010/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT with some of the following values :
> LAI (MCC/MNC/LAC): 244/010/0001
>
> TMSI: \"34567890\"
>
> RAI (MCC/MNC/LAC/RAC) 244/010/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
d) After receipt of a
I. TMSI REALLOCATION COMPLETE during registration on CS from the UE, the USS
sends RRC CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE
COMPLETE sent by the UE to the USS.
II. ATTACH COMPLETE during registration on PS from the UE, the USS sends RRC
CONNECTION RELEASE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE
to the USS or.
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE during registration on
CS/PS from the UE, the USS sends RRC CONNECTION RELEASE, followed by RRC
CONNECTION RELEASE COMPLETE sent by the UE to the USS.
e) The UE is soft powered down.
Expected Sequence B:
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 244/010/0001
TMSI: \"34567890\"
to the UE.
d) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
e) The UE is soft powered down.
#### 7.3.2.5 Acceptance criteria
1) After step a) the UE accessing a GERAN shall send CHANNEL REQUEST on the
cell related to the BCCH transmitting MCC/MNC 244/010 to the SS and the UE
accessing UTRAN shall send an RRC CONNECTION REQUEST on the cell related to
the BCCH transmitting MCC/MNC 244/010 to the USS.
2) After step b) the UE accessing a GERAN shall send LOCATION UPDATING REQUEST
to the SS and the UE accessing UTRAN shell send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST during registration on PS or
III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
registration on CS/PS.
3) After step c) the UE accessing GERAN shall respond with TMSI REALLOCATION
COMPLETE and the UE accessing UTRAN shall respond with
I. TMSI REALLOCATION COMPLETE during registration on CS or
II. ATTACH COMPLETE during registration on PS or
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE to the USS during
registration on CS/PS..
> 4) After step e) the USIM shall contain the following values:
For UEs accessing GERAN and UEs accessing UTRAN and supporting (CS and PS) or
(CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 244
LAI-MNC: 010
TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 34 56 78 90 42 04 10 xx xx xx 00
* * *
For UEs supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 244
RAI-MNC: 010
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 42 04 10
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.3.3 UE recognising the priority order of the Operator controlled PLMN
selector list when accessing E-UTRAN
#### 7.3.3.1 Definition and applicability
The Operator controlled PLMN selector list gives in priority order the
preferred OPLMNs on which the UE shall register if no network of the User
controlled PLMN selector list is available. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~OPLMNwACT~. Update and deletion of OPLMNs
shall not be possible by the subscriber by the use of the PIN.
#### 7.3.3.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
OPLMNs in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2;
\- TS 31.102 [4], subclause 4.2.53, 4.2.5 and 5.1.1.2.
#### 7.3.3.3 Test purpose
To verify that the OPLMN with the higher priority (defined by its position in
EF~OPLMNwACT~) takes precedence over the OPLMN with the lower priority when
the UE performs a network selection. Hereby the new coding for RAT\
E-UTRAN/NB-IoT has to be handled correctly by the UE.
#### 7.3.3.4 Method of test
##### 7.3.3.4.1 Initial conditions
For this test an E-USS/NB-SS is required.
The E-USS transmits on two BCCHs, with the following network parameters:
\- TAI (MCC/MNC/TAC): 254/011/0001.
\- Access control: unrestricted.
\- TAI (MCC/MNC/TAC): 254/012/0001.
\- Access control: unrestricted.
The NB-SS transmits on two BCCHs, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 254/011/0001.
>
> \- Access control: unrestricted.
>
> \- TAI (MCC/MNC/TAC): 254/012/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
Operator controlled PLMN selector available
EPS Mobility Management Information available
Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx xx1x xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~OPLMNwACT~ (OPLMN Selector)**
Logically: 1^st^ PLMN: 254 012 (MCC MNC)
1^st^ ACT E-UTRAN
2^nd^ PLMN: 254 011
2^nd^ ACT E-UTRAN
3^rd^ PLMN: 254 002
3^rd^ ACT: E-UTRAN
4^th^ PLMN: 254 012
4^th^ ACT: GSM
5^th^ PLMN: 254 011
5^th^ ACT: GSM
6^th^ PLMN: 254 005
6^th^ ACT: UTRAN
7^th^ PLMN: 254 006
7^th^ ACT: UTRAN
8^th^ PLMN: 254 007
8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 24 10 40 00 52 14 10 40
00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 40 00 52 24 10 00 80 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 14 10 00 80 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.3.3.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE on the E-UTRAN-cell/NB-IoT-cell related to the BCCH transmitting MCC/MNC
254/012, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to
the UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS/NB-SS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 254/012/ 0001
GUTI: \"25401200010266436587\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_.
e) The UE is soft powered down.
#### 7.3.3.5 Acceptance criteria
1.) After step a) the UE shall send a
_RRCConnectionRequest/RRCConnectionRequest-NB_ on the E-UTRAN-cell/NB-IoT-cell
related to the BCCH transmitting MCC/MNC 254/012 to the E-USS/NB-SS.
2) After step b) the terminal shall send _AttachRequest_ to the E-USS/NB-SS.
3) After step c) the terminal shall respond with _AttachComplete_ during
registration.
4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 25401200010266436587
Last visited registered TAI: 254/012/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 52 24 10 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    52    24    10    00    01    00
* * *
### 7.3.4 UE recognising the priority order of the User controlled PLMN
selector over the Operator controlled PLMN selector list -- E-UTRAN
#### 7.3.4.1 Definition and applicability
The User controlled PLMN selector list has a higher priority as the OPLMN
selector list on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~.
#### 7.3.4.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
UPLMNs first before the OPLMNs in the preferred list on the USIM.
\- TS 22.011 [6], subclause 3.2.2.2;
\- TS 31.102 [4], subclauses 4.2.5, 4.2.53 and 5.1.1.2.
#### 7.3.4.3 Test purpose
To verify that the User controlled PLMN with a lower priority (defined by its
position in EF~PLMNwACT~) takes precedence over the OPLMN with a higher
priority when the UE performs a network selection. Hereby the new coding for
RAT\ E-UTRAN/NB-IoT has to be handled correctly by the UE.
#### 7.3.4.4 Method of test
##### 7.3.4.4.1 Initial conditions
For this test an E-USS/NB-SS is required.
The E-USS transmits on two BCCHs, with the following network parameters:
\- TAI (MCC/MNC/TAC): 254/001/0001.
\-- Access control: unrestricted.
\- TAI (MCC/MNC/TAC): 244/010/0001.
\- Access control: unrestricted.
The NB-SS transmits on two BCCHs, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 254/001/0001.
>
> \-- Access control: unrestricted.
>
> \- TAI (MCC/MNC/TAC): 244/010/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
> Operator controlled PLMN selector available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx xx1x xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.3.4.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE on the E-UTRAN-cell/NB-IoT-cell related to the BCCH transmitting MCC/MNC
244/010, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to
the UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS/NB-SS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/010/ 0001
GUTI: \"24401000010266436587\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_.
e) The UE is soft powered down.
#### 7.3.4.5 Acceptance criteria
1.) After step a) the UE shall send a
_RRCConnectionRequest/RRCConnectionRequest-NB_ on the E-UTRAN-cell/NB-IoT-cell
related to the BCCH transmitting MCC/MNC 244/010 to the E-USS/NB-SS.
2) After step b) the terminal shall send _AttachRequest_ to the E-USS/NB-SS.
3) After step c) the terminal shall respond with _AttachComplete_ during
registration.
4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24401000010266436587
Last visited registered TAI: 244/010/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 04 10 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    04    10    00    01    00
* * *
7.3.5 UE recognising the priority order of the Operator controlled PLMN
selector list when accessing E-UTRAN in NB-S1 mode
7.3.5.1 Definition and applicability
The Operator controlled PLMN selector list gives in priority order the
preferred OPLMNs on which the UE shall register if no network of the User
controlled PLMN selector list is available. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~OPLMNwACT~. Update and deletion of OPLMNs
shall not be possible by the subscriber by the use of the PIN.
7.3.5.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
OPLMNs in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2;
>
> \- TS 31.102 [4], subclause 4.2.53, 4.2.5 and 5.1.1.2.
7.3.5.3 Test purpose
To verify that the OPLMN with the higher priority (defined by its position in
EF~OPLMNwACT~) takes precedence over the OPLMN with the lower priority when
the UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN in
NB-IoT mode has to be handled correctly by the UE.
7.3.5.4 Method of test
7.3.5.4.1 Initial conditions
For this test a NB-SS is required.
The NB-SS transmits on two BCCHs, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 254/011/0001.
>
> \- Access control: unrestricted.
>
> \- TAI (MCC/MNC/TAC): 254/012/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
> Logically: Local Phone Book available
>
> User controlled PLMN selector available
>
> Fixed dialling numbers available
>
> Barred dialling numbers available
>
> The GSM Access available
>
> The Group Identifier level 1 and level 2 not available
>
> Service n 33 (Packed Switched Domain) shall be set to \'1\'
>
> Enabled Services Table available
>
> Operator controlled PLMN selector available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx xx1x xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
> The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~OPLMNwACT~ (OPLMN Selector)**
> Logically: 1^st^ PLMN: 254 012 (MCC MNC)
>
> 1^st^ ACT E-UTRAN in NB-S1 mode
>
> 2^nd^ PLMN: 254 011
>
> 2^nd^ ACT E-UTRAN in NB-S1 mode
>
> 3^rd^ PLMN: 254 002
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 254 012
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 254 011
>
> 5^th^ ACT: GSM
>
> 6^th^ PLMN: 254 005
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 254 006
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 254 007
>
> 8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 24 10 50 00 52 14 10 50
00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 40 00 52 24 10 00 80 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 14 10 00 80 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
7.3.5.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest-NB_ from the UE on the NB-IoT-
> cell related to the BCCH transmitting MCC/MNC 254/012, the NB-SS sends
> _RRCConnectionSetup-NB_ to the UE, followed by _RRCConnectionSetupComplete-
> NB_ sent by the UE to the NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the NB-SS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 254/012/ 0001
>
> GUTI: \"25401200010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the NB-SS sends _RRCConnectionRelease-NB_.
>
> e) The UE is soft powered down.
7.3.5.5 Acceptance criteria
> 1.) After step a) the UE shall send a _RRCConnectionRequest-NB_ on the NB-
> IoT-cell related to the BCCH transmitting MCC/MNC 254/012 to the NB-SS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the NB-SS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 25401200010266436587
>
> Last visited registered TAI: 254/012/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 52 24 10 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    52    24    10    00    01    00
* * *
7.3.6 UE recognising the priority order of the User controlled PLMN selector
over the Operator controlled PLMN selector list -- E-UTRAN in NB-S1 mode
7.3.6.1 Definition and applicability
The User controlled PLMN selector list has a higher priority as the OPLMN
selector list on which the UE shall register. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~PLMNwACT~.
7.3.6.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
UPLMNs first before the OPLMNs in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2.2;
>
> \- TS 31.102 [4], subclauses 4.2.5, 4.2.53 and 5.1.1.2.
7.3.6.3 Test purpose
To verify that the User controlled PLMN with a lower priority (defined by its
position in EF~PLMNwACT~) takes precedence over the OPLMN with a higher
priority when the UE performs a network selection. Hereby the new coding for
RAT\ E-UTRAN in NB-IoT mode has to be handled correctly by the UE.
7.3.6.4 Method of test
7.3.6.4.1 Initial conditions
For this test a NB-SS is required.
The NB-SS transmits on two BCCHs, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 254/001/0001.
>
> \-- Access control: unrestricted.
>
> \- TAI (MCC/MNC/TAC): 244/010/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
> Logically: Local Phone Book available
>
> User controlled PLMN selector available
>
> Fixed dialling numbers available
>
> Barred dialling numbers available
>
> The GSM Access available
>
> The Group Identifier level 1 and level 2 not available
>
> Service n 33 (Packed Switched Domain) shall be set to \'1\'
>
> Enabled Services Table available
>
> Operator controlled PLMN selector available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx xx1x xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
**EF~PLMNwACT~ (User Controlled PLMN Selector with Access Technology)**
> Logically: 1^st^ PLMN: 244 081 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN
>
> 2^nd^ PLMN: 244 081
>
> 2^nd^ ACT: GSM
>
> 3^rd^ PLMN: 244 083
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 244 082
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 244 003
>
> 5^th^ ACT: E-UTRAN
>
> 6^th^ PLMN: 244 004
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 244 005
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 244 081
>
> 8^th^ ACT: UTRAN
>
> 9^th^ PLMN: 244 007
>
> 9^th^ ACT: UTRAN
>
> 10^th^ PLMN: 244 008
>
> 10^th^ ACT: E-UTRAN
>
> 11^th^ PLMN: 244 009
>
> 11^th^ ACT: UTRAN
>
> 12^th^ PLMN: 244 010
>
> 12^th^ ACT: E-UTRAN in NB-S1 mode
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 Hex 42 14 80 40 00
42 14 80 00 80 42 34 80 40 00
            B16   B17   B18   B19   B20   B21   B22   B23   B24   B25   B26   B27   B28   B29   B30
            42    24    80    00    80    42    34    00    40    00    42    44    00    80    00
            B31   B32   B33   B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45
            42    54    00    80    00    42    14    80    80    00    42    74    00    80    00
            B46   B47   B48   B49   B50   B51   B52   B53   B54   B55   B56   B57   B58   B59   B60
            42    84    00    40    00    42    94    00    80    00    42    04    10    50    00
* * *
**EF~OPLMNwACT~ (Operator Controlled PLMN Selector with Access Technology)**
> Logically: 1^st^ PLMN: 254 001 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN in NB-S1 mode
>
> 2^nd^ PLMN: 254 001
>
> 2^nd^ ACT: GSM
>
> 3^rd^ PLMN: 254 002
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 254 003
>
> 4^th^ ACT: E-UTRAN
>
> 5^th^ PLMN: 254 004
>
> 5^th^ ACT: UTRAN
>
> 6^th^ PLMN: 254 005
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 254 006
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 254 007
>
> 8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 14 00 50 00 52 14 00 00
80 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 40 00 52 34 00 40 00 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 44 00 80 00 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
7.3.6.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest-NB_ from the UE on the NB-IoT-
> cell related to the BCCH transmitting MCC/MNC 244/010, the NB-SS sends
> _RRCConnectionSetup-NB_ to the UE, followed by _RRCConnectionSetupComplete-
> NB_ sent by the UE to the NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the NB-SS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 244/010/ 0001
>
> GUTI: \"24401000010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the NB-SS sends _RRCConnectionRelease-NB_.
>
> e) The UE is soft powered down.
7.3.6.5 Acceptance criteria
> 1.) After step a) the UE shall send a _RRCConnectionRequest-NB_ on the NB-
> IoT-cell related to the BCCH transmitting MCC/MNC 244/010 to the NB-SS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the NB-SS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 24401000010266436587
>
> Last visited registered TAI: 244/010/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 04 10 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    04    10    00    01    00
* * *
7.3.7 UE recognising the priority order of the Operator controlled PLMN
selector list using the ACT preference - E-UTRAN in NB-S1/ E-UTRAN in WB-S1
mode
7.3.7.1 Definition and applicability
The Operator controlled PLMN selector list gives in priority order the
preferred OPLMNs on which the UE shall register if no network of the User
controlled PLMN selector list is available. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~OPLMNwACT~. Update and deletion of OPLMNs
shall not be possible by the subscriber by the use of the PIN.
7.3.7.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
OPLMNs in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2;
>
> \- TS 31.102 [4], subclause 4.2.53, 4.2.5 and 5.1.1.2.
7.3.7.3 Test purpose
To verify that the OPLMN with the higher priority (defined by its position in
EF~OPLMNwACT~) takes precedence over the OPLMN with the lower priority when
the UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN in
NB-IoT mode and E-UTRAN in WB-S1 mode has to be handled correctly by the UE.
7.3.7.4 Method of test
7.3.7.4.1 Initial conditions
For this test an E-USS and NB-SS is required.
The E-USS transmits on BCCHs, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 254/012/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on BCCHs, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 254/012/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
> Logically: Local Phone Book available
>
> User controlled PLMN selector available
>
> Fixed dialling numbers available
>
> Barred dialling numbers available
>
> The GSM Access available
>
> The Group Identifier level 1 and level 2 not available
>
> Service n 33 (Packed Switched Domain) shall be set to \'1\'
>
> Enabled Services Table available
>
> Operator controlled PLMN selector available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx xx1x xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
> The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~OPLMNwACT~ (OPLMN Selector)**
> Logically: 1^st^ PLMN: 254 012 (MCC MNC)
>
> 1^st^ ACT E-UTRAN in NB-S1 mode
>
> 2^nd^ PLMN: 254 012
>
> 2^nd^ ACT E-UTRAN in WB-S1 mode
>
> 3^rd^ PLMN: 254 002
>
> 3^rd^ ACT: E-UTRAN
>
> 4^th^ PLMN: 254 012
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 254 011
>
> 5^th^ ACT: GSM
>
> 6^th^ PLMN: 254 005
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 254 006
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 254 007
>
> 8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 24 10 50 00 52 24 10 60
00 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 52 24 00 40 00 52 24 10 00 80 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 14 10 00 80 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
7.3.7.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest-NB_ from the UE on the NB-IoT-
> cell related to the BCCH transmitting MCC/MNC 254/012, the NB-SS sends
> _RRCConnectionSetup-NB_ to the UE, followed by _RRCConnectionSetupComplete-
> NB_ sent by the UE to the NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the NB-SS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 254/012/ 0001
>
> GUTI: \"25401200010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the NB-SS sends _RRCConnectionRelease-NB_.
>
> e) The UE is soft powered down.
7.3.7.5 Acceptance criteria
> 1.) After step a) the UE shall send a _RRCConnectionRequest-NB_ on the NB-
> IoT-cell related to the BCCH transmitting MCC/MNC 254/012 to the NB-SS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the NB-SS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 25401200010266436587
>
> Last visited registered TAI: 254/012/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 52 24 10 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    52    24    10    00    01    00
* * *
7.3.8 UE recognising the priority order of the Operator controlled PLMN
selector list using the ACT preference - E-UTRAN in NB-S1 mode/ GSM
7.3.8.1 Definition and applicability
The Operator controlled PLMN selector list gives in priority order the
preferred OPLMNs on which the UE shall register if no network of the User
controlled PLMN selector list is available. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~OPLMNwACT~. Update and deletion of OPLMNs
shall not be possible by the subscriber by the use of the PIN.
7.3.8.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
OPLMNs in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2;
>
> \- TS 31.102 [4], subclause 4.2.53, 4.2.5 and 5.1.1.2.
7.3.8.3 Test purpose
To verify that the OPLMN with the higher priority (defined by its position in
EF~OPLMNwACT~) takes precedence over the OPLMN with the lower priority when
the UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN in
NB-S1 mode has to be handled correctly by the UE.
7.3.8.4 Method of test
7.3.8.4.1 Initial conditions
For this test both a GSM SS and an NB-IoT NB-SS are needed.
The GSM SS transmits on BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 244/083/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 244/083/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EFOPLMNwACT (Operator Controlled PLMN Selector with Access Technology)**
> Logically: 1^st^ PLMN: 254 001 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN
>
> 2^nd^ PLMN: 254 001
>
> 2^nd^ ACT: GSM
3^rd^ PLMN: 244 083
> 3^rd^ ACT: E-UTRAN in NB-S1 mode
>
> 4^th^ PLMN: 244 083
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 254 004
>
> 5^th^ ACT: UTRAN
>
> 6^th^ PLMN: 254 005
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 254 006
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 254 007
>
> 8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 14 00 40 00 52 14 00 00
80 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 42 34 80 50 00 42 34 80 00 80 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 44 00 80 00 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
7.3.8.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest-NB_ from the UE on the NB-IoT-
> cell related to the BCCH transmitting MCC/MNC 244/083, the E-USS sends
> _RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete-NB_
> sent by the UE to the NB-SS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the NB-SS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 244/083/ 0001
>
> GUTI: \"24408300010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the NB-SS sends _RRCConnectionRelease-NB_.
>
> e) The UE is soft powered down.
7.3.8.5 Acceptance criteria
> 1.) After step a) the UE shall send a _RRCConnectionRequest-NB_ on the NB-
> IoT-cell related to the BCCH transmitting MCC/MNC 244/083 to the NB-SS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the NB-SS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 24408300010266436587
>
> Last visited registered TAI: 244/083/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    80    00    01    00
* * *
7.3.9 UE recognising the priority order of the Operator controlled PLMN
selector list using the ACT preference - E-UTRAN in WB-S1 mode/GSM
7.3.9.1 Definition and applicability
The Operator controlled PLMN selector list gives in priority order the
preferred OPLMNs on which the UE shall register if no network of the User
controlled PLMN selector list is available. The Radio Access Technology
identifier defines the Radio network in which the UE shall register. The list
is stored on the USIM in the EF~OPLMNwACT~. Update and deletion of OPLMNs
shall not be possible by the subscriber by the use of the PIN.
7.3.9.2 Conformance requirement
When registering onto a VPLMN the UE shall take into account the priority of
OPLMNs in the preferred list on the USIM.
> \- TS 22.011 [6], subclause 3.2.2;
>
> \- TS 31.102 [4], subclause 4.2.53, 4.2.5 and 5.1.1.2.
7.3.9.3 Test purpose
To verify that the OPLMN with the higher priority (defined by its position in
EF~OPLMNwACT~) takes precedence over the OPLMN with the lower priority when
the UE performs a network selection. Hereby the new coding for RAT\ E-UTRAN in
WB-S1 mode has to be handled correctly by the UE.
7.3.9.4 Method of test
7.3.9.4.1 Initial conditions
For this test both a GSM SS and an E-UTRAN E-USS is needed.
The GSM SS transmits on BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 244/083/0001.
>
> \- Access control: unrestricted.
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 244/083/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EFOPLMNwACT (Operator Controlled PLMN Selector with Access Technology)**
> Logically: 1^st^ PLMN: 254 001 (MCC MNC)
>
> 1^st^ ACT: E-UTRAN
>
> 2^nd^ PLMN: 254 001
>
> 2^nd^ ACT: GSM
3^rd^ PLMN: 244 083
> 3^rd^ ACT: E-UTRAN in WB-S1 mode
>
> 4^th^ PLMN: 244 083
>
> 4^th^ ACT: GSM
>
> 5^th^ PLMN: 254 004
>
> 5^th^ ACT: UTRAN
>
> 6^th^ PLMN: 254 005
>
> 6^th^ ACT: UTRAN
>
> 7^th^ PLMN: 254 006
>
> 7^th^ ACT: UTRAN
>
> 8^th^ PLMN: 254 007
>
> 8^th^ ACT: UTRAN
* * *
Coding: B01 B02 B03 B04 B05 B06 B07 B08 B09 B10 Hex 52 14 00 40 00 52 14 00 00
80 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 42 34 80 60 00 42 34 80 00 80 B21
B22 B23 B24 B25 B26 B27 B28 B29 B30 52 44 00 80 00 52 54 00 80 00 B31 B32 B33
B34 B35 B36 B37 B38 B39 B40 52 64 00 80 00 52 74 00 80 00
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
7.3.9.4.2 Procedure
> a) The UE is powered on.
>
> b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-
> cell related to the BCCH transmitting MCC/MNC 244/083, the E-USS sends
> _RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_
> sent by the UE to the E-USS.
>
> c) During registration and after receipt of a _AttachRequest_ from the UE,
> the E-USS initiates authentication, starts integrity by using the security
> procedure and sends _AttachAccept_ with to the UE:
>
> TAI (MCC/MNC/TAC): 244/083/ 0001
>
> GUTI: \"24408300010266436587\"
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the E-USS sends _RRCConnectionRelease_.
>
> e) The UE is soft powered down.
7.3.9.5 Acceptance criteria
> 1.) After step a) the UE shall send a _RRCConnectionRequest_ on the E-UTRAN-
> cell related to the BCCH transmitting MCC/MNC 244/083 to the E-USS.
>
> 2) After step b) the terminal shall send _AttachRequest_ to the E-USS.
>
> 3) After step c) the terminal shall respond with _AttachComplete_ during
> registration.
>
> 4) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
> Logically: GUTI: 24408300010266436587
>
> Last visited registered TAI: 244/083/0001
>
> EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    80    00    01    00
* * *
## 7.4 Higher priority PLMN search handling
### 7.4.1 UE recognising the search period of the Higher priority PLMN
#### 7.4.1.1 Definition and applicability
The Higher priority PLMN list gives in priority order the Higher priority PLMN
on which the UE shall register first. The Higher priority PLMN search period
gives the time interval in which the UE shall search for a possible Higher
priority PLMN registration.
The registration attempts initiated by the terminal accessing UTRAN depends on
terminal\'s capabilities and can be one of the following:
> I. registration procedures for Ues supporting CS or
II. registration procedures for Ues supporting PS or
III. registration procedures for Ues supporting CS/PS
#### 7.4.1.2 Conformance requirement
After registered onto a VPLMN the UE shall take into account the Higher
priority PLMN search period timer and the priority order of the Higher
priority PLMNs in the preferred list on the USIM.
\- TS 22.011 [6], subclauses 3.2.2 and 3.2.2.5.
\- TS 24.008 [16], subclause 4.7.5
#### 7.4.1.3 Test purpose
To verify that the Higher priority PLMN timer is read and the Higher priority
PLMN takes precedence over the VPLMN in which the UE is currently registered
in.
#### 7.4.1.4 Method of test
##### 7.4.1.4.1 Initial conditions
For this test an UTRAN USS (in case of a Terminal accessing UTRAN) or a SS (in
case of Terminal accessing a GERAN) is needed.
The USS (in case of a Terminal accessing UTRAN)/SS (in case of Terminal
accessing a GERAN) transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/082/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/082/0001/05 (only for UTRAN cell).
\- Access control: unrestricted.
After the registration of UE the USS (in case of a Terminal accessing UTRAN)
or a SS (in case of Terminal accessing a GERAN) transmits on a second BCCH,
with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/081/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/081/0001/05. (only for UTRAN cell)
\- Access control: unrestricted.
NOTE: In case of a GERAN no packet system information is transmitted
The default UICC shall be used with the following exception:
**EF~HPPLMN~ (Higher Priority PLMN Search period)**
Logically: set to 6 minutes
* * *
Coding: B1 Hex 01
* * *
The UICC shall be installed into the Terminal and the UE shall be set to
automatic PLMN selection mode.
In case of a Terminal accessing UTRAN \"Expected Sequence A\" and in case of a
Terminal accessing a GERAN \"Expected Sequence B\" shall be performed.
##### 7.4.1.4.2 Procedure
Expected sequence A:
a) The UE shall be powered on.
b) After receipt of a RRC CONNECTION REQUEST from the UE, the USS shall send
RRC CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent
by the UE to the USS.
c) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT to the UE with the
following values:
> LAI (MCC/MNC/LAC): 244/082/0001
>
> TMSI: \"34567890\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT with the following values to the UE:
> RAI (MCC/MNC/LAC/RAC): 244/082/0001/05
>
> P-TMSI: \"34567890\"
>
> P-TMSI signature value: \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT with some of the following values to the UE:
> LAI (MCC/MNC/LAC): 244/082/0001
>
> TMSI: \"34567890\"
>
> RAI (MCC/MNC/LAC/RAC) 244/082/0001/05
>
> P-TMSI \"34567890\"
>
> P-TMSI signature value \"AB1234\"
d) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. After receipt of a TMSI REALLOCATION COMPLETE from the UE during
registration on CS, the USS sends RRC CONNECTION RELEASE to the UE, followed
by RRC CONNECTION RELEASE COMPLETE sent by the UE to the USS.
II. After receipt of a ATTACH COMPLETE from the UE during registration on PS,
the USS sends RRC CONNECTION RELEASE to the UE, followed by RRC CONNECTION
RELEASE COMPLETE sent by the UE to the USS or.
III. After receipt of a TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE from
the UE during registration on CS/PS, the USS sends RRC CONNECTION RELEASE to
the UE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE to the USS.
e) The USS starts to send on the second BCCH with the MCC/MNC 244/081. An
internal timer shall start to run.
f) After receipt on the cell related to the BCCH transmitting MCC/MNC 244/081
of a RRC CONNECTION REQUEST from the UE, the USS sends RRC CONNECTION SETUP to
the UE, followed by RRC CONNECTION SETUP COMPLETE sent by the UE to the USS.
The internal timer is stopped.
g) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT to the UE with following
values:
> LAI (MCC/MNC/LAC): 244/081/0001
>
> TMSI: \"12345678\"
II. During registration on PS and after receipt of a ROUTING AREA UPDATE
REQUEST from the UE, the USS initiates authentication, starts integrity by
using the security procedure and sends ROUTING AREA UPDATE ACCEPT with the
following values to the UE:
> RAI (MCC/MNC/LAC/RAC): 244/081/0001/05
>
> P-TMSI \"12345678\"
>
> P-TMSI signature value \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ROUTING AREA UPDATE REQUEST from the UE, the USS initiates
authentication, starts integrity by using the security procedure and sends
LOCATION UPDATING ACCEPT and/or ROUTING AREA UPDATE ACCEPT with some of the
following values to the UE:
> LAI (MCC/MNC/LAC): 244/081/0001
>
> TMSI: \"12345678\"
>
> RAI (MCC/MNC/LAC/RAC) 244/081/0001/05
>
> P-TMSI \"12345678\"
>
> P-TMSI signature value \"AB1234\"
h) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. After receipt of a TMSI REALLOCATION COMPLETE from the UE during
registration on CS, the USS sends RRC CONNECTION RELEASE to the UE followed by
RRC CONNECTION RELEASE COMPLETE sent by the UE to the USS or
II. After receipt of a ROUTING AREA UPDATE COMPLETE from the UE during
registration on PS, the USS sends RRC CONNECTION RELEASE to the UE, followed
by RRC CONNECTION RELEASE COMPLETE sent by the UE to the USS or.
III. After receipt of a TMSI REALLOCATION COMPLETE and/or ROUTING AREA UPDATE
COMPLETE from the UE during registration on CS/PS, the USS sends RRC
CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS.
i) The UE is soft powered down.
Expected sequence B:
a) The UE shall be powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS shall send IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 244/082/0001
TMSI: \"34567890\"
to the UE.
d) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
e) The SS starts to send on the second BCCH with the MCC/MNC 244/081. An
internal timer shall start to run.
f) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE. The internal timer is stopped.
g) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 244/081/0001
TMSI: \"12345678\"
to the UE.
h) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
i) The UE is soft powered down.
#### 7.4.1.5 Acceptance criteria
> 1) After step e) the UE accessing a GERAN shall send CHANNEL REQUEST on the
> cell related to the BCCH transmittingMCC/MNC 244/081 to the SS and the UE
> accessing UTRAN shall send an RRC CONNECTION REQUEST on the cell related to
> the BCCH transmitting MCC/MNC 244/081 to the USS
>
> 2) After.step e) the UE accessing a GERAN shall send LOCATION UPDATING
> REQUEST to the SS and the UE accessing UTRAN shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ROUTING AREA UPDATE REQUEST during registration on PS or
III. LOCATION UPDATING REQUEST and/or ROUTING AREA UPDATE REQUEST to the USS
during registration on CS/PS.
> 3) After step g) the UE accessing a GERAN shall respond with TMSI
> REALLOCATION COMPLETE and the UE accessing UTRAN shall respond with
I. TMSI REALLOCATION COMPLETE to the USS during registration on CS or
II. ROUTING AREA UPDATE COMPLETE during registration on PS or
III. TMSI REALLOCATION COMPLETE and/or ROUTING AREA UPDATE COMPLETE to the USS
during registration on CS/PS.
> 4) The value of the internal timer shall not exceed 6 minutes.
NOTE: To take the systems processing time into account, the value of the
internal timer may allowed to be a guard time of 10 % greater than the
required 6 minutes.
> 5) After step i) the USIM shall contain the following values:
For UEs accessing GERAN and UEs accessing UTRAN and supporting (CS and PS) or
(CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 244
LAI-MNC: 081
TMSI: \"12345678\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 12 34 56 78 42 14 80 xx xx xx
00
* * *
For UEs supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 244
RAI-MNC: 081
P-TMSI: \"12345678\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 12 34 56 78 xx xx xx 42 14 80
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.4.2 GSM/UmTS dual mode UEs recognising the search period of the Higher
priority PLMN
#### 7.4.2.1 Definition and applicability
The Higher priority PLMN handling is defined in TS 22.011 [6] . The Higher
priority PLMN search period gives the time interval between searches for a
higher priority PLMN.
The registration attempts initiated by the uE depends on UEs capabilities and
can be one of the following:
> I. registration procedures for UEs supporting CS or
II. registration procedures for UEs supporting PS or
III. registration procedures for UEs supporting CS/PS
To avoid a duplication of tests, this test supersedes the previous test case
(7.4.1).
#### 7.4.2.2 Conformance requirement
After registered onto a VPLMN the UE shall take into account the Higher
priority PLMN search period timer and the priority order of the Higher
priority PLMNs in the preferred lists on the USIM including the Access
Technology Identifier.
\- TS 22.011 [6], subclauses 3.2.2 and 3.2.2.5.
#### 7.4.2.3 Test purpose
To verify that the Higher priority PLMN timer is read and the Higher priority
PLMN with the higher priority (defined according to the selection order in TS
22.011 [6]) takes precedence over the VPLMN in which the UE is currently
registered in.
#### 7.4.2.4 Method of test
##### 7.4.2.4.1 Initial conditions
For this test both a GSM SS and an UTRAN USS are needed.
The GSM SS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/082/0001.
\- Access control: unrestricted.
After the registration of UE the GSM SS transmits on a second BCCH, with the
following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/081/0001.
\- Access control: unrestricted.
At the same time as the SS sends on a second BCCH, the UMTS USS transmits on
BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/081/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/081/0001/05.
\- Access control: unrestricted.
The default UICC is used with the following exception:
**EF~HPLMNwACT~ (HPLMN selector with Access Technology)**
Logically: Set to MCC 244 and MNC 081
Set to UTRAN
* * *
Coding: B1 B2 B3 B4 B5 Hex 42 14 80 80 00
* * *
**EF~HPPLMN~ (Higher Priority HPLMN Search period)**
Logically: set to 6 minutes
* * *
Coding: B1 Hex 01
* * *
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
> HPLMN selector with access technology available
* * *
Coding: B1 B2 B3 B4 B5 B6 binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx xxxx
xx11 xxxx x1xx
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 7.4.2.4.2 Procedure
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of a LOCATION UPDATING REQUEST from the UE, the SS sends
LOCATION UPDATING ACCEPT with:
LAI (MCC/MNC/LAC): 244/082/0001
TMSI: \"34567890\"
to the UE.
d) After receipt of a TMSI REALLOCATION COMPLETE from the UE, the SS sends
CHANNEL RELEASE to the UE.
e) The SS starts to send on the second BCCH with the MCC/MNC 244/081 and the
USS starts to send with the Same MCC/MNC. An internal timer shall start to
run.
f) After receipt of a RRC CONNECTION REQUEST on the UTRAN-cell related to the
BCCH transmitting MCC/MNC 244/081 from the UE, the USS sends RRC CONNECTION
SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent by the UE to
the USS. The internal timer is stopped.
g) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. During registration on CS and after receipt of a LOCATION UPDATING REQUEST
from the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends LOCATION UPDATING ACCEPT with the following
values to the UE:
> LAI (MCC/MNC/LAC): 244/081/0001
>
> TMSI: \"12345678\"
II. During registration on PS and after receipt of a ATTACH REQUEST from the
UE, the USS initiates authentication, starts integrity by using the security
procedure and sends ATTACH ACCEPT with the following values to the UE:
> RAI (MCC/MNC/LAC/RAC) 244/081/0001/05
>
> P-TMSI \"12345678\"
>
> P-TMSI signature value \"AB1234\"
III. During registration on CS/PS and after receipt of a LOCATION UPDATING
REQUEST and/or ATTACH REQUEST from the UE, the USS initiates authentication,
starts integrity by using the security procedure and sends LOCATION UPDATING
ACCEPT and/or ATTACH ACCEPT with some of the following values to the UE:
> LAI (MCC/MNC/LAC): 244/081/0001
>
> TMSI: \"12345678\"
>
> RAI (MCC/MNC/LAC/RAC) 244/081/0001/05
>
> P-TMSI \"12345678\"
>
> P-TMSI signature value \"AB1234\"
h) Depending on which domain the UE is going to be registered on, one of the
following sequences will be passed through:
I. After receipt of a TMSI REALLOCATION COMPLETE from the UE during
registration on CS, the USS sends RRC CONNECTION RELEASE to the UE, followed
by RRC CONNECTION RELEASE COMPLETE sent by the UE to the USS or
II. After receipt of a ATTACH COMPLETE from the UE during registration on PS,
the USS sends RRC CONNECTION RELEASE to the UE, followed by RRC CONNECTION
RELEASE COMPLETE sent by the UE to the USS or.
III. After receipt of a TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE from
the UE during registration on CS/PS, the USS sends RRC CONNECTION RELEASE to
the UE, followed by RRC CONNECTION RELEASE COMPLETE sent by the UE to the USS.
i) The UE is soft powered down.
#### 7.4.2.5 Acceptance criteria
> 1) After step e) the UE shall send an RRC CONNECTION REQUEST on the UTRAN-
> cell related to the BCCH transmitting MCC/MNC 244/081 to the USS.
>
> 2) After step e) the UE shall send
I. LOCATION UPDATING REQUEST to the USS during registration on CS or
II. ATTACH REQUEST during registration on PS or
III. LOCATION UPDATING REQUEST and/or ATTACH REQUEST to the USS during
registration on CS/PS.
> 3) After step g) the UE shall respond with
I. TMSI REALLOCATION COMPLETE during registration on CS or
II. ATTACH COMPLETE during registration on PS or
III. TMSI REALLOCATION COMPLETE and/or ATTACH COMPLETE to the USS during
registration on CS/PS.
> 4) The value of the internal timer shall not exceed 6 minutes.
NOTE: To take the systems processing time into account, the value of the
internal timer may allowed to be a guard time of 10 % greater than the
required 6 minutes.
> 5) After step i) the USIM shall contain the following values:
For UEs supporting (CS and PS) or (CS only):
**EF~LOCI~ (Location Information)**
Logically: LAI-MCC: 244
LAI-MNC: 081
TMSI: \"12345678\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 12 34 56 78 42 14 80 xx xx xx
00
* * *
For UEs supporting (CS and PS) or (PS only):
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 244
RAI-MNC: 081
P-TMSI: \"12345678\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 12 34 56 78 xx xx xx 42 14 80
xx
Coding: B12 B13 B14  
Hex xx xx 00
* * *
### 7.4.3 UE recognising the search period of the Higher priority PLMN --
E-UTRAN
#### 7.4.3.1 Definition and applicability
The Higher priority PLMN list gives in priority order the Higher priority PLMN
on which the UE shall register first. The Higher priority PLMN search period
gives the time interval in which the UE shall search for a possible Higher
priority PLMN registration.
#### 7.4.3.2 Conformance requirement
After registered onto a VPLMN the UE shall take into account the Higher
priority PLMN search period timer and the priority order of the Higher
priority PLMNs in the preferred lists on the USIM.
\- TS 22.011 [6], subclauses 3.2.2 and 3.2.2.5.
> \- TS 24.301 [26], subclause 5.5.3.2
\- TS 31.102 [4], subclause 4.2.6.
#### 7.4.3.3 Test purpose
To verify that the Higher priority PLMN timer is read and the Higher priority
PLMN takes precedence over the VPLMN in which the UE is currently registered
in. Hereby the new coding for RAT E-UTRAN/NB-IoT has to be handled correctly
by the UE.
#### 7.4.3.4 Method of test
##### 7.4.3.4.1 Initial conditions
For this test an E-USS/NB-IoT is required.
The E-USS transmits on BCCH with the following network parameters:
\-- TAI (MCC/MNC/TAC): 244/008/0001.
\- Access control: unrestricted.
After the registration of UE the E-USS transmits on a second BCCH with the
following network parameters:
\- TAI (MCC/MNC/TAC): 244/083/0001.
\-- Access control: unrestricted.
The NB-SS transmits on BCCH with the following network parameters:
> \-- TAI (MCC/MNC/TAC): 244/008/0001.
>
> \- Access control: unrestricted.
After the registration of UE the NB-SS transmits on a second BCCH with the
following network parameters:
> \- TAI (MCC/MNC/TAC): 244/083/0001.
>
> \-- Access control: unrestricted.
The default E-UTRAN UICC shall be used with the following exception:
**EF~HPPLMN~ (Higher Priority PLMN Search period)**
Logically: For an MS that does not only support any of the following or a
combination of NB-S1 mode or GERAN EC-GSM-IoT or Category M1 of E-UTRAN
enhanced-MTC mode, T is 6 minutes. Otherwise T is 2 hours.
* * *
Coding: B1 Hex 01
* * *
The UICC shall be installed into the Terminal and the UE shall be set to
automatic PLMN selection mode.
##### 7.4.3.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE on the E-UTRAN-cell/NB-IoT-cell related to the BCCH transmitting MCC/MNC
244/008, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to
the UE, followed by _RRCConnectionSetupComplete/ RRCConnectionSetupComplete-
NB_ sent by the UE to the E-USS/NB-SS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS/NB-SS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/008/ 0001
GUTI: \"24400800010266436587\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_.
e) The E-USS/NB-SS starts to send on the second BCCH with the MCC/MNC 244/083.
An internal timer shall start to run.
f) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE on the E-UTRAN-cell/NB-IoT-cell related to the BCCH transmitting MCC/MNC
244/083, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to
the UE, followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS/NB-SS initiates authentication, starts integrity by using
the security procedure and sends _TrackingAreaUpdateAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/083/ 0001
GUTI: \"24408300010266436587\"
h) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_.
i) The UE is soft powered down.
#### 7.4.3.5 Acceptance criteria
1.) After step e) the UE shall send a
_RRCConnectionRequest/RRCConnectionRequest-NB_ on the E-UTRAN-cell/NB-IoT-cell
related to the BCCH transmitting MCC/MNC 244/083 to the E-USS/NB-SS.
2) After step f) the terminal shall send _TrackingAreaUpdateReques_ to the
E-USS/NB-SS.
3) After step g) the terminal shall respond with _TrackingAreaUpdatComplete_
during registration.
4) After step i) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24408300010266436587
Last visited registered TAI: 244/083/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 34 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    34    80    00    01    00
* * *
### 7.4.4 E-UTRAn/EPC capable UEs recognising the search period of the Higher
priority PLMN -- GSM/E-UTRAN
#### 7.4.4.1 Definition and applicability
The Higher priority PLMN handling is defined in TS 22.011 [6]. The Higher
priority PLMN search period gives the time interval between searches for a
higher priority PLMN.
To avoid a duplication of tests, this test supersedes the previous test case
(7.4.3).
#### 7.4.4.2 Conformance requirement
After registered onto a VPLMN the UE shall take into account the Higher
priority PLMN search period timer and the priority order of the Higher
priority PLMNs in the preferred lists on the USIM including the Access
Technology Identifier.
\- TS 22.011 [6], subclauses 3.2.2 and 3.2.2.5.
#### 7.4.4.3 Test purpose
To verify that the Higher priority PLMN timer is read and the Higher priority
PLMN with the higher priority (defined according to the selection order in TS
22.011 [6]) takes precedence over the VPLMN in which the UE is currently
registered in. Hereby the new coding for RAT E-UTRAN has to be handled
correctly by the UE.
#### 7.4.4.4 Method of test
##### 7.4.4.4.1 Initial conditions
For this test both a GSM SS and an E-UTRAN E-USS are needed.
The GSM SS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/082/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/082/0001/05.
\- Access control: unrestricted.
After the registration of UE the GSM SS transmits on a second BCCH, with the
following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/081/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/081/0001/05.
\- Access control: unrestricted.
At the same time as the SS sends on a second BCCH, the E- USS transmits on
BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 244/081/0001.
\-- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~HPLMNwACT~ (HPLMN selector with Access Technology)**
Logically: Set to MCC 244 and MNC 081
Set to
E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 Hex 42 14 80 40 00
* * *
**EF~HPPLMN~ (Higher Priority HPLMN Search period)**
Logically: set to 6minutes
* * *
Coding: B1 Hex 01
* * *
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
> HPLMN selector with access technology available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx x1xx xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
The UICC is installed into the Terminal, the UE is set to automatic PLMN
selection mode and to auto GPRS attach..
##### 7.4.4.4.2 Procedure
a) The UE is powered on.
b) After receipt of a CHANNEL REQUEST from the UE, the SS sends IMMEDIATE
ASSIGNMENT to the UE.
c) After receipt of an ATTACH REQUEST from the UE, the SS sends ATTACH ACCEPT
with:
RAI (MCC/MNC/LAC/RAC): 244/082/0001/05
TMSI: \"34567890\"
to the UE.
d) After receipt of a ATTACH COMPLETE from the UE, the SS sends CHANNEL
RELEASE to the UE.
e) The SS starts to send on the second BCCH with the MCC/MNC 244/081 and the
E-USS starts to send with the Same MCC/MNC. An internal timer shall start to
run.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting MCC/MNC 244/081, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/081/ 0001
GUTI: \"24408100010266436587\"
h) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_.
i) The UE is soft powered down.
#### 7.4.4.5 Acceptance criteria
1.) After step e) the UE shall send a _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting MCC/MNC 244/081 to the e-USS.
2) After step f) the terminal shall send _TrackingAreaUpdateReques_ to the
E-USS.
3) After step g) the terminal shall respond with _TrackingAreaUpdatComplete_
during registration.
4) After step i) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24408100010266436587
Last visited registered TAI: 244/081/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 14 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    14    80    00    01    00
* * *
### 7.4.5 E-UTRAn/EPC capable UEs recognising the search period of the Higher
priority PLMN -- UTRAN/E-UTRAN
#### 7.4.5.1 Definition and applicability
The Higher priority PLMN list gives in priority order the Higher priority PLMN
on which the UE shall register first. The Radio Access Technology identifier
defines the Radio network in which the UE shall register. The list is stored
on the USIM in the EF~HPLMNwACT~. The Higher priority PLMN search period gives
the time interval in which the UE shall search for a possible Higher priority
PLMN registration.
To avoid a duplication of tests, this test supersedes test 7.4.x.
#### 7.4.5.2 Conformance requirement
After registered onto a VPLMN the UE shall take into account the Higher
priority PLMN search period timer and the priority order of the Higher
priority PLMNs in the preferred list on the USIM including the Access
Technology Identifier.
\- TS 22.011 [6], subclauses 3.2.2 and 3.2.2.5.
#### 7.4.5.3 Test purpose
To verify that the Higher priority PLMN timer is read and the Higher priority
PLMN with the higher priority (defined by its position in EF~HPLMNwACT~) takes
precedence over the VPLMN in which the UE is currently registered in. Hereby
the new coding for RAT E-UTRAN has to be handled correctly by the UE.
#### 7.4.5.4 Method of test
##### 7.4.5.4.1 Initial conditions
For this test both a UTRAN USS and an E-UTRAN E-USS are needed.
The USS transmits on BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/009/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/009/0001/05.
\- Access control: unrestricted.
After the registration of UE the USS transmits on a second BCCH, with the
following network parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 244/081/0001.
\- RAI (MCC/MNC/LAC/RAC): 244/081/0001/05.
\- Access control: unrestricted.
At the same time as the SS sends on a second BCCH, the E- USS transmits on
BCCH, with the following network parameters:
\- TAI (MCC/MNC/TAC): 244/081/0001.
\-- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exception:
**EF~HPLMNwACT~ (HPLMN selector with Access Technology)**
Logically: Set to MCC 244 and MNC 081
Set to
E-UTRAN
* * *
Coding: B1 B2 B3 B4 B5 Hex 42 14 80 40 00
* * *
**EF~HPPLMN~ (Higher Priority HPLMN Search period)**
Logically: set to 6minutes
* * *
Coding: B1 Hex 01
* * *
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
Enabled Services Table available
> HPLMN selector with access technology available
>
> EPS Mobility Management Information available
>
> Allowed CSG Lists and corresponding indications not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 Binary xx1x xx11 xxxx xxxx xxxx 1x00 xxxx x1xx
xxxx xx11 xxxx x1xx xxxx xxxx xxxx xxxx
            B9          B10         B11                                                         
            xxxx xxxx   xxxx xxxx   xx01 xxxx
* * *
The UICC is installed into the Terminal, the UE is set to automatic PLMN
selection mode and to auto GPRS attach.
##### 7.4.5.4.2 Procedure
a) The UE is powered on.
b) After receipt of a RRC CONNECTION REQUEST from the UE, the USS shall send
RRC CONNECTION SETUP to the UE, followed by RRC CONNECTION SETUP COMPLETE sent
by the UE to the USS.
c) After receipt of an ATTACH REQUEST from the UE, the SS sends ATTACH ACCEPT
with:
RAI (MCC/MNC/LAC/RAC): 244/009/0001/05
TMSI: \"34567890\"
to the UE.
d) After receipt of a ATTACH COMPLETE from the UE, the USS sends RRC
CONNECTION RELEASE to the UE, followed by RRC CONNECTION RELEASE COMPLETE sent
by the UE to the USS.
e) TheUSS starts to send on the second BCCH with the MCC/MNC 244/081 and the
E-USS starts to send with the Same MCC/MNC. An internal timer shall start to
run.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting MCC/MNC 244/081, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with to the UE:
TAI (MCC/MNC/TAC): 244/081/ 0001
GUTI: \"24408100010266436587\"
h) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_.
i) The UE is soft powered down.
#### 7.4.5.5 Acceptance criteria
1.) After step e) the UE shall send a _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting MCC/MNC 244/081 to the e-USS.
2) After step f) the terminal shall send _TrackingAreaUpdateReques_ to the
E-USS.
3) After step g) the terminal shall respond with _TrackingAreaUpdatComplete_
during registration.
4) After step i) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24408100010266436587
Last visited registered TAI: 244/081/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 14 80 00 01 02 66 43
65
            B12   B13   B14   B15   B16   B17   B18                   
            87    42    14    80    00    01    00
* * *
## 7.5 Void
# 8 Subscription independent tests
## 8.1 Phone book procedures
### 8.1.1 Recognition of a previously changed phonebook
#### 8.1.1.1 Definition and applicability
If the UICC is inserted into a GERAN Rel-4 or earlier terminal, the phonebook
may have been altered in this GSM session. If the ADN entry has been changed
or deleted, the GSM terminal will not be able to change the appropriate
additional phonebook entries (e.g. EF~ANR~ Additional Number). In that case
the UICC shall set a flag in the appropriate EF~PBC~ (phonebook Control). If
the UICC is inserted in a 3G or GERAN Terminal, the 3G or GERAN Terminal shall
recognise the flag and the phonebook shall be synchronised by the Terminal.
Once the Terminal recognise the set flag in the EF~PBC~, the Terminal shall
update the Change Counter in the EF~CC~.
#### 8.1.1.2 Conformance requirement
The 3G or GERAN Terminal shall recognise the set flag in the EF~PBC~ and then
synchronise the phonebook. The Terminal shall also update EF~CC~ (Change
Counter).
\- TS 31.102 [4], subclause 4.4.2.
#### 8.1.1.3 Test purpose
1) To verify that the Terminal has recognised that the phonebook has been
altered by a GSM Terminal.
2) To verify that the Terminal does the synchronising of the changed phonebook
entries.
> 3) To verify that the Terminal updates the EF~PBC~ and EF~CC~.
#### 8.1.1.4 Method of test
##### 8.1.1.4.1 Initial conditions
No USS is needed for this test.
The default UICC is used with the following exception:
**EF~ADN~ (Abbreviated Dialling Number)**
Logically:
Record 1: Length of alpha identifier: 32 characters;
Alpha identifier: \"ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEF\";
Length of BCD number: \"03\";
TON and NPI: Telephony and Unknown;
Dialled number: 123;
CCI: None;
Ext1: None.
Record 1:
* * *
Coding: B1 B2 B3 ... B32 B33 B34 B35 B36 B37 B38 B39 ... B46 Hex 41 42 43 ...
46 03 81 21 F3 FF FF FF ... FF
* * *
**EF~PBC~ (Phonebook Control)**
Logically:
Record 1: The ADN Record No. 1 has been hanged by a GSM terminal.
Related ADN record is not hidden.
* * *
Coding: B1 B2 Hex 01 00
* * *
**EF~CC~ (Change Counter)**
Logically: \"000F\"
* * *
Coding: B1 B2 Hex 00 0F
* * *
The UICC is installed into the Terminal
##### 8.1.1.4.2 Procedure
> a) The Terminal is powered on.
>
> b) The Terminal shall stay powered on until the phonebook synchronisation
> procedures are finished. If the synchronisation is indicated by the
> Terminal, the Terminal shall only powered down after this indication is
> vanished.
#### 8.1.1.5 Acceptance criteria
After step b) the USIM shall contain the following values:
**EF~PBC~ (Phonebook Control)**
Logically:
Record 1: The entry control information is reset.
Related ADN record is not hidden.
* * *
Coding: B1 B2 Hex 00 00
* * *
**EF~CC~ (Change Counter)**
Logically: The counter is incremented to \"0010\"
* * *
Coding: B1 B2 Hex 00 10
* * *
### 8.1.2 Update of the Phonebook Synchronisation Counter (PSC)
#### 8.1.2.1 Definition and applicability
The phonebook synchronisation Counter is used to unambiguously identify the
status of the phonebook. Every time the phonebook is reset/deleted or the UID
and/or the CC has run out of range, the PSC shall be regenerated.
The PSC is a part of the phonebook identifier.
#### 8.1.2.2 Conformance requirement
Every time either the UID or the CC is incremented by the Terminal, the value
of the contend of the appropriate EF shall be tested. If either UID or CC has
reached \"FF FF\", the related EF shall be set to \"00 01\" and the PSC is
incremented.
\- TS 31.102 [4], subclause 4.4.2.12.2.
#### 8.1.2.3 Test purpose
1) To verify that the Terminal has recognised that the values of UID and CC
has changed.
2) To verify that the Terminal resets the value of EF~UID~ and EF~CC~.
> 3) To verify that the Terminal updates EF~PSC~.
#### 8.1.2.4 Method of test
##### 8.1.2.4.1 Initial conditions
No USS is needed for this test.
The default UICC is used with the following exception:
**EF~UID~ (Unique Identifier)**
Logically: one record is set to \"FF FF\"
* * *
Coding: B1 B2 Hex FF FF
* * *
**EF~PUID~ (Previous Unique Identifier)**
Logically: is set to \"FF FF\"
* * *
Coding: B1 B2 Hex FF FF
* * *
**EF~CC~ (Change Counter)**
Logically: set to \"FF FF\"
* * *
Coding: B1 B2 Hex FF FF
* * *
**EF~PSC~ (Phonebook Synchronisation Counter)**
Logically: set to \"00 00 FF FF\"
* * *
Coding: B1 B2 B3 B4 Hex 00 00 FF FF
* * *
At least one phonebook entry shall be empty and available for creating a new
entry (e.g. an appropriate ADN record).
The UICC is installed into the Terminal and the UE is powered on and the
correct PIN is entered.
##### 8.1.2.4.2 Procedure
a) A new phonebook entry shall be created.
NOTE 1: This may be done by storing a new telephone number in an empty ADN
record.
b) The UE shall have given the time to perform the regeneration of the UID
records.
NOTE 2: It is assumed that the UE will indicate the time it needs to perform
the regeneration by displaying a busy signal to the user.
#### 8.1.2.5 Acceptance criteria
After step b) the USIM shall contain the following values:
The EF~UID~ (Unique Identifier) shall have been regenerated with UID values
starting with \"00 01\". The UID values may be stored in any order, but shall
be unique. The entry in EF~UID~ with value FF FF (the maximum value) shall
have been replaced by an appropriate value which shall be distinguishable to
the maximum value. EF~PUID~ shall contain a UID value (other than FFFF) that
is present in EF~UID.~
**EF~CC~ (Change Counter)**
Logically: set to \"00 01\"
* * *
Coding: B1 B2 Hex 00 01
* * *
**EF~PSC~ (Phonebook Synchronisation Counter)**
Logically: set to \"00 01 00 00\"
* * *
Coding: B1 B2 B3 B4 Hex 00 01 00 00
* * *
### 8.1.3 Phonebook content handling
#### 8.1.3.1 Handling of BCD number/ SSC content extension
##### 8.1.3.1.1 Definition and applicability
> The length of BCD number/SSC contents in EF~ADN~ byte gives the number of
> bytes of the following two data items containing actual BCD number/SSC
> information. This means that the maximum value is 11, even when the actual
> ADN/SSC information length is greater than 11. When an ADN/SSC has
> extension, it is indicated by the extension1 identifier being unequal to
> \'FF\'. The remainder is stored in the EF~EXT1~ with the remaining length of
> the additional data being coded in the appropriate additional record itself.
##### 8.1.3.1.2 Conformance requirement
> The terminal shall support the BCD number/ SSC extension for EF~ADN~ as
> defined in TS 31.102 [4], subclauses 4.4.2.3 and 4.4.2.4.
Reference:
\- TS 31.102 [4], subclauses 4.4.2.3 and 4.4.2.4.
##### 8.1.3.1.3 Test purpose
1) To verify that the terminal is able to read and update BCD numbers/ SSC
content with and without extension correctly in EF~ADN~ and EF~EXT1~.
##### 8.1.3.1.4 Method of test
##### 8.1.3.1.4.1 Initial conditions {#initial-conditions-61 .H6}
The terminal is connected to the USIM Simulator.
Prior to the test execution the terminal manufacturer shall state the maximum
number of BCD digits (excluding TON/NPI), which are supported by the terminal
for global phonebook updating.
The default USIM is used with the following exceptions:
Only the global phonebook is present.
The global phonebook shall contain:
**EF~PBR~ (Phonebook reference file)**
Logically: Only EF~ADN~ and EF~EXT1~ are present in the global phonebook.
**EF~ADN~ (Abbreviated dialling numbers)**
Logically:
> 10 records, each record non-empty and unique. Unless otherwise stated, the
> ADN records shall not use extended BCD numbers/SSC strings.
Record 1: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact001\";
Length of BCD number: 11;
TON and NPI: Telephony and International;
Dialled number: \"00112233445566778899\";
CCI: \'FF\';
Ext1: 01.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 31 FF ... FF 0B
            B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45   B46   
            91    00    11    22    33    44    55    66    77    88    99    FF    01
* * *
Record 2: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact002\";
Length of BCD number: 11;
TON and NPI: Telephony and International;
Dialled number: \"01234567890123456789\";
CCI: \'FF\';
Ext1: \'FF\'.
Record 2:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 32 FF ... FF 0B
            B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45   B46   
            91    10    32    54    76    98    10    32    54    76    98    FF    FF
* * *
Record 3: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact003\";
Length of BCD number: 11;
TON and NPI: Telephony and International;
Dialled number: \"99887766554433221100\";
CCI: \'FF\';
Ext1: \'02\'.
Record 3:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 33 FF ... FF 0B
            B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45   B46   
            91    99    88    77    66    55    44    33    22    11    00    FF    02
* * *
Record 4: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact004\";
Length of BCD number: 9;
TON and NPI: Telephony and International;
Dialled number: \"1212121212121212\";
CCI: \'FF\';
Ext1: \'FF\'.
Record 4:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 34 FF ... FF 09
            B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45   B46   
            91    21    21    21    21    21    21    21    21    FF    FF    FF    FF
* * *
Record 7: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact007\";
Length of BCD number: 3;
TON and NPI: Telephony and International;
Dialled number: \"678\";
CCI: \'FF\';
Ext1: \'FF\'.
Record 7:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 37 FF ... FF 03
            B34   B35   B36   B37   B38   B39   B40   B41   B42   B43   B44   B45   B46   
            91    76    F8    FF    FF    FF    FF    FF    FF    FF    FF    FF    FF
* * *
**EF~EXT1~ (Extension 1)**
Logically: 4 records
Record 1: Record type: \'02\'
Extension data: \"01234567890123456789\";
Identifier: \'FF\'.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13  
Hex 02 0A 10 32 54 76 98 10 32 54 76 98 FF
* * *
Record 2: Record type: \'02\'
Extension data: \"99887766554433221100\";
Identifier: \'03\'.
Record 2:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13  
Hex 02 0A 99 88 77 66 55 44 33 22 11 00 03
* * *
Record 3: Record type: \'02\'
Extension data: \"11p12345\";
Identifier: \'FF\'.
Record 3:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13  
Hex 02 04 11 1C 32 54 FF FF FF FF FF FF FF
* * *
Record 4: Record type: \'00\'
Extension data: empty;
Identifier: \'FF\'.
Record 4:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13  
Hex 00 FF FF FF FF FF FF FF FF FF FF FF FF
* * *
##### 8.1.3.1.4.2 Procedure {#procedure-61 .H6}
a) The terminal is switched on and the USIM application shall be activated.
b) The user shall use an MMI dependent procedure to select the global
phonebook.
c) The user shall change the BCD number of the entry \"Contact002\" to
\"22446622446622446600777888999\". If the maximum number of BCD digits
supported for the global phonebook update is less than in the requested input
BCD number string, then the user shall enter the BCD number string as
requested, but only up to the maximum number of BCD digits which are supported
for updating.
d) The user shall extend the BCD number of the entry \"Contact007\" to
\"01234567890123456789777888999\".. If the maximum number of BCD digits
supported for the global phonebook update is less than in the requested input
BCD number string, then the user shall enter the BCD number string as
requested, but only up to the maximum number of BCD digits which are supported
for updating.
e) The user shall delete the phonebook entry \"Contact001\".
f) The user shall set the BCD number of the entry \"Contact002\" to
\"22446622446600\"
g) The user shall create the new phonebook entry \"NewContact\" with the BCD
number \"1234567890123456789012345678901234567890123456789012\".. If the
maximum number of BCD digits supported for the global phonebook update is less
than in the requested input BCD number string, then the user shall enter the
BCD number string as requested, but only up to the maximum number of BCD
digits which are supported for updating.
h) The user shall delete the phonebook entry \"Contact003\".
i) The terminal is switched off.
##### 8.1.3.1.5 Acceptance criteria
1) After step a) the terminal shall have activated the USIM application.
2) After step b) the terminal shall have selected the global phonebook and
shall have read EF~PBR~ in the global phonebook.
3) After step c) the global phonebook shall contain a record with
\"22446622446622446600\" as BCD number and \"04\" as extension record
identifier. EF~EXT1~ shall contain a record with \"Additional data\" as record
type, the BCD number extension \"777888999\" and \"FF\" as identifier to
indicate the end of the chain. If the maximum number of BCD digits supported
for global phonebook updating is less than in the requested input BCD number,
then EF~ADN~ and EF~EXT1~ shall contain the BCD number as entered on the MMI.
4) After step d) the terminal shall have taken action to prevent storage of
the extended BCD number, e.g. by giving an indication to the user or not
allowing to enter the extended number. EF~EXT1~ shall have not been updated
and the extension record identifier of the entry \"Contact007\"shall remain as
\"FF\".
5) After step e) records of EF~ADN~ and EF~EXT1~ which were used to store the
data for the phonebook entry \"Contact001\" shall be empty, i.e. the EF~ADN~
record shall be \"FF... FF\" and the EF~EXT1~ record shall be \"00FF... FF.\"
6) After step f) the record of EF~EXT1~ which was used to store the BCD number
extension \"777888999\" shall be empty and the record used for storing the
entry with the alpha identifier \"Contact002\" of EF~ADN~ shall contain the
BCD number \"22446622446600\" and the extension record identifier \"FF\".
7) After step g) a record of EF~ADN~ shall contain \"NewContact\" as alpha
identifier, \"12345678901234567890\" as BCD number and shall use an extension
record identifier unequal to \"FF\".
> The EF~EXT1~ record which was indicated in the EF~ADN~ record used in this
> case shall contain \"Additional data\" as record type,
> \"12345678901234567890\" as BCD number and an extension record identifier
> unequal to \"FF\", while the EF~EXT1~ record used to continue the chain
> inside EF~EXT1~ shall contain \"Additional data\" as record type,
> \"123456789012\" as BCD number and \"FF\" as extension record identifier.
>
> If the maximum number of BCD digits supported for global phonebook updating
> is less than the requested input BCD number, then EF~ADN~ and EF~EXT1~ shall
> contain the BCD number as entered on the MMI.
8) After step h) the record of EF~ADN~ which was used to store the data for
\"Contact003\" and the related records of EF~EXT1~ shall be empty.
### 8.1.4 Phonebook selection
#### 8.1.4.1 Definition and applicability
The UICC may contain a global phonebook, or application specific phonebooks,
or both in parallel. When both phonebook types co-exist, they are independent
and no data is shared. In this case, it shall be possible for the user to
select which phonebook the user would like to access.
#### 8.1.4.2 Conformance requirement
> The terminal shall support the global and the application specific
> phonebooks as defined in TS 31.102 [4], subclause 4.4.2.
Reference:
\- TS 31.102 [4], subclause 4.4.2.
#### 8.1.4.3 Test purpose
> 1) To verify that the terminal offers a possibility to select which
> phonebook the user would like to select if both, the global and the local
> phonebook, co-exist.
>
> 2) To verify that the data contained in the local phonebook can be read and
> updated correctly.
>
> 3) To verify that the data contained in the global phonebook can be read and
> updated correctly.
#### 8.1.4.4 Method of test
##### 8.1.4.4.1 Initial conditions
The terminal is connected to the USIM Simulator.
The default USIM is used with the following exceptions:
The local and the global phonebook are both present.
The local phonebook shall contain:
**EF~PBR~ (Phonebook reference file)**
Logically: Only EF~ADN~ and EF~EXT1~ are present in the local phonebook.
**EF~ADN~ (Abbreviated dialling numbers)**
Logically: 10 records, each record non-empty and unique.
Record 4: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact004\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 004;
CCI: \'FF\';
Ext1: \'FF\'.
Record 4:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 34 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    F4    FF    FF    FF    ...   FF
* * *
Record 5: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact005\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 1234;
CCI: \'FF\';
Ext1: None.
Record 5:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 35 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    21    43    FF    FF    FF    ...   FF
* * *
The global phonebook shall contain:
**EF~PBR~ (Phonebook reference file)**
Logically: Only EF~ADN~ is present in the global phonebook.
**EF~ADN~ (Abbreviated dialling numbers)**
Logically: 8 records, records 3 and 6 empty, each non-empty record unique.
Record 1: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact001\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 001;
CCI: \'FF\';
Ext1: \'FF\'.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 31 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    F1    FF    FF    FF    ...   FF
* * *
Record 2: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact002\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 002;
CCI: \'FF\';
Ext1: \'FF\'.
Record 2:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 32 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    F2    FF    FF    FF    ...   FF
* * *
Record 4: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact004\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 0041;
CCI: \'FF\';
Ext1: \'FF\'.
Record 4:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 34 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    14    FF    FF    FF    ...   FF
* * *
Record 5: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact005\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 1234;
CCI: \'FF\';
Ext1: \'FF\'.
Record 5:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 35 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    21    43    FF    FF    FF    ...   FF
* * *
Record 7: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact007\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 007;
CCI: \'FF\';
Ext1: \'FF\'.
Record 7:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 37 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    F7    FF    FF    FF    ...   FF
* * *
Record 8: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact008\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 008;
CCI: \'FF\';
Ext1: \'FF\'.
Record 8:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 38 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    F8    FF    FF    FF    ...   FF
* * *
##### 8.1.4.4.2 Procedure
> a) The terminal is switched on and the USIM application shall be activated.
>
> b) The user shall use an MMI dependent procedure to select the global
> phonebook.
>
> c) The global phonebook record with the alpha identifier \"Contact005\" and
> the associated dialling number shall be read by the user.
>
> d) The dialling number of the global phonebook record with the alpha
> identifier \"Contact005\" shall be set to \"+1122330\".
>
> e) A new entry with the values \"Contact006\" as alpha identifier and
> \"+9876543210\" as associated dialling number shall be added to the global
> phonebook.
>
> f) The user shall use an MMI dependent procedure to select the local
> phonebook.
>
> g) The local phonebook record with the alpha identifier \"Contact005\" and
> the associated dialling number shall be read by the user.
>
> h) The dialling number of the local phonebook record with the alpha
> identifier \"Contact005\" shall be set to \"+11223345\".
>
> i) The user shall try to add a new entry with the values \"Contact007\" as
> alpha identifier and \"+007\" as associated dialling number to the local
> phonebook.
>
> j) The user shall delete the entry \"Contact004\" from the local phonebook.
>
> k) The user shall add a new entry with the values \"Contact007\" as alpha
> identifier and \"+007\" as associated dialling number to the local
> phonebook.
>
> l) The user shall use an MMI dependent procedure to select the global
> phonebook.
>
> m) The user shall delete the entry \"Contact007\" from the global phonebook.
>
> n) The terminal is switched off.
#### 8.1.4.5 Acceptance criteria
> 1) After step a) the terminal shall have activated the USIM application,
> shall have read the status of the local Phonebook in EF~UST~.
>
> 2) After step b) the terminal shall have selected the global phonebook and
> shall have read EF~PBR~ in the global phonebook.
>
> 3) After step c) the terminal shall have read the global phonebook record
> which is used to store the enrty \"Contact005\" and shall have presented the
> alpha identifier \"Contact005\" and the dialling number \"+1234\" to the
> user.
>
> 4) After step d) EF~ADN~ in the global phonebook shall contain a record with
> the alpha identifier \"Contact005\" with the new dialling number
> \"+1122330\" and the terminal shall have given an indication to the user
> that the phonebook update has been performed successfully.
>
> 5) After step e) a new record shall have been added to EF~ADN~ in the global
> phonebook with the alpha identifier \"Contact006\" and the dialling number
> string \"+9876543210\".
>
> 6) After step f) the terminal shall have selected the local phonebook and
> shall have read EF~PBR~ in the local phonebook.
>
> 7) After step g) the terminal shall have read the local phonebook record
> which is used to store the entry \"Contact005\" and shall have presented the
> alpha identifier \"Contact005\" and the dialling number \"+1234\" to the
> user.
>
> 8) After step h) EF~ADN~ in the local phonebook shall contain a record with
> the alpha identifier \"Conatct005\" and with new dialling number
> \"+11223345\" and the terminal shall have given an indication to the user
> that the phonebook update has been performed successfully.
>
> 9) After step i) the terminal shall have given an indication that update of
> the local phonebook can\'t be performed. EF~ADN~ shall have not been
> updated.
>
> 10) After step j) the local phonebook record which was used to store the
> entry \"Contact004\" shall be empty and the terminal shall have indicated
> that the deletion of the phonebook entry was performed successfully.
>
> 11) After step k) a new record shall have been added to EF~ADN~ in the local
> phonebook with the alpha identifier \"Contact007\" and the dialling number
> string \"+007\"
>
> 12) After step l) the terminal shall have selected the global phonebook and
> shall have read EF~PBR~ in the global phonebook.
>
> 13) After step m) the global phonebook record which was used to store the
> entry \"Contact007\" shall be empty and the terminal shall have indicated
> that the deletion of the phonebook entry was performed successfully.
### 8.1.5 Local Phonebook handling
#### 8.1.5.1 Definition and applicability
The UICC may contain a global phonebook, or application specific phonebooks,
or both in parallel.
#### 8.1.5.2 Conformance requirement
> The terminal shall support the local phonebook as defined in TS 31.102 [4],
> subclause 4.4.2.
Reference:
\- TS 31.102 [4], subclause 4.4.2.
#### 8.1.5.3 Test purpose
1) To verify that the terminal supports the local phonebook without existence
of the global phonebook.
2) To verify that the data contained in the local phonebook can be read and
updated correctly.
#### 8.1.5.4 Method of test
##### 8.1.5.4.1 Initial conditions
The terminal is connected to the USIM Simulator.
The default USIM is used with the following exceptions:
The local phonebook is present, the global phonebook is not present.
The local phonebook shall contain:
**EF~PBR~ (Phonebook reference file)**
Logically: Only EF~ADN~ and EF~EXT1~ are present in the local phonebook.
**EF~ADN~ (Abbreviated dialling numbers)**
Logically: 10 records, each record non-empty and unique.
Record 4: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact004\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 004;
CCI: \'FF\';
Ext1: \'FF\'.
Record 4:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 34 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    00    F4    FF    FF    FF    ...   FF
* * *
Record 5: Length of alpha identifier: 32 characters;
Alpha identifier: \"Contact005\";
Length of BCD number: \"03\";
TON and NPI: Telephony and International;
Dialled number: 1234;
CCI: \'FF\';
Ext1: \'FF\'.
Record 5:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... B32 B33 Hex 43 6F 6E 74 61 63
74 30 30 35 FF ... FF 03
            B34   B35   B36   B37   B38   B39   ...   B46                                
            91    21    43    FF    FF    FF    ...   FF
* * *
##### 8.1.5.4.2 Procedure
a) The terminal is switched on and the USIM application shall be activated.
b) The user shall use an MMI dependent procedure to select the phonebook on
the USIM (local phonebook).
c) The local phonebook record with the alpha identifier \"Contact005\" and the
associated dialling number shall be read by the user.
d) The dialling number of the local phonebook record with the alpha identifier
\"Contact005\" shall be set to \"+11223345\" and the alpha identifier shall be
changed to \"Contact8901234567890123456789012\".
e) The user shall try to add a new entry with the values \"Contact007\" as
alpha identifier and \"+007\" as associated dialling number to the local
phonebook.
f) The user shall delete the entry \"Contact004\" from the local phonebook.
g) The user shall add a new entry with the values \"Contact007\" as alpha
identifier and \"+007\" as associated dialling number to the local phonebook.
h) The terminal is switched off.
#### 8.1.5.5 Acceptance criteria
1) After step a) the terminal shall have activated the USIM application, shall
have read the status of the local Phonebook in EF~UST~.
2) After step b) the terminal shall have selected the local phonebook and
shall have read EF~PBR~ in the local phonebook.
3) After step c) the terminal shall have read the local phonebook record which
is used to store the entry \"Contact005\" and shall have presented the alpha
identifier \"Contact005\" and the dialling number \"+1234\" to the user.
4) After step d) EF~ADN~ in the local phonebook shall contain a record with
the new alpha identifier \"Contact8901234567890123456789012\" and the dialling
number \"+11223345\" and the terminal shall have given an indication to the
user that the phonebook update has been performed successfully.
5) After step e) the terminal shall have given an indication that update of
the local phonebook can\'t be performed. EF~ADN~ shall have not been updated.
6) After step f) the local phonebook record which was used to store the entry
\"Contact004\" in the local phonebook shall be empty and the terminal shall
have indicated that the deletion of the phonebook entry was performed
successfully.
7) After step g) a new record shall have been added to EF~ADN~ in the local
phonebook with the alpha identifier \"Contact007\" and the dialling number
string \"+007\"
## 8.2 Short message handling report
### 8.2.1 Correct storage of a SM on the USIM
#### 8.2.1.1 Definition and applicability
Once a SMS is received by the UE, the Terminal shall store the SM on the USIM,
if this is indicated by the class 2 of the SMS (USIM specific SM). For this it
is assumed, that at least one relevant SMS field are available on the USIM and
they are indicated as empty.
#### 8.2.1.2 Conformance requirement
The received class 2 SMS shall be stored on the USIM in EF~SMS~. The status of
a received SMS, which has not been read yet, shall be set to \"3\" (SMS to be
read).
\- TS 23.038 [3], clause 4.
\- TS 23.040 [13], subclause 10.1, operation 6;
\- TS 24.011, subclauses 8.2.2, 8.2.3 and 8.2.5.4, Table 8.4 (part 2)
\- TS 31.102 [4], subclauses 4.2.25.
#### 8.2.1.3 Test purpose
1) To verify that the Terminal stored correctly the class 2 SMS on the USIM.
2) To verify that the Terminal sets the status of a received, and not yet read
SMS to \"3\" (SMS to be read)
#### 8.2.1.4 Method of test
##### 8.2.1.4.1 Initial conditions
The default UICC is used with the following exceptions:
1) EF~UST~ (USIM Service Table)
> Logically: Local Phone Book available
>
> User controlled PLMN selector available
>
> Fixed dialling numbers available
>
> Barred dialling numbers available
>
> The GSM Access available
>
> The Group Identifier level 1 and level 2 not available
>
> SMS available
>
> SMS Status available
>
> Service n 33 (Packed Switched Domain) shall be set to \'1\'
>
> Enabled Services Table available
* * *
Byte: B1 B2 B3 B4 B5 Binary xx1x xx11 xxxx X11x xxxx 1x00 xxxx x1xx xxxx xx11
* * *
> The coding of EF~UST~ shall conform with the capabilities of the USIM used.
2) EF~SMS~ (Short Message Service) and EF~SMSS~ (SMS Status) as defined in
8.2.4.4.1.
The USS (in case of a Terminal accessing UTRAN)/SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The USS/SS transmits the class 2 short message with the parameters as defined
in 8.2.4.4.1.
User Equipment:
The UE is connected to the USIM-Simulator and the USS/SS.
##### 8.2.1.4.2 Procedure
**CS related sequence for UTRAN/GERAN**
> Perform the \"CS related procedure\" and continue with \"Generic Procedure
> 1\" as defined clause 8.2.4.4.2 as test \"8.2.1\" with the following
> parameters:
  * Applicable Network Simulator (NWS): USS (UMTS System Simulator or System Simulator)
  * CS is used to send and receive short messages
  * ME supports UTRAN or GERAN
> **CS related procedure:**
>
> a) The ME is switched on and will perform the Profile Download, USIM
> initialization and network registration.
>
> b) Continue with step c) of the Generic Procedure 1 as defined in 8.2.4.4.2.
#### 8.2.1.5 Acceptance criteria
> 1) After step c) the record of the USIM EF~SMS~ which was empty, shall
> contain the values as defined in 8.2.4.5
### 8.2.2 Correct reading of a SM on the USIM
#### 8.2.2.1 Definition and applicability
A SM which is stored but not yet read, is indicated as Status \"3\" (SMS to be
read ) on EF~SMS~. The Terminal may indicate the user this status. After the
SMS is read by the user, the status of the SMS shall be changed to \"1\" (SMS
read).
#### 8.2.2.2 Conformance requirement
A received SM was stored on the USIM in EF~SMS~. At the time the SMS is read
by the user, the status of a received SMS, shall be changed to \"1\" (SMS
read).
\- TS 23.038 [3], clause 4.
\- TS 23.040 [13];
\- TS 31.102 [4], subclauses 4.2.25 and 4.2.28.
#### 8.2.2.3 Test purpose
1) To verify that the Terminal read correctly the SMS on the USIM.
2) To verify that the Terminal changes the status of a read SMS to \"1\" (SMS
read).
#### 8.2.2.4 Method of test
##### 8.2.2.4.1 Initial conditions
The default UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xx1x xx11 xxxx X11x xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~SMSS~ (SMS Status)**
Logically: Last used TP-MR not set.
Memory capacity available (flag unset b1=\"1\").
* * *
Coding: B1 B2 Hex FF FF
* * *
**EF~SMS~ (Short Message Service)**
Logically: Status byte set to SMS to be read.
A chosen test is written in the text body of the EF~SMS~.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 03 xx xx xx xx xx
xx xx xx xx xx xx ... xx
* * *
NOTE: \"xx\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the stored SMS.
At least 9 records.
Logically: Status byte set to empty
no text is written (Remainder Bytes set to \"FF\").
Record:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
A USS (in case of a Terminal accessing UTRAN) or a SS (in case of a Terminal
accessing GERAN) is only needed to bring the UE into a defined idle mode. The
USS/SS transmits on the BCCH:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
User Equipment:
The UE is in MM-state \"idle, updated\".
##### 8.2.2.4.2 Procedure
a) After the UE has brought in idle state, the SMS shall be read.
b) The UE is powered off.
#### 8.2.2.5 Acceptance criteria
> 1) After a) the correct text of the SMS shall be read from the UE display.
2) After step b) the EF~SMS~ record 1 shall contains the following values:
Logically: Status byte set to SMS read.
The entire content of the SMS shall be unchanged.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 01 xx xx Xx xx xx
xx xx xx xx xx xx ... xx
* * *
NOTE: \"xx\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the stored SMS.
### 8.2.3 SM memory capacity exceeded handling
#### 8.2.3.1 Definition and applicability
Once a SMS is received by the UE, the Terminal shall store the SM on the USIM,
if this is indicated by the class 2 of the SMS (USIM specific SM). For this it
is assumed, that at least one relevant SMS field are available on the USIM and
they are indicated as empty. If all SMS data field are full and furthermore
all memory capacity reserved for SMS inside the ME is filled up to maximum and
a SM was rejected, then this shall be indicated in the SMS Status file.
#### 8.2.3.2 Conformance requirement
The received class 2 SMS shall be stored on the USIM in EF~SMS~. The status of
a received SMS, which has not been read yet, shall be set to \"3\" (SMS to be
read). If the terminal notifies the network that the terminal has been unable
to accept a short message because its memory capacity has been exceeded, then
the ME shall set the Memory Capacity Exceeded Notification Flag in the
EF~SMSS~.
\- TS 23.038 [3], clause 4.
\- TS 23.040 [13], subclause 10.1, operation 6;
\- TS 24.011, subclauses 8.2.2, 8.2.3 and 8.2.5.4, Table 8.4 (part 2)
\- TS 31.102 [4], subclauses 4.2.25 and 4.2.28.
#### 8.2.3.3 Test purpose
1) To verify that the Terminal stored correctly the class 2 SMS on the USIM.
2) To verify that the Terminal sets the status of a received, and not yet read
SMS to \"3\" (SMS to be read).
3) To verify that the Terminal sets the memory full flag in EF~SMSS~ if the
terminal notifies the network that the terminal has been unable to accept a
short message because its memory capacity has been exceeded.
#### 8.2.3.4 Method of test
##### 8.2.3.4.1 Initial conditions
The default UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Coding: B1 B2 B3 B4 B5 binary xx1x xx11 xxxx X11x xxxx 1x00 xxxx x1xx xxxx
xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~SMS~ (Short Message Service)**
At least 10 records.
Record 1 shall be empty.
Logically: Status byte set to empty.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
All other Record shall be full.
Logically: Status byte set to SMS read.
The text body of the record shall be filled with any appropriate text.
Records:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 01 xx xx xx xx xx
xx xx xx xx xx xx ... xx
* * *
NOTE: \"xx\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the received SMS.
**EF~SMSS~ (SMS Status)**
Logically: Last used TP-MR not defined.
Memory capacity available (flag unset b1=\"1\").
* * *
Coding: B1 B2 Hex FF FF
* * *
The USS (in case of a Terminal accessing UTRAN) /SS (in case of a Terminal
accessing a GERAN) transmits on the BCCH, with the following network
parameters:
\- Attach/detach: disabled.
\- LAI (MCC/MNC/LAC): 246/081/0001.
\- Access control: unrestricted.
The USS/ SS transmits the short messages with the following parameters:
Logically:
Class 2 SM:TS-Service Centre Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 112233445566
SMS TPDU:
TP-Message-Type-Indicator: SMS-DELIVER (in the direction SC to MS)
TP-More-Messages-to-Send: No more messages are waiting for the MS in this SC
TP-Reply-Path: TP-Reply-Path parameter is not set in this SMS-DELIVER
TP-User-Data-Header-Indicator: The TP-UD field contains only the short message
TP-Status-Report-Indication: A status report shall be returned to the SME
Bits 4-3: 00
TP-Originating-Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 012344556677
TP-Protocol-Identifier: No interworking, but SME-to-SME protocol
TP-Data-Coding-Scheme:
Bits 8-7: General Data Coding
Bit 6: Text is uncompressed
Bit 5: Bits 2-1 have a message class meaning
Bits 4-3: GSM 7 bit default alphabet
Bits 2-1: Class 2: (U)SIM specific message
TP-Service-Centre-Time-Stamp: 02-03-04 09:13:06 GMT + 1
TP-User-Data-Length: 160
TP-User-Data:
\"Once a SMS is received by the UE, the Terminal shall store the SMS on the
USIM, if this is indicated by the class 2 of the SMS (USIM specific SMS). For
this...\"
Class 1 SM:
The same content as for the Class 2 SMS except :
SMS TPDU:
TP-More-Messages-to-Send: More messages are waiting for the MS in this SC
TP-Data-Coding-Scheme:
Bits 2-1: Class 1: default meaning: ME-specific
TP-Service-Centre-Time-Stamp: Always set to current time of the system
simulator
User Equipment:
The UE is in MM-state \"idle, updated\". If there is ME storage capacity
available the storage for SMS inside the ME shall be able to allow for at
least one more mobile terminated (e.g. Class 1) SM.
##### 8.2.3.4.2 Procedure
a) After the UE is set to idle mode, the defined class 2 SM defined in
8.2.1.4.1 with 160 characters shall be sent to the UE.
b) After the UE has indicated that a SM was received, the SM shall not be
read.
c) The USS starts sending Class 1 SMs as defined in 8.2.1.4.1 until the UE
sends an RP-ERROR message with cause \"Memory capacity exceeded\".
d) The UE is powered off.
#### 8.2.3.5 Acceptance criteria
> 1) After step b) the record of the EF~SMS~ which was empty, shall contain
> the following values:
Logically: Status byte set to SMS to be read
The text of the received SMS shall be present in the record.
Record 1:
Logically:
Status:
RFU bits 8-6: 000
Status: Used space, message received by UE from network, message to be read
TS-Service Centre Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 112233445566
SMS TPDU:
> TP-Message-Type-Indicator: SMS-DELIVER (in the direction SC to UE)
>
> TP-More-Messages-to-Send: No more messages are waiting for the UE in this SC
>
> TP-Reply-Path: TP-Reply-Path parameter is not set in this SMS-DELIVER
>
> TP-User-Data-Header-Indicator: The TP-UD field contains only the short
> message
>
> TP-Status-Report-Indication: A status report shall be returned to the SME
>
> Bits 4-3: 00
TP-Originating-Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 012344556677
TP-Protocol-Identifier: No interworking, but SME-to-SME protocol
TP-Data-Coding-Scheme:
Bits 8-7: General Data Coding
Bit 6: Text is uncompressed
Bit 5: Bits 2-1 have a message class meaning
Bits 4-3: GSM 7 bit default alphabet
Bits 2-1: Class 2: (U)SIM specific message
TP-Service-Centre-Time-Stamp: 02-03-04 09:13:06 GMT + 1
TP-User-Data-Length: 160
TP-User-Data:
\"Once a SMS is received by the UE, the Terminal shall store the SMS on the
USIM, if this is indicated by the class 2 of the SMS (USIM specific SMS). For
this ...\"
* * *
Coding:  
Hex 03 07 91 11 22 33 44 55 66 24 0C 91 10 32 44 55 66 77 00 12 20 30 40 90 31
60 40 A0 4F F7 B8 0C 0A 83 A6 CD 29 28 3D 07 C9 CB E3 72 DA 5E 26 83 C4 79 10
1D 5D 06 55 8B 2C 10 1D 5D 06 51 CB F2 76 DA 1D 66 83 E6 E8 30 9B 0D 9A D3 DF
F2 32 88 8E 2E 83 A6 CD 29 E8 ED 06 D1 D1 65 50 75 9A 6C B2 40 69 33 88 8E 4E
CF 41 E9 39 28 ED 26 A7 C7 61 7A 99 0C 12 E7 41 74 74 19 34 66 87 E7 73 90 0C
F4 36 83 E8 E8 32 68 DA 9C 82 50 D5 69 B2 09 9A C3 CB E3 B4 39 3D 06 4D 9B D3
94 0B 64 7C CB 41 74 74 7A 0E 72 B9 5C
* * *
7) After step d) the Memory Capacity Exceeded Notification Flag in the
EF~SMSS~ shall be set to exceeded.
**EF~SMSS~ (SMS Status)**
Logically: Last used TP-MR shall be set to any appropriate value.
Memory capacity exceeded (flag set b1=\"0\").
* * *
Coding: B1 B2 Hex xx FE
* * *
### 8.2.4 Correct storage of an SM on the UICC
#### 8.2.4.1 Definition and applicability
For IMS: When a SIP MESSAGE request including a short message in the
\"vnd.3gpp.sms\" payload is delivered and the extracted RP-DATA payload
contains a Class 2 SM (USIM specific SM) the terminal shall store the SM on
the USIM or ISIM. For this it is assumed, that at least one relevant SMS field
are available on the USIM or ISIM and they are indicated as empty.
That the UE correctly implemented the role of an SMS-over-IP receiver is
tested in clause 18.2 of TS 34.229-1 [33].
#### 8.2.4.2 Conformance requirement
As TS 31.103[32] and TS 31.102[4] do not indicate in which of both
applications a SM received via IMS shall be stored, the received Class 2 SM
received via IMS shall be stored in EF~SMS~ either on the USIM or on the ISIM.
The status of a received SMS, which has not been read yet, shall be set to
\"3\" (SMS to be read).
\- TS 23.038 [3], clause 4.
\- TS 23.040 [13], subclause 10.1, operation 6;
\- TS 24.011, subclauses 7.3.1.1, 8.2.2, 8.2.3 and 8.2.5.4, Table 8.4 (part 2)
\- TS 31.102 [4], subclauses 4.2.25,
\- TS 31.103 [32], subclauses 4.2.12,
\- TS 34.229 [33], Annexes C.2, C.18 and 18.2.
#### 8.2.4.3 Test purpose
1) To verify that the Terminal stored correctly the class 2 SMS on the USIM or
the ISIM.
2) To verify that the Terminal sets the status of a received, and not yet read
SMS to \"3\" (SMS to be read).
#### 8.2.4.4 Method of test
##### 8.2.4.4.1 Initial conditions
The E-UTRAN/EPC ISIM-UICC is used with the following exception:
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service n 33 (Packed Switched Domain) shall be set to \'1\'
> Enabled Services Table available
* * *
Byte: B1 B2 B3 B4 B5 Binary xx1x xx11 xxxx X11x xxxx 1x00 xxxx x1xx xxxx xx11
* * *
The coding of EF~UST~ shall conform with the capabilities of the USIM used.
**EF~SMS~ (Short Message Service) -- For USIM and ISIM**
At least 10 records.
Record 1 shall be empty.
Logically: Status byte set to empty.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
All other Record shall be full.
Logically: Status byte set to SMS read.
The text body of the record shall be filled with any appropriate text.
Records:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 01 xx xx xx xx xx
xx xx xx xx xx xx ... xx
* * *
NOTE: \"xx\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the received SMS.
**EF~SMSS~ (SMS Status) -- For USIM and ISIM**
Logically: Last used TP-MR not defined.
Memory capacity available (flag unset b1=\"1\").
* * *
Coding: B1 B2 Hex FF FF
* * *
The NWS transmits on the BCCH, with the following network parameters:
\- Attach/detach: disabled.
\- USS LAI (MCC/MNC/LAC): 246/081/0001 (For UTRAN testing only)
\- E-USS TAI (MCC/MNC/TAC): 246/081/0001 (For E-UTRAN testing only)
\- Access control: unrestricted.
The NWS transmits the short messages with the following parameters:
Logically:
Class 2 SM: TS-Service Centre Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 112233445566
SMS TPDU:
TP-Message-Type-Indicator: SMS-DELIVER (in the direction SC to MS)
TP-More-Messages-to-Send: No more messages are waiting for the MS in this SC
TP-Reply-Path: TP-Reply-Path parameter is not set in this SMS-DELIVER
TP-User-Data-Header-Indicator: The TP-UD field contains only the short message
TP-Status-Report-Indication: A status report shall be returned to the SME
Bits 4-3: 00
TP-Originating-Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 012344556677
TP-Protocol-Identifier: No interworking, but SME-to-SME protocol
TP-Data-Coding-Scheme:
Bits 8-7: General Data Coding
Bit 6: Text is uncompressed
Bit 5: Bits 2-1 have a message class meaning
Bits 4-3: GSM 7 bit default alphabet
Bits 2-1: Class 2: (U)SIM specific message
TP-Service-Centre-Time-Stamp: 02-03-04 09:13:06 GMT + 1
TP-User-Data-Length: 160
TP-User-Data:
\"Once a SMS is received by the UE, the Terminal shall store the SMS on the
USIM, if this is indicated by the class 2 of the SMS (USIM specific SMS). For
this...\"
##### 8.2.4.4.2 Procedure
**Sequence A for IMS on UTRAN**
a) The ME activates the required bearer, discovers the P-CSCF, and registers
with the values from the ISIM with the IMS services (see Note 2).
b) Continue with step c) in the Generic Procedure 1.
**Sequence B for IMS on E-UTRAN**
a) The ME activates the required bearer, discovers the P-CSCF, and registers
with the values from the ISIM with the IMS services (see Note 3).
b) Continue with step c) in the Generic Procedure 1.
**Generic Procedure 1**
c) After the UE is set to idle mode, the defined class 2 SM defined in
8.2.1.4.1 with 160 characters shall be sent to the UE (see Note 1) as
specified in clause 18.2 of TS 34.229-1 [33] and use the SM payload defined in
8.2.1.4.1 in the Message-body of MESSAGE defined in clause A.7.1 in TS
34.229-1 [33].
d) After the UE has indicated that a SM was received, the SM shall not be
read.
e) The UE is powered off.
Note 1: In case of IMS the Short Message is contained in the message body of
the SIP MESSAGE.
Note 2: For E-UTRAN: The EPS bearer context activation according to the
procedures defined in TS 34.229-1 [33], Annex C.2 and C.18 is performed.
Note 3: For UTRAN: For SMS-over-IP a PDP context activation according to the
procedures defined in TS 34.229-1 [33], Annex C.2 and C.17 is performed.
#### 8.2.4.5 Acceptance criteria
> 1) After step d) the record of the EF~SMS~ (on either the ISIM or USIM)
> which was empty, shall contain the following values:
Logically: Status byte set to SMS to be read
The text of the received SMS shall be present in the record.
Record 1:
Logically:
Status:
RFU bits 8-6: 000
Status: Used space, message received by UE from network, message to be read
TS-Service Centre Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 112233445566
SMS TPDU:
> TP-Message-Type-Indicator: SMS-DELIVER (in the direction SC to UE)
>
> TP-More-Messages-to-Send: No more messages are waiting for the UE in this SC
>
> TP-Reply-Path: TP-Reply-Path parameter is not set in this SMS-DELIVER
>
> TP-User-Data-Header-Indicator: The TP-UD field contains only the short
> message
>
> TP-Status-Report-Indication: A status report shall be returned to the SME
>
> Bits 4-3: 00
TP-Originating-Address:
Bit 8: 1
Type-Of-Number: International number
Numbering-Plan-Identification: ISDN/telephony numbering plan
Address value: 012344556677
TP-Protocol-Identifier: No interworking, but SME-to-SME protocol
TP-Data-Coding-Scheme:
Bits 8-7: General Data Coding
Bit 6: Text is uncompressed
Bit 5: Bits 2-1 have a message class meaning
Bits 4-3: GSM 7 bit default alphabet
Bits 2-1: Class 2: (U)SIM specific message
TP-Service-Centre-Time-Stamp: 02-03-04 09:13:06 GMT + 1
TP-User-Data-Length: 160
TP-User-Data:
\"Once a SMS is received by the UE, the Terminal shall store the SMS on the
USIM, if this is indicated by the class 2 of the SMS (USIM specific SMS). For
this ...\"
* * *
Coding:  
Hex 03 07 91 11 22 33 44 55 66 24 0C 91 10 32 44 55 66 77 00 12 20 30 40 90 31
60 40 A0 4F F7 B8 0C 0A 83 A6 CD 29 28 3D 07 C9 CB E3 72 DA 5E 26 83 C4 79 10
1D 5D 06 55 8B 2C 10 1D 5D 06 51 CB F2 76 DA 1D 66 83 E6 E8 30 9B 0D 9A D3 DF
F2 32 88 8E 2E 83 A6 CD 29 E8 ED 06 D1 D1 65 50 75 9A 6C B2 40 69 33 88 8E 4E
CF 41 E9 39 28 ED 26 A7 C7 61 7A 99 0C 12 E7 41 74 74 19 34 66 87 E7 73 90 0C
F4 36 83 E8 E8 32 68 DA 9C 82 50 D5 69 B2 09 9A C3 CB E3 B4 39 3D 06 4D 9B D3
94 0B 64 7C CB 41 74 74 7A 0E 72 B9 5C
* * *
> 2) The UE shall pass the requirements which are verified in the MT SMS test
> case specified in clause 18.2 of TS 34.229-1 [33].
### 8.2.5 Correct reading of a SM on the USIM if USIM and ISIM are present
#### 8.2.5.1 Definition and applicability
A SM which is stored but not yet read, is indicated as Status \"3\" (SMS to be
read) on EF~SMS~. The Terminal may indicate the user this status. After the
SMS is read by the user, the status of the SMS shall be changed to \"1\" (SMS
read). This applies to short messages stored on the USIM and to short messages
stored on the ISIM.
#### 8.2.5.2 Conformance requirement
A received SM was stored in EF~SMS~ on the ISIM and another SM was stored in
EF~SMS~ on the USIM. The user shall be able to read short messages stored on
the USIM. At the time the SMS is read by the user, the status of a received
SMS, shall be changed to \"1\" (SMS read).
\- TS 23.038 [3], clause 4.
\- TS 23.040 [13];
\- TS 31.102 [4], subclauses 4.2.25 and 4.2.28,
\- TS 31.103 [32], subclauses 4.2.12 and 4.2.13.
#### 8.2.5.3 Test purpose
1) To verify that the Terminal correctly reads the SMS on the USIM if the USIM
and ISIM are both present.
2) To verify that the Terminal changes the status of a read SMS to \"1\" (SMS
read) of the message read from the USIM.
#### 8.2.5.4 Method of test
##### 8.2.5.4.1 Initial conditions
The E-UTRAN/EPC ISIM-UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
> As defined in in clause 4.5.2 with the expection that services n°10 (Short
> Message Storage) and n°11 (SMS Status Report) are available.
**EF~SMSS~ (SMS Status) on the USIM and on the ISIM**
Logically: Last used TP-MR not set.
Memory capacity available (flag unset b1=\"1\").
* * *
Byte: B1 B2 Hex: FF FF
* * *
**EF~SMS~ (Short Message Service) on the USIM**
Logically: Status byte set to SMS to be read.
A chosen test is written in the text body of the EF~SMS~. This content shall
be different from the content stored in EF~SMS~ in the ISIM.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 03 xx xx xx Xx xx
xx xx xx xx xx xx ... xx NOTE: \"xx\" shall be the appropriate text using the
SMS default 7-bit coded alphabet as defined in TS 23.038 [3] which represents
the stored SMS.
* * *
NOTE: \"xx\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the stored SMS.
At least 9 records.
Logically: Status byte set to empty
no text is written (Remainder Bytes set to \"FF\").
Record:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
**EF~SMS~ (Short Message Service) on the ISIM**
Logically: Status byte set to SMS to be read.
A chosen test is written in the text body of the EF~SMS~. This content shall
be different from the content stored in EF~SMS~ in the USIM.
Record 1:
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex: 03 yy yy yy Yy yy
yy yy yy yy yy yy ... yy NOTE: \"yy\" shall be the appropriate text using the
SMS default 7-bit coded alphabet as defined in TS 23.038 [3] which represents
the stored SMS.
* * *
NOTE: \"yy\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the stored SMS.
At least 9 records.
Logically: Status byte set to empty
no text is written (Remainder Bytes set to \"FF\").
Record:
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex: 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
EF~SMS~ on the USIM and EF~SMS~ on the ISIM shall not share the same memory.
EF~SMSS~ on the USIM and EF~SMSS~ on the ISIM shall not share the same memory.
User Equipment:
The User Equipment is connected to the E-UTRAN/EPC ISIM-UICC.
##### 8.2.5.4.2 Procedure
a) The UE is switched on.
b) The user shall read the SMS stored on the USIM.
c) The UE is switched off
#### 8.2.5.5 Acceptance criteria
> 1) After b) the correct text of the SMS on the USIM shall be read and be
> displayed to the user.
2) After step b) the EF~SMS~ record 1 of the USIM shall contains the following
values:
Logically: Status byte set to SMS read.
The entire content of the SMS shall be unchanged.
Record 1:
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex: 01 xx xx xx Xx xx
xx xx xx xx xx xx ... xx NOTE: \"xx\" shall be the appropriate text using the
SMS default 7-bit coded alphabet as defined in TS 23.038 [3] which represents
the stored SMS.
* * *
### 8.2.6 Correct reading of a SM on the ISIM if USIM and ISIM are present
#### 8.2.6.1 Definition and applicability
A SM which is stored but not yet read, is indicated as Status \"3\" (SMS to be
read) on EF~SMS~. The Terminal may indicate the user this status. After the
SMS is read by the user, the status of the SMS shall be changed to \"1\" (SMS
read). This applies to short messages stored on the USIM and to short messages
stored on the ISIM.
#### 8.2.6.2 Conformance requirement
A received SM was stored in EF~SMS~ on the ISIM and another SM was stored in
EF~SMS~ on the USIM. The user shall be able to read short messages stored on
the ISIM. At the time the SMS is read by the user, the status of a received
SMS, shall be changed to \"1\" (SMS read).
\- TS 23.038 [3], clause 4.
\- TS 23.040 [13];
\- TS 31.102 [4], subclauses 4.2.25 and 4.2.28,
\- TS 31.103 [32], subclauses 4.2.12 and 4.2.13.
#### 8.2.6.3 Test purpose
1) To verify that the Terminal correctly reads the SMS on the ISIM if the USIM
and ISIM are both present.
2) To verify that the Terminal changes the status of a read SMS to \"1\" (SMS
read) of the message read from the ISIM.
#### 8.2.6.4 Method of test
##### 8.2.6.4.1 Initial conditions
The E-UTRAN/EPC ISIM-UICC is used with the following exception:
**EF~UST~ (USIM Service Table)**
> As defined in in clause 4.5.2 with the expection that services n°10 (Short
> Message Storage) and n°11 (SMS Status Report) are available.
**EF~SMSS~ (SMS Status) on the USIM and on the ISIM**
Logically: Last used TP-MR not set.
Memory capacity available (flag unset b1=\"1\").
* * *
Byte: B1 B2 Hex: FF FF
* * *
**EF~SMS~ (Short Message Service) on the USIM**
Logically: Status byte set to SMS to be read.
A chosen test is written in the text body of the EF~SMS~. This content shall
be different from the content stored in EF~SMS~ in the ISIM.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 03 xx xx xx Xx xx
xx xx xx xx xx xx ... xx NOTE: \"xx\" shall be the appropriate text using the
SMS default 7-bit coded alphabet as defined in TS 23.038 [3] which represents
the stored SMS.
* * *
NOTE: \"xx\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the stored SMS.
At least 9 records.
Logically: Status byte set to empty
no text is written (Remainder Bytes set to \"FF\").
Record:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
**EF~SMS~ (Short Message Service) on the ISIM**
Logically: Status byte set to SMS to be read.
A chosen test is written in the text body of the EF~SMS~. This content shall
be different from the content stored in EF~SMS~ in the USIM.
Record 1:
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex: 03 yy yy yy Yy yy
yy yy yy yy yy yy ... yy NOTE: \"yy\" shall be the appropriate text using the
SMS default 7-bit coded alphabet as defined in TS 23.038 [3] which represents
the stored SMS.
* * *
NOTE: \"yy\" shall be the appropriate text using the SMS default 7-bit coded
alphabet as defined in TS 23.038 [3] which represents the stored SMS.
At least 9 records.
Logically: Status byte set to empty
no text is written (Remainder Bytes set to \"FF\").
Record:
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex: 00 FF FF FF FF FF
FF FF FF FF FF FF ... FF
* * *
EF~SMS~ on the USIM and EF~SMS~ on the ISIM shall not share the same memory.
EF~SMSS~ on the USIM and EF~SMSS~ on the ISIM shall not share the same memory.
User Equipment:
The User Equipment is connected to the E-UTRAN/EPC ISIM-UICC.
##### 8.2.6.4.2 Procedure
a) The UE is switched on.
b) The user shall read the SMS stored on the USIM.
c) The UE is switched off
#### 8.2.6.5 Acceptance criteria
> 1) After b) the correct text of the SMS on the ISIM shall be read and be
> displayed to the user.
2) After step b) the EF~SMS~ record 1 of the ISIM shall contains the following
values:
Logically: Status byte set to SMS read.
The entire content of the SMS shall be unchanged.
Record 1:
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 ... B176 Hex: 01 yy yy yy yy yy
yy yy yy yy yy yy ... Yy NOTE: \"yy\" shall be the appropriate text using the
SMS default 7-bit coded alphabet as defined in TS 23.038 [3] which represents
the stored SMS.
* * *
3) After step b) the EF~SMS~ and EF~SMSS~ on the USIM shall remain unchanged.
8.2.7 Correct storage of an SM on the UICC
8.2.7.1 Definition and applicability
Once a SMS is received by the UE, the Terminal shall store the SM on the USIM,
if this is indicated by the class 2 of the SMS (USIM specific SM). For this it
is assumed, that at least one relevant SMS field is available on the USIM and
indicated as empty
8.2.7.2 Conformance requirement
The received class 2 SMS shall be stored on the USIM in EF~SMS~. The status of
a received SMS, which has not been read yet, shall be set to \"3\" (SMS to be
read).
> \- TS 23.038 [3], clause 4.
>
> \- TS 23.040 [13], subclause 10.1, operation 6;
>
> \- TS 24.011, subclauses 7.3.1.1, 8.2.2, 8.2.3 and 8.2.5.4, Table 8.4 (part
> 2)
>
> \- TS 31.102 [4], subclauses 4.2.25.
>
> \- TS 24.301 [26], subclauses 5.6.3, 5.6.3.3.
8.2.7.3 Test purpose
> 1) To verify that the Terminal stored correctly the class 2 SMS on the USIM.
>
> 2) To verify that the Terminal sets the status of a received, and not yet
> read SMS to \"3\" (SMS to be read).
8.2.7.4 Method of test
8.2.7.4.1 Initial conditions
The default E-UTRAN UICC is used with the following exceptions
3) EF~SMS~ (Short Message Service) and EF~SMSS~ (SMS Status) as defined in
8.2.4.4.1.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- TAI (MCC/MNC/TAC): 246/081/0001
>
> \- Access control: unrestricted.
The NB-SS transmits the class 2 short message with the parameters as defined
in 8.2.4.4.1.
8.2.7.4.2 Procedure
> a) The ME is switched on and will perform USIM initialization and network
> registration.
>
> b) SMS over SGs (DOWNLINK NAS TRANSPORT and UPLINK NAS TRANSPORT messages)
> is used to send and receive short messages.
>
> c) Continue with step c) of the Generic Procedure 1 as defined in 8.2.4.4.2.
8.2.7.5 Acceptance criteria
> 1) After step c) the record of the USIM EF~SMS~ which was empty, shall
> contain the values as defined in 8.2.4.5
## 8.3 MMS related tests
### 8.3.1 UE recognising the priority order of MMS Issuer Connectivity
Parameters
#### 8.3.1.1 Definition and applicability
An MMS User Agent shall use the MMS related information stored in the USIM, if
present, unless otherwise specified by the user. Some of these sets of MMS
connectivity parameters are preset by the issuer of the USIM with the first
supported set being the default. This information is used to connect to the
network for purpose of accessing the MMS Relay/Server.
The MMS connectivity information on the USIM includes preferences for the
selection of Interface to Core Network and Bearer parameters. If these are
stored on the USIM the MMS-capable UE shall automatically select the Interface
to Core Network and Bearer parameters based on their order of precedence
defined on the USIM unless otherwise specified by the user.
MMS user preferences information, which is stored on the USIM, shall be used
by an MMS User Agent for user assistance in preparation of terminal-originated
MMs (e.g. default values for parameters that are often used).
#### 8.3.1.2 Conformance requirement
The Terminal\'s MMS User Agent shall use the MMS connectivity parameters
stored first in the supported parameter sets of EF~MMSICP~ as default
parameters to connect to the network for MMS purposes (i.e. sending an User
generated MM).
\- TS 31.102 [4], subclauses 4.2.69 and 5.3.30;
\- TS 23.140 [23], subclause 7.1.14 and Annex F.
MMS user preferences information, which is stored on the USIM, shall be used
by an MMS User Agent for user assistance in preparation of terminal-originated
MMs.
\- TS 31.102 [4], subclauses 4.2.70 and 5.3.31;
\- TS 23.140 [23], subclause 7.1.14 and Annex F.
#### 8.3.1.3 Test purpose
1) To verify that the Terminal\'s MMS User Agent uses the MMS connectivity
parameter stored on the USIM to connect to the network for MMS purposes.
> 2) To verify that the Terminal\'s MMS User Agent uses the first stored set
> of supported parameters in EF~MMSICP~ as default.
>
> 3) To verify that the Terminal\'s MMS User Agent uses the MMS user
> preference information stored on the USIM for user assistance in preparation
> of terminal-originated MMs.
#### 8.3.1.4 Method of test
##### 8.3.1.4.1 Initial conditions
Four MMS Relays/Servers are available:
MMS Relay/Server 1:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator1.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998625\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
Gateway
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
MMS Relay/Server 2:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator1.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998626\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
Gateway
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
MMS Relay/Server 3:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator1.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
Gateway
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
MMS Relay/Server 4:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator1.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
Gateway
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
The default UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service no. 33 (Packed Switched Domain) shall be set to \'1\'
> Service no. 52 Multimedia Messaging Service available
>
> Service no. 55 MMS User Connectivity Parameters not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 Binary xx1x xx11 x11x xxxx xxxx 1x00 xxxx x1xx
xxxx xxx1 xxxx xxxx x0xx 1xxx
* * *
EF**~MMSN~**
Logically:
> MMS Status: Free space
>
> MMS Implementation : \"00\"
>
> MMS Notification: \"FF FF ... FF\" (251 bytes)
>
> Extension file record number: \"FF\"
* * *
Coding: B1 B2 B3 B4 B5 ... B254 B255 00 00 00 FF FF FF FF
* * *
EF**~MMSICP~**
Logically:
> MMS Connectivity Parameters
>
> MMS Implementation
>
> MMS Implementation Information : \"WAP\"
>
> MMS Relay/Server
>
> MMS Relay/Server Address \"http://mms-operator1.com\"
>
> 1^st^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998625\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
>
> 2^nd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998626\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
>
> 3^rd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
>
> 4^th^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
>
> Gateway:
>
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
* * *
Coding: AB 82 01 47 80 01 01 81 18 68 74 74 70 3A 2F 2F 6D 6D 73 2E 6F 70 65
72 61 74 6F 72 31 2E 63 6F 6D 82 2F 10 AA 08 2B 34 39 36 39 39 38 36 32 35 00
09 87 25 C5 0A 90 0C 9A 0D 42 32 42 11 4F 54 53 31 00 0E 42 32 42 11 70 61 73
73 77 6F 72 64 31 00 82 2F 10 AA 08 2B 34 39 36 39 39 38 36 32 36 00 09 87 25
C5 0A 90 0C 9A 0D 42 32 43 11 4F 54 53 32 00 0E 42 32 43 11 70 61 73 73 77 6F
72 64 32 00 82 43 10 AB 08 03 77 61 70 0D 42 32 42 2D 6F 70 65 72 61 74 6F 72
31 03 63 6F 6D 00 09 89 0A 90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 42 32 42
11 4F 54 53 31 00 0E 42 32 42 11 70 61 73 73 77 6F 72 64 31 00 82 43 10 AB 08
03 77 61 70 0D 42 32 43 2D 6F 70 65 72 61 74 6F 72 31 03 63 6F 6D 00 09 89 0A
90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 42 32 43 11 4F 54 53 32 00 0E 42 32
43 11 70 61 73 73 77 6F 72 64 32 00 83 43 20 31 37 30 2E 31 38 37 2E 35 31 2E
33 00 21 85 23 39 32 30 31 00 24 CB 19 9C 1A 67 61 74 65 77 61 79 11 75 73 65
72 31 00 1B 67 61 74 65 77 61 79 11 70 61 73 73 77 6F 72 64 31 00
* * *
EF**~MMSUP~**
Logically:
> MMS Implementation
>
> MMS implementation information: \"WAP\"
>
> MMS User Preference Profile Name: \"Greeting cards\"
>
> MMS User Information Preference Information
>
> Visibility: \"hide\"
>
> Delivery report: \"yes\"
>
> Read-reply: \"yes\"
>
> Priority: \"normal\"
>
> Delivery-Time:
>
> Value (absolute): \"1-Jan-2003, 12:00:00 AM GMT\"
>
> Expiry:
>
> Value (relative): 1104537600 seconds
* * *
Coding: 80 01 01 81 0E 47 72 65 65 74 69 6E 67 20 63 61 72 64 73 82 19 14 80
06 80 10 80 0F 81 07 07 80 05 00 3E 12 2F 80 08 06 81 04 41 D5 E8 00
* * *
The UICC is installed into the Terminal and the user has indicated the data
stored in EF~MMSICP~ as default.
##### 8.3.1.4.2 Procedure
> a) The Terminal is powered on and the PIN shall be entered.
>
> b) When the Terminal is in idle mode the user shall generate an MM using the
> MMS User Agent on the Terminal with the default MMS connectivity settings
> provided by the card issuer and the MMS user preference information stored
> in the card and send it to \"+0123456789\".
#### 8.3.1.5 Acceptance criteria
1) After step b) the Terminal shall have read the set of supported MMS
connectivity parameters stored first in EF~MMSICP~.
2) After step b) the Terminal shall have sent the MM to \"+0123456789\" using
the MMS connectivity parameters stored first in the supported parameter sets
in EF~MMSICP~.
3) After step b) the Terminal shall have sent the MM to \"+0123456789\" using
the MMS user preference information stored in EF~MMSUP~.
### 8.3.2 UE recognising the priority order of MMS User Connectivity
Parameters
#### 8.3.2.1 Definition and applicability
An MMS User Agent shall use the MMS related information stored in the USIM, if
present, unless otherwise specified by the user. The MMS connectivity
parameters determined by the user, with the first supported set being the
default, shall be used to connect to the network for purpose of accessing the
MMS Relay/Server.
The MMS connectivity information on the USIM includes preferences for the
selection of Interface to Core Network and Bearer parameters. If these are
stored on the USIM the MMS-capable UE shall automatically select the Interface
to Core Network and Bearer parameters based on their order of precedence
defined on the USIM unless otherwise specified by the user.
MMS user preferences information, which is stored on the USIM, shall be used
by an MMS User Agent for user assistance in preparation of terminal-originated
MMs (e.g. default values for parameters that are often used).
#### 8.3.2.2 Conformance requirement
When using the MMS User Connectivity Parameters to connect to the network for
MMS purposes (i.e. sending an User generated MM), the Terminal\'s MMS User
Agent shall use the MMS User Connectivity Parameters with the highest priority
(as defined by its position in EF~MMSUCP~) unless otherwise specified by the
user.
\- TS 31.102 [4], subclauses 4.2.71 and 5.3.32;
\- TS 23.140 [23], subclause 7.1.14 and Annex F.
MMS user preferences information, which is stored on the USIM, shall be used
by an MMS User Agent for user assistance in preparation of terminal-originated
MMs.
\- TS 31.102 [4], subclauses 4.2.70 and 5.3.31;
\- TS 23.140 [23], subclause 7.1.14 and Annex F.
#### 8.3.2.3 Test purpose
1) To verify that the Terminal\'s MMS User Agent uses the MMS connectivity
parameter stored on the USIM to connect to the network for MMS purposes.
> 2) To verify that when using the MMS User Connectivity Parameters to connect
> to the network for MMS purposes the Terminal\'s MMS User Agent uses the set
> of supported parameters in EF MMSUCP with the highest priority (as defined
> by its position in EF~MMSUCP~).
>
> 3) To verify that the Terminal\'s MMS User Agent uses the MMS user
> preference information stored on the USIM for user assistance in preparation
> of terminal-originated MMs.
#### 8.3.2.4 Method of test
##### 8.3.2.4.1 Initial conditions
Four MMS Relays/Servers are available:
MMS Relay/Server 1:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator2.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251699\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
Gateway
> Address: \"170.187.51.4\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9203\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user7\"
>
> Authentication pw: \"gateway_password7\"
MMS Relay/Server 2:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator2.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251700\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS2\"
>
> Authentication pw: \"Udo_password2\"
Gateway
> Address: \"170.187.51.4\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9203\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user7\"
>
> Authentication pw: \"gateway_password7\"
MMS Relay/Server 3:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator2.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator2.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
Gateway
> Address: \"170.187.51.4\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9203\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user7\"
>
> Authentication pw: \"gateway_password7\"
MMS Relay/Server 4:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator2.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator2.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS2\"
>
> Authentication pw: \"Udo_password2\"
Gateway
> Address: \"170.187.51.4\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9203\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user7\"
>
> Authentication pw: \"gateway_password7\"
The default UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service no. 33 (Packed Switched Domain) shall be set to \'1\'
> Service no. 52 Multimedia Messaging Service available
>
> Service no. 55 MMS User Connectivity Parameters available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 Binary xx1x xx11 x11x xxxx xxxx 1x00 xxxx x1xx
xxxx xxx1 xxxx xxxx x1xx 1xxx
* * *
EF**~MMSN~**
Logically:
> MMS Status: Free space
>
> MMS Implementation : \"00\"
>
> MMS Notification: \"FF FF ... FF\" (251 bytes)
>
> Extension file record number: \"FF\"
* * *
Coding: B1 B2 B3 B4 B5 ... B254 B255 00 00 00 FF FF FF FF
* * *
EF**~MMSICP~**
Logically: Empty
* * *
Coding: B1 B2 ... Bxx FF FF FF
* * *
EF**~MMSUP~**
Logically:
> MMS Implementation
>
> MMS implementation information: \"WAP\"
>
> MMS User Preference Profile Name: \"Greeting cards\"
>
> MMS User Information Preference Information
>
> Visibility: \"hide\"
>
> Delivery report: \"yes\"
>
> Read-reply: \"yes\"
>
> Priority: \"normal\"
>
> Delivery-Time:
>
> Value (absolute): \"1-Jan-2003, 12:00:00 AM GMT\"
>
> Expiry:
>
> Value (relative): 1104537600 seconds
* * *
Coding: 80 01 01 81 0E 47 72 65 65 74 69 6E 67 20 63 61 72 64 73 82 19 14 80
06 80 10 80 0F 81 07 07 80 05 00 3E 12 2F 80 08 06 81 04 41 D5 E8 00
* * *
EF**~MMSUCP~**
Logically:
> MMS Connectivity Parameters
>
> MMS Implementation
>
> MMS Implementation Information : \"WAP\"
>
> MMS Relay/Server
>
> MMS Relay/Server Address \"http://mms-operator2.com\"
>
> 1^st^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251699\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
>
> 2^nd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251700\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS2\"
>
> Authentication pw: \"Udo_password2\"
>
> 3^rd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator2.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
>
> 4^th^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator2.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS2\"
>
> Authentication pw: \"Udo_password2\"
>
> Gateway:
>
> Address: \"170.187.51.4\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9203\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user7\"
>
> Authentication pw: \"gateway_password7\"
* * *
Coding: AB 82 01 47 80 01 01 81 18 68 74 74 70 3A 2F 2F 6D 6D 73 2E 6F 70 65
72 61 74 6F 72 32 2E 63 6F 6D 82 2F 10 AA 08 2B 34 39 35 32 35 31 36 39 39 00
09 87 25 C5 0A 90 0C 9A 0D 55 44 4F 11 4F 54 53 31 00 0E 55 64 6F 11 70 61 73
73 77 6F 72 64 31 00 82 2F 10 AA 08 2B 34 39 35 32 35 31 37 30 30 00 09 87 25
C5 0A 90 0C 9A 0D 55 44 4F 11 4F 54 53 32 00 0E 55 64 6F 11 70 61 73 73 77 6F
72 64 32 00 82 43 10 AB 08 03 77 61 70 0D 42 32 42 2D 6F 70 65 72 61 74 6F 72
32 03 63 6F 6D 00 09 89 0A 90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 55 44 4F
11 4F 54 53 31 00 0E 55 64 6F 11 70 61 73 73 77 6F 72 64 31 00 82 43 10 AB 08
03 77 61 70 0D 42 32 43 2D 6F 70 65 72 61 74 6F 72 32 03 63 6F 6D 00 09 89 0A
90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 55 44 4F 11 4F 54 53 32 00 0E 55 64
6F 11 70 61 73 73 77 6F 72 64 32 00 83 3B 20 31 37 30 2E 31 38 37 2E 35 31 2E
34 00 21 85 23 39 32 30 31 00 24 CB 19 9C 1A 67 61 74 65 77 61 79 11 75 73 65
72 37 00 1B 67 61 74 65 77 61 79 11 70 61 73 73 77 6F 72 64 37 00
* * *
The UICC is installed into the Terminal and the user has indicated the data
stored in EF**~MMSUCP~** as default.
##### 8.3.2.4.2 Procedure
> a) The Terminal is powered on and the PIN shall be entered.
>
> b) When the Terminal is in idle mode the user shall generate an MM using the
> MMS User Agent on the Terminal with the default MMS User Connectivity
> Parameters and the MMS user preference information stored in the card and
> send it to \"+0123456789\".
#### 8.3.2.5 Acceptance criteria
1) After step b) the Terminal shall have read the first supported set of MMS
connectivity parameters stored in EF**~MMSUCP~**.
2) After step b) the Terminal shall have sent the MM to \"+0123456789\" using
the MMS User Connectivity Parameter set with the highest priority (as defined
by its position in EF**~MMSUCP~**), which can be used to access an available
MMS Relay/Server.
3) After step b) the Terminal shall have sent the MM to \"+0123456789\" using
the MMS user preference information stored in EF**~MMSUCP~**.
### 8.3.3 UE recognising the priority order of MMS Issuer Connectivity
Parameters over the MMS User Connectivity Parameters
#### 8.3.3.1 Definition and applicability
An MMS User Agent shall use the MMS related information stored in the USIM, if
present, unless otherwise specified by the user. This information comprises
MMS connectivity information, MMS user preferences and MMS notifications.
MMS user preferences information, which is stored on the USIM, shall be used
by an MMS User Agent for user assistance in preparation of terminal-originated
MMs (e.g. default values for parameters that are often used).
#### 8.3.3.2 Conformance requirement
MMS connectivity information, on the USIM includes a number of sets of MMS
connectivity parameters. Some of these sets of MMS connectivity parameters are
preset by the issuer of the USIM with the first set being the default. Such
default preset MMS connectivity parameter set shall be selected unless
otherwise specified by the user.
\- TS 31.102 [4], subclauses 4.2.69, 4.7.71, 5.3.30 and 5.3.32;
\- TS 23.140 [23], subclause 7.1.14 and Annex F
#### 8.3.3.3 Test purpose
1) To verify that the Terminal\'s MMS User Agent uses the MMS connectivity
parameter stored on the USIM to connect to the network for MMS purposes.
> 2) To verify that a MMS Issuer Connectivity Parameter set with lower
> priority (as defined by its position in EF**~MMSICP~**) takes precedence
> over a MMS User Connectivity Parameter set with a higher priority.
#### 8.3.3.4 Method of test
##### 8.3.3.4.1 Initial conditions
Four MMS Relays/Servers are available:
MMS Relay/Server 1:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator3.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251699\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
Gateway
> Address: \"170.187.51.5\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user9\"
>
> Authentication pw: \"gateway_password9\"
MMS Relay/Server 2:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator3.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2P-operator3.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
Gateway
> Address: \"170.187.51.5\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user9\"
>
> Authentication pw: \"gateway_password9\"
MMS Relay/Server 3:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator3.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998626\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
Gateway
> Address: \"170.187.51.5\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user9\"
>
> Authentication pw: \"gateway_password9\"
MMS Relay/Server 4:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator3.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator3.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
Gateway
> Address: \"170.187.51.5\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user9\"
>
> Authentication pw: \"gateway_password9\"
The default UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service no. 33 (Packed Switched Domain) shall be set to \'1\'
> Service no. 52 Multimedia Messaging Service available
>
> Service no. 55 MMS User Connectivity Parameters available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 Binary xx1x xx11 x11x xxxx xxxx 1x00 xxxx x1xx
xxxx xxx1 xxxx xxxx x1xx 1xxx
* * *
EF**~MMSN~**
Logically:
> MMS Status: Free space
>
> MMS Implementation : \"00\"
>
> MMS Notification: \"FF FF ... FF\" (251 bytes)
>
> Extension file record number: \"FF\"
* * *
Coding: B1 B2 B3 B4 B5 ... B254 B255 00 00 00 FF FF FF FF
* * *
EF**~MMSICP~**
Logically:
> MMS Connectivity Parameters
>
> MMS Implementation
>
> MMS Implementation Information : \"WAP\"
>
> MMS Relay/Server
>
> MMS Relay/Server Address \"http://mms-operator3.com\"
>
> 1^st^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998625\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
>
> 2^nd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998626\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
>
> 3^rd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator3.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
>
> 4^th^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator3.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
>
> Gateway:
>
> Address: \"170.187.51.5\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user9\"
>
> Authentication pw: \"gateway_password9\"
* * *
Coding: AB 82 01 47 80 01 01 81 18 68 74 74 70 3A 2F 2F 6D 6D 73 2E 6F 70 65
72 61 74 6F 72 33 2E 63 6F 6D 82 2F 10 AA 08 2B 34 39 36 39 39 38 36 32 35 00
09 87 25 C5 0A 90 0C 9A 0D 42 32 42 11 4F 54 53 31 00 0E 42 32 42 11 70 61 73
73 77 6F 72 64 31 00 82 2F 10 AA 08 2B 34 39 36 39 39 38 36 32 36 00 09 87 25
C5 0A 90 0C 9A 0D 42 32 43 11 4F 54 53 32 00 0E 42 32 43 11 70 61 73 73 77 6F
72 64 32 00 82 43 10 AB 08 03 77 61 70 0D 42 32 42 2D 6F 70 65 72 61 74 6F 72
33 03 63 6F 6D 00 09 89 0A 90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 42 32 42
11 4F 54 53 31 00 0E 42 32 42 11 70 61 73 73 77 6F 72 64 31 00 82 43 10 AB 08
03 77 61 70 0D 42 32 43 2D 6F 70 65 72 61 74 6F 72 33 03 63 6F 6D 00 09 89 0A
90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 42 32 43 11 4F 54 53 32 00 0E 42 32
43 11 70 61 73 73 77 6F 72 64 32 00 83 3B 20 31 37 30 2E 31 38 37 2E 35 31 2E
35 00 21 85 23 39 32 30 31 00 24 CB 19 9C 1A 67 61 74 65 77 61 79 11 75 73 65
72 39 00 1B 67 61 74 65 77 61 79 11 70 61 73 73 77 6F 72 64 39 00
* * *
EF**~MMSUP~**
Logically:
> MMS Implementation
>
> MMS implementation information: \"WAP\"
>
> MMS User Preference Profile Name: \"Greeting cards\"
>
> MMS User Information Preference Information
>
> Visibility: \"hide\"
>
> Delivery report: \"yes\"
>
> Read-reply: \"yes\"
>
> Priority: \"normal\"
>
> Delivery-Time:
>
> Value (absolute): \"1-Jan-2003, 12:00:00 AM GMT\"
>
> Expiry:
>
> Value (relative): 1104537600 seconds
* * *
Coding: 80 01 01 81 0E 47 72 65 65 74 69 6E 67 20 63 61 72 64 73 82 19 14 80
06 80 10 80 0F 81 07 07 80 05 00 3E 12 2F 80 08 06 81 04 41 D5 E8 00
* * *
EF**~MMSUCP~**
Logically:
> MMS Connectivity Parameters
>
> MMS Implementation
>
> MMS Implementation Information : \"WAP\"
>
> MMS Relay/Server
>
> MMS Relay/Server Address \"http://mms-operator3.com\"
>
> 1^st^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251699\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
>
> 2^nd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+495251700\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS2\"
>
> Authentication pw: \"Udo_password2\"
>
> 3^rd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2P-operator3.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS1\"
>
> Authentication pw: \"Udo_password1\"
>
> 4^th^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator3.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"UDO_OTS2\"
>
> Authentication pw: \"Udo_password2\"
>
> Gateway:
>
> Address: \"170.187.51.5\"
>
> Type of address: \"Ipv4\"
>
> Port : \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user9\"
>
> Authentication pw: \"gateway_password9\"
* * *
Coding: AB 82 01 47 80 01 01 81 18 68 74 74 70 3A 2F 2F 6D 6D 73 2D 6F 70 65
72 61 74 6F 72 33 2E 63 6F 6D 82 2F 10 AA 08 2B 34 39 35 32 35 31 36 39 39 00
09 87 25 C5 0A 90 0C 9A 0D 55 44 4F 11 4F 54 53 31 00 0E 55 64 6F 11 70 61 73
73 77 6F 72 64 31 00 82 2F 10 AA 08 2B 34 39 35 32 35 31 37 30 30 00 09 87 25
C5 0A 90 0C 9A 0D 55 44 4F 11 4F 54 53 32 00 0E 55 64 6F 11 70 61 73 73 77 6F
72 64 32 00 82 43 10 AB 08 03 77 61 70 0D 42 32 50 2D 6F 70 65 72 61 74 6F 72
33 03 63 6F 6D 00 09 89 0A 90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 55 44 4F
11 4F 54 53 31 00 0E 55 64 6F 11 70 61 73 73 77 6F 72 64 31 00 82 43 10 AB 08
03 77 61 70 0D 42 32 43 2D 6F 70 65 72 61 74 6F 72 33 03 63 6F 6D 00 09 89 0A
90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 55 44 4F 11 4F 54 53 32 00 0E 55 64
6F 11 70 61 73 73 77 6F 72 64 32 00 83 3C 20 31 37 30 2E 31 38 37 2E 35 31 2E
35 00 21 85 23 39 32 30 31 00 24 CB 19 9C 1A 67 61 74 65 77 61 79 11 75 73 65
72 39 00 1B 67 61 74 65 77 61 79 11 70 61 73 73 77 6F 72 64 39 00
* * *
The UICC is installed into the Terminal and the user hasn\'t specified a
default MMS connectivity parameter set.
##### 8.3.3.4.2 Procedure
> a) The Terminal is powered on and the PIN shall be entered.
>
> b) When the Terminal is in idle mode the user shall generate an MM using the
> MMS User Agent on the Terminal with the default MMS connectivity parameter
> set and send it to \"+0123456789\". If no MMS Relay/Server is available for
> this parameter set, the next MMS connectivity parameter set offered by the
> MMS User Agent shall be used to send the MM.
#### 8.3.3.5 Acceptance criteria
After step b) the Terminal shall have sent the MM to \"+0123456789\" using the
first supported MMS connectivity parameter set, which can be used to access an
available MMS Relay/Server and is stored in EF**~MMSICP~**.
### 8.3.4 Usage of MMS notification
#### 8.3.4.1 Definition and applicability
An MMS User Agent shall use the MMS related information stored in the USIM, if
present, unless otherwise specified by the user. This information comprises
MMS connectivity information, MMS user preferences and MMS notifications. MMS
notifications should be stored on the USIM together with an associated status
by a MMS User Agent according to TS 23.140 [23].
#### 8.3.4.2 Conformance requirement
A Terminal supporting MMS notification storage on the USIM shall store MMS
notifications together with an associated status on the USIM.
\- TS 31.102 [4], subclauses 4.2.67 and 5.3.29;
\- TS 23.140 [23], subclauses 7.1.12, 7.1.14, 8.1.4 and Annex F.
#### 8.3.4.3 Test purpose
To verify that the Terminal stores and updates MMS notifications with the
associated status on the USIM correctly.
#### 8.3.4.4 Method of test
##### 8.3.4.4.1 Initial conditions
Two MMS Relays/Servers are available:
MMS Relay/Server 1:
MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator1.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998625\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
Gateway
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port: \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
MMS Relay/Server 2:
7) MMS Connectivity Parameters
> MMS implementation information: \"WAP\"
MMS Relay/Server
> MMS Relay/Server information: \"http://mms-operator1.com\"
Interface to Core Network and Bearer
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
Gateway
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port: \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
The default UICC is used with the following exceptions:
**EF~UST~ (USIM Service Table)**
Logically: Local Phone Book available
User controlled PLMN selector available
Fixed dialling numbers available
Barred dialling numbers available
The GSM Access available
The Group Identifier level 1 and level 2 not available
SMS available
SMS Status available
Service no. 33 (Packed Switched Domain) shall be set to \'1\'
> Service no. 52 Multimedia Messaging Service available
>
> Service no. 53 Extension 8 available
>
> Service no. 55 MMS User Connectivity Parameters not available
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 Binary xx1x xx11 x11x xxxx xxxx 1x00 xxxx x1xx
xxxx xxx1 xxxx xxxx x0x1 1xxx
* * *
EF**~MMSN~**
Logically:
> MMS Status: Free space
>
> MMS Implementation : \"00\"
>
> MMS Notification: \"FF FF ... FF\" (251 bytes)
>
> Extension file record number: \"FF\"
* * *
Coding: B1 B2 B3 B4 B5 ... B254 B255 00 00 00 FF FF FF FF
* * *
EF**~MMSUP~**
Logically:
> MMS Implementation
>
> MMS implementation information: \"WAP\"
>
> MMS User Preference Profile Name: \"Greeting cards\"
>
> MMS User Information Preference Information
>
> Visibility: \"hide\"
>
> Delivery report: \"yes\"
>
> Read-reply: \"yes\"
>
> Priority: \"normal\"
>
> Delivery-Time:
>
> Value (absolute): \"1-Jan-2003, 12:00:00 AM GMT\"
>
> Expiry:
>
> Value (relative): 1104537600 seconds
* * *
Coding: 80 01 01 81 0E 47 72 65 65 74 69 6E 67 20 63 61 72 64 73 82 19 14 80
06 80 10 80 0F 81 07 07 80 05 00 3E 12 2F 80 08 06 81 04 41 D5 E8 00
* * *
EF**~MMSICP~**
Logically:
> MMS Connectivity Parameters
>
> MMS Implementation
>
> MMS Implementation Information : \"WAP\"
>
> MMS Relay/Server
>
> MMS Relay/Server Address \"http://mms-operator1.com\"
>
> 1^st^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998625\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
>
> 2^nd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-CSD\"
>
> Address: \"+496998626\"
>
> Type of address: \"E164\"
>
> Speed: \"Autobauding\"
>
> Call type: \"ANALOG_MODEM\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
>
> 3^rd^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2B-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2B_OTS1\"
>
> Authentication pw: \"B2B_password1\"
>
> 4^th^ Interface to Core Network and Bearer
>
> Bearer: \"GSM-GPRS\"
>
> Address: \"wap.B2C-operator1.com\"
>
> Type of address: \"APN\"
>
> Call type: \"ANALOG_MODEM\"
>
> Delivery of erroneous SDU: \"No\"
>
> Residual Bit Error Rate: \"1*10^-5^\"
>
> SDU-Error-Ratio: \"1*10^-6^\"
>
> Traffic-class: \"Interactive class\"
>
> Maximum bit rate for downlink: \"8 kbps\"
>
> Authentication type: \"PAP\"
>
> Authentication id: \"B2C_OTS2\"
>
> Authentication pw: \"B2C_password2\"
>
> Gateway:
>
> Address: \"170.187.51.3\"
>
> Type of address: \"Ipv4\"
>
> Port: \"9201\"
>
> Service: \"CO-WSP\"
>
> Authentication type: \"HTTP BASIC\"
>
> Authentication id: \"gateway_user1\"
>
> Authentication pw: \"gateway_password1\"
* * *
Coding: AB 82 01 47 80 01 01 81 18 68 74 74 70 3A 2F 2F 6D 6D 73 2E 6F 70 65
72 61 74 6F 72 31 2E 63 6F 6D 82 2F 10 AA 08 2B 34 39 36 39 39 38 36 32 35 00
09 87 25 C5 0A 90 0C 9A 0D 42 32 42 11 4F 54 53 31 00 0E 42 32 42 11 70 61 73
73 77 6F 72 64 31 00 82 2F 10 AA 08 2B 34 39 36 39 39 38 36 32 36 00 09 87 25
C5 0A 90 0C 9A 0D 42 32 43 11 4F 54 53 32 00 0E 42 32 43 11 70 61 73 73 77 6F
72 64 32 00 82 43 10 AB 08 03 77 61 70 0D 42 32 42 2D 6F 70 65 72 61 74 6F 72
31 03 63 6F 6D 00 09 89 0A 90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 42 32 42
11 4F 54 53 31 00 0E 42 32 42 11 70 61 73 73 77 6F 72 64 31 00 82 43 10 AB 08
03 77 61 70 0D 42 32 43 2D 6F 70 65 72 61 74 6F 72 31 03 63 6F 6D 00 09 89 0A
90 31 03 37 70 38 06 33 60 36 08 0C 9A 0D 42 32 43 11 4F 54 53 32 00 0E 42 32
43 11 70 61 73 73 77 6F 72 64 32 00 83 3C 20 31 37 30 2E 31 38 37 2E 35 31 2E
33 00 21 85 23 39 32 30 31 00 24 CB 19 9C 1A 67 61 74 65 77 61 79 11 75 73 65
72 31 00 1B 67 61 74 65 77 61 79 11 70 61 73 73 77 6F 72 64 31 00
* * *
EF**~EXT8~**
Logically:
At least 10 records.
Record 1 to 10: Free space with 253 bytes for extension data
Record 1:
* * *
Coding: B1 B2 B3 B4 ... ... B255 Hex 00 FF FF FF FF
* * *
The UICC is installed into the Terminal and the user hasn\'t specified a
default MMS connectivity parameter set.
##### 8.3.4.4.2 Procedure
> a) The terminal is powered on and the PIN shall be entered.
>
> b) When the terminal is in idle mode a MM shall be sent to the terminal via
> the MMS Relay/Server 1 or 2, dependent on the bearer supported by the
> terminal. This MMS Relay/Server shall then generate a notification to the
> Terminal\'s MMS User Agent. With the MM notification the MMS User Agent
> shall receive a message reference that can be used for retrieving the MM
> from this MMS Relay/Server.
>
> The MM shall result in a MMS notification with the following predefined
> values:
>
> X-Mms Message Type: \"m-notification-ind\" (0x82)
>
> X-Mms-Transaction-ID: \"01\"
>
> X-Mms-MMS-Version: \"1.0\"
>
> From: not present (hidden)
>
> Subject: \"MM for you\"
>
> X-Mms-Content-Location: \"http://mms-operator1/MMBox/ID-007-12345678\"
>
> c) The user shall read the MMS notification stored on the USIM.
>
> d) The user shall retrieve the MM stored on the MMS Relay/Server used in
> step b).
>
> e) The user shall forward the MM to \"+0123456789\" using the default MMS
> Issuer Connectivity Parameters stored on the USIM.
>
> f) A MM shall be sent to the terminal via the same MMS Relay/Server as in
> step b). This MMS Relay/Server shall then generate a notification to the
> Terminal\'s MMS User Agent. With the MM notification the MMS User Agent
> shall receive a message reference that can be used for retrieving the MM
> from this MMS Relay/Server.
>
> The MM shall result in a MMS notification with the following predefined
> values:
>
> X-Mms Message Type: \"m-notification-ind\" (0x82)
>
> X-Mms-Transaction-ID: \"02\"
>
> X-Mms-MMS-Version: \"1.0\"
>
> From: \"+0987123654\"
>
> Subject: \"Urgent MM\"
>
> X-Mms-Content-Location: \"http://mms-operator1/MMBox/ID-007-02468024\"
>
> g) The user shall read the MMS notification stored on the USIM.
>
> h) The user shall reject the MM stored on the MMS Relay/Server used in step
> b).
#### 8.3.4.5 Acceptance criteria
1) After step b) the MMS User Agent on the terminal shall have stored the MMS
notification on the USIM with the values defined in step b) of 8.4.4.4.2, the
associated status shall have been set to \"Used space, notification not read,
MM not retrieved\" and the MMS User Agent shall indicate to the user that a
MMS notification has been received.
2) After step c) the status of the MMS notification stored on the USIM shall
have been set to \"used space, notification read, MM not retrieved\".
3) After step d) the MMS user agent shall have retrieved the MM from the MMS
Relay/Server 1 and the status of the MMS notification stored on the USIM shall
have either been set to \"used space, notification read, MM retrieved\" or the
MMS notification shall have been deleted and the associated shall have been
set to \"Free space\".
4) After step e) the terminal shall have read the set of MMS Issuer
Connectivity Parameters stored first in EF~MMSICP~ and shall have forward the
MM to \"+0123456789\" using the MMS Relay/Server 1. The MMS notification shall
have either been set to \"used space, notification read, MM forwarded\" or the
MMS notification shall have been deleted and the associated shall have been
set to \"Free space\".
5) After step f) the MMS User Agent on the terminal shall have stored the MMS
notification on the USIM with the values defined in step f) of 8.4.4.4.2, the
associated status shall have been set to \"Used space, notification not read,
MM not retrieved\" and the MMS User Agent shall indicate to the user that a
MMS notification has been received.
6) After step g) the status of the MMS notification stored on the USIM shall
have been set to \"used space, notification read, MM not retrieved\".
7) After step h) the MMS user agent shall have not retrieved the MM from the
MMS Relay/Server 1 and the status of the MMS notification stored on the USIM
shall have either been set to \"used space, notification read, MM rejected\"
or the MMS notification shall have been deleted and the associated shall have
been set to \"Free space\".
## 8.4 UICC presence detection
### 8.4.1 Definition and applicability
To ensure that the UICC has not been removed during a card session, the
Terminal sends in case of inactivity on the UICC-Terminal interface, at
frequent intervals, a STATUS command during each call.
This procedure shall be used in addition to a mechanical or other devices used
to detect the removal of a UICC.
### 8.4.2 Conformance requirement
A STATUS command shall be issued within all 30 second periods of inactivity on
the UICC-Terminal interface during a call. Inactivity in this case is defined
as starting at the end of the last communication or the last issued STATUS
command. If no response data is received to this STATUS command, then the call
shall be terminated as soon as possible but at least within 5s after the
STATUS command has been sent. If the DF indicated in response to a STATUS
command is not the same as that which was indicated in the previous response,
or accessed by the previous command, then the call shall be terminated as soon
as possible but at least within 5 seconds after the response data has been
received. Here a call covers a circuit switched call, and/or an active PDP
context.
The ME may suspend the UICC presence detection based on STATUS commands in
case it has an active PDP context, but has not exchanged any data with the
network within a 30s period of inactivity on the UICC-ME interface, and resume
it as soon as data is exchanged with the network, sending immediately a new
STATUS command.
\- TS 31.102 [4], subclauses 5.1.9
\- ETSI TS 102 221 [5], clause 14.5.2.
### 8.4.3 Test purpose
1) To verify that there are no periods of inactivity on the UICC‑Terminal
interface greater than 30 seconds during a call.
2) To verify that the terminal terminates a call within 5 s at the latest
after having received an invalid response to the STATUS command.
### 8.4.4 Method of test
#### 8.4.4.1 Initial conditions
The terminal shall be connected to the UICC simulator. All elementary files
shall be coded as default.
#### 8.4.4.2 Procedure
a) A call shall be set up using the generic call setup for circuit switched
call or to activate a PDP context.
NOTE: In case of PDP context for a terminal that supports Rel-12 or later,
exchange of data with the network may be required to guarantee the correct
result of the test.
b) The UICC simulator shall monitor the time of periods of inactivity on the
UICC-Terminal interface.
> c) After 3 minutes, the call or PDP context shall be cleared.
d) A call shall be set up using the generic call setup for circuit switched
call or to activate a PDP context.
NOTE: In case of PDP context for a terminal that supports Rel-12 or later,
exchange of data with the network may be required to guarantee the correct
result of the test.
> e) After one minute after the call was successfully set up, the UICC
> simulator shall respond to a STATUS command with the response data
> indicating a DF different from the current DF.
### 8.4.5 Acceptance criteria
> 1) During step b), the time of periods of inactivity on the UICC-Terminal
> interface shall not be longer than 30 seconds.
>
> 2) After step e), the Terminal shall terminate the call or PDP context
> within 5 s at the latest after having received the wrong response to the
> STATUS command.
## 8.5 UICC presence detection when connected to E-UTRAN/EPC
### 8.5.1 Definition and applicability
To ensure that the UICC has not been removed during a card session, the
Terminal sends in case of inactivity on the UICC-Terminal interface, at
frequent intervals, a STATUS command during each call or active PDP context.
### 8.5.2 Conformance requirement
A STATUS command shall be issued within all 30 second periods of inactivity on
the UICC-Terminal interface during an active PDP context. Inactivity in this
case is defined as starting at the end of the last communication or the last
issued STATUS command. If no response data is received to this STATUS command,
then the active PDP context shall be terminated as soon as possible but at
least within 5s after the STATUS command has been sent. If the DF indicated in
response to a STATUS command is not the same as that which was indicated in
the previous response, or accessed by the previous command, then the active
PDP context shall be terminated as soon as possible but at least within 5
seconds after the response data has been received.
The ME may suspend the UICC presence detection based on STATUS commands in
case it has an active EPS bearer context, but has not exchanged any data with
the network within a 30s period of inactivity on the UICC-ME interface, and
resume it as soon as data is exchanged with the network, sending immediately a
new STATUS command.
There is 1:1 mapping between one PDP context and one EPS Bearer.
\- TS 31.102 [4], subclauses 5.1.9
\- ETSI TS 102 221 [5], clause 14.5.2.
\- TS 23.060 [25], subclause 9.2.1A.
### 8.5.3 Test purpose
1) To verify that there are no periods of inactivity on the UICC‑Terminal
interface greater than 30 seconds during an active PDP context.
2) To verify that the terminal terminates the default EPS Bearer within 5 s at
the latest after having received an invalid response to the STATUS command.
### 8.5.4 Method of test
#### 8.5.4.1 Initial conditions
The terminal is connected to the USIM Simulator and the E-USS/NB-SS.
The default E-UTRAN UICC is used.
#### 8.5.4.2 Procedure
a) The terminal is switched on, performs the Attach procedure to the E-USS/NB-
SS and establishes the default EPS bearer.
NOTE: For a terminal that supports Rel-12 or later, exchange of data with the
network may be required to guarantee the correct result of the test.
b) The UICC simulator shall monitor the time of periods of inactivity on the
UICC-Terminal interface.
> c) Step b) shall be performed for 3 minutes.
>
> d) After one minute after the end of step c), the UICC simulator shall
> respond to a STATUS command with the response data indicating a DF different
> from the current DF.
### 8.5.5 Acceptance criteria
> 1) During step c), the time of periods of inactivity on the UICC-Terminal
> interface shall not be longer than 30 seconds.
2) After step d), the Terminal shall terminate the default EPS bearer within 5
s at the latest after having received the wrong response to the STATUS
command.
# 9 USIM service handling
### 9.1 Access Point Name Control List handling
### 9.1.1 Access Point Name Control List handling for terminals supporting ACL
#### 9.1.1.1 Definition and applicability
This EF~ACL~ contains the list of allowed APNs (Access Point Names).When the
APN Control List service is enabled, the ME shall check that the entire APN of
any PDP context is listed in EF~ACL~ before requesting this PDP context
activation from the network. If the APN is not present in EF~ACL~, the ME
shall not request the corresponding PDP context activation from the network.
#### 9.1.1.2 Conformance requirement
> The terminal shall support the APN Control List service as defined in TS
> 31.102 [4], subclauses 5.1.1.2 and 5.3.14.
Reference:
\- TS 31.102 [4], subclauses 4.2.8, 4.2.48, 5.1.1.2 and 5.3.14;
\- TS 23.060 [25], subclause 9.2.
#### 9.1.1.3 Test purpose
> 1) To verify that the terminal takes into account the status of the APN
> Control List service as indicated in EF~UST~ and EF~EST~.
>
> 2) To verify that the terminal checks that the entire APN of any PDP context
> is listed in EF~ACL~ before requesting this PDP context activation from the
> network if the ACL service is enabled.
>
> 3) To verify that the terminal does not request the corresponding PDP
> context activation from the network if the ACL service is enabled and the
> APN is not present in EF~ACL~.
#### 9.1.1.4 Method of test
##### 9.1.1.4.1 Initial conditions
The terminal is connected to the USIM Simulator and the (U)SS.
The default USIM is used with the following exceptions:
The APN Control List (ACL) shall be allocated and activated in the USIM
Service Table and enabled in the Enabled Service Table.
EF~ACL~ shall be present with the following values:
**EF~ACL~ (Access Point Control List)**
Logically: Number of available bytes: 64
Number of APNs: 3
1^st^ APN: test.test
2^nd^ APN: 3gpp.test
3^rd^ APN: 2gpp.test
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Coding: 03 DD 0A 04 74 65 73 74
04 74 65 73
            B13   B14   B15   B16   B17   B18   B19   B20   B21   B22   B23   B24
            74    DD    0A    04    33    67    70    70    04    74    65    73
            B25   B26   B27   B28   B29   B30   B31   B32   B33   B34   B35   B36
            74    DD    0A    04    32    67    70    70    04    74    65    73
            B37   B38   ...   B64                                             
            74    FF    ...   FF
* * *
##### 9.1.1.4.2 Procedure
a) The terminal is switched on and the USIM application shall be activated.
b) The user shall request a PDP context activation to \"1gpp.test\".
c) The user shall request a PDP context activation to \"3gpp.test\".
d) The user shall deactivate the PDP context.
e) The user shall disable the APN Control List service. When prompted to enter
PIN2, the user shall present the correct PIN2 value.
f) The user shall request a PDP context activation to \"1gpp.test\".
g) The user shall deactivate the PDP context and shall switch the terminal off
and then switch on again.
h) The user shall enable the APN Control List service. When prompted to enter
PIN2, the user shall present the correct PIN2 value.
i) The user shall request a PDP context activation to \"1ppp.net\".
j) The terminal is switched off and on.
k) The user shall add the APN \"1ppp.net\" to the APN Control List. When
prompted to enter PIN2, the user shall present the correct PIN2 value.
l) The user shall request a PDP context activation to \"1ppp.net\".
m) The user shall deactivate the PDP context and switch off the terminal.
#### 9.1.1.5 Acceptance criteria
> 1) After step a) the terminal shall have activated the USIM application,
> shall have read the status of the ACL service in EF~UST~ and EF~EST~ and be
> in updated idle mode on the (U)SS.
2) The terminal shall have not requested a PDP context activation in step b).
3) After step c) the PDP context shall have been activated.
4) After step d) the PDP context shall have been deactivated.
5) After step e) the APN Control List service shall have been set to disabled
in EF~EST~.
6) After step f) the PDP context shall have been activated.
7) After step g) the PDP context shall have been deactivated.
8) After step h) the APN Control List service shall have been set to enabled
in EF~EST~.
9) The terminal shall not have requested a PDP context activation in step i).
10) After step k) the APN \"1ppp.net\" shall have been added to the APN
Control List in EF~ACL~.
11) After step l) the PDP context shall have been activated.
### 9.1.2 Network provided APN handling for terminals supporting ACL
#### 9.1.2.1 Definition and applicability
This EF~ACL~ contains the list of allowed APNs (Access Point Names).When the
APN Control List service is enabled, the ME shall check that the entire APN of
any PDP context is listed in EF~ACL~ before requesting this PDP context
activation from the network. If the APN is not present in EF~ACL~, the ME
shall not request the corresponding PDP context activation from the network.
In the case that the APN Control List is enabled and no APN is indicated in
the PDP context request, indicating that a network provided APN is to be used,
then the ME shall only request the PDP context activation if \"network
provided APN\" is contained within EF~ACL~.
#### 9.1.2.2 Conformance requirement
> The terminal shall support the APN Control List service as defined in TS
> 31.102 [4], subclauses 5.1.1.2 and 5.3.14.
Reference:
\- TS 31.102 [4], subclauses 4.2.8, 4.2.48, 5.1.1.2 and 5.3.14;
\- TS 23.060 [25], subclause 9.2.
#### 9.1.2.3 Test purpose
> 1) To verify that if ACL is enabled and if no APN is indicated in the PDP
> context the terminal request the PDP context activation only if \"network
> provided APN\" is contained within EF~ACL~.
2) To verify that the user is able to set an APN in EF~ACL~ entry to the value
\"network provided APN\".
3) To verify that the minimum set of APN entries in EF~ACL~ is ensured when
the user deletes APN entries.
#### 9.1.2.4 Method of test
##### 9.1.2.4.1 Initial conditions
The terminal is connected to the USIM Simulator and the (U)SS.
The default USIM is used with the following exceptions:
The APN Control List (ACL) shall be allocated and activated in the USIM
Service Table and enabled in the Enabled Service Table.
EF~ACL~ shall be present with the following values:
**EF~ACL~ (Access Point Control List)**
Logically: Number of available bytes: 64
Number of APNs: 3
1^st^ APN: test.test
2^nd^ APN: 3gpp.test
3^rd^ APN: 2gpp.test
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Coding: 03 DD 0A 04 74 65 73 74
04 74 65 73
            B13   B14   B15   B16   B17   B18   B19   B20   B21   B22   B23   B24
            74    DD    0A    04    33    67    70    70    04    74    65    73
            B25   B26   B27   B28   B29   B30   B31   B32   B33   B34   B35   B36
            74    DD    0A    04    32    67    70    70    04    74    65    73
            B37   B38   ...   B64                                             
            74    FF    ...   FF
* * *
##### 9.1.2.4.2 Procedure
a) The terminal is switched on and the USIM application shall be activated.
> b) The user shall add \"network provided APN\" to the APN Control List in
> EF~ACL~ by using an MMI dependent option in the terminal. When prompted to
> enter PIN2, the user shall present the correct PIN2 value.
c) The user shall request a PDP context activation to \"3gpp.test\".
d) The user shall deactivate the PDP context.
e) The user shall request a PDP context activation without indicating an APN.
f) The user shall deactivate the PDP context.
> g) The user shall delete \"network provided APN\" from the APN Control List
> in EF~ACL~ by using an MMI dependent option in the terminal. When prompted
> to enter PIN2, the user shall present the correct PIN2 value.
h) The user shall request a PDP context activation to \"3gpp.test\".
i) The user shall deactivate the PDP context.
j) The user shall request a PDP context activation without indicating an APN.
> k) The user shall try to delete all APNs from the APN Control List in
> EF~ACL~ by using an MMI dependent option in the terminal. When the terminal
> indicates that at least one APN entry shall remain, the user shall set this
> entry to \"network provided APN\". When prompted to enter PIN2, the user
> shall present the correct PIN2 value.
l) The user shall switch off the terminal.
#### 9.1.2.5 Acceptance criteria
> 1) After step a) the terminal shall have activated the USIM application,
> shall have read the status of the ACL service in EF~UST~ and EF~EST~ and be
> in updated idle mode on the (U)SS.
2) After step b) EF~ACL~ shall contain an entry for \"network provided APN\".
3) After step c) the PDP context shall have been activated.
4) After step d) the PDP context shall have been deactivated.
5) After step e) the PDP context shall have been activated.
6) After step f) the PDP context shall have been deactivated.
7) After step g) EF~ACL~ shall not contain an entry for \"network provided
APN\".
8) After step h) the PDP context shall have been activated.
9) After step i) the PDP context shall have been deactivated.
10) The terminal shall have not requested a PDP context activation in step j).
> 11) After step k) EF~ACL~ shall contain one APN entry with the value
> \"network provided APN\" and the corresponding number of APNs in EF~ACL~
> shall be 1.
### 9.1.3 Access Point Name Control List handling for terminals not supporting
ACL
#### 9.1.3.1 Definition and applicability
This EF~ACL~ contains the list of allowed APNs (Access Point Names).When the
APN Control List service is enabled, the ME shall check that the entire APN of
any PDP context is listed in EF~ACL~ before requesting this PDP context
activation from the network. If the APN is not present in EF~ACL~, the ME
shall not request the corresponding PDP context activation from the network.
If ACL is enabled, an ME which does not support ACL shall not send any APN to
the network.
#### 9.1.3.2 Conformance requirement
> An ME which does not support ACL shall not send any APN to the network if
> ACL is enabled.
Reference:
\- TS 31.102 [4], 5.1.1.2.
#### 9.1.3.3 Test purpose
> To verify that if ACL is enabled, an ME which does not support ACL, does not
> send any APN to the network to request a PDP context activation.9.1.3.4
> Method of test
#### 9.1.3.4 Method of test
##### 9.1.3.4.1 Initial conditions
The terminal is connected to the USIM Simulator and the (U)SS.
The default USIM is used with the following exceptions:
The APN Control List (ACL) shall be allocated and activated in the USIM
Service Table and enabled in the Enabled Service Table.
EF~ACL~ shall be present with the following values:
**EF~ACL~ (Access Point Control List)**
Logically: Number of available bytes: 64
Number of APNs: 3
1^st^ APN: test.test
2^nd^ APN: 3gpp.test
3^rd^ APN: 2gpp.test
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Coding: 03 DD 0A 04 74 65 73 74
04 74 65 73
            B13   B14   B15   B16   B17   B18   B19   B20   B21   B22   B23   B24
            74    DD    0A    04    33    67    70    70    04    74    65    73
            B25   B26   B27   B28   B29   B30   B31   B32   B33   B34   B35   B36
            74    DD    0A    04    32    67    70    70    04    74    65    73
            B37   B38   ...   B64                                             
            74    FF    ...   FF
* * *
##### 9.1.3.4.2 Procedure
a) The terminal is switched on and the USIM application shall be activated.
b) The user shall request a PDP context activation to \"3gpp.test\".
c) The terminal shall be switched off.
#### 9.1.3.5 Acceptance criteria
> 1) After step a) the terminal shall have activated the USIM application,
> shall have read the status of the ACL service in EF~UST~ and EF~EST~ and be
> in updated idle mode on the (U)SS.
2) The terminal shall not have sent any APN to the network in step b).
### 9.1.4 Access Point Name Control List handling for terminals supporting ACL
connected to E-UTRAN/EPC
#### 9.1.4.1 Definition and applicability
This EF~ACL~ contains the list of allowed APNs (Access Point Names). If the
APN Control List service is enabled and the ME is to provide an APN as part of
attach for PDN connectivity, then the ME shall verify that the APN value is
present in the EF~ACL~ and if it is not the ME shall not proceed with the
attach procedure. If the APN Control List service is enabled and the ME does
not indend to provide an APN as part of the attach for PDN connectivity and
use a network provided APN, the ME shall not check if \"network provided APN\"
is contained within EF~ACL~.
There is 1:1 mapping between one PDP context and one EPS Bearer.
Some terminals might not support the enablement or the disablement of the APN
Control List service or the modification of the APN Control List. In these
cases, the test sequence below provides separate branches.
#### 9.1.4.2 Conformance requirement
> The terminal shall support the APN Control List service as defined in TS
> 31.102 [4], subclauses 5.1.1.2 and 5.3.14.
Reference:
\- TS 31.102 [4], subclauses 4.2.8, 4.2.48, 5.1.1.2 and 5.3.14;
\- TS 23.060 [25], subclause 9.2, 9.2.1A.
#### 9.1.4.3 Test purpose
> 1) To verify that the terminal takes into account the status of the APN
> Control List service as indicated in EF~UST~ and EF~EST~.
>
> 2) To verify that the terminal checks that the entire APN of any EPS Bearer
> is listed in EF~ACL~ before requesting this EPS Bearer activation from the
> network if the ACL service is enabled.
>
> 3) To verify that the terminal does not request the corresponding EPS Bearer
> activation from the network if the ACL service is enabled and the APN is not
> present in EF~ACL~.
>
> 4) To verify that the terminal does not check that the network provided APN
> is present in EF~ACL~ during the initial attach procedure.
#### 9.1.4.4 Method of test
##### 9.1.4.4.1 Initial conditions
The terminal is connected to the USIM Simulator and the E-USS.
The terminal is configured to use the network provided APN for the initial
attach procedure.
The default E-UTRAN UICC is used with the following exceptions:
The APN Control List (ACL) shall be allocated and activated in the USIM
Service Table and enabled in the Enabled Service Table.
EF~ACL~ shall be present with the following values:
**EF~ACL~ (Access Point Control List)**
Logically: Number of available bytes: 64
Number of APNs: 3
1^st^ APN: test.test
2^nd^ APN: 3gpp.test
3^rd^ APN: 2gpp.test
* * *
Byte: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Coding: 03 DD 0A 04 74 65 73 74
04 74 65 73
            B13   B14   B15   B16   B17   B18   B19   B20   B21   B22   B23   B24
            74    DD    0A    04    33    67    70    70    04    74    65    73
            B25   B26   B27   B28   B29   B30   B31   B32   B33   B34   B35   B36
            74    DD    0A    04    32    67    70    70    04    74    65    73
            B37   B38   ...   B64                                             
            74    FF    ...   FF
* * *
##### 9.1.4.4.2 Procedure
a) The terminal is switched on, the USIM application shall be activated and
the terminal shall successfully attach the E-UTRAN.
b) The user shall request PDN connectivity to \"1gpp.test\".
c) The user shall request PDN connectivity to \"3gpp.test\".
d) The user shall deactivate the PDN connectivity to \"3gpp.test\".
e) If user interface does not have support to disable the APN Control List
service, proceed to step l).
f) The user shall disable the APN Control List service. When prompted to enter
PIN2, the user shall present the correct PIN2 value.
g) The user shall request PDN connectivity to \"1gpp.test\".
h) The user shall deactivate the PDN connectivity to \"1gpp.test\" and shall
switch the terminal off and then switch on again.
i) The user shall enable the APN Control List service. When prompted to enter
PIN2, the user shall present the correct PIN2 value.
j) The user shall request PDN connectivity to \"1ppp.net\".
k) The terminal is switched off and on.
l) If user interface does not have support to add APN to APN Control List,
proceed to step p).
m) The user shall add the APN \"1ppp.net\" to the APN Control List. When
prompted to enter PIN2, the user shall present the correct PIN2 value.
n) The user shall request PDN connectivity to \"1ppp.net\".
o) The user shall deactivate the PDN connectivity.
p) Switch off the terminal.
#### 9.1.4.5 Acceptance criteria
> 1) After step a) the terminal shall have activated the USIM application,
> shall have read the status of the ACL service in EF~UST~ and EF~EST~ and be
> in updated idle mode on the E-USS.
2) The terminal shall have not requested PDN connectivity in step b).
3) After step c) PDN connectivity shall have been activated.
4) After step d) PDN connectivity shall have been deactivated.
5) After step f) the APN Control List service shall have been set to disabled
in EF~EST~.
6) After step g) PDN connectivity shall have been activated.
7) After step h) PDN connectivity shall have been deactivated.
8) After step i) the APN Control List service shall have been set to enabled
in EF~EST~.
9) The terminal shall not have requested PDN connectivity in step j).
10) After step m) the APN \"1ppp.net\" shall have been added to the APN
Control List in EF~ACL~.
11) After step n) PDN connectivity shall have been activated.
12) After step o) PDN connectivity shall have been deactivated.
### 9.1.5 Void9.1.6 Void
## 9.2 Service Dialling Numbers handling
### 9.2.1 Definition and applicability
The Service Dialling Numbers feature allows for the storage of numbers related
to services offered by the network operator/service provider in the SIM/USIM
(e.g. customer care). The user can use these telephone numbers to make
outgoing calls, but the access for updating of the numbers shall be under the
control of the operator.
### 9.2.2 Conformance requirement
> The terminal shall support the Service Dialling Numbers service as defined
> in TS 31.102 [4], subclauses 4.2.8 and 4.2.29.
Reference:
\- TS 31.102 [4], subclauses 4.2.8, 4.2.29 and 4.2.31;
\- TS 22.101 [11], subclause A.23.
### 9.2.3 Test purpose
> 1) To verify that the terminal takes into account the status of the Service
> Dialling Numbers service as indicated in EF~UST~.
2) To verify that the user can use the Service Dialling Numbers to make
outgoing calls.
3) To verify that the terminal is able to handle SDNs with an extended
dialling number string.
4) To verify that the terminal is able to handle an empty alpha identifier in
EF~SDN~.
5) To verify that the terminal is able to handle an alpha identifier of
maximum length in EF~SDN~.
### 9.2.4 Method of test
#### 9.2.4.1 Initial conditions
The terminal is connected to the USIM Simulator and the (U)SS.
The default USIM is used with the following exceptions:
The Service Dialling Numbers (SDN) shall be allocated and activated in the
USIM Service Table.
EF~SDN~ shall be present with the following values:
**EF~SDN~ (Service Dialling Numbers)**
Logically:
> 6 records, 1 record shall be empty. Unless otherwise stated, the SDN records
> shall not use extendend BCD numbers/SSC strings. Access to update EF~SDN~
> shall be granted by usage of ADM1 only.
Record 1: Length of alpha identifier: 241 characters;
> Alpha identifier:
> \"Hotline001122334455667788ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789\";
Length of BCD number: 5;
TON and NPI: Telephony and International;
Dialled number: \"22223333\";
CCP: \'FF\';
Ext3: \'FF\'.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... Hex 48 6F 74 6C 69 6E 65 30 30
31 ... ...
            B241   B242   B243   B244   B245   B246   B247   B248   B249   B250   B251   B252
            39     05     91     22     22     33     33     FF     FF     FF     FF     FF
            B253   B254   B255                                                           
            FF     FF     FF
* * *
Record 2: Length of alpha identifier: 241 characters;
Alpha identifier: \"Hotline002\";
Length of BCD number: 5;
TON and NPI: Telephony and International;
Dialled number: \"44554455\";
CCI2: \'FF\';
Ext3: \'FF\'.
Record 2:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... Hex 48 6F 74 6C 69 6E 65 30 30
32 FF ...
            B241   B242   B243   B244   B245   B246   B247   B248   B249   B250   B251   B252
            FF     05     91     44     55     44     55     FF     FF     FF     FF     FF
            B253   B254   B255                                                           
            FF     FF     FF
* * *
Record 3: Length of alpha identifier: 241 characters;
Alpha identifier: \"Hotline003\";
Length of BCD number: 11;
TON and NPI: Telephony and International;
Dialled number: \"01234567890123456789\";
CCI2: \'FF\';
Ext3: \"01\".
Record 3:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... Hex 48 6F 74 6C 69 6E 65 30 30
33 FF ...
            B241   B242   B243   B244   B245   B246   B247   B248   B249   B250   B251   B252
            FF     0B     91     10     32     54     76     98     10     32     54     76
            B253   B254   B255                                                           
            98     FF     01
* * *
Record 4: Length of alpha identifier: 241 characters;
Alpha identifier: empty;
Length of BCD number: 03;
TON and NPI: Telephony and International;
Dialled number: \"007\";
CCI2: \'FF\';
Ext3: \'FF\'.
Record 4:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... Hex FF FF FF FF FF FF FF FF FF
FF FF ...
            B241   B242   B243   B244   B245   B246   B247   B248   B249   B250   B251   B252
            FF     03     91     00     F7     FF     FF     FF     FF     FF     FF     FF
            B253   B254   B255                                                           
            FF     FF     FF
* * *
Record 5: Length of alpha identifier: 241 characters;
Alpha identifier: empty;
Length of BCD number: 3;
TON and NPI: Telephony and International;
Dialled number: \"008\";
CCI2: \'FF\';
Ext3: \'FF\'.
Record 5:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 ... Hex FF FF FF FF FF FF FF FF FF
FF FF ...
            B241   B242   B243   B244   B245   B246   B247   B248   B249   B250   B251   B252
            FF     03     91     00     F8     FF     FF     FF     FF     FF     FF     FF
            B253   B254   B255                                                           
            FF     FF     FF
* * *
**EF~EXT3~ (Extension 3)**
Logically: 5 records, 4 records empty. Access to update EF~EXT3~ shall be
granted by usage of ADM1 only.
Record 1: Record type: \'02\'
Extension data: \"012345\";
Identifier: \'FF\'.
Record 1:
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13  
Hex 02 03 10 32 54 FF FF FF FF FF FF FF FF
* * *
#### 9.2.4.2 Procedure
a) The terminal is switched on and the USIM application shall be activated.
> b) The user shall use an MMI dependent procedure to set up a call to the
> dialling number associated with the alpha identifier
> \"Hotline001122334455667788ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789\"
> in record 1 of EF~SDN~.
c) The user shall end the call.
> d) The user shall use an MMI dependent procedure to set up a call to the
> dialling number associated with the \"Hotline003\" in record 3 of EF~SDN~.
e) The user shall end the call.
> f) The user shall use an MMI dependent procedure to select and to set up a
> call to the dialling number \"+007\" stored in record 4 of EF~SDN~.
g) The user shall end the call and switch the terminal off.
### 9.2.5 Acceptance criteria
> 1) After step a) the terminal shall have activated the USIM application and
> shall have read the status of the SDN service in EF~UST~.
>
> 2) After step b) the terminal shall have read record 1 of EF~SDN~ and a call
> to \"+22223333\" shall have been established.
3) After step c) the call shall have been terminated.
> 4) After step d) the terminal shall have read record 3 of EF~SDN~ and record
> 1 of EF~EXT1~ and a call to \"+01234567890123456789012345\" shall have been
> established.
5) After step e) the call shall have been terminated.
6) After step f) the terminal shall have read record 4 of EF~SDN~ and a call
to \"+007\" shall have been established.
# 10 CSG list handling
## 10.1 CSG list handling for E-UTRA
### 10.1.1 Automatic CSG selection in E-UTRA with CSG list on USIM, success
#### 10.1.1.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
#### 10.1.1.2 Conformance requirement
When a UE in idle mode detects the presence of a permissible CSG cell (a CSG
cell whose CSG identity is in the UE\"s white list), the UE shall select the
CSG cell.\ The ME shall read the allowed CSG IDs from EF~ACSGL~ in order to
perform HNB selection procedures. The lists in EF~ACSGL~ shall take precedence
over the list stored in the ME non-volatile memory.\ If the MS supports CSG,
it is provisioned with a list of allowed CSG identities and associated PLMN
identities from the USIM if the list is available in the USIM.
\- TS 22.011 [6], subclause 8.2.2.1;
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
#### 10.1.1.3 Test purpose
To verify that the ME only selects a CSG cell if the CSG IDs of the cell is
found in the allowed CSG IDs from EF~ACSGL~
#### 10.1.1.4 Method of test
##### 10.1.1.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 05
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 10.1.1.4.2 Procedure
a) The UE is powered on.
b) After 2 minutes the E-USS stops all RF output for the first cell with TAI
246/081/0001 on the BCCH for a long enough period of time to cause a cell
reselection procedure in the UE. The BCCH is changed to contain:
\- csg-Identity: 03
The E-USS then resumes RF output on the BCCH.
c) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
d) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266436587\"
e) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease to the UE._
f) The UE is soft powered down.
#### 10.1.1.5 Acceptance criteria
1) After steps a) the terminal shall not attempt an Attach procedure.
2) After step b) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the e-USS.
3) During step c) the terminal shall send _AttachRequest_ to the E-USS.
4) After step d) the terminal shall respond with _AttachComplete_ during
registration.
5) After step e) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24608100010266436587
Last visited registered TAI: 246/081/0001
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 16 80 00 01 02 66 43
65 B12 B13 B14 B15 B16 B17 B18  
87 42 16 80 00 01 00
* * *
### 10.1.2 Automatic CSG selection in E-UTRA with CSG list on USIM, removal of
CSG ID from the USIM
#### 10.1.2.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
#### 10.1.2.2 Conformance requirement
When a UE in idle mode detects the presence of a permissible CSG cell (a CSG
cell whose CSG identity is in the UE\"s white list), the UE shall select the
CSG cell.\ The ME shall read the allowed CSG IDs from EF~ACSGL~ in order to
perform HNB selection procedures. The lists in EF~ACSGL~ shall take precedence
over the list stored in the ME non-volatile memory.\ If the MS supports CSG,
it is provisioned with a list of allowed CSG identities and associated PLMN
identities from the USIM if the list is available in the USIM.
If the UE receives ATTACH REJECT with cause #25 (Not authorized for this CSG)
with integrity protection, the UE shall remove the CSG ID of the cell where
the UE has sent the ATTACH REQUEST message from the Allowed CSG list.
\- TS 22.011 [6], subclause 8.2.2.1;
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 24.301 [26], subclause 5.5.1.2.5
#### 10.1.2.3 Test purpose
To verify that the ME removes the CSG ID from the Allowed CSG list in
EF~ACSGL~ in case this CSG ID belongs to the cell where the ME has sent the
ATTACH REQUEST message which was rejected with cause #25 by the E-USS.
#### 10.1.2.4 Method of test
##### 10.1.2.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 03
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 10.1.2.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachReject_ to the UE with cause #25 (Not authorized
for this CSG) with integrity protection, followed by _RRCConnectionRelease._
d) The UE is soft powered down.
#### 10.1.2.5 Acceptance criteria
1) After step a) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the E-USS.
2) During step b) the terminal shall send _AttachRequest_ to the E-USS.
3) After step c) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: not checked
Last visited registered TAI: 246/081/0001
EPS update status: ROAMING NOT ALLOWED
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex xx xx xx xx xx xx xx xx xx xx
xx B12 B13 B14 B15 B16 B17 B18  
xx 42 16 80 xx xx 02
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
* * *
Coding: A0 0D 80 03 42 16 80 81 06 02 02 00 00 ^0^0 5F
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note^:^ the 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.
### 10.1.3 Manual CSG selection in E-UTRA with CSG list on USIM, success
#### 10.1.3.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
#### 10.1.3.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ in order to perform HNB
selection procedures. The lists in EF~ACSGL~ shall take precedence over the
list stored in the ME non-volatile memory.\ In manual CSG selection mode, the
ME indicates to the user the list of available CSGs in the currently selected
PLMN. The list of CSGs presented to the user is not restricted by the allowed
CSG list.\ If the MS supports CSG, it is provisioned with a list of allowed
CSG identities and associated PLMN identities from the USIM if the list is
available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the TRACKING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the TRACKING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the
Allowed CSG list.
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 24.301 [26], subclause 5.5.3.2.4
#### 10.1.3.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in EF~ACSGL~ in
case this CSG ID belongs to the cell where the ME has sent the TRACKING AREA
UPDATE REQUEST message which was accepted by the E-USS.
#### 10.1.3.4 Method of test
##### 10.1.3.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 10.1.3.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0002
GUTI: \"24608100010266436599\"
h) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_ to the UE.
i) The UE is soft powered down.
#### 10.1.3.5 Acceptance criteria
1) After step b) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the e-USS.
3) During step b) the terminal shall send _AttachRequest_ to the E-USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0002 to the e-USS.
7) During step f) the terminal shall send _TrackingAreaUpdateRequest_ to the
E-USS.
8) After step g) the terminal shall respond with _TrackingAreaUpdatComplete_
during registration.
9) After step i) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24608100010266436599
Last visited registered TAI: 246/081/0002
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 16 80 00 01 02 66 43
65 B12 B13 B14 B15 B16 B17 B18  
99 42 16 80 00 02 00
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
1^st^ CSG list 3^rd^ CSG Type indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG HNB Name indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG CSG ID: 04 (27bit)
* * *
Coding: A0 1D 80 03 42 16 80 81 06 02 02 00 00 00 5F 81 06 03 03 00 00 00 7F
81 06 xx xx 00 00 00 9F
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note: The 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.\ The CSG entries within each of the CSG lists are
not sorted and may occur in arbitrary order.
### 10.1.4 Manual CSG selection in E-UTRA with CSG list on USIM, rejected
#### 10.1.4.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
#### 10.1.4.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ in order to perform HNB
selection procedures. The lists in EF~ACSGL~ shall take precedence over the
list stored in the ME non-volatile memory.\ In manual CSG selection mode, the
ME indicates to the user the list of available CSGs in the currently selected
PLMN. The list of CSGs presented to the user is not restricted by the allowed
CSG list.\ If the MS supports CSG, it is provisioned with a list of allowed
CSG identities and associated PLMN identities from the USIM if the list is
available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the TRACKING AREA UPDATE REJECT message with cause #25 (Not
authorized for this CSG) with integrity protection, shall remove the CSG ID of
the cell where the UE has sent the TRACKING AREA UPDATE REQUEST message if the
CSG ID is contained in the Allowed CSG list.
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 24.301 [26], subclause 5.5.3.2.5
#### 10.1.4.3 Test purpose
To verify that the ME does not add the CSG ID to the Allowed CSG list in
EF~ACSGL~ in case this CSG ID belongs to the cell where the ME has sent the
TRACKING AREA UPDATE REQUEST message which was rejected by the E-USS.
#### 10.1.4.4 Method of test
##### 10.1.4.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 10.1.4.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of a _AttachRequest_ from the UE, the
E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_ , to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of an _TrackingAreaUpdateRequest_
from the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateReject_ to the UE with cause
#25 (Not authorized for this CSG) with integrity protection, followed by
_RRCConnectionRelease_ to the UE.
h) The UE is soft powered down.
#### 10.1.4.5 Acceptance criteria
1) After step a) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the E-USS.
3) During step b) the terminal shall send _AttachRequest_ to the E-USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5.) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send a RRCConnectionRequest on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002 to the E-USS.
7) During step f) the terminal shall send _TrackingAreaUpdateRequest_ to the
E-USS.
8) After step h) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: not checked
Last visited registered TAI: 246/081/0001
EPS update status: ROAMING NOT ALLOWED
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex xx xx xx xx xx xx xx xx xx xx
xx B12 B13 B14 B15 B16 B17 B18  
xx 42 16 80 00 01 02
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Content not changed, shall be the same as defined in clause 4.4.5.
### 10.1.5 CSG selection in E-UTRA with no CSG list on USIM, no IMSI change
#### 10.1.5.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
#### 10.1.5.2 Conformance requirement
In manual CSG selection mode, the ME indicates to the user the list of
available CSGs in the currently selected PLMN. The list of CSGs presented to
the user is not restricted by the allowed CSG list.\ If the MS supports CSG,
it is provisioned with a list of allowed CSG identities and associated PLMN
identities from the USIM if the list is available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the TRACKING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the TRACKING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list.
If the corresponding file is not present on the USIM, these EMM parameters
except allowed CSG list are stored in a non-volatile memory in the ME together
with the IMSI from the USIM. The allowed CSG list is stored in a non-volatile
memory in the ME if the UE supports CSG selection. These EMM parameters can
only be used if the IMSI from the USIM matches the IMSI stored in the non-
volatile memory; else the UE shall delete the EMM parameters.
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 24.301 [26], subclause 5.5.3.2.4 and Annex C.
#### 10.1.5.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in a non-
volatile memory in the ME together with the IMSI from the USIM in case this
CSG ID belongs to the cell where the ME has sent the TRACKING AREA UPDATE
REQUEST message which was accepted by the E-USS as the corresponding file is
not present on the simulated USIM.
To verify that the ME still has this CSG ID stored in the Allowed CSG list
available together with the IMSI after powered down and up in case the IMSI of
the USIM has not changed.
To verify that the ME removes the CSG ID from the Allowed CSG list inside the
terminal in case this CSG ID belongs to the cell where the ME has sent the
ATTACH REQUEST message which was rejected with cause #25 by the E-USS.
#### 10.1.5.4 Method of test
##### 10.1.5.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default UICC (without the service \"Allowed CSG Lists and corresponding
indications\") is installed into the Terminal.
The ME shall not have csg-ID = 04 nor csg-ID=06 in the allowed CSG list stored
in a non-volatile memory in the ME and the ME is set to automatic PLMN
selection mode.
##### 10.1.5.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with the following parameters to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with the following
parameters to the UE:
TAI (MCC/MNC/TAC): 246/081/TACs: 0002
GUTI: \"24608100010266345699\"
h) After receipt of the _TrackingAreaUpdateComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_ to the UE.
i) The UE is switched off and performs the _Detach_ procedure.
j) The default UICC remains in use.
k) The E-USS shall change the BCCH for the cell transmitting TAI 246/081/0001
to the following network parameters:
\- csg-Indication: TRUE
\- csg-Identity: 06
l) The UE is powered on.
m) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
n) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachReject_ to the UE with cause #25 (Not authorized
for this CSG) with integrity protection, followed by _RRCConnectionRelease._
o) The UE is soft powered down.
p) The default UICC remains in use.
q) The UE is powered on.
r) After 2 minutes the UE is soft powered down.
#### 10.1.5.5 Acceptance criteria
1) After step a) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the E-USS.
3) During step b) the terminal shall send _AttachRequest_ to the E-USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0002 to the E-USS.
7) During step f) the terminal shall send _TrackingAreaUpdateRequest_ to the
E-USS.
8) After step g) the terminal shall respond with _TrackingAreaUpdateComplete_
during registration.
9) After step l) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0002 to the E-USS.
10) During step n) the terminal shall send _AttachRequest_ to the E-USS.
10a) After step n) the terminal shall not try to register to the E-USS using
the same CSG ID which was rejected in step n).
11) After step q) the terminal shall not try to register to the E-USS using
the same CSG ID which was rejected in step n).
### 10.1.6 CSG selection in E-UTRA with no CSG list on USIM, with IMSI change
#### 10.1.6.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
#### 10.1.6.2 Conformance requirement
In manual CSG selection mode, the ME indicates to the user the list of
available CSGs in the currently selected PLMN. The list of CSGs presented to
the user is not restricted by the allowed CSG list..\ If the MS supports CSG,
it is provisioned with a list of allowed CSG identities and associated PLMN
identities from the USIM if the list is available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the TRACKING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the TRACKING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list.
If the corresponding file is not present on the USIM, these EMM parameters
except allowed CSG list are stored in a non-volatile memory in the ME together
with the IMSI from the USIM. The allowed CSG list is stored in a non-volatile
memory in the ME if the UE supports CSG selection. These EMM parameters can
only be used if the IMSI from the USIM matches the IMSI stored in the non-
volatile memory; else the UE shall delete the EMM parameters.
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 24.301 [26], subclause 5.5.3.2.4 and Annex C.
#### 10.1.6.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in a non-
volatile memory in the ME together with the IMSI from the USIM in case this
CSG ID belongs to the cell where the ME has sent the TRACKING AREA UPDATE
REQUEST message which was accepted by the E-USS as the corresponding file is
not present on the simulated USIM.
To verify that the ME removes this CSG ID stored in the Allowed CSG list
available together with the IMSI after powered down and up in case the IMSI of
the USIM has changed.
#### 10.1.6.4 Method of test
##### 10.1.6.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default UICC (without the service \"Allowed CSG Lists and corresponding
indications\") is installed into the Terminal.
The ME shall not have csg-ID = 04 nor csg-ID=06 in the allowed CSG list stored
in a non-volatile memory in the ME and the ME is set to automatic PLMN
selection mode.
##### 10.1.6.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the following parameters the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with the following
parameters to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0002
GUTI: \"24608100010266345699\"
h) After receipt of the _TrackingAreaUpdateComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_ to the UE.
i) The UE is switched off and performs the _Detach_ procedure.
j) A new UICC with the following configuration is activated:
The default UICC with the following exception: The IMSI is set to
\"246081222233333\".
k) The E-USS shall change the BCCH for the cell transmitting TAI 246/081/0001
to the following network parameters:
\- csg-Indication: TRUE
\- csg-Identity: 06
l) The UE is powered on.
m) After 2 minutes the UE is soft powered down.
#### 10.1.6.5 Acceptance criteria
1) After step b) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the e-USS.
3) During step b) the terminal shall send _AttachRequest_ to the E-USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0002 to the e-USS.
7) During step f) the terminal shall send _TrackingAreaUpdateRequest_ to the
E-USS.
8) After step g) the terminal shall respond with _TrackingAreaUpdateComplete_
during registration.
9) After step l) the terminal shall not try to register to the E-USS.
### 10.1.7 Manual CSG selection without display restrictions in E-UTRA with
ACSG list and OCSG list on USIM
#### 10.1.7.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects a CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
_Editor\'s note: it is still being investigated whether the testing of
Automatic CSG selection should be performed using a separate test case or an
enhanced version of the Manual CSG selection test case._
#### 10.1.7.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ and EF~OCSGL~ in order to
perform HNB selection procedures. The lists in EF~ACSGL~ and EF~OCSGL~ shall
take precedence over the list stored in the ME non-volatile memory.\ \ If the
MS supports CSG, it is provisioned with a list of allowed CSG identities and
associated PLMN identities from the USIM if the list is available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the TRACKING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the TRACKING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list EF~ACSGL~.
By default, the UE shall display all available CSGs for any PLMN, unless the
UE has been configured by the HPLMN,\ for a specific PLMN, to display only
CSGs in the Operator CSG List that are available.
\- TS 31.102 [4], subclauses 4.2.18, 4.4.6.2, 4.4.6.5 and 5.8.1;
\- TS 24.301 [26], subclause 5.5.3.2.4
\- TS 22.220 [34], subclause 5.3.2 and 5.5.4
#### 10.1.7.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in EF~ACSGL~ in
case this CSG ID belongs to the cell where the ME has sent the TRACKING AREA
UPDATE REQUEST message which was accepted by the E-USS.\ During the manual CSG
selection all available CSG ID shall be displayed without restrictions.
#### 10.1.7.4 Method of test
##### 10.1.7.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- TAI (MCC/MNC/TAC): 246/081/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default ACSGL/OCSGL E-UTRAN/EPC UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection and manual CSG selection mode.
##### 10.1.7.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
g) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0002
GUTI: \"24608100010266436599\"
h) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_ to the UE.
i) The UE is soft powered down.
#### 10.1.7.5 Acceptance criteria
1) After step b) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the e-USS.
3) During step b) the terminal shall send _AttachRequest_ to the E-USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0002 to the E-USS.
7) During step f) the terminal shall send _TrackingAreaUpdateRequest_ to the
E-USS.
8) After step g) the terminal shall respond with _TrackingAreaUpdatComplete_
during registration.
9) After step i) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24608100010266436599
Last visited registered TAI: 246/081/0002
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 16 80 00 01 02 66 43
65 B12 B13 B14 B15 B16 B17 B18  
99 42 16 80 00 02 00
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
1^st^ CSG list 3^rd^ CSG Type indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG HNB Name indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG CSG ID: 04 (27bit)
* * *
Coding: A0 1D 80 03 42 16 80 81 06 02 02 00 00 00 5F 81 06 03 03 00 00 00 7F
81 06 xx xx 00 00 00 9F
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note^:^ The 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.
**EF~OCSGL~ (Operator CSG Lists)**
Unchanged values as defined in 4.6.3
### 10.1.8 Manual CSG selection with display restrictions in E-UTRA with ACSG
list and OCSG list on USIM
#### 10.1.8.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects a CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
#### 10.1.8.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ and EF~OCSGL~ in order to
perform HNB selection procedures. The lists in EF~ACSGL~ and EF~OCSGL~ shall
take precedence over the list stored in the ME non-volatile memory.\ \ If the
MS supports CSG, it is provisioned with a list of allowed CSG identities and
associated PLMN identities from the USIM if the list is available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the TRACKING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the TRACKING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list EF~ACSGL~.
By default, the UE shall display all available CSGs for any PLMN, unless the
UE has been configured by the HPLMN,\ for a specific PLMN, to display only
CSGs in the Operator CSG List that are available.
\- TS 31.102 [4], subclauses 4.2.18, 4.4.6.2, 4.4.6.5 and 5.8.1;
\- TS 24.301 [26], subclause 5.5.3.2.4
\- TS 22.220 [34], subclause 5.3.2 and 5.5.4
#### 10.1.8.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in EF~ACSGL~ in
case this CSG ID belongs to the cell where the ME has sent the TRACKING AREA
UPDATE REQUEST message which was accepted by the E-USS.\ During the manual CSG
selection all available CSG ID shall be displayed with restrictions.
#### 10.1.8.4 Method of test
##### 10.1.8.4.1 Initial conditions
For this test an E-USS is required.
The E-USS transmits on two cells, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- TAI (MCC/MNC/TAC): 246/080/0002.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default ACSGL/OCSGL E-UTRAN/EPC UICC is used except the following change:
#### EF~AD~ (Administrative Data)
Logically: Normal operation + specific facilities
Ciphering indicator feature disabled
MNC: 3 digit\ For every PLMN not included in EF_OCSGL or any PLMN for which a
CSG display indicator tag is not present, only the available CSGs found in the
Operator CSG list shall be displayed (B3)
* * *
Coding: B1 B2 B3 B4 Hex 01 00 02 03
* * *
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection and manual CSG selection mode.
##### 10.1.8.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0001, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the E-USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall not
indicate the availability of a cell with csg-Identity 04 for PLMN 246/080,
this shall be verified for 2 minutes.
f) The E-USS stops all RF output for the first cell with TAI 246/081/0001 on
the BCCH. The BCCH is changed to contain:
> \- TAI (MCC/MNC/TAC): 246/081/0002
>
> \- csg-Indication: TRUE
\- csg-Identity: 04
The E-USS then resumes RF output on the BCCH.
g) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
h) After receipt of an _RRCConnectionRequest_ from the UE on the E-UTRAN-cell
related to the BCCH transmitting TAI 246/081/0002, the E-USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the E-USS.
i) During registration and after receipt of a _TrackingAreaUpdateRequest_ from
the UE, the E-USS initiates authentication, starts integrity by using the
security procedure and sends _TrackingAreaUpdateAccept_ with to the UE:
TAI (MCC/MNC/TAC): 246/081/ 0002
GUTI: \"24608100010266436599\"
j) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the E-USS sends _RRCConnectionRelease_ to the UE.
k) The UE is soft powered down.
#### 10.1.8.5 Acceptance criteria
1) After step b) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0001 to the E-USS.
2) During step b) the terminal shall send _AttachRequest_ to the E-USS.
3) After step c) the terminal shall respond with _AttachComplete_ during
registration.
4) During step e) the UE shall not provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/080 to the user.
5) During step g) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step h) the UE shall send an _RRCConnectionRequest_ on the E-UTRAN-
cell related to the BCCH transmitting TAI 246/081/0002 to the E-USS.
7) During step i) the terminal shall send _TrackingAreaUpdateRequest_ to the
E-USS.
8) After step j) the terminal shall respond with _TrackingAreaUpdatComplete_
during registration.
9) After step k) the USIM shall contain the following values:
**EF~EPSLOCI~ (EPS Information)**
Logically: GUTI: 24608100010266436599
Last visited registered TAI: 246/081/0002
EPS update status: updated
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 0B F6 42 16 80 00 01 02 66 43
65 B12 B13 B14 B15 B16 B17 B18  
99 42 16 80 00 02 00
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
1^st^ CSG list 3^rd^ CSG Type indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG HNB Name indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG CSG ID: 04 (27bit)
* * *
Coding: A0 1D 80 03 42 16 80 81 06 02 02 00 00 00 5F 81 06 03 03 00 00 00 7F
81 06 xx xx 00 00 00 9F
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note^:^ The 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.
**EF~OCSGL~ (Operator CSG Lists)**
Unchanged values as defined in 4.6.3
## 10.2 CSG list handling for UTRA
### 10.2.1 Manual CSG selection without display restrictions in UTRA with ACSG
list and OCSG list on USIM
#### 10.2.1.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects a CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
_Editor\'s note: it is still being investigated whether the testing of
Automatic CSG selection should be performed using a separate test case or an
enhanced version of the Manual CSG selection test case._
#### 10.2.1.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ and EF~OCSGL~ in order to
perform HNB selection procedures. The lists in EF~ACSGL~ and EF~OCSGL~ shall
take precedence over the list stored in the ME non-volatile memory.\ \ If the
MS supports CSG, it is provisioned with a list of allowed CSG identities and
associated PLMN identities from the USIM if the list is available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the ROUTING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the ROUTING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list EF~ACSGL~.
By default, the UE shall display all available CSGs for any PLMN, unless the
UE has been configured by the HPLMN,\ for a specific PLMN, to display only
CSGs in the Operator CSG List that are available.
\- TS 31.102 [4], subclauses 4.2.18, 4.4.6.2, 4.4.6.5 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 22.220 [34], subclause 5.3.2 and 5.5.4
#### 10.2.1.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in EF~ACSGL~ in
case this CSG ID belongs to the cell where the ME has sent the ROUTING AREA
UPDATE REQUEST message which was accepted by the USS.\ During the manual CSG
selection all available CSG ID shall be displayed without restrictions.
#### 10.2.1.4 Method of test
##### 10.2.1.4.1 Initial conditions
For this test an USS is required.
The USS transmits on two cells, with the following network parameters:
\- RAI (MCC/MNC/LAC/RAC): 246/081/0001/01.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- RAI (MCC/MNC/LAC/RAC): 246/081/0002/02.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default ACSGL/OCSGL E-UTRAN/EPC UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection and manual CSG selection mode.
##### 10.2.1.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0001/01, the USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
RAI (MCC/MNC/LAC/RAC): 246/081/0001/01
P-TMSI \"87512890\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0002/02, the USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the USS.
g) During registration and after receipt of a _RoutingAreaUpdateRequest_ from
the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends _RoutingAreaUpdateAccept_ with to the UE:
RAI (MCC/MNC/LAC/RAC): 246/081/0002/02
P-TMSI \"34567890\"
h) After receipt of the _TrackingAreaUpdatComplete_ during registration from
the UE, the USS sends _RRCConnectionRelease_ to the UE.
i) The UE is soft powered down.
#### 10.2.1.5 Acceptance criteria
1) After step b) the UE shall send an _RRCConnectionRequest_ on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0001/01 to the USS.
3) During step C) the terminal shall send _AttachRequest_ to the USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send an _RRCConnectionRequest_ on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0002/02 to the USS.
7) During step g) the terminal shall send _RoutingAreaUpdateRequest_ to the
USS.
8) After step g) the terminal shall respond with _RoutingAreaUpdatComplete_
during registration.
9) After step i) the USIM shall contain the following values:
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 246
RAI-MNC: 081
RAI-LAC: 0002
RAI-RAC: 02
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 42 16 80
00
Coding: B12 B13 B14  
Hex 02 02 00
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
1^st^ CSG list 3^rd^ CSG Type indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG HNB Name indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG CSG ID: 04 (27bit)
* * *
Coding: A0 1D 80 03 42 16 80 81 06 02 02 00 00 00 5F 81 06 03 03 00 00 00 7F
81 06 xx xx 00 00 00 9F
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note^:^ The 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.
**EF~OCSGL~ (Operator CSG Lists)**
Unchanged values as defined in 4.6.3
### 10.2.2 Manual CSG selection with display restrictions in UTRA with ACSG
list and OCSG list on USIM
#### 10.2.2.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects a CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
#### 10.2.2.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ and EF~OCSGL~ in order to
perform HNB selection procedures. The lists in EF~ACSGL~ and EF~OCSGL~ shall
take precedence over the list stored in the ME non-volatile memory.\ \ If the
MS supports CSG, it is provisioned with a list of allowed CSG identities and
associated PLMN identities from the USIM if the list is available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the ROUTING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the ROUTING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list EF~ACSGL~.
By default, the UE shall display all available CSGs for any PLMN, unless the
UE has been configured by the HPLMN,\ for a specific PLMN, to display only
CSGs in the Operator CSG List that are available.
\- TS 31.102 [4], subclauses 4.2.18, 4.4.6.2, 4.4.6.5 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 22.220 [34], subclause 5.3.2 and 5.5.4
#### 10.2.2.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in EF~ACSGL~ in
case this CSG ID belongs to the cell where the ME has sent the ROUTING AREA
UPDATE REQUEST message which was accepted by the USS.\ During the manual CSG
selection all available CSG ID shall be displayed with restrictions.
#### 10.2.2.4 Method of test
##### 10.2.2.4.1 Initial conditions
For this test an USS is required.
The USS transmits on two cells, with the following network parameters:
\- RAI (MCC/MNC/LAC/RAC): 246/081/0001/01.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- RAI (MCC/MNC/LAC/RAC): 246/080/0002/02.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default ACSGL/OCSGL E-UTRAN/EPC UICC is used except the following change:
#### EF~AD~ (Administrative Data)
Logically: Normal operation + specific facilities
Ciphering indicator feature disabled
MNC: 3 digit\ For every PLMN not included in EF_OCSGL or any PLMN for which a
CSG display indicator tag is not present, only the available CSGs found in the
Operator CSG list shall be displayed (B3)
* * *
Coding: B1 B2 B3 B4 Hex 01 00 02 03
* * *
.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection and manual CSG selection mode.
##### 10.2.2.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0001/01, the USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
RAI (MCC/MNC/LAC/RAC): 246/081/0001/01
P-TMSI \"87512890\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall not
indicate the availability of a cell with csg-Identity 04 for PLMN 246/080,
this shall be verified for 2 minutes.
f) The USS stops all RF output for the first cell with RAI 246/081/0001/01 on
the BCCH. The BCCH is changed to contain:
> \- RAI (MCC/MNC/LAC/RAC): 246/081/0002/02.
>
> \- csg-Indication: TRUE
\- csg-Identity: 04
The USS then resumes RF output on the BCCH.
g) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
h) After receipt of an _RRCConnectionRequest_ from the UE on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0002/02, the USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the USS.
i) During registration and after receipt of a _RoutingAreaUpdateRequest_ from
the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends _RoutingAreaUpdateAccept_ with to the UE:
RAI (MCC/MNC/TAC): 246/081/0002/02
P-TMSI \"34567890\"
j) After receipt of the _RoutingAreaUpdatComplete_ during registration from
the UE, the USS sends _RRCConnectionRelease_ to the UE.
k) The UE is soft powered down.
#### 10.2.2.5 Acceptance criteria
1.) After step b) the UE shall send an _RRCConnectionRequest_ on the UTRAN-
cell related to the BCCH transmitting RAI 246/081/0001/01 to the USS.
3) During step c) the terminal shall send _AttachRequest_ to the USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall not provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/080 to the user.
6) During step g) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6a) After step g) the UE shall send an _RRCConnectionRequest_ on the UTRAN-
cell related to the BCCH transmitting RAI 246/081/0002/02 to the USS.
7) During step i) the terminal shall send _RoutingAreaUpdateRequest_ to the
USS.
8) After step i) the terminal shall respond with _RoutingAreaUpdatComplete_
during registration.
9) After step k) the USIM shall contain the following values:
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 246
RAI-MNC: 081
RAI-LAC: 0002
RAI-RAC: 02
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 42 16 80
00
Coding: B12 B13 B14  
Hex 02 02 00
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
1^st^ CSG list 3^rd^ CSG Type indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG HNB Name indication \'xx\' (not checked)
1^st^ CSG list 3^rd^ CSG CSG ID: 04 (27bit)
* * *
Coding: A0 1D 80 03 42 16 80 81 06 02 02 00 00 00 5F 81 06 03 03 00 00 00 7F
81 06 xx xx 00 00 00 9F
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note^:^ The 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.
**EF~OCSGL~ (Operator CSG Lists)**
Unchanged values as defined in 4.6.3
### 10.2.3 Manual CSG selection in UTRA with CSG list on USIM, success
#### 10.2.3.1 Definition and applicability
A Closed Subscriber Group identifies subscribers of an operator who are
permitted to access one or more cells of the PLMN but which have restricted
access (CSG cells). A CSG cell is part of the PLMN, broadcasting a CSG
indication that is set to TRUE and a specific CSG identity. A CSG cell is
accessible by the members of the closed subscriber group for that CSG
identity. For a CSG cell, the UE shall check the broadcast CSG ID against the
Allowed CSG list provided by NAS to check whether a CSG cell is suitable for
the UE.
A UE supporting CSG selection selects CSG cell either automatically based on
the list of allowed CSG identities or manually based on user selection of CSG
on indication of list of available CSGs.
_Editor\'s note: it is still being investigated whether the testing of both
the unsuccessful Manual CSG selection and the Automatic CSG selection should
be performed using a separate test case or an enhanced version of the Manual
CSG selection test case._
#### 10.2.3.2 Conformance requirement
The ME shall read the allowed CSG IDs from EF~ACSGL~ in order to perform HNB
selection procedures. The lists in EF~ACSGL~ shall take precedence over the
list stored in the ME non-volatile memory.\ In manual CSG selection mode, the
ME indicates to the user the list of available CSGs in the currently selected
PLMN. The list of CSGs presented to the user is not restricted by the allowed
CSG list.\ If the MS supports CSG, it is provisioned with a list of allowed
CSG identities and associated PLMN identities from the USIM if the list is
available in the USIM.
If the UE supporting CSG selection has attempted manual CSG selection, the UE,
when receiving the ROUTING AREA UPDATE ACCEPT message, shall check if the CSG
ID of the cell where the UE has sent the ROUTING AREA UPDATE REQUEST message
is contained in the Allowed CSG list. If not, the UE shall add that CSG ID to
the Allowed CSG list.
\- TS 31.102 [4], subclauses 4.4.6.2 and 5.8.1;
\- TS 23.122 [31], subclause 3.1A.
\- TS 24.008 [16], subclause 4.7.5.1.3
#### 10.2.3.3 Test purpose
To verify that the ME adds the CSG ID to the Allowed CSG list in EF~ACSGL~ in
case this CSG ID belongs to the cell where the ME has sent the ROUTING AREA
UPDATE REQUEST message which was accepted by the USS.
#### 10.2.3.4 Method of test
##### 10.2.3.4.1 Initial conditions
For this test an USS is required.
The USS transmits on two cells, with the following network parameters:
\- RAI (MCC/MNC/LAC/RAC): 246/081/0001/01.
\- Access control: unrestricted.
\- csg-Indication: FALSE
\- csg-Identity: not present
\- RAI (MCC/MNC/LAC/RAC): 246/081/0002/02.
\- Access control: unrestricted.
\- csg-Indication: TRUE
\- csg-Identity: 04
The default E-UTRAN UICC is used.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
##### 10.2.3.4.2 Procedure
a) The UE is powered on.
b) After receipt of an _RRCConnectionRequest_ from the UE on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0001/01, the USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the USS.
c) During registration and after receipt of an _AttachRequest_ from the UE,
the USS initiates authentication, starts integrity by using the security
procedure and sends _AttachAccept_ with to the UE:
RAI (MCC/MNC/LAC/RAC): 246/081/0001/01
P-TMSI \"87512890\"
d) After receipt of the _AttachComplete_ during registration from the UE, the
USS sends _RRCConnectionRelease_ to the UE.
e) The MMI of the UE is used to perform manual CSG selection. The UE shall
indicate the availability of a cell with csg-Identity 04 for PLMN 246/081. The
user shall select this cell by using the MMI.
f) After receipt of an _RRCConnectionRequest_ from the UE on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0002/02, the USS sends
_RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_ sent
by the UE to the USS.
g) During registration and after receipt of a _RoutingAreaUpdateRequest_ from
the UE, the USS initiates authentication, starts integrity by using the
security procedure and sends _RoutingAreaUpdateAccept_ with to the UE:
RAI (MCC/MNC/LAC/RAC): 246/081/0002/02
P-TMSI \"34567890\"
h) After receipt of the _RoutingAreaUpdatComplete_ during registration from
the UE, the USS sends _RRCConnectionRelease_ to the UE.
i) The UE is soft powered down.
#### 10.2.3.5 Acceptance criteria
1) After step a) the UE shall send an _RRCConnectionRequest_ on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0001/01 to the USS.
3) During step c) the terminal shall send _AttachRequest_ to the USS.
4) After step c) the terminal shall respond with _AttachComplete_ during
registration.
5) During step e) the UE shall provide during the manual CSG selection the
information for a cell with csg-Identity 04 for PLMN 246/081 to the user.
6) After step e) the UE shall send an _RRCConnectionRequest_ on the UTRAN-cell
related to the BCCH transmitting RAI 246/081/0002/02 to the USS.
7) During step g) the terminal shall send _RoutingAreaUpdateRequest_ to the
USS.
8) After step g) the terminal shall respond with _RoutingAreaUpdatComplete_
during registration.
9) After step i) the USIM shall contain the following values:
**EF~PSLOCI~ (Location Information)**
Logically: RAI-MCC: 246
RAI-MNC: 081
RAI-LAC: 0002
RAI-RAC: 02
P-TMSI: \"34567890\"
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 34 56 78 90 xx xx xx 42 16 80
00
Coding: B12 B13 B14  
Hex 02 02 00
* * *
**EF~ACSGL~ (Allowed CSG Lists)**
Logically:
1^st^ CSG list
PLMN: 246 081 (MCC MNC)
1^st^ CSG list 1^st^ CSG Type indication 02
1^st^ CSG list 1^st^ CSG HNB Name indication 02
1^st^ CSG list 1^st^ CSG CSG ID: 02 (27bit)
1^st^ CSG list 2^nd^ CSG Type indication 03
1^st^ CSG list 2^nd^ CSG HNB Name indication 03
1^st^ CSG list 2^nd^ CSG CSG ID: 03 (27bit)
1^st^ CSG list 3^rd^ CSG Type indication \'xx\'
1^st^ CSG list 3^rd^ CSG HNB Name indication \'xx\'
1^st^ CSG list 3^rd^ CSG CSG ID: 04 (27bit)
* * *
Coding: A0 1D 80 03 42 16 80 81 06 02 02 00 00 00 5F 81 06 03 03 00 00 00 7F
81 06 xx xx 00 00 00 ^9F^
* * *
2nd CSG list
PLMN: 244 081 (MCC MNC)
2^nd^ CSG list 1^st^ CSG Type indication 08
2^nd^ CSG list 1^st^ CSG HNB Name indication 08
2^nd^ CSG list 1^st^ CSG CSG ID: 08 (27bit)
* * *
Coding: A0 0D 80 03 42 14 80 81 06 08 08 00 00 01 1F
* * *
Note^:^ The 1st and 2nd CSG list may be stored together or separately in any
record in arbitrary order.
# 11 NAS security context parameter handling
## 11.1 NAS security context parameter handling when service \"EMM
Information\" is available
### 11.1.1 Definition and applicability
The security parameters for authentication, integrity protection and ciphering
are tied together in an EPS security context and identified by a key set
identifier for E-UTRAN (eKSI). The relationship between the security
parameters is defined in 3GPP TS 33.401 [27].
The EPS security context parameters shall be stored on the USIM if the
corresponding file is present. If the corresponding file is not present on the
USIM, these EMM parameters except allowed CSG list are stored in a non-
volatile memory in the ME together with the IMSI from the USIM.
The EF~EPSNSC~ contains the EPS NAS Security context as defined in TS 33.401
[27]. This file shall contain only one record and shall be updated only when
the requirements defined in TS 33.401 [27] are met.
### 11.1.2 Conformance requirement
EPS AKA is the authentication and key agreement procedure that shall be used
over E-UTRAN.
Before security can be activated, the MME and the UE need to establish an EPS
security context. Usually, the EPS security context is created as the result
of an authentication procedure between MME and UE\ The EPS security context
parameters shall be stored on the USIM if the corresponding file is present,
and shall be updated only when the requirements defined in TS 33.401 [27] are
met.\ If the corresponding file is not present on the USIM, these EMM
parameters except allowed CSG list are stored in a non-volatile memory in the
ME together with the IMSI from the USIM.
\- TS 24.301 [6], subclause 4.4.2.1 and Annex C;
\- TS 31.102 [4], subclause 4.2.92;
\- TS 33.401 [27], subclause 6.1.1, 7.2.5.1 and 7.2.5.2.1.
### 11.1.3 Test purpose
To verify that the ME generates the EPS security context identified by a key
set identifier for E-UTRAN (eKSI) and stores all inside EF~EPSNSC~ if this EF
is available and when the requirements defined in TS 33.401 [27] , subclauses
7.2.5.1 and 7.2.5.2.1are met.
### 11.1.4 Method of test
#### 11.1.4.1 Initial conditions
For this test an E-USS or a NB-SS is required.
The E-USS transmits on one cell, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on one cell, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The default E-UTRAN UICC is used.
#### 11.1.4.2 Procedure
a) The UE is switched on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the UE,
followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by
the UE to the E-USS/NB-SS.
c) During registration and after receipt of an _AttachRequest_ (included in
the _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_) from the UE,
the E-USS/NB-SS initiates the EPS authentication and AKA procedure. The
E-USS/NB-SS uses
eKSI: \'00\'
d) Afterwards the E-USS/NB-SS transmits a (NAS) _SecurityModeCommand_ message
to activate NAS security, and after receiving (NAS) _SecurityModeComplete_
from the UE, the E-USS/NB-SS sends _AttachAccept_ to the UE with:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
e) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to the UE
f) The UE or the UE\'s radio interface is switched off to perform the DETACH
procedure.
### 11.1.5 Acceptance criteria
> 1) After step a) the UE shall read EF~UST~ and EF~EPSNSC~.
2) During step b) the UE shall indicate in the _AttachRequest_ that no key is
available
3) During step c) the UE shall send the _AuthenticationResponse_ message.
4) During step d) the UE shall send the (NAS) _SecurityModeComplete_ message
5) EF~EPSNSC~ shall not be updated during steps c) to e), unless for
invalidating the content of EF~EPSNSC~.
> Note: Invalidation of EF~EPSNSC~ is described in TS 31.102 [4], subclause
> 4.2.92.
6) After step f) the UE shall send DETACH REQUEST to the E-USS/NB-SS.
7) After step f) EF~EPSNSC~ shall contain:
**EF~EPSNSC~ (EPS NAS Security Context)**
Logically: Key Set Identifier KSI~ASME~: \'00\'
ASME Key (KSI~ASME~) : 32 byte key, value not checked
Uplink NAS count: any value
Downlink NAS count: any value
Identifiers of selected NAS any value\ integrity and encryption\ algorithm
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 ... ... ... Bxx Hex A0 xx 80 01 00 81 xx xx
... ... ... xx
* * *
## 11.2 NAS security context parameter handling when service \"EMM
Information\" is not available, no IMSI change
### 11.2.1 Definition and applicability
The security parameters for authentication, integrity protection and ciphering
are tied together in an EPS security context and identified by a key set
identifier for E-UTRAN (eKSI). The relationship between the security
parameters is defined in 3GPP TS 33.401 [27].
The EPS security context parameters shall be stored on the USIM if the
corresponding file is present. If the corresponding file is not present on the
USIM, these EMM parameters except allowed CSG list are stored in a non-
volatile memory in the ME together with the IMSI from the USIM.
The EF~EPSNSC~ contains the EPS NAS Security context as defined in TS 33.401
[27]. This file shall contain only one record.
### 11.2.2 Conformance requirement
EPS AKA is the authentication and key agreement procedure that shall be used
over E-UTRAN.
Before security can be activated, the MME and the UE need to establish an EPS
security context. Usually, the EPS security context is created as the result
of an authentication procedure between MME and UE\ The EPS security context
parameters shall be stored on the USIM if the corresponding file is present.\
If the corresponding file is not present on the USIM, these EMM parameters
except allowed CSG list are stored in a non-volatile memory in the ME together
with the IMSI from the USIM.
These EMM parameters can only be used if the IMSI from the USIM matches the
IMSI stored in the non-volatile memory; else the UE shall delete the EMM
parameters.
\- TS 24.301 [6], subclause 4.4.2.1 and Annex C;
\- TS 31.102 [4], subclause 4.2.92;
\- TS 33.401 [27], subclause 6.1.1.
### 11.2.3 Test purpose
To verify that the ME generates the EPS security context identified by a key
set identifier for E-UTRAN (eKSI) and stores all inside a non-volatile memory
in the ME as EMM information is not available on the USIM. During the test the
IMSI on the USIM remains unchanged.
### 11.2.4 Method of test
#### 11.2.4.1 Initial conditions
For this test an E-USS or a NB-SS is required.
The E-USS transmits on one cell, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on one cell, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default UICC (without the service \"EMM Information\") is installed into
the Terminal and the UE is powered on.
#### 11.2.4.2 Procedure
a) The UE is switched on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE the E-USS/NB-SS sends _RRCConnectionSetup/ RRCConnectionSetup-NB_ to the
UE, followed by _RRCConnectionSetupComplete/ RRCConnectionSetupComplete-NB_
sent by the UE to the E-USS/NB-SS.
c) During registration and after receipt of an _AttachRequest_ (included in
the _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_) from the UE,
the E-USS/NB-SS initiates the EPS authentication and AKA procedure. The
E-USS/NB-SS uses
eKSI: 00
d) Afterwards the E-USS/NB-SS transmits a (NAS) _SecurityModeCommand_ message
to activate NAS security, and after receiving (NAS) _SecurityModeComplete_
from the UE, the E-USS/NB-SS sends _AttachAccept_ to the UE with:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
e) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/ RRCConnectionRelease-NB_ , to the UE
f) The UE is switched off and performs the _Detach_ procedure.
g) The default UICC remains in use.
h) The Terminal is switched on.
i) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the UE,
followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by
the UE to the E-USS/NB-SS.
j) During registration and after receipt of an _AttachRequest_ (included in
the _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_) from the UE,
E-USS/NB-SS transmits a (NAS) _SecurityModeCommand_ message to activate NAS
security using the last known K~ASME~, and after receiving (NAS)
_SecurityModeComplete_ from the UE, the E-USS/NB-SS sends _AttachAccept_ to
the UE with:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345619\"
k) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE
### 11.2.5 Acceptance criteria
1) After step a) the UE shall read EF~UST~
2) During step c) the UE shall send the _AuthenticationResponse_ message.
3) During step d) the UE shall send the (NAS) _SecurityModeComplete_ message
4) During step j) UE shall indicate in the _AttachRequest_ eKSI as 00
5) During step j) the UE shall send the (NAS) _SecurityModeComplete_ message
6) During step k) the UE shall send the _AttachComplete_ message
## 11.3 NAS security context parameter handling when service \"EMM
Information\" is not available, IMSI changed
### 11.3.1 Definition and applicability
The security parameters for authentication, integrity protection and ciphering
are tied together in an EPS security context and identified by a key set
identifier for E-UTRAN (eKSI). The relationship between the security
parameters is defined in 3GPP TS 33.401 [27].
The EPS security context parameters shall be stored on the USIM if the
corresponding file is present. If the corresponding file is not present on the
USIM, these EMM parameters except allowed CSG list are stored in a non-
volatile memory in the ME together with the IMSI from the USIM.
The EF~EPSNSC~ contains the EPS NAS Security context as defined in TS 33.401
[27]. This file shall contain only one record.
### 11.3.2 Conformance requirement
EPS AKA is the authentication and key agreement procedure that shall be used
over E-UTRAN.
Before security can be activated, the MME and the UE need to establish an EPS
security context. Usually, the EPS security context is created as the result
of an authentication procedure between MME and UE\ The EPS security context
parameters shall be stored on the USIM if the corresponding file is present.\
If the corresponding file is not present on the USIM, these EMM parameters
except allowed CSG list are stored in a non-volatile memory in the ME together
with the IMSI from the USIM.
These EMM parameters can only be used if the IMSI from the USIM matches the
IMSI stored in the non-volatile memory; else the UE shall delete the EMM
parameters.
\- TS 24.301 [6], subclause 4.4.2.1 and Annex C;
\- TS 31.102 [4], subclause 4.2.92;
\- TS 33.401 [27], subclause 6.1.1.
### 11.3.3 Test purpose
1.) To verify that the ME generates the EPS security context identified by a
key set identifier for E-UTRAN (eKSI) and stores all inside a non-volatile
memory in the ME as EMM information is not available on the USIM.
2.) To verify that UE deletes existing EMM parameters from the ME\'s non-
volatile memory in case a different IMSI is activated.
### 11.3.4 Method of test
#### 11.3.4.1 Initial conditions
For this test an E-USS or NB-SS is required.
The E-USS transmits on one cell, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on one cell, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default UICC (without the service \"EMM Information\") is installed into
the Terminal and the UE is powered on.
#### 11.3.4.2 Procedure
a) The UE is switched on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the UE,
followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by
the UE to the E-USS/NB-SS.
c) During registration and after receipt of an _AttachRequest_ (included in
the _RRCConnectionSetupComplete_) from the UE, the E-USS/NB-SS initiates the
EPS authentication and AKA procedure. The E-USS/NB-SS uses
eKSI: 00
d) Afterwards the E-USS/NB-SS transmits a (NAS) _SecurityModeCommand_ message
to activate NAS security, and after receiving (NAS) _SecurityModeComplete_
from the UE, the E-USS/NB-SS sends _AttachAccept_ to the UE with:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
e) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease_ , to the UE
f) The UE is switched off and performs the _Detach_ procedure.
g) A new UICC with the following configuration is activated:
The default UICC with the following exception: The IMSI is set to
\"246081222233333\".
h) The Terminal is switched on.
i) After receipt of an _RRCConnectionRequest_ from the UE the E-USS/NB-SS
sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by the UE to
the E-USS/NB-SS.
j) During registration and after receipt of an ATTACH REQUEST (included in the
_RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_) from the UE,
E-USS/NB-SS transmits a (NAS) _SecurityModeCommand_ message to activate NAS
security using the last known K~ASME~ .
k) The UE responds with (NAS) _SecurityModeReject_.
l) The E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ to the
UE
### 11.3.5 Acceptance criteria
1) After step a) the UE shall read EF~UST~
2) During step c) the UE shall send the _AuthenticationResponse_ message.
3) During step d) the UE shall send the (NAS) _SecurityModeComplete_ message
4) During step j) UE shall indicate in the _AttachRequest_ that no key is
available
5) After step j) the UE shall send the (NAS) _SecurityModeReject_ message
## 11.4 EPS NAS Security Context Storage
### 11.4.1 Definition and applicability
The security parameters for authentication, integrity protection and ciphering
are tied together in an EPS security context and identified by a key set
identifier for E-UTRAN (eKSI). The relationship between the security
parameters is defined in 3GPP TS 33.401 [27].
The EPS security context parameters shall be stored on the USIM if the
corresponding file is present. If the corresponding file is not present on the
USIM, these EMM parameters except allowed CSG list are stored in a non-
volatile memory in the ME together with the IMSI from the USIM.
The EF~EPSNSC~ contains the EPS NAS Security context as defined in TS 33.401
[27]. This file shall contain only one record and shall be updated only when
the requirements defined in TS 33.401 [27] are met.
### 11.4.2 Conformance requirement
EPS AKA is the authentication and key agreement procedure that shall be used
over E-UTRAN.
Before security can be activated, the MME and the UE need to establish an EPS
security context. Usually, the EPS security context is created as the result
of an authentication procedure between MME and UE\ The EPS security context
parameters shall be stored on the USIM if the corresponding file is present,
and shall be updated only when the requirements defined in TS 33.401 [27] are
met.
\- TS 24.301 [6], subclause 4.4.2.1 and Annex C;
\- TS 31.102 [4], subclause 4.2.92 and 5.2.28;
\- TS 33.401 [27], subclause 6.1.1, 7.2.5.2, 7.2.6.1, and 7.2.6.3,
### 11.4.3 Test purpose
The update of EPS NAS security context shall be according to the rules and
procedures specified in TS 33.401 [27], subclause 6.1.1, 7.2.5.2, 7.2.6.1, and
7.2.6.3,
### 11.4.4 Method of test
#### 11.4.4.1 Initial conditions
For this test an E-USS or a NB-SS is required.
The E-USS transmits on one cell, with the following network parameters:
\- TAI (MCC/MNC/TAC): 246/081/0001.
\- Access control: unrestricted.
The NB-SS transmits on one cell, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used.
#### 11.4.4.2 Procedure
a) The UE is switched on.
b) After receipt of an _RRCConnectionRequest/RRCConnectionRequest-NB_ from the
UE the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_ to the UE,
followed by _RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_ sent by
the UE to the E-USS/NB-SS.
c) The E-USS/NB-SS receives an _AttachRequest_ (included in the
_RRCConnectionSetupComplete/RRCConnectionSetupComplete-NB_) from the UE.
> d) The E-USS/NB-SS initiates the EPS authentication and AKA procedure. The
> E-USS/NB-SS uses
eKSI: \'00\'
e) Afterwards the E-USS/NB-SS transmits a (NAS) _SecurityModeCommand_ message
to activate NAS security, and after receiving (NAS) _SecurityModeComplete_
from the UE, the E-USS/NB-SS sends _AttachAccept_ to the UE with:
TAI (MCC/MNC/TAC): 246/081/ 0001
GUTI: \"24608100010266345678\"
f) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to the UE
g) The E-USS/NB-SS sends _Paging/Paging-NB_ to the UE using the S-TMSI with CN
domain indicator set to \'\'PS\'.
h) After receipt of a _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete_ -_NB_ sent by the UE
to the E-USS/NB-SS.
i) The terminal sends _EMM Service Request_ followed by the activation of AS
security and the Dedicated EPS bearer.
j) After keeping the Dedicated EPS Bearer active for 5 seconds, the E-USS/NB-
SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE.
### 11.4.5 Acceptance criteria
1) After step a) the UE shall read EF~UST~ and EF~EPSNSC~.
2) After step a) and before step d) the UE shall either keep the content of
EF~EPSNSC~ as specified in the initial conditions or invalidate the content of
EF~EPSNSC~ as described in TS 31.102 [4], subclause 4.2.92.
3) During step d) the UE shall send the _AuthenticationResponse_ message.
4) During step e) the UE shall send the (NAS) _SecurityModeComplete_ message
5) After step f) the UE shall have entered idle mode.
6) After step i) the UE shall have a Dedicated EPS bearer established.
7) During steps d), e), f), g), h) i) and j) the UE shall not update
EF~EPSNSC~.
# 12 Non Access Stratum (NAS) Configuration parameter handling
## 12.1 EF~NASCONFIG~ -- NAS signaling priority handling
### 12.1.1 Definition and applicability
If the UE is configured for NAS signalling priority (see 3GPP TS 24.368 [36],
3GPP TS 31.102 [4]), the UE shall indicate this by including the Device
properties IE in the appropriate NAS message and setting the low priority
indicator to \"MS is configured to NAS signalling low priority\". This NAS
signalling low priority indication can be used by the network for NAS level
mobility management congestion control on a per core network node basis and
APN based congestion control.
The test case is covered in TS 34.123-1 [38] clauses 9.4.3.7, 9.4.5.5,
11.1.1.3, 11.1.1.4, 11.1.3.4, 11.2.2.3, 12.4.1.1e and 12.4.3.2a. Refer to CR
#0229 for details.
### 12.1.2 Void
### 12.1.3 Void
### 12.1.4 Void
### 12.1.5 Void
## 12.2 EF~NASCONFIG~ -- NMO I Network Mode of Operation I handling
### 12.2.1 Definition and applicability
The behaviour of the UE with respect to NMO I is determined by the combination
of PS domain specific system information IE and the setting of the parameter
\"NMO_I_Behaviour\" in the NAS configuration Management Object as specified in
3GPP TS 24.368 [36] or in USIM file NASCONFIG as specified in 3GPP TS 31.102
[4].
The test case is covered in TS 34.123-1 [38] clause 12.2.2.3a. Refer to CR
#0230 for details.
### 12.2.2 Void
### 12.2.3 Void
### 12.2.4 Void
### 12.2.5 Void
## 12.3 EF~NASCONFIG~ -- Attach with IMSI handling
### 12.3.1 Definition and applicability
The AttachWithIMSI leaf indicates whether attach with IMSI is performed when
moving to a non-equivalent PLMN as specified in 3GPP TS 24.008 [16] and 3GPP
TS 24.301 [26].
The test case is covered in TS 34.123-1 [38] clause 12.2.1.1a. Refer to CR
#0224 for details.
### 12.3.2 Void
### 12.3.3 Void
### 12.3.4 Void
### 12.3.5 Void
## 12.4 EF~NASCONFIG~ -- Verifying Minimum Periodic Search Timer
### 12.4.1 Definition and applicability
The MinimumPeriodicSearchTimer leaf gives a minimum value in minutes for the
timer T controlling the periodic search for higher prioritized PLMNs as
specified in 3GPP TS 23.122 [31].
If the MS is configured for Fast First Higher Priority PLMN search and the
MinimumPeriodicSearchTimer is configured as specified in 3GPP TS 24.368 [36]
or 3GPP TS 31.102 [4], the MS shall not use a value for T that is less than
the MinimumPeriodicSearchTimer.
The test case is covered in TS 34.123-1 [38] clauses 9.4.5.4 and 9.4.5.4.7.
Refer to CR #0228 for details.
### 12.4.2 Void
### 12.4.3 Void
### 12.4.4 Void
### 12.4.5 Void
## 12.5 EF~NASCONFIG~ -- Extended access barring handling
### 12.5.1 Definition and applicability
Extended Access Barring (EAB) is a mechanism to control Mobile Originating
access attempts from UEs that are configures for EAB in order to prevent
overload for the access network and/or the core network. In congestion
situations, the operator can restrict access from UEs configured for EAB while
permitting access from other UEs.
The ExtendedAccessBarring leaf indicates whether the extended access barring
is applicable for the UE as specified in 3GPP TS 24.008 [16] and 3GPP TS
24.301 [26].
The test case is covered in TS 34.123-1 [38] clauses 8.1.1.20, 9.4.11,
12.2.1.16 and 12.4.1.9. Refer to CR #0226 for details.
### 12.5.2 Void
### 12.5.3 Void
### 12.5.4 Void
### 12.5.5 Void
## 12.6 EF~NASCONFIG~ -- Verifying Timer T3245 Behaviour
### 12.6.1 Definition and applicability
For an MS that is configured to use timer T3245 (see 3GPP TS 24.368 [36] or
3GPP TS 31.102 [4]) and when the MS adds a PLMN identity to the \"forbidden
PLMN list\" or the \"forbidden PLMNs for GPRS service\" list or sets the
SIM/USIM as invalid for non-GPRS services or GPRS services or both, and timer
T3245 is not running, the MS shall start timer T3245 with a random value,
uniformly drawn from the range between 24h and 48h.
Upon expiry of the timer T3245, the MS shall erase the \"forbidden PLMN list\"
and the \"forbidden PLMNs for GPRS service\" list and set the SIM/USIM to
valid for non-GPRS services and GPRS services.
### 12.6.2 Conformance requirement
For NAS configuration parameter by USIM, the UE shall check and apply the
setting present in EF~NASCONFIG~ for \"Timer T3245 Behaviour\".
Reference:
> \- TS 31.102 [4], subclauses 4.2.94, 5.2.29
>
> \- TS 24.368 [36], subclause 5.7.
>
> \- TS 24.008 [16], subclause 4.1.1.6
### 12.6.3 Test purpose
1) To verify that the UE reads the NAS configuration stored on the > USIM.
2) To verify that the UE applies the USIM stored NAS configuration > correctly
to connect to the USS.
3) To verify that the UE erase the \"forbidden PLMN list\" and the >
\"forbidden PLMNs for GPRS service\" list upon expiry of the timer > T3245.
### 12.6.4 Method of test
#### 12.6.4.1 Initial conditions
a) The USS transmits on the BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 234/005/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 234/005/0001/05
>
> \- Access control: unrestricted.
b) The default Non Access Stratum Configuration UICC is installed into the
Terminal with the following exception:
> **EF~FPLMN~ (Forbidden PLMNs)**
>
> Logically: PLMN1: empty
>
> PLMN2: empty
>
> PLMN3: empty
>
> PLMN4: empty
>
> PLMN5: empty
>
> PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex FF FF FF FF FF FF FF FF FF
FF FF FF
Coding: B13 B14 B15 B16 B17 B18  
Hex FF FF FF FF FF FF
* * *
**EF~NASCONFIG~ (Non Access Stratum Configuration):**
> Logically:
>
> NAS signalling priority value: Reserved (NAS signalling low priority is not
> used)
>
> NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used
>
> Attach with IMSI value: attach with IMSI is performed when moving to a non-
> equivalent PLMN
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: extended access barring is not applied for
> the UE
>
> Timer T3245 Behaviour value: T3245 is used
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 80 01 00 81 00 00 82 01 00 83
01
Coding: B12 B13 B14 B15 B16 B17 B18  
Hex 00 84 01 00 85 01 01
* * *
#### 12.6.4.2 Procedure
a) The UE is powered on.
b) Depending on which domain the UE is going to be registered on, the UE
attempts to perform CS, PS or CS/PS registration to the USS.
c) after receipt of a _LOCATION UPDATING REJECT_ and/or _ATTACH REJECT_
message during registration with the cause \"PLMN not allowed\" the Terminal
shall update the EF ~FPLMN~ in the USIM. T3245 will start.
d) After the expiry of timer T3245, the terminal shall establish the RRC
connection again.
e) Depending on which domain the UE is going to be registered on, the UE
performs CS, PS or CS/PS registration to the USS.
f) The UE is powered down
### 12.6.5 Acceptance criteria
a) After power on in step a) the UE shall reads EF~NASCONFIG~
b) The UE shall update EF~FPLMN~ in step c) as following:
**EF~FPLMN~ (Forbidden PLMNs)**
> Logically: PLMN1: 234 005 (MCC MNC)
>
> PLMN2: empty
>
> PLMN3: empty
>
> PLMN4: empty
>
> PLMN5: empty
>
> PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex 32 54 00 FF FF FF FF FF FF
FF FF FF
Coding: B13 B14 B15 B16 B17 B18  
Hex FF FF FF FF FF FF
* * *
c) The UE shall update EF~FPLMN~ in step e) as following:
> **EF~FPLMN~ (Forbidden PLMNs)**
>
> Logically: PLMN1: empty
>
> PLMN2: empty
>
> PLMN3: empty
>
> PLMN4: empty
>
> PLMN5: empty
>
> PLMN6: empty
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 Hex FF FF FF FF FF FF FF FF FF
FF FF FF
Coding: B13 B14 B15 B16 B17 B18  
Hex FF FF FF FF FF FF
* * *
12.7 EF~NASCONFIG~ -- Override NAS signalling low priority
12.7.1 Definition and applicability
The \"Override NAS signalling low priority\" indicates whether the UE can
override the NAS Signalling Priority configuration in the NAS message as
specified in 3GPP TS 24.008 [16] and 3GPP TS 24.301 [26].
12.7.2 Conformance requirement
For NAS configuration parameter by USIM, the UE shall check and apply
correctly the setting present in EF~NASCONFIG~ for \"Override NAS signalling
low priority\" to connect to the network.
References:
> \- TS 31.102 [4], subclauses 4.2.94, 5.2.29
>
> \- TS 24.368 [36], subclause 5.9.
>
> \- TS 24.008 [16], subclause 1.8, 6.1.3.1.3.2, 6.1.3.12, 4.7.13.5
>
> \- TS 23.060 [25], subclause 5.3.13.6.
12.7.3 Test purpose
1) To verify that the UE reads the NAS configuration stored on the USIM.
2) To verify that the UE applies the USIM stored NAS configuration correctly
to connect to the USS.
12.7.4 Method of test
12.7.4.1 Initial conditions
a) The USS transmits on the BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 246/081/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 246/081/0001/05.
>
> \- Access control: unrestricted.
>
> b) The default Non Access Stratum Configuration UICC is installed into the
> Terminal with the following exception:
**EF~NASCONFIG~ (Non Access Stratum Configuration)**
> Logically:
>
> NAS signalling priority value: NAS signalling low priority
>
> NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used
>
> Attach with IMSI value: normal behaviour is applied
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: extended access barring is applied for the UE
>
> Timer T3245 Behaviour value: T3245 not used
>
> Override NAS signalling low priority: Indicates that the UE can override the
> NAS signalling low priority indicator
>
> Override Extended access barring: Indicates that the UE can override
> extended access barring
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 80 01 01 81 01 00 82 01 00 83
01 Coding: B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 Hex 00 84 01 01 85 01
00 86 01 01 87 Coding: B23 B24  
Hex 01 01
* * *
12.7.4.2 Procedure
a) The UE is powered on where the UICC is configured as defined in b) in the
initial conditions.
> b) The user requests activation of a PDP context. After receipt of _ACTIVATE
> PDP CONTEXT REQUEST_ from the UE, the USS sends _ACTIVATE PDP CONTEXT
> REJECT_ to the UE indicating:
  * SM cause value # 26: insufficient resources;
  * Back-off timer T3396: 1 minute
> c) Before timer T3396 expires, the users request activation of a PDP
> context, the UE sends _ACTIVATE PDP CONTEXT REQUEST_ , the USS sends
> _ACTIVATE PDP CONTEXT ACCEPT_ to the UE.
d) The UE is powered down.
12.7.5 Acceptance criteria
a) After power on in step a) the UE shall read EF~NASCONFIG~
> b) In step b) the UE shall set in _ACTIVATE PDP CONTEXT REQUEST_ message the
> low priority indicator to \"MS is configured for NAS signalling low
> priority\" in the device properties.
>
> c) In step c) the UE shall send _ACTIVATE PDP CONTEXT REQUEST_ message where
> the low priority indicator is set to \"MS is not configured for NAS
> signalling low priority\" in the device properties.
12.8 EF~NASCONFIG~ -- Override Extended access barring
12.8.1 Definition and applicability
The \"Override Extended Access Barring\" indicates whether the UE can override
\"Extended Access Barring\" configured to extended access barring.
The handling of extended access barring for the UE when the Override Extended
Access Barring is used is specified in 3GPP TS 24.008 [16] and 3GPP TS 24.301
[26].
12.8.2 Conformance requirement
For NAS configuration parameter by USIM, the UE shall check and apply
correctly the setting present in EF~NASCONFIG~ for \"Override Extended Access
Barring\" to connect to the network.
References:
> \- TS 31.102 [4], subclauses 4.2.94, 5.2.29
>
> \- TS 24.368 [36], subclause 5.10.
>
> \- TS 23.060 [25], subclause 5.3.13.6.
>
> \- TS 23.401 [37], subclause 4.3.17.2, 4.3.17.4
>
> \- TS 22.011 [6], subclause 4.3.4.1.
12.8.3 Test purpose
1) To verify that the UE reads the NAS configuration stored on the USIM.
2) To verify that the UE applies the USIM stored NAS configuration correctly
to connect to the USS.
> 3) To verify that the UE overrides \"Extended Access Barring\" when the
> Override Extended Access Barring is used
12.8.4 Method of test
12.8.4.1 Initial conditions
a) The USS transmits on the BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 246/081/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 246/081/0001/05.
>
> \- Access control: unrestricted.
>
> \- SYSTEM INFORMATION BLOCK TYPE 21:
>
> EAB Authorization Mask: 0010000000 (Mobile stations configured for EAB and a
> member of Access Class 7 are barred)
>
> EAB Subcategory (2 bit): 00 (The EAB Authorization mask is applicable to all
> mobile stations configured for EAB.)
>
> b) The default Non Access Stratum Configuration UICC is installed into the
> Terminal with the following exception:
**EF~NASCONFIG~ (Non Access Stratum Configuration)**
> Logically:
>
> NAS signalling priority value: Reserved (NAS signalling low priority is not
> used)
>
> NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used
>
> Attach with IMSI value: normal behaviour is applied
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: extended access barring is applied for the UE
>
> Timer T3245 Behaviour value: T3245 not used
>
> Override NAS signalling low priority: Indicates that the UE can override the
> NAS signalling low priority indicator
>
> Override Extended access barring: Indicates that the UE can override
> extended access barring
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 80 01 00 81 01 00 82 01 00 83
01 Coding: B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 Hex 00 84 01 01 85 01
00 86 01 01 87 Coding: B23 B24  
Hex 01 01
* * *
12.8.4.2 Procedure
> a) The UE shall be powered on where the UICC is configured as defined in b)
> in the initial conditions and the USS transmits of the BCCH as defined
> inside the initial conditions.
>
> b) User request activate a PDP context. The UE sends _ACTIVATE PDP CONTEXT
> REQUEST_ , the USS sends _ACTIVATE PDP CONTEXT ACCEPT_ to the UE.
c) The UE is powered down
12.8.5 Acceptance criteria
a) After power on in step a) the UE shall reads EF~NASCONFIG~
b) In step b) the UE shall send _ACTIVATE PDP CONTEXT REQUEST_ message to the
USS.
12.9 EF~NASCONFIG~ -- Fast First Higher Priority PLMN Search
12.9.1 Definition and applicability
The \"Fast First Higher Priority PLMN Search\" indicates whether the UE
performs the first search for a higher priority PLMN after at least 2 minutes
and at most T minutes upon entering a VPLMN as specified in 3GPP TS 23.122
[31].
12.9.2 Conformance requirement
For NAS configuration parameter by USIM, the UE shall check and apply
correctly the setting present in EF~NASCONFIG~ for \"Fast First Higher
Priority PLMN Search\" to connect to the network.
References:
> \- TS 31.102 [4], subclauses 4.2.94, 5.2.29
>
> \- TS 24.368 [36], subclause 5.10a.
>
> \- TS 23.122 [31], subclause 4.4.3.3.1
12.9.3 Test purpose
1) To verify that the UE reads the NAS configuration stored on the USIM.
2) To verify that the UE applies the USIM stored NAS configuration correctly
to connect to the USS.
> 3) To verify that the UE performs first search for higher priority PLMN
> according to \"Fast First Higher Priority PLMN Search\" configuration when
> this parameter is present and used.
12.9.4 Method of test
12.9.4.1 Initial conditions
a) The USS transmits on BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 244/009/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 244/009/0001/05
>
> \- Access control: unrestricted.
b) After the registration of UE the USS transmits on a second BCCH, with the
following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 244/081/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 244/081/0001/05
>
> \- Access control: unrestricted.
>
> c) The default Non Access Stratum Configuration UICC is installed into the
> Terminal with the following exception:
**EF~HPPLMN~ (Higher Priority PLMN Search period)**
> Logically: set to 6 minutes
* * *
Coding: B1 Hex 01
* * *
**EF~NASCONFIG~ (Non Access Stratum Configuration)**
> Logically:
>
> NAS signalling priority value: Reserved (NAS signalling low priority is not
> used)
>
> NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used
>
> Attach with IMSI value: normal behaviour is applied
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: extended access barring is not applied for
> the UE
>
> Timer T3245 Behaviour value: T3245 not used
>
> Override NAS signalling low priority: Indicates that the UE cannot override
> the NAS signalling low priority indicator
>
> Override Extended access barring: Indicates that the UE cannot override
> extended access barring
>
> Fast First Higher Priority PLMN Search: Indicates that the Fast First Higher
> Priority PLMN Search is enabled
>
> EUTRA Disabling Allowed For EMM
>
> Cause15: disabled
>
> SM_RetryWaitTime: E0
>
> SM_RetryAtRATChange: UE is allowed to retry the corresponding ESM procedure
> in S1 mode if an SM procedure was rejected in A/Gb or Iu mode, and to retry
> the corresponding SM procedure in A/Gb or Iu mode if an ESM procedure was
> rejected in S1 mode.
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 80 01 00 81 01 00 82 01 00 83
01 Coding: B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 Hex 00 84 01 00 85 01
00 86 01 00 87 Coding: B23 B24 B25 B26 B27 B28 B29 B30 B31 B32 B33 Hex 01 00
88 01 01 89 01 00 8A 01 E0 Coding: B34 B35 B36  
Hex 8B 01 00
* * *
12.9.4.2 Procedure
> a) The UE shall be powered on where the UICC is configured as defined in b)
> in the initial conditions and the USS starts to transmit on the first BCCH
> with the MMC/MNC 246/009.
>
> b) Depending on which domain the UE is going to be registered on, the UE
> performs CS, PS or CS/PS registration to the USS.
c) The USS starts to send on the second BCCH with the MCC/MNC 244/081.
> d) Depending on which domain the UE is going to be registered on, the UE
> performs CS, PS or CS/PS registration to the USS on the cell related to the
> BCCH transmitting MCC/MNC 244/081.
e) The UE is powered down.
12.9.5 Acceptance criteria
a) After power on in step a) the UE shall read EF~NASCONFIG~
b) The UE shall perform step d) after 2 - 6 minutes.
12.10 EF~NASCONFIG~ -- E-UTRA Disabling Allowed for EMM cause #15
12.10.1 Definition and applicability
The \"EUTRA Disabling Allowed For EMM Cause #15\" indicates whether the UE is
allowed to disable the E-UTRA capability when it receives the Extended EMM
cause IE with value \"E-UTRAN not allowed\" as described in 3GPP TS 24.301
[26].
12.10.2 Conformance requirement
For NAS configuration parameter by USIM, the UE shall check and apply the
setting present in EF~NASCONFIG~ for \"EUTRA Disabling Allowed For EMM Cause
#15\" to connect to the network.
References:
> \- TS 31.102 [4], subclauses 4.2.94, 5.2.29
>
> \- TS 24.368 [36], subclause 5.10b.
>
> \- TS 24.301 [26], subclause 4.5, 5.5.1.2.5
12.10.3 Test purpose
1) To verify that the UE reads the NAS configuration stored on the USIM.
2) To verify that the UE applies the USIM stored NAS configuration correctly
to connect to the USS
> 3) To verify that the UE shall disable the E-UTRA capability and search for
> a suitable cell in GERAN or UTRAN radio access technology upon ATTACH REJECT
> reception that include both EMM cause #15 \"no suitable cells in tracking
> area\" and an Extended EMM cause IE with value \"E-UTRAN not allowed\" if \"
> EUTRA Disabling Allowed For EMM Cause #15\" is present and enabled in the
> UE.
12.10.4 Method of test
12.10.4.1 Initial conditions
a) For this test both a UTRAN USS and an E-UTRAN E-USS is needed.
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 244/003/0001.
>
> \- Access control: unrestricted.
At step c) the E-USS transmits on the BCCH, with the following network
parameters:
> \- TAI (MCC/MNC/TAC): 244/003/0002.
>
> \- Access control: unrestricted.
>
> At step c) the USS transmits on BCCH, with the following network parameters:
>
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 244/003/0003.
>
> \- Access control: unrestricted.
The UICC is installed into the Terminal and the UE is set to automatic PLMN
selection mode.
> b) The default Non Access Stratum Configuration of E-UTRAN/EPC UICC is
> installed into the Terminal with the following exception:
**EF~NASCONFIG~ (Non Access Stratum Configuration)**
> Logically:
>
> NAS signalling priority value: Reserved (NAS signalling low priority is not
> used)
>
> NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used
>
> Attach with IMSI value: normal behaviour is applied
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: extended access barring is not applied for
> the UE
>
> Timer T3245 Behaviour value: T3245 not used
>
> Override NAS signalling low priority: Indicates that the UE cannot override
> the NAS signalling low priority indicator
>
> Override Extended access barring: Indicates that the UE cannot override
> extended access barring
>
> Fast First Higher Priority PLMN Search: Indicates that the Fast First Higher
> Priority PLMN Search is enabled
>
> EUTRA Disabling Allowed For EMM
>
> Cause15: enabled
>
> SM_RetryWaitTime: E0
>
> SM_RetryAtRATChange: UE is allowed to retry the corresponding ESM procedure
> in S1 mode if an SM procedure was rejected in A/Gb or Iu mode, and to retry
> the corresponding SM procedure in A/Gb or Iu mode if an ESM procedure was
> rejected in S1 mode.
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 80 01 00 81 01 00 82 01 00 83
01 Coding: B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 Hex 00 84 01 00 85 01
00 86 01 00 87 Coding: B23 B24 B25 B26 B27 B28 B29 B30 B31 B32 B33 Hex 01 00
88 01 00 89 01 01 8A 01 E0 Coding: B34 B35 B36  
Hex 8B 01 00
* * *
12.10.4.2 Procedure
> a) The UE shall be powered on where the UICC is configured as defined in b)
> in the initial conditions and the E-USS starts to send only on the BCCH with
> the MCC/MNC 244/003.
b) After receipt of _AttachRequest_ from the UE, the E-USS sends _Attach
Reject_ message with:
  * EMM cause set to #15: \"No suitable cells in tracking area\",
  * Extended EMM cause IE: \"E-UTRAN not allowed\"
> c) The E-USS starts to send on the BCCH with MCC/MNC 244/003 and the USS
> starts to send on the BCCH with MCC/MNC 244/003.
>
> d) After receipt of an _RRCConnectionRequest_ from the UE, the USS sends
> _RRCConnectionSetup_ to the UE, followed by _RRCConnectionSetupComplete_
> sent by the UE to the USS.
e) The UE is powered down.
12.10.5 Acceptance criteria
a) After power on in step a) the UE shall read EF~NASCONFIG~
> b) In step d) the UE shall send a _RRCConnectionRequest_ on the UTRAN-cell
> related to the BCCH transmitting MCC/MNC 244/003 to the USS.
12.11 EF~NASCONFIG~ -- SM_RetryWaitTime
12.11.1 Definition and applicability
The \"SM_RetryWaitTime\" indicates a configured UE retry wait time value
applicable when in HPLMN or EHPLMN (see 3GPP TS 23.122 [31]) for controlling
the UE session management retry behaviour when prior session management
request was rejected by the network with cause value #8, #27, #32, #33 as
specified in 3GPP TS 24.008 [16] and 3GPP TS 24.301 [26].
SM_RetryWaitTime shall be coded in the same format as the value part of GPRS
Timer 3 IE as specified in Table 10.5.163a/3GPP TS 24.008 [16] converted into
a decimal value.
12.11.2 Conformance requirement
For NAS configuration parameter by USIM, the UE shall check and apply the
setting present in EF~NASCONFIG~ for \"SM_RetryWaitTime\" to connect to the
network.
Reference:
> \- TS 31.102 [4], subclauses 4.2.94, 5.2.29
>
> \- TS 24.368 [36], subclause 5.10c.
>
> \- TS 24.008 [16], subclauses 6.1.3.1.3.3, 10.5.7.4a.
12.11.3 Test purpose
1) To verify that the UE reads the NAS configuration stored on the USIM.
2) To verify that the UE applies the USIM stored NAS configuration correctly
to connect to the USS.
> 3) To verify that the UE behaves as described in TS 24.008 [16] subclause
> 6.1.3.1.3.3, using the default value of 12 minutes for the back-off timer
> when the SM Retry Timer value is not configured.
>
> 4) To verify that the UE behaves as described in TS 24.008 [16] subclause
> 6.1.3.1.3.3, using the configured SM Retry Timer value as back-off timer
> value.
12.11.4 Method of test
12.11.4.1 Initial conditions
a) The USS transmits on BCCH, with the following network parameters:
> \- Attach/detach: disabled.
>
> \- LAI (MCC/MNC/LAC): 246/081/0001.
>
> \- RAI (MCC/MNC/LAC/RAC): 246/081/0001/05.
>
> \- Access control: unrestricted.
>
> b) The default Non Access Stratum Configuration UICC is installed into the
> Terminal with the following exception:
**EF~NASCONFIG~ (Non Access Stratum Configuration)**
> Logically:
>
> NAS signalling priority value: Reserved (NAS signalling low priority is not
> used)
>
> NMO I Behaviour value: \"NMO I, Network Mode of Operation I\" indication is
> not used
>
> Attach with IMSI value: normal behaviour is applied
>
> Minimum Periodic Search Timer value: 00
>
> Extended access barring value: extended access barring is not applied for
> the UE
>
> Timer T3245 Behaviour value: T3245 not used
>
> Override NAS signalling low priority: Indicates that the UE cannot override
> the NAS signalling low priority indicator
>
> Override Extended access barring: Indicates that the UE cannot override
> extended access barring
>
> Fast First Higher Priority PLMN Search: Indicates that the Fast First Higher
> Priority PLMN Search is not enabled
>
> EUTRA Disabling Allowed For EMM
>
> Cause15: disabled
>
> SM_RetryWaitTime: 60 seconds
>
> SM_RetryAtRATChange: UE is allowed to retry the corresponding ESM procedure
> in S1 mode if an SM procedure was rejected in A/Gb or Iu mode, and to retry
> the corresponding SM procedure in A/Gb or Iu mode if an ESM procedure was
> rejected in S1 mode.
* * *
Coding: B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 Hex 80 01 00 81 01 00 82 01 00 83
01 Coding: B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 Hex 00 84 01 00 85 01
00 86 01 00 87 Coding: B23 B24 B25 B26 B27 B28 B29 B30 B31 B32 B33 Hex 01 00
88 01 00 89 01 00 8A 01 7E Coding: B34 B35 B36  
Hex 8B 01 00
* * *
12.11.4.2 Procedure
a) The UE is powered on where the UICC is configured as defined in b) in the
initial conditions.
> b) User request activate a PDP context. After receipt of _ACTIVATE PDP
> CONTEXT REQUEST_ from the UE, the USS sends _ACTIVATE PDP CONTEXT REJECT_ to
> the UE indicating:
  * SM cause value #8: operator determined barring;
> c) User request activate a PDP context and the UE sends _ACTIVATE PDP
> CONTEXT REQUEST_ , the USS sends _ACTIVATE PDP CONTEXT ACCEPT_ to the UE.
d) The UE is powered down.
12.11.5 Acceptance criteria
a) After power on in step a) the UE shall read EF~NASCONFIG~
> b) In step c) the UE shall send _ACTIVATE PDP CONTEXT REQUEST_ message after
> the SM_RetryWaitTime of 1 minute has expired.
12.12 EF~NASCONFIG~ -- SM_RetryAtRATChange
12.12.1 Definition and applicability
The \"SM_RetryAtRATChange\" indicates the UE\'s retry behaviour when in HPLMN
or EHPLMN (see 3GPP TS 23.122 [31]) after inter-system change between S1 mode
and A/Gb or Iu mode as specified in 3GPP TS 24.008 [16] and 3GPP TS 24.301
[26].
12.12.2 Conformance requirement
Editor\'s note: this clause is for future study.
12.12.3 Test purpose
Editor\'s note: this clause is for future study.
12.12.4 Method of test
Editor\'s note: this clause is for future study.
12.12.5 Acceptance criteria
Editor\'s note: this clause is for future study.
# 13 UICC interface during PSM
## 13.1 UICC interface in PSM handling for E-UTRAN -- No UICC deactivation in
PSM
### 13.1.1 Definition and applicability
PSM is intended for UEs that are expecting only infrequent mobile originating
and terminating services and that can accept a corresponding latency in the
mobile terminating communication. In order to reduce power consumption while
in PSM, and only in case the PIN of the USIM is disabled, the ME may
optionally deactivate the UICC after entering the PSM.
### 13.1.2 Conformance requirement
In order to reduce power consumption while the ME is in PSM, and only in case
the PIN of the USIM is disabled, the ME may optionally deactivate the UICC (as
specified in clause 6A.1 of 3GPP TS 31.101 [39]) after entering the PSM.
Reference:
> \- TS 31.102 [4], subclause 5.1.10;
>
> \- TS 24.301 [26], subclauses 5.3.5 and 5.3.11.
>
> \- TS 31.101 [39], clause 6A.1.
### 13.1.3 Test purpose
> 1) To verify that UE does not deactivate the UICC in case the PIN for the
> USIM is enabled and verified.
### 13.1.4 Method of test
#### 13.1.4.1 Initial conditions
The UE is configured to use Power Saving Mode.
The UE is configured to use the timer T3324 set to T3324_V.
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
EF~UMPC~ (UICC Maximum Power Consumption)
> Logically:
>
> UICC maximum power consumption: 60 mA
>
> Operator defined time out (T_OP): 5 seconds
>
> Additional information: UICC does not require increased idle current
>
> UICC does not support the UICC suspension procedure
>
> Byte 4 and byte 5: RFU
* * *
Byte: B1 B2 B3 B4 B5 Coding: 3C 05 00 00 00
* * *
The PIN of the USIM is enabled and verified
#### 13.1.4.2 Procedure
> a) The UE is switched on.
>
> b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message
> to the E-USS/NB-SS including T3324 set to T3324_V.
>
> c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message contains T3324 set to
> T3324_V and T3412 set to T3412_V.. It shall not contain the eDRX parameters
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to
> the UE.
>
> e) After the T3412 timer expires the UE sends _TRACKING AREA UPDATE REQUEST_
>
> f) The E-USS/NB-SS sends _TRACKING AREA UPDATE ACCEPT_.
>
> g) The UE is switched off.
### 13.1.5 Acceptance criteria
1) After step c) the UE shall not deactivate the UICC or send SUSPEND UICC
command.
## 13.2 UICC interface in PSM handling for E-UTRAN -- PSM not accepted by
E-USS/NB-SS
### 13.2.1 Definition and applicability
PSM is intended for UEs that are expecting only infrequent mobile originating
and terminating services and that can accept a corresponding latency in the
mobile terminating communication. In order to reduce power consumption while
in PSM, and only in case the PIN of the USIM is disabled, the ME may
optionally deactivate the UICC after entering the PSM.
### 13.2.2 Conformance requirement
In order to reduce power consumption while the ME is in PSM, and only in case
the PIN of the USIM is disabled, the ME may optionally deactivate the UICC (as
specified in clause 6A.1 of 3GPP TS 31.101 [39]) after entering the PSM.
Reference:
> \- TS 31.102 [4], subclause 5.1.10;
>
> \- TS 24.301 [26], subclauses 5.3.5 and 5.3.11.
>
> \- TS 31.101 [39] in clause 6A.1.
### 13.2.3 Test purpose
> 1) To verify that UE does not deactivate the UICC in case the network is not
> supporting/accepting PSM.
### 13.2.4 Method of test
#### 13.2.4.1 Initial conditions
The UE is configured to use Power Saving Mode.
The UE is configured to use the timer T3324 set to T3324_V.
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is installed into the Terminal.
The PIN of the USIM is disabled.
#### 13.2.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message to
the E-USS/NB-SS including T3324 set to T3324_V.
c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message contains a T3324 set to
\"deactivated\". It shall not contain the eDRX parameters.
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to the UE
e) After the time period T3324_V has passed, the E-USS/NB-SS transmits
_Paging/Paging-NB_ to the UE using the S-TMSI.
f) After receipt of _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete_ -_NB_ sent by the UE
to the E-USS/NB-SS.
g) The terminal sends _Service Request_ , the E-USS/NB-SS sends _SERVICE
ACCEPT_ followed by _RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE.
h) The UE is switched off.
### 13.2.5 Acceptance criteria
1) After step c) the UE shall not deactivate the UICC.
## 13.3 UICC interface in PSM handling for E-UTRAN -- UICC deactivation in PSM
### 13.3.1 Definition and applicability
PSM is intended for UEs that are expecting only infrequent mobile originating
and terminating services and that can accept a corresponding latency in the
mobile terminating communication. In order to reduce power consumption while
in PSM, and only in case the PIN of the USIM is disabled, the ME may
optionally deactivate the UICC after entering the PSM.
### 13.3.2 Conformance requirement
In order to reduce power consumption while the ME is in PSM, and only in case
the PIN of the USIM is disabled, the ME may optionally deactivate the UICC (as
specified in clause 6A.1 of 3GPP TS 31.101 [39]) after entering the PSM.
In this case, the ME shall perform these steps before it can leave the PSM:
> \- re-activate the UICC (as specified in clause 6A.1 of 3GPP TS 31.101
> [39]),
>
> \- re-initialize the USIM (as specified in clause 5.1.1 [4]), with the
> exception of re-reading EFs that are not required for the verification of
> the USIM,
>
> \- take appropriate steps to verify that the same USIM is used.
Verification shall include at least the check of the content of the following
EFs: EF~ICCID~, EF~IMSI~, EF~LOCI~, EF~PSLOCI~ and EF~EPSLOCI~.
Reference:
> \- TS 31.102 [4], subclause 5.1.10;
>
> \- TS 24.301 [26], subclauses 5.3.5 and 5.3.11.
>
> \- TS 31.101 [39] in clause 6A.1.
### 13.3.3 Test purpose
> 1) To verify that when the UE enters PSM it deactivates the UICC in case the
> PIN for the USIM is disabled.
>
> 2) To verify that UE when it leaves the PSM performs the following steps:
>
> \- re-activates the UICC;
>
> \- re-initializes the USIM;
>
> \- verifies the following EFs: EF~ICCID~, EF~IMSI~, EF~LOCI~ and
> EF~EPSLOCI~.
### 13.3.4 Method of test
#### 13.3.4.1 Initial conditions
The UE is configured to use Power Saving Mode.
The UE is configured to use the timer T3324 set to T3324_V.
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is installed into the Terminal.
The PIN of the USIM is disabled.
#### 13.3.4.2 Procedure
> a) The UE is switched on.
>
> b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message
> to the E-USS/NB-SS including T3324 set to T3324_V.
>
> c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message contains T3324 set to
> T3324_V and T3412 set to T3412_V. It shall not contain the eDRX parameters.
>
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to
> the UE.
>
> e) After the T3412 timer expires the UE sends _TRACKING AREA UPDATE
> REQUEST_.
>
> f) The E-USS/NB-SS sends _TRACKING AREA UPDATE ACCEPT_.
>
> g) The UE is switched off.
### 13.3.5 Acceptance criteria
1) After step d) and the expiration of T3324 timer, the UE deactivates the
UICC.
2) After step e) the UE leaves the PSM and re-activates the UICC, re-
initializes the USIM and verifies the following EFs: EF~ICCID~, EF~IMSI~,
EF~LOCI~ and EF~EPSLOCI.~
## 13.4 UICC interface in PSM for E-UTRAN -- SUSPEND UICC
### 13.4.1 Definition and applicability
PSM is intended for UEs that are expecting only infrequent mobile originating
and terminating services and that can accept a corresponding latency in the
mobile terminating communication. If the UICC supports the UICC suspension
mechanism (SUSPEND UICC command), the ME may suspend the UICC after entering
the PSM. In this case, the ME shall successfully resume the UICC before it can
leave the PSM.
### 13.4.2 Conformance requirement
If the UICC supports the UICC suspension mechanism (SUSPEND UICC command), the
ME may suspend the UICC after entering the PSM. In this case, the ME shall
successfully resume the UICC before it can leave the PSM.
Reference:
> \- TS 31.102 [4], subclause 5.1.10;
>
> \- TS 24.301 [26], subclauses 5.3.5, 5.3.11 and 5.5.1.2.2.
>
> \- TS 31.101 [39] in clause 11.1.22.
### 13.4.3 Test purpose
> 1) To verify that UE does not send SUSPEND UICC command to the UICC in case
> the UICC does not indicates the support of SUSPEND UICC command in EF~UMPC~
>
> 2) To verify that UE sends SUSPEND UICC command to the UICC in case the UICC
> indicates the support of SUSPEND UICC command in EF~UMPC~ after entering the
> PSM
>
> 3) To verify that UE resumes the UICC before it can leave the PSM.
### 13.4.4 Method of test
#### 13.4.4.1 Initial conditions
The UE is configured to use Power Saving Mode.
The UE is configured to use the timer T3324 set to T3324_V.
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
EF~UMPC~ (UICC Maximum Power Consumption)
> Logically:
>
> UICC maximum power consumption: 60 mA
>
> Operator defined time out (T_OP): 5 seconds
>
> Additional information: UICC does not require increased idle current
>
> UICC supports the UICC suspension procedure
>
> Byte 4 and byte 5: RFU
* * *
Byte: B1 B2 B3 B4 B5 Coding: 3C 05 02 00 00
* * *
The PIN of the USIM is enabled and verified.
#### 13.4.4.2 Procedure
> a) The UE is switched on.
>
> b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message
> to the E-USS/NB-SS including T3324 set to T3324_V.
>
> c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message contains T3324 set to
> T3324_V and T3412 set to T3412_V. It shall not contain the eDRX parameters.
>
> d) The UE sends SUSPEND UICC command to the UICC indicating \"Minimum
> duration of the suspension proposed by the terminal\" and the \"Maximum
> duration of the suspension proposed by the terminal\". e) The UICC returns
> Maximum duration of the \"suspension negotiated by the UICC\" = \"Minimum
> duration of the suspension proposed by the terminal\", Resume token and SW
> 9000.
>
> f) After the T3412 timer expires the UE sends _TRACKING AREA UPDATE REQUEST_
>
> g) The E-USS/NB-SS sends _TRACKING AREA UPDATE ACCEPT_.
>
> h) The UE is switched off.
### 13.4.5 Acceptance criteria
1) After step d) the UE deactivates the UICC as specified in 3GPP TS 31.101
[39].
2) After step f) the UE leaves the PSM and resumes the UICC.
# 14 UICC interface during eDRX
## 14.1 UICC interface during eDRX for E-UTRAN -- eDRX is not supported by the
UICC
### 14.1.1 Definition and applicability
In order to reduce power consumption when the UE uses extended idle mode DRX
cycle, the UE may optionally deactivate the UICC during the extended idle mode
DRX cycle.
### 14.1.2 Conformance requirement
In case the UICC does not support the UICC suspension mechanism, the PIN of
the USIM is disabled and deactivation of UICC is authorized in EF~AD~, the UE
may optionally deactivate the UICC (as specified in clause 6A.1 of 3GPP TS
31.101 [39]) during the extended idle mode DRX cycle.
Reference:
> \- TS 31.102 [4], subclause 5.1.11;
>
> \- TS 24.301 [26], subclauses 5.3.12.
>
> \- TS 23.401 [37], subclause 5.13a.
>
> \- TS 31.101 [39] in clause 6A.1.
### 14.1.3 Test purpose
> 1) To verify that UE does not deactivate the UICC in case the ME is not
> authorized to modify the polling interval and/or disable the UICC interface
> during extended DRX cycle in EF~AD~ in USIM.
### 14.1.4 Method of test
#### 14.1.4.1 Initial conditions
The UE is configured to request the use of eDRX (in the ATTACH REQUEST and
TRACKING AREA UPDATE messages).
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
EF~UMPC~ (UICC Maximum Power Consumption)
> Logically:
>
> UICC maximum power consumption: 60 mA
>
> Operator defined time out (T_OP): 5 seconds
>
> Additional information: UICC does not require increased idle current
>
> UICC does not support the UICC suspension procedure
>
> Byte 4 and byte 5: RFU
* * *
Byte: B1 B2 B3 B4 B5 Coding: 3C 05 00 00 00
* * *
The PIN of the USIM is enabled and verified.
#### 14.1.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message to
the E-USS/NB-SS including eDRX parameters.
c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message containing eDRX set to
eDRX_V and PTW set to PTW_V. If ATTACH REQUEST in step b) above also contains
T3324, the ATTACH ACCEPT message shall contain T3324 set to \"deactivated\".
If ATTACH REQUEST in step b) does not contain T3324, the ATTACH ACCEPT message
shall not contain T3324.
> d) After receipt of the _AttachComplete_ during registration from the UE,
> the E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to
> the UE.
e) The E-USS/NB-SS transmits _Paging/Paging-NB_ to the UE using the S-TMSI in
a valid paging occasion within the PTW of the paging Hyperframes as per Idle
eDRX.
f) After receipt of _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete_ -_NB_ sent by the UE
to the E-USS/NB-SS.
g) The terminal sends _Service Request,_ the E-USS/NB-SS sends _SERVICE
ACCEPT_ followed by _RRCConnectionRelease/RRCConnectionRelease-_ NB to the UE.
h) The UE is switched off.
### 14.1.5 Acceptance criteria
1) After step d) the UE shall not deactivate the UICC or send SUSPEND UICC
command.
## 14.2 UICC interface during eDRX for E-UTRAN -- eDRX is not accepted by
E-USS/NB-SS
### 14.2.1 Definition and applicability
In order to reduce power consumption when the UE uses extended idle mode DRX
cycle, the UE may optionally deactivate the UICC during the extended idle mode
DRX cycle.
### 14.2.2 Conformance requirement
In case the UICC does not support the UICC suspension mechanism, the PIN of
the USIM is disabled and deactivation of UICC is authorized in EF~AD~, the UE
may optionally deactivate the UICC (as specified in clause 6A.1 of 3GPP TS
31.101 [39]) during the extended idle mode DRX cycle.
Reference:
> \- 3GPP TS 31.102 [4], subclause 5.1.11;
>
> \- TS 24.301 [26], subclauses 5.3.12.
>
> \- TS 23.401 [37], subclause 5.13a
>
> \- 3GPP TS 31.101 [39] in clause 6A.1.
### 14.2.3 Test purpose
> 1) To verify that UE does not deactivate the UICC in case extended DRX cycle
> is not supported by the network.
### 14.2.4 Method of test
#### 14.2.4.1 Initial conditions
The UE is configured to request the use of eDRX (in the ATTACH REQUEST and
TRACKING AREA UPDATE messages).
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is installed into the Terminal with following
exception:
EF~AD~ (Administrative Data)
> Logically: the ME is authorized to modify the polling interval and/or
> disable the UICC interface during extended DRX cycle.
* * *
Byte: B1 B2 B3 Coding: 00 00 08
* * *
The PIN of the USIM is disabled.
14.2.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message to
the E-USS/NB-SS including eDRX parameters:
c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message where the eDRX parameters
are not present. If ATTACH REQUEST in step b) above also contains T3324, the
ATTACH ACCEPT message shall contain T3324 set to \"deactivated\". If ATTACH
REQUEST in step b) does not contain T3324, the ATTACH ACCEPT message shall not
contain T3324.
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to the UE.
e) E-USS/NB-SS transmits _Paging/Paging-NB_ to the UE in a valid paging
occasion as per normal DRX
f) After receipt of _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete_ -_NB_ sent by the UE
to the E-USS/NB-SS.
> g) The terminal sends _Service Request,_ the E-USS/NB-SS sends _SERVICE
> ACCEPT_ followed by _RRCConnectionRelease/RRCConnectionRelease-_ NB to the
> UE. h) The UE is switched off.
### 14.2.5 Acceptance criteria
1) After step d) the UE shall not deactivate the UICC.
## 14.3 UICC interface during eDRX for E-UTRAN -- UICC deactivation during
eDRX
### 14.3.1 Definition and applicability
In order to reduce power consumption when the UE uses extended idle mode DRX
cycle, the UE may optionally deactivate the UICC during the extended idle mode
DRX cycle.
In this case, the UE shall re-activate the UICC, re-initialize the USIM and
take appropriate steps to verify that the same USIM is used, before the end of
the extended idle mode DRX cycle or before any other transmission to the
network
### 14.3.2 Conformance requirement
In case the UICC does not support the UICC suspension mechanism, the PIN of
the USIM is disabled and deactivation of UICC is authorized in EF~AD~, the UE
may optionally deactivate the UICC (as specified in clause 6A.1 of 3GPP TS
31.101 [39]) during the extended idle mode DRX cycle.
In this case, the UE shall re-activate the UICC (as specified in clause 6A.1
of 3GPP TS 31.101 [39]), re-initialize the USIM (as specified in clause 5.1.1
from [4]) and take appropriate steps to verify that the same USIM is used,
before the end of the extended idle mode DRX cycle or before any other
transmission to the network.
Verification shall include at least the check of the content of the following
EFs: EF~ICCID~, EF~IMSI~, EF~LOCI~, EF~PSLOCI~ and EF~EPSLOCI~.
Reference:
> \- 3GPP TS 31.102 [4], subclause 5.1.11;
>
> \- TS 24.301 [26], subclauses 5.3.12.
>
> \- TS 23.401 [37], subclause 5.13a
>
> \- 3GPP TS 31.101 [39] in clause 6A.1.
### 14.3.3 Test purpose
> 1) To verify that UE does not deactivate the UICC in case the ME is not
> authorized to modify the polling interval and/or disable the UICC interface
> during extended DRX cycle in EF~AD~ in USIM.
>
> 2) To verifies that UE when it leaves the PSM performs the following steps:
>
> \- re-activates the UICC.
>
> \- re-initializes the USIM
>
> \- verifies the following EFs: EF~ICCID~, EF~IMSI~, EF~LOCI~ and
> EF~EPSLOCI~.
### 14.3.4 Method of test
#### 14.3.4.1 Initial conditions
The UE is configured to request the use of eDRX (in the ATTACH REQUEST and
TRACKING AREA UPDATE messages).
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is installed into the Terminal with following
exception:
EFAD (Administrative Data)
> Logically: the ME is authorized to modify the polling interval and/or
> disable the UICC interface during extended DRX cycle.
* * *
Byte: B1 B2 B3 Coding: 00 00 08
* * *
The PIN of the USIM is disabled.
#### 14.3.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message to
the E-USS/NB-SS including eDRX parameters:
c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message containing eDRX set to
eDRX_V and PTW set to PTW_V. If ATTACH REQUEST in step b) above also contains
T3324, the ATTACH ACCEPT message shall contain T3324 set to \"deactivated\".
If ATTACH REQUEST in step b) does not contain T3324, the ATTACH ACCEPT message
shall not contain T3324.
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to the UE.
e) The E-USS/NB-SS transmits _Paging/Paging-NB_ to the UE using the S-TMSI in
a valid paging occasion within the PTW of the paging Hyperframes as per Idle
eDRX.
f) After receipt of a _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete_ -_NB_ sent by the UE
to the E-USS/NB-SS.
g) The terminal sends _Service Request_ , the E-USS/NB-SS sends _SERVICE
ACCEPT_ followed by _RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE.
h) The UE is switched off.
### 14.3.5 Acceptance criteria
1) After step d) the UE the UE deactivates the UICC.
2) After step e) the UE shall re-activate the UICC, re-initialize the USIM and
verify the following EFs: EF~ICCID~, EF~IMSI~, EF~LOCI~ and EF~EPSLOCI~
## 14.4 UICC interface during eDRX for E-UTRAN-- SUSPEND UICC
### 14.4.1 Definition and applicability
In order to reduce power consumption when the UE uses extended idle mode DRX
cycle, as defined in 3GPP TS 24.301 [26], in case the UICC supports the UICC
suspension mechanism (SUSPEND UICC command), the ME may suspend the UICC
during the extended idle mode DRX cycle. In this case, the ME shall resume the
UICC successfully before the end of the extended idle mode DRX cycle or before
any other transmission to the network.
### 14.4.2 Conformance requirement
In case the UICC supports the UICC suspension mechanism (SUSPEND UICC
command), the ME may suspend the UICC during the extended idle mode DRX cycle.
In this case, the ME shall resume the UICC successfully before the end of the
extended idle mode DRX cycle or before any other transmission to the network.
Reference:
> \- 3GPP TS 31.102 [4], subclause 5.1.11;
>
> \- TS 24.301 [26], subclauses 5.3.12.
>
> \- TS 23.401 [37], subclause 5.13a.
>
> \- 3GPP TS 31.101 [39] in subclauses 6A.1 and 11.1.22.
### 14.4.3 Test purpose
> 1) To verify that UE does not send SUSPEND UICC command to the UICC in case
> the UICC does not indicates the support of SUSPEND UICC command in EF~UMPC~
> during the extended idle mode DRX cycle
>
> 2) To verify that UE sends SUSPEND UICC command to the UICC in case the UICC
> indicates the support of SUSPEND UICC command in EF~UMPC~ during the
> extended idle mode DRX cycle.
>
> 3) To verify that UE resumes the UICC before the end of the extended idle
> mode DRX cycle or before any other transmission to the network.
### 14.4.4 Method of test
#### 14.4.4.1 Initial conditions
The UE is configured to request the use of eDRX (in the ATTACH REQUEST and
TRACKING AREA UPDATE messages).
The E-USS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The NB-SS transmits on the BCCH, with the following network parameters:
> \- TAI (MCC/MNC/TAC): 246/081/0001.
>
> \- Access control: unrestricted.
The default E-UTRAN UICC is used with the following exceptions:
EF~UMPC~ (UICC Maximum Power Consumption)
> Logically:
>
> UICC maximum power consumption: 60 mA
>
> Operator defined time out (T_OP): 5 seconds
>
> Additional information: UICC does not require increased idle current
>
> UICC supports the UICC suspension procedure
>
> Byte 4 and byte 5: RFU
* * *
Byte: B1 B2 B3 B4 B5 Coding: 3C 05 02 00 00
* * *
EF~AD~ (Administrative Data)
> Logically: the ME is authorized to modify the polling interval and/or
> disable the UICC interface during extended DRX cycle.
* * *
Byte: B1 B2 B3 Coding: 00 00 08
* * *
The PIN of the USIM is enabled and verified.
#### 14.4.4.2 Procedure
a) The UE is switched on.
b) The UE requests RRC Connection and transmits an _ATTACH REQUEST_ message to
the E-USS/NB-SS including eDRX parameters:
c) The E-USS/NB-SS sends the _ATTACH ACCEPT_ message containing eDRX set to
eDRX_V and PTW set to PTW_V. If ATTACH REQUEST in step b) above also contains
T3324, the ATTACH ACCEPT message shall contain T3324 set to \"deactivated\".
If ATTACH REQUEST in step b) does not contain T3324, the ATTACH ACCEPT message
shall not contain T3324.
d) After receipt of the _AttachComplete_ during registration from the UE, the
E-USS/NB-SS sends _RRCConnectionRelease/RRCConnectionRelease-NB_ , to the UE.
e) The UE sends SUSPEND UICC command to the UICC indicating \"Minimum duration
of the suspension proposed by the terminal\" and the \"Maximum duration of the
suspension proposed by the terminal\".
f) The UICC returns Maximum duration of the \"suspension negotiated by the
UICC\" = \"Minimum duration of the suspension proposed by the terminal\",
Resume token and SW 9000.
g) The E-USS/NB-SS transmits _Paging/Paging-NB_ to the UE using the S-TMSI in
a valid paging occasion within the PTW of the paging Hyperframes as per Idle
eDRX.
h) After receipt of _RRCConnectionRequest/RRCConnectionRequest-NB_ message
from the UE, the E-USS/NB-SS sends _RRCConnectionSetup/RRCConnectionSetup-NB_
message to the UE, followed by
_RRCConnectionSetupComplete/RRCConnectionSetupComplete_ -_NB_ sent by the UE
to the E-USS/NB-SS.
i) The terminal sends _Service Request_ , the E-USS/NB-SS sends _SERVICE
ACCEPT_ followed by _RRCConnectionRelease/RRCConnectionRelease-NB_ to the UE.
j) The UE is switched off.
### 14.4.5 Acceptance criteria
1) After step f) the UE deactivates the UICC as specified in 3GPP TS 31.101
[39].
2) After step g) the UE resumes the UICC.
#