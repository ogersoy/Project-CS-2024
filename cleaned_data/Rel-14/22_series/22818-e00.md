# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
With the spread of applications on UEs (also known as \"smart phones\"),
coupled with the rapidly growing number of UEs designed for usage with little
or no human involvement (machine type communications), the potential for
issues to occur in the overall \"system\" involving these applications and the
third party entities they interact with increases. When these third party
entities experience difficulties, they may be able to manage their problems
without undue impact on operator networks, but there will be times when they
are not able to do so.
When a third party server becomes congested or fails, the communication by the
UE applications that make use of that server need to be controlled so that
excessive use of 3GPP network resources is avoided while not affecting other
applications and their associated servers that are functioning normally.
The 3GPP network needs to be able to detect or receive an indication from a
third party server of its congestion status or failure status and control UE
applications (or their traffic in the 3GPP network) that make use of a third
party server that has encountered difficulties. HTTP and other third party
(possibly proprietary) protocols can have status codes but these can be
insufficient as they cannot provide a suitable indication to the UE
application of the nature of the issue and therefore could result in frequent
retries even when these will fail, thus burdening the network with connection
attempts that will fail.
The present document identifies potential requirements that will enable the
3GPP network to detect or receive an indication from a third party server of
its congestion status or failure status and control the traffic of individual
UE applications (or their traffic in the 3GPP network) when the 3GPP network
becomes aware that a third party server has run into difficulties. This will
make it possible to
\- Reduce or avoid unproductive traffic in 3GPP network (i.e., traffic that
the 3rd party server is not able to receive) by blocking it either in the UE
or in the 3GPP network (primary objective)
\- Allow 3GPP network to help 3rd party servers to handle overload and recover
from failures (secondary objective)
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.011: \"Service accessibility\".
[3] 3GPP TR 22.805: \"Feasibility study on user plane congestion management\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[x] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
ACDC Application specific Congestion control for Data Communication
CATS Control of Applications when Third party Servers encounter difficulties
# 4 Use cases
## 4.1 Third Party Server Reports Congestion or Failure
### 4.1.1 Description
This use case is for a \"soft\" failure where the third party server is able
to continue to provide certain basic functions even though applications
residing on it have run into difficulties. The 3GPP network controls the
traffic of individual applications on UEs so that their traffic toward the
affected application(s) on the third party server is reduced or stopped.
Traffic to applications on the same third party server that are functioning
normally is not affected. Traffic to applications on other third party servers
is not affected.
### 4.1.2 Pre-conditions
The third party application providing the service on a third party server is
functioning normally and traffic loads are at normal levels.
### 4.1.3 Service Flows
The application on the third party server experiences problems resulting in
reduced traffic handling capacity, or the traffic volume increases to the
point that the application on the third party server becomes congested, or the
application on the third party server fails (is unable to accept traffic). The
third party server informs the 3GPP network that the application on the third
party server is congested or has failed.
The 3GPP network assesses whether the volume of traffic for the affected
application(s) on the third party server warrants taking action. If so, it
takes steps to reduce or stop traffic by barring of traffic from the relevant
UE-based applications to the application(s) supported on that server. The
traffic being controlled may be identified through it being addressed to the
application on the third party server experiencing difficulties.
Note: If the volume of traffic from the relevant third party application(s) on
UEs to the third party server encountering difficulties is not large enough to
impact the 3GPP network, this may not be necessary. However, it is difficult
to predict which application(s) will become popular (many users, wide-spread
usage), which may not be so popular but will be heavily used in a small area
(e.g., admission control at a concert or sports event), or which may not
normally place much burden on the network but may involve extensive signalling
in some situations (e.g., attach messages after reset). Therefore this
capability should be required for all third party applications and their
associated servers, but could be enabled only as determined by the operator
according to its own criteria. The management effort should not exceed the
impact of doing nothing for a low volume application.
The 3GPP network is informed of the status of the application on the third
party server, proceeding according to the result.
The application on the third party server becomes uncongested or recovers from
its failure.
The third party server informs the 3GPP network that the application on it has
returned to normal (uncongested) operation or has recovered from its failure.
The 3GPP network allows normal traffic flows to resume.
### 4.1.4 Post-conditions
Unproductive 3GPP network traffic was reduced or eliminated during the time
adverse server condition existed.
Traffic management actions by the 3GPP were helpful in assisting the
application server affected by adverse condition.
### 4.1.5 Potential Requirements
The 3GPP network shall be able to receive an indication from the third party
server when an application on it is experiencing congestion or failure, and
when normal operation resumes. The indication may be sent periodically, and
when the status of the application changes.
The 3GPP network shall be able to control traffic from UE-based applications
to the affected application(s) on the third party server(s) while not
affecting traffic to other applications on the third party server and other
third party servers.
The 3GPP network should be able to determine when an application on a third
party server is experiencing congestion or failure, and when normal operation
resumes.
Note: This requirement addresses the situation where a third party server does
not inform the 3GPP network that affected applications on it have recovered.
## 4.2 Third Party Server Fails
### 4.2.1 Description
This use case is for a \"hard\" failure where the third party server is unable
to provide even basic functions. When a third party server experiences a
\"hard\" failure, the 3GPP network detects that the third party server is not
responding to traffic sent to it. The 3GPP network controls individual
applications on UEs so that their traffic toward the affected third party
server is stopped.
### 4.2.2 Pre-conditions
The application on a third party server is functioning normally and traffic
loads are at normal levels.
### 4.2.3 Service Flows
The third party server experiences a hard failure such that it is unable to
respond to incoming traffic and is not able to indicate that it has a problem.
The 3GPP network detects that the third party server has failed by observing
that it is not responding to traffic sent to it.
The 3GPP network assesses whether the volume of traffic for the affected third
party server warrants taking action. If so, it takes steps to stop traffic
from the relevant UE-based applications to the third party server by barring
of traffic to the application(s) supported on that server. The traffic being
controlled may be identified through it being addressed toan application on
the third party server experiencing the failure, or to the third party server
itself.
Note: If the volume of traffic from the relevant third party application(s) on
UEs to the third party server encountering difficulties is not large enough to
impact the 3GPP network, this may not be necessary. However, it is difficult
to predict which application(s) will become popular (many users, wide-spread
usage), which may not be so popular but will be heavily used in a small area
(e.g., admission control at a concert or sports event), or which may not
normally place much burden on the network but may involve extensive signalling
in some situations (e.g., attach messages after reset). Therefore this
capability should be required for all third party applications and their
associated servers, but could be enabled only as determined by the operator
according to its own criteria. The management effort should not exceed the
impact of doing nothing for a low volume application.
The 3GPP network determines the status of the third party server.
The third party server recovers from its failure.
The third party server informs the 3GPP network, or the 3GPP network
determines that the third party server has recovered from its failure.
The 3GPP network allows normal traffic flows to the third party server to
resume.
### 4.2.4 Post-conditions
Unproductive 3GPP network traffic was reduced or eliminated during the time
the adverse server condition existed.
### 4.2.5 Potential Requirements
The 3GPP network shall be able to detect that an application on a third party
server, or the third party server as a whole, is not responding to traffic
sent to it.
The 3GPP network shall be able to control traffic from UE-based applications
to the affected application on the third party server, or to the third party
server itself while not affecting traffic to other third party servers.
The 3GPP network shall be able to receive an indication from the third party
server when normal operation resumes.
The 3GPP network shall be able to detect that an application on a third party
server, or the third party server as a whole, has resumed normal operation.
Note: This requirement addresses the situation where a third party server does
not inform the 3GPP network that it has recovered.
## 4.3 Combating a DDOS Attack from a Virus
### 4.3.1 Description
A Distributed Denial of Service (DDOS) attack virus is designed to generate
spurious access to a web application server. The DDOS attack is foiled using
CATS capability
### 4.3.2 Pre-conditions
System supports CATS.
A dormant virus, attached to an application in the UE, is designed to cause a
DDOS attack on a frequently used application server, which is triggered at a
certain time (\"time bomb\").
### 4.3.3 Service Flows
Virus attack conditions are met (e.g. real time reaches the \"time bomb\"
trigger time).The dormant virus in the affected UEs awakens and initiates the
DDOS attack on an application server.
Application server indicates to the network that it is getting overwhelmed
with requests, and indicates volume and level of congestion.
CATS is activated, as a result of which traffic volume to the server is
reduced or completely eliminated from the CATS capable network.
Meanwhile, the UEs continue to function without disruption to all except the
subject application.
Application service provider analyses the problem, pin-points it to the
specific application. Application service provider changes the IP addresses of
the servers receiving the attack and releases a new version of application.
### 4.3.4 Post-conditions
DDOS attack is foiled.
Normal application service is continued upon software download to eliminate
the virus.
### 4.3.5 Potential Requirements
The potential requirements derived from this use case are:
\- CATS shall be able to control traffic from an individual application on the
UE without affecting traffic from other applications on the UE.
\- CATS shall be able to identify the application or its associated traffic.
## 4.4 Using Phased CATS to Gracefully Restore Service
### 4.4.1 Description
This use case describes the use of CATS to gracefully handle pent up demand
when a third party server recovers from difficulties and begins to provide its
functions once again. The intent is to manage the load on the 3GPP network by
avoiding a lot of UEs simultaneously sending large amount of data as soon as
the third party server returns to a functioning state. Some UEs (e.g., MTC
devices) send data to the third party server at certain intervals. In case of
a third party server issue, the UEs may send the pent-up data (i.e., data that
would have been sent normally but had to be stored pending the server's return
to normal service) to compensate for the time it was down. This could result
in a lot of UEs (again, e.g., MTC devices) sending data simultaneously.
At the same time, this helps the recovering third party server because a
managed increase in demand is provided for its functions so that it is not
overwhelmed with pent up demand which could cause it to fail again.
To protect the 3GPP network from these sources of congestion, operator policy
should be the basis for applying CATS.
### 4.4.2 Pre-conditions
A third party server is functioning normally.
### 4.4.3 Service Flows
The third party server experiences difficulties and fails. It either informs
the 3GPP network that it is failing or has failed, or the 3GPP network
determines that the server is no longer able to handle incoming traffic and is
therefore marked as having failed.
The 3GPP network manages traffic generated by applications on UEs such that
traffic to the affected server is halted at or close to its source.
The third party server recovers. It informs the 3GPP network that it is ready
to accept traffic again.
The 3GPP network controls traffic to the server to avoid new difficulties.
Gradually, the control is relaxed until normal service levels are reached.
### 4.4.4 Post-conditions
Normal service levels are reached in a gradual fashion preventing the 3GPP
network and the third party server from being overloaded and causing problems
due to uncontrolled sending of pent-up demand.
### 4.4.5 Potential Requirements
The 3GPP network shall be able to detect that an application on a third party
server, or the third party server as a whole, is not responding to traffic
sent to it.
The 3GPP network shall be able to control traffic from UE-based applications
to the affected application on the third party server or to the third party
server as a whole while not affecting traffic to other applications on the
third party server or to other third party servers functioning normally, or
from other UE-based applications.
The 3GPP network should be able to receive an indication from the third party
server when normal operation resumes.
The 3GPP network shall be able to apply CATS in a phased manner to gradually
restore traffic according to operator policy.
## 4.5 Coexistence of ACDC and CATS
### 4.5.1 Description
This use case describes the coexistence of ACDC and CATS. ACDC is \"white
list\" based application specific access control while CATS is \"black list\"
based traffic specific control. In case one of the applications provisioned in
ACDC categories which are allowed access to the network needs to be controlled
by CATS for a third party server issue, a coexistence of CATS and ACDC needs
to be addressed.
### 4.5.2 Pre-conditions
Bob's UE is pre-configured with ACDC categories as follows;
Table 4.5.2-1
* * *
ACDC Category Allowed ACDC Applications ACDC Category 1 Application A,
Application B, Application C ACDC Category 2 Application D, Application E,
Application F ACDC Category 3 ... ACDC Category 4 ...
* * *
\"Application A\" and \"Application D\" are provided by a third party Y where
\"Application B\", \"Application C\", \"Application E\" and \"Application F\"
are provided by other third parties.
A disaster occurs in a university area where Bob lives in a student dormitory,
ACDC function is activated, and only traffic from applications in Category 1
is allowed.
The third party Y's server which relevant to \"Application A\" and
\"Application D\" experiences a hard failure such that is unable to respond to
incoming traffic.
### 4.5.3 Service Flows
The 3GPP network detects third party Y's failure and decides to stop traffic
from \"Application A\" to the third party Y server while not affecting traffic
from \"Application B\" and \"Application C\" to other third party servers.
Bob's UE can initiate service normally for \"Application B\" and \"Application
C\" while it cannot initiate service for other applications installed on its
UE including \"Application A\".
There is no need for CATS to control traffic from \"Application D\" because it
has already been blocked by ACDC.
\"Application E\" and \"Application F\" are out of control of CATS but have
already been blocked by ACDC.
The third party Y's server recovers. It informs the 3GPP network that it is
ready to accept traffic again.
The 3GPP network allows some traffic to begin flowing to the server.
Gradually, more traffic is permitted until normal service levels are reached.
### 4.5.4 Post-conditions
Unproductive 3GPP network traffic was reduced or eliminated during the time
the adverse server condition existed while ACDC is applied.
Bob's UE can initiate the service normally for all the applications
provisioned in ACDC Category 1.
### 4.5.5 Potential Requirements
The 3GPP network shall be able to detect that an application on a third party
server, or the third party server as a whole, is not responding to traffic
sent to it.
The 3GPP network shall be able to control traffic from UE-based applications
to the affected application on the third party server, or to the third party
server as a whole while not affecting traffic to other third party servers.
The 3GPP network shall be able to receive an indication from the third party
server when normal operation resumes.
The 3GPP network shall be able to detect that an application on a third party
server, or the third party server as a whole, has resumed normal operation.
Note: This requirement addresses the situation where a third party server does
not inform the 3GPP network that it has recovered.
The 3GPP network shall be able to apply ACDC and CATS independently and
simultaneously according to operator policy. CATS can be applied in addition
to ACDC to control traffic from applications, even if access is allowed by
ACDC.
## 4.6 Activation and Control of CATS Using 3GPP Network Subscription Profiles
### 4.6.1 Description
In this use case, a scenario is described where a MNO utilize its own
subscriber service profiles to control the traffic to a third party server or
servers in the event of failure or congestion at the external server or
servers.
### 4.6.2 Pre-conditions
Goldstein, Silverstone and Bronson are all clients of Stock Brokerage Firm X
and subscribers to its mobile app.
Stock brokerage firm, X has an agreement with MNO Y to share information
regarding the congestion status of its application servers and access priority
of MNO Y's subscribers.
MNO Y has a policy that in the event a failure or congestion is detected at a
3rd party server, CATS will be activated if the network traffic load exceeds a
certain threshold. If it is below the threshold; the network will not activate
CATS.
MNO Y has three levels of subscriber service profiles: Gold, Silver and
Bronze. Goldstein, Silverstone and Bronson are all subscribers of MNO Y.
Goldstein is a Gold subscriber; Silverstone is a Silver subscriber and Bronson
is a Bronze subscriber.
### 4.6.3 Service Flows
A breaking news regarding disruption to oil supply in the Middle East caused a
spike in traffic and congestion to Firm X application servers as clients of
Brokerage Firm X rushed to make stock trades.
The level of congestion to Brokerage Firm X's application servers are
communicated to MNO Y's network. MNO Y determines that existing traffic load
on the network exceeds the threshold for the network to activate CATS. Per its
agreement with brokerage firm X, MNO Y activates CATS to reduce the flow of
traffic by preventing the traffic of its silver and bronze subscribers to
access brokerage firm X's servers.
Goldstein (gold subscriber) and Silverstone (silver subscriber) attempts to
make trades through Brokerage Firm X's app on their UEs after CATS was
activated by MNO Y.
Bronson (bronze subscriber) initiated the app and was connected to the
application server before CATS was activated.
Due to his gold subscriber level on MNO's Y network, Goldstein was able to
make his trade using brokerage firm X's mobile app.
Due to his silver status on MNO's Y network, Silverstone has to wait until the
congestion to application server subsides and CATS is deactivated for silver
subscribers.
Bronson was able to complete his transaction even though he is a bronze
subscriber because he was already connected to the application server before
CATS was activated.
As the congestion to Brokerage Firm X's server eases, MNO Y removes the CATS
for the silver subscription levels..Silverstone is able to access the
application server and make his trades.
When the congestion to Brokerage Firm X's server dissipates, MNO Y deactivates
CATS for all its subscribers and all access to the server returns to normal.
### 4.6.4 Post-conditions
The resources in MNO Y's network are not wasted by futile attempts by
subscribers who are unable to access the congested application server when
CATS is activated.
### 4.6.5 Potential Requirements
The 3GPP network shall become aware of the failure of third party servers.
The 3GPP network shall be able to third party serverdetect and monitor third
party servers' operational status e.g. congestion levels of the third party
servers.
The 3GPP network shall be able to control and prioritize access to a third
party server/s based on the MNO's service subscription profiles without
impacting the traffic to other unaffected third party servers.
The 3GPP network shall be able to activate or deactivate the control of
traffic from applications on the UE to a congested or failed third party
server/s.
Based on the traffic load on the 3GPP network and the MNO policy, the 3GPP
network shall be able to activate the control of traffic from applications on
the UE to a congested or failed third party server/s.
The 3GPP network shall be able to apply and modify a range of barring rates to
control the traffic from applications on the UE to a third party server/s
based on the status of the third party server/s and as agreed with third party
application provider.
The system shall be able to monitor the changing conditions of congestion or
failure and restoration of normal service at the third party servers and
gracefully ease or cease control of the traffic.
CATS shall be able to control existing connections towards the 3rd party
server
CATS shall be able to control the setting up of new connections towards the
3rd party
## 4.7 Activation and Control of CATS Using Third Party Service Subscription
Profiles
### 4.7.1 Description
In this use case, a scenario is described where a third party application
provider has different levels of subscription service that receive different
priority treatment in the access to its server during periods of congestion.
It has to be noted that these third party application subscription service
profiles pertain to the third party application provider and are different
from the MNO subscriber profiles.
The ability of the 3GPP network to utilize the third party application
subscription service profiles to control the UE's initiations and access of
the third party applications during activation of CATS would alleviate
unnecessary waste of 3GPP network resource from subscribers who are unable to
access the congested third party servers.
### 4.7.2 Pre-conditions
Stock Brokerage Firm X offers a mobile app to its clients to check the on-time
performance of their stock portfolio and make stock transactions.
In order to ensure that stock trades of the highest dollar value by its high
net worth preferred clients are given priority during congestion in its
application server, Firm X classifies its client profiles into 3 different
levels and prioritizes their access to its server during congestion
accordingly:
\- Gold subscribers: Clients whose average trades are \$250,000 or more
\- Silver subscribers: Client whose average trades are between \$100,000 and
\$250,000
\- Bronze subscribers: Client whose average trades are below \$100,000
Goldstein is a Gold subscriber; Silverstone is a Silver subscriber and Bronson
is a Bronze subscriber of Brokerage Firm X's mobile app.
Brokerage Firm X has an agreement with MNO Y to share information regarding
the congestion status of its application servers as well as the access status
categories of its clients.
Goldstein, Silverstone and Bronson are all subscribers of MNO Y.
MNO Y has a policy that in the event a failure or congestion is detected at a
3rd party server, CATS will be activated if the network traffic load exceeds a
certain threshold. If it is below the threshold; the network will not activate
CATS.
### 4.7.3 Service Flows
A breaking news regarding disruption to oil supply in the Middle East caused a
spike in traffic and congestion to Firm X application servers as clients of
Brokerage Firm X rushed to make stock trades.
The level of congestion to Brokerage Firm X's application servers are
communicated to MNO Y's network. MNO Y determines that existing traffic load
on the network exceeds the threshold for the network to activate CATS.
Per the agreement between the two companies, MNO Y activates CATS to reduce
the flow of traffic by preventing the traffic of Brokerage Firm X's silver and
bronze subscribers to access brokerage firm X's servers.
Goldstein (gold subscriber) and Silverstone (silver subscriber) attempts to
make trades through Brokerage Firm X's app on their UEs after CATS was
activated by MNO Y.
Bronson (bronze subscriber) initiated the app and was connected to the
application server before CATS was activated.
Due to his gold status on Brokerage Firm X's application server, Goldstein was
able to make his trade using brokerage firm X's mobile app.
Due to his silver status on Brokerage Firm X's application server, Silverstone
has to wait until the congestion to application server subsides and CATS is
deactivated for silver subscribers.
Bronson was able to complete his transaction even though he is a bronze
subscriber because he was already connected to the application server before
CATS was activated.
As the congestion to Brokerage Firm X's server eases, MNO Y deactivates the
CATS for Brokerage Firm X's silver clients/subscribers. Silverstone is able to
access the application server and make his trades.
When the congestion to Brokerage Firm X's server dissipates, MNO Y deactivates
CATS levels to include all of Brokerage Firm X's (Gold, Silver and Bronze)
subscription levels and access to the server returns to normal.
### 4.7.4 Post-conditions
The resources in MNO Y's network are not wasted by futile attempts by UEs
belonging to subscribers who are unable to access the congested application
server when CATS is activated.
### 4.7.5 Potential Requirements
The 3GPP network shall become aware of the failure of third party servers.
The 3GPP network shall be able to detect third party server and monitor third
party server's operational status e.g. congestion levels of the third party
servers.
The 3GPP network shall be able to control and prioritize traffic to the third
party server/s based on third party service subscription profiles without
impacting the traffic to other unaffected third party servers.
The 3GPP network shall be able to activate or deactivate the control of
traffic from applications on the UE to a congested or failed third party
server/s.
Based on the traffic load on the 3GPP network and the MNO policy, the 3GPP
network shall be able to activate the control of traffic from applications on
the UE to a congested or failed third party server/s.
The 3GPP network shall be able to apply and modify a range of barring rates to
control the traffic from applications on the UE to a third party server/s
based on the congestion conditions at the third party server/s and as agreed
with third party provider.
The 3GPP system shall be able to monitor the changing conditions of congestion
or failure and restoration of normal service at the third party servers and
gracefully ease or cease control of the traffic.
CATS shall be able to control existing connections towards the 3rd party
server
CATS shall be able to control the setting up of new connections towards the
3rd party
## 4.8 Activation and Control of CATS when a Third Party Server Supports
Multiple Applications
### 4.8.1 Description
In this use case, a scenario is described where a third party server supports
multiple applications, e.g. a status update (presence) service, a picture
storage and a video storage. UE originated traffic of these applications may
be blocked or are given different priority treatment during periods of
congestion or partial failure at the third party server.
The ability of the 3GPP network to control (block or prioritize) the traffic
of selected applications from a UE towards a third party server when the third
party server is experiencing congestion would alleviate unnecessary waste of
3GPP network resources e.g. repeated attempts by the UE to transmit data to
the server could be avoided, reducing signalling load of the network.
### 4.8.2 Pre-conditions
Bob, Dylan and Steve are subscribers to a Third Party Social Networking
Company's X website.
Bob, Dylan and Steve are all subscribers of MNO Y.
Social Networking Company X has an agreement with MNO Y to share information
regarding the operational status of company X's application servers as well as
the prioritizing access of the different applications to the server.
MNO Y has a policy that in the event a failure or congestion is detected at a
third party server, CATS will be activated to block or prioritize the traffic
of selected applications from a UE if the network traffic load exceeds a
certain threshold. A CATS blacklist contains the traffic of the applications
(e.g. picture or video upload) that should be blocked if CATS is activated. If
it is below the threshold; the network will not activate CATS.
### 4.8.3 Service Flows
A flood occurs at one of Social Networking Company's X server facility,
reducing its server capacity by 25%.
This partial failure in Social Networking Company X's application servers are
communicated to MNO Y's network. MNO Y determines that existing traffic load
on the network exceeds the threshold for the network to activate CATS.
Per the agreement between the two companies, MNO Y activates CATS to reduce
the flow of traffic by preventing any upload of videos and pictures to the
website.
Bob initiates access to the website on his UE to update his status on his
social network using the status update app.
Dylan initiates access to the website on his UE to upload pictures from his
latest vacation using the picture upload app.
Steve initiates access to the website on his UE to upload a video of his new
puppy using the video upload app.
Bob is able to update his status on Social Networking X's website since status
update is not an application that was activated for the blacklist by CATS.
Dylan is unable to upload his pictures and Steve is unable to upload his video
since both of these applications were activated on the CATS blacklist by MNO Y
based on its agreement with Social Networking Company X.
As Social Networking Company X repairs its server facility and increases its
server capacity from 75% to 90%, this improvement is communicated by its
servers to MNO Y's network. According to the agreement between the two
companies, MNO Y removes uploading of pictures from the CATS blacklist. Dylan
is able to upload his pictures to Social Networking X's website.
When Social Networking Company's X server facility is completely repaired and
the capacity is restored back to 100%, this improvement in the operational
status is communicated to MNO Y's network. Per the agreement between both
companies, MNO Y removes video uploading from the CATS blacklist. Steve is
able to upload his video to the Social Networking X's website.
### 4.8.4 Post-conditions
Since CATS was activated, dynamically taking into account the different types
of traffic that should be blocked due to the congestion status of the third
party server, repeated attempts of the UEs to initiate such traffic to the
server could be avoided, thus reducing signalling load of the network.
### 4.8.5 Potential Requirements
The 3GPP network shall become aware of the failure of third party servers.
The 3GPP network shall be able to detect and monitor third party servers'
operational status e.g. congestion levels of the 3rd party application
servers.
The 3GPP network shall be able to control (block and/or prioritize) traffic
from selected applications (e.g. picture- or video upload) of a UE towards the
third party server/s
The 3GPP network shall be able to activate or deactivate the control of
traffic from applications on the UE to a congested or unavailable third party
server/s..
Based on the traffic load on the 3GPP network and the MNO policy, the 3GPP
network shall be able to activate the control of traffic from applications on
the UE to a congested or failed third party server/s.
The 3GPP network shall be able to apply and modify a range of barring rates to
control the traffic from applications on the UE to a third party based on the
status of the third party and servers.
The 3GPP system shall be able to monitor the status of the 3rd party servers
and gracefully ease or cease control of the traffic.
CATS shall be able to control existing connections towards the 3rd party
server
CATS shall be able to control the setting up of new connections towards the
3rd party
## 4.9 Relationship to Access Class 11-15
### 4.9.1 Description
Access Class 11-15 is allocated to specific high priority users who are
supposed to maintain infrastructure, as specified in TS 22.011[2]. The UE with
one of those Access Classes shall be treated in a prioritized way.
### 4.9.2 Pre-conditions
A third provides \"Application A\". \"Application A\" is functioning normally
and traffic loads are at normal levels.
Alice is a staff of a public utility. Alice tries to inform the office of the
situation of water pipeline being broken down by using \"Application A\".
Access Class 13 is allocated to her.
Bob is a student who stays at the University while his parents live away at
their own home. Bob tries to contact his parents by using \"Application A\".
### 4.9.3 Service Flows
The 3GPP network detects third party Y server's congestion and decides to
reduce traffic from \"Application A\" to the third party Y server while not
affecting traffic from other applications.
Since Access Class 13 is allocated to Alice's UE, the traffic for
\"Application A\" from her UE is allowed to access the third party server
while the traffic from Bob's UE cannot.
The third party Y's server recovers. It informs the 3GPP network its recovery.
The 3GPP network allows more traffic to begin flowing to the server.
Gradually, more traffic is permitted until normal service levels are reached.
### 4.9.4 Post-conditions
Unproductive 3GPP network traffic was reduced or eliminated during the time
the adverse server condition existed while Access Class 11-15 is prioritized.
### 4.9.5 Potential Requirements
The 3GPP network shall be able to control traffic from UE-based applications
to the affected application on the third party server, or to the third party
server as a whole based on the MNO's service subscription profiles such as
access class information while not affecting traffic to other third party
servers.
## 4.10 Charging between CATS activation and deactivation
### 4.10.1 Description
Traffic produced when the server is experiencing the difficulty would be
identified in the 3GPP network for the purpose of flexible charging strategies
to improve user experience.
### 4.10.2 Pre-conditions
3GPP network supports CATS and can identify the application or its associated
traffic. Such as 3GPP network PGW gets service ID from PCRF when service
activated in the 3GPP network.
\"Application A\" operates normally between the UE and the application server.
However, a virus attacks or disaster starts happening.
If \"Application A\" server indicates to the 3GPP network that it is getting
overwhelmed with requests. CATS will be activated in the system when the
network traffic load exceeds a certain threshold.
### 4.10.3 Service Flows
3GPP network should initially create charging data record associated with the
event that CATS is activated, and the CATS ID, \"Application A\" service ID
should be contained in the initial charging data record.
When virus attack stops or disaster gradually disappears, \"Application A\"
server indicates to the 3GPP network that it is getting normal (there are
fewer service requests experienced by the\"Application A\" server), CATS gets
deactivated in the system when the network traffic load is below a certain
threshold.
3GPP network should create charging data record associated with the event that
CATS is deactivated, also with the CATS ID, \"Application A\" service ID
contained in the last charging data record.
### 4.10.4 Post-conditions
Traffic produced from CATS activated to CATS deactivated is recorded with CATS
ID and service ID. Through this use case, traffic which affected user
experience is identified in the 3GPP network for MNO 's flexible charging
strategy.
### 4.10.5 Potential Requirements
The 3GPP network shall be able to detect that an application on a third party
server, or the third party server as a whole, is not responding to traffic
sent to it.
The 3GPP network shall be able to control traffic from UE-based applications
to the affected application on the third party server or to the third party
server as a whole while not affecting traffic to other applications on the
third party server or to other third party servers functioning normally, or
from other UE-based applications.
The 3GPP network should be able to receive an indication from the third party
server when normal operation resumes.
The 3GPP network should be able to identify charging data records produced
whilst CATS is activated and provide the possibility to offer different
treatment.
# 5 Considerations
## 5.1 Considerations on security
Communication between the third party server and the 3GPP network shall be
conducted in a manner that enables secure operation of CATS to ensure that no
unauthorized entity can gain access and improperly or fraudulently operate
CATS.
## 5.2 Considerations on charging
Traffic produced when the server is experiencing the difficulty should be
identified in the 3GPP network;
## 5.3 Considerations on Network Sharing
Following the conceptual approaches depicted in Annex A, each sharing partner
should have independent control of CATS. There will be no mechanisms defined
by 3GPP that ensures the same CATS Policy will apply consistently among the
sharing partners. It is up to the third party to ensure that through separate
agreement with each operator, just the same way as if the operators would have
had their own separate radio access networks.
## 5.4 Considerations on relationship between CATS and existing Access
Controls
Network-centric CATS is applied in the core network, and applies to traffic
that reaches the core network, after the possible application of other access
control methods. UE-centric CATS is applied in the UE, at the same level as
the access controls, and the relationship between CATS and them needs to be
considered.
There are a number of access controls for data traffic built into 3GPP
networks as described in TS 22.011[2] clause 4.
These can be divided into two categories in terms of their nature, one is a
white list based control and another is a black list based control. ACDC is
the former and the rest are the latter.
For ACDC, CATS can be applied in addition to ACDC to control traffic from
applications, even if access is allowed by ACDC as written in clause 4.5.
For the rest of access controls, since CATS is also a black list based
control, a simultaneous application of CATS and the rest of access control do
not bring any conflicting behaviour with appropriate operation.
Activating CATS does not allow other types of access control to be by-passed,
and activating other types of access control does not allow CATS to be by-
passed. If an access attempt is allowed by, for example, ACB, it can be
blocked by CATS, and an access attempt allowed by CATS can be blocked by ACB.
CAT's application to Access Class 11 -- 15 is as written in clause 4.9.
# 6 Potential requirements
## 6.1 Consolidated Requirements
The following requirements are consolidated from the requirements associated
with the use cases in section 4 of this TR. The requirements labelled as
[Applicable only to UE centric CATS] only applied to UE centric CATS and other
requirements are commonly applied both UE centric CATS and network centric
CATS.
(C1) The 3GPP network shall be able to control (i.e. block and/or prioritize)
traffic from UE-based applications to the affected application(s) on the third
party server(s) or the third party server itself while not affecting traffic
to other applications on the third party server or to other third party
servers or from other UE-based applications.
(C2) The 3GPP network shall be able to identify the application or its
associated traffic.
(C3) The 3GPP network shall be able to apply CATS in a phased manner to
gradually restore traffic according to operator policy.
(C4) The 3GPP network shall be able to apply ACDC and CATS independently and
simultaneously according to operator policy. [Applicable only to UE centric
CATS] In case of simultaneous application of ACDC and UE-centric CATS applied
in the UE, CATS shall take precedence over ACDC to control traffic from
applications, even if access is allowed by ACDC.
Note: In case of simultaneous application of ACDC and network centric CATS, no
requirements are needed since network centric CATS applies to traffic that
reaches the core network, after the possible application of ACDC.
(C5) [Applicable only to UE centric CATS] The 3GPP network shall be able to
control both the setting up of new connections and existing connections
towards the 3rd party server.
(C6) The 3GPP network shall be able to control traffic based on (1) the
traffic load on the 3GPP network , (2) the MNO policy, (3)the MNO's service
subscription profiles such as access class information (4) third party service
subscription profiles without impacting the traffic to other unaffected third
party servers.
(C7) The 3GPP network should be able to identify charging data records
produced whilst CATS is activated and provide the possibility to offer
different charging treatment.
(C8) The 3GPP network shall be able to receive an indication from the third
party server when an application on it is experiencing congestion or failure,
and when normal operation resumes. The indication may be sent periodically,
and when the status of the application changes.
(C9) The 3GPP network shall be able to detect and monitor third party server's
operational status e.g. congestion levels, failure and unavailability of the
third party servers.
# 7 Conclusions and Recommendations
A number of use cases have been identified where traffic from UE-based
applications to the affected application(s) on the third party server(s) or
the third party server itself should be controlled while not affecting other
traffic. The main objective identified is to avoid unproductive traffic and
other associated impact in 3GPP network which can be caused by the third party
issues such as congestion and failure of third party servers. A potential to
collaborate with third party in helping third party to handle the issue such
as malicious attack to third party servers is also identified as the secondary
objective. The analysis has resulted in a set of unique requirements as
captured in the previous section. Mechanisms to address these requirements
need to be specified, taking into account mechanisms already available that
may address some aspects of this problem space.
It is therefore recommended that some of the potential requirements identified
in the present document be considered for the development of normative
requirements.
###### ### Annex A: CATS Conceptual Approaches
## A.1 Introduction
The contents of this Annex are informative, and are meant to illustrate CATS
concept for the purpose of broadening general understanding of the intent of
the feature. Though it may hint at approaches toward a solution to CATS, its
aim is not to limit possible approaches, nor to comprehensively evaluate all
issues associated with the solution architecture.
## A.2 CATS Policy Enforcement Options
The specific CATS task is to manage IP flows associated with Apps on a
troubled third party server by controlling (disallowing/allowing) uplink flows
from any UE based on the destination address.
The CATS objectives can be fulfilled, to a higher or a lesser degree, using
one of the two approaches.
\- In a network-centred solution, application control is enforced in the core
network, typically in P-GW
\- In a UE-centred solution, an individual application control is enforced in
the UE
In the network-centred CATS, PCEF is enforcement node, as in its
\"traditional\" role. Conversely, in the UE-centred CATS, the enforcement
point is located in the UEs.
One can immediately observe that the CATS objective (2) and (3) listed in
Section A.1 (suppression of radio interface traffic) is completely fulfilled
with the UE-centred solution, whereas in the network-centred one, that
suppression is partially, but not entirely accomplished. A more detailed
concept illustration and analysis is given in subsequent sections.
## A.3 Network-Centred CATS Concept
The network-centred CATS is conceptually illustrated in Figure A-1.The Figure
illustrates the principal entities involved in CATS.A third party App Server
is located in the Internet. Some portion of the User Plane (UP) traffic
flowing to the Internet is destined to the App Server, which may start
experiencing difficulties.
Figure A-1:Network-Centred CATS
The sequential step involved in creating policy rules in the network-centred
conceptual solution are illustrated in the Figure, and can be summarized as
follows.
Step (1a):Trigger option 1
> App server requests assistance from CATS Policy Server in reducing incoming
> traffic, or
Step (1b): Trigger option 2
> P-GW determines that App server is not responsive, reports to CATS PS. How
> such determination made is likely to be implementation-dependent, and may be
> quite variable depending on the nature of the application involved.
Step (2):Policy modification
> CATS Policy Server requests policy modification for UL direction flows to
> identified destination addresses.
Step (3):Policy update
> PCRF updates policy rules in PCEF accordingly
Step (4):Policy enforcement
> When UE launches the App, initial flow packets destined to App server
> progress to S/P GW; PCEF suppresses these UL flows; As these very first
> packets to App server are stopped, TCP \"collapses\".
It is worth noting that this is but an example of conceptual functional
allocation of functionality to network entities.The physical implementation
may look different in an actual deployed system, e.g., CATS Policy Server may
be built into the PCRF.
In a deployed operation, this sequence is repeated every time the condition at
the Application Server undergoes sufficient change to warrant it. In the
simplest example, having instituted restrictive policies, CATS removes those
restrictions by re-applying the above sequence, once the App Server is no
longer adversely affected, though this time, the policy update consists of
removal of PCEF packet filters that cause the subject IP flows to be blocked
in the P-GW.
TCP collapse may be the result of a non-responsive app server even without
CATS capability in the network-centred approach. However, the benefit of this
methodology still exists, since the server is not forced to handle the DDOS-
like traffic from numerous UEs, which may be making the matters worse in terms
of recovery of the server. If the server is not completely down, but merely
computationally overloaded, the incoming application request reduction could
be useful. For instance, existing application traffic may be handled by the
server while any new instances coming from UEs are reduced or eliminated.
## A.4 UE-Centred CATS Concept
### A.4.1 Concept Description
The UE-centred CATS is conceptually illustrated in Figure A-2, showing
principal CATS related entities.
Figure A-2:UE-Centred CATS
The sequential step involved in creating policy rules in the UE-centred
conceptual solution are illustrated in the Figure, and can be summarized as
follows.
Step (1a):Trigger option 1, same as for the case of Network-centred concept.
Step (1b): Trigger option 2, same as for the case of Network-centred concept.
Step (2):Policy update notification
> E.g., CATS Policy Server initiates broadcast to trigger policy update for
> all UEs
Step (3):Policy Fetch by UEs
> This consists of providing a list of destination addresses to be suppressed,
> validity period, and any associated parameters (e.g., the degree to which
> suppression is to occur).
Step (4):Policy enforcement
> UE monitors outgoing traffic, suppresses flows to indicated destination(s).
Here too, the illustration and steps outlined constitute a mere example of
conceptual allocation of functionality to network entities. The physical
implementation may look different in an actual deployed system.
As for the network-centred case, the operational procedure consists of
repeating the above-stated sequence of steps every time the condition at the
Application Server undergoes sufficient change to warrant it. For example,
having instituted restrictive policies, CATS removes those restrictions by re-
applying the above sequence, once the App Server is no longer adversely
affected, though this time, the policy update consists of removal of UE-based
packet filters that preclude the subject IP flows from being initiated on the
radio interface.
### A.4.2 Policy Fetch Options
There are several options to implement Policy Fetch by UEs in Step 3.Three
such options are illustrated, but others may exist, and could be adopted in
Stage 2 of the feature development.
Policy Fetch Option 1:Using System Information Block (SIB)
This methodology is similar to ACDC. New SIBs can be defined to indicate
explicit destination IP address/port number for the UE-based packet filter,
and an instruction how an IP flow destined to it is to be treated: suppressed,
opened, or throttled (randomly allowed with the probability indicated).
A clear advantage of this method is low overhead on the radio interface, due
to broadcast as means to provide information to all UEs. On the other hand, a
strong motivation must be given to the RAN WGs to introduce new SIBs, since
all UEs fetch the policy, regardless of propensity to use the targeted
application. This is unlike ACDC, which is broadly applicable to UEs for any
kind of access attempt. Put differently, using this methodology is warranted
for CATS confined to relatively few very popular applications.
Policy Fetch Option 2:Using eMBMS
Instead of SIBs, eMBMS can be used, which similarly has relatively low
overhead on the radio interface, since a single eMBMS session is broadcast to
all UEs. Forward Error Correction (FEC) featured in eMBMS enables very low
error rate for transmitting policy updates to UEs.
As in the case of SIB option, all UEs fetch policy updates, regardless of
propensity to use the targeted application. However, eMBMS deployment is not
yet widespread across operators, and reliance on it may become an impediment
for CATS deployment.
Policy Fetch Option 3:Using HTTP Push
In this approach, trigger is the same as for the other methods (Steps 1a or
1b), however policy fetch does not involve broadcast, as in those other
methods. In its place, persistent or long-lasting HTTP connection is
established between the CATS Policy Server and the CATS policy enforcement
located in the UE (client) upon initial UE connection to the former. CATS PS
Server asynchronously \"pushes\" policy info and updates to UE when new App
Server conditions warrant. Policy enforcement is in the UE, as stated earlier
Steps (2) and (3) may employ 'HTTP Long Polling' or 'HTTP Streaming' as per
RFC 6202, or W3C's Server-Sent Events. More information can be obtained from
http://www.w3.org/TR/eventsource/ .
Unlike eMBMS approach, this method enjoys general UE support.
However, the method has a disadvantage in that it may involve considerable
amount of radio interface traffic, since policy update requires client/server
communication with each UE individually. This may neutralize at least some of
overall CATS objectives, namely reduction of unproductive radio interface
traffic.
It is noteworthy that that for any of the three policy fetch methods, UE
changes are required, even if eMBMS or RFC 6202 are supported by the UE. This
new capability involves techniques for policy enforcement in Step 4.
## A.5 Discussion and Comparison
Some points of comparison of Network-Centred vs. UE-Centred methods include:
\- Network-Centred method is simpler to implement, and since it does not
require UE changes, can be immediately effective;
\- UE-Centred method can completely eliminate unproductive radio traffic,
while network-centred one is only partially effective in that respect;
\- Both methods are comparable in terms of App Server \"shielding\"
capability;
\- It is difficult to estimate to what degree the Network-Centred approach
reduces unproductive radio and core network traffic.
By virtue of reducing traffic, CATS would be helpful in reducing congestion as
well. However, the CATS capability is different from User Plane Congestion
Management (UPCON) [3], though it may be regarded as complementary to it. App
server failures are generally independent from instances of excessive traffic
volume.
When evaluating impact on application behaviour in the UE, it can be observed
that TCP \"collapse\" is no different than App Server being down or
unreachable, which occasionally occurs in reality. Hence, an attempt to launch
an app by the user in the UE should not have unpredictable consequences,
though this should be tested on major popular applications which are targeted
for CATS.
The same applies for effects of TCP \"collapse\" on MTC applications, which
should be evaluated to ensure that it does not have undesirable adverse
effects, such as uncontrolled repeat attempts.
CATS may have broader applicability than originally envisioned. For example,
the same capability could possibly also be used for \"positive\" controls
(allow access to server), in addition to the originally intended \"negative\"
controls (disallow such access).An example of the former is Disaster Message
Board (DMB), which was elaborated in the UPCON Feasibility Study [3].The
overall purpose of CATS is unchanged; only the sequence of events is reversed,
i.e., enable traffic that is normally disabled, then re-disable it, once the
adverse condition is removed.
###### ### Annex B: Mapping of potential requirements.
Mapping requirement numbering of potential requirements derived from the use
cases in clause 5 to the requirement numbering of the consolidated potential
requirements in clause 6.
For the detailed 4-step consolidation process, see document S1-151038.
Note: Consolidated potential requirements could have been re-worded from the
original potential requirements derived in clause 5.
Table B-1: Mapping of potential requirements
* * *
Potential requirements from use cases in clause 5 Consolidated potential
requirements in clause 6 [UC1] [UC2] [UC3] [UC4] [UC5] [UC6] [UC7] [UC8]
[UC10] [C1] [UC3] [C2] [UC4] [UC6] [UC7] [UC8] [C3] [UC5] [C4] [UC6] [UC7]
[UC8] [C5] [UC6] [UC7] [UC8] [UC9] [C6] [UC10] [C7] [UC1] [UC2] [UC4] [UC5]
[UC10] [C8] [UC1] [UC2] [UC4] [UC5] [UC6] [UC7] [UC8] [UC10] [C9]
* * *
#