# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is split into four parts, clauses 4 to 6 dealing with the
MTP, clause 6a dealing with M3UA/SCTP, clause 7 dealing with interface
functions towards higher layers and clauses 8 to 10 dealing with the SCCP and
its use.
The MTP provides a mechanism giving reliable transfer of signalling messages.
Clauses 4 to 7 of the present document deal with the subset of the MTP that
can be used between an BSS and an MSC, which is compatible with a full MTP.
The M3UA/SCTP provides a mechanism giving reliable transfer of signalling
messages over an IP network.
The SCCP is used to provide a referencing mechanism to identify a particular
transaction relating to for instance a particular call. Clauses 8 to 10
identify the SCCP subset that should be used between a BSS and an MSC. The
SCCP can also be used to enhance the message routing for (for instance)
operations and maintenance information.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
```{=html}
``` \- For a non-specific reference, the latest version applies. In the > case
of a reference to a 3GPP document (including a GSM document), > a non-specific
reference implicitly refers to the latest version > of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] Void.
[3] Void.
[4] Void.
[5] Void.
[6] Void.
[7] Void.
[8] Void.
[9] Void.
[10] Void.
[11] Void.
[12] Void.
[13] Void.
[14] Void.
[15] Void.
[16] Void.
[17] Void.
[18] Void.
[19] Void.
[20] Void.
[21] Void.
[22] Void.
[23] Void.
[24] Void.
[25] Void.
[26] Void.
[27] Void.
[28] 3GPP TS 44.006: \"Mobile Station - Base Station System (MS - BSS)
interface Data Link (DL) layer specification\".
[29] Void.
[30] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[31] Void.
[32] Void.
[33] Void.
[34] Void.
[35] Void.
[36] Void.
[37] Void.
[38] Void.
[39] Void.
[40] Void.
[41] Void.
[42] Void.
[43] Void.
[44] Void.
[45] Void.
[46] 3GPP TS 48.008: \"Mobile Switching Centre -- Base Station System (MSC-
BSS) interface; Layer 3 specification\".
[47] Void.
[48] Void.
[49] Void.
[50] Void.
[51] Void.
[52] Void.
[53] Void.
[54] Void.
[55] Void.
[56] Void.
[57] Void.
[58] ITU-T Recommendation Q.702: \"Signalling data link\".
[59] ITU-T Recommendation Q.703: \"Signalling link\".
[60] ITU-T Recommendation Q.704: \"Signalling network functions and
messages\".
[61] ITU-T Recommendation Q.707: \"Testing and maintenance\".
[62] ITU-T Recommendation Q.711: \"Functional description of the signalling
connection control part\".
[63] ITU-T Recommendation Q.712: \"Definition and function of signalling
connection control part messages\".
[64] ITU-T Recommendation Q.713: \"Signalling connection control part formats
and codes\".
[65] ITU-T Recommendation Q.714: \"Signalling connection control part
procedures\".
[66] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[67] ANSI T1.110-1999: \"Signaling System No.7; General Information\".
[68] ANSI T1.111-2000: \"Signalling System No. 7; Message Transfer Part\".
[69] ANSI T1.112-1996: \"Signalling System No. 7; Signalling Connection
Control Part Functional Description\".
[70] TIA/EIA/IS-104-A: \"Personal Communications Service Descriptions for 1
800 MHz\".
[71] ITU-T Recommendation Q.701: \"Functional description of the message
transfer part (MTP) of Signalling System No. 7\".
[72] IETF RFC 2960(10/2000): \"Stream Control Transmission Protocol\".
[73] IETF RFC 3332(09/2002): \"Signalling System 7 (SS7) Message Transfer Part
3 (MTP3) -- User Adaptation Layer (M3UA)\".
[74] IETF STD 51, RFC 1661(07/1994): \"The Point-To-Point Protocol (PPP)\".
[75] IETF STD 51, RFC 1662(07/1994): \"PPP in HDLC-like Framing\".
[76] IETF RFC 2507(02/1999): \"IP header compression\".
[77] IETF RFC 1990(07/1994): \"The PPP Multilink Protocol (MP)\".
[78] IETF RFC 2686(09/1999): \"The Multi-Class Extension to Multi-Link PPP\".
[79] IETF RFC 2509(02/1999): \"IP Header Compression over PPP\".
[80] IETF RFC 2474 (12/1998): \"Definition of the Differentiated Services
Field (DS Field) in the IPv4 and IPv6 Headers\".
[81] RFC 3309: \"SCTP Checksum Change\".
[82] IETF RFC 791 (09/1981): \"Internet Protocol\".
[83] IETF RFC 2460: \"Internet Protocol, Version 6 (Ipv6) Specification\".
[84] 3GPP TS 29.202: \"SS7 Signalling Transport in Core Network; Stage 3\"
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply:
**E1:** link employs 32 Pulse Code Modulation signals (timeslots) at 64
kbits/s. The 32 timeslots consist of 30 voice (or signalling) channels and 2
common signalling channels. The output bit rate is 2 048 Mbits/s.
**T1:** link employs 24 Pulse Code Modulation signals (timeslots) at 64
kbits/s. (T1 interface can alternatively use signalling at 56 kbits/s). The
output bit rate is 1 544 Mbits/s. (A frame consists of 193 bits, (8 x 24) + 1,
as one bit is used for synchronization. The frame repeats 8,000 times per
second.).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 apply.
# 4 Field of application
a) The present document is applicable to the signalling between radio
subsystems (BSS) and mobile switching centres (MSCs) in GSM PLMNs. It provides
a minimum set of MTP, or in the case of IP-based signalling transport - M3UA
and SCTP, requirements that may be implemented at a BSS or MSC, whilst
maintaining compatibility with the implementation of a full specification of
the MTP (M3UA/SCTP).
b) For MTP signalling transport usage, the Technical Specification defines the
interface at the 64 kbits/s boundary to the BSS or MSC and applies primarily
for digital access arrangements, the use of analogue arrangements isan option
for PLMN operator.
> Also, the Technical Specification defines the interface at the 56 kbits/s
> boundary to the BSS or MSC for T1 links.
c) The security of signalling links is a PLMN operator concern , however it is
recommended that in the case where more than one multiplex system is required
and security reasons dictate the use of a multiple link linkset, then each
signalling link should be assigned in a different multiplex system. It is
however noted that this is of little benefit if diversity of routing of the
multiplexes is not used.
d) Both associated and quasi-associated modes of signalling between the BSS
and the MSC are allowed. In case of quasi-associated mode the STP
functionality is provided outside the BSS. Future evolution or economic
reasons applicable to the interface may however make the use of STP working at
the BSS attractive, in which case some of the simplifications in this paper
will not apply.
e) A variety of information types may be supported by the signalling system,
e.g. relating to circuit switched call control and packet communication. These
are fully defined in the service series of Technical Specifications (the 3GPP
TS 02.xx series and in [70] for PCS 1900).
f) For E1 link usage, the ITU-T recommendations concerning the MTP shall be
taken as being requirements unless covered by a statement in the present
document.
g) For T1 link usage, the ANSI recommendations concerning the MTP [68] shall
be taken as being requirements unless covered by a statement in the present
document.
h) For IP-based signaling transport usage, 3GPP TS 29.202 [84] shall be taken
as being requirements unless covered by a statement in the present document.
# 5 Functional content
The functional requirements are as follows:
a) the network call control functions are as specified in 3GPP TS 48.008 and
3GPP TS 44.018;
b) the minimum set of Message Transfer Part functions are specified in Blue
Book ITU-T Recommendations Q.702, Q.703, Q.704 and Q.707, with the
qualifications specified in the present document;
> The functions are specified in ANSI T1.111 [68] for T1 links.
c) the additional interface functions required for the proper operation of the
layer 3 control functions in combination with the Message Transfer Part, or in
the case of IP-based signalling transport - M3UA and SCTP, functions, are
specified in clause 7 of the present document.
d) the minimum set of Message Transfer Part 3 -- User Adaptation (M3UA)
functions are specified in 3GPP TS 29.202 [84].
# 6 Message transfer part (MTP) functions
## 6.1 General
For E1 links, the MTP functions as specified in ITU-T Recommendations Q.702,
Q.703, Q.704 and Q.707 are applicable. For T1 links, the MTP functions as
specified in ANSI specifications T1.110 clause 5, and T1.112 clause 5 are
applicable. However, the following exceptions and modifications to those
Recommendations may be applied for the MSC to BSS signalling, see clauses 6.2
to 6.4.
Some form of policing could be included at the MSC in order to ensure that no
signalling messages received from the BSS can be routed further than the MSC
if an administration requires. This is necessary to prevent fraudulent use of
the signalling network for implementations of the GSM system. The manner in
which this is achieved will be dependent on local agreements or regulation s
and system implementations.
Where load sharing is used, all messages to do with a given SCCP connection
should be passed down a given link.
## 6.2 Level 1
### 6.2.1 E1 link (ITU-T Recommendation Q.702)
**Q.702 figure 2**
These figures should be treated as for information only. For the standard
application of GSM, interface point C is appropriate.
**Q.702 clause 4.4**
The use of analogue circuits to support the signalling link is a national
matter.
**Q.702 clause 5**
A signalling rate of 64 kbits/s is assumed. Lower rates (e.g. using analogue
bearers) are a national concern.
**Q.702 clause 6**
Error characteristics and availability are a national concern. Care should be
taken as excessive errors could lead to inefficient use of the signalling
links.
**Q.702 clause 8**
The standard arrangement will be to derive the signalling link from a 2 048
kbits/s digital path.
**Q.702 clause 9**
Only digital signalling data links are relevant.
The use of analogue bearers to support this interface is considered a national
concern. However it should be noted that there will be potential problems with
the following areas:
\- the signalling load may exceed that which can be carried by a single low
rate analogue link, this may lead to an excessive number of signalling links
and more complex changeover/changeback procedures;
\- the performance of the analogue lines used to carry the signalling link
will have a major impact on the throughput of signalling information that can
be achieved;
\- message delay may degrade the quality of service.
### 6.2.2 T1 link (ANSI Specification T1.111.2)
**T1.111.2 figure 2**
These figures should be treated as for information only. For the standard
application, interface point C is appropriate.
**T1.111.2 clause 4.4 - Analogue Signalling Link**
The use of analogue circuits to support the signalling link is a service
provider option.
**T1.111.2 clause 5 - General**
A signalling rate of 56/64 kbits/s is assumed. Lower bit rates (e.g. using
analogue bearers) are a service provider option.
**T1.111.2 clause 6 - Error Characteristics and Availability**
Error characteristics and availability are an operator concern. Care should be
taken as excessive errors could lead to inefficient use of the signalling
link.
**T1.111.2 clause 8 - Digital Signalling Data Link**
The standard arrangement will be to derive a signalling link from a 1 544
kbits/s digital path.
**T1.111.2 clause 9 - Analogue Signalling Data Link**
Only digital signalling data links are required.
The use of Analogue bearers to support this interface is considered a service
provider option. However, it should be noted that there will be potential
problems with the following areas:
\- the signalling load may exceed that which can be carried by a single low
rate Analogue link, which may lead to an excessive number of signalling links
and more complex changeover/change back procedures;
\- the performance of the Analogue lines used to carry the signalling link
will have a major impact on the throughput of signalling information that can
be achieved;
\- message delay may degrade the quality of service.
## 6.3 Level 2
### 6.3.1 E1 link (ITU-T Recommendation Q.703)
**Q.703 clause 4.4**
Only the basic error correction protocol is required.
**Q.703 clause 4.7**
Only the emergency proving period and status indications should be used by the
BSS.
**Q.703 clause 9**
Not applicable, only basic error correction is required.
**Q.703 clause 40**
In the initial alignment procedure specified in ITU-T Recommendation Q.703,
only the emergency proving is applicable for the BSS. Thus, in states 02 and
03 of the initial alignment procedure status indication \"N\" is not sent from
the BSS. The BSS should be capable of recognising status indication \"N\" if
received in order for the alignment procedure to complete.
**Q.703 clause 8**
The processor outage status indicator shall be recognised at the BSS and the
procedures defined in ITU-T Recommendation Q.703 clause 8 supported.
The BSS shall support the generation of the processor outage indication
towards the MSC if this is appropriate.
**Q.703 clause 40**
Only the emergency alignment procedures are required.
### 6.3.2 T1 link (ANSI Specification T1.111.3)
**T1.111.3 clause 4.4 - Signal Unit Error Correction**
Only the basic error correction protocol is required.
**T1.111..3 clause 4.7**
Only the emergency proving period and status indications should be used by the
BSS.
**T1.111.3 clause 9 - Preventive Cyclic Retransmission Error Correction
Method**
Only basic error correction is required for the A-Interface.
**T1.111.3 clause 40 - Signalling Link Initial Alignment Procedure**
In the initial alignment procedure, only the emergency proving is required for
the BSS. Thus, in states 02 and 03 of the initial alignment procedure status
indication \"N\" is not sent from the BSS. The BSS should be capable of
recognizing status indication \"N\" if received in order for the alignment
procedure to complete.
**T1.113 clause 8**
The processor outage status indicator shall be recognised at the BSS and the
procedures defined in ANSI standards T1.113 clause 8 supported.
The BSS shall support the generation of the processor outage indication
towards the MSC if this is appropriate.
**T1.113 clause 40**
Only the emergency alignment procedures are required.
## 6.4 Level 3
### 6.4.1 E1 link (ITU-T Recommendation Q.704)
**Q.704 clause 4.1.2.**
It should be noted that for point to point working, there will be no
signalling transfer point network management features which need to be
considered.
**Q.704 clause 4.3**
Signalling link management is required. Load sharing is required, and
changeover/back between links within a single linkset are required.
**Q.704 clause 5**
Since STP working at the BSS is not required the discrimination and routing
functions of the MTP used for GSM application can be significantly simplified.
**Q.704 clause 5.2 - Routing label**
Load sharing will be performed on BSS s with more than one signalling link by
means of the signalling link selection field (SLS).
**Q.704 clause 5.3 - Message routing function**
It should be noted that for point to point working, load sharing between
linksets is not required since there will only be one linkset between BSS and
MSC.
**Q.704 clause 5.3.5**
Either of the two methods of congestion control is acceptable. The most
appropriate method is dependent on national ITU-T No. 7 implementations.
**Q.704 clause 5.4 - Message discrimination**
At the BSS only messages with a correctly checking DPC will be accepted.
Others will be discarded. It is recommended that discarding a message because
of an incorrectly set point code causes an incident report to be generated.
At an MSC (which has the capability of acting as an STP) the messages not
destinated to it may be directed to the routing function.
The signalling point code for an BSS may be included in the national
signalling point code scheme or in a separate signalling network. In the case
where the signalling point code is in the national network the MSC need have
only one point code, in the case where the signalling point code is in a
separate \"PLMN\" signalling network, the MSC will be required to have two
signalling point codes, one for each network.
**Q.704 clause 6.1.3 c)**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**Q.704 clause 6.3.1.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**Q.704 clause 6.3.2.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**Q.704 clause 6.3.3.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**Q.704 clause 6.3.4.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**Q.704 clause 6.3.5.2**
It should be noted that for point to point working, there is no requirement
for signalling route management or signalling link blocking initiated by a
management system.
**Q.704 clause 6.3.6.2**
It should be noted that for point to point working, there is no requirement
for signalling route management or signalling link blocking initiated by a
management system.
**Q.704 clause 6.4.1**
It should be noted that for point to point working, the signalling route will
become unavailable when the associated link set fails.
**Q.704 clause 6.4.2**
It should be noted that for point to point working, the signalling route will
become available when the associated link set is restored.
**Q.704 clause 6.4.3**
Not applicable.
**Q.704 clause 6.5.1**
It should be noted that for point to point working the procedures used in
connection with signalling route unavailability will be those specified for
signalling route set unavailability in ITU-T Recommendation Q.704 clause
40.2.1.
**Q.704 clause 6.5.2**
It should be noted that for point to point interworking the procedures used in
connection with signalling route availability will be those specified for
signalling route set availability in ITU-T Recommendation Q.704 clause 40.2.2.
**Q.704 clause 6.5.3**
Not applicable.
**Q.704 clause 6.8.2**
There are two acceptable methods of congestion control defined in ITU-T
Recommendation Q.704, in clauses 3.6.2.1 a) and b). The most appropriate
method is dependent on national ITU-T No. 7 implementations. Each
administration should specify its congestion threshold setting algorithm and
nodal congestion abatement procedures at system procurement.
**Q.704 clause 6.8.5.2**
It should be noted that for point to point working, the signalling-route-set-
congestion-test procedure is not required.
**Q.704 clause 7.1.2**
It should be noted that for point to point working, signalling routes are not
applicable.
**Q.704 clause 7.2**
The normal routing situation will be that there are 1 or more signalling links
available between a BSS and MSC, these will constitute a link set. They will
be run in a load sharing mode and changeover, changeback procedures will be
supported between these signalling links.
Furthermore, in case of more than one link set (not for point to point
working), load sharing between link sets is also allowed.
**Q.704 clause 7.3.3**
It should be noted that for point to point working, there will be no
alternative linkset.
**Q.704 clause 7.4.3**
Not applicable in case of point to point working.
**Q.704 clause 7.5**
Not applicable in case of point to point working.
**Q.704 clause 7.6**
Not applicable in case of point to point working.
**Q.704 clause 7.7**
Not applicable.
**Q.704 clause 8 - Changeover**
It should be noted that for point to point working, changeover between link
sets is not applicable.
**Q.704 clause 9 - Changeback**
It should be noted that for point to point working, changeover between link
sets is not applicable.
**Q.704 clause 40**
It should be noted that for point to point working, forced re-routing is not
applicable since there is only one signalling route existing between BSS and
MSC.
**Q.704 clause 8**
Not applicable in case of point to point working since there is only one
signalling route existing between BSS and MSC.
**Q.704 clause 41**
It should be noted that for point to point working the signalling route set
will consist of one associated signalling route only.
**Q.704 clause 42 - Signalling link management**
Only basic link management procedures are applicable.
**Q.704 clause 42.3.4 - Link set activation**
Link set normal activation defined in clause 41.2.4.1 is not applicable. Link
set emergency restart at the BSS is used in all cases.
**Q.704 clause 43.2 - Transfer prohibited**
It should be noted that for point to point working, the transfer prohibited
function is not applicable.
**Q.704 clause 43.3 - Transfer allowed**
It should be noted that for point to point working, the transfer allowed
function is not applicable.
**Q.704 clause 43.4 - Transfer restricted**
It should be noted that for point to point working, the transfer restricted
function is not applicable.
**Q.704 clause 43.5 - Signalling-route-set-test**
It should be noted that for point to point working, the signalling-route-set-
test procedure is not applicable.
**Q.704 clauses 13.6, 13.7 and 13.8 - Transfer controlled**
It should be noted that for point to point working, the transfer controlled
function is not applicable. **Q.704 clause 43.9 - Signalling route-set-
congestion-test**
It should be noted that for point to point working, the signalling route-set-
congestion-test function is not applicable.
**Q.704 clause 44.2.1**
Since all messages are passed using the SCCP, the service indicator will be:
* * *
bits D C B A 0 0 1 1
* * *
**Q.704 clause 44.2.2**
The sub service field will always be set to one of the following values:
bits\ D C\ 1 0 national network\ 1 1 local network
**Q.704 clause 44.3**
This information for SCCP is defined in ITU-T Recommendation Q.713.
**Q.704 clause 45**
The formats and codes listed are only relevant to the messages that are
required, i.e. those not excluded in the rest of this recommendation.
### 6.4.2 T1 link (ANSI Specification T1.111.4)
**T1.111.4 clause 4.1.2**
Signalling Transfer Point network management procedures are not required in
case of point to point working.
**T1.111.4 clause 4.3**
Signalling link management is required. Load sharing is required, and
changeover/back between links within a single linkset are required.
**T1.111.4 clause 5 - Signalling Message Handling**
Since STP functionality is not required at the BSS the discrimination and
routing functions of the MTP can be significantly simplified.
**T1.111.4 clause 5.2 - Routing Label**
Load sharing will be performed on BSSs with more than one signalling link by
means of the Signalling Link Selection (SLS) field.
**T1.111.4 clause 5.3 - Message Routing Function**
It should be noted that for point to point working, load sharing between
linksets is not required since only one linkset between the BSS and the MSC is
required for the A-Interface.
**T1.111.4 clause 5.4 - Message Discrimination**
It is recommended that discarding a message at the BSS because of an
incorrectly set point code should cause an incident report to be generated.
At an MSC (which has the capability of acting as an STP) the messages not
destinated to it may be directed to the routing function.
The signalling point code for an BSS may be included in the national
signalling point code scheme or in a separate signalling network. In the case
where the signalling point code is in the national network the MSC need have
only one point code, in the case where signalling point code is in a separate
PLMN signalling network, the MSC will be required to have two signalling point
codes, one for each network.
The User Part Unavailable message is not required for the A-Interface.
**T1.111.4 clause 5.3.5**
Support of ANSI specific Signalling Link Congestion Control as specified in
this clause is required.
**T1.111.4 clause 6 - Signalling Network Management**
It should be noted that for point to point working, Signalling Route
Management, including the status of signalling routes, signalling route
restricted, signalling route unavailability and availability, is not required.
**T1.111.4 clause 6.1.3 c)**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**T1.111.4 clause 6.3.1.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**T1.111.4 clause 6.3.2.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**T1.111.4 clause 6.3.3.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**T1.111.4 clause 6.3.4.3**
It should be noted that for point to point working, there is no requirement
for signalling route management.
**T1.111.4 clause 6.3.5.2**
It should be noted that for point to point working, there is no requirement
for signalling route management or signalling link blocking initiated by a
management system.
**T1.111.4 clause 6.3.6.2**
It should be noted that for point to point working, there is no requirement
for signalling route management or signalling link unblocking initiated by a
management system.
**T1.111.4 clause 6.4.1**
It should be noted that for point to point working, the signalling route will
become unavailable when the associated link set fails.
**T1.111.4 clause 6.4.2**
It should be noted that for point to point working, the signalling route will
become available when the associated link set is restored.
**T1.111.4 clause 6.4.3**
Not applicable.
**T1.111.4 clause 6.5.1**
It should be noted that for point to point working the procedures used in
connection with signalling route unavailability will be those specified for
signalling route set unavailability in T1.111.4 clause 40.2.1.
**T1.111.4 clause 6.5.2**
It should be noted that for point to point interworking the procedures used in
connection with signalling route availability will be those specified for
signalling route set availability in ANSI standard T1.111.4 clause 40.2.2.
**T1.111.4 clause 6.5.3**
Not applicable.
**T1.111.4 clause 6.8.2**
Support of ANSI specific Signalling Link Congestion Control as specified in
this clause is required.
**T1.111.4 clause 6.8.5.2**
It should be noted that for point to point working, the signalling-route-set-
congestion-test procedure is not required.
**T1.111.4 clause 7 - Signalling Traffic Management**
It should be noted that for point to point working, the Traffic Management
procedures supporting signalling routes, including signalling route
restricted, signalling route unavailability and availability, are not
required.
**T1.111.4 clause 7.1.2**
It should be noted that for point to point working, signalling routes are not
applicable.
**T1.111.4 clause 7.2**
The normal routing situation will be that there are one or more signalling
links available between the BSS and the MSC, which will constitute a link set.
They will be run in a load sharing mode and changeover, change back procedures
will be supported between these signalling links.
Furthermore, in case of more than one link set (not for point to point
working), load sharing between link sets is also allowed.
**T1.111.4 clause 7.3.3**
It should be noted that for point to point working, alternative linksets are
not required.
**T1.111.4 clause 7.4.3**
Not Applicable in case of point to point working.
**T1.111.4 clause 7.5**
Not Applicable in case of point to point working.
**T1.111.4 clause 7.6**
Not Applicable in case of point to point working.
**T1.111.4 clause 7.7**
Not Applicable.
**T1.111.4 clause 8 - Changeover**
It should be noted that for point to point working, the changeover procedure
between linksets is not applicable.
**T1.111.4 clause 9 - Changeback**
It should be noted that for point to point working, the changeback procedure
between linksets is not applicable.
**T1.111.4 clause 40 - Forced Rerouting**
It should be noted that for point to point working, forced rerouting is not
applicable.
**T1.111.4 clause 8 - Controlled Rerouting**
It should be noted that for point to point working, controlled rerouting is
not applicable.
**T1.111.4 clause 9 - MTP Restart**
The MTP Restart procedure is not required for the A-Interface.
**T1.111.4 clause 41 - Signalling Traffic Flow Control**
It should be noted that for point to point working, the signalling route
procedures supporting signalling traffic flow control including signalling-
route-unavailability, signalling-route availability and signalling-route-set-
congestion are not applicable.
**T1.111.4 clause 42 - Signalling Link Management**
Only basic link management procedures are required for the A-Interface.
**T1.111.4 clause 42.3.4 - Link set activation**
Link set normal activation is not applicable. Link set emergency restart at
the BSS is used in all cases.
**T1.111.4 clause 43 - Signalling Route Management**
It should be noted that for point to point working, signalling route
management is not applicable. No action is required upon reception of a TFP,
TFR, TFA, signalling-route-set-test, signalling-route-set-congestion-test or
transfer controlled message in case of point to point working.
**T1.111.4 clause 43.3 - Transfer allowed**
It should be noted that for point to point working, the transfer allowed
function is not applicable. **T1.111.4 clause 43.4 - Transfer restricted**
It should be noted that for point to point working, the transfer restricted
function is not applicable.
**T1.111.4 clause 43.5 - Signalling-route-set-test**
It should be noted that for point to point working, the signalling-route-set-
test procedure is not applicable.
**T1.111.4 clauses 13.6, 13.7 and 13.8 - Transfer controlled**
It should be noted that for point to point working, the transfer controlled
function is not applicable.
**T1.111.4 clause 43.9 - Signalling route-set-congestion-test**
It should be noted that for point to point working, the signalling route-set-
congestion-test function is not applicable.
**T1.111.4 clause 44.2.1 - Service Indicator**
The values for the service indicator shall conform to clause 44.2.1.
**T1.111.4 clause 44.2.2**
The sub-service field will always be set to one of the following values:
bits\ DC\ 1 0 national network\ 1 1 local network
NOTE: Local network value is not used for PCS 1900 in North America.
**T1.111.4 clause 44.3**
This information for SCCP is defined in ANSI T1.112.3.
**T1.111.4 clause 45**
The formats and codes listed are only relevant to the messages that are
required for the A-Interface, i.e. those not excluded in the rest of this
recommendation.
## 6.5 Testing and Maintenance
### 6.5.1 E1 link (ITU-T Recommendation Q.707)
**Q.707 clause 5.2**
The MSC and the BSS shall be capable of responding with an acknowledgement
message to a SLTM received at any time as specified in ITU-T Recommendation
Q.707 clause 5.2.
### 6.5.2 T1 link (ANSI Specification T1.111.7)
**T1.111.7 clause 5.1 - Signalling Data Link Test**
The signalling data link test is not required for the A-Interface.
**T1.111.7 clause 5.2**
The generation of a SLTM is not required; however, the MSC and the BSS shall
be capable of responding with an acknowledgement message to a SLTM that is
received at any time as specified in T1.111.7, clause 5.2.
# 6a Message Transfer Part 3 (MTP3) -- User Adaptation Layer (M3UA) functions
## 6a.1 Introduction
This subclause specifies the transport protocol stack that supports the
transfer of BSSAP messages over an IP transport.
The following requirements can be stated:
\- provide reliable transfer of control plane signalling messages in both
connectionless mode and connection-oriented mode;
\- provide separate independent connections for distinguishing transactions
with individual MS\'s;
\- supervise the \'MS connections\' and provide connection status information
to the Upper Layers for individual MS\'s;
\- provide networking and routing functions;
\- provide redundancy in the signalling network;
\- provide load sharing.
## 6a.2 Protocol Stack
Figure 1a below shows the point at which the service primitives are invoked. A
single SAP is defined independently of the signalling bearer. The SAP provides
the SCCP primitives. The figure is not intended to constrain the architecture.
Figure 6a.2.a: SAP between BSSAP and its transport over IP
1\. **SCCP** [62] provides connectionless service, class 0, connection
oriented service, class 2, separation of the connections mobile by mobile
basis on the connection oriented link and establishment of a connection
oriented link mobile by mobile basis.
**2\. M3UA** refers to the SCCP adaptation layer \"SS7 MTP3 -- User Adaptation
Layer \" [73] also developed by the Sigtran working group of the IETF.
3\. **SCTP** refers to the Stream Control Transmission Protocol [72] developed
by the Sigtran working group of the IETF for the purpose of transporting
various signalling protocols over IP networks. The checksum method specified
in RFC 3309 [81] shall be used instead of the method specified in RFC 2960
[72].
> 4\. **IP**. IPv6 should be supported according to [83]. IPv4 support [82] is
> optional.
NOTE: This does not preclude the single implementation and use of IPv4. Due to
the possible transition from IPv4 to IPv6 the IP dual stack support is
recommended.
> A BSC/MSC using IP transport shall support Diffserv code point marking [80].
> The Diffserv code point may be determined from the application parameters.
## 6a.3 Data Link Layer
It is recommended that a BSC/MSC using IP transport implement the data link
layer using Ethernet.
NOTE: This does not preclude the single implementation and use of any other
data link layer protocol fulfilling the GERAN requirements toward the upper
layers.
A BSC/MSC using IP transport having interfaces connected via low bandwidth PPP
links like E1/T1 shall also support IP Header Compression [76] and the PPP
extensions ML/MC-PPP [77], [78]. In this case, the negotiation of header
compression [76] over PPP shall be performed according to [79].
# 7 Interface functions
The method of interfacing to the higher layers will be by the primitives
defined in ITU-T Recommendation Q.701 clause 8 of the Blue Book for E1 links
and T1.111 for T1 links.
The primitives defined are:
\- MTP Pause indication;
\- MTP Resume indication;
\- MTP Status indication;
\- MTP Transfer request;
\- MTP Transfer indication.
# 8 SCCP functions
## 8.1 Overview
The purpose of this clause is to identify the subset of the SCCP functions
which are necessary to achieve the management of the MS references in the BSS
to MSC interface, and to provide addressing facilities. If this subset of SCCP
functions is implemented, compatibility with a full ITU-T SCCP (ANSI SCCP if
T1 links are used) must be maintained for E1 links (T1 links). Only the needs
of the BSSAP are taken into account in clause 8: the operations and
maintenance requirements about SCCP functions are discussed in clause 40.
These simplifications are applicable to the signalling between BSS and MSC in
GSM PLMNs.
In order to limit the complexity of the procedures, a BSS exchanges signalling
messages only with its MSC, where a protocol conversion may be needed in some
cases. Therefore no SCCP translation function is required in the MSC between
the national and the local MTP. The Destination Point Code and Subsystem
Number allow direct routing by the local SCCP and MTP within the MSC area.
Therefore, no SCCP Global Title Translation (GTT) function is required.
Several functions of the SCCP are not used on the MSC/BSS interface: error
detection, receipt confirmation, flow control.
The segmenting/reassembling function shall be used if the total message length
exceeds the maximum allowed message length that can be carried by the MTP.
For E1 links, the minimum set of SCCP functions which apply are specified in
the Blue Book ITU-T Recommendations Q.711, Q.712, Q.713 and Q.714, with the
qualifications specified in this Recommendation.
For T1 links, the minimum set of SCCP functions which apply are specified in
ANSI T1.112 with the qualifications specified in this Recommendation.
## 8.2 Primitives
### 8.2.1 E1 link (ITU-T Recommendation Q.711)
**Q.711 table 1**
Three primitives of the table 1/Q.711 are not used:
\- N-EXPEDITED DATA;
\- N-DATA ACKNOWLEDGE;
\- N-RESET.
**Q.711 table 2**
The following parameters of the N-CONNECT primitive are not used:
\- responding address;
\- receipt confirmation selection;
\- expedited data selection.
**Q.711 table 3**
The following parameter of the N-DATA primitive is not used:
\- confirmation request.
**Q.711 table 6**
The following parameter of the N-DISCONNECT primitive is not used:
\- responding address.
**Q.711 clause 5.1.2**
Permanent signalling connections: not applicable.
**Q.711 table 9**
The primitive N-NOTICE is not used.
**Q.711 table 10**
The following parameter of the N-UNITDATA is not used:
\- return option.
**Q.711 clause 7.1.2**
Functions for permanent signalling connections: not applicable.
### 8.2.2 T1 link (ANSI SpecificationT1.112.1)
**T1.111.1 table 1**
Two primitives of the table are not used:
\- N-INFORM DATA;
\- N-RESET.
**T1.112.1 table 2**
The following parameters of the N-CONNECT primitive are not used:
\- responding address;
\- receipt confirmation selection;
\- expedited data selection.
**T1.112.1 table 3**
The following parameter of the N-DATA primitive is not used:
\- confirmation request.
**T1.112.1 table 6**
The following parameter of the N-DISCONNECT primitive is not used:
\- responding address.
**T1.112.1 clause 2.1.2**
Permanent signalling connections are not applicable.
**T1.112.1 table 8**
The primitive N-NOTICE is not used.
**T1.112.1 table 8A**
The following parameter of the N-UNITDATA is not used:
\- return option.
**T1.112.1 clause 4.1.2**
Functions for permanent signalling connections are not applicable.
## 8.3 SCCP messages
### 8.3.1 E1 link (ITU-T Recommendation Q.712)
**Q.712 clause 4.4**
The Data Acknowledgement (AK) message is not used.
**Q.712 clause 4.6**
The Data Form 2 (DT2) message is not used.
**Q.712 clause 4.7**
The Expedited Data (ED) message is not used.
**Q.712 clause 4.8**
The Expedited Data Acknowledgement (EA) message is not used.
**Q.712 clause 4.10**
The Protocol Data Unit Error (ERR) message is not used: the inconsistent
messages of the SCCP protocol are discarded.
**Q.712 clause 4.13**
The Reset Confirm (RSC) message is not used.
**Q.712 clause 4.14**
The Reset Request (RSR) message is not used.
**Q.712 clause 4.16**
The Subsystem-Out-Of-Service-Grant (SOG) message is not used.
**Q.712 clause 4.17**
The Subsystem-Out-Of-Service-Request (SOR) message is not used.
**Q.712 clause 4.21**
The Unitdata Service (UDTS) message is not used.
**Q.712 clause 5.4**
The \"credit\" parameter field is not used for protocol class 2. However the
parameter must still be included in the IT message for syntax reasons.
**Q.712 clause 5.7**
The \"error cause\" parameter field is not used.
**Q.712 clause 5.11**
The \"receive sequence number\" parameter is not used.
**Q.712 clause 5.14**
The \"reset cause\" parameter field should not be used.
**Q.712 clause 5.16**
The \"sequencing/segmenting\" parameter field is not used for protocol class
2. However the parameter must still be included in the IT message for syntax
reasons.
### 8.3.2 T1 link (ANSI Specification T1.112.2)
**T1.112.2 clause 5.4**
The Data Acknowledgement (AK) message is not used.
**T1.112.2 clause 5.6**
The Data Form 2 (DT2) message is not used.
**T1.112.2 clause 5.7**
The Expedited Data (ED) message is not used.
**T1.112.2 clause 5.8**
The Expedited Data Acknowledgement (EA) message is not used.
**T1.112.2 clause 5.10**
The Protocol Data Unit Error (ERR) message is not used. Inconsistent messages
of the SCCP protocol are discarded.
**T1.112.2 clause 5.13**
The Reset Confirm (RSC) message is not used.
**T1.112.2 clause 5.14**
The Reset Request (RSR) message is not used.
**T1.112.2 clause 5.16**
The Unitdata Service (UDTS) message is not used.
**T1.112.2 clause 6.4**
The Subsystem-Out-Of-Service-Request (SOR) message is not used.
**T1.112.2 clause 6.5**
The Subsystem-Out-Of-Service-Grant (SOG) message is not used.
**T1.112.2 clause 7.2**
The \"credit\" parameter field is not used for protocol class 2. However, the
parameter must still be included in the Inactivity Test (IT) message for
syntax reasons.
**T1.112.2 clause 7.6**
The \"error cause\" parameter field is not used.
**T1.112.2 clause 7.10**
The \"receive sequence number\" parameter is not used.
**T1.112.2 clause 7.13**
The \"reset cause\" parameter field should not be used.
**T1.112.2 clause 7.16**
The \"sequencing/segmenting\" parameter field is not used for protocol class
2. However, the parameter must still be included in the IT message for syntax
reasons.
## 8.4 SCCP formats and codes
### 8.4.1 E1 link (ITU-T Recommendation Q.713)
**Q.713 clause 6.4**
For point-to-point network structures (i.e. direct connections between MSC and
BSS) the called party address may consist of the single element:
\- sub-system number.
No global title is used. The signalling point code which is coded in the MTP
routing label and the subsystem number in the called party address allow the
routing of the message.
Then the following encoding of the address indicator may be chosen:
**X1000010**.
If a non point-to-point network structure is used then the global title may be
required. This is a national concern.
**Q.713 clause 6.4.2.2**
The SSN values used on the MSC - BSS interface are specified in 3GPP TS
23.003.
Use of alternative values is a national concern.
**Q.713 clause 6.4.2.3**
Global title: refer to ITU-T Recommendation Q.713 clause 6.4.
**Q.713 clause 6.6**
Protocol class: the classes 1 and 3 are not used.
**Q.713 clauses 3.8, 3.9, 3.10, 3.13 and 3.14**
Parameters not used.
**Q.713 clauses 4.8, 4.9, 4.11, 4.12, 4.13, 4.14, 4.15 and 4.16**
Messages not used.
**Q.713 clause 8.1.1**
SOR and SOG not needed.
### 8.4.2 T1 link (ANSI Specification T1.112.3)
**T1.112.3 clause 3.4**
For point-to-point network structures (_i.e.,_ direct connections between the
MSC and the BSS) the called party address may consist of the single element:
\- subsystem number.
No global title is used. The signalling point code which is coded in the MTP
routing label and the subsystem number in the called party address allow the
routing of the message. Then the following encoding of the address indicator
may be chosen: **X1000001**.
Separate SSNs are needed to distinguish BSSAP and MAP; the chosen SSNs are
network specific and may need to differ from those assigned to other
applications (e.g. TCAP applications).
**T1.112.3 clause 6.4.2.2**
Allocation of the subsystem number is an operator concern.
**T1.112.3 clause 6.4.2.3**
**T1.112.3 clause 6.4**
**T1.112.3 clause 6.6**
Protocol class: the classes 1 and 3 are not used.
**T1.112.3 clauses 3.8, 3.9, 3.10, 3.13 and 3.14**
Parameters are not used.
**T1.112.3 clauses 4.8, 4.9, 4.11, 4.12, 4.13, 4.14, 4.15 and 4.16**
Messages are not used.
**T1.112.3 clause 8.1.1**
Subsystem-out-of-service-request (SOR) and Subsystem-out-of-service-grant
(SOG) are not needed.
## 8.5 SCCP procedures
### 8.5.1 E1 link (ITU-T Recommendation Q.714)
**Q.714 clauses 1.1.2.2 and 1.1.2.4**
Protocol classes 1 and 3 not used.
**Q.714 clause 4.1.3**
A signalling connection consists of a single connection clause. No
intermediate nodes are defined in the MSC/BSS protocol.
The use of multiple connection clauses is a national concern.
**Q.714 clause 4.2.1 (b)**
Not applicable for single connections.
**Q.714 clause 5.1 (1.)**
Global title not used for single connections.
**Q.714 clause 5.2.1**
Subsystem (SSN) only is present in the called party address for single
connections.
**Q.714 clause 5.2.2**
The addressing information may take the following form in the N-CONNECT
request primitive: DPC+SSN (for single connections).
**Q.714 clause 5.2.2.2**
No SCCP translation function is required for single connections.
**Q.714 clause 5.3.1 (3)**
Not applicable for single connections.
**Q.714 clause 5.3.2 (4)**
Not applicable for single connections.
**Q.714 clause 6.1.3**
Not applicable: no protocol class and flow control negotiations.
**Q.714 clause 6.1.5**
Not applicable.
**Q.714 clause 6.2.2**
Not applicable.
**Q.714 clause 6.3.4**
Not applicable.
**Q.714 clause 6.5.1.2**
Not applicable.
**Q.714 clause 6.5.2**
Not applicable.
**Q.714 clauses 3.6, 3.7, 3.9 and 3.10**
Not applicable.
**Q.714 clause 7.2**
Message return not applicable.
**Q.714 clause 8**
Only those messages and procedures relating to non-replicated subsystems or
nodes are required. At the BSS the concerned point will be the parent MSC. The
subsystems involved are the BSSAP and the OMAP.
### 8.5.2 T1 link (ANSI Specification T1.112.4)
**T1.112.4 clauses 1.1.2.2 and 1.1.2.4**
Protocol classes 1 and 3 are not used.
**T1.112.4 clause 4.1.3**
A signalling connection consists of a single connection clause. No
intermediate nodes are defined in the MSC to BSS interface.
The use of multiple connection clauses is a operator option.
**T1.112.4 clause 4.2.1 (b)**
Not applicable for single connections.
**T1.112.4 clause 5.1 (1.)**
Global title is not used for single connections.
**T1.112.4 clause 5.2.1**
Subsystem number (SSN) only is present in the called party address for single
connections.
**T1.112.4 clause 5.2.2**
The addressing information may take the following form in the N-CONNECT
request primitive: DPC+SSN (for single connections).
**T1.112.4 clause 5.2.2.2**
No SCCP translation function is required for single connections.
**T1.112.4 clause 5.3.1 (3)**
Not applicable for single connections.
**T1.112.4 clause 5.3.2 (4)**
Not applicable for single connections.
**T1.112.4 clause 6.1.3**
Not applicable. No protocol class and flow control negotiations.
**T1.112.4 clause 6.1.5**
Not applicable.
**T1.112.4 clause 6.2.2**
Not applicable.
**T1.112.4 clause 6.3.4**
Not applicable.
**T1.112.4 clause 6.5.1.2**
Not applicable.
**T1.112.4 clause 6.5.2**
Not applicable.
**T1.112.4 clauses 3.6, 3.7, 3.9 and 3.10**
Not applicable.
**T1.112.4 clause 7.2**
Message return is not applicable.
**T1.112.4 clause 8**
Only those messages and procedures relating to non-replicated subsystems or
nodes are required. At the BSS the concerned point will be the parent MSC. The
subsystems involved are the BSSAP and the MAP.
# 9 Use of the SCCP
The MTP and the SCCP are used to support signalling messages between the MSC
and the BSS. One user function of the SCCP, called BSS Application Part
(BSSAP) is defined. In the case of point-to-point calls the BSSAP uses one
signalling connection per active Mobile Station having one or more active
transactions for the transfer of layer 3 messages. In the case of a voice
group or broadcast call there is always one connection per cell involved in
the call and one additional connection per BSS for the transmission of layer 3
messages. There is an additional connection for the speaker in a broadcast
call or the first speaker in a voice group call up to the point at which the
network decides to transfer them to a common channel. Additional connections
may also be required for any mobile stations in the voice group or broadcast
call which the network decides to place on a dedicated connection. The BSSAP
user function is further subdivided into two separate functions:
\- the Direct Transfer Application sub-Part (DTAP) is used to transfer
messages between the MSC and the MS; the layer-3 information in these messages
is not interpreted by the BSS. The descriptions of the layer 3 protocols for
the MS-MSC information exchange are contained in the 04-series of 3GPP TS
Technical Specifications;
\- the BSS Management Application sub-Part (BSSMAP) supports other procedures
between the MSC and the BSS related to the MS (resource management, handover
control), or to a cell within the BSS, or to the whole BSS. The description of
the layer 3 protocol for the BSSMAP information exchange is contained in 3GPP
TS 48.008.
Both connectionless and connection-oriented procedures are used to support the
BSSMAP. 3GPP TS 48.008 explains whether connection oriented or connectionless
services should be used for each layer 3 procedure. Connection oriented
procedures are used to support the DTAP. Clause 9.4 deals with the use of
connectionless services of the SCCP.
A distribution function located in BSSAP, which is reflected in the protocol
specification by the layer 3 header defined in clause 9.3, performs the
discrimination between the data related to those two subparts, as illustrated
in 3GPP TS 48.008, figure 1.
The error handling for the BSSAP header is specified in 3GPP TS 48.008.
This clause describes the use of SCCP connections for MS transactions. Clause
9.1 describes the connection establishment procedures. Clause 9.2 describes
the connection release procedures. Clause 9.3 describes the distribution
between BSSMAP and DTAP messages and the data transfer over a SCCP connection.
The structure of the user data field in the SCCP message is described in
clauses 9.3 and 9.4 and in figure 3.
## 9.1 Connection establishment
A new SCCP connection is established when information related to the
communication between an MS and the network on a dedicated radio resource has
to be exchanged between BSS and MSC, and no such SCCP connection exists
between the MSC and the BSS involved for the concerned mobile station. A new
SCCP connection for each cell, an additional connection for each BSS, and
optionally connections for particular participants in a voice group or
broadcast call are established when a voice group or broadcast call is
established. A new SCCP connection is also established in the case of an
external handover between the cells of one BSS for a point-to-point call, or
for participants in a voice group or broadcast call who are supported on a
dedicated channel.
Various SCCP connection establishment cases have to be distinguished:
i) following an Access Request made by the MS on the Random Access Channel, a
dedicated radio resource has been successfully allocated and a layer-2
connection has been established on the allocated resource. The SCCP connection
establishment is then initiated by the BSS;
ii) the MSC decides to perform an external handover and a new dedicated radio
resource has to be reserved in the new BSS. The SCCP connection establishment
is then initiated by the MSC;
NOTE: The old BSS and the new BSS may be the same.
iii) following a request for a voice group or broadcast call received at a
MSC, SCCP connections are established between the MSC and BSS. This is
initiated by the MSC. Note that a SCCP connection for the originator has
already been established via case i);
iv) during a voice group or broadcast call the network may decide to place
some participants on a dedicated channel and will perform SCCP connection
establishment to support this channel.
The above cases are the only cases currently identified for SCCP connection
establishment. Others may emerge in the future.
* * *
BSS MSC\ \ CR {SSN=BSSAP, a1, BSSMAP message}\
\------------------------------------------->\ \ \ CC {a1,a2, BSSMAP or DTAP
message or no user data}\ \\ \ or\ CREF{a2,
BSSMAP message or no user data}\ \------------------------------------------>\
\ \ a1 = source local reference,\ a2 = destination local reference
* * *
CC: Connection Confirm.
CR: Connection Request.
CREF: Connection Refused.
Figure 2: Set-up of SCCP connections on a new BSS/MSC (handover) interface\ or
for a voice group or broadcast call initiation
### 9.1.1 Establishment procedure in case i)
In this case, the connection establishment is performed at the reception by
the BSS of the first layer-3 message from the MS (piggybacked on the SABM
frame). This message (LOCATION UPDATING REQUEST, CM-SERVICE REQUEST, CM
REESTABLISHMENT REQUEST, IMSI DETACH, PAGING RESPONSE, or IMMEDIATE SETUP)
which contains the identity of the MS is transferred to the MSC together with
a cell identification, in a BSSMAP message (COMPLETE L3 INFORMATION) included
in the user data field of the SCCP Connection Request message (see figure 1).
After the reception of the Connection Request message, the MSC may check,
based on the received identity, whether another association already exists for
the same Mobile Subscriber. Two options among others are described hereafter:
\- after the reception of the Connection Request message, the MSC sends a
Connection Confirm message and checks based on the received identity, whether
another connection already exists for the same Mobile Subscriber. If another
connection exists for the same Mobile Subscriber, the resources assigned for
this previous connection are released after the identity of the Mobile
Subscriber using the new connection has been successfully checked, e.g. by
authentication or by ciphering procedure;
\- if such an association exists, the connection establishment is refused by
sending a Connection Refused message;
NOTE: The first option allows the new establishments and the reestablishments.
\- when the SCCP connection is to be established, a Connection Confirm message
is sent back to the BSS. This message may optionally contain a BSSMAP or DTAP
message in the user data field.
If the connection establishment is refused for any reason, a SCCP Connection
Refused message is sent back to the BSS. This message may optionally contain,
in the user data field, a DTAP message which is forwarded to the MS.
The procedures in case of connection establishment failure are specified in
3GPP TS 48.008.
### 9.1.2 Establishment procedure in case ii)
In this case, the connection establishment is undertaken by the MSC as soon as
the MSC decides to perform an external handover to a new cell for a point-to-
point call or for participants in a voice group or broadcast call who are
supported on a dedicated channel.
A Connection Request message is sent to the BSS. The user data field of this
message may contain the BSSMAP HANDOVER REQUEST message (see figure 2). It is
preferable to transfer the layer 3 messages in the user data field of the
Connection Request in order to complete the establishment of the relation
between the radio channel requested and the SCCP connection as soon as
possible. However, the MSC shall not piggyback the BSSMAP HANDOVER REQUEST
message in the SCCP Connection Request message if that would result in the
maximum length of the user data field being exceeded.
When receiving the Connection Request message, containing the BSSMAP HANDOVER
REQUEST message, the BSS allocates the necessary resources for the requested
handover. A Connection Confirm message is also returned to the MSC and may
contain the BSSMAP HANDOVER REQUEST ACKNOWLEDGEMENT or QUEUEING INDICATION
message in the user data field.
If the handover resource allocation fails (see 3GPP TS 48.008) before the SCCP
connection is established then the SCCP Connection Refused message may contain
the BSSMAP HANDOVER FAILURE message in the user data field.
The procedures in case of connection establishment failure are specified in
3GPP TS 48.008.
### 9.1.3 Establishment procedure in case iii)
In this case connection establishment is undertaken by the MSC on the
reception of a voice group or broadcast call initiation request.
At the reception of the voice group or broadcast call establishment request
message, the MSC will determine that a voice group or broadcast call is
required and retrieve the required information concerning, inter alia, the
affected cells. If A-interface link sharing does not apply, SCCP connections
are then established by the MSC to the BSS for each of these cells. Otherwise,
if A-interface link sharing applies, only one SCCP connection is established
by the MSC to the BSS. Aditionally, a separate SCCP connection is established
by the MSC to each BSS in the call.
For each SCCP connection to be established, a Connection Request message is
sent to the BSS. The user data field of this message may contain the VGCS/VBS
SETUP or VGCS/VBS ASSIGNMENT REQUEST message (see figure 2). It is preferable
to transfer the layer 3 messages in the user data field of the Connection
Request in order to complete the establishment of the relation between the
radio channel requested and the SCCP connection as soon as possible.
When receiving the Connection Request message, containing the VGCS/VBS SETUP
or VGCS/VBS ASSIGNMENT REQUEST message, the BSS allocates the necessary
resources for the requested call. A Connection Confirm message is also
returned to the MSC and may contain the VGCS/VBS SETUP ACK, VGCS/VBS
ASSIGNMENT RESULT or VGCS/VBS QUEUEING INDICATION message in the user data
field.
If the resource allocation fails (see 3GPP TS 48.008) before the SCCP
connection is established then the SCCP Connection Refused message may contain
the VGCS/VBS SETUP REFUSE or VGCS/VBS ASSIGNMENT FAILURE message in the user
data field.
The procedures in case of connection establishment failure are specified in
3GPP TS 48.008.
### 9.1.4 Establishment procedure in case iv)
In this case, the connection establishment may be performed at the request of
the MSC.
The procedures in case of connection establishment failure are specified in
3GPP TS 48.008.
## 9.2 Connection release
This procedure is always initiated at the MSC side.
A connection is released when the MSC realizes that a given signalling
connection is no longer required. That may occur, in normal cases:
\- when a BSSAP release procedure is terminated;
\- when a handover resource allocation procedure has failed and a signalling
connection was established;
\- when a VGCS/VBS set-up procedure has failed and a call controlling SCCP
signalling connection was established;
\- when a VGCS/VBS assignment procedure has failed and a resource controlling
SCCP signalling connection was established.
The MSC sends a SCCP released message. This message shall not contain any user
data field.
Abnormal cases: a connection failure may be detected by the connection
supervision service provided by SCCP. The procedures in that case are
specified in 3GPP TS 48.008.
## 9.3 Transfer of DTAP and BSSMAP data
The DTAP and BSSMAP Layer 3 messages between the MSC and the BSS are contained
in the user data field of the exchanged SCCP frames. This field is optional
for the Connection Request (CR) (except for BSS originated connections, see
clause 9.1); Connection Confirm (CC) and Connection Refused (CREF). The use of
this field in such frames in the various establishment cases, which allows
reduction n in delay and improves efficiency, is described in clause 9.1. The
user data field is a mandatory parameter of the Data frames (DT); the user
data field always contains either a DTAP or a BSSMAP message.
### 9.3.1 Distribution function
#### 9.3.1.1 ITU-T Recommendation
The distribution of messages between the BSSMAP and DTAP functions and the
distribution/multiplexing of DTAP messages to/from the various radio link
layer 2 access points are performed in an intermediate layer of protocol
between SCCP and Layer 3 later referred as the distribution sublayer.
The protocol for this sublayer simply consists of the management of a one or
two octet Distribution Data Unit. Each SCCP User Data field necessarily
contains such a distribution Data Unit as a header, followed by the length
indicator and the actual Layer 3 BSSMAP or DTAP message.
#### 9.3.1.2 ANSI Specification
The distribution of messages between the BSSMAP and DTAP functions and the
distribution/multiplexing of DTAP messages to/from the various radio link
layer 2 access points are performed by a function of BSSAP referred to as a
distribution function. The distribution of messages is performed based on a
distribution data unit.
The distribution data unit includes a Discrimination Parameter (DP) field,
which is coded on one octet. One bit (i.e. least significant bit) of the octet
referred as a bit D indicates whether it is a DTAP (value D=1) or a BSSMAP
(value D=0) message. The other bits of the octet can be used to separate
message groups for different air interfaces (Figure below).
If a single radio system supports one air interface, the A-interface includes
only one message group and no separation between message groups is needed. The
case is different when radio system supports multiple air interfaces, and the
A-interface includes several message groups. In that case, there must be a
mechanism which facilitates the selection of the right message group according
to the used air interface.
Figure 2a: Distribution of message groups according to examples of the air
interface types
### 9.3.2 Transfer of DTAP messages
The DTAP function is in charge of transferring layer 3 messages from the MS
(resp from the MSC) to the MSC (resp to the MS) without any analysis of the
message contents. The interworking between the layer 2 protocol on the radio
side and signalling system 7 at the landside is based on the use of individual
SCCP connections for each MS and on the distribution function.
The structure of the user data field is given in figure 3. The user data field
contains a distribution data unit, a length indicator, and the actual layer 3
message.
The Distribution Data Unit consists of two parameters: the Discrimination
parameter and the Data Link Connection Identification (DLCI) parameter.
The Discrimination parameter, which is set to the \"Transparent\" value, is
coded on one octet, as follows:
* * *
8 7 6 5 4 3 2 1 0 0 0 0 0 0 0 D
* * *
The discrimination bit D is set to the \"Transparent\" value 1.
The DLCI parameter is used for MSC to BSS messages to indicate the type of
data link connection to be used over the radio interface. In the direction BSS
to MSC the DLCI parameter is used to indicate the type of originating data
link connection over the radio interface. The DLCI parameter is coded in one
octet, as follows:
* * *
8 7 6 5 4 3 2 1 C2 C1 0 0 0 S3 S2 S1
* * *
C2 C1 represents the control channel identification;
C2=0; C1=0 indicates that the control channel is not further specified;
C2=1; C1=0 represents the FACCH or the SDCCH;
C2=1; C1=1 represents the SACCH;
other values are reserved.
S3 S2 S1 represents the SAPI value used on the radio link, which coding is
specified in 3GPP TS 44.006.
Bits 4, 5 and 6 are spare.
The length indicator is coded in one octet, and is the binary representation
of the number of octets of the subsequent layer 3 message parameter.
### 9.3.3 Transfer of BSSMAP messages
The transfer of BSSMAP messages over a SCCP connection allows the BSSMAP
functions in both the MSC and the BSS to identify to which particular Mobile
Station association the exchanged message (e.g. assign, handover request,
etc..) applies.
The structure of the user data field is given in figure 3. The user data field
contains a distribution data unit, a length indicator, and the actual layer 3
message.
The Distribution Data Unit only consists of the Discrimination parameter,
which is set to the \"Not Transparent\" value.
This parameter is coded on one octet, as follows:
* * *
8 7 6 5 4 3 2 1 0 0 0 0 0 0 0 D
* * *
The discrimination bit D is set to the \"Not Transparent\" value 0.
The length indicator is coded in one octet, and is the binary representation
of the number of octets of the subsequent layer 3 message parameter.
The coding of the BSSMAP layer 3 messages is specified in 3GPP TS 48.008.
## 9.4 Connectionless services
Some BSSMAP procedures described in 3GPP TS 48.008 use the connectionless
services of the SCCP.
The structure of the user data field of the unit data message (UDT) is given
in figure 3. The user data field contains a distribution data unit, a length
indicator, and the actual layer 3 message.
The Distribution Data Unit only consists of the Discrimination parameter,
which is set to the \"Not Transparent\" value.
### 9.4.1 Discrimination parameter (ITU-T Recommendation)
This parameter is coded on one octet, as follows:
* * *
8 7 6 5 4 3 2 1 0 0 0 0 0 0 0 D
* * *
The discrimination bit D is set to the \"Not Transparent\" value 0.
The length indicator is coded in one octet, and is the binary representation
of the number of octets of the subsequent layer 3 message parameter.
The coding of the BSSMAP layer 3 messages is specified in 3GPP TS 48.008.
### 9.4.2 Discrimination parameter (ANSI Specification)
This parameter is coded on one octet, as follows:
* * *
8 7 6 5 4 3 2 1 X x X x x x x D
* * *
The discrimination bit D is set to the \"BSSMAP\" value 0.
The bits indicated with X values denote to air interface message groups as
shown in the table \"Coding Of The Discrimination Parameter for PCS 1900\"
(see clause 9.3.2.2).
The length indicator is coded in one octet, and is the binary representation
of the number of octets of the subsequent layer 3 message parameter.
### 9.4.3 User Data Field Structure
* * *
DTAP BSSMAP\ +-----------------+ +-----------------+\ 1 \| DISCRIMINATION \| 1
\| DISCRIMINATION \|\ +-----------------+ +-----------------+\
+-----------------+ \ 2 \| DLCI \| \ +-----------------+ \
\------------------Distribution Data Unit----------------\ +-----------------+
+-----------------+\ 3 \| LENGTH IND L \| 2 \| LENGTH IND L \|\
+-----------------+ +-----------------+\ \----------------------Length
Indicator------------------\ +-----------------+ +-----------------+\ 4 \|
LAYER 3 \| 3 \| LAYER 3 \|\ +-----------------+ +-----------------+\ : :\ : :\
+-----------------+ +-----------------+\ L+3 \| MESSAGE \| L+2 \| MESSAGE \|\
+-----------------+ +-----------------+\ \----------------------Layer 3
message-------------------
* * *
Figure 3: Structure of the User Data Field
# 10 Use of the SCCP for operations and maintenance
O&M messages have to be passed between the O&M functions and the BSS.
If the O&M functions use the MSC-BSS interface to transport messages to the
BSS, then the SCCP of No.7 should be used.
X25 may also be used for the transfer of O&M messages between BSS and OMC,
this is not further considered in the present document.
## 10.1 Connectionless service
The connectionless service of the SCCP is supported at the BSS for management
purposes and can be used for the transport of O&M information. Addressing
should be decided by the operator and manufacturer (e.g. by E164 number, this
may require additional addressing capability at the BSS).
Further information is given concerning the coding of the higher levels of the
O&M information in the 3GPP TS 12.xx series of Technical Specifications.
## 10.2 Connection oriented services
Connection oriented services are also supported by the BSS for management and
call control. Connection oriented services can also be used for the transport
of O&M information. In order to set up the connection additional addressing
capability may be required at the BSS. To use a signalling connection between
the BSS and the OMC via the MSC requires the same BSSOMAP-SCCP interface at
both the BSS and the OMC.
## 10.3 BSS failure
If a system failure at the BSS occurs then sufficient MTP functions to allow
message transmission and reception should be maintained.
#