# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document investigates and evaluates possible solutions to improve
the DCN selection of DECOR feature by adding assistance from the UE.
The assistance information from the UE is intended to reduce signalling
required to select a DCN associated with the UE. It shall complement the
Rel-13 DECOR selection mechanism. All 3GPP RATs are supported i.e. E-UTRAN,
UTRAN, GERAN and NB-IOT. The enhancement can also improve the separation
between dedicated core networks by avoiding redirections between DCNs i.e.
avoiding UEs accessing DCN in which it is not allowed. It is advantageous if
the solution works when the UE change serving PLMN.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[3] 3GPP TS 23.008: \"Organization of subscriber data\".
[4] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**UE Usage Type:** The following definition exists in TS 23.008 [3].
_\"The UE Usage Type indicates the usage characteristics of the UE for use
with Dedicated Core Networks (DCN); it is subscription information that
enables the UE to be served by a specific DCN (i.e. one or more MME/SGSN and
optionally one or more SGW/PGW/PCRF), as described in TS 23.401 [2].\ UE Usage
Type is permanent data and conditionally stored in HSS, MME and SGSN\"_.
**DCN Isolation/Separation:** DCN isolation/separation is the ability of the
mechanism to prevent re-routing cases.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] apply.
# 4 Architecture
## 4.1 Architecture Reference Model
Figure 4.1-1: Architecture Reference Model for Enhanced DECOR. A UE can only
be attached to one CN operator
NOTE: The reference point between RAN and DCN can be S1, Iu or Gb as in Rel-13
and/or variants of these to handle new and existing RAN alternatives.
4.2 Architecture Assumptions and Requirements
The purpose of enhancement to Rel-13 DECOR feature is to reduce the signalling
needed to select a dedicated core network. The difference compared to the
Rel-13 DECOR is that the UE can be impacted. Therefore, enhanced DECOR shall
be based on Rel-13 DECOR and shall only introduce backward compatible
enhancements to Rel-13 DECOR.
The enhancements to the Rel-13 DECOR feature shall work when one (or several)
of the sharing partners in a shared network has deployed DCNs. 2G and 3G
networks shall support Enhanced DECOR for the cases:
(i) when broadcasting multiple PLMNs and
(ii) when broadcasting only a common PLMN.
LTE networks shall support the case when broadcasting multiple PLMNs. The
network, irrespectively of access type, can be in either MOCN or GWCN
configuration.
For 2G UEs, the support of Enhanced DECOR shall be independent of whether the
UE supports GERAN network sharing or not.
Editor\'s note: The details of network sharing for NB-CIoT are still being
discussed. When clarified, this clause needs to be updated.
Editor\'s note: It is FFS whether the eDECOR mechanism shall be supported for
the cases (i) of network-sharing non-supporting UEs in 2G and (ii) in 2G and
3G networks that only broadcast a common PLMN.
Additional architecture requirements for enhanced DECOR:
\- UEs not supporting enhanced DECOR attaching to a network supporting
enhanced DECOR shall be handled as in Rel-13 DECOR.
\- UEs supporting enhanced DECOR attaching to a network not supporting
enhanced DECOR shall be handled as in Rel-13 DECOR.
# 5 Key Issues
## 5.1 Key Issue #1: DCN selection by UE assistance
The assistance information from the UE is intended to reduce signalling
required to select a DCN associated with the UE. It shall complement the
Rel-13 DECOR selection mechanism. All 3GPP RATs are supported i.e. E-UTRAN,
UTRAN, GERAN and NB-IOT. The enhancement can also improve the separation
between dedicated core networks by avoiding redirections between DCNs i.e.
avoiding UEs accessing DCN in which it is not allowed. It is advantageous if
the solution works when the UE change serving PLMN.
## 5.2 Key Issue 2: Congestion Control for DCN Types
### 5.2.1 Description
With Dedicated Core Networks (DCNs), a UE is directed by the RAN so that it is
served by a DCN with a particular characteristic as per the subscription
profile. In the current eDECOR study, the UEs are expected to provide some
assistance information that will help the RAN nodes select an appropriate DCN.
As a DCN may be able to serve different DCN Types, the congestion on the
network may increase if a large number of UEs providing different DCN Types
are served by the same DCN. The current methods to perform congestion control
may not be suitable for eDECOR since DCNs are not enhanced to perform
congestion control based on DCN characteristics. Rather, they enable
congestion control based on other aspects e.g. delay tolerance. However, if
all the UEs that use eDECOR are also configured for to be delay tolerant, then
this factor will not play a major role when determining how and for which UEs
congestion control should be applied regardless of the DCN Types for those
UEs.
When a particular DCN experiences congestion, the network may need to decide
how to control congestion based on the DCN Type. Thus, this key issue aims to
provide solutions to control the congestion level on a dedicated core network
based on the DCN Types it supports.
### 5.2.2 Architectural Requirements
The following architectural requirements shall be supported:
\- The system shall be able to control congestion on the network based on DCN
Type.
## 5.3 Key Issue #3: Load balancing within DCN
### 5.3.1 Description
The MME Load Balancing functionality in TS23.401, s4.3.7.2 allows UEs that are
entering into an MME Pool Area to be directed to an appropriate MME in a
manner that achieves load balancing between MMEs. This is achieved by setting
a Weight Factor for each MME node, such that the probability of the eNodeB
selecting an MME is proportional to its Weight Factor.
Dedicated Core Network (DCN) is used to serve specific type(s) of subscriber.
It is possible that in a given MME pool MME nodes are deployed to serve
different sets and different numbers of DCN types. In this case the existing
MME Load Balancing (based on the Weight Factor per MME node) cannot achieve
the desired load balance within the MME pool because it is not possible for
the RAN to route a UE to any MME of the pool.
Hence there is a need to enhance the existing Load Balancing mechanism (i.e.
Weight Factor per MME node) so that a load balancing between the MMEs of the
pool that are serving a given the DCN could be achieved.
### 5.3.2 Architectural Requirements
The following architectural requirement shall be supported:
\- The MME Load balancing shall be enhanced so that the load balancing between
MMEs of the same MME pool can be achieved within the same DCN.
# 6 Solutions
## 6.1 Solution #1: UE assistance information for selection of EPC DCN
### 6.1.1 Solution Description
The high-level principle of the solution for selection of a different EPC DCNs
is shown in the figure below.
Figure 6.1.1-1: Solution for Core network selection based on assistance
information from UE
The high level principles are as follows:
\- The UE uses two parameters to assist DCN selection:
\- The DCN Selection Assistance parameter which is received from the network
and stored per PLMN in the UE. The DCN Selection Assistance parameter is
assigned by the operator to a type of DCN the operator is using. It may be a
scalar, but the format is stage 3 decision. As an example one DCN Selection
Assistance value may e.g. indicate CIoT DCN, whereas another value may
indicate MBB DCN, etc. DCN Selection Assistance values are operator/PLMN
specific and reflect the different DCNs with specific characteristics and
functions that the operator has deployed.
\- The NAS Type parameter is assigned by the UE and reflects which NAS
protocol variant the UE uses. The NAS Type is used during DCN selection and
serving node selection to ensure that the selected node can respond to the NAS
request. An assignment to a serving node that cannot respond to the NAS
request could otherwise lead to high network load from UEs performing
repetitive attach attempts, especially MTC devices can be very persistent when
the network is not responding. The NAS Type may be a scalar, but the format is
stage 3 decision. One specific NAS Type value may e.g. indicate the simplified
NAS used for NB-IOT, whereas another NAS Type value may indicate the NAS used
for EPC MBB, etc. NAS Types are standardized values reflecting the standard
and its different NAS protocol variants.
NOTE: The solution ensures NAS protocol compliance between NAS protocol used
by the UE and the NAS protocol(s) supported by the potential serving node in
the selected DCN.
\- A DCN Selection Assistance parameter is stored in the UE per PLMN ID. The
same DCN Selection Assistance parameter can be used for multiple PLMN IDs
based on the NAS Equivalent PLMNs list provided to the UE. This simplifies and
sending storing duplicated parameters for operators using multiple PLMN IDs
e.g. shared network deployments. A NAS Equivalent PLMNs list may span over
multiple operator networks depending on the PLMN IDs in the NAS Equivalent
PLMNs list. In case NAS Equivalent PLMNs lists are overlapping, the DCN
Selection Assistance parameter may need to be stored differently e.g. per PLMN
ID. See 6.1.1.1 for details.
\- A DCN Selection Assistance parameter is stored in the UE per PLMN ID in
persistent memory. If there is a DCN Selection Assistance parameter stored in
the UE for a PLMN ID, that parameter shall take precedence over the Default
DCN Selection Assistance parameter at future attaches to the PLMN. A serving
PLMN assigns a DCN Selection Assistance parameter based on the UE Usage Type
received from the HSS and other information as specified in Rel-13 DECOR.
\- Each UE may in addition have a Default DCN Selection Assistance parameter
which is pre-configured into the UE e.g. in the USIM. The pre-configured
Default DCN Selection Assistance parameter is used by the UE when no stored
DCN Selection Assistance parameter exists for the specific PLMN the UE is
making an initial attach to. The pre-configured Default DCN Selection
Assistance parameter does not change except when updated by operator O&M
commands.
Editor\'s note: It is FFS if there is a Default DCN Selection Assistance
parameter that can be used for all PLMNs or if there is a Default DCN
Selection Assistance parameter per PLMN.
\- DCN selection with assistance information in the UE is used together with
the Rel-13 DECOR function.
\- When the UE is registering to a new location in the network, i.e. in
Attach, mobility TA/RA update (but not periodic TA/RA updates), the UE always
provides the DCN Selection Assistance parameter and the NAS Type parameter to
the RAN.
\- RAN receives the NAS Type parameter as part of the RRC-signalling. If the
network supports the requested NAS Type, RAN continues to process the UE
request. If the network does not support the requested NAS Type, RAN rejects
the UE request by an indication to the UE. The reject indication causes the UE
to not retry the same request.
\- If information based on a native GUTI is present in the RRC-signalling for
attach/TAU/RAU and a serving node corresponding to the GUTI can be found in
the NNSF configuration (i.e. legacy selection can be performed), the normal
GUTI based selection takes precedence over the DCN Selection Assistance and
NAS Type parameters. The RAN selects an appropriate dedicated core network
(e.g. MBB-EPC DCN, CIoT-EPC DCN or other EPC DCN) based on the DCN Selection
Assistance parameter and RAN configuration. The network selects a DCN which is
compatible with the NAS type parameter indicated by the UE. The RAN forwards
the DCN Selection Assistance parameter and NAS Type in RAN signalling to the
CN.
\- When a serving node (e.g. MME) which processes a registration discovers
that the UE provided DCN Selection Assistance parameter and the UE Usage Type
parameter retrieved from the HSS and mapped to a DCN (according to Rel-13
DÉCOR) does not match, the serving node sends a new DCN Selection Assistance
parameter to the UE. Such update may for example occur when the DCN Selection
Assistance parameter stored in the UE has become obsolete or when the serving
node decides to update the UE with a new PLMN specific (or Equivalent PLMNs
list specific) DCN Selection Assistance parameter.
\- The serving node also provides a new DCN Selection Assistance parameter
when the UE Usage Type has been updated in the subscription information
leading to a change of DCN. This is done as part of the GUTI Reallocation
procedure.
\- If the DNS database is based on the UE usage type that is different
compared to the DCN Selection Assistance parameter, the DNS mechanism needs to
be enhanced. It is proposed that the DNS entry record is enhanced to add the
DCN selection assistance parameter supported by that node.
#### 6.1.1.1 Use of DCN Selection Assistance parameter at a registration
attempt
A UE which does not have a network assigned DCN Selection Assistance parameter
associated with the selected PLMN stored, will use, if configured, its Default
standardized DCN Selection Assistance parameter when attempting to register or
perform registration update to the selected PLMN.
A UE which has a network assigned DCN Selection Assistance parameter
associated with the selected PLMN stored will use that as a requested DCN when
attempting to register or perform registration update to the selected PLMN.
The selected PLMN may be a home PLMN or a visited PLMN.
When a UE\'s configuration is changed with a new Default standardized DCN
Selection Assistance parameter, the UE deletes any stored network assigned DCN
Selection Assistance parameter associated for all PLMNs.
Based on the requested DCN (the DCN Selection Assistance parameter received
from the UE) the RAN node selects a DCN and a DCN serving node as described in
step 3 clause 6.1.1.2. If the RAN node does not support eDECOR then DCN and a
DCN serving node is selected as in rel-13 Décor i.e. disregarding the
requested DCN from the UE.
As described in TS 23.401 [2] clause 4.3.25.1 \"the serving network selects
the DCN based on the operator configured (UE Usage Type to DCN) mapping, other
locally configured operator\'s policies and the UE related context information
available at the serving network, e.g. information about roaming\". If the
derived DCN does not match the selected DCN by the UE a redirection to another
DCN may be performed. The finally assigned DCN is sent to the UE as a network
assigned DCN Selection Assistance parameter in the NAS Accept message.
The UE receiving a network assigned DCN Selection Assistance parameter shall
associate this parameter with the serving PLMN. The UE shall also associate
the network assigned DCN Selection Assistance parameter with all not yet
associated PLMNs included in the NAS Equivalent PLMN list if such a list is
received as part of the NAS Accept message.
Editor\'s note: It is FFS if the NAS Equivalent PLMN list can be used for
associating PLMNs to the network assigned DCN Selection Assistance parameter.
#### 6.1.1.2 Initial selection
The procedure is initiated when a UE, e.g. an MBB UE, is not registered at
current location in the network. A DCN is selected when a new core node is
selected. The procedure is applicable in dedicated 2G, 3G and 4G networks, in
shared 4G networks, and for network-sharing supporting UEs in 2G and 3G
networks that broadcast multiple PLMNs in the system information.
Figure 6.1.1.2-1: Initial selection based on selection assistance information
1\. RRC connection established.
2\. The UE provides NAS message Initial Attach, TAU Request or RAU Request. In
a shared 4G network the UE also provides Selected PLMN information to the RAN.
Such information is also provided by network-sharing supporting UEs in shared
2G and 3G networks that broadcast multiple PLMNs. When available at the UE,
the UE includes both a DCN Selection Assistance parameter in the NAS message
and in the RRC message. The UE includes a NAS Type parameter in the RRC
message. The NAS Type indicates which NAS protocol variant is used in the
included NAS.
3\. If Selected PLMN information was provided by the UE, the RAN first selects
the correct core network operator based on this information. The RAN node
selects a DCN and a DCN serving node (\"DCNsn\") within the network of the
selected core network operator based on the DCN Selection Assistance parameter
and the NAS Type parameter and based on configuration in the RAN node, e.g.
DCN information received in RAN from serving nodes in the S1 Setups. There may
be several different DCNs configured, e.g. multiple CIoT DCNs and normal EPC
DCNs using different potentially not compatible NAS protocols. The NAS Type
ensures that the NAS message is forwarded to a DCN and serving node which is
compatible with the NAS type indicated by the UE.
4\. The NAS message is sent to the selected node of the selected DCN of the
selected core network operator. RAN node load balancing according to DECOR is
applied if there are several DCNs or nodes matching the selection criteria.
The DCN selection assistance parameter and the NAS Type parameter are provided
by the RAN to the DCN serving node together with the NAS message.
Additionally, the DCN selection assistance parameter is also provided inside
the NAS PDU. Providing the parameter on both the NAS protocol and the
S1AP/RANAP protocol allows for higher security and can handle more deployment
options (e.g. when non-supporting RAN nodes are still present).
5\. The serving node in the selected DCN (e.g. MME, SGSN) may retrieve the
subscribed UE Usage Type from HSS.
6\. The serving node examines the DCN selection assistance parameter from NAS
and S1AP, the UE Usage Type provided by the HSS (as available), other
information available at the node (e.g. UE capabilities, subscription
information, SLA information, local configuration), and verifies that the
selected node and DCN is suitable to serve the UE. If the node is suitable to
serve the UE the flow continues at step 9.
7-8. The NAS Message Redirection procedure may be used to select a suitable
DCN. DECOR rerouting can not change the selected core network operator, it can
only select a suitable DCN within the same core network operator.
9\. The NAS procedure executes normally.
10\. The new DCN serving node examines the NAS provided DCN selection
assistance parameter and may choose to send a new DCN selection assistance
parameter to the UE in the NAS Accept message t. The UE updates its stored DCN
selection assistance parameter, for the serving PLMN or, if provided, for the
NAS Equivalent PLMNs list.
11\. The UE receives that NAS Accept message and confirms the reception by
sending a NAS Complete message to the DCN serving node. For TAU messages, a
NAS Complete message is only sent if a new GUTI was received in the TAU Accept
message (see TS 23.401 [2]).
There is no difference in this signaling flow whether the shared network is
deployed using MOCN or GWCN.
Editor\'s note: The case of network-sharing non-supporting UEs in GERAN and
UTRAN and the case of GERAN and UTRAN networks that only broadcast a common
PLMN is FFS.
#### 6.1.1.3 eNodeB configuration
The purpose of the S1 Setup procedure is to exchange configuration data needed
for the eNB and the MME to correctly interoperate on the S1 interface.
Figure 6.1.1.3-1 shows how the legacy S1 Setup procedure is used to configure
the eNodeB with the additional information needed by the eDECOR solution.
Figure 6.1.1.3-1 S1 Setup Procedure with additional eDECOR info
1) The eNodeB initiates the procedure by sending an S1 Setup Request message
to the MME.
2) The MME responds with an S1 Setup Response message which includes
additional information to support the eDECOR functionality. The additional
information is:
\- DCN Selection Assistance information. The information indicates the DCN(s)
supported by the MME.
\- NAS Type. The NAS Type indicates the NAS type(s) supported by the MME.
### 6.1.2 Impacts on existing nodes
The following nodes are impacted:
\- UE:
\- New DCN Selection Assistance parameter is sent by the UE in the RRC message
and the NAS message.
\- New NAS Type parameter is sent by the UE in the RRC message and the NAS
message.
\- Receive and store new DCN Selection Assistance parameter from the network.
\- Store a pre-configured Default DCN Selection Assistance parameter e.g. in
USIM.
\- RAN/eNB:
\- Using new DCN Selection Assistance parameter and NAS Type parameter from
the UE in the selection of DCN and serving node.
\- The RAN/eNB receives DCN information and supported NAS Types from each core
node in the S1 Setup.
\- MME:
\- Receive new DCN Selection Assistance parameter from the UE in Attach/TAU
Request messages.
\- Receive new NAS Type parameter from the eNB in RAN-CN message.
\- Send new DCN Selection Assistance parameter to the UE in Attach/TAU Accept
messages.
\- Send DCN information and NAS Types to eNB nodes in S1 Setup.
\- SGSN:
\- Receive new DCN Selection Assistance parameter from the UE in Attach/RAU
Request messages.
\- Receive new NAS Type parameter from the UE in Attach/RAU Request messages.
\- Send new DCN Selection Assistance parameter to the UE in Attach/RAU Accept
messages.
\- Send DCN information and NAS Types to RAN nodes in Iu/Gb setup.
### 6.1.3 Solution evaluation
Editor\'s note: Evaluation at solution level.
## 6.2 Solution #2: UE assisted DCN selection
### 6.2.1 Solution Description
In this solution, the UE provides DCN type or DCN ID to the RAN node to assist
DCN selection. The two alternatives (provision of DCN type or DCN ID) are
described as follows:
The CN node (MME or SGSN) provisions the DCN information (including, for each
DCN, the DCN Type and MMEGI or SGSN Group ID) to the RAN node, and then the
RAN node forwards the DCN information (including DCN Type for each DCN) to the
UE. The UE selects the DCN type which matches the UE Usage Type, and provides
the DCN type to the RAN node for DCN selection. Here, DCN Type is introduced
to identify the type of DCN which serves specific UE Usage Type(s).
#### 6.2.1.2 Procedure
The following figure shows the procedure of Alternative 1, which can be used
for DCN selection during Attach, TAU and RAU procedures.
Figure 6.2.1.2-1: UE assisted DCN selection
1\. The MME (or SGSN) sends to the RAN node the DCN information, which as
shown in Table 6.2.1.2-1 includes the DCN Type and MMEGI (or, SGSN Group ID),
for each DCN.
NOTE 1: The MME/SGSN can update the DCN information to the RAN at any time
when it\'s needed.
NOTE 2: Which message(s) is/are used to send the DCN information to the RAN
node is decided by Stage 3.
2\. The UE sends a RRC Connection Request to the RAN Node. The RRC Connection
Request may contain an UE DCN selection capability indication.
3\. The RAN node sends the DCN information, which as shown in Table 6.2.1.2-2
includes the DCN Type for each DCN, to the UE in RRC Connection Setup message.
4\. Based on the received DCN information, the UE selects a DCN with a DCN
Type which matches the UE Usage Type. If the UE finds no DCN Type which
matches the UE Usage Type, the UE may select another RAN Node to re-initiate
this procedure (i.e. start from step 2).
Editor\'s note: It is FFS whether the UE Usage type parameter is stored in the
USIM or configured in the device.
5\. The UE provides the DCN Type of the selected DCN, together with a NAS
message, in a RRC Connection Setup Complete message to the RAN Node.
> NOTE 3: The NAS message can be an Attach Request, TAU Request or RAU
> Request.
6\. The RAN node\'s NNSF selects the MMEGI or SGSN Group ID which corresponds
to the DCN Type provided by the UE, and further a MME/SGSN based on the MMEGI
or SGSN Group ID.
7\. The RAN node sends the NAS message to the selected MME/SGSN. The MME/SGSN
checks whether it should serve the UE as specified in TS 23.401 [2] clause
5.19.2.
8\. Completion of the NAS procedure triggered by the NAS message, as specified
in TS 23.401 [2] clause 5.19.2.
Table 6.2.1.2-1: DCN information provided by the MME/SGSN and stored in the
RAN node
* * *
Field Description E-UTRAN UTRAN/\ GERAN
For each DCN:
DCN Type Indicates the type of the Dedicated Core Network serving the UEs of
specific usage type(s) X X
MMEGI MME Group ID of the DCN X
SGSN Group ID SGSN Group ID of the DCN X
* * *
Table 6.2.1.2-2: DCN information provided by the RAN node to the UE
* * *
Field Description E-UTRAN UTRAN/\ GERAN
For each DCN:
DCN Type Indicates the type of the Dedicated Core Network serving the UEs of
specific usage type(s) X X
* * *
### 6.2.2 Impacts on existing nodes
UE:
\- Select DCN Type or DCN ID based on DCN information and UE Usage Type, and
provide the selected DCN Type or DCN ID to the RAN node.
RAN Node:
\- Receive the DCN Information from the CN Node and provide (part of) the DCN
Information to the UE;
\- Select the DCN based on the DCN Type or DCN ID provided by the UE and the
stored received DCN information from the CN node.
MME/SGSN:
\- Provision of DCN Information to the RAN Node.
### 6.2.3 Solution evaluation
Editor\'s note: Evaluation at solution level.
## 6.3 Solution #3: Dedicated Core Network (DCN) selection based on UE\'s
indication to RAN
### 6.3.1 Description
This solution is based on the UE subscribed UE Usage Type provided by the UE
to select a DCN of the UE\'s dedication. There are two main stages:
\- RAN Node configuration; and
\- Dedicated Core Network (DCN) selection.
#### 6.3.1.1 RAN Node configuration.
Figure 6.3.1-1 shows the procedure of eNB configuration with the UE Usage Type
list supported by the MME. It is assumed that MMEs and SGSNs are configured by
the Operator (e.g. via O&M) with the UE Usage Types to be supported. Each
MME/SGSN can be configured to support one or more UE Usage Types.
Figure 6.3.1.1-1: eNB configuration with the UE Usage Types supported by the
MME
A) The MME initiates MME Configuration Update procedure (TS 36.413 [4], clause
8.7.5) by sending the MME Configuration Update message to the eNB with the
updated configuration data, including the UE Usage Type list parameter. The UE
Usage Type list parameter contains a list of the UE Usage Types that the MME
is configured to support. If the MME is non-dedicated MME (i.e. default MME)
and is configured to serve UEs of any dedication when the required dedicated
MME is not available or not supported, the MME may omit the UE Usage Type list
indication to the eNB (i.e. meaning it supports UEs of any dedication).
B) The eNB stores the UE Usage Type list for each MME and responds with an MME
Configuration Update Acknowledge message to acknowledge that it successfully
updated the configuration data.
Figure 6.3.1.1-2 shows another procedure for eNB configuration update during
the S1 Setup procedure.
During the S1 Setup procedure (TS 36.413 [4], clause 9.1.8.5) the MME may
provide or update its supported UE Usage Types in the RAN Node. This would
allow for a more dynamic option for update of the UE Usage Type list in the
RAN Node based on operator\'s policy.
Figure 6.3.1.1-2: eNB configuration with the UE Usage Types of the MME during
S1 Setup procedure
In 2G/3G, the configuration of the RAN Node with the list of UE Usage Types
supported by each connected SGSN can be done via the O&M module.
#### 6.3.1.2 DCN selection.
**_Figure 6.3.1.2-1 shows a DCN selection based on the UE Usage Type
indication by the UE._** The procedure is applicable in dedicated 2G, 3G and
4G networks, in shared 4G networks, and for network-sharing supporting UEs in
2G and 3G networks that broadcast multiple PLMNs in the system information.
There is no difference in this signaling flow whether the shared network is
deployed using MOCN or GWCN.
Figure 6.3.1.2-1: DCN selection based on UE\'s indication to RAN
1) The UE initiates RRC connection establishment procedure triggered by
Initial Attach, TAU or RAU Request procedures.
2) The UE indicates its subscribed UE Usage Type in the RRC Connection Setup
Complete message to the RAN Node. In case the RAN Node broadcasts multiple
PLMNs, the supporting UEs also indicate selected PLMN information.
NOTE 1: The UE Usage Type of the UE may have been preconfigured in the UE or
UICC by the operator.
3) The RAN Node, based on the UE Usage Type indication received from the UE,
selects an MME/SGSN that supports the UE Usage Type indicated by the UE. The
selected MME/SGSN shall be within the core network operator determined from
the selected PLMN information provided by the UE. If there are multiple
MMEs/SGSNs supporting the UE Usage Type of the UE, the RAN Node applies the
load balancing procedure (see, TS 23.401 [2], clause 4.3.7.2) to select one of
these MMEs/SGSNs.
NOTE 2: In case of PLMN specific values for the UE Usage Type, it is possible
that the UE is provided or configured with the UE Usage Types of the roaming
partners so that the UE can indicate the UE Usage Type values compatible with
those of the roaming partner, when roaming.
4) The RAN Node forwards the NAS message to the selected MME/SGSN within the
Initial UE Massage / UL-Unitdata. Along with the NAS message from the UE, the
RAN Node includes the UE Usage Type parameter from the UE, as well.
5) The MME/SGSN may interact with the HSS to verify the UE\'s subscription for
the indicated UE Usage Type. If the UE subscription verification fails, based
on operator\'s policy the MME/SGSN either reroutes the NAS Message to another
DCN or rejects the NAS message from the UE with an appropriate reject cause.
NOTE 3: Whether an existing or a new reject cause to be used is a Stage 3
decision.
6) Attach/TAU procedure continues according to TS 23.401 [2].
Editor\'s note: The case of network-sharing non-supporting UEs in GERAN and
UTRAN and the case of GERAN and UTRAN networks that only broadcast a common
PLMN is FFS.
### 6.3.2 Impacts on existing nodes and functionality
UE:
\- The UE is preconfigured with its subscribed UE Usage Type (either in the UE
or in the USIM). The UE may also be provided with the non-standardised (i.e.
PLMN specific) UE Usage Types of the roaming partners, if any.
\- The UE provides the subscribed UE Usage Type to the RAN Node. When roaming,
the UE may indicate an UE Usage Type value compatible with the roaming PLMN,
if not standardised.
RAN Node:
\- Stores the UE Usage Types supported by each MME or SGSN.
\- Selects a MME or a SGSN based on the UE Usage Type provided by the UE.
MME/SGSN:
\- Configures and updates the RAN Node with the supported UE Usage Types.
\- May reject the initial NAS message from the UE if subscription verification
fails.
### 6.3.3 Solution Evaluation
Editor\'s note: Evaluation at solution level.
## 6.4 Solution #4: Assignment of DCN during the attach, TAU/RAU and service
request procedure
### 6.4.1 General
During the Attach and TAU/RAU procedure, if UE is registered to a Decor
network, MME/SGSN includes an indication in the Attach Accept or TAU/RAU
Accept message to the UE, the indication is used to indicate UE that a DCN is
registered. If the UE is registered in MME, the GUTI is included in Attach/TAU
accept message. UE derives the MME group ID of DCN from GUTI when the
indication is included in the Attach/TAU Accept message and stores as DCN MME
group ID. If the UE is registered in SGSN, the SGSN includes the Null-NRI/SGSN
group ID of the DCN in the Attach/RAU Accept message. UE stores the received
Null-NRI/SGSN group ID as DCN Null-NRI/SGSN group ID when the indication is
included in the Attach/RAU Accept message.
UE always stores the latest DCN MME group ID or DCN Null-NRI/SGSN Group ID
received from MME/SGSN. This information is kept in the UE with the old GUTI
and security context when the UE detached from the network.
Figure 6.4.1-1: UE get the identity of DCN
#### 6.4.1.2 DCN selection
When the UE initiates the RRC connection establishment procedure, If the UE
does not have the information about DCN, the NAS redirect procedure as defined
in Rel-12 is used to reroute the UE to the DCN.
When UE initiates the RRC connection establishment procedure in E-UTRAN, if
the UE has a stored DCN MME group ID, UE includes the DCN MME group ID in the
RRC message instead of the old GUMMEI which is derived from old GUTI. If the
last registered MME of UE is in DCN, the DCN MME group ID is same as the MME
Group ID included in old GUTI. If the last registered MME of UE is not in DCN,
the DCN MME group ID is different to the MME Group ID included in the old
GUTI. When UE initiates the RRC connection establishment procedure in UTRAN,
if the UE has a stored DCN Null-NRI/SGSN group ID, UE includes the DCN Null-
NRI/SGSN group ID in the RRC message. The DCN MME Group ID or DCN Null-
NRI/SGSN group ID is used for DCN selection by the eNB. eNB is configured to
select the same DCN based on the MME group ID and Null-NRI/SGSN Group ID of
neighbouring pool areas. If the eNB does not support the DCN for the UE, the
eNB selects a MME/SGSN from the default DCN or based on the operator policy.
Figure 6.4.1.2-1: DCN selection procedure
If the DCN is selected for the UE, during the Attach and TAU/RAU procedure,
the old GUTI /old P-TMSI from NAS message is used by the MME/SGSN in DCN to
get the UE context from the old MME/SGSN. For the service request procedure,
the S-TMSI/P-TMSI in the S1-AP Initial UE message is used by the DCN MME to
identify the UE as normal behaviour.
### 6.4.2 Impacts on existing nodes
Editor\'s note: Capture impacts on existing 3GPP nodes (e.g. UE, MME, eNB,
S-GW, P-GW etc.).
### 6.4.3 Solution evaluation
Editor\'s note: Evaluation at solution level.
## 6.5 Solution #5: DCN selection based on Usage Type and DCN Type
### 6.5.1 Solution Description
The high-level principle of the solution for selection of a different EPC DCNs
is shown in the figure below.
Figure 6.5.1-1: Solution for Core network selection based on assistance
information from UE
The high level principles are as follows:
\- The UE uses two parameters to assist DCN selection:
> \- The UE uses following parameters to assist DCN selection:
\- The DCN Selection Assistance parameter which is received from the network
and stored per PLMN in the UE. The DCN Selection Assistance parameter is
assigned by the operator to a type of DCN the operator is using. It may be a
scalar, but the format is stage 3 decision. As an example one DCN Selection
Assistance value may e.g. indicate CIoT DCN, whereas another value may
indicate MBB DCN, etc. DCN Selection Assistance values are operator/PLMN
specific and reflect the different DCNs with specific characteristics and
functions that the operator has deployed.
\- A DCN Selection Assistance parameter is stored in the UE per PLMN ID.
\- A serving PLMN assigns a DCN Selection Assistance parameter based on the UE
Usage Type received from the HSS and other information as specified in Rel-13
DECOR.
\- Each UE may in addition have a default Usage type parameter which is pre-
configured into the UE e.g. in the USIM. The pre-configured default Usage type
parameter is used by the UE on the NAS message when no stored DCN Selection
Assistance parameter exists for the specific PLMN the UE is making an initial
attach to. The pre-configured default Usage type parameter does not change
except when updated by operator O&M commands.
\- DCN selection with assistance information in the UE is used together with
the Rel-13 DECOR function.- When the UE is registering to a new location in
the network, i.e. in Attach, mobility TA/RA update (but not periodic TA/RA
updates), the UE provides the DCN Selection Assistance parameter to the RAN,
if stored DCN Selection Assistance parameter associated with the serving PLMN
exists.
\- If information based on a native GUTI is present in the RRC-signalling for
attach/TAU/RAU and a serving node corresponding to the GUTI can be found in
the NNSF configuration (i.e. legacy selection can be performed), the normal
GUTI based selection takes precedence over the DCN Selection Assistance and
NAS Type parameters. The RAN selects an appropriate dedicated core network
(e.g. MBB-EPC DCN, CIoT-EPC DCN or other EPC DCN) based on the DCN Selection
Assistance parameter and RAN configuration.
\- When a serving node (e.g. MME) which processes a registration discovers
that the UE Usage Type parameter retrieved from the HSS and mapped to a DCN
(according to Rel-13 DÉCOR) does not match, the serving node sends a new DCN
Selection Assistance parameter to the UE. Such update may for example occur
when the DCN Selection Assistance parameter stored in the UE has become
obsolete.
\- The serving node also provides a new DCN Selection Assistance parameter
when the UE Usage Type has been updated in the subscription information. This
is done as part of the GUTI Reallocation procedure.
\- If the DNS database is based on the UE usage type that is different
compared to the DCN Selection Assistance parameter, the DNS mechanism needs to
be enhanced. It is proposed that the DNS entry record is enhanced to add the
DCN selection assistance parameter supported by that node.
#### 6.5.1.1 Use of DCN Selection Assistance parameter at a registration
attempt
A UE which has not yet received a network assigned DCN Selection Assistance
parameter associated with the selected PLMN will use its Default Usage type
parameter on the NAS message when attempting to register to the selected PLMN.
The RAN selects the DCN serving node as in rel-13 Décor, i.e. the RAN node
select the DCN serving node without the DCN Selection Assistance parameter.
When the serving node (e.g. MME) receives the message it can determine the
dedicated core network based on the provided usage type without the
interrogation with the HSS.
A UE which has received a network assigned DCN Selection Assistance parameter
associated with the selected PLMN will use that as a requested DCN when
attempting to register to the selected PLMN. The selected PLMN may be a home
PLMN or a visited PLMN.
Based on the requested DCN (the DCN Selection Assistance parameter received
from the UE) the RAN node selects a DCN and a DCN serving node as described in
step 3 clause 6.5.1.2. If the RAN node does not support eDECOR then DCN and a
DCN serving node is selected as in rel-13 Décor i.e. disregarding the
requested DCN from the UE.
As described in TS 23.401 [2] clause 4.3.25.1 \"the serving network selects
the DCN based on the operator configured (UE Usage Type to DCN) mapping, other
locally configured operator\'s policies and the UE related context information
available at the serving network, e.g. information about roaming\". If the
derived DCN does not match the selected DCN by the UE a redirection to another
DCN may be performed. The finally assigned DCN is sent to the UE as a network
assigned DCN Selection Assistance parameter in the NAS Accept message.
The UE receiving a network assigned DCN Selection Assistance parameter shall
associate this parameter with the serving PLMN which is indicated in the
TAI/RAI information.
In the network sharing case, if the serving dedicated PLMN information is not
included in the RAI information, one additional dedicated PLMN information is
included and sent back to the UE. In this case the UE should associate the
received DCN Selection Assistance parameter with the PLMN indicated in the RAI
and with the additional dedicated PLMN.
#### 6.5.1.2 Initial selection
The procedure is initiated when a UE, e.g. an MBB UE, is not registered at
current location in the network. A DCN is selected when a new core node is
selected. The procedure is applicable in dedicated 2G, 3G and 4G networks, in
shared 4G networks, and for network-sharing supporting UEs in 2G and 3G
networks that broadcast multiple PLMNs in the system information.
Figure 6.5.1.2-1: Initial selection based on selection assistance information
1\. RRC connection established.
2\. The UE provides NAS message Initial Attach, TAU Request or RAU Request. In
a shared 4G network the UE also provides Selected PLMN information to the RAN.
Such information is also provided by network-sharing supporting UEs in shared
2G and 3G networks that broadcast multiple PLMNs. When available at the UE,
the UE includes the pre-configured default usage type parameter in the NAS
message or the DCN Selection Assistance parameter in the RRC message. The DCN
Selection Assistance parameter is only included if the stored DCN Selection
Assistance parameter associated with the selected PLMN exists. In other case
the pre-configured default usage type is included.
3\. If Selected PLMN information was provided by the UE, the RAN first selects
the correct core network operator based on this information. The RAN node
selects a DCN and a DCN serving node (\"DCNsn\") within the network of the
selected core network operator based on the DCN Selection Assistance parameter
and based on configuration in the RAN node, e.g. DCN information received in
RAN from serving nodes in the S1 Setups. There may be several different DCNs
configured, e.g. multiple CIoT DCNs and normal EPC DCNs using different
potentially not compatible NAS protocols. If the DCN Selection Assistance
parameter is not provided by the UE, the RAN selects the DCN serving node as
in rel-13 DECOR.
4\. The NAS message is sent to the selected node of the selected DCN of the
selected core network operator. RAN node load balancing according to DECOR is
applied if there are several DCNs or nodes matching the selection criteria.
5\. When no subscription stored in the DCN serving node before, the DCN
serving node examines the UE Usage Type provided by the UE in the NAS message
(if available), other information available at the node (e.g. UE capabilities,
SLA information, local configuration), and verifies that the selected node and
DCN is suitable to serve the UE. If the node is not suitable to serve the UE
the flow continues at step 7.
The serving node in the selected DCN (e.g. MME, SGSN) may retrieve the
subscribed UE Usage Type from HSS depend on whether there are subscription
data stored before.
6\. The serving node examines the UE Usage Type provided by the HSS (as
available), other information available at the node (e.g. UE capabilities,
subscription information, SLA information, local configuration), and verifies
that the selected node and DCN is suitable to serve the UE. If the node is
suitable to serve the UE the flow continues at step 9.
7-8. The NAS Message Redirection procedure may be used to select a suitable
DCN. DECOR rerouting can not change the selected core network operator, it can
only select a suitable DCN within the same core network operator.
9\. The NAS procedure executes normally.
10\. The new DCN serving node examines the NAS provided DCN selection
assistance parameter and may choose to send a new DCN selection assistance
parameter to the UE in the NAS Accept message. The UE updates its stored DCN
selection assistance parameter, for the serving PLMN.
11\. The UE receives that NAS Accept message and confirms the reception by
sending a NAS Complete message to the DCN serving node. For TAU messages, a
NAS Complete message is only sent if a new GUTI was received in the TAU Accept
message (see TS 23.401 [2]).
In the network sharing case, there is no difference in this signaling flow
whether the shared network is deployed using MOCN or GWCN. When the GERAN or
UTRAN network only broadcast one common PLMN and the serving dedicated PLMN
information is not included in the RAI information, one additional dedicated
PLMN information is included and sent back to the UE. In this case the UE
should associate the received DCN Selection Assistance parameter with the PLMN
indicated in the RAI and with the additional dedicated PLMN.
#### 6.5.1.3 eNodeB configuration
The purpose of the S1 Setup procedure is to exchange configuration data needed
for the eNB and the MME to correctly interoperate on the S1 interface.
Figure 6.5.1.3-1 shows how the legacy S1 Setup procedure is used to configure
the eNodeB with the additional information needed by the eDECOR solution.
Figure 6.5.1.3-1: S1 Setup Procedure with additional eDECOR info
1) The eNodeB initiates the procedure by sending an S1 Setup Request message
to the MME.
2) The MME responds with an S1 Setup Response message which includes
additional information to support the eDECOR functionality. The additional
information is:
\- DCN Selection Assistance information. The information indicates the DCN(s)
supported by the MME.
### 6.5.2 Impacts on existing nodes
The following nodes are impacted:
\- UE:
\- New DCN Selection Assistance parameter is sent by the UE in the RRC
message.
\- New Usage Type parameter is sent by the UE in the NAS message.
\- Receive and store new DCN Selection Assistance parameter from the network.
\- Store a pre-configured Default usage type parameter e.g. in USIM.
\- RAN/eNB:
\- Using new DCN Selection Assistance parameter from the UE in the selection
of DCN and serving node.
\- The RAN/eNB receives DCN information from each core node in the S1 Setup.
\- MME:
\- Receive new Usage Type parameter from the UE in Attach Request messages.
\- Send new DCN Selection Assistance parameter to the UE in Attach/TAU Accept
messages.
\- Send DCN information to eNB nodes in S1 Setup.
\- SGSN:
\- Receive new Usage Type parameter from the UE in Attach Request messages.
\- Send new DCN Selection Assistance parameter to the UE in Attach/RAU Accept
messages- Send DCN information to RAN nodes in Iu/Gb setup.
\- Send the dedicated PLMN information if it is not included in the RAI.
## 6.6 Solution #6: UE Usage Type provided by CN and stored in UE
### 6.6.1 Solution Description
The solution is based on following principles:
\- Using UE Usage Type provided by the CN and stored by the UE in persistent
memory (ME or USIM, FFS) remains even if switch-off/switch-on), instead of DCN
Selection Assistance parameter per PLMN of solution #1 or instead of using the
UE Usage Type pre-configured in the UE of solution #3;
\- No pre-configured UE Usage Type in the UE.
For subscribers configured for roaming, standardized UE Usage Type is used.
The standardized UE Usage Type is already universal and usable in all the
PLMNs in roaming, non-roaming and network sharing cases without any
coordination between PLMNs. For subscribers not configured for roaming,
proprietary UE Usage Type is used.
#### 6.6.1.1 Use of UE Usage Type at a registration attempt
\- When the UE is registering to a new location in the network, i.e. in
Attach, mobility TA/RA update (but not periodic TA/RA updates):
\- If the UE has received and stored the network provided UE Usage Type from
the CN, the UE sends that UE Usage Type to the network in both the NAS message
and the RRC message. Providing the parameter on both the NAS protocol and the
S1AP/RANAP protocol allows for higher security and can handle more deployment
options (e.g. when non-supporting RAN nodes are still present):
\- If information based on a native GUTI is present in the RRC-signalling for
attach/TAU/RAU and a serving node corresponding to the GUTI can be found in
the NNSF configuration (i.e. legacy selection can be performed), the normal
GUTI based selection takes precedence over the UE Usage Type. The RAN selects
an appropriate dedicated core network (e.g. MBB-EPC DCN, multiple CIoT-EPC
DCNs or other EPC DCNs) based on the received UE Usage Type and RAN
configuration, e.g. DCN information received in RAN from serving nodes in the
S1 Setup Request messages send by the CN.
\- When a serving node (e.g. MME) which processes a registration discovers
that the UE Usage Type received from the UE and the UE Usage Type parameter
retrieved from the HSS do not match, the serving node sends a new UE Usage
Type to the UE in the NAS Accept message. Such update may for example occur
when the UE Usage Type stored in the UE has become obsolete. The UE updates
its stored UE Usage Type.
\- The serving node also provides a new UE Usage Type when the UE Usage Type
has been updated in the subscription information leading to a change of DCN.
This is done as part of the GUTI Reallocation procedure.
\- If the UE has not received a network provided UE Usage Type from the CN,
the UE does not send an UE Usage Type to the RAN:
\- The RAN selects the default dedicated core network.
\- The serving node (e.g. MME) which does not receives an UE Usage Type from
the RAN sends the UE Usage Type retrieved from the HSS to the UE in the NAS
Accept message.
\- The UE stores the received UE Usage Type in its persistent memory.
#### 6.6.1.2 eNodeB configuration
The purpose of the S1 Setup procedure is to exchange configuration data needed
for the eNB and the MME to correctly interoperate on the S1 interface.
Figure 6.6.1.2-1 shows how the legacy S1 Setup procedure is used to configure
the eNodeB with the additional information needed by the eDECOR solution.
Figure 6.6.1.2-1: S1 Setup Procedure with additional eDECOR info
1) The eNodeB initiates the procedure by sending an S1 Setup Request message
to the MME.
2) The MME responds with an S1 Setup Response message which includes
additional information to support the eDECOR functionality. The additional
information is the list of UE Usage Types. The information indicates the UE
Usage Types supported by the MME.
If, exceptionally, the list of UE Usage Types is changed, it is possible to
use the MME Configuration Update procedure (TS 36.413 [4], clause 8.7.5) to
update the UE Usage Type list stored in the eNB.
#### 6.6.1.3 HSS initiated UE Usage Type update
When the UE Usage Type is modified by the HSS, the MME/SGSN is notified as
specified in TS 23.401 [2]. At the next time the UE will initiate a TAU Update
procedure or an Attach procedure, the UE Usage Type is sent in the Accept NAS
message. The UE shall update the UE Usage Type value it has stored with the
value provided by the MME/SGSN.
NOTE: If there is a requirement for an immediate update of the UE Usage Type,
this solution might be enhanced with a mechanism that is not dependent on this
solution.
### 6.6.2 Impacts on existing nodes
The following nodes are impacted:
\- UE:
\- New UE Usage Type is sent by the UE in the RRC message and the NAS message;
\- Receive and store new UE Usage Type from the network in persistent memory.
\- RAN/eNB:
\- Using new UE Usage Type from the UE in the selection of DCN and serving
node.
\- The RAN/eNB receives the list of supported UE Usage Types from each MME in
the S1 Setup
\- MME:
\- Receive new UE Usage Type from the UE in Attach/TAU Request messages
\- Send new UE Usage Type to the UE in Attach/TAU Accept messages
\- Send The list of supported UE Usage Types to eNB nodes in S1 Setup.
\- SGSN:
\- Receive new UE Usage Type from the UE in Attach/RAU Request messages
\- Send new UE Usage Type to the UE in Attach/RAU Accept messages
\- Send the list of supported UE Usage Types to RAN nodes in Iu/Gb setup.
## 6.7 Solution #7: Updating a UE after an HSS Initiated Update to the UE
Usage Type
### 6.7.1 Solution Description
For a UE that is already registered with the MME/SGSN, which may already be
providing the service of a particular DCN type, the MME/SGSN may receive
updated subscription information from the HSS.
The updated subscription information may contain a new \"UE Usage Type\"
parameter. The MME/SGSN determines a new DCN-ID for the UE. The MME/SGSN may
update the UE with the new DCN-ID as described below.
The MME/SGSN may wait for a UE initiated TAU/RAU procedure and provides the
new DCN-ID in the TAU/RAU Accept.
Alternatively, if the UE is already in connected mode, either due to a page or
UE initiated connection, the MME/SGSN uses the GUTI Reallocation/P-TMSI
Reallocation command to provide the UE with the new DCN-ID and optionally
allocate a new GUTI/P-TMSI.
If the same MME/SGSN serves the new DCN Type, a redirection is not needed and
the procedure ends.
If a redirection is needed, the MME/SGSN may release the NAS connection as
explained in clause 5.19.3 in TS 23.401 [2].
Figure 6.7.1-1: Updating a UE after an HSS Initiated Update to the UE Usage
Type
1\. The HSS sends to the MME/SGSN an updated subscription information for a
UE. The subscription information contains the UE Usage Type.
2\. The MME/SGSN acknowledges the receipt of updated subscription information.
3\. The MME/SGSN determines the new DCN-ID based on local configuration. The
MME/SGSN also determines if it can continue serving this UE or if a
redirection is needed.
4\. If the MME/SGSN decides to provide the new DCN-ID immediately, or if the
MME/SGSN decides to redirect the UE immediately, the MME/SGSN pages the UE.
5\. The UE initiates a service request either due to a page or due to uplink
data, or the UE initiates a TAU/RAU.
6\. When the UE is in connected mode (for reasons other than a TAU/RAU), the
MME/SGSN performs the GUTI/P-TMSI Reallocation procedure. The MME/SGSN
includes at least a new DCN-ID. The MME/SGSN may also provide a new
GUTI/P-TMSI such that the MMEGI/SGSN Group ID points to the appropriate DCN
when the RAN node performs the NNSF.
Optionally, the MME/SGSN may wait for a UE initiated TAU/RAU and then sends
the new DCN-ID in the TAU/RAU Accept.
7\. If the UE receives new DCN-ID in the GUTI/P-TMSI Reallocation message, the
UE acknowledges the receipt of new DCN-ID in the GUTI/P-TMSI Reallocation
Complete message. If no redirection is needed, the procedure ends.
If the UE receives new DCN-ID in the TAU/RAU Accept message, the UE
acknowledges the receipt of new DCN-ID in the TAU/RAU Complete message. If no
redirection is needed, the procedure ends.
8\. If a redirection is needed for this UE, the MME/SGSN may release the UE\'s
connection as described in clause 5.19.3 in TS 23.401 [2].
### 6.7.2 Impacts on existing nodes and functionality
The following nodes are impacted as follows:
MME/SGSN:
\- Determines a DCN-ID when the subscription changes.
\- Provides the UE with new DCN-ID in the GUTI/P-TMSI Reallocation procedure.
UE:
\- Receive new DCN-ID in GUTI/P-TMSI Reallocation Command message.
\- Acknowledge the receipt of DCN-ID in GUTI/P-TMSI Reallocation Complete
message.
### 6.7.3 Solution Evaluation
The solution addresses a key scenario i.e. subscription change, and it has the
following characteristics:
\- The solution enables the network to quickly provide the UE with the new
DCN-ID after to a subscription change. This is useful as it provides the UE
with the most up to date and accurate DCN-ID for subsequent access to the
system:
\- This solution uses an existing mechanism, specifically the GUTI/P-TMSI
Reallocation after subscription change to provide the UE with new DCN-ID.
\- These advantages of the solution require changes to the NAS messages as
described above.
## 6.8 Solution #8: Congestion Control based on DCN ID and congestion level
### 6.8.1 Solution Description
In eDECOR, a DCN serving node (e.g. MME) may be able to serve different DCN
IDs. The load on the serving node may increase if a large number of UEs of
different service characteristics (DCN IDs) are served by the same MME/SGSN.
The DCN serving node may decide to reduce the signalling from UEs.
Two parameters, i.e. \"Overloaded DCN(s)\" and \"Congestion Level\", are used
for the decision of which DCN ID(s) should be subject to congestion control
and how to do the overload control. The Overloaded DCN(s) indicate for which
DCN ID(s) the MME/SGSN wants to trigger overload control. The Congestion Level
indicates current overload status of the MME/SGSN node, e.g., Congestion High,
Congestion Medium or Congestion Low.
The MME/SGSN determines which DCN ID(s) load are to be throttled, , and the
\"Congestion Level\" based on current overload status of the MME/SGSN.
The MME/SGSN sends the ID(s) of the Overloaded DCN(s) as well as the
Congestion Level in the Overload Start message to the RAN Node. At the RAN
Node, it determines the congestion control action based on the received
overload control parameters, i.e. the \"Overloaded DCN(s)\" and \"Congestion
Level\".
Figure 6.8.1-1: Congestion Control based on DCN ID and congestion level
1\. When congestion control is needed, i.e., the load of the MME/SGSN reaches
the threshold, the MME/SGSN sends the Overload Start message to the RAN node.
The MME/SGSN decides which DCN ID(s) is to be overloaded control. The MME/SGSN
includes the Overloaded DCN(s) and the Congestion Level to indicate which DCN
ID(s) are to be throttled and the current load status.
NOTE 1: The MME/SGSN may re-send the Overload start message to the RAN node
and includes the updated Overloaded DCN(s) as well as updated Congestion Level
to adjust the congestion control action, at any time.
2\. The RAN node determines which DCN ID(s) is applicable for congestion
control based on received Overloaded DCN ID(s).
3\. The UE sends the RRC Connection Request and the RAN responds with the RRC
Connection Setup.
4\. The UE sends the RRC Connection Setup Complete and includes a DCN ID.
5\. The RAN node determines if the received DCN ID is subject to congestion
control.
6-7. If the DCN ID is subject to congestion control, the RAN node performs the
congestion action to the UE, i.e. using the RRC connection release procedure
for the UE which has indicated the overloaded DCN ID in step 4. The Congestion
Level received in step 2 is used to determine the back-off timer i.e. how long
the UE should not access the network.
8\. When the congestion is alleviated at the MME/SGSN, the MME/SGSN can then
send the Overload Stop message to the RAN node to inform that congestion
control is no longer necessary.
### 6.8.2 Impacts on existing nodes
The following nodes are impacted:
\- UE
\- The UE applies the NAS level mobility management back-off timer received in
the RRC Connection Release if it had provided a DCN ID in the RRC Connection
Setup Complete.
\- RAN/eNB
\- Receive the new Overloaded DCN(s) and Congestion Level parameter from the
Overload start message.
\- Release the RRC connection with a back-off timer back to the UE if the DCN
ID provided by the UE in the RRC Connection Setup Complete is subject to the
overload control.
\- SGSN/MME
\- Send the new DCN ID(s) of Overloaded DCN(s) and Congestion level parameter
to the RAN node in the Overload Start message.
### 6.8.3 Solution evaluation
The solution enables the MME/SGSN trigger the overload control when it serves
one or multiple DCN IDs. The advantage of this solution is:
\- The resource usage at the MME/SGSN can make more efficient. This can avoid
that MME/SGSN is not overloaded but just one DCN ID is overloaded and the
overloaded DCN ID may belong to the important DCN ID.
## 6.9 Solution #9: NAS level Congestion Control based on DCN
### 6.9.1 Solution Description
This is a solution for Key Issue 2 \"Congestion Control for DCN Types\". The
intention of the Key issue 2 is to solve core network congestion situation in
regard to DCN when a MME supports multiple DCN simultaneously. This solution
proposes NAS level congestion control based on DCN. If a MME determines
congestion control for a specific DCN then the MME can reject/control the UE
if the UE belongs to that DCN.
Figure 6.9.1-1: NAS level Congestion Control based on DCN
1\. The MME/SGSN that serves several DCNs and detects congestion situation on
specific DCN (DCN 1 in the figure).
2\. The UE sends NAS signalling.
3\. If congestion control is required for specific DCN(s), MME checks selected
UE\'s DCN.
4\. If the UE belongs to congested DCN, MME/SGSN may reject the NAS request
with appropriate cause value and back-off time.
### 6.9.2 Impacts on existing nodes
Impacts on UE:
\- No impacts for this issue.
Impacts on RAN:
\- No impacts for this issue.
Impacts on MME:
\- Checking whether the UE\'s DCN is an overloaded DCN, and rejecting the NAS
Request with a back-off timer which depends on the load of the DCN.
### 6.9.3 Solution evaluation
There is no UE impact so this solution is also applicable to Rel-13 UE.
Limited impact to MME.
## 6.10 Solution #10 Load Balancing for DCNs
### 6.10.1 General
When DCNs are used, load balancing by eNodeBs is only performed between MMEs
of the same MME pool area that belong to the same DCN. When an MME serves
multiple DCNs and one DCN may be supported by multiple MMEs, in order to
achieve further load balancing across the MMEs of the same MME pool area
supporting the same DCN, each supported DCN by this MME may have its own
Weight Factor (Weight Factor per DCN). The Weight Factor per DCN is set
according to the capacity of a MME node for a specific DCN relative to other
MME nodes' capacity for that DCN [within the same MME pool area]{.underline}.
In DCN supporting networks where an MME supports multiple DCNs, the eNodeBs
may be configured with per DCN-ID Weight Factors via the MME Configuration
Update message, see Figure 6.10.1-1 or/and S1-AP Response message, see Figure
6.10.1-2.
{width="6.676388888888889in" height="2.298611111111111in"}
Figure 6.10.1-1 eNodeB configuration with Weight Factors per DCN via MME
Configuration Update message
{width="6.629861111111111in" height="2.43125in"}
Figure 6.10.1-2 eNodeB configuration with Weight Factors per DCN via S1-AP
Setup Response message
The eNodeB stores the MME Weight Factor per DCN. When the eNodeB receives a
request from a UE and derives a specific DCN, the eNodeB selects an MME from
the derived DCN based on the Weight Factor for that DCN if more than one MMEs
support that DCN.
In 2G/3G, the configuration of the RAN Nodes RNC and BSS with the SGSN Weight
Factors per DCN is done via the O&M.
### 6.10.2 Impacts on existing nodes
eNodeB:
\- The eNodeB stores the Weight Factors per DCN for supporting MMEs
\- The eNodeB selects MME based on its per DCN Weight Factor when more than
one MME are serving specific DCN.
RNC/BSS:
\- SGSN Weight Factors per DCN are configured via the O&M.
MME:
\- MMEs supporting multiple DCNs set a Weight Factors per DCN.
\- MME configure eNodeBs with per DCN Weight Factors if more than one MME
support specific DCN.
### 6.10.3 Solution evaluation
# 7 Overall Evaluation
## 7.1 Key Issue #1
See Clause 8 Conclusion.
## 7.2 Key Issue #2
No major performance differences have been found between solution #8 and #9.
As solution #9 is a 3GPP existing feature while solution #8 needs
specification updates and adds complexity to RAN it is proposed to use
solution #9 to handle Key Issue #2.
# 8 Conclusion
For Key Issue #1 (DCN selection by UE assistance) the selected solution is
based on solutions #1 (clause 6.1) and #5 (clause 6.5) using the network
assigned DCN-ID with the addition of a range of standardized values of the
DCN-ID. The standardized values have the same meaning across all PLMNs. The
HPLMN can provision the UE with a single default standardized DCN-ID based on
for e.g. subscription information The non-standardized value range of the DCN-
ID are local to the serving PLMN.
For Key Issue #1 (DCN selection by UE assistance) the selected solution for an
HSS update of UE Usage Type is based on solution #7 (clause 6.7).
For Key Issue #2 (Congestion Control for DCN Types) the selected solution is
solution #9 (Clause 6.9 NAS level Congestion Control based on DCN).
For Key Issue #3 (Load balancing within DCN) the solution #10 (Clause 6.10
Solution for Load Balancing within DCN) is selected for further normative
work.
#