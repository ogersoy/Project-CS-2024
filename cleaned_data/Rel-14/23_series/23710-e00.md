# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The scope of the present document is to study improvements of awareness of
user location change in connected mode e.g. for differentiated charging and/or
QoS.
Solutions will be studied for following areas:
\- Extending the existing PRA change reporting mechanism for both UE dedicated
and CN predefined PRA to support multiple PRAs per PDN connection.
\- Optimizing signalling load in PLMN partitioning scenario.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.401: \"GPRS Enhancements for E-UTRAN Access\".
[3] 3GPP TS 23.203: \"Policy and charging control architecture\".
[4] 3GPP TR 23.711: \"Enhancements of Dedicated Core Networks selection
mechanism\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**PLMN Partition** : A set of non-overlapping PLMN Partition Areas covering
the PLMN configured by the operator for the purpose of reporting the move of a
UE in connected mode between PLMN Partition Areas.
**PLMN Partition Area:** A Core Network pre-configured area defined within
3GPP Packet Domain. In case of E-UTRAN, a PLMN Partition Area may consist in a
set of neighbour or non-neighbour Tracking Areas, eNBs and/or cells.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
PPA PLMN Partition Area
# 4 Architectural Assumptions and Requirements
PRA change reporting for multiple PRAs simultaneously shall be possible for a
PDN connection.
The introduction of PRA change reporting for multiple PRAs should be backward
compatible with existing PRA reporting.
Extending the PRA mechanisms shall not jeopardize the reduced CN signalling
load as was achieved when introduced by the CNO_ULI WI.
NOTE: Selecting of PRAs based on services may need to be applied for the PCRF
logic required by an operator.
# 5 Key Issues
## 5.1 Key Issue 1: Extension of PRA reporting mechanism
Prior to Rel-14, it is only possible to trigger PRA Reporting for one PRA id
per IP-CAN Session, which however limits the usage of PRA mechanism.
It should be studied how to extend the PRA mechanism by allowing the trigger
and the report of PRA change reporting for multiple PRA ids per IP-CAN session
at the same time.
## 5.2 Key issue 2: Triggering and reporting in PLMN partitioning scenario
Prior to Rel-12, the operator is able to track a specific UE within a PLMN at
cell/SA level or at TA/RA level in connected mode e.g. for applying different
charging and/or QoS.
Defining an operator-configured granularity different from cell/SA or TA/RA
granularity, i.e. partitioning the PLMN in geographical areas (PLMN Partition
Areas), should be possible via defining each PLMN Partition Area (PPA) as a
set of cells/SAs, eNBs and/or TAs/RAs in the similar way as PRAs are defined.
Triggering and reporting the UE location changes between PLMN Partition Areas
might induce an important signalling over Gx/Gy or Sd/Gn when the PLMN
partition is made of many PLMN Partition Areas, therefore the solution should
minimize signalling over Gx/Gy, Sd/Gyn in the PLMN partitioning scenario.
The operator-defined PLMN partitioning applies within the HPLMN.
More than one PLMN partition should be possible.
It is assumed that PLMN partition reporting mechanism has similar capabilities
as the PRA change reporting mechanism. In particular, the PLMN partition and
the corresponding PLMN Partition Area are statically configured by the
operator. In case of Third party, these configurations are part of the Service
Level Agreements between MNO and the Third party.
## 5.3 Key Issue 3: Efficient node resource control for enhancement of user
location monitoring and reporting
UEs can use multiple PDN Connections, each with a PCRF independently request
activation of multiple PRAs. This may result in activation of PRAs requiring
significant node resources. This key issue aims to provide solution to support
efficient resource handling by network control (i.e. MME and SGSN) of the
total resources needed in MME/SGSN to handle the enhancement of presence
reporting areas.
# 6 Scenarios
## Scenario 1: monitoring multiple areas of interest for each UE
If there are some interested areas such as business district, tourist resort,
or shopping mall, the operator may apply a reduced QoS in order to protect RAN
resources. Reporting events when users leave or enter to these interested
areas are implemented using Core Network pre-configured PRA(s).
In the same time if operator wants to provide a free of charge data when the
user is located at home, this will be configured in operator network based on
UE-dedicated PRA(s) configuration in the PCRF.
Operator needs to know which area the UE is in to apply policy control
accordingly. In addition, Core Network pre-configured PRA(s) and UE-dedicated
PRA(s) may overlap for users living near shopping malls or business districts.
## Scenario 2: PLMN partitioning scenario
A PLMN partitioning scenario is shown as an example below:
\- A country is partitioned in a set of one hundred charging areas (e.g.
districts), each one having a different charging rate for regular voice/data
subscriptions. The triggering and the reporting of changes of areas should be
achieved with a minimum of signalling in the network and without using GPS (as
GPS would drain the battery and would not work inside buildings).
Several partitions may be configured at same time: e.g. for Machine to Machine
subscriptions, the country could also be partitioned in a different set of
charging areas.
# 7 Solutions
## 7.1 Solution #1: Reporting for multiple PRAs with MME/SGSN resource control
### 7.1.1 Solution Description
This solution addresses both key issue 1&3.
Presence Reporting Area was introduced in release 12 in order to reduce
signalling traffic due to update of location information. However, the
enhancement of PRA concept could impact MME/SGSN nodes as described in
section5. In order to avoid MME/SGSN overload, protective solution is needed
to allow efficient node resource control.
The solution allows supporting more than one PRA to be monitored with respect
to entering/leaving the area for a given PDN connection at the same time.
It is important to notice that the operator business logic is only located in
the PCRF, therefore it is up to the latter node to indicate the priority level
in case of MME/SGSN overload due to multiple PRA reporting.
The following solution proposes to add a priority level for each PRA
definition; this priority will allow the MME/SGSN to perform dynamic resource
handling. MME/SGSN puts in standby mode the processing management related to
the lowest priority PRAs, when this is needed to prevent overload.
\- This solution is applicable for both types of Presence Reporting Areas: UE-
dedicated and Core Network pre-configured.
Standby mode means that the MME/SGSN deactivates the processing related to the
PRA reporting without removing PCRF subscription to this PRA from the user
context.
The information of priority as well as the information whether the MME/SGSN
needs to notify the PCRF are preconfigured in the MME/SGSN.
When the MME/SGSN is overloaded, it puts in standby mode the processing
related to PRAs with the lowest priority. If the MME/SGSN is still overloaded,
the PRAs with the priority above should be put in standby mode as well.
MME/SGSN shall reactivate the related PRA reporting when resources become
sufficient.
When putting a PRA in standby and reactivating it, if the PCRF had indicated
that it needs to be notified of standby and reactivation for this PRA, the MME
notifies the PCRF via the S-GW and P-GW (e.g. the operator may configure that
the PCRF should be notified for use cases which have an impact on charging).
Only one notification is sent by the MME/SGSN to the PCRF for all PRAs put in
standby or reactivated at the same time within the same IP CAN session.
During inter-MME mobility, the complete list of PRAs is transferred to the new
MME.
### 7.1.2 Impacts on existing nodes and functionality
The following nodes are impacted:
The MME/SGSN:
\- Evaluates MME load and puts in standby or reactivates PRAs based on the
corresponding priority.
\- Old MME/SGSN to transfer PRA list to new MME/SGSN in the Context Response.
\- Priority and notification are preconfigured.
The SGW:
\- Receives and forwards a list of PRA(s) (including priority and notification
status)
The PGW:
Receives and forwards a list of PRA(s) (including priority and notification
status)
The PCRF:
Receives MME/SGSN notifications and adapt the PCC/ADC rules
### 7.1.3 Solution evaluation
**Benefits:**
\- Supports multiple PRAs.
\- Introducing a standby mode for PRAs mechanism avoiding MME/SGSN overload
based on priority set per PRA.
\- PCRF may be notified when the MME/SGSN puts PRA(s) in standby, this
functionality is useful for sensitive use cases (e.g. charging) in order to
avoid customers complaints.
**Drawbacks:**
\- None.
## 7.2 Solution #2: Solution to support multiple PRAs per IP-CAN session in a
dynamic manner without using Location Change Reporting procedure
### 7.2.1 Solution Description
#### 7.2.1.1 General description of the solution
This solution addresses key issue #1 (\"Extension of PRA reporting
mechanism\") and key issue #3 (\"Efficient node resource control for
enhancement of user location monitoring and reporting\").
MME ID needs to be part of the UE\'s MM Context.
During Attach and UE requested PDN connectivity procedure, MME needs to
provide its ID (GUMMEI) to PCRF; during S1 based handover and UE triggered
Service Request procedure, MME detects that the MME ID is changed for this UE,
the MME replaces the old MME ID in the UE\'s MM Context with the current
serving MME\'s ID, then it sends a Modify Bearer Request message to the SGW
including the ID of the current serving MME.
PCRF needs to be enhanced to maintain a mapping table between MME ID and list
of PRAs, and according to Table 6.4 in TS 23.203 [3], each PRA needs to
further be mapped to a list of PRA elements. During IP-CAN session
establishment or modification procedure, PCRF knows the MME ID currently
serving this UE from MME, by looking up in the aforementioned mapping table,
PCRF will know the list of PRAs under this MME, then by looking into
subscription information, PCRF knows the list of PRAs subscribed by this UE
and send this filtered list of PRAs to MME via PGW and SGW, and the list of
elements for each PRA and PRA change reporting event trigger are included as
well.
In case MME has been configured with predefined PRAs under its coverage, PCRF
is also configured to know which MME doesn\'t need the list of elements for
the PRAs under its coverage, PCRF doesn\'t need to send the list of the
elements for each PRA to this MME, thus the size of the message sent from PCRF
to MME can be reduced.
Once MME is subscribed to report the change of PRA, when MME detects there is
PRA change for a specific UE, it will report the PRA change to PCRF by using
existing Location Change Reporting procedure defined in clause 5.9.2 in TS
23.401 [2].
NOTE 1: Multiple PRA IDs may be included in the Change Notification message in
case more than one PRAs are overlapping.
NOTE 2: For the roaming case, whether the MME ID and its related configuration
information can be known by PCRF is up to the business agreement between VPLMN
and HPLMN.
The procedures used to enable this solutions are illustrated in following
clauses.
#### 7.2.1.2 Procedures to enable the solution
##### 7.2.1.2.1 Reporting MME ID in the attach procedure
{width="6.690972222222222in" height="2.357638888888889in"}
Figure 7.2.1.2.1-1: Reporting MME ID in the attach procedure
1\. Same with step1 to 11 in clause 5.3.2.1 of TS 23.401 [2].
2\. In the Create Session Request message, MME sends the MME ID to SGW.
3\. SGW forwards the MME ID to PGW in the Create Session Request message.
4\. PGW sends the MME ID to PCRF in the Indication of IP-CAN Session
Establishment message.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Establishment message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to SGW with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
7\. SGW responds to MME with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
8\. Same with step 17 to 26 in clause 5.3.2.1 of TS 23.401 [2].
##### 7.2.1.2.2 Reporting MME ID in the UE requested PDN connectivity
procedure
{width="6.692361111111111in" height="2.3368055555555554in"}
Figure 7.2.1.2.2-1: Reporting MME ID in the UE requested PDN connectivity
procedure
1\. UE sends a PDN Connectivity Request message to MME in order to establish a
secondary PDN connection.
2\. In the Create Session Request message, MME sends the MME ID to SGW.
3\. SGW further forwards the MME ID to PGW in the Create Session Request
message.
4\. PGW further sends the MME ID to PCRF in the Indication of IP-CAN Session
Establishment message.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Establishment message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to SGW with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
7\. SGW responds to MME with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
8\. Same with step 7 to 16 in clause 5.10.2 of TS 23.401 [2].
##### 7.2.1.2.3 Reporting MME ID in the S1-based handover procedure
{width="6.690277777777778in" height="2.3222222222222224in"}
Figure 7.2.1.2.3-1: Reporting MME ID in the S1-based handover procedure
1\. Same with step 1 to 14b in clause 5.5.1.2.2 of TS 23.401 [2].
2\. When target MME detects that the MME ID is changed for this UE, the target
MME replaces the old MME ID in the UE\'s MM Context with the current serving
MME\'s ID, then it sends a Modify Bearer Request message to the target SGW
including the ID of target MME.
3\. The target SGW sends a Modify Bearer Request message to PGW including the
MME ID.
4\. PGW sends an Indication of the IP-CAN Session Modification message to PCRF
including the MME ID.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Modification message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to target SGW with a Modify Bearer Response message including
the PRA IDs and the list of elements for each PRA ID.
7\. The target SGW responds to target MME with a Modify Bearer Response
message including the PRA IDs and the list of elements for each PRA ID.
8\. Same with step 18 to 21b in clause 5.5.1.2.2 of TS 23.401 [2].
##### 7.2.1.2.4 Reporting MME ID in the UE triggered Service Request procedure
{width="6.690972222222222in" height="2.0027777777777778in"}
Figure 7.2.1.2.4-1: Reporting MME ID in the UE triggered Service Request
procedure
1\. Same with step 1 to 7 in clause 5.3.4.1 of TS 23.401 [2].
2\. When MME detects that the MME ID is changed for this UE, the MME replaces
the old MME ID with the current serving MME\'s ID, then it sends a Modify
Bearer Request message to the SGW including the MME ID.
3\. The SGW sends a Modify Bearer Request message to PGW including the MME ID.
4\. The PGW sends an Indication of IP-CAN Session Modification message to PCRF
including the MME ID.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Modification message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to target SGW with a Modify Bearer Response message including
the PRA IDs and the list of elements for each PRA ID.
The target SGW responds to target MME with a Modify Bearer Response message
including the PRA IDs and the list of elements for each PRA ID.
### 7.2.2 Impacts on existing nodes and functionality
MME:
It needs to store the MME ID in the UE\'s MM Context.
During Attach and UE requested PDN connectivity procedure, MME sends the MME
ID to SGW in the Create Session Request message.
During S1-based handover and UE triggered Service Request procedure, if the
MME ID is changed for the UE, MME needs to send the MME ID to SGW in the
Modify Bearer Request message.
It needs to be enhanced to store multiple PRAs and report for the change of
multiple PRA IDs.
SGW:
It needs to receive the MME ID from MME and forward to PGW.
It needs to receive multiple PRA IDs from PGW and forward to MME.
PGW:
It needs to receive MME ID from SGW and send to PCRF.
It needs to receive multiple PRA IDs from PCRF and forward to SGW.
PCRF:
It needs to receive the MME ID from PGW.
It needs to be enhanced to maintain a mapping table between the MME ID and
list of PRAs.
It needs to send multiple PRA IDs to PGW.
### 7.2.3 Solution evaluation
Editor\'s note: Use this clause for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
## 7.3 Solution #3: Solution to support multiple PRAs per IP-CAN session in a
dynamic manner using Location Change Reporting procedure
### 7.3.1 Solution Description
#### 7.3.1.1 General description of the solution
This solution addresses key issue #1 (\"Extension of PRA reporting
mechanism\") and key issue #3 (\"Efficient node resource control for
enhancement of user location monitoring and reporting\").
MME ID needs to be part of the UE\'s MM Context.
During Attach and UE requested PDN connectivity procedure, MME needs to
provide its ID (GUMMEI) to PCRF.
After IP-CAN Session is established, when MME detects that the MME ID is
changed for this UE, the MME replaces the old MME ID in the UE\'s MM Context
with the current serving MME\'s ID, then it sends a Modify Bearer Request
message to the SGW including the ID of MME.
PCRF needs to be enhanced to maintain a mapping table between MME ID and list
of PRAs, and according to Table 6.4 in TS 23.203 [3], each PRA needs to
further be mapped to a list of PRA elements. During IP-CAN session
establishment or modification procedure, PCRF knows the MME ID currently
serving this UE from MME, by looking up in the aforementioned mapping table,
PCRF will know the list of PRAs under this MME, then by looking into
subscription information, PCRF knows the list of PRAs subscribed by this UE
and send this filtered list of PRAs to MME via PGW and SGW, and the list of
elements for each PRA and PRA change reporting event trigger are included as
well.
In case MME has been configured with predefined PRAs under its coverage, PCRF
is also configured to know which MME doesn\'t need the list of elements for
the PRAs under its coverage, PCRF doesn\'t need to send the list of the
elements for each PRA to this MME, thus the size of the message sent from PCRF
to MME can be reduced.
Once MME is subscribed to report the change of PRA, when MME detects there is
PRA change for a specific UE, it will report the PRA change to PCRF by using
existing Location Change Reporting procedure defined in clause 5.9.2 in TS
23.401 [2].
NOTE 1: Multiple PRA IDs may be included in the Change Notification message in
case more than one PRAs are overlapping.
NOTE 2: For the roaming case, whether the MME ID and its related configuration
information can be known by PCRF is up to the business agreement between VPLMN
and HPLMN.
The procedures used to enable this solutions are illustrated in following
clauses.
#### 7.3.1.2 Procedures to enable the solution
##### 7.3.1.2.1 Reporting MME ID in the attach procedure
{width="6.690972222222222in" height="2.357638888888889in"}
Figure 7.3.1.2.1-1: Reporting Geographical Identifier in the attach procedure
1\. Same with step1 to 11 in clause 5.3.2.1 of TS 23.401 [2].
2\. In the Create Session Request message, MME sends the MME ID to SGW.
3\. SGW forwards the MME ID to PGW in the Create Session Request message.
4\. PGW sends the MME ID to PCRF in the Indication of IP-CAN Session
Establishment message.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Establishment message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to SGW with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
7\. SGW responds to MME with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
8\. Same with step 17 to 26 in clause 5.3.2.1 of TS 23.401 [2].
##### 7.3.1.2.2 Reporting MME ID in the UE requested PDN connectivity
procedure
{width="6.692361111111111in" height="2.3368055555555554in"}
Figure 7.3.1.2.2-1: Reporting MME ID in the UE requested PDN connectivity
procedure
1\. UE sends a PDN Connectivity Request message to MME in order to establish a
secondary PDN connection.
2\. In the Create Session Request message, MME sends the MME ID to SGW.
3\. SGW further forwards the MME ID to PGW in the Create Session Request
message.
4\. PGW further sends the MME ID to PCRF in the Indication of IP-CAN Session
Establishment message.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Establishment message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to SGW with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
7\. SGW responds to MME with a Create Session Response message including the
PRA IDs and the list of elements for each PRA ID.
8\. Same with step 7 to 16 in clause 5.10.2 of TS 23.401 [2].
##### 7.3.1.2.3 Reporting Geographical Identifier in the Location Change
Reporting procedure
{width="6.71875in" height="2.875in"}
Figure 7.3.1.2.3-1: Reporting Geographical Identifier in the Location Change
Reporting procedure
1a) MME has received an ECGI information Update from eNB.
1b) MME detects the current serving MME\'s ID for the UE is changed by looking
into the MME ID in the UE\'s MM Context, it replaces the old MME ID with the
new one.
2\. If the MME has been subscribed to report MME change to the PCRF for the UE
(under the conditions specified in clause 5.9.2 of TS 23.401 [2]), the MME
shall send the Change Notification message to the SGW indicating the new MME
ID.
3\. The SGW forwards the Change Notification message to the PGW including the
MME ID.
4\. The PGW sends the MME ID to PCRF in the Indication of IP-CAN Session
Modification message.
5\. PCRF will know the list of PRAs under this MME for this UE by looking up
the mapping table and taking into account of the UE\'s subscription
information, then it acknowledges with an Acknowledge of IP-CAN Session
Establishment message including the PRA IDs and the list of elements for each
PRA ID as well.
6\. PGW responds to SGW with a Change Notification Ack message including the
PRA IDs and the list of elements for each PRA ID.
7\. SGW responds to MME with a Change Notification Ack message including the
PRA IDs and the list of elements for each PRA ID.
### 7.3.2 Impacts on existing nodes and functionality
MME:
It needs to store the MME ID in the UE\'s MM Context.
In Attach or UE requested PDN connectivity procedure, it needs to send the MME
ID to SGW in the Create Session Request message.
It needs to detect the MME ID change and report the updated Geographical
Identifier by using the existing location change reporting procedure.
It needs to be enhanced to store multiple PRAs and report for the change of
multiple PRA IDs
SGW:
It needs to receive the MME ID from MME and forward to PGW.
It needs to receive multiple PRA IDs from PGW and forward to MME.
PGW:
It needs to receive MME ID from SGW and send to PCRF.
It needs to receive multiple PRA IDs from PCRF and forward to SGW.
PCRF:
It needs to receive the MME ID from PGW.
It needs to be enhanced to maintain a mapping table between the MME ID and
list of PRAs.
It needs to send multiple PRA IDs to PGW.
### 7.3.3 Solution evaluation
Editor\'s note: Use this clause for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
## 7.4 Solution #4: Network control mechanism
### 7.4.1 Solution Description
The solution addresses the key issue 1 (\"Extension of PRA reporting
mechanism\") and key issue 3 (\"Efficient node resource control for
enhancement of user location monitoring and reporting\").
The same principles used in the Presence Reporting Area solution introduced in
release 12 are kept: the PCRF/OCS determines if to activate a PRA and which
one to activate. In this solution it is PCRF/OCS that determines if any PRA
shall be activated and which PRAs to be activated. At reception of activation
of the PRA(s), triggered by PCRF/OCS, MME/SGSN immediately responds whether
the UE is \"inside\" or \"outside\" of the PRA(s). This is also in line with
the PRA release 12 solution.
To assure that MME/SGSN has the ability to reject incoming PRA requests from
PCRFs or OCS (e.g. for dimensioning purposes), a rejection mechanism is
introduced.
When a PCRF or OCS wants to activate PRAs for a PDN connection it sends the
complete list of PRAs. MME/SGSN then responds back with IN/OUT for each
accepted PRA ID and an indication per PRA ID for the ones that were rejected,
if any. Only the accepted PRAs are stored in the MME/SGSN.
To know which PRAs to reject first each PRA is given a priority in the request
received from the PCRFs or OCS. The PRA with lowest priority is rejected first
followed by PRAs with higher priority related to the load.
NOTE 1: The details of how the prioritization indication is done is left to
stage 3
Figure 7.4.1-1: Attach procedure with PRA activation and reporting
Figure 7.4.1-1 describes Attach procedure only including relevant steps for
PRA activation and PRA reporting:
1-11. Step 1-11 as in the Attach procedure in TS 23.401 [2].
12-14. Step 12-14a as in the Attach procedure in TS 23.401 [2].
14b-16. ACK/Modify Bearer Response includes in the PRA Action a list of PRAs
to be activated and a prioritization per PRA.
17-22. Step 17-22 as in the Attach procedure in TS 23.401 [2].
23-24a. The MME responds with Modify Bearer Request including the PRA
Information to the PCRF, to the OCS or to both as defined in TS 23.203 [3].
The PRA Information contains an indication if the UE is inside or outside for
each PRA. PRA Information also indicates the rejected PRA(s) if any.
24b-25. Same as step 23b and 24 in Attach procedure in TS 23.401 [2].
At a mobility procedure including an MME/SGSN change, the accepted PRAs are
sent from the old MME/SGSN to the new MME/SGSN. Only MME/SGSN within the
operator\'s network shall send the list of PRAs i.e. roaming is not supported.
Making the PCRFs and OCS aware that an MME/SGSN change has been performed, an
indication (Update PRAs) in the mobility procedure is sent. PCRF or OCS can
then send a new list of PRAs replacing the old PRA list. The new MME/SGSN
evaluates the PRAs in the list from the PCRF or OCS and performs reports in
following Location Change Reporting including an indication of whether the UE
is inside or outside each PRA. PRA Information also indicates rejected PRA(s)
if any.
If the MME has rejected PRAs due to an overload situation and this is followed
by a reduction in MME load the \"Update PRAs\" indication is sent from the
MME/SGSN to PCRF/OCS.
NOTE 2: If homogenous dimensioning is used in operator\'s network the
indication at MME/SGSN change (Update PRAs) is not needed.
Figure 7.4.1-2: Tracking Area Update procedure with MME/ SGSN change and
location change notification procedure
Figure 7.4.1-2 describes Tracking Area Update procedure and location change
notification procedure only including relevant steps for PRA activation and
reporting.
2-3. UE triggers the Tracking Area Update procedure as in step 2-3in TS 23.401
[2]
4-5. Step 5 Context Response contains the PRAs received from old MME.
9-11a. Step 9-11a as in the Tracking Area Update procedure in TS 23.401 [2]
including an indication (Update PRAs) to PCRF or OCS to update the PRA list
due to MME change, include is also the PRA Information. PRA Information
contains an indication if the UE is inside or outside for each PRA. PRA
Information also indicates the rejected PRA(s) if any.
11b.-13. Step 11-13 as in the Tracking Area Update procedure in TS23.401
including PRA Action. PRA Action includs the list of PRAs to the MME. The PRA
Action is only sent if PCRF or OCS decides an update of PRAs is necessary e.g.
update not necessary if old MME/SGSN did not reject any requested PRAs.
30\. Step1d as in the Location Change Reporting Procedure in TS 23.401 [2].
MME receives a PRA Action from step 13.
31-33a. Step 2-4 in the Location Change Reporting Procedure in TS 23.401 [2]
includes the PRA Information. PRA Information contains an indication if the UE
is inside or outside for each PRA. PRA Information also indicates the rejected
PRA(s) if any.
33b-35. Step 4-5 in the Location Change Reporting Procedure in TS 23.401 [2]
### 7.4.2 Impacts on existing nodes and functionality
The following nodes are impacted:
The MME/SGSN:
\- upon a PRA activation request, evaluates and reports accepted PRA(s)
together with each PRA whether the PRA is inside/outside of the PRA and if any
PRA activation request needs to be rejected, the corresponding PRA priority is
taken into account. Also Rejected PRA(s) shall be indicated.
\- Old MME/SGSN to transfer PRA list to new MME/SGSN in the Context Response.
The SGW:
\- receives and forward reports of a list of PRA(s).
The PGW:
\- receives and forward reports of a list of PRA(s).
The PCRF:
\- prioritize the PRAs it wants to activate and for each PRA a corresponding
prioritization is done.
\- receives MME/SGSN accepted PRA(s) and potentially indication of rejected
PRA(s) as a response to a PRA(s) activation.
The OCS:
\- if PCRF is not deployed, prioritize the PRAs it wants to activate and for
each PRA a corresponding prioritization is done.
\- if PCRF is not deployed, receives MME/SGSN accepted PRA(s) and potentially
indication of rejected PRA(s) as a response to a PRA(s) activation.
### 7.4.3 Solution evaluation
The solution resolves key issues 1 (\"Extension of PRA reporting mechanism\")
and 3 (\"Efficient node resource control for enhancement of user location
monitoring and reporting\").
Related to key issue #1:
\- This solution satisfies Key issue #1.
\- The solution re-uses the same mechanism to activate and report PRAs as
introduced in release 12. The only new functionality is the addition of
multiple PRAs in existing signalling i.e. no new signalling is introduced.
Related to key issue #3:
\- Upon a PCRF/OCS multiple PRA activation request, the MME/SGSN may reject
some of the PRAs in case the PCRF request more PRAs than the MME/SGSN is
dimensioned to handle i.e. it solves static overload. The rejection order is
based on priority set per PRA.
\- It is not intended to cover dynamic overload cases i.e. when MME/SGSN
resources decrease or increase: when the load increases after the MME/SGSN
have accepted the list of PRAs to be reported; when the load decreases, the
MME/SGSN does not reactivate the rejected PRAs on its own.
\- As the solution may reject PRAs, there is a need for the PCRF to re-
activate the PRA reporting when changing MME/SGSN.
\- This reject mechanism will not give any additional signalling.
## 7.5 Solution #5: Enhancement of PRA mechanism
### 7.5.1 Solution Description
To address Key Issue #1 regarding extension of PRA reporting mechanism, i.e.
to support more than one PRA to be monitored with respect to entering/leaving
the area for a given PDN connection at the same time, an alternative solution
is to allow provision of more than one set of the existing PRA identifier and
optionally the list of TAs/RAs, or eNBs and/or cells/SAIs composing the
Presence Reporting Area in the SPR as part of subscription profile
information. The PCRF subsequently requests the PCEF to report when the UE
enters/leaves any of the PRAs. The PCEF sends request for report of any
changes in the UE presence in these PRAs towards the MME/SGSN serving the UE.
This solution can be applied for UE\'s presence change reporting in both UE-
dedicated PRAs and Core Network pre-configured PRAs.
### 7.5.2 Impacts on existing nodes and functionality
The SPR:
\- Needs to be enhanced to support more than one set of the existing PRA
identifier and optionally the list of TAs/RAs, or eNBs and/or cells/SAIs
composing the Presence Reporting Area in the SPR as part of subscription
profile information.
The PCRF:
\- Needs to be enhanced to send more than one set of the PRA identifier and
optionally the list of TAs/RAs, or eNBs and/or cells/SAIs composing the
Presence Reporting Area to the PCEF/TDF for reporting when the UE
enters/leaves any of the PRAs.
The OCS:
\- Needs to be enhanced to send more than one set of the PRA identifier to the
PCEF/TDF for reporting when the UE enters/leaves any of the PRAs.
The PCEF:
\- Needs to be enhanced to send more than one set of the PRA identifier and
optionally the list of TAs/RAs, or eNBs and/or cells/SAIs composing the
Presence Reporting Area to the MME/SGSN for reporting of any changes in the UE
presence in these PRAs.
The MME/SGSN:
> \- Needs to be enhanced to be able to report any changes in the UE presence
> in more than one PRA at the same time per PDN connection.
### 7.5.3 Solution evaluation
This solution reuses existing PRA mechanism with enhancement to allow more
than one PRA to be provisioned and to be reported of any changes in the UE
presence per subscriber per PDN connection. The impact on existing nodes and
functionality is minimal, which is only about enhancement of the existing
functionality of the involved network elements and interfaces for PRA from
support of one PRA to multiple PRAs. However, in the case there are numerous
PRAs to be provisioned and reported, it would bring more traffic over the
existing interfaces for transport of the PRA information, especially for the
UE-Dedicated PRAs, which requires transport of the TAs/RAs, or eNBs and/or
cells/SAIs composing each PRA, apart from the PRA identifiers.
In summary, if the number of PRAs to be supported per subscriber per PDN is
limited, e.g. below 5, solution #5 can satisfy the AULC requirement and be
applied with little impact on existing nodes and functionalities. Actually in
this case the key issues #2 and #3 as described in section 5.2 and section 5.3
may not exist or is not worth being resolved. Otherwise, this solution might
not be efficient and may bring heavy load to the involved network elements and
interfaces.
## 7.6 Solution 6 - Triggering and reporting in PLMN partitioning scenario
### 7.6.1 Description
As stated in Key Issue #2, partitioning the PLMN in geographical areas (PLMN
Partition Areas), should be possible via defining each PLMN Partition Area
(PPA) as a set of cells/SAs, eNBs and/or TAs/RAs in a similar way as PRAs are
defined. The set of PPAs covers the whole PLMN and constitutes the PLMN
Partition (PP).The PLMN partition and the corresponding PLMN Partition Areas
are statically configured by the operator in the MME/SGSN. In case of Third
party, these configurations are part of the Service Level Agreements between
MNO and the Third party.
It is also stated in Key Issue #2 that:
\- the solution should minimize signalling over Gx/Gy, Sd/Gyn in the PLMN
partitioning scenario;
\- more than one PLMN Partition should be possible;
\- the operator-defined PLMN partitioning applies within the HPLMN.
When triggered by the PGW, the reporting should be sent by the MME/SGSN to the
PGW each time the UE moves from one PPA to another PPA of the same PLMN
Partition. Let\'s assume that the PLMN Partition (X) is composed of PP(X)
Area-1, PP (X) Area-2 ...PPA(X) Area-n.
The proposed solution below minimizes the signalling load and also allows
multiple PLMN Partitions as required by Key Issue #2:
\- Each MME/SGSN is configured with, for each PLMN Partition identified by a
PLMN Partition Identifier, with the list of PLMN Partition Areas. Each PLMN
Partition Area is identified by a PLMN Partition Area Identifier (composed of
a PLMN Partition Identifier and a PLMN Partition Area Code) and is defined as
a list of cells/SAs, eNBs and/or TAs/RAs in a similar way as PRAs are defined.
A PLMN Partition Area may contain cells/eNBs/TAs controlled by different
MME/SGSN pool areas, but one MME/SGSN does not need to be configured with
cells/eNBs/TAs it does not control.
\- The PLMN may be configured with more than one PLMN Partition.
\- The reporting of PLMN Partition Area changes is for a specific UE. The
PCRF/OCS may request to Start reporting of PLMN Partition Area changes and may
request to Stop this reporting. It is possible to trigger reporting for more
than one PLMN Partition for a UE.
\- The reporting of PLMN Partition Area changes can be triggered on more than
one PLMN Partitions for the same PDN connection. The reporting for a specific
PLMN Partition can be requested at any time during the life of the IP-CAN
session.
\- For triggering PLMN Partition Area changes reporting for a specific PLMN
Partition, the request to start or to stop the reporting over Gx to the PGW
and over S5/S11/Gn to the MME/SGSN only contains a \"Start Reporting / Stop
Reporting\" flag and a PLMN Partition Identifier.
\- Upon reception of a request for PLMN Partition Area changes reporting, the
MME/SGSN shall report to the PCRF/OCS via the PGW/TDF, for each PLMN Partition
the PCRF/OCS has requested the reporting, the PLMN Partition Area the UE is
in, identified by its PLMN Partition Area Identifier.
\- The MME/SGSN notifies the PCRF/OCS via the PGW/TDF when the UE changes PLMN
Partition Area. The report of PLMN Partition Area change shall contain the
PLMN Partition Area Identifier of the target PLMN Partition Area as well as
the ULI. If the UE changes PLMN Partition Area for several PLMN Partitions at
same time, the corresponding PLMN Partition Area Identifiers are reported in
the same message.
NOTE: PLMN Partition Area change reporting does not apply to roaming UEs.
\- Upon change of serving EPC node (MME, S4-SGSN), the PLMN Partition
Identifier provided by the PGW and the PLMN Partition Area Code of the PLMN
Partition Area in which the UE was located in the source node are transferred
for all PDN connections as part of MM Context information to the target
serving node during the mobility procedure.
\- When ULI at PLMN Partition level has been activated, the PGW/TDF should be
able to store in its CDR the UE PLMN Partition Area Identifier.
\- The PCEF/TDF provides the PLMN Partition Identifier to the OCS during the
initial interaction with the OCS. The PCRF and the OCS may then activate and
deactivate reporting changes of UE presence in PLMN Partition Area.
\- If the OCS does not receive a PLMN Partition Identifier during the initial
interaction (e.g. if the PCRF did not provide it to the PCEF), the OCS may
provide a PLMN Partition Identifier to the PCEF/TDF. The OCS may then activate
and deactivate reporting PLMN Partition Area changes at any time during the
life time of the credit management session.
\- When such reporting has been activated over Gy/Gyn, the PGW/TDF notifies
the OCS with the UE PLMN Partition Area Identifier. OCS should be configured
with the mapping between PLMN Partition Area identifier and the ratings in the
PLMN Partition Area.
### 7.6.2 Impacts on existing nodes and functionality
No new message is introduced as this solution reuses existing messages.
The solution adds following modification in the existing signalling messages
(e.g. GTP-c):
\- the Change Reporting Action IE is enhanced to indicate the identity of the
PLMN Partition(s) for which ULI reporting is requested;
\- the User Location Information IE is enhanced by adding the identity of the
PLMN Partition Area(s) the UE is currently located in.
The solution adds following modifications to Gy/Gyn for on-line charging:
\- in the Credit-Control-Request message from the PGW/TDF, the addition of the
PLMN Partition Identifier (provided by PCRF), the PLMN Partition Area in which
the UE is located, and optionally whether the PLMN Partition reporting has
been stopped; and
\- in the Credit-Control-Answer message from OCS, the addition of an
indication on whether OCS subscribes to PLMN Partition Area change reporting.
### 7.6.3 Solution evaluation
Editor\'s note: Use this clause for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
## 7.7 Solution 7 - Set of PRA IDs
### 7.7.1 Description
This solution handles Key Issue #2 in the TR 23.711 [4].
In this solution it is proposed to handle PLMN partitioning by configuring a
number of CN pre-configured PRAs into a set of PRAs, which is identified by
one PRA ID e.g. PRA_setA=PRA2+PRA4. This allows activating a set of CN pre-
configured PRAs from the PCRF with just one PRA ID. The PRA ID used to
identify a set of PRAs is predefined in MME/SGSN. If there is a need to
separate the PRA id representing one basic PRA (i.e. defined as a list of
TAs/RAs, or eNBs and/or cells/SAs in a PLMN) from a PRA id representing a set
of PRAs, this can be done e.g. by allocation of different value ranges.
The reporting of the PRA changes inside the set of PRAs is done as in basic
PRA reporting i.e. entering/leaving the PRAs. As an example:
\- If the UE moves inside the set of PRAs the reporting will be \"leaving\"
the old PRA and \"entering\" the new PRA (reported in the same message from
MME/SGSN to the PCRF).
\- If the UE moves out of the set of PRAs, the reporting will only be
\"leaving\" the old PRA.
In the Key Issue #2 it is described that the whole PLMN shall be portioned in
a set of PPAs or PRAs as used in this solution. Whether the whole PLMN shall
be partitioned or not is up to the configuration of the set of PRAs (set of
PPAs). MME/SGSN reports that the UE is outside/inside the PRAs in the set of
CN pre-defined PRAs to PCRF/OCS.
### 7.7.2 Impacts on existing nodes and functionality
No new message is introduced as this solution reuses PRA feature as in the
existing messages i.e. not introducing PPA.
No new identity is needed to identify the \"set of PRAs\" as the existing PRA
id is used.
The solution adds no modification in the existing signalling messages (e.g.
GTP-C).
The solution adds no modifications to Gy/Gyn for on-line charging.
MME/SGSN: Introduction of the \"set of PRAs\" concept and configuration of the
\"set of PRAs\" in MME and SGSN.
PCRF: Introduction of the \"set of PRAs\" concept and configuration of the
\"set of PRAs\".
### 7.7.3 Solution evaluation
Editor\'s note: Use this clause for evaluation at solution level. Evaluation
at key issue level is done in a separate clause.
## 8 Overall evaluation
Editor\'s note: Use this clause for evaluation of all solutions.
# 9 Conclusions
**For Key Issue#1: Extension of PRA reporting mechanism**
Solution#5 (Enhancement of PRA mechanism) is selected to allow simultaneous
activation of multiple UE-dedicated PRA(s) and/or core network pre-defined
PRA(s) for each PDN connection. Normative work is expected to be reflected in
TS 23.401 [2] and TS 23.203 [3] for this aspect.
**For Key Issue#2: Triggering and reporting in PLMN partitioning scenario**
Solution #7 (Set of PRAs) is selected to support PLMN partition, which allows
the combination of CN predefined PRAs to compose a set of PRAs. A set of PRAs
is identified by a PRA ID. Such information can be configured in MME/SGSN and
PCRF.
**For Key Issue#3: Efficient node resource control for enhancement of user
location monitoring and reporting**
Solution #1 is selected to solve efficient node resource control. Thus,
MME/SGSN can perform dynamic resource handling based on preconfigured
priorities. It is also agreed to define a maximum number of PRAs in PCRF per
UE and per PDN connection. This maximum number will be determined during the
normative phase.
#