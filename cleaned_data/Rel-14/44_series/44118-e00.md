# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
## 1.1 General
The present document specifies the procedures used at the radio interface
(Reference Point Um, see 3GPP TS 24.002) for Radio Resource management. The
Radio Resource Control Protocol (RRC) is specified. RRC is the Radio Resource
control plane protocol for Radio Resource management that is used when a
mobile station is operating in Iu mode.
Notation \"Reserved sub-clause number\" is used to indicate which sub-clauses
of the specification were moved from this part of the standard to the other
part when this standard was split between RAN and CN parts.
When the notations for \"further study\" or \"FS\" or \"FFS\" are present in
this specification they mean that the indicated text is not a normative
portion of this standard.
These procedures are defined in terms of messages exchanged over the control
channels of the radio interface. The control channels are described in 3GPP TS
44.003.
The structured functions and procedures of this protocol and the relationship
with other layers and entities are described in general terms in 3GPP TS
24.007.
## 1.2 Scope of the Technical Specification
The procedures currently described in the present document are for radio
resource management for circuit switched and GPRS services.
3GPP TS 24.010 contains functional procedures for support of supplementary
services.
3GPP TS 24.011 contains functional procedures for support of point-to-point
short message services.
3GPP TS 44.012 contains functional description of short message cell
broadcast.
3GPP TS 44.060 contains procedures for radio link control and medium access
control (RLC/MAC) of packet data physical channels.
3GPP TS 44.071 contains functional descriptions and procedures for support of
location services.
3GPP TS 24.008 contains the procedures for CN protocols.
NOTE: \"layer 3\" includes the functions and protocols described in this
Technical Specification. The terms \"data link layer\" and \"layer 2\" are
used interchangeably to refer to the layer immediately below layer 3.
## 1.3 Application to the interface structures
The layer 3 procedures apply to the interface structures defined in 3GPP TS
44.003. They use the functions and services provided by layer 2 defined in
3GPP TS 44.005 and 3GPP TS 44.006. 3GPP TS 24.007 gives the general
description of layer 3 including procedures, messages format and error
handling.
## 1.4 Structure of layer 3 procedures
A building block method is used to describe the layer 3 procedures.
The basic building blocks are \"elementary procedures\" provided by the
protocol control entities of the three sublayers, i.e. radio resource
management, mobility management and connection management sublayer.
Complete layer 3 transactions consist of specific sequences of elementary
procedures. The term \"structured procedure\" is used for these sequences.
## 1.5 Test procedures
Test procedures of the GSM radio interface signalling are described in 3GPP TS
51.010 and 3GPP TS 51.02x series.
## 1.6 Applicability of implementations
NOTE: This sub-clause is FFS.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.011: \"Service accessibility\".
[3] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[4] 3GPP TS 23.022: \"Functions related to Mobile Station (MS) in idle mode\".
[5] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
Description; Stage 2\".
[6] 3GPP TS 23.101: \"General UMTS Architecture\".
[7] 3GPP TS 23.110: \" UMTS Access Stratum; Services and Functions\".
[8] 3GPP TS 23.221: \"Architectural requirements\".
[9] 3GPP TS 24.002: \"GSM Public Land Mobile Network (PLMN) access reference
configuration\".
[10] 3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General
aspects\".
[11] 3GPP TS 24.008: "Mobile radio interface layer 3 specification;Core
Network Protocols - Stage 3"
[12] 3GPP TS 24.010: \"Mobile radio interface layer 3 Supplementary services
specification; General aspects\".
[13] 3GPP TS 24.011: \"Point-to-point (PP) Short Message Service (SMS) support
on mobile radio interface\".
[14] 3GPP TS 24.080: \"Mobile radio interface layer 3 supplementary services
specification Formats and coding\".
[15] 3GPP TS 25.323: \"Packet Data Convergence Protocol (PDCP)
Specification\".
[16] 3GPP TS 25.331: \"Radio Access Network; RRC Protocol Specification\".
[17] 3GPP TS 31.102: \"Characteristics of the USIM Application\".
[18] 3GPP TS 33.102: \"3G Security; Security Architecture\".
[19] 3GPP TS 43.013: \"Discontinuous Reception (DRX) in the GSM system\".
[20] 3GPP TS 43.051: \"Radio Access Network; Overall description Stage 2\".
[21] 3GPP TS 43.059: \"Functional Stage 2 Description of Location Services in
GERAN\".
[22] 3GPP TS 44.004: \"Layer 1 General requirements\".
[23] 3GPP TS 44.005: \"Data Link (DL) layer General aspects\".
[24] 3GPP TS 44.006: \"Mobile Station - Base Station System (MS - BSS)
interface Data Link (DL) layer specification\".
[25] 3GPP TS 44.003: \"Mobile Station Base Station System (MS - BSS) interface
Channel structures and access capabilities\".
[26] 3GPP TS 44.012: \"Short Message Service Cell Broadcast (SMSCB) support on
the mobile radio interface\".
[27] 3GPP TS 44.018:\" GSM EDGE Radio Access Network, Mobile radio interface
layer 3 specification, Radio Resource Control Protocol\"
[28] 3GPP TS 44.031: \"Location Services;Mobile Station (MS) -- Serving Mobile
Location Centre (SMLC); Radio Resource LCS Protocol (RRLP)\".
[29] 3GPP TS 44.071: \"Mobile radio interface layer 3 location services
specification.
[30] 3GPP TS 44.060: \"General Packet Radio Service (GPRS); Mobile Station -
Base Station System (MS-BSS) interface; Radio Link Control and Medium Access
Control (RLC/MAC) layer specification\".
[31] 3GPP TS 44.160: \"General Packet Radio Service (GPRS); Mobile Station -
Base Station System (MS-BSS) interface; Radio Link Control and Medium Access
Control (RLC/MAC) layer specification, Iu mode\".
[32] 3GPP TS 45.002: \"Multiplexing and multiple access on the radio path\".
[33] 3GPP TS 45.005: \"Radio transmission and reception\".
[34] 3GPP TS 45.008: \"Radio subsystem link control\".
[35] 3GPP TS 45.010: \"Radio subsystem synchronization\".
[36] 3GPP TS 51.010: \"Mobile Station (MS) conformity specification\".
[37] ITU-T Recommendation Q.931: ISDN user-network interface layer 3
specification for basic control\".
[38] TIA/EIA/IS-2000-5-A: \"Upper Layer (Layer 3) Signaling Standard for
cdma2000 Spread Spectrum Systems\".
[39] TIA/EIA/IS-833: \"Multi-Carrier Specification for Spread Spectrum Systems
on GSM MAP (MC-MAP) (Lower Layers Air Interface)\".
[40] TIA/EIA/IS-2000-4-A: \"Signaling Link Access Control (LAC) Standard for
cdma2000 Spread Spectrum Systems\".
[41] Michel MOULY, "CSN.1 Specification, Version 2.0", Cell & Sys, ISBN:
2‑9510062‑0‑9.\ Web: http://perso.wanadoo.fr/cell.sys/.
[42] IANA ROHC profile identifier definition
(http://www.iana.org/assignments/rohc-pro-ids).
[43] 3GPP TR 45.902: "Flexible Layer One".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
The following terms are used in this Technical Specification:
**_A/Gb mode_ :** mode of operation of the MS when connected to the Core
Network via GERAN and the A and/or Gb interfaces.
**_Access Stratum (AS)_** : defined in 3GPP TS 23.101.
**_Active Transport Channel_** : a transport channel is active during a TTI if
it carries a transport block.
**_\"channel set\"_** : is used to identify TCHs that carry related user
information flows, e.g., in a multislot configuration used to support circuit
switched connection(s), which therefore need to be handled together.
**_Dynamic attributes_** : for one transport channel, the values of the
dynamic attributes are different among transport formats. They are configured
by Layer 3 and can change on a TTI basis under the control of the MAC
sublayer.
**_Empty Transport Format_** : a transport format such that no transport block
is carried over the transport channel (i.e. the transport channel is
inactive).
**_Empty Transport Format Combination_** : a transport format combination that
is made up only of empty transport formats.
**_Inactive Transport Channel_** : a transport channel is inactive during a
TTI if it does not carry a transport block (i.e. the transport block size is
zero).
**_Iu mode_** : mode of operation of the MS when connected to the Core Network
via GERAN or UTRAN and the Iu interface.
**_Non Access Stratum (NAS)_** : defined in 3GPP TS 21.905.
**_RR idle_** : defined in 3GPP TS 44.018.
**_RR_** : Radio Resource control plane protocol for radio resource management
that is used when a mobile station is operating in _A/Gb mode_.
**_RRC_** : Radio Resource control plane protocol for radio resource
management that is used when a mobile station is operating in Iu mode.
**_RRC Connection_** : A point-to-point bi-directional connection between RRC
peer entities in the MS and the GERAN characterised by the allocation of a
G-RNTI. An MS has either zero or one RRC connection.
**_RRC-Idle mode_** : In RRC-Idle mode, the MS has no established RRC
connection.
**_RRC-Connected mode_** : In RRC-Connected mode, the MS has an established
RRC connection.
**_Inter-RAT handover_** : indicates the transfer of the connection, under the
control of the network, between the MS and two different radio access
technologies (e.g. UMTS to GERAN Iu mode).
**_Inter-mode handover_** : indicates the transfer of the connection, under
the control of the network, between the MS and GERAN _Iu mode_ to/from GERAN
_A/Gb mode_.
**_R:_** Retransmission number (_R_ = 0 for first transmission, _R_ = 1 for
first retransmission, ..., _R_ = _n_ for the _n_ ^th^ retransmission). When
there is no retransmission, _R_ = 0 always.
**_RR group receive mode_** : defined in 3GPP TS 44.018.
**_RR dedicated mode_** : defined in 3GPP TS 44.018.
**_RR group transmit mode_** : defined in 3GPP TS 44.018.
**_RR packet idle mode_** : defined in 3GPP TS 44.018.
**_RR packet transfer mode_** : defined in 3GPP TS 44.018.
**_RR dual transfer mode_** : defined in 3GPP TS 44.018.
**_RLC/MAC block_** : A RLC/MAC block is the protocol data unit exchanged
between RLC/MAC entities, see 3GPP TS 44.060.
**_Semi-static attributes_** : for one transport channel, the values of the
semi-static attributes are common to all transport formats. They are
configured by Layer 3 and can only be changed by Layer 3 signalling.
**_Transport Block (TB)_** : block exchanged on a transport channel between
the physical layer and the MAC sublayer.
**_Temporary block flow (TBF)_** : is defined in 3GPP TS 44.060.
**_Transport Channel (TrCH)_** : a transport channel is offered by the
physical layer to the MAC sublayer for exchange of transport blocks. A
transport channel is used to carry with a certain quality of service, a data
flow over the radio interface.
**_Transport Format (TF)_** : configuration of a transport channel, including
for instance channel coding, CRC size, etc.
**_Transport Format Combination (TFC)_** : allowed combination of transport
format(s) of the different transport channels that are multiplexed together on
a basic physical subchannel.
**_Transport Format Combination Indicator (TFCI)_** : layer one header that
indicates the transport channel combination that has been selected for each
radio packet.
**_Transport Format Combination Set (TFCS)_** : set of allowed transport
format combinations on a basic physical subchannel.
**_Transport Format Indicator (TFIN)_** : index identifying a particular
transport format within the transport format set.
**_Transport Format Set (TFS)_** : set of all transport formats defined for a
particular transport channel.
**_Transmission Time Interval (TTI)_** : rate at which transport blocks are
exchanged between the physical layer and the MAC sublayer on a transport
channel.
The network modes of operation for GERAN _Iu mode_ are:
NMO I: the network has a Gs interface. The network sends CS paging and PS
paging messages for an attached MS via the SGSN and the Iu-ps interface to
GERAN Iu. Paging co-ordination is achieved at the SGSN thanks to the Gs
interface. GERAN Iu pages the MS on PACCH if available, else PCCCH. MS can
initiate combined procedures according to its capabilities.
NMO II: the network has no Gs interface. For an attached MS, the network sends
CS paging messages, via the MSC plus the Iu-cs interface, and sends PS paging
messages, via the SGSN plus the Iu-ps interface to GERAN Iu. GERAN Iu performs
paging co-ordination and pages the MS on PACCH if available, else PCCCH. MSs
cannot initiate combined procedures.
## 3.2 Abbreviations
Abbreviations used in this specification are listed in 3GPP TS 21.905.
NOTE: 3GPP TS 21.905 may need to be updated.
## 3.3 Random values
In a number of places in this Technical Specification, it is mentioned that
some value must take a \"random\" value, in a given range, or more generally
with some statistical distribution. Such cases interest only the Mobile
Station.
It is required that there is a low probability that two MSs in the same
conditions (including the case of two MSs of the same type from the same
manufacturer) will choose the same value. Moreover, it is required that, if it
happens that two MSs in similar conditions choose the same value, the
probability of their choices being identical at the next occasion is the same
as if their first choices had been different.
The meaning of such a specification is that any statistical test for these
values, done on a series of similar events, will obtain a result statistically
compatible with the specified distribution. This shall hold even in the cases
where the tests are conducted with a subset of possible events, with some
common parameters. Moreover, basic tests of independence of the values within
the series shall pass.
Data against which correlation with the values shall not be found are the
protocol state, or the IMSI, or identities or other unrelated information
broadcast by the network, or the current TDMA frame number.
## 3.4 Specification Notations
For the purposes of the present document, the following notations apply:
Procedure When referring to an elementary procedure in the specification the
Procedure Name is written with the first letters in each word in upper case
characters followed by the word \"procedure\", e.g. RRC Estabilshment
procedure.
Message When referring to a message in the specification the MESSAGE NAME is
written with all letters in upper case characters followed by the word
\"message\", e.g. CELL UPDATE message.
IE When referring to an information element (IE) in the specification the
_Information Element Name_ is written with the first letters in each word in
upper case characters and all letters in Italic font precedeed by the
abbreviation \"IE\", e.g. IE "_Initial MS Identity"_.
Value of an IE When referring to the value of an information element (IE) in
the specification the \"Value\" is written as it is specified in sub-clause
9.2 enclosed by quotation marks, e.g. \"Abstract Syntax Error (Reject)\" or
\"Geographical Coordinates\"
# 4 RRC Functions and Services provided to upper layers
## 4.1 RRC Functions
RRC performs following functions. A more detailed description of the functions
can be found in 3GPP TS 43.051.
\- Broadcast of information provided by the Non-Access stratum (Core Network)
\- Broadcast of information related to the access stratum
\- Establishment, re-establishment, maintenance and release of an RRC
connection between the MS and GERAN
\- Establishment, reconfiguration and release of Radio Bearers
\- Assignment, reconfiguration and release of radio resources for the RRC
connection
\- RRC connection mobility functions
\- Release of signalling connections
\- Paging/notification
\- Listening to BCCH
\- Routing of higher layer PDUs
\- Control of requested QoS
\- MS measurement reporting and control of the reporting
\- Power control
\- Control of ciphering
\- Integrity protection
\- Support for Location Services
\- Timing advance control
## 4.2 RRC Services provided to upper layers
The RRC offers the following services to upper layers (NAS), a description and
primitives of these services are provided in 3GPP TS 43.051 and 3GPP TS
23.110.
\- General Control;
\- Notification;
\- Dedicated control.
The RRC layer provides the MS GERAN portion of signalling connections to the
upper layers to support the exchange of upper layer\'s information flow. The
signalling connection is used between the mobile station and the core network
to transfer upper layer information. For each core network domain, at most one
signalling connection may exist at the same time. The RRC layer maps the
signalling connections for one MS on a single RRC connection. For the upper
layer data transfer on signalling connections, the RRC layer supports the
discrimination between two different classes, named \"High priority\"
(corresponding to \"SAPI 0\" when using RR) realised using SRB3 and \"Low
priority\" (corresponding to \"SAPI 3\" when using RR) realised using SRB4.
# 5 Services expected from lower layers
## 5.1 Services required from layer 2 and physical layers
RRC uses RLC/MAC as layer 2 in the control plane, except for operation on the
BCCH, where the data link layer as specified in 3GPP TS 44.006 is used (see
3GPP TS 43.051).
## 5.2 Signalling Radio Bearers
The Radio Bearers used for transferring signalling messages are called
Signalling Radio Bearers (SRBs). The SRBs are defined as:
\- SRB1 is used to carry RRC signaling performed in support of Access Stratum
specific needs (RLC operates in unacknowledged mode).
\- SRB2 is used to carry RRC signaling performed in support of Access Stratum
specific needs (RLC operates in acknowledged mode).
\- SRB3 is used to carry RRC signaling performed in support of Non-Access
Stratum specific needs (RLC operates in acknowledged mode).
\- SRB4 is used to carry RRC signaling performed in support of Non-Access
Stratum specific needs (RLC operates in acknowledged mode).
# 6 RRC Protocol modes and states
## 6.1 General
An overall picture of the transitions between RR modes of operation and RRC
states and modes is in Figure 6.1.1. The RRC modes are RRC-Idle mode and RRC-
Connected mode. RRC-Connected mode consists of three different RRC states RRC-
Cell_Shared, RRC-Cell_Dedicated and RRC-GRA_PCH. The RR modes of operation are
RR Dedicated mode, RR Group receive mode, RR Group transmit mode, RR Packet
Idle mode, RR Packet Transfer mode and RR DTM (see 3GPP TS 43.064).
RR Group receive mode and RR Group transmit Mode are not described in Figure
6.1.1.
Figure 6.1.1: Transitions between RR modes of operation and RRC states and
modes.
## 6.2 Relation between Iu mode and A/Gb mode
### 6.2.1 Handover between Iu and A/Gb modes
When a handover which results in change from _Iu mode_ (i.e. from the RRC-
Cell_Dedicated state) to _A/Gb mode_ is performed, the RR dedicated mode of
operation shall be entered.
When a handover which results in change from _A/Gb mode_ (i.e. from the RR
dedicated mode of operation) to _Iu mode_ is performed, the RRC-Cell_Dedicated
state shall be entered. If handover to _Iu mode_ is triggered in RR dual
transfer mode of operation, the RR dedicated mode of operation shall be
entered before the handover is initiated.
### 6.2.2 Cell reselection between Iu and A/Gb mode
Cell reselection in this sub-clause refers to aborting the operation in the
old cell and switching to the new selected cell.
When a cell reselection which results in change from _Iu mode_ (i.e from the
RRC-Idle Mode) to _A/Gb mode_ is performed, the RR Idle/ RR Packet Idle mode
of operation shall be entered. If cell reselection is triggered in RRC-
Cell_Shared or RRC-GRA_PCH state, the RRC-Idle mode shall be entered before
the cell reselection is initiated.
When a cell reselection which result in change from _A/Gb mode_ (i.e. from the
RR Idle/RR packet Idle mode of operation) to _Iu mode_ , is performed the RRC-
Idle mode shall be entered. If cell reselection is triggered in RR Packet
Transfer mode of operation, the RR packet Idle mode of operation shall be
entered before the cell reselection is initiated.
## 6.2a Relation between GERAN Iu mode RRC and UTRA RRC
### 6.2a.1 Handover between GERAN Iu mode and UTRAN
When a handover which results in change from GERAN _Iu mode_ (i.e. RRC-
Cell_Dedicated state) to UTRAN is performed, the UTRAN RRC connected mode of
operation shall be entered.
When a handover which results in change from UTRAN (i.e. from the UTRA RRC
Cell_DCH state) to GERAN _Iu mode_ is performed, the RRC-Cell_Dedicated state
shall be entered.
### 6.2a.2 Cell reselection between GERAN Iu mode and UTRAN
Cell reselection in this sub-clause refers to aborting the operation in the
old cell and switching to the new selected cell.
When a cell reselection which results in change from GERAN _Iu mode_ to UTRAN
is performed, when the MS is in RRC-Idle mode, the Idle mode of operation
shall be entered.
When a cell reselection which results in change from GERAN _Iu mode_ to UTRAN
is performed, when the MS is in GERAN RRC-Cell_Shared state, the MS shall
initiate the cell update procedure and enter the UTRAN RRC CELL_FACH state. If
the cell update is rejected by UTRAN, the MS shall release the RRC connection
according to the cell update failure case and enter Idle mode.
When a cell reselection which results in change from GERAN _Iu mode_ to UTRAN
is performed, when the MS is in GERAN RRC-GRA_PCH state, the MS shall enter
the UTRAN RRC URA_PCH state. If the GRA identity which the MS had been
assigned to in GERAN is not present in the list of URA identities broadcast in
the UTRAN cell, the MS shall initiate the UTRAN URA update procedure. If the
URA update is rejected by UTRAN, the MS shall release the RRC connection
according to the URA update failure case and enter Idle mode.
When a cell reselection which results in change from UTRAN to GERAN _Iu mode_
is performed, when the MS is in UTRAN RRC-Cell_FACH or Cell_PCH state, the MS
shall initiate the cell update procedure and enter the GERAN RRC Cell Shared
state. If the cell update is rejected by GERAN, the MS shall release the RRC
connection according to the cell update failure case and enter RRC Idle mode
in GERAN _Iu mode_.
When a cell reselection which results in change from UTRAN to GERAN _Iu mode_
is performed, when the MS is in UTRAN RRC-URA_PCH state, the MS shall enter
the GERAN RRC GRA_PCH state. . If the URA identity which the MS had been
assigned to in UTRAN is not present in the list of GRA identities broadcast in
the GERAN cell, the MS shall initiate the GERAN GRA update procedure. If the
GRA update is rejected by GERAN, the MS shall release the RRC connection
according to the GRA update failure case and enter RRC Idle mode in GERAN _Iu
mode_.
## 6.3 RR modes of operation
The RR modes of operation are described in 3GPP TS 43.064.
## 6.4 RRC modes and states
### 6.4.1 RRC-Idle Mode
#### 6.4.1.1 General
After power on having selected the _Iu mode_ , the MS enters RRC-Idle mode.
The MS stays in RRC-Idle mode until a successful establishment of a RRC
Connection. In RRC-Idle mode the connection of the MS is closed on all layers
of the access stratum. In RRC-Idle mode the MS is identified by Non-Access
stratum identities such as IMSI, TMSI and P-TMSI. In addition, the GERAN has
no own information about the individual MS's in RRC-Idle mode, and it can only
address e.g. all MS's in a cell (broadcasting) or all MS's monitoring a paging
occasion.
#### 6.4.1.2 Transition from RRC-Idle Mode to RRC-Connected mode
The transition to the RRC-Connected mode from the RRC-Idle mode can only be
initiated by the MS by transmitting a request for an RRC Connection. The event
is triggered by a request from upper layers in the MS.
At RRC connection establishment the MS is assigned a GERAN radio network
temporary identity (G-RNTI) to be used as MS identity on both common control
channels and traffic channels.
When the MS receives a message from the network that confirms the RRC
connection establishment, the MS enters the RRC-Connected mode. The RRC-
Connected mode is characterised by three states: RRC-Cell_Shared, RRC-
Cell_Dedicated and RRC-GRA_PCH.
### 6.4.2 RRC-Connected mode: RRC-Cell_Shared state
#### 6.4.2.1 General
RRC-Cell_Shared state is characterized by:
\- no dedicated basic physical subchannel (DBPSCH) is allocated to the MS.
\- the position of the MS is known by GERAN on cell level according to the
cell where the MS last made a cell update.
In RRC-Cell_Shared state the MS shall perform the following actions:
1> initiate a Cell Update procedure on cell change to _Iu mode_ in another
GERAN or UTRAN cell;
1> transmit signalling messages and user data in the uplink and/or the
downlink using PDTCH when the MS is assigned use of those resources;
1> the management of radio resources within the cell is handled at MAC level;
1> listen to the PBCCH control channel of the serving cell for the decoding of
system information messages;
1> listen to neighbouring cells for neighbour cell measurements (see 3GPP TS
45.008);
1> use G-RNTI assigned in the current cell as the MS identity on common
control channels.
NOTE: In that state, if the network wants to initiate any activity, no paging
request is required to be sent. The network can directly allocate radio
resources to the MS.
#### 6.4.2.2 Transition from RRC-Cell_Shared state to RRC-Idle Mode
The transition to RRC-Idle Mode is realised through the release of the RRC
connection.
#### 6.4.2.3 Transition from RRC-Cell_Shared state to RRC-Cell_Dedicated state
The transition from RRC-Cell_Shared state to RRC-Cell_Dedicated state occurs
when a DBPSCH is allocated to the MS.
#### 6.4.2.4 Transition from RRC-Cell_Shared state to RRC-GRA_PCH state
The transition occurs when GERAN orders the MS to move to RRC-GRA_PCH state
via explicit signaling.
When such a transition occurs, the mobile station shall abort any TBF in
progress by immediately ceasing to decode the downlink, ceasing to transmit on
the uplink, stopping all RLC/MAC timers except for timers related to
measurement reporting, prior to moving to RRC-GRA_PCH state.
#### 6.4.2.5 Radio resource allocation tasks
RRC is in this state responsible for allocating dedicated basic physical
subchannels, which causes the MS to enter the RRC-Cell_Dedicated state. MAC is
responsible for allocating / reallocating / releasing shared basic physical
subchannels (SBPSCH) (see 3GPP TS 44.160). This allocation of the PDTCHs by
MAC is done according to the QoS class of the radio bearer and multislot
capability of the MS. The RRC provides the MAC with QoS class and indication
of the MS multislot capability.
#### 6.4.2.6 RRC connection mobility tasks
In RRC-Cell_Shared state the MS shall initiate a Cell Update procedure when:
1> a new GERAN cell has been selected and the MS operates in _Iu mode_ , or
1> a UTRAN cell has been selected.
1> when T305 in the MS expires and the MS is operating in _Iu mode_.
When the GERAN cell has been selected that would require the MS to operate in
the _A/Gb mode_ then the MS shall enter the RRC-Idle Mode, enter RR Idle or RR
Packet Idle Mode of operation. Access in the cell will then be made according
to the _A/Gb_ _mode_ procedures.
#### 6.4.2.7 MS measurements
MAC is responsible for measurement reporting, using the procedures defined in
3GPP TS 44.060.
### 6.4.3 RRC-Connected mode: RRC-Cell_Dedicated state
#### 6.4.3.1 General
RRC-Cell_Dedicated state is characterized by:
\- the MS is assigned one or more dedicated basic physical subchannels (see
3GPP TS 43.051) in the uplink and downlink, which it can use anytime.
Furthermore, the MS may be assigned one or more shared basic physical
subchannels.
\- the position of the MS is known by GERAN on cell level.
In RRC-Cell_Dedicated state the MS shall perform the following actions:
1> perform necessary procedures for measurement reporting;
1> listen to neighbouring cells for neighbouring cell measurements (see 3GPP
TS 45.008);
1> perform a handover procedure of the dedicated basic physical subchannels on
cell change of another GERAN or UTRAN cell;
1> transmit signalling message in the uplink using available signalling radio
bearers.
#### 6.4.3.2 Transition from RRC-Cell_Dedicated state to RRC-Cell_Shared state
The transition occurs when all the dedicated basic physical subchannels are
released and
1> shared basic physical subchannels exist; or
1> no shared basic physical subchannels exist and the network indicates
transition to the RRC-Cell_Shared state.
#### 6.4.3.3 Transition from RRC-Cell_Dedicated state to RRC-Idle Mode
The transition to RRC-Idle mode is realised through the release of the RRC
connection.
#### 6.4.3.4 Transition from RRC-Cell_Dedicated state to RRC-GRA_PCH state
The transition occurs when GERAN orders the MS to move to the RRC-GRA_PCH
state via explicit signalling.
When such a signalling is received, the mobile station shall release all the
allocated dedicated basic physical suchannel(s) and, if any, all the shared
basic physical subchannels, prior to moving to RRC-GRA_PCH state.
#### 6.4.3.5 Radio resource allocation tasks
RRC is responsible for allocating new dedicated basic physical subchannels,
while MAC or RRC are responsible for allocation of new shared basic physical
subchannels depending on the MAC control state. RRC is also responsible for
intra-cell handovers of dedicated basic physical sub-channels.
#### 6.4.3.6 RRC connection mobility tasks
RRC connection mobility tasks are realised in RRC-Cell_Dedicated state using
RRC handover procedures.
#### 6.4.3.7 MS measurements
MS measurement results are signaled using RRC measurement procedures.
### 6.4.4 RRC-Connected mode: RRC-GRA_PCH state
#### 6.4.4.1 General
The RRC-GRA_PCH state is characterized by:
\- no physical subchannel is allocated to the MS.
\- the MS may use DRX for monitoring a PCCCH.
\- no uplink activity is possible.
\- the location of the MS is known on GERAN Registration area level.
In this state the MS performs the following actions:
1> monitor the paging occasions according to the DRX cycle and receive paging
information on the PCCCH;
1> listen to the PBCCH control channel of the serving cell for the decoding of
system information messages;
1> initiate a GRA Update procedure upon GRA change.
If the network wants to initiate any activity, it shall make a paging request
on the PCCCH logical channel within the GRA where the MS is.
GRA updating is initiated by the MS, which, upon the detection of the new
GERAN registration area, sends the network the registration area update
information to the new cell. Any activity causes a transition to either the
RRC-Cell_Shared state or the RRC-Cell_Dedicated state, depending on the
activity.
#### 6.4.4.2 Transition from RRC-GRA_PCH state to RRC-Cell_Shared state
The transition can occur due to GRA update, cell update or answer to paging.
If there has been a cell change since last GRA update, the MS has to do
immediately a cell update except when GRA update is initiated.
#### 6.4.4.3 Transition from RRC-GRA_PCH state to RRC-Cell_Dedicated state
When the MS is in RRC-GRA_PCH state, the MS may request a radio resource to
answer to a paging message or to perform a GRA/Cell Update procedure. The
network may choose to allocate a dedicated resource in which case the MS
enters RRC-Cell_Dedicated state.
#### 6.4.4.4 Radio resource allocation tasks
No radio resource allocation tasks are executed within this state. In case of
transition to RRC-Cell_Shared state is needed, the MAC is responsible for
allocating the shared physical subchannels. In case of transition to RRC-
Cell_Dedicated state is needed, the RRC is responsible for allocating the
physical subdedicated channel.
#### 6.4.4.5 RRC connection mobility tasks
In the RRC-GRA_PCH state the location of a MS is known on GERAN Registration
area level.
In this state, the MS mobility is performed through Cell Reselection
procedures. The MS shall perform cell reselection and upon selecting a new
GERAN cell belonging to a GRA which does not match the GRA used by the MS, the
MS shall move to RRC-Cell_Shared state and initiate a GRA update towards the
network. After the GRA Update procedure has been performed, the MS shall
change its state back to RRC-GRA PCH state if neither the MS nor the network
has any more data to transmit.
In RRC-GRA_PCH state the MS shall initiate:
1> a GRA Update procedure when a new GERAN cell has been selected that does
not belong to the current registration area and the MS operates in Iu mode, or
1> a GRA Update procedure when T305 in the MS expires and the MS is operating
in Iu mode, or
1> a URA Update procedure when a UTRAN cell has been selected that does not
belong to the current registration area (see 3GPP TS 25.331).
When the GERAN cell has been selected that would require the MS to operate in
the _A/Gb mode_ then the MS shall enter the RRC-Idle mode, then enter RR Idle
or RR Packet Idle Mode of operation. Access in the cell will then be made
according to the _A/Gb mode_ procedures.
#### 6.4.4.6 MS measurements
The MS monitors the broadcast channels on its own and neighbouring cells and
identifies the need for GRA updating. No measurement reports are sent to the
network in this state.
#### 6.4.4.7 Transfer and update of system information
The MS shall listen to the PBCCH to acquire a valid system information.
# 7 Radio Resource Control procedures
## 7.1 General
The mobile station can operate either in _A/Gb mode_ or in _Iu mode_. How
mobile station selects the operation mode is specified in 3GPP TS 23.221. The
behaviour of mobile stations operating in _A/Gb mode_ is specified in 3GPP TS
44.018.
After the reception of a message which invoked a procedure, the MS shall be
prepared to receive and act on another message which invokes the second
procedure. Whether this second invocation of a procedure (transaction) is
accepted or rejected by the MS is specified in the sub-clauses that specifies
the procedure. On receiving a message the MS shall first apply integrity check
as appropriate and then proceed with error handling as specified in clause 8
and 9 before continuing on with the procedure as specified in the relevant
sub-clause. The RRC entity in the MS shall consider PDUs to have been
transmitted when they are submitted to the lower layers. If the RRC entity in
the MS submits a message for transmission using AM RLC, it shall consider the
message successfully transmitted when GERAN reception of all relevant PDUs is
acknowledged by RLC.
## 7.2 Change of channels in case of handover
### 7.2.1 Change of channel serving SRB1
The RLC procedures for unacknowledged mode, described in 3GPP TS 44.160, do
not provide protection against message loss or duplication. No functionality
for handling SRB1 during change of channels is defined, as SRB1 is used by RRC
procedures that are not very sensitive to message loss or duplication.
### 7.2.2 Change of channel serving SRB2
The RLC procedures for acknowledged mode, described in 3GPP TS 44.160, provide
delivery of received messages to the upper layers in the order they were
originally transmitted, provide protection against message loss, but do not
provide protection against message duplication. SRB2 is used by RRC procedures
that need reliable transport service and are sensitive to message duplication.
When changing channel, the RRC layer will request the RLC layer to suspend
operation on SRB2 before the mobile station leaves the old channel. When the
channel change has been completed, the RRC layer station will request the RLC
layer to resume operation on SRB2. The RLC layer suspend/resume procedures are
described in 3GPP TS 44.160.
It may happen that the RLC layer duplicates a message, if it has been
transmitted but not yet completely acknowledged within the RLC layer, before
the mobile station leaves the old channel. However, the RRC layer controls the
channels change in such a way that duplication of RRC messages does not occur.
### 7.2.3 Change of channel serving SRB3
The RLC procedures for acknowledged mode, described in 3GPP TS 44.160, provide
delivery of received messages to the upper layers in the order they were
originally transmitted, provide protection against message loss, but do not
provide protection against message duplication. SRB3 is used for RRC messages
carrying upper layer (NAS) signalling. If these messages are sensitive to
message duplication, the upper layer protocol should define its own protection
mechanism.
### 7.2.4 Change of channel serving SRB4
The RLC procedures for acknowledged mode, described in 3GPP TS 44.160, provide
delivery of received messages to the upper layers in the order they were
originally transmitted, provide protection against message loss, but do not
provide protection against message duplication. SRB4 is used for RRC messages
carrying upper layer (NAS) signalling. If these messages are sensitive to
message duplication, the upper layer protocol should define its own protection
mechanism.
## 7.3 System information broadcasting
### 7.3.1 General
The purpose of this procedure is to broadcast SYSTEM INFORMATION (SI) messages
from the GERAN to MSs in a cell.
GERAN is required to broadcast SI messages on BCCH as specified in 3GPP TS
44.018.
### 7.3.2 Broadcast of Iu mode specific System Information
The support of _Iu mode_ shall be indicated in SYSTEM INFORMATION TYPE 3
message sent on BCCH. In addition, the support of _Iu mode_ shall be indicated
in either SYSTEM INFORMATION TYPE 4 or SYSTEM INFORMATION TYPE 7 and 8
messages. The SI3, SI4, SI7 and SI8 messages contain the CBQ3 parameter that
indicates if _Iu mode_ is supported in the cell (see 3GPP TS 44.018).
If _Iu mode_ is supported and Gb mode is not supported in the cell, SYSTEM
INFORMATION TYPE 13alt message shall be sent and the mobile station shall read
SI13alt message. SI 13 message is not sent in this case. SI13alt message shall
not be sent if _Iu mode_ is not supported.
If Gb mode is supported, SYSTEM INFORMATION TYPE 13 message shall be sent and
the mobile station shall read SI 13 message in this case. SI13alt message is
not sent in this case. Additional requirements for the broadcast of system
information in a cell supporting _Iu mode_ and _Gb mode_ are specified in 3GPP
TSs 44.060 and 44.160.
Figure 7.3.2.1 presents the behaviour of _Iu mode_ only capable mobile station
and figure 7.3.2.2 presents the behaviour of _A/Gb mode_ and _Iu mode_ capable
mobile station on BCCH (see 3GPP TS 44.018).
{width="5.354861111111111in" height="4.738194444444445in"}
Figure 7.3.2.1: Behaviour of _Iu mode_ only capable MS on BCCH.
{width="5.354861111111111in" height="4.738194444444445in"}
Figure 7.3.2.2: Behaviour of _A/Gb_ and _Iu mode_ s capable MS on BCCH.
## 7.4 Paging procedure
### 7.4.1 General
The GERAN will start a Paging Request procedure to trigger:
1> an Initial Direct Transfer procedure for CN originated paging; or
1> a Cell Update procedure for GERAN initiated paging.
Paging is done by the GERAN on the PCCCH or PACCH (when available) when the MS
is in RRC-Idle mode, RRC-Cell_Shared state or RRC-GRA_PCH state and on SRB2
when the MS is in RRC-Cell_Dedicated state.
### 7.4.2 Paging initiation in RRC-Idle mode, RRC-Cell_Shared or RRC-GRA_PCH
state
#### 7.4.2.1 General
The paging initiation in RRC-Idle mode, RRC-Cell_Shared state or RRC-GRA_PCH
state is done by sending a PAGING REQUEST service primitive to the GERAN MAC
layer.
{width="4.977777777777778in" height="1.5652777777777778in"}
Figure 7.4.2.1.1: Paging Request procedure
This procedure is used to initiate transmission of paging information by the
GERAN MAC to an MS in RRC-Idle mode, RRC-Cell_Shared state, or RRC-GRA_PCH
state. Upper layers in the network may request paging, to e.g. establish a
signalling connection between a mobile station and the CN. The GERAN may
initiate paging of an MS in RRC-GRA_PCH state or {RRC-Cell_Shared, MAC-Idle
state} to trigger a Cell Update procedure in order to establish a signalling
connection between the network and this MS.
An MS may use Discontinuous Reception (DRX) to reduce its power consumption.
An MS in non-DRX mode monitors all paging blocks on the monitored PCCCH. An MS
in DRX mode needs only to monitor the blocks corresponding to its paging group
in order to reduce its battery consumption, see 3GPP TS 44.160.
#### 7.4.2.2 Initiation
GERAN RRC initiates the Paging procedure by transmitting a PAGING REQUEST
service primitive to the GERAN MAC sublayer.
The GERAN shall set the IEs in the PAGING service primitive as follows:
1> if the Paging procedure was initiated by the CN
2> if the MS is in RRC-Cell_Shared or RRC-GRA_PCH state, then
3> the _MS Identity_ IE shall be set to G-RNTI;
3> the _Paging Record Type Identifier_ IE shall be set to the value determined
by the MS identity received in the CN paging request;
3> the _CN Domain identity_ IE shall be set to the value received in the CN
paging request;
3> if a value for Paging Cause is received from the CN, then the GERAN RRC
shall:
4> set the _Paging Cause_ IE in the PAGING service primitive to the value
received in the CN paging request; .
3> if no value for Paging Cause is received from the CN then the GERAN RRC
shall:
4> set the _Paging Cause_ IE in the PAGING service primitive to the value
"Terminating -- cause unknown".
2> if the MS is in RRC-Idle mode then:
3> the _MS Identity_ IE shall be set to the value received from the CN;
3> the _CN Domain Identity_ IE shall be set to the value received in the CN
paging request;
3> if a value for Paging Cause is received from the CN then the GERAN RRC
shall:
4> set the _Paging Cause_ IE in the PAGING service primitive to the value
received in the CN paging request;
3> if no value for Paging Cause is received from the CN then the GERAN RRC
shall:
4> set the _Paging Cause_ IE in the PAGING service primitive to the value
"Terminating -- cause unknown".
1> if the Paging procedure was initiated by the GERAN, the GERAN RRC shall:
2> set the _MS Identity_ IE to G-RNTI; and
2> the procedure ends.
NOTE: If the Paging procedure is initiated by the GERAN, the GERAN shall
indicate this to the MS by the absence of any information in the PAGING
message other than the G-RNTI IE.
#### 7.4.2.3 Reception of a PAGING INDICATION service primitive
The MS RRC in RRC-Idle mode, RRC-GRA_PCH state or RRC-Cell_Shared state shall
receive the paging information in a PAGING INDICATION service primitive from
the MS MAC layer.
If the MS is in RRC-Idle mode, for each MS paged in the PAGING INDICATION
service primitive, the MS shall:
1> if the _MS Identity_ IE is present in the message and it is a CN identity
2> compare the _MS Identity_ IE with all of its allocated CN MS identities;
2> if one match is found:
3> forward the _MS Identity_ IE, the _CN Domain Identity_ IE and the _Paging
cause_ IE to upper layers; and
3> ignore any other paging information that may be present in the PAGING
service primitive;
1> otherwise:
2> ignore the PAGING service primitive.
If the MS is in RRC-Cell_Shared or RRC-GRA_PCH state, for each MS paged in the
PAGING INDICATION service primitive, the GERAN RRC shall:
1> if the _MS Identity_ IE is a GERAN identity; and
2> if this G-RNTI is the same as the G-RNTI allocated to the MS:
3> if paging request contains page info with CN domain identity
4>forward the _MS identity_ IE, the _CN Domain Identity_ IE and the _Paging
Cause IE_ to upper layers;
3>otherwise
4> initiate the Cell Update procedure with the cause 'paging response' as
defined in sub-clause 7.8; and
4> forward the _CN Domain Identity_ IE if present, the _Paging Record Type
Identifier_ IE if present and the _Paging cause_ IE if present to upper
layers; and
3> ignore any other paging information that may be present in the primitive;
1> otherwise
2> ignore the Paging primitive.
### 7.4.3 Paging initiation in RRC-Cell_Dedicated state
Figure 7.4.3.1.1: Dedicated Paging Request procedure
#### 7.4.3.1 General
This procedure is used to transmit dedicated paging information to one MS in
RRC-Cell_Dedicated state.
#### 7.4.3.2 Initiation
For an MS in RRC-Cell_Dedicated state the GERAN initiates the procedure by
transmitting a DEDICATED PAGING REQUEST message on the SRB2 assigned to the
MS. If not stated otherwise, the GERAN may initiate the Dedicated Paging
Request when another RRC procedure is ongoing, and in this case the state of
the latter procedure shall not be affected.
In the DEDICATED PAGING REQUEST message, the GERAN RRC shall set the IE
\"_Paging Cause_ ", the IE \"_CN Domain Identity_ \", the IE \"_Paging Record
Type Identifier_ \" respectively to the Paging Cause, the CN domain Indicator
and the Paging Record Type Identifier received from upper layers.
If no cause for pagingis received from upper layers, GERAN RRC shall set the
IE \"_Paging Cause_ \" to the value \"Terminating -- cause unknown\".
#### 7.4.3.3 Reception of a DEDICATED PAGING REQUEST message by the MS
When the MS receives a DEDICATED PAGING REQUEST message on SRB 2, it shall not
affect the state of any other ongoing RRC procedures, if not stated otherwise.
Upon receipt of a DEDICATED PAGING REQUEST message the MS shall:
1> forward the _Paging Cause_ IE, the _CN Domain Identity_ IE and the _Paging
Record Type Identifier_ IE to upper layers;
1> the procedure ends.
### 7.4.4 Abnormal cases
If the MS receives a DEDICATED PAGING REQUEST message, which contains a
protocol error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE,
the MS shall perform procedure specific error handling as follows:
1> transmit an RRC STATUS message on the uplink SRB2;
1> include the IE \"_Identification of Received Message_ \";
1> set the IE \"_Received Message Type_ \" to DEDICATED PAGING REQUEST;
1> include the _Protocol Error Information_ IE and set the content to the
value of the variable PROTOCOL_ERROR_INFORMATION.
1> if the RRC STATUS message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
DEDICATED PAGING REQUEST message was not received.
## 7.5 RRC Connection management procedures
### 7.5.1 RRC connection establishment
Figure 7.5.1.1: RRC Connection Establishment, network accepts RRC connection
Figure 7.5.1.2: RRC Connection Establishment, network rejects RRC connection
##### 7.5.1.1 General
The purpose of this procedure is to establish an RRC connection.
##### 7.5.1.2 Initiation
The MS shall initiate the procedure when upper layers in the MS requests the
establishment of a signalling connection and the MS is in RRC-Idle mode (no
RRC connection exists), as specified in sub-clause 7.17.
Upon initiation of the procedure, the MS shall:
1> set the variable PROTOCOL_ERROR_INDICATOR to FALSE;
1> if the USIM is present:
2> set the value of \"THRESHOLD\" in the variable \"START_THRESHOLD\" by the
20 MSBs of the value stored in the USIM (see 3GPP TS 31.102) for the maximum
value of START for each CN Domain;
1> if the SIM is present:
2> set the value of \"THRESHOLD\" in the variable \"START_THRESHOLD\" to the
default value in 3GPP TS 33.102 for each CN Domain.
1> set the IE \"_Initial MS Identity_ \" in the variable INITIAL_MS_IDENTITY
according to sub-clause 7.18;
1> set the contents of the RRC CONNECTION REQUEST message according to sub-
clause 7.5.1.3;
1> submit the RRC CONNECTION REQUEST message for transmission on the uplink
SRB2;
1> set counter V300 to 1; and
> 1> if the RLC sub-layer indicates to the RRC layer a successful transmission
> of the message:
2> start timer T300;
> 1> if the RLC sub-layer indicates a link failure to the RRC layer:
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
2> consider the RRC Connection Establishment procedure to be unsuccessful;
2> the procedure ends.
##### 7.5.1.3 RRC CONNECTION REQUEST message contents to set
The MS shall, in the transmitted RRC CONNECTION REQUEST message:
1> set the IE \"_Establishment Cause_ \" to the value of the variable
ESTABLISHMENT_CAUSE;
1> set the IE \"_Initial MS Identity_ \" to the value of the variable
INITIAL_MS_IDENTITY;
1> set the IE \"_Protocol Error Indicator_ \" to the value of the variable
PROTOCOL_ERROR_INDICATOR.
##### 7.5.1.4 Reception of an RRC CONNECTION REQUEST message by the GERAN
Upon receiving an RRC CONNECTION REQUEST message, the GERAN shall either:
1> submit an RRC CONNECTION SETUP message to the lower layers for transmission
on the downlink SRB2; or
1> submit an RRC CONNECTION REJECT message on the downlink SRB2. In the RRC
CONNECTION REJECT message, the GERAN may direct the MS to another GERAN cell.
After the RRC CONNECTION REJECT message has been sent, all context information
for the MS may be deleted in GERAN.
##### 7.5.1.5 Cell re-selection or T300 timeout
If the MS has not yet received an RRC CONNECTION SETUP message with the value
of the IE \"_Initial MS Identity_ \" equal to the value of the variable
INITIAL_MS_IDENTITY and if cell re-selection or expiry of timer T300 occurs
the MS shall:
1> check the value of V300; and
2> if V300 is equal to or smaller than N300:
3> set the IEs in the RRC CONNECTION REQUEST message according to sub-clause
7.5.1.3;
3> submit a new RRC CONNECTION REQUEST message to lower layers for
transmission on the uplink SRB2;
3> increment counter V300;
3> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the RRC CONNECTION REQUEST message:
4> restart timer T300;
3> if the RLC sub-layer indicates a link failure to the RRC layer:
4> enter RRC-Idle mode;
4> perform the actions specified in clause 6 and in sub sub-clause 7.18;
4> consider the RRC Connection Establishment procedure to be unsuccessful;
4> the procedure ends.
2> if V300 is greater than N300:
3> enter RRC-Idle mode.
3> consider the procedure to be unsuccessful;
3> other actions the MS shall perform when MS is in RRC-Idle mode are
specified in sub-clause 6;
3> the procedure ends.
##### 7.5.1.6 Abortion of RRC connection establishment
If the MS has not yet entered GERAN RRC-Connected mode and the RRC Connection
Establishment is to be aborted as specified in sub-clause 7.17.1.4, the MS
shall:
1> consider the procedure to be unsuccessful;
1> perform the actions when MS is in RRC-Idle mode as specified in clause 6
and sub-clause 7.18.
The procedure ends.
##### 7.5.1.7 Reception of an RRC CONNECTION SETUP message by the MS
On receipt of an RRC CONNECTION SETUP message with the value of the IE
"_Initial MS Identity_ " equal to the value of the variable
INITIAL_MS_IDENTITY, the MS shall:
1> stop timer T300, and act upon all received information elements as
specified in sub-clause 7.19, unless specified otherwise in the following;
2> if the MS will be in the RRC-Cell_Shared state at the conclusion of this
procedure:
3> set the GERAN DRX cycle length coeffcient as specified in sub-clause 7.19;
1> enter in RRC-Connected mode according to sub-clause 7.19;
1> submit an RRC CONNECTION SETUP COMPLETE message to the lower layers on the
uplink SRB2 after successful state transition, with the contents set as
specified below:
2> set the IE \"_RRC Transaction Identifier_ \" to
3> the value of \"RRC transaction identifier\" in the entry for the RRC
CONNECTION SETUP message in the table \"Accepted transactions\" in the
variable TRANSACTIONS; and
3> clear that entry.
2> if the USIM or SIM is present:
3> set the \"START\" for each CN domain in the IE \"_START List_ \" in the RRC
CONNECTION SETUP COMPLETE message with the corresponding START value that is
stored in the USIM (see 3GPP TS 31.102) if present, or as stored in the MS if
the SIM is present; and then
3> set the START value stored in the USIM (see 3GPP TS 31.102) if present, and
as stored in the MS if the SIM is present, for any CN domain to the value
\"THRESHOLD\" of the variable START_THRESHOLD;
2> if neither the USIM nor SIM is present:
3> set the \"START\" for each CN domain in the IE \"_START List_ \" in the RRC
CONNECTION SETUP message to zero;
3> set the value of \"THRESHOLD\" in the variable \"START_THRESHOLD\" to the
default value as specified in 3GPP TS 33.102.
2> retrieve its GERAN _Iu mode_ MS radio access capability information
elements from variable the MS_CAPABILITY_REQUESTED; and then
2> include this in IE \"_MS_ _GERAN Iu mode Radio Access Capability_ \", in
the RRC CONNECTION SETUP COMPLETE message;
2> retrieve its inter-RAT specific MS and UE radio access capability
information elements from the variable MS_CAPABILITY_REQUESTED; and then
2> include this in structure \"_Inter-RAT MS Radio Access Capability_ \".
The RRC CONNECTION SETUP COMPLETE message is submitted to lower layers for
transmission:
1> If the RLC sub-layer indicates to the RRC layer a successful transmission
of the RRC CONNECTION SETUP COMPLETE message the MS shall:
2> if the MS has entered RRC-Cell_Shared state:
3> start timer T305 using its initial value if periodical update has been
configured by T305 in the IE \"_MS Timers and Constants in Connected mode_ \"
set to any other value than \"infinity\" the variable TIMERS_AND_CONSTANTS ;
2> store the contents of the variable MS_CAPABILITY_REQUESTED into the
variable MS_CAPABILITY_TRANSFERRED
2> initialise variables upon entering RRC-Connected mode as specified in sub-
clause 10.4;
2> consider the procedure to be successful;
2> and the procedure ends.
1> Else, the RLC sub-layer indicates to the RRC layer a link failure
condition. The MS shall:
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 and in sub sub-clause 7.18;
2> consider the RRC Connection Establishment procedure to be unsuccessful;
2> the procedure ends.
##### 7.5.1.8 Cell re-selection
1> If the MS performs cell re-selection; or
1> if the MS will be in the RRC-Cell_Shared state at the conclusion of this
procedure; and
1> if the contents of the variable G_RNTI is empty;
1> after having received an RRC CONNECTION SETUP message; and
1> before the RRC CONNECTION SETUP COMPLETE message is delivered to lower
layers for transmission:
the MS shall:
1> clear the entry for the RRC CONNECTION SETUP message in the table
\"Accepted transactions\" in the variable TRANSACTIONS;
1> check the value of V300, and:
2> if V300 is equal to or smaller than N300:
3> set the IEs in the RRC CONNECTION REQUEST message according to sub-clause
7.5.1.3;
3> submit a new RRC CONNECTION REQUEST message to the lower layers for
transmission on the uplink SRB2;
3> increment counter V300; and
3> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
4> restart timer T300;
3> if the RLC sub-layer indicates a link failure to the RRC layer:
4> enter RRC-Idle mode;
4> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
4> consider the RRC Connection Establishment procedure to be unsuccessful;
4> the procedure ends.
2> if V300 is greater than N300:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 MS is in RRC-Idle mode;
3> consider the RRC Establishment procedure to be unsuccessful;
3> the procedure ends.
##### 7.5.1.9 Invalid RRC CONNECTION SETUP message
If the MS receives an RRC CONNECTION SETUP message and the RRC CONNECTION
SETUP message contains a protocol error causing the variable
PROTOCOL_ERROR_REJECT to be set to TRUE according to sub-clause 8, the MS
shall perform procedure specific error handling as follows:
1> clear the entry for the RRC CONNECTION SETUP message in the table
\"Rejected transactions\" in the variable TRANSACTIONS and proceed as below;
1> if V300 is equal to or smaller than N300:
2> set the variable PROTOCOL_ERROR_INDICATOR to TRUE;
2> set the IEs in the RRC CONNECTION REQUEST message according to sub-clause
7.5.1.3;
2> submit a new RRC CONNECTION REQUEST message to the lower layers for
transmission on the uplink SRB2;
2> increment counter V300; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T300;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the RRC Connection Establishment procedure to be unsuccessful;
3> the procedure ends.
1> if V300 is greater than N300:
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
2> consider the RRC Establishment procedure to be unsuccessful;
2> the procedure ends.
##### 7.5.1.10 Reception of an RRC CONNECTION REJECT message by the MS
When the MS receives an RRC CONNECTION REJECT message on the downlink SRB2
with the value of the IE "_Initial MS Identity_ " equal to the value of the
variable INITIAL_MS_IDENTITY, the MS shall stop timer T300 and:
1> clear the entry for the RRC CONNECTION REJECT message in the table
\"Accepted transactions\" in the variable TRANSACTIONS;
1> if the IE \"_Wait Time_ \" is not equal to \'0\';
2> if V300 is equal to or smaller than N300:
3> set the IEs in the RRC CONNECTION REQUEST message according to 7.5.1.3;
3> then submit a new RRC CONNECTION REQUEST message to the lower layers for
transmission on the uplink SRB2.
3> increment counter V300; and
3> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
4> restart timer T300;
3> if the RLC sub-layer indicates a link failure to the RRC layer:
4> enter RRC-Idle mode;
4> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
4> consider the RRC Connection Establishment procedure to be unsuccessful;
4> the procedure ends.
2> if V300 is greater than N300:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when entering RRC-Idle mode;
mode;
3> consider the RRC Establishment procedure to be unsuccessful;
3> the procedure ends.
1> if the IE \"_Wait Time_ \" is equal to \'0\':
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
2> consider the RRC Establishment procedure to be unsuccessful;
2> the procedure ends.
##### 7.5.1.11 Invalid RRC CONNECTION REJECT message
If the MS receives an RRC CONNECTION REJECT message which contains a protocol
error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE according
to sub-clause 8, the MS shall perform procedure specific error handling as
follows.
The MS shall:
1> clear the entry for the RRC CONNECTION REJECT message in the table
\"Rejected transactions\" in the variable TRANSACTIONS;
1> if V300 is equal to or smaller than N300:
2> set the variable PROTOCOL_ERROR_INDICATOR to TRUE;
2> set the IEs in the RRC CONNECTION REQUEST message according to sub-clause
7.5.1.3;
2> submit a new RRC CONNECTION REQUEST message to the lower layers for
transmission on the uplink SRB2;
2> increment counter V300; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T300;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the RRC Connection Establishment procedure to be unsuccessful;
3> procedure ends.
1> if V300 is greater than N300:
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
2> consider the RRC Establishment procedure to be unsuccessful;
2> the procedure ends.
### 7.5.2 RRC connection release
Figure 7.5.2.1: RRC Connection Release procedure
#### 7.5.2.1 General
The purpose of this procedure is to release the RRC connection and all radio
bearers between the MS and the GERAN. By doing so, all established signalling
connections will be released.
#### 7.5.2.2 Initiation
When the MS is in state RRC-Cell_Dedicated state or RRC-Cell_Shared state, the
GERAN may at anytime initiate an RRC connection release by transmitting an RRC
CONNECTION RELEASE message using SRB2.
#### 7.5.2.3 Reception of an RRC CONNECTION RELEASE message by the MS
The MS shall receive and act on an RRC CONNECTION RELEASE message in states
RRC-Cell_Dedicated state and RRC-Cell_Shared state. Furthermore this procedure
can interrupt any ongoing procedures with the MS in the above listed states.
When the MS receives the RRC CONNECTION RELEASE message, it shall:
1> in state RRC-Cell_Dedicated state:
2> set the IE \"_RRC Transaction Identifier_ \" in the RRC CONNECTION RELEASE
COMPLETE message to the value of \"RRC transaction identifier\" in the entry
for the RRC CONNECTION RELEASE message in the table \"Accepted transactions\"
in the variable TRANSACTIONS; and
2> if the IE \"_RPLMN Information_ \" is present:
3> the MS may:
4> store the IE on the ME together with the PLMN id for which it applies;
3> the MS may then:
4> utilise this information, typically indicating where a number of BCCH
frequency ranges of a RAT may be expected to be found, during subsequent RPLMN
selections of the indicated PLMN.
2> submit an RRC CONNECTION RELEASE COMPLETE message to the lower layers for
transmission the SRB2 to the GERAN;
1> in state RRC-Cell_Shared state:
2> set the IE \"RRC _Transaction Identifier_ \" in the RRC CONNECTION RELEASE
COMPLETE message to the value of \"RRC transaction identifier\" in the entry
for the RRC CONNECTION RELEASE message in the table \"Accepted transactions\"
in the variable TRANSACTIONS; and
2> submit an RRC CONNECTION RELEASE COMPLETE message to the lower layers for
transmission using the SRB2;
1> when the successful transmission of the RRC CONNECTION RELEASE COMPLETE
message has been confirmed by the lower layers:
2> release all its radio resources; and
2> indicate the release of the established signalling connections (as stored
in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established radio
access bearers (as stored in the variable ESTABLISHED_RABS) to upper layers;
and
2> clear any entry for the RRC CONNECTION RELEASE message in the tables
\"Accepted transactions\" and \"Rejected transactions\" in the variable
TRANSACTIONS;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> pass the value of the IE \"_Release Cause_ \" received in the RRC
CONNECTION RELEASE message to upper layers;
2> enter RRC-Idle mode;
2> perform the actions specified in sub-clause 7.18 and clause 6 when entering
RRC-Idle mode from RRC-Connected mode;
2> and the procedure ends.
#### 7.5.2.4 Invalid RRC CONNECTION RELEASE message
If the RRC CONNECTION RELEASE message contains a protocol error causing the
variable PROTOCOL_ERROR_REJECT to be set to TRUE according to sub-clause 8,
and if the \"protocol error cause\" in PROTOCOL_ERROR_INFORMATION is set to
any cause value except \"CSN.1 violation or encoding error\", the MS shall
perform procedure specific error handling as follows.
The MS shall:
1> ignore any IE(s) causing the error but treat the rest of the RRC CONNECTION
RELEASE message as normal according to sub-clause 7.5.2.3, with an addition of
the following actions;
1> set the IE \"_RRC Transaction Identifier_ \" in the RRC CONNECTION RELEASE
COMPLETE message to the value of \"RRC transaction identifier\" in the entry
for the RRC CONNECTION RELEASE message in the table \"Rejected transactions\"
in the variable TRANSACTIONS; and
1> include the IE \"_Error Indication_ \" in the RRC CONNECTION RELEASE
COMPLETE message with:
2> the IE \"_Failure Cause_ \" set to the cause value \"Protocol error\"; and
2> the IE \"_Protocol Error Information_ \" set to the value of the variable
PROTOCOL_ERROR_INFORMATION.
#### 7.5.2.5 Cell re-selection or radio link failure
If the MS performs cell re-selection or the radio link failure criteria in
sub-clause 7.18 is met at any time during the RRC connection release procedure
and the MS has not yet entered idle mode, the MS shall:
1> if cell re-selection occurred (RRC-Cell_Shared state):
2> perform a Cell Update procedure according to sub-clause 7.8 using the cause
"cell reselection";
1> if radio link failure occurred (RRC-Cell_Dedicated state):
2> release all its radio resources;
2> indicate the release of the established signalling connections (as stored
in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established radio
access bearers (as stored in the variable ESTABLISHED_RABS) to upper layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 and sub-clause 7.18 when entering
RRC-Idle mode from RRC-Connected mode;
2> and the procedure ends.
#### 7.5.2.6 Reception of an RRC CONNECTION RELEASE COMPLETE message by GERAN
When GERAN receives an RRC CONNECTION RELEASE COMPLETE message from the MS, it
shall:
1> release all MS dedicated resources and the procedure ends on the GERAN
side.
#### 7.5.2.7 Unsuccessful transmission of the RRC CONNECTION RELEASE COMPLETE
message, acknowledged mode transmission
When RLC does not succeed in transmitting the RRC CONNECTION RELEASE COMPLETE
message, the MS shall:
1> release all its radio resources;
1> indicate the release of the established signalling connections (as stored
in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established radio
access bearers (as stored in the variable ESTABLISHED_RABS) to upper layers;
1> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
1> clear the variable ESTABLISHED_RABS;
1> enter RRC-Idle mode;
1> perform the actions specified in clause 6 and sub-clause 7.18 when entering
RRC-Idle mode from RRC-Connected mode;
1> and the procedure ends.
#### 7.5.2.8 Detection of loss of dedicated physical channel by GERAN in RRC-
Cell_Dedicated state
If the release is performed from the state RRC-Cell_Dedicated state, and GERAN
detects loss of the dedicated basic physical channel according to sub-clause
7.18, GERAN may release all MS dedicated resources, even if no RRC CONNECTION
RELEASE COMPLETE message has been received.
#### 7.5.2.9 Failure to receive RRC CONNECTION RELEASE COMPLETE message by
GERAN
If GERAN does not receive any RRC CONNECTION RELEASE COMPLETE message, it
shall release all MS dedicated resources.
## 7.6 Transmission of MS capability information
### 7.6.1 General
Figure 7.6.1.1 : Transmission of MS capability information, normal flow
The MS Capability Update procedure is used by the MS to convey MS specific
capability information to the GERAN.
### 7.6.2 Initiation
The MS shall initiate the MS Capability Update procedure in the following
situations:
1> the MS receives a MS CAPABILITY ENQUIRY message from the GERAN;
1> while in RRC-Connected mode the MS capabilities change compared to those
stored in the variable MS_CAPABILITY_TRANSFERRED.
If the MS CAPABILITY INFORMATION message is sent in response to a MS
CAPABILITY ENQUIRY message, the MS shall:
1> include the IE "_RRC Transaction Identifier_ "; and
1> set it to the value of "RRC Transaction Identifier" in the entry for the MS
CAPABILITY ENQUIRY message in the table "Accepted transactions" in the
variable TRANSACTIONS;
1> retrieve the GERAN _Iu mode_ radio access capability information elements
from variable MS_CAPABILITY_REQUESTED; and
1> include this in IE " _MS_ _GERAN Iu mode Radio Access Capability_ ",
provided this IE is included in variable MS_CAPABILITY_REQUESTED.
1> retrieve its inter-RAT and inter-mode specific MS radio access capability
information elements from variable MS_CAPABILITY_REQUESTED; and
1> include this in IE \"_MS GERAN A/Gb mode Radio Access Capability_ \", IE \"
_UE UTRAN Radio Access Capability_ \", IE "**_UE UTRAN Predefined
Configuration Status Information_** " and in IE \"_UE_ _CDMA2000 Radio Access
Capability_ \", provided this IE is included in variable
MS_CAPABILITY_REQUESTED.
If the MS CAPABILITY INFORMATION message is sent because one or more of the MS
capabilities change compared to those stored in the variable
MS_CAPABILITY_TRANSFERRED while in RRC-Connected mode, the MS shall include
the information elements associated with the capabilities that have changed in
the MS CAPABILITY INFORMATION message.
If the MS is in RRC-GRA_PCH state, it shall first perform a Cell Update
procedure using the cause "Uplink Data Transmission", see sub-clause 7.8.
The MS RRC shall submit the MS CAPABILITY INFORMATION message to the lower
layers for transmission on the uplink using SRB2. The MS RRC shall:
1> set counter V304 to 1;
1> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
2> start timer T304;
1> if the RLC sub-layer indicates a link failure to the RRC layer:
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
2> consider the MS Capability Update procedure to be unsuccessful;
2> the procedure ends.
### 7.6.3 Reception of an MS CAPABILITY INFORMATION message by the GERAN
Upon reception of a MS CAPABILITY INFORMATION message, the GERAN should
transmit a MS CAPABILITY INFORMATION CONFIRM message on the downlink SRB2.
After the MS CAPABILITY INFORMATION CONFIRM message has been submitted to the
lower layers for transmission, the procedure is complete.
### 7.6.4 Reception of the MS CAPABILITY INFORMATION CONFIRM message by the MS
Upon reception of a MS CAPABILITY INFORMATION CONFIRM message, the MS shall:
1> stop timer T304;
1> if there is an entry for the MS CAPABILITY ENQUIRY message present in the
table \"Accepted transactions\" in the variable TRANSACTIONS:
2> clear that entry.
1> update its variable MS_CAPABILITY_TRANSFERRED with the MS capabilities it
has last transmitted to the GERAN during the current RRC connection;
1> clear the variable MS_CAPABILITY_REQUESTED;
1> and the procedure ends.
### 7.6.5 Invalid MS CAPABILITY INFORMATION CONFIRM message
If the MS receives a MS CAPABILITY INFORMATION CONFIRM message, which contains
a protocol error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE
according to sub-clause 8, the MS shall perform procedure specific error
handling as follows:
1> stop timer T304;
1> transmit an RRC STATUS message on the uplink using SRB2;
1> include the IE \"_Identification of Received Message\";_ and
1> set the IE \"_Received Message Type_ \" to MS CAPABILITY INFORMATION
CONFIRM; and
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the MS CAPABILITY INFORMATION
CONFIRM message in the table \"Rejected transactions\" in the variable
TRANSACTIONS; and
1> clear that entry;
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
1> when the RRC STATUS message has been submitted to lower layers for
transmission:
2> restart timer T304 and continue with any ongoing procedures or processes as
if the invalid MS CAPABILITY INFORMATION CONFIRM message has not been
received.
### 7.6.6 T304 timeout
Upon expiry of timer T304, the MS shall check the value of V304 and:
1> if V304 is smaller than or equal to N304:
2> prior to retransmitting the MS CAPABILITY INFORMATION message:
3> if the IE "_Status_ " in the variable INTEGRITY_PROTECTION_INFO has the
value "Started":
4> include the same IEs as in the last unsuccessful attempt of this message,
except for the IE "_Integrity Check Info_ ", which is modified as follows:
5> increment the "Uplink RRC Message sequence number" for signalling radio
bearer RB2 in the variable INTEGRITY_PROTECTION_INFO by one;
5> set the IE "_RRC Message Sequence Number_ " in the IE "_Integrity Check
Info_ " by the value of the "Uplink RRC Message sequence number" for
signalling radio bearer RB2 in the variable INTEGRITY_PROTECTION_INFO in this
message;
5> recalculate the IE "_Message Authentication Code_ " in the IE "_Integrity
Check Info_ " in this message, in accordance with sub-clause 7.18;
3> else:
4> include the same IEs as in the last unsuccessful attempt of this message.
2> send the MS CAPABILITY INFORMATION message on SRB2;
2> restart timer T304;
2> increment counter V304.
1> if V304 is greater than N304:
2> initiate the Cell Update procedure as specified in sub-clause 7.8 using the
cause "radio link failure".
## 7.7 MS capability enquiry
### 7.7.1 General
Figure 7.7.1.1: MS Capability Enquiry procedure, normal flow
The MS Capability Enquiry procedure can be used to request the MS to transmit
its capability information related to any radio access network that is
supported by the MS. For a multi-RAT MS this procedure allows in addition to
request UTRAN predefined configuration status informatio.
### 7.7.2 Initiation
The MS Capability Enquiry procedure is initiated by the GERAN by transmitting
a MS CAPABILITY ENQUIRY message using SRB2.
### 7.7.3 Reception of an MS CAPABILITY ENQUIRY message by the MS
Upon reception of an MS CAPABILITY ENQUIRY message, the MS shall act on the
received information elements as specified in sub-clause 7.19 and 7.18 and
initiate the transmission of MS Capability Information procedure, which is
specified in sub-clause 7.6.
### 7.7.4 Invalid MS CAPABILITY ENQUIRY message
If the MS receives a MS CAPABILITY ENQUIRY message, which contains a protocol
error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE according
to sub-clause 8, the MS shall perform procedure specific error handling as
follows:
1> transmit an RRC STATUS message on the uplink using SRB2;
1> include the IE \"_Identification of Received Message\";_ and
1> set the IE \"_Received Message Type_ \" to MS CAPABILITY ENQUIRY; and
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the MS CAPABILITY ENQUIRY message in
the table \"Rejected transactions\" in the variable TRANSACTIONS; and
1> clear that entry;
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
1> when the RRC STATUS message has been submitted to lower layers for
transmission:
2> continue with the ongoing processes and procedures as if the invalid MS
CAPABILITY ENQUIRY message has not been received.
## 7.8 RRC Connection mobility procedures
### 7.8.1 Cell and GRA Update procedures
Figure 7.8.1.1: Cell Update procedure, basic flow
Figure 7.8.1.2: Cell Update procedure with update of GERAN mobility
information
Figure 7.8.1.3: Cell Update procedure with radio bearer release
Figure 7.8.1.4: Cell Update procedure with radio bearer reconfiguration
Figure 7.8.1.5: Cell Update procedure, failure case
Figure 7.8.1.6: GRA Update procedure, basic flow
Figure 7.8.1.7: GRA Update procedure with update of GERAN mobility information
Figure 7.8.1.8: GRA Update procedure, failure case
#### 7.8.1.1 General
The GRA Update and Cell Update procedures serve several main purposes:
\- to notify GERAN of an RLC unrecoverable error (see 3GPP TS 44.160) on an AM
RLC entity;
\- to be used as a supervision mechanism in the RRC-Cell_Shared state or RRC-
GRA_PCH state by means of periodical update;
In addition, the GRA Update procedure also serves the following purpose:
\- to retrieve a new GRA identity after cell re-selection to a cell not
belonging to the current GRA assigned to the MS in RRC-GRA_PCH state;
In addition, the Cell Update procedure also serves the following purposes:
\- to update GERAN with the current cell the MS is camping on after cell
reselection;
\- to act on a radio link failure or notification of invalid RLC/MAC control
message in the RRC-Cell_Dedicated state;
\- to act on the transmission failure of the MS CAPABILITY INFORMATION
message;
\- when triggered in the RRC-GRA_PCH state, to notify GERAN of a transition to
the RRC-Cell_Shared state due to the reception of GERAN originated paging or
due to a request to transmit uplink data.
The GRA Update and Cell Update procedures may:
\- include an update of mobility related information in the MS;
\- cause a state transition from the RRC-Cell_Shared state to the RRC-
Cell_Dedicated state, or from RRC-GRA_PCH state to RRC-Idle mode.
The Cell Update procedure may also include:
\- a re-establish of layer 2, AM RLC entities;
\- a radio bearer release,or radio bearer reconfiguration;
\- a DBPSCH assignment.
#### 7.8.1.2 Initiation
A MS shall initiate the Cell Update procedure in the following cases:
1> Uplink data transmission:
2> if the MS is in RRC-GRA_PCH state; and
2> if the MS has uplink signalling or data to transmit except a GRA UPDATE
message;
3> perform cell update using the cause \"uplink data transmission\".
1> Paging response:
2> if the criteria for performing cell update with the cause specified above
in the current sub-clause is not met; and
2> if the MS in RRC-GRA_PCH state or RRC-Cell_Shared state, receives paging
information from the lower layers fulfilling the conditions for initiating a
Cell Update procedure specified in 7.4:
3> perform cell update using the cause \"paging response\".
1> Radio link failure:
2> if none of the criteria for performing cell update with the causes
specified above in the current sub-clause is met; and
3> if the MS is in RRC-Cell_Dedicated state; and the criteria for radio link
failure is met as specified in sub-clause 7.18; or
3> if the criteria for radio link failure is met as specified in sub-clause
7.18 the transmission of the MS CAPABILITY INFORMATION message fails as
specified in sub-clause 7.6.6:
4> perform cell update using the cause \"radio link failure\".
1> Invalid RLC/MAC control message:
2> if none of the criteria for performing cell update with the causes
specified above in the current sub-clause is met; and
2> if the MS is in RRC-Cell_Dedicated state; and
2> if notification is received of the reception of an invalid RLC/MAC control
message on DBPSCH:
3> act as specified in sub-clause 7.18.10:
4> perform cell update using the cause \"invalid RLC/MAC control message\".
1> RLC unrecoverable error:
2> if none of the criteria for performing cell update with the causes
specified above in the current sub-clause is met; and
2> if the MS detects an RLC unrecoverable error (see 3GPP TS 44.160) in an AM
RLC entity:
3> perform cell update using the cause \"RLC unrecoverable error\".
1> Cell reselection:
2> if none of the criteria for performing cell update with the causes
specified above in the current sub-clause is met; and
2> if the MS is in RRC-Cell_Shared state; and
2> if the MS performs cell re-selection:
3> perform cell update using the cause \"cell reselection\".
1> Periodical cell update:
2> if none of the criteria for performing cell update with the causes
specified above in the current sub-clause is met; and
2> if the MS is in RRC-Cell_Shared state; and
2> if the timer T305 expires;
3> perform cell update using the cause \"periodical cell update\".
A MS in RRC-GRA_PCH state shall initiate the GRA Update procedure in the
following cases:
1> GRA reselection:
2> if the MS detects that the current GRA assigned to the MS, stored in the
variable GRA_IDENTITY, is not present in the list of GRA identities in packet
system information 16; or
2> if the list of GRA identities in packet system information 16 is empty; or
2> if the packet system information 16 can not be found:
3> perform GRA update using the cause \"change of GRA\".
1> Periodic GRA update:
2> if the criteria for performing GRA update with the causes as specified
above in the current sub-clause are not met; and
2> if the timer T305 expires while the MS is in RRC-GRA_PCH;
3> perform GRA update using the cause \"periodic GRA update\".
When initiating the GRA Update or Cell Update procedure, the MS shall:
1> stop timer T305;
1> if the MS is in RRC-Cell_Dedicated state:
2> in the variable RB_TIMER_INDICATOR, set the IE \"_T314 Expired_ \" and the
IE \"_T315 Expired_ \" to FALSE;
2> if the stored values of the timer T314 and timer T315 are both equal to
zero, or if the stored value of the timer T314 is equal to zero and there are
no radio bearers associated with any radio access bearers for which in the
variable ESTABLISHED_RABS the value of the IE \"_Re-establishment timer_ \" is
set to \"useT315\":
3> release all its radio resources;
3> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
3> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
3> clear the variable ESTABLISHED_RABS;
3> enter RRC-Idle mode;
3> perform other actions when entering RRC-Idle mode from RRC-Connected mode
as specified in clause 6 and sub-clause 7.18;
3> and the procedure ends.
2> if the stored value of the timer T314 is equal to zero:
3> release all radio bearers, associated with any radio access bearers for
which in the variable ESTABLISHED_RABS the value of the IE \"_Re-establishment
Timer_ \" is set to \"useT314\";
3> in the variable RB_TIMER_INDICATOR set the IE \"T314 expired\" to TRUE;
2> if the stored value of the timer T315 is equal to zero:
3> release all radio bearers associated with any radio access bearers for
which in the variable ESTABLISHED_RABS the value of the IE \"_Re-establishment
Timer_ \" is set to \"useT315\";
3> in the variable RB_TIMER_INDICATOR set the IE \"T315 expired\" to TRUE;
2> if the stored value of the timer T314 is greater than zero:
3> if there are radio bearers associated with any radio access bearers for
which in the variable ESTABLISHED_RABS the value of the IE \"_Re-establishment
Timer_ \" is set to \"useT314\":
4> start timer T314.
2> if the stored value of the timer T315 is greater than zero:
3> if there are radio bearers associated with any radio access bearers for
which in the variable ESTABLISHED_RABS the value of the IE \"_Re-establishment
timer_ \" is set to \"useT315\":
4> start timer T315.
2> for the released radio bearer(s):
3> delete the information about the radio bearer from the variable
ESTABLISHED_RABS;
3> when all radio bearers belonging to the same radio access bearer have been
released:
4> indicate local end release of the radio access bearer to upper layers using
the CN domain identity together with the RAB identity stored in the variable
ESTABLISHED_RABS;
4> delete all information about the radio access bearer from the variable
ESTABLISHED_RABS;
2> set the variable ORDERED_RECONFIGURATION to FALSE;
1> set the variables PROTOCOL_ERROR_INDICATOR, FAILURE_INDICATOR,
UNSUPPORTED_CONFIGURATION and INVALID_CONFIGURATION to FALSE;
1> set the variable CELL_UPDATE_STARTED to TRUE;
1> in case of a Cell Update procedure:
2> set the contents of the CELL UPDATE message according to sub-clause
7.8.1.3;
2> submit the CELL UPDATE message for transmission on the SRB2;
1> in case of a GRA Update procedure:
2> set the contents of the GRA UPDATE message according to sub-clause 7.8.1.3;
2> submit the GRA UPDATE message for transmission on the SRB2;
1> set counter V302 to 1;
1> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
2> start timer T302;
> 1> if the RLC sub-layer indicates a link failure to the RRC layer:
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
2> consider the GRA Update procedure or Cell Update procedure to be
unsuccessful;
2> the procedure ends.
#### 7.8.1.3 CELL UPDATE / GRA UPDATE message contents to set
In case of Cell Update procedure the MS shall transmit a CELL UPDATE message.
In case of GRA Update procedure the MS shall transmit a GRA UPDATE message.
The MS shall set the IEs in the CELL UPDATE message as follows:
1> set the IE \"_Cell Update Cause_ \" corresponding to the cause specified in
sub-clause 7.8.1.2 that is valid when the CELL UPDATE message is submitted to
lower layers for transmission;
NOTE: During the time period starting from when a cell update procedure is
initiated by the MS until when the procedure ends, additional CELL UPDATE
messages may be transmitted by the MS with different causes.
1> set the IE \"_G-RNTI_ \" to the value of the variable G-RNTI;
1> if the value of the variable PROTOCOL_ERROR_INDICATOR is TRUE:
2> include the IE \"_RRC Transaction Identifier_ \"; and
3> set it to the value of \"RRC Transaction Identifier\" in the entry for the
CELL UPDATE CONFIRM message in the table \"Rejected transactions\" in the
variable TRANSACTIONS;
2> include and set the IE \"_Failure Cause_ \" to the cause value \"protocol
error\";
2> set the IE \"_Protocol Error Information_ \" set to the value of the
variable PROTOCOL_ERROR_INFORMATION;
1> if the value of the variable FAILURE_INDICATOR is TRUE:
2> include the IE \"_RRC Transaction Identifier_ \"; and
3> set it to the value of \"RRC Transaction Identifier\" in the entry for the
CELL UPDATE CONFIRM message in the table \"Accepted transactions\" in the
variable TRANSACTIONS;
2> include and set the IE \"_Failure Cause_ \" to the value of the variable
FAILURE_CAUSE;
1> include the START values for each CN domain, calculated according to sub-
clause 7.18;
1> if an unrecoverable error (see 3GPP TS 44.160) in any of the AM RLC
entities for the signalling radio bearers SRB2, SRB3 or SRB4 is detected:
2> set the IE \"_AM_RLC error indication for c-plane_ \" to TRUE;
1> otherwise:
2> set the IE \"_AM_RLC error indication for c-plane\"_ to FALSE;
1> if an unrecoverable error (see 3GPP TS 44.160) in any of the AM RLC
entities for the RB5 or upward is detected:
2> set the IE \"_AM_RLC error indication for u-plane_ \" to TRUE;
1> otherwise:
2> set the IE \"_AM_RLC error indication for u-plane_ \" to FALSE;
1> set the IE \"_RB Timer Indicator_ \" to the value of the variable
RB_TIMER_INDICATOR;
The MS shall set the IEs in the GRA UPDATE message as follows:
1> set the IE \"_G-RNTI_ \" to the value of the variable G-RNTI;
1> set the IE \"_GRA_ _Update Cause_ \" corresponding to which cause as
specified in sub-clause 7.8.1.2 that is valid when the GRA UPDATE message is
submitted to lower layers for transmission;
2> if the value of the variable PROTOCOL_ERROR_INDICATOR is TRUE:
3> include the IE \"_RRC Transaction Identifier_ \"; and
4> set it to the value of \"RRC Transaction Identifier\" in the entry for the
GRA UPDATE CONFIRM message in the table \"Rejected transactions\" in the
variable TRANSACTIONS;
3> set the IE \"_Protocol Error Indicator_ \" to TRUE;
3> include the IE \"_Protocol Error Information_ \" set to the value of the
variable PROTOCOL_ERROR_INFORMATION.
2> if the value of the variable PROTOCOL_ERROR_INDICATOR is FALSE:
3> if the value of the variable INVALID_CONFIGURATION is TRUE:
4> include the IE \"_RRC Transaction Identifier_ \"; and
5> set it to the value of \"RRC transaction identifier\" in the entry for the
GRA UPDATE CONFIRM message in the table \"Accepted transactions\" in the
variable TRANSACTIONS;
4> set the IE \" _Protocol Error Indicator_ \" to TRUE;
4> include the IE \"_Protocol Error Information_ \" set to \"Information
element value not comprehended\";
3> if the value of the variable INVALID_CONFIGURATION is FALSE:
4> set the IE \"_Protocol Error Indicator_ \" to FALSE.
#### 7.8.1.4 Reception of an CELL UPDATE/GRA UPDATE message by the GERAN
When the GERAN receives a CELL UPDATE/GRA UPDATE message, the GERAN shall:
1> in case the procedure was triggered by reception of a CELL UPDATE:
2> if SBSS relocation was performed:
3> transmit a CELL UPDATE CONFIRM message on the downlink SRB2.
2> if SBSS relocation was not performed:
3> update the START value for each CN domain as maintained in GERAN sub-clause
7.18 with \"START\" in the IE \"_START List_ \" for the CN domain as indicated
by \"_CN Domain Identity_ \" IE in the IE \"_START List_ \";
3> transmit a CELL UPDATE CONFIRM message on the SRB2;
3> optionally set the IE \"_RLC re-establish indicator (RB2, RB3 and RB4)_ \"
and/or the IE \"_RLC re-establish indicator (RB5 and upwards_)\" to TRUE to
request a RLC re-establishment in the MS, in which case the corresponding RLC
entities shall also be re-established in GERAN; or
1> in case the procedure was triggered by reception of a GRA UPDATE:
2> if SBSS relocation was performed:
3> transmit a GRA UPDATE CONFIRM message on the downlink SRB2;
2> if SBSS relocation was not performed:
3> transmit a GRA UPDATE CONFIRM message to the lower layers for transmission
on SRB2 in which case the GERAN should include the IE \"_GRA Identity_ \" in
the GRA UPDATE CONFIRM message in a cell where multiple GRA identifiers are
broadcast; or
1> initiate an RRC Connection Release procedure (see sub-clause 7.5.2) by
transmitting an RRC CONNECTION RELEASE message on the SRB2. In particular
GERAN shall:
2> if the CELL UPDATE message was sent because of an unrecoverable error in
SRB2, SRB3 or SRB4:
  1. initiate an RRC Connection Release procedure (sub-clause 7.5.2) by transmitting an RRC CONNECTION RELEASE message on the SRB2.
#### 7.8.1.5 Reception of the CELL UPDATE CONFIRM/GRA UPDATE CONFIRM message
by the MS
When the MS receives a CELL UPDATE CONFIRM/GRA UPDATE CONFIRM message the MS
shall:
1> stop timer T302;
1> in case of a Cell Update procedure and the CELL UPDATE CONFIRM message:
2> include one of the RB information elements (_RB Information to Release
list, RB Information to Reconfigure list, RB Information to Be Affected
list_); and/or
2> include one of the following Transport Channel information elements (IE
"_Added or Reconfigured UL TrCH Information_ ", IE "_Added or Reconfigured DL
TrCH Information_ ", IE "_Deleted DL TrCH Information_ ", IE "_Deleted DL TrCH
Information_ "); and/or
2> include the IE "_DBPSCH Description_ " and structure "Network Response
Times"; and
2> if the variable ORDERED_RECONFIGURATION is set to FALSE:
3> set the variable ORDERED_RECONFIGURATION to TRUE;
1> act upon all received information elements as specified in sub-clause 7.19
unless specified otherwise in the following;
2> if the field \"_RLC Re-establish indicator SRB2-4_ \" in the CELL UPDATE
CONFIRM message is set to one:
3> if the struct "Downlink counter synchronisation info" is not included in
the CELL UPDATE CONFIRM message:
4> re-establish the RLC entities for signalling radio bearer SRB2, signalling
radio bearer SRB3 and signalling radio bearer SRB4 (if established);
3> if the value of the IE \"_Status_ \" in the variable CIPHERING_STATUS of
the CN domain stored in the variable LATEST_CONFIGURED_CN_DOMAIN is set to
\"Started\":
4> set the HFN component of the respective COUNT-C values for AM RLC entities
SRB2, SRB3 and SRB4 (if established) equal to the START value included in the
latest transmitted CELL UPDATE message for the CN domain stored in the
variable LATEST_CONFIGURED_CN_DOMAIN.
2> if the field \"_RLC re-establish indicator RB5+_ \" " in the CELL UPDATE
CONFIRM message is set to one:
3> for radio bearers with RB identity larger than 4:
4> if the struct "Downlink counter synchronisation info" is not included in
the CELL UPDATE CONFIRM message:
5> re-establish the AM RLC entities;
4> if the value of the IE \"_Status_ \" in the variable CIPHERING_STATUS of
the CN domain as indicated in the IE \"_CN Domain Identity_ \" in the IE
\"_RAB Info_ \" in the variable ESTABLISHED_RABS is set to \"Started\":
5> set the HFN component of the respective COUNT-C values for AM RLC entities
equal to the START value included in the latest transmitted CELL UPDATE
message for the CN domain as indicated in the IE \"CN domain identity\" in the
IE \"RAB info\" in the variable ESTABLISHED_RABS.
1> if the CELL UPDATE CONFIRM / GRA UPDATE CONFIRM message contained the IE
\"_Ciphering Mode Info_ \" or contained the IE \"_Integrity Protection Mode
Info_ \":
2> set the IE "_Status_ " in the variable SECURITY_MODIFICATION for all the CN
domains in the variable SECURITY_MODIFICATION to "Affected";
1> enter a state according to sub-clause 7.19 applied on the CELL UPDATE
CONFIRM / GRA UPDATE CONFIRM message.
If the MS after state transition remains in RRC-Cell_Shared state, it shall
1> start the timer T305 using its initial value if timer T305 is not running
and periodical cell update has been configured by T305 in the IE \"_MS Timers
and Constants in Connected mode_ \" set to any other value than \"infinity\";
1> if the CELL UPDATE CONFIRM / GRA UPDATE CONFIRM message contained the IE
\"_GERAN DRX Cycle Length Coefficient_ \":
2> use the value in the IE \"_GERAN DRX Cycle Length Coefficient_ \" for
calculating Paging occasion as specified in sub-clause 7.19;
If the MS after state transition enters RRC-GRA_PCH state, it shall
1> start the timer T305 using its initial value if timer T305 is not running
and periodical update has been configured by T305 in the IE \"_MS Timers and
Constants in Connected mode_ \" set to any other value than \"infinity\";
The MS after state transition shall:
1> if the CELL UPDATE CONFIRM / GRA UPDATE CONFIRM message contained the IE
\"_Ciphering Mode Info_ \":
2> include and set the IE \"_Radio Bearer Uplink Ciphering Activation Time
Info_ \" in any response message transmitted below to the value of the
variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO.
1> in case cell reselection interrupted an ongoing cell update procedure and a
CELL UPDATE CONFIRM/GRA UPDATE CONFIRM was received with the IE \"_Downlink
counter synchronisation info_ \" present and the response to which was not
submitted to the lower layers due to the cell re-selection:
2> include the IE \"_START list_ \" in the response message transmitted
according to sub-clause 7.8.1.6;
2> if the CELL UPDATE CONFIRM/GRA UPDATE CONFIRM, the response to which was
not delivered to the lower layers, due to the cell re-selection, included the
IE \"_RB with PDCP information list_ \":
3> include the IE \"_RB with PDCP information list_ \" in the response message
transmitted according to sub-clause 7.8.1.6;
1> in case of a Cell Update procedure:
2> set the IE \"_RRC Transaction Identifier_ \" in any response message
transmitted below to the value of \"RRC transaction identifier\" in the entry
for the CELL UPDATE CONFIRM message in the table \"Accepted transactions\" in
the variable TRANSACTIONS; and
2> clear that entry.
1> in case of a GRA Update procedure:
2> set the IE \"_RRC Transaction Identifier_ \" in any response message
transmitted below to the value of \"RRC transaction identifier\" in the entry
for the GRA UPDATE CONFIRM message in the table \"Accepted transactions\" in
the variable TRANSACTIONS; and
2> clear that entry;
1> if the variable PDCP_SN_INFO is non-empty:
2> include the IE \"_RB with PDCP Information List_ \" in any response message
transmitted below and set it to the value of the variable PDCP_SN_INFO;
1> if the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message included
the structure \"_Downlink Counter Synchronisation Info_ \":
2> if the variable PDCP_SN_INFO is empty:
3> configure the corresponding RLC entity for all AM and UM radio bearers and
AM and UM signalling radio bearers except SRB2 to \"stop\";
2> else:
3> configure the RLC entity for signalling radio bearers SRB1, SRB3 and SRB4
to \"stop\";
3> configure the RLC entity for UM and AM radio bearers for which the IE
"_PDCP SN Info_ " is not included to "stop";
2> re-establish SRB2;
2> for the downlink and the uplink, apply the ciphering configuration as
follows:
3> if the received re-configuation message included the IE "_Ciphering Mode
Info_ ":
4> use the ciphering configuration in the received message when transmitting
the response message;
3> if the ciphering configuration for SRB2 from a previously received SECURITY
MODE COMMAND has not yet been applied because of the activation times not
having been reached:
4> if the previous SECURITY MODE COMMAND was received due to new keys being
received:
5> consider the new ciphering configuration to include the received new keys;
5> initialise the HFN component of the uplink COUNT-C and downlink COUNT-C of
SRB2 as indicated in subclause 7.16.1.2.3.1.
4> if the ciphering configuration for SRB2 from a previously received SECURITY
MODE COMMAND has not yet been applied because of the corresponding activation
times not having been reached and the previous SECURITY MODE COMMAND caused a
change in LATEST_CONFIGURED_CN_DOMAIN:
5> consider the new ciphering configuration to include the keys associated
with the LATEST_CONFIGURED_CN_DOMAIN;
5> initialise the HFN component of the uplink COUNT-C and downlink COUNT-C of
SRB2 to the most recently transmitted IE \"_START List_ \" or IE \"_START_ \"
for the LATEST_CONFIGURED_CN_DOMAIN at the reception of the previous SECURITY
MODE COMMAND message.
4> apply the new ciphering configuration immediately following RLC re-
establishment.
3> else:
4> continue using the current ciphering configuration;
2> set the new uplink and downlink HFN of SRB2 to MAX(uplink HFN of SRB2,
downlink HFN of SRB2);
2> increment by one the downlink and uplink HFN values for SRB2;
2> calculate the START value according to sub-clause 7.18;
2> include the calculated START values for each CN domain in the IE \"_START
List_ \" in the structure \"_Uplink Counter Synchronisation Info_ \" in any
response message transmitted below;
2> if the cell reselection from UTRAN is performed :
3> set the 20 most significant bits of the uplink and downlink HFN component
of COUNT-C of SRB2 to MAX(uplink HFN~U~, downlink HFN~U~) where HFN~U~ is the
HFN component of COUNT-C of SRB2 in UTRAN;
3> set the remaining bits of the uplink and downlink HFN component of COUNT-C
of SRB2 equal to zero;
3> calculate the START value according to sub-clause 7.18;
3> include the calculated START values for each CN domain in the IE \"_START
list_ \" in the GERAN MOBILITY INFORMATION CONFIRM message;
3> set the variable LATEST_CONFIGURED_CN_DOMAIN equal to the corresponding
UTRAN variable _;_
3> set the variable MS_CAPABILITY_TRANSFERRED equal to the corresponding UTRAN
variable _;_
  1. set the variable ESTABLISHED_RABS equal to the corresponding UTRAN variable _;_
3> set the variable ESTABLISHED_SIGNALLING_CONNECTIONS equal to the
corresponding UTRAN variable _;_
> 3> set the variable CIPHERING_STATUS equal to the corresponding UTRAN
> variable _;_
  1. set the variable START_THRESHOLD equal to the corresponding UTRAN variable _;_
3> set the variable START_VALUE_TO_TRANSMIT equal to the corresponding UTRAN
variable _;_
3> set IE "_Status_ " for the ciphering status in the the variable
SECURITY_MODIFICATION equal to the corresponding UTRAN variable;
3> set IE "_Status_ " for the integrity protection in the variable
INTEGRITY_PROTECTION_INFO equal to the corresponding UTRAN variable;
1> transmit a response message as specified in sub-clause 7.8.1.6;
1> if the IE \"_Integrity Protection Mode Info_ \" was present in the CELL
UPDATE CONFIRM or GRA UPDATE CONFIRM message:
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearer SRB2 from and including the transmitted response
message;
1> if the variable ORDERED_RECONFIGURATION is set to TRUE caused by the
received CELL UPDATE CONFIRM message in case of a cell update procedure:
2> set the variable ORDERED_RECONFIGURATION to FALSE;
1> clear the variable PDCP_SN_INFO;
1> when the response message transmitted per sub-clause 7.8.1.6 to the GERAN
has been confirmed by RLC:
2> if the CELL UPDATE CONFIRM / GRA UPDATE CONFIRM message contained the IE
\"_Ciphering Mode Info_ \":
3> resume data transmission on any suspended radio bearer and signalling radio
bearer mapped on RLC-AM or RLC-UM;
3> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
3> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> if the CELL UPDATE CONFIRM / GRA UPDATE CONFIRM message contained the IE
\"_Integrity Protection Mode Info_ \":
3> allow the transmission of RRC messages on all signalling radio bearers with
any RRC SN;
3> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
1> in case of a Cell Update procedure:
2> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
1> in case of a GRA update procedure:
2> clear the entry for the GRA UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
1> set the variable CELL_UPDATE_STARTED to FALSE;
1> clear the variable SECURITY_MODIFICATION.
The procedure ends.
#### 7.8.1.6 Transmission of a response message to GERAN
If the CELL UPDATE CONFIRM message
\- includes the IE \"_RB Information to Release List_ \":
the MS shall:
1> transmit a RADIO BEARER RELEASE COMPLETE as response message using SRB2.
If the CELL UPDATE CONFIRM message
\- does not include the IE \"_RB Information to Release List_ \"; and
\- includes the IE \"_RB Information to Reconfigure List_ \"; or
\- includes the IE \"_RB Information to Be Affected List_ \"; and
\- does not include Transport channel information elements (IE "_Added or
Reconfigured UL TrCH Information"_ , IE "_Added or Reconfigured DL TrCH
Information"_ , IE "_Deleted DL TrCH Information",_ IE "_Deleted UL TrCH
Information"_); and
\- does not include the IE "_DBPSCH Description"_ :
the MS shall:
1> transmit a RADIO BEARER RECONFIGURATION COMPLETE as response message using
SRB2.
If the CELL UPDATE CONFIRM message:
\- does not includethe IE "_RB Information to Release list"_ ; and
\- does not include the IE "_RB Information to Be Affected list"_ ; and
\- includes the IE "_RB Information to Reconfigure list"_ ; and
\- does not include Transport channel information elements (IE "_Added or
Reconfigured UL TrCH Information"_ , IE "_Added or Reconfigured DL TrCH
Information"_ , IE "_Deleted DL TrCH Information",_ IE "_Deleted UL TrCH
Information"_); and
\- includes the IE \"_DBPSCH description_ \":
the MS shall:
1> transmit a RADIO BEARER SETUP COMPLETE as response message on SRB2.
If the CELL UPDATE CONFIRM message
\- does not include RB Information Elements (_RB Information to Release list,
RB Information to Reconfigure list, RB Information to Be Affected list)_ ; and
\- does not include Transport channel information elements (IE "_Added or
Reconfigured UL TrCH Information"_ , IE "_Added or Reconfigured DL TrCH
Information"_ , IE "_Deleted DL TrCH Information",_ IE "_Deleted UL TrCH
Information"_); and- includes the IE \"_CN Information Info_ \"; or
\- includes the IE \"_Ciphering Mode Info_ \"; or
\- includes the IE \"_Integrity Protection Mode Info_ \"; or
\- includes the IE \"_New G-RNTI_ \", or
\- includes the struct "Downlink Counter Synchronisation Info" and the IE
\"_New G-RNTI_ \":
the MS shall:
1> transmit a GERAN MOBILITY INFORMATION CONFIRM as response message on the
SRB2.
If the CELL UPDATE CONFIRM message:
\- does not include RB Information Elements (_RB Information to Release list,
RB Information to Reconfigure list, RB Information to Be Affected list_); and
\- includes at least one of the following Transport channel information (IE
"_Added or Reconfigured UL TrCH Information"_ , IE "_Added or Reconfigured DL
TrCH Information"_ , IE "_Deleted DL TrCH Information",_ IE "_Deleted UL TrCH
Information"_):
the MS shall:
1> transmit a RADIO BEARER RECONFIGURATION COMPLETE as response message using
SRB2.
If the CELL UPDATE CONFIRM message:
\- does not include RB Information Elements (_RB Information to Release list,
RB Information to Reconfigure list, RB Information to Be Affected list_); and
\- does not include \"_CN Information Info_ \"; and
\- does not include the IE \"_Ciphering Mode Info_ \"; and
\- does not include Transport channel information elements (IE "_Added or
Reconfigured UL TrCH Information"_ , IE "_Added or Reconfigured DL TrCH
Information"_ , IE "_Deleted DL TrCH Information",_ IE "_Deleted UL TrCH
Information"_); and
\- does not include the IE \"_Integrity Protection Mode Info_ \"; and
\- does not include the IE \"_New G-RNTI_ \":
the MS shall:
1> transmit no response message.
If the GRA UPDATE CONFIRM message:
\- includes the IEs \"_CN Information Info_ \"; or
\- includes the IE \"_Ciphering Mode Info_ \"; or
\- includes the IE \"_Integrity Protection Mode Info_ \"; or
\- includes the IE \"_New G-RNTI_ \", or
\- includes the struct "Downlink Counter Synchronisation Info" and the IE
\"_New G-RNTI_ \"
the MS shall:
1> transmit a GERAN MOBILITY INFORMATION CONFIRM as response message on SRB2.
If the GRA UPDATE CONFIRM message:
\- does not include "_CN Information Info_ " ; and
\- does not include the IE \" _Ciphering Mode Info_ \"; and
\- does not include the IE \" _Integrity Protection Mode Info_ \"; and
\- does not include the IE \"_New G-RNTI_ \"; and
the MS shall:
1> transmit no response message.
If the new state is RRC-Cell_Dedicated or RRC-Cell_Shared state, the response
message shall be transmitted using the new configuration after the state
transition, and the MS shall:
1> if the structure \"_Downlink Counter Synchronisation Info_ \" was included
in the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message:
2> when RLC has confirmed the successful transmission of the response message:
3> if the variable PDCP_SN_INFO is empty:
4> configure the RLC entity for all AM and UM radio bearers and AM and UM
signalling radio bearers except SRB2 to \"continue\";
3> else:
4> configure the RLC entity for signalling radio bearers SRB1, SRB3 and SRB4
to \"continue\";
4> configure the RLC entity for UM and AM radio bearers for which the IE
"_PDCP SN Info_ " is not included to "continue";
3> re-establish all AM and UM RLC entities with RB identities larger than 4
and set the first 20 bits of all the HFN component of the respective COUNT-C
values to the START value included in the response message for the
corresponding CN domain;
3> re-establish the RLC entities with RB identities 1, 3 and 4 and set the
first 20 bits of all the HFN component of the respective COUNT-C values to the
START value included in the response message for the CN domain stored in the
variable LATEST_CONFIGURED_CN_DOMAIN;
3> set the remaining bits of the HFN component of the COUNT-C values of all UM
RLC entities to zero;
3> set the remaining bits of the HFN component of the COUNT-C values of all AM
RLC entities to zero, for those bearers to which RLC entitie where re-
established;
3> if the IE \"_PDCP Context Relocation Info_ \" is not present:
4> re-initialise the PDCP header compression entities of each radio bearer in
the variable ESTABLISHED_RABS as specified in 3GPP TS 25.323;.
3> if the IE \"_PDCP Context Relocation Info\"_ is present:
4> perform the actions as specified in 7.19.
1> if the variable PDCP_SN_INFO is empty:
2> if the CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message contained the IE
\"_Ciphering Mode Info_ \":
3> when RLC has confirmed the successful transmission of the response message:
4> continue with the remainder of the procedure;
2> if the CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message did not contain
the IE \"_Ciphering Mode Info_ \":
3> when RLC has been requested to transmit the response message,
4> continue with the remainder of the procedure;
1> if the variable PDCP_SN_INFO non-empty:
2> when RLC has confirmed the successful transmission of the response message:
3> for each radio bearer in the variable PDCP_SN_INFO:
4> if the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS is set to
\"started\":
5> configure the RLC entity for that radio bearer to \"continue\";
3> continue with the remainder of the procedure.
If the new RRC state is RRC-GRA_PCH state, the response message shall be
transmitted in RRC-Cell_Shared state, and the MS shall:
1> when RLC has confirmed the successful transmission of the response message:
2> if the IE \"_Downlink Counter Synchronisation Info_ \" was included in the
received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message:
3> re-establish all AM and UM RLC entities with RB identities larger than 4
and set the first 20 bits of all the HFN component of the respective COUNT-C
values to the START value included in the response message for the
corresponding CN domain;
3> re-establish the RLC entities with RB identities 1, 3 and 4 and set the
first 20 bits of all the HFN component of the respective COUNT-C values to the
START value included in the response message for the CN domain stored in the
variable LATEST_CONFIGURED_CN_DOMAIN;
3> set the remaining bits of the HFN component of the COUNT-C values of all UM
RLC entities to zero;
3> set the remaining bits of the HFN component of the COUNT-C values of all AM
RLC entities to zero, for those bearers to which RLC entitie where re-
established;
3> re-initialise the PDCP header compression entities of each radio bearer in
the variable ESTABLISHED_RABS as specified in 3GPP TS 25.323.
2> for each radio bearer in the variable PDCP_SN_INFO:
3> if the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS is set to
\"started\":
4> configure the RLC entity for that radio bearer to \"continue\";
2> enter the RRC-GRA_PCH state;
1> continue with the remainder of the procedure.
#### 7.8.1.7 Physical channel failure
If the received CELL UPDATE CONFIRM message would cause the MS to transit to
RRC-Cell_Dedicated state; and
1> if the MS failed to establish the physical channel(s) indicated in the
received CELL UPDATE CONFIRM message according to the criteria defined in sub-
clause 7.8.1.6 are not fulfilled; or
1> the received CELL UPDATE CONFIRM message does not contain the IE "_DBPSCH
Description_ ";
the MS shall:
1> the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to
TRUE; and/or
1> the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO is
set to TRUE:
2> abort the ongoing integrity and/or ciphering reconfiguration;
2> if the received CELL UPDATE CONFIRM message contained the IE \"_Ciphering
Mode Info_ \":
3> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
3> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> if the received CELL UPDATE CONFIRM message contained the IE \"_Integrity
Protection Mode Info_ \":
3> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
3> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
1> if the variable ORDERED_RECONFIGURATION is set to TRUE caused by the
received CELL UPDATE CONFIRM message:
2> set the variable ORDERED_RECONFIGURATION to FALSE;
1> if V302 is equal to or smaller than N302:
2> select a suitable GERAN cell according to 3GPP TS 45.008;
2> set the contents of the CELL UPDATE message according to sub-clause
7.8.1.3, except for the IE \"_Cell Update Cause_ \" which shall be set to
\"radio link failure\";
2> submit the CELL UPDATE message for transmission on the uplink SRB2;
2> increment counter V302; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the Cell Update procedure to be unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> in case of a cell update procedure:
3> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode.
#### 7.8.1.8 Unsupported configuration by the MS
If the MS does not support the configuration in the CELL UPDATE CONFIRM
message and/or the variable UNSUPPORTED_CONFIGURATION is set to TRUE, the MS
shall:
1> if V302 is equal to or smaller than N302, the MS shall:
2> if, caused by the received CELL UPDATE CONFIRM message
3> the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to
TRUE; and/or
3> the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO is
set to TRUE:
4> abort the ongoing integrity and/or ciphering reconfiguration;
4> if the received CELL UPDATE CONFIRM message contained the IE \"_Ciphering
Mode Info_ \":
5> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
5> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
4> if the received CELL UPDATE CONFIRM message contained the IE \"_Integrity
Protection Mode Info_ \":
5> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
5> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> if the variable ORDERED_RECONFIGURATION is set to TRUE caused by the
received CELL UPDATE CONFIRM message in case of a cell update procedure:
3> set the variable ORDERED_RECONFIGURATION to FALSE;
2> set the variable FAILURE_INDICATOR to TRUE;
2> set the variable FAILURE_CAUSE to \"configuration unsupported\";
2> set the content of the CELL UPDATE message according to 7.8.1.3;
2> submit the CELL UPDATE message for transmission on the uplink SRB2;
2> increment counter V302; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the Cell Update procedure to be unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302, the MS shall:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in sub-clause 7.18;
2> and the procedure ends.
#### 7.8.1.9 Invalid configuration
If the variable INVALID_CONFIGURATION is set to TRUE, the MS shall:
1> if V302 is equal to or smaller than N302:
2> if, caused by the received CELL UPDATE CONFIRM message
3> the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to
TRUE; and/or
3> the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO is
set to TRUE:
4> abort the ongoing integrity and/or ciphering reconfiguration;
4> if the received CELL UPDATE CONFIRM message contained the IE \"_Ciphering
Mode Info_ \":
5> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
5> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
4> if the received CELL UPDATE CONFIRM message contained the IE \"_Integrity
Protection Mode Info_ \";
5> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
5> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> if the variable ORDERED_RECONFIGURATION is set to TRUE caused by the
received CELL UPDATE CONFIRM message in case of a cell update procedure:
3> set the variable ORDERED_RECONFIGURATION to FALSE;
2> in case of a Cell Update procedure:
3> set the variable FAILURE_INDICATOR to TRUE;
3> set the variable FAILURE_CAUSE to \"Invalid configuration\";
3> set the contents of the CELL UPDATE message according to sub-clause
7.8.1.3;
3> submit the CELL UPDATE message for transmission on the uplink SRB2;
2> in case of a GRA Update procedure:
3> set the contents of the GRA UPDATE message according to sub-clause 7.8.1.3;
3> submit the GRA UPDATE message for transmission on the uplink SRB2;
2> increment counter V302; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the Cell Update procedure or GRA Update procedure to be
unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in sub-clause 7.18;
1> the procedure ends.
#### 7.8.1.10 Incompatible simultaneous reconfiguration
In case of a cell update procedure and if the received CELL UPDATE CONFIRM
message:
\- includes RB information elements (_RB Information to Release list, RB
Information to Reconfigure list, RB Information to Be Affected list)_ ; and
\- if the variable ORDERED_RECONFIGURATION is set to TRUE because of an
ongoing Reconfiguration procedure;
or
\- includes RB information elements (_RB Information to Release list, RB
Information to Reconfigure list, RB Information to Be Affected list)_ and
Transport channel information elements (IE "_Added or Reconfigured UL TrCH
Information_ ", IE "_Added or Reconfigured DL TrCH Information_ ", IE
"_Deleted DL TrCH Information_ ", IE "_Deleted UL TrCH Information_ "); and
\- if the variable ORDERED_RECONFIGURATION is set to TRUE because of an
ongoing Reconfiguration procedure;
or
\- if the variable INCOMPATIBLE_SECURITY_RECONFIGURATION is set to TRUE due to
the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message:
the MS shall:
1> if V302 is equal to or smaller than N302:
2> if, caused by the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM
message
3> the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to
TRUE; and/or
3> the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO is
set to TRUE:
4> abort the ongoing integrity and/or ciphering reconfiguration;
4> if the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message contained
the IE \"_Ciphering Mode Info_ \":
5> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
5> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
4> if the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message contained
the IE \"_Integrity Protection Mode Info_ \":
5> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
5> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> if the variable ORDERED_RECONFIGURATION is set to TRUE caused by the
received CELL UPDATE CONFIRM message in case of a Cell Update procedure:
3> set the variable ORDERED_RECONFIGURATION to FALSE;
2> set the variable FAILURE_INDICATOR to TRUE;
2> set the variable FAILURE_CAUSE to \"Incompatible simultaneous
reconfiguration\";
2> set the content of the CELL UPDATE message according to sub-clause 7.8.1.3;
2> submit the CELL UPDATE message for transmission on the uplink SRB2;
2> increment counter V302; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the Cell Update procedure to be unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> set the variable INCOMPATIBLE_SECURITY_RECONFIGURATION to FALSE;
2> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in clause 6 and sub-clause 7.18;
1> the procedure ends.
#### 7.8.1.10a Security reconfiguration during Cell update procedure
If:
\- the variable CELL_UPDATE_STARTED is set to TRUE; and
\- the MS receives a SECURITY MODE COMMAND message:
the MS shall:
1> ignore the received SECURITY MODE COMMAND message and continue with any
ongoing processes and procedures as if the SECURITY MODE COMMAND message had
not been received.
#### 7.8.1.11 Confirmation error of GRA ID list
If the GRA UPDATE CONFIRM message causes a confirmation error of GRA identity
list as specified in sub-clause 7.19.3 the MS shall:
1> check the value of V302; and
1> if V302 is smaller or equal than N302:
2> if, caused by the received GRA UPDATE CONFIRM message
3> the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to
TRUE; and/or
3> the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO is
set to TRUE:
4> abort the ongoing integrity and/or ciphering reconfiguration;
4> if the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message contained
the IE \"_Ciphering Mode Info_ \":
5> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
5> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
4> if the received GRA UPDATE CONFIRM message contained the IE \"_Integrity
Protection Mode Info_ \"
5> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
5> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> set the IEs in the GRA UPDATE message according to sub-clause 7.8.1.3;
2> submit the GRA UPDATE message for transmission on the uplink SRB2;
2> increment counter V302; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the GRA Update procedure to be unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302:
2> release all its radio resources;
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> perform the actions specified in clause 6 and sub-clause 7.18 when entering
RRC-Idle mode from RRC-Connected mode;
2> the procedure ends.
#### 7.8.1.12 Invalid CELL UPDATE CONFIRM/GRA UPDATE CONFIRM message
If the MS receives an CELL UPDATE CONFIRM/GRA UPDATE CONFIRM message, which
contains a protocol error causing the variable PROTOCOL_ERROR_REJECT to be set
to TRUE according to sub-clause 8, the MSshall perform procedure specific
error handling as follows:
1> if V302 is equal to or smaller than N302, the MS shall:
2> set the variable PROTOCOL_ERROR_INDICATOR to TRUE;
2> in case of a Cell Update procedure:
3> set the contents of the CELL UPDATE message according to sub-clause
7.8.1.3;
3> submit the CELL UPDATE message for transmission on the uplink SRB2;
2> in case of a GRA Update procedure:
3> set the contents of the GRA UPDATE message according to sub-clause 7.8.1.3;
3> submit the GRA UPDATE message for transmission on the uplink SRB2;
2> increment counter V302; and
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the Cell Update procedure or GRA update procedure to be
unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302, the MS shall:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> in case of a Cell Update procedure:
3> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> in case of a GRA Update procedure:
3> clear the entry for the GRA UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> release all its radio resources;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in clause 6 and sub-clause 7.18;
2> the procedure ends.
#### 7.8.1.13 T302 expiry or cell reselection
If any or several of the following conditions are true:
\- expiry of timer T302;
\- reselection to another GERAN cell (including the previously serving cell)
before completion of the Cell Update or GRA Update procedure;
the MS shall:
1> stop T302 if it is running;
1> if the MS was in RRC-Cell_Dedicated state prior to the initiation of the
procedure; and
2> if timers T314 and T315 have elapsed while T302 was running:
3> enter RRC-Idle mode.
3> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers. Other actions the MS shall perform when entering RRC-Idle mode from
RRC-Connected mode are specified in clause 6 and sub-clause 7.18.
3> and the procedure ends.
2> if timer T314 has elapsed while T302 was running and,
3> if \"_T314 Expired_ \" in the variable RB_TIMER_INDICATOR is set to FALSE
and
3> if T315 is still running:
4> release locally all radio bearers which are associated with any radio
access bearers for which in the variable ESTABLISHED_RABS the value of the IE
\"_Re-establishment Timer_ \" is set to \"useT314\";
4> indicate release of those radio access bearers to upper layers;
4> delete all information about those radio access bearers from the variable
ESTABLISHED_RABS;
4> set \"_T314 Expired_ \" in the variable RB_TIMER_INDICATOR to TRUE;
2> if timer T315 has elapsed while T302 was running and,
3> if \"_T315 Expired_ \" in the variable RB_TIMER_INDICATOR is set to FALSE
and,
3> if T314 is still running:
4> release locally all radio bearers which are associated with any radio
access bearers for which in the variable ESTABLISHED_RABS the value of the IE
\"_Re-establishment Timer_ \" is set to \"useT315\";
4> indicate release of those radio access bearers to upper layers;
4> delete all information about those radio access bearers from the variable
ESTABLISHED_RABS;
4> set \"_T315 Expired_ \" in the variable RB_TIMER_INDICATOR to TRUE;
1> if, caused by the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM
message the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set
to TRUE and/or the IE \"_Reconfiguration_ \" in the variable
INTEGRITY_PROTECTION_INFO is set to TRUE:
2> abort the ongoing integrity and/or ciphering reconfiguration;
2> if the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message contained
the IE \"_Ciphering Mode Info_ \":
3> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
3> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> if the received CELL UPDATE CONFIRM or GRA UPDATE CONFIRM message contained
the IE \"_Integrity Protection Mode Info_ \":
3> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
3> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
1> if the variable ORDERED_RECONFIGURATION is set to TRUE caused by the
received CELL UPDATE CONFIRM message in case of a cell update procedure:
2> set the variable ORDERED_RECONFIGURATION to FALSE;
1> in case of a Cell Update procedure:
2> clear any entry for the CELL UPDATE CONFIRM message in the table \"Accepted
transactions\" in the variable TRANSACTIONS;
1> in case of a GRA Update procedure:
2> clear any entry for the GRA UPDATE CONFIRM message in the table \"Accepted
transactions\" in the variable TRANSACTIONS;
If the MS has not entered RRC-Idle mode, and:
1> if V302 is equal to or smaller than N302, the MS shall:
2> in case of a Cell Update procedure:
3> set the contents of the CELL UPDATE message according to sub-clause
7.8.1.3;
3> if a CELL UPDATE CONFIRM message was received and caused the IE
"Reconfiguration" in the variable CIPHERING_STATUS to be set to TRUE and/or
the IE "Reconfiguration" in the variable INTEGRITY_PROTECTION_INFO to be set
to TRUE:
4> if the IE "Downlink counter sychnronization info" was included in the
received CELL UPDATE CONFIRM message:
5> apply the new security (integrity protection) configuration received in the
CELL UPDATE CONFIRM on the CELL UPDATE message.
3> submit the CELL UPDATE message for transmission on the uplink SRB2;
2> in case of a GRA Update procedure:
3> set the contents of the GRA UPDATE message according to sub-clause 7.8.1.3;
3> if a GRA UPDATE CONFIRM message was received and caused the IE
"Reconfiguration" in the variable CIPHERING_STATUS to be set to TRUE and/or
the IE "Reconfiguration" in the variable INTEGRITY_PROTECTION_INFO to be set
to TRUE:
4> if the IE "Downlink counter sychnronization info" was included in the
received GRA UPDATE CONFIRM message:
5> apply the new security (integrity protection) configuration received in the
GRA UPDATE CONFIRM on the GRA UPDATE message.
3> submit the GRA UPDATE message for transmission on the uplink SRB2.;
2> increment counter V302;
2> if the RLC sub-layer indicates to the RRC layer a successful transmission
of the message:
3> restart timer T302;
2> if the RLC sub-layer indicates a link failure to the RRC layer:
3> enter RRC-Idle mode;
3> perform the actions specified in clause 6 when MS is in RRC-Idle mode;
3> consider the Cell Update procedure or GRA Update procedure to be
unsuccessful;
3> the procedure ends.
1> if V302 is greater than N302, the MS shall:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> in case of a Cell Update procedure:
3> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> in case of a GRA Update procedure:
3> clear the entry for the GRA UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in clause 6 and sub-clause 7.18;
2> and the procedure ends.
#### 7.8.1.14 T314 expiry
Upon expiry of timer T314 the MS shall:
1> if timer T302 is running:
2> continue awaiting response message from GERAN;
1> if timer T302 is not running and timer T315 is running:
2> set IE \"_T314 Expired_ \" in variable RB_TIMER_INDICATOR to TRUE;
2> release locally all radio bearers which are associated with any radio
access bearers for which in the variable ESTABLISHED_RABS the value of the IE
\"_Re-establishment Timer_ \" is set to \"use T314\";
2> indicate release of those radio access bearers to upper layers;
2> delete all information about those radio access bearers from the variable
ESTABLISHED_RABS;
1> if timers T302 and T315 are not running:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in clause 6 and sub-clause 7.18;
2> and the procedure ends.
#### 7.8.1.15 T315 expiry
Upon expiry of timer T315 the MS shall:
1> if timer T302 is running:
2> continue awaiting response message from GERAN;
1> if timer T302 is not running and timer T314 is running:
2> set IE \"_T315 Expired_ \" in variable RB_TIMER_INDICATOR to TRUE;
2> release locally all radio bearers which are associated with any radio
access bearers for which in the variable ESTABLISHED_RABS the value of the IE
\"_Re-establishment Timer_ \" is set to \"use T315\";
2> indicate release of those radio access bearers to upper layers;
2> delete all information about those radio access bearers from the variable
ESTABLISHED_RABS;
1> if timers T302 and T314 are not running:
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable PDCP_SN_INFO;
2> clear the entry for the CELL UPDATE CONFIRM message in the table \"Rejected
transactions\" in the variable TRANSACTIONS;
2> release all its radio resources;
2> indicate release (abort) of the established signalling connections (as
stored in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established
radio access bearers (as stored in the variable ESTABLISHED_RABS) to upper
layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> set the variable CELL_UPDATE_STARTED to FALSE;
2> enter RRC-Idle mode;
2> other actions the MS shall perform when entering RRC-Idle mode from RRC-
Connected mode are specified in clause 6 and sub-clause 7.18;
2> and the procedure ends.
#### 7.8.1.16 Reception of the GERAN MOBILITY INFORMATION CONFIRM message by
the GERAN
See sub-clause 7.8.1.6.
#### 7.8.1.17 Inter-RAT cell reselection to GERAN _Iu mode_
##### 7.8.1.17.1 General
The purpose of the inter-RAT cell reselection procedure to GERAN _Iu mode_ is
to transfer, under the control of the MS and to some extent the source radio
access technology, a connection between the MS and another radio access
technology (e.g. UTRAN) to GERAN _Iu mode_.
##### 7.8.1.17.2 Initiation
When the MS makes an inter-RAT cell reselection to GERAN _Iu mode_ according
to the criteria specified in 3GPP TS 44.160, it shall initiate this procedure.
The inter-RAT cell reselection made by the MS may use system information
broadcast from the source radio access technology or MS dedicated information.
When the MS performs an inter-RAT cell reselection from a RAT other than
UTRAN, the MS shall:
1> set the variable ESTABLISHMENT_CAUSE to \"Inter-RAT cell reselection\";
1> initiate an RRC connection establishment procedure as specified in sub-
clause 7.5;
1> after initiating an RRC connection establishment:
2> release all resources specific to the other radio access technology.
When the MS performs an inter-RAT cell reselection from UTRAN Cell_FACH or
Cell_PCH state to GERAN _Iu mode_ , the MS shall:
1> initiate the cell update procedure as specified in sub-clause 7.8, using
the cause \"cell reselection\"and setting the U-RNTI in the IE \"_G-RNTI_ \".
When the MS performs an inter-RAT cell reselection from UTRAN URA_PCH, the MS
shall:
1> compare the URA identity which the MS had been assigned to in UTRAN against
the GRA identities which are broadcast in the GERAN cell.
2> If the assigned URA identity is not present in the list of GRA identities
that are broadcast in the GERAN cell:
3> initiate the GRA update procedure as specified for the GRA reselection case
in sub-clause 7.8, using the cause \"change of GRA\" and setting the U-RNTI in
the IE \"_G-RNTI_ \".
##### 7.8.1.17.3 MS fails to complete an inter-RAT cell reselection
When the MS performs an inter-RAT cell reselection from a RAT other than
UTRAN, and if the inter-RAT cell reselection fails before the MS has initiated
the RRC connection establishment, the MS may return back to the other radio
access technology.
When the MS performs an inter-RAT cell reselection from a RAT other than
UTRAN, and if the RRC connection establishment fails, the MS shall enter RRC-
Idle mode.
When the MS performs an inter-RAT cell reselection from UTRAN to GERAN _Iu
mode_ , and the cell reselection fails, the MS may return back to the UTRAN
RRC Connected state, from which it initiated the inter-RAT cell reselection.
#### 7.8.1.18 Inter-RAT cell reselection from GERAN Iu mode
##### 7.8.1.18.1 General
The purpose of the inter-RAT cell reselection procedure from GERAN _Iu mode_
is to transfer, under the control of the MS and to some extent the GERAN, a
connection between the MS and GERAN _Iu mode_ to another radio access
technology (e.g. UTRAN).
##### 7.8.1.18.2 Initiation
This procedure is applicable in states RRC-Cell_Shared or RRC GRA_PCH.
When the MS based on received system information makes a inter-RAT cell
reselection to a radio access technology other than UTRAN, according to the
criteria specified in 3GPP TS 44.160, the MS shall:
1> initiate the establishment of a connection to the target radio access
technology according to its specifications.
When the MS in RRC-Cell_Shared state performs an inter-RAT cell reselection to
UTRAN, according to the criteria specified in 3GPP TS 44.160, the MS shall:
1> initiate the cell update procedure according to 3GPP TS 25.331, using the
cause \"cell reselection\"and setting the G-RNTI in the IE \"_U-RNTI_ \". When
the MS in RRC-GRA_PCH state performs an inter-RAT cell reselection to UTRAN,
according to the criteria specified in 3GPP TS 44.160, the MS shall:
1> compare the GRA identity which the MS had been assigned to in GERAN against
the URA identities which are broadcast in the UTRAN cell.
2> If the assigned GRA identity is not present in the list of URA identities
that are broadcast in the UTRAN cell:
3> initiate the URA update procedure as specified in 3GPP TS 25.331, using the
cause \"change of URA\"and setting the G-RNTI in the IE \"_U-RNTI_ \".
##### 7.8.1.18.3 Successful cell reselection
When the MS has succeeded in reselecting a cell in the target radio access
technology other than UTRAN and has initiated the establishment of a
connection, it shall release all GERAN specific resources.
When the MS has succeeded in reselecting to a UTRAN cell, it shall release all
GERAN specific radio resources.
##### 7.8.1.18.4 MS fails to complete an inter-RAT cell reselection
If the inter-RAT cell reselection to another radio access technology fails,
the MS shall resume the connection to GERAN _Iu mode_ using the resources used
before initiating the inter-RAT cell reselection procedure.
### 7.8.2 GRA update
See sub-clause 7.8.1.
### 7.8.3 GERAN mobility information
Figure 7.8.3.1: GERAN Mobility Information procedure, normal flow
Figure 7.8.3.2: GERAN Mobility Information procedure, failure case
#### 7.8.3.1 General
The purpose of this procedure is to allocate any one or a combination of the
following to a MS in Connected Mode:
\- a new G-RNTI;
\- other mobility related information.
#### 7.8.3.2 Initiation
To initiate the procedure GERAN transmits a GERAN MOBILITY INFORMATION message
to the MS on the downlink SRB2.
#### 7.8.3.3 Reception of GERAN MOBILITY INFORMATION message by the MS
When the MS receives a GERAN MOBILITY INFORMATION message, it shall:
1> act on received information elements as specified in sub-clause 7.19;
1> if the IE \"_MS Timers and Constants in Connected Mode_ \" is present:
2> store the values of the IE \"_MS Timers and Constants in Connected Mode_ \"
in the variable TIMERS_AND_CONSTANTS, replacing any previously stored value;
and
2> for each updated timer value:
3> start using the new value next time the timer is started;
NOTE: If a new value of timer T305 is included in the IE \"_MS Timers and
constants in connected mode_ \", and the old value of timer T305 is
\"infinity\", the MS will not use the new value of the timer T305 until the
next cell reselection.
1> set the IE \"RRC Transaction Identifier\" in the GERAN MOBILITY INFORMATION
CONFIRM message to the value of \"RRC transaction identifier\" in the entry
for the GERAN MOBILITY INFORMATION message in the table \"Accepted
transactions\" in the variable TRANSACTIONS; and
1> clear that entry;
1> if the GERAN MOBILITY INFORMATION message contained the IE \"_Ciphering
Mode Info_ \" or contained the IE \"_Integrity Protection Mode Info_ \":
2> set the IE "_Status_ " in the variable SECURITY_MODIFICATION for all the CN
domains in the variable SECURITY_MODIFICATION to "Affected";
1> if the GERAN MOBILITY INFORMATION message contained the IE \"Ciphering Mode
Info\":
2> include the IE \"_Radio Bearer Uplink Ciphering Activation Time Info_ \" in
the GERAN MOBILITY INFORMATION CONFIRM message and set to the value of the
variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
1> if the variable PDCP_SN_INFO is non-empty:
2> include the IE \"_RB with PDCP Information List_ \" in the GERAN MOBILITY
INFORMATION CONFIRM message and set it to the value of the variable
PDCP_SN_INFO;
1> if the received GERAN MOBILITY INFORMATION message included the structure
\"Downlink Counter Synchronisation Info\":
2> if the variable PDCP_SN_INFO is empty:
3> configure the corresponding RLC entity for all AM and UM radio bearers and
AM and UM signalling radio bearers except SRB2 to \"stop\";
2> else:
3> configure the RLC entity for signalling radio bearers SRB1, SRB3 and SRB4
to \"stop\";
3> configure the RLC entity for UM and AM radio bearers for which the IE
"_PDCP SN Info_ " is not included to "stop";
2> re-establish SRB2;
2> for the downlink and the uplink, apply the ciphering configuration as
follows:
3> if the received re-configuation message included the IE "_Ciphering Mode
Info_ ":
4> use the ciphering configuration in the received message when transmitting
the response message;
3> if the ciphering configuration for SRB2 from a previously received SECURITY
MODE COMMAND has not yet been applied because of the activation times not
having been reached:
4> if the previous SECURITY MODE COMMAND was received due to new keys being
received:
5> consider the new ciphering configuration to include the received new keys;
5> initialise the HFN component of the uplink COUNT-C and downlink COUNT-C of
SRB2 as indicated in subclause 7.16.1.2.3.1.
4> if the ciphering configuration for SRB2 from a previously received SECURITY
MODE COMMAND has not yet been applied because of the corresponding activation
times not having been reached and the previous SECURITY MODE COMMAND caused a
change in LATEST_CONFIGURED_CN_DOMAIN:
5> initialise the HFN component of the uplink COUNT-C and downlink COUNT-C of
SRB2 to the most recently transmitted IE \"_START List_ \" or IE \"_START_ \"
for the LATEST_CONFIGURED_CN_DOMAIN at the reception of the previous SECURITY
MODE COMMAND message.
5> consider the new ciphering configuration to include the keys associated
with the LATEST_CONFIGURED_CN_DOMAIN;
4> apply the new ciphering configuration immediately following RLC re-
establishment.
3> else:
4> continue using the current ciphering configuration;
2> set the new uplink and downlink HFN of SRB2 to MAX (uplink HFN of SRB2,
downlink HFN of SRB2) + 1;
2> increment by one the downlink and uplink HFN values for SRB2;
2> calculate the START value according to sub-clause 7.18;
2> include the calculated START values for each CN domain in the IE \"START
List\" in the structure \"Uplink Counter Synchronisation Info\" in the GERAN
MOBILITY INFORMATION CONFIRM message;
1> transmit a GERAN MOBILITY INFORMATION CONFIRM message on the uplink SRB2;
1> if the IE \"_Integrity Protection Mode Info_ \" was present in the GERAN
MOBILITY INFORMATION message:
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearer SRB2 from and including the transmitted GERAN MOBILITY
INFORMATION CONFIRM message;
1> if the structure \"_Downlink Counter Synchronisation Info_ \" was included
in the received GERAN MOBILITY INFORMATION message:
2> when RLC has confirmed the successful transmission of the response message:
3> if the variable PDCP_SN_INFO is empty:
4> configure the RLC entity for all AM and UM radio bearers and AM and UM
signalling radio bearers except SRB2 to \"continue\";
3> else:
4> configure the RLC entity for signalling radio bearers SRB1, SRB3 and SRB4
to \"continue\";
4> configure the RLC entity for UM and AM radio bearers for which the IE
"_PDCP SN Info_ " is not included to "continue";
3> re-establish all AM and UM RLC entities with RB identities larger than 4
and set the first 20 bits of all the HFN component of the respective COUNT-C
values to the START value included in the response message for the
corresponding CN domain;
3> re-establish the RLC entities with RB identities 1, 3 and 4 and set the
first 20 bits of all the HFN component of the respective COUNT-C values to the
START value included in the response message for the CN domain stored in the
variable LATEST_CONFIGURED_CN_DOMAIN;
3> set the remaining bits of the HFN component of the COUNT-C values of all UM
RLC entities to zero;
3> set the remaining bits of the HFN component of the COUNT-C values of all AM
RLC entities to zero, for those bearers to which RLC entitie where re-
established;
3> if the IE \"_PDCP Context Relocation Info_ \" is not present:
4> re-initialise the PDCP header compression entities of each radio bearer in
the variable ESTABLISHED_RABS as specified in 3GPP TS 25.323;
3> if the IE \"_PDCP Context Relocation Info\"_ is present:
4> perform the actions as specified in 7.19.
1> if the variable PDCP_SN_INFO is empty; and
2> if the GERAN MOBILITY INFORMATION message contained the IE \"_Ciphering
Mode Info_ \":
3> when RLC has confirmed the successful transmission of the GERAN MOBILITY
INFORMATION CONFIRM message, perform the actions below;
2> if the GERAN MOBILITY INFORMATION message did not contain the IE \"
_Ciphering Mode Info_ \":
3> when RLC has been requested to transmit the GERAN MOBILITY INFORMATION
CONFIRM message, perform the actions below;
1> if the variable PDCP_SN_INFO is non-empty:
2> when RLC has confirmed the successful transmission of the GERAN MOBILITY
INFORMATION CONFIRM message:
3> for each radio bearer in the variable PDCP_SN_INFO:
4> if the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS is set to
\"started\":
4> configure the RLC entity for that radio bearer to \"continue\";
3> clear the variable PDCP_SN_INFO;
1> if the GERAN MOBILITY INFORMATION message contained the IE \" _Ciphering
Mode Info_ \":
2> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
1> if the GERAN MOBILITY INFORMATION message contained the IE \"_Integrity
Protection Mode Info_ \":
2> allow the transmission of RRC messages on all signalling radio bearers with
any RRC SN;
2> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> clear the variable SECURITY_MODIFICATION.
The procedure ends.
#### 7.8.3.4 Reception of an GERAN MOBILITY INFORMATION CONFIRM message by the
GERAN
When the network receives GERAN MOBILITY INFORMATION CONFIRM message, GERAN
may delete any old G-RNTI. The procedure ends.
#### 7.8.3.5 Cell re-selection
If the MS performs cell re-selection, the MS shall:
1> initiate a Cell Update procedure according to sub-clause 7.8.1;
1> if the MS has not yet submitted the GERAN MOBILITY INFORMATION CONFIRM
message to lower layers for transmission;
2> transmit a GERAN MOBILITY INFORMATION FAILURE message on the uplink SRB2;
2> set the IE \"_RRC Transaction Identifier_ \" in the GERAN MOBILITY
INFORMATION FAILURE message to the value of \"RRC transaction identifier\" in
the entry for the GERAN MOBILITY INFORMATION message in the table \"Accepted
transactions\" in the variable TRANSACTIONS; and
2> clear that entry.
2> set the IE \"_Failure Cause_ \" to the cause value \"cell reselection\";
2> when the GERAN MOBILITY INFORMATION FAILURE message has been submitted to
lower layers for transmission:
3> continue with any ongoing processes and procedures as if the invalid GERAN
MOBILITY INFORMATION message has not been received and the procedure ends.
1> otherwise:
2> continue the procedure normally.
#### 7.8.3.6 Incompatible simultaneous security reconfiguration
If the variable INCOMPATIBLE_SECURITY_RECONFIGURATION becomes set to TRUE
because of the received GERAN MOBILITY INFORMATION message, the MS shall:
1> transmit a GERAN MOBILITY INFORMATION FAILURE message on the uplink SRB2;
1> set the IE \"_RRC Transaction Identifier_ \" in the GERAN MOBILITY
INFORMATION FAILURE message to the value of \"RRC transaction identifier\" in
the entry for the GERAN MOBILITY INFORMATION message in the table \"Accepted
transactions\" in the variable TRANSACTIONS; and
1> clear that entry;
1> set the IE \"_Failure Cause_ \" to the cause value \"incompatible
simultaneous reconfiguration\";
1> when the GERAN MOBILITY INFORMATION FAILURE message has been delivered to
lower layers for transmission:
2> set the variable INCOMPATIBLE_SECURITY_RECONFIGURATION to FALSE;
2> continue with any ongoing processes and procedures as if the GERAN MOBILITY
INFORMATION message has not been received;
2> and the procedure ends.
#### 7.8.3.7 Invalid GERAN MOBILITY INFORMATION message
If the GERAN MOBILITY INFORMATION message contains a protocol error causing
the variable PROTOCOL_ERROR_REJECT to be set to TRUE according to sub-clause
8, the MS shall perform procedure specific error handling as follows. The MS
shall:
1> transmit a GERAN MOBILITY INFORMATION FAILURE message on the uplink SRB2;
1> set the IE \"_RRC Transaction Identifier_ RRC\" in the GERAN MOBILITY
INFORMATION FAILURE message to the value of \"RRC transaction identifier\" in
the entry for the GERAN MOBILITY INFORMATION message in the table \"Rejected
transactions\" in the variable TRANSACTIONS, and;
1> clear that entry.
1> set the IE \"_Failure Cause_ \" to the cause value \"protocol error\";
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
1> when the GERAN MOBILITY INFORMATION FAILURE message has been submitted to
lower layers for transmission:
2> continue with any ongoing processes and procedures as if the invalid GERAN
MOBILITY INFORMATION message has not been received;
1> and the procedure ends.
### 7.8.4 Inter-mode handover from GERAN Iu mode
#### 7.8.4.1 General
Figure 7.8.4.1.1: Inter-mode handover from GERAN, successful case
Figure 7.8.4.1.2: Inter-mode handover from GERAN Iu mode, failure case
The purpose of the Inter-Mode Handover from GERAN Iu procedure is to, under
the control of the network, transfer a connection between the MS and GERAN _Iu
mode_ to GERAN _A/Gb mode_.This procedure may be used to request an intercell
or intracell change of channel(s) by the network, in RRC-Cell_Dedicated state.
NOTE: This procedure is applicable to CS domain service.
#### 7.8.4.2 Initiation
The procedure is initiated when GERAN _Iu mode_ orders a MS in RRC-
Cell_Dedicated state, to make a handover to GERAN _A/Gb mode_.
To initiate the procedure, GERAN sends a HANDOVER FROM GERAN Iu COMMAND
message.
Upon the receipt of HANDOVER FROM GERAN Iu COMMAND message, the mobile station
shall:
1> initiate reconfiguration of the layer 2 and disconnection of the DBPSCHs;
1> switch to the assigned cell(s) and establish the physical channels as
described in 3GPP TS 44.018.
#### 7.8.4.3 Reception of a HANDOVER FROM GERAN Iu COMMAND message by the MS
The MS shall be able to receive a HANDOVER FROM GERAN Iu COMMAND message and
perform an inter-mode handover, even if no prior MS measurements have been
performed on the target cell. The connection is established in GERAN _A/Gb
mode_ by using the contents of encapsulated message HANDOVER COMMAND message
(see 3GPP TS 44.018)
If the IE \"_RAB information List_ \" is included in the HANDOVER FROM GERAN
Iu COMMAND message:
1> if the IE \"RAB information List\" includes one IE \"RAB Info\" with the IE
\"_CN domain Identity_ \" set to \"CS domain\":
2> connect upper layer entities corresponding to the indicated CS domain RAB
to the radio resources indicated in the encapsulated HANDOVER COMMAND message.
2> and act upon received information element as specified 3GPP TS 44.018.
NOTE: In this version of the specification the maximum number of CS domain
RABs which may be included in the IE \"RAB information List\" is limited to 1.
#### 7.8.4.4 Successful completion of the inter-mode handover
Upon successfully completing the handover, GERAN shall:
1> release the radio connection;
Upon successfully completing the handover, the MS shall:
1> if inter-mode handover is performed and if there are any NAS messages with
the IE \"_CN domain identity_ \" set to \"CS domain\" for which the successful
delivery of the INITIAL DIRECT TRANSFER message or UPLINK DIRECT TRANSFER
message on signalling radio bearer SRB3 or signalling radio bearer SRB4 has
not yet been confirmed by RLC:
2> retransmit those NAS messages to the network on the newly established radio
connection to the system.
3> clear or set variables upon leaving GERAN RRC-Connected mode as specified
in sub-clauses 7.19 and 10.4.
#### 7.8.4.5 Unsuccesful completion of the inter-mode handover at the MS side
If the MS does not succeed in establishing the connection to the target, it
shall:
1> revert back to the GERAN configuration;
1> establish the GERAN physical channel(s) used at the time for reception of
HANDOVER FROM GERAN Iu COMMAND;
1> if the MS does not succeed to establish the GERAN physical channel(s):
2> select a suitable GERAN cell according to 3GPP TS 45.008.
2> perform a Cell Update procedure according to sub-clause 7.8 with cause
\"radio link failure\";
2> when the Cell Update procedure has completed successfully:
3> proceed as below;
1> transmit the HANDOVER FAILURE message setting the information elements as
specified below:
2> include the IE \"RRC Transaction Identifier\"; and
2> set it to the value of \"RRC Transaction Identifier\" in the entry for the
HANDOVER FROM GERAN Iu COMMAND message in the table \"Accepted transactions\"
in the variable TRANSACTIONS; and
2> clear that entry;
2> set the IE \"Failure Cause\" to \"physical channel failure\";
1> when the HANDOVER FAILURE message has been submitted to lower layer for
transmission:
2> the procedure ends.
#### 7.8.4.6 Invalid HANDOVER FROM GERAN Iu COMMAND message
If the received HANDOVER FROM GERAN Iu COMMAND message does not include a
valid encapsulated HANDOVER COMMAND message (see 3GPP TS 44.018), the MS shall
perform procedure specific error handling as follows. The MS shall:
1> set the IE \"_Failure Cause_ \" to the cause value \"Inter-mode Protocol
Error\";
1> transmit a HANDOVER FAILURE message on the uplink SRB2;
1> when the transmission of the HANDOVER FAILURE message has been confirmed by
RLC:
2> continue with any ongoing processes and procedures as if the invalid
HANDOVER FROM GERAN Iu COMMAND message has not been received;
2> and the procedure ends.
If the HANDOVER FROM GERAN Iu COMMAND message contains a protocol error
causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE according to sub-
clause 8, the MS shall perform procedure specific error handling as follows.
The MS shall:
1> set the IE \"_RRC Transaction Identifier_ \" in the HANDOVER FAILURE
message to the value of \"RRC transaction identifier\" in the entry for the
HANDOVER FROM GERAN Iu COMMAND message in the table \"Rejected transactions\"
in the variable TRANSACTIONS; and
1> clear that entry;
1> set the IE \"Failure Cause\" to the cause value \"protocol error\";
1> include the IE \"Protocol Error Information\" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
1> transmit a HANDOVER FAILURE message on the uplink SRB2;
1> when the HANDOVER FAILURE message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
HANDOVER FROM GERAN Iu COMMAND message has not been received;
2> and the procedure ends.
#### 7.8.4.7 Reception of an HANDOVER FAILURE message by GERAN in Iu mode
Upon receiving an HANDOVER FAILURE message, GERAN may initiate the release of
the resources in the GERAN A/Gb mode (see 3GPP TS 44.018 and 3GPP TS 25.413).
#### 7.8.4.8 Unsupported configuration in HANDOVER FROM GERAN Iu COMMAND
message
If:
\- the GERAN instructs the MS to perform a non-supported handover scenario; or
\- the GERAN instructs the MS to use a non-supported configuration; or
\- the IE \"_RAB Information List_ \" is included in the HANDOVER FROM GERAN
Iu mode COMMAND message and this IE does not include any IE \"RAB Info\" with
the IE \"CN domain Identity\" set to \"CS domain\":
the MS shall:
1> transmit a HANDOVER FAILURE message, setting the information elements as
specified below:
2> include the IE \"RRC Transaction Identifier\"; and
2> set it to the value of \"RRC Transaction Identifier\" in the entry for the
HANDOVER FROM GERAN Iu COMMAND message in the table \"Accepted transactions\"
in the variable TRANSACTIONS; and
2> clear that entry;
2> set the IE \"Failure Cause\" to \"configuration unsupported\";
2> when the HANDOVER FAILURE message has been submitted to lower layers for
transmission:
3> resume normal operation as if the invalid HANDOVER FROM GERAN Iu COMMAND
message has not been received;
3> and the procedure ends.
#### 7.8.4.9 Reception of HANDOVER FROM GERAN Iu COMMAND message by MS in RRC-
Cell_Shared state
If the MS receives HANDOVER FROM GERAN Iu COMMAND while in RRC-Cell_Shared
state, the MS shall:
1> transmit a HANDOVER FAILURE message, setting the information elements as
specified below:
2> include the IE \"RRC Transaction Identifier\"; and
2> set it to the value of \"RRC Transaction Identifier\" in the entry for the
HANDOVER FROM GERAN Iu COMMAND message in the table \"Accepted transactions\"
in the variable TRANSACTIONS; and
2> clear that entry;
2> set the IE \"Failure Cause\" to \"protocol error\";
3> include IE \"Protocol Error Information\";
3> set the value of IE \"Protocol Error Cause\" to \"Message not compatible
with receiver state\"; and
2> when the HANDOVER FAILURE message has been submitted to lower layers for
transmission:
3> resume normal operation as if the invalid HANDOVER FROM GERAN Iu COMMAND
message has not been received;
3> and the procedure ends.
## 7.9 Procedures for System Information transmission and Measurement
reporting in RRC-Cell_Dedicated state
NOTE: Any modification to this sub-clause may have impact on 3GPP TS 44.018.
### 7.9.1 General
In RRC-Cell_Dedicated state, the mobile station sends measurement report
messages and receives system information on SRB1.
In the uplink direction, measurement report messages are sent using SRB1 at
each possible occasion when no other RRC message has to be sent (see sub-
clause 7.9.2). Similarly, in the downlink direction, SYSTEM INFORMATION TYPE
5, 6 and optionally 5bis and 5ter messages are sent on SRB1 when no other RRC
message has to be sent. The network may, in addition, send MEASUREMENT
INFORMATION messages on SRB1 to a mobile station in RRC-Cell_Dedicated state.
This message may order the MS to use the enhanced measurement reporting. The
mapping of SRB1 onto logical channels is specified in 3GPP TS 44.160.
A mobile station with extended measurement capabilities, which receives
EXTENDED MEASUREMENT ORDER messages on SRB1, shall perform and report extended
measurements, see sub-clause 7.9.3.
The SYSTEM INFORMATION TYPE 5bis message shall be sent if and only if the EXT
IND bit in the _Neighbour Cell Description_ information element in both the
SYSTEM INFORMATION TYPE 5 and TYPE 5bis messages indicates that each
information element only carries part of the BA.
A GSM 900 mobile station which only supports the primary GSM band P-GSM 900
(cf. 3GPP TS 45.005) may consider the EXT-IND bit in the _Neighbour Cell
Description_ IE in the SYSTEM INFORMATION TYPE 5 message bit as a spare bit,
assume that the information element carries the complete BA, and ignore any
SYSTEM INFORMATION TYPE 5bis messages.
NOTE: The network should take into account limitations of certain mobile
stations to understand SYSTEM INFORMATION TYPE 5ter and TYPE 5bis messages,
the EXT-IND bit in the _Neighbour Cell Description_ IE, and formats used in
the _Neighbour Cell Description_ information element and _Cell Channel
Description_ information element used in system information messages, see 3GPP
TS 44.018.
Problems occurring in the reception of SACCH frames are interpreted as a loss
of communication means and appropriate procedures are then triggered as
specified in 3GPP TS 45.008.
### 7.9.2 Measurement Report and Enhanced Measurement Report
#### 7.9.2.2 Parameters for Measurements and Reporting
##### 7.9.2.2.1 General
Some parameters from the MEASUREMENT INFORMATION or PSI3quater messages allow
an MS to build lists which are used for Measurement reporting and Enhanced
Measurement reporting.
Full sets of MEASUREMENT INFORMATION messages and PSI3quater messages are
defined by a number of different instances indicated respectively by the
parameters MI_COUNT and **PSI3_QUATER_COUNT**. Two different instances of
MEASUREMENT INFORMATION) messages and PSI3quater messages are respectively
distinguished by different MI_INDEX and **PSI3_QUATER_INDEX** parameter
values.
If the MP_CHANGE_MARK parameter or the PSI3_CHANGE_MARK parameter is changed,
the MS shall re-read the Real Time differences, REP_PRIORITY, CCN_SUPPORTED,
Measurement Parameters and 3G Measurement Parameters in all instances of
respectively MEASUREMENT INFORMATION messages or PSI3quater messages. The MS
shall start using the parameters as soon as they have been received. In the
case that not all the parameters have been received in a full set of
instances, then the default values shall be used. If different values occur
for the same parameter in different instances of a MEASUREMENT INFORMATION
message or PSI3quater message, the instance with the highest index shall be
used.
##### 7.9.2.2.2 Deriving the 3G Neighbour Cell list from the 3G Neighbour Cell
Description
A multi-RAT MS shall form a 3G Neighbour Cell list.
In RRC-Idle mode, the MS obtains the 3G Neighbour Cell Description information
on PBCCH by one or more instances of the PSI3quater message as specified in
3GPP TS 44.160 sub-clause 5.5.3. When the PSI3_CHANGE_MARK parameter is
changed in a PSI3quater message, the MS shall re-read all instances and
rebuild the 3G Neighbour Cell list. This 3G neighbour cell list shall then be
used for measurement reporting when the MS enters RRC-Cell_Dedicated state,
until the MS has received a given number of instances of MEASUREMENT
INFORMATION messages that contain 3G Neighbour Cell Description. This number
of instances is defined by the 3G-WAIT parameter.
In RRC-Cell_Dedicated state, the MS obtains the 3G Neighbour Cell Description
information on SRB1 by one or more instances of the MEASUREMENT INFORMATION
message with the same 3G_BA_IND value as defined in this sub-clause. When the
3G_BA_IND parameter in the MEASUREMENT INFORMATION message is changed, the MS
shall also re-read all instances of MEASUREMENT INFORMATION messages, rebuild
the 3G Neighbour Cell list, and use the new list for measurement reporting
based on the parameter 3G-WAIT.
The 3G Neighbour Cell list may contain up to 96 3G Neighbour Cells.
Each _3G Neighbour Cell Description_ received is added to the 3G Neighbour
Cell list, starting with the index equal to the parameter Index_Start_3G. If
this parameter is not present then the value 0 shall be used.
For each 3G Neighbour Cell Description, the cells are indexed in the following
order:
1) UTRAN FDD cells: FDD ARFCNs are indexed in the order of occurrence in the
3G Neighbour Cell description. Then for each FDD ARFCN, the cells are indexed
in the order of increasing values of the decoded FDD_CELL_INFORMATION
parameters.
2) UTRAN TDD cells: TDD ARFCNs are indexed in the order of occurrence in the
3G Neighbour Cell description. Then for each TDD ARFCN, the cells are indexed
in the order of increasing values of the decoded TDD_CELL_INFORMATION
parameters.
3) CDMA 2000 cells: the cells are indexed in the order of occurrence in the 3G
Neighbour Cell description.
If a _3G Neighbour Cell Description_ includes non-supported frequencies or
Radio Access Technologies, this shall not be considered as an error; indices
in the 3G Neighbour Cell list shall be incremented accordingly.
If more than one cell with the same index in the 3G Neighbour Cell list are
provided by different instances of _3G Neighbour Cell Descriptions_ , the cell
from the message instance with the highest index shall be used. In case the
same 3G Cell occurs more than once in the resulting 3G Neighbour Cell list,
each occurrence shall be assigned an index but only the cell with the highest
index in the 3G Neighbour Cell list shall be referred to in measurement
reports.
If a cell is provided for an index higher than 95 in the 3G Neighbour Cell
list, this shall not be considered as an error; the cell shall not be included
in the 3G Neighbour Cell list.
##### 7.9.2.2.3 Deriving the GSM Neighbour Cell list from the BSICs and the
BCCH Allocation
In RRC-Idle mode, the MS shall derive the GSM Neighbour Cell from information
received on PBCCH, by one or more instances of the PSI3 or PSI3bis message as
specified in 3GPP TS 44.160. In RRC-Cell_Dedicated state, the GSM Neighbour
Cell list shall be derived from information received, on SRB1, by one or more
instances of the MEASUREMENT INFORMATION message as defined in this sub-
clause. The GSM Neighbour Cell list may contain up to 96 Neighbour Cells.
To obtain the GSM neighbour cell list, the MS shall combine the BA (list)
received in SI5/SI5bis/SI5ter with the BSIC list received in one or more
instances of the MEASUREMENT INFORMATION message with the same BA_IND value as
the BA (list). The BSICs may be received before the corresponding BA (list).
The first BSIC in each instance applies to the frequency in the BA (list)
referenced by the parameter BA_Index_Start_BSIC. For each successive BSIC, one
bit indicates if the BSIC applies to the same frequency as the previous BSIC
or to the next frequency in the BA (list), as defined in 3GPP TS 44.018. When
the BA_IND is changed the MS shall rebuild the combined list and the BSIC list
shall also be rebuilt.
##### 7.9.2.2.4 Deriving the Neighbour Cell list from the GSM Neighbour Cell
list and the 3G Neighbour Cell list
For report with the ENHANCED MEASUREMENT REPORT message, the Neighbour Cell
list is the concatenation of the GSM Neighbour Cell list and the 3G Neighbour
Cell list (if any). In this concatenation the value of the parameter
Absolute_Index_Start_EMR is added to the 3G Neighbour Cell list indices. The
Neighbour Cell list may contain up to 96 Neighbour Cells. If the same index
occurs for a GSM Cell and a 3G Cell, the GSM Cell shall be used.
NOTE: For report with the MEASUREMENT REPORT message, the concatenated list is
not used. Instead, the two lists are used separately, as defined in 3GPP TS
44.018.
##### 7.9.2.2.5 Real Time Differences
To obtain the Real Time Differences, the MS shall combine the BA (list) with
the Real Time Differences parameters received in the MEASUREMENT INFORMATION
message with the same BA_IND value as the BA (list). The Real Time Difference
list may contain up to 96 Real Time Difference parameters. Each frequency in
the BA (list) may be associated to 0, 1 or more Real Time Difference
parameters. The Real Time Difference parameters may be received before the
corresponding BA (list). The parameter BA_Index_Start_RTD in each structure
indicates the index of the frequency in the BA (list) to be taken as a
starting reference. A sub-structure is included for each frequency referenced.
Each of those sub-structures indicates if 0, 1 or more RTD parameters are
present for this frequency. If a frequency in the BA (list) is not provided
with Real Time Difference information by any of the message instances with
correct BA_IND, it shall be assumed that no information is available for that
frequency, see 3GPP TS 44.018. When the BA_IND is changed the MS shall re-read
the Real Time Differences parameters in all instances.
The Real Time Difference may be received from the PSI3ter message in the GPRS
Real Time Difference Description (see 3GPP TS 44.160).
##### 7.9.2.2.6 Report Priority Description
Report Priority information can be received in one instance of the MEASUREMENT
INFORMATION message. The Report Priority information is associated with the
Neighbour Cell list (see 7.9.2.2.4) having the same BA_IND value and 3G_BA_IND
value. Each REP_PRIORITY bit of this field relates to indices of the Neighbour
Cell list, starting with index 0\. The Report Priority information may be
received before the corresponding Neighbour Cell list. When the BA_IND or
3G_BA_IND are changed the MS shall re-read the REP_PRIORITY parameters in all
instances.
Indices exceeding the value 95 shall be ignored. If there are fewer indices
than the number of Neighbour Cells, the value 0 shall be assumed for the
missing bits.
Report Priority Description for GSM cells may also be received from the
PSI3ter message and Report Priority Description for 3G cells from the
PSI3quarter message(see 3GPP TS 44.160).
##### 7.9.2.2.7 The 3G Cell Reselection list
This applies only to a multi-RAT MS. The 3G Cell Reselection list is defined
in 3GPP TS 44.160.
##### 7.9.2.2.8 CCN Support description
The CCN Support description may be received from the PSI3 message or any
instance of the PSI3bis or PSI3quater messages(see 3GPP TS 44.160).
### 7.9.3 Extended measurement report
Only applicable to mobile stations which support extended measurement.
When in RRC-Cell_Dedicated state, a mobile station may receive an EXTENDED
MEASUREMENT ORDER message from the network. As defined in 3GPP TS 45.008, the
mobile station shall then perform measurements on the frequencies specified by
this EXTENDED MEASUREMENT ORDER message for one reporting period. The mobile
station shall thereafter send an EXTENDED MEASUREMENT REPORT message. This
message contains the measurement results as defined in 3GPP TS 45.008.
If the mobile station has not started to send its EXTENDED MEASUREMENT REPORT
message within 10 seconds after the reception of the EXTENDED MEASUREMENT
ORDER message, no EXTENDED MEASUREMENT REPORT message shall be sent. The
mobile station shall after a successful channel change abort any pending
measurements or reporting related to an EXTENDED MEASUREMENT ORDER message
received on the old channel.
If a mobile station receives an EXTENDED MEASUREMENT ORDER message indicating
the same value of the sequence code as an EXTENDED MEASUREMENT ORDER message
received earlier on the same channel without having received any EXTENDED
MEASUREMENT ORDER message indicating a different value of the sequence code in
between, that EXTENDED MEASUREMENT ORDER message shall be ignored. If the
mobile station, before the reporting related to an EXTENDED MEASUREMENT ORDER
message has started, receives a new EXTENDED MEASUREMENT ORDER message with a
different value of the sequence code, any pending measurements or reporting
related to the earlier EXTENDED MEASUREMENT ORDER message shall be aborted and
the new message treated.
The EXTENDED MEASUREMENT ORDER message and the EXTENDED MEASUREMENT REPORT
message are sent on SRB1.
## 7.10 Handover to UTRAN procedure
### 7.10.1 General
This procedure is only valid for UTRAN capable MSs. A change to UTRAN
channel(s) can be requested by the network RRC sublayer in RRC-Cell_Dedicated
state.
The handover to UTRAN procedure includes:
1> the reconfiguration of the layer 2 established for the DBPSCHs;
1> the disconnection and the deactivation of physical channels and their
release (layer 1).
1> the establishment of UTRAN channel(s), see 3GPP TS 25.331.
### 7.10.2 Initiation
The network initiates the handover to UTRAN procedure by sending an INTER
SYSTEM TO UTRAN HANDOVER COMMAND message to the mobile station on the SRB2 in
GERAN in _Iu mode_. The INTER SYSTEM TO UTRAN HANDOVER COMMAND message shall
contain encapsulated the RADIO BEARER RECONFIGURATION message. If the INTER
SYSTEM TO UTRAN HANDOVER COMMAND refers to a not known cell (see 3GPP TS
25.133 and 3GPP TS 25.123), this shall not be considered as an error.
### 7.10.3 Reception of INTER SYSTEM TO UTRAN HANDOVER COMMAND message by the
MS
Upon the receipt of INTER SYSTEM TO UTRAN HANDOVER COMMAND message, the mobile
station shall:
1> initiate reconfiguration of the layer 2 and disconnection of the DBPSCHs;
1> switch to the assigned cell(s) and establish the physical channels as
described in 3GPP TS 25.331.
1> establish the connection to the UTRA cell, by using the contents of
encapsulated RADIO BEARER RECONFIGURATION message.
### 7.10.4 Successful completion of the inter-RAT handover
When inter-RAT handover to UTRAN is performed, the MS shall:
1> perform the actions on reception of RADIO BEARER RECONFIGURATION message as
specified in 3GPP TS 25.331;
1> keep the ciphering and integrity keys that are stored in the USIM/SIM for
that CN domain.
1> if inter-RAT handover to UTRAN is performed and if there are any NAS
messages for which the successful delivery of the INITIAL DIRECT TRANSFER
message or UPLINK DIRECT TRANSFER message on signalling radio bearer SRB3 or
signalling radio bearer SRB4 has not yet been confirmed by RLC:
2> retransmit those NAS messages to the network on the newly established radio
connection to the target radio access technology.
1> clear or set variables upon leaving GERAN RRC connected mode as specified
in sub-clause 10.4.
After lower layer connections are successfully established, the mobile station
returns a RADIO BEARER RECONFIGURATION COMPLETE message on UTRAN channels(s),
see 3GPP TS 25.331.
When receiving the RADIO BEARER RECONFIGURATION COMPLETE message (see 3GPP TS
25.331), the network shall release the old channels (see 3GPP TS 25.413).
### 7.10.5 Unsuccesful inter-rat handover at the MS side
If the MS does not succeed in establishing the connection to the UTRA cell, it
shall:
1> revert back to the old configuration;
1> establish the GERAN physical channel(s) used at the time of reception of
the INTERSYSTEM HANDOVER TO UTRAN COMMAND message;
1> if the lower layer failure happens while attempting to connect back to the
old channels;
2> the PROTOCOL_ERROR_REJECT variable is set TRUE;
1> if the MS does not succeed to establish the GERAN physical channel(s):
2> perform a Cell Update procedure according to sub-clause 7.8 with cause
\"radio link failure\";
2> when the Cell Update procedure has been completed successfully:
3> proceed as below.
1> transmit the HANDOVER FAILURE message setting the information elements as
specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC transaction identifier\" in the entry for the
INTER SYSTEM HANDOVER TO UTRAN COMMAND message in the table \"Accepted
transactions\" in the variable TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to \"physical channel failure\".
2> when the HANDOVER FAILURE message has been submitted to lower layer for
transmission the procedure ends.
If the INTER SYSTEM TO UTRAN HANDOVER COMMAND instructs the mobile to use a
predefined configuration not implemented or if the INTER SYSTEM TO UTRAN
HANDOVER COMMAND instructs the mobile to use a default configuration not
supported by the MS, the MS shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE; and
1> if allowed by the source RAT:
2> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
1> then stay on the current channel(s) and return a HANDOVER FAILURE message
on SRB2 with cause \"UTRAN configuration unknown\";
> 1> clear all the UTRAN predefined configurations.
When sending a HANDOVER FAILURE message in response to an INTERSYSTEM TO UTRAN
HANDOVER COMMAND message, the mobile station shall erase all the UTRAN
predefined configurations.
If the INTER SYSTEM TO UTRAN HANDOVER COMMAND message instructs the mobile
station to use a frequency that it is not capable of, then the mobile station
shall:
1> stay on the current channel(s) and return a HANDOVER FAILURE message on
SRB2 with cause \"frequency not implemented\".
### 7.10.6 Reception of an HANDOVER FAILURE message by GERAN in Iu mode
When HANDOVER FAILURE has been received, the network shall
1> release the UTRAN channel(s), if they were dedicated channels;
1> if a HANDOVER FAILURE message is received on the old channels on SRB2; or
1> if the GERAN has received CELL UPDATE message with the cause \"Radio link
failure\" then:
2> the old channels shall be released if they were DBPSCHs and all contexts
related to the connections with that mobile station are cleared.
## 7.11 Handover to CDMA2000 procedure
### 7.11.1 General
This procedure is only valid for CDMA2000 capable MSs. A change to CDMA2000
channel(s) can be requested by the network RRC sublayer in RRC-Cell_Dedicated
state.
The handover to CDMA2000 procedure includes:
\- the disconnection and the deactivation of physical channels and their
release (layer 1).
\- the establishment of CDMA2000 channel(s), see TIA/EIA/IS-833 and
TIA/EIA/IS-2000-5.
### 7.11.2 Initiation
The network initiates the handover to CDMA2000 procedure by sending an INTER
SYSTEM TO CDMA2000 HANDOVER COMMAND message to the mobile station on the SRB2
in GERAN in _Iu mode_. The INTER SYSTEM TO CDMA2000 HANDOVER COMMAND message
shall contain encapsulated the HANDOVER TO CDMA2000 COMMAND. If the INTER
SYSTEM TO CDMA2000 HANDOVER COMMAND refers to a not known base station (see
TIA/EIA/IS-98), this shall not be considered as an error.
### 7.11.3 Reception of INTERSYSTEM TO CDMA2000 HANDOVER COMMAND message by
the MS
Upon the receipt of INTER SYSTEM TO CDMA2000 HANDOVER COMMAND message, the
mobile station shall:
1> switch to the assigned cell(s) and establish the physical channels as
described in TIA/EIA/IS-833 and TIA/EIA/IS-2000-5.
1> establish the connection to the CDMA cell, by using the contents of
encapsulated message HANDOVER TO CDMA2000 COMMAND.
1> in case one or more IEs \"_RAB Info_ \" is included in the INTER SYSTEM TO
CDMA2000 HANDOVER COMMAND message:
2> connect upper layer entities corresponding to indicated RABs to the radio
resources indicated in the inter-RAT message.
2> and act upon received information element as specified in sub-clauses 7.18
and 7.19.
### 7.11.4 Successful completion of the inter-RAT handover
NOTE: After lower layer connections are successfully established, the mobile
station returns a Handoff Completion message on CDMA2000 channels(s), see
TIA/EIA/IS-833.
When receiving the Handoff Completion message (see TIA/EIA/IS-833 and 3GPP TS
25.413), the network shall release the old channels.
### 7.11.5 Unsuccesful inter-rat handover at the MS side
If the MS does not succeed in establishing the connection to the CDMA2000 cell
(see TIA/EIA/IS-2000-5), it shall:
> 1> revert back to the old configuration;
>
> 1> establish the GERAN physical channel(s) used at the time of reception of
> the INTER SYSTEM HANDOVER TO CDMA2000 COMMAND;
1> if the lower layer failure happens while attempting to connect back to the
old channels;
2> the PROTOCOL_ERROR_REJECT variable is set TRUE;
1> if the MS does not succeed to establish the GERAN physical channel(s):
> 2> perform a Cell Update procedure according to sub-clause 7.8 with cause
> \"radio link failure\";
>
> 2> when the Cell Update procedure has been completed successfully:
3> proceed as below.
1> transmit the HANDOVER FAILURE message setting the information elements as
specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC transaction identifier\" in the entry for the
INTER SYSTEM HANDOVER TO CDMA2000 COMMAND message in the table \"Accepted
transactions\" in the variable TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to \"physical channel failure\".
1> when the HANDOVER FAILURE message has been submitted to lower layer for
transmission the procedure ends.
If the INTER SYSTEM TO CDMA2000 HANDOVER COMMAND message instructs the mobile
station to use a frequency that it is not capable of, then the mobile station
shall:
1> stay on the current channel(s) and return a HANDOVER FAILURE message on
SRB2 with cause \"frequency not implemented\".
### 7.11.6 Reception of an HANDOVER FAILURE message by GERAN in Iu mode
When HANDOVER FAILURE has been received, the network shall
1> release the CDMA2000 channel(s);
1> if a HANDOVER FAILURE message is received on the old channels on SRB2; or
1> the mobile station has received CELL UPDATE with the cause \"radio link
failure\" then:
2> the old channels shall be released and all contexts related to the
connections with that mobile station are cleared.
## 7.12 Mapping of user data substreams onto timeslots in a multislot
configuration
For multislot configurations the following rules for mapping of the user data
substreams onto timeslots shall apply for each channel set:
1> at initial assignment, the lowest numbered user data substream shall be
mapped to the lowest numbered timeslot etc. in ascending order (the user data
substreams are numbered 0 to (n-1), where n is the number of substreams)
1> at channel changes using handover procedure or radio bearer procedures, the
lowest numbered user data substream shall be mapped to the lowest numbered
timeslot etc. in ascending order (the user data substreams are numbered 0 to
(n-1), where n is the number of substreams)
1> at channel changes using radio bearer procedures:
2> user data substream(s) mapped to timeslot(s) that are present in both the
old and the new configuration shall continue to be mapped to the same
timeslot(s) as before the channel change; and
2> possibly added timeslot(s) shall carry the lowest numbered available user
data substream so that the lowest numbered data substream among the added is
mapped to the lowest numbered added timeslot and so on in ascending order.
NOTE: The user data substream number is a number that need not be the same as
the inband number used for transparent services. The user data substream
number is only used as a point of reference to a specific user data substream.
## 7.13 Application Procedures
### 7.13.1 LCS transfer
Figure 7.13.1.1: LCS transfer
#### 7.13.1.1 General
The LCS Transfer procedure enables the SMLC on the network side and the MS to
exchange RRLP Protocol Data Units (PDUs). Only the GERAN may initiate the
exchange of RRLP PDU\'s (initiated by the SMLC). The MS only sends RRLP PDU\'s
in the uplink direction in response to RRLP PDU\'s sent by the GERAN (SMLC).
The maximum size of the RRLP PDU in the LCS DOWNLINK INFORMATION and LCS
UPLINK INFORMATION messages is 242 octets. Since RRLP pseudo segmentation
limits the length of RRLP PDUs, segmentation is not defined for the LCS
Transfer procedure.
#### 7.13.1.2 Intiation of LCS transfer procedure in the GERAN
In the GERAN, the LCS transfer procedure is initiated when the the SMLC
requests the transfer of an RRLP PDU after the initial signaling connection is
established. The GERAN may also initiate the LCS transfer procedure when
another RRC procedure is ongoing, and in that case the state of the latter
procedure shall not be affected. The RRLP PDU in the LCS DOWNLINK INFORMATION
message shall contain a complete RRLP PDU according to the RRLP protocol 3GPP
TS 44.031. The GERAN shall transmit the LCS DOWNLINK INFORMATION message on
the downlink using AM RLC on signalling radio bearer SRB3.
The SMLC may be a \"stand alone SMLC\" (and therefore not tightly integrated
to the GERAN). This can lead to message loss or truncation during the Handover
procedure (during change of BPSCH).
#### 7.13.1.3 Reception of LCS DOWNLINK INFORMATION message by the MS
When the MS has received an LCS DOWNLINK INFORMATION message, the MS shall
deliver the RRLP PDU to the LCS local application.
The MS shall detect RRLP PDU truncation if an LCS DOWNLINK INFORMATION message
is received carrying an RRLP PDU that is shorter than the indicated length. If
a truncated RRLP PDU is received, RRLP PDU shall be discarded.
#### 7.13.1.4 Transmission of a response message by the MS
When the LCS local application has received and processed an RRLP PDU from the
LCS DOWNLINK INFORMATION message, one or two RRLP PDU\'s shall be returned to
the GERAN. The MS shall
1> encapsulate the RRLP PDU received from the LCS local application in the LCS
UPLINK INFORMATION message;
1> transmit the LCS UPLINK INFORMATION message on the uplink using AM RLC on
signalling radio bearer SRB3;
1> if a second RRLP PDU is received from the LCS local application, repeat the
previous two steps;
Suspend/Resume functions of lower layers will prevent message loss on the
uplink. If the BPSCH is changed before the RLC ACK is received in the MS,
message duplication is possible in the uplink after change of the physical
channel.
#### 7.13.1.5 Reception of a response message by the GERAN
When the GERAN has received an LCS UPLINK INFORMATION message, the GERAN shall
deliver the RRLP PDU to the SMLC.
The GERAN shall detect RRLP PDU truncation if an LCS UPLINK INFORMATION
message is received carrying an RRLP PDU that is shorter than the indicated
length. If a trucated RRLP PDU is received, the RRLP PDU shall be discarded.
#### 7.13.1.6 Invalid LCS DOWNLINK INFORMATION message
If the MS receives a LCS DOWNLINK INFORMATION message, which contains a
protocol error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE
according to sub-clause 8, the MS shall perform procedure specific error
handling as follows. The MS shall:
1> transmit an RRC STATUS message on the SRB2;
1> include the IE \"_Identification of Received Message_ \";
1> set the IE \"_Received Message Type_ \" to LCS DOWNLINK INFORMATION
message;
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the LCS DOWNLINK INFORMATION message
in the table \"Rejected transactions\" in the variable TRANSACTIONS;
1> clear that entry;
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
> 1> when the RRC STATUS message has been submitted to lower layers for
> transmission;
2> continue with any ongoing processes and procedures as if the invalid LCS
DOWNLINK INFORMATION message has not been received.
## 7.14 Radio Bearer control procedures
### 7.14.1 Reconfiguration procedures
Figure 7.14.1.1: Radio Bearer Establishment, normal case
Figure 7.14.1.2: Radio Bearer Establishment, MS reverts to old configuration
Figure 7.14.1.3: Radio Bearer Reconfiguration, normal flow
Figure 7.14.1.4: Radio Bearer Reconfiguration, failure case
Figure 7.14.1.5: Radio Bearer Release, normal case
Figure 7.14.1.6: Radio Bearer Release, MS reverts to old configuration
#### 7.14.1.1 General
The reconfiguration procedures include the following procedures:
\- the Radio Bearer Establishment procedure;
\- the Radio Bearer Reconfiguration procedure;
\- the Radio Bearer Release procedure;
The Radio Bearer Establishment procedure is used to establish new radio
bearer(s).
The Radio Bearer Reconfiguration procedure is used to reconfigure parameters
for a radio bearer.
The Radio Bearer Release procedure is used to release radio bearer(s).
The Radio Bearer Reconfiguration procedure is used to reconfigure transport
channel(s).
#### 7.14.1.2 Initiation
To initiate any one of the reconfiguration procedures, the GERAN shall:
1> configure new radio links in any new physical channel;
1> start transmission and reception on the new radio links;
1> for a Radio Bearer Establishment procedure:
2> transmit a RADIO BEARER SETUP message on the SRB2;
2> if signaling radio bearer SRB4 is setup with this procedure and signaling
radio bearers SRB1-SRB3 were already established prior to the procedure:
3> if the variable \"LATEST_CONFIGURED_CN_DOMAIN\" has been initialised:
4> any radio bearers setup by the same message as signalling radio bearer SRB4
shall be connected to the CN domain indicated in the variable \"LATEST
CONFIGURED CN DOMAIN\";
1> for a Radio Bearer Reconfiguration procedure:
2> transmit a RADIO BEARER RECONFIGURATION message on the SRB2;
1> for a Radio Bearer Release procedure:
2> transmit a RADIO BEARER RELEASE message on the SRB2;
1> for a transport channel reconfiguration (setup, reconfigure or release)
procedure:
2> transmit a RADIO BEARER SETUP, RADIO BEARER RECONFIGURATION or RADIO BEARER
RELEASE message on the SRB2.
1> if transport channels are setup, reconfigured or released in uplink and/or
downlink:
2> set TFCS according to the new transport channel(s).
1> if transport channels are added or deleted in uplink and/or downlink, and
the IE "_RB Mapping Info"_ applicable to the new configuration has not been
previously provided to the MS, the GERAN shall:
2> send the IE "_RB Mapping Info"_ for the new configuration.
The RADIO BEARER RECONFIGURATION message shall include in case of SBSS
relocation procedure the structure \"_Downlink Counter Synchronisation Info_
\"and
1> if ciphering and/or integrity protection are activated:
2> include new ciphering and/or integrity protection configuration information
to be used after reconfiguration.
If one of the reconfiguration messages is transmited then the IE \"_New
G-RNTI_ \" may be present.
NOTE 1: The RADIO BEARER RECONFIGURATION message always includes the IE \"_RB
Information to Reconfigure_ \", even if GERAN does not require the
reconfiguration of any RB. In these cases, GERAN may include only the IE \"_RB
Identity_ \" within the IE \"_RB Information to Reconfigure_ \".
GERAN shall take the MS capabilities into account when setting the new
configuration. If the message is used to initiate a transition from RRC-
Cell_Dedicated state to RRC-Cell_Shared state, the RRC may allocate the new
physical resources.
#### 7.14.1.3 Reception of RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION
or RADIO BEARER RELEASE message by the MS
If the MS receives the one of the following reconfiguration messages:
\- RADIO BEARER SETUP; or
\- RADIO BEARER RECONFIGURATION; or
\- RADIO BEARER RELEASE;
it shall:
1> set the variable ORDERED_RECONFIGURATION to TRUE;
1> act upon all received information elements as specified in sub-clause 7.18
and 7.19, unless specified in the following and perform the actions below.
1> if a complete reconfiguration, setup or release is indicated in the
reconfiguration messages:
2> initiate the radio bearer, transport channel and physical channel
reconfiguration in accordance with the received radio bearer, transport
channel and physical channel information elements as is specified in sub-
clauses 7.18 and 7.19.
The MS may first release the physical channel used at reception of the
reconfiguration message (i.e a RADIO BEARER SETUP message, a RADIO BEARER
RECONFIGURATION message or a RADIO BEARER RELEASE message). The MS shall:
1> then stop the RLC operation for the duration of the reconfiguration
procedure;
1> establish a new physical channel and act upon all received information
elements as specified in sub-clause 7.19;
1> enter a state according to sub-clause 7.19;
1> continue the RLC operation, if applicable.
NOTE: The RADIO BEARER RECONFIGURATION message always includes the IE \"_RB
Information to Reconfigure_ \". GERAN has to include it even if it does not
require the reconfiguration of any RB.
If the MS is in RRC-Cell_Dedicated state upon reception of the reconfiguration
message and remains in RRC-Cell_Dedicated state after that, the MS shall:
1> stop the RLC operation for the duration of the reconfiguration procedure;
1> then establish a new physical channel and act upon all received information
elements as specified in sub-clause 7.19.6 and:
2> if the IE "_DBPSCH Description"_ is present then set the network response
times as specified in sub-clause 7.18.12;1> if the reconfiguration messages
contain the transport channel information elements:
2> then establish,reconfigure or release a new transport channel and act upon
all received information elements as specified in sub-clause 7.19.7;
1> if RADIO BEARER RECONFIGURATION message has been received; and if the IE
"_DBPSCH Description_ " is present and:
2> if the following IEs are present IE "_Handover Reference_ ", IE "_Power
Command and Access Type_ ", IE "_Cell Description_ " and IE "_Description of
the First Channel After Time_ ", the MS shall:
3> if the IE "_Synchronization Indication_ " is not present, establish new
physical channel using non-synchronized method as specified in sub-clause
7.18.6 and act upon all received information elements and 7.19.
3> if the IE "_Synchronization Indication_ " is present, establish new
physical channel using one of the synchronized methods as specified below:
4> if IE "_Timing Advance_ " is present and if the IE "_Synchronization
Indication_ " indicates pre-synchronized type of physical channel
establishment, the MS shall:
5> establish new physical channel using the pre-synchronized method as
specified in sub-clause 7.18.6 and act upon all received information elements
and 7.19.
4> if IE "_Real Time Difference_ " is present and if the IE "_Synchronization
Indication_ " indicates pseudo-synchronized type of physical channel
establishment, the MS shall:
5> establish new physical channel using the pseudo-synchronized method as
specified in sub-clause 7.18.6 and act upon all received information elements
and 7.19;
4> if the IE "_Synchronization Indication_ " is present and if it indicates
finely synchronized type of physical channel establishment, the MS shall:
5> establish new physical channel using the finely synchronized method as
specified in sub-clause 7.18.6 and act upon all received information elements
and 7.19;
2> if the following IEs, IE "_Handover Reference_ ", IE "_Power Command and
Access Type_ ", IE "_Cell Description_ " are not present, the MS shall:
3> not use the procedures specified in sub-clause 7.18.6;
2> if at least one of the following IEs, IE "_Handover Reference_ ", IE
"_Power Command and Access Type_ " and IE "_Cell Description_ " and IE
"_Description of the First Channel After Time_ " is not present, the MS shall:
3> act as specified in sub-clause 7.14.1.14.
1> if RADIO BEARER RELEASE message has been received and is indicating the
release of one or more channels, then:
2> deactivate the physical channel to be released; and
2> if at least one of the following Transport channel information elements (IE
"_Deleted DL TrCH Information_ ", IE "_Deleted UL TrCH Information_ ") is
present in the message then:
3> release the transport channels and act upon all received information
elements as specified in sub-clause 7.19.7.
If the RADIO BEARER RECONFIGURATION message refers to a cell to which the
mobile station is not synchronised to (see 3GPP TS 45.008), this shall not be
considered as an error.
NOTE: The network takes into account limitations of certain mobile stations to
understand formats used in the IE "_Frequency List"_ , IE "_Frequency Short
List"_ , and IE "_Cell Channel Description"_ used in the RADIO BEARER
RECONFIGURATION message, see sub-clause 7.19.
If the MS is in RRC-Cell_Dedicated state when receives the one of the
reconfiguration messages (i.e RADIO BEARER SETUP message, a RADIO BEARER
RECONFIGURATION message or RADIO BEARER RELEASE message) and enters in RRC-
Cell_Shared state after state transition, the MS shall:
1> release the dedicated basic physical resources;
1> act upon all received information elements as specified in sub-clause 7.19;
1> if RADIO BEARER RELEASE message has been received and is indicating the
release of one or more channels, then:
2> deactivate the physical channel to be released; and
2> if at least one of the following Transport channel information elements (IE
"_Deleted DL TrCH Information_ ", IE "_Deleted UL TrCH Information_ ") is
present in the message then:
3> release the transport channels and act upon all received information
elements as specified in sub-clause 7.19.7.
If after state transition the MS enters RRC-Cell_Shared state, the MS shall:
1> if timer T305 is not running and if periodical update in the IE \"_MS
Timers and Constants In Connected Mode_ \" has been set to any other value
than \"infinity\" in PACKET SYSTEM INFORMATION TYPE16 message;
2> start timer T305 using its initial value;
1> if the IE \"_GERAN DRX Cycle Length Coefficient_ \" is included in the
received message:
2> store this IE and apply this coefficient as specified in 3GPP TS 44.160.
If the MS is in RRC-Cell_Shared state when receives the one of the
reconfiguration messages (i.e RADIO BEARER SETUP message or RADIO BEARER
RECONFIGURATION message or RADIO BEARER RELEASE message) and enters in RRC-
Cell_Dedicated state after state transition, the MS shall:
  1. establish the dedicated basic physical resources as specified in 7.19.6.1 and set the network response times as specified in sub-clause 7.18.12;
1> act upon all received information elements as specified in sub-clause
7.19.6.1;
1> if RADIO BEARER RELEASE message has been received and is indicating the
release of one or more channels, then:
2> deactivate the physical channel to be released.
If the MS is in RRC-Cell_Shared state upon reception of the reconfiguration
message and remains in RRC-Cell_Shared state after that, the MS shall:
1> if IE "_SBPSCH Description_ " is included then:
2> establish new physical channels for each RB identity included in the IE
"_RB Information to Reconfigure_ " and act upon all received information
elements as specified in sub-clause 7.19.
If after state transition the MS enters RRC-GRA_PCH state, the MS shall:
1> if timer T305 is not running and if periodical update in the IE \"_MS
Timers And Constants In Connected Mode_ \" has been set to any other value
than \"infinity\" in PACKET SYSTEM INFORMATION TYPE 16 message;
2> start timer T305 using its initial value;
1> if the IE \"_GERAN DRX Cycle Length Coefficient_ \" is included in the
message:
2> use the value in the IE \"_GERAN DRX Cycle Length Coefficient_ \" for
calculating Paging occasion as specified in sub-clauses 7.18 and 7.19;
1> if the IE \"_GERAN DRX Cycle Length Coefficient_ \" is not included in the
same message:
2> set the variable INVALID_CONFIGURATION to TRUE.
The MS shall transmit a response message as specified in 7.14.1.4, setting the
information elements as specified below. The MS shall:
1> if the received reconfiguration message includes the structure \"Downlink
Counter Synchronisation Info\"; or
1> if the received reconfiguration message includes the IE \"_New G-RNTI_ \":
2> if the variable PDCP_SN_INFO is empty:
3> configure the corresponding RLC entity for all AM and UM radio bearers and
AM and UM signalling radio bearers except SRB2 to \"stop\";
2> else:
3> configure the RLC entity for signalling radio bearers SRB1, SRB3 and SRB4
to \"stop\";
3> configure the RLC entity for UM and AM radio bearers for which the IE
"_PDCP SN Info_ " is not included to "stop";
2> re-establish SRB2;
2> for the downlink and the uplink, apply the ciphering configuration as
follows:
3> if the received re-configuation message included the IE "_Ciphering Mode
Info_ ":
4> use the ciphering configuration in the received message when transmitting
the response message;
3> if the ciphering configuration for SRB2 from a previously received SECURITY
MODE COMMAND has not yet been applied because of the activation times not
having been reached:
4> if the previous SECURITY MODE COMMAND was received due to new keys being
received:
5> consider the new ciphering configuration to include the received new keys;
5> initialise the HFN component of the uplink COUNT-C and downlink COUNT-C of
SRB2 as indicated in subclause 7.16.1.2.3.1.
4> if the ciphering configuration for SRB2 from a previously received SECURITY
MODE COMMAND has not yet been applied because of the corresponding activation
times not having been reached and the previous SECURITY MODE COMMAND caused a
change in LATEST_CONFIGURED_CN_DOMAIN:
5> initialise the HFN component of the uplink COUNT-C and downlink COUNT-C of
SRB2 to the most recently transmitted IE \"_START List_ \" or IE \"_START_ \"
for the LATEST_CONFIGURED_CN_DOMAIN at the reception of the previous SECURITY
MODE COMMAND message.
5> consider the new ciphering configuration to include the keys associated
with the LATEST_CONFIGURED_CN_DOMAIN;
4> apply the new ciphering configuration immediately following RLC re-
establishment.
3> else:
4> continue using the current ciphering configuration;
2> set the new uplink and downlink HFN component of COUNT-C of SRB2 to
MAX(uplink HFN component of COUNT-C of SRB2, downlink HFN component of COUNT-C
of SRB2);
2> increment by one the downlink and uplink values of the HFN component of
COUNT -C for SRB2;
2> calculate the START value according to sub-clause 7.18.4;
2> include the calculated START values for each CN domain in the IE \"_START
List_ \" in the structure \"_Uplink Counter Synchronisation Info_ \";
1> if the handover is performed from UTRAN and RADIO BEARER RECONFIGURATION
message is received _:_
2> set the 20 most significant bits of the uplink and downlink HFN component
of COUNT-C of SRB2 to MAX (uplink HFN~U~, downlink HFN~U~) where HFN~U~ is the
HFN component of COUNT-C of SRB2 in UTRAN;
2> set the remaining bits of the uplink and downlink HFN component of COUNT-C
of SRB2 equal to zero;
2> increment by one the downlink and uplink values of the HFN component of
COUNT-C for SRB2;
2> calculate the START value according to sub-clause 7.18;
2> include the calculated START values for each CN domain in the IE \"_START
list_ \" in the RADIO BEARER RECONFIGURATION COMPLETE message;
2> set the variable LATEST_CONFIGURED_CN_DOMAIN equal to the corresponding
UTRAN variable _;_
2> set the variable MS_CAPABILITY_TRANSFERRED equal to the corresponding UTRAN
variable _;_
2> set the variable ESTABLISHED_RABS equal to the corresponding UTRAN variable
_;_
2> set the variable ESTABLISHED_SIGNALLING_CONNECTIONS equal to the
corresponding UTRAN variable _;_
2> set the variable CIPHERING_STATUS equal to the corresponding UTRAN variable
_;_
2> set the variable START_THRESHOLD equal to the corresponding UTRAN variable
_;_
2> set the variable START_VALUE_TO_TRANSMIT equal to the corresponding UTRAN
variable _;_
2> set IE "_Status_ " for the ciphering status in the the variable
SECURITY_MODIFICATION equal to the corresponding UTRAN variable;
2> set IE "_Status_ " for the integrity protection in the the variable
INTEGRITY_PROTECTION_INFO equal to the corresponding UTRAN variable;
1> if inter-mode handover is performed from A/Gb _mode_ and RADIO BEARER
RECONFIGURATION message is received:
2> store G-RNTI value (32 bits), which is derived by the IEs \"_SRNC identity_
\" (12 bits) and \"S-RNTI\" (20 bits) shall be derived by padding the IE
\"S-RNTI \" with 10 zero bits in the most significant positions; and
2> initialise the variable ESTABLISHED_SIGNALLING_CONNECTIONS with the
signalling connections that remains after the handover according to the
specifications of the source;
2> initialise the variable MS_CAPABILITIES_TRANSFERRED with the MS
capabilities that have been transferred to the network up to the point prior
to the handover, if any;
2> initialise the variable TIMERS_AND_CONSTANTS to the default values and
start to use values;
2> set the IE \"_START_ \" for each CN domain, in the IE \"_START list_ \" in
the RADIO BEARER RECONFIGURATION COMPLETE message equal to the START value for
each CN domain stored in the USIM if the USIM is present, or as stored in the
MS for each CN domain if the SIM is present; and then;
2> set the value of \"THRESHOLD\" in the variable START_THRESHOLD to the 20
MSBs of the value stored in the USIM (see 3GPP TS 31.102) for the maximum
value of START for each CN Domain, or to the default value in 3GPP TS 33.102
if the SIM is present.
Keys received while in A/Gb _mode_ shall not be regarded as "new" (i.e not
trigger the actions in 7.16.1.2.3.1) in a subsequent security control
procedure in GERAN (_Iu mode_), irrespective of whether the keys are already
being used in _A/Gb mode_ or not. If the MS has received new keys in A/Gb
_mode_ before handover, then the START values in the USIM (sent in the RADIO
BEARER RECONFIGURATION COMPLETE message to BSS) will not reflect the receipt
of these new keys. At a subsequent Security Mode Control procedure in GERAN
_Iu mode_ , the MS shall activate ciphering and/or integrity protection using
the key set stored in USIM/SIM.
2> if ciphering has been activated and ongoing in _A/Gb mode_ when the
handover is performed:
3> for the CN domain included in the IE \"_CN Domain Identity_ \" which is
included in the IE \"_RAB Information to Reconfigure_ \", or the CS domain
when these IEs are not present:
4> set the variable LATEST_CONFIGURED_CN_DOMAIN to the value indicated in the
IE \"_CN Domain Identity_ \", or to the CS domain when this IE is not present;
4> set the 20 MSB of the HFN component of the COUNT-C variable for all radio
bearers using RLC-TM and all signalling radio bearers to the \"START\" value
included in the IE \" _GERAN A/Gb Security_ _Info_ \";
4> set the remaining LSBs of the HFN component of COUNT-C for all radio
bearers using RLC-TM and all signalling radio bearers to zero;
4> not increment the HFN component of COUNT-C for radio bearers using RLC-TM;
4> set the IE \"_Status_ \" in the variable CIPHERING_STATUS to \"Started\";
4> apply the algorithm according to IE \"_Ciphering Algorithm_ \" with the
ciphering key set stored in the USIM/SIM and apply ciphering immediately upon
reception of the RADIO BEARER RECONFIGURATION message.
If ciphering has been activated and ongoing in the A/Gb _mode_ from which
inter mode handover is performed, GERAN Iu _mode_ should not include the IE
"_Ciphering Mode Info_ " in the SECURITY MODE COMMAND message that starts
Integrity protection.
2> if ciphering has not been activated and ongoing in the source BSS:
3> for the CN domain included in the IE \"_CN Domain Identity_ \" which is
included in the IE \"_RAB_ _Information To Reconfigure_ \", or the CS domain
when these IEs are not present:
4> set the IE \"_Status_ \" in the variable CIPHERING_STATUS to \"_Not
Started_ \".
2> if the MS has successfully connected to GERAN _Iu mode_ then
3> Set the START value stored in the USIM (see 3GPP TS 31.102) if present, and
as stored in the MS if the SIM is present for any CN domain to the value
\"THRESHOLD\" of the variable START_THRESHOLD;
1> if the received reconfiguration message did not include the structure
\"_Downlink Counter Synchronisation Info_ \":
2> if the variable START_VALUE_TO_TRANSMIT is set:
3> include and set the IE \"_START_ \" to the value of that variable;
2> if the variable START_VALUE_TO_TRANSMIT is not set and the IE \"_New
G-RNTI_ \" is included:
3> calculate the START value according to sub-clause 7.18.4;
3> include the calculated START values for each CN domain in the IE \"_START
List_ \" in the structure \"Uplink Counter Synchronisation Info\";
2> if the received reconfiguration message caused a change in the RLC size for
any RB using RLC-AM:
3> calculate the START value according to sub-clause 7.18.4;
3> include the calculated START values for the CN domain associated with the
corresponding RB identity in the IE \"_START List_ \" in the structure
\"Uplink Counter Synchronisation Info\".
1> if the received reconfiguration message contained the IE \"_Ciphering Mode
Info_ \" or contained the IE \"_Integrity Protection Mode Info_ \":
2> set the IE "_Status_ " in the variable SECURITY_MODIFICATION for all the CN
domains in the variable SECURITY_MODIFICATION to "Affected";
1> if the received reconfiguration message (contained the IE \"_Ciphering Mode
Info_ \":
2> include and set the IE \"_Radio Bearer Uplink Ciphering Activation Time
Info_ \" to the value of the variable
RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
1> if the received reconfiguration message did not contain the IE \"_Ciphering
Activation Time for DBPSCH_ \" in the IE \"_Ciphering Mode Info_ \":
2> if prior to this procedure there exist no transparent mode RLC radio
bearers for the CN domain indicated in the IE \"_CN Domain Identity_ \" in the
IE \"_RAB info_ \":
3> if, at the conclusion of this procedure, the MS will be in RRC-
Cell_Dedicated state; and
3> if, at the conclusion of this procedure, at least one transparent mode RLC
radio bearer exists for the CN domain indicated in the IE \"_CN Domain
Identity_ \" in the IE \"_RAB info_ \":
4> include the IE \"_COUNT-C Activation Time_ \" and specify a TDMA frame
number for this IE.
NOTE: GERAN does not include the IE \"_Ciphering Mode Info_ \" in any
reconfiguration messages unless it is also used to perform an SBSS relocation
with change of ciphering algorithm.
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the received message in the table
\"Accepted transactions\" in the variable TRANSACTIONS; and
1> clear that entry;
1> if the variable PDCP_SN_INFO is not empty:
2> include the IE \"_RB with PDCP Information List_ \" and set it to the value
of the variable PDCP_SN_INFO;
1> if the IE \"_Integrity Protection Mode Info_ \" was present in the received
reconfiguration message
2> start applying the new integrity protection configuration in the uplink for
SRB2 from and including the transmitted response message.
If after state transition the MS enters RRC-GRA_PCH state, the MS shall, after
the transmission of the response message:
1> if the criteria for GRA Update caused by \"GRA reselection\" according to
sub-clause 7.8 is fulfilled:
2> initiate a GRA Update procedure according to sub-clause 7.8 using the cause
\"GRA reselection\";
2> when the GRA Update procedure completed:
3> the procedure ends.
#### 7.14.1.4 Transmission of a response message by the MS, normal case
In case the procedure was triggered by reception of a RADIO BEARER SETUP
message, the MS shall:
1> transmit a RADIO BEARER SETUP COMPLETE as response message on the uplink
SRB2
In case the procedure was triggered by reception of a RADIO BEARER
RECONFIGURATION message, the MS shall:
1> transmit a RADIO BEARER RECONFIGURATION COMPLETE as response message on the
uplink SRB2 ;
In case the procedure was triggered by reception of a RADIO BEARER RELEASE
message, the MS shall:
1> transmit a RADIO BEARER RELEASE COMPLETE as response message on the uplink
SRB2;
If the new RRC state is RRC-Cell_Dedicated state or RRC-Cell_Shared state, the
response message shall be transmitted using the new configuration after the
state transition, and the MS shall:
1> if the structure \"Downlink Counter Synchronization Info\" was included in
the reconfiguration message; or
1> if the received reconfiguration message is a RADIO BEARER RECONFIGURATION
and the IE \"_New G-RNTI_ \" is included:
2> when RLC sub-layer has confirmed the successful transmission of the
response message:
3> if the variable PDCP_SN_INFO is empty:
4> configure the RLC entity for all AM and UM radio bearers and AM and UM
signalling radio bearers except SRB2 to \"continue\";
3> else:
4> configure the RLC entity for signalling radio bearers SRB1, SRB3 and SRB4
to \"continue\";
4> configure the RLC entity for UM and AM radio bearers for which the IE
"_PDCP SN Info_ " is not included to "continue";
3> re-establish all AM and UM RLC entities with RB identities larger than 4
and set the first 20 bits of all the HFN component of the respective COUNT-C
values to the START value included in the response message for the
corresponding CN domain;
3> re-establish the RLC entities with RB identities 1, 3 and 4 and set the
first 20 bits of all their HFN component of the respective COUNT-C values to
the START value included in the response message for the CN domain stored in
the variable LATEST_CONFIGURED_CN_DOMAIN;
3> set the remaining bits of the HFN component of COUNT-C values of all UM RLC
entities to zero;
3> set the remaining bits of the HFN component of the COUNT-C values of all AM
RLC entities to zero, for those bearers to which RLC entitie where re-
established;
3> if the IE \"_PDCP Context Relocation Info_ \" is not present:
4> re-initialise the PDCP header compression entities of each radio bearer in
the variable ESTABLISHED_RABS as specified in 3GPP TS 25.323.
3> if the IE \"_PDCP Context Relocation Info_ \" is present:
4> perform the actions as specified in 7.19.
1> if the variable PDCP_SN_INFO is empty:
2> if the received reconfiguration message contained the IE \"_Ciphering Mode
Info_ \":
3> when RLC sub-layer has confirmed the successful transmission of the
response message:
4> notify upper layers upon change of the security configuration;
4> perform the actions below;
2> if the received reconfiguration message did not contain the IE \"_Ciphering
Mode Info_ \":
3> when RLC sub-layer has been requested to transmit the response message:
4> perform the actions below;
1> if the variable PDCP_SN_INFO is non-empty:
2> when RLC sub-layer has confirmed the successful transmission of the
response message:
3> for each radio bearer in the variable PDCP_SN_INFO:
4> if the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS is set to
\"started\":
5> configure the RLC entity for that radio bearer to \"continue\";
3> perform the actions below.
If the IE "_Synchronization Indication_ " is present in the RADIO BEARER
RECONFIGURATION and if requested in the IE "_Synchronization Indication_ ",
the mobile station shall:
1> include the observed time difference which it has measured when performing
reconfiguration of the physical channels, corrected by half the timing advance
received in the IE \"_Timing Advance_ \" in the RADIO BEARER RECONFIGURATION
COMPLETE message (detailed specifications are given in 3GPP TS 45.010).
If the new RRC state is RRC-GRA_PCH state, the response message shall be
transmitted using the old configuration before the state transition and the MS
shall:
1> when RLC sub-layer has confirmed the successful transmission of the
response message:
2> for each radio bearer in the variable PDCP_SN_INFO:
3> if the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS is set to
\"started\":
4> configure the RLC entity for that radio bearer to \"continue\";
2> enter the new RRC state (RRC-Cell_Shared state or RRC-GRA_PCH state,
respectively);
2> perform the actions below.
The MS shall:
1> set the variable ORDERED_RECONFIGURATION to FALSE;
1> if the received reconfiguration message contained the IE _\"Ciphering Mode
Info\":_
2> resume data transmission on any suspended radio bearer and signalling radio
bearer mapped on RLC-AM or RLC-UM;
2> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
1> if the received reconfiguration message contained the IE _\"Integrity
Protection Mode Info\":_
2> allow the transmission of RRC messages on all signalling radio bearers with
any RRC SN;
2> set the IE \"Reconfiguration\" in the variable INTEGRITY_PROTECTION_INFO to
FALSE; and
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
1> clear the variable PDCP_SN_INFO;
1> clear the variable START_VALUE_TO_TRANSMIT;
1> clear the variable SECURITY_MODIFICATION _;_
1> continue RLC operation.
#### 7.14.1.5 Reception of a response message by the GERAN, normal case
When GERAN has received one of the following reconfiguration response
messages:
\- RADIO BEARER SETUP COMPLETE message; or
\- RADIO BEARER RECONFIGURATION COMPLETE message; or
\- RADIO BEARER RELEASE COMPLETE message;
GERAN shall delete the old configuration.
If the IE \"_START_ \" or the IE \"_START List_ \" is included in
reconfiguration response message, the GERAN shall:
1> set the START value for each CN domain with the corresponding values as
received in this response message;
1> consequently, then use the START values to initialise the hyper frame
numbers, in the same way as specified for the MS in sub-clause 7.14.1.3, for
any new radio bearers that are established.
If GERAN has ordered a ciphering reconfiguration by including the IE
\"_Ciphering Mode Info_ \", GERAN shall:
1> For radio bearers using RLC-AM or RLC-UM:
2> use the old ciphering configuration for received RLC PDUs with RLC sequence
number less than the RLC sequence number indicated in the IE \"_Radio Bearer
Uplink Ciphering Activation Time Info_ \" sent by the MS;
2> use the new ciphering configuration for received RLC PDUs with RLC sequence
number greater than or equal to the RLC sequence number indicated in the IE
\"_Radio Bearer Uplink Ciphering Activation Time Info_ \" sent by the MS;
2> if an RLC reset or re-establishment occurs after the reconfiguration
response message has been received by the GERAN before the activation time for
the new ciphering configuration has been reached:
3> ignore the activation time; and
3> apply the new ciphering configuration immediately after the RLC reset or
RLC re-establishment.
1> For radio bearers using RLC-TM:
2> use the new ciphering configuration and only begin incrementing the COUNT-C
at the TDMA FRAME NUMBER as indicated in:
3> the IE \"_Ciphering Activation Time for DBPSCH_ \" in the IE \"_Ciphering
Mode Info_ \", if included in the message that triggered the radio bearer
control procedure; or
3> the IE \"_COUNT-C Activation Time_ \", if included in the response message
for this procedure.
1> the procedure ends on the GERAN side
#### 7.14.1.6 Unsupported configuration in the MS
If the GERAN instructs the MS to use a configuration, which it does not
support and/or if the received message causes the variable
UNSUPPORTED_CONFIGURATION to be set to TRUE, the MS shall:
1> transmit a failure response as specified in sub-clause 7.14.1.9, setting
the information elements as specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC Transaction Identifier\" in the entry for the
received message in the table \"Accepted transactions\" in the variable
TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to \"configuration unsupported\";
1> set the variable UNSUPPORTED_CONFIGURATION to FALSE;
1> continue with any ongoing processes and procedures as if the
reconfiguration message was not received.
The procedure ends.
#### 7.14.1.7 Physical channel failure
A physical channel failure occurs in case the criteria defined in 7.18 are not
fulfilled.
If the received message (a RADIO BEARER SETUP message, a RADIO BEARER
RECONFIGURATION message or a RADIO BEARER RELEASE message) causes the MS to
enter in RRC-Cell_Dedicated state and the MS fails to establish the basic
physical subchannel(s) indicated in the received message the MS shall:
1> revert to the configuration prior to the reception of the message (old
configuration);
1> if the old configuration includes dedicated physical channels (RRC-
Cell_Dedicated state) and the MS is unable to revert to the old configuration:
2> initiate a Cell Update procedure according to sub-clause 7.8, using the
cause \"radio link failure\";
2> after the Cell Update procedure has completed successfully:
3> proceed as below;
1> if the old configuration does not include dedicated physical channels (RRC-
Cell_Shared state):
2> select a suitable GRA cell according to 7.8;
2> if the MS selects another cell than the cell the MS camped on upon
reception of the reconfiguration message :
3> initiate a Cell Update procedure according to sub-clause 7.8, using the
cause \"cell reselection\";
3> after the Cell Update procedure has completed successfully:
4> proceed as below;
1> transmit a failure response message as specified in sub-clause 7.14.1.9,
setting the information elements as specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC transaction identifier\" in the entry for the
received message in the table \"Accepted transactions\" in the variable
TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to \"physical channel failure\";
1> set the variable ORDERED_RECONFURATION to FALSE;
1> continue with any ongoing processes and procedures as if the
reconfiguration message was not received;
The procedure ends.
If the criteria for radio link failure is met in the old configuration during
the reconfiguration procedure as specified in sub-clause 7.18.8 the MS shall:
1> if MS would have entered in RRC-GRA_PCH state as a successful completion of
this reconfiguration procedure and MS has already submitted a response message
to lower layers:
> 2> initiate a Cell Update procedure according to sub-clause 7.8.1.3, using
> the cause \"radio link failure\";
2> the procedure ends.If the criteria for radio link failure is met in the new
configuration during the reconfiguration procedure (i.e. while MS is waiting
for RLC acknowledgement for a response message.) the MS shall act as specified
in sub-clause 7.18.8 and in addition it shall:
1> if the received reconfiguration causes:
\- the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to be set to
TRUE; or
\- the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO to
be set to TRUE
2> perform the actions specified in sub-clause 7.14.1.12.2.
#### 7.14.1.8 Cell re-selection
If the MS performs cell re-selection during the reconfiguration procedure, the
MS shall:
1> initiate a Cell Update procedure, as specified in sub-clause 7.8;
1> continue with the Reconfiguration procedure.
#### 7.14.1.9 Transmission of a response message by the MS, failure case
The MS shall:
1> in case of reception of a RADIO BEARER SETUP message:
2> if the Radio Bearer Establishment procedure affects several radio bearers:
3> (may) include the identities of the radio bearers for which the procedure
would have been successful into the RADIO BEARER SETUP FAILURE message;
2> transmit a RADIO BEARER SETUP FAILURE as response message on the SRB2;
1> in case of reception of a RADIO BEARER RECONFIGURATION message:
2> if the Radio Bearer Reconfiguration procedure affects several radio
bearers:
3> (may) include the identities of the radio bearers for which the procedure
would have been successful into the RADIO BEARER RECONFIGURATION FAILURE
message;
2> transmit a RADIO BEARER RECONFIGURATION FAILURE as response message on the
SRB2;
1> in case of reception of a RADIO BEARER RELEASE message:
2> if the Radio Bearer Release procedure affects several radio bearers:
3> (may) include the identities of the radio bearers for which the procedure
would have been successful into the RADIO BEARER RELEASE FAILURE message;
2> transmit a RADIO BEARER RELEASE FAILURE as response message on the SRB2;
1> when the response message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if no reconfiguration
attempt had occurred;
2> if a lower layer failure happens while attempting to connect back to the
old channels, the standard rules are applied according to 7.19.4.5.
#### 7.14.1.10 Reception of a response message by the GERAN, failure case
When the GERAN has received:
\- the RADIO BEARER SETUP FAILURE message; or
\- the RADIO BEARER RECONFIGURATION FAILURE message; or
\- the RADIO BEARER RELEASE FAILURE message
the GERAN may restore the old and delete the new configuration. Upper layers
shall be notified of the failure.
The procedure ends on the GERAN side.
#### 7.14.1.11 Invalid configuration
If the variable INVALID_CONFIGURATION is set to TRUE the MS shall:
1> keep the configuration existing before the reception of the message;
1> transmit a failure response message as specified in sub-clause 7.14.1.9,
setting the information elements as specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
3> set it to the value of \"RRC transaction identifier\" in the entry for the
received message in the table \"Accepted transactions\" in the variable
TRANSACTIONS; and
3> clear that entry;
2> set the IE \"_Failure Cause_ \" to \"invalid configuration\";
1> set the variable INVALID_CONFIGURATION to FALSE;
1> continue with any ongoing processes and procedures as if the
reconfiguration message was not received;
The procedure ends.
#### 7.14.1.12 Incompatible simultaneous reconfiguration
If the table \"Rejected transactions\" in the variable TRANSACTIONS is set due
to the received message and the variable PROTOCOL_ERROR_REJECT is set to
FALSE, the MS shall:
1> not apply the configuration contained in the received reconfiguration
message;
1> transmit a failure response message as specified in sub-clause 7.14.1.9,
setting the information elements as specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC transaction identifier\" in the entry for the
received message in the table \"Rejected transactions\" in the variable
TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to \"incompatible simultaneous
reconfiguration\";
1> continue with any ongoing processes and procedures as if the
reconfiguration message was not received;
The procedure ends.
#### 7.14.1.12.1 Incompatible simultaneous security reconfiguration
If the variable INCOMPATIBLE_SECURITY_RECONFIGURATION is set to TRUE due to
the received reconfiguration message, the MS shall:
1> transmit a failure response message as specified in sub-clause 7.14.1.9,
setting the information elements as specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC transaction identifier\" in the entry for the
received message in the table \"Accepted transactions\" in the variable
TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to the cause value \"incompatible
simultaneous reconfiguration\";
1> set the variable INCOMPATIBLE_SECURITY_RECONFIGURATION to FALSE;
1> continue with any ongoing processes and procedures as if the
reconfiguration message was not received.
The procedure ends.
#### 7.14.1.12.2 Cell Update procedure during security reconfiguration
If:
\- a Cell Update procedure according to sub-clause 7.8.1 is initiated; and
\- the received reconfiguration message causes either,
\- the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to be set to
TRUE; and/or
\- the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO to
be set to TRUE;
the MS shall:
1> release all radio resources;
1> indicate the release of the established signalling connections (as stored
in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established radio
access bearers (as stored in the variable ESTABLISHED_RABS) to upper layers;
and
1> clear any entry for the RRC CONNECTION RELEASE message in the tables
\"Accepted transactions\" and \"Rejected transactions\" in the variable
TRANSACTIONS;
1> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
1> clear the variable ESTABLISHED_RABS;
1> if the received reconfiguration message contained the IE \"_Ciphering Mode
Info_ \":
2> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
2> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;2> clear the
variable SECURITY_MODIFICATION.
1> if the received reconfiguration message contained the IE \"_Integrity
Protection Mode Info_ \":
2> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
2> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
1> enter RRC-Idle mode;
1> perform the actions specified in clause 6 and sub-clause 7.18 when entering
RRC- Idle mode from RRC-Connected mode;
1> the procedure ends.
NOTE: The GERAN shall use radio bearer control messages to perform an SBSS
relocation only in case of state transitions from RRC-CELL_Dedicated to RRC-
Cell-CELL_Dedicated state.
#### 7.14.1.13 Invalid received message
If the received reconfiguration message contains a protocol error causing the
variable PROTOCOL_ERROR_REJECT to be set to TRUE according to sub-clause 8,
the MSshall perform procedure specific error handling as follows. The MS
shall:
1> transmit a failure response message as specified in sub-clause 7.14.1.9,
setting the information elements as specified below:
2> include the IE \"_RRC Transaction Identifier_ \"; and
2> set it to the value of \"RRC transaction identifier\" in the entry for the
received message in the table \"Rejected transactions\" in the variable
TRANSACTIONS; and
2> clear that entry;
2> set the IE \"_Failure Cause_ \" to the cause value \"protocol error\";
2> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION.
1> continue with any ongoing processes and procedures as if the
reconfiguration message was not received.
#### 7.14.1.14 Abnormal cases
If the mobile station has no current CA and if it needs a CA to analyse one of
the messages RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION, or RADIO
BEARER RELEASE the MS shall:
1> stay on the current channel(s); and
1> send the failure message according to sub-clause 7.14.1.9 with cause \"no
cell allocation available\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4.
If the RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION or RADIO BEARER
RELEASE message instructs the MS to use a Channel Description or Channel Mode
that it does not support, or if the Channel Mode to use is not defined for all
channel sets, then the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"channel mode unacceptable\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s) and use the old Channel Description or
Channel Mode(s).
If the RADIO BEARER SETUP, RADIO BEARER RECONFIGURATION or RADIO BEARER
RELEASE message instructs the MS to use a Modulation or Interleaving for FLO
configuration that it does not support, or if the Mode and Modulation to use
is not defined for all channel sets, then the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"channel mode unacceptable\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s) and use the old configuration.
If the mobile station receives the RADIO BEARER SETUP or RADIO BEARER
RECONFIGURATION or RADIO BEARER RELEASE message containing an inconsistent IE
\"_MultiRate Configuration_ \", then the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"channel mode unacceptable\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s) and use the old Channel Description or
Channel Mode(s).
If during the initial assignment of the multirate speech the mobile station
receives RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION or RADIO BEARER
RELEASE message and the IE \"_MultiRate Configuration_ \" is not present, then
the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"channel mode unacceptable\"; and
1> act and set the variables according with the sub-clause 7.19.; and
1> remain on the current channel(s) and use the old Channel Description or
Channel Mode(s).
If the RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION or RADIO BEARER
RELEASE message instructs the mobile station to use a frequency that it is not
capable of, then the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"frequency not implemented\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s).
If MS receives the RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION or RADIO
BEARER RELEASE message with a IE \"_Frequency List_ \" indicating frequencies
that are not all in one band, then the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"frequency not implemented\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s).
If the mobile station receives the RADIO BEARER SETUP or RADIO BEARER
RECONFIGURATION or READIO BEARER RELEASE message with a IE _Mobile Allocation_
indexing frequencies that are not all in one band, then the mobile station
shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"frequency not implemented\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s).
NOTE: A RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION or RADIO BEARER
RELEASE message sent to a multi band mobile station shall not be considered
invalid because it indicates frequencies that are all in a different frequency
band to that of the current channel.
If the mobile station receives RADIO BEARER RECONFIGURATION message with a IE
_Mobile Allocation_ indexing frequencies that are not all in one band and a IE
_Starting Time_ indicating a time that has not elapsed then the mobile station
shall:
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s).
1> send a RRC STATUS message with cause \"frequency not implemented\".
If the mobile station receives a RADIO BEARER RECONFIGURATION message with a
IE \"_Mobile Allocation_ \" indexing frequencies that are not all in one band
and a IE \"_Starting Time_ \" indicating a time that has elapsed, then the
mobile station shall act and set the variables according with the sub-clause
7.19.
If the mobile station receives a RADIO BEARER RECONFIGURATION message with the
IE \"_Synchronization Indication_ \" and the IE "_Timing Advance_ " included;
and
If synchronous or pseudo-synchronous (see sub-clause 7.18.6) physical channel
establisment is performed, when using Radio Bearer Reconfiguration procedure;
and
If the mobile station knows that the timing advance with the new cell is out
of range, i.e. is bigger than the maximum timing advance that can be coded as
specified in 3GPP TS 44.004; and
If the new cell does not accept out of range timing advance as indicated in
the RADIO BEARER RECONFIGURATION message, the mobile station shall:
1> send a a failure message according with sub-clause 7.14.1.9 on the SRB2 and
does not attempt that reconfiguration as defined in sublcause 7.14.1.3;
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s).
If the mobile station receives a RADIO BEARER RECONFIGURATION message with IE
\"_Frequency Short List_ \" indicating frequencies that are not all in one
band, then the mobile station shall:
1> send the failure message according to sub-clause 7.14.1.9 with cause
\"frequency not implemented\"; and
1> act and set the variables according with the sub-clauses 7.19 and 10.4.;
and
1> remain on the current channel(s).
If "_Synchronization Indication_ " IE is present in RADIO BEARER
RECONFIGURATION message and if it indicates non- synchronized type of physical
channel establishment (see sub-clause 7.18.6), and if timer T3124 times out or
if a lower layer failure happens on the new channel before the RADIO BEARER
RECONFIGURATION COMPLETE message has been sent, the mobile station shall:
1> deactivate the new channels, reactivates the old channels;
1> reconnect the DBPSCHs if any;
1> then send a failure message as specified in sub-clause 7.14.1.9; and
1> resume normal operation as if no physical channel establishment (see sub-
clause 7.18.6) attempt had occurred. The operational parameters (e.g.
ciphering mode) when returning on the old channel are those applied before the
RADIO BEARER RECONFIGURATION message was received.
If the mobile station receives a RADIO BEARER RECONFIGURATION message and if
at least one of the following IEs, IE "_Handover Reference_ ", IE "_Power
Command and Access Type_ ", IE "_Cell Description_ " and IE "_Description of
the first channel after time_ " is not present, the MS shall:
1> send a a failure message according with sublcause 7.14.1.9 on the SRB2 and
does not attempt that reconfiguration as defined in sublcause 7.14.3;
1> act and set the variables according with the sub-clauses 7.19 and 10.4; and
1> remain on the current channel(s).
If the mobile station receives a RADIO BEARER RECONFIGURATION message and if
only IE "_Power Command_ " is present, the MS shall:
1> send a a failure message according with sublcause 7.14.1.9 on the SRB2 and
does not attempt that reconfiguration as defined in sublcause 7.14.3 and 10.4;
1> act and set the variables according with the sub-clause 7.19 and 10.4.
If IE "_SBPSCH Description_ " is present in the reconfiguration messages and
if RLC data blocks are not received in the T3190 seconds(as specified in TS
44.060), the mobile station shall:
1> deactivate the new channels, reactivates the old channels;
1> reconnect the SBPSCHs if any;
1> then send a failure message as specified in sub-clause 7.14.1.9 with a
cause "protocol error unspecified"; and
1> resume normal operation as if no physical channel establishment (see sub-
clause 7.18.6) attempt had occurred. The operational parameters (e.g.
ciphering mode) when returning on the old channel are those applied before the
reconfiguration message was received.
If IE "_SBPSCH Description_ " is present in the reconfiguration messages and
if the mobile station has been assigned more PDCHs than it supports according
to its MS multislot class or if the mobile station has been assigned a TBF in
EGPRS TBF mode and the MS does not support EGPRS, or if the MS has been
assigned an MCS (e.g. 8-PSK in the uplink) that the MS does not support or if
the failure is due to any other reason, return to MAC-Idle state and cell
reselection continues.
The MS shall:
1> then send a failure message as specified in sub-clause 7.14.1.9 with a
cause "protocol error unspecified"
### 7.14.2 MS initiated DTM procedures while in RRC-Cell_Dedicated-MAC-
Dedicated state
#### 7.14.2.1 General
While in RRC-Cell_Dedicated-MAC-Dedicated state, the establishment of one or
more SBPSCHs may be initiated by the RRC entity of the mobile station using
the DTM Request procedure. The procedure is used only for existing radio
bearers and is triggered by a request from upper layers to transfer an upper
layer PDU.
#### 7.14.2.2 Initiation of the DTM Request procedure by the MS
The mobile station initiates the DTM Request procedure by sending a GERAN Iu
mode DTM REQUEST message on the SRB2.
The MS shall set the IEs in the GERAN Iu mode DTM REQUEST message as follows:
1> calculate the START according to sub-clause 7.19.4 for the CN domain as set
in the IE \"_CN Domain Identity_ \"; and
2> include the calculated START value for that CN domain in the IE "_START_ ";
1> include IE "_Iu mode_ _RRC Channel RequestDescription_ " to indicate the
establishment cause, as applicable, a request to send user data, page response
or a mobility management message;
1> may include "_Integrity Check Info_ " IE. If the IE is included, act as is
specified in sub-clause 7.19.4.6;
The MS shall:
1> transmit the GERAN Iu mode DTM REQUEST message on the uplink SRB 2;
1> start timer T3148.
#### 7.14.2.3 Reception of a GERAN Iu mode DTM REQUEST message by the GERAN
##### 7.14.2.3.1 General
Upon receiving a GERAN Iu mode DTM REQUEST message, GERAN shall either:
1> transmit the RADIO BEARER RECONFIGURATION message on the downlink SRB 2 as
specified in sub-clause 7.14.2.3.2; or
1> transmit the GERAN Iu mode DTM REJECT message on the downlink SRB 2 as
specified in sub-clause 7.14.2.3.3.
##### 7.14.2.3.2 SBPSCH assignment
On receipt of a GERAN Iu mode DTM REQUEST message the network may allocate one
or more uplink SBPSCH(s) for the mobile station. The SBPSCH(s) are assigned to
the mobile station in the RADIO BEARER RECONFIGURATION message.
The RADIO BEARER RECONFIGURATION is sent on SRB2 as specified in sub-clause
7.14.1. If frequency hopping is applied, the mobile station shall use the cell
allocation defined for the cell to decode the mobile allocation.
The allocation of the uplink SBPSCH(s) may imply the reallocation of the
DBPSCH(s). The RADIO BEARER RECONFIGURATION message shall not be used to
change to a dependent configuration.
On receipt of a RADIO BEARER RECONFIGURATION message the mobile station shall
stop T3148.
If the received RADIO BEARER RECONFIGURATION message includes uplink
SBPSCH(s), the mobile station shall proceed as specified in sub-clause
7.14.1.3. If the received RADIO BEARER RECONFIGURATION message includes
downlink SBPSCH(s) and no uplink SBPSCH(s), the mobile station shall stop
T3148, abort the DTM request procedure and proceed as specified in sub-clause
7.14.1.3, and then attempt an establishment of uplink TBF, using the
applicable procedure specified in 3GPP TS 44.160.
If the RADIO BEARER RECONFIGURATION includes allocation of one or more uplink
SBPSCHs but the resources can not be allocated for all RBs requested by the
mobile station, then failure is triggered for the radio bearers to which
resources where not granted and T3148 is stopped. Request of resources for
failed RBs is then done as specified in 3GPP TS 44.160.
##### 7.14.2.3.3 DTM Request rejection
If the network cannot allocate the requested SBPSCH(s) it may send to the
mobile station a GERAN Iu mode DTM REJECT message on the SRB2. This message
shall contain
1> the \"_Wait Indication_ \" IE;
1> the "_RB Identity_ " IE set to the RB_IDENTITY;
1> the \"_RRC transaction identifier_ \" IE set to the the value of \"RRC
transaction identifier\" in the entry for the GERAN Iu mode DTM REJECT message
in the table \"Rejected transactions\" in the variable TRANSACTIONS;
1> the \"_Failure Cause_ \" IE set to the cause value \"protocol error\";
1> the \"_Protocol Error Information_ \" IE with contents set to the value of
the variable PROTOCOL_ERROR_INFORMATION.
##### 7.14.2.3.4 Reception of a GERAN Iu mode DTM REJECT message by the MS,
normal case
On receipt of the GERAN Iu mode DTM REJECT message, the mobile station shall:
1> stop T3148;
1> notify upper layers of a SBPSCH establishment failure;
1> start timer T3142 with the value given in the \"_Wait Indication_ \"
information element.
The mobile station is not allowed to make a new attempt for a DTM request
procedure in the same cell until T3142 expires. The value of the wait
indication (i.e. T3142) relates to the cell from which it was received.
After sending GERAN Iu mode DTM REQUEST message the MS shall wait for the
response from the network or expiry of timer T3148 before it may initiate new
DTM Request procedure.
The GERAN Iu mode DTM Reject procedure rejects all pending requests that were
sent in the previous GERAN Iu mode DTM Request message.
##### 7.14.2.3.5 Invalid GERAN Iu mode DTM REJECT message
If the MS receives an GERAN Iu mode DTM REJECT message which contains a
protocol error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE
according to sub-clause 8, the MS shall perform procedure specific error
handling as follows:
The MS shall:
1> set the variable PROTOCOL_ERROR_INDICATOR to TRUE;
1> set the IEs in the GERAN Iu mode DTM REQUEST message as specified in sub-
clause 7.14.2.2;
1> transmit the GERAN Iu mode DTM REQUEST message on the uplink SRB 2;
1> start timer T3148.
#### 7.14.2.4 Abnormal cases
Abnormal cases related to radio bearer reconfiguration procedures are defined
in sub-clause 7.14.1.14.
In the following cases a GERAN Iu mode DTM Request failure has occurred:
\- At expiry of T3148;
\- If a RADIO BEARER RECONFIGURATION message indicates resources in a non-
supported frequency band. The cause value is \"frequency not implemented\".
The actions are defined in sub-clause 7.14.1.14.
\- If the information available in the mobile station after the reception of a
RADIO BEARER RECONFIGURATION message does not satisfactorily define uplink
packet resources. The cause value is \"protocol error unspecified\". The
actions are defined in sub-clause 7.14.1.14.
\- If a RADIO BEARER RECONFIGURATION message includes a mobile allocation or a
frequency list that indexes frequencies in more than one frequency band. The
cause value is \"frequency not implemented\". The actions are defined in sub-
clause 7.14.1.14.
\- If a RADIO BEARER RECONFIGURATION message assigns resources not compliant
with the multislot capabilities of the mobile station. The cause value is
\"channel mode unacceptable\". The actions are defined in sub-clause
7.14.1.14.
\- If the mobile station has no current CA and if it needs a CA to analyse the
RADIO BEARER RECONFIGURATION message. The cause value is \"no cell allocation
available\". The actions are defined in sub-clause 7.14.1.14.
\- If the RADIO BEARER RECONFIGURATION message instructs the mobile station to
use a channel description or mode that it does not support. The cause value is
\"channel mode unacceptable\". The actions are defined in sub-clause
7.14.1.14.
\- If the RADIO BEARER RECONFIGURATION message does not include any uplink or
downlink packet resources. The cause value is \"protocol error unspecified \".
The actions are defined in sub-clause 7.14.1.4.
#### 7.14.2.5 T3148 expiry
> On expiry of timer T3148 DTM Request procedure has failed on the mobile
> station side. The mobile station shall then reinitiate DTM Request procedure
> unless it has already been reinitiated 4 times. In that case DTM Request
> procedure shall be aborted.
## 7.15 Signalling flow procedures
### 7.15.1 Signalling connection release procedure
#### 7.15.1.1 General
Figure 7.15.1.1.1: Signalling Connection Release procedure, normal case
The Signalling Connection Release procedure is used to notify to the MS that
one of its ongoing signalling connections has been released. The procedure
does not initiate the release of the RRC connection.
#### 7.15.1.2 Initiation of SIGNALLING CONNECTION RELEASE by the GERAN
To initiate the procedure, the GERAN transmits a SIGNALLING CONNECTION RELEASE
message on SRB 2 .
#### 7.15.1.3 Reception of SIGNALLING CONNECTION RELEASE by the MS
Upon reception of a SIGNALLING CONNECTION RELEASE message, the MS shall:
1> indicate the release of the signalling connection and pass the value of the
IE \"_CN Domain Identity_ \" to upper layers;
1> remove the signalling connection with the identity indicated by the IE
\"_CN Domain Identity_ \" from the variable
ESTABLISHED_SIGNALLING_CONNECTIONS;
1> clear the entry for the SIGNALLING CONNECTION RELEASE message in the table
\"Accepted transactions\" in the variable TRANSACTIONS;
1> the procedure ends.
#### 7.15.1.4 Invalid SIGNALLING CONNECTION RELEASE message
If the MS receives a SIGNALLING CONNECTION RELEASE message, which contains a
protocol error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE
according to sub-clause 8, the MS shall perform procedure specific error
handling as follows:
1> include the IE \"_Identification of Received Message_ \"; and
2> set the IE \"_Received Message Type_ \" to SIGNALLING CONNECTION RELEASE;
2> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the SIGNALLING CONNECTION RELEASE
message in the table \"Rejected transactions\" in the variable TRANSACTIONS;
and
2> clear that entry;
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION;
1> transmit an RRC STATUS message on SRB 2 uplink;
1> when the RRC STATUS message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
SIGNALLING CONNECTION RELEASE message has not been received.
#### 7.15.1.5 Invalid configuration
If radio access bearers for the CN domain indicated by the IE \"CN domain
identity\" exist in the variable ESTABLISHED_RABS, the MS shall:
1> transmit an RRC STATUS message on SRB 2 uplink using AM RLC;
1> include the IE \"_Identification of Received Message_ \"; and
1> set the IE \"_Received Message Type_ \" to SIGNALLING CONNECTION RELEASE;
and
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the SIGNALLING CONNECTION RELEASE
message in the table \"Accepted transactions\" in the variable TRANSACTIONS
and clear that entry;
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value \"Message not compatible with receiver state\";
1> when the RRC STATUS message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
SIGNALLING CONNECTION RELEASE message has not been received.
### 7.15.2 Signalling connection release indication procedure
#### 7.15.2.1 General
Figure 7.15.2.1.1: Signalling Connection Release Indication procedure, normal
case
The Signalling Connection Release Indication procedure is used by the MS to
indicate to the GERAN that one of its signalling connections has been
released. The procedure may in turn initiate the RRC connection release
procedure.
#### 7.15.2.2 Initiation
The MS shall, on receiving a request to release (abort) the signalling
connection from upper layers:
1> if a signalling connection in the variable
ESTABLISHED_SIGNALLING_CONNECTIONS for the specific CN domain identified with
the IE \"_CN domain identity_ \" exists:
2> initiate the signalling connection release indication procedure.
1> otherwise:
2> abort any ongoing establishment of signalling connection for that specific
CN domain as specified in 7.15.2.2a.
Upon Initiation of the Signalling Connection Release Indication procedure in
RRC-GRA_PCH state, the MS shall:
1> perform a Cell Update procedure, according to sub-clause 7.8, using the
cause \"uplink data transmission\";
1> when the Cell Update procedure completed successfully:
2> continue with the signalling connection release indication procedure as
described below;
The MS shall:
1> set the IE \"_CN Domain Identity_ \" to the value indicated by the upper
layers. The value of the IE indicates the CN domain whose associated
signalling connection the upper layers are indicating to be released;
1> remove the signalling connection with the identity indicated by upper
layers from the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
1> transmit a SIGNALLING CONNECTION RELEASE INDICATION message on SRB 2.
When the successful delivery of the SIGNALLING CONNECTION RELEASE INDICATION
message has been confirmed by RLC sub-layer the procedure ends.
#### 7.15.2.2a RLC re-establishment, inter-mode handover or inter-RAT change
If a re-establishment of RLC on signalling radio bearer SRB2 occurs before the
successful delivery of the SIGNALLING CONNECTION RELEASE INDICATION message
has been confirmed by RLC sublayer, the MS shall:
1> retransmit the SIGNALLING CONNECTION RELEASE INDICATION message on the
uplink using signalling radio bearer SRB2.
If an inter-RAT handover from GERAN procedure occurs before the successful
delivery of the SIGNALLING CONNECTION RELEASE INDICATION message has been
confirmed by RLC sublayer, the MS shall:
1> abort the signalling connection while in the new RAT.
If an inter-mode handover procedure occurs before the successful delivery of
the SIGNALLING CONNECTION RELEASE INDICATION message has been confirmed by RLC
sublayer, the MS shall:
1> abort the signalling connection while in A/Gb mode _._
#### 7.15.2.3 Reception of SIGNALLING CONNECTION RELEASE INDICATION by the
GERAN
Upon reception of a SIGNALLING CONNECTION RELEASE INDICATION message, the
GERAN requests the release of the signalling connection from upper layers.
Upper layers may then initiate the release of the signalling connection.
## 7.16 Security mode control
### 7.16.1 Security mode control
Figure 7.16.1.1: Security mode control procedure
#### 7.16.1.1 General
The purpose of this procedure is to trigger the start of ciphering or to
command the restart of the ciphering with a new ciphering configuration, for
the radio bearers of one CN domain and for all signalling radio bearers.
It is also used to start integrity protection or to modify the integrity
protection configuration for all signalling radio bearers.
#### 7.16.1.2 Initiation
##### 7.16.1.2.1 Ciphering configuration change
To start/restart ciphering, GERAN sends a SECURITY MODE COMMAND message on one
downlink SRB2 using the most recent ciphering configuration. If no such
ciphering configuration exists then the SECURITY MODE COMMAND message is not
ciphered. The GERAN shall not transmit a SECURITY MODE COMMAND message to
signal a change in ciphering algorithm.
When configuring ciphering, GERAN shall ensure that the MS needs to store at
most two different ciphering configurations (keyset and algorithm) per CN
domain, in total over all radio bearers at any given time. For signalling
radio bearers the total number of ciphering configurations that need to be
stored is at most three.
Prior to sending the SECURITY MODE COMMAND message, for the CN domain
indicated in the IE \"_CN Domain Identity_ \" in the SECURITY MODE COMMAND
message, the GERAN shall:
1> suspend all radio bearers using RLC-AM or RLC-UM and suspend all signalling
radio bearers using RLC-AM or RLC-UM, except the signalling radio bearer used
to send the SECURITY MODE COMMAND message on the downlink SRB2 according to
the following:
2> send an indication to lower layers:
3> not to transmit RLC PDUs with sequence number greater than or equal to the
number in IE "_RB Downlink Ciphering Activation Time Info_ " in the IE
"_Ciphering Mode Info_ " on all suspended radio bearers and all suspended
signalling radio bearers;
3> set, for the signalling radio bearer used to send the SECURITY MODE COMMAND
message, the \"RLC sequence number\" in IE \"_RB Downlink Ciphering Activation
Time Info_ \" in the IE \"_Ciphering Mode Info_ \", at which time the new
ciphering configuration shall be applied;
1> if a transparent mode radio bearer for this CN domain exists
2> include the \"Ciphering Activation Time for DBPSCH\" in IE \"_Ciphering
Mode Info_ \", at which time the new ciphering configuration shall be applied;
2> GERAN chooses the value for the \" Ciphering Activation Time for DBPSCH \"
such that the new ciphering configuration will occur after all the pending
ciphering activation times have been reached for the transparent mode radio
bearers of this CN domain.
1> consider an ciphering activation time in downlink to be pending until the
RLC sequence number of the next RLC PDU to be transmitted for the first time
is equal to or larger than the selected activation time;
1> set, for each suspended radio bearer and signalling radio bearer that has
no pending ciphering activation time set by a previous security mode control
procedure, an \"RLC sequence number\" in IE \"_RB Downlink Ciphering
Activation Time Info_ \" in the IE \"_Ciphering Mode Info_ \", at which time
the new ciphering configuration shall be applied;
1> set, for each suspended radio bearer and signalling radio bearer that has a
pending ciphering activation time set by a previous security mode control
procedure, the \"RLC sequence number\" in IE \"_RB Downlink Ciphering
Activation Time Info_ \" in the IE \"_Ciphering Mode Info_ \" to the value
used in the previous security mode control procedure, at which time the latest
ciphering configuration shall be applied.
1> if Integrity protection has already been started for the MS; and
2> if for the CN domain indicated in the IE \"_CN_ _Domain Identity_ \" in the
SECURITY MODE COMMAND message, a new security key set (new ciphering and
integrity protection keys) has been received from upper layers since the
transmission of the last SECURITY MODE COMMAND message for that CN domain:
3> include the IE "_Integrity Protection Mode Info_ " in the SECURITY MODE
COMMAND message
1> if integrity protection has already been started for the MS; and
2> if the IE "_CN Domain Identity_ " in the SECURITY MODE COMMAND message is
different from the IE "_CN Domain Identity_ " that was sent in the previous
SECURITY MODE COMMAND message to the MS:
3> include the IE "_Integrity Protection Mode Info_ " in the SECURITY MODE
COMMAND message
1> transmit the SECURITY MODE COMMAND message on the downlink SRB2.
##### 7.16.1.2.2 Integrity protection configuration change
To start or modify integrity protection, the GERAN sends a SECURITY MODE
COMMAND message on the downlink SRB2 using the new integrity protection
configuration. The GERAN shall not modify integrity protection for a CN domain
for which a SECURITY MODE COMMAND message configuring integrity protection has
been previously sent for an ongoing signalling connection unless the
application of new integrity keys needs to be signalled to the MS. The GERAN
shall not transmit a SECURITY MODE COMMAND message to signal a change in
integrity protection algorithm.
When configuring Integrity protection, the GERAN shall:
1> ensure that the MS needs to store at most three different Integrity
protection configurations (keysets) at any given time. This includes the total
number of Integrity protection configurations for all signalling radio
bearers.
1> if Ciphering has already been started for the MS for the CN domain to be
set in the IE \"_CN Domain Identity_ \" in the SECURITY MODE COMMAND message;
and
2> if for the CN domain indicated in the IE \"_CN_ _Domain Identity_ \" in the
SECURITY MODE COMMAND message, a new security key set (new ciphering and
integrity protection keys) has been received from upper layers since the
transmission of the last SECURITY MODE COMMAND message for that CN domain:
3> include the IE "_Ciphering Mode Info_ " in the SECURITY MODE COMMAND
message;
1> if Ciphering has already been configured for the MS for a CN domain
different from the CN domain to be set in the IE \"_CN Domain Identity_ \" in
the SECURITY MODE COMMAND;
2> include the IE "_Ciphering Mode Info_ " in the SECURITY MODE COMMAND
message;
Prior to sending the SECURITY MODE COMMAND message, for the CN domain
indicated in the IE \"_CN Domain Identity_ \" in the SECURITY MODE COMMAND
message, the GERAN shall:
1> if this is the first SECURITY MODE COMMAND message sent for this RRC
connection:
2> if new keys have been received:
3> initialise the hyper frame numbers as follows:
4> set all bits of the hyper frame numbers of the COUNT-I values for all
signalling radio bearers to zero;
2> else (if new keys have not been received):
3> use the value \"START\" in the most recently received IE \"_START List_ \"
or IE \"_START_ \" that belongs to the CN domain indicated in the IE \"_CN
Domain Identity_ \" to initialise all hyper frame numbers of COUNT-I for all
the signalling radio bearers; by:
4> setting the 20 most significant bits of the hyper frame numbers for all
signalling radio bearers to the value \"START\" in the most recently received
IE \"_START List_ \" or IE \"_START_ \" for that CN domain;
4> setting the remaining bits of the hyper frame numbers equal to zero;
1> else (this is not the first SECURITY MODE COMMAND message sent for this RRC
connection):
2> if new keys have been received;
3> initialise the hyper frame number for COUNT-I for SRB2 as follows:
4> set all bits of the HFN of the COUNT-I value for SRB2 to zero;
2> if new keys have not been received;
3> initialize the hyper frame number for COUNT-I for SRB2 as follows:
4> set the 20 most significant bits of the HFN of the downlink and uplink
COUNT-I to the value of the most recently received IE \"_START_ \" or IE
\"_START List_ \" for the CN domain to be set in the the IE \"_CN Domain
Identity_ \";
4> set the remaining bits of the HFN of the downlink and uplink COUNT-I to
zero;
1> if the IE \"_Integrity Protection Mode Command_ \" has the value \"Start\":
2> prohibit the transmission of signalling messages with any RRC SN on all
signalling radio bearers, except SRB2;
2> set the FRESH value in the IE \"_Integrity Protection Initialisation
Number_ \", included in the IE \"_Integrity Protection Mode Info_ \";
1> if the IE \"_Integrity Protection Mode Command_ \" has the value
\"Modify\":
2> for each signalling radio bearer SRBn, except SRB2:
3> prohibit the transmission of signalling messages with RRC SN greater or
equal to the RRC sequence number in entry for signalling radio bearer n in the
\"RRC message sequence number list\" in the IE \"_Downlink Integrity
Protection Activation Info_ \", included in the IE \"_Integrity Protection
Mode Info_ \";
2> consider an integrity protection activation time in downlink to be pending
until the selected activation time is equal to the next RRC sequence number to
be used, which means that the last RRC message using the old integrity
protection configuration has been transmitted to lower layers;
2> set, for each signalling radio bearer SRBn, that has no pending integrity
protection activation time set by a previous security mode control procedure,
an RRC sequence number in entry for signalling radio bearer n in the \"RRC
message sequence number list\" in the IE \"_Downlink Integrity Protection
Activation Info_ \", included in the IE \"_Integrity Protection Mode Info_ \",
at which time the new integrity protection configuration shall be applied;
2> set, for each signalling radio bearer SRBn, that has a pending integrity
protection activation time set by a previous security mode control procedure,
the RRC sequence number in entry for signalling radio bearer n in the \"RRC
message sequence number list\" in the IE \"_Downlink Integrity Protection
Activation Info_ \", included in the IE \"_Integrity Protection Mode Info_ \",
to the value used in the previous security mode control procedure, at which
time the latest integrity protection configuration shall be applied;
1> transmit the SECURITY MODE COMMAND message on SRB2 using the new integrity
protection configuration.
NOTE 1: In the case of re-initialisation of Integrity Protection at HFN wrap
around, the network takes into account the MS actions as described in sub-
clauses 7.18.5.1 and 7.18.5.2
NOTE 2: After the SECURITY MODE COMMAND message is transmitted, the network
needs to ensure that it can revert back to the old integrity protection until
it receives a SECURITY MODE COMPLETE message, and take into account the MS
actions when the Security Mode Control procedure is unsuccessful. The network
is also aware that the MS may revert to old configuration when waiting for the
acknowledgement from layer 2 for SECURITY MODE COMPLETE message, and it has to
act accordingly.
##### 7.16.1.2.3 Reception of SECURITY MODE COMMAND message by the MS
Upon reception of the SECURITY MODE COMMAND message, the MS shall :
1> if neither IE \"_Ciphering Mode Info_ \" nor IE \"_Integrity Protection
Mode Info_ \" is included in the SECURITY MODE COMMAND:
2> set the variable INVALID_CONFIGURATION to TRUE.
1> if the IE \"_Security Capability_ \" is the same as indicated by variable
MS_CAPABILITY_TRANSFERRED, and the IE \"_GSM MS_ _Security Capability_ \" (if
included in the SECURITY MODE COMMAND message) is the same as indicated by the
variable MS_CAPABILITY_TRANSFERRED:
2> set the variable LATEST_CONFIGURED_CN_DOMAIN equal to the IE \"_CN Domain
Identity_ \";
2> set the IE "_Status_ " in the variable SECURITY_MODIFICATION message for
the CN domain indicated in the IE \"CN domain identity\" in the received
SECURITY MODE COMMAND message to the value "Affected";
2> set the IE "_Status_ " in the variable SECURITY_MODIFICATION for all CN
domains other than the CN domain indicated in the IE \"_CN Domain Identity_ \"
to "Not affected";
2> set the IE \"_RRC Transaction Identifier_ \" in the SECURITY MODE COMPLETE
message to the value of \"RRC transaction identifier\" in the entry for the
SECURITY MODE COMMAND message in the table \"Accepted transactions\" in the
variable TRANSACTIONS; and
2> clear that entry;
2> if the SECURITY MODE COMMAND message contained the IE \"_Ciphering Mode
Info_ \":
3> perform the actions as specified in sub-clause 7.19.4.4 "Ciphering mode
info".
2> if the SECURITY MODE COMMAND message contained the IE \"_Integrity
Protection Mode Info_ \":
3> perform the actions as specified in sub-clause 7.19.4.5 "_Integrity
Protection Mode Info_ ".
1> Prior to sending the SECURITY MODE COMPLETE message the MS shall:
2> use the old ciphering configuration for this message;
2> if the SECURITY MODE COMMAND message containes the IE "_Ciphering Mode
Info_ ":
3> include and set the IE "_Radio Bearer Uplink Ciphering Activation Time
Info_ " to the value of the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO.
3> for each radio bearer and signalling radio bearer that belongs to the CN
domain as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN:
4> start or continue incrementing the COUNT-C values for all RLC-AM and RLC-UM
signalling radio bearers at the ciphering activation time as specified in the
Ciphering mode info procedure (see sub-clause 7.19.4.4);
4> start or continue incrementing the COUNT-C values common for all
transparent mode radio bearers for this CN domain at the ciphering activation
time as specified in the Ciphering mode info procedure (see sub-clause
7.19.4.4);
4> continue incrementing the COUNT-C values for all RLC-AM and RLC-UM radio
bearers;
3> if no new security key set (new ciphering and integrity protection keys)
has been received from the upper layers (see 3GPP TS 33.102) for the CN domain
as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN:
4> for ciphering on signalling radio bearers using RLC-AM and RLC-UM in the
downlink, at the RLC sequence number indicated in IE \"_RB Downlink Ciphering
Activation Time Info_ \" in the IE \"_Ciphering Mode Info_ \" included in the
SECURITY MODE COMMAND message, for each signalling radio bearer:
5> set the 20 most significant bits of the HFN component of the downlink
COUNT-C to the value \"START\" in the most recently transmitted IE \"_START
List_ \" or IE \"_START_ \", at the reception of the SECURITY MODE COMMAND
message, that belongs to the CN domain as indicated in the variable
LATEST_CONFIGURED_CN_DOMAIN;
5> set the remaining bits of the hyper frame numbers to zero;
3> if new keys have been received perform the actions in sub-clause
7.16.1.2.3.1.
2> if the SECURITY MODE COMMAND message contained the IE "_Integrity_
_Protection Mode Info_ ";
3> include and set the IE "_Uplink Integrity Protection Activation Info_ " to
the value of the variable INTEGRITY_PROTECTION_ACTIVATION_INFO for each
signalling radio bearer;
3> if no new security key set (new ciphering and integrity protection keys)
has been received from the upper layers (see 3GPP TS 33.102) for the CN domain
as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN, for SRB2:
4> in the downlink, for the received SECURITY MODE COMMAND message :
5> set the 20 most significant bits of the IE \"_Downlink RRC HFN_ \" in the
variable INTEGRITY_PROTECTION_INFO of the downlink COUNT-I to the value
\"START\" in the most recently transmitted IE \"_START List_ \" or IE
\"_START_ \", at the reception of the SECURITY MODE COMMAND message, that
belongs to the CN domain as indicated in the variable
LATEST_CONFIGURED_CN_DOMAIN;
5> set the remaining bits of the IE \"_Downlink RRC HFN_ \" to zero;
4> in the uplink, for the transmitted response message, SECURITY MODE COMPLETE
message:
5> set the 20 most significant bits of the IE \"_Uplink RRC HFN_ \" in the
variable INTEGRITY_PROTECTION_INFO of the uplink COUNT-I to the value
\"START\" in the most recently transmitted IE \"_START List_ \" or IE
\"_START_ \", at the reception of the SECURITY MODE COMMAND message, that
belongs to the CN domain as indicated in the variable
LATEST_CONFIGURED_CN_DOMAIN;
5> set the remaining bits of the IE \"_Uplink RRC HFN_ \" to zero;
3> if no new security key set (new ciphering and integrity protection keys)
has been received from the upper layers (3GPP TS 33.102) for the CN domain
indicated in the variable LATEST_CONFIGURED_CN_DOMAIN, the MS shall for each
signalling radio bearer other than SRB2:
4> if the IE \"_Integrity Protection Mode Command_ \" has the value \"start\":
> 5> in the downlink, for this signalling radio bearer, set the 20 most
> significant bits of IE \"_Downlink RRC HFN_ \" in the variable
> INTEGRITY_PROTECTION_INFO of the downlink COUNT-I to the value START
> transmitted in the most recently transmitted IE \"_START List_ \" or IE
> \"_START_ \", at the reception of the SECURITY MODE COMMAND message, that
> belongs to the CN domain as indicated in the variable
> LATEST_CONFIGURED_CN_DOMAIN;
>
> 5> set the remaining bits of the IE \"_Downlink RRC HFN_ \" in the variable
> INTEGRITY_PROTECTION_INFO of the downlink COUNT-I to zero;
4> else:
5> in the downlink, for the first message for which the RRC sequence number in
a received RRC message for this signalling radio bearer is equal to or greater
than the activation time as indicated in IE \"_Downlink Integrity Protection
Activation Info_ \" as included in the IE \"_Integrity Protection Mode Info_
\":
> 6> for this signalling radio bearer, set the 20 most significant bits of the
> IE \"_Downlink RRC HFN_ \" in the variable INTEGRITY_PROTECTION_INFO of the
> downlink COUNT-I to the value \"START\" in the most recently transmitted IE
> \"_START List_ \" or IE \"_START_ \", at the reception of the SECURITY MODE
> COMMAND message, that belongs to the CN domain as indicated in the variable
> LATEST_CONFIGURED_CN_DOMAIN;
>
> 6> set the remaining bits of the IE \"_Downlink RRC HFN_ \" to zero;
3> if new keys have been received perform the actions in sub-clause
7.16.1.2.3.1;
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearer SRB2 from and including the transmitted SECURITY MODE
COMPLETE message;
2> transmit the SECURITY MODE COMPLETE message on the uplink SRB2.
After submission of the SECURITY MODE COMPLETE message to the lower layers,
the MS shall accept messages received in the DL which require the new security
configuration to be applied on them. If a received message is successfully
integrity checked, the MS shall not discard the message due to lack of
completion of the security procedure caused by the successful delivery of the
SECURITY MODE COMPLETE message not having been confirmed by lower layers yet,
unless the security configuration to be applied has been aborted and the
message received requires integrity protection (see 3GPP TS 24.008).
1> when the successful delivery of the SECURITY MODE COMPLETE message has been
confirmed by RLC:
2> if the SECURITY MODE COMMAND message contained the IE \"_Ciphering Mode
Info_ \":
3> if no new security key set (new ciphering and integrity protection keys)
has been received from the upper layers (see3GPP TS 33.102) for the CN domain
as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN:
4> for ciphering on signalling radio bearers using RLC-AM and RLC-UM in the
uplink, at the RLC sequence number indicated in IE \"_Radio Bearer Uplink
Ciphering Activation Time Info_ \" included in the SECURITY MODE COMPLETE
message, for each signalling radio bearer:
5> set the HFN component of the uplink COUNT-C to the value \"START\" in the
most recently transmitted IE \"_START List_ \" or IE \"_START_ \", at the
reception of the SECURITY MODE COMMAND message, that belongs to the CN domain
as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN.
5> set the remaining bits of the hyper frame numbers to zero;
3> if new keys have been received perform the actions in sub-clause
7.16.1.2.3.1.
3> resume data transmission on any suspended radio bearer and signalling radio
bearer mapped on RLC-AM or RLC-UM;
3> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
3> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO.
2> if the SECURITY MODE COMMAND message containes the IE \"_Integrity
protection mode info_ \":
3> if no new security key set (new ciphering and integrity protection keys)
has been received from the upper layers (see3GPP TS 33.102) for the CN domain
indicated in the variable LATEST_CONFIGURED_CN_DOMAIN, the MS shall for each
signalling radio bearer other than SRB2:
4> if the IE \"_Integrity Protection Mode Command_ \" has the value \"start\":
5> in the uplink, for this signalling radio bearer, set the 20 most
significant bits of IE \"_Uplink RRC HFN_ \" in the variable
INTEGRITY_PROTECTION_INFO of the uplink COUNT-I to the value START transmitted
in the most recently transmitted IE \"_START List_ \" or IE \"_START_ \", at
the reception of the SECURITY MODE COMMAND message, that belongs to the CN
domain as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN;
5> set the remaining bits of the IE \"_Uplink RRC HFN_ \" in the variable
INTEGRITY_PROTECTION_INFO of the uplink COUNT-I to zero;
4> else:
5> in the uplink, for the first transmitted RRC message for this signalling
radio bearer with RRC sequence number equal to the activation time as
indicated in IE \"_Uplink Integrity Protection Activation Info_ \" included in
the transmitted SECURITY MODE COMPLETE message:
> 6> for this signalling radio bearer, set the 20 most significant bits of the
> IE \"_Uplink RRC HFN_ \" in the variable INTEGRITY_PROTECTION_INFO of the
> uplink COUNT-I to the value \"START\" in the most recently transmitted IE
> \"_START List_ \" or IE \"_START_ \", at the reception of the SECURITY MODE
> COMMAND message, that belongs to the CN domain as indicated in the variable
> LATEST_CONFIGURED_CN_DOMAIN;
>
> 6> set the remaining bits of the IE \"_Uplink RRC HFN_ \" to zero;
3> if new keys have been received perform the actions in sub-clause
7.16.1.2.3.1;
3> allow the transmission of RRC messages on all signalling radio bearers with
any RRC SN;
3> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
3> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO.
2> clear the variable SECURITY_MODIFICATION;
2> notify upper layers upon change of the security configuration;
2> and the procedure ends.
1> if the IE \"_Security Capability_ \" is not the same as indicated by the
variable MS_CAPABILITY_TRANSFERRED, or the IE \"_GSM MS Security Capability_
\" (if included in the SECURITY MODE COMMAND message) is not the same as
indicated by the variable MS_CAPABILITY_TRANSFERRED, or if the IE \"_GSM_ MS
_Security Capability_ \" is not included in the SECURITY MODE COMMAND message
and is included in the variable MS_CAPABILITY_TRANSFERRED:
2> release all its radio resources;
2> indicate the release of the established signalling connections (as stored
in the variable ESTABLISHED_SIGNALLING_CONNECTIONS) and established radio
access bearers (as stored in the variable ESTABLISHED_RABS) to upper layers;
2> clear the variable ESTABLISHED_SIGNALLING_CONNECTIONS;
2> clear the variable ESTABLISHED_RABS;
2> clear the variable SECURITY_MODIFICATION;
2> enter RRC-Idle mode;
2> perform actions when entering RRC-Idle mode as specified in sub-clause 7.18
"Actions when entering RRC-Idle mode from RRC-Connected mode";
2> and the procedure ends.
###### 7.16.1.2.3.1 New ciphering and integrity protection keys
The actions in this sub-clause are to be performed only if the new keys were
received for an on-going signalling connection while in GERAN _Iu mode_.
If a new security keyset (new ciphering and integrity protection keys) has
been received from the upper layers (see 3GPP TS 33.102) for the CN domain as
indicated in the variable LATEST_CONFIGURED_CN_DOMAIN, the MS shall:
1> set the START value for the CN domain indicated in the variable
LATEST_CONFIGURED_CN_DOMAIN to zero;
1> if the SECURITY MODE COMMAND message contained the IE \"_Integrity_
_Protection Mode Info_ \":
2> for integrity protection in the downlink on each signalling radio bearer
except SRB2:
3> if IE \"_Integrity Protection Mode Command_ \" has the value \"start\":
4> for the first received message on this signalling radio bearer:
5> start using the new integrity key;
5> for this signalling radio bearer, set the IE \"_Downlink RRC HFN_ \" in the
variable INTEGRITY_PROTECTION_INFO of the downlink COUNT-I to zero.
3> else:
4> for the first message for which the RRC sequence number in a received RRC
message for this signalling radio bearer is equal to or greater than the
activation time as indicated in IE "_Downlink Integrity Protection Activation
Info_ " as included in the IE "_Integrity Protection Mode Info_ ":
5> start using the new integrity key;
5> for this signalling radio bearer, set the IE "_Downlink RRC HFN_ " in the
variable INTEGRITY_PROTECTION_INFO of the downlink COUNT_I to zero.
2> for integrity protection in the uplink on each signalling radio bearer
except SRB2:
3> for the first message for which the RRC sequence number in a to be
transmitted RRC message for this signalling radio bearer is equal to the
activation time as indicated in IE "_Uplink Integrity Protection Activation
Info_ " included in the transmitted SECURITY MODE COMPLETE message:
4> start using the new integrity key;
4> for this signalling radio bearer, set the IE "_Uplink RRC HFN_ " in the
variable INTEGRITY_PROTECTION_INFO of the uplink COUNT-I to zero.
2> for integrity protection in the downlink on signalling radio bearer SRB2:
3> at the received SECURITY MODECOMMAND:
4> start using the new integrity key;
4> set the IE \"_Downlink RRC HFN_ \" in the variable
INTEGRITY_PROTECTION_INFO of the downlink COUNT-I to zero;
2> for integrity protection in the uplink on signalling radio bearer SRB2 :
3> at the transmitted SECURITY MODE COMPLETE:
4> start using the new integrity key;
4> set the IE \"_Uplink RRC HFN_ \" in the variable INTEGRITY_PROTECTION_INFO
of the uplink COUNT-I to zero;
1> if the SECURITY MODE COMMAND message contained the IE \"_Ciphering Mode
Info_ \":
2> for each signalling radio bearer and for each radio bearer for the CN
domain as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN:
3> if the IE "_Status_ " in the variable CIPHERING_STATUS has the value
"Started" for this CN domain, then for ciphering on the radio bearer using
RLC-TM:
4> at the TDMA frame number as indicated in the IE "_Ciphering Activation Time
for DBPSCH_ " in the IE "_Ciphering Mode Info";_
5> start using the new key in uplink and downlink;
5> set the HFN component of the COUNT-C to zero.
3> if the IE "_Status_ " in the variable CIPHERING_STATUS has the value
"Started" for this CN domain, then for ciphering on the radio bearers and
signalling radio bearers using RLC-AM and RLC-UM:
4> in the downlink, at the RLC sequence number indicated in IE "_RB Downlink
Ciphering Activation Time Info_ " in the IE "_Ciphering Mode Info_ ":
5> start using the new key;
5> set the HFN component of the downlink COUNT-C to zero.
4> in the uplink, at and after the RLC sequence number indicated in IE
"_Radio_ _Bearer Uplink Ciphering Activation Time Info_ ":
5> start using the new key;
5> set the HFN component of the uplink COUNT-C to zero.
1> consider the value of the latest transmitted START value to be zero.
##### 7.16.1.2.4 Incompatible simultaneous security reconfiguration
If the variable INCOMPATIBLE_SECURITY_RECONFIGURATION becomes set to TRUE of
the received SECURITY MODE COMMAND message, the MS shall:
1> transmit a SECURITY MODE FAILURE message on the uplink SRB2, using the
ciphering and integrity protection configurations prior to the reception of
this SECURITY MODE COMMAND;
1> set the IE \"_RRC Transaction Identifier_ \" in the SECURITY MODE FAILURE
message to the value of \"RRC transaction identifier\" in the entry for the
SECURITY MODE COMMAND message in the table \"Accepted transactions\" in the
variable TRANSACTIONS; and
1> clear that entry;
1> set the IE \"_Failure Cause_ \" to the cause value \"incompatible
simultaneous reconfiguration\";
1> when the response message has been submitted to lower layers for
transmission:
2> set the variable INCOMPATIBLE_SECURITY_RECONFIGURATION to FALSE;
2> continue with any ongoing processes and procedures as if the invalid
SECURITY MODE COMMAND message has not been received;
2> only accept a message on SRB 2, with a COUNT-I that:
3> is higher than the COUNT-I used prior to receiving the SECURITY MODE
COMMAND message incremented by one; and
3> not take into account the HFN from the received SECURITY MODE COMMAND
message.
1> and the procedure ends.
##### 7.16.1.2.5 Cell Update procedure during security reconfiguration
If:
\- a cell update procedure according to sub-clause 7.6.1 is initiated; and
\- the received SECURITY MODE COMMAND message causes,
\- the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to be set to
TRUE; and/or
\- the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO to
be set to TRUE:
the MS shall:
1> abort the ongoing integrity and/or ciphering reconfiguration;
1> resume data transmission on any suspended radio bearer and signalling radio
bearer mapped on RLC-AM or RLC-UM;
1> allow the transmission of RRC messages on all signalling radio bearers with
any RRC SN;
1> when the CELL UPDATE message has been submitted to lower layers for
transmission:
2> if the SECURITY MODE COMMAND message contained the IE \"_Ciphering Mode
Info_ \":
3> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to
FALSE; and
3> clear the variable RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
2> if the SECURITY MODE COMMAND message contained the IE \"_Integrity
Protection Mode Info_ \":
3> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to FALSE; and
3> clear the variable INTEGRITY_PROTECTION_ACTIVATION_INFO.
2> continue with any ongoing processes and procedures as if the SECURITY MODE
COMMAND message had not been received;
2> only accept a message on SRB 2, with a COUNT-I that:
3> is higher than the COUNT-I used prior to receiving the SECURITY MODE
COMMAND message incremented by one; and
3> does not take into account the HFN from the received SECURITY MODE COMMAND
message.
2> if the MS has already submitted the SECURITY MODE COMPLETE message, use a
COUNT-I value for transmission of the next message on SRB2 as stated below:
3> take the COUNT-I used prior to the transmission of the SECURITY MODE
COMPLETE message;
3> increment that COUNT-I with 2;
3> apply that COUNT-I on the next message to transmit.
2> clear the variable SECURITY_MODIFICATION;
2> the procedure ends.
##### 7.16.1.2.6 Invalid configuration
If the variable INVALID_CONFIGURATION is set to TRUE due to the received
SECURITY MODE COMMAND message, the MS shall:
1> transmit a SECURITY MODE FAILURE message on the uplink SRB2 after setting
the IEs as specified below;
1> set the IE \"_RRC Transaction Identifier_ \" in the SECURITY MODE FAILURE
message to the value of \"RRC transaction identifier\" in the entry for the
SECURITY MODE COMMAND message in the table \"Accepted transactions\" in the
variable TRANSACTIONS; and
1> clear that entry;
1> set the IE \"_Failure Cause_ \" to the cause value \"invalid
configuration\".
1> when the response message has been submitted to lower layers for
transmission:
2> set the variable INVALID_CONFIGURATION to FALSE;
2> set the IE "_Reconfiguration_ " in the variable CIPHERING_STATUS to FALSE
2> continue with any ongoing processes and procedures as if the invalid
SECURITY MODE COMMAND message has not been received;
2> only accept a message on SRB 2, with a COUNT-I that:
3> is higher than the COUNT-I used prior to receiving the SECURITY MODE
COMMAND message incremented by one; and
3> not take into account the HFN from the received SECURITY MODE COMMAND
message.
1> and the procedure ends.
##### 7.16.1.2.7 Reception of SECURITY MODE COMPLETE message by the GERAN
The GERAN shall apply integrity protection on the received SECURITY MODE
COMPLETE message and all subsequent messages with the new integrity protection
configuration, if changed. When GERAN has received a SECURITY MODE COMPLETE
message and the integrity protection has successfully been applied, GERAN
shall:
1> if the IE "_Ciphering Mode Info_ " was included in the SECURITY MODE
COMMAND message:
2> if new keys were received for the CN domain set in the IE \"_CN Domain
Identity_ \" in the SECURITY MODE COMMAND:
3> at the downlink and uplink activation time set all the bits of the hyper
frame numbers of the downlink and uplink COUNT-C values respectively for all
radio bearers for this CN domain and all signalling radio bearers to zero;
2> else (if new keys were not received)
3> at the downlink and uplink activation time use the value \"START\" in the
most recently received IE \"_START List_ \" or IE \"_START_ \" that belongs to
the CN domain as indicated in the IE \"_CN_ _Domain Identity_ \" to initialise
all hyper frame numbers of the downlink and uplink COUNT-C values respectively
for all the signalling radio bearers by:
4> setting the 20 most significant bits of the hyper frame numbers of the
COUNT-C for all signalling radio bearers to the value \"START\" in the most
recently received IE \"_START List_ \" or IE \"_START_ \" for that CN domain;
4> setting the remaining bits of the hyper frame numbers equal to zero.
1> if the IE "_Integrity_ _Protection Mode Info_ " was included in the
SECURITY MODE COMMAND message:
2> if this was not the first SECURITY MODE COMMAND message for this RRC
connection:
3> if new keys have been received for the CN domain set in the IE \"_CN Domain
Identity_ \" included in the transmitted SECURITY MODE COMMAND message:
4> at the downlink and uplink activation time initialise all hyper frame
numbers of the downlink and uplink COUNT-I values respectively for all the
signalling radio bearers other than SRB2 as follows:
5> set all bits of the hyper frame numbers of the uplink and downlink COUNT-I
to zero;
3> if no new keys have been received for the CN domain set in the IE \"_CN
Domain Identity_ \" included in the transmitted SECURITY MODE COMMAND message:
4> at the downlink and uplink activation time use the value \"START\" in the
most recently received IE \"_START List_ \" or IE \"_START_ \" that belongs to
the CN domain as indicated in the IE \"_CN Domain Identity_ \" to initialise
all hyper frame numbers of the downlink and uplink COUNT-I values respectively
for all the signalling radio bearers other than SRB2 by:
5> setting the 20 most significant bits of the hyper frame numbers of the
downlink and uplink COUNT-I respectively for all signalling radio bearers to
the value \"START\" in the most recently received IE \"_START List_ \" or IE
\"_START_ \" for that CN domain;
5> setting the remaining bits of the hyper frame numbers equal to zero.
1> send an indication to upper layers that the new integrity protection
configuration has been activated;
1> resume in the downlink, all suspended radio bearers and all signalling
radio bearers;
1> allow the transmission of RRC messages on all signalling radio bearers with
any RRC SN;
1> if the IE \"_Integrity Protection Mode Command_ \" included in the SECURITY
MODE COMMAND had the value \"Start\":
2> start applying integrity protection in the downlink for all signalling
radio bearers;
1> if the IE \" _Integrity Protection Mode Command_ \" included in the
SECURITY MODE COMMAND had the value \"Modify\":
2> start applying the new integrity protection configuration in the downlink
at the RRC sequence number, for each signalling radio bearers SRBn, except for
signalling radio bearer SRB2, indicated by the entry for signalling radio
bearer n in the \"RRC message sequence number list\" in the IE \"_Downlink
Integrity Protection Activation Info_ \";
2> continue applying the new integrity configuration for signalling radio
bearer SRB2;
2> apply the new integrity protection configuration on the received signalling
messages with RRC SN greater than or equal to the number associated with the
signalling radio bearer in IE \"_Uplink_ _Integrity Protection Activation
Info_ \";
1> apply the old ciphering configuration for the transmission of RLC PDUs with
RLC sequence number less than the number indicated in the IE \"_RB Downlink
Ciphering Activation Time Info_ \" included in the IE \"_Ciphering Mode Info_
\";
1> apply the new ciphering configuration for the transmission of RLC PDUs with
RLC sequence number greater than or equal to the number indicated in IE
\"_Radio Bearer Downlink Ciphering Activation Time Info_ \" included in the IE
\"_Ciphering Mode Info_ \";
1> apply the old integrity protection configuration on the received signalling
messages with RRC SN smaller than the number associated with the signalling
radio bearer in IE \"_Uplink Integrity Protection Activation Info_ \";
1> for radio bearers and signalling radio bearers using RLC-AM or RLC-UM:
2> send an indication to lower layers:
2> use the old ciphering configuration for received RLC PDUs with RLC sequence
number less than the RLC sequence number indicated in the IE \"_Radio Bearer
Uplink Ciphering Activation Time Info_ \" sent by the MS;
2> use the new ciphering configuration for received RLC PDUs with RLC sequence
number greater than or equal to the RLC sequence number indicated in the IE
\"_Radio Bearer Uplink Ciphering Activation Time Info_ \" sent by the MS;
2> if an RLC reset or re-establishment occurs after the SECURITY MODE COMPLETE
message has been received by GERAN before the activation time for the new
ciphering configuration has been reached, ignore the activation time and apply
the new ciphering configuration immediately after the RLC reset or RLC re-
establishment;
1> for radio bearers using RLC-TM:
2> send an indication to lower layers:
2> use the old ciphering configuration for the received RLC PDUs before the
TDMA frame number as indicated in the IE \"_Ciphering Activation Time for
DBPSCH_ \" in the IE \"_Ciphering Mode Info_ \" as included in the SECURITY
MODE COMMAND;
2> use the new ciphering configuration for the received RLC PDUs at the TDMA
frame number as indicated in the IE \"_Ciphering Activation Time for DBPSCH_
\" in the IE \"_Ciphering Mode Info_ \" as included in the SECURITY MODE
COMMAND;
1> and the procedure ends.
##### 7.16.1.2.8 Invalid SECURITY MODE COMMAND message
If the SECURITY MODE COMMAND message contains a protocol error causing the
variable PROTOCOL_ERROR_REJECT to be set to TRUE according to sub-clause
"General error handling", the MS shall perform procedure specific error
handling as follows:
1> transmit a SECURITY MODE FAILURE message on the uplink SRB2;
1> set the IE \"_RRC Transaction Identifier_ \" in the SECURITY MODE FAILURE
message to the value of \"RRC transaction identifier\" in the entry for the
SECURITY MODE COMMAND message in the table \"Rejected transactions\" in the
variable TRANSACTIONS; and
1> clear that entry;
1> set the IE \"_Failure Cause_ \" to the cause value \"protocol error\";
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION.
1> when the response message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
SECURITY MODE COMMAND message has not been received;
2> only accept a message on SRB 2, with a COUNT-I that:
3> is higher than the COUNT-I used prior to receiving the SECURITY MODE
COMMAND message incremented by one; and
3> not take into account the HFN from the received SECURITY MODE COMMAND
message;
1> and the procedure ends.
## 7.17 Delivery of Non-Access stratum messages
### 7.17.1 Initial Direct transfer
Figure 7.17.1.1: Initial Direct transfer in the uplink, normal flow
#### 7.17.1.1 General
The Initial Direct Transfer procedure is used in the uplink to establish a
signalling connection. It is also used to carry an initial upper layer (NAS)
messages over the radio interface.
#### 7.17.1.2 Initiation of Initial direct transfer procedure in the MS
In the MS, the Initial Direct Transfer procedure shall be initiated, when the
upper layers request establishment of a signalling connection. This request
also includes a request for the transfer of a NAS message.
Upon initiation of the Initial Direct Transfer procedure when the MS is in
RRC-Idle mode, the MS shall:
1> set the variable ESTABLISHMENT_CAUSE to the cause for establishment
indicated by upper layers;
1> perform an RRC Connection Establishment procedure, according to sub-clause
7.5;
1> if the RRC Connection Establishment procedure was not successful:
2> indicate failure to establish the signalling connection to upper layers and
end the procedure;
1> when the RRC Connection Establishment procedure is completed successfully:
2> continue with the Initial Direct Transfer procedure as below;
Upon initiation of the Initial Direct Transfer procedure when the MS is in
RRC-GRA_PCH state, the MS shall:
1> perform a Cell Update procedure, according to sub-clause 7.8, using the
cause \"uplink data transmission\";
1> when the Cell Update procedure completed successfully:
2> continue with the Initial Direct Transfer procedure as below.
The MS shall, in the INITIAL DIRECT TRANSFER message:
1> set the IE \"_NAS Message_ \" as received from upper layers; and
1> set the IE \"_CN_ _Domain Identity_ \" as indicated by the upper layers;
and
2> set the IE \"_Intra Domain NAS Node Selector_ \" as follows:
2> derive the IE \"_Intra Domain NAS Node Selector_ \" from TMSI/PMTSI, IMSI,
or IMEI; and
2> provide the coding of the IE \"_Intra Domain NAS Node Selector_ \"
according to the following priorities:
1\. derive the routing parameter for IDNNS from TMSI (CS domain) or PTMSI (PS
domain) whenever a valid TMSI/PTMSI is available;
2\. base the routing parameter for IDNNS on IMSI when no valid TMSI/PTMSI is
available;
3\. base the routing parameter for IDNNS on IMEI only if no (U)SIM is inserted
in the MS.
1> calculate the START according to sub-clause 7.18.4 for the CN domain as set
in the IE \"_CN Domain Identity_ \"; and
2> include the calculated START value for that CN domain in the IE "_START_ ";
The MS shall:
1> transmit the INITIAL DIRECT TRANSFER message on the uplink using AM RLC on
signalling radio bearer SRB 3;
1> when the INITIAL DIRECT TRANSFER message has been submitted to lower layers
for transmission:
2> confirm the establishment of a signalling connection to upper layers; and
2> add the signalling connection with the identity indicated by the IE \"_CN_
_Domain Identity_ \" in the variable ESTABLISHED_SIGNALLING_CONNECTIONS; and
1> when the successful delivery of the INITIAL DIRECT TRANSFER message has
been confirmed by RLC sub-layer:
2> the procedure ends.
When not stated otherwise elsewhere, the MS may also initiate the initial
direct transfer procedure when another procedure is ongoing, and in that case
the state of the latter procedure shall not be affected.
A new signalling connection request may be received from upper layers
subsequent to the indication of the release of a previously established
signalling connection to upper layers. From the time of the indication of
release to upper layers until the MS has entered RRC-Idle mode, any such upper
layer request to establish a new signalling connection shall be queued. This
request shall be processed after the MS has entered RRC-Idle mode.
#### 7.17.1.3 RLC re-establishment, inter-mode handover or inter-RAT change
If a re-establishment of RLC on SRB3 occurs before the successful delivery of
the INITIAL DIRECT TRANSFER message has been confirmed by RLC, the MS shall:
1> retransmit the INITIAL DIRECT TRANSFER message on the uplink using SRB3.
If inter-mode handover occurs before the successful delivery of the INITIAL
DIRECT TRANSFER message has been confirmed by RLC, for messages with the IE
\"_CN Domain Identity_ \" set to \"CS domain\", the MS shall:
1> retransmit the NAS message as specified in sub-clause 7.8.4.4
If inter-RAT handover occurs before the successful delivery of the INITIAL
DIRECT TRANSFER message has been confirmed by RLC, the MS shall:
  1. retransmit the NAS message as specified in sub-clause 7.10.4.
#### 7.17.1.4 Abortion of signalling connection establishment
If the MS receives a request from upper layers to release (abort) the
signalling connection for the CN domain for which the initial direct transfer
procedure is ongoing, the MS shall:
1> if the MS has not yet entered GERAN RRC-Connected mode:
2> abort the RRC Connection Establishment procedure as specified in sub-clause
7.5.1.6;
the procedure ends.
#### 7.17.1.5 Reception of INITIAL DIRECT TRANSFER message by the GERAN
On reception of the INITIAL DIRECT TRANSFER message the NAS message should be
routed using the IE \"_CN Domain Identity_ \". GERAN may also use the IE
\"_Intra Domain NAS Node Selector_ \" for routing among the CN nodes for the
addressed CN domain.
If no signalling connection exists towards the chosen node, then a signalling
connection is established.
When the GERAN receives an INITIAL DIRECT TRANSFER message, it shall not
affect the state of any other ongoing RRC procedures, when not stated
otherwise elsewhere.
The GERAN should:
1> set the START value for the CN domain indicated in the IE \"_CN Domain
Identity_ \" to the value of the IE \"_START_ \".
### 7.17.2 Downlink Direct transfer
Figure 7.17.2.1: Downlink Direct transfer, normal flow
#### 7.17.2.1 General
The Downlink Direct Transfer procedure is used in the downlink direction to
carry upper layer (NAS) messages over the radio interface.
#### 7.17.2.2 Initiation of downlink direct transfer procedure in the GERAN
In the GERAN, the Direct Transfer procedure is initiated when the upper layers
request the transfer of a NAS message after the initial signalling connection
is established. The GERAN may also initiate the Downlink Direct Transfer
procedure when another RRC procedure is ongoing, and in that case the state of
the latter procedure shall not be affected. The GERAN shall transmit the
DOWNLINK DIRECT TRANSFER message on the downlink using AM RLC on signalling
radio bearer SRB 3 or signalling radio bearer SRB 4. The GERAN should:
1> if upper layers indicate \"low priority\" for this message:
2> select signalling radio bearer SRB4, if available. Specifically, for a GSM-
MAP based CN, signalling radio SRB4 should, if available, be selected when
\"SAPI 3\" is requested;
2> select signalling radio SRB3 when signalling radio SRB 4 is not available;
1> if upper layers indicate \"high priority\" for this message:
2> select signalling radio SRB3. Specifically, for a GSM-MAP based CN,
signalling radio bearer RB3 should be selected when \"SAPI 0\" is requested.
The GERAN sets the IE \"_CN Domain Identity_ \" to indicate, which CN domain
the NAS message is originated from _._
#### 7.17.2.3 Reception of a DOWNLINK DIRECT TRANSFER message by the MS
Upon reception of the DOWNLINK DIRECT TRANSFER message, the MS RRC shall,
using the IE \"_CN Domain Identity_ \", route the contents of the IE \"_NAS
Message_ \" and the value of the IE\"_CN Domain Identity_ \" to the upper
layers.
The MS shall clear the entry for the DOWNLINK DIRECT TRANSFER message in the
table "Accepted transactions" in the variable TRANSACTIONS.
When the MS receives a DOWNLINK DIRECT TRANSFER message, it shall not affect
the state of any other ongoing RRC procedures when not stated otherwise
elsewhere.
#### 7.17.2.4 No signalling connection exists
If the MS receives a DOWNLINK DIRECT TRANSFER message, and the signalling
connection identified with the IE \"_CN Domain Identity_ \" does not exist
according to the variable ESTABLISHED_SIGNALLING_CONNECTIONS, the MS shall:
1> ignore the content of the DOWNLINK DIRECT TRANSFER message;
1> transmit an RRC STATUS message on the uplink SRB2;
1> include the IE \"_Identification of Received Message_ \"; and
1> set the IE \"_Received Message Type_ \" to DOWNLINK DIRECT TRANSFER
message; and
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the DOWNLINK DIRECT TRANSFER message
in the table \"Accepted transactions\" in the variable TRANSACTIONS; and
1> clear that entry;
1> include the IE \"_Protocol Error Information_ \" with the IE \"_Protocol
Error Cause_ \" set to \"Message not compatible with receiver state\".
When the RRC STATUS message has been submitted to lower layers for
transmission, the MS shall:
1> continue with any ongoing processes and procedures as if the DOWNLINK
DIRECT TRANSFER message has not been received.
#### 7.17.2.5 Invalid DOWNLINK DIRECT TRANSFER message
If the MS receives a DOWNLINK DIRECT TRANSFER message, which contains a
protocol error causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE
according to clause 8 the MS shall perform procedure specific error handling
as follows:
1> transmit an RRC STATUS message on the uplink SRB2;
1> include the IE \"_Identification of Received Message_ \"; and
1> set the IE \"_Received Message Type_ \" to DOWNLINK DIRECT TRANSFER; and
1> set the IE \"_RRC Transaction Identifier_ \" to the value of \"RRC
transaction identifier\" in the entry for the DOWNLINK DIRECT TRANSFER message
in the table \"Rejected transactions\" in the variable TRANSACTIONS; and
1> clear that entry;
1> include the IE \"_Protocol Error Information_ \" with contents set to the
value of the variable PROTOCOL_ERROR_INFORMATION.
When the RRC STATUS message has been submitted to lower layers for
transmission, the MS shall:
1> continue with any ongoing processes and procedures as if the invalid
DOWNLINK DIRECT TRANSFER message has not been received.
### 7.17.3 Uplink Direct transfer
Figure 7.17.3.1: Uplink Direct transfer, normal flow
#### 7.17.3.1 General
The Uplink Direct Transfer procedure is used in the uplink direction to carry
all subsequent upper layer (NAS) messages over the radio interface belonging
to a signalling connection.
#### 7.17.3.2 Initiation of uplink direct transfer procedure in the MS
In the MS, the Uplink Direct Transfer procedure shall be initiated when the
upper layers request a transfer of a NAS message on an existing signalling
connection. When not stated otherwise elsewhere, the MS may initiate the
Uplink Direct Transfer procedure when another procedure is ongoing, and in
that case the state of the latter procedure shall not be affected.
Upon initiation of the Uplink Direct Transfer procedure in RRC-GRA_PCH state,
the MS shall:
1> perform a Cell Update procedure, according to sub-clause 7.8, using the
cause \"uplink data transmission\";
1> when the Cell Update procedure has been completed successfully:
2> continue with the Uplink Direct Transfer procedure as below.
The MS shall transmit the UPLINK DIRECT TRANSFER message on the uplink using
AM RLC on signalling radio bearer SRB3 or signalling radio bearer SRB4. The MS
shall:
1> if upper layers indicates \"low priority\" for this message:
2> select signalling radio SRB4, if available. Specifically, for a GSM-MAP
based CN, signalling radio bearer SRB4 shall, if available, be selected when
\"SAPI 3\" is requested;
2> select signalling radio bearer SRB3 when signalling radio bearer SRB4 is
not available;
1> if upper layers indicates \"high priority\" for this message:
2> select signalling radio bearer SRB3. Specifically, for a GSM-MAP based CN,
signalling radio bearer SRB3 shall be selected when \"SAPI 0\" is requested.
The MS shall set the IE \"_NAS Message\"_ as received from upper layers and
set the IE \"_CN Domain Identity_ \" as indicated by the upper layers.
When the sucessful delivery of the UPLINK DIRECT TRANSFER message has been
confirmed by RLC sub-layer the procedure ends.
#### 7.17.3.3 RLC re-establishment, inter-mode handover or inter-RAT change
If SRB n (where n equals to 3 or 4) was used when transmitting the UPLINK
DIRECT TRANSFER message and a re-establishment of RLC on the same SRB n occurs
before the successful delivery of the UPLINK DIRECT TRANSFER message has been
confirmed by RLC, the MS shall:
1> retransmit the UPLINK DIRECT TRANSFER message on the uplink SRB n.
If inter-mode handover occurs before the successful delivery of the UPLINK
DIRECT TRANSFER message has been confirmed by RLC, for messages with the IE
\"CN Domain Identity\" set to \"CS domain\", the MS shall:
1> retransmit the NAS message as specified in sub-clause 7.8.4.4
If inter-RAT handover occurs before the successful delivery of the UPLINK
DIRECT TRANSFER message has been confirmed by RLC, the MS shall:
1> retransmit the NAS message as specified in sub-clause 7.10.4.
#### 7.17.3.4 Reception of UPLINK DIRECT TRANSFER message by the GERAN
On reception of the UPLINK DIRECT TRANSFER message the NAS message should be
routed using the value indicated in the IE \"_CN Domain Identity_ \".
When the GERAN receives an UPLINK DIRECT TRANSFER message, it shall not affect
the state of any other ongoing RRC procedures, when not stated otherwise
elsewhere.
## 7.18 General procedures
### 7.18.1 Selection of initial MS identity
The purpose of the IE \"_Initial MS Identity_ \" is to provide a unique MS
identification at the establishment of an RRC connection. The MS shall choose
\"MS id type\" in the IE \"_Initial MS Identity_ \" with the following
priority:
1\. TMSI (GSM-MAP): The TMSI (GSM-MAP) shall be chosen if available. The IE
\"_LAI_ \" in the IE \"_Initial MS Identity_ \" shall also be present when
TMSI (GSM-MAP) is used.
2\. P-TMSI (GSM-MAP): The P-TMSI (GSM-MAP) shall be chosen if available and no
TMSI (GSM-MAP) is available. The IE \"_RAI_ \" in the IE \"_Initial MS
Identity_ \" shall in this case also be present when P-TMSI (GSM-MAP) is used.
3\. IMSI (GSM-MAP): The IMSI (GSM-MAP) shall be chosen if no TMSI (GSM-MAP) or
P-TMSI is available.
4\. IMEI: The IMEI shall be chosen when none of the above three conditions are
fulfilled.
When being used, the IEs \"_TMSI_ _(GSM-MAP)_ \", \"_P-TMSI (GSM-MAP)_ \",
\"_IMSI (GSM-MAP)_ \", \"_LAI_ \" and \"_RAI_ \" shall be set equal to the
values of the corresponding identities stored in the USIM.
If the variable SELECTED_PLMN in the MS indicates \"ANSI-41\", the MS shall
choose \"_MS Id Type_ \" in the IE \"_Initial MS Identity_ \" according to the
procedure specified in the 3GPP2 document \"3GPP2 C.P0004-A\".
### 7.18.2 Actions when entering RRC-Idle mode from RRC-Connected mode
When entering RRC-Idle mode from RRC-Connected mode, the MS shall:
1> clear or set variables upon leaving GERAN RRC-Connected mode as specified
in sub-clause 10.4;
1> attempt to select a suitable cell to camp on.
When leaving the RRC-Connected mode according to 3GPP TS 45.010, the MS shall:
1> perform cell selection.
While camping on a cell, the MS shall:
1> acquire system information according to the system information procedure in
sub-clause 7.3;
1> perform measurements according to the measurement control procedure
specified in sub-clause 7.9; and
1> if the MS is registered:
2> be prepared to receive paging messages according to the Paging procedure in
sub-clause 7.4.
If IE \"_PLMN Identity_ \" within variable SELECTED_PLMN has the value \"GSM-
MAP\", the MS shall:
1> delete any NAS system information received in RRC-Connected Mode;
1> acquire the NAS system information in packet system information 16; and
1> proceed according to sub-clause 7.19.
When entering RRC-Idle mode, the MS shall:
1> if the USIM is present, for each CN domain:
2> if a new security key set was received for this CN domain but was not used
either for integrity protection or ciphering during this RRC connection:
3> set the \"START\" value for this domain to zero; and
3> store this \"START\" value for this domain in the USIM.
2> else:
3> if the current \"START\" value, according to sub-clause 7.18 for a CN
domain, is greater than or equal to the value \"THRESHOLD\" of the variable
START_THRESHOLD:
4> delete the ciphering and integrity keys that are stored in the USIM for
that CN domain;
4> inform the deletion of these keys to upper layers.
3> else:
4> store the current \"START\" value for this CN domain on the USIM.
1> else:
2> if the SIM is present, for each CN domain:
3> if a new security key set was received for this CN domain but was not used
either for integrity protection or ciphering during this RRC connection:
4> set the \"START\" value for this domain to zero; and
4> store this \"START\" value for this domain in the MS.
3> else, the MS shall:
4> if the current \"START\" value, according to sub-clause 7.18 for this CN
domain, is greater than or equal to the value \"THRESHOLD\" of the variable
START_THRESHOLD:
5> delete the Kc key for this CN domain;
5> delete the ciphering and integrity keys that are stored in the MS for that
CN domain;
5> set the \"START\" value for this CN domain to zero and store it in the MS;
5> inform the deletion of the key to upper layers.
4> else:
4> store the current \"START\" value for this CN domain in the MS.
### 7.18.2a Actions when entering GERAN _A/Gb mode_ or CDMA2000 from GERAN _Iu
mode_ , RRC- Connected mode
When entering GERAN _A/Gb mode_ or CDMA2000 from GERAN _Iu mode_ , RRC-
Connected mode (due to Inter-mode handover from GERAN or Inter-system handover
to CDMA2000), after successful completion of the procedure causing the
transition to the GERAN _A/Gb mode_ or CDMA2000 from GERAN _Iu mode_ , the MS
shall:
1> if the USIM is present, for each CN domain:
2> if a new security key set was received for this CN domain but was not used
either for integrity protection or ciphering during this RRC connection:
3> set the \"START\" value for this domain to zero and;
3> store this \"START\" value for this domain in the USIM;
2> else
3> after calculating the \"START\" value according to sub-clause 7.18.4, store
the current \"START\" value for every CN domain in the USIM;
1> if the SIM is present, for each CN domain:
2> if a new security key was received for this CN domain but was not used
either for integrity protection or ciphering during this RRC connection:
3> set the \"START\" value for this domain to zero and;
3> store this \"START\" value for this domain in the MS;
2> else
3> after calculating the \"START\" value according to sub-clause 7.18.4, store
the current \"START\" value for this CN domain in the MS.
### 7.18.3 Maintenance of Hyper Frame Numbers
The MSBs of both the ciphering sequence numbers (COUNT-C) and integrity
sequence numbers (COUNT-I), for the ciphering and integrity protection
algorithms, respectively (see 3GPP TS 33.102), are called the Hyper Frame
Numbers (HFN). For TM RLC bearers an extended TDMA frame number is used, which
is built by an HFN plus part of a TDMA frame number.
For integrity protection, the MS shall:
1> maintain COUNT-I as specified in sub-clause 7.18.5;
The following hyper frame numbers types are defined:
1> MAC HFN:\ 11 MSB of COUNT-C for data sent over RLC TM
1> RLC HFN:
2> if the RLC sequence number is of length 7 bits(GPRS TBF mode, see 3GPP TS
44.160), then the HFN
3> defines the 24 MSB of the COUNT-C parameter for data sent over RLC UM, and
3> defines the 24 MSB of the COUNT-C parameter for data sent over RLC AM.
2> if the RLC sequence number is of length 11bits ( EGPRS TBF mode, see 3GPP
TS 44.160), then the HFN
3> defines the 20 MSB of the COUNT-C parameter for data sent over RLC UM, and
3> defines the 20 MSB of the COUNT-C parameter for data sent over RLC AM.
2> if the RLC sequence number is of length 4 bits (DCCH TBF mode, see 3GPP TS
44.160), then the HFN
3> defines the 27 MSB of the COUNT-C parameter for data sent over RLC UM, and
3> defines the 27 MSB of the COUNT-C parameter for data sent over RLC AM.
2> if the RLC sequence number is of length 8 bits (TCH TBF mode, see 3GPP TS
44.160), then the HFN
3> defines the 23 MSB of the COUNT-C parameter for data sent over RLC UM, and
3> defines the 23 MSB of the COUNT-C parameter for data sent over RLC AM.
2> if the RLC sequence number is of length 10 bits (UDCH TBF mode, see 3GPP TS
44.160), then the HFN:
3> defines the 21 MSB of the COUNT-C parameter for data sent over RLC AM .
2> if the RLC sequence number is of length 4 bits (UDCH TBF mode, see 3GPP TS
44.160), then the HFN:
3> defines the 27 MSB of the COUNT-C parameter for data sent over RLC UM.
2> if the RLC sequence number is of length 4 bits (CDCH TBF mode, see 3GPP TS
44.160), then the HFN:
3> defines the 27 MSB of the COUNT-C parameter for data sent over RLC AM.
1> RRC HFN:\ 28 MSB of COUNT-I.
For non-transparent mode RLC radio bearers, the MS shall:
1> maintain one uplink and one downlink COUNT-C per radio bearer and one
uplink and one downlink COUNT-I per signalling radio bearer.
For all transparent mode RLC signalling radio bearers and radio bearers of the
same CN domain, the MS shall:
1> maintain one COUNT-C, common for all signalling radio bearers and radio
bearers in uplink and downlink;
1> if the activation time for a new ciphering configuration set by an RRC
procedure is equal to zero:
2> apply the configured MAC HFN at this activation time, i.e. the configured
HFN is not incremented;
1> maintain one uplink and one downlink COUNT-I per signalling radio bearer.
### 7.18.4 START value calculation
In RRC connected mode, if a Security Mode Command procedure has been
successfully completed for a CN domain during the current RRC connection, the
\"START\" value for that CN domain is calculated as
Let START~X~ = the \"START\" value for CN domain \'X\' prior to the
calculation below:
START~X~\' = MSB~20~ ( MAX {COUNT-C, COUNT-I \| radio bearers and signalling
radio bearers using CK~X~ and IK~X~}) + 2.
\- if START~X~\'= the maximum value = 20\^2 --1 = 1048575 then START~X~ =
START~X~\';
\- if the current START~X~ \ perform integrity protection (and integrity checking) on all RRC messages,
with the following exceptions:
RRC CONNECTION REJECT
RRC CONNECTION SETUP
RRC CONNECTION REQUEST
RRC CONNECTION SETUP COMPLETE
SYSTEM INFORMATION TYPE 5, 5bis, 5ter, 6
SYNCHRONIZATION CHANNEL INFORMATION
RRC STATUS
EXTENDED MEASUREMENT ORDER
EXTENDED MEASUREMENT REPORT
MEASURMENT REPORT
MEASUREMENT INFORMATION
ENHANCED MEASUREMENT REPORT
If the \"Status\" in the variable INTEGRITY_ PROTECTION_INFO has the value
\"Not started\" then integrity protection (and integrity checking) shall not
be performed on any RRC message.
For each signalling radio bearer, the MS shall use two RRC hyper frame
numbers:
1> \"Uplink RRC HFN\";
1> \"Downlink RRC HFN\".
and two message sequence numbers:
1> \"Uplink RRC Message sequence number\";
1> \"Downlink RRC Message sequence number\".
The above information is stored in the variable INTEGRITY_PROTECTION_INFO per
signalling radio bearer (RB1-RB4).
Upon the first activation of integrity protection for an RRC connection, MS
and GERAN initialise the \"Uplink RRC Message sequence number\" and \"Downlink
RRC Message sequence number\" for all signalling radio bearers as specified in
sub-clauses 7.18.5.2 and 7.18.5.1.
The RRC message sequence number (RRC SN) is incremented for every integrity
protected RRC message.
If the IE \"_Integrity Protection Mode Info_ \" is present in a received
message, the MS shall:
1> perform the actions in sub-clause 7.19.4.5 before proceeding with the
integrity check of the received message.
#### 7.18.5.1 Integrity protection in downlink
If the MS receives an RRC message on signalling radio bearer with RB identity
n, the \"Status\" in the variable INTEGRITY_ PROTECTION_INFO has the value
\"Started\" and the IE _\'Integrity Check Info_ \' is present the MS shall:
1> check the value of the IE \"_RRC Message Sequence Number_ \" included in
the IE \"_Integrity Check Info_ \";
2> if the \"Downlink RRC Message sequence number\" for signalling radio bearer
RBn is not present in the variable INTEGRITY_PROTECTION_INFO:
3> initialise the \"Downlink RRC Message sequence number\" for signalling
radio bearer RBn in the variable INTEGRITY_PROTECTION_INFO with the value of
the IE \"_RRC Message Sequence Number_ \" included in the IE \"_Integrity
Check Info_ \" of the received message;
2> if the \"Downlink RRC Message sequence number\" is present in the variable
INTEGRITY_PROTECTION_INFO:
3> if the RRC message sequence number is lower than the "Downlink RRC Message
sequence number" for signalling radio bearer RBn in the variable
INTEGRITY_PROTECTION_INFO:
4> increment \"Downlink RRC HFN\" for signalling radio bearer SRBn in the
variable INTEGRITY_PROTECTION_INFO with one.
NOTE: The actions above imply that also for the case the \"Downlink RRC HFN\"
is re-initialised by a security mode control procedure, this \"Downlink RRC
HFN\" value is incremented by one before it is applied for the integrity
protection of any received message if the conditions above are fulfilled.
3> if the RRC message sequence number is equal to the \"Downlink RRC Message
sequence number\" for signalling radio bearer RBn in the variable
INTEGRITY_PROTECTION_INFO:
4> discard the message;
1> calculate an expected message authentication code in accordance with sub-
clause 7.18.5.3;
1> compare the expected message authentication code with the value of the
received IE \"_Message Authentication Code_ \" contained in the IE
\"_Integrity_ _Check Info_ \";
2> if the expected message authentication code and the received message
authentication code are the same, the integrity check is successful:
3> update the \"Downlink RRC Message sequence number\" for signalling radio
bearer RBn in the variable INTEGRITY_PROTECTION_INFO with the value of the IE
\"_RRC_ _Message Sequence Number_ \" included in the IE \"_Integrity Check
Info_ \" of the received RRC message;
2> if the calculated expected message authentication code and the received
message authentication code differ:
3> act as though the message was not received.
If the MS receives an RRC message on signalling radio bearer with identity n,
the \"Status\" in the variable INTEGRITY_PROTECTION_INFO has the value
\"Started\" and the IE _\'Integrity Check Info\'_ is not present the MS shall:
1> discard the message.
#### 7.18.5.2 Integrity protection in uplink
Prior to sending an RRC message using the signalling radio bearer with radio
bearer identity n, and the \"Status\" in the variable
INTEGRITY_PROTECTION_INFO has the value \"Started\" the MS shall:
1> increment \"Uplink RRC Message sequence number\" for signalling radio
bearer RBn in the variable INTEGRITY_PROTECTION_INFO with 1, even if the
message is a retransmission of a previously transmitted message.
1> if the \"Uplink RRC Message sequence number\" for signalling radio bearer
RBn in the variable INTEGRITY_PROTECTION_INFO equals zero :
2> the MS shall increment \"Uplink RRC HFN\" for signalling radio bearer RBn
in the variable INTEGRITY_PROTECTION_INFO by one;
NOTE: The actions above imply that also for the case the \"Uplink RRC HFN\" is
re-initialised by a security mode control procedure, this \"Uplink RRC HFN\"
is incremented before it is applied in the integrity protection of any
transmitted message if the conditions above are fulfilled.
1> calculate the message authentication code in accordance with sub-clause
7.18.5.3;
1> replace the \"Message authentication code\" in the IE \"_Integrity Check
Info_ \" in the message with the calculated message authentication code;
1> replace the \"RRC Message sequence number\" in the IE \"_Integrity Check
Info_ \" in the message with contents set to the new value of the \"Uplink RRC
Message sequence number\" for signalling radio bearer RBn in the variable
INTEGRITY_PROTECTION_INFO;
In the response message for the procedure ordering the security
reconfiguration, the MS indicates the activation time, for each signalling
radio bearer. When the new integrity configuration is to be applied in uplink,
GERAN should then start to apply the new integrity protection configuration
according to the activation time for each signalling radio bearer (except for
the signalling radio bearer which is used to send the message that is
reconfiguring the security configuration) where the new configuration is to be
applied starting from and including reception of the response message.
#### 7.18.5.3 Calculation of message authentication code
The MS shall calculate the message authentication code in accordance with 3GPP
TS 33.102. The construction of the input parameter MESSAGE (see 3GPP TS
33.102) for the integrity algorithm is FFS.
For usage on an RRC message transmitted or received on the radio bearer with
identity n, the MS shall:
1> construct the input parameter COUNT-I (see 3GPP TS 33.102) by appending the
following IEs from the IE \"_Signalling Radio Bearer Specific Integrity
Protection Information_ \" for radio bearer n in the variable
INTEGRITY_PROTECTION_INFO:
2> for uplink:
3> \"Uplink RRC HFN\", as the MSB, and \"Uplink RRC Message sequence number\",
as LSB;
2> for downlink:
3> \"Downlink RRC HFN\", as the MSB, and the IE \"_RRC Message Sequence
Number_ " included in the IE "_Integrity Check Info_ ", as LSB.
### 7.18.6 Physical channel establishment
#### 7.18.6.0 General
{width="6.000694444444444in" height="2.222916666666667in"}
Figure 7.18.6.0.1: Handover Access procedure
The Handover Access procedure initiation in RRC-Cell_Dedicated state is done
by sending a HANDOVER-Req primitive to the MS MAC layer as described in 3GPP
TS 44.160. The MS MAC uses this procedure to initiate access in the new cell.
The reception of a HANDOVER ACCESS message at GERAN MAC is indicated to GERAN
RRC by sending the HANDOVER-Ind primitive as specified in 3GPP TS 44.160.
The Physical Information procedure initiation is done by sending a PHYSICAL
INFO-Req primitive to the GERAN MAC layer as specified in 3GPP TS 44.160 upon
receipt of a HANDOVER-Ind primitive from the GERAN MAC layer. When the network
has the necessary mobile station's RF characteristics it sends PHYSICAL
INFORMATION message as specified in sub-clause 7.18.6.2. The reception of a
PHYSICAL INFORMATION message at MS MAC is indicated to the MS RRC by sending
the PHYSICAL INFO-Ind primitive.
Four procedures are defined: Finely synchronized cell, Non-synchronized cell,
Pseudo-synchronized cell and Pre-synchronized cell. The support of all of them
except the pseudo-synchronized cell case is mandatory in the mobile station. A
pseudo-synchronized establishment can be commanded only to a mobile station
that can support it, as indicated in the classmark.
#### 7.18.6.1 Finely synchronized cell case
When MS receives the RADIO BEARER RECONFIGURATION message and
1> if the IE \"_Timing Advance_ \"with the new cell is not out of range, i.e.
smaller than or equal to the maximum timing advance that can be coded as
specified in 3GPP TS 44.004, or
1> if the new cell does accept out of range timing advance as indicated in the
RADIO BEARER RECONFIGURATION message, the mobile station shall:
2> after having switched to the assigned channels, send the HANDOVER ACCESS
message as specified in 3GPP TS 44.160 The transmission of this message is
optional if so indicated by the network in the RADIO BEARER RECONFIGURATION
message.
The MS shall not transmit the HANDOVER ACCESS message in those cells that
support extended TA values if TA value in the new cell is greater than 63 and
the RADIO BEARER RECONFIGURATION message indicates that the transmission of
the HANDOVER ACCESS messages is optional.
Then the MS shall:
1> activate the channels in sending and receiving mode.
If applicable, ciphering is immediately started.
#### 7.18.6.2 Non synchronized cell case
Upon reception of the RADIO BEARER RECONFIGURATION message and after having
switched to the assigned channels, the mobile station shall:
1> send repeatedly the HANDOVER ACCESS message as specified in 3GPP TS 44.160;
1> start timer T3124 at the start point of the timeslot in which the HANDOVER
ACCESS message is sent the first time;
1> then, activate the channels in receiving mode; If applicable, deciphering
is then immediately started.
Upon receipt of a HANDOVER-ind primitive the GERAN RRC shall:
1> set the value of the Timing Advance Value parameter in the PHYSICAL INFO-
Req primitive to the timing advance value received from the GERAN MAC layer.
1> initiate the transmission of PHYSICAL INFORMATION message by transmitting a
PHYSICAL INFO-Req service primitive to the GERAN MAC sublayer.
When the network has the necessary mobile station's RF characteristics it
shall send aPHYSICAL INFORMATION message to the mobile station as specified in
3GPP TS 44.160. If applicable, ciphering and deciphering is immediately
started
The network shall start timer T3143 immediately after having sent the PHYSICAL
INFORMATION message. If this timer times out before the reception of the RADIO
BEARER RECONFIGURATION COMPLETE message from the mobile station, the network
shall send the PHYSICAL INFORMATION message once more and shall restart timer
T3143. The network shall not send the PHYSICAL INFORMATION message more than
N3143 times. The value of T3143 and N3143 is an implementation issue.
At the mobile side, when the MAC layer indicates the reception of a PHYSICAL
INFORMATION message, the MS shall:
1> stop timer T3124;
1> stop sending HANDOVER ACCESS messages;
1> activate the physical channels in sending and receiving mode;
If the allocated channel is a DBPSCH/S, the performance of the mobile station
must enable the mobile station toaccept a correct PHYSICAL INFORMATION message
sent by the network in any block while T3124 is running.
#### 7.18.6.3 Pseudo-synchronized cell case
The details of the use of this procedure are described in 3GPP TS 45.010.
If the RADIO BEARER RECONFIGURATION message is received by the MS and if the
IE \"_Timing Advance_ \" and the IE \"_Real Time Difference_ \" are included
in the message, then MS shall:
1> compute the timing advance to be used with the new cell from the real time
difference value given in the RADIO BEARER RECONFIGURATION message.
The mobile station shall switch to the new physical channel and proceed as
follows:
1> if the \"_Timing Advance_ \" IE is received in the RADIO BEARER
RECONFIGURATION; and
1> if the mobile station knows that the timing advance with the new cell is
not out of range, i.e. smaller or equal to the maximum timing advance that can
be coded as specified in 3GPP TS 44.004; or
1> if the new cell accepts an out of range timing advance as indicated in the
RADIO BEARER RECONFIGURATION message after having switched to the assigned
channels, the mobile station shall:
2> send the HANDOVER ACCESS message as specified in 3GPP TS 44.160. The
transmission of this message is optional if so indicated by the network in the
RADIO BEARER RECONFIGURATION message.
The MS shall not transmit the HANDOVER ACCESS message in those cells that
support extended TA values if TA value in new cell is greater than 63 and the
RADIO BEARER RECONFIGURATION message indicates that the transmission of the
HANDOVER ACCESS messages is optional.Then MS shall:
1> activate the channels in sending and receiving mode while sending the
HANDOVER ACCESS message.
If applicable, ciphering is immediately started.
#### 7.18.6.4 Pre-synchronized cell case
The details of the use of this procedure are described in 3GPP TS 45.010.
Upon reception of the RADIO BEARER RECONFIGURATION message, the mobile station
shall:
1> switch to the new channel; and
1> send the HANDOVER ACCESS message as specified in 3GPP TS 44.160. The
transmission of this message is optional if so indicated by the network in the
RADIO BEARER RECONFIGURATION message.
The MS shall not transmit the HANDOVER ACCESS message in those cells that
support extended TA values if TA value in new cell is greater than 63 and the
RADIO BEARER RECONFIGURATION message indicates that the transmission of the
HANDOVER ACCESS messages is optional.Then MS shall activate the channels in
sending and receiving mode during the transmission of the HANDOVER ACCESS
message.The timing advance value to be used with the new cell is:
1> either the value contained in the RADIO BEARER RECONFIGURATION message if
the timing advance information element is present; or
1> the default value for pre-synchronized handover as defined in 3GPP TS
45.010, if the timing advance information element is not included in the RADIO
BEARER RECONFIGURATION message. The MS may activate the channels in receiving
mode while sendingHANDOVER ACCESS message.
If applicable, ciphering is immediately started.
### 7.18.7 (void)
### 7.18.8 Link failure and Radio link failure criteria and actions upon link
or radio link failure
When a radio link failure is detected at L2, it is notified to RRC as
specified in 3GPP TS 44.160.
When a link failure is reported by a given RLC entity to RRC, RRC shall:
1> stop the RLC entity
When a radio link failure occurs signalled by the MAC sublayer or the physical
layer (see 3GPP TS 45.008), the MS shall:
1> clear the dedicated physical channel configuration;
1> perform actions as specified for the ongoing procedure;
1> if no procedure is ongoing or no actions are specified for the ongoing
procedure:
2> perform a Cell Update procedure according to sub-clause 7.8 using the cause
\"radio link failure\".
### 7.18.9 Unsupported configuration
The MS should set the variable UNSUPPORTED_CONFIGURATION to TRUE if the
received message is not according to the MS capabilities.
### 7.18.10 Invalid RLC/MAC control message notification
When notification is received of the reception of an invalid RLC/MAC
acknowledgement message on DBPSCH, the MS shall:
1> re-establish all RLC entities for the radio bearers currently established
on the DBPSCH(s);
1> clear the dedicated physical channel configuration;
1> perform actions as specified for the ongoing procedure;
1> if no procedure is ongoing or no actions are specified for the ongoing
procedure:
2> perform a Cell Update procedure according to sub-clause 7.8 using the cause
\"Invalid RLC/MAC control message\"
### 7.18.11 Actions related to Radio Bearer mapping
When the MS receives the IE \"_RB Mapping Info_ \" and/or the IE \"_Transport
Format Set_ \", when the MS performs a cell reselection or a state transition,
or when the MS releases a RB, the MS shall for each of the configured Radio
Bearers:
1> configure the MAC with the appropriate transport format set (with computed
transport block sizes) for the transport channel used by that RB;
1> determine the sets of RLC sizes that apply to the RLC entity used by that
RB, based on the IE \"_RLC Size List_ \" included in the applicable
\"Transport format set\" (either the ones received in the same message or the
ones stored if none were received);
1> if that RB is using RLC AM and the RLC size list applicable to the RLC
entity transporting data PDUs is different from the one derived from the
previously stored configuration:
2> if the old RLC size list is not contained in the new one then:
3> re-establish the RLC entity;
3> configure the corresponding RLC entity with the new RLC size list;
2> else configure the corresponding RLC entity with the new RLC size list;
2> for each RLC AM radio bearer in the CN domain as indicated in the IE _\"CN
Domain Identity_ \" in the IE \"_RAB Info_ \" in the variable ESTABLISHED_RABS
whose RLC size is changed; and
2> for each RLC AM signalling radio bearer in the CN domain as indicated in
the IE \"_CN Domain Identity_ \" in the variable LATEST_CONFIGURED_CN_DOMAIN
whose RLC size is changed:
3> if the IE \"_Status_ \" in the variable CIPHERING_STATUS of this CN domain
is set to \"Started\":
4> set the HFN values for the corresponding RLC entity equal to the value of
the IE \"_START_ \" for this CN domain that will be included in the CELL
UPDATE message following cell reselection.
4> if the RLC re-establishment is caused by a CELL UPDATE CONFIRM:
5> set the HFN values for the corresponding RLC entity equal to the value of
the IE \"_START_ \" included in the latest transmitted CELL UPDATE message for
this CN domain.
4> if the RLC re-establishment is caused by a reconfiguration message:
5> set the HFN values for the corresponding RLC entity equal to the value of
the IE \"_START_ \" that will be included in the reconfiguration complete
message for this CN domain.
1> if that RB is using RLC UM:
2> indicate the largest applicable RLC size to the corresponding RLC entity.
1> configure the MAC with the set of applicable RLC Sizes for each of the RLC
entity used for that RB;
1> if there is no RLC information applicable for the transport channels to be
used:
2> set the variable INVALID_CONFIGURATION to TRUE.
### 7.18.12 Network response times for DBPSCH allocation
Upon reception of a CELL UPDATE CONFIRM message or one of the radio bearer
reconfiguration messages (RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION
or RADIO BEARER RELEASE message) by the MS, and if the IE "_DBPSCH
Description_ " and the structure "Network Response Times" are included, the MS
shall set the response times for layer 2 as specified in 3GPP TS 44.160.
## 7.19 Generic actions on receipt and absence of an information element
### 7.19.1 CN information info
If the IE \"_CN Information Info_ \" is present in a message, the MS shall:
1> if present, forward the content of the IE \"_PLMN Identity_ \" to upper
layers;
1> if present, forward the content of the IE \"_CN Common GSM-MAP NAS System
Information_ \" to upper layers;
1> if the IE \"_CN Domain Related Information_ \" is present:
2> forward each occurrence of the IE \"_CN Domain Specific GSM-MAP NAS System
Info_ \" together with the IE \"_CN Domain Identity_ \" to upper layers;
2> if an IE \"_CN Domain Specific GSM-MAP NAS System Info_ \" is not present
for a particular CN domain:
3> indicate to upper layers that no CN system information is available for
that CN domain.
### 7.19.2 Signalling connection release indication
If the IE \"_Signalling Connection Release Indication_ \" is present in a
message, the MS shall:
1> if all radio access bearers for the CN domain identified with the value of
the IE \"_Signalling Connection Release Indication_ \" would have been
released in the variable ESTABLISHED_RABS after processing of the received
message:
2> indicate release of the signalling connection identified with the value of
the IE \"_Signalling Connection Release Indication_ \" to the upper layers;
2> remove the signalling connection identified with the value of the IE
\"_Signalling Connection Release Indication_ \" from the variable
ESTABLISHED_SIGNALLING_CONNECTIONS;
1> if radio access bearers for the CN domain identified with the value of the
IE \"_Signalling Connection Release Indication_ \" would remain in the
variable ESTABLISHED_RABS after processing of the received message:
2> set the variable INVALID_CONFIGURATION to TRUE.
### 7.19.3 GERAN mobility information elements
#### 7.19.3.1 GRA identity
The MS shall:
1> if the IE \"_GRA Identity_ \" is included in a received message:
2> if the IE \"_RRC State Indicator_ \" is included and set to \"GRA_PCH\":
3> store this GRA identity in the variable GRA_IDENTITY;
3> after sending a possible message to GERAN and entering GRA_PCH state as
specified elsewhere, read packet system information 16 in the selected cell;
3> if the stored GRA identity in the variable GRA_IDENTITY is not included in
the list of GRA identities in System Information 16 in the selected cell, the
list of GRA identities in system information 16 is empty or if the packet
system information 16 can not be found, a confirmation error of GRA identity
list has occurred:
4> if no GRA Update procedure is ongoing:
5> initiate a GRA Update procedure after entering GRA_PCH state; see sub-
clause 7.8;
4> if a GRA Update procedure is ongoing:
5> take actions as specified in sub-clause 7.8;
1> if the IE \"_GRA Identity_ \" is not included in a received message:
2> the IE \"_RRC State Indicator_ \" is included and set to \" GRA_PCH\":
3> after sending a possible message to GERAN and entering GRA_PCH state as
specified elsewhere, read System Information 16 in the selected cell;
3> if System Information 16 in the selected cell contains a single GRA
identity:
4> store this GRA identity in the variable GRA_IDENTITY;
3> if Packet system information 16 of the selected cell contains more than one
GRA identity, the list of GRA identities in packet system information 16 is
empty or if the system information 16 can not be found, a confirmation error
of GRA identity list has occurred:
4> if no GRA Update procedure is ongoing:
5> initiate a GRA Update procedure after entering RRC-GRA_PCH state see
sublsub-clause 7.8;
4> if a GRA Update procedure is ongoing:
5> take actions as specified in sub-clause 7.8.
#### 7.19.3.2 Mapping info
If the IE \"_Mapping Info_ \" is received, the MS shall in this version of the
specification:
1> ignore the contents of this IE.
### 7.19.4 MS information elements
#### 7.19.4.1 Activation time
If the MS receives a message containing the IE \"_Activation time_ \" with a
value other than 0, the MS shall:
1> select the beginning of the FN (TDMA Frame Number) indicated by the IE
\"_Activation Time_ \" as the activation time T.
1> at the activation time T:
2> for a physical channel reconfiguration caused by the received message:
3> release the physical channel configuration, which was present before T;
3> initiate the establishment of the physical channel configuration as
specified for the physical channel information elements in the received
message as specified elsewhere.
2> for actions, other than a physical channel reconfiguration, caused by the
received message:
3> perform the actions for the information elements in the received message as
specified elsewhere.
If the MS receives a message containing the IE \"_Activation time_ \" with the
value 0 meaning \"Now\", the MS shall:
1> as an immediate reaction to the reception of the message (see 3GPP TS
45.010 for timing constraints):
2> perform the actions for the information elements in the received message as
specified elsewhere,
NOTE: If the MS was in RRC-Idle mode or RRC- CELL_Shared state upon reception
of the message, and the value of the IE \"_Activation Time_ \" in the received
message is different from \"Now\", regardless of the state the MS enters after
reception of the message the MS behaviour is unspecified.
#### 7.19.4.2 DRX parameters
##### 7.19.4.2.1 CN domain specific DRX cycle length coefficients
**The GERAN shall broadcast the** CN domain specific DRX cycle length
coefficients **parameter on PBCCH.** The MS may be attached to different CN
domains with different CN domain specific DRX cycle lengths. The MS shall
store each CN domain specific DRX cycle length for each CN domain the MS is
attached to.
For the CS CN domain, the CS CN specific DRX cycle length coefficient shall be
updated locally in the MS using information given in system information.
For the PS CN domain, the PS CN specific DRX cycle length coefficient may be
updated after indication by the MS to the PS CN in NAS procedure. If no
specific value is indicated, the MS and PS CN shall use the DRX cycle length
given for PS CN domain in system information.
NOTE: Broadcast of CN domain specific DRX cycle length coefficients shall be
introduced with System Information broadcasting for GERAN _Iu mode_.
##### 7.19.4.2.2 GERAN DRX cycle length coefficient
In RRC-Connected mode, GERAN shall determine and it may **send its** GERAN
specific DRX cycle length coefficients **parameter to a given MS** in the
following RRC messages:
\- CELL UPDATE CONFIRM
\- GRA UPDATE CONFIRM
\- RADIO BEARER RECONFIGURATION
\- RADIO BEARER RELEASE
\- RADIO BEARER SETUP
\- RRC CONNECTION SETUP
##### 7.19.4.2.3 Paging Group
In DRX mode, the MS shall compute its paging group and the GERAN shall compute
a paging group listened by the MS (see 3GPP TS 23.122) using the
SPLIT_PG_CYCLE parameter obtained with the following equation:
SPLIT_PG_CYCLE = 3 x 2 ^(9-"main\ DRX\ cycle\ length\ coefficient")^
In RRC-Idle mode, the \"main DRX cycle length coefficient\" is:
1> for the MS, the smallest of the stored CN domain specific DRX cycle length
coefficients corresponding to the CN domains to which the MS is attached;
1> for the GERAN, the smallest of:
2> the broadcast CN domain specific DRX cycle length coefficients
corresponding to the CN domains to which the MS is attached, and
2> the DRX cycle length coefficient, if indicated in the PAGING message
received via RANAP.
In RRC-Connected mode, the "main DRX cycle length coefficient" is:
1> for the MS, the smallest of:
2> the stored CN domain specific DRX cycle length coefficients corresponding
to the CN domains to which the MS is attached, and,
2> the GERAN DRX cycle length coefficient, if previously received.
1> for the GERAN, the smallest of:
2> the broadcast CN domain specific DRX cycle length coefficients
corresponding to the CN domains to which the MS is attached,
2> the GERAN DRX cycle length coefficient, if previously received, and
2> the DRX cycle length coefficient, if indicated in the PAGING message
received via RANAP.
The paging group is indicated to lower layers via primitives.
NOTE: Primitives between RLC/MAC and RRC shall be described in 3GPP TS 44.160.
#### 7.19.4.3 Generic state transition rules depending on received information
elements
The IE \"_RRC State Indicator_ \" indicates the state the MS shall enter. The
MS shall enter the state indicated by the IE \"_RRC State Indicator_ \" even
if the received message includes other IEs relevant only for states other than
indicated by the IE \"_RRC State Indicator_ \". E.g. if the RRC state
indicator is set to "RRC-Cell_Shared" while other IEs provide information
about a configuration including dedicated channels, the MS shall enter RRC-
Cell_Shared state. If however the MS has no information about the
configuration corresponding to the state indicated by the IE \"_RRC State
Indicator_ \", it shall consider the requested configuration as invalid.
The MS shall, if the IE \"_RRC State Indicator_ \" in the received message has
the value:
1> \"RRC-Cell_Shared\":
2> enter RRC-Cell_Shared state as dictated by the procedure governing the
message received;
1> \"RRC-CELL_Dedicated\":
2> if neither DBPSCH is assigned in the message nor is the MS is RRCRRC-
CELL_Dedicated state:
3> set the variable INVALID_CONFIGURATION to TRUE;
2> else:
3> enter RRC-Cell_Dedicated state as dictated by the procedure governing the
message received;
1> \"RRC-GRA_PCH\":
2> if the received message is RRC CONNECTION SETUP and IE \"_RRC State
Indicator_ \" is set to RRC-GRA_PCH:
3> set the variable INVALID_CONFIGURATION to TRUE;
2> else:
3> enter RRC-GRA_PCH state as dictated by the procedure governing the message
received.
#### 7.19.4.4 Ciphering mode info
The IE \"_Ciphering Mode Info_ \" defines the new ciphering configuration. At
any given time, the MS needs to store at most two different ciphering
configurations (keyset and algorithm) per CN domain at any given time in total
for all radio bearers, and three configurations in total for all signalling
radio bearers.
If the IE \"_Ciphering Mode Info_ \" is present and if the IE
\"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to TRUE, the MS
shall:
1> ignore this attempt to change the ciphering configuration; and
1> set the variable INCOMPATIBLE_SECURITY_CONFIGURATION to TRUE.
If the IE \"_Ciphering Mode Info_ \" is present and if the IE
\"_Reconfiguration_ \" in the variable CIPHERING_STATUS is set to FALSE, the
MS shall:
1> if none of the IE \"_Status_ \" in the variable CIPHERING STATUS has the
value \"Started\", and this IE \"_Ciphering Mode Info_ \" was included in a
message that is not the message SECURITY MODE COMMAND message; or
1> if the IE \"_Ciphering Mode Info_ \" was received in the message SECURITY
MODE COMMAND message and there does not exist exactly one ciphering activation
time in the IE "_Radio Bearer Downlink Ciphering Activation Time Info_ " for
each established RLC-AM and RLC-UM radio bearers included in the IE "_RB
Information_ " in the ESTABLISHED_RABS for the CN domain as indicated in the
variable LATEST_CONFIGURED_CN_DOMAIN; or
1> if the IE \"_Ciphering Mode Info_ \" was received in the message SECURITY
MODE COMMAND message and the IE \"_Ciphering Activation Time for DBPSCH_ \" is
not included in the message, and there exist radio bearers using RLC-TM
according to the IE \"_RB Information_ \" in the IE \"ESTABLISHED_RABS\" for
the CN domain as indicated in the variable LATEST_CONFIGURED_CN_DOMAIN; or
1> if the IE \"_Ciphering Mode Info_ \" was received in the message SECURITY
MODE COMMAND message and there does not exist excactly one ciphering
activation time in the IE "_Radio Bearer Downlink Ciphering Activation Time
Info_ " for each established signalling radio bearer included in the IE
"_Signalling Radio Bearer Information_ " in the ESTABLISHED-RABS;
2> ignore this attempt to change the ciphering configuration;
2> set the variable INVALID_CONFIGURATION to TRUE;
2> perform the actions as specified in sub-clause 7.16.1.2.6;
If the IE \"_Ciphering Mode Info_ \" is present and if the IE
_\"Reconfiguration_ \" in the variable CIPHERING_STATUS is set to FALSE, the
MS shall:
1> set the IE \"_Reconfiguration_ \" in the variable CIPHERING_STATUS to TRUE;
1> set the IE \"_Status_ \" in the variable CIPHERING_STATUS of the the CN
domains for which the IE "_Status_ " of the variable SECURITY_MODIFICATION is
set to "Affected" to \"Started\";
1> apply the new ciphering configuration in the lower layers for all RBs that
belong to a CN domain for which the IE "_Status_ " of the variable
SECURITY_MODIFICATION is set to "Affected" and all signalling radio bearers:
2> using the ciphering algorithm (UEA (see 3GPP TS 33.102)) indicated by the
IE \"_Ciphering Algorithm_ \" as part of the new ciphering configuration;
2> for each radio bearer that belongs to a CN domain for which the IE
"_Status_ " of the variable SECURITY_MODIFICATION is set to "Affected" and all
signalling radio bearers:
3> use the value of the IE \"_RB Identity_ \" in the variable ESTABLISHED_RABS
minus one as the value of BEARER (see 3GPP TS 33.102) in the ciphering
algorithm;
1> for the downlink and the uplink, the new ciphering configuration shall be
applied as follows:
2> if the ciphering configuration for a radio bearer or signalling radio
bearer from a previously received SECURITY MODE COMMAND message has not yet
been applied because of the corresponding activaton times not having been
reached and the current received message includes the IE \"_Downlink Counter
Synchronization Info_ \" or the current received message is a RADIO BEARER
RECONFIGURATION message and includes the IE \"_New G-RNTI_ \":
3> if the previous SECURITY MODE COMMAND message was received due to new keys
being received:
4> consider the new ciphering configuration to include the received new keys;
3> else if the previous SECURITY MODE COMMAND caused a change in
LATEST_CONFIGURED_CN_DOMAIN
4> consider the new ciphering configuration to include the keys associated
with the LATEST_CONFIGURED_CN_DOMAIN;
2> apply the new ciphering configuration in uplink and downlink immediately
following RLC re-establishment.
2> if the IE \"_Ciphering Activation Time for DBPSCH_ \" is present in the IE
\"_Ciphering Mode Info_ \" and the MS was in Cell_Dedicated state prior to
this procedure:
3> for radio bearers using RLC-TM:
4> apply the old ciphering configuration for the TDMA frame number less than
the number indicated by the IE \"_COUNT-C activation time_ \" in the IE
\"_Ciphering Activation Time for DBPSCH_ \";
4> apply the new ciphering configuration for the TDMA frame number greater
than or equal to the number indicated in IE \"_Ciphering Activation Time for
DBPSCH_ \";
2> if the IE \"_Radio Bearer Downlink Ciphering Activation Time Info_ \" is
present:
3> apply the following procedure for each radio bearer and signalling radio
bearers using RLC-AM or RLC-UM indicated by the IE \"_RB Identity_ \":
4> suspend uplink transmission on the radio bearer or the signalling radio
bearer (except for the SRB where the response message is transmitted)
according to the following:
5> do not transmit RLC PDUs with sequence number greater than or equal to the
uplink activation time, where the uplink activation time is seclected
according to the rules below;
4> select an \"RLC sequence number\" at which (activation) time the new
ciphering configuration shall be applied in uplink for that radio bearer
according to the following:
5> consider an ciphering activation time in uplink to be pending until the RLC
sequence number of the next RLC PDU to be transmitted for the first time is
equal to or larger than the selected activation time;
5> for each radio bearer and signalling radio bearer that has no pending
ciphering activation time in the uplink as set by a previous procedure
changing the security configuration:
> 6> set a suitable value that would ensure a minimised delay in the change to
> the latest ciphering configuration;
5> for each radio bearer and signalling radio bearer that has a pending
ciphering activation time in uplink as set by a previous procedure changing
the security configuration:
> 6> for radio bearers and signalling radio bearers except SRB2, set the same
> value as the pending ciphering activation time;
4> store the selected \"RLC send sequence number\" for that radio bearer in
the entry for the radio bearer in the variable
RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO;
4> switch to the new ciphering configuration according to the following:
5> use the old ciphering configuration for the transmitted and received RLC
PDUs with RLC sequence number smaller than the corresponding RLC sequence
number indicated in the IE \"_Radio Bearer Uplink Ciphering Activation Time
Info_ \" sent to GERAN and the received IE \"_Radio Bearer Downlink Ciphering
Activation Time Info_ \" received from GERAN, respectively;
5> use the new ciphering configuration for the transmitted and received RLC
PDUs with RLC sequence numbers greater than or equal to the corresponding RLC
sequence number indicated in the IE \"_Radio Bearer Uplink Ciphering
Activation Time Info_ \" sent to GERAN and in the received IE \"_Radio Bearer
Downlink Ciphering Activation Time Info_ \" received from GERAN, respectively;
5> for a radio bearer using RLC-AM, when the RLC sequence number indicated in
the IE \"_Radio Bearer Downlink Ciphering Activation Time Info_ \" falls below
the RLC receiving window and the RLC sequence number indicated in the IE
\"_Radio Bearer Uplink Ciphering Activation Time Info_ \" falls below the RLC
transmission window, the MS may release the old ciphering configuration for
that radio bearer;
5> if an RLC reset or re-establishment occurs before the activation time for
the new ciphering configuration has been reached, ignore the activation time
and apply the new ciphering configuration both in uplink and downlink
immediately after the RLC reset or RLC re-establishment.
If the IE \"_Ciphering Mode Info_ \" is not present, the MS shall:
1> for the downlink and the uplink, apply the ciphering configuration as
follows:
2> if the ciphering configuration for a AM or UM radio bearer or signalling
radio bearer from a previously received SECURITY MODE COMMAND has not yet been
applied because of the corresponding activation times not having been reached
and the current received message includes the IE \"_DL Counter Synch Info_ \"
or the current received message is a RADIO BEARER RECONFIGURATION message and
includes the IE \"_New G-RNTI_ \":
3> if the previous SECURITY MODE COMMAND was received due to new keys being
received:
4> consider the ciphering configuration to include the received new keys;
3> else if the previous SECURITY MODE COMMAND caused a change in
LATEST_CONFIGURED_CN_DOMAIN:
4> consider the ciphering configuration to include the keys associated with
the LATEST_CONFIGURED_CN_DOMAIN;
3> apply the ciphering configuration in uplink and downlink immediately
following RLC re-establishment;
2> else:
3> not change the ciphering configuration.
#### 7.19.4.5 Integrity protection mode info
##### 7.19.4.5.1 General
The IE \"_Integrity Protection Mode Info\"_ defines the new integrity
protection configuration. At any given time, the MS needs to store at most
three different integrity protection configurations (keysets) in total for all
signalling radio bearers for all CN domains.
If the IE \"_Integrity Protection Mode Info_ \" is present and if the IE
\"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO is set to
TRUE, the MS shall:
1> ignore this second attempt to change the integrity protection
configuration; and
1> set the variable INCOMPATIBLE_SECURITY_RECONFIGURATION to TRUE.
If IE \"_Integrity Protection Mode Command_ \" has the value \"Start\" and the
IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value \"Not
started\", and the IE \"_Integrity Protection Mode Command Info_ \" was not
included in the message SECURITY MODE COMMAND message; or
If IE \"_Integrity Protection Mode Command_ \" has the value \"Start\" and the
IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value \"Not
started\", and the IE \"_Integrity_ _Protection Mode Info_ \" was included in
the message SECURITY MODE COMMAND message, and the IE \"_Integrity Protection
Algorithm_ \" is not included; or
If the IE \"_Integrity Protection Mode Command_ \" has the value \"Modify\"
and the IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the
value \"Not Started\"; or
If IE \"_Integrity Protection Mode Command_ \" has the value \"Start\" and the
IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value
\"Started\", and the IE \"Integrity protection mode command info\" was
included in the message SECURITY MODE COMMAND message; or
If the IE \"_Integrity Protection Mode Command_ \" has the value \"Modify\"
and there does not exist exactly one integrity protection activation time in
the IE \"_Downlink Integrity Protection Activation Info_ \" for each
established signalling radio bearer included in the IE \"_Signalling Radio
Bearer Information_ \" in the variable ESTABLISHED_RABS; or
If IE \"_Integrity Protection Mode Command_ \" has the value \"Modify\" and
the IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value
\"Started\", and the IE \"_Integrity Protection Mode Info_ \" was not included
in the message SECURITY MODE COMMAND message:
the MS shall:
1> ignore this attempt to change the integrity protection configuration; and
1> set the variable INVALID_CONFIGURATION to TRUE.
If the IE \"Integrity protection mode info\" is not present, the MS shall:
1> not change the integrity protection configuration.If the IE \"_Integrity
Protection Mode Info_ \" is present and if the IE \"_Reconfiguration_ \" in
the variable INTEGRITY_PROTECTION_INFO is set to FALSE, the MS shall:
1> set the IE \"_Reconfiguration_ \" in the variable INTEGRITY_PROTECTION_INFO
to TRUE;
1> perform the actions in accordance with sub-clauses 7.19.4.5.2, 7.19.4.5.3
and 7.19.4.5.4.;
##### 7.19.4.5.2 Initialization of Integrity ProtectionThe MS shall:
1> if IE \"_Integrity Protection Mode Command_ \" has the value \"start\" and
the IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value
\"Not started\", and this IE was included in the message
SECURITY_MODE_COMMAND:
2> initialise the information for all signalling radio bearers in the variable
INTEGRITY_PROTECTION_INFO according to the following:
3> set the IE \"_Uplink RRC Message Sequence Number_ \" in the variable
INTEGRITY_PROTECTION_INFO to zero;
3> do not set the IE \"_Downlink RRC Message Sequence Number_ \" in the
variable INTEGRITY_PROTECTION_INFO;
3> set the variable INTEGRITY_PROTECTION_ACTIVATION_INFO to zero for each
signalling radio berer in the variable ESTABLISHED_RABS .
NOTE: The IE \"_Integrity Protection Activation Info_ \" and \"_RRC Message
Sequence Number_ \"included in the IE \"_Integrity Check Info_ \" in the
transmitted message do not have identical values, but integrity protection is
applied from the first transmitted message.
2> set the IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO to the
value \"Started\";
2> perform integrity protection on the received message, applying the new
integrity protection configuration, as described in sub-clause 7.18.5 by:
3> using the algorithm (UIA (see 3GPP TS 33.102)) indicated by the IE
\"_Integrity Protection Algorithm_ \" contained in the IE \"_Integrity
Protection Mode Info_ \";
3> using the IE \"_Integrity Protection Initialisation Number_ \", contained
in the IE \"_Integrity Protection Mode Info_ \" as the value of FRESH (see
3GPP TS 33.102);
2> start applying the new integrity protection configuration in the downlink
for each signalling radio bearer in the IE \"_Established RABS_ \" except SRB2
at the next received RRC message;
2> start applying the new integrity protection configuration in the downlink
for signalling radio bearer SRB2 from and including the received SECURITY MODE
COMMAND message;
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearer SRB2 from and including the transmitted SECURITY MODE
COMPLETE message;
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearers other than SRB2 at the uplink activation time
included in the IE \"_Uplink Integrity Protection Activation Info_ \".
##### 7.19.4.5.3 Integrity Protection Re-configuration for SBSS Relocation
The MS shall:
1> if IE \"_Integrity Protection Mode Command_ \" has the value \"start\" and
the IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value
\"Started\" and this IE was not included SECURITY MODE COMMAND:
NOTE: This case is used in SBSS relocation
2> perform integrity protection on the received message, applying the new
integrity protection configuration, as described in sub-clause 7.18.5 by:
3> using the algorithm (UIA (see 3GPP TS 33.102)) indicated by the IE
\"_Integrity_ _Protection Algorithm_ \" contained in the IE \"_Integrity
Protection Mode Info_ \";
3> using the IE \"_Integrity Protection Initialisation Number_ \", contained
in the IE \"_Integrity Protection Mode Info_ \" as the value of FRESH (see
3GPP TS 33.102);
2> let SRBm be the signalling radio bearer where the reconfiguration message
was received and let SRBn be the signalling radio bearer where the response
message is transmitted;
2> for the downlink, for each signalling radio bearer, if for the signalling
radio bearer, a security configuration triggered by a previous SECURITY MODE
COMMAND message has not yet been applied, due to the activation time for the
signalling radio bearer not having been reached:
3> set \"Down link RRC Message sequence number\" for this signalling radio
bearer in the variable INTEGRITY_PROTECTION_INFO to (activation time - 1),
where the activation time is the corresponding activation time for this
signalling radio bearer;:
3> if the previous SECURITY MODE COMMAND message was received due to new keys
being received:
4> consider the new integrity protectioon configuration to include the
received new keys;
3> else if the previous SECURITY MODE COMMAND caused a change in
LATEST_CONFIGURED_CN_DOMAIN:
4> consider the new Integrity Protection configuration to include the keys
associated with the LATEST_CONFIGURED_CN_DOMAIN associated with the previously
received SECURITY MODE COMMAND message;
2> start applying the new integrity protection configuration in the downlink
for each signalling radio bearer in the variable ESTABLISHED_RABS except RBm
at the next received RRC message for the corresponding signalling radio
bearer;
2> start applying the new integrity protection configuration in the downlink
for signalling radio bearer RBm from and including the received configuration
message;
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearer RBn from and including the transmitted response
message;
2> start applying the new integrity protection configuration in the uplink for
signalling radio bearers other than RBn from the first message onwards.
##### 7.19.4.5.4 Integrity Protection modification in case of new keys or
initialisation of signalling connection
The MS shall:
1> if IE \"_Integrity Protection Mode Command_ \" has the value \"modify\" and
the IE \"_Status_ \" in the variable INTEGRITY_PROTECTION_INFO has the value
\"Started\" and this IE was included SECURITY_MODE_COMMAND:
2> store the (oldest currently used) integrity protection configuration until
activation times have elapsed for the new integrity protection configuration
to be applied on all signalling radio bearers;
2> start applying the new integrity protection configuration in the downlink
at the RRC sequence number, for each radio bearer n, indicated by the entry
for radio bearer n in the \"RRC message sequence number list\" in the IE
\"_Downlink Integrity Protection Activation Info_ \", included in the IE
\"_Integrity Protection Mode Info_ \";
2> perform integrity protection on the received message, applying the new
integrity protection configuration, as described in sub-clause 7.18.5;
3> if present, use the algorithm indicated by the IE \"_Integrity Protection
Algorithm_ \" (UIA (see 3GPP TS 33.102));
2> set the content of the variable INTEGRITY_PROTECTION_ACTIVATION_INFO
according to the following:
3> for each established signalling radio bearer, stored in the variable
ESTABLISHED_RABS:
4> select a value of the RRC sequence number at which (activation) time the
new integrity protection configuration shall be applied in uplink for that
signalling radio bearer according to the following:
5> for each signalling radio bearer:
> 6> set the activation time for the new integrity protection configuration to
> the next RRC SN;
4> prohibit the transmission of RRC messages on all signalling radio bearers,
except for SRB2, with RRC SN greater than or equal to the value in the "RRC
message sequence number list" for the signalling radio bearer in the IE
"_Uplink Integrity Protection Activation Info_ " of the variable
INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> start applying the new integrity protection configuration in the uplink at
the RRC sequence number, for each SRBn, except for signalling radio bearer
SRB2, indicated by the entry for radio bearer n in the \"RRC message sequence
number list\" in the IE \"_Uplink Integrity Protection Activation Info_ \",
included in the variable INTEGRITY_PROTECTION_ACTIVATION_INFO;
2> start applying the new integrity protection configuration in the uplink at
the RRC sequence number for signalling radio bearer SRB2, as specified for the
procedure initiating the integrity protection reconfiguration;
2> start applying the new integrity protection configuration in the downlink
at the RRC sequence number, for each SRBn, except for signalling radio bearer
SRB2, indicated by the entry for signalling radio bearer n in the \"_RRC_
_Message Sequence Number List_ \" in the IE \"_Downlink Integrity Protection
Activation Info_ \".
NOTE: For signalling radio bearers that have a pending activation time as set
for integrity protection by a previous procedure changing the integrity
protection configuration, the GERAN shall set this value in IE \"_Downlink
Integrity Protection Activation Info_ \".
2> start applying the new integrity protection configuration in the downlink
at the RRC sequence number for signalling radio bearer SRB2, as specified for
the procedure initiating the integrity protection reconfiguration.
#### 7.19.4.6 Integrity check info
If the IE \"Integrity check info\" is present the MS shall:
1> act as described in sub-clause 7.18.4.1 .
#### 7.19.4.7 New G-RNTI
If the IE \"_New G-RNTI_ \" is included in a received message, the MS shall:
1> store the value in the variable G_RNTI, replacing any old stored value.
#### 7.19.4.8 RRC Transaction Identifier
The IE \"_RRC Transaction Identifier_ \" may be used, together with the
message type, for identification of an invocation of a downlink procedure
(transaction). The MS behaviour for accepting or rejecting transactions based
on the message type and the IE \"_RRC Transaction Identifier_ \" is specified
below.
If the IE \"_RRC Transaction Identifier_ \" is included in a received message,
the MS shall perform the actions below. The MS shall:
If the received message is any of the messages:
\- RADIO BEARER SETUP; or
\- RADIO BEARER RECONFIGURATION; or
\- RADIO BEARER RELEASE;
the MS shall:
1> if the variable ORDERED_RECONFIGURATION is set to FALSE; and
1> if the variable CELL_UPDATE_STARTED is set to FALSE; and
1> if the received message does not contain a protocol error according to
clause 8 and the variable PROTOCOL_ERROR_REJECT is set to FALSE:
2> accept the transaction; and
2> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Accepted transactions\" in the
variable TRANSACTIONS;
1> else:
2> if the variable ORDERED_RECONFIGURATION is set to TRUE; or
2> if the variable CELL_UPDATE_STARTED is set to TRUE; or
2> if the received message contains a protocol error according to clause 8
causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE:
3> if the IE \"_RRC Transaction Identifier_ \" of the received message is
identical to the \"RRC Transaction Identifier\" stored for the same \"Message
Type\" as the received message in the table \"Accepted transactions\" in the
variable TRANSACTIONS:
4> ignore the transaction; and
4> continue with any ongoing processes and procedures as the message was not
received;
4> and end the procedure;
3> else:
4> reject the transaction; and
4> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Rejected transactions\" in the variable TRANSACTIONS:
5> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Rejected transactions\" in the
variable TRANSACTIONS.
Else:
If the received message is any of the messages:
\- RRC CONNECTION SETUP; or
\- CELL UPDATE CONFIRM; or
\- GRA UPDATE CONFIRM;
the MS shall:
1> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Accepted transactions\" in the variable TRANSACTIONS:
2> if the received message does not contain a protocol error according to
clause 8 and the variable PROTOCOL_ERROR_REJECT is set to FALSE:
3> accept the transaction; and
3> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Accepted transactions\" in the
variable TRANSACTIONS;
2> else:
2> if the received message contains a protocol error according to clause 8
causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE:
3> reject the transaction; and
3> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Rejected transactions\" in the variable TRANSACTIONS:
3> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Rejected transactions\" in the
variable TRANSACTIONS.
1> else:
1> if the IE \"_Message Type_ \" of the received message is present in the
table \"Accepted transactions\" in the variable TRANSACTIONS:
2> if the IE \"_RRC Transaction Identifier_ \" of the received message is
identical to the \"RRC Transaction Identifier\" stored for the \"Message
Type\" in the table \"Accepted transactions\" in the variable TRANSACTIONS:
3> ignore the transaction; and
3> continue with any ongoing processes and procedures as the message was not
received; and
3> end the procedure;
2> else:
2> if the IE \"_RRC Transaction Identifier_ \" of the received message is
different from the \"RRC transaction identifier\" stored for the \"Message
Type\" in the table \"Accepted transactions\" in the variable TRANSACTIONS:
3> if the received message does not contain a protocol error according to
clause 8 and the variable PROTOCOL_ERROR_REJECT is set to FALSE:
4> ignore the once accepted transaction and instead accept the new
transaction; and
4> store the IE \"_Message Type\"_ and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Accepted transactions\" in the
variable TRANSACTIONS, replacing the previous entry;
NOTE 1: The MS is expected to process the first RRC CONNECTION SETUP/CELL
UPDATE CONFIRM/GRA UPDATE COMFIRM message that it receives after transmitting
an RRC CONNECTION REQUEST/CELL UPDATE/GRA UPDATE message. If the MS receives
further RRC CONNECTION SETUP/CELL UPDATE CONFIRM/GRA UPDATE COMFIRM messages
without having transmitted another RRC CONNECTION REQUEST/CELL UPDATE/GRA
UPDATE message, the MS is not required to process these messages.
3> else:
3> if the received message contains a protocol error according to clause 8
causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE:
4> reject the transaction; and
4> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Rejected transactions\" in the variable TRANSACTIONS:
5> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Rejected transactions\" in the
variable TRANSACTIONS.
Else:
If the received message is any other message, the MS shall:
1> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Accepted transactions\" in the variable TRANSACTIONS:
2> if the received message does not contain a protocol error according to
clause 8 and the variable PROTOCOL_ERROR_REJECT is set to FALSE:
3> accept the transaction; and
3> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Accepted transactions\" in the
variable TRANSACTIONS;
2> else:
2> if the received message contains a protocol error according to clause 8
causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE:
3> reject the transaction; and
3> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Rejected transactions\" in the
variable TRANSACTIONS.
1> else:
1> if the IE \"_Message Type_ \" of the received message is present in the
table \"Accepted transactions\" in the variable TRANSACTIONS:
2> if the IE \"_RRC Transaction Identifier_ \" of the received message is
identical to the \"RRC transaction identifier\" stored in any entry for the
\"Message Type\" in the table \"Accepted transactions\" in the variable
TRANSACTIONS:
3> ignore the transaction; and
3> continue with any ongoing processes and procedures as the message was not
received; and
3> end the procedure;
2> else:
2> if the IE \"_RRC Transaction Identifier_ \" of the received message is
different from the \"RRC transaction identifier\" stored in all entries for
the \"Message Type\" in the table \"Accepted transactions\" in the variable
TRANSACTIONS:
3> if the received message does not contain a protocol error according to
clause 9 and the variable PROTOCOL_ERROR_REJECT is set to FALSE:
4> accept the additional transaction; and
4> store the IE \"_Message Type_ \" and the IE \"_RRC Transaction Identifier_
\" of the received message in the table \"Accepted transactions\" in the
variable TRANSACTIONS, in addition to the already existing entries;
3> else:
3> if the received message contains a protocol error according to clause 8
causing the variable PROTOCOL_ERROR_REJECT to be set to TRUE:
4> reject the transaction; and
4> store the IE \"_Message Type\"_ and the IE \"_RRC_ _Transaction Identifier_
\" of the received message in the table \"Rejected transactions\" in the
variable TRANSACTIONS.
#### 7.19.4.9 Capability Update Requirement
If the IE \"_Capability Update Requirement_ \" is included the MS shall:
1> if the IE \"_MS GERAN A/Gb mode Radio Acces Capability Update Requirement_
\" is set to "required":
2> if the MS supports the GERAN _A/Gb mode_ :
3> include its GERAN _A/Gb mode_ radio access capability in the IE \"_MS GERAN
A/Gb mode Radio Access Capability_ \" of the variable MS_CAPABILITY_REQUESTED;
1> if one or more of the 3 the IEs \"_UE Radio Access FDD Capability Update
Requirement_ \" or \"_UE Radio Access 3,84 Mcps TDD Capability Update
Requirement_ \" or \"_UE Radio Access 1,28 Mcps TDD Capability Update
Requirement_ \" is set to \"required\":
2> include its UE UTRAN Radio Access Capability in the IE \"_UE UTRAN Radio
Access Capability_ \" and its UE UTRAN Radio Access Capability Extension if
present in the IE \"_UE UTRAN Radio Access Capability Extension_ \" of the
variable MS_CAPABILITY_REQUESTED as specified in of 3GPP TS 25.331.
1> if the IE \"_UE CDMA2000 Radio Acces Capability Update Requirement List_ \"
is set to \"required\":
2> if the MS supports the CDMA2000 RAT:
3> include its UE CDMA2000 radio acces capability in the IE \"_UE CDMA2000
Radio Acces Capability_ \" of the variable MS_CAPABILITY_REQUESTED
If the IE \"_Capability Update Requirement_ \" is not present, the MS shall:
1> assume no capabilities were required and act in accordance with the above.
### 7.19.5 Radio bearer information elements
#### 7.19.5.1 Signalling RB information to setup list
If the IE \"_Signalling RB Information To Setup List_ \" is included the MS
shall:
1> use the same START value to initialise the COUNT-C and COUNT-I variables
for all the signalling radio bearers in the list;
1> if the IE \"_Signalling RB_ _Information To Setup List_ \" was included in
the RADIO BEARER SETUP message:
2> if the variable \"LATEST_CONFIGURED_CN_DOMAIN\" has been initialised:
3> calculate the START value only once during this procedure according to sub-
clause 7.18.4 for the CN domain indicated in the variable
\"LATEST_CONFIGURED_CN_DOMAIN\";
3> store the calculated START value in the variable START_VALUE_TO_TRANSMIT;
1> for each occurrence of the IE \"_Signalling RB Information to Setup_ \":
2> use the value of the IE \"_RB Identity\"_ as the identity of the signalling
radio bearer to setup;
2> if the signalling radio bearer identified with the IE \"_RB Identity_ \"
does not exist in the variable ESTABLISHED_RABS:
3> create a new entry for the signalling radio bearer in the variable
ESTABLISHED_RABS;
2> if the variable LATEST_CONFIGURED_CN_DOMAIN has been initialised and the
value \"Status\" of the variable \"INTEGRITY_PROTECTION_INFO\" of the CN
domain stored in this variable is \"Started\":
3> initialise the 20 MSB of the hyper frame number component of COUNT-I for
this signalling radio bearer with the START value in the variable
START_VALUE_TO_TRANSMIT
3> set the remaining LSB of the hyper frame number component of COUNT-I for
this signalling radio bearer to zero;
3> for this signalling radio bearer, set the IE \"_Uplink RRC Message Sequence
Number_ \" in the variable INTEGRITY_PROTECTION_INFO to zero.
3> start performing integrity protection according to sub-clause 7.18.5.1 and
7.18.5.2;
2> perform the actions for the IE \"_RB mapping info_ \" as specified in sub-
clause 7.19.5.9a, applied for that signalling radio bearer;
1> apply a default value of the IE \"_RB Identity_ \" equal to 1 for the first
IE \"_Signalling RB Information To Setup_ \"; and
1> increase the default value by 1 for each occurrence.
#### 7.19.5.2 RAB Information for Setup
If the IE \"_RAB_ _Information For Setup_ \" is included, the procedure is
used to establish radio bearers belonging to a radio access bearer, and the MS
shall:
1> if several IEs \"_RAB Information For Setup_ \" are included and the
included IEs \"CN domain identity\" in the IE \"_RAB Info_ \" does not all
have the same value:
2> set the variable INVALID_CONFIGURATION to TRUE;
1> if the radio access bearer identified with the IE \"_RAB Info_ \" does not
exist in the variable ESTABLISHED_RABS:
2> create a new entry for the radio access bearer in the variable
ESTABLISHED_RABS;
2> store the content of the IE \"_RAB Info_ \" in the entry for the radio
access bearer in the variable ESTABLISHED_RABS;
2> indicate the establishment of the radio access bearer to the upper layer
entity using the IE \"CN _Domain Identity_ \", forwarding the content of the
IE \"_RAB Identity_ \";
2> calculate the START value only once during this procedure (the same START
value shall be used on all new radio bearers created for this radio access
bearer) according to sub-clause 7.18 for the CN domain as indicated in the IE
\"_CN_ _Domain Identity_ \" in the IE \"_RAB Info_ \" part of the IE \"_RAB_
_Information To Setup_ \";
2> store the calculated START value in the variable START_VALUE_TO_TRANSMIT;
1> for each radio bearer in the IE \"_RB Information To Setup_ \":
2> if the radio bearer identified with the IE \"_RB Identity_ \" does not
exist in the variable ESTABLISHED_RABS for another radio access bearer than
the one identified with the IE \"_RAB Info_ \":
3> perform the actions specified in sub-clause 7.19;
3> store information about the new radio bearer in the entry for the radio
access bearer identified by \"RAB info\" in the variable ESTABLISHED_RABS;
2> if the radio bearer identified with the IE \"_RB Identity_ \" already
exists in the variable ESTABLISHED_RABS for another radio access bearer than
the one identified with the IE \"_RAB Info_ \":
3> set the variable INVALID_CONFIGURATION to TRUE.
#### 7.19.5.3 RAB Information to Reconfigure
If the IE \"_RAB Information to Reconfigure_ \" is included then the MS shall:
1> if the entry for the radio access bearer identified by the IE \"_CN Domain
Identity_ \" together with the IE \"_RAB Identity_ \" in the variable
ESTABLISHED_RABS already exists:
2> perform the action for the IE \"_NAS Synchronization Indicator_ \",
according to sub-clause 7.19.13;
1> else:
2> set the variable INVALID_CONFIGURATION to TRUE.
#### 7.19.5.4 RB information to setup
If the IE \"_RB Information To Setup_ \" is included, the MS shall apply the
following actions on the radio bearer identified with the value of the IE \"RB
identity\". The MS shall:
1> use the same START value to initialise the hyper frame number components of
COUNT-C variables for all the new radio bearers to setup;
1> perform the actions for the IE \"_PDCP Info_ \", if present, according to
sub-clause 7.19.5.10, applied for the radio bearer;
1> perform the actions for the IE \"_RLC Info_ \", according to sub-clause
7.19.5.9, applied for the radio bearer;
1> perform the actions for the IE \"_RB Mapping Info_ \", according to sub-
clause 7.19.5.9a, applied for the radio bearer;
1> if IE "_Physical Channel Configuration_ " is included
2> perform the actions as specified in sub-clause 7.19.5.14 applied for the
radio bearer;
1> if the IE \"_Downlink RLC mode_ \" either in the IE \"_RLC info_ \" or
referenced by the RB identity in the IE \"_Same as RB_ \" is set to \"TM
RLC\":
2> configure delivery of erroneous SDUs in lower layers according to
indication from upper layer as in 3GPP TS 24.008.
1> if the IE \"_Uplink RLC mode_ \" or the IE \"_Downlink RLC mode_ \" either
in the IE \"_RLC info_ \" or referenced by the RB identity in the IE \"_Same
as RB_ \" is set to \"AM RLC\" or \"UM RLC\":
2> initialise the 20 MSB of the hyper frame number component of COUNT-C for
this radio bearer with the START value in the variable
START_VALUE_TO_TRANSMIT;
2> set the remaining LSB of the hyper frame number component of COUNT-C for
this radio bearer to zero;
2> start incrementing the COUNT-C values.
1> if the IE \"_Uplink RLC mode_ \" and the IE \"_Downlink RLC mode_ \" either
in the IE \"_RLC info_ \" or referenced by the RB identity in the IE \"Same as
RB\" is set to \"TM RLC\":
2> if prior to this procedure there exists no transparent mode radio bearer
for the CN domain included in the IE \"_CN domain identity_ \" in the IE
\"_RAB info_ \" in the variable ESTABLISHED_RABS and at least one transparent
mode radio bearer is included in the IE \"_RB information to setup_ \":
3> if the IE \"_Status_ \" in the variable CIPHERING_STATUS of the CN domain
as indicated in the IE \"_CN domain identity_ \" in the IE \"_RAB info_ \" in
the variable ESTABLISHED_RABS is set to \"Not Started\":
4> at the activation time as specified in the IE \"_Ciphering activation time
for DBPSCH_ \" if included in the IE \"_Ciphering mode info_ \" in the command
message or, if this IE is not included, as specified in the IE \"_COUNT-C
activation time_ \" included in the response message:
5> initialise the 20 most significant bits of the hyper frame number component
of COUNT-C common for all transparent mode radio bearers of this CN domain
with the START value in the variable START_VALUE_TO_TRANSMIT;
5> set the remaining LSB of the hyper frame number component of COUNT-C to
zero;
5> do not increment the COUNT-C value common for all transparent mode radio
bearers for this CN domain;
4> if the IE \"_Status_ \" in the variable CIPHERING_STATUS of the CN domain
as indicated in the IE \"_CN domain identity_ \" in the IE \"_RAB info_ \" in
the variable ESTABLISHED_RABS is set to \"Started\":
4> at the activation time as specified in the IE \"_Activation Time_ \" in the
RADIO BEARER SETUP message:
5> initialise the 20 most significant bits of the hyper frame number component
of COUNT-C commom for all transparent mode RLC radio bearer to the value of
the latest transmitted START for this CN domain, while not incrementing the
value of the HFN component of COUNT-C at each TDMA frame number cycle; and;
5> set the remaining LSB of the hyper frame number component of COUNT-C to
zero;
5> start to perform ciphering on the radio bearer in lower layers while not
incrementing the HFN;
4> at the activation time as specified in the IE \"_Ciphering activation time
for DBPSCH_ \" if included in the IE \"_Ciphering mode info_ \" in the command
message or, if this IE is not included, as specified in the IE \"COUNT-C
activation time\" included in the response message:
5> initialise the 20 most significant bits of the hyper frame number component
of COUNT-C common for all transparent mode radio bearers of this CN domain
with the START value in the variable START_VALUE_TO_TRANSMIT;
5> set the remaining LSB of the hyper frame number component of COUNT-C to
zero;
5> start incrementing the COUNT-C value common for all transparent mode radio
bearers offor this CN domain as normal, at each TDMA frame number cycle value,
i.e. the HFN component is no longer fixed in value but incremented at each
TDMA frame number cycle.
2> if prior to this procedure there exists at least one transparent mode radio
bearer for the CN domain included in the IE \"_CN Domain Identity_ \" in the
IE \"_RAB info_ \" in the variable ESTABLISHED_RABS:
3> if the IE \"_Status_ \" in the variable CIPHERING_STATUS of the CN domain
as indicated in the IE \"_CN Domain Identity_ \" in the IE \"RAB info\" in the
variable ESTABLISHED_RABS is set to \"Not Started\":
4> do not increment the COUNT-C value common for all transparent mode radio
bearers for this CN domain.
> 3> if the IE \"_Status_ \" in the variable CIPHERING_STATUS of the CN domain
> as indicated in the IE \"_CN_ _Domain Identity_ \" in the IE \"_RAB Info_ \"
> in the variable ESTABLISHED_RABS is set to \" Started\":
4> continue incrementing the COUNT-C value common for all transparent mode
radio bearers of this CN domain.
1> if the IE \"_Status_ \" in the variable CIPHERING_STATUS of the CN domain
as indicated in the IE \"_CN_ _Domain Identity_ \" in the IE \"_RAB Info_ \"
in the variable ESTABLISHED_RABS is set to \"Started\":
2> start to perform ciphering on the radio bearer in lower layers, using the
value of the IE \"_RB Identity_ \" minus one as the value of BEARER in the
ciphering algorithm.
NOTE: The GERAN does not use the IE \"_RB Information To Setup_ \" to setup
radio bearers with RB identity in the range 1-4.
#### 7.19.5.5 RB information to be affected
If the IE \"RB _Information To Be Affected_ \" is included, the MS shall apply
the actions on the radio bearer identified with the value of the IE \"RB
_Identity_ \".
#### 7.19.5.6 RB information to reconfigure
If the IE \"_RB Information To Reconfigure_ \" is included, the MS shall apply
the following actions on the radio bearer identified with the value of the IE
\"_RB Identity_ \". The MS shall:
1> perform the actions for the IE \"_PDCP Info_ \", if present, according to
sub-clause 7.19.5.10, applied for the radio bearer;
1> perform the actions for the IE \"_RLC Info\",_ according to sub-clause
7.19.5.9, applied for the radio bearer;
1> if IE "_Physical Channel Configuration_ " is included
2> perform the actions as specified in sub-clause 7.19.5.14 applied for the
radio bearer;
1> perform the actions for the IE \"_RB Mapping Info_ \", according to sub-
clause 7.19.5.9a, applied for the radio bearer;
1> if the IE \"_PDCP SN Info_ \" is included:
2> perform the actions as specified in sub-clause 7.19.5.11 applied for the
radio bearer;
1> if the IE \"_RB Stop/Continue_ \" is included; and
2> if the \"_RB_ _Identity_ \" has a value greater than 2; and
3> if the value of the IE \"_RB_ _Stop/Continue_ \" is \"stop\":
4> configure the RLC entity for the radio bearer to stop;
4> set the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS to
\"stopped\" for that radio bearer;
3> if the value of the IE \"_RB Stop/Continue_ \" is \"continue\":
4> configure the RLC entity for the radio bearer to continue;
4> set the IE \"_RB Started_ \" in the variable ESTABLISHED_RABS to
\"started\" for that radio bearer;
2> if the IE \"_RB Identity_ \" is set to a value less than 2:
3> set the variable INVALID_CONFIGURATION to TRUE.
#### 7.19.5.7 RB Information to Release
If the IE \"_RB Information to Release_ \" is included, the MS shall apply the
following actions on the radio bearer identified with the value of the IE
\"_RB Identity_ \". The MS shall:
1> release the PDCP and RLC entities dedicated for that radio bearer;
1> if IE "_Physical Channel Configuration_ " is included
2> perform the actions as specified in sub-clause 7.19.5.14 applied for the
radio bearer;
1> if the information about the radio bearer is stored in the variable
ESTABLISHED_RABS:
2> delete the information about the radio bearer from the variable
ESTABLISHED_RABS;
2> when all radio bearers belonging to the same radio access bearer have been
released:
3> indicate release of the radio access bearer to upper layers providing the
\"CN domain identity\" together with the \"_RAB Identity_ \" stored in the
variable ESTABLISHED_RABS;
3> delete all information about the radio access bearer from the variable
ESTABLISHED_RABS.
#### 7.19.5.8 RB with PDCP Information
If the IE \"_RB with PDCP Information_ \" is included, the MS shall apply the
following actions on the radio bearer identified with the value of the IE
\"_RB Identity_ \". The MS shall:
1> for the IE \"_PDCP SN Info\":_
2> perform the actions as specified in sub-clause 7.19.5.11.
#### 7.19.5.9 (void)
#### 7.19.5.9a RB Mapping Info
If the IE \"_RB Mapping Info_ \" is included, the MS shall:
1> for this RB:
2> if a transport channel that would not exist as a result of the message
(i.e. removed in the same message in IE \"_Deleted DL TrCH Information_ \" and
IE \"_Deleted UL TrCH Information_ \") is referred to:
3> set the variable INVALID_CONFIGURATION to TRUE.
2> for each RLC entity:3> if the value of the IE \"_RLC Size List_ \" is set
to \"Explicit list\":
4> if a \"Transport format set\" for the transport channel is included in the
same message, and the value (index) of any IE \"RLC _Size Index_ \" in the IE
\"_Explicit List_ \" does not correspond to an \"RLC size\" in the IE
transport format set of that transport channel given in the message; or
4> if a \"Transport format set\" for that transport channel is not included in
the same message, and the value (index) of any IE \"_RLC Size Index_ \" in the
IE \"_Explicit List_ \" does not correspond to an \"RLC size\" in the stored
transport format set of that transport channel:
5> set the variable INVALID_CONFIGURATION to TRUE.
3> if the value of the IE \"_RLC Size List_ \" is set to \"All\":4> if a
\"Transport format set\" for the transport channel is not included in the same
message:
5> set the variable INVALID_CONFIGURATION to TRUE.
3> if the value of the IE \"_RLC Size List_ \" is set to \"Configured\":
4> if a \"Transport format set\" for the transport channel for this RLC entity
is included in the same message, and for none of the RLC sizes defined for
that transport channel in the \"Transport format set\", or
4> if a \"Transport format set\" for the transport channel for this RLC entity
is not included in the same message, and for none of the RLC sizes defined in
the transport format set stored for that transport channel:
5> set the variable INVALID_CONFIGURATION to TRUE.
1> if the \"_RB Mapping Info_ \" is considered as valid according to the rules
above:
2> delete the previously stored configuration for that radio bearer;
2> store the new configuration for that radio bearer;
2> perform the actions as specified in sub-clause 7.18.11.
As regards the IE \"_Channel Type_ \", the following rule should be applied to
derive the DL channel type from the UL channel included in the IE:
* * *
Channel used in UL DL channel type implied by \"same as\" DCH DCH
* * *
#### 7.19.5.10 RLC Info
If the IE \"_RLC Info_ \" is included, the MS shall:
1> configure the transmitting and receiving RLC entities in the MS for that
radio bearer accordingly.
#### 7.19.5.11 PDCP Info
For RFC 3095:
1> the chosen MAX_CID shall not be greater than the value \"Maximum Number of
ROHC Context Sessions\" as indicated in the IE \"_PDCP Capability_ \";
1> the configuration for the PACKET_SIZES_ALLOWED governs which packet sizes
RFC 3095 is allowed to use.
If IE \"_PDCP Info_ \" is included, the MS shall:
1> if the radio bearer is connected to a CS domain radio access bearer:
2> set the variable INVALID_CONFIGURATION to TRUE;
1> if the IE \"_PDCP PDU Header_ \" is set to the value \"absent\":
2> if the IE \"_Support for Lossless SBSS Relocation_ \" is true:
3> set the variable INVALID_CONFIGURATION to TRUE;
1> if the IE \"_PDCP PDU Header_ \" is set to the value \"present\":
2> if the IE \"_Support for Lossless SBSS Relocation_ \" is false:
3> if the structure \"Header Compression Information\" is absent:
4> set the variable INVALID_CONFIGURATION to TRUE;
1> if the structure \"Header compression information\" is absent:
2> not use Header compression after the successful completion of this
procedure;
2> remove any stored configuration for the structure \"Header compression
information\".
> > if the structure \"Header compression information\" is present:
2> if RFC 2507 is used:
3> if the MS capability "Maximum header compression context space", as
specified in 3GPP TS 25.306, is exceeded with this configuration:
4> set the variable INVALID_CONFIGURATION to TRUE.1> if the structure \"Header
compression information\" is present in the reconfiguration message:
2> only use header compression algorithms present in the structure "Header
compression information" in that message for the configured radio bearer.
2> use the order in which the header compression algorithms are received in
the message as the order that shall be used by PDCP for mapping of PID values
(see 3GPP TS 25.323)
1> configure the PDCP entity for that radio bearer accordingly;
1> configure the RLC entity for that radio bearer according to the value of
the IE \"_Support for Lossless SBSS Relocation_ \".
1> set the PROFILES parameter, used by inband ROHC profile negotiation, for
this PDCP entity for both UL and DL equal to the list of ROHC profiles
received in the IE "_PDCP info_ ". A MS complying with this version of the
specification shall support ROHC profiles 0x0000 (ROHC uncompressed), 0x0001
(ROHC RTP), 0x0002 (ROHC UDP) and 0x0003 (ROHC ESP) (IANA ROHC profile
identifier definition).
#### 7.19.5.11a PDCP context relocation info
If the IE \"PDCP context relocation info\" is included, the MS shall, for each
radio bearer included in this IE:
1> If the IE \"_Downlink RFC3095 Context Relocation Indication_ \" is set to
TRUE:
2> perform the actions as specified in 3GPP TS 25.323 for all RFC3095 contexts
associated to that radio bearer in the downlink;
1> If the IE \"_Uplink RFC3095 Context Relocation Indication_ \" is set to
TRUE:
2> perform the actions as specified in 3GPP TS 25.323 for all RFC3095 contexts
associated to that radio bearer in the uplink.
#### 7.19.5.12 PDCP SN Info
If the IE \"_PDCP SN Info_ \" is included, the MS shall:
1> transfer the sequence number to the PDCP entity for the radio bearer;
1> configure the RLC entity for the radio bearer to stop;
1> include the current PDCP receive sequence number and the radio bearer
identity for the radio bearer in the variable PDCP_SN_INFO.
#### 7.19.5.13 NAS Synchronisation Indicator
If the IE \"_NAS Synchronisation Indicator_ \" is present in a message, the MS
shall:
1> forward the content to upper layers along with the IE \"_CN Domain
Identity_ \" of the associated RAB stored in the variable ESTABLISHED_RABS at
the CFN indicated in the IE \"_Activation Time_ \" in order to synchronise
actions in NAS and AS.
#### 7.19.5.14 Physical Channel Configuration
If the IE \"_Physical Channel Configuration_ \" is included, the MS shall:
1> if the IE "_SBPSCH Description_ " is included;
2> perform the action specified in 7.19.6.2;
2> start timer T3190.
1> if the IE "_DBPSCH Description_ " is included;
1> perform the action specified in 7.19.6.1;
### 7.19.6 Physical channel parameters
#### 7.19.6.1 DBPSCH Description
If the MS receives the one of the messages RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM message and if IE
\"_Power Command_ \" is present, the MS shall:
1> set the power level accordingly for the initial power on the new channel(s)
and it shall not affect the power used on the old channel(s).
else set the INVALID_CONFIGURATION to TRUE, in case that MS enters the RRC-
Cell_Dedicate state-MAC-Dedicated state.
If the IE \"_Mode of the First Channel_ \" to be applied corresponds to a
multi-rate speech codec in one of the messages RADIO BEARER SETUP, RADIO
BEARER RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM message
shall contain the MultiRate Configuration IE, then the MS shall:
1> expect the IE _MultiRate Configuration_ and ;
1> if it is initial establishment the MS shall:
2> use the Initial Codec Mode specified in the IE _MultiRate Configuration_
1> otherwise apply the implicit rule defined in 3GPP TS 45.009.
else:
1> set the INVALID_CONFIGURATION to TRUE and;
1> remain on the current channel(s) and use the old Channel Description or
Channel Mode(s).
If the value of IE _MultiRate Configuration_ is incosistent the MS shall:
1> set the INVALID_CONFIGURATION to TRUE;
1> remain on the current channel(s) and use the old Channel Description or
Channel Mode(s).
The IE _MultiRate Configuration_ shall be considered as inconsistent by the MS
if:
\- the active set does not include any codec mode or the active set includes
more than four codec modes; or
\- one or more codec modes of the active codec set are not supported by the
physical channel; or
\- the threshold and hysteresis values are not set according to requirements
given in 3GPP TS 45.009.
If the MS receives one of the messages RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION RADIO BEARER RELEASE or CELL UPDATE CONFIRM and
1> if the message contains only the description of a channel to be used after
the starting time in the IE \"_Description of the Channel After Time_ \", the
MS shall:
1> wait until the starting time before accessing the channel:
else:
1> if the starting time already elapsed, the MS shall:
2> access the channel as an immediate reaction to the reception of the message
(see 3GPP TS 45.010 for the timing constraints).
1> if the message contains both the description of a channel to be used after
the indicated time and the description of a channel to be used before the
indicated time, in the IEs \"_Description of the Channel, After Time_ \" and
\"_Description of the Channel, Before Time_ \", the MS may:
2> access the channel immediatelly after the reception of the message.
2> if the moment, at which the mobile station is ready to access, is before
the time indicated by the IE \"_Description of the Channel, After Time_ \",
the mobile station shall:
3> access the channels as described in the IE \"_Description of the Chanel,
Before The Starting Time_ \".
3> then change to the channel described for after the starting time at the
indicated time. New parameters shall be frequency list, MAIO and HSN. Other
parameters describing the allocated channels must be identical to the
parameters described in the IE \"_Description of the Chanel, Before The
Starting Time_ \". If the moment the mobile station is ready to access is
after the starting time, the mobile station accesses the channel described in
the IE \"_Description of the Chanel, Before The After Time_ \".
1> if the IE \"_Starting Time_ \" is not present and some of the information
elements referring to before the starting time is present, these information
elements shall be considered as IEs unnecessary in the message.
1> if the IE \"_Description of the Channel, Before Time_ \" is not present,
the MS shall:
2> apply the channel description for before the time, if needed, given by the
IE \"_Description of the_ _Channel, After Time_ \".
1> if the IE \"_Starting Time_ \" is present and the IE \"_Description of the
Channel, before time_ \" indicates frequency hopping, one and only one of the
following information elements may be present and the MS shall apply this
before the starting time
\- IE\"_Mobile Allocation, Before Time_ \";
\- IE \"_Frequency List, Before Time_ \";
\- IE \"_Frequency Channel Sequence, Before Time_ \".
1> if the IE \"_Starting Time_ \" is present and the IE \"_Channel
Description, Before The Starting Time_ \" indicates frequency hopping, and
none of the above mentioned IE is present,
2> the IE\"_Frequency List, After Time_ \" must be present, and this applies
also for before the starting time.
2> if frequency hopping is applied, the cell allocation if present in the
message is used to decode the mobile allocation. If the cell allocation is not
included, the mobile station shall use its current cell allocation.
1> if the RADIO BEARER RECONFIGURATION message contains only the IE
\"_Description of the Channel, After Time_ \" and the handover is towards a
GERAN cell to which the mobile station is not synchronised for the case of an
intersystem handover to GERAN, the mobile station shall:
2> wait up to the starting time before accessing the new channel;
2> if the starting time has already elapsed, the mobile shall:
3> access the new channel as an immediate reaction to the reception of the
message (see 3GPP TS 45.010 for the timing constraints). Between the reception
of the RADIO BEARER RECONFIGURATION and the starting time there is no
requirement for the mobile station to receive or transmit on the old channel.
If MS receives the RADIO BEARER RECONFIGURATION and the IE \"_Power Command
and Access Type_ \" is present, the MS shall:
1> set the initial power on the new channel (s) to the the power level defined
in this power command (cf 3GPP TS 45.008). It shall not affect the power used
on the old channel(s).
else
1> set the variable INVALID_CONFIGURATION to TRUE.
If MS receives the RADIO BEARER RECONFIGURATION and if the IE \"_Handover
Reference_ \" is present, the MS shall:
1> use handover reference value used for access identification. The choice of
the handover reference by the network is out of the scope of this
specification and left to the manufacturers.
else
1> set the variables INVALID_CONFIGURATION to TRUE.
If MS receives the RADIO BEARER RECONFIGURATION and if the IE
\"_Synchronization Indication_ \" is not be present then, the MS shall:
1> assume the handover type is non-synchronized.
If MS receives the RADIO BEARER RECONFIGURATION and if the IE \"_Timining
Advance_ \" is present then the MS shall:
1> use this in the new cell;
1> if in the case of a synchronous or pseudo-synchronous handover the MS knows
that the timing advance with the new cell is out of range, i.e. is bigger than
the maximum timing advance that can be coded as specified in 3GPP TS 44.004,
and if the new cell does not accept out of range timing advance as indicated
in the RADIO BEARER RECONFIGURATION message, the mobile station shall:
2> set the variable INVALID_CONFIGURATION to TRUE.
If the mobile station receives a RADIO BEARER RECONFIGURATION message and if
at least one of the following IEs, IE "_Handover Reference_ ", IE "_Power
Command and Access Type_ ", IE "_Cell Description_ " and IE "_Description of
the first channel after time_ " is not present, the MS shall:
1> set the variable INVALID_CONFIGURATION to TRUE.
If the MS receives RADIO BEARER RECONFIGURATION and the IE \"_Starting Time_
\" may be present, then the MS shall:
1> change the frequency paramters of the channels more or less at the moment a
change of channel occurs. In this case a number of parameters can be included.
If the MS receives RADIO BEARER RECONFIGURATION and if the IE \"_Starting
Time_ \" is present and none of the information elements referring to before
the starting time are present, the mobile station shall:
1> wait and access the channels at the indicated time.
If the MS receives RADIO BEARER RECONFIGURATION and if the IE \"_Starting
Time_ \" is present and at least one of the information elements referring to
before the starting time is present, the mobile station shall:
1> not wait for the indicated time and access the channel using the frequency
parameters for before the starting time.
If the MS receives RADIO BEARER RECONFIGURATION and if the IE \"_Starting
Time_ \" is not present and some of the information elements referring to
before the starting time are present, these information elements shall be
considered as IEs unnecessary in the message.
If the MS receives RADIO BEARER RECONFIGURATION and if the IE \"_Description
of the First Channel, Before Time_ \" is not present, the MS shall:
1> apply for the channel description the information given for before the
time, if needed, in the IE \"_Description of tThe First Channel, After
Time\"_.
If the MS receives RADIO BEARER RECONFIGURATION and if the IE \"_Description
of the Second Channel, After Time_ \" is present, and if the IE \"_Description
of the_ _Second Channel, Before Time_ \" not present, and a description of the
configuration for before the time needed, the MS shall:
1> use the channel configuration before the starting time, and the channel
description to apply to the second channel before the starting time is given
by the IE \"_Description of the Second Channel, After Time_ \".
If the MS receives RADIO BEARER RECONFIGURATION and if the IE \"_Starting
Time\"_ is present and at least one of the channel descriptions for before the
starting time indicates frequency hopping, one and only one of the following
information elements may be present and applies before the starting time to
all assigned channels:
\- IE \"_Mobile Allocation, Before Time_ \";
\- IE \"_Frequency Short List, Before Time_ \";
\- IE \"_Frequency List, Before Time_ \";
\- IE \"_Frequency Channel Sequence, Before Time_ \".
If the IE \"_Starting Time_ \" is present and at least one of the channel
descriptions for before the starting time indicates frequency hopping, and if
none of the above mentioned IE is present, the MS shall use:
1> a frequency list for after the starting time must be present, and this list
applies also for the channels before the starting time.
If MS receives the RADIO BEARER RECONFIGURATION and if at least one of the
channel descriptions for after time indicates frequency hopping, one and only
one of the following information elements shall be present IE \"_Frequency
Channel Sequence, After Time\",_ IE _\"Frequency List, After Time\",_ IE
_\"Frequency Short List, After Time\",_ IE _\"Mobile Allocation, After Time_
\".
If MS receives the RADIO BEARER RECONFIGURATION and if neither of the _Channel
Description_ IEs indicate frequency hopping, and if they are not required for
the decoding of _Channel Description_ IEs for before time, and if any of the
four information elements are present they shall be considered as IEs
unnecessary in the message.
The IE _\"Frequency Channel Sequence_ \" element shall not be used unless all
the ARFCNs that it indicates are in the P-GSM band.
If the RADIO BEARER RECONFIGURATION message instructs the mobile station to
use a frequency that it is not capable of, then the mobile station shall:
1> set the variable UNSUPPORTED_CONFIGURATION to TRUE;
1> remain on the current channel(s).
If the mobile station receives a RADIO BEARER RECONFIGURATION message with a
IE \"_Frequency List_ \" or IE \"_Frequency Short List_ \" indicating
frequencies that are not all in one band, then the mobile station shall:
1> stay on the current channel(s); and
1> set the variable UNSUPPORTED_CONFIGURATION to TRUE.
If MS receives the one of the messages RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM message and if
the IE \"_Frequency List, After Time_ \" or IE \"_Frequency List, Before Time_
\" is present, then MS shall:
1> change the frequency according with the values of the IEs.
If the MS receives the reconfiguration message and if IE \"_Cell Channel
Description_ \" is present in the message and if the frequency hopping is
applied, the MS may decode the mobile alocation based on the cell allocation,
if present in the message.
The network shall include the IE \"_Cell Channel Description_ \" in the RADIO
BEARER RECONFIGURATION, RADIO BEARER SETUP, RADIO BEARER RELEASE or CELL
UPDATE CONFIRM message if no proper reference cell frequency list (CA) has
been sent previously to the mobile station.
If MS receives in the RADIO BEARER RECONFIGURATION message which contains the
\"_Cell Channel Description_ \" IE or \"_Channel Mode_ \" IE which instruct
the mobile station to use a Channel Description or Mode that it does not
support, or the Channel Mode indicated for use is not defined for all channel
sets, then the MS shall:
1> set the variable UNSUPPORTED_CONFIGURATION to TRUE
1> remain on the current channel(s) and use the old Channel Description or
Mode(s).
If the cell allocation is not included, the mobile station shall use its
current cell allocation, the current CA is the last CA received. If the mobile
station receives RADIO BEARER RECONFIGURATION message with a IE \"_Mobile
Allocation_ \" indexing frequencies that are not all in one band and a IE
_Starting Time_ indicating a time that has not elapsed then the mobile station
shall:
1> remain on the current channel(s).
1> send a RRC STATUS message with cause \"frequency not implemented\";
1> set the variable INVALID_CONFIGURATION to TRUE.
If the mobile station receives a RADIO BEARER RECONFIGURATION message with a
IE \"Mobile Allocation\" indexing frequencies that are not all in one band and
a \"Starting Time\" IE indicating a time that has elapsed, then the mobile
station shall locally abort the radio connection and, if permitted, attempt
Call Re-establishment.
If the MS receives the RADIO BEARER RECONFIGURATION message and if IE \"_Cell
Description_ \" is included in the message then MS shall:
1> use its pre-knowledge about synchronization acquired by the measurement
process (i.e. BSIC + BCCH frequency)
else
1> set the variable INVALID_CONFIGURATION to TRUE.
If the MS receives the RADIO BEARER RECONFIGURATION and if the IE \"_Real Time
Difference_ \" is included then the MS shall:
1> apply the pseudo-synchronous case type of handover.
If the MS receives the RADIO BEARER RECONFIGURATION and if the IE \"_Timing
Advance_ \" is included then the MS shall:
1> if IE \"_Synchronization Indication_ \" indicates a presynchronized
handover, use presynchronous type of handover.
1> else
2> if IE \"_Synchronization Indication_ \" not indicates a presynchronized
handover, use the default value as defined in 3GPP TS 45.010. The MS shall
consider an unnecessary information element for other types of handover.
The "_Dynamic ARFCN"_ IE shall only be included if the network supports
dynamic ARFCN mapping and there is a need to define new dynamic ARFCN mapping,
e.g. at handover to another PLMN or from another RAT to GSM. This information
replaces any previously received information about dynamic ARFCN mapping.
After returning to idle mode or packet idle mode, the mobile station shall
acquire new dynamic ARFCN mapping information, except for the cases specified
in 3GPP TS 44.018 (SI15). This mapping shall apply to any ARFCN used in the
RADIO BEARER RECONFIGURATION message.
When one of the reconfiguration messages or CELL UPDATE CONFIRM message is
received and IE "_PDTCH_ " is included, the MS shall
1> set the structure "Dynamic Allocation" as specified in 3GPP TS 44.160, and
1> if the MS is EGPRS capable
2> set the IE _EGPRS Window Size_ as specified in the PACKET UPLINK ASSIGNMENT
message in 3GPP TS 44.060 for each RB.
If the MS receives one of the RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM messages and if
the structure "_FLO Basic Physical Channels Parameters_ " is present in the IE
"_DBPSCH_ ", the MS shall:
1> not use"_Channel Mode_ " IE and "_Channel Mode2_ " IE; and
1> apply the channel description given by the IE \"_Mode", IE" Modulation_ \"
and IE "_Interleaving_ ".
If the MS receives one of the RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM messages and if
the structure "_FLO Basic Physical Channels Parameters_ " is present in the IE
"_DBPSCH_ "and none of the IE \"_Mode",_ IE "_Modulation_ \" and IE
"_Interleaving_ " is present then the MS shall:
  1. set the variable INVALID_CONFIGURATION to TRUE.
If the MS receives one of the RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM messages and if
the struct "FLO " is present in the IE "_DBPSCH_ ", for each timeslot the MS
shall:
1> if one of the FLO IEs is present (IE "_UL TrCH Information Common For All
Transport Channels_ ", IE "_Deleted UL TrCH Information_ ", IE "_Added or
Reconfigured UL TrCH Information_ ", IE "_DL TrCH Information Common For All
Transport Channels_ ", IE "_Deleted DL TrCH Information"_ or IE "_Added or
Reconfigured DL TrCH Information_ "):
  1. set the transport channels parameters as defined in sub-clause 7.19.
If the MS receives one of the RADIO BEARER SETUP, RADIO BEARER
RECONFIGURATION, RADIO BEARER RELEASE or CELL UPDATE CONFIRM messages and if
the struct "_FLO_ " is present in the IE "_DBPSCH_ " and if one of the TrCH
IEs ("_UL TrCH Information Common For All Transport Channels_ ", IE "_Deleted
UL TrCH Information_ ", IE "_Added or Reconfigured UL TrCH Information_ ", IE
"_DL TrCH Information Common For All Transport Channels_ ", IE "_Deleted DL
TrCH Information"_ or IE _" Added or Reconfigured DL TrCH Information_ ")
instructs the MS to use a TrCH configuration not supported, the MS shall:
1> set the variable INVALID_CONFIGURATION to TRUE.
If the MS receives one of the RADIO BEARER SETUP, RADIO BEARER RECONFIGURATION
RADIO BEARER RELEASE or CELL UPDATE CONFIRM messages and if the IE "_FLO Basic
Physical Channels Parameters_ " is present in the IE "_DBPSCH_ "and if one of
the FLO IEs ( IE \"_Mode"_ , IE _"_ _Modulation_ \" or IE "_Interleaving_ ")
instructs the MS to use a configuration not supported, the MS shall:
1> set the variable INVALID_CONFIGURATION to TRUE.
#### 7.19.6.2 SBPSCH parameters
The reconfiguration message can contain either the description of the uplink
TBF or the downlink TBF. The information on the power to be used on the target
TBF shall not affect the power used on the old channel(s). The network may
assign a radio resource on one or more PDCHs to be used for the TBF. The
amount of radio resource to be reserved is a network dependent choice.
The IE "_SBPSCH Description_ " message may indicate a frequency change in
progress, with a starting time and possibly alternative channel descriptions.
If MS receives the one of the messages RADIO BEARER SETUP or RADIO BEARER
RECONFIGURATION RADIO BEARER RELEASE message and the message includes either
IE \"_RRC Packet Uplink Assignment_ \" or IE\"_RRC Packet Downlink Assignment_
\" the MS shall:
1> set the parameters for uplink or downlink TBF. The information on the power
to be used on the target TBF shall not affect the power used on the old
channel(s).
else
1> set the INVALID_CONFIGURATION to TRUE.
The RADIO BEARER SETUP or RADIO BEARER RECONFIGURATION or RADIO BEARER RELEASE
message may indicate a frequency change in progress, with a starting time and
possibly alternative channel descriptions. If the MS is in RRC-Cell_Dedicated
state, MAC Dedicted or MAC DTM state and if MS receives the reconfiguration
message and if the message contains only the description of a TBF to be used
after the starting time, the mobile station shall
1> wait untill the starting time before using the TBF.
1> if the starting time has already elapsed, the mobile shall:
2> use the TBF immediatly after the reception of the message (see 3GPP TS
45.010 for the timing constraints).
1> if the message contains both the description of a TBF to be used after the
indicated time and of a TBF to be used before, the mobile station shall:
2> use the TBF as an immediate reaction to the reception of the message.
1> if the moment the mobile station is ready to access is before the indicated
time, the mobile station shall:
2> use the TBF described for before the starting time.
2> the mobile station shall then change to the TBF described for after the
starting time at the indicated time. New parameters shall be frequency list,
MAIO and HSN. Other parameters describing the allocated channels shall be
identical to the parameters described for before the starting time. If the
moment the mobile station is ready to access is after the starting time, the
mobile station shall the TBF described for after the starting time.
### 7.19.7 Transport channel information elements
#### 7.19.7.1 Transport Format Set
If the IE \"_Transport Format Set_ \" is included, the MS shall:
1> if that RB is using AM and the set of RLC sizes applicable to the RLC
entity transferring data PDUs has more than one element not equal to zero:
2> keep the transport format set if this exists for that transport channel;
2> set the variable INVALID_CONFIGURATION to TRUE.
1> if the total number of configured transport formats for the transport
channel exceeds maxTF:
2> keep the transport format set if this exists for that transport channel;
2> set the variable INVALID_CONFIGURATION to TRUE.
1> if the IE \"_Transport Format Set_ \" is considered as valid according to
the rules above:
2> remove a previously stored transport format set if this exists for that
transport channel;
2> store the transport format set for that transport channel;
2> if the IE \"_Transport format Set_ \" has the choice \"Transport channel
type\" set to \"Dedicated transport channel\":
3> calculate the transport block size for all transport formats in the TFS
using the following
TB size = RLC/MAC block size if \"RLC size\" \<> 0,\ TB size = 0 if \"RLC
size\" = 0,
where:
\- RLC/MAC block size is calculated according to 3GPP TS 44.160.
\- \'RLC size\' reflects the RLC PDU size.
2> if the IE \"_Transport Format Set_ " contains IE "_Semi-static Transport
Format Information_ " then:
3> set the values of CRC size to 0,6,12 or 18 and the Rate matching attribute
any value between 1 and 256.
2> else:
3> set the variable INVALID_CONFIGURATION to TRUE.
2> if the _Transport Block Size_ \<> 0 and IE \"_RLC size_ \" = 0, no RLC PDU
data exists but only parity bits exist for that transport format;
2> if the _Transport Block Size_ = 0, neither RLC PDU neither data nor parity
bits exist for that transport format;
  1. perform the actions as specified in sub-clause 7.18.21.
#### 7.19.7.2 Transport format combination set
If the IE \"_Transport Format Combination Set_ \" is included, the MS shall
for that direction (uplink or downlink):
1> store the new transport format combination set, or (if this exists) modify
a previously stored transport format combination set according to IEs included
in IE \"_Transport Format Combination Set_ \";
1> start to respect those transport format combinations;
If for a given TFCS in a given direction the size of the TFCI is changed
during reconfiguration, the network shall assign a new DBPSCH where the TFCS
will apply in the same direction after reconfiguration. A new DBPSCH is a
DBPSCH on which the TFCS did not apply prior to reconfiguration.
If the IE \"_Transport Format Combination Set_ \" is included and the TFCI
size is changed the MS shall:
1> perform the TFCS reconfiguration of DBPSCH according to IEs included in IE
\"_Transport Format Combination Set_ \".
If the IE \"_Transport Format Combination Set_ \" is not included and if there
is no addition, removal or reconfiguration of transport channels, the MS shall
for that direction (uplink or downlink):
1> use a previously stored transport format combination set if this exists.
If the IE \"_Transport Format Combination Set_ \" is not included; and
1> if no transport format combination set is stored in the MS; or
1> if transport channels are added or removed in the message; or
1> if any transport channel is reconfigured in the message such that the size
of the transport format set is changed:
the MS shall:
1> set the variable INVALID_CONFIGURATION to TRUE.
In the uplink TFCS the minimum set of TFCs is the set of TFCs that is needed
for the TFC selection algorithm defined in 3GPP TS 44.160. The minimum set of
TFCs consists of the following:
1> for each RLC UM entity:
2> a TFC with one transport block for this transport channel and empty TFs for
all the others. If more than one TFC fulfils this criteria, only the TFC with
the lowest number of bits should be included in the minimum set of TFCs.
1> for each RLC AM entity:
2> a TFC with a non-empty TF for the corresponding transport channel and empty
TFs for all other transport channels, where the non-empty TF includes one
transport block with \"Configured RLC Size\" equal to the RLC PDU size.
1> for each RLC TM entity:
2> a TFC with non-empty TFs for the corresponding transport channel, and empty
TFs for all other transport channels, where:
3> for RLC TM entity the non-empty TFs include, for the smallest SDU size that
can be received in a single TTI from higher layer:
4> a TF with non-zero number of transport blocks with \"Configured RLC Size\"
equal to the corresponding SDU size. If more than one TFC fulfils this
criteria, only the TFC with the lowest number of bits in the TFC is included
in the minimum set of TFCs.
1> an \"empty\" TFC.
Furthermore, the GERAN should ensure that the uplink TFCS satisfies the
following rules:
1> for the TTI length with which at least one transport channel is configured:
2> for each combination of TFs for the transport channels configured with this
TTI length included in the TFCS:
3> a TFC with these TFs for the transport channels configured with this TTI
length and empty TFs on all transport channels configured with the TTI length
is also included in the TFCS.
#### 7.19.7.3 (void)
#### 7.19.7.4 Added or Reconfigured UL TrCH information
If the IE \"_Added or Reconfigured UL TrCH Information_ \" is included then
the MS shall:
> 1> for the transport channel identified by the IE \"_UL Transport Channel
> Identity_ \" and IE \"_Uplink Transport Channel Type_ \":
2> perform the actions for the IE \"_Transport Format Set_ \" as specified in
sub-clause 7.19.7.1.
#### 7.19.7.5 Added or Reconfigured DL TrCH information
If the IE \"_Added or Reconfigured DL TrCH Information_ \" is included then
for the transport channel identified by the IE \"_DL Transport Channel
Identity_ \" the MS shall:
1> if the choice \"DL parameters\" is set to \'explicit\':
2> perform the actions for the IE \"_Transport Format Set_ \" as specified in
sub-clause 7.19.7.1.
1> if the choice \"DL parameters\" is set to \'same as uplink\':
2> if the IE \"_UL Transport Channel Identity_ \" indicates an existing or a
new UL Transport Channel:
3> store as transport format for this transport channel the transport format
associated with the transport channel identified by the IE \"_UL Transport
Channel Identity_ \".
2> else:
3> set the variable INVALID_CONFIGURATION to TRUE.
#### 7.19.7.6 Deleted UL TrCH information
If the IE \"_Deleted UL TrCH Information_ \" is included the MS shall:
1> delete any information about the transport channel identified by the IE
\"_UL TrCH Identity_ \" and IE \"_Uplink Transport Channel Type_ \".
#### 7.19.7.7 Deleted DL TrCH information
If the IE \"_Deleted DL TrCH Information_ \" is included the MS shall:
1> delete any information about the transport channel identified by the IE
\"_DL TrCH Identity_ \" as applicable.
#### 7.19.7.8 UL TrCH information common for all transport channels
If the IE \"_UL TrCH Information Common For All Transport Channels_ \" is
included the MS shall:
1> perform actions for the IE \"_UL DCH TFCS_ \" as specified in sub-clause
7.19.7.2.
#### 7.19.7.9 DL TrCH information common for all transport channels
If the IE \"_DL TrCH Information Common For All Transport Channels_ \" is
included the MS shall:
1> if the IE \"_DL DCH TFCS_ \" is included:
2> perform actions as specified in sub-clause 7.19.7.2.
The IE \"_DL TrCH Information Common For All Transport Channels_ \" shall
always include a DL DCH TFCS configuration, either by including the IE \"_DL
DCH TFCS_ \" or by specifying that the TFCS is the same as in UL. If GERAN
does not require the reconfiguration of the concerned parameters, GERAN may
replace one TFC with the value that is already assigned for this IE.
#### 7.19.7.10 TFCS Reconfiguration/Addition Information
If the IE \"_TFCS Reconfiguration/Addition Information_ \" is included the MS
shall:
1> store the TFCs to be reconfigured/added indicated in the IE \"_CTFC
Information_ \" as specified below;
In order to identify the TFCs included in this IE the MS shall calculate the
CTFC as specified in clause 11.
If the IE \"_TFCS Reconfiguration/Addition Information_ \" is used in case of
TFCS \"Complete reconfiguration\" the MS shall:
1> remove a previously stored transport format combination set if this exists;
1> consider the first instance of the IE \"_CTFC Information_ \" as Transport
Format Combination 0 (TFCI=0)
If the IE \"_TFCS Reconfiguration/Addition Information_ \" is used in case of
TFCS \"Addition\" the MS shall insert the new additional(s) TFC into the first
available position(s) in ascending TFCI order in the TFCS.
#### 7.19.7.11 TFCS Removal Information
If the IE \"_TFCS Removal Information_ \" is included the MS shall:
1> remove the TFCs indicated by the IE \"_TFCI_ \" from the current TFCS, and
mark these positions (TFCI) in the TFCS as vacant.
  1. if "_Compression Algorithm_ " flag is set to one and if the size of the TFCI can be reduced as a result of removing the vacant TFCIs, then the TFCI values shall be shifted as follows:
> For TFCI~loop~=1 on FR channels and 2 on HR channels, to (Number of non
> vacant positions in the TFCS - 1)
>
> If TFCI~loop~ is vacant then
>
> Assign to TFCI~loop~ the first remaining TFC for which the assigned TFCI >
> TFCI~loop~ and then mark the position of that TFC (TFCI) as vacant.
>
> End if.
>
> End for.
2> if "_Compression Algorithm_ " flag is set to zero then no shift shall be
applied.
NOTE: whether the size of the TFCI can be reduced or not can easily be
assessed by:
$\left\lceil \text{log}_{2}\left( \text{NumberOfNonVacantPositions} \right)
\right\rceil  remain on the current channel(s).
  1. set the variable INVALID_CONFIGURATION to TRUE.
1> send failure message (RADIO BEARER SETUP FAILURE or RADIO BEARER
RECONFIGURATION FAILURE or RADIO BEARER RELEASE FAILURE) as it is described in
subclause 7.14.1.9.
#### 7.19.7.12 TFCS Explicit Configuration
If the IE \" _TFCS Explicit Configuration_ \" is included the MS shall:
1> if the IE choice \"_TFCS Representation_ \" is set to \'complete
reconfiguration\':
2> perform the actions for the IE \"_TFCS Reconfiguration/Addition
Information_ \" as specified in sub-clause 7.19.7.10.
1> if the IE choice \"_TFCS Representation_ \" is set to \'addition\':
2> perform the actions for the IE \"_TFCS Reconfiguration/Addition
Information_ \" as specified in sub-clause 7.19.7.10.
1> if the IE choice \"_TFCS Representation_ \" is set to \'removal\':
2> perform the actions for the IE \"_TFCS Removal Information_ \" as specified
in sub-clause 7.19.7.11.
1> if the IE choice \"_TFCS Representation_ \" is set to \'replace\':
2> perform first the actions for the IE \"_TFCS Removal Information_ \" as
specified in sub-clause 7.19.7.11; and then
2> perform the actions for the IE \"_TFCS Reconfiguration/Addition
Information_ \" as specified in sub-clause 7.19.7.10.
# 8 Handling of unknown, unforeseen, and erroneous protocol data
## 8.1 General
This sub-clause specifies procedures for the handling of unknown, unforeseen,
and erroneous protocol data by the receiving entity. These procedures are
called \"error handling procedures\", but in addition to provide recovery
mechanisms for error situations they define a compatibility mechanism for
future extensions of the protocol.
The error handling procedures specified in this sub-clause shall apply to all
RRC messages. When there is a different handling for the same message received
on different logical channels, this is specified.
For system information, the error handling procedures applied on system
information messages are specified below.
When the MS receives an RRC message, it shall set the variable
PROTOCOL_ERROR_REJECT to FALSE and then perform the checks in the order as
defined below.
The error cases specified in the following include handling upon reception of
spare values. This behaviour also applies in case the actual value of the IE
results from mapping the originally sent IE value. Moreover, in certain error
cases, as specified in the following, default values apply. In this case, the
default values specified within the procedure specifications apply.
The procedures for the handling of unknown, unforeseen, and erroneous protocol
data by the receiving entity for the ASN1 coded messages (CELL UPDATE, GRA
UPDATE and GRA UPDATE CONFIRM) sent on the SRB2 and IEs are following the
rules defined in 3GPP TS 25.331.
## 8.2 CSN.1 violation or encoding error
If the MS receives an RRC message on SRB 2, SRB 3 or SRB 4 for which the
encoded message does not result in any valid syntax value (or \"encoding
error\"), it shall perform the following. The MS shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE;
1> transmit an RRC STATUS message on SRB2. The IE \"_Protocol Error
Information_ \" shall contain an IE \"_Protocol Error Cause_ \" set to \"CSN.1
violation or encoding error\";
1> when RRC STATUS message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
message had not been received.
If the MS receives an RRC message sent via a radio access technology other
than GERAN, for which the encoded message does not result in any valid syntax,
the MS shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE;
1> set the IE \"_Protocol Error Cause_ \" in the variable
PROTOCOL_ERROR_INFORMATION to \"CSN.1 violation or encoding error\";
1> perform procedure specific error handling according to clause 7.
If a set of system information message received on SRB 1 does not result in
any valid syntax value, the MS shall:
1> ignore the set of system information message;
1> treat the other sets of this system information message as if those sets
were not present.
If the MS receives an RRC message on SRB 1 for which the encoded message does
not result in any valid syntax value, it shall ignore the message.
If the MS receives an RRC message on SRB 2 and if the RRC message is coded in
ASN1 then MS shall follow the rules defined in 3GPP TS 25.331 for the DL
messages sent on the DCCH.
If the MS receives an RRC message sent on SRB2 or via a radio access
technology other than GERAN, and the RRC message is coded in ASN1 for which
the encoded message does not result in any valid syntax, the MS shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE;
1> set the IE \"_Protocol Error Cause_ \" in the variable
PROTOCOL_ERROR_INFORMATION to \"CSN.1 violation or encoding error\";
1> perform procedure specific error handling according to clause 7.
## 8.3 Unknown or unforeseen message type
If a MS receives an RRC message on a SRB 2, SRB 3 or SRB 4 with a message type
not defined for that SRB it shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE;
1> transmit an RRC STATUS message on SRB 2. The IE \"_Protocol Error
Information_ \" shall contain an IE \"_Protocol Error Cause_ \" set to
\"Message type non-existent or not implemented\";
1> when the RRC STATUS message has been submitted to lower layers for
transmission:
2> continue with any ongoing processes and procedures as if the invalid
message had not been received.
If the MS receives an RRC message on SRB 1 with a message type not defined for
the logical channel type the message was received on, it shall ignore the
message.
## If the MS receives an RRC message on SRB2 with message type not defined for
that SRB and if the RRC message is coded in ASN1 then MS shall follow the
rules defined in 3GPP TS 25.331 for the DL messages sent on the DCCH.8.4
Unsolicited received message
If the MS receives any of the following messages, on SRB 2:
\- an RRC CONNECTION SETUP message addressed to the MS; or
\- an RRC CONNECTION REJECT message addressed to the MS; or
\- a MS CAPABILITY INFORMATION CONFIRM message; or
\- a CELL UPDATE CONFIRM message addressed to the MS; or
\- a GRA UPDATE CONFIRM message addressed to the MS
and no procedure is ongoing according to clause 7 which expects the message to
be received:
the MS shall:
1> ignore the received message.
## 8.5 Unexpected critical message extension
If the MS receives an RRC message on SRB 2, SRB 3 or SRB 4, or sent via a
radio access technology other than GERAN, containing an undefined critical
message extension indicated with the error label: 'Critical extension', the MS
shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE;
1> set the IE \"_Protocol Error Cause_ \" in the variable
PROTOCOL_ERROR_INFORMATION to \"Message extension not comprehended\";
1> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Rejected transactions\" in the variable TRANSACTIONS:
2> store the IE \"_Message Type_ \" of the received message in the table
\"Rejected transactions\" in the variable TRANSACTIONS; and
2> set the IE \"_RRC Transaction Identifier_ \" to zero in that table entry.
1> perform procedure specific error handling according to clause 7.
If the MS receives an RRC message on the SRB 1, containing an undefined
critical message extension, the MS shall:
1> ignore the message.
## 8.6 Message with error label: 'Content part error'
If the MS receives an RRC message containing the error label: 'Content part
error', the MS shall:
1> set the variable PROTOCOL_ERROR_REJECT to TRUE;
1> set the IE \"_Protocol Error Cause_ \" in the variable
PROTOCOL_ERROR_INFORMATION to \"Message content part error\";
1> if the IE \"_Message Type_ \" of the received message is not present in the
table \"Rejected transactions\" in the variable TRANSACTIONS:
2> store the IE \"_Message Type_ \" of the received message in the table
\"Rejected transactions\" in the variable TRANSACTIONS; and
2> set the IE \"_RRC Transaction Identifier_ \" to zero in that table entry;
1> ignore the data corresponding to the description following the error label;
1> perform procedure specific error handling according to clause 7.
## 8.7 Unknown or unforeseen information element value, mandatory information
element
If the MS receives an RRC message on SRB 2, SRB 3 or SRB 4, or sent via a
radio access technology other than GERAN, with a mandatory IE having a value,
including choice, reserved for future extension (spare) or a value not used in
this version of the specification (e.g. a dummy value), the MS shall:
1> if a default value of the IE is defined in the procedure:
2> treat the rest of the message using the default value of the IE.
1> if no default value of the IE is defined in the procedure:
2> set the variable PROTOCOL_ERROR_REJECT to TRUE;
2> set the IE \"_Protocol Error Cause_ \" in the variable
PROTOCOL_ERROR_INFORMATION to \"Information element value not comprehended\";
2> perform procedure specific error handling according to clause 7.
If the MS receives a system information message on SRB 1 with a mandatory IE
having a value reserved for future extension (spare) or a value not used in
this version of the specification (e.g. a dummy value), the MS shall:
1> if a default value of the IE is defined in the procedure:
2> treat the rest of the system information message using the default value of
the IE.
1> if no default value of the IE is defined in the procedure:
2> ignore the system information message.
If the MS receives an RRC message on SRB 1 with a mandatory IE having a value
reserved for future extension (spare) or a value not used in this version of
the specification (e.g. a dummy value), the MS shall:
1> if a default value of the IE is defined in the procedure:
2> treat the rest of the message using the default value of the IE.
1> if no default value of the IE is defined in the procedure:
2> ignore the message.
If the MS receives an RRC message on SRB 2 or sent via a radio access
technology other than GERAN, with a mandatory IE having a value, including
choice, reserved for future extension (spare) or a value not used in this
version of the specification (e.g. a dummy value) and if the RRC message is
coded in ASN1 then MS shall follow the rules defined in 3GPP TS 25.331 for the
DL messages sent on the DCCH.
## 8.8 Unexpected non-critical message extension
If the MS receives an RRC message on the SRB 2, SRB 3 or SRB 4, or sent via a
radio access technology other than GERAN, containing an undefined non-critical
message extension, the MS shall:
1> ignore the content of the extension and the message contents after the
extension, but treat the parts of the message up to the extension normally.
If the MS receives an RRC message on the SRB 1, containing an undefined non-
critical message extension, the MS shall:
1> ignore the content of the extension and the message contents after the
extension, but treat the parts of the message up to the extension normally.
If the MS receives an RRC message on the SRB 2,or sent via a radio access
technology other than GERAN, containing an undefined non-critical message
extension and if the RRC message is coded in the ASN1 then MS shall follow the
rules defined in 3GPP TS 25.331 for the DL messages sent on the DCCH.
## 8.9 Message with error label: 'Message escape'
If the MS receives an RRC message containing the error label: 'Message escape'
where the number of bits of the extension is not defined in clause 9, the MS
shall:
1> ignore the message.
If the MS receives an RRC message containing the error label: 'Message escape'
where the number of bits of the extension is defined in clause 9, the MS
shall:
1> ignore the extension by skiping the number of bits indicated in clause 9;
1> treat the rest of the message as if the extension was not present.
## 8.10 Handling of errors in nested information elements
This sub-clause specifies the handling of errors in mandatory IEs as well as
for conditional IEs for which the specified conditions for presence are met,
that are nested in another IE.
In case the MS receives an IE (Information Element 1) that includes a
mandatory IE (Information Field 1-1) having a value, including reserved for
future extension (spare) or a value not used in this version of the
specification (e.g. a dummy value), the MS shall:
1> consider Information Element 1 to have an undefined value; and
1> apply the corresponding generic error handling to Information Element 1.
In case there are many IE nesting levels, in all of which the IE is mandatory
while no default value is defined, this treatment may need to be repeated
several times. The following example illustrates the general principle.
Table 8.11.1: EXAMPLE MESSAGE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { 0 \| 1 \ > } | | | | \ > | | | | ! \ > }; | +----------------------------------------------------------------------+
Table 8.11.2: Information Element 1 information element
+--------------------------------------------------------------------------+ | \ ::= | | | | { | | | | { 0 \| 1 \ } | | | | \ > | | | | \ > | | | | }; | +--------------------------------------------------------------------------+
Table 8.11.3: Information Element 1 information element details
+---------------------------------------------+ | **Information Field** **1-1** (4 bit field) | | | | 4 3 2 1\ | | 0 0 0 0 1\ | | 0 0 0 1 2\ | | : : : :\ | | 1 1 0 0 13\ | | 1 1 0 1 reserved for future extension\ | | 1 1 1 0 reserved for future extension\ | | 1 1 1 1 reserved for future extension | +---------------------------------------------+ | **Information Element** **1-2** \ | | Definition of Information Element 1-2. | +---------------------------------------------+ | **Information Element** **1-3** \ | | Definition of Information Element 1-3. | +---------------------------------------------+
If in the above example, GERAN would include Information Element 1 and set
Information Field 1-1 to value 13, the MS experiences an error in a mandatory
IE. The guideline outlined in the previous then means that the MS shall not
discard the entire message but instead consider \" Information Element 1\" to
have an unknown value. Since Information Element 1 is optional, the generic
error handling would be to ignore \" Information Element 1\".
In case the MS receives an IE (Information Element 1) that includes a list of
another IE (Information Field1-1) for which one or more entries in the list
have a value, including reserved for future extension (spare) or a value not
used in this version of the specification (e.g. a dummy value), the MS shall:
1> consider the list as if these entries were not included.
The rules of handling the errors for nested IE coded in ASN1 are defined in
3GPP TS 25.331
## 8.11 Unknown or unforeseen information element value, optional information
element coded in ASN1
If the MS receives an RRC message coded in ASN1 on the SRB2, or sent via a
radio access technology other than GERAN, with an optional IE having a value,
including choice, reserved for future extension (spare) or a value not used in
this version of the specification (e.g. a dummy value), it shall:
1> ignore the value of the IE;
1> treat the rest of the message as if the IE was not present.
# 9 Message functional definitions and contents
## 9.1 General
### 9.1.1 Introduction
Padding is not needed for RRC messages since RRC is not a transmission
protocol.
For harmonization sake, it is assumed that GERAN RRC has to provide the same
extension capability as UTRAN RRC. The management of extension for future
releases is done at the message level or at Information Element (IE) level
when the IE uses the { \ \ } format. The error
handling is not defined at the IE level.
An IE can be structured or simple. A structured IE consists of other IEs
and/or fields. A simple IE consists of one field. A field defines itself.
It was also agreed as working assumption that IEs in 3GPP TS 44.018 to be used
in both modes (e.g. physical channel parameters) will not be copied from 3GPP
TS 44.018 into 3GPP TS 44.018. Instead, in 3GPP TS 44.118, two fields will be
defined: the length in octets, as bit(8), and a content placeholder with such
length and whose definition points to the value part of the IE in 3GPP TS
44.018 should be included in the 3GPP TS 44.118. When the IE in 3GPP TS 44.018
is coded in CSN.1 (e.g. RR PACKET UPLINK ASSIGNMENT) and it already includes
the length, a content placeholder with such length and whose definition points
to the value part of the IE in 3GPP TS 44.018 should be included in 3GPP TS
44.118.
Bit fields within RRC messages shall have the highest numbered bit of the bit
field in the highest numbered bit of the lowest number octet. The mapping of
an 11 bit field is illustrated in figure 9.1.1.1.
* * *
bit  
8 7 6 5 4 3 2 1  
Octet N bit 11 bit 10 bit 9 bit 8 Octet N+1 bit 7 bit 6 bit 5 bit 4 bit 3 bit
2 bit 1 Octet N+2 Octet N+3
* * *
Figure 9.1.1.1: Field mapping within RRC messages
The encoding rules of the RRC messages (CELL UPDATE, GRA UPDATE and GRA UPDATE
CONFIRM) coded in ASN1 are following the ones defined in 3GPP TS 25.331.
### 9.1.2 Repetitions of Structure, IE or field:
The following coding shall be used for unbounded repetition:
> { { 1 \ > } ** 0 } or,\ { { 1 \ (integer) > } ** 0 } or,\ { { 1 \ } ** 0 }
The following coding shall be used for bounded extension for optional
structures, IE's or fields:
> { 0 \| 1 \\ \ > >* (n+val(number of repetition)) }
>
> or
>
> { 0 \| 1 \\ \ (integer) >* (n+val(number of repetition)) }
>
> or
>
> { 0 \| 1 \\ \ **struct** >* (n+val(number of repetition)) }
where n ≥ 1.
The following coding shall be used for bounded extension for mandatory
structures, IE's or fields:
> { \\ \ >*
> (n+val(number of repetition)) }
>
> or
>
> { \\ \ (integer) >* (n+val(number of repetition)) }
>
> or
>
> { \\ \*
> (n+val(number of repetition)) }
where n ≥ 1.
### 9.1.3 Message format and error labels
#### 9.1.3.1 General
The general format of messages, including these error labels, is:
+-----------------------------------------------------------+ | \ ::= | | | | \ > | | | | { \ | | | | ! \ > } | | | | ! \ ; | +-----------------------------------------------------------+
Message type shall be coded using 8 bits with separate message type for uplink
and downlink, as follow:
+----------------------------------------------------------------------+ | \ ::= | | | | \ \ \| | | | | \ \ ; | +----------------------------------------------------------------------+
The message content should be presented has follow:
9.2.x MESSAGE NAME
Explanation of the message use.
Radio Bearer: SRBx
Direction: GERAN→MS and/or MS →GERAN
Table 9.2.x.1: MESSAGE NAME information elements
+-------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | ! \ > } ; | +-------------------------------------------------------------+
Table 9.2.x.2: MESSAGE NAME information element details
* * *
**IE1\** Definition of the IE1
**IE2\** Definition of the IE2
* * *
The encoding rules of the RRC messages (CELL UPDATE, GRA UPDATE and GRA UPDATE
CONFIRM) and the IEs coded in ASN1 are following the ones defined in 3GPP TS
25.331.
#### 9.1.3.2 Message extension for new protocol version in RRC
Non-Critical message extension and critical message extension mechanism from
UTRAN RRC (3GPP TS 25.331) are duplicated in GERAN RRC.
The extension mechanism for the RRC messages (CELL UPDATE, GRA UPDATE and GRA
UPDATE CONFIRM) and the IEs coded in ASN1 is following the one defined in 3GPP
TS 25.331.
##### 9.1.3.2.1 Non-Critical extension
Non-critical extensions will be achieved by adding in the optional references
at the end of the message definition. The new elements introduced to specify
the extensions should be grouped together in a structure with a name showing
the version of the release.
Table 9.1.3.2.1.1: Coding non-critical extension in CSN.1
+----------------------------------------------------------------------+ | { null \| 0 bit ** = \ _\-- Receiver compatible with | | earlier release_ | | | | \| 1 _\-- Additions in Release xx_ | | | | \ > } | +----------------------------------------------------------------------+
Table 9.1.3.2.1.2: Example message coding using non-critical extension in
CSN.1
+------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | { null \| 0 bit ** = \ | | | | \| 1 | | | | \ > | | | | \ > | | | | { null \| 0 bit ** = \ | | | | \| 1 | | | | \ > | | | | \ >} } | | | | ! \ >} ; | +------------------------------------------------------------+
##### 9.1.3.2.2 Critical extension
At the beginning of the message, which may require critical extensions, one
bit is added for defining a choice of two branches. All Downlink messages
shall enable critical extension with an escape bit at the beginning. One
branch would include the message structure, the other branch would be an empty
sequence with the comment 'Message escape critical extensions\'.
Table 9.1.3.2.2.1: Coding of critical extension in CSN.1
+-------------------------------------------------------+ | 0 _\-- critical extension escape available_ | | | | \ | | | | ! \ > | +-------------------------------------------------------+
Table 9.1.3.2.2.2: An example message coding containing critical extension bit
in CSN.1
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 _\-- critical extension escape available_ | | | | { | | | | \ > | | | | \ > ! \ > } | | | | ! \ | | > }; | +----------------------------------------------------------------------+
When a new release is introduced, the empty sequence with \'Message escape
critical extensions\' will be replaced by a new structure that includes a new
type containing the message extensions, and the same extension mechanism
recursively for further extensions.
Table 9.1.3.2.2.3: An example message coding using critical extension bit in
CSN.1
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 _\-- critical extension escape available_ | | | | { | | | | \ > | | | | \ > | | | | ! \ > } | | | | \| 1 _\-- critical extension for R-7_ | | | | { 0 | | | | { | | | | \ > | | | | \ > | | | | ! \ >} | | | | ! \ | | > } | | | | }; | +----------------------------------------------------------------------+
The critical extension escape should be used as scarcely as possible in order
to preserve backward compatibility.
##### 9.1.3.2.3 Extension of IE's
If an IE is expected to be extended, the addition of a fixed length extension
length at the start of the IE, and \** at the end will allow for
future extension of the information element.
Table 9.1.3.2.3.1: Coding of IE extension in CSN.1
+------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | \ > | | | | \** ; | +------------------------------------+
Table 9.1.3.2.3.2: Example description of IE extension fields
* * *
**IE Name Length (n bit field)** \ This field is the binary representation of
the length in bits of the IE (excluding the length field) struct. Range 0-2...
* * *
##### 9.1.3.2.4 \'Message escape\' error label
The \'Message escape\' error label is used to provide an escape for, e.g. a
future modification of the message syntax. The generic description is:
+------------------------------------------------------+ | 0 \ | | | | ! \ > | +------------------------------------------------------+
An \'Message escape\' error label shall be applied by the receiver of a
downlink RRC message when specified in the message description. The
description on the left of the error branch needs to be correctly recognised.
Otherwise, the error branch \'Message escape\' is called. N should be an
integer to enable the receiver to skip the exact number of information bits in
the message in case of error. N may also be '*' when the number of bits are
not defined.
## 9.2 Messages for Radio Resources management
### 9.2.1 General
Each definition given in the sub-clause 9.2 includes:
  * a brief description of the message direction and use;
  * a CSN.1 description of the message, information elements and fields (see CSN.1 Specification, Version 2.0). Definition of information elements may immediately follow the definition of the message. If the definition of an information element immediately follows the message definition, the information element name ends with \'struct\'. Otherwise the information element name ends with \'IE\' and the definition of the information element is defined in sub-clause 9.3 or in 3GPP TS 44.160. The definition of a \'struct\' is valid only within the table in which it is defined. No references shall be made to a \'struct\' definition from outside of the table in which it is defined or from outside the present document. The definition of an information element is valid throughout clause 9. ;
  * a table follows which contains a definition for each field referenced in the message definition or in an information element struct immediately following the message definition. Presence requirement for information elements or fields may be indicated in this table to define when the information elements shall be included or not, what non-presence of such information elements or fields means, and, for IEs with conditional presence requirement, the static conditions for presence and/or non-presence of the information elements or fields. However, the normative text for the presence requirement for information elements or fields is specified in the appropriate procedure sub-clause;
#### 9.2.1.1 References
Table 9.2.1.1.1 summarizes the messages for Radio Resources management.
NOTE: New messages will be added in this table.
Table 9.2.1.1.1: Messages for Radio Resources management
* * *
Messages Reference RRC connection mobility  
CELL UPDATE Sub-clause 9.2.2 CELL UPDATE CONFIRM Sub-clause 9.2.3 GERAN
MOBILITY INFORMATION Sub-clause 9.2.8 GERAN MOBILITY INFORMATION CONFIRM Sub-
clause 9.2.9 GERAN MOBILITY INFORMATION FAILURE Sub-clause 9.2.10 GRA UPDATE
Sub-clause 9.2.11 GRA UPDATE CONFIRM Sub-clause 9.2.12 Handover  
HANDOVER COMPLETE Sub-clause 9.2.14 HANDOVER FAILURE Sub-clause 9.2.15
HANDOVER FROM GERAN Iu COMMAND Sub-clause 9.2.16 INTER SYSTEM TO CDMA2000
HANDOVER COMMAND Sub-clause 9.2.18 INTER SYSTEM TO UTRAN HANDOVER COMMAND Sub-
clause 9.2.19 LCS information  
LCS DOWNLINK INFORMATION Sub-clause 9.2.20 LCS UPLINK INFORMATION Sub-clause
9.2.21 MS Capability information  
MS CAPABILITY ENQUIRY Sub-clause 9.2.24 MS CAPABILITY INFORMATION Sub-clause
9.2.25 MS CAPABILITY INFORMATION CONFIRM Sub-clause 9.2.26 Measurement  
EXTENDED MEASUREMENT ORDER Sub-clause 9.2.6 EXTENDED MEASUREMENT REPORT Sub-
clause 9.2.7 MEASUREMENT INFORMATION Sub-clause 9.2.22 MEASUREMENT REPORT Sub-
clause 9.2.23 ENHANCED MEASUREMENT REPORT Sub-clause 9.2.7a Paging  
DEDICATED PAGING REQUEST Sub-clause 9.2.4 Radio bearer control  
RADIO BEARER RECONFIGURATION Sub-clause 9.2.28 RADIO BEARER RECONFIGURATION
COMPLETE Sub-clause 9.2.29 RADIO BEARER RECONFIGURATION FAILURE Sub-clause
9.2.30 RADIO BEARER RELEASE Sub-clause 9.2.31 RADIO BEARER RELEASE COMPLETE
Sub-clause 9.2.32 RADIO BEARER RELEASE FAILURE Sub-clause 9.2.33 RADIO BEARER
SETUP Sub-clause 9.2.34 RADIO BEARER SETUP COMPLETE Sub-clause 9.2.35 RADIO
BEARER SETUP FAILURE Sub-clause 9.2.36 GERAN Iu mode DTM REQUEST Sub-clause
9.2.57 GERAN Iu mode DTM REJECT Sub-clause 9.2.58 RRC Connection Management  
RRC CONNECTION REJECT Sub-clause 9.2.37 RRC CONNECTION RELEASE Sub-clause
9.2.38 RRC CONNECTION RELEASE COMPLETE Sub-clause 9.2.39 RRC CONNECTION
REQUEST Sub-clause 9.2.40 RRC CONNECTION SETUP Sub-clause 9.2.41 RRC
CONNECTION SETUP COMPLETE Sub-clause 9.2.42 Security mode control  
SECURITY MODE COMMAND Sub-clause 9.2.45 SECURITY MODE COMPLETE Sub-clause
9.2.46 SECURITY MODE FAILURE Sub-clause 9.2.47 Signalling flow  
SIGNALLING CONNECTION RELEASE Sub-clause 9.2.48 SIGNALLING CONNECTION RELEASE
INDICATION Sub-clause 9.2.49 System information  
SYSTEM INFORMATION 13 3GPP TS 44.108 SYSTEM INFORMATION 3 3GPP TS 44.108
SYSTEM INFORMATION 5 Sub-clause 9.2.51 SYSTEM INFORMATION 5bis Sub-clause
9.2.52 SYSTEM INFORMATION 5ter Sub-clause 9.2.53 SYSTEM INFORMATION 6 Sub-
clause 9.2.54 Delivery of NAS  
DOWNLINK DIRECT TRANSFER Sub-clause 9.2.5 INITIAL DIRECT TRANSFER Sub-clause
9.2.17 UPLINK DIRECT TRANSFER Sub-clause 9.2.56 Miscellaneous  
RRC STATUS Sub-clause 9.2.43 RRC FAILURE INFO Sub-clause 9.2.44 INTER RAT or
MODE HANDOVER INFO WITH MS CAPABILITIES Sub-clause 11.1.5 SBSS RELOCATION INFO
Sub-clause 11.1.5
* * *
#### 9.2.1.2 Downlink RRC messages
The different types of messages are distinguished by the MESSAGE_TYPE field.
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ | | \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ | | | | \** } | | | | ! \ } \ > ; | +----------------------------------------------------------------------+
#### 9.2.1.3 Uplink RRC messages
The different types of messages are distinguished by the MESSAGE_TYPE field.
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ | | \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ \| | | | | \ \ | | | | \ \ | | | | \ \ | | | | \ ** } ; | +----------------------------------------------------------------------+
The \'Default downlink message contents\' consists an unspecified bit string
that expands to the end of the message.
+--------------------------------------------+ | \ ::= | | | | bit (*) = \ ; | +--------------------------------------------+
##### 9.2.1.3.1 Message definitions
If the abstract syntax of an IE is defined using the ASN.1 type \"BIT STRING
then the encoding rules are defined in 3GPP TS 25.331.
Class-definitions DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
IMPORTS
CellUpdate,
GRAUpdate,
GRAUpdateConfirm,
Reserved ::= NULL
FROM PDU-definitions
\-- Mobile Station IEs
IntegrityCheckInfo
FROM InformationElements;
\--**************************************************************
\--
\-- Uplink SRB2 messages
\--
\--**************************************************************
UL-Message ::= SEQUENCE {
integrityCheckInfo IntegrityCheckInfo OPTIONAL,
message UL-MessageType
}
UL-MessageType ::= CHOICE {
cellUpdate CellUpdate -- 00000000,
reserved1 Reserved,
reserved2 Reserved,
reserved3 Reserved,
graUpdate GRAUpdate -- 00000100,
reserved5 Reserved,
reserved6 Reserved,
reserved7 Reserved,
reserved8 Reserved,
reserved9 Reserved,
reserved10 Reserved,
reserved11 Reserved,
reserved12 Reserved,
reserved13 Reserved,
reserved14 Reserved,
reserved15 Reserved,
reserved16 Reserved,
reserved17 Reserved,
reserved18 Reserved,
reserved19 Reserved,
reserved20 Reserved,
reserved21 Reserved,
reserved22 Reserved,
reserved23 Reserved,
reserved24 Reserved,
reserved25 Reserved,
reserved26 Reserved,
reserved27 Reserved,
reserved28 Reserved,
reserved29 Reserved,
reserved30 Reserved,
reserved31 Reserved,
reserved32 Reserved,
reserved33 Reserved,
reserved34 Reserved,
reserved35 Reserved,
reserved36 Reserved,
reserved37 Reserved,
reserved38 Reserved,
reserved39 Reserved,
reserved40 Reserved,
reserved41 Reserved,
reserved42 Reserved,
reserved43 Reserved,
reserved44 Reserved,
reserved45 Reserved,
reserved46 Reserved,
reserved47 Reserved,
reserved48 Reserved,
reserved49 Reserved,
reserved50 Reserved,
reserved51 Reserved,
reserved52 Reserved,
reserved53 Reserved,
reserved54 Reserved,
reserved55 Reserved,
reserved56 Reserved,
reserved57 Reserved,
reserved58 Reserved,
reserved59 Reserved,
reserved60 Reserved,
reserved61 Reserved,
reserved62 Reserved,
reserved63 Reserved,
reserved64 Reserved,
reserved65 Reserved,
reserved66 Reserved,
reserved67 Reserved,
reserved68 Reserved,
reserved69 Reserved,
reserved70 Reserved,
reserved71 Reserved,
reserved72 Reserved,
reserved73 Reserved,
reserved74 Reserved,
reserved75 Reserved,
reserved76 Reserved,
reserved77 Reserved,
reserved78 Reserved,
reserved79 Reserved,
reserved80 Reserved,
reserved81 Reserved,
reserved82 Reserved,
reserved83 Reserved,
reserved84 Reserved,
reserved84 Reserved,
reserved85 Reserved,
reserved86 Reserved,
reserved87 Reserved,
reserved88 Reserved,
reserved89 Reserved,
reserved90 Reserved,
reserved91 Reserved,
reserved92 Reserved,
reserved93 Reserved,
reserved94 Reserved,
reserved95 Reserved,
reserved96 Reserved,
reserved97 Reserved,
reserved98 Reserved,
reserved99 Reserved,
reserved100 Reserved,
reserved101 Reserved,
reserved102 Reserved,
reserved103 Reserved,
reserved104 Reserved,
reserved105 Reserved,
reserved106 Reserved,
reserved107 Reserved,
reserved108 Reserved,
reserved109 Reserved,
reserved110 Reserved,
reserved111 Reserved,
reserved112 Reserved,
reserved113 Reserved,
reserved114 Reserved,
reserved115 Reserved,
reserved116 Reserved,
reserved117 Reserved,
reserved118 Reserved,
reserved119 Reserved,
reserved120 Reserved,
reserved121 Reserved,
reserved122 Reserved,
reserved123 Reserved,
reserved124 Reserved,
reserved125 Reserved,
reserved126 Reserved,
reserved127 Reserved,
reserved128 Reserved,
reserved129 Reserved,
reserved130 Reserved,
reserved131 Reserved,
reserved132 Reserved,
reserved133 Reserved,
reserved134 Reserved,
reserved135 Reserved,
reserved136 Reserved,
reserved137 Reserved,
reserved138 Reserved,
reserved139 Reserved,
reserved140 Reserved,
reserved141 Reserved,
reserved142 Reserved,
reserved143 Reserved,
reserved144 Reserved,
reserved145 Reserved,
reserved146 Reserved,
reserved147 Reserved,
reserved148 Reserved,
reserved149 Reserved,
reserved150 Reserved,
reserved151 Reserved,
reserved152 Reserved,
reserved153 Reserved,
reserved154 Reserved,
reserved155 Reserved,
reserved156 Reserved,
reserved157 Reserved,
reserved158 Reserved,
reserved159 Reserved,
reserved160 Reserved,
reserved161 Reserved,
reserved162 Reserved,
reserved163 Reserved,
reserved164 Reserved,
reserved165 Reserved,
reserved166 Reserved,
reserved167 Reserved,
reserved168 Reserved,
reserved169 Reserved,
reserved170 Reserved,
reserved171 Reserved,
reserved172 Reserved,
reserved173 Reserved,
reserved174 Reserved,
reserved175 Reserved,
reserved176 Reserved,
reserved177 Reserved,
reserved178 Reserved,
reserved179 Reserved,
reserved180 Reserved,
reserved181 Reserved,
reserved182 Reserved,
reserved183 Reserved,
reserved184 Reserved,
reserved185 Reserved,
reserved186 Reserved,
reserved187 Reserved,
reserved188 Reserved,
reserved189 Reserved,
reserved190 Reserved,
reserved191 Reserved,
reserved192 Reserved,
reserved193 Reserved,
reserved194 Reserved,
reserved195 Reserved,
reserved196 Reserved,
reserved197 Reserved,
reserved198 Reserved,
reserved199 Reserved,
reserved200 Reserved,
reserved201 Reserved,
reserved202 Reserved,
reserved203 Reserved,
reserved204 Reserved,
reserved205 Reserved,
reserved206 Reserved,
reserved207 Reserved,
reserved208 Reserved,
reserved209 Reserved,
reserved210 Reserved,
reserved211 Reserved,
reserved212 Reserved,
reserved213 Reserved,
reserved214 Reserved,
reserved215 Reserved,
reserved216 Reserved,
reserved217 Reserved,
reserved218 Reserved,
reserved219 Reserved,
reserved220 Reserved,
reserved221 Reserved,
reserved222 Reserved,
reserved223 Reserved,
reserved224 Reserved,
reserved225 Reserved,
reserved226 Reserved,
reserved227 Reserved,
reserved228 Reserved,
reserved229 Reserved,
reserved230 Reserved,
reserved231 Reserved,
reserved232 Reserved,
reserved233 Reserved,
reserved234 Reserved,
reserved235 Reserved,
reserved236 Reserved,
reserved237 Reserved,
reserved238 Reserved,
reserved239 Reserved,
reserved240 Reserved,
reserved241 Reserved,
reserved242 Reserved,
reserved243 Reserved,
reserved244 Reserved,
reserved245 Reserved,
reserved246 Reserved,
reserved247 Reserved,
reserved248 Reserved,
reserved249 Reserved,
reserved250 Reserved,
reserved251 Reserved,
reserved252 Reserved,
reserved253 Reserved,
reserved254 Reserved,
reserved255 Reserved
}
\--**************************************************************
\--
\-- Downlink SRB2 messages
\--
\--**************************************************************
DL-Dedicated-Message ::= SEQUENCE {
integrityCheckInfo IntegrityCheckInfo OPTIONAL,
message DL-Dedicated-MessageType
}
DL-Dedicated-MessageType ::= CHOICE {
reserved0 Reserved,
reserved1 Reserved,
reserved2 Reserved,
reserved3 Reserved,
reserved4 Reserved,
graUpdateConfirm GRAUpdateConfirm -- 00000101,
reserved6 Reserved,
reserved7 Reserved,
reserved8 Reserved,
reserved9 Reserved,
reserved10 Reserved,
reserved11 Reserved,
reserved12 Reserved,
reserved13 Reserved,
reserved14 Reserved,
reserved15 Reserved,
reserved16 Reserved,
reserved17 Reserved,
reserved18 Reserved,
reserved19 Reserved,
reserved20 Reserved,
reserved21 Reserved,
reserved22 Reserved,
reserved23 Reserved,
reserved24 Reserved,
reserved25 Reserved,
reserved26 Reserved,
reserved27 Reserved,
reserved28 Reserved,
reserved29 Reserved,
reserved30 Reserved,
reserved31 Reserved,
reserved32 Reserved,
reserved33 Reserved,
reserved34 Reserved,
reserved35 Reserved,
reserved36 Reserved,
reserved37 Reserved,
reserved38 Reserved,
reserved39 Reserved,
reserved40 Reserved,
reserved41 Reserved,
reserved42 Reserved,
reserved43 Reserved,
reserved44 Reserved,
reserved45 Reserved,
reserved46 Reserved,
reserved47 Reserved,
reserved48 Reserved,
reserved49 Reserved,
reserved50 Reserved,
reserved51 Reserved,
reserved52 Reserved,
reserved53 Reserved,
reserved54 Reserved,
reserved55 Reserved,
reserved56 Reserved,
reserved57 Reserved,
reserved58 Reserved,
reserved59 Reserved,
reserved60 Reserved,
reserved61 Reserved,
reserved62 Reserved,
reserved63 Reserved,
reserved64 Reserved,
reserved65 Reserved,
reserved66 Reserved,
reserved67 Reserved,
reserved68 Reserved,
reserved69 Reserved,
reserved70 Reserved,
reserved71 Reserved,
reserved72 Reserved,
reserved73 Reserved,
reserved74 Reserved,
reserved75 Reserved,
reserved76 Reserved,
reserved77 Reserved,
reserved78 Reserved,
reserved79 Reserved,
reserved80 Reserved,
reserved81 Reserved,
reserved82 Reserved,
reserved83 Reserved,
reserved84 Reserved,
reserved84 Reserved,
reserved85 Reserved,
reserved86 Reserved,
reserved87 Reserved,
reserved88 Reserved,
reserved89 Reserved,
reserved90 Reserved,
reserved91 Reserved,
reserved92 Reserved,
reserved93 Reserved,
reserved94 Reserved,
reserved95 Reserved,
reserved96 Reserved,
reserved97 Reserved,
reserved98 Reserved,
reserved99 Reserved,
reserved100 Reserved,
reserved101 Reserved,
reserved102 Reserved,
reserved103 Reserved,
reserved104 Reserved,
reserved105 Reserved,
reserved106 Reserved,
reserved107 Reserved,
reserved108 Reserved,
reserved109 Reserved,
reserved110 Reserved,
reserved111 Reserved,
reserved112 Reserved,
reserved113 Reserved,
reserved114 Reserved,
reserved115 Reserved,
reserved116 Reserved,
reserved117 Reserved,
reserved118 Reserved,
reserved119 Reserved,
reserved120 Reserved,
reserved121 Reserved,
reserved122 Reserved,
reserved123 Reserved,
reserved124 Reserved,
reserved125 Reserved,
reserved126 Reserved,
reserved127 Reserved,
reserved128 Reserved,
reserved129 Reserved,
reserved130 Reserved,
reserved131 Reserved,
reserved132 Reserved,
reserved133 Reserved,
reserved134 Reserved,
reserved135 Reserved,
reserved136 Reserved,
reserved137 Reserved,
reserved138 Reserved,
reserved139 Reserved,
reserved140 Reserved,
reserved141 Reserved,
reserved142 Reserved,
reserved143 Reserved,
reserved144 Reserved,
reserved145 Reserved,
reserved146 Reserved,
reserved147 Reserved,
reserved148 Reserved,
reserved149 Reserved,
reserved150 Reserved,
reserved151 Reserved,
reserved152 Reserved,
reserved153 Reserved,
reserved154 Reserved,
reserved155 Reserved,
reserved156 Reserved,
reserved157 Reserved,
reserved158 Reserved,
reserved159 Reserved,
reserved160 Reserved,
reserved161 Reserved,
reserved162 Reserved,
reserved163 Reserved,
reserved164 Reserved,
reserved165 Reserved,
reserved166 Reserved,
reserved167 Reserved,
reserved168 Reserved,
reserved169 Reserved,
reserved170 Reserved,
reserved171 Reserved,
reserved172 Reserved,
reserved173 Reserved,
reserved174 Reserved,
reserved175 Reserved,
reserved176 Reserved,
reserved177 Reserved,
reserved178 Reserved,
reserved179 Reserved,
reserved180 Reserved,
reserved181 Reserved,
reserved182 Reserved,
reserved183 Reserved,
reserved184 Reserved,
reserved185 Reserved,
reserved186 Reserved,
reserved187 Reserved,
reserved188 Reserved,
reserved189 Reserved,
reserved190 Reserved,
reserved191 Reserved,
reserved192 Reserved,
reserved193 Reserved,
reserved194 Reserved,
reserved195 Reserved,
reserved196 Reserved,
reserved197 Reserved,
reserved198 Reserved,
reserved199 Reserved,
reserved200 Reserved,
reserved201 Reserved,
reserved202 Reserved,
reserved203 Reserved,
reserved204 Reserved,
reserved205 Reserved,
reserved206 Reserved,
reserved207 Reserved,
reserved208 Reserved,
reserved209 Reserved,
reserved210 Reserved,
reserved211 Reserved,
reserved212 Reserved,
reserved213 Reserved,
reserved214 Reserved,
reserved215 Reserved,
reserved216 Reserved,
reserved217 Reserved,
reserved218 Reserved,
reserved219 Reserved,
reserved220 Reserved,
reserved221 Reserved,
reserved222 Reserved,
reserved223 Reserved,
reserved224 Reserved,
reserved225 Reserved,
reserved226 Reserved,
reserved227 Reserved,
reserved228 Reserved,
reserved229 Reserved,
reserved230 Reserved,
reserved231 Reserved,
reserved232 Reserved,
reserved233 Reserved,
reserved234 Reserved,
reserved235 Reserved,
reserved236 Reserved,
reserved237 Reserved,
reserved238 Reserved,
reserved239 Reserved,
reserved240 Reserved,
reserved241 Reserved,
reserved242 Reserved,
reserved243 Reserved,
reserved244 Reserved,
reserved245 Reserved,
reserved246 Reserved,
reserved247 Reserved,
reserved248 Reserved,
reserved249 Reserved,
reserved250 Reserved,
reserved251 Reserved,
reserved252 Reserved,
reserved253 Reserved,
reserved254 Reserved,
reserved255 Reserved
}END
###### 9.2.1.3.1.1 PDU definitions
\--**************************************************************
\-- NOTE: The message type and integrity check info are not
\-- visible in this module as they are defined in the class module.
\--**************************************************************
PDU-definitions DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
\--**************************************************************
\--
\-- IE parameter types from other modules
\--
\--**************************************************************
IMPORTS
ActivationTime,
CN-DomainIdentity,
CN-InformationInfo,
CellUpdateCause,
CipheringModeInfo,
FailureCauseWithProtErrTrId,
G-RNTI,
GRA-Identity,
GERAN-DRX-CycleLengthCoefficient,
GRA-UpdateCause,
DL-CounterSynchronisationInfo,
IntegrityProtectionModeInfo,
NAS-SystemInformationGSM-MAP,
ProtocolErrorIndicator,
PLMN-Identity,
PDCP-SN-Info,
RRC-StateIndicator,
RRC-TransactionIdentifier,
Rb-timer-indicator,
RB-WithPDCP-InfoList,
RB-PDCPContextRelocationList,
RB-Identity,
RB-PDCPContextRelocation,
START-Value,
STARTList
FROM InformationElements;
### 9.2.2 CELL UPDATE
This message is used by the MS to initiate a cell update procedure.
Radio Bearer : SRB2
Direction : MS→GERAN
\-- ***************************************************
\--
\-- CELL UPDATE
\--
\-- ***************************************************
CellUpdate ::= SEQUENCE {
\-- User equipment IEs
g-RNTI G-RNTI,
startList STARTList,
am-RLC-ErrorIndicationRb2-3or4 BOOLEAN,
am-RLC-ErrorIndicationRb5orAbove BOOLEAN,
cellUpdateCause CellUpdateCause,
\-- NOTE: RRC transaction identifier is nested in FailureCauseWithProtErrTrId,
failureCause FailureCauseWithProtErrTrId OPTIONAL,
rb-timer-indicator Rb-timer-indicator,
laterNonCriticalExtensions SEQUENCE {
\-- Container for additional R5 extensions
cellUpdate-r5-add-ext BIT STRING OPTIONAL,
nonCriticalExtensions SEQUENCE {} OPTIONAL } OPTIONAL
}
\-- ***************************************************
### 9.2.3 CELL UPDATE CONFIRM
This message confirms the cell update procedure and can be used to reallocate
new G-RNTI information for the MS valid in the new cell.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.3.1: CELL UPDATE CONFIRM information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Critical extension escape available_ | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | \ | | | | \ | | | | -- _CN Information Elements_ | | | | { 0 \| 1 \ | | > } | | | | -- _GERAN Information Elements_ | | | | { 0 \| 1 \ > } | | | | -- _RB Information Elements_ | | | | { 0 \| 1 \ | | | | { \ > | | | | { 0 \| 1 \ > | | } | | | | 0 \| 1 \> } | | | | }*(1 + val(RB Information to Release list) ) } | | | | { 0 \| 1 \ | | | | { \ > | | | | { 0 \| 1 \ > | | } | | | | 0 \| 1 \> } | | | | }*(1 + val(RB Information to Reconfigure list) ) | | | | { 0 \| 1 \ | | | | { \ > | | | | { 0 \| 1 \ > | | } | | | | 0 \| 1 \> } | | | | }*(1 + val(RB Information to Be Affected list) ) } | | | | { 0 \| 1 \ > } | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } } * (1 + val(RB with PDCP Information | | List) ); | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Network\'s response times on SDCCH_ | | | | \ > | | | | \| 1 -- _Network\'s reponse times on the assigned DBPSCH_ | | | | \> | | -- _Network\'s response time on SACCH_ | | | | { 00 -- _Network\'s response time on FACCH/F_ | | | | -- _i.e. between a request sent on TCH/F or FACCH/F and the | | corresponding response sent on FACCH/F_ | | | | \> | | | | \| 01 \> | | -- _Network\'s reponse time on FACCH/H_ | | | | \| 10 \ > | | } -- _Network\'s response times with FLO_ | | | | } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SDCCH_ | | | | \; -- _Network\'s maximum response | | time on SDCCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SACCH_ | | | | \; -- _Network\'s maximum response | | time on SACCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+ | \ ::= -- _Response times when FLO is | | used_ | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.2.3.2: CELL UPDATE CONFIRM information element details
+----------------------------------------------------------------------+ | **RRC Transaction Identifier** \ | | This IE is defined in sub-clause 9.3.98. | +----------------------------------------------------------------------+ | **Activation Time** \ | | This IE is defined in sub-clause 9.3.1. | +----------------------------------------------------------------------+ | **RRC State Indicator** \ | | This IE is defined in sub-clause 9.3.97. | +----------------------------------------------------------------------+ | **GERAN DRX cycle length coefficient** \ | | This IE is defined in sub-clause 9.3.29. | +----------------------------------------------------------------------+ | **Integrity Check Info** \ | | This IE is defined in sub-clause 9.3.36. The integrity Check Info IE | | is included when integrity protection is applied | +----------------------------------------------------------------------+ | **Integrity Protection Mode Info** \ | | This IE is defined in sub-clause 9.3.39. The GERAN does not include | | this IE unless it is performing an SBSS relocation | +----------------------------------------------------------------------+ | **Ciphering Mode Info** \ | | This IE is defined in sub-clause 9.3.14. The GERAN does not include | | this IE unless it is performing an SBSS relocation and a change in | | ciphering algorithm. | +----------------------------------------------------------------------+ | **New G-RNTI** \ | | This IE assigns a new G-RNTI to the MS. This IE is coded as the | | G-RNTI IE defined in sub-clause 9.3.32. | +----------------------------------------------------------------------+ | **CN Information Info** \ | | This IE is defined in sub-clause 9.3.17. | +----------------------------------------------------------------------+ | **RLC Re-establishment indicator SRB2-4** (1 bit field)\ | | This field indicates to the MS to re-establish the RLC instances for | | SRB2-4 (see 3GPP TS 44.160). | | | | bit\ | | 1\ | | 0 Do not re-establish the RLC instances for SRB2-4\ | | 1 Re-esatblish the RLC instances for SRB2-4 | | | | It shall not be set to 1 if struct \"Downlink counter | | synchronisation info\" is included. | +----------------------------------------------------------------------+ | **RLC Re-establishment indicator RB5+** (1 bit field)\ | | This field indicates to the MS to re-establish the RLC instances for | | RB5+ (see 3GPP TS 44.160). | | | | bit\ | | 1\ | | 0 Do not re-establish the RLC instances for RB5+\ | | 1 Re-esatblish the RLC instances for RB5+ | | | | It shall not be set to 1 if struct \"Downlink counter | | synchronisation info\" is included. | +----------------------------------------------------------------------+ | **GRA Identity** \ | | This field is defined in sub-clause 9.3.30. | +----------------------------------------------------------------------+ | **DBPSCH Description** \ | | This IE is defined in sub-clause 9.3.19. | +----------------------------------------------------------------------+ | **RB Information to Release list** (5 bit field)\ | | This field is used to repeat information on each RB to be released, | | where 0 enables one RB to be described. Range : 0 to maxRB-1. | +----------------------------------------------------------------------+ | **RB Information to Release** \ | | This IE is defined in sub-clause 9.3.83. | +----------------------------------------------------------------------+ | **RB Information to Reconfigure list** (5 bit field)\ | | This field is used to repeat information on each RB to be | | reconfigured, where 0 enables one RB to be described. Range: 0 to | | maxRB-1. | +----------------------------------------------------------------------+ | **RB Information to Reconfigure** \ | | This IE is defined in sub-clause 9.3.82. | +----------------------------------------------------------------------+ | **RB Information to Be Affected list** (5 bit field)\ | | This field is used to repeat information on each RB to be affected, | | where 0 enables one RB to be described. Range: 0 to maxRB-1. | +----------------------------------------------------------------------+ | **RB Information to Be Affected** \ | | This IE is defined in sub-clause 9.3.81. | +----------------------------------------------------------------------+ | **RB with PDCP Information list** (5 bit field)\ | | This field is used to repeat information on each RB with PDCP | | Information, where 0 enables one RB to be described. . Range: 0 to | | maxRBallRABs-1. | +----------------------------------------------------------------------+ | **RB with PDCP Information** \ | | This IE is defined in sub-clause 9.3.86. | +----------------------------------------------------------------------+ | **PDCP context relocation info** \ | | This IE is defined in sub-clause 9.3.116. | +----------------------------------------------------------------------+ | **Downlink Counter Synchronisation Info struct\ | |** This structure contains information about PDCP synchronisation. | +----------------------------------------------------------------------+ | **Network Response Times struct\ | |** This structure contains information about network response times. | +----------------------------------------------------------------------+ | **TRMIN_SDCCH (1 bit field)\ | |** This field indicates the minimum response time of the network on | | SDCCH, expressed as a number of TDMA frames. See 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **TRESP_SDCCH (1 bit field)\ | | This field indicates the maximum response time of the network on | | SDCCH, expressed as a number of TDMA frames. See 3GPP TS 44.060.** | +----------------------------------------------------------------------+ | **TRMIN_SACCH (1 bit field)\ | |** This field indicates the minimum response time of the network on | | SACCH, expressed as a number of TDMA frames. See 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **TRESP_SACCH (1 bit field)\ | | This field indicates the maximum response time of the network on | | SACCH, expressed as a number of TDMA frames. See 3GPP TS 44.060.** | +----------------------------------------------------------------------+ | **TRMIN** (6 bit field)\ | | This field indicates the minimum response time of the network, | | expressed as a number of TDMA frames. See 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **TRESP_MAC_DTM (7 bit field)\ | | TRESP_MAC_Dedicated (7 bit field)\ | | These fields indicate for a given MAC state the maximum response | | time of the network expressed as a number of TDMA frames. See | | 3GPP TS 44.060.** | +----------------------------------------------------------------------+ | **TRMIN_DCH** (6 bit field)\ | | This field indicates the minimum response time of the network when | | FLO is used, expressed as a number of TDMA frames. See | | 3GPP TS 44.160. | +----------------------------------------------------------------------+ | **TRES_DCH_MAC_DTM** **(7 bit field)\ | | TRES_DCH_MAC_Dedicated** **(7 bit field)\ | | These fields indicate for a given MAC state the maximum response | | time of the network when FLO is used, expressed as a number of TDMA | | frames. See 3GPP TS 44.160.** | +----------------------------------------------------------------------+
### 9.2.4 DEDICATED PAGING REQUEST
In _RRC-Cell_Dedicated state_ , GERAN sends this message to signal a core-
network-originated page.
Radio Bearer : SRB2
Direction : GERAN → MS
Table 9.2.4.1: DEDICATED PAGING REQUEST information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | \ > | | | | \ > | | | | \ > | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 9.2.4.2: DEDICATED PAGING REQUEST information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36.
**Paging Cause** \ This IE is defined in sub-clause 9.3.57.
**CN Domain Identity** \ This IE is defined in sub-clause 9.3.15.
**Paging Record Type Identifier** \ This IE is defined in sub-clause 9.3.58.
* * *
### 9.2.5 DOWNLINK DIRECT TRANSFER
This message is sent by GERAN to transfer higher layer messages.
Radio Bearer : SRB3 and SRB4
Direction : GERAN → MS
Table 9.2.5.1: DOWNLINK DIRECT TRANSFER information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | -- _CN Information Elements_ | | | | \ > | | | | \ > | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 9.2.5.2: DOWNLINK DIRECT TRANSFER information element details
* * *
**RRC Transaction Identifier** \ The RRC Transaction Identifier IE is defined
in sub-clause 9.3.98.
**Integrity Check Info** \ The _Integrity Check Info_ IE is defined in sub-
clause 9.3.36.\ The _Integrity Check Info_ IE is included if integrity
protection is applied.
**CN Domain Identity** \ The _CN Domain Identity_ IE is defined in sub-clause
9.3.15.
**NAS Message** \ The _NAS Message_ IE is defined in sub-clause 9.3.54.
* * *
### 9.2.6 EXTENDED MEASUREMENT ORDER
This message is the same as the EXTENDED MEASUREMENT ORDER message defined in
3GPP TS 44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE.
\- L2 pseudo length IE.
\- Extended Measurement Order IE.
Radio Bearer : SRB1
Direction : GERAN → MS
### 9.2.7 EXTENDED MEASUREMENT REPORT
This message is the same as the EXTENDED MEASUREMENT REPORT message defined in
3GPP TS 44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE.
\- Extended Measurement Report Message Type IE.
Radio Bearer : SRB1
Direction : MS → GERAN
### 9.2.7a ENHANCED MEASUREMENT REPORT
This message is the same as the ENHANCED MEASUREMENT REPORT message defined in
3GPP TS 44.018 but shall not contain:
\- RR short PD field.
\- Message type field.
\- Short layer 2 header field.
Radio Bearer : SRB1
Direction : MS → GERAN
### 9.2.8 GERAN MOBILITY INFORMATION
This message is used by GERAN to allocate a new G-RNTI and to convey other
GERAN mobility related information to a MS.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.8.1: GERAN MOBILITY INFORMATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Critical extension escape available_ | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _CN Information Elements_ | | | | { 0 \| 1 \ > } | | | | -- _GERAN Information Elements_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } } * (1 + val(RB with PDCP Information | | List) ); | +----------------------------------------------------------------------+
Table 9.2.8.2: GERAN MOBILITY INFORMATION information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**MS Timers and Constants in connected mode** \ This IE is defined in sub-
clause 9.3.51.
**Integrity Check Info** \ This IE is defined in sub-clause sub-clause 9.3.36.
The _Integrity Check Info IE_ is included when integrity protection is applied
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39.
The GERAN does not include this IE unless it is performing an SBSS relocation
**Ciphering mode info** \ This IE is defined in sub-clause 9.3.14. The GERAN
does not include this IE unless it is performing an SBSS relocation and a
change in ciphering algorithm
**New G-RNTI** \ This IE assigns a new G-RNTI to the MS. The _G-RNTI_ IE is
defined in sub-clause 9.3.32.
**CN Information Info Full** \ This IE is defined in sub-clause 9.3.18.
**GRA Identity** \ This IE is defined in sub-clause 9.3.30.
**Downlink Counter Synchronisation info\** This structure contains information
about PDCP synchronisation.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described.. Range: 0 to maxRBallRABs-1. Other values are reserved.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
**PDCP context relocation info** \ This IE is defined in sub-clause 9.3.116
* * *
### 9.2.9 GERAN MOBILITY INFORMATION CONFIRM
This message is used to confirm the new GERAN mobility information for the MS.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.9.1: GERAN MOBILITY INFORMATION CONFIRM information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _RB Information Elements_ | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ > } | | | | ! \ > }; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | { \ > | | | | \ > } | | *(1+val(START list)) | | | | { 0 \| 1 \ | | | | \ | | > *(1 + val(RB with PDCP Information list) )} | | | | } | +----------------------------------------------------------------------+
Table 9.2.9.2: GERAN MOBILITY INFORMATION CONFIRM information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included when integrity protection is applied.
**Uplink Integrity Protection Activation Info** \ The _Integrity Protection
Activation Info_ IE is defined in sub-clause 9.3.37.
**COUNT-C Activation Time** \ Thie IE is used for radio bearers mapped on RLC-
TM when the MS is moving to RRC-Cell_Dedicated state. **The Activation Time IE
is defined in sub-clause 9.3**.1.
**Radio Bearer Activation Time Info** \ The RB Activation Time Info IE is
defined in sub-clause 9.3.77.
**Uplink Counter Synchronisation info\** This structure contains information
about PDCP synchronisation.
**START List** (2 bit field)\ This field is the binary representation of the
number of CN domain START struct**.** Range : 0 to maxCNdomains-1.
**START** \ This field is defined in sub-clause 9.3.102.
**CN Domain Identity** \ The _CN Domain Identity_ IE identifies the type of
core network domain. This IE is defined in sub-clause 9.3.15.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described.. Range: 0 to maxRBallRABs-1.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
* * *
### 9.2.10 GERAN MOBILITY INFORMATION FAILURE
This message is sent to indicate a failure to act on a received GERAN MOBILITY
INFORMATION message.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.10.1: GERAN MOBILITY INFORMATION FAILURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ | | > | | | | { 0 \| 1 \ | | > } | | | | ! \ > }; | +----------------------------------------------------------------------+
Table 9.2.10.2: GERAN MOBILITY INFORMATION FAILURE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Failure Cause and Error Information** \ The _Failure Cause And Error
Information_ IE is defined in sub-clause 9.3.25.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included when integrity protection is applied.
* * *
### 9.2.11 **GRA UPDATE**
This message is used by the MS to initiate a GRA Update procedure.
Radio Bearer : SRB2
Direction : MS→GERAN
\-- ***************************************************
\--
\-- GRA UPDATE
\--
\-- ***************************************************
GRAUpdate ::= SEQUENCE {
\-- User equipment IEs
g-RNTI G-RNTI,
gra-UpdateCause GRA-UpdateCause,
protocolErrorIndicator ProtocolErrorIndicator,
laterNonCriticalExtensions SEQUENCE {
\-- Container for additional R5 extensions
graUpdate-r5-add-ext BIT STRING OPTIONAL,
nonCriticalExtensions SEQUENCE {} OPTIONAL
} OPTIONAL
}
### 9.2.12 GRA UPDATE CONFIRM
This message confirms the GRA update procedure and can be used to reallocate
new G-RNTI information for the MS valid after the GRA update.
Radio Bearer : SRB2
Direction : GERAN→MS
\- ***************************************************
\--
\-- GRA UPDATE CONFIRM
\--
\-- ***************************************************
GRAUpdateConfirm ::= CHOICE {
r5 SEQUENCE {
graUpdateConfirm-r5 GRAUpdateConfirm-r5-IEs,
laterNonCriticalExtensions SEQUENCE {
\-- Container for additional R5 extensions
graUpdateConfirm-r5-add-ext BIT STRING OPTIONAL,
nonCriticalExtensions SEQUENCE {} OPTIONAL
} OPTIONAL
},
later-than-r5 SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions SEQUENCE {}
}
}
GRAUpdateConfirm-r5-IEs ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
integrityProtectionModeInfo IntegrityProtectionModeInfo OPTIONAL,
cipheringModeInfo CipheringModeInfo OPTIONAL,
new-G-RNTI G-RNTI OPTIONAL,
rrc-StateIndicator RRC-StateIndicator,
geran-DRX-CycleLengthCoeff GERAN-DRX-CycleLengthCoefficient OPTIONAL,
\-- CN information elements
cn-InformationInfo CN-InformationInfo OPTIONAL,
\-- GERAN mobility IEs
gra-Identity GRA-Identity OPTIONAL,
\-- Radio bearer IEs
dl-CounterSynchronisationInfo DL-CounterSynchronisationInfo OPTIONAL
}
END
### 9.2.13 (void)
### 9.2.14 HANDOVER COMPLETE
This message is sent from the MS when a physical channel reconfiguration has
been done.
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.14.1: HANDOVER COMPLETE **information** elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | { \ > | | | | \ > } * (1+val(START List)) | | | | { 0 \| 1 \ | | | | \ | | > *(1+val(RB with PDCP Information List)) } | | | | }; | +----------------------------------------------------------------------+
Table 9.2.14.2: HANDOVER COMPLETE **information** element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE shall be set to the used signalling radio
bearer identity when the encoded RRC message is used as the MESSAGE parameter
in the integrity protection algorithm. This IE is defined in sub-clause
9.3.36. The _Integrity Check Info_ IE is included when integrity protection is
applied.
**Uplink Integrity Protection Activation Info** \ This IE contains the time,
in terms of RRC sequence numbers, when a new integrity protection
configuration shall be activated for the signalling radio bearers. The
Integrity protection activation info IE is defined in sub-clause 9.3.36.
**COUNT-C Activation Time** \ **The _Activation Time_ IE is defined in sub-
clause 9.3**.1
**Radio Bearer Uplink Ciphering Activation Time info** \ **The** _RB
activation time info_ IE **is defined in sub-clause** 9.3.77
**Uplink Counter Synchronisation Info struct** \ This structure enable to
synchronise the Uplink security counters.
**START List** (2 bit field)\ This field is used to repeat information on each
RB to be affected, where 0 enables one RB to be described.. Range : 0 to
maxCNdomains-1.
**CN Domain Identity** \ This IE is defined in sub-clause 9.3.15.
**START** \ **This IE is defined in sub-clause 9.3**.102. START value to be
used in this CN domain.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described.. Range : 0 to maxRBallRABs-1.
**RRC Cause** \ **This IE is defined in sub-clause 9.3**.94.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
* * *
### 9.2.15 HANDOVER FAILURE
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.15.1: HANDOVER FAILURE **information** elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | > | | | | \ > | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.15.2: HANDOVER FAILURE **information** element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE shall be set to the used signalling radio
bearer identity when the encoded RRC message is used as the MESSAGE parameter
in the integrity protection algorithm. This IE is defined in sub-clause
9.3.36.
**RRC Cause** \ The _RRC Cause_ IE is defined in sub-clause 9.3.94.
**Failure Cause** \ The _Failure Cause and Error Information_ IE is defined in
sub-clause 9.3.25.
* * *
### 9.2.16 HANDOVER FROM GERAN Iu COMMAND
This message is used for handover from GERAN Iu to GERAN A/Gb.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.16.1: HANDOVER FROM GERAN Iu COMMAND **information** elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _RB Information Elements_ | | | | { 0 \| 1 \ | | | | \ > * (1 + val(RAB Information | | List) ) } | | | | \ > | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | \ | | | | }; | +----------------------------------------------------------------------+
Table 9.2.16.2: HANDOVER FROM GERAN Iu COMMAND **information** element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Activation Time** \ This IE is defined in sub-clause 9.3.1.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included when integrity protection is applied.
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39
**RAB Information List** (4 bit field)\ This field is used to repeat
information on each RABto Setup, where 0 enables one RAB to be described.Range
: 0 to maxRABsetup-1. Other values are reserved.
**RAB Information List** \ The _RAB Info_ IE is defined in sub-clause 9.3.73.
**Handover Command** struct\ This structure contains the message HANDOVER
COMMAND and the length of the message. The HANDOVER COMMAND message is defined
in 3GPP TS 44.018.
* * *
### 9.2.17 INITIAL DIRECT TRANSFER
This message is used to initiate a signalling connection based on indication
from the upper layers, and to transfer a NAS message.
Radio Bearer : SRB3
Direction : MS → GERAN
Table 9.2.17.1: INITIAL DIRECT TRANSFER **information** elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | \ > | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.17.2 : INITIAL DIRECT TRANSFER **information** element details
* * *
**CN Domain Identity** \ The CN Domain Identity IE is defined in sub-clause
9.3.15.
**Intra Domain NAS Node Selector** \ The Intra Domain NAS Node Selector IE is
defined in sub-clause 9.3.41.
**NAS Message** \ The NAS Message IE is defined in sub-clause 9.3.54.
**Integrity Check Info** \ The Integrity Check Info IE is defined in sub-
clause 9.3.36. The Integrity Check Info IE is included if integrity protection
is applied.
**Start** \ This IE is defined in sub-clause 9.3.102.
* * *
### 9.2.18 INTER SYSTEM TO CDMA2000 HANDOVER COMMAND
This message is used for handover from GERAN _Iu mode_ to another system e.g.
CDMA2000. One or several messages from the other system can be included in the
Inter-RAT message information element in this message. These messages are
structured and coded according to that systems specification.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.18.1: INTER SYSTEM TO CDMA2000 HANDOVER COMMAND **information**
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 --_critical extension escape available_ | | | | { | | | | --_MS information elements_ | | | | \ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | | | \ > * (1+val(RAB Information | | List))} | | | | \ > | | | | ! \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | \ | | | | }; | +----------------------------------------------------------------------+
Table 9.2.18.2 : INTER SYSTEM TO CDMA2000 HANDOVER COMMAND **information**
element details
* * *
**RRC Transaction Identifier** (2 bit field)\ This field is defined in sub-
clause 9.3.98.
**Activation Time** \ This IE is defined in sub-clause 9.3.1.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36.
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39
**RAB Information List** (4 bit field)\ This field is the binary
representation of the number of Radio Access Bearers to setup. Range : 0 to
maxRABsetup-1. Other values are reserved.
**RAB Info** \ The _RAB Info_ IE is defined in sub-clause 9.3.73.
**Handover to CDMA2000 Command struct** \ This structure contains the message
HANDOVER to CDMA2000 COMMAND and the length of the HANDOVER to CDMA2000
COMMAND message. The HANDOVER to CDMA2000 COMMAND message is defined in
TIA/EIA/IS-833 and TIA/EIA/IS-2000-5.
* * *
NOTE: The MSG_TYPE of the cdma2000 message used for the intersystem handover
is included in the first octet of the Handover to CDMA2000 Command struct. It
is specified in TIA/EIA/IS-2000 and in TIA/EIA/IS-833. (E.g. MSG_TYPE::=
{00010001} if Extended Handoff Direction Message (EHDM) is used, MSG_TYPE::=
{00011111} if General Handoff Direction Message is used, etc.). The order of
the bits in this octet representing is given by the following example. If
MSG_TYPE::={00010001} (EHDM), the bit number 1 of 'cdma2000 MSG_TYPE IEI' is
'0', the bit number 2 shall be '0', etc., and the bit number 8 is '1'.\ \ The
remaining octets in the Handover to CDMA2000 Command struct is coded as the
payload of the message used for the inter system handover, as specified in
TIA/EIA/IS-2000-5 and in TIA/EIA/IS-833. The bit ordering is similar to the
case described above. The bit number 1 of 'cdma2000 message payload' is coded
as the first bit of the first record of the message defined in
TIA/EIA/IS-2000-5 and in TIA/EIA/IS-833, reading the records defined in
TIA/EIA/IS-2000-5 and in TIA/EIA/IS-833 from left to right.
### 9.2.19 INTER SYSTEM TO UTRAN HANDOVER COMMAND
This message is used for handover from GERAN _Iu mode_ to another system e.g.
UTRAN. One or several messages from the other system can be included in the
Inter-RAT message information element in this message. These messages are
structured and coded according to that systems specification.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.19.1: INTER SYSTEM TO UTRAN HANDOVER COMMAND **information**
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | \ > | | | | ! \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | \ | | | | }; | +----------------------------------------------------------------------+
Table 9.2.19.2: INTER SYSTEM TO UTRAN HANDOVER COMMAND **information** element
details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Activation Time** \ This IE is defined in sub-clause 9.3.1.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
integrity Check Info IE is included when integrity protection is applied.
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39
**Handover to UTRAN Command struct** \ This structure contains the **RADIO
BEARER RECONFIGURATION** message and the length of the **RADIO BEARER
RECONFIGURATION** message. The **RADIO BEARER RECONFIGURATION** message is
defined in 3GPP TS 25.331.
* * *
### 9.2.20 LCS DOWNLINK INFORMATION
This message is used by the GERAN to convey embedded LCS RRLP PDUs between the
SMLC and the MS.
Radio Bearer: SRB3
Direction: GERAN → MS
Table 9.2.20.1: LCS DOWNLINK INFORMATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 9.2.21.2: LCS DOWNLINK INFORMATION information element details
* * *
**RRC Transaction Identifier** \ This field is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**RRLP PDU Length** (8 bit field)\ This field is the binary representation of
the length in octets of the following RRLP PDU field. Range: 0 to 241. All
other values are reserved.
**RRLP PDU** (variable length octet string)\ This field contains an RRLP PDU
as defined in 3GPP TS 44.031.
* * *
### 9.2.21 LCS UPLINK INFORMATION
This message is used by the MS to convey embedded LCS RRLP PDUs between the MS
and the GERAN (SMLC).
Radio Bearer: SRB3
Direction: MS → GERAN
Table 9.2.21.1: LCS UPLINK INFORMATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | \ | | | | \ | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.21.2: LCS UPLINK INFORMATION information element details
* * *
**RRC Transaction Identifier** \ This field is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**RRLP PDU Length** (8 bit field)\ This field is the binary representation of
the length in octets of the following RRLP PDU field. Range: 0 to 241. All
other values are reserved.
**RRLP PDU** (variable length octet string)\ This field contains an RRLP PDU
as defined in 3GPP TS 44.031.
* * *
### 9.2.22 MEASUREMENT INFORMATION
This message is the same as the MEASUREMENT INFORMATION message defined in
3GPP TS 44.018 sub-clause 9.1.54, but shall not contain:
\- RR short PD field.
\- Message type field.
\- Short layer 2 header field.
Radio Bearer : SRB1
Direction : GERAN → MS
### 9.2.23 MEASUREMENT REPORT
This message is the same as the MEASUREMENT REPORT message defined in 3GPP TS
44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE.
\- Measurement Report Message Type IE.
Radio Bearer : SRB1
Direction : MS → GERAN
### 9.2.24 MS CAPABILITY ENQUIRY
The MS CAPABILITY ENQUIRY is used by the GERAN to enquire GERAN A/Gb mode,
UTRAN or CDMA2000 classmarks and UTRAN predefined configurations from the MS.
Radio Bearer: SRB2
Direction: GERAN → MS
Table 9.2.24.1: MS CAPABILITY ENQUIRY information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | \ > | | | | { 0 \| 1 \ } | | | | ! \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.24.2: MS CAPABILITY ENQUIRY information element details
+----------------------------------------------------------------------+ | **RRC Transaction Identifier** \ | | This field is defined in sub-clause 9.3.98. | +----------------------------------------------------------------------+ | **Integrity Check Info** \ | | This IE is defined in sub-clause 9.3.36.\ | | Integrity check info is included if integrity protection is applied. | +----------------------------------------------------------------------+ | **UTRAN predefined Configuration Requirement (** 1 bit field)\ | | This field corresponds to the information whether the predefined | | configurations are requested by the network.. | | | | bit\ | | 1\ | | 0 UTRAN predefined configuration not requested by the network\ | | 1 UTRAN predefined configuration requested by the network | +----------------------------------------------------------------------+ | **Capability Update Requirement** \ | | This IE is defined in sub-clause 9.3.4. | +----------------------------------------------------------------------+
### 9.2.25 MS CAPABILITY INFORMATION
This message is sent by the MS to the GERAN to convey MS specific capability
information to the GERAN.
Radio Bearer: SRB2
Direction: MS → GERAN
Table 9.2.25.1: MS CAPABILITY INFORMATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _MS Information Elements_ | | | | { 0 \| 1 \ > }** | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.25.2: MS CAPABILITY INFORMATION information element details
* * *
**RRC Transaction Identifier** \ This field is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36.\ Integrity
check info is included if integrity protection is applied.
**MS GERAN Iu mode Radio Access Capability\** This IE is defined in sub-clause
9.3.45.
**MS GERAN A/Gb mode Radio Access Capability\** This IE is defined in sub-
clause 9.3.46.
**UE UTRAN Radio Access Capability\** This IE is defined in sub-clause
9.3.108.
**UE UTRAN Radio Access Capability Extension\** This IE is defined in sub-
clause 9.3.109.
**UE UTRAN Predefined Configuration Status Information\** This IE is defined
in sub-clause 9.3.108a.
**UE CDMA2000 Radio Access Capability** \ This IE is defined in sub-clause
9.3.110.
* * *
### 9.2.26 MS CAPABILITY INFORMATION CONFIRM
This message is sent by the GERAN to the MS to confirm that the MS capability
information has been received.
Radio Bearer: SRB2
Direction: GERAN → MS
Table 9.2.26.1: MS CAPABILITY INFORMATION CONFIRM information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS Information Elements_ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 9.2.26.2: MS CAPABILITY INFORMATION CONFIRM information element details
* * *
**RRC Transaction Identifier** \ This field is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36.\
_Integrity Check Info_ IE is included if integrity protection is applied.
* * *
### 9.2.27 (void)
### 9.2.28 RADIO BEARER RECONFIGURATION
This message is sent from GERAN to reconfigure parameters related to a change
of QoS or change of physical channel.
Radio Bearer : SRB2
Direction : GERAN → MS
Table 9.2.28.1: RADIO BEARER RECONFIGURATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _CN information elements_ | | | | { 0 \| 1 \ | | > } | | | | -- _GERAN information elements_ | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | | | \ > * (1+val(RAB Information to Reconfigure List)) | | } | | | | { 0 \| 1 \ | | | | { \ > | | | | { 0 \| 1 \ > } | | | | 0 \| 1 \> } | | | | }* (1+val(RB Information to Reconfigure List)) | | | | } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | \ > *(1+val(RB Information to Be Affected List)) } | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } } * (1 + val(RB with PDCP Information | | List) ); | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Network\'s response times on SDCCH_ | | | | \ > | | | | \| 1 -- _Network\'s reponse times on the assigned DBPSCH_ | | | | \> | | -- _Network\'s response time on SACCH_ | | | | { 00 -- _Network\'s response time on FACCH/F_ | | | | -- _i.e. between a request sent on TCH/F or FACCH/F and the | | corresponding response sent on FACCH/F_ | | | | \> | | | | \| 01 \> | | -- _Network\'s reponse time on FACCH/H_ | | | | \| 10 \ > | | }}; -- _Network\'s response times with FLO_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SDCCH_ | | | | \; -- _Network\'s maximum response | | time on SDCCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SACCH_ | | | | \; -- _Network\'s maximum response | | time on SACCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+ | \ ::= -- _Response times when FLO is | | used_ | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.2.28.2: RADIO BEARER RECONFIGURATION information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Activation Time** \ **The _Activation Time_ IE is defined in sub-clause
9.3.1**.
**RRC State Indicator** \ This IE is defined in sub-clause 9.3.86.
**GERAN DRX Cycle Length Coefficient** \ This IE is defined in sub-clause
9.3.29.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
integrity Check Info IE is included when integrity protection is applied.
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39.
The GERAN does not include this IE unless it is performing an SBSS relocation
**Ciphering Mode Info** \ This IE is defined in sub-clause 9.3.14. The GERAN
does not include this IE unless it is performing an SBSS relocation and a
change in ciphering algorithm.
**New G-RNTI** \ This IE assigns a new G-RNTI to the MS. This IE is coded as
the _G-RNTI_ IE defined in sub-clause 9.3.32.
**CN Information Info** \ This IE is defined in sub-clause 9.3.17.
**GRA Identity** \ This IE is defined in sub-clause 9.3.30.
**RAB Information to Reconfigure List** (4 bit field)\ This field is used to
repeat information on each RAB to reconfigure. Range: 0 to maxRABsetup-1,
where 0 enables one RAB to be described.
**RAB Information to Reconfigure** \ This IE is defined in sub-clause 9.3.76.
**RB Information to Reconfigure List** (5 bit field)\ This field is used to
repeat information on each RB to reconfigure, where 0 enables one RB to be
described. Range : 0 to maxRB-1.
**RB Information to Reconfigure** \ This IE is defined in sub-clause 9.3.82.
**RB Information to Be Affected List** (5 bit field)\ This field is used to
repeat information on each RB to be affected, where 0 enables one RB to be
described. Range : 0 to maxRB-1.
**RB Information to Be Affected** \ This IE is defined in sub-clause 9.3.81.
**RB with PDCP Information list** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described. . Range: 0 to maxRBallRABs-1
**Downlink Counter Synchronisation Info struct\** This structure contains
information about PDCP synchronisation.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
**PDCP context relocation info** \ This IE is defined in sub-clause 9.3.116.
**Physical Information** \ The _Physical Channel Configuration_ IE is defined
in sub-clause 9.3.62.
**Network Response Times struct\** This structure contains information about
network response times.
**TRMIN_SDCCH (1 bit field)\** This field indicates the minimum response time
of the network on SDCCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.
**TRESP_SDCCH (1 bit field)\ This field indicates the maximum response time of
the network on SDCCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.**
**TRMIN_SACCH (1 bit field)\** This field indicates the minimum response time
of the network on SACCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.
**TRESP_SACCH (1 bit field)\ This field indicates the maximum response time of
the network on SACCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.**
**TRMIN** (6 bit field)\ This field indicates the minimum response time of the
network, expressed as a number of TDMA frames. See 3GPP TS 44.060.
**TRESP_MAC_DTM (7 bit field)\ TRESP_MAC_Dedicated (7 bit field)\ These fields
indicate for a given MAC state the maximum response time of the network
expressed as a number of TDMA frames. See 3GPP TS 44.060.**
**TRMIN_DCH** (6 bit field)\ This field indicates the minimum response time of
the network when FLO is used, expressed as a number of TDMA frames. See 3GPP
TS 44.160.
**TRES_DCH_MAC_DTM** **(7 bit field)\ TRES_DCH_MAC_Dedicated** **(7 bit
field)\ These fields indicate for a given MAC state the maximum response time
of the network when FLO is used, expressed as a number of TDMA frames. See
3GPP TS 44.160.**
* * *
### 9.2.29 RADIO BEARER RECONFIGURATION COMPLETE
This message is sent from the MS when a RB and/or a physical channel
reconfiguration has been done.
Radio Bearer : SRB2
Direction : MS→ GERAN
Table 9.2.29.1: RADIO BEARER RECONFIGURATION COMPLETE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | { \ > | | | | \ > } * (1+val(START List)) | | | | { 0 \| 1 \ | | | | \ | | > * (1+val(RB with PDCP Information List)) } | | | | }; | +----------------------------------------------------------------------+
Table 9.2.29.2: RADIO BEARER RECONFIGURATION COMPLETE information element
details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**Uplink Integrity Protection Activation Info** \ This IE contains the time,
in terms of RRC sequence numbers, when a new integrity protection
configuration shall be activated for the signalling radio bearers. The
_Integrity protection activation info_ IE is defined in sub-clause 9.3.37.
**COUNT-C Activation Time** \ **The _Activation Time_ IE is defined in sub-
clause 9.3.1**.
**Radio Bearer Uplink Ciphering Activation Time Info** \ **This IE is coded as
the** _RB activation time info_ IE **defined in sub-clause** 9.3.77.
**Mobile Observed Time Difference** \ The _Mobile Time Difference_ IE is
defined in sub-clause 9.3.43.
**Uplink Counter Synchronisation Info struct** \ This structure enable to
synchronise the Uplink security counters.
**START List** (2 bit field)\ START value to be used in this CN domain. This
field is the binary representation of the number of RB to be affected. Range :
0 to maxCNdomains-1.
**CN Domain Identity** \ **This IE is defined in sub-clause 9.3**.15.
**START** \ **This IE is defined in sub-clause 9.3**.102.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB to reconfigure, where 0 enables one RB to be described.
. Range : 0 to maxRBallRABs-1.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
* * *
### 9.2.30 RADIO BEARER RECONFIGURATION FAILURE
This message is sent by MS if the configuration given by GERAN is unacceptable
or if the MS failed to establish the physical channel(s).
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.30.1: RADIO BEARER RECONFIGURATION FAILURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | \ > | | | | \ | | > | | | | { 0 \| 1 \ | | > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | | | \> *(1 + val(Potentially | | Succesful RB List) ) } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.30.2: RADIO BEARER RECONFIGURATION FAILURE information element
details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. Integrity
Check Info is included if integrity protection is applied.
**Failure Cause** \ This _Failure Cause and Error Information_ IE is defined
in sub-clause 9.3.25.
**RRC Cause** \ This _RRC Cause_ IE is defined in sub-clause 9.3.94.
**Potentially Succesful RB List** (5 bit field)\ This field is the binary
representation of the number of RB for which reconfiguration would have
succeeded.\ Range : 0 to maxRB-1.
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
* * *
### 9.2.31 RADIO BEARER RELEASE
This message is used by GERAN to release a radio bearer. It can also include
modifications to the configurations of physical channels.
Radio Bearer : SRB2
Direction : GERAN → MS
Table 9.2.31.1: RADIO BEARER RELEASE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | _\-- CN information elements_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | _\-- GERAN information elements_ | | | | { 0 \| 1 \ > } | | | | _\-- RB information elements_ | | | | { 0 \| 1 \ | | | | \ > *(1+val(RAB Information to Reconfigure List)) | | } | | | | { 0 \| 1 \ | | | | { \ > | | | | { 0 \| 1 \ > } | | | | 0 \| 1 \> } | | | | }*(1+val(RB Information to Release List)) | | | | } | | | | { 0 \| 1 \ | | | | \ >*(1+val(RB Information to Be Affected List)) } | | | | { 0 \| 1 \ > } ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } } * (1 + val(RB with PDCP Information | | List) ); | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Network\'s response times on SDCCH_ | | | | \ > | | | | \| 1 -- _Network\'s reponse times on the assigned DBPSCH_ | | | | \> | | -- _Network\'s response time on SACCH_ | | | | { 00 -- _Network\'s response time on FACCH/F_ | | | | -- _i.e. between a request sent on TCH/F or FACCH/F and the | | corresponding response sent on FACCH/F_ | | | | \> | | | | \| 01 \> | | -- _Network\'s reponse time on FACCH/H_ | | | | \| 10 \ > | | }}; -- _Network's response times with FLO_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SDCCH_ | | | | \; -- _Network\'s maximum response | | time on SDCCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SACCH_ | | | | \; -- _Network\'s maximum response | | time on SACCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+ | \ ::= -- _Response times when FLO is | | used_ | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.2.31.2: RADIO BEARER RELEASE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Activation Time** \ **The _Activation Time_ IE is defined in sub-clause
9.3.1**.
**RRC State Indicator** \ This IE is defined in sub-clause 9.3.97.
**GERAN DRX Cycle Length Coefficient** \ This IE is defined in sub-clause
9.3.29.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. Integrity
Check Info is included if integrity protection is applied.
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39.
The GERAN does not include this IE unless it is performing an SBSS relocation
**Ciphering Mode Info** \ This IE is defined in sub-clause 9.3.14. The GERAN
does not include this IE unless it is performing an SBSS relocation and a
change in ciphering algorithm
**New G-RNTI** \ This IE assigns a new G-RNTI to the MS. This IE is coded as
the G-RNTI IE defined in sub-clause 9.3.33.
**Signalling Connection Release Indication** \ **The _CN Domain Identity_ IE
is defined in sub-clause 9.3.15.**
**CN Information Info** \ This IE is defined in sub-clause 9.3.17.
**GRA Identity** \ This IE is defined in sub-clause 9.3.30.
**RAB Information to Reconfigure List** (4 bit field)\ This field is used to
repeat information on each RAB to reconfigure, where 0 enables one RAB to be
described. Range: 0 to maxRABsetup-1.
**RAB Information to Reconfigure** \ This IE is defined in sub-clause 9.3.76.
**RB Information to Release List** (5 bit field)\ This field is used to repeat
information on each RB to reconfigure, where 0 enables one RB to be described.
Range: 0 to maxRB-1.
**RB Information to Release** \ This IE is defined in sub-clause 9.3.83.
**RB Information to Be Affected List** (5 bit field)\ This field is used to
repeat information on each RB to be affected, where 0 enables one RB to be
described. Range: 0 to maxRB-1.
**RB Information to Be Affected** \ This IE is defined in sub-clause 9.3.81.
**Downlink Counter Synchronisation Info struct\** This structure contains
information about PDCP synchronisation.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described. Range: 0 to maxRBallRABs-1.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
**PDCP context relocation info** \ This IE is defined in sub-clause 9.3.116.
**Physical Information** \ The _Physical Channel Configuration_ IE is defined
in sub-clause 9.3.62.
**Network Response Times struct\** This structure contains information about
network response times.
**TRMIN_SDCCH (1 bit field)\** This field indicates the minimum response time
of the network on SDCCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.
**TRESP_SDCCH (1 bit field)\ This field indicates the maximum response time of
the network on SDCCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.**
**TRMIN_SACCH (1 bit field)\** This field indicates the minimum response time
of the network on SACCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.
**TRESP_SACCH (1 bit field)\ This field indicates the maximum response time of
the network on SACCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.**
**TRMIN** (6 bit field)\ This field indicates the minimum response time of the
network, expressed as a number of TDMA frames. See 3GPP TS 44.060.
**TRESP_MAC_DTM (7 bit field)\ TRESP_MAC_Dedicated (7 bit field)\ These fields
indicate for a given MAC state the maximum response time of the network
expressed as a number of TDMA frames. See 3GPP TS 44.060.**
**TRMIN_DCH** (6 bit field)\ This field indicates the minimum response time of
the network when FLO is used, expressed as a number of TDMA frames. See 3GPP
TS 44.160.
**TRES_DCH_MAC_DTM** **(7 bit field)\ TRES_DCH_MAC_Dedicated** **(7 bit
field)\ These fields indicate for a given MAC state the maximum response time
of the network when FLO is used, expressed as a number of TDMA frames. See
3GPP TS 44.160.**
* * *
### 9.2.32 RADIO BEARER RELEASE COMPLETE
This message is sent from the MS when radio bearer release has been completed.
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.32.1: RADIO BEARER RELEASE COMPLETE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | { \ > | | | | \) > } * (1+val(START List)) | | | | { 0 \| 1 \ | | | | \ | | > * (1+val(RB with PDCP Information List)) } | | | | }; | +----------------------------------------------------------------------+
Table 9.2.32.2: RADIO BEARER RELEASE COMPLETE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**Uplink Integrity Protection Activation Info** \ This IE contains the time,
in terms of RRC sequence numbers, when a new integrity protection
configuration shall be activated for the signalling radio bearers. The
_Integrity Protection Activation Info_ IE is defined in sub-clause 9.3.3. 37
**COUNT-C Activation Time** \ **The _Activation Time_ IE is defined in sub-
clause 9.3.1**.
**Radio Bearer Uplink Ciphering Activation Time Info** \ **The** _RB
Activation Time Info_ IE **is defined in sub-clause** 9.3.77.
**Uplink Counter Synchronisation Info Struct** \ This structure enable to
synchronise the Uplink security counters.
**START List** (2 bit field)\ START value to be used in this CN domain. This
field is the binary representation of the number of RB to be affected. Range :
0 to maxCNdomains-1.
**CN Domain Identity** \ **This IE is defined in sub-clause 9.3**.15.
**START** \ **This IE is defined in sub-clause 9.3**.102.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described. Range: 0 to maxRBallRABs-1.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
* * *
### 9.2.33 RADIO BEARER RELEASE FAILURE
This message is sent by MS if the configuration given by GERAN is unacceptable
or if radio bearer can not be released.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.33.1: RADIO BEARER RELEASE FAILURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | \ | | > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ | | | | \** > *(1 + | | val(Potentially Succesful RB List) ) } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.33.2: RADIO BEARER RELEASE FAILURE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36.The
_Integrity Check Info_ IE is included if integrity protection is applied.
**Failure Cause** \ The _Failure Cause and Error Information_ IE is defined in
sub-clause 9.3.25.
**RRC Cause** \ This _RRC Cause_ IE is defined in sub-clause 9.3.94.
**Potentially Succesful RB List** (5 bit field)\ This field is the binary
representation of the number of RB for which reconfiguration would have
succeeded.\ Range : 0 to maxRB-1.
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
* * *
### 9.2.34 RADIO BEARER SETUP
This message is sent by GERAN to the MS to establish new radio bearer(s).
Radio Bearer : SRB2
Direction : GERAN → MS
Table 9.2.34.1: RADIO BEARER SETUP information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | -- _MS information elements_ | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | -- _CN information elements_ | | | | { 0 \| 1 \ | | > } | | | | -- _GERAN information elements_ | | | | { 0 \| 1 \ > } | | | | -- _RB information elements_ | | | | { 0 \| 1 \ | | | | { \ > | | | | { 0 \| 1 \ > } | | | | 0 \| 1 \> } | | | | } *(1+val(RB Information to Setup List)) | | | | } | | | | { 0 \| 1 \ | | | | \ > *(1+val(RAB Information for Setup List)) } | | | | { 0 \| 1 \ | | | | \ > *(1+val(RB Information to Be Affected List)) } | | | | { 0 \| 1 \ > } | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } } * (1 + val(RB with PDCP Information | | List)); | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _Network\'s response times on SDCCH_ | | | | \ > | | | | \| 1 -- _Network\'s reponse times on the assigned DBPSCH_ | | | | \> | | -- _Network\'s response time on SACCH_ | | | | { 00 -- _Network\'s response time on FACCH/F_ | | | | -- _i.e. between a request sent on TCH/F or FACCH/F and the | | corresponding response sent on FACCH/F_ | | | | \> | | | | \| 01 \> | | -- _Network\'s reponse time on FACCH/H_ | | | | \| 10 \ > | | }}; -- _Network's response times with FLO_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SDCCH_ | | | | \; -- _Network\'s maximum response | | time on SDCCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _Network\'s minimum response | | time on SACCH_ | | | | \; -- _Network\'s maximum response | | time on SACCH_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+ | \ ::= -- _Response times when FLO is | | used_ | | | | \ | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.2.34.2: RADIO BEARER SETUP information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Activation Time** \ **The _Activation Time_ IE is defined in sub-clause
9.3.1**.
**RRC State Indicator** (2 bit field)\ This IE is defined in sub-clause
9.3.97.
**GERAN DRX Cycle Length Coefficient** (3 bit field)\ This IE is defined in
sub-clause 9.3.29.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**Integrity Protection Mode Info** \ This IE is defined in sub-clause 9.3.39.
The GERAN does not include this IE unless it is performing an SBSS relocation
**Ciphering Mode Info** \ This IE is defined in sub-clause 9.3.14. The GERAN
does not include this IE unless it is performing an SBSS relocation and a
change in ciphering algorithm
**New G-RNTI** \ This IE assigns a new G-RNTI to the MS. This IE is coded as
the G-RNTI IE defined in sub-clause 9.3.32.
**CN Information Info** \ This IE is defined in sub-clause 9.3.17.
**GRA Identity** \ This IE is defined in sub-clause 9.3.30.
**Signalling RB Information to Setup List** (3 bit field)\ This field is the
binary representation of the number of SRB to setup. Range : 0 to
maxSRBsetup-1.
**Signalling RB Information to Setup** \ This IE is present for each SRB to
establish. This IE is defined in sub-clause 9.3.101.
**RAB Information for Setup List** (4 bit field)\ This field is used to repeat
information on each RAB to reconfigure, where 0 enables one RAB to be
described. Range: 0 to maxRABsetup-1.
**RAB Information for Setup** \ This IE is present for each signalling RAB to
establish. This IE is defined in sub-clause 9.3.75.
**RB Information to Be Affected List** (5 bit field)\ This field is used to
repeat information on each RB to reconfigure, where 0 enables one RB to be
described. Range: 0 to maxRB-1.
**RB Information to Be Affected** \ This IE is defined in sub-clause 9.3.72.
**Downlink Counter Synchronisation Info struct\** This structure contains
information about PDCP synchronisation.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described. Range: 0 to maxRBallRABs-1.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
**PDCP context relocation info** \ This IE is defined in sub-clause 9.3.116.
**Network Response Times struct** \ This structure contains information about
network response times.
**TRMIN_SDCCH (1 bit field)\** This field indicates the minimum response time
of the network on SDCCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.
**TRESP_SDCCH (1 bit field)\ This field indicates the maximum response time of
the network on SDCCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.**
**TRMIN_SACCH (1 bit field)\** This field indicates the minimum response time
of the network on SACCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.
**TRESP_SACCH (1 bit field)\ This field indicates the maximum response time of
the network on SACCH, expressed as a number of TDMA frames. See 3GPP TS
44.060.**
**TRMIN** (6 bit field)\ This field indicates the minimum response time of the
network, expressed as a number of TDMA frames. See 3GPP TS 44.060.
**TRESP_MAC_DTM (7 bit field)\ TRESP_MAC_Dedicated (7 bit field)\ These fields
indicate for a given MAC state the maximum response time of the network
expressed as a number of TDMA frames. See 3GPP TS 44.060.**
**TRMIN_DCH** (6 bit field)\ This field indicates the minimum response time of
the network when FLO is used, expressed as a number of TDMA frames. See 3GPP
TS 44.160.
**TRES_DCH_MAC_DTM** **(7 bit field)\ TRES_DCH_MAC_Dedicated** **(7 bit
field)\ These fields indicate for a given MAC state the maximum response time
of the network when FLO is used, expressed as a number of TDMA frames. See
3GPP TS 44.160.**
* * *
### 9.2.35 RADIO BEARER SETUP COMPLETE
This message is sent by MS to confirm the establishment of the radio bearer.
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.35.1: RADIO BEARER SETUP COMPLETE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | { \ > | | | | \ > } * (1 + val(START List) ) | | | | { 0 \| 1 \ | | | | \ | | > * (1 + val(RB with PDCP Information List) ) } | | | | }; | +----------------------------------------------------------------------+
Table 9.2.35.2: RADIO BEARER SETUP COMPLETE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**Uplink Integrity Protection Activation Info** \ This IE contains the time,
in terms of RRC sequence numbers, when a new integrity protection
configuration shall be activated for the signalling radio bearers. The
Integrity protection activation info IE is defined in sub-clause 9.3.36.
**COUNT-C Activation Time** \ **The _Activation Time_ IE is defined in sub-
clause 9.3.1**.
**Radio bearer uplink ciphering activation time info** \ **The** _RB
Activation Time Info_ IE **is defined in sub-clause** 9.3.77.
**Uplink Counter Synchronisation Info struct** \ This structure enables the
synchronisation of the Uplink security counters.
**START List** (2 bit field)\ START value to be used in this CN domain. This
field is the binary representation of the number of RB to be affected. Range :
0 to maxCNdomains-1.
**CN Domain Identity** \ **This IE is defined in sub-clause 9.3**.15.
**START** \ **This IE is defined in sub-clause 9.3**.102.
**RB with PDCP Information List** (5 bit field)\ This field is used to repeat
information on each RB with PDCP Information, where 0 enables one RB to be
described. Range: 0 to maxRBallRABs-1.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
* * *
### 9.2.36 RADIO BEARER SETUP FAILURE
This message is sent by MS, if it does not support the configuration given by
GERAN.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.36.1: RADIO BEARER SETUP FAILURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | \ | | > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ | | | | \** > | | *(1+val(Potentially Succesful RB List)) } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.36.2: RADIO BEARER SETUP FAILURE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**Failure Cause** \ The _Failure Cause and Error Information_ IE is defined in
sub-clause 9.3.25.
**RRC Cause** \ This _RRC Cause_ IE is defined in sub-clause 9.3.94.
**Potentially Succesful RB List** (5 bit field)\ This field is the binary
representation of the number of RB for which setup would have succeeded.\
Range : 0 to maxRB-1.
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
* * *
### 9.2.37 RRC CONNECTION REJECT
The network transmits this message when the requested RRC connection cannot be
accepted.
Radio Bearer : SRB2
Direction : GERAN → MS
Table 9.2.37.1: RRC CONNECTION REJECT information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | ! \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.37.2: RRC CONNECTION REJECT information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Initial MS Identity** \ This IE is defined in sub-clause 9.3.35.
**RRC Rejection Cause** \ This IE is defined in sub-clause 9.3.89. In this
version of specification, the MS ignores the _Rejection Cause_ IE.
**Wait Time** \ This IE is defined in sub-clause 9.3.112.
* * *
### 9.2.38 RRC CONNECTION RELEASE
This message is sent by GERAN to release the RRC connection. The message also
releases all radio bearers between the MS and GERAN.
Radio Bearer : SRB 2
Direction : GERAN→MS
Table 9.2.38.1: RRC CONNECTION RELEASE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 _\-- critical extension escape available_ | | | | { \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ >} | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 9.2.38.2: RRC CONNECTION RELEASE information element details
+----------------------------------------------------------------------+ | **RRC Transaction Identifier** \ | | This IE is defined in sub-clause 9.3.98. | +----------------------------------------------------------------------+ | **Integrity Check Info** \ | | This IE is defined in sub-clause 9.3.36. The _Integrity Check Info_ | | IE is included if integrity protection is applied. | +----------------------------------------------------------------------+ | **N308 (3 bit field)** \ | | This IE is present when MS is in RRC-CELL_DEDICATED state.\ | | N308 indicates the Maximum number of retransmissions of the RRC | | CONNECTION RELEASE COMPLETE message. | | | | bit\ | | 3 2 1\ | | 0 0 0 1\ | | 0 0 1 2\ | | 0 1 0 3\ | | 0 1 1 4\ | | 1 0 0 5\ | | 1 0 1 6\ | | 1 1 0 7\ | | 1 1 1 8 | +----------------------------------------------------------------------+ | **Release cause** \ | | This IE is defined in sub-clause 9.3.90. | +----------------------------------------------------------------------+ | **RPLMN Information** \ | | This IE is defined in sub-clause 9.3.93. | +----------------------------------------------------------------------+
### 9.2.39 RRC CONNECTION RELEASE COMPLETE
This message is sent by MS to confirm that the RRC connection has been
released.
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.39.1: RRC CONNECTION RELEASE COMPLETE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | ! \ > } | +----------------------------------------------------------------------+
Table 9.2.39.2: RRC CONNECTION RELEASE COMPLETE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied
**Error Indication** \ The _Failure Cause and Error Information_ IE is defined
in sub-clause 9.3.25.
* * *
### 9.2.40 RRC CONNECTION REQUEST
RRC Connection Request is the first message transmitted by the MS when setting
up an RRC Connection to the network.
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.40.1: RRC CONNECTION REQUEST information elements
+------------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ >** | | | | \ >** | | | | ! \ > }; | +------------------------------------------------------------------------+
Table 9.2.40.2: RRC CONNECTION REQUEST information element details
* * *
**Initial MS Identity** \ This IE is defined in sub-clause 9.3.35.
**Establishment Cause** \ This IE is defined in sub-clause 9.3.21
**Protocol Error Indicator** \ This IE is defined in sub-clause 9.3.70.
* * *
### 9.2.41 RRC CONNECTION SETUP
This message is used by the network to accept the establishment of an RRC
connection for an MS, including assignment of signalling link information and
optionally physical channel information.
Radio Bearer : SRB2
Direction : GERAN → MS
Table 9.2.41.1: RRC CONNECTION SETUP information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | _\-- MS information elements_ | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | _\-- RB information elements_ | | | | { 0 \| 1 \ | | | | \ > *(1+val(Signalling RB Information to | | Setup list)) } | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 9.2.41.2: RRC CONNECTION SETUP information element details
* * *
**RRC Transaction Identifier** (2 bit field)\ This IE is defined in sub-clause
9.3.98.
**Activation Time** (8 bit field)\ **This IE is defined in sub-clause 9.3**.1.
**Initial MS Identity** \ This IE is defined in sub-clause 9.3.35.
**New G-RNTI** \ This IE assigns a new G-RNTI to the MS. This IE is coded as
the _G-RNTI_ IE defined in sub-clause 9.3.32.
**RRC State Indicator** \ This IE is defined in sub-clause 9.3.97.
**GERAN DRX Cycle Length Coefficient** \ This IE is defined in sub-clause
9.3.29.
**Capability Update Requirement** \ This IE is defined in sub-clause 9.3.4.
**Signalling RB Information to Setup list** (3 bit field)\ This field is the
binary representation of the number of SRB to setup. Range : 0 to
maxSRBsetup-1.\ \ **Signalling RB Information to Setup** \ This IE is present
for each SRB to establish. This IE is defined in sub-clause 9.3.101.
* * *
### 9.2.42 RRC CONNECTION SETUP COMPLETE
This message confirms the establishment of the RRC Connection by the MS.
Radio Bearer : SRB2
Direction : MS → GERAN
Table 9.2.42.1: RRC CONNECTION SETUP COMPLETE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ | | | | { \ > | | | | \ > } *(1+val(START List)) | | | | { 0 \| 1 \ > } | | | | \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | \**; | +----------------------------------------------------------------------+
NOTE: Inter-RAT MS radio access capability are currently included in the MS
radio access capability from 24.008. MS radio access capability extension is
currently not defined.
Table 9.2.42.2:RRC CONNECTION SETUP COMPLETE information element details
* * *
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**START List** (2 bit field)\ This field is the binary representation of the
number of CN domains for which a START value is included.\ Range : 0 to
maxCNdomains-1.
**CN Domain Identity** \ **This field is defined in sub-clause** 9.3.15.
**START** \ **This field is defined in sub-clause** 9.3.102.
**Inter-RAT MS Radio Access Capability Length** \ This field indicates the
length of the structure excluding the 15 bits to indicate the length.\ Range 0
-- 32768.
**MS GERAN Iu mode Radio Access Capability** \ **This IE is defined in sub-
clause 9.3.45.**
**MS GERAN A/Gb mode Radio Access Capability\** This IE is defined in sub-
clause 9.3.44.
**UE UTRAN Radio Access Capability\** This IE is defined in sub-clause 9.3.108
**UE UTRAN Radio Access Capability Extension\** This IE is defined in sub-
clause 9.3.109.
**UE CDMA2000 Radio Access Capability** \ This IE is defined in sub-clause
9.3.110.
* * *
### 9.2.43 RRC STATUS
This message is sent to indicate a protocol error.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.43.1: RRC STATUS information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ > ; | +----------------------------------------------------------------------+
Table 9.2.43.2: RRC STATUS information element details
* * *
**Protocol Error Information** \ The _Protocol Error Information_ IE is
defined in sub-clause 9.3.71.
**Integrity Check Info** \ The Integrity Check Info IE is defined in sub-
clause 9.3.36.\ The Integrity Check Info IE is included if integrity
protection is applied.
**Identification of Received Message struct** \ This structure is present if
the _Protocol Error Cause_ IE in the _Protocol Error Information_ IE has any
other value than \"CSN.1 violation or encoding error\" or \"Message type non-
existent or not implemented\".
**Received Message Type** \ The Message Type IE is defined in sub-clause
9.2.1.
**RRC Transaction Identifier** \ The RRC Transaction Identifier IE is defined
in sub-clause 9.3.98.
* * *
### 9.2.44 RRC FAILURE INFO
This message is sent between network nodes in order to provide information
about the cause for failure to perform the requested operation.
Radio Bearer: N/A
Direction: GERAN/UTRAN→ GERAN
Table 9.2.44.1: RRC FAILURE INFO information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | \ > | | | | \| \ } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 9.2.44.2: RRC FAILURE INFO information element details
* * *
**Failure Cause** \ The _Failure Cause_ IE indicates the cause of the failure
in order to perform the required RRC procedure. This IE is defined in sub-
clause 9.3.24.
**Protocol Error Information** \ This IE is defined in sub-clause 9.3.71.
* * *
### 9.2.45 SECURITY MODE COMMAND
This message is sent by GERAN to start or reconfigure ciphering and/or
integrity protection parameters.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.45.1: SECURITY MODE COMMAND information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | _\-- MS information elements_ | | | | \ > | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | { 0 \| 1 \ > } | | | | _\-- CN information elements_ | | | | \ > | | | | _\-- other information elements_ | | | | { 0 \| 1 \ > } | | | | ! \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.45.2: SECURITY MODE COMMAND information element details
* * *
**RRC Transaction Identifier** \ The _RRC Transaction Identifier_ IE is
defined in sub-clause 9.3.98.
**Integrity Check Info** \ The _Integrity Check Info_ IE is defined in sub-
clause 9.3.36.
**Security Capability** \ The _Security Capability_ IE is defined in sub-
clause 9.3.100.
**Ciphering Mode Info** \ Only present if ciphering shall be controlled. The
_Ciphering Mode Info_ IE is defined in sub-clause 9.3.14.
**Integrity Protection Mode Info** \ Only present if integrity protection
shall be controlled. The _Integrity Protection Mode Info_ IE is defined in
sub-clause 9.3.39.
**CN Domain Identity** \ Indicates which cipher and integrity protection keys
are applicable. The _CN Domain Identity_ IE is defined in sub-clause 9.3.15.
**GSM MS Security Capability** \ **This IE is defined in sub-clause 9.3.33.**
* * *
### 9.2.46 SECURITY MODE COMPLETE
This message is sent by MS to confirm the reconfiguration of ciphering and/or
integrity protection.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.46.1: SECURITY MODE COMPLETE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \> | | | | \ > | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.46.2: SECURITY MODE COMPLETE information element details
* * *
**RRC Transaction Identifier** \ The _RRC Transaction Identifier_ IE is
defined in sub-clause 9.3.98.
**Integrity Check Info** \ Th _Integrity Check Info_ IE is defined in sub-
clause 9.3.36.
**Uplink Integrity Protection Activation Info** \ The _Integrity Protection
Activation Info_ IE contains the time, in terms of RRC sequence numbers, when
a new integrity protection configuration shall be activated for the signalling
radio bearers. The _Integrity Protection Activation Info_ IE is defined in
sub-clause 9.3.37.
**Radio Bearer Uplink Ciphering Activation Time Info** \ **The** _RB
Activation Time Info_ IE **is defined in sub-clause** 9.3.77.
* * *
### 9.2.47 SECURITY MODE FAILURE
This message is sent to indicate a failure to act on a received SECURITY MODE
CONTROL message.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.47.1: SECURITY MODE FAILURE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | \ | | > | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.47.2: SECURITY MODE COMPLETE information element details
* * *
**RRC Transaction Identifier** \ The _RRC Transaction Identifier_ IE is
defined in sub-clause 9.3.98.
**Integrity Check Info** \ The _Integrity Check Info_ IE is defined in sub-
clause 9.3.36. Integrity Check Info is included if integrity protection is
applied
**Failure Cause** \ The _Failure Cause_ _and Error Information_ IE is defined
in sub-clause 9.3.25
* * *
### 9.2.48 SIGNALLING CONNECTION RELEASE
This message is used to notify the MS that its ongoing signalling connection
to a CN domain has been released.
Radio Bearer : SRB 2
Direction : GERAN→ MS
Table 9.2.48.1: SIGNALLING CONNECTION RELEASE information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | ! \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.48.2: SIGNALLING CONNECTION RELEASE information element details
* * *
**CN Domain Identity** \ The _CN Domain Identity_ IE is defined in sub-clause
9.3.15.
**RRC Transaction Identifier** \ The _RRC Transaction Identifier_ IE is
defined in sub-clause 9.3.98.
**Integrity Check Info** \ The _Integrity Check Info_ IE is defined in sub-
clause 9.3.36. Integrity Check Info is included if integrity protection is
applied
* * *
### 9.2.49 SIGNALLING CONNECTION RELEASE INDICATION
This message is used by the MS to indicate to GERAN the release of an existing
signalling connection.
Radio Bearer : SRB 2
Direction : MS→GERAN
Table 9.2.49.1: SIGNALLING CONNECTION RELEASE INDICATION information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.49.2: SIGNALLING CONNECTION RELEASE INDICATION information element
details
* * *
**CN Domain Identity** \ The _CN Domain Identity_ IE is defined in sub-clause
9.3.15.
**Integrity Check Info** \ The Integrity Check Info IE is defined in sub-
clause 9.3.36. _Integrity Check Info_ IE is included if integrity protection
is applied.
* * *
### 9.2.50 (void)
### 9.2.51 SYSTEM INFORMATION 5
This message is the same as the SYSTEM INFORMATION 5 message specified in 3GPP
TS 44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE.
\- L2 pseudo length IE
\- System Information Type 5 Message Type IE.
Radio Bearer : SRB 1
Direction : GERAN → MS
### 9.2.52 SYSTEM INFORMATION 5bis
This message is the same as the SYSTEM INFORMATION 5bis message specified in
3GPP TS 44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE.
\- L2 pseudo length IE.
\- System Information Type 5bis Message Type IE.
Radio Bearer : SRB 1
Direction : GERAN → MS
### 9.2.53 SYSTEM INFORMATION 5ter
This message is the same as the SYSTEM INFORMATION 5ter message specified in
3GPP TS 44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE..
\- L2 pseudo length IE.
\- System Information Type 5ter Message Type IE.
Radio Bearer : SRB 1
Direction : GERAN → MS
### 9.2.54 SYSTEM INFORMATION 6
This message is the same as the SYSTEM INFORMATION 6 message specified in 3GPP
TS 44.018 but shall not contain:
\- RR management Protocol Discriminator IE.
\- Skip Indicator IE..
\- L2 pseudo length IE.
\- System Information Type 6 Message Type IE.
Radio Bearer : SRB 1
Direction : GERAN → MS
### 9.2.55 (void)
### 9.2.56 UPLINK DIRECT TRANSFER
This message is used to transfer NAS messages for an existing signalling
connection.
Radio Bearer : SRB3 and SRB4
Direction : MS → GERAN
Table 9.2.56.1: UPLINK DIRECT TRANSFER information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | { 0 \| 1 \ | | > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.56.2: UPLINK DIRECT TRANSFER information element details
* * *
**CN Domain Identity** \ The _CN Domain Identity_ IE is defined in sub-clause
9.3.15.
**NAS Message** \ The _NAS Message_ IE is defined in sub-clause 9.3.54.
**Integrity Check Info** \ The Integrity Check Info IE is defined in sub-
clause 9.3.36. _Integrity Check Info_ IE is included if integrity protection
is applied.
* * *
### 9.2.57 **GERAN Iu mode DTM REQUEST**
This message is used by the MS to initiate an allocation of SBPSCH(s) when the
MS is in RRC-Cell_Dedicated state- MAC-Dedicated state.
Radio Bearer : SRB2
Direction : MS→GERAN
Table 9.2.57.1: **GERAN Iu mode DTM REQUEST information** elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { 0 \| 1 \ | | >} | | | | \ | | | | { \ > | | | | \ > } * (1+val(START List)) | | | | \ > | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.57.2: **GERAN Iu mode DTM REQUEST information** element details
* * *
**G-RNTI** \ This IE is defined in sub-clause 9.3.32.
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**START List** (2 bit field)\ START value to be used in this CN domain. This
field is the binary representation of the number of RB to be affected. Range :
0 to maxCNdomains-1.
**CN Domain Identity** \ **This IE is defined in sub-clause 9.3**.15.
**START** \ **This IE is defined in sub-clause 9.3**.102.
**Iu mode RRC Channel Request Description** \ This IE is defined in sub-clause
9.3.113.
* * *
### 9.2.58 **GERAN Iu mode DTM REJECT**
This message is used by the GERAN to reject the DTM request when the MS is in
RRC-Cell_Dedicated state- MAC-Dedicated state.
Radio Bearer : SRB2
Direction : GERAN→MS
Table 9.2.58.1: **GERAN Iu mode DTM REJECT information** elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ > | | | | { 0 \| 1 \ | | >} | | | | \ | | > | | | | \> | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.2.58.2: **GERAN Iu mode DTM REJECT information** element details
* * *
**Integrity Check Info** \ This IE is defined in sub-clause 9.3.36. The
_Integrity Check Info_ IE is included if integrity protection is applied.
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
**Failure Cause** \ This _Failure Cause and Error Information_ IE is defined
in sub-clause 9.3.25.
**Wait Indication** \ This _Wait Indication_ IE is defined in sub-clause
9.3.114.
* * *
## 9.3 Information Elements
### 9.3.1 Activation Time
The _Activation Time_ IE defines the frame number/time at which the
operation/changes caused by the related message shall take effect.
Table 9.3.1.1: _Activation Time_ information elements
+----------------------------------------+ | \ ::= | | | | \ ; | +----------------------------------------+
Table 9.3.1.2: _Activation Time_ information element details
* * *
**Activation Time** (22 bit field)\ The Activation Time field defines the
frame number/time at which the operation/changes caused by the related message
shall take effect. This field is encoded as a binary number.TDMA Frame Number
is defined in 3GPP TS 45.002.
* * *
### 9.3.2 BA List Pref
The purpose of the _BA List Pref_ IE is to provide the mobile station with
ARFCN information, which can be used in the cell selection/reselection
procedure. This IE is defined in 3GPP TS 44.018.
### 9.3.3 BA Range
The purpose of the _BA Range_ IE is to provide the mobile station with ARFCN
range information which can be used in the cell selection procedure.
Table 9.3.3.1: _BA Range_ information elements
+--------------------------------------------------------------+ | \ ::=\ | | \ | | | | \ > ; | +--------------------------------------------------------------+
Table 9.3.3.2: _BA Range_ information element details
* * *
**BA Range Length** (8 bit field)**\** This field indicates the length of BA
Range value in octets as defined in 3GPP TS 44.018.
**BA Range Value** (octet string)**\** This IE holds the Value part of the _BA
Range_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.4 Capability Update Requirement
The _Capability Update Requirement_ IE indicates to the MS which specific
capabilities to transfer to the network.
Table 9.3.4.1: _Capability Update Requirement_ information elements
+----------------------------------------------------------------------+ | \ ::=\ | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \**; | +----------------------------------------------------------------------+
Table 9.3.4.2: _Capability Update Requirement_ information element details
+----------------------------------------------------------------------+ | **Capability Update Requirement length** (4 bit field)\ | | This field indicates the number of capability updates requirements | | included in this IE in bits. It is encoded as the binary | | representation of the amount of capability udpates included. Its | | value is 6 (\'0110\') in this version of the protocol. | +----------------------------------------------------------------------+ | **MS GERAN Iu mode radio access capability update requirement** (1 | | bit field)\ | | **MS GERAN A/Gb mode radio access capability update requirement** (1 | | bit field)\ | | **UE radio capability FDD** **capability update requirement** (1 bit | | field)\ | | **UE radio capability 3,84 McpsTDD** **capability update | | requirement** (1 bit field)\ | | **UE radio capability 1,28 Mcps TDD capability update requirement** | | (1 bit field)**\ | | UE CDMA2000 radio access capability update requirement** (1 bit | | field) | | | | Each of these fields indicates the update requirement of the | | associated radio access capability. | | | | bit | | | | 1 | | | | 0 not required | | | | 1 required | +----------------------------------------------------------------------+
### 9.3.5 CDMA2000 MS security capability
The CDMA2000 MS security capability IE indicates the MS security capability
for CDMA2000.
### 9.3.6 Cell Channel Description
The purpose of the _Cell Channel Description_ IE is to provide the reference
frequency list to be used to decode the mobile allocation information element.
Table 9.3.6.1: _Cell Channel Description_ information elements
+--------------------------------------------------------------+ | \ ::= | | | | \; | +--------------------------------------------------------------+
Table 9.3.6.2: _Cell Channel Description_ information element details
* * *
**_Cell Channel Description_** **Value (17 octet field)** \ The _Cell Channel
Description_ Value is coded as the value part of the _Cell Channel
Description_ IE specified in 3GPP TS 44.018.
* * *
### 9.3.7 Cell Description
The _Cell Description_ IE provides a minimum description of a cell, e.g. to
allow the mobile station to use its pre-knowledge about synchronization.
Table 9.3.7.1: _Cell Description_ information elements
* * *
\ ::=\ \ > ;
* * *
Table 9.3.7.2: _Cell Description_ information element details
* * *
**Cell Description Value** (2 octet field)**\** This field indicates the Value
part of the _Cell Description_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.8 Cell Update Cause
The _Cell Update Cause_ IE indicates the cause for peforming a Cell Update.
Table 9.3.8.1: _Cell Update Cause_ information elements
+--------------------------------------------+ | \ ::= | | | | \ > ; | +--------------------------------------------+
Table 9.3.8.2: _Cell Update Cause_ information element details
+---------------------------------------+ | **Cell Update Cause** (3 bit field) | | | | bit\ | | 3 2 1\ | | 0 0 0 cell reselection\ | | 0 0 1 periodical cell update\ | | 0 1 0 uplink data transmission\ | | 0 1 1 paging response\ | | 1 0 0 radio link failure\ | | 1 0 1 RLC unrecoverable error\ | | 1 1 0 Invalid RLC/MAC control message | | | | All other values are reserved. | +---------------------------------------+
### 9.3.9 Channel Description
The _Channel Description_ IE provides a description of an allocable channel
together with its SACCH.
Table 9.3.9.1: _Channel Description_ information elements
+----------------------------------------------------+ | \ ::= | | | | \ >; | +----------------------------------------------------+
Table 9.3.9.2: _Channel Description_ information element details
* * *
**Channel Description Value\** This IE holds the Value part of the _Channel
Description_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.10 Channel Description 2
The _Channel Description 2_ IE is to provide a description of an allocable
channel configuration together.
Table 9.3.10.1: _Channel Description 2_ information elements
+------------------------------------------------------+ | \ ::= | | | | \ >; | +------------------------------------------------------+
Table 9.3.10.2: _Channel Description 2_ information element details
* * *
**Channel Description 2 Value** \ This IE holds the Value part of the _Channel
Description 2_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.11 Channel Mode
The _Channel Mode_ IE gives information of the mode on coding/decoding and
transcoding. The exact mode is determined by the contents of this field and
the channel type.
Table 9.3.11.1: _Channel Mode_ information elements
+---------------------------------------------+ | \ ::= | | | | \ >; | +---------------------------------------------+
Table 9.3.11.2: _Channel Mode_ information element details
* * *
**Channel Mode** **Value\** This IE holds the Value part of the _Channel Mode_
IE defined in 3GPP TS 44.018.
* * *
### 9.3.12 Channel Mode 2
The _Channel Mode 2_ field gives information of the mode on coding/decoding
and transcoding.
Table 9.3.12.1: _Channel Mode 2_ information elements
+-----------------------------------------------+ | \ ::= | | | | \ >; | +-----------------------------------------------+
Table 9.3.12.2: _Channel Mode 2_ information element details
* * *
**Channel Mode 2 Value\** This IE holds the value part of the _Channel Mode 2_
IE defined in 3GPP TS 44.018.
* * *
### 9.3.13 Ciphering Algorithm
The _Ciphering Algorithm_ IE indicates which type of ciphering algorithm is
used. This field is defined in 3GPP TS 33.102.
Table 9.3.13.1: _Ciphering Algorithm_ information elements
+----------------------------------------------+ | \ ::= | | | | \ > ; | +----------------------------------------------+
Table 9.3.13.2: _Ciphering Algorithm_ information element details
+---------------------------------------+ | **Ciphering Algorithm** (4 bit field) | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 UEA0 -- _see 3GPP TS 33.102_ | | | | 0 0 0 1 UEA1 -- _see 3GPP TS 33.102_ | | | | All other values are reserved. | +---------------------------------------+
### 9.3.14 Ciphering Mode Info
The _Ciphering Mode Info_ IE contains the ciphering specific security mode
control information.
Table 9.3.14.1: _Ciphering Mode Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | \| \ | | | | { \ > | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } } | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.14.2: _Ciphering Mode Info_ information element details
+----------------------------------------------------------------------+ | **Ciphering Mode Command** (1 bit field) | | | | bit | | | | 1 | | | | 0 stop ciphering mode | | | | 1 start/restart ciphering mode | +----------------------------------------------------------------------+ | **Ciphering Algorithm** (4 bit field)\ | | The _Ciphering Algorithm_ IE is defined in sub-clause 9.3.12 | +----------------------------------------------------------------------+ | **Ciphering Activation Time for DBPSCH** \ | | The _Activation Time_ IE is used for radio bearers mapped on RLC-TM. | | This IE is defined in sub-clause 9.3.1. | +----------------------------------------------------------------------+ | **RB Downlink Ciphering Activation Time info** \ | | The _RB Activation Time Info_ IE is used for radio bearers mapped on | | RLC-AM or RLC-UM. This IE is defiend in sub-clause 9.3.77. | +----------------------------------------------------------------------+
### 9.3.15 CN Domain Identity
The _CN_ _Domain Identity_ IE identifies the type of core network domain.
Table 9.3.15.1: _CN Domain Identity_ information elements
+------------------------------------------+ | \ ::= | | | | \ ; | +------------------------------------------+
Table 9.3.15.2: _CN Domain Identity_ information element details
+--------------------------------------+ | **CN Domain Identity** (2 bit field) | | | | bit | | | | 2 1 | | | | 0 0 CS domain | | | | 0 1 PS domain | | | | 1 0 Reserved | | | | 1 1 Reserved. | +--------------------------------------+
### 9.3.16 CN Domain Specific DRX Cycle Length Coefficient
The _CN Domain Specific DRX Cycle Length Coefficient_ IE determines the value
of the CN domain specific DRX cycle length coefficient to use in DRX
computations. The discontinuous reception computations determine the paging
blocks to monitor on PCCCH for a specific MS.
Table 9.3.16.1: _CN Domain Specific DRX Cycle Length Coefficient_ information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | \; | +----------------------------------------------------------------------+
Table 9.3.16.2: _CN Domain Specific DRX Cycle Length Coefficient_ information
element details
+----------------------------------------------------------------------+ | **CN Domain Specific DRX Cycle Length Coefficient** (2 bit field)\ | | This field is the binary representation of the **CN domain specific | | DRX cycle length coefficient. Range : 6 to 9.** | | | | bit | | | | 2 1 | | | | 0 0 CN domain specific DRX cycle length coefficient = 6 | | | | 0 1 CN domain specific DRX cycle length coefficient = 7 | | | | 1 0 CN domain specific DRX cycle length coefficient = 8 | | | | 1 1 CN domain specific DRX cycle length coefficient = 9 | +----------------------------------------------------------------------+
### 9.3.17 CN Information Info
The _CN Information Info_ IE indicates information about the CN.
Table 9.3.17.1: _CN Information Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | { \ > | | | | \ > | | | | } *( 1 + val ( Length of CN Domain Related Information ) ) | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.17.2: _CN Information Info_ information element details
* * *
**PLMN Identity** \ This IE is defined in sub-clause 9.3.63.
**CN Domain Specific GSM-MAP NAS System Info** \ The _NAS system information
GSM-MAP_ IE is defined in sub-clause 9.3.56.
**Length of CN Domain Related Information** (2 bit field)\ This field is used
to calculate the number of CN domains included in this IE. Range : 0 to
MaxCNdomains-1.
**CN Domain Identity** \ The _CN Domain Identity_ IE is defined in sub-clause
9.3.15.
* * *
### 9.3.18 CN Information Info Full
The _CN Information Info Full_ IE indicates information about the CN.
Table 9.3.18.1: _CN Information Info Full_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | { \ > | | | | \ > | | | | \ > | | | | } * 1 + val (Length of CN domain related information) | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.18.2: _CN Information Info Full_ information element details
* * *
**PLMN Identity** \ This IE is defined in sub-clause 9.3.63.
**CN Common GSM-MAP NAS System Info\** The _NAS System Information GSM-MAP_ IE
is defined in sub-clause 9.3.56.
**CN Domain Specific GSM-MAP NAS System Info** \ The _NAS System Information
GSM-MAP_ IE is defined in sub-clause 9.3.56.
**Length Of CN Domain Related Information** (2 bit field)\ This field is used
to calculate the number of CN domains included in this IE. Range : 0 to
MaxCNdomains-1.
**CN Domain Identity** \ The CN Domain Identity IE is defined in sub-clause
9.3.15.
**CN Domain Specific DRX Cycle Length Coefficient** \ The **_CN Domain
Specific DRX Cycle Length Coefficient_** IE is defined in sub-clause 9.3.16.
* * *
### 9.3.19 DBPSCH Description
The _DBPSCH Description_ IE describes dedicated physical resources.
Table 9.3.19.1: _DBPSCH Description_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { -- Common parameters | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 -- Conditional on presence of Mobile Allocation after time | | or before time | | | | \ | | > } | | | | { 0 \| 1 -- Conditional on presence of Frequency Hopping in | | Description of the channel IEs | | | | { 00 \ > | | | | \| 01 \ > | | | | \| 10 \ > | | | | \| 11 \ > }} | | | | { 0 \| 1 -- Conditional on Starting Time and at least one Channel | | Description before time | | | | {00 \ > | | | | \| 01 \ > | | | | \| 10 \ > | | | | \| 11 \ > }} | | | | { 0 \| 1 -- Conditional, not used for Handover | | | | \ >} | | | | { 0 \| 1 -- Conditional, used for Handover | | | | \>} | | | | -- Individual parameters | | | | { 00 \ > | | | | \| 01 \ > | | | | \| 10 \ > | | | | ! \ > } | | | | -- Reserved for future use | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { 0 \| 1 \ > } | | | | -- Description of the first channel | | | | \ > | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | { 0 \| 1 \ > | | } | | | | -- Description of the second channel | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | > } | | | | -- Conditional on value in Channel Description | | | | { 0 \| 1 -- Conditional on the value of Channel Description IE | | | | \ > } | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ > | | | | \ > | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ > | | | | { 0 \| 1 -- Conditional on Synchronization Indication value | | | | { 0 \ > | | | | \| 1 \ > } } } | | | | -- Description of the cell | | | | \ > | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { | | | | -- _Conditional, present in Release 6, Channel Mode IE and Channel | | Mode 2 IE not used_ | | | | { 0 \| 1 \ > } | | | | \ \-- _Downlink | | timeslot allocation_ | | | | { | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | { \ > | | | | } }*(1 + val(Deleted TrCH information list) ) | | | | { 0 \| 1 \ | | | | { \ > } } *(1 + val( Added or | | Reconfigured DL TrCH information list ) ) | | | | } * (N) -- _where N is the amount of downlink timeslots (i.e. | | amount of '1's) assigned in the_ | | | | -- _DL_TIMESLOT_ALLOCATION_ | | | | { 0 -- _Same uplink timeslot allocation as the downlink timeslot | | allocation provided in_ | | | | -- _DL_TIMESLOT_ALLOCATION_ | | | | \| 1 \ } | | | | { | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | { \ > | | | | } } *(1 + val(Deleted TrCH Information List) ) | | | | { 0 \| 1 \ | | | | { \ > } } *(1 + val( Added or | | Reconfigured UL TrCH Information List ) ) | | | | } * (M) -- _where M is the amount of uplink timeslots (i.e. amount | | of '1's) assigned in the_ | | | | -- _UL_TIMESLOT_ALLOCATION, if present, else in the | | DL_TIMESLOT_ALLOCATION_ | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ > | | | | \ >; | +----------------------------------------------------------------------+
Table 9.3.19.2: _DBPSCH Description_ information element details
+----------------------------------------------------------------------+ | **Handover struct** \ | | This structure defines the physical parameters when handover is | | performed. | +----------------------------------------------------------------------+ | **Cell Description** \ | | This IE is defined in sub-clause 9.3.7. | +----------------------------------------------------------------------+ | **Handover Reference** \ | | This IE is defined in sub-clause 9.3.4 | +----------------------------------------------------------------------+ | **Power Command And Access Type** \ | | This IE is defined in sub-clause 9.3.65 | +----------------------------------------------------------------------+ | **Synchronization Indication** \ | | This IE is defined in sub-clause 9.3.104 | +----------------------------------------------------------------------+ | **Frequency Short List after time** \ | | The _Frequency Short List_ IE is defined in sub-clause 9.3.28. This | | IE is conditional on presence of the frequency hopping in either | | _Channel Description_ IE or _Channel Description 2_ IE, as indicated | | in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Real Time Difference** \ | | The _Time Difference_ IE is defined in sub-clause 9.3.105. This IE | | is conditional on value of the _Synchronization Indication_ IE, as | | indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Timing Advance** \ | | This IE is defined in sub-clause 9.3.106. This IE is defined in | | sub-clause 9.3.93. This IE is conditional on value of the | | _Synchronization Indication_ IE, as indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Frequency Short List before time** \ | | The _Frequency Short List_ IE is defined in sub-clause 9.3.28. This | | IE is conditional on presence of the _Starting Time_ IE, as | | indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Dynamic ARFCN Mapping** \ | | This IE is defined in sub-clause 9.3.20 | +----------------------------------------------------------------------+ | **Description of the First Channel after time** \ | | The _Channel Description_ _2_ IE is defined in sub-clause 9.3.10. | +----------------------------------------------------------------------+ | **Power Command** \ | | This IE is defined in sub-clause 9.3.64 | +----------------------------------------------------------------------+ | **Frequency List after time** \ | | The _Frequency List_ IE is defined in sub-clause 9.3.27. This IE is | | conditional on presence of the frequency hopping in either _Channel | | Description_ IE or _Channel Description 2_ IE, as indicated in | | 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **_Mobile Allocation after time_** \ | | The _Mobile Allocation_ IE is defined in sub-clause 9.3.42. The | | _Mobile Allocation after time_ IE is conditional on presence of the | | frequency hopping in either _Channel Description_ IE or _Channel | | Description 2_ IE, as indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Cell Channel Description** \ | | This IE is defined in sub-clause 9.3.6. This IE is conditional on | | presence of either _Mobile Allocation before time_ or _Mobile | | Allocation after time_ IE, as indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Description of the Multislot Configuration** \ | | The _Multislot Allocation_ IE is defined in sub-clause 9.3.53. . | +----------------------------------------------------------------------+ | **Mode of the Channel Set X** \ | | The _Channel Mode_ IE is defined in sub-clause 9.3.11. The channe | | lmode is defined for the channel set X, where X has a range from 1 | | to 8. | +----------------------------------------------------------------------+ | **Description of the Second Channel after time** \ | | The _Channel Description_ IE is defined in sub-clause 9.3.9. | +----------------------------------------------------------------------+ | **Mode of the Second Channel** \ | | The _Channel Mode2_ IE is defined in sub-clause 9.3.12. | +----------------------------------------------------------------------+ | **Starting Time** \ | | This IE is defined in sub-clause 9.3.103. | +----------------------------------------------------------------------+ | **Frequency List before time** \ | | The _Frequency List_ IE is defined in sub-clause 9.3.27. The | | _Frequency List before time_ IE is conditional on presence of the | | _Starting Time_ IE, as indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **_Frequency Channel Sequence before time_** \ | | The _Frequency Channel Sequence_ IE is defined in sub-clause 9.3.26. | | The _Frequency Channel Sequence before time_ IE is conditional on | | presence of the _Starting Time_ IE, as indicated in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **_Mobile Allocation before time_** \ | | The _Mobile Allocation_ IE is defined in sub-clause 9.3.42. This IE | | is conditional on presence of the _Starting Time_ IE, as indicated | | in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | **Description of the First Channel before time** \ | | The _Channel Description 2_ IE is defined in sub-clause 9.3.10. | +----------------------------------------------------------------------+ | **Description of the Second Channel before time** \ | | The _Channel Description_ IE is defined in sub-clause 9.3.9. | +----------------------------------------------------------------------+ | **MultiRate Configuration** \ | | This IE is defined in sub-clause 9.3.52. | +----------------------------------------------------------------------+ | **RRC** **Packet Uplink Assignment** \ | | This IE is defined in sub-clause 9.3.96 | +----------------------------------------------------------------------+ | **RRC** **Packet Downlink Assignment** \ | | This IE is defined in sub-clause 9.3.95 | +----------------------------------------------------------------------+ | **Description of the** **Uplink Packet Channel Assignment2** \ | | The _RRC Packet Uplink Assignment_ IE is defined in sub-clause | | 9.3.96a. | +----------------------------------------------------------------------+ | **Description of the** **Downlink Packet Channel Assignment2** \ | | The _RRC Packet Downlink Assignment_ IE is defined in sub-clause | | 9.3.95a. | +----------------------------------------------------------------------+ | **FLO Basic Physical Channels Parameters** struct\ | | This structure defines the basic physical channel parameters when | | FLO is used. | +----------------------------------------------------------------------+ | **Interleaving** (2 bit field )\ | | This IE is defined in sub-clause 9.3.118. | +----------------------------------------------------------------------+ | Mode (2 bit field)\ | | This IE is defined in sub-clause 9.3.119. | +----------------------------------------------------------------------+ | Modulation (2 bit field)\ | | This IE is defined in sub-clause 9.3.120. | +----------------------------------------------------------------------+ | **FLO struct** \ | | This structure defines all the TrCHs parameters when FLO is | | configured for each timeslot. | +----------------------------------------------------------------------+ | **DL_TIMESLOT_ALLOCATION** (8 bit field)\ | | This information field indicates the assigned downlink DBPSCH(s). | | Bit 8 indicates the status of timeslot 0, bit 7 indicates the status | | of timeslot 1, etc. At least one timeslot must be assigned. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | +----------------------------------------------------------------------+ | **UL_TIMESLOT_ALLOCATION** (8 bit field)\ | | This information field indicates the assigned uplink DBPSCH(s). Bit | | 8 indicates the status of timeslot 0, bit 7 indicates the status of | | timeslot 1, etc. At least one timeslot must be assigned. | | | | 0 Timeslot is not assigned\ | | 1 Timeslot is assigned | +----------------------------------------------------------------------+ | UL TrCH Information Common For All Transport Channels\ | | The IE _UL TrCH Information Common For All Transport Channels_ is | | defined in sub-clause 9.3.134. | +----------------------------------------------------------------------+ | Deleted TrCH Information List (3 bit field)\ | | This field is used to repeat information on each TrCH to be deleted, | | where 0 enables one TrCH to be described. Range: 0 to maxTrCH-1. | +----------------------------------------------------------------------+ | Deleted UL TrCH Information\ | | This IE is defined in sub-clause 9.3.124. | +----------------------------------------------------------------------+ | Added or Reconfigured UL TrCH Information List (3 bit field)\ | | This field is used to repeat information on each TrCH to be added or | | reconfigured in UL, where 0 enables one TrCH to be described. Range: | | 0 to maxTrCH-1. | +----------------------------------------------------------------------+ | Added or Reconfigured UL TrCH information\ | | The IE _Added or Reconfigured UL TrCH Information_ is defined in | | sub-clause 9.3.122. | +----------------------------------------------------------------------+ | DL TrCH Information Common For All Transport Channels\ | | The IE _DL TrCH Information Common For All Transport Channels_ is | | defined in sub-clause 9.3.125. | +----------------------------------------------------------------------+ | Deleted DL TrCH Information\ | | This IE is defined in sub-clause 9.3.123. | +----------------------------------------------------------------------+ | Added or Reconfigured DL TrCH Information list (3 bit field)\ | | This field is used to repeat information on each TrCH to be added or | | reconfigured in DL, where 0 enables one TrCH to be described. Range: | | 0 to maxTrCH-1. | +----------------------------------------------------------------------+ | Added or Reconfigured DL TrCH information\ | | The IE _Added or Reconfigured DL TrCH Information_ is defined in | | sub-clause 9.3.121. | +----------------------------------------------------------------------+
### 9.3.20 Dynamic ARFCN Mapping
The purpose of the _Dynamic ARFCN Mapping_ IE is to provide information on
ARFCN mapping to physical frequencies (see 3GPP TS 45.005). This IE is coded
as defined in 3GPP TS 44.018.
### 9.3.21 Establishment Cause
The _Establishment Cause_ IE defines the cause for an RRC connection
establishment request.
Table 9.3.21.1: _Establishment Cause_ information elements
+----------------------------------------------+ | \ ::= | | | | \ > ; | +----------------------------------------------+
Table 9.3.21.2: _Establishment Cause_ information element details
+-------------------------------------------------+ | **Establishment Cause** (5 bit field) | | | | bit\ | | 5 4 3 2 1\ | | 0 0 0 0 0 Originating Conversational Call\ | | 0 0 0 0 1 Originating Streaming Call\ | | 0 0 0 1 0 Originating Interactive Call\ | | 0 0 0 1 1 Originating Background Call\ | | 0 0 1 0 0 Originating Subscriber traffic Call\ | | 0 0 1 0 1 Terminating Conversational Call\ | | 0 0 1 1 0 Terminating Streaming Call\ | | 0 0 1 1 1 Terminating Interactive Call\ | | 0 1 0 0 0 Terminating Background Call\ | | 0 1 0 0 1 Emergency Call\ | | 0 1 0 1 0 Inter-RAT cell re-selection\ | | 0 1 0 1 1 Inter-RAT cell change order\ | | 0 1 1 0 0 Registration\ | | 0 1 1 0 1 Detach\ | | 0 1 1 1 0 Originating High Priority Signalling\ | | 0 1 1 1 1 Originating Low Priority Signalling\ | | 1 0 0 0 0 Call re-establishment\ | | 1 0 0 0 1 Terminating High Priority Signalling\ | | 1 0 0 1 0 Terminating Low Priority Signalling\ | | 1 0 0 1 1 Terminating -- cause unknown\ | | 1 0 1 0 0 Inter-mode cell re-selection | +-------------------------------------------------+
### 9.3.22 Expiration Time Factor
The _Expiration Time Factor_ IE defines the validity of physical channel
information.
Table 9.3.22.1: _Expiration Time Factor_ information elements
+-------------------------------------------------+ | \ ::= | | | | \ > ; | +-------------------------------------------------+
Table 9.3.22.2: _Expiration Time Factor_ information element details
+------------------------------------------+ | **Expiration Time Factor** (3 bit field) | | | | bit\ | | 3 2 1\ | | 0 0 0 2 times\ | | 0 0 1 4 times\ | | 0 1 0 8 times\ | | 0 1 1 16 times\ | | 1 0 0 32 times\ | | 1 0 1 64 times\ | | 1 1 0 128 times\ | | 1 1 1 256 times | +------------------------------------------+
### 9.3.23 Extension
The _Extension IE_ indicates possible extension for empty choice branches.
Table 9.3.23.1: _Extension_ information elements
+------------------------+ | \ ::= | | | | null; | +------------------------+
### 9.3.24 Failure Cause
The _Failure Cause_ IE indicates the cause of the failure in order to perform
the required RRC procedure.
Table 9.3.24.1: _Failure Cause_ information elements
+----------------------------------------+ | \ ::= | | | | \ > ; | +----------------------------------------+
Table 9.3.24.2: _Failure Cause_ information element details
+---------------------------------------------------+ | **Failure Cause** (4 bit field) | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 configuration unsupported | | | | 0 0 0 1 physical channel failure | | | | 0 0 1 0 incompatible simultaneous reconfiguration | | | | 0 0 1 1 protocol error | | | | 0 1 0 0 compressed mode runtime error | | | | 0 1 0 1 cell reselection | | | | 0 1 1 0 invalid configuration | | | | 0 1 1 1 configuration incomplete | | | | 1 0 0 0 unsupported measurement | | | | 1 0 0 1 Inter-mode Protocol Error | | | | All others values are reserved | +---------------------------------------------------+
### 9.3.25 Failure Cause and Error Information
The _Failure Cause and Error Information_ IE indicates the cause for failure
to perform the requested procedure.
Table 9.3.25.1: _Failure Cause and Error Information_ information elements
+----------------------------------------------------------------------+ | \ ::=\ | | { \ | | | | \ > | | | | \| \ } ; | +----------------------------------------------------------------------+
Table 9.3.25.2: _Failure Cause and Error Information_ information element
details
* * *
**Failure Cause** \ The _Failure Cause_ IE is defined in sub-clause 9.3.24.
**Protocol Error Information** \ The IE indicates information about the
protocol error when the IE \"_Failure Cause_ \" has the value \"Protocol
error\". This IE is defined in sub-clause 9.3.71.
* * *
### 9.3.26 Frequency Channel Sequence
The purpose of the _Frequency Channel Sequence_ IE is to provide the absolute
radio frequency channel numbers used in the mobile hopping sequence. This
information element shall only be used for radio frequency channels in the
primary GSM band (see 3GPP TS 45.005).
Table 9.3.26.1: _Frequency Channel Sequence_ information elements
+---------------------------------------------------------------+ | \ ::= | | | | \ >; | +---------------------------------------------------------------+
Table 9.3.26.2: _Frequency Channel Sequence_ information element details
* * *
**Frequency Channel Sequence** **Value\** This IE holds the Value part of the
_Frequency Channel Sequence_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.27 Frequency List
The purpose of the _Frequency List_ IE is to provide the list of the absolute
radio frequency channel numbers used in a frequency hopping sequence.
Table 9.3.27.1: _Frequency List_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.27.2: _Frequency List_ information element details
* * *
_**Frequency List Length (8 bit field)\** This field indicates the length of
the Frequency List Value in octets_
**_Frequency List_** **Value\** This IE is holds the Value part of _Frequency
List_ IE as defined in 3GPP TS 44.018.
* * *
### 9.3.28 Frequency Short List
The purpose of the _Frequency Short List_ IE is to provide the list of the
absolute radio frequency channel numbers used in a frequency hopping sequence,
in a small fixed length information element to obtain when possible the
HANDOVER COMMAND message in a single block.
Table 9.3.28.1: _Frequency Short List_ information elements
+-----------------------------------------------------------+ | \ ::= | | | | \ >; | +-----------------------------------------------------------+
Table 9.3.28.2: _Frequency Short List_ information element details
* * *
**_Frequency Short List_** **Value\** This IE holds the Value part of the
_Frequency Short List_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.29 GERAN DRX Cycle Length Coefficient
The _GERAN DRX Cycle Length Coefficient_ IE determines the value of the GERAN
DRX cycle length coefficient to use in DRX computations. The dicontinuous
reception computations determine the paging blocks to monitor on PCCCH for a
specific MS.
Table 9.3.29.1: _GERAN DRX Cycle Length Coefficient_ information elements
+---------------------------------------------------------+ | \ ::= | | | | \; | +---------------------------------------------------------+
Table 9.3.29.2: _GERAN DRX Cycle Length Coefficient_ information element
details
+------------------------------------------------------+ | **GERAN DRX Cycle Length Coefficient** (3 bit field) | | | | bit\ | | 3 2 1\ | | 0 0 0 GERAN DRX cycle length coefficient = 3\ | | 0 0 1 GERAN DRX cycle length coefficient = 4\ | | 0 1 0 GERAN DRX cycle length coefficient = 5\ | | 0 1 1 GERAN DRX cycle length coefficient = 6\ | | 1 0 0 GERAN DRX cycle length coefficient = 7\ | | 1 0 1 GERAN DRX cycle length coefficient = 8\ | | 1 1 0 GERAN DRX cycle length coefficient = 9\ | | 1 1 1 Reserved | +------------------------------------------------------+
### 9.3.30 GRA Identity
The _GRA Identity_ IE identifies a GERAN Registration Area (GRA). In case of
overlapping GRAs in the cell, it can be used to indicate to the MS which GRA
it shall use.
Table 9.3.30.1: _GRA Identity_ information elements
* * *
\ ::=**\ ** \ ;
* * *
Table 9.3.30.2: _GRA Identity_ information element details
* * *
**GRA Identity** (16 bit field)\ The GRA identity field is encoded as a binary
number. Range 0 to 65535.
* * *
### 9.3.31 GRA Update Cause
The _GRA Update Cause_ IE indicates the cause for performing GRA Update.
Table 9.3.31.1: _GRA Update Cause_ information elements
* * *
\ ::=**\ ** \ ;
* * *
Table 9.3.31.2: _GRA Update Cause_ information element details
+------------------------------------+ | **GRA Update Cause** (2 bit field) | | | | bit | | | | 2 1 | | | | 0 0 change of GRA | | | | 0 1 periodic GRA updat | | | | All others values are reserved | +------------------------------------+
### 9.3.32 G-RNTI
The _G-RNTI (GERAN Radio Network Temporary Identity)_ IE is allocated to an MS
having a RRC connection and identifies the MS within GERAN.
Table 9.3.32.1: _G-RNTI_ information elements
* * *
\ ::=**\ ** \ **\ ** \;
* * *
Table 9.3.32.2: _G-RNTI_ information element details
* * *
**Serving BSC identity** (12 bit field)**\** This field identifies the mobile
station\'s serving BSC in GERAN.
**S-RNTI** (20 bit field)**\** This field identifies the mobile station in the
area of its serving BSC.
* * *
### 9.3.33 GSM MS Security Capability
The _GSM MS Security Capability_ IE indicates the MS security capability for
_A/Gb mode_.
Table 9.3.33.1: _GSM MS Security Capability_ information elements
+-----------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \}; -- _Reserved_ | +-----------------------------------------+
Table 9.3.33.2: _GSM MS Security Capability_ information element details
+----------------------------------------------------------------------+ | **A5/1 support** (1 bit field)\ | | **A5/2 support** (1 bit field)\ | | **A5/3 support** (1 bit field)\ | | **A5/4 support** (1 bit field)\ | | **A5/5 support** (1 bit field)\ | | **A5/6 support** (1 bit field)\ | | **A5/7 support** (1 bit field) | | | | These field indicates the support of the GSM encryption algorithm | | A5/X, where X has a range from 1 to 7. | | | | bit\ | | 1\ | | 0 not supported\ | | 1 supported | +----------------------------------------------------------------------+
### 9.3.34 Handover Reference
The _Handover Reference_ IE is to provide a handover reference value used for
access identification.
Table 9.3.34.1: _Handover Reference_ information elements
+------------------------------------------------+ | \ ::= | | | | \; | +------------------------------------------------+
Table 9.3.34.2: _Handover Refer_ ence information element details
* * *
**Handover Reference Value** (1 octet field)\ The Handover Reference content
is coded as the value part of the _Handover Reference_ IE defined in 3GPP TS
44.018.
* * *
### 9.3.35 Initial MS Identity
The _Initial MS Identity IE_ identifies the MS at a request of an RRC
connection.
Table 9.3.35.1: _Initial MS Identity_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ _\-- GSM-MAP TMSI and LAI_ | | | | \ | | | | \ | | | | \| \ _\-- GSM-MAP P-TMSI and RAI_ | | | | \ | | | | \ | | | | \| \ _\-- GSM-MAP IMSI or IMEI_ | | | | \ | | | | \ | | | | \| \ _\-- ESN (DS-41)_ | | | | \ | | | | \| \ _\-- IMSI (DS-41)_ | | | | \ \-- _only allowed 0 - 2_ | | | | \ | | | | \| \ \-- _reserved for IMSI and ESN | | (DS-41)_ | | | | \ \-- only allowed 0 - 2 | | | | \ | | | | \ | | | | \| \ \-- _reserved for TMSI (DS-41)_ | | | | \ | | | | \ | | | | \| \ > \-- | | _reserved_ | | | | }; | +----------------------------------------------------------------------+
Table 9.3.35.2: _Initial MS Identity_ information element details
+----------------------------------------------------------------------+ | _GSM-MAP TMSI and LAI structure_ | | | | **TMSI** (32 bit field)\ | | The Temporary Mobile Subscriber Identity (TMSI) is associated with | | the mobile subscriber and defined in 3GPP TS 23.003. This field is | | coded as a binary number. Range 0 to 4294967295. | | | | **LAI** (5 octet field)\ | | This field is coded using the V format of the type 3 information | | element _Location Area Identification_ defined in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | _GSM-MAP P-TMSI and RAI structure_ | | | | **PTMSI** (32 bit field)\ | | The Packet Temporary Mobile Station Identity (PTMSI) is associated | | with the mobile subscriber and defined in 3GPP TS 23.003. This field | | is encoded as a binary number. Range 0 to 4294967295. | | | | **RAI** (48 bit field)\ | | This field contains the Routing Area identification. This field is | | described in 3GPP TS 44.018. | +----------------------------------------------------------------------+ | _GSM-MAP IMSI or IMEI_ | | | | **Mobile Identity** (variable length octet string)\ | | This octet string is the representation of the Mobile Identity. The | | encoding of this octet string is the value part (starting with octet | | 3) of the type 4 information element Mobile Identity defined in | | 3GPP TS 24.008. | | | | Any value other than IMSI and IMEI for the type of identity in this | | octet string is spare. | +----------------------------------------------------------------------+
### 9.3.36 Integrity Check Info
The _Integrity Check Info_ IE contains the RRC message sequence number needed
in the calculation of XMAC-I (see 3GPP TS 33.102) and the calculated MAC-I.
Table 9.3.36.1: _Integrity Check Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ \-- _see | | 3GPP TS 33.102_ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.36.2: _Integrity Check Info_ information element details
* * *
**Message Authentication Code (** 32 bit field)\ This field indicates
authentication code of the message. The 27 MSB of the IE shall be set to zero
and the 5 LSB of the IE shall be set to the used signalling radio bearer
identity when the encoded RRC message is used as the MESSAGE parameter in the
integrity protection algorithm.
**RRC Message Sequence Number** (4 bit field)\ This field is the binary
representation of the sequence number of the RRC message. Range 0 to 15.\ This
field shall be set to zero when the encoded RRC message is used as the MESSAGE
parameter in the integrity protection algorithm.
* * *
### 9.3.37 Integrity Protection Activation Info
The _Integrity Protection Activation Info_ IE contains the time, in terms of
RRC sequence numbers, when a new integrity protection configuration shall be
activated for the signalling radio bearers.
Table 9.3.37.1: _Integrity Protection Activation Info_ information elements
+-----------------------------------------------------------+ | \ ::= | | | | \ * **4;** | +-----------------------------------------------------------+
Table 9.3.37.2: _Integrity Protection Activation Info_ information element
details
* * *
**RRC Message Sequence Number** (4 bit field)\ These fields are binary
representation of the RRC sequence number. Range 0 to 15.\ The RRC sequence
number shall be applied for the signalling radio bearers in the order SRB4,
SRB3, SRB2 and SRB1.
* * *
### 9.3.38 Integrity Protection Algorithm
The _Integrity Protection Algorithm_ IE indicates which type of UMTS Integrity
Algorithm is used. This field is defined in 3GPP TS 33.102.
Table 9.3.38.1: _Integrity Protection Algorithm_ information elements
+---------------------------------------------------------+ | \ ::= | | | | \**;** | +---------------------------------------------------------+
Table 9.3.38.2: _Integrity Protection Algorithm_ information element details
+--------------------------------------------------+ | **Integrity Protection Algorithm** (4 bit field) | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 1 UIA1 -- _see 3GPP TS 33.102_ | | | | All other values are reserved. | +--------------------------------------------------+
### 9.3.39 Integrity Protection Mode Info
The _Integrity Protection Mode Info_ IE countains information about the
integrity protection.
Table 9.3.39.1: _Integrity Protection Mode Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | \ | | | | \| \ | | | | \ > | | | | { 0 \| 1 \ > } | | | | }; | +----------------------------------------------------------------------+
Table 9.3.39.2: _Integrity Protection Mode Info_ information element details
+----------------------------------------------------------------------+ | **Integrity protection mode command** (1 bit field) | | | | bit\ | | 1\ | | 0 start\ | | 1 modify | +----------------------------------------------------------------------+ | **Downlink integrity protection activation info\ | |** The Integrity protection activation info IE is defined in | | sub-clause 9.3.37. | +----------------------------------------------------------------------+ | **Integrity protection initialisation number** (32 bit field)\ | | This field is the FRESH random value generated by the network side | | as it is defined in 3GPP TS 33.102. | +----------------------------------------------------------------------+ | **Integrity protection algorithm** \ | | This IE is defined in sub-clause 9.3.1.16. | +----------------------------------------------------------------------+
### 9.3.40 (void)
### 9.3.41 Intra Domain NAS Node Selector
This IE specifies information for routing a signalling connection to a CN node
within a CN domain.
Table 9.3.41.1: _Intra Domain NAS Node Selector_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 _\-- release 5_ | | | | { 0 _\-- GSM-MAP-type PLMN_ | | | | _\-- Routing basis_ | | | | { 000 \ | | | | _\-- TMSI allocated in current LA or PTMSI allocated in current RA_ | | | | \| 001 \ | | | | _\-- TMSI allocated in another LA of this PLMN or PTMSI allocated in | | another RA of this PLMN_ | | | | \| 010 \ | | | | _\-- TMSI or PTMSI allocated in another PLMN_ | | | | \| 011 \ | | | | _\-- NAS identity is IMSI (response to IMSI paging)_ | | | | \| 100 \ | | | | _\-- NAS identity is IMSI (MS-inititated event)_ | | | | \| 101 \ | | | | _\-- NAS parameter is IMEI_ | | | | ! \ > } | | -- _Reserved_ | | | | \| 1 (0)*14 } -- ANSI-41 | | | | ! \ > }; -- | | _Reserved_ | +----------------------------------------------------------------------+
Table 9.3.41.2: _Intra Domain NAS Node Selector_ information element details
* * *
**Routing parameter TMSI-PTMSI** (10 bit field)\ This field is the bitstring
of bit(14) through bit(23) of the TMSI or PTMSI where bit(14) is the least
significant.
**Routing parameter IMSI** (10 bit field)\ This field is the binary
representation of [(IMSI div 10) mod 1000]. Range 0 to 999.
**Routing parameter IMEI** (10 bit field)\ This field is the binary
representation of [(IMEI div 10) mod 1000]. Range 0 to 999.
* * *
### 9.3.42 Mobile Allocation
This IE specifies the RF channels used in the mobile hopping sequence.
Table 9.3.42.1: _Mobile Allocation_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.42.2: _Mobile Allocation_ information element details
* * *
**Mobile Allocation Length (8 bit field)** \ The Mobile Allocation Length is
coded as the length part of the _Mobile Allocation_ IE specified in 3GPP TS
44.018.
**Mobile Allocation Value (octet string)** \ The Mobile Allocation Value is
coded as the value part of the _Mobile Allocation_ IE specified in 3GPP TS
44.018.
* * *
### 9.3.43 Mobile Time Difference
This IE encodes a time related to the synchronization difference between the
time bases of two base stations.
Table 9.3.43.1: _Mobile Time Difference_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.43.2: _Mobile Time Difference_ information element details
* * *
**Mobile Time Difference Length (8 bit field)** \ The Mobile Time Difference
Length is coded as the length part of the _Mobile Time Difference_ IE
specified in 3GPP TS 44.018.
**Mobile Time Difference Value (octet string)** \ The Mobile Time Difference
Value is coded as the value part of the _Mobile Time Difference_ IE specified
in 3GPP TS 44.018.
* * *
### 9.3.44 MS GERAN A/Gb mode Radio Access Capability
This Information Element contains the MS GERAN A/Gb mode radio access
capability that is structured and coded according to the specification used
for the corresponding system type.
This IE contains the Mobile station classmark 2 and 3 of the MS.
Table 9.3.44.1: _MS GERAN A/Gb mode Radio Access Ca_ pability information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | \ } | | | | { \ | | | | \ } ; | +----------------------------------------------------------------------+
Table 9.3.44.2: _MS GERAN A/Gb mode Radio Access Capability_ information
element details
* * *
**Mobile Station Classmark 2 length** (3 bit field)\ This field is the binary
representation of the length of the _Mobile Station Classmark 2_ IE in octets
excluding the bits used for this length field. Range 0 to 7 octets
**Mobile Station Classmark** 2\ This IE is defined in 3GPP TS 24.008
**Mobile Station Classmark 3 length** (5 bit field)\ This field is the binary
representation of the length of the _Mobile Station Classmark 3_ IE in octets
excluding the bits used for this length field. Range 0 to 31 octets
**Mobile Station Classmark 3** \ This IE is defined in 3GPP TS 24.008
* * *
### 9.3.45 MS GERAN Iu mode Radio Access Capability
This Information Element contains the MS GERAN Iu mode radio access capability
that is structured and coded according to the specification used for the
corresponding system type.
Table 9.3.45.1: _MS GERAN Iu mode Radio Access Capability_ information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | **\  | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ > | | | | \ _\-- Release 6_ | | | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.45.2: _MS GERAN Iu mode Radio Access Capability_ information element
details
* * *
**MS GERAN Iu mode Radio Access Capability length** (10 bit field)\ This field
is the binary representation of the length of the _MS GERAN Iu Mode Radio
Access Capability_ IE in bits excluding the bits used for this length field.
Range: 0 to 1023.
**MS RF Capability GSM** \ This IE is defined in sub-clause 9.3.47.
**MS GERAN Iu mode RLC Capability** \ This IE is defined in sub-clause 9.3.46.
**PDCP Capability** \ This IE is defined in sub-clause 9.3.59.
**MS Multi-Mode and Multi-RAT Capability** \ This IE is defined in sub-clause
9.3.48.
**Security Capability** \ This IE is defined in sub-clause 9.3.100.
**MS Positioning Capability** \ This IE is defined in sub-clause 9.3.50.
**MS Measurement Capability** \ This IE is defined in sub-clause 9.3.49.
**FLO Iu Capability (1 bit field)** \ Bit\ 0 FLO in GERAN Iu mode not
supported\ 1 FLO in GERAN Iu mode supported
* * *
### 9.3.46 MS GERAN Iu mode RLC Capability
The _MS GERAN Iu mode RLC capability_ IE describes the capabilities of the RLC
layer of the MS in GERAN Iu mode.
Table 9.3.46.1: _MS GERAN Iu mode RLC Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | **\  | | | | **\  | | | | **\  | | | | **\ ** | | | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | | | | }; | +----------------------------------------------------------------------+
Table 9.3.46.2: _MS GERAN Iu mode RLC Capability_ information element details
+----------------------------------------------------------------------+ | **MS GERAN Iu mode RLC Capability Length** (4 bit field)\ | | This field is the binary representation of the length of the MS | | GERAN Iu Mode RLC Capability IE in bits excluding the bits used for | | this length field. Range: 0 to 15. | +----------------------------------------------------------------------+ | **Maximum number of RLC-AM entities** (3 bits field)\ | | This field defines the number of RLC entities operating in | | acknowledge mode in the MS. | | | | bit | | | | 3 2 1 | | | | 0 0 0 3 RLC-AM entities | | | | 0 0 1 4 RLC-AM entities | | | | 0 1 0 5 RLC-AM entities | | | | 0 1 1 6 RLC-AM entities | | | | 1 0 0 8 RLC-AM entities | | | | All other values are reserved. | +----------------------------------------------------------------------+ | **Maximum number of RLC-UM entities** (3 bits field)\ | | This field defines the number of RLC entities operating in | | unacknowledge mode in the MS. | | | | bit | | | | 3 2 1 | | | | 0 0 0 3 RLC-UM entities | | | | 0 0 1 4 RLC-UM entities | | | | 0 1 0 5 RLC-UM entities | | | | 0 1 1 6 RLC-UM entities | | | | 1 0 0 8 RLC-UM entities | | | | All other values are reserved. | +----------------------------------------------------------------------+ | **Maximum number of RLC-T entities** (2 bits field)\ | | This field defines the number of RLC entities operating in | | transparent mode in the MS. | | | | bit | | | | 3 2 1 | | | | 0 0 0 3 RLC-T entity | | | | 0 0 1 4 RLC-T entities | | | | 0 1 0 5 RLC-T entities | | | | 0 1 1 6 RLC-T entities | | | | 1 0 0 8 RLC-T entities | | | | All other values are reserved. | +----------------------------------------------------------------------+
### 9.3.47 MS RF Capability GSM
The purpose of the _MS RF Capability GSM_ information element is to provide
the radio part of the network with information concerning radio aspects of the
mobile station. The contents might affect the manner in which the network
handles the operation of the mobile station.
The _MS RF Capability GSM_ information element is coded as shown in table
9.3.47.1.
For the indication of the Access Technology Types the following conditions
shall apply:
\- Among the three Access Type Technologies GSM 900-P, GSM 900-E and GSM 900-R
only one shall be present.
\- Due to shared radio frequency channel numbers between GSM 1800 and GSM
1900, the mobile station should provide the relevant radio access capability
for either GSM 1800 band OR GSM 1900 band, not both.
\- The MS shall indicate its supported Access Technology Types.
For error handling the following shall apply:
\- If a received Access Technology Type is unknown to the receiver, it shall
ignore all the corresponding fields.
\- If within a known Access Technology Type a receiver recognizes an unknown
field it shall ignore it.
\- For more details about error handling of MS radio access capability see
3GPP TS 48.018.
Table 9.3.47.1: _MS RF Capability GSM_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | \ > | | | | { 1 \ > } ** 0 | | | | } ; | +----------------------------------------------------------------------+ | \ ::=\ | | _\-- Access Technology using common capabilities_ | | | | \ | | | | { 1 \ } ** | | 0 | | | | \ | | > | | | | _\-- Access Technology using individual capcabilities_ | | | | { 1 \ > } ** 0 ; | +----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | \ | | | | { 0 \| 1 \ } | | | | \ | | | | \ > | | | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | +----------------------------------------------------------------------+ | \ ::=\ | | **\  | | | | \\ | | \\ | | \\ | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | +----------------------------------------------------------------------+ | \ ::= | | | | { 0 \ | | | | \| 1 | | | | > \ | | | | { 0 \| 1 \}}; | +----------------------------------------------------------------------+
Table 9.3.47.2: _MS RF Capability GSM_ information element details
+----------------------------------------------------------------------+ | **MS RF Capability GSM Length** (8 bit field) | | | | This field is the binary representation of the length of the MS RF | | Capability GSM IE in bits exluding the bits used for this length | | field. | +----------------------------------------------------------------------+ | **Access Technology Type** (4 bit field)**\ | |** This field indicates the access technology type to be associated | | with the following access capabilities. | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 GSM P | | | | 0 0 0 1 GSM E --_note that GSM E covers GSM P_ | | | | 0 0 1 0 GSM R --_note that GSM R covers GSM E and GSM P_ | | | | 0 0 1 1 GSM 1800 | | | | 0 1 0 0 GSM 1900 | | | | 0 1 0 1 GSM 450 | | | | 0 1 1 0 GSM 480 | | | | 0 1 1 1 GSM 850 | | | | 1 0 0 0 GSM 750 | | | | 1 0 0 1 GSM 710 | | | | 1 0 1 0 T-GSM 810 | | | | All other values are treated as unknown by the receiver. | +----------------------------------------------------------------------+ | **Common Access Capabilities** \ | | This structure contains the access capabilities for the indicated | | access technology type and - if present - for the access | | technologies indicated by the optional List of additional access | | technologies. | +----------------------------------------------------------------------+ | **Access Capabilities length** (6 bit field)\ | | This field is the binary representation of the length of the Access | | Capabilities struct in bits excluding the bits used for this length | | field. Range: 0 to 63. | +----------------------------------------------------------------------+ | **GMSK Power Capability, GMSK Power Class** (3 bit field)\ | | This field contains the binary coding of the power class used for | | GMSK associated with the indicated Access Technology Type (see | | 3GPP TS 45.005). | +----------------------------------------------------------------------+ | **8PSK Power Capability** (2 bit field)\ | | If 8-PSK modulation is supported for uplink, this field indicates | | the radio capability for 8‑PSK modulation. The following coding is | | used (see 3GPP TS 45.005): | | | | bit | | | | 2 1 | | | | 0 0 Reserved | | | | 0 1 Power class E1 | | | | 1 0 Power class E2 | | | | 1 1 Power class E3 | +----------------------------------------------------------------------+ | **8PSK Power Class** (2 bit field)\ | | This field indicates the radio capability for 8‑PSK modulation. The | | following coding is used (see 3GPP TS 45.005): | | | | bit | | | | 2 1 | | | | 0 0 8-PSK modulation not supported for uplink | | | | 0 1 Power class E1 | | | | 1 0 Power class E2 | | | | 1 1 Power class E3 | +----------------------------------------------------------------------+ | **Pseudo Synchronisation** (1 bit field)\ | | This field indicates the Pseudo Synchronisation (Handover) | | capability.\ | | 0 Pseudo Synchronisation capability not present\ | | 1 Pseudo Synchronisation capability present | +----------------------------------------------------------------------+ | **RF Capability Group** \ | | This structure contains the Common access capabilities for the | | indicated access technology type. These access capabilities may be | | extended by an optional List of additional access technologies. | +----------------------------------------------------------------------+ | **Additional Access Technologies\ | |** This structure contains the GMSK Power Class and 8PSK Power Class | | for additional access technologies. All other capabilities for this | | indicated access technologies are the same as the capabilities as | | indicated by the last previously included Common access | | capabilities. | +----------------------------------------------------------------------+ | **Additional Access Technology length** (6 bit field)\ | | This field is the binary representation of the length of the | | Additional Access Technology struct in bits excluding the bits used | | for this length field. Range: 0 to 63. | +----------------------------------------------------------------------+ | **Multislot Capability** \ | | This structure contains the multislot capability for GMSK and 8-PSK | | modulations. The multislot class capability for GMSK and 8-PSK | | modulations can be combined or it can be defined separately for the | | modulations. | +----------------------------------------------------------------------+ | **Combined GMSK and 8-PSK Multislot Class** (6 bit field) | | | | This field indicates common multislot class for both GMSK and 8-PSK | | modulations. The field is coded as the binary representation of the | | multislot class defined in 3GPP TS 45.002. | +----------------------------------------------------------------------+ | **GMSK Multislot Class** (6 bit field) | | | | This field indicates multislot class for GMSK modulation. The field | | is coded as the binary representation of the multislot class defined | | in 3GPP TS 45.002. | +----------------------------------------------------------------------+ | **8-PSK Multislot Class** (6 bit field) | | | | This field indicates multislot clas for 8-PSK modulation. The field | | is coded as the binary representation of the multislot class defined | | in 3GPP TS 45.002. | +----------------------------------------------------------------------+
### 9.3.48 MS Multi-Mode and Multi-RAT Capability
The _MS Multi-Mode and Multi-RAT Capability_ IE describes the RLCmulti-mode
and multi-RAT capabilities of the MS.
Table 9.3.48.1: _MS Multi-Mode and Multi-RAT Capability_ information elements
+-----------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \*10; | +-----------------------------------------------------+
Table 9.3.48.2: _MS Multi-Mode and Multi-RAT Capability_ information element
details
+----------------------------------------------------------------------+ | **Support of GERAN A/Gb** (1 bit field)\ | | **Support of Multi-Carrier** (1 bit field)\ | | **Support of UMTS FDD** (1 bit field)\ | | **Support of UMTS FDD** (1 bit field)\ | | **Support of UMTS 1.28 Mcps TDD** (1 bit field)\ | | **Support of UMTS 3.84 Mcps TDD** (1 bit field)\ | | **Support of CDMA2000** (1 bit field)\ | | These fields indicates the support of the associated | | multi-mode/multi-RAT capability.\ | | bit | | | | 1\ | | 0 not supported\ | | 1 supported | +----------------------------------------------------------------------+
### 9.3.49 MS Measurement Capability
The _MS Measurement Capability_ IE describes the measurement capability and
SMS value of the MS.
Table 9.3.49.1: _MS Measurement Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | **\  | | | | \** | | | | **\ ** | | | | **\ ** | | | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.49.2: _MS Measurement Capability_ information element details
+----------------------------------------------------------------------+ | **MS Measurement Capability Length** (4 bit field)\ | | This field is the binary representation of the length of the MS | | Measurement Capability IE in bits excluding the bits used for this | | length field. Range: 0 to 15. | +----------------------------------------------------------------------+ | **Extended Measurement Capability** (1 bit field)**\ | |** These field indicates the support of Extended Measurement.\ | | bit\ | | 0 Extended Measurement is not supported\ | | 1 Extended Measurement is supported | +----------------------------------------------------------------------+ | **SMS Value (4 bit field)\ | |** The SMS Value field indicates the time needed for the mobile | | station to switch from one radio channel to another, perform a | | neighbour cell power measurement, and the switch from that radio | | channel to another radio channel. | | | | bits | | | | 4 3 2 1 | | | | 0 0 0 0 1/4 timeslot (\~144 microseconds) | | | | 0 0 0 1 2/4 timeslot (\~288 microseconds) | | | | 0 0 1 0 3/4 timeslot (\~433 microseconds) | | | | . . . | | | | 1 1 1 1 16/4 timeslot (\~2307 microseconds) | +----------------------------------------------------------------------+ | **SM Value (4 bit field)\ | |** The SM Value field indicates the time needed for the mobile | | station to switch from one radio channel to another and perform a | | neighbour cell power measurement. | | | | bits | | | | 4 3 2 1 | | | | 0 0 0 0 1/4 timeslot (\~144 microseconds) | | | | 0 0 0 1 2/4 timeslot (\~288 microseconds) | | | | 0 0 1 0 3/4 timeslot (\~433 microseconds) | | | | . . . | | | | 1 1 1 1 16/4 timeslot (\~2307 microseconds) | +----------------------------------------------------------------------+
### 9.3.50 MS Positioning Capability
The _MS Positioning Capability_ IE describes the supported positioning methods
in GERAN _Iu mode_.
Table 9.3.50.1: _MS Positioning Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | **\  | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.50.2: _MS Positioning Capability_ information element details
+----------------------------------------------------------------------+ | **MS Positioning Capability Length** (4 bit field)\ | | This field is the binary representation of the length of the MS | | Positioning Capability IE in bits excluding the bits used for this | | length field. Range: 0 to 15. | +----------------------------------------------------------------------+ | **OTD-A support** (1 bit field)\ | | MS assisted E-OTD.\ | | **OTD-B support** (1 bit field)\ | | MS based E-OTD.t\ | | **GPS-A support** (1 bit field)\ | | MS assisted GPS.\ | | **GPS-B support** (1 bit field)\ | | MS based GPS.\ | | **GPS-C support** (1 bit field)\ | | Conventional GPS.\ | | Each of these fields indicates the support of the associated | | positioning method. | | | | bit\ | | 1\ | | 0 not supported\ | | 1 supported | +----------------------------------------------------------------------+ | **RRLP Positioning Indication support** (1 bit field)\ | | This field indicates whether the MS supports transfer of its | | positioning capabilities using RRLP. | | | | bit\ | | 1\ | | 0 not supported\ | | 1 supported | +----------------------------------------------------------------------+
### 9.3.51 MS Timers and Constants in RRC-Connected mode
This IE specifies timer values and constant values used by the mobile station
in _RRC-Connected mode_.
Table 9.3.51.1: _MS Timers And Constants in RRC-Connected Mode_ information
elements
+----------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \** } ; | +----------------------------------------------------------------+
Table 9.3.51.2: _MS Timers And Constants in RRC-Connected Mode_ information
element details
+----------------------------------------------------------------------+ | **MS Timers and Constants** **Length** (4 bit field)\ | | This field is the binary representation of the length of the _MS | | Timers and Constants in RRC-Connected Mode_ IE in bits excluding the | | 4 bits used for this length field. | +----------------------------------------------------------------------+ | **T305** (3 bit field)\ | | This field specifies the starting value of timer T305. This IE | | defined in 3GPP TS 44.160, PACKET SYSTEM INFORMATION 16 message. | +----------------------------------------------------------------------+ | **T315** (3 bit field)\ | | This field specifies the starting value of timer T315. The following | | table specifies the coding : | | | | bit\ | | 3 2 1\ | | 0 0 0 0s\ | | 0 0 1 10s\ | | 0 1 0 30s\ | | 0 1 1 60s\ | | 1 0 0 180s --_default value_ \ | | 1 0 1 600s\ | | 1 1 0 1200s\ | | 1 1 1 1800s | +----------------------------------------------------------------------+
### 9.3.52 MultiRate Configuration
This IE specifies all parameters for a multirate speechcodec.
Table 9.3.52.1: _MultiRate Configuration_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.52.2: _MultiRate Configuration_ information element details
* * *
**MultiRate Configuration Length (8 bit field)** \ The MultiRate Configuration
Length is coded as the length part of the _MultiRate Configuration_ IE
specified in 3GPP TS 44.018 § 10.5.2.21aa.
**MultiRate Configuration Value (octet string)** \ The MultiRate Configuration
Value is coded as the value part of the _MultiRate Configuration_ IE specified
in 3GPP TS 44.018 § 10.5.2.21aa.
* * *
### 9.3.53 Multislot Allocation
This IE specifies the downlink and uplink timeslots used in a multislot
configuration. It also groups the timeslots into channel sets.
Table 9.3.53.1: _Multislot Allocation_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.53.2: _Multislot Allocation_ information element details
* * *
**Multislot Allocation Length (8 bit field)** \ The Multislot Allocation
Length is coded as the length part of the _Multislot Allocation_ IE specified
in 3GPP TS 44.018.
**Multislot Allocation Value (octet string)** \ The Multislot Allocation Value
is coded as the value part of the _Multislot Allocation_ IE specified in 3GPP
TS 44.018.
* * *
### 9.3.54 NAS Message
The _NAS Message_ IE contains a non-access stratum message to be transferred
transparently through GERAN.
Table 9.3.54.1: _NAS Message_ information elements
+-----------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +-----------------------------------------------------------------+
Table 9.3.54.2: _NAS Message_ information element details
+----------------------------------------------------------------------+ | **Length of NAS Message** (12 bit field) | | | | This field is used to calculate the length of the _NAS Message_ IE | | excluding the bits used for this length field. Range : 0 to 4095. | +----------------------------------------------------------------------+ | **NAS Message** (variable length octet string) | | | | The first octet contains octet 1 of the NAS message, the second | | octet contains octet 2 of the NAS message and so on. See | | 3GPP TS 24.007. | +----------------------------------------------------------------------+
### 9.3.55 NAS Synchronization Info
The _NAS Synchronization Info_ IE is a container for non-access stratum
information to be transferred transparently through GERAN.
Table 9.3.55.1: _NAS Synchronization Info_ information elements
+-----------------------------------------------------+ | \ ::= | | | | \ > ; | +-----------------------------------------------------+
Table 9.3.55.2: _NAS Synchronization Info_ information element details
* * *
**NAS Synchronization Info** (4 bit field)\ This field contains NAS
information to be transferred transparently through GERAN. The bits are
numbered b1-b4, where b1 is the least significant bit.
* * *
### 9.3.56 NAS System Information GSM-MAP
This IE contains system information that belongs to the non-access stratum for
a GSM-MAP type of PLMN. This information is transparent to RRC. It may contain
either information specific to one CN domain (CS or PS) or information common
for both CN domains.
Table 9.3.56.1: _NAS System Information GSM-MAP_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +----------------------------------------------------------------------+
Table 9.3.56.2: _NAS System Information GSM-MAP_ information element details
* * *
**Length of NAS System Information GSM-MAP** (3 bit field)\ This field is used
to calculate the length in octets of the **_NAS System Information GSM-MAP_
IE** excluding the bits used for this length field**. Range : 0...7.**
**NAS System Information GSM_MAP (octet string)** \ The first octet contains
octet 1 of the NAS System Information element, the second octet contains octet
2 of the NAS system information element and so on. See 3GPP TS 24.008.
* * *
### 9.3.57 Paging Cause
The _Paging Cause_ IE indicates the cause of the paging request.
Table 9.3.57.1: _Paging Cause_ information elements
+-----------------------------------+ | \ ::= | | | | \; | +-----------------------------------+
Table 9.3.57.2: _Paging Cause_ information element details
+---------------------------------------------+ | **Paging Cause** (3 bit field) | | | | bit\ | | 3 2 1\ | | 0 0 0 Terminating Conversational Call\ | | 0 0 1 Terminating Streaming Call\ | | 0 1 0 Terminating Interactive Call\ | | 0 1 1 Terminating Background Call\ | | 1 0 0 Terminating High Priority Signalling\ | | 1 0 1 Terminating Low Priority Signalling\ | | 1 1 0 Terminating -- cause unknown\ | | 1 1 1 Reserved | +---------------------------------------------+
### 9.3.58 Paging Record Type Identifier
The _Paging Record Type Identifier_ IE indicates the identifier used in the
Core Network Paging.
Table 9.3.58.1: _Paging Record Type Identifier_ information elements
+----------------------------------------------------+ | \ ::= | | | | \; | +----------------------------------------------------+
Table 9.3.58.2: _Paging Record Type Identifier_ information element details
+-------------------------------------------------+ | **Paging Record Type Identifier** (3 bit field) | | | | bit\ | | 3 2 1\ | | 0 0 0 IMSI (GSM-MAP)\ | | 0 0 1 TMSI/PTMSI (GSM/MAP)\ | | 0 1 0 IMSI (DS-41)\ | | 0 1 1 TMSI (DS-41)\ | | 1 x x reserved | +-------------------------------------------------+
### 9.3.59 PDCP Capability
Indicates which algorithms and which value range of their parameters are
supported by the MS.
The _PDCP Capability_ IE indicates the algorithms and the value range of
parameters supported by the MS PDCP.
Table 9.3.59.1: _PDCP Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | **\  | | | | \ | | | | { \ | | | | \| \ | | | | \ | | | | \| \ | | | | { 0 \| 1 \ | | } | | | | { 0 \| 1 \ } } | | | | { \ | | | | \| \ } } | | | | \**; _\-- Extension information may be truncated | | between released versions of the protocol\ | | -- The receiver shall assume the value zero for any truncated bit_ | | | | _};_ | +----------------------------------------------------------------------+
Table 9.3.59.2: _PDCP Capability_ information element details
+----------------------------------------------------------------------+ | **PDCP Capability Length** (8 bit field)\ | | This field is the binary representation of the length of the _PDCP | | Capability_ IE in bits excluding the 8 bits used for this length | | field. Range: 0 to 255. | +----------------------------------------------------------------------+ | **Support for lossless Serving BSC relocation** (1 bit field) | | | | bit\ | | 1\ | | 0 **Lossless Serving BSC relocation** not supported\ | | 1 **Lossless Serving BSC relocation** supported | +----------------------------------------------------------------------+ | **Support for RFC2507** (1 bit field)\ | | **Support for RFC3095** (1 bit field) | | | | bit\ | | 1\ | | 0 not supported\ | | 1 supported | +----------------------------------------------------------------------+ | **Max HC context space** (4 bit field)\ | | This field indicates the maximum header compression context space | | supported by the MS, when RFC2507 is supported and is encoded as | | follows : | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 512 bytes | | | | 0 0 0 1 1024 bytes | | | | 0 0 1 0 2048 bytes | | | | 0 0 1 1 4096 bytes | | | | 0 1 0 0 8192 bytes | | | | 0 1 0 1 16384 bytes | | | | 0 1 1 0 32768 bytes | | | | 0 1 1 1 65536 bytes | | | | 1 0 0 0 131072 bytes | | | | All other values are reserved | +----------------------------------------------------------------------+ | **Maximum number of ROHC context sessions (4 bit field)\ | |** This field indicates the maximum number of ROHC context sessions | | when RFC3095 is supported and is encoded as shown below. If this | | field is not present, the MS shall use the default value of 16 : | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 2 sessions | | | | 0 0 0 1 4 sessions | | | | 0 0 1 0 8 sessions | | | | 0 0 1 1 12 sessions | | | | 0 1 0 0 16 sessions | | | | 0 1 0 1 24 sessions | | | | 0 1 1 0 32 sessions | | | | 0 1 1 1 48 sessions | | | | 1 0 0 0 64 sessions | | | | 1 0 0 1 128 sessions | | | | 1 0 1 0 256 sessions | | | | 1 0 1 1 512 sessions | | | | 1 1 0 0 1024 sessions | | | | 1 1 0 1 16384 sessions | | | | 1 1 1 0 reserved | | | | 1 1 1 1 reserved | +----------------------------------------------------------------------+ | **Reverse decompression depth** (16 bit field)\ | | This field describes the reverse compression depth as an integer | | from 0 - 65535. If the IE is not present, the default value of 0 | | (reverse decompression is not supported) is used. | +----------------------------------------------------------------------+ | **Support for RFC 3095 context relocation** (1 bit field) | | | | bit\ | | 1\ | | 0 Support for RFC 3095 context relocation not supported\ | | 1 Support for RFC 3095 context relocation supported | +----------------------------------------------------------------------+
### 9.3.60 PDCP Info
The _PDCP Info_ IE contains information about the PDCP protocol.
Table 9.3.60.1: _PDCP Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | \ | | | | { \ | | | | \| \ | | | | \ } | | | | \ | | | | { 0 \| 1 \** | | | | \ > } } *(1+val(**Header compression | | information List))** | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 000 _\-- Header compression according to IETF standard RFC2507_ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ } | | | | \| 001 _\-- Header compression according to IETF standard RFC3095_ | | | | \ | | | | \ * (1 + val (Profiles List)) | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | \ | | | | \ * (1 + val (Packet Sizes | | Allowed List)) } | | | | { 0 \| 1 \ | | | | \ | | | | { 0 \| 1 \ } | | | | } | | | | { 0 \| 1 \ } | | | | ! \ > ; | +----------------------------------------------------------------------+
Table 9.3.60.2: _PDCP Info_ information element details
+----------------------------------------------------------------------+ | **PDCP mode** (1 bit field)\ | | bit\ | | 1\ | | 0 non-transparent\ | | 1 transparent | +----------------------------------------------------------------------+ | **Lossless Serving BSS relocation** **support** (1 bit field)\ | | Lossless Serving BSC relocation is supported when both the RLC is in | | Acknowledged mode meaning when the IE \"RLC mode\" is | | \"Acknowledged\" bit\ | | 1\ | | 0 **Lossless Serving BSS relocation not supported\ | | 1 Lossless Serving BSS relocation supported** | +----------------------------------------------------------------------+ | **Max PDCP SN** (1 bit field)\ | | This field indicates the maximim PDCP Sequence Number supported, | | when the lossless Serving BSC relocation is supported.\ | | bit\ | | 1\ | | 0 255\ | | 1 65535 | +----------------------------------------------------------------------+ | **PDCP PDU header** (1 bit field)\ | | bit\ | | 1\ | | 0 not present\ | | 1 present | +----------------------------------------------------------------------+ | **Header compression information List (3 bit field)\ | | This field is the binary representaion of the number of header | | compression information.** | | | | **Range: 0 to** maxPDCPAlgoType-1.\ | | NOTE: Link with the PDCP instances to be clarified in the procedure. | +----------------------------------------------------------------------+ | **Header compression information struct\ | |** The Header compression information struct is repeated up to | | maxPDCPalgoType times. | +----------------------------------------------------------------------+ | Header Compression Information struct length (14 bit field)\ | | **This field is the binary representaion of the length of the** | | Header Compression Information struct excluding the bits used for | | this length field**.** | | | | **Range: 0 to** 4095\. | +----------------------------------------------------------------------+ | **F_MAX_PERIOD** (16 bit field)\ | | This field is a binary representation of the maximum number of | | compressed non-TCP headers that may be sent without sending a full | | header. | | | | Range 1 to 65535. | +----------------------------------------------------------------------+ | **F_MAX_TIME** (8 bit field)\ | | This field is a binary representation of the maximum time in seconds | | that a compressed headers may not be sent after sending last full | | header. | | | | Range 1 to 255. | +----------------------------------------------------------------------+ | **MAX_HEADER** (16 bit field)\ | | This field is a binary representation of the largest header size in | | octets that may be compressed. | | | | Range 60 to 65535. | +----------------------------------------------------------------------+ | **TCP_SPACE** (8 bit field)\ | | This field is a binary representation of the maximum CID value for | | TCP connections. | | | | Range 3 to 255. | +----------------------------------------------------------------------+ | **NON_TCP_SPACE** (16 bit field)\ | | This field is a binary representation of the maximum CID value for | | non-TCP connections. | | | | Range 3 to 65535. | +----------------------------------------------------------------------+ | **EXPECT_REORDERING** (1 bit field)\ | | bit\ | | 1\ | | 0 reordering not expected,\ | | 1 reordering expected | +----------------------------------------------------------------------+ | **UPLINK** (1 bit field)\ | | bit\ | | 1\ | | 0 does not indicate the necessary information elements for UL\ | | 1 indicates the necessary information elements for UL | +----------------------------------------------------------------------+ | **DOWNLINK** (1 bit field)\ | | bit\ | | 1\ | | 0 does not indicate the necessary information elements for DL\ | | 1 indicates the necessary information elements for DL | +----------------------------------------------------------------------+ | **CID inclusion info\ | |** This field configures which method shall be used to carry RFC3095 | | CID values : | | | | bit\ | | 1\ | | 0 PDCP Header\ | | 1 RFC3095 packet format | | | | **Max_CID\ | |** This field describes the highest context ID number to be used by | | the MS compressor. If this field is not present then the default | | value of 15 is used.\ | | This field is encoded as a binary number. | | | | Range 0 to 16383. A value of 0 shall be counted as reserved. | +----------------------------------------------------------------------+ | **Profiles List (4 bit field)\ | |** This field is a binary representation of the number of ROHC | | profiles supported by the GERAN decompressor. | | | | Range 0 to maxROHC-Profiles-1. | +----------------------------------------------------------------------+ | **Profile instance\ | |** This field is a binary representation of the supported profile | | types. | | | | Range 1 to 3. Any other value received shall be treated as reserved. | +----------------------------------------------------------------------+ | **MRRU\ | |** This field describes the Maximum Reconstructed Reception Unit. | | When RLC is configured in non-transparent mode, this field is set to | | the 0 and the segmentation function of the RFC 3095 shall not be | | used by the MS.\ | | The filed is encoded as a binary number. | | | | Range 0 to 65535 | +----------------------------------------------------------------------+ | **Packet Sizes Allowed List (4 bit field)\ | | This field is the binary representation of the list of packet sizes | | that are allowed to be produced by RFC 3095.** | +----------------------------------------------------------------------+ | **PACKET_SIZES_ALLOWED** (11 bit field)**\ | |** This field is the binary representation of the packets sizes in | | octets as defined by MS compressor. | | | | Range 2 to 1500. Any other received values shall be treated as | | reserved. | +----------------------------------------------------------------------+ | **Reverse decompression depth** (16 bit field)\ | | This field describes the reverse compression depth as an integer | | from 0 to 65535. Also it determines whether reverse decompression | | should be used or not and the maximum number of packets that can be | | reverse decompressed by the MS decompressor. If the IE is not | | present, the default value of 0 (reverse decompression shall not be | | used) is used. | | | | Range 0 to 65535 | +----------------------------------------------------------------------+
### 9.3.61 PDCP SN Info
The _PDCP SN Info_ IE indicates the PDCP sequence number that the sender of
the message is expecting to be received next.
Table 9.3.61.1: _PDCP SN Info_ information elements
* * *
**\  ::=**\ \;
* * *
Table 9.3.61.2: _PDCP SN Info_ information element details
* * *
**PDCP SN Info** (16 bit field)\ The _PDCP SN Info_ field is encoded as a
binary number. Range 0 to 65535.
* * *
### 9.3.62 Physical Channel Configuration
The _Physical Channel Configuration_ IE describes the dedicated and the shared
physical resources.
Table 9.3.62.1: _Physical Channel Configuration_ information elements
+-------------------------------------------------------------+ | \ ::= | | | | { 00 _\-- no physical resource allocated_ | | | | \| 01 \ > | | | | \| 10 \ > | | | | \| | | | | ! \ > } | | | | -- Reserved for future use}; | +-------------------------------------------------------------+
Table 9.3.62.2: _Physical Channel Configuration_ information element details
* * *
**DBPSCH Description** \ This IE is defined in sub-clause 9.3.19.
**SBPSCH Description** \ This IE is defined in sub-clause 9.3.99.
* * *
### 9.3.63 PLMN Identity
The _PLMN Identity_ IE identifies a Public Land Mobile Network for a GSM-MAP
type of PLMN. The PLMN identity digits are defined in 3GPP TS 23.003.
Table 9.3.63.1: _PLMN Identity_ information elements
+------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } ; | +------------------------------------------------+
Table 9.3.63.2: _PLMN Identity_ information element details
* * *
**MCC_digit_1** (4 bit field)\ **MCC_digit_2** (4 bit field)\ **MCC_digit_3**
(4 bit field)\ These fields are the binary representation of the MCC digit
number X, where X goes from 1 to 3. Range: 0 to 9.
**MNC_digit_1** (4 bit field)\ **MNC_digit_2** (4 bit field)\ **MNC_digit_3**
(4 bit field)\ These fields are the binary representation of the MNC digit
number X, where X goes from 1 to 2 or 3. Range: 0 to 9. The presence of a
third MNC digit depends on the value of the MCC.
* * *
### 9.3.64 Power Command
The _Power Command_ IE is to provide the power level to be used by the mobile
station.
Table 9.3.64.1: _Power Command_ information elements
+--------------------------------------------+ | \ ::= | | | | \; | +--------------------------------------------+
Table 9.3.64.2: _Power Command_ information element details
* * *
**Power Command** **Value** (1 octet field)\ The Power Command Value is coded
as the value part of the _Power Command_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.65 Power Command and Access Type
The _Power Command and Access Type_ IE is to provide the power level to be
used by the mobile station.
Table 9.3.65.1: _Power Command and Access Type_ information elements
+------------------------------------------------------------+ | \ ::= | | | | \; | +------------------------------------------------------------+
Table 9.3.65.2: _Power Command and Access Type_ information element details
* * *
**Power Command and Access Type Value** (1 octet field)\ The Power Command and
Access Type Value is coded as the value part of the _Power Command and Access
Type_ IE defined in 3GPP TS 44.018.
* * *
### 9.3.66 (void)
### 9.3.67 (void)
### 9.3.68 (void)
### 9.3.69 Protocol Error Cause
The _Protocol Error Cause_ IE indicates the cause of the incomprehension of a
message or information.
Table 9.3.69.1: _Protocol Error Cause_ information elements
* * *
\** ::=\ \;
* * *
Table 9.3.69.2: _Protocol Error Cause_ information element details
* * *
**Protocol Error Cause** (3 bit field)\ bit\ 3 2 1\ 0 0 0 CSN.1 violation or
encoding error\ 0 0 1 Message type non-existent or not implemented\ 0 1 0
Message not compatible with receiver state\ 0 1 1 Information element value
not comprehended\ 1 0 0 Message content part error\ 1 0 1 Message extension
not comprehended\ \ All other values are reserved.
* * *
### 9.3.70 Protocol Error Indicator
The _Protocol_ _Error Indicator_ IE indicates whether a message was
transmitted due to a protocol error or not.
Table 9.3.70.1: _Protocol Error Indicator_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.70.2: _Protocol Error Indicator_ information element details
* * *
**Protocol Error Indicator** (1 bit field)\ bit\ 1\ 0 False - no protocol
error occurred\ 1 True - protocol error occurred
* * *
### 9.3.71 Protocol Error Information
The _Protocol Error Information_ IE contains diagnostic information returned
by the receiver of a message that was not completely understood.
Table 9.3.71.1: _Protocol Error Information_ information elements
+------------------------------------------------------------------------+ | \ ::= | | | | { 0 \ > | | | | \| 1 } ; -- _reserved_ | +------------------------------------------------------------------------+
Table 9.3.71.2: _Protocol Error Information_ information element details
* * *
**Protocol Error Cause** \ This IE is defined in sub-clause 9.3.69.
* * *
### 9.3.72 RAB Identity
The _RAB Identity_ IE uniquely identifies a radio access bearer within a CN
domain.
Table 9.3.72.1: _RAB Identity_ information elements
* * *
\ ::=\ { 0 \\ \| 1 \ } ;
* * *
Table 9.3.72.2: _RAB Identity_ information element details
* * *
**RAB_Identity_GSM-MAP** (8 bit field)\ This field indicates the RAB identity
with a GSM-MAP-type PLMN. See 3GPP TS 24.008
**RAB_Identity_ANSI-41** (8 bit field)\ This field indicates the RAB identity
with a ANSI-41-type PLMN. See 3GPP TS 24.008
* * *
### 9.3.73 RAB Info
The _RAB Info_ IE contains information used to uniquely identify a radio
access bearer.
Table 9.3.73.1: _RAB Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ > | | | | { 0 \| 1 \ > } | | | | \ >; | +----------------------------------------------------------------------+
Table 9.3.73.2: _RAB Info_ information element details
* * *
**RAB Identity** \ This IE is defined in sub-clause 9.3.72.
**CN Domain Identity** \ This IE is defined in sub-clause 9.3.15.
**NAS Synchronization Indicator** \ The _NAS Synchronization Info_ IE is
defined in sub-clause 9.3.55.
**Re-Establishment Timer** \ This IE is defined in sub-clause 9.3.88.
* * *
### 9.3.74 RAB Info Post
The _RAB Info Post_ IE contains information used to uniquely identify a radio
access bearer.
Table 9.3.74.1: _RAB Info Post_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ > | | | | { 0 \| 1 \ > }; | +----------------------------------------------------------------------+
Table 9.3.74.2: _RAB Info Post_ information element details
* * *
**RAB Identity** \ This IE is defined in sub-clause 9.3.72.
**CN Domain Identity** \ This field is defined in sub-clause 9.3.15.
**NAS Synchronization Indicator** \ The _NAS Synchronization Info_ field is
defined in sub-clause 9.3.55.
* * *
### 9.3.75 RAB Information for Setup
The _RAB Information for Setup_ IE indicates the radio access bearer(s) to
setup.
Table 9.3.75.1: _RAB Information for Setup_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ | | | | \ > | | *(1+val(RB Information to Setup List)) }; | +----------------------------------------------------------------------+
Table 9.3.75.2: _RAB Information for Setup_ information element details
+----------------------------------------------------------------------+ | **RAB Info** \ | | This IE is defined in sub-clause 9.3.73. | +----------------------------------------------------------------------+ | **RB Information to Setup List** (3 bit field)\ | | This field is the binary representation of the number of RB to setup | | in a RAB. Range : 0 to maxRBperRAB-1. | | | | **RB Information to Setup** \ | | This IE is defined in sub-clause 9.3.84. This IE can be repeated up | | to maxRBperRAB times within one RAB information for setup IE. | +----------------------------------------------------------------------+
### 9.3.76 RAB Information to Reconfigure
The _RAB Information to Reconfigure_ IE indicates the radio access bearer(s)
to reconfigure.
Table 9.3.76.1: _RAB Information to Reconfigure_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ > | | | | \ > | | | | \ >; | +----------------------------------------------------------------------+
Table 9.3.76.2: _RAB Information to Reconfigure_ information element details
* * *
**RAB Identity** \ This IE is defined in sub-clause 9.3.72.
**CN Domain Identity** \ This IE is defined in sub-clause 9.3.15.
**NAS Synchronization Indicator** \ The _NAS Synchronization Info_ IE is
defined in sub-clause 9.3.55.
* * *
### 9.3.77 RB Activation Time Info
The _RB Activation Time Info_ IE contains the time, in terms of RLC sequence
numbers, when a certain configuration shall be activated, for a number of
radio bearers.
Table 9.3.77.1: _RB Activation Time Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 \| 1 \** | | | | \ > } *(1+val(**Repeated Radio Bearer | | Activation Time list**)) } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { \** > | | | | { 0 \| 1 { 00 \ | | | | \| 01 \ | | | | \| 10 \ | | | | \| 11 \ } | | | | } | | | | } ; | +----------------------------------------------------------------------+
Table 9.3.77.2: _RB Activation Time Info_ information element details
* * *
**Repeated radio bearer activation time list (5 bit field)** \ This field is
the binary representation of the number of RBs. Range : 0 to maxRB-1.
**Repeated radio bearer activation time struct** \ The Repeated radio bearer
activation time struct is repeated up to maxRB times.
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
**GPRS RLC Sequence Number** (7 bit field)\ This field indicates the RLC send
state variable for GPRS MS with radio bearers mapped on RLC AM and UM. This
field is encoded as a binary number. Range : 0 to 127.
**EGPRS RLC Sequence Number** (11 bit field)\ This field indicates the RLC
send state variable for EGPRS MS with radio bearers mapped on RLC AM and UM.
This field is encoded as a binary number. Range : 0 to 2047.
**DCCH TBF RLC Sequence Number** (4 bit field)\ This field indicates the RLC
send state variable for DCCH TBF mode MS (see 3GPP TS 44.160) with radio
bearers mapped on RLC AM and UM. This field is encoded as a binary number.
Range : 0 to 15.
**TCH TBF RLC Sequence Number** (8 bit field)\ This field indicates the RLC
send state variable for TCH TBF mode MS (see 3GPP TS 44.160) with radio
bearers mapped on RLC AM and UM. This field is encoded as a binary number.
Range : 0 to 255.
* * *
### 9.3.78 RB COUNT-C Information
The _RB COUNT-C Information_ IE indicates RB COUNT-C values for a radio
bearer.
Table 9.3.78.1: _RB COUNT-C Information_ information elements
+---------------------------------------------------+ | \ ::=\ | | \** >\ | | \ | | | | \; | +---------------------------------------------------+
Table 9.3.78.2: _RB COUNT-C Information_ information element details
* * *
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
**COUNT-C-Uplink** (32 bit field)\ This field is the binary representation of
the amount of data sent in Uplink. See 3GPP TS 33.102.
**COUNT-C-Downlink** (32 bit field)\ This field is the binary representation
of the amount of data sent in Downlink. See 3GPP TS 33.102.
* * *
### 9.3.79 RB COUNT-C MSB Information
The _RB COUNT-C MSB Information_ IE indicates the MSB of the COUNT-C values of
the radio bearer.
Table 9.3.79.1: _RB COUNT-C MSB Information_ information elements
+--------------------------------------------+ | \ ::=\ | | \\ | | \ | | | | \; | +--------------------------------------------+
Table 9.3.79.2: _RB COUNT-C MSB Information_ information element details
* * *
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
**COUNT-C-MSB-Uplink** (25 bit field)\ This field indicates 25 MSBs from the
COUNT-C-uplink associated to this RB. See 3GPP TS 33.102.
**COUNT-C-MSB-Downlink** (25 bit field)\ This field indicates 25 MSBs from the
COUNT-C-downlink associated to this RB. See 3GPP TS 33.102.
* * *
### 9.3.80 RB Identity
The _RB Identity_ IE indicates the identification number for the radio bearer
affected by a certain message.
Table 9.3.80.1: _RB Identity_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.80.2: _RB Identity_ information element details
* * *
**RB Identity** (5 bit field)\ The _RB Identity_ field is encoded as a binary
number. Range: 0 to 31. Values 0-4 shall only be used for signalling radio
bearers.
* * *
### 9.3.81 RB Information to Be Affected
The _RB Information to Be Affected_ IE indicates identity of the RB to be
affected by the message.
Table 9.3.81.1: _RB Information to Be Affected_ information elements
* * *
\ ::=\ \** >;
* * *
Table 9.3.81.2: _RB Information to Be Affected_ information element details
* * *
**RB Identity** (5 bit field)\ This field is defined in sub-clause 9.3.80.
* * *
### 9.3.82 RB Information to Reconfigure
The _RB Information to Reconfigure_ IE indicates the radio bearer to
reconfigure.
Table 9.3.82.1: _RB Information to Reconfigure_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | -- _Release 6_ extension | | | | \ **; -- reserved for future use | +----------------------------------------------------------------------+
Table 9.3.82.2: _RB Information to Reconfigure_ information element details
* * *
**RB Information to Reconfigure** **length** (11 bit field)\ This field is the
binary representation of the length of the IE _RB Information to Reconfigure_
in bits excluding the bits used for this length field. Range: 0 to 2047.
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
**PDCP Info** \ This IE is defined in sub-clause 9.3.60.
**PDCP SN Info** \ This IE is defined in sub-clause 9.3.61. The PDCP sequence
number info from the network is present only in case of lossless SRNS
relocation.
**RLC Info** \ This IE is defined in sub-clause 9.3.91.
**RB Stop/Continue** (1 bit field)\ bit\ 1\ 0 stop RB\ 1 continue RB
**RB Mapping Info** \ This IE is defined in sub-clause 9.3.117.
* * *
### 9.3.83 RB Information to Release
The _RB Information to Release_ IE indicates identity of the RB to be
released.
Table 9.3.83.1: _RB Information to Release_ information elements
* * *
\ ::=\ \** >;
* * *
Table 9.3.83.2: _RB Information to Release_ information element details
* * *
**RB Identity** \ This field is defined in sub-clause 9.3.80.
* * *
### 9.3.84 RB Information to Setup
The _RB Information to Setup_ IE contains information about the RB to setup.
Table 9.3.84.1: _RB Information to Setup_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ > | | | | { 0 \| 1 \ > } | | | | {0 \| 1 \ > } | | | | {0 \| 1 \ > } | | -- _Release 6_ extension | | | | \ **; -- reserved for future use | +----------------------------------------------------------------------+
Table 9.3.84.2: _RB Information to Setup_ information element details
* * *
**RB Information to Setup length** (11 bit field)\ This field is the binary
representation of the length of the IE _RB Information to Setup_ in bits
excluding the bits used for this length field. Range: 0 to 2047.
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
**PDCP Info** \ This IE is defined in sub-clause 9.3.60.
**RLC Info** \ This IE is defined in sub-clause 9.3.91.
**RB Mapping Info** \ This IE is defined in sub-clause 9.3.117.
* * *
### 9.3.85 RB Timer Indicator
This _RB Timer Indicator_ IE indicates to GERAN if the timers T314 and T315
have expired in the MS.
Table 9.3.85.1: _RB Timer Indicator_ information elements
* * *
\ ::=\ \\ \ ;
* * *
Table 9.3.85.2: _RB Timer Indicator_ information element details
* * *
**T314 Expired** (1 bit field)\ bit\ 1\ 0 False - the timer has not expired\ 1
True - the timer has expired or the stored value is zero
**T315 Expired** (1 bit field)\ bit\ 1\ 0 False - the timer has not expired\ 1
True - the timer has expired or the stored value is zero
* * *
### 9.3.86 RB with PDCP Information
The _RB with PDCP Information_ IE identifies the RB and provides the PDCP
sequence number info from the sender of the message for lossless Serving BSC
relocation.
Table 9.3.86.1: _RB with PDCP Information_ information elements
* * *
\ ::=\ \
>\ \ >;
* * *
Table 9.3.86.2: _RB with PDCP Information_ information element details
* * *
**RB Identity** \ This IE is defined in sub-clause 9.3.80.
**PDCP SN Info** \ This IE is defined in sub-clause 9.3.61. PDCP sequence
number info from the sender of the message for lossless Serving BSC
relocation.
* * *
### 9.3.87 (void)
### 9.3.88 Re-Establishment timer
This _Re-Establishment Timer_ IE indicates which timer to associate with RAB.
Table 9.3.88.1: _Re-Establishment Timer_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.88.2: _Re-Establishment Timer_ information element details
* * *
**Re-Establishment Timer** (1 bit field)\ bit\ 1\ 0 use T314\ 1 use T315
* * *
### 9.3.89 Rejection Cause
The _Rejection Cause_ IE indicates the cause for rejection of RRC connection
establishment request.
Table 9.3.89.1: _Rejection Cause_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.89.2: _Rejection Cause_ information element details
* * *
**Rejection Cause** (1 bit field)\ bit\ 1\ 0 congestion\ 1 unspecified
* * *
### 9.3.90 Release Cause
The _Release Cause_ IE indicates the cause for releasing the RRC connection.
Table 9.3.90.1: _Release Cause_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.90.2: _Release Cause_ information element details
* * *
**Release Cause** (3 bit field)\ bit\ 3 2 1\ 0 0 0 normal event\ 0 0 1
unspecified\ 0 1 0 pre-emptive release\ 0 1 1 congestion\ 1 0 0 re-
establishment reject\ 1 0 1 directed signalling connection re-establishment\ 1
1 0 user inactivity\ 1 1 1 reserved
* * *
### 9.3.91 RLC Info
The _RLC Info_ IE contains information about the RLC protocol.
Table 9.3.91.1: _RLC Info_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 00 _\-- RLC in Acknowledged mode_ | | | | {0\|1 \} | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ } | | | | \| 01 _\-- RLC in Unacknowledged mode_ | | | | {0 \| 1 \ } | | | | ! \ > } ; | | -- _reserved_ | +----------------------------------------------------------------------+
Table 9.3.91.2: _RLC Info_ information element details
* * *
**RLC Info length** (5 bit field)\ This field is the binary representation of
the RLC Info IE excluding the 5 bits used to define this field. Range 0 to 31.
**Resegment** \ bit\ 1\ 0 Retransmitted RLC data blocks shall not be
resegmented\ 1 Retransmitted RLC data blocks shall be resegmented according to
commanded MCS
**Transmission RLC Discard** \ This IE is defined in sub-clause 9.3.95.
**EGPRS Window Size** \ This information element defines the window size to be
used in an EGPRS TBF. The network sets the window size according to the number
of timeslots allocated in the direction of the TBF. This Field is coded as
defined in 3GPP TS 44.060.
* * *
### 9.3.92 RLC HFN IE
This IE contains the RLC HFN used in ciphering for EGPRS, GPRS or UTRAN in AM
or UM RLC.
Table 9.3.92.1: _RLC HFN_ information elements
+----------------------------------------------------------------------+ | \::= | | | | \ | | | | { 000 \ \-- _Used in the case of EGPRS | | and UTRAN AM RLC_ | | | | \| 001 \ \-- _Used in the case of GPRS_ | | | | \| 010 \ \-- _Used in the case of UTRAN | | UM RLC_ | | | | \| 011 \ \-- _Used in the case of GERAN | | DBPSCH_ | | | | _\-- Release 6 RLC HFN --_ | | | | \| 100 \ \-- _Used in the case of GERAN | | DBPSCH,_ _AM RLC_ _UDCH TBF mode_ | | | | \| 101 \ \-- _Used in the case of GERAN | | DBPSCH,_ _UM RLC_ _UDCH TBF mode_ | | | | \| 110 \ \-- _Used in the case of GERAN | | DBPSCH,_ _AM RLC CDCH TBF mode_ | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 9.3.92.2: _RLC HFN_ information element details
* * *
**RLC HFN Length\** This field is the binary representation of the length in
bits of the RLC HFN field in this IE. Range: 1+val(RLC HFN length)
**RLC HFN** (20..27 bit field)\ This field defines the RLC HFN used in the
ciphering procedure at RLC/MAC. See 3GPP TS 44.160
* * *
### 9.3.93 RPLMN Information
Table 9.3.93.1: _RPLMN Information_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | _\-- GSM parameters, lower bound and upper bound of GSM BA freqs_ | | | | { 0\|1 \ | | | | { \ | | | | \ | | | | \ } * (1+val(GSM BA Range))}} | | | | { 0\|1 \ | | | | { \ | | | | \ } * (1+val(CDMA2000 UMTS Frequency | | list))}} | | | | }; | +----------------------------------------------------------------------+
Table 9.3.93.2: _RPLMN Information_ information element details
* * *
**GSM BA Range** (6 bit field)\ This field is the binary representation of
maximum number of GSM Frequency Ranges to store. Range 0 to
maxNumGSMFreqRanges-1.
**GSM Lower Range** (14 bit field)\ This field is the binary representation of
lower bound for range of GSM BA frequencies, lower bound.
**GSM Upper Range** (14 bit field)\ This field is the binary representation of
lower bound for range of GSM BA frequencies, upper bound.
**UARFCN** (14 bit field)\ This field is defined in 3GPP TS 25.102.
**CDMA2000 UMTS** **Frequency list** (3 bit field)\ This field is the binary
representation of maximum number of CDMA Frequency Ranges to store. Range 0 to
maxNumCDMA2000FreqRanges-1.
**BAND_CLASS** (5 bit field)\ This field is the bit string representation of
TIA/EIA/IS-2000 BAND_CLASS. The bits are numbered b0 to b4, where b0 is the
least significant bit.
**CDMA_FREQ** (11 bit field)\ This field is the bit string representation of
CDMA_FREQ TIA/EIA/IS-2000. The CDMA_FREQ bits are numbered b0 to b10, where b0
is the least significant bit.
* * *
### 9.3.94 RRC Cause
The _RRC Cause_ IE is to provide the reason for failure of the physical
channel setup, reconfiguration, release or the reason for completion of
handover.
Table 9.3.94.1: _RRC Cause_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.94.2: _RRC Cause_ information element details
* * *
**RRC Cause** (8 field)\ \ Bits\ 8 7 6 5 4 3 2 1\ 0 0 0 0 0 0 0 0 Normal
event\ 0 0 0 0 0 0 0 1 Abnormal release, unspecified\ 0 0 0 0 0 0 1 0 Abnormal
release, channel unacceptable\ 0 0 0 0 0 0 1 1 Abnormal release, timer
expired\ 0 0 0 0 0 1 0 0 Abnormal release, no activity on the radio path\ 0 0
0 0 0 1 1 0 UTRAN configuration unknown\ 0 0 0 0 1 0 0 0 Handover impossible,
timing advance out of range\ 0 0 0 0 1 0 0 1 Channel mode unacceptable\ 0 0 0
0 1 0 1 0 Frequency not implemented\ 0 0 0 0 1 1 0 0 Lower layer failure\ 0 1
0 0 0 0 0 1 Call already cleared\ 0 1 0 1 1 1 1 1 Semantically incorrect
message\ 0 1 1 0 0 0 0 0 Invalid mandatory information\ 0 1 1 0 0 0 0 1
Message type non-existent or not implemented\ 0 1 1 0 0 0 1 0 Message type not
compatible with protocol state\ 0 1 1 0 0 1 0 0 Conditional IE error\ 0 1 1 0
0 1 0 1 No cell allocation available\ 0 1 1 0 1 1 1 1 Protocol error
unspecified\ All other cause values shall be treated as 0000 0000, \'normal
event\'.
* * *
### 9.3.95 RRC Packet Downlink Assignment
The _RRC Packet Downlink Assignment_ IE is sent by the network to the mobile
station to indicate the assigned downlink resources. The _RRC Packet Downlink
Assignment_ IE is coded as shown in 3GPP TS 44.018.
Table 9.3.95.1: _RRC Packet Downlink Assignment_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ | | | | \ | | | | \ > | | | | { 0 \| 1 \ | | | | \ | | | | \} | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ | | | | \ | | | | \ } | | | | { 0 \| 1 _\-- indicates EGPRS TBF mode, see_ 3GPP TS  _44.060_ | | | | \ > | | | | \} | | | | { 0 \| 1 \ } } | | | | { 0 \| 1 **\  } ; | +----------------------------------------------------------------------+
Table 9.3.95.2: _RRC Packet Downlink Assignment_ information element details
+----------------------------------------------------------------------+ | **LENGTH_IN_OCTETS** (8 bit field)**\ | |** This field encodes (in binary) the number that is equal to one | | eighth of the number of bits in the _RR Packet Downlink Assignment_ | | information element that follow the end of this field. | +----------------------------------------------------------------------+ | **MAC_MODE** (2 bit field)**\ | |** This field is encoded as the MAC_MODE information field in the | | PACKET DOWNLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **RLC_MODE** (1 bit field)\ | | This field is encoded as the RLC_MODE field in the PACKET DOWNLINK | | ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is encoded as the TIMESLOT_ALLOCATION field in the | | PACKET DOWNLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Packet Timing Advance IE** \ | | This field is encoded as the _Packet Timing Advance_ IE in the | | PACKET DOWNLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | _P0, BTS_PWR_CTRL_MODE and PR_MODE fields\ | |_ These fields are optional downlink power control parameters and are | | encoded as in the PACKET UPLINK ASSIGNMENT message in | | 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Power Control Parameters IE** \ | | This field is encoded as the Power Control Parameters IE in the | | PACKET DOWNLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **DOWNLINK_TFI_ASSIGNMENT** (5 bit field)\ | | If present, this field is encoded as the DOWNLINK_TFI_ASSIGNMENT | | information element in the PACKET DOWNLINK ASSIGNMENT message in | | 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **MEASUREMENT_STARTING_TIME** (16 bit field)\ | | If present, this field is encoded as the 16-bit _value part_ of the | | _Starting Time_ IE defined in sub-clause 10.5.2.38 (starting with | | bit 8 of octet 2 and ending with bit 1 of octet 3 of the _Starting | | Time_ IE).MEASUREMENT_STARTING_TIME field in the PACKET DOWNLINK | | ASSIGNMENT message in 3GPP TS 44.060. | | | | The frame number shall be aligned to a PDTCH block period according | | to the requirements defined for the 'Absolute Frame Number Encoding' | | in the '_Starting Time Frame Number Description'_ IE defined in | | 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **MEASUREMENT_BITMAP** (8 bit field)\ | | If present, this field is encoded as the MEASUREMENT BITMAP | | information field in the PACKET DOWNLINK ASSIGNMENT message in | | 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **MEASUREMENT_INTERVAL** (5 bit field)\ | | If present, this field is encoded as the MEASUREMENT_INTERVAL field | | in the PACKET DOWNLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **EGPRS Window Size IE\ | |** This field is encoded as the _EGPRS Window Size_ IE in the PACKET | | UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **LINK_QUALITY_MEASUREMENT_MODE** (2 bit field)\ | | This field is encoded as the LINK_QUALITY_MEASUREMENT_MODE in the | | PACKET DOWNLINNK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Packet Extended Timing Advance** (2 bit field)\ | | This bit field is used for support of Extended Timing Advance.\ | | Bit\ | | 1 bit 7 of the _Timing Advance_ IE defined in sub-clause 10.5.2.40\ | | 2 bit 8 of the _Timing Advance_ IE defined in sub-clause 10.5.2.40 | +----------------------------------------------------------------------+ | **BEP_PERIOD2 (4 bit field)\ | | This field is described in 3GPP TS 44.060.** | +----------------------------------------------------------------------+
### 9.3.95a RRC Packet Downlink Assignment 2
The _RRC Packet Downlink Assignment 2_ IE is sent by the network to the mobile
station to indicate the assigned downlink resources. The _RRC Packet Downlink
Assignment 2_ IE is coded as shown in the table below.
Table 9.3.95a.1: _RRC Packet Downlink Assignment_ information elements
+---------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 _\-- indicates EGPRS TBF mode, see_ 3GPP TS  _44.060_ | | | | \ > | | | | \ | | | | { 0 \| 1 \ }}; | +---------------------------------------------------------------+
Table 9.3.95a.2: _RRC Packet Downlink Assignment 2_ information element
details
* * *
**LENGTH_IN_OCTETS** (8 bit field)**\** This field encodes (in binary) the
number that is equal to one eighth of the number of bits in the _RR Packet
Downlink Assignment 2 information_ element that follow the end of this field.
**EGPRS Window Size IE\** This field is encoded as the _EGPRS Window Size_ IE
in the PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060.
**LINK_QUALITY_MEASUREMENT_MODE** (2 bit field)\ This field is encoded as the
LINK_QUALITY_MEASUREMENT_MODE in the PACKET DOWNLINK ASSIGNMENT message in
3GPP TS 44.060.
* * *
### 9.3.96 RRC Packet Uplink Assignment
The _RRC Packet Uplink Assignment_ IE is sent by the network to the mobile
station to indicate the assigned uplink resources. The _RRC Packet Uplink
Assignment_ IE is coded as shown in 3GPP TS 44.018.
Table 9.3.96.1: _RRC Packet Uplink Assignment_ information elements
+----------------------------------------------------------------------+ | \ ::=\ | | \ | | | | \ | | | | \ > | | | | \ > | | | | { 0 _\-- for MS operating in GPRS_ | | | | \ | | | | \| 1 -- for MS operating in EGPRS | | | | \ | | | | \ | | | | \ >} | | | | { 0 \| 1 \ } ; | +----------------------------------------------------------------------+ | \ ::= | | | | { 00 \ > | | | | \| 01 \ > | | | | ! \ > } | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 -- Timeslot Allocation | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | \| 1 _\-- Timeslot Allocation with Power Control Parameters_ | | | | \ | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } | | | | { 0 \| 1 \ | | | | \ } }; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 0 \| 1 \ | | | | \} | | | | { 0 \| 1 \ | | | | \ | | | | \ }; | +----------------------------------------------------------------------+
Table 9.3.96.2: _RRC Packet Uplink Assignment_ information element details
+----------------------------------------------------------------------+ | **LENGTH_IN_OCTETS** (8 bit field)**\ | |** This field is the binary representation of the length of the _RR | | Packet Uplink Assignment IE_ value part in octets. Range: 0 to 255 | +----------------------------------------------------------------------+ | **CHANNEL_CODING_COMMAND** (2 bit field)\ | | This field is encoded as the CHANNEL_CODING_COMMAND field in the | | PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **TLLI_BLOCK_CHANNEL_CODING** (1 bit field)\ | | This field is encoded as the TLLI_BLOCK_CHANNEL_CODING field in | | the PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Packet Timing Advance IE** \ | | This field is encoded as the _Packet Timing Advance_ IE in the | | PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Allocation struct\ | | This structure indicates the type of** radio resources **allocation | | used and the parameters** necessary to define the radio resources. | +----------------------------------------------------------------------+ | **EGPRS_MCS_MODE** (4 bit field)\ | | This field is coded as the EGPRS Modulation and Coding Scheme IE in | | the PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **RESEGMENT** (1 bit field)\ | | This field is coded as the RESEGMENT bit in the PACKET UPLINK | | ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **EGPRS Window Size IE\ | |** This field is encoded as the _EGPRS window size_ IE in the PACKET | | DOWNLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **TIMESLOT_ALLOCATION** (8 bit field)**\ | |** This field is encoded as the TIMESLOT_ALLOCATION field in the | | PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Dynamic Allocation struct\ | |** This structure contains parameters necessary to define the radio | | resources of a dynamic allocation or an extended dynamic allocation. | +----------------------------------------------------------------------+ | **Extended Dynamic Allocation** (1 bit field)\ | | This information field indicates the medium access mode to be used | | during the TBF.\ | | 0 Dynamic Allocation\ | | 1 Extended Dynamic Allocation | +----------------------------------------------------------------------+ | **UPLINK_TFI_ASSIGNMENT** (5 bit field)\ | | This field is encoded as the UPLINK_TFI_ASSIGNMENT information | | element in the PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **Power Control Parameters IE** \ | | This field is encoded as the _Power Control Parameters_ IE in the | | PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **RLC_DATA_BLOCKS_GRANTED** (8 bit field)\ | | This field is encoded as the RLC_DATA_BLOCKS_GRANTED field in the | | PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **USF for Timeslot Number 0 (TN0)** (3 bit field)\ | | **USF for Timeslot Number 1 (TN1)** (3 bit field)\ | | **USF for Timeslot Number 2 (TN2)** (3 bit field)\ | | **USF for Timeslot Number 3 (TN3)** (3 bit field)\ | | **USF for Timeslot Number 4 (TN4)** (3 bit field)\ | | **USF for Timeslot Number 5 (TN5)** (3 bit field)\ | | **USF for Timeslot Number 6 (TN6)** (3 bit field)\ | | **USF for Timeslot Number 7 (TN7)** (3 bit field)\ | | These fields are encoded as the USF for Timeslot Number X field | | (where 0=\ ::=\ | | \ | | | | \ > | | | | { 0 _\-- for MS operating in GPRS_ | | | | \ | | | | \| 1 -- for MS operating in EGPRS | | | | \ | | | | \ | | | | \ >}; | +----------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \} | | | | { 0 \| 1 \}; | +----------------------------------------------------------------+
Table 9.3.96a.2: _RRC Packet Uplink Assignment_ information element details
* * *
**LENGTH_IN_OCTETS** (8 bit field)**\** This field is the binary
representation of the length of the _RR Packet Uplink Assignment IE_ value
part in octets. Range: 0 to 255
**CHANNEL_CODING_COMMAND** (2 bit field)\ This field is encoded as the
CHANNEL_CODING_COMMAND field in the PACKET UPLINK ASSIGNMENT message in 3GPP
TS 44.060.
**EGPRS_MCS_MODE** (4 bit field)\ This field is coded as the EGPRS Modulation
and Coding Scheme IE in the PACKET UPLINK ASSIGNMENT message in 3GPP TS
44.060.
**RESEGMENT** (1 bit field)\ This field is coded as the RESEGMENT bit in the
PACKET UPLINK ASSIGNMENT message in 3GPP TS 44.060.
**EGPRS Window Size IE\** This field is encoded as the _EGPRS window size_ IE
in the PACKET DOWNLINK ASSIGNMENT message in 3GPP TS 44.060.
**Dynamic Allocation struct\** This structure contains parameters necessary to
define the radio resources of a dynamic allocation or an extended dynamic
allocation.
**Extended Dynamic Allocation** (1 bit field)\ This information field
indicates the medium access mode to be used during the TBF.\ 0 Dynamic
Allocation\ 1 Extended Dynamic Allocation
**USF for Timeslot Number 0 (TN0)** (3 bit field)\ **USF for Timeslot Number 1
(TN1)** (3 bit field)\ **USF for Timeslot Number 2 (TN2)** (3 bit field)\
**USF for Timeslot Number 3 (TN3)** (3 bit field)\ **USF for Timeslot Number 4
(TN4)** (3 bit field)\ **USF for Timeslot Number 5 (TN5)** (3 bit field)\
**USF for Timeslot Number 6 (TN6)** (3 bit field)\ **USF for Timeslot Number 7
(TN7)** (3 bit field)\ These fields are encoded as the USF for Timeslot Number
X field (where 0=\ ::=\ \;
* * *
Table 9.3.97.2: _RRC State Indicator_ information element details
+---------------------------------------+ | **RRC State Indicator** (2 bit field) | | | | bit | | | | 2 1 | | | | 0 0 RRC-Cell _Dedicated state | | | | 0 1 RRC-Cell_Shared state | | | | 1 0 RRC-GRA_PCH state | | | | 1 1 Reserved | +---------------------------------------+
### 9.3.98 RRC Transaction Identifier
The _RRC Transaction Identifier_ IE identifies the RRC procedure transaction
for the message this IE was included within.
Table 9.3.98.1: _RRC Transaction Identifier_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.98.2: _RRC Transaction Identifier_ information element details
* * *
**RRC Transaction Identifier** \ This field is the binary representation of
the RRC Transaction Identifier . Range: 0 to 3
* * *
### 9.3.99 SBPSCH Description
The _SBPSCH Description_ IE describes shared physical resources.
Table 9.3.99.1: _SBPSCH Description_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | { 0 \| 1 \ | | > } | | | | { 1 \ > } ** 0 | | | | }; | +----------------------------------------------------------------------+ | \ ::= | | | | { \ > | | | | { 0 \ > | | | | \| 1 \ > | | | | { 0 \| 1 \ } } | | | | }; | +----------------------------------------------------------------------+
Table 9.3.99.2: _SBPSCH Description_ information element details
+----------------------------------------------------------------------+ | **Frequency Parameters** \ | | This IE is defined in **TS 3GPP 44.060 sub-clause 12.8.** | +----------------------------------------------------------------------+ | **TBF Information struct** \ | | This structure describe the information for a TBF. This structure | | may be repeated up to maxTBF times. | +----------------------------------------------------------------------+ | **TBF Starting Time** \ | | The _Starting Time_ IE is defined in sub-clause 9.3.103. | +----------------------------------------------------------------------+ | **Description of the** **Uplink Packet Channel Assignment** \ | | The _RRC Packet Uplink Assignment_ IE is defined in sub-clause | | 9.3.96. | +----------------------------------------------------------------------+ | **Description of the** **Downlink Packet Channel Assignment** \ | | The _RRC Packet Downlink Assignment_ IE is defined in sub-clause | | 9.3.95. | +----------------------------------------------------------------------+ | **HFN_LSB (1 bit field)** | | | | This field contains the least significant bit of the HFN of the | | radio bearer for which the TBF is assigned, in the direction of the | | TBF. | +----------------------------------------------------------------------+
### 9.3.100 Security Capability
The _Security Capability_ IE indicates the security capablities of the MS.
Table 9.3.100.1: _Security Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | \ > | | | | \ >; | | | | \**; -- _Extension information may be truncated | | between released versions of the protocol_ | | | | _\-- The receiver shall assume the value zero for any truncated bit_ | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ | | | | \ *14; | +----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ *15; | +----------------------------------------------------------------------+
Table 9.3.100.2: _Security Capability_ information element details
+----------------------------------------------------------------------+ | **Security Capability Length** (7 bit field)\ | | This field is the binary representation of the length of the | | Security Capability IE in bits excluding the bits used for this | | length field. Range: 0 to 127. | +----------------------------------------------------------------------+ | **Iu mode Ciphering algorithm capability struct** \ | | This structure indicates the ciphering algorithms supported by the | | MS.\ | | **UEA0 support** (1 bit field)\ | | **UEA1 support** (1 bit field) **\ | |** \ | | These fields indicate the support of the UEA encryption algorithm | | UEAx, where X has a range from 1 to 2. At least one Ciphering | | algorithm must be supported.\ | | bit\ | | 0 Ciphering algorithm is not supported\ | | 1 Ciphering algorithm is supported | +----------------------------------------------------------------------+ | **Iu mode Integrity protection algorithm capability struct** \ | | This structure indicates the Integrity protection algorithms | | supported by the MS. | +----------------------------------------------------------------------+ | **UIA1 support** (1 bit field)**\ | |** These field indicates the support of the UIA integrity protection | | algorithm UIAx, where X has a range from 1 to 1. At least one | | integrity protection algorithm must be supported. | | | | bit\ | | 0 Integrity protection algorithm is not supported\ | | 1 Integrity protection algorithm is supported | +----------------------------------------------------------------------+
### 9.3.101 Signalling RB Information To Setup
The _Signalling RB Information To Setup_ IE indicates information for setting
up SRBs.
Table 9.3.101.1: _Signalling RB Information To Setup_ information elements
+----------------------------------------------------------------------+ | \ ::=\ | | \ | | | | \ | | | | { 0 \| 1 \ > } | | -- _Release 6_ _extension_ | | | | \ **; -- reserved for future use | +----------------------------------------------------------------------+
Table 9.3.101.2: _Signalling RB Information To Setup_ information element
details
+----------------------------------------------------------------------+ | **SRB Identity** (2 bit field) | | | | bit | | | | 2 1 | | | | 0 0 SRB1 | | | | 0 1 SRB2 | | | | 1 0 SRB3 | | | | 1 1 SRB4 | +----------------------------------------------------------------------+ | **Signalling RB Information To Setup** **length** (8 bit field)\ | | This field is the binary representation of the length of the IE | | _Signalling RB Information To Setup_ in bits excluding the bits used | | for this length field. Range: 0 to 255. | +----------------------------------------------------------------------+ | **RB Mapping Info** \ | | This IE is defined in sub-clause 9.3.117. | +----------------------------------------------------------------------+
### 9.3.102 START
Ths _START_ IE contains the START value used to initialise the 20 most
significant bits of all hyper frame numbers (MAC HFN, RLC UM HFN, RLC AM HFN,
RRC HFN) for a CN domain. This field is defined in 3GPP TS 33.102.
Table 9.3.102.1: _START_ information elements
+-----------------------------+ | \ ::= | | | | \ ; | +-----------------------------+
Table 9.3.102.2: _START_ information element details
* * *
**START** (20 bit field)\ The START bits are numbered b0-b19, where b0 is the
least significant bit.
* * *
### 9.3.103 Starting Time
The _Starting Time_ IE provides the start TDMA frame number, FN modulo 42432.
Table 9.3.103.1: _Starting Time_ information elements
+--------------------------------------------+ | \ ::= | | | | \ ;** | +--------------------------------------------+
Table 9.3.103.2: _Starting Time_ information element details
* * *
**Starting Time Value\ This field is encoded as defined in** 3GPP TS
**44.018.**
* * *
### 9.3.104 Synchronization Indication
The _Synchronization Indication_ IE is to indicate which type of handover is
to be performed.
Table 9.3.104.1: _Synchronization Indication_ information elements
+-------------------------------------------------------+ | \ ::= | | | | \ ; | +-------------------------------------------------------+
Table 9.3.104.2: _Synchronization Indication_ information element details
* * *
**Synchronization Indication Value** **\ This field is encoded as defined in**
3GPP TS **44.018.**
* * *
### 9.3.105 Time Difference
The _Time Difference_ IE is to provide information about the synchronization
difference between the time bases of two Base Stations. This type of
information element is used in relation with the pseudo-synchronization
scheme, see 3GPP TS 45.010. The _Time Difference_ IE is coded as shown in 3GPP
TS 44.018.
Table 9.3.105.1: _Time Difference_ information elements
* * *
\ ::=\ \;
* * *
Table 9.3.105.2: _Time Difference_ information element details
* * *
**Time Difference Value** (8 bit field)\ This field is defined in 3GPP TS
44.018.
* * *
### 9.3.106 Timing Advance
This _Timing Advance_ IE is to provide the timing advance value.
The _Timing Advance_ IE is coded as shown in Figure 10.5.2.40.1/3GPP TS 44.018
and Table 10.5.2.40.1/3GPP TS 44.018.
Table 9.3.106.1: _Timing Advance_ information elements
+-------------------------------------------+ | \ ::= | | | | \; | +-------------------------------------------+
Table 9.3.106.2: _Timing Advance_ information element details
* * *
**Timing Advance** **Value** (8 bit field)\ This field is defined in 3GPP TS
44.018.
* * *
### 9.3.107 Transmission RLC Discard
The _Transmission RLC Discard_ IE indicates SDU Discard mode.
Table 9.3.107.1: _Transmission RLC Discard_ information elements
+-----------------------------------------------+ | \ ::= | | | | \; | +-----------------------------------------------+
Table 9.3.107.2: _Transmission RLC Discard_ information element details
+----------------------------------------------------------------------+ | **Transmission RLC Discard** (1 bit field)\ | | This field indicates whether the discharge of RLC buffer on the | | transmitter side can occur. For UM RLC or TM RLC, RLC discard shall | | not be used for that radio bearer. | | | | bit\ | | 1\ | | 0 no discharge of the transmission RLC buffer\ | | 1 discharge of the transmission RLC buffer based on timer | +----------------------------------------------------------------------+
### 9.3.108 UE UTRAN Radio Access Capability
This IE indicates the UTRAN radio access capability of the MS.
Table 9.3.108.1: _UE UTRAN Radio Access Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \ | | | | \ } ; | +----------------------------------------------------------------------+
Table 9.3.108.2: _UE UTRAN Radio Access Capability_ information element
details
* * *
**UE UTRAN Radio Access Capability length** \ This field indicates the length
of the UE Radio Access capability field in bits.
**UE UTRAN Radio Access Capability** \ This field is encoded as the UE Radio
Access capability IE in 3GPP TS 25.331.
* * *
### 9.3.108a **UE UTRAN Predefined Configuration Status Information**
This IE is valid only for UTRAN capable mobiles. The IE indicates UTRAN
predefined configuration status information /UECapability/UTRANClassmark
information. The IE includes the INTER RAT HANDOVER INFO (defined in 3GPP TS
25.331) which may give UTRAN related information to the network (target
system) for intersystem handover.The INTER-RAT HANDOVER INFO message contains
following information:
\- The Pre-defined configuration status information; and/or
\- Security information to be used after handover to UTRAN, see 3GPP TS
31.102; and/or
\- The UTRAN Capabilities of the MS.
None, one, two or three of these three information may be present. The
security information present in the message should be ignored.
Table 9.3.108a.1: **_UE UTRAN Predefined Configuration Status Information_**
information elements
+----------------------------------------------------------------------+ | \ | | ::= | | | | { \ | | | | \ } ; | +----------------------------------------------------------------------+
Table 9.3.108a.2: **_UE UTRAN Predefined Configuration Status Information_**
information element details
* * *
**UE UTRAN Predefined Configuration Status Information length** \ This field
indicates the length of the **UE UTRAN Predefined Configuration Status
Information** field in bits.
**UE UTRAN Predefined Configuration Status Information** \ This value part of
this field is the INTER RAT HANDOVER INFO message as defined in 3GPP TS
25.331.
* * *
### 9.3.109 UE UTRAN Radio Access Capability Extension
This IE indicates the UTRAN radio access capability extension of the MS.
Table 9.3.109.1: _UE UTRAN Radio Access Capability Extension_ information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { \** | | | | \ }; | +----------------------------------------------------------------------+
Table 9.3.109.2: _UE UTRAN Radio Access Capability Extension_ information
element details
* * *
**UE UTRAN Radio Access Capability length** \ This field indicates the length
of the UE UTRAN Radio access capability extension field in bits.
**UE UTRAN Radio Access Capability Extension** \ This IE is defined in 3GPP TS
25.331 as Radio access capability extension.
* * *
### 9.3.110 UE CDMA2000 Radio Access Capability
This Information Element contains the UE CDMA2000 radio access capability that
is structured and coded according to the specification used for the
corresponding system type.
Table 9.3.110.1: _UE CDMA2000 Radio Access Capability_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | \ ; | +----------------------------------------------------------------------+
Table 9.3.110.2: _UE CDMA2000 Radio Access Capability_ information element
details
* * *
**CDMA2000 Information length** (12 bit field)\ This field indicates the
length of the CDMA2000 Information field in bits.
**CDMA2000 Information** \ This field is encoded as the _CDMA2000 Radio Access
Capability_ IE defined in TIA/EIA/IS-2000 or later, TIA/EIA/IS-833 or later,
TIA/EIA/IS-834 or later.
* * *
### 9.3.111 UTRAN Freq List
This variable length IE is coded as defined in 3GPP TS 44.018.
### 9.3.112 Wait Time
The _Wait Time_ IE defines the time period the MS has to wait before repeating
the rejected procedure.
Table 9.3.112.1: _Wait Time_ information elements
+--------------------------------+ | \ ::= | | | | \; | +--------------------------------+
Table 9.3.112.2: _Wait Time_ _Capability_ information element details
+-----------------------------------------+ | **Wait Time** (4 bit field) | | | | bit | | | | 4 3 2 1 | | | | 0 0 0 0 -- _repetition is not allowed_ | | | | 0 0 0 1 1s | | | | 0 0 1 0 2s | | | | : | | | | : | | | | 1 1 1 0 14s | | | | 1 1 1 1 15s | +-----------------------------------------+
### 9.3.113 Iu mode Channel Request Description
The _Iu mode Channel Request Description_ IE is used by the mobile station to
request uplink resources.
Table 9.3.113.1: _Iu mode Channel Request Description_ information elements
+----------------------------------------------------------------------+ | \ ::=\ | | \ \-- _Remaining length_ | | | | \ | | | | \ \-- Defined in 3GPP TS 44.060_ | | | | { 0 \| 1 \ } | | | | \**; | +----------------------------------------------------------------------+
Table 9.3.113.2: _Iu mode Channel Request Description_ information element
details
+----------------------------------------------------------------------+ | **PACKET_ESTABLISHMENT_CAUSE** (2 bit field)**\ | |** This field indicates the reason for requesting the access. | | | | Bit | | | | 2 1 | | | | 0 0 User Data | | | | 0 1 Page Response | | | | 1 0 Cell Update | | | | 1 1 Mobility Management procedure | +----------------------------------------------------------------------+ | **Iu mode Channel Request Description** \ | | This IE is defined in 3GPP TS 44.060. | +----------------------------------------------------------------------+ | **HFN_LSB (1 bit field)\ | |** This field contains the least significant bit of the HFN of the | | radio bearer for which the TBF is established, in the direction of | | the TBF. | +----------------------------------------------------------------------+
### 9.3.114 Wait Indication
The _Wait Indication_ IE element is used by the network to indicate the time
the mobile station shall wait before attempting another channel request after
the **GERAN Iu mode DTM REJECT message is received.**
Table 9.3.106.1: _Wait Indication_ information elements
+--------------------------------------+ | \ ::= | | | | \; | +--------------------------------------+
Table 9.3.106.2: _Wait Indication_ information element details
* * *
**Wait Indication Value** (8 bit field)\ This field is coded as the binary
representation of the T3142 timeout value in seconds. This IE is defined in
3GPP TS 44.018.
* * *
### 9.3.115 (void)
### 9.3.116 PDCP Context Relocation Info
The _PDCP Context Relocation Info IE_ indicates that the header compression
context relocation is to be performed during SBSS relocation for the given
radio bearer.
Table 9.3.116.1: _PDCP Context Relocation Info_ elements
+------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | { \ | | | | \| \ } | | | | { \ | | | | \| \} | | | | ; | +------------------------------------------------------------------+
Table 9.3.116.2: _PDCP Context Relocation Info_ information elements details
+------------------------------------------------------------------+ | **Downlink RFC3095 Context Relocation Indication** (1 bit field) | | | | bit\ | | 1\ | | 0 RFC3095 context relocation is not performed in downlink\ | | 1 RFC3095 context relocation is performed in downlink | +------------------------------------------------------------------+ | **Uplink RFC3095 Context Relocation Indication** (1 bit field) | | | | bit\ | | 1\ | | 0 RFC3095 context relocation is not performed in uplink\ | | 1 RFC3095 context relocation is performed in uplink | +------------------------------------------------------------------+
### 9.3.117 RB mapping info
The IE includes the transport channel information on which the RB can be
mapped.
Table 9.3.117.1: _RB Mapping Info_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 00 -- _Uplink information_ | | | | **\  | | | | **\  > | | | | { 00 _\-- All; RLC Sizes listed in TFS IE_ | | | | \| 01 _\-- Configured; RLC Sizes listed in TFS_ | | | | \| 10 _\-- RLC explicit List_ | | | | \ | | | | \ } * (1+val(RLC Size Index List) | | ) | | | | ! \ > } | | | | \| 01 -- _Downlink information_ | | | | \ | | | | \ > | | | | ! \ > } | | | | \** ; -- _Reserved for future use_ | +----------------------------------------------------------------------+
Table 9.3.117.2: _RB Mapping Info_ information element details
+----------------------------------------------------------------------+ | **RB Mapping Info** **length** (8 bit field)\ | | This field is the binary representation of the length of the IE _RB | | Mapping Info_ in bits excluding the bits used for this length field. | | Range: 0 to 256. | +----------------------------------------------------------------------+ | **Downlink Transport Channel Type** (1 bit field)**\ | |** This field is used to indicate the binary representation of the | | number of downlink TrCH used. | | | | bit\ | | 1\ | | 0 DCH\ | | All the other values are reserved | +----------------------------------------------------------------------+ | **DL Transport Channel Identity\ | |** The IE _Transport Channel Identity_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+ | **TFS\ | |** The IE _Transport Format Set_ is defined in sub-clause 9.3.133. | +----------------------------------------------------------------------+ | **Uplink Transport Channel Type** (1 bit field)**\ | |** This field is used to indicate the binary representation of the | | number of uplink TrCH used. | | | | bit\ | | 1\ | | 0 DCH\ | | All the other values are reserved. | +----------------------------------------------------------------------+ | **UL Transport Channel Identity\ | |** The IE _Transport Channel Identity_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+ | **RLC Size Index List** (11 bit field)**\ | |** This field is used to indicate the binary representation of the | | number RLC size. The integer number is a reference to the _RLC size_ | | that arrived at that position in the IE _Transport Format Set._ | +----------------------------------------------------------------------+ | **RLC Size Index** (11 bit field)**\ | |** The integer number is a reference to the _RLC size_ position in | | the IE _Transport Format Set._ | +----------------------------------------------------------------------+
### 9.3.118 Interleaving
The IE includes the information about interleaving used for FLO configuration
on the basic physical channels.
Table 9.3.118.1: _Interleaving_ information elements
+-----------------------------------+ | \ ::= | | | | \ ; | +-----------------------------------+
Table 9.3.118.2: _Interleaving_ information element details
+------------------------------------+ | **Interleaving** (2 bit field)\ | | Bit | | | | 21\ | | 00 20 ms rectangular\ | | 01 40 ms diagonal\ | | All the other values are reserved. | +------------------------------------+
### 9.3.119 Mode
The IE includes the information about mode used for FLO configuration on the
basic physical channels.
Table 9.3.119.1: _Mode_ information elements
+----------------------------+ | \ ::= | | | | \ ; | +----------------------------+
Table 9.3.119.2: _Mode_ information element details
+----------------------------------------------------------------------+ | **Mode** (2 bit field)\ | | This is the binary representation of the mode used for FLO | | configuration. | | | | bit\ | | 21\ | | 00 FR\ | | 01 HR. | | | | All the other values are reserved. | +----------------------------------------------------------------------+
### 9.3.120 Modulation
The IE includes the information about modulation used for FLO configuration on
the basic physical channels.
Table 9.3.119.1: _Modulation_ information elements
+----------------------------------+ | \ ::= | | | | \ ; | +----------------------------------+
Table 9.3.119.2: _Modulation_ information element details
+----------------------------------------------------------------------+ | **Modulation** (2 bit field)\ | | This is the binary representation of the modulation used for FLO | | configuration. | | | | bit\ | | 21\ | | 00 GMSK\ | | 01 GMSK and 8PSK\ | | All the other values are reserved. | +----------------------------------------------------------------------+
### 9.3.121 Added or Reconfigured DL TrCH information
Table 9.3. 121.1: _Added or Reconfigured DL TrCH Information_ information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | **\  > | | | | { 0 _\-- Explicit_ | | | | \ > | | | | \| 1 _\-- SameAsUL_ | | | | **\  >} ; | +----------------------------------------------------------------------+
Table 9.3. 121.2: _Added or Reconfigured DL TrCH Information_ information
element details
+----------------------------------------------------------------------+ | **Downlink Transport Channel Type** (1 bit field)**\ | |** This field is used to indicate the binary representation of the | | number of downlink TrCH used. | | | | bit\ | | 1\ | | 0 DCH\ | | All the other values are reserved. | +----------------------------------------------------------------------+ | **DL Transport Channel Identity\ | |** The IE _Transport Channel Identity_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+ | **UL Transport Channel Identity\ | |** The IE _Transport Channel Identity_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+ | **TFS\ | |** The IE _Transport Format Set_ is defined in sub-clause 9.3.133. | +----------------------------------------------------------------------+
### 9.3.122 Added or Reconfigured UL TrCH information
Table 9.3.122.1: _Added or Reconfigured UL TrCH information_ information
element
+----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | **\  > | | | | \ >; | +----------------------------------------------------------------------+
Table 9.3.122.2: _Added or Reconfigured UL TrCH information_ information
element details
+----------------------------------------------------------------------+ | **Uplink Transport Channel Type** (1 bit field)**\ | |** This field is used to indicate the binary representation of the | | number of uplink TrCH used. | | | | bit\ | | 1\ | | 0 DCH\ | | All the other values are reserved | +----------------------------------------------------------------------+ | **UL Transport Channel Identity\ | |** The _Transport Channel Identity IE_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+ | **TFS\ | |** The IE _Transport Format Set_ is defined in sub-clause 9.3.133. | +----------------------------------------------------------------------+
### 9.3.123 Deleted DL TrCH information
Table 9.3.123.1: _Deleted DL TrCH Information_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | **\  >; | +----------------------------------------------------------------------+
Table 9.3. 123.2: _Deleted DL TrCH Information_ information element details
+----------------------------------------------------------------------+ | **Downlink Transport Channel Type** (1 bit field)**\ | |** This field is used to indicate the binary representation of the | | number of downlink TrCH used. | | | | bit\ | | 1\ | | 0 DCH\ | | All the other values are reserved | +----------------------------------------------------------------------+ | **DL Transport Channel Identity\ | |** The _Transport Channel Identity IE_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+
### 9.3.124 Deleted UL TrCH information
Table 9.3.124.1: _Deleted UL TrCH Information_ information element
+----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | **\  >; | +----------------------------------------------------------------------+
Table 9.3.124.2: _Deleted UL TrCH Information_ information element details
+----------------------------------------------------------------------+ | **Uplink Transport Channel Type** (1 bit field)**\ | |** This field is used to indicate the binary representation of the | | number of uplink TrCH used. | | | | bit\ | | 1\ | | 0 DCH\ | | All the other values are reserved | +----------------------------------------------------------------------+ | **UL Transport Channel Identity\ | |** The IE _Transport Channel Identity_ is defined in sub-clause | | 9.3.130. | +----------------------------------------------------------------------+
### 9.3.125 DL TrCH Information Common For All Transport Channels
Table 9.3.125.1: _DL TrCH Information Common For All Transport Channels_
information elements
+--------------------------------------------------------------------+ | \ ::= | | | | { 0 _\-- Explicit_ | | | | \ > | | | | \| 1 }; -- _SameAsUL-no data_ | +--------------------------------------------------------------------+
Table 9.3.125.2: _DL TrCH Information Common For All Transport Channels_
information element details
* * *
**DL DCH TFCS\** The IE _Transport Format Combination Set_ is defined in sub-
clause 9.3.132. This IE is used when the choice is to define the DL TrCH
information common for all transport channels is "Explicit".
* * *
### 9.3.126 Semi-static Transport Format Information
Table 9.3.123.1: _Semi-static Transport Format Information_ information
element
+-------------------------------------------------------+ | \ ::= | | | | \ | | | | \; | +-------------------------------------------------------+
Table 9.3.126.2: _Semi-static Transport Format Information_ information
element details
* * *
**Rate Matching Attribute** ( 8 bit field )**\** This field is the binary
representation of the RMA attribute sent. Range : 1 to 256.
**CRC size** (3 bit field )**\** bit\ 3 2 1\ 0 0 0 0 bits\ 0 0 1 6 bits\ 0 1 0
12 bits\ 0 1 1 18 bits\ All the other values are reserved
* * *
### 9.3.127 TFCS Explicit Configuration
This IE indicates the explicit configuration of TFCS sent for the TrCH.
Table 9.3.127.1: _TFCS Explicit Configuration_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 00 _\-- complete configuration_ | | | | \ > | | | | \| 01 _\-- Addition_ | | | | \ > | | | | \| 10 _\-- Removal_ | | | | { \ | | > | | | | { 0 Compression Algorithm : 0 | | | | \| 1 Compression Algorithm : 1 } } | | | | \| 11 _\-- Replace_ | | | | \ | | > | | | | \ > | | | | }; | +----------------------------------------------------------------------+
Table 9.3.127.2: _TFCS Explicit Configuration_ information element details
* * *
**TFCS Complete Reconfiguration Information\** The _TFCS
Reconfiguration/Addition Information IE_ is defined in sub-clause 9.3.128.
**TFCS Addition Information\** The _TFCS Reconfiguration/Addition Information
IE_ is defined in sub-clause 9.3.128.
**TFCS Removal Information\** The _TFCS Removal Information IE_ is defined in
sub-clause 9.3.129.
**Compression Algorithm\** This flag indicates if the compression algorithm
can be applied. The value is boolean.
* * *
### 9.3.128 TFCS Reconfiguration/Addition Information
Table 9.3.128.1: _TFCS Reconfiguration/Addition Information_ information
elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | { 000 _\-- 2bit CTFC_ | | | | { \ | | | | \ > | | | | } *( 1 + val ( Length of CTFC Information ) ) | | | | \| 001 _\-- 4bit CTFC_ | | | | { \ | | | | \ > | | | | } *( 1 + val ( Length of CTFC Information ) ) | | | | \| 010 _\-- 6bit CTFC_ | | | | { \ | | | | \ > | | | | } *( 1 + val ( Length of CTFC Information ) ) | | | | \| 011 _\-- 8bit CTFC_ | | | | { \ | | | | \ > | | | | } *( 1 + val ( Length of CTFC Information ) ) | | | | \| 100 _\--12bit CTFC_ | | | | { \ | | | | \ > | | | | } *( 1 + val ( Length of CTFC Information ) ) | | | | \| 101 _\--16bit CTFC_ | | | | { \ | | | | \ > | | | | } *( 1 + val ( Length of CTFC Information ) ) | | | | ! \> }; | +----------------------------------------------------------------------+
Table 9.3.128.2: _TFCS Reconfiguration/Addition Information_ information
element details
* * *
**Length of CTFC Information** (5 bit field)**\** This field is a binary
representation of the CTFC Information. Range 0 to maxTFC-1.
**2 bit CTFC** (2 bit field)**\** This field is a binary representation of the
CTFC when it is chosen 2 bits representation.**\** Range 0 to 3.
**4 bit CTFC** (4 bit field)**\** This field is a binary representation of the
CTFC when it is chosen 4 bits representation.**\** Range 0 to 15.
**6 bit CTFC** (6 bit field)**\** This field is a binary representation of the
CTFC when it is chosen 6 bits representation. **\** Range 0 to 255.
**8 bit CTFC** (8 bit field)**\** This field is a binary representation of the
CTFC when it is chosen 8 bits representation. **\** Range 0 to 63.
**12 bit CTFC** (12 bit field)**\** This field is a binary representation of
the CTFC when it is chosen 12 bits representation.**\** Range 0 to 4095.
**16 bit CTFC** (16 bit field)**\** This field is a binary representation of
the CTFC when it is chosen 16 bits representation.**\** Range 0 to 65535.
* * *
### 9.3.129 TFCS Removal Information
Table 9.3.129.1: _TFCS Removal Information_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | **\  | | | | { \} *( 1 + val ( | | TFCS Removal Information ) ); | +----------------------------------------------------------------------+
Table 9.3.129.2: _TFCS Removal Information_ information element details
* * *
**Removal TFCI information** \ This field is a binary representation of the
removal of TFCs. Range: 1 to maxTFC.
**TFCI** \ The IE _Transport Format Combination_ is defined in 9.3.131.
* * *
### 9.3.130 Transport Channel Identity
This IE is used to distinguish transport channels. This also holds for uplink
and downlink transport channel identities (i.e. for DCH). Depending on in
which context a transport channel identity _n_ that is sent, it will have
different meaning.
Table 9.3.130.1: _Transport Channel Identity_ information element
* * *
\ ::=\ \;
* * *
Table 9.3.130.2: _Transport Channel Identity_ information element details
* * *
**TrCH Identity** (3 bit field)\ The _Transport Channel Identity_ field is
encoded as a binary number. Range: 0 to maxTrCH-1. 0 enables the TrCH number
1.
* * *
### 9.3.131 TFC
Table 9.3.131.1: _Transport Format Combination_ information element
* * *
\ ::=\ \;
* * *
Table 9.3.131.2: _Transport Format Combination_ information element details
* * *
**Transport Format Combination** (5 bit field)\ The _Transport Format
Combination_ field is encoded as a binary number. Range: 0 to maxTFC-1.
* * *
### 9.3.132 Transport Format Combination Set
This IE indicates the allowed combinations of already defined transport
formats and the mapping between these allowed TFCs and the corresponding TFCI
values.
Table 9.3.132.1: _Transport Format Combination Set_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | >**;** | +----------------------------------------------------------------------+
Table 9.3.132.2: _Transport Format Combination Set_ information element
details
* * *
**TFCI Field Information** \ The _TFCS Explicit Configuration_ IE is defined
in 9.3.127.
* * *
### 9.3.133 Transport Format Set
Table 9.3.133.1: _Transport Format Set_ information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ | | | | -- _Transport Channel type;_ _Dedicated transport channels_ | | | | { \ | | | | \ | | | | \ } * (1+val(Dynamic | | Transport Format Information List) ) | | | | \ > | | | | \ **; --_reserved_ | +----------------------------------------------------------------------+
Table 9.3.133.2: _Transport Format Set_ information element details
* * *
**Dynamic Transport Format Information list** (5 bit field)\ This is the
binary representation of the dynamic attribute of the transport channel that
is configured with the TFS for the DCH. Range 1 to maxTF.
**RLC Size** (11 bit field)\ This is the binary representation of the RLC size
needed to configure layer 2. Range 1 to maxRLCSize.
**Transport Block Size** (11 bits field)\ This is the binary representation of
the transport block size corresponding to the RLC size. Range 1 to maxTBSize.
**Semi-static Transport Format Information** \ This IE is described in sub-
clause 9.3.126.
* * *
### 9.3.134 UL TrCH Information Common For All Transport Channels
Table 9.3.134.1: _UL TrCH Information Common For All Transport Channels_
information elements
+----------------------------------------------------------------------+ | \ ::= | | | | \ >; | +----------------------------------------------------------------------+
Table 9.3.134.2: _UL TrCH Information Common For All Transport Channels_
information element details
* * *
**DL DCH TFCS** \ The IE _Transport Format Combination Set_ is defined in sub-
clause 9.3.132.
* * *
## 9.3a Information element definitions
InformationElements DEFINITIONS AUTOMATIC TAGS ::=
\-- ***************************************************
\--
\-- CORE NETWORK INFORMATION ELEMENTS (9.3)
\--
\-- ***************************************************
BEGIN
IMPORTS
maxCNdomains,
maxRBallRABs,
maxRB
FROM Constant-definitions;
\-- NOTE : for ActivationTime, value \'now\' always appear as default, and is
encoded
\-- by absence of the field
ActivationTime ::= BIT STRING (SIZE (22))
CN-DomainIdentity ::= ENUMERATED {
cs-domain,
ps-domain }
CN-InformationInfo ::= SEQUENCE {
plmn-Identity PLMN-Identity OPTIONAL,
cn-DomainGSM-MAP-NAS-SysInfo NAS-SystemInformationGSM-MAP OPTIONAL,
cn-DomainRelInfo CN-DomainRelInfo OPTIONAL
}
CN-DomainRelInfo ::= SEQUENCE {
cn-DomainIdentity CN-DomainIdentity,
cn-DomainGSM-MAP-NAS-SysInfo NAS-SystemInformationGSM-MAP
}
CellUpdateCause ::= ENUMERATED {
cellReselection,
periodicalCellUpdate,
uplinkDataTransmission,
geran-pagingResponse,
radiolinkFailure,
rlc-unrecoverableError,
invalidRLC-MACcontrolmessage,
spare1 }
CipheringModeInfo ::= SEQUENCE {
\-- NOTE: The ciphering algorithm is included in the CipheringModeCommand.
cipheringModeCommand CipheringModeCommand,
**cipheringActivationTimeforDBPSCH** ActivationTime OPTIONAL,
rb-DL-CiphActivationTimeInfo RB-ActivationTimeInfoList OPTIONAL
}
CipheringModeCommand ::= CHOICE {
startRestart CipheringAlgorithm,
spare NULL
}
CipheringAlgorithm ::= BIT STRING {
\-- For each bit value "0" means false/ not supported
spare15(0),
spare14(1),
spare13(2),
spare12(3),
spare11(4),
spare10(5),
spare9(6),
spare8(7),
spare7(8),
spare6(9),
spare5(10),
spare4(11),
spare3(12),
spare2(13),
uea1(14),
uea0(15)
} (SIZE (16))
DL-CounterSynchronisationInfo ::= SEQUENCE {
rb-WithPDCP-InfoList RB-WithPDCP-InfoList OPTIONAL,
rb-PDCPContextRelocationList RB-PDCPContextRelocationList OPTIONAL
}
Digit ::= INTEGER (0..9)
FailureCauseWithProtErrTrId ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
failureCause FailureCauseWithProtErr
}
FailureCauseWithProtErr ::= CHOICE {
configurationUnsupported NULL,
physicalChannelFailure NULL,
incompatibleSimultaneousReconfiguration
NULL,
protocolError ProtocolErrorInformation,
cellUpdateOccurred NULL,
invalidConfiguration NULL,
configurationIncomplete NULL,
spare7 NULL,
spare6 NULL,
spare5 NULL,
spare4 NULL,
spare3 NULL,
spare2 NULL,
spare1 NULL
}
GRA-Identity ::= BIT STRING (SIZE (16))
GRA-UpdateCause ::= ENUMERATED {
changeOfGRA,
periodicGRAUpdate,
spare2,
spare1 }
GERAN-DRX-CycleLengthCoefficient ::= INTEGER (3..9)
G-RNTI ::= SEQUENCE {
sbsc-Identity SBSC-Identity,
s-RNTI S-RNTI
}
IntegrityCheckInfo ::= SEQUENCE {
\-- RRC-MessageSequenceNumberList includes RRC-MessageSequenceNumber.
messageAuthenticationCode MessageAuthenticationCode,
rrc-MessageSequenceNumberList RRC-MessageSequenceNumberList
}
IntegrityProtActivationInfo ::= SEQUENCE {
\-- RRC-MessageSequenceNumberList includes RRC-MessageSequenceNumber
rrc-MessageSequenceNumberList RRC-MessageSequenceNumberList
}
IntegrityProtectionAlgorithm ::= ENUMERATED {
\-- For each NULL means false/ not supported
uia1 BIT STRING (SIZE (16)),
spare1 NULL,
spare2 NULL,
spare3 NULL,
spare4 NULL,
spare5 NULL,
spare6 NULL,
spare7 NULL,
spare8 NULL,
spare9 NULL,
spare10 NULL,
spare11 NULL,
spare12 NULL,
spare13 NULL,
spare14 NULL,
spare15 NULL
}
IntegrityProtectionModeCommand ::= CHOICE {
startIntegrityProtection SEQUENCE {
integrityProtInitNumber IntegrityProtInitNumber
},
modify SEQUENCE {
dl-IntegrityProtActivationInfo IntegrityProtActivationInfo
}
}
IntegrityProtInitNumber ::= BIT STRING (SIZE (32))
IntegrityProtectionModeInfo ::= SEQUENCE {
\-- NOTE: DL integrity protection activation info and Integrity
\-- protection intialisation number have been nested inside
\-- IntegrityProtectionModeCommand.
integrityProtectionModeCommand IntegrityProtectionModeCommand,
integrityProtectionAlgorithm IntegrityProtectionAlgorithm OPTIONAL
}
MessageAuthenticationCode ::= BIT STRING (SIZE (32))
MCC ::= SEQUENCE (SIZE (3)) OF
Digit
MNC ::= SEQUENCE (SIZE (2..3)) OF
Digit
NAS-SystemInformationGSM-MAP ::= OCTET STRING (SIZE (1..8))
PLMN-Identity ::= SEQUENCE {
mcc MCC,
mnc MNC
}
PDCP-SN-Info ::= INTEGER (0..65535)
RB-PDCPContextRelocation ::= SEQUENCE {
dl-RFC3095-Context-Relocation BOOLEAN,
ul-RFC3095-Context-Relocation BOOLEAN
}
RB-PDCPContextRelocationList ::= SEQUENCE (SIZE (1..maxRBallRABs)) OF
RB-PDCPContextRelocation
ProtocolErrorCause ::= ENUMERATED {
csn1-ViolationOrEncodingError,
messageTypeNonexistent,
messageNotCompatibleWithReceiverState,
ie-ValueNotComprehended,
informationElementMissing,
messageContentPartError,
messageExtensionNotComprehended,
spare2, spare1 }
ProtocolErrorIndicator ::=
CHOICE {
noError NULL,
errorOccurred SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
protocolErrorInformation ProtocolErrorInformation
}
}
ProtocolErrorInformation ::= SEQUENCE {
diagnosticsType CHOICE {
type1 SEQUENCE {
protocolErrorCause ProtocolErrorCause
},
spare NULL
}
}
Rb-timer-indicator ::= SEQUENCE {
t314-expired BOOLEAN,
t315-expired BOOLEAN }
RB-ActivationTimeInfoList ::= SEQUENCE (SIZE (1..maxRB)) OF
RB-ActivationTimeInfo
RB-ActivationTimeInfo ::= SEQUENCE {
rb-Identity RB-Identity,
rlc-SequenceNumber RLC-SequenceNumber }
RLC-SequenceNumber :: = CHOICE {
rlc-GPRS-SequenceNumber BIT STRING (SIZE (7)),
rlc-EGPRS-SequenceNumber BIT STRING (SIZE (11)),
rlc-DCCH-TBFMode-SequenceNumber BIT STRING (SIZE (4)),
rlc-TCH-TBF-SequenceNumber BIT STRING (SIZE (8))
}
RB-Identity ::= INTEGER (1..32)
RB-WithPDCP-Info ::= SEQUENCE {
rb-Identity RB-Identity,
pdcp-SN-Info PDCP-SN-Info
}
RB-WithPDCP-InfoList ::= SEQUENCE (SIZE (1..maxRBallRABs)) OF
RB-WithPDCP-Info
RRC-MessageSequenceNumber ::= INTEGER (0..15)
RRC-MessageSequenceNumberList ::= SEQUENCE (SIZE (4..5)) OF
RRC-MessageSequenceNumber
RRC-TransactionIdentifier ::= INTEGER (0..3)
RRC-StateIndicator ::= ENUMERATED {
rrc-Cell-Dedicated, rrc-Cell-Shared, rrc-GRA-PCH}
SBSC-Identity ::= BIT STRING (SIZE (12))
S-RNTI ::= BIT STRING (SIZE (20))
START-Value ::= BIT STRING (SIZE (20))
STARTList ::= SEQUENCE (SIZE (1..maxCNdomains)) OF
STARTSingle
STARTSingle ::= SEQUENCE {
cn-DomainIdentity CN-DomainIdentity,
start-Value START-Value
}
END
## 9.4 Multiplicity values and type constraint values
The following table includes constants that are either used as multi bounds
(name starting with \"max\") or as high or low value in a type specification
(name starting with \"lo\" or \"hi\"). Constants are specified only for values
appearing more than once in the RRC specification. In case a constant is
related to one or more other constants, an expression is included in the
\"value\" column instead of the actual value.
Table 9.4.1: Multiplicity values and type constraint values
* * *
Constant Explanation Value **CN information**  
maxCNdomains Maximum number of CN domains 4 **MS information**  
maxTransactions Maximum number of parallel RRC transactions in downlink 25
maxPDCPalgoType Maximum number of PDCP algorithm types 8 maxSystemCapability
Maximum number of system specific capabilities that can be requested in one
message. 16 maxTBF Maximum nuber of TBFs 8 **GERAN mobility information**  
maxRAT Maximum number of Radio Access Technologies maxOtherRAT + 1 maxOtherRAT
Maximum number of other Radio Access Technologies 15 maxGRA Maximum number of
GRAs in a cell 8 maxInterSysMessages Maximum number of Inter System Messages 4
maxRABsetup Maximum number of RABs to be established 16 **RB information**  
maxRB Maximum number of RBs 32 maxRBallRABs Maximum number of non signalling
RBs 27 maxRBperRAB Maximum number of RBs per RAB 8 maxSRBsetup Maximum number
of signalling RBs to be established 8 maxRFC3095-CID Maximum number of
available CID values per radio bearer 16384 **Transport Channel Information**  
maxTrCH Maximum number of transport channels 8 maxTF Maximum number of
different transport formats that can be included in the Transport format set
for one transport channel 32 maxTFC Maximum number of Transport Format
Combinations 32 maxTBSize Maximum number of Transport Block Size 1370
maxRLCSize Maximum number of RLC Size 1370 N Maximum number of Timeslot Number
in DL 8 M Maximum number of Timeslot Number in UL 8 **Other information**  
maxNumGSMFreqRanges Maximum number of GSM Frequency Ranges to store 32
maxNumFDDFreqs Maximum number of FDD centre frequencies to store 8
maxNumTDDFreqs Maximum number of TDD centre frequencies to store 8
maxNumCDMA200Freqs Maximum number of CDMA2000 centre frequencies to store 8
* * *
## 9.4a Constant definitions
Constant-definitions DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
maxCNdomains INTEGER ::= 4
maxRBallRABs INTEGER ::= 27
maxRB INTEGER ::= 32
END
# 10 Protocol timers, counters, other parameters and default configurations
## 10.1 Timers for MS
Table 10.1.1: Timers for MS
+-------+-------------------+-------------------+-------------------+ | Timer | Start | Stop | At expiry | +-------+-------------------+-------------------+-------------------+ | T300 | Started when the | Reception of RRC | Retransmit RRC | | | transmission of | CONNECTION SETUP | CONNECTION | | | RRC CONNECTION | | REQUEST if V300 | | | REQUEST is | | =\ N300,
the MS enters on RRC-Idle mode. V302 When initiating the procedure Cell update
or GRA update Upon expiry of T302 When V302 > N302 the MS enters in RRC-Idle
mode. V304 When sending the first MS CAPABILITY INFORMATION message. Upon
expiry of T304 When V304 > N304 the MS initiates the Cell update procedure
* * *
## 10.3 MS constants and parameters
Table 10.3.1: MS constants and parameters
* * *
Constant Usage
N300 Maximum number of retransmissions of the RRC CONNECTION REQUEST message.\
Its value is 3.
N302 Maximum number of retransmissions of the CELL UPDATE / URA UPDATE
message.\ Its value is 3.
N304 Maximum number of retransmissions of the MS CAPABILITY INFORMATION
message. Its value is 2.
* * *
## 10.3a Network constants and parameters
Table 10.3a.1: Network constants and parameters
* * *
Constant Usage N3143 Maximum number of retransmissions of the PHYSICAL
INFORMATION message
* * *
## 10.4 MS variables
### 10.4.0 General
Table 10.4.0.1: MS variables
* * *
Name of the Variable Usage CELL_UPDATE_STARTED This variable indicates whether
a cell update or GRA update procedure is in progress. CIPHERING_STATUS This
variable contains information about the current status of ciphering in the MS.
ESTABLISHED_SIGNALLING_CONNECTIONS This variable is used to store information
about established signalling connections. ESTABLISHMENT_CAUSE This variable is
used to store the cause for establishment of a signalling connection received
by upper layers, to be used at RRC connection establishment. ESTABLISHED_RABS
This variable is used to store information about the established radio access
bearers and signalling radio bearers in the MS. FAILURE_CAUSE This variable
contains the cause for failure of a MS initiated procedure, to be reported in
a retransmitted message. FAILURE_INDICATOR This variable indicates whether the
procedure has failed for a MS initiated procedure. GRA_IDENTITY This variable
stores the assigned GRA identity for this MS when in RRC-GRA_PCH state. G_RNTI
This variable stores the assigned G-RNTI for this MS. INITIAL_MS_IDENTITY In
this variable the identity used by the MS when establishing an RRC connection
is stored. INCOMPATIBLE_SECURITY_RECONFIGURATION This variable indicates
whether an incompatible simultaneous reconfiguration of a security function
has been received INTEGRITY_PROTECTION_ACTIVATION_INFO This variable contains
information to be sent to GERAN about when a new integrity protection
configuration shall be activated in the uplink for signalling radio bearers in
case of modification of integrity protection. INTEGRITY_PROTECTION_INFO This
variable contains information about the current status of the integrity
protection in the MS. LATEST_CONFIGURED_CN_DOMAIN This variable stores the CN-
domain that was most recently configured to be used for ciphering and
integrity protection. MS_CAPABILITY_REQUESTED This variable stores information
about the MS capabilities that have been requested by GERAN but that have not
yet been transferred to GERAN INVALID_CONFIGURATION This variable indicates
whether a received message contained an invalid configuration, by means of
invalid values or invalid combinations of information elements
MS_CAPABILITY_TRANSFERRED This variable stores information about which UE
capabilities that have been transferred to GERAN. ORDERED_RECONFIGURATION This
variable stores information about an ongoing Reconfiguration procedure.
PDCP_SN_INFO This variable contains PDCP receive sequence numbers for one or
several radio bearers to be included in a response message to GERAN.
PROTOCOL_ERROR_INDICATOR This variable indicates whether there exist a
protocol error that is to be reported to GERAN. PROTOCOL_ERROR_INFORMATION
This variable contains diagnostics to be reported to GERAN for a message that
was not completely understood. PROTOCOL_ERROR_REJECT This variable indicates
whether there has occurred a severe protocol error causing the ongoing
procedure to fail. RB_TIMER_INDICATOR This variable contains information to be
sent to GERAN if any of the timers T314 or T315 has expired when the MS sends
a cell update with cause RL failure. RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO
This variable contains information to be sent to GERAN about when a new
ciphering configuration shall be activated in the uplink for radio bearers
using RLC-AM or RLC-UM. SECURITY_MODIFICATION This variable contains
information on which CN domain is affected by the ongoing security
reconfiguration. START_THRESHOLD This variable contains information about the
maximum allowed value of the START for a CN domain. START_VALUE_TO_TRANSMIT
This variable contains the value of START for new radio bearer(s) to be
transmitted in a response message TRANSACTIONS This variable stores the
identifications of the ongoing RRC procedure transactions.
TIMERS_AND_CONSTANTS This variable contains the values for all timers and
constants used in RRC-Connected mode. UNSUPPORTED_CONFIGURATION This variable
indicates whether a received message contained a configuration that is not
supported by the MS.
* * *
### 10.4.1 CELL_UPDATE_STARTED
This variable indicates whether a cell update or GRA update procedure is in
progress.
Table 10.4.1.1: CELL_UPDATE_STARTED Variable
* * *
\ ::=\ \ ;
* * *
Table 10.4.1.2: CELL_UPDATE_STARTED Variable details
+------------------------------------------------------------+ | **Cell Update Started** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when leaving or entering the RRC Connected Mode\ | | 1 True - a Cell or GRA Update procedure is in progress | +------------------------------------------------------------+
### 10.4.2 CIPHERING_STATUS
This variable contains information about the current status of ciphering in
the MS. When performing handover or cell reselection to UTRAN the value of
this variable is transferred to the corresponding UTRAN variable _._ When
performing handover or cell reselection from UTRAN the value of this variable
is transferred from the corresponding UTRAN variable _._
Table 10.4.2.1: CIPHERING_STATUS Variable
+--------------------------------------------------------------+ | \ ::=\ | | \ | | | | { \ > | | | | \ | | | | \ | | | | } * (1+val(CN Domain Related Information List)) ; | +--------------------------------------------------------------+
Table 10.4.2.2: CIPHERING_STATUS Variable details
+----------------------------------------------------------------------+ | **CN Domain Related Information List** (2 bit field)\ | | This field is used to repeat information for each CN Domain. Range : | | 0 to maxCNdomains-1, where 0 enables one CN domain to be described. | +----------------------------------------------------------------------+ | **CN Domain Identity** \ | | The _CN Domain Identity_ IE is defined in sub-clause 9.3.15. | +----------------------------------------------------------------------+ | **Status** (1 bit field) | | | | bit\ | | 1\ | | 0 Not Started - when leaving the RRC-Connected mode\ | | 1 Started - when entering the RRC-Connected mode | +----------------------------------------------------------------------+ | **Reconfiguration** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when leaving or entering the RRC Connected Mode\ | | 1 True - an RRC procedure performing reconfiguration of ciphering is | | ongoing | +----------------------------------------------------------------------+
### 10.4.3 ESTABLISHED_SIGNALLING_CONNECTIONS
This variable is used to store information about established signalling
connections. This variable is cleared when entering the RRC Connected Mode
when not otherwise stated in the procedure or when leaving the RRC Connected
Mode. When performing handover or cell reselection to UTRAN the value of this
variable is transferred to the corresponding UTRAN variable _._ When
performing handover or cell reselection from UTRAN the value of this variable
is transferred from the corresponding UTRAN variable _._
Table 10.4.3.1: ESTABLISHED_SIGNALLING_CONNECTIONS Variable
+----------------------------------------------------------------------+ | \ ::=\ | | { 0 \| 1 \ | | | | \ > * (1+ | | val(Signalling Connection List)) | | | | } ; | +----------------------------------------------------------------------+
Table 10.4.3.2: ESTABLISHED_SIGNALLING_CONNECTIONS Variable details
* * *
**Signalling Connection List** (2 bit field)\ This field is used to repeat the
CN domain identity of CN domains with established signalling connection. Range
: 0 to maxCNdomains-1, where 0 enables one CN domain with established
signalling connection to be described.
**CN Domain Identity** \ The _CN Domain Identity_ IE is defined in sub-clause
9.3.15.
* * *
### 10.4.4 ESTABLISHMENT_CAUSE
This variable is used to store the cause for establishment of a signalling
connection received by upper layers, to be used at RRC connection
establishment. This variable is cleared when entering or leaving the RRC
Connected Mode.
Table 10.4.4.1: ESTABLISHMENT_CAUSE Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.4.2: ESTABLISHMENT_CAUSE Variable details
* * *
**Establishment Cause** \ This IE is defined in sub-clause 9.3.21.
* * *
### 10.4.5 ESTABLISHED_RABS
This variable is used to store information about the established radio access
bearers and signalling radio bearers in the MS. This variable is cleared when
entering or leaving the RRC Connected Mode. When performing handover or cell
reselection to UTRAN the value of this variable is transferred to the
corresponding UTRAN variable _._ When performing handover or cell reselection
from UTRAN the value of this variable is transferred from the corresponding
UTRAN variable _._
Table 10.4.5.1: ESTABLISHED_RABS Variable
+----------------------------------------------------------------------+ | \ ::=\ | | { | | | | { 0 -- Not present when entering or leaving the RRC-Connected mode | | when not otherwise stated in the procedure | | | | \| 1 \** | | | | { \ > | | | | \ | | | | { \** > | | | | \ } * (1+val(RB Information List)) | | | | } * (1+val (RAB Information List)) | | | | } | | | | { 0 -- Not present when leaving RRC-Connected mode | | | | \| 1 \ | | | | \* (1+val(Signalling RB | | Information List)) } | | | | } ; | +----------------------------------------------------------------------+
Table 10.4.5.2: ESTABLISHED_RABS Variable details
+----------------------------------------------------------------------+ | **RAB Information List** (4 bit field)\ | | This field is used to repeat information for each RAB established. | | Range : 0 to maxRABsetup-1, where 0 eanbles one established RAB to | | be described. | +----------------------------------------------------------------------+ | **RAB Info** \ | | The _RAB Info_ IE is defined in sub-clause 9.3.73. | +----------------------------------------------------------------------+ | **RB Information List** (3 bit field)\ | | This field is used to repeat information for each RB of the RAB. | | Range : 0 to maxRBperRAB-1, where 0 enables one RB to be described. | +----------------------------------------------------------------------+ | **RB Identity** \ | | This IE is defined in sub-clause 9.3.80. | +----------------------------------------------------------------------+ | **RB Started** ( 1 bit field) | | | | bit\ | | 1\ | | 0 Stopped\ | | 1 Started -- default value | +----------------------------------------------------------------------+ | **Signalling RB Information List** (3 bit field)\ | | This field is used to repeat information for each SRB. Range : 0 to | | maxSRBsetup-1, where 0 enables one SRB to be described. | +----------------------------------------------------------------------+ | **Signalling RB Started** (1 bit field)\ | | Field repeated in the order of Signalling RB1 and upwards. | | | | bit\ | | 1\ | | 0 Stopped\ | | 1 Started -- default value. | +----------------------------------------------------------------------+
### 10.4.6 FAILURE_CAUSE
This variable contains the cause for failure of a MS initiated procedure, to
be reported in a retransmitted message. This variable is cleared when entering
or leaving the RRC Connected Mode.
Table 10.4.6.1: FAILURE_CAUSE Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.6.2: FAILURE_CAUSE Variable details
* * *
**Failure Cause** \ The _Failure Cause_ IE is defined in sub-clause 9.3.24.
* * *
### 10.4.7 FAILURE_INDICATOR
This variable indicates whether the procedure has failed for a MS initiated
procedure.
Table 10.4.7.1: FAILURE_INDICATOR Variable
* * *
\ ::=\ \** ;
* * *
Table 10.4.7.2: FAILURE_INDICATOR Variable details
+-------------------------------------------------------------+ | **Failure Indicator** ( 1 bit field) | | | | bit\ | | 1\ | | 0 False - when entering or leaving the RRC-Connected mode.\ | | 1 True - Procedure has failed. | +-------------------------------------------------------------+
### 10.4.8 GRA_IDENTITY
This variable stores the assigned GRA identity for this MS when in RRC-GRA_PCH
state. This variable is cleared when entering or leaving the RRC Connected
Mode.
Table 10.4.8.1: GRA_IDENTITY Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.8.2: GRA_IDENTITY Variable details
* * *
**GRA Identity** \ This IE is defined in sub-clause 9.3.30.
* * *
### 10.4.9 G_RNTI
This variable stores the assigned G-RNTI for this MS. Thie variable is cleared
when leaving the RRC-Connected mode.
Table 10.4.9.1: G_RNTI Variable
* * *
\ ::=\ { 0 \| 1 \ > **}** ;
* * *
Table 10.4.9.2: G_RNTI Variable details
* * *
**G-RNTI** \ This IE is defined in sub-clause 9.3.32. Not present when leaving
the RRC-Connected mode.
* * *
### 10.4.10 INITIAL_MS_IDENTITY
In this variable the identity used by the MS when establishing an RRC
connection is stored.
Table 10.4.10.1: INITIAL_MS_IDENTITY Variable
* * *
\ ::=\ { 0 \| 1 \ > **}** ;
* * *
Table 10.4.10.2: INITIAL_MS_IDENTITY Variable details
* * *
**Initial MS Identity** \ This IE is defined in sub-clause 9.3.35. Not present
when leaving the RRC-Connected mode.
* * *
### 10.4.11 INCOMPATIBLE_SECURITY_RECONFIGURATION
This variable indicates whether an incompatible simultaneous reconfiguration
of a security function has been received.
Table 10.4.11.1: INCOMPATIBLE_SECURITY_RECONFIGURATION Variable
* * *
\ ::=\ \** ;
* * *
Table 10.4.11.2: INCOMPATIBLE_SECURITY_RECONFIGURATION Variable details
+----------------------------------------------------------------------+ | **Incompatible Security Reconfiguration** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when entering or leaving the RRC-Connected mode.\ | | 1 True -- when an incompatible simultaneous security reconfiguration | | has been detected. | +----------------------------------------------------------------------+
### 10.4.12 INTEGRITY_PROTECTION_ACTIVATION_INFO
This variable contains information to be sent to GERAN about when a new
integrity protection configuration shall be activated in the uplink for
signalling radio bearers in case of modification of integrity protection. This
variable is cleared when entering or leaving the RRC-Connected mode. When
performing handover to UTRAN the value of this variable is transferred to the
corresponding UTRAN variable _._ When performing handover from UTRAN the value
of this variable is transferred from the corresponding UTRAN variable _._
Table 10.4.12.1: INTEGRITY_PROTECTION_ACTIVATION_INFO Variable
* * *
\ ::=\ { 0 \| 1 \ > **}** ;
* * *
Table 10.4.12.2: INTEGRITY_PROTECTION_ACTIVATION_INFO Variable details
* * *
**Integrity Protection Activation Info** \ This IE is defined in sub-clause
9.3.37.
* * *
### 10.4.13 INTEGRITY_PROTECTION_INFO
This variable contains information about the current status of the integrity
protection in the MS. When performing handover or cell reselection to UTRAN
the value of this variable is transferred to the corresponding UTRAN variable
_._ When performing handover or cell reselection from UTRAN the value of this
variable is transferred from the corresponding UTRAN variable _._
Table 10.4.13.1: INTEGRITY_PROTECTION_INFO Variable
+----------------------------------------------------------------------+ | \ ::=\ | | { | | | | \ | | | | \ | | | | \ | | | | { 0 -- Cleared when entering or leaving the RRC-Connected mode | | | | \| 1 \ | | | | { -- Signalling SRB1 and upwards | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | } * (1+val(Signalling RB Specific Integrity Protection Information | | List)) | | | | } | | | | } ; | +----------------------------------------------------------------------+
Table 10.4.13.2: INTEGRITY_PROTECTION_INFO Variable details
+----------------------------------------------------------------------+ | **Historical Status** (1 bit field) | | | | bit\ | | 1\ | | 0 Never been active -- set when entering the RRC-Connected mode\ | | 1 Has been active | +----------------------------------------------------------------------+ | **Status** (1 bit field) | | | | bit\ | | 1\ | | 0 Not Started - when leaving the RRC-Connected mode\ | | 1 Started - when entering the RRC-Connected mode | +----------------------------------------------------------------------+ | **Reconfiguration** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when leaving or entering the RRC Connected Mode\ | | 1 True - an RRC procedure performing reconfiguration of ciphering is | | ongoing | +----------------------------------------------------------------------+ | **Signalling RB Specific Integrity Protection Information** **List** | | (3 bit field)\ | | This field is used to repeat information for each SRB with specific | | integrity protection information. Range : 0 to maxSRBsetup-1, where | | 0 enables one SRB with specific integrity protection informationto | | be described. | +----------------------------------------------------------------------+ | **Uplink RRC HFN** (28 bit field)\ | | **Downlink RRC HFN** (28 bit field)\ | | The field indicates the RRC HFN. | +----------------------------------------------------------------------+ | **Uplink RRC Message Sequence Number** (4 bit field)\ | | **Downlink RRC Message Sequence Number** (4 bit field)\ | | This field is the binary representation of the sequence number of | | the RRC message. Range 0 to 15. | +----------------------------------------------------------------------+
### 10.4.14 INVALID_CONFIGURATION
This variable indicates whether a received message contained an invalid
configuration, by means of invalid values or invalid combinations of
information elements.
Table 10.4.14.1: INVALID_CONFIGURATION Variable
* * *
\ ::=\ \** ;
* * *
Table 10.4.14.2: INVALID_CONFIGURATION Variable details
+-------------------------------------------------------------+ | **Invalid Configuration** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when entering or leaving the RRC-Connected mode.\ | | 1 True -- an invalid configuration has been detected | +-------------------------------------------------------------+
### 10.4.14a LATEST_CONFIGURED_CN_DOMAIN
This variable stores the CN-domain that was most recently configured to be
used for ciphering and integrity protection. When performing handover or cell
reselection to UTRAN the value of this variable is transferred to the
corresponding UTRAN variable _._ When performing handover or cell reselection
from UTRAN the value of this variable is transferred from the corresponding
UTRAN variable
Table 10.4.14a.1: LATEST_CONFIGURED_CN_DOMAIN Variable
* * *
\ ::=\ { 0 \| 1 \ > **}** ;
* * *
Table 10.4.14a.2: LATEST_CONFIGURED_CN_DOMAIN Variable details
* * *
**Latest configured CN domain** \ The _CN Domain Identity_ IE is defined in
sub-clause 9.3.15. The variable is cleared when entering GERAN RRC connected
mode when not stated otherwise in the procedure or when leaving GERAN RRC
connected mode.
* * *
### 10.4.15 MS_CAPABILITY_REQUESTED
This variable stores information about the MS/UE capabilities that have been
requested by GERAN but that have not yet been transferred to GERAN. This
variable is cleared when entering or leaving the RRC-Connected mode.
Table 10.4.15.1: MS_CAPABILITY_REQUESTED Variable
+----------------------------------------------------------------------+ | \ ::=\ | | \ > | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} ; | +----------------------------------------------------------------------+
Table 10.4.15.2: MS_CAPABILITY_REQUESTED Variable details
* * *
**MS GERAN Iu mode Radio Access Capability\** This IE is defined in sub-clause
9.3.45.
**MS GERAN A/Gb mode Radio Access Capability\** This IE is defined in sub-
clause 9.3.44.
**UE UTRAN Radio Access Capability\** This IE is defined in sub-clause
9.3.108.
**UE UTRAN Radio Access Capability Extension\** This IE is defined in sub-
clause 9.3.109.
**UE CDMA2000 Radio Access Capability\** This IE is defined in sub-clause
9.3.110.
* * *
### 10.4.16 MS_CAPABILITY_TRANSFERRED
This variable stores information about which UE/MS capabilities that have been
transferred to GERAN. This variable is cleared when entering or leaving the
RRC-Connected mode when not stated otherwise in the procedure. When performing
handover or cell reselection to UTRAN the value of this variable is
transferred to the corresponding UTRAN variable _._ When performing handover
or cell reselection from UTRAN the value of this variable is transferred from
the corresponding UTRAN variable _._
Table 10.4.16.1: MS_CAPABILITY_TRANSFERRED Variable
+----------------------------------------------------------------------+ | \ ::=\ | | \ > | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} | | | | { 0 \| 1 \ >} ; | +----------------------------------------------------------------------+
Table 10.4.16.2: MS_CAPABILITY_TRANSFERRED Variable details
* * *
**MS GERAN Iu mode Radio Access Capability\** This IE is defined in sub-clause
9.3.45.
**MS GERAN A/Gb mode Radio Access Capability\** This IE is defined in sub-
clause 9.3.44.
**UE UTRAN Radio Access Capability\** This IE is defined in sub-clause
9.3.108.
**UE UTRAN Radio Access Capability Extension\** This IE is defined in sub-
clause 9.3.109.
**UE CDMA2000 Radio Access Capability\** This IE is defined in sub-clause
9.3.110.
* * *
### 10.4.17 ORDERED_RECONFIGURATION
This variable stores information about an ongoing Reconfiguration procedure.
Table 10.4.17.1: ORDERED_RECONFIGURATION Variable
* * *
\ ::=\ \** ;
* * *
Table 10.4.17.2: ORDERED_RECONFIGURATION Variable details
+-------------------------------------------------------------+ | **Ordered reconfiguration** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when entering or leaving the RRC-Connected mode.\ | | 1 True -- reconfiguration procedure is ongoing. | +-------------------------------------------------------------+
### 10.4.18 PDCP_SN_INFO
This variable contains PDCP receive sequence numbers for one or several radio
bearers to be included in a response message to GERAN. This variable is
cleared when entering or leaving the RRC-Connected mode.
Table 10.4.18.1: PDCP_SN_INFO Variable
+----------------------------------------------------------------------+ | \ ::=\ | | { 0 \| 1 \ | | | | \ | | > * (1 + val(RB with PDCP Information List) ) }; | +----------------------------------------------------------------------+
Table 10.4.18.2: PDCP_SN_INFO Variable details
* * *
**RB with PDCP Information List** (5 bit field)\ This field used to repeat
information for each RB with PDCP Information. Range : 0 to maxRBallRABs-1,
where 0 enables one RB with PDCP Information to be described. Other values are
reserved.
**RB with PDCP Information** \ This IE is defined in sub-clause 9.3.86.
* * *
### 10.4.19 PROTOCOL_ERROR_INDICATOR
This variable indicates whether there exist a protocol error that is to be
reported to GERAN. This variable is cleared when entering or leaving the RRC-
Connected mode.
Table 10.4.19.1: PROTOCOL_ERROR_INDICATOR Variable
* * *
\ ::=\ \ >** ;
* * *
Table 10.4.19.2: PROTOCOL_ERROR_INDICATOR Variable details
* * *
**Protocol Error Indicator** \ This IE is defined in sub-clause 9.3.70.
* * *
### 10.4.20 PROTOCOL_ERROR_INFORMATION
This variable contains diagnostics to be reported to GERAN for a message that
was not completely understood. This variable is cleared when entering or
leaving the RRC-Connected mode.
Table 10.4.20.1: PROTOCOL_ERROR_INFORMATION Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.20.2: PROTOCOL_ERROR_INFORMATION Variable details
* * *
**Protocol Error Information** \ This IE is defined in sub-clause 9.3.71.
* * *
### 10.4.21 PROTOCOL_ERROR_REJECT
This variable indicates whether there has occurred a severe protocol error
causing the ongoing procedure to fail.
Table 10.4.21.1: PROTOCOL_ERROR_REJECT Variable
* * *
\ ::=\ \** ;
* * *
Table 10.4.21.2: PROTOCOL_ERROR_REJECT Variable details
+-------------------------------------------------------------+ | **Protocol Error Reject** (1 bit field) | | | | bit\ | | 1\ | | 0 False - when entering or leaving the RRC-Connected mode.\ | | 1 True - a severe protocol error has occurred. | +-------------------------------------------------------------+
### 10.4.22 RB_TIMER_INDICATOR
This variable contains information to be sent to GERAN if any of the timers
T314 or T315 has expired when the MS sends a cell update with cause RL
failure. This variable is cleared when entering or leaving the RRC-Connected
mode.
Table 10.4.22.1: RB_TIMER_INDICATOR Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.22.2: RB_TIMER_INDICATOR Variable details
* * *
**RB Timer Indicator** \ This IE is defined in sub-clause 9.3.85.
* * *
### 10.4.23 RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO
This variable contains information to be sent to GERAN about when a new
ciphering configuration shall be activated in the uplink for radio bearers
using RLC-AM or RLC-UM. This variable is cleared when entering or leaving the
RRC-Connected mode.
Table 10.4.23.1: RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.23.2: RB_UPLINK_CIPHERING_ACTIVATION_TIME_INFO Variable details
* * *
**RB Uplink Ciphering Activation Time Info** \ This IE is defined in sub-
clause 9.3.77.
* * *
### 10.4.24 START_THRESHOLD
This variable contains information about the maximum allowed value of the
START for a CN domain. This variable is cleared when entering or leaving the
RRC-Connected mode. When performing handover or cell reselction to UTRAN the
value of this variable is transferred to the corresponding UTRAN variable _._
When performing handover or cell reselction from UTRAN the value of this
variable is transferred from the corresponding UTRAN variable
Table 10.4.24.1: START_THRESHOLD Variable
* * *
\ ::=\ { 0 \| 1 \ }** ;
* * *
Table 10.4.24.2: START_THRESHOLD Variable details
* * *
**Threshold** (20 bit field)\ This field is the binary representation of
maximum allowed value of the START for a CN domain. Range: 0 to 1048575.
* * *
### 10.4.25 START_VALUE_TO_TRANSMIT
This variable contains the value of START for new radio bearer(s) to be
transmitted in a response message. This variable is cleared when entering or
leaving the RRC-Connected mode. When performing handover or cell reselction to
UTRAN the value of this variable is transferred to the corresponding UTRAN
variable. When performing handover or cell reselection from UTRAN the value of
this variable is transferred from the corresponding UTRAN variable
Table 10.4.25.1: START_VALUE_TO_TRANSMIT Variable
* * *
\ ::=\ { 0 \| 1 \ > }** ;
* * *
Table 10.4.25.2: START_VALUE_TO_TRANSMIT Variable details
* * *
**START** \ This IE is defined in sub-clause 9.3.102.
* * *
### 10.4.26 TRANSACTIONS
This variable stores the identifications of the ongoing RRC procedure
transactions. This variable is cleared when leaving the RRC Connected mode.
Table 10.4.26.1: TRANSACTIONS Variable
+----------------------------------------------------------------------+ | \ ::=\ | | { 0 \| 1 \** | | | | { \ **>** | | | | \ **>** | | | | **} * (1+val(** Accepted Transactions List)) | | | | } | | | | { 0 \| 1 \** | | | | { \ **>** | | | | \ **>** | | | | **} * (1+val(** Rejected Transactions List)) | | | | **}** ; | +----------------------------------------------------------------------+
Table 10.4.26.2: TRANSACTIONS Variable details
* * *
**Accepted Transactions List** (5 bit field)\ **Rejected Transactions List**
(5 bit field)\ These fields are used to repeat information for each accepted
or rejected transations respectively. Range: 0 to maxTransactions-1, where 0
enables one transaction to be described.
**Message Type** \ This IE is defined in sub-clause 9.2.1.
**RRC Transaction Identifier** \ This IE is defined in sub-clause 9.3.98.
* * *
### 10.4.27 TIMERS_AND_CONSTANTS
This variable contains the values for all timers and constants used in RRC-
Connected mode.
Table 10.4.27.1: TIMERS_AND_CONSTANTS Variable
* * *
\ ::=\ \ > ;
* * *
Table 10.4.27.2: TIMERS_AND_CONSTANTS Variable details
* * *
**MS Timers and Constants In Connected Mode** \ This IE is defined in sub-
clause 9.3.51. All parameters are set to the default value when leaving the
GERAN Iu to another RAT.
* * *
### 10.4.28 UNSUPPORTED_CONFIGURATION
This variable indicates whether a received message contained a configuration
that is not supported by the MS.
Table 10.4.27.1: UNSUPPORTED_CONFIGURATION Variable
* * *
\ ::=\ \ ;
* * *
Table 10.4.27.2: UNSUPPORTED_CONFIGURATION Variable details
+-------------------------------------------------------------+ | **Unsupported Configuration** | | | | bit\ | | 1\ | | 0 False - when entering or leaving the RRC-Connected mode.\ | | 1 True - an unsupported configuration has been detected. | +-------------------------------------------------------------+
### 10.4.29 SECURITY_MODIFICATION
This variable contains information on which CN domain is affected by the
ongoing security reconfiguration.When performing handover to UTRAN the value
of this variable is transferred to the corresponding UTRAN variable _._ When
performing handover from UTRAN the value of this variable is transferred from
the corresponding UTRAN variable _._
Table 10.4.29.1: SECURITY_MODIFICATION Variable
+-----------------------------------------------------------------+ | \ ::=\ | | { 0 \| 1 \** | | | | { \ **>** | | | | \** | | | | **} * (1+val(** Status for each CN domain**))** | | | | } ; | +-----------------------------------------------------------------+
Table 10.4.29.2: SECURITY_MODIFICATION Variable details
+----------------------------------------------------------------------+ | **Status for each CN domain** (2 bit field)**\ | |** This field is used to repeat the status for each CN domain. Range | | : 0 to maxCNdomains-1, where 0 enables one status of CN domain to be | | described. | +----------------------------------------------------------------------+ | **CN Domain Identity** \ | | This IE is defined in sub-clause 9.3.15. | +----------------------------------------------------------------------+ | **Status** (1 bit field) | | | | bit\ | | 1\ | | 0 Not affected\ | | 1 Affected | +----------------------------------------------------------------------+
# 11 Specific functions
## 11.1 Provision and reception of RRC information between network nodes
### 11.1.1 General
In certain cases, e.g., when performing handover to GERAN or when performing
SBSS relocation, RRC information may need to be transferred between GERAN
nodes, between GERAN and another RAT, between nodes within another RAT or
between the MS and another RAT.
The RRC information exchanged between network nodes or between the MS and
another RAT is typically transferred by means of RRC information containers.
An RRC information container is a self-contained and extensible RRC
information unit that may be used to transfer a number of different RRC
messages, one at a time. As stated before, RRC information containers may be
used to transfer RRC messages across interfaces other than the Um interface.
The RRC messages that may be included in RRC information containers have
similar characteristics as the RRC messages that are transferred across the Um
interface.
The RRC messages tht are sent to/ from the MS, e.g RADIO BEARER
RECONFIGURATION, INTER SYSTEM TO UTRAN HANDOVER COMMAND HANDOVER FROM GERAN Iu
MODE COMMAND are covered by (sub)clauses 7 and 9 of this specification. The
following sub-clauses concern RRC messages exchanged between network nodes.
In future versions of this specification, it is possible to extend the RRC
messages transferred across interfaces other than Um. For these RRC messages
the same extension mechanism applies as defined for RRC messages transferred
across the Um interface, as is specified in sub-clause 9, i.e., both critical
and non-critical extensions may be added.
The transfer syntax for RRC information containers and RRC messages
transferred between network nodes is derived from the description used in the
target node. The resulting bit or octet string is, carried in a container,
transferred between the network nodes.
When using a separate RRC information container for each endpoint, the
receiving RRC protocol entity is able to interpret the received container;
this means that the receiver need not take into account information about the
(network interface) message used in transferring the container.
### 11.1.2 General error handling for RRC messages exchanged between network
nodes
The error handling for RRC messages that are exchanged between network nodes
applies the same principles as defined for other RRC messages.
Although the same principles apply for network nodes receiving unknown,
unforeseen and erroneous RRC messages received in RRC information containers,
the notification of the error should be done in a different manner, as
specified in the following:
The network node receiving an invalid RRC message from another network node
should:
1> if the received RRC message was unknown, unforeseen or erroneous:
2> prepare an RRC FAILURE INFO message, including the IE \"_Failure Cause_ \"
set to \"Protocol error\" and the IE \"Protocol error information\" including
an IE \"_Protocol Error Cause_ \" which should be set as follows:
3> to \"CSN.1 violation or encoding error\" upon receiving an RRC message for
which the encoded message does not result in any valid c syntax value;
3> to \"Message type non-existent or not implemented\" upon receiving an
unknown RRC message type;
3> to \"Message extension not comprehended\" upon receiving an RRC message
including an undefined critical message extension;
3> to \"Information element value not comprehended\" upon receiving an RRC
message including an mandatory IE for which no default value is defined and
for which either the value is set to spare or for which the encoded IE does
not result in a valid transfer syntax. The same applies for conditional IEs,
for which the conditions for presence are met, the IE is present but has a
value set to spare or for which the encoded IE does not result in a valid
transfer syntax;
3> to \"Information element missing\" upon receiving an RRC information
container with an absent conditional IE for which the conditions for presence
are met.
1> if there was another failure to perform the operation requested by the
received RRC message:
2> prepare an RRC FAILURE INFO message, including the IE \"_Failure Cause_ \"
set to a value that reflects the failure cause.
1> send the RRC FAILURE INFO message to the network node from which the
invalid RRC protocol information was received.
NOTE 1: The appropriate (failure) messages used across the network interfaces
may not support the inclusion of a RRC information container. In this case,
the information contained in the RRC FAILURE INFO message may need to be
transferred otherwise e.g. by mapping to a cause value (e.g. a cause value in
the RR-HANDOVER FAILURE message when there is a error associated with the RRC-
RADIO BEAERER RECONFIGURATION message).
NOTE 2 In case the RRC procedure used to perform SBSS relocation fails e.g.
due to non comprehension, the source BSS may notify the target BSS by
including the diagnostics information (IEs \"Protocol error\" and \"Protocol
error information\") in the \"RRC message \"SBSS Relocation\" Info sent in the
RRC information container\" used for a subsequent relocation request.
### 11.1.3 RRC Information to target GERAN Iu mode BSS
The RRC information container \"RRC Information to target GERAN Iu mode BSS\"
may either be sent from source GERAN Iu mode BSS or from another RAT. In case
of Handover to GERAN, this information originates from another RAT, while in
case of SBSS relocation the RRC information originates from the source BSS. In
case of handover to GERAN, the RRC information transferred may provide GERAN
specific information, as defined in the INTER RAT HANDOVER INFO WITH INTER RAT
CAPABILITIES message, that the target BSS needs when preparing the handover
command message. In case of SBSS relocation, the RRC information transferred
specifies the configuration of RRC and the lower layers it controls, e.g.,
including the radio bearer and RLC configuration. It is used by the target BSS
to initialise RRC and the lower layer protocols to facilitate SBSS relocation
in a manner transparent to the MS.
Table 11.1.3.1: RRC INFORMATION TO TARGET GERAN IU MODE BSS information
elements
+----------------------------------------------------------------------+ | \ | | ::= | | | | { 0 -- _critical extension escape available_ | | | | { | | | | { 00 \ > | | | | \| 01 \ > | | | | \| 10 \ | | | | ! \ > } -- | | _reserved for future extension_ | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 11.1.3.2: RRC INFORMATION TO TARGET GERAN IU MODE BSS information
element details
* * *
**INTER RAT or MODE HANDOVER INFO WITH MS CAPABILITIES** \ This message is
defined in sub-clause 11.1.5.
**SBSS RELOCATION INFO** \ This message is defined in sub-clause 11.1.5.
**RFC3095 CONTEXT INFO** \ This message is defined in sub-clause 11.1.5.3
* * *
### 11.1.4 RRC information, target BSS to source BSS
There are 2 possible cases for BSS relocation:
1 The MS is already under control of target BSS; and
2 The SBSS Relocation with Handover (MS still under control of SBSS), but MS
is moving to a location controlled by the target BSS (based on measurement
information).
In case 1 the relocation is transparent to the MS and there is no \"reverse\"
direction container. The SBSS just assigns the \'serving\' function to the
target BSS, which then becomes the Serving BSS.
In case 2 the relocation is initiated by SBSS, which also provides the RRC
INFORMATION TO TARGET GERAN IU MODE BSS Container to the target BSS. Based
upon this information, the target BSS prepares the RADIO BEARER
RECONFIGURATION Message.
The source BSS then transmits the Handover Message to the MS, which then
performs the handover.
In the successful case, the MS transmits a RADIO BEARER RECONFIGURATION
COMPLETE message, using the new configuration, to the target BSS.
In case of failure, the MS transmits an RADIO BEARER RECONFIGURATION FAILURE,
using the old configuration, to the source BSS and the RRC context remains
unchanged (has to be confirmed and checked with the SBSS relocation
procedure).
Table 11.1.4.1: RRC Information Target BSS To Souce BSS information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { 0 -- _critical extension escape available_ | | | | { 00 \ > | | | | \| 01 \ > | | | | ! \ > } -- | | _reserved for future extension_ | | | | ! \ > } | | | | ! \ >} ; | +----------------------------------------------------------------------+
Table 11.1.4.2: RRC Information Target BSS To Souce BSS information element
details
* * *
**RADIO BEARER RECONFIGURATION** \ This message is defined in sub-clause
9.3.28
**RRC FAILURE INFO** \ This message is defined in sub-clause 9.3.44
* * *
### 11.1.5 RRC messages exchanged between network nodes
#### 11.1.5.0 RADIO BEARER RECONFIGURATION
This RRC message is sent between network nodes to transfer the actual RADIO
BEARER RECONFIGURATION message including the details of the radio
configuration to be used upon handover to GERAN as compiled by the target BSS.
Direction: target BSS →source RAT
The message is exactly the same as the RADIO BEARER RECONFIGURATION defined in
sub-clause 9.2.29.
#### 11.1.5.1 INTER RAT or MODE HANDOVER INFO WITH MS CAPABILITIES
This RRC message is sent between network nodes when preparing for an inter RAT
handover to GERAN.
Direction: source RAT→target BSS
Table 11.1.5.1.1: INTER RAT or MODE HANDOVER INFO WITH MS CAPABILITIES
elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | _\-- MS Information Elements_ | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 11.1.5.1.2: INTER RAT or MODE HANDOVER INFO WITH MS CAPABILITIES element
details
* * *
**MS GERAN Iu mode Radio Access Capability\** This IE is defined in sub-clause
9.3.45.
**MS GERAN A/Gb mode Radio Access Capability\** This IE is defined in sub-
clause 9.3.44.
**UE UTRAN Radio Access Capability\** This IE is defined in sub-clause
9.3.108.
**UE UTRAN Radio Access Capability Extension\** This IE is defined in sub-
clause 9.3.109.
**UE CDMA2000 Radio Access Capability** \ This IE is defined in sub-clause
9.3.110.
**MultiRate configuration IE\** This IE is defined in sub-clause 9.3.52. If
the present speech codec is a multi-rate speech codec, the old BSS may inform
the new BSS of the current multi-rate codec configuration by including the
MultiRate configuration information element in the RRC INFORMATION TO TARGET
GERAN IU MODE BSS message.
* * *
#### 11.1.5.2 SBSS RELOCATION INFO
This RRC message is sent between network nodes when preparing for an SBSS
relocation or a handover from UTRAN to GERAN _Iu mode_.
Direction: source RAT→target BSS.
Table 11.1.5.2.1: SBSS RELOCATION INFO information elements
+----------------------------------------------------------------------+ | \ ::= | | | | { | | | | _\-- MS Information Elements_ | | | | \ > | | | | \ | | | | _\-- Ciphering related information_ | | | | { 00 \ > | | | | \| 01 \ > | | | | \| 10 \ > | | | | \| 11 \ >} | | | | \ >\ | | \ >\ | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \> } | | | | { 0 \| 1 \ > } | | | | \ > | | | | \ > | | | | \ | | | | { \ > | | | | \ > | | | | \ > } | | | | { 0 \| 1 \ | | | | \ > *(1+val(Signalling RB Information to | | Setup List)) | | | | { 0 \| 1 \ | | | | \ > *(1+val(RAB Information for Setup List)) } | | | | { 0 \| 1 \ | | | | \ >*(1+val(RAB Information to Reconfigure List)) } | | | | { 0 \| 1 \ | | | | \ > }*(1+val(RB Information to Reconfigure List)) | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ > } | | | | { null \| 0 bit** = \ | | | | \| 1--_Release_ 6 additions, non-critical extention | | | | { | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | { \ > } }*(1 + val( Added or | | Reconfigured UL TrCH information list ) ) | | | | { 0 \| 1 \ > } | | | | { 0 \| 1 \ | | | | { \ > } }*(1 + val( Added or | | Reconfigured DL TrCH information list ) ) | | | | } }; | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 11.1.5.2.2: SBSS RELOCATION INFO information element details
+-----------------------------------------------------------------+---+ | **RRC State Indicator** \ | | | This IE is defined in sub-clause 9.3.97. | | +-----------------------------------------------------------------+---+ | **State of RRC procedure (4 bit field)\ | | | This IE describes the state of the RRC procedure started in the | | | source cell (i.e. RB reconfiguration) as follows:** | | | | | | bit | | | | | | 4 3 2 1 | | | | | | 0 0 0 0 Await no RRC message | | | | | | 0 0 0 1 Complete | | | | | | 0 0 1 0 Await RB Setup Complete | | | | | | 0 0 1 1 Await RB Reconfiguration Complete | | | | | | 0 1 0 0 Await RB Release Complete | | | | | | 0 1 0 1 Send Cell Update Confirm | | | | | | 0 1 1 0 Send URA Update Confirm | | | | | | All other values are reserved | | +-----------------------------------------------------------------+---+ | **GERAN A/Gb Security Info\ | | |** This IE is defined in sub-clause 11.2. | | +-----------------------------------------------------------------+---+ | **GERAN Iu or UTRAN Security Info\ | | |** This IE is defined in sub-clause 11.2. | | +-----------------------------------------------------------------+---+ | **MS GERAN Iu mode Radio Access Capability\ | | |** This IE is defined in sub-clause 9.3.45. | | +-----------------------------------------------------------------+---+ | **MS GERAN A/Gb mode Radio Access Capability\ | | |** This IE is defined in sub-clause 9.3.44. | | +-----------------------------------------------------------------+---+ | **UE UTRAN Radio Access Capability\ | | |** This IE is defined in sub-clause 9.3.108. | | +-----------------------------------------------------------------+---+ | **UE UTRAN Radio Access Capability Extension\ | | |** This IE is defined in sub-clause 9.3.109. | | +-----------------------------------------------------------------+---+ | **UE CDMA2000 Radio Access Capability** \ | | | This IE is defined in sub-clause 9.3.110. | | +-----------------------------------------------------------------+---+ | **Ciphering status for each CN domain** (2 bit field)\ | | | This field is the binary representation of the number of CN | | | domains. Range : 0 to maxCNdomains-1. | | +-----------------------------------------------------------------+---+ | **Ciphering Status** (1 bit field)\ | | | This field indicates the status of ciphering for the CN domain\ | | | bit\ | | | 1\ | | | 1 Ciphering started\ | | | 0 Ciphering not started. | | +-----------------------------------------------------------------+---+ | **START** \ | | | This IE is defined in sub-clause 9.3.102. | | +-----------------------------------------------------------------+---+ | **TDMAFN** (22 bit field)\ | | | This field is the binary representation of the TDMA Frame | | | Number. The description of the TDMA Frame Number is in | | | 3GPP TS 45.002. | | +-----------------------------------------------------------------+---+ | **CN Domain Identity** \ | | | This IE is defined in sub-clause 9.3.15. | | +-----------------------------------------------------------------+---+ | **Calculation time for ciphering related information** (??? bit | | | field)\ | | | This field contains the time when the ciphering information of | | | the message were calculated, relative to the intended target | | | cell of the target BSS | | +-----------------------------------------------------------------+---+ | **G-RNTI IE\ | | |** This IE is defined in sub-clause 9.3.32. | | +-----------------------------------------------------------------+---+ | **GRA Identity** \ | | | This IE indicates the GRA ID as defined in sub-clause 9.3.30. | | +-----------------------------------------------------------------+---+ | **CN Common GSM-MAP NAS System Info** \ | | | The _NAS System Information GSM-MAP_ IE is defined in | | | sub-clause 9.3.55. | | +-----------------------------------------------------------------+---+ | **Length of CN Domain Related Information** (2 bit field)\ | | | This field is used to calculate the number of CN domains | | | included in this IE. Range : 0 to MaxCNdomains-1. | | +-----------------------------------------------------------------+---+ | **CN Domain Specific GSM-MAP NAS System Info** \ | | | The _NAS System Information GSM-MAP_ IE is defined in | | | sub-clause 9.3.55. | | +-----------------------------------------------------------------+---+ | **CN Domain Specific DRX Cycle Length Coefficient\ | | |** The **_CN Domain Specific DRX Cycle Length Coefficient_** IE | | | is defined in sub-clause 9.3.16. | | +-----------------------------------------------------------------+---+ | **Signalling RB Information to Setup List** (3 bit field)\ | | | This field is the binary representation of the number of SRB to | | | setup. Range : 0 to maxSRBsetup-1. | | +-----------------------------------------------------------------+---+ | **Signalling RB Information to Setup** \ | | | This IE is present for each SRB to establish. This IE is | | | defined in sub-clause 9.3.101. | | +-----------------------------------------------------------------+---+ | **RAB Information for Setup List** (4 bit field)\ | | | This field is the binary representation of the number of RAB to | | | setup. Range : 0 to maxRABsetup-1. | | +-----------------------------------------------------------------+---+ | **RAB Information for Setup** \ | | | This IE is present for each signalling RAB to establish. This | | | IE is defined in sub-clause 9.3.75. | | +-----------------------------------------------------------------+---+ | **RAB Information to Reconfigure List** (4 bit field)\ | | | This field is the binary representation of the number of RAB to | | | reconfigure. Range : 0 to maxRABsetup-1. | | +-----------------------------------------------------------------+---+ | **RAB Information to Reconfigure** \ | | | This IE is defined in sub-clause 9.3.76. | | +-----------------------------------------------------------------+---+ | **RB Information to Reconfigure List** (5 bit field)\ | | | This field is the binary representation of the number of RB to | | | reconfigure. Range : 0 to maxRB-1. | | +-----------------------------------------------------------------+---+ | **RB Information to Reconfigure** \ | | | This IE is defined in sub-clause 9.3.82. | | +-----------------------------------------------------------------+---+ | **MultiRate Configuration IE\ | | |** This IE is defined in sub-clause 9.3.52. If the present | | | speech codec is a multi-rate speech codec, the old BSS may | | | inform the new BSS of the current multi-rate codec | | | configuration by including the MultiRate configuration | | | information Field Element in the RRC INFORMATION TO TARGET | | | GERAN IU MODE BSS message. | | +-----------------------------------------------------------------+---+ | **Failure Cause and Error Information** \ | | | The _Failure Cause and Error Information_ IE is defined in | | | sub-clause 9.3.25. | | +-----------------------------------------------------------------+---+ | **UL TrCH Information Common For All Transport Channels\ | | |** The IE _UL TrCH Information Common For All Transport | | | Channels_ is defined in sub-clause 9.3.134. | | +-----------------------------------------------------------------+---+ | **Added or Reconfigured UL TrCH information List** (3 bit | | | field)**\ | | |** This field is used to repeat information on each TrCH to be | | | added or reconfigured in UL. Range: 0 to maxTrCH-1, where 0 | | | enables one TrCH to be described. | | +-----------------------------------------------------------------+---+ | **Added or Reconfigured UL TrCH Information\ | | |** The IE _Added or Reconfigured UL TrCH information_ IE is | | | defined in sub-clause 9.3.122. | | +-----------------------------------------------------------------+---+ | **DL TrCH Information Common For All Transport Channels\ | | |** The IE _DL TrCH Information Common For All Transport | | | Channels_ is defined in sub-clause 9.3.125. | | +-----------------------------------------------------------------+---+ | **Added or Reconfigured DL TrCH information List** (3 bit | | | field)**\ | | |** This field is used to repeat information on each TrCH to be | | | added or reconfigured in DL. Range: 0 to maxTrCH-1, where 0 | | | enables one TrCH to be described. | | +-----------------------------------------------------------------+---+ | **Added or Reconfigured DL TrCH Information\ | | |** The IE _Added or Reconfigured DL TrCH information_ is defined | | | in sub-clause 9.3.121. | | +-----------------------------------------------------------------+---+
#### 11.1.5.3 RFC 3095 CONTEXT INFO
This RRC message is sent between network nodes in SBSS/SRNS or SBSS/SBSS
relocation. It is used to transfer the compressor and decompressor context
information of the RFC 3095 protocol.
Direction: source BSS →target BSS/RNC
Table 11.1.5.3.1: RFC 3095 CONTEXT INFO information elements
+-------------------------------------------------------+ | \ ::= | | | | \ | | | | { \ > | | | | \ | | | | { | | | | { 0 \| 1 -- Downlink RFC 3095 context | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { \ | | | | \| \ } | | | | } | | | | { 0 \| 1 -- Uplink RFC 3095 context | | | | \ | | | | \ | | | | \ | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | { 0 \| 1 \ } | | | | } | | | | }*(1 + val(RFC 3095 Context List)) | | | | }*(1 + val(RB with RFC 3095 Context List)); | +-------------------------------------------------------+
Table 11.1.5.3.2: RFC 3095 CONTEXT INFO information elements details
+----------------------------------------------------------------------+ | **RB with RFC 3095 Context List** (5 bit field)\ | | This field is the binary representation of the number of Radio | | Bearers with RFC 3095 context information. | | | | Range: 0 to maxRBallRABs - 1. | +----------------------------------------------------------------------+ | **RB Identity** \ | | This IE is defined in sub-clause 9.3.80. | +----------------------------------------------------------------------+ | **RFC 3095 Context List** (14 bit field)\ | | This field is the binary representation of the number of the RFC | | 3095 contexts for this Radio Bearer. | | | | Range: 0 to maxRFC3095-CID - 1. | +----------------------------------------------------------------------+ | **Downlink RFC 3095 Context Identity** (14 bit field)\ | | **Uplink RFC 3095 Context Identity** (14 bit field)\ | | This field represents the identity of the RFC 3095 in respectively | | Downlink and Uplink. | +----------------------------------------------------------------------+ | **REF_IR (** 3000 octet string field**)\ | |** This field corresponds to the RTP IR header (see sub-clause 5.7.7 | | of RFC3095 for detailed format) corresponding to the oldest header | | in the compressor sliding window. | +----------------------------------------------------------------------+ | **RF_TIME** (32 bit field)**\ | |** This field corresponds to the arrival time (at the compressor) of | | REF_IR in milliseconds. See sub-clauses 4.5.4 and 6.5.1 of IETF | | RFC3095. | +----------------------------------------------------------------------+ | **SYN_SLOPE_TS** (32 bit field)**\ | |** This field corresponds to the last synchronized slope of TS. See | | sub-clauses 5.5.1.2 and 5.7 of IETF RFC3095. In SO state, TS(n) = | | TS(m) + (n-m) * SYN_SLOPE_TS, where n and m is the RTP SN of | | current packet and the reference packet. Note that the unit of | | SYN_SLOPE_TS depends on whether TS is scaled before compression or | | not. | +----------------------------------------------------------------------+ | **DYN_CHANGED** (1 bit field)\ | | This field corresponds to the information whether dynamic fields | | other than RTP SN, RTP TS and IP-ID have changed in the headers that | | are stored in the sliding window. Set to TRUE if changed and FALSE | | if not changed. | | | | bit\ | | 1\ | | 0 DYN_CHANGED not supported\ | | 1 DYN_CHANGED supported | +----------------------------------------------------------------------+ | **SYN_OFFSET_ID** (16 bit field)**\ | |** This field corresponds to the corresponds to the RTP Sequence | | Number of the predecessor of the latest RTP packet. This could be | | used to perform local repair of context by decompressor in U or O | | mode (see "ref - 1" in sub-clause 5.3.2.2.5 in IETF RFC3095 for | | further explanation). | +----------------------------------------------------------------------+ | **DL_MODE** (2 bit field)**\ | | UL_MODE** (2 bit field)**\ | |** This field represents the RFC 3095 mode in respectively Downlink | | and Uplink before the SBSS relocation. The optimal mode to operate | | in depends on the characteristics of the environment of the | | compression protocol, such as feedback abilities, error | | probabilities and distributions, effects of header size variation, | | etc. | | | | bit | | | | 1 0 | | | | 0 0 U-mode -- Unidirectional mode | | | | 0 1 O-mode -- Bidirectional Optimistic mode | | | | 1 0 R-mode -- Bidirectional Reliable mode | | | | 1 1 reserved | +----------------------------------------------------------------------+
## 11.2 Provision and reception of RRC security information between network
nodes
### 11.2.1 General
In certain cases, e.g., when performing handover or when performing SBSS
relocation, RRC security related information shall be transferred between
other RATs and GERAN or between GERAN nodes within GERAN.
The lengths of the RLC counters of non-transparent radio bearers are different
between GPRS (24bits) and EGPRS (20bits). The BSC shall set the HFN values
according the source cell (GPRS or EGPRS) and independent from the target cell
(UTRAN, GPRS or EGPRS).
In the following, the RRC security information to be transferred is separeted
into the three scenarious:
\- GERAN _A/Gb mode_ to GERAN _Iu mode_.
\- GERAN _Iu mode_ to GERAN _Iu mode_ or UTRAN to GERAN _Iu mode_.
### 11.2.2 RRC Security Information, from GERAN-A/Gb to GERAN-Iu
The START value is used to initialise the most significant bits of all the HFN
counters (MAC HFN, RLC AM HFN, RLC UM HFN, RRC HFN).
Direction: source: GERAN _A/Gb mode_ BSC →target GERAN _Iu mode_ BSC
Table 11.2.2.1: _GERAN A/Gb Security_ _Info_ information elements
+-------------------------------------------------------------+ | \::= | | | | { | | | | \ > | | | | \ > | | | | ! \ > } ; | +-------------------------------------------------------------+
Table 11.2.2.2: _GERAN A/Gb Security_ _Info_ information element details
* * *
**Start-CS** \ The _START_ IE is used to intialise the most significant bits
of all the HFN counters (MAC HFN, RLC AM HFN, RLC UM HFN, RRC HFN) for the CS
domain. The _START_ IE is defined in sub-clause 9.3.102.
**Start-PS** \ The _START_ IE is used to intialise the most significant bits
of all the HFN counters (MAC HFN, RLC AM HFN, RLC UM HFN, RRC HFN) for the PS
domain. The _START_ IE is defined in sub-clause 9.3.102.
* * *
### 11.2.3 RRC Security Information, from GERAN Iu mode/UTRAN to GERAN Iu mode
This IE contains security information required for continued communication
between the MS and GERAN after a handover or SRNS/SBSS relocation
Direction: source: BSC/RNC →target BSC
Table 11.2.3.1: _GERAN Iu or UTRAN Security Info_ information elements
+----------------------------------------------------------------------+ | \::= | | | | { | | | | \ | | | | { \ > | | | | \ }*(1+val(Ciphering status for | | each CN domain)) | | | | \ | | | | \ | | | | { \ > | | | | \ } *(1+val(Ciphering info for | | transparent RB)) | | | | \ | | | | { \ > | | | | \ > | | | | \ > }*(1+val(Ciphering info for | | non-transparent RB)) | | | | { \ | | | | { \ | | | | \ | | | | \ | | | | \ }*4 | | | | \ }*4 | | | | \| \ } | | | | ! \ > } ; | +----------------------------------------------------------------------+
Table 11.2.3.2: _GERAN Iu or UTRAN Security Info_ information element details
+----------------------------------------------------------------------+ | **Ciphering status for each CN domain** (2 bit field)**\ | |** This field is the binary representation of the number of repeated | | groups of fields and IEs. Range : 0 to maxCNdomains-1. | +----------------------------------------------------------------------+ | **CN Domain Identity** \ | | **This IE is defined in sub-clause 9.3**.115. | +----------------------------------------------------------------------+ | **Ciphering status** (1 bit field)\ | | This field indicates the ciphering status of the indicated CN | | Domain.\ | | Bit\ | | 1\ | | 0 Ciphering not started\ | | 1 Ciphering started | +----------------------------------------------------------------------+ | **Last Configuered CN Domain** (2 bit field)\ | | This field indicates the last configured CN Domain. This field is | | encoded as the CN Domain Identity in sub-clause 9.3.15 | +----------------------------------------------------------------------+ | **Ciphering info for transparent RB** (2 bit field)**\ | |** This field is the binary representation of the number of instances | | of ciphering info which is provided for transparent mode RLC RBs. | | Range : 0 to maxCNDomains-1. | +----------------------------------------------------------------------+ | **MAC-HFN** (11 bit field)\ | | This field contains the MAC-HFN. The MAC-HFN is defined as the 11 | | MSB of the COUNT-C value. | +----------------------------------------------------------------------+ | **Ciphering info for non-transparent RB** (5 bit field)\ | | This field is the binary representation of the number of | | non-transparent mode RLC RBs for which ciphering info is provided. | | Range : 0 to maxRB-1. | +----------------------------------------------------------------------+ | **DL HFN / UL HFN\ | |** The _RLC HFN_ IE is defined in 9.3.92. | +----------------------------------------------------------------------+ | **Integrity Protection status** (1 bit field)**\ | |** This field indicates the status of integrity protection in the | | current cell. The field is encoded:\ | | Bit\ | | 1\ | | 0 Integrity Protection not started\ | | 1 Integrity Protection started. | +----------------------------------------------------------------------+ | **SRB-Id** (2 bit field)\ | | This field defines the SRB Id for which the following integrity | | protection information applies: | | | | bit | | | | 2 1 | | | | 0 0 SRB1 | | | | 0 1 SRB2 | | | | 1 0 SRB3 | | | | 1 1 SRB4. | +----------------------------------------------------------------------+ | **UL / DL RRC HFN** (28 bit field)\ | | This field contains the RRC HFN in the indicated direction. For each | | SRB, in case the activation times for the next Integrity Protection | | configuration to be applied on this SRB have already been reached, | | this IE corresponds to the last value used. Else this value | | corresponds to the value the source would have initalized the HFN to | | at the activation time. Increment of HFN due to RRC SN roll over is | | taken care of by target based on the value sent by the source | +----------------------------------------------------------------------+ | **Uplink RRC Message Sequence Number** (4 bit field)\ | | This field is the binary representation of the RRC Sequence number | | for the indicated SRB. For each SRB, this IE corresponds to the last | | value received or in case the activation time was not reached for a | | configuration the value equals (activation time -1). Range 0-15. | +----------------------------------------------------------------------+ | **Downlink RRC Message Sequence Number** (4 bit field)\ | | This field is the binary representation of the RRC Sequence number | | for the indicated SRB. For each SRB, this IE corresponds to the last | | value used or in case the activation time was not reached for a | | configuration, to the value (activation time -1). In particular, for | | SRB2, this IE should not take into account the RRC message that will | | trigger the relocation Range 0-15. | +----------------------------------------------------------------------+
### 11.2.4 RRC Security Information, from GERAN Iu to UTRAN
NOTE: This information should be specified in 25.331 since UTRAN is the target
RAT.
## 11.3 HFN mapping rules for radio bearer using non-transparent mode RLC
The length of RLC counters in UTRAN (RLC-AM 20bits, RLC-UM 25bits) and GERAN-
Iu are different. In GERAN-Iu there are additional differences between GPRS
(RLC-AM and RLC-UM 24bits) and EGPRS (RLC-AM and RLC-UM 20bits).
The network nodes shall use the following HFN mapping rules when sending or
receiving HFN values within the RRC information containers:
1> the source network node shall set the HFN value as used in the source cell,
1> if the target network node receives an HFN value with the same length as
used in the target cell;
2> increment this HFN by 1; and
2> use this value as HFN in the target cell;
1> if the target network node receives an HFN which is longer than the one
used in the target cell;
2> take the MSBs as needed for the target cell;
2> increment this value by 1; and
2> use this value as HFN in the target cell;
1> if the target network node receives an HFN which is shorter than the one
used in the target cell;
2> increment this HFN by 1;
2> add a number of least significant zero bits as needed; and
2> use this value as HFN in the target cell.
## 11.4 Calculated Transport Format Combination
The CTFCs are used to signal the transport format combination set. Every
possible transport format combination shall uniquely be identified by one
CTFC, including transport format combinations, which are not members of the
transport format combination set.
Two formulas shall be used to define the CTFC. Let _I_ be the number of
transport channels that shall be included in the transport format combination.
Each transport channel TrCH _~i~_ , _i_ = 1, 2,..., _I_ , shall have _L~i~_
transport formats, i.e. the transport format indicator _TFIN~i~_ can take
_L~i~_ values, $\text{TFIN}_{i} \in \left{
0,1,2,\text{.}\text{.}\text{.},L_{i} - 1 \right}$. For each transport channel,
the transport format such that _TFIN~i~_ = 0 is the empty transport format.
_Define_ $P_{i} = \prod_{j = 0}^{i - 1}L_{j}$_, where i = 1, 2, ..., I, and
L~0~ = 1_
Let _TFC_(_TFIN~1~_ , _TFIN~2~_ , ..., _TFIN~I~)_ be the transport format
combination for which TrCH _~1~_ shall transport format _TFIN~1~_ , TrCH~2~
shall transport format _TFIN~2~_ , etc. The corresponding _CTFC_(_TFIN~1~_ ,
_TFIN~2~_ , ..., _TFIN~I~_) is then computed as:
$\text{CTFC}(\text{TFIN}_{1},\text{TFIN}_{2},\ldots,\text{TFIN}_{I}) = \sum_{i
= 1}^{I}\text{TFIN}_{i} \cdot P_{i}$
The transport format combination such that CTFC = 0 is the empty transport
format combination.
After computing the CTFC value for all allowed transport format combinations
(a CTFC is defined for all transport format combinations, but it is only
necessary to compute the CTFC for the allowed transport format combinations),
the CTFCs are signalled in order. The TFCIs are then assigned in the same
order, i.e. the first TFC signalled by its CTFC will correspond to TFCI = 0,
the next corresponds to TFCI = 1, etc.
In a Layer 3 signalling message, the CTFC values shall be encoded using a
variable size field, the size of which is the same for all values and depends
on the highest value to be signalled. The possible sizes are: 2 bits, 4 bits,
6 bits, 8 bits, 12 bits and 16 bits. The size of the fields is signalled in
the Layer 3 message.
## 11.5 Signalling TFC
One TFC shall be defined that shall be used for SRB data transfer and layer 2
signalling (see 3GPP TS 44.160). That TFC shall be the first one in the TFCS,
for which the TFCI equals 0. In that TFC, only one TrCH shall be active and
shall have the following transport format:
\- 184 bits transport blocks;
\- 18 bits CRC;
\- 256 for the RMA.
NOTE: The value of the RMA does not matter since there is only one active
TrCH.
#