# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document details the output of the combined 3GPP-3GPP2 spatial
channel model (SCM) ad-hoc group (AHG).
The scope of the 3GPP-3GPP2 SCM AHG is to develop and specify parameters and
methods associated with the spatial channel modelling that are common to the
needs of the 3GPP and 3GPP2 organizations. The scope includes development of
specifications for:
**System level evaluation.**
Within this category, a list of four focus areas are identified, however the
emphasis of the SCM AHG work is on items a and b.
a) Physical parameters (e.g. power delay profiles, angle spreads, dependencies
between parameters)
b) System evaluation methodology.
c) Antenna arrangements, reference cases and definition of minimum
requirements.
d) Some framework (air interface) dependent parameters.
**Link level evaluation.**
The link level models are defined only for calibration purposes. It is a
common view within the group that the link level simulation assumptions will
not be used for evaluation and comparison of proposals.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] H. M. Foster, S. F. Dehghan, R. Steele, J. J. Stefanov, H. K. Strelouhov,
Role of Site Shielding in Prediction Models for Urban Radiowave Propagation
(Digest No. 1994/231), IEE Colloquium on Microcellular measurements and their
prediction, 1994 pp. 2/1-2/6 .
[2] L. Greenstein, V. Erceg, Y. S. Yeh, M. V. Clark, "A New Path-Gain/Delay-
Spread Propagation Model for Digital Cellular Channels," IEEE Transactions on
Vehicular Technology, VOL. 46, NO.2, May 1997, pp.477-485.
[3] L. M. Correia, Wireless Flexible Personalized Communications, COST 259:
European Co-operation in Mobile Radio Research, Chichester: John Wiley & Sons,
2001. Sec. 3.2 (M. Steinbauer and A. F. Molisch, \"Directional channel
models\").
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply.
**Path** : Ray
**Path Component** : Sub-ray
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
$\sigma_{\text{AS}}$ Angle Spread or Azimuth Spread (Note: unless otherwise
stated, the calculation of angle spread will be based on the circular method
presented in appendix A)
$\sigma_{\text{DS}}$ delay spread
$\sigma_{\text{SF}}$ lognormal shadow fading random variable
$\sigma_{\text{SH}}$ log normal shadow fading constant
$\eta(a,b)$ represents a random normal (Gaussian) distribution with mean _a_
and variance _b_.
## 3.3 Abbreviations
For the purposes of the present document, the following abbreviations apply:
AHG Ad Hoc Group
AoA Angle of Arrival
AoD Angle of Departure
AS Angle Spread = Azimuth Spread = $\sigma_{\text{AS}}$ (Note: unless
otherwise stated, the calculation of angle spread will be based on the
circular method presented in appendix A)
BS Base Station = Node-B = BTS
DoT Direction of Travel
DS delay spread = $\sigma_{\text{DS}}$
MS Mobile Station = UE = Terminal = Subscriber Unit
PAS Power Azimuth Spectrum
PDP Power Delay Profile
PL Path Loss
SCM Spacial Channel Model
SF lognormal shadow fading random variable = $\sigma_{\text{SF}}$
SH log normal shadow fading constant = $\sigma_{\text{SH}}$
UE User Equipment = MS
# 4 Spatial channel model for calibration purposes
This clause describes physical parameters for link level modelling for the
purpose of calibration.
## 4.1 Purpose
Link level simulations alone will not be used for algorithm comparison because
they reflect only one snapshot of the channel behaviour. Furthermore, they do
not account for system attributes such as scheduling and HARQ. For these
reasons, link level simulations do not allow any conclusions about the typical
behaviour of the system. Only system level simulations can achieve that.
Therefore this document targets system level simulations for the final
algorithm comparison.
Link level simulations will not be used to compare performance of different
algorithms. Rather, they will be used only for calibration, which is the
comparison of performance results from different implementations of a given
algorithm.
The description is in the context of a downlink system where the BS transmits
to a MS; however the material in this
## 4.2 Link level channel model parameter summary
The table below summarizes the physical parameters to be used for link level
modelling.
Table 4.1: Summary SCM link level parameters for calibration purposes
Model | Case I | Case II | Case III | Case IV |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Corresponding 3GPP Designator* | Case B | Case C | Case D | Case A |  |  |  |  |   
Corresponding  
3GPP2 Designator* | Model A, D, E | Model C | Model B | Model F |  |  |  |  |   
PDP | Modified Pedestrian A | Vehicular A | Pedestrian B | Single Path |  |  |  |  |   
# of Paths | 1) 4+1 (LOS on, K = 6dB) 2) 4 (LOS off) | 6 | 6 | 1 |  |  |  |  |   
Relative Path Power (dB) | Delay (ns) | 1) 0.0  
2) -Inf | 0 | 0,0 | 0 | 0.0 | 0 | 0 | 0  
|  | 1) -6.51 2) 0.0 | 0 | -1.0 | 310 | -0.9 | 200 |  |   
|  | 1) -16.21 2) -9.7 | 110 | -9.0 | 710 | -4.9 | 800 |  |   
|  | 1) -25.71 2) –19.2 | 190 | -10.0 | 1090 | -8.0 | 1200 |  |   
|  | 1) -29.31 2) -22.8 | 410 | -15.0 | 1730 | -7.8 | 2300 |  |   
|  |  |  | -20.0 | 2510 | -23.9 | 3700 |  |   
Speed (km/h) | 1) 3 2) 30, 120 | 3, 30, 120 | 3, 30, 120 | 3 |  |  |  |  |   
UE/Mobile Station | Topology | Reference 0.5λ | Reference 0.5λ | Reference 0.5λ | N/A |  |  |  |   
| PAS | 1) LOS on: Fixed AoA for LOS component, remaining power has 360 degree uniform PAS. 2) LOS off: PAS with a Laplacian distribution, RMS angle spread of 35 degrees per path | RMS angle spread of 35 degrees per path with a Laplacian distribution Or 360 degree uniform PAS. | RMS angle spread of 35 degrees per path with a Laplacian distribution | N/A |  |  |  |   
| DoT (degrees) | 0 | 22.5 | -22.5 | N/A |  |  |  |   
| AoA (degrees) | 22.5 (LOS component) 67.5 (all other paths) | 67.5 (all paths) | 22.5 (odd numbered paths),  
-67.5 (even numbered paths) | N/A |  |  |  |   
Node B/ Base Station | Topology | Reference: ULA with 0.5λ-spacing or 4λ-spacing or 10λ-spacing | N/A |  |  |  |  |  |   
| PAS | Laplacian distribution with RMS angle spread of 2 degrees or 5 degrees, per path depending on AoA/AoD | N/A |  |  |  |  |  |   
| AoD/AoA (degrees) | 50ο for 2ο RMS angle spread per path 20ο for 5ο RMS angle spread per path | N/A |  |  |  |  |  |   
NOTE: *Designators correspond to channel models previously proposed in 3GPP and 3GPP2 ad-hoc groups. |  |  |  |  |  |  |  |  |   
## 4.3 Spatial parameters per path
Each resolvable path is characterized by its own spatial channel parameters
(angle spread, angle of arrival, power azimuth spectrum). All paths are
assumed independent. These assumptions apply to both the BS and the MS
specific spatial parameters. The above assumptions are in effect only for the
Link Level channel model.
## 4.4 BS and MS array topologies
The spatial channel model should allow any type of antenna configuration to be
selected, although details of a given configuration must be shared to allow
others to reproduce the model and verify the results.
Calibrating simulators at the link level requires a common set of assumptions
including a specific set of antenna topologies to define a baseline case. At
the MS, the reference element spacing is 0.5λ, where $\lambda$is the
wavelength of the carrier frequency. At the BS, three values for reference
element spacing are defined: 0.5λ, 4λ, and 10λ.
## 4.5 Spatial parameters for the BS
### 4.5.1 BS antenna pattern
The 3-sector antenna pattern used for each sector, Reverse Link and Forward
Link, is plotted in Figure 4.1 and is specified by
(4.5-1)
$\theta$is defined as the angle between the direction of interest and the
boresight of the antenna, $\theta_{3\text{dB}}$ is the 3dB beamwidth in
degrees, and A~m~ is the maximum attenuation. For a 3 sector scenario
$\theta_{3\text{dB}}$ is 70 degrees, $A_{m} =$20dB,and the antenna boresight
pointing direction is given by Figure 4.2. For a 6 sector scenario
$\theta_{3\text{dB}}$ is 35^o^, $A_{m}$=23dB, which results in the pattern
shown in Figure 4.3, and the boresight pointing direction defined by Figure
4.4. The boresight is defined to be the direction to which the antenna shows
the maximum gain. The gain for the 3-sector 70 degree antenna is 14dBi. By
reducing the beamwidth by half to 35 degrees, the corresponding gain will be
3dB higher resulting in 17dBi. The antenna pattern shown is targeted for
diversity-oriented implementations (i.e. large inter-element spacings). For
beamforming applications that require small spacings, alternative antenna
designs may have to be considered leading to a different antenna pattern.
**Figure 4.1: Antenna pattern for 3-sector cells**
**Figure 4.2: Boresight pointing direction for 3-sector cells**
**Figure 4.3: Antenna pattern for 6-sector cells**
**Figure 4.4: Boresight pointing direction for 6-sector cells**
### 4.5.2 Per-path BS angle spread (AS)
The base station per-path angle spread is defined as the root mean square
(RMS) of angles with which an arriving path's power is received by the base
station array. The individual path powers are defined in the temporal channel
model described in Table 4.1. Two values of BS angle spread (each associated
with a corresponding mean angle of departure, AoD) are considered:
\- AS: 2 degrees at AoD 50 degrees
\- AS: 5 degrees at AoD 20 degrees
It should be noted that attention should be paid when comparing the link level
performance between the two angle spread values since the BS antenna gain for
the two corresponding AoDs will be different. The BS antenna gain is applied
to the path powers specified in Table 4.1.
### 4.5.3 Per-path BS angle of departure
The Angle of Departure (AoD) is defined to be the mean angle with which an
arriving or departing path's power is received or transmitted by the BS array
with respect to the boresite. The two values considered are:
\- AoD: 50 degrees (associated with the RMS Angle Spread of 2 degrees)
\- AoD: 20 degrees (associated with the RMS Angle Spread of 5 degrees)
### 4.5.4 Per-path BS power azimuth spectrum
The Power Azimuth Spectrum (PAS) of a path arriving at the base station is
assumed to have a Laplacian distribution. For an AoD $\overline{\theta}$ and
RMS angle-spread σ, the BS per path PAS value at an angle θ is given by:
$P(\theta,\sigma,\overline{\theta}) = N_{o}\text{exp}\left\lbrack \frac{-
\sqrt{2}\left| \theta - \overline{\theta} \right|}{\sigma} \right\rbrack
G(\theta)$ (4.5-2)
where both angles $\overline{\theta}$and θ are given with respect to the
boresight of the antenna elements. It is assumed that all antenna elements'
orientations are aligned. Also, _P_ is the average received power and _G_ is
the numeric base station antenna gain described in Clause 4.5.1 by
$G(\theta) = \text{10}^{0\text{.}1A(\theta)}$ (4.5-3)
Finally, _N_ ~o~ is the normalization constant:
$N_{o}^{- 1} = \int_{- \pi + \overline{\theta}}^{\pi +
\overline{\theta}}{\text{exp}\left\lbrack \frac{- \sqrt{2}\left| \theta -
\overline{\theta} \right|}{\sigma} \right\rbrack G(\theta)\ \text{dθ}}$
(4.5-4)
In the above equation, θ represents path components (sub-rays) of the path
power arriving at an AoD $\overline{\theta}$.
## 4.6 Spatial parameters for the MS
### 4.6.1 MS antenna pattern
For each and every antenna element at the MS, the antenna pattern will be
assumed omni directional with an antenna gain of -1 dBi.
### 4.6.2 Per-path MS angle spread (AS)
The MS per-path AS is defined as the root mean square (RMS) of angles of an
incident path's power at the MS array. Two values of the path's angle spread
are considered:
\- AS: 104 degrees (results from a uniform over 360 degree PAS),
\- AS: 35 degrees for a Laplacian PAS with a certain path specific Angle of
Arrival (AoA).
### 4.6.3 Per-path MS angle of arrival
The per-path Angle of Arrival (AoA) is defined as the mean of angles of an
incident path's power at the UE/Mobile Station array with respect to the
broadside as shown Figure 4.5.
Figure 4.5: Angle of arrival orientation at the MS.
Three different per-path AoA values at the MS are suggested for the cases of a
non-uniform PAS, see Table 4.1 for details:
\- AoA: -67.5 degrees (associated with an RMS Angle Spread of 35 degrees)
\- AoA: +67.5 degrees (associated with an RMS Angle Spread of 35 degrees)
\- AoA: +22.5 degrees (associated with an RMS Angle Spread of 35 degrees or
with an LOS component)
### 4.6.4 Per-path MS power azimuth spectrum
The Laplacian distribution and the Uniform distribution are used to model the
per-path Power Azimuth Spectrum (PAS) at the MS.
The Power Azimuth Spectrum (PAS) of a path arriving at the MS is modeled as
either a Laplacian distribution or a uniform over 360 degree distribution.
Since an omni directional MS antenna gain is assumed, the received per-path
PAS will remain either Laplacian or uniform. For an incoming AOA
$\overline{\theta}$ and RMS angle-spread σ, the MS per-path Laplacian PAS
value at an angle θ is given by:
$P(\theta,\sigma,\overline{\theta}) = N_{o}\text{exp}\left\lbrack \frac{-
\sqrt{2}\left| \theta - \overline{\theta} \right|}{\sigma} \right\rbrack$,
(4.5-5)
where both angles $\overline{\theta}$and θ are given with respect to the
boresight of the antenna elements. It is assumed that all antenna elements'
orientations are aligned. Also, P is the average received power and N~o~ is
the normalization constant:
$N_{o}^{- 1} = \int_{- \pi + \overline{\theta}}^{\pi +
\overline{\theta}}{\text{exp}\left\lbrack \frac{- \sqrt{2}\left| \theta -
\overline{\theta} \right|}{\sigma} \right\rbrack\ \text{dθ}}$. (4.5-6)
In the above equation, $\theta$ represents path components (sub-rays) of the
path power arriving at an incoming AoA $\overline{\theta}$. The distribution
of these path components is TBD.
### 4.6.5 MS direction of travel
The mobile station direction of travel is defined with respect to the
broadside of the mobile antenna array as shown in Figure 4.6.
Figure 4.6. Direction of travel for MS
### 4.6.6 Per-path Doppler spectrum
The per-path Doppler spectrum is defined as a function of the direction of
travel and the per-path PAS and AoA at the MS. This should correspond to the
per-path fading behavior for either the correlation-based or ray-based method.
## 4.7 Generation of channel model
The proponent can determine the model implementation. Examples of
implementations include correlation or ray-based techniques.
## 4.8 Calibration and reference values
For the purpose of link level simulations, reference values of the average
correlation are given below in Table 4.2. The reference values are provided
for the calibration of the simulation software and to assist in the resolution
of possible errors in the simulation methods implemented. Specifically, the
average complex correlation and magnitude of the complex correlation is
reported between BS antennas and between MS antennas. The spatial parameter
values used are those defined already throughout Clause 4.
Table 4.2: Reference correlation values
* * *
       Antenna Spacing   AS (degrees)   AOA (degrees)   Correlation (magnitude)   Complex Correlation
BS 0.5$\lambda$ 5 20 0.9688 0.4743+0.8448i 0.5$\lambda$ 2 50 0.9975
-0.7367+0.6725i 4$\lambda$ 5 20 0.3224 -0.2144+0.2408i 4$\lambda$ 2 50 0.8624
0.8025+0.3158i 10$\lambda$ 5 20 0.0704 -0.0617+i0.034 10$\lambda$ 2 50 0.5018
-0.2762-i0.4190 MS $\lambda$/2 104 0 0.3042 -0.3042 $\lambda$/2 35 -67.5
0.7744 -0.6948-i0.342 $\lambda$/2 35 22.5 0.4399 0.0861+0.431i $\lambda$/2 35
67.5 0.7744 -0.6948+i0.342
* * *
# 5 Spatial channel model for simulations
The spatial channel model for use in the system-level simulations is described
in this clause. As in the link level simulations, the description is in the
context of a downlink system where the BS transmits to a MS; however the
material in this clause (with the exception of Clause 5.7 on Ioc modelling)
can be applied to the uplink as well.
As opposed to link simulations which simply consider a single BS transmitting
to a single MS, the system simulations typically consist of multiple
cells/sectors, BSs, and MSs. Performance metrics such as throughput and delay
are collected over _D_ drops, where a \"drop\" is defined as a simulation run
for a given number of cells/sectors, BSs, and MSs, over a specified number of
frames. During a drop, the channel undergoes fast fading according to the
motion of the MSs. Channel state information is fed back from the MSs to the
BSs, and the BSs use schedulers to determine which user(s) to transmit to.
Typically, over a series of _D_ drops, the cell layout and locations of the
BSs are fixed, but the locations of the MSs are randomly varied at the
beginning of each drop. To simplify the simulation, only a subset of BSs will
actually be simulated while the remaining BSs are assumed to transmit with
full power. The goal of this clause is to define the methodology and
parameters for generating the spatial and temporal channel coefficients
between a given base and mobile for use in system level simulations. For an
_S_ element BS array and a _U_ element MS array, the channel coefficients for
one of _N_ multipath components (note that these components are not
necessarily time resolvable, meaning that the time difference between
successive paths may be less than a chip period) are given by an _S_ -by- _U_
matrix of complex amplitudes. We denote the channel matrix for the _n_ th
multipath component (_n_ = 1,...,_N_) as $H_{n}(t)$. It is a function of time
_t_ because the complex amplitudes are undergoing fast fading governed by the
movement of the MS. The overall procedure for generating the channel matrices
consists of three basic steps:
1 Specify an environment, either suburban macro, urban macro, or urban micro
(Clause 5.2).
2 Obtain the parameters to be used in simulations, associated with that
environment (Clause 5.3).
3 Generate the channel coefficients based on the parameters (Clause 5.4).
Clauses 5.2, 5.3, and 5.4 give the details for the general procedure. Figure
5.1 below provides a roadmap for generating the channel coefficients. Clause
5.5 specifies optional cases that modify the general procedure. Clause 5.6
describes the procedure for generating correlated log normal user parameters
used in Clause 5.3. Clause 5.7 describes the method for accounting for
intercell interference. Clause 5.8 presents calibration results.
{width="6.495833333333334in" height="4.241666666666666in"}
Figure 5.1: Channel model overview for simulations
## 5.1 General definitions, parameters, and assumptions
The received signal at the MS consists of _N_ time-delayed multipath replicas
of the transmitted signal. These _N_ paths are defined by powers and delays
and are chosen randomly according to the channel generation procedure. Each
path consists of _M_ subpaths.
Figure 5.2 shows the angular parameters used in the model. The following
definitions are used:
$\Omega_{\text{BS}}$ BS antenna array orientation, defined as the difference
between the broadside of the BS array and the absolute North (N) reference
direction.
LOS AoD direction between the BS and MS, with respect to the broadside of the
BS array.
$\delta_{n,\text{AoD}}$ AoD for the nth (n = 1 ... N) path with respect to the
LOS AoD $\theta_{0}$.
$\Delta_{n,m,\text{AoD}}$ Offset for the mth (m = 1 ... M) subpath of the nth
path with respect to $\delta_{n,\text{AoD}}$.
$\theta_{n,m,\text{AoD}}$ Absolute AoD for the mth (m = 1 ... M) subpath of
the nth path at the BS with respect to the BS broadside.
$\Omega_{\text{MS}}$ MS antenna array orientation, defined as the difference
between the broadside of the MS array and the absolute North reference
direction.
Angle between the BS-MS LOS and the MS broadside.
$\delta_{n,\text{AoA}}$ AoA for the nth (n = 1 ... N) path with respect to the
LOS AoA $\theta_{0,\text{MS}}$.
$\Delta_{n,m,\text{AoA}}$ Offset for the mth (m = 1 ... M) subpath of the nth
path with respect to $\delta_{n,\text{AoA}}$.
$\theta_{n,m,\text{AoA}}$ Absolute AoA for the mth (m = 1 ... M) subpath of
the nth path at the MS with respect to the BS broadside.
v MS velocity vector.
$\theta_{v}$ Angle of the velocity vector with respect to the MS broadside:
$\theta_{v}$=arg(v).
The angles shown in Figure 5.2 that are measured in a clockwise direction are
assumed to be negative in value.
Figure 5.2: BS and MS angle parameters
For system level simulation purposes, the fast fading per-path will be evolved
in time, although bulk parameters including angle spread, delay spread, log
normal shadowing, and MS location will remain fixed during the its evaluation
during a drop.
The following are general assumptions made for all simulations, independent of
environment:
a) Uplink-Downlink Reciprocity: The AoD/AoA values are identical between the
uplink and downlink.
b) For FDD systems, random subpath phases between UL, DL are uncorrelated.
(For TDD systems, the phases will be fully correlated.)
c) Shadowing among different mobiles is uncorrelated. In practice, this
assumption would not hold if mobiles are very close to each other, but we make
this assumption just to simplify the model.
d) The spatial channel model should allow any type of antenna configuration
(e.g. whose size is smaller than the shadowing coherence distance) to be
selected, although details of a given configuration must be shared to allow
others to reproduce the model and verify the results. It is intended that the
spatial channel model be capable of operating on any given antenna array
configuration. In order to compare algorithms, reference antenna
configurations based on uniform linear array configurations with 0.5, 4, and
10 wavelength inter-element spacing will be used.
e) The composite AS, DS, and SF shadow fading, which may be correlated
parameters depending on the channel scenario, are applied to all the sectors
or antennas of a given base. Sub-path phases are random between sectors. The
AS is composed of 6 x 20 sub-paths, and each has a precise angle of departure
which corresponds to an antenna gain from each BS antenna. The effect of the
antennas gain may cause some change to the channel model in both AS and DS
between different base antennas, but this is separate from the channel model.
The SF is a bulk parameter and is common among all the BS antennas or sectors.
f) The elevation spread is not modeled.
g) To allow comparisons of different antenna scenarios, the transmit power of
a single antenna case shall be the same as the total transmit power of a
multiple antenna case.
h) The generation of the channel coefficients (Clause 5.4) assumes linear
arrays. The procedure can be generalized for other array configurations, but
these modifications are left for the proponent.
## 5.2 Environments
We consider the following three environments.
a) Suburban macrocell (approximately 3Km distance BS to BS)
b) Urban macrocell (approximately 3Km distance BS to BS)
c) Urban microcell (less than 1Km distance BS to BS)
The characteristics of the macro cell environments assume that BS antennas are
above rooftop height. For the urban microcell scenario, we assume the BS
antenna is at rooftop height. Table 5.1 describes the parameters used in each
of the environments.
Table 5.1. Environment parameters
+----------------+----------------+----------------+----------------+ | Channel | **Suburban |** Urban | **Urban | | Scenario | Macro** | Macro**| Micro** | +----------------+----------------+----------------+----------------+ | Number of | 6 | 6 | 6 | | paths (_N_) | | | | +----------------+----------------+----------------+----------------+ | Number of | 20 | 20 | 20 | | sub-paths | | | | | (_M_) per-path | | | | +----------------+----------------+----------------+----------------+ | Mean AS at BS | E($\sigma_{\te | E | NLOS: | | | xt{AS}}$)=5^0^ | ($\sigma_{\tex | E | | | | t{AS}}$)=8^0^, | ($\sigma_{\tex | | | | 15^0^ | t{AS}}$)=19^0^ | +----------------+----------------+----------------+----------------+ | AS at BS as a | $\mu | 8^0^ | N/A | | lognormal RV | _{\text{AS}}$= | $\mu | | | | 0.69 |_{\text{AS}}$= | | | | | 0.810 | | | | $\varepsilon | | | | | _{\text{AS}}$= | $\varepsilon | | | | 0.13 |_{\text{AS}}$= | | | | | 0.34 | | | | | | | | | | 15^0^ | | | | | $\mu | | | | | _{\text{AS}}$= | | | | | 1.18 | | | | | | | | | | $\varepsilon | | | | |_{\text{AS}}$= | | | | | 0.210 | | +----------------+----------------+----------------+----------------+ | | 1.2 | 1.3 | N/A | +----------------+----------------+----------------+----------------+ | Per-path AS at | 2 deg | 2 deg | 5 deg (LOS and | | BS (Fixed) | | | NLOS) | +----------------+----------------+----------------+----------------+ | BS per-path | $\eta(0,\s | $\eta(0,\s | U(-40deg, | | AoD | igma_{\text{Ao | igma_{\text{Ao | 40deg) | | Distribution | D}}^{2})$where | D}}^{2})$where | | | standard | $\sigma_{\tex | $\sigma_{\tex | | | distribution | t{AoD}} = r_{\ | t{AoD}} = r_{\ | | | | text{AS}}\sigm | text{AS}}\sigm | | | | a_{\text{AS}}$ | a_{\text{AS}}$ | | +----------------+----------------+----------------+----------------+ | Mean AS at MS | E(σ~_AS_ , | E(σ _~AS | E(σ_ ~AS | | | \ _MS_ ~)=68^0^ | ,\ MS~_)=68^0^ | ,\ MS~_)=68^0^ | +----------------+----------------+----------------+----------------+ | Per-path AS at | 35^0^ | 35^0^ | 35^0^ | | MS (fixed) | | | | +----------------+----------------+----------------+----------------+ | MS Per-path | | | | | AoA | | | | | Distribution | | | | +----------------+----------------+----------------+----------------+ | Delay spread | μ~_DS_ ~ = - | μ~_DS_ ~ = | N/A | | as a lognormal | 6.80 | -6.18 | | | RV | | | | | | ε~_DS_ ~ = | ε~_DS_ ~ = 0.18 | | | | 0.288 | | | +----------------+----------------+----------------+----------------+ | Mean total RMS | E($\sigma_{\te | E($\sigma_{\te | E($ | | Delay Spread | xt{DS}}$)=0.17 | xt{DS}}$)=0.65 | \sigma_{\text{ | | | μs | μs | DS}}$)=0.251μs | | | | | (output) | +----------------+----------------+----------------+----------------+ | | 1.4 | 1.7 | N/A | +----------------+----------------+----------------+----------------+ | Distribution | | | _U_(0, 1.2μs) | | for path | | | | | delays | | | | +----------------+----------------+----------------+----------------+ | Lognormal | 8dB | 8dB | NLOS: 10dB | | shadowing | | | | | standard | | | LOS: 4dB | | deviation, | | | | | $\sigm | | | | | a_{\text{SF}}$ | | | | +----------------+----------------+----------------+----------------+ | Pathloss model | 31.5 + | 34.5 + | NLOS: 34.53 + | | (dB), | 35log~10~(_d_) | 35log~10~(_d_) | 38log~10~(_d_) | | | | | | | _d_ is in | | | LOS: 30.18 + | | meters | | | 26 | | | | | *log~10~(_d_) | +----------------+----------------+----------------+----------------+
The following are assumptions made for the _suburban macrocell_ and _urban
macrocell_ environments.
a) The macrocell pathloss is based on the modified COST231 Hata urban
propagation model:
(5.2-1)
where $h_{\text{bs}}$_is_ the BS antenna height in meters, $h_{\text{ms}}$
_the MS antenna height in meters,_ $f_{c}$ _the carrier frequency in MHz, d_
is the distance between the BS and MS in meters, and _C_ is a constant factor
(_C_ = 0dB for suburban macro and _C_ = 3dB for urban macro). Setting these
parameters to $h_{\text{bs}}$= 32m, $h_{\text{ms}}$= 1.5m, and
$f_{c}$=1900MHz, the pathlosses for suburban and urban macro environments
become, respectively, and . The distance _d_ is required to be at least 35m.
b) Antenna patterns at the BS are the same as those used in the link
simulations given in Clause 4.5.1.
c) Site-to-site SF correlation is $\zeta = 0\text{.}5$. This parameter is used
in Clause 5.6.2.
d) The hexagonal cell repeats will be the assumed layout.
The following are assumptions made for the _microcell_ environment.
a) The microcell NLOS pathloss is based on the COST 231 Walfish-Ikegami NLOS
model with the following parameters: BS antenna height 12.5m, building height
12m, building to building distance 50m, street width 25m, MS antenna height
1.5m, orientation 30deg for all paths, and selection of metropolitan center.
With these parameters, the equation simplifies to:
_PL_(_dB_) = -55.9 + 38*log10(_d_) + (24.5 + 1.5*_f~c~_ /925)*log10(_f~c~_).
(5.2-2)
The resulting pathloss at 1900 MHz is: _PL_(_dB_) = 34.53 + 38*log10(_d_),
where _d_ is in meters. The distance _d_ is at least 20m. A bulk log normal
shadowing applying to all sub-paths has a standard deviation of 10dB.
The microcell LOS pathloss is based on the COST 231 Walfish-Ikegami street
canyon model with the same parameters as in the NLOS case. The pathloss is
_PL_(_dB_) = -35.4 + 26*log10(_d_) + 20*log10(_f~c~_) (5.2-3)
The resulting pathloss at 1900 MHz is _PL_(_dB_) = 30.18 + 26*log10(_d_),
where _d_ is in meters. The distance _d_ is at least 20m. A bulk log normal
shadowing applying to all sub-paths has a standard deviation of 4dB.
b) Antenna patterns at the BS are the same as those used in the link
simulations given in Clause 4.5.1.
c) Site-to-site correlation is $\zeta = 0\text{.}5$. This parameter is used in
Clause 5.6.2.
d) The hexagonal cell repeats will be the assumed layout.
Note that the SCM model described here with _N_ = 6 paths may not be suitable
for systems with bandwidth higher than 5MHz.
## 5.3 Generating user parameters
For a given scenario and set of parameters given by a column of Table 5.1
Environment parameters, realizations of each user\'s parameters such as the
path delays, powers, and sub-path angles of departure and arrival can be
derived using the procedure described here in Clause 5.3. In particular,
Clause 5.3.1 gives the steps for the urban macrocell and suburban macrocell
environments, and Clause 5.3.2 gives the steps for the urban microcell
environments.
### 5.3.1 Generating user parameters for urban macrocell and suburban
macrocell environments
**Step 1:** _Choose either an urban macrocell or suburban macrocell
environment._
**Step 2:** _Determine various distance and orientation parameters._ The
placement of the MS with respect to each BS is to be determined according to
the cell layout. From this placement, the distance between the MS and the BS
(_d_) and the LOS directions with respect to the BS and MS
($\theta_{\text{BS}}$ and $\theta_{\text{MS}}$ , respectively) can be
determined. Calculate the bulk path loss associated with the BS to MS
distance. The MS antenna array orientations ($\Omega_{\text{MS}}$), are
i.i.d., drawn from a uniform 0 to 360 degree distribution. The MS velocity
vector **v** has a magnitude $\left\| v \right\|$ drawn according to a
velocity distribution (to be determined) and direction $\theta_{v}$ drawn from
a uniform 0 to 360 degree distribution.
**Step 3:** _Determine the DS, AS, and SF._ These variables, given
respectively by $\sigma_{\text{DS}}$,$\sigma_{\text{AS}}$, and , are generated
as described in Clause 5.6 below. Note that
$\text{10}\hat{(}\mu_{\text{DS}})$is in units of seconds so that the
narrowband composite delay spread $\sigma_{\text{DS}}$is in units of seconds.
Note also that we have dropped the BS indicies used in Clause 5.6.1 to
simplify notation.
**Step 4:** _Determine random delays for each of the N multipath components_.
For macrocell environments, _N_ = 6 as given in Table 5.1. Generate random
variables $\tau_{1}^{'},\text{.}\text{.}\text{.},\tau_{N}^{'}$ according to
_n_ = 1,...,_N_ (5.3-1)
> where $z_{n}$(n = 1,...,N) are i.i.d. random variables with uniform
> distribution U(0,1), rDS is given in Table 5.1, and $\sigma_{\text{DS}}$ is
> derived in Step 3 above. These variables are ordered so that $\tau_{(N)}^{'}
> > \tau_{(N - 1)}^{'} > \text{.}\text{.}\text{.} > \tau_{(1)}^{'}$ and the
> minimum of these is subtracted from all . The delay for the nth path
> $\tau_{n}$is the value of $\tau_{(n)}^{'} - \tau_{(1)}^{'}$ are quantized in
> time to the nearest 1/16th chip interval:
$\tau_{n} = \frac{T_{c}}{\text{16}} \cdot \text{floor}\left(
\frac{\tau_{(n)}^{'} - \tau_{(1)}^{'}}{T_{c}/\text{16}} + 0\text{.}5 \right),\
n = 1,\ \text{.}\text{.}\text{.},N$, (5.3-2)
> where floor(x) is the integer part of x, and Tc is the chip interval (Tc =
> 1/3.84x106 sec for 3GPP and Tc = 1/1.2288x106 sec for 3GPP2) Note that these
> delays are ordered so that $\tau_{N} > \tau_{5} > \text{.}\text{.}\text{.} >
> \tau_{1} = 0$. (See notes 1 and 2 at the end of Clause 5.3.1.) Quantization
> to 1/16 chip is the default value. For special purpose implementations,
> possibly higher quantization values may be used if needed.
**Step 5:** _Determine random average powers for each of the N multipath
components_. Let the unnormalized powers be given by
$P_{n}^{'} = e^{\frac{(1 - r_{\text{DS}}) \cdot (\tau_{(n)}^{'} -
\tau_{(1)}^{'})}{r_{\text{DS}} \cdot \sigma_{\text{DS}}}} \cdot
\text{10}^{\frac{- \xi_{n}}{\text{10}}}$, _n_ = 1,...,6 (5.3-3)
> where $\xi_{n}$ (n = 1,...,6) are i.i.d. Gaussian random variables with
> standard deviation $\sigma_{\text{RND}}$= 3 dB, which is a shadowing
> randomization effect on the per-path powers. Note that the powers are
> determined using the unquantized channel delays. Average powers are
> normalized so that the total average power for all six paths is equal to
> one:
$P_{n} = \frac{P_{n}^{'}}{\sum_{}^{}P_{j}^{'}}$. (5.3-4)
> (See note 3 at the end of Clause 5.3.1.)
**Step 6:** _Determine AoDs for each of the N multipath components_. First
generate i.i.d. zero-mean Gaussian random variables:
~,~ _n_ = 1,..., _N_ , (5.3-5)
> where $\sigma_{\text{AoD}} = r_{\text{AS}}\sigma_{\text{AS}}$. The value rAS
> is given in Table 5.1 and depends on whether the urban or suburban macrocell
> environment is chosen. The angle spread AS is generated in Step 3. These
> variables are given in degrees. They are ordered in increasing absolute
> value so that . The AoDs $\delta_{n,\text{AoD}}$, n = 1,..., N are assigned
> to the ordered variables so that , n = 1,...,N. (See note 4 at the end of
> Clause 5.3.1.)
**Step 7:** _Associate the multipath delays with AoDs._ The _n_ th delay
$\tau_{n}$ generated in Step 3 is associated with the _n_ th AoD
$\delta_{n,\text{AoD}}$ generated in Step 6.
**Step 8:** _Determine the powers, phases and offset AoDs of the M = 20 sub-
paths for each of the N paths at the BS._ All 20 sub-path associated with the
_n_ th path have identical powers ($P_{n}$/20 where $P_{n}$ is from Step 5)
and i.i.d phases $\Phi_{n,m}$ drawn from a uniform 0 to 360 degree
distribution. The relative offset of the _m_ th subpath (_m_ = 1,..., _M_)
$\Delta_{n,m,\text{AoD}}$ is a fixed value given in Table5.2. For example, for
the urban and suburban macrocell cases, the offsets for the first and second
sub-paths are respectively $\Delta_{n,1,\text{AoD}}$= 0.0894 and
$\Delta_{n,2,\text{AoD}}$= -0.0894 degrees. These offsets are chosen to result
in the desired per-path angle spread (2 degrees for the macrocell
environments, and 5 degrees for the microcell environment). The per-path angle
spread of the _n_ th path (_n_ = 1 ... _N_) is in contrast to the angle spread
$\sigma_{n}$which refers to the composite signal with _N_ paths.
**Step 9:** _Determine the AoAs for each of the multipath components._ The
AoAs are i.i.d. Gaussian random variables
~,~ _n_ = 1,..., _N_ , (5.3-6)
> where and $P_{n}$ is the relative power of the _n_ th path from Step 5. (See
> note 5 at the end of Clause 5.3.1)
**Step 10:** _Determine the offset AoAs at the UE of the M = 20 sub-paths for
each of the N paths at the MS._ As in Step 8 for the AoD offsets, the relative
offset of the _m_ th subpath (_m_ = 1,..., _M_) $\Delta_{n,m,\text{AoA}}$ is a
fixed value given in Table 5.2. These offsets are chosen to result in the
desired per-path angle spread of 35 degrees.
**Step 11:** _Associate the BS and MS paths and sub-paths._ The _n_ th BS path
(defined by its delay $\tau_{n}$, power $P_{n}$, and AoD
$\delta_{n,\text{AoD}}$) is associated with the _n_ th MS path (defined by its
AoA $\delta_{n,\text{AoA}}$). For the _n_ th path pair, randomly pair each of
the _M_ BS sub-paths (defined by its offset $\Delta_{n,m,\text{AoD}}$) with a
MS sub-path (defined by its offset $\Delta_{n,m,\text{AoA}}$). Each sub-path
pair is combined so that the phases defined by $\Phi_{n,m}$ in step 8 are
maintained. To simplify the notation, we renumber the _M_ MS sub-path offsets
with their newly associated BS sub-path. In other words, if the first (_m_ =
1) BS sub-path is randomly paired with the 10^th^ (_m_ = 10) MS sub-path, we
re-associate $\Delta_{n,1,\text{AoA}}$ (after pairing) with
$\Delta_{n,\text{10},\text{AoA}}$ (before pairing).
**Step 12:** _Determine the antenna gains of the BS and MS sub-paths as a
function of their respective sub-path AoDs and AoAs._ For the _n_ th path, the
AoD of the _m_ th sub-path (with respect to the BS antenna array broadside) is
$\theta_{n,m,\text{AoD}} = \theta_{\text{BS}} + \delta_{n,\text{AoD}} +
\Delta_{n,m,\text{AoD}}$. (5.3-7)
> Similarly, the AoA of the _m_ th sub-path for the _n_ th path (with respect
> to the MS antenna array broadside) is
$\theta_{n,m,\text{AoA}} = \theta_{\text{MS}} + \delta_{n,\text{AoA}} +
\Delta_{n,m,\text{AoA}}$. (5.3-8)
> The antenna gains are dependent on these sub-path AoDs and AoAs. For the BS
> and MS, these are given respectively as
> $G_{\text{BS}}(\theta_{n,m,\text{AoD}})$ and
> $G_{\text{MS}}(\theta_{n,m,\text{AoA}})$.
**Step 13:** Apply the path loss based on the BS to MS distance from Step 2,
and the log normal shadow fading determined in step 3 as bulk parameters to
each of the sub-path powers of the channel model.
**Notes:**
Note 1: In the development of the Spatial Channel Model, care was taken to
include the statistical relationships between Angles and Powers, as well as
Delays and Powers. This was done using the proportionality factors
$r_{\text{DS}} = \frac{\sigma_{\text{delays}}}{\sigma_{\text{DS}}}$ and
$r_{\text{AS}} = \frac{\sigma_{\text{AoD}}}{\sigma_{\text{PAS}}}$ that were
based on measurements.
Note 2: While there is some evidence that delay spread may depend on distance
between the transmitter and receiver, the effect is considered to be minor
(compared to other dependencies: DS-AS, DS-SF.). Various inputs based on
multiple data sets indicate that the trend of DS can be either slightly
positive or negative, and may sometimes be relatively flat with distance. For
these reasons and also for simplicity, a distance dependence on DS is not
modeled.
Note 3: The equations presented here for the power of the _n_ th path are
based on a power-delay envelope which is the average behavior of the power-
delay profile. Defining the powers to reproduce the average behavior limits
the dynamic range of the result and does not reproduce the expected randomness
from trial to trial. The randomizing process $\xi_{n}$is used to vary the
powers with respect to the average envelope to reproduce the variations
experienced in the actual channel. This parameter is also necessary to produce
a dynamic range comparable to measurements.
Note 4: The quantity $r_{\text{AS}}$ describes the distribution of powers in
angle and $r_{\text{AS}} = \frac{\sigma_{\text{AoD}}}{\sigma_{\text{PAS}}}$,
i.e. the spread of angles to the power weighted angle spread. Higher values of
$r_{\text{AS}}$ correspond to more power being concentrated in a small AoD or
a small number of paths that are closely spaced in angle.
Note 5: Although two different mechanisms are used to select the AoD from the
Base, and the AoA at the MS, the paths are sufficiently defined by their BS to
MS connection, power Pn, and delay, thus there is no ambiguity in associating
the paths to these parameters at the BS or MS.
### 5.3.2 Generating user parameters for urban microcell environments
Urban microcell environments differ from the macrocell environments in that
the individual multipaths are independently shadowed. As in the macrocell
case, _N_ = 6 paths are modeled. We list the entire procedure but only
describe the details of the steps that differ from the corresponding step of
the macrocell procedure.
**Step 1:** _Choose the urban microcell environment._
**Step 2:** _Determine various distance and orientation parameters._
**Step 3:** _Determine the bulk path loss and log normal shadow fading
parameters._
**Step 4:** _Determine the random delays for each of the N multipath
components_. For the microcell environment, _N_ = 6. The delays $\tau_{n},\
$_n_ = 1, ... , _N_ are i.i.d. random variables drawn from a uniform
distribution from 0 to 1.2 μs.
**Step 5:** The minimum of these delays is subtracted from all so that the
first delay is zero. The delays are quantized in time to the nearest 1/16th
chip interval as described in Clause 5.3.1. When the LOS model is used, the
delay of the direct component will be set equal to the first arriving path
with zero delay.
**Step 6:** _Determine random average powers for each of the N multipath
components_. The PDP consists of _N_ =6 distinct paths that are uniformly
distributed between 0 and 1.2μs. The powers for each path are exponentially
decaying in time with the addition of a lognormal randomness, which is
independent of the path delay:
$P^{'_{n}} = \text{10}^{- (\tau_{n} + \frac{z_{n}}{\text{10}})}$ (5.3-9)
where $\tau_{n}\ $is the unquantized values and given in units of
microseconds, and $z_{n}\ $(_n_ = 1,...,_N_) are i.i.d. zero mean Gaussian
random variables with a standard deviation of 3dB. Average powers are
normalized so that total average power for all six paths is equal to one:
$P_{n} = \frac{P_{n}^{'}}{\sum_{}^{}P_{j}^{'}}$. (5.3-10)
When the LOS model is used, the normalization of the path powers includes
consideration of the power of the direct component $P_{D}$such that the ratio
of powers in the direct path to the scattered paths has a ratio of K:
, $P_{D} = \frac{K}{K + 1}$. (5.3-11)
**Step 7:** _Determine AoDs for each of the N multipath components_. The AoDs
(with respect to the LOS direction) are i.i.d. random variables drawn from a
uniform distribution over --40 to +40 degrees:
~,~ _n_ = 1,..., _N_ , (5.3-12)
Associate the AoD of the _n_ th pathwith the power of the _n_ th path $P_{n}$.
Note unlike the macrocell environment, the AoDs do not need to be sorted
before being assigned to a path power. When the LOS model is used, the AoD for
the direct component is set equal to the line-of-sight path direction.
**Step 8:** _Randomly associate the multipath delays with AoDs._
**Step 9:** _Determine the powers, phases, and offset AoDs of the M = 20 sub-
paths for each of the N paths at the BS._ The offsets are given in Table 5.2,
and the resulting per-path AS is 5 degrees instead of 2 degrees for the
macrocell case. The direct component, used with the LOS model will have no
per-path AS.
**Step 10:** _Determine the AoAs for each of the multipath components._ The
AoAs are i.i.d Gaussian random variables
, n = 1,..., N, (5.3-13)
> where and $P_{n}$ is the relative power of the _n_ th path from Step 5.
>
> When the LOS model is used, the AoA for the direct component is set equal to
> the line-of-sight path direction.
**Step 11:** _Determine the offset AoAs of the M = 20 sub-paths for each of
the N paths at the MS._
**Step 12:** _Associate the BS and MS paths and sub-paths._ Sub-paths are
randomly paired for each path, and the sub-path phases defined at the BS and
MS are maintained.
**Step 13:** _Determine the antenna gains of the BS and MS sub-paths as a
function of their respective sub-path AoDs and AoAs._
**Step 14:** Apply the path loss based on the BS to MS distance and the log
normal shadow fading determined in Step 3 as bulk parameters to each of the
sub-path powers of the channel model.
Table 5.2: Sub-path AoD and AoA offsets
+-------------+-----------------+-----------------+-----------------+ | Sub-path # | Offset for a 2 | Offset for a 5 | Offset for a 35 | | | deg AS at BS | deg AS at BS | deg AS at MS | | (_m_) | (Macrocell) | (Microcell) | | | | | | $\De | | | $\Delta_{n | $\De | lta_{n,m,\text{ | | | ,m,\text{AoD}}$ | lta_{n,m,\text{ | AoA}}$(degrees) | | | (degrees) | AoD}}$(degrees) | | +-------------+-----------------+-----------------+-----------------+ | 1, 2 | $\pm$0.0894 | $\pm$0.2236 | $\pm$1.5649 | +-------------+-----------------+-----------------+-----------------+ | 3, 4 | $\pm$0.2826 | $\pm$0.7064 | $\pm$4.9447 | +-------------+-----------------+-----------------+-----------------+ | 5, 6 | $\pm$0.4984 | $\pm$1.2461 | $\pm$8.7224 | +-------------+-----------------+-----------------+-----------------+ | 7, 8 | $\pm$0.7431 | $\pm$1.8578 | $\pm$13.0045 | +-------------+-----------------+-----------------+-----------------+ | 9, 10 | $\pm$1.0257 | $\pm$2.5642 | $\pm$17.9492 | +-------------+-----------------+-----------------+-----------------+ | 11, 12 | $\pm$1.3594 | $\pm$3.3986 | $\pm$23.7899 | +-------------+-----------------+-----------------+-----------------+ | 13, 14 | $\pm$1.7688 | $\pm$4.4220 | $\pm$30.9538 | +-------------+-----------------+-----------------+-----------------+ | 15, 16 | $\pm$2.2961 | $\pm$5.7403 | $\pm$40.1824 | +-------------+-----------------+-----------------+-----------------+ | 17, 18 | $\pm$3.0389 | $\pm$7.5974 | $\pm$53.1816 | +-------------+-----------------+-----------------+-----------------+ | 19, 20 | $\pm$4.3101 | $\pm$10.7753 | $\pm$75.4274 | +-------------+-----------------+-----------------+-----------------+ | | | | | +-------------+-----------------+-----------------+-----------------+
The values in Table 5.2 are selected to produce a biased standard deviation
equal to 2, 5, and 35 degrees, which is equivalent to the per-path power
weighted azimuth spread for equal power sub-paths.
## 5.4 Generating channel coefficients
Given the user parameters generated in Clause 5.3, we use them to generate the
channel coefficients. For an _S_ element linear BS array and a _U_ element
linear MS array, the channel coefficients for one of _N_ multipath components
are given by a _U_ -by- _S_ matrix of complex amplitudes. We denote the
channel matrix for the _n_ th multipath component (_n_ = 1,...,_N_) as
$H_{n}(t)$. The (_u,s_)th component (_s_ = 1,...,_S_ ; _u_ = 1,...,_U_) of
$H_{n}(t)$ is given by
$h_{u,s,n}(t) = \sqrt{\frac{P_{n}\sigma_{\text{SF}}}{M}}\sum_{m =
1}^{M}\begin{matrix} \left( \sqrt{G_{\text{BS}}\left( \theta_{n,m,\text{AoD}}
\right)}\text{exp}\left( j\left\lbrack \text{kd}_{s}\text{sin}\left(
\theta_{n,m,\text{AoD}} \right) + \Phi_{n,m} \right\rbrack \right) \times
\middle| \right)\left( \sqrt{G_{\text{MS}}\left( \theta_{n,m,\text{AoA}}
\right)}\text{exp}\left( \text{jkd}_{u}\text{sin}\left(
\theta_{n,m,\text{AoA}} \right) \right) \times \middle| \right) \ \
\end{matrix}$ (5.4-1)
where
$P_{n}$ is the power of the _n_ th path (Step 5).
$\sigma_{\text{SF}}$ is the lognormal shadow fading (Step 3), applied as a
bulk parameter to the n paths for a given drop.
M is the number of subpaths per-path.
$\theta_{n,m,\text{AoD}}$ is the the AoD for the mth subpath of the nth path
(Step 12).
$\theta_{n,m,\text{AoA}}$ is the the AoA for the mth subpath of the nth path
(Step 12).
$G_{\text{BS}}(\theta_{n,m,\text{AoD}})$ is the BS antenna gain of each array
element (Step 12).
$G_{\text{MS}}(\theta_{n,m,\text{AoA}})$ is the MS antenna gain of each array
element (Step 12).
j is the square root of -1.
k is the wave number $2\frac{\pi}{\lambda}$where $\lambda$is the carrier
wavelength in meters.
$d_{s}$ is the distance in meters from BS antenna element s from the reference
(s = 1) antenna. For the reference antenna s = 1, $d_{1}$=0.
$d_{u}$ is the distance in meters from MS antenna element u from the reference
(u = 1) antenna. For the reference antenna u = 1, $d_{1}$=0.
$\Phi_{n,m}$ is the phase of the mth subpath of the nth path (Step 8).
$\left\| v \right\|$ is the magnitude of the MS velocity vector (Step 2).
$\theta_{v}$ is the angle of the MS velocity vector (Step 2).
The path loss and the log normal shadowing is applied as bulk parameters to
each of the sub-path components of the n path components of the channel.
## 5.5 Optional system simulation features
### 5.5.1 Polarized arrays
Practical antennas on handheld devices require spacings much less than
$\frac{\lambda}{2}$. Polarized antennas are likely to be the primary way to
implement multiple antennas. A cross-polarized model is therefore included
here.
A method of describing polarized antennas is presented, which is compatible
with the 13 step procedure given in Clause 5.3. The following steps replace
step 13 with the new steps 13-19 to account for the additional polarized
components. The (_S/_ 2)-element BS arrays and (_U/_ 2)-element MS arrays
consist of _U_ and _S_ (i.e., twice in number)antennas in the V, H, or off-
axis polarization.
**Step 13:** _Generate additional cross-polarized subpaths._ For each of the 6
paths of Step 4, generate an additional _M_ subpaths at the MS and _M_
subpaths at the BS to represent the portion of each signal that leaks into the
cross-polarized antenna orientation due to scattering.
**Step 14:**. _Set subpath AoDs and AoAs._ Set the AoD and AoA of each subpath
in Step 13 equal to that of the corresponding subpath of the co-polarized
antenna orientation. (Orthogonal sub-rays arrive/depart at common angles.)
**Step 15:** _Generate phase offsets for the cross-polarized elements._ We
define $\Phi_{n,m}^{(x,y)}$ to be the phase offset of the _m_ th subpath of
the _n_ th path between the _x_ component (e.g. either the horizontal _h_ or
vertical _v_) of the BS element and the _y_ component (e.g. either the
horizontal _h_ or vertical _v_) of the MS element. Set to be $\Phi_{n,m}$
generated in Step 8 of Clause 5.3. Generate , , and as i.i.d random variables
drawn from a uniform 0 to 360 degree distribution. (x and y can alternatively
represent the co-polarized and cross-polarized orientations.)
**Step 16:** Decompose each of the co-polarized and cross-polarized sub-rays
into vertical and horizontal components based on the co-polarized and cross-
polarized orientations.
**Step 17:** The coupled power P2 of each sub-path in the horizontal
orientation is set relative to the power P1 of each sub-path in the vertical
orientation according to an XPD ratio, defined as XPD= P1/P2. A single XPD
ratio applies to all sub-paths of a given path. Each path _n_ experiences an
independent realization of the XPD. For each path the realization of the XPD
is drawn from the distributions below.
> For urban macrocells: P2 = P1 - A - B*$\eta$(0,1), where A=0.34*(mean
> relative path power in dB)+7.2 dB, and B=5.5dB is the standard deviation of
> the XPD variation.
>
> For urban microcells: P2 = P1 - A - B*$\eta$(0,1), where A=8 dB, and B=8dB
> is the standard deviation of the XPD variation.
>
> The value $\eta$(0,1) is a zero mean Gaussian random number with unit
> variance and is held constant for all sub-paths of a given path.
>
> By symmetry, the coupled power of the opposite process (horizontal to
> vertical) is the same. The V-to-H XPD draws are independent of the H-to-V
> draws.
**Step 18:** At the receive antennas, decompose each of the vertical and
horizontal components into components that are co-polarized with the receive
antennas and sum the components. This procedure is performed within the
channel coefficient expression given below.
**Step 19:** Apply the path loss based on the BS to MS distance from Step 2,
and the log normal shadow fading determined in step 3 as bulk parameters to
each of the sub-path powers of the channel model.
The fading behavior between the cross pol elements will be a function of the
per-ray spreads and the Doppler. The fading between orthogonal polarizations
has been observed to be independent and therefore the sub-rays phases are
chosen randomly. The propagation characteristics of V-to-V paths are assumed
to be equivalent to the propagation characteristics of H-to-H paths.
The polarization model can be illustrated by a matrix describing the
propagation of and mixing between horizontal and vertical amplitude of each
sub-path. The resulting channel realization is:
(5.5-1)
where:
$\chi_{\text{BS}}^{(v)}(\theta_{n,m,\text{AoD}})$ is the BS antenna complex
response for the V-pol component.
$\chi_{\text{BS}}^{(h)}(\theta_{n,m,\text{AoD}})$ is the BS antenna complex
response for the H-pol component.
$\chi_{\text{MS}}^{(v)}(\theta_{n,m,\text{AoA}})$ is the MS antenna complex
response for the V-pol component.
$\chi_{\text{MS}}^{(h)}(\theta_{n,m,\text{AoA}})$ is the MS antenna complex
response for the H-pol component.
$\left| \chi^{(\text{.})}(\text{.}) \right|^{2}$ is the antenna gain
$r_{n1}$ is the random variable representing the power ratio of waves of the
nth path leaving the BS in the vertical direction and arriving at the MS in
the horizontal direction (v-h) to those leaving in the vertical direction and
arriving in the vertical direction (v-v).
$r_{n2}$ is the random variable representing the power ratio of waves of the
nth path leaving the BS in the horizontal direction and arriving at the MS in
the vertical direction (h-v) to those leaving in the vertical direction and
arriving in the vertical direction (v-v). The variables $r_{n1}$ and $r_{n2}$
are i.i.d.
phase offset of the mth subpath of the nth path between the x component
(either the horizontal h or vertical v) of the BS element and the y component
(either the horizontal h or vertical v) of the MS element.
The other variables are described in Clause 5.4. Note that the description
above corresponds to a transmission from the base to mobile. The appropriate
subscript and superscript changes should be made for uplink transmissions.
The 2x2 matrix represents the scattering phases and amplitudes of a plane wave
leaving the UE with a given angle and polarization and arriving Node B with
another direction and polarization. $r_{n}$ is the average power ratio of
waves leaving the UE in the vertical direction and arriving at Node B in the
horizontal direction (v-h) to those arriving at Node B in the vertical
direction (v-v). By symmetry the power ratio of the opposite process (h-v over
v-v) is chosen to be the same. Note that: $r_{n}$=1/XPD; for the macrocell
model, the XPD is dependent on the path index; for the microcell model, the
XPD is independent of path index.
Expression (2) assumes a random pairing of the of the sub-paths from the MS
and BS. The random orientation of the MS (UE) array affects the value of the
angle $\theta_{n,m,\text{AoA}}$ of each sub-path.
If for example, only vertically polarized antennas are used at both NodeB and
UE then the antenna responses become $\begin{bmatrix} 1 \ 0 \ \end{bmatrix}$
and expression (2) becomes identical to (1). For an ideal dipole antenna at
the NodeB tilted with respect to the z-axis at$\alpha$ degrees the above
vector becomes $\begin{bmatrix} \text{cos}(\alpha) \ \text{sin}(\alpha) \cdot
\text{cos}(\theta_{n,m,\text{AoA}}) \ \end{bmatrix}$.
The elevation spectrum is not modeled.
### 5.5.2 Far scatterer clusters
The Far scatterer cluster model is switch selectable. It represents the bad-
urban case where additional clusters are seen in the environment. This model
is limited to use with the urban macro-cell where the first cluster will be
the primary cluster and the second will be the far scattering cluster (FSC).
When the model is active, it will have the following characteristics:
There is a reduction in the number of paths in the primary cluster from _N_ =
6 to _N_ ~1~ = 4, with the far scattering cluster then having _N_ ~2~ = 2.
Thus the total number of paths will stay the same, now _N_ = _N_ ~1~ + _N_ ~2~
= 4 + 2. This is a modification to the SCM channel generation procedure in
Clause 5.3.
The FSCs will only be modeled for the serving cell, with 3 independent FSCs in
the cell uniformly applied to the area of the cell outside the minimum radius.
The following is a generation procedure for the FSC model and is used in
conjunction with the normal channel generation procedure in Clause 5.3.
**Step 1. Drop the MS within test cell.**
**Step 2. Drop three FS clusters uniformly across the cell hexagon, with a
minimum radius of R = 500m.**
**Step 3. Choose the FS cluster to use for the mobile that is closest to the
mobile.**
**Step 4.** Generate 6 delays
$\tau_{1},\tau_{2},\tau_{3},\tau_{4},\tau_{5},\tau_{6}\text{.}$
**Step 5.** Sort $\tau_{1},\tau_{2},\tau_{3},\tau_{4}$in order of increasing
delays,
**Step 6.** Subtract shortest delay of $\tau_{1},\tau_{2},\tau_{3},\tau_{4}$
from each of $\tau_{1},\tau_{2},\tau_{3},\tau_{4}$.
**Step 7.** Sort $\tau_{5},\tau_{6}$ in the order of increasing delays,
**Step 8.** Subtract shorter delay of $\tau_{5},\tau_{6}$ from each of
$\tau_{5},\tau_{6}$.
**Step 9.** Assign powers to paths corresponding to all 6 delays:
$P_{n}^{'} = e^{\frac{(1 - r_{\text{DS}})\tau_{n}^{'}}{r_{\text{DS}} \cdot
\sigma_{\text{DS}}}} \cdot \text{10}^{\frac{- \xi_{n}}{\text{10}}}$, _n_ =
1,...,6 (5.5-2)
> where $\xi_{n}$ (_n_ = 1,...,6) are i.i.d. Gaussian random variables with
> standard deviation $\sigma_{\text{RND}}$= 3 dB.
**Step 10.** Calculate excess path delay $\tau_{\text{excess}}$and add to
$\tau_{5},\tau_{6}$.
**Step 11. Attenuate P5 and P6 by 1dB/μs of excess delay with a 10dB maximum
attenuation. The excess delay will be defined as the difference in propagation
time between the BS-MS LOS distance, and the BS-FSC-MS distance.**
**Step 12.** Scale each of the powers in the main cluster and in the FSC by a
common log normal randomizing factor of 8dB/$\sqrt{2}$drawn once per cluster
to represent the effect of the independent per cluster shadow fading after
including site correlation of the mobile location.
**Step 13.** Normalize powers of the 6 paths to unity power.
**Step 14.** Select AoDs at the BS for the main cluster from the channel
generation procedure in Clause 5.3. Select AoDs at the BS for the FSC
referenced to the direction of the FSC and selecting values from a Gaussian
distribution with standard deviation _r~AS~_ *mean(AS), where the mean(AS) is
equal to 8 degrees or 15 degrees, chosen to match the angle spread model used.
**Step 15.** Select AoAs at the MS using the equation in step 9 of Clause 5.3,
where the 4 paths associated with the main cluster are referenced to the LOS
direction to the BS, and the 2 paths associated with the FSC are referenced to
the direction of the FSC. The relative powers used are the normalized powers
of step 13 of this clause.
**Step 16.** Apply the bulk path loss and log normal to all 6 paths and apply
the antenna gains accounting for the angles of the sub-paths associated with
the main cluster and the FSC.
### 5.5.3 Line of sight
The line-of-sight (LOS) model is an option that is switch selectable for the
urban micro scenario only. LOS modelling will not be defined for the suburban
or urban macro cases due to the low probability of occurrence. The LOS
modelling is based on the Ricean K factor defined as the ratio of power in the
LOS component to the total power in the diffused non line-of-sight (NLOS)
component. The K factor may be defined in dB or linear units in the equations
in this document. The LOS component is a direct component and therefore has no
per-path angle spreading. The LOS model uses the following description when
this function is selected.
For the NLOS case, the Ricean K factor is set to 0, thus the fading is
determined by the combination of sub-rays as described in Clause 5.3 of the
model.
For the LOS case, the Ricean K factor is based on a simplified version of [1]
: _K_ = 13-0.03*_d_ (dB) where d is the distance between MS and BS in meters.
The probability for LOS or NLOS depends on various environmental factors,
including clutter, street canyons, and distance. For simplicity, the
probability of LOS is defined to be unity at zero distance, and decreases
linearly until a cutoff point at _d_ =300m, where the LOS probability is zero.
(5.5-3)
The K-factor, propagation slope, and shadow fading standard deviation will all
be chosen based on the results of selecting the path to be LOS or NLOS.
The total combined power of the LOS component and the 6 diffuse components is
normalized to unity power so the coherent LOS component will have a relative
amplitude $\sqrt{\frac{K}{K + 1}}$ and the amplitudes of all 6 diffuse paths
will have a relative amplitude $\sqrt{\frac{1}{K + 1}}$, where K is in linear
units. The LOS path will coincide in time (but not necessarily in angle) with
the first (earliest) diffused path. When pairing sub-rays between transmitter
and receiver, the direct components are paired representing the LOS path. The
AoD and AoA of the LOS component are given by $\theta_{\text{BS}}$ and
$\theta_{\text{MS}}$, respectively.
Following the definitions in Clause 5.4, the (_u,s_)th component of the
channel coefficient (_u_ = 1,...,_U_ ; _s_ = 1,...,_S_) for path $n = 1$ is
given by:
$h_{u,s,n = 1}^{\text{LOS}}(t) = \sqrt{\frac{1}{K + 1}}h_{u,s,1}(t) +
\sigma_{\text{SF}}\sqrt{\frac{K}{K + 1}}\begin{matrix} \left(
\sqrt{G_{\text{BS}}(\theta_{\text{BS}})}\text{exp}\left(
\text{jkd}_{s}\text{sin}(\theta_{\text{BS}}) \right) \times \middle|
\right)\left( \sqrt{G_{\text{MS}}(\theta_{\text{MS}})}\text{exp}\left(
\text{jkd}_{u}\text{sin}(\theta_{\text{MS}}) + \Phi_{\text{LOS}} \right)
\times \middle| \right) \ \ \end{matrix}$ (5.5-4)
and by
$h_{u,s,n}^{\text{LOS}}(t) = \sqrt{\frac{1}{K + 1}}h_{u,s,n}(t)$ (5.5-5)
for $n \neq 1$,
where $h_{u,s,n}(t);\text{\ \ \ }n = 1,\text{.}\text{.}\text{.},N$ is as
defined in Clause 5.4 and:
$\theta_{\text{BS}}$ is the the AoD for the LOS component at the base
$\theta_{\text{MS}}$ is the the AoA for the LOS component at the terminal
$\theta_{\text{LOS}}$ is the phase of the LOS component
_K_ is the K factor
### 5.5.4 Urban canyon
The urban canyon model is switch selectable. When switched on, the model
modifies the AoAs of the paths arriving at the subscriber unit. It is for use
in both the urban macro and urban micro scenarios.
Urban-canyons exist in dense urban areas served by macro-cells, and for at-
rooftop micro-cells. When this model is used, the spatial channel for all
subscribers in the simulated universe will be defined by the statistical model
given below. Thus for the SCM channel generation steps given in Clause 5.3,
Step 9 is replaced with steps 9a-d given below, which describe the AoAs of the
paths arriving at the subscriber in the urban canyon scenario.
The following procedure is used to determine the subscriber mean AoAs of the
six paths. This model does not use a building grid, but assigns angles based
on statistical data presented in the figures below. The procedure is defined
in terms of the subscriber terminal:
**Step 9a.** Select a random street orientation from: U(0, 360˚) which also
equals the direction of travel for the UE.
**Step 9b.** Select a random orientation for the subscriber antenna array from
U(0, 360).
**Step 9c.** Given $\alpha = 0\text{.}9$ the predefined fraction of UEs to
experience the urban canyon effect, Select a uniform random draw for the
parameter $\beta$.
**Step 9d.** If $\beta \leq \alpha$ , select the UE AoAs for all arriving
paths to be equal, with 50% probability of being from the direction of the
street orientation obtained in step 9a, and 50% the street orientation plus an
offset of 180°. If $\beta > \alpha$ select the directions of arrival for all
paths using the standard SCM UE AoA model given in Clause 5.3, step 9.
{width="5.3875in" height="4.040972222222222in"}
Figure 5.3. Simulated results of urban canyon algorithm for $\alpha =
0\text{.}9$
In Figure 5.3, the urban canyon procedure is simulated to show the effects of
the model on the composite UE angle spread. The parameter $\alpha =
0\text{.}9$, which describes the percentage of mobiles that will experience
the urban canyon effects. The figure illustrates the result of selecting the
AoAs, where each of the paths has a fixed 35˚ angle spread.
The parameter $\alpha = 0\text{.}9$, is set to a relatively high percentage of
occurrence to emphasize the urban canyon effects, while the remaining
occurrences assume some mixed arrivals to model various other conditions such
as cross streets or where signals arrive from between buildings or from
unknown paths at various angles.
## 5.6 Correlation between channel parameters
In [2], Greenstein presents a model for correlating delay spread (DS) with log
normal shadow fading (SF). Since both are shown to be log-normal distributed,
DS and SF are generally correlated.
The result of the negative correlation between log normal shadowing and delay
spread is significant because it indicates that for a larger SF, the DS is
reduced, and for a smaller SF, the DS is increased.
Cost 259[3] presents the azimuth spread (AS) as also being log-normal
distributed, and likewise being correlated to the DS and SF. Since the
correlation of these parameters is quite high, a spatial channel model needs
to be specified that can reproduce this correlation behavior along with the
expected probability and range of each parameter. To make sure the model is
self-consistent and the full correlation matrix is positive semi-definite, the
intra-site correlations between SF, DS and AS are as follows:
ρ~αβ~ = Correlation between DS & AS = +0.5
ργβ = Correlation between SF & AS = -0.6
ργα = Correlation between SF & DS = -0.6
The resulting intra-site correlation matrix is given by **A:**
$A = \begin{bmatrix} 1 & \rho_{\text{αβ}} & \rho_{\text{γα}} \
\rho_{\text{αβ}} & 1 & \rho_{\text{γβ}} \ \rho_{\text{γα}} & \rho_{\text{γβ}}
& 1 \ \end{bmatrix}$ (5.6-1)
In addition to intra-site correlations given by **A,** there are also
correlations between of these parameters between different sites. These inter-
site correlations are given by
$Β = \begin{bmatrix} 0 & 0 & 0 \ 0 & 0 & 0 \ 0 & 0 & \zeta \ \end{bmatrix}$
(5.6-2)
Essentially, only inter-site correlations between SF are included. $\zeta$ is
the SF correlation which is = 0.5.
Suppose we wish to generate the values for DS, AS, and SF for the _n_ th base
station (_n_ = 1 ... _N_) with respect to a given mobile user. These values
are given as $\sigma_{\text{DS},n}$,$\sigma_{\text{AS},n}$, and
$\sigma_{\text{SF},n}$, respectively. These values are a function of the
respective correlated Gaussian random variables , , and . These correlated
Gaussian random variables are in turn respectively generated from independent
Gaussian random variables $w_{n1}$, $w_{n2}$, and $w_{n3}$ as well as three
global (applicable to all bases) independent Gaussian random variables
$\xi_{1},\xi_{2},\xi_{3}$. The variables , , and are then given by:
$\begin{bmatrix} \alpha_{n} \ \beta_{n} \ \gamma_{n} \ \end{bmatrix} =
\begin{bmatrix} c_{\text{11}} & c_{\text{12}} & c_{\text{13}} \ c_{\text{21}}
& c_{\text{22}} & c_{\text{23}} \ c_{\text{31}} & c_{\text{32}} &
c_{\text{33}} \ \end{bmatrix}\begin{bmatrix} w_{n1} \ w_{n2} \ w_{n3} \
\end{bmatrix} + \begin{bmatrix} 0 & 0 & 0 \ 0 & 0 & 0 \ 0 & 0 & \sqrt{\zeta} \
\end{bmatrix}\begin{bmatrix} \xi_{1} \ \xi_{2} \ \xi_{3} \ \end{bmatrix}$
(5.6-3)
where the matrix **C** with elements _c~ij~_ multiplying the _w_ 's is given
by
$C = \left( A - B \right)^{\frac{1}{2}} = \begin{bmatrix} 1 & \rho_{\text{αβ}}
& \rho_{\text{γα}} \ \rho_{\text{αβ}} & 1 & \rho_{\text{γβ}} \
\rho_{\text{γα}} & \rho_{\text{γβ}} & 1 - \zeta \ \end{bmatrix}^{\frac{1}{2}}$
(5.6-4)
where the superscript "½" denotes the matrix square root. The distribution of
DS for the _n_ th BS is given by:
(5.6-5)
where is generated above, is the logarithmic mean of the distribution of DS,
and = is the logarithmic standard deviation of the distribution of DS.
Similarly the distribution of AS is given by:
(5.6-6)
where $\beta_{n}$ is generated above, is the logarithmic mean of the
distribution of AS, and is the logarithmic standard deviation of the
distribution of AS.
Finally, the distribution for SF is given by:
(5.6-7)
where $\gamma_{n}$ is given above, and $\sigma_{\text{SH}}$ is the shadow
fading standard deviation given in dB. The value of $\sigma_{\text{SH}}$ is
obtained from analysis of the standard deviation from the regression line of
the path loss versus distance. As shown in Table 5.1, these values are 8dB and
10dB for the macro and microcell cases, respectively. Note that the dB value
for SF is simply $\sigma_{\text{SH}}\gamma_{n}$.
## 5.7 Modeling intercell interference
Sophisticated MIMO receivers account for the spatial characteristics of the
signals from the desired sector as well as from the interfering sectors. The
spatial characteristics of these signals can be modeled according to the
channel matrix generated according to Clauses 5.3, 5.4, and 5.5. However, it
may be prohibitively complex to explicitly model the spatial characteristics
of all interfering sectors, especially those whose received powers are
relatively weak. It has been shown that by modelling the signals of relatively
weak interferers as spatially white (and thereby ignoring their spatial
characteristics), the resulting performance difference is negligible. The
following four steps outline the procedure for modelling intercell
interference.
\- Determine the pathloss and shadowing of all sectors. (Note that
\"pathloss\" implicitly includes antenna patterns as well.)
\- Rank the sectors in order of received power (based on pathloss and
shadowing). The base with the strongest received power is the serving base,
and the others are interfering bases.
\- Model the strongest _B_ interfering sectors as spatially correlated
processes whose covariances are determined by their channel matrices. These
channel matrices are generated from Clauses 5.3, 5.4, and 5.5 and account for
the pathloss, shadowing, and fast fading variations. The way in which the
channel realizations are employed depends on the receiver algorithm and
simulation methodology. For example, if only the statistics of the interfering
sectors are required, their signals can be modeled as spatially correlated
additive Gaussian noise processes with covariances determined by the channel
matrices.
\- Model the remaining sectors as spatially white Gaussian noise processes
whose variances are based on a flat Rayleigh fading process. Hence the
variances are varying over the duration of a simulation drop.
To model the remaining \"weak\" sectors, we assume that the mean power of the
flat Rayleigh fading process is equal to the effects of pathloss and shadowing
from each sector. Therefore if the received power from the _b-_ th sector due
to pathloss and shadowing is , then the Rayleigh fading process for the _m-_
th receive antenna (_m_ = 1,..., _M_) as a function of time is given by where
the mean of over time is . The fading processes for each sector and receive
antenna are independent, and the doppler rate is determined by the speed of
the mobile. We assume that the fading is equivalent for each mobile receive
antenna. The total received noise power per receive antenna due to all
\"weak\" sectors at the _m-_ th antenna is
(5.7-1)
where _F_ is the set of indices for the \"weak\" sectors.
For 3-sector systems, we model the _B_ = 8 strongest sectors. For 6-sector
systems, we model _B_ = 12 strongest sectors. The values for _B_ are based on
simulation results for the typical cell layout with a single hexagonal cell
surrounded by two rings of cells (a total of 19 cells) and with users placed
in the center cell. For other layouts, different values of _B_ or an entirely
different technique may be required to properly account for the intercell
interference.
## 5.8 System Level Calibration
The following examples are given for calibration purposes. A resolvable path
at the receiver is assumed to be the energy from one (or more) paths falling
within one chip interval. The Chip rate in UMTS is 3.84Mcps. The PDF of the
number of resulting resolvable paths is recorded.
The following table is for interim calibration purposes. \"Ideal\" signifies
the value taken from measurements, \"Input\" signifies the value used in
generating a random variable, \"Output\" signifies the resulting measured
statistic.
Table 5.3: SCM parameter summary with simulated outputs
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Para | Sub | Urban | Urban | Urban | | | | | | meter | urban | 8° | 15° | Micro | | | | | | | 5° | | | | | | | | | | | σ | σ | σ | | | | | | | σ | ~RND~ | ~RND~ | ~RND~ | | | | | | | ~RND~ | = 3dB | = 3dB | = 3dB | | | | | | | = 3dB | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Input | O | Input | O | | O | | | | | | utput | | utput | | utput | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 1.4 | 1.29 | 1.7 | 1.54 | 1.7 | 1.54 | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Input | Ideal | Input | Ideal | Input | Ideal | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | -6.80 | -6.92 | - | -6.26 | - | -6.26 | | | | | | | 6.195 | | 6.195 | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Input | Ideal | Input | Ideal | Input | Ideal | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 0.288 | 0.363 | 0.18 | 0.25 | 0.18 | 0.25 | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Input | O | Input | O | Input | O | | | | | | utput | | utput | | utput | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 1.2 | 1.22 | 1.3 | 1.37 | 1.3 | 1.37 | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Input | Ideal | Input | Ideal | Input | Ideal | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 0.69 | 0.66 | 0.810 | 0.75 | 1.18 | 1 | | | | | | | | | | .0938 | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Input | Ideal | Input | Ideal | Input | Ideal | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 0.13 | 0.18 | 0.34 | 0.37 | 0.21 | 0 | | | | | | | | | | .2669 | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | E[$\ | Ideal | O | Ideal | O | Ideal | O | | O | | sigma | | utput | | utput | | utput | | utput | | _{\te | | | | | | | | | | xt{DS | | | | | | | | | | }}$] | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 0 | 0. | 0 | 0 | 0 | 0 | | 0. | | | .17μs | 172μs | .65μs | .63μs | .65μs | .63μs | | 251μs | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | E[ | Ideal | O | Ideal | O | Ideal | O | Ideal | O | | $\ | | utput | | utput | | utput | | utput | | sigma | | | | | | | | | |_{\te | | | | | | | | | | xt{AS | | | | | | | | | | },\te | | | | | | | | | | xt{BS | | | | | | | | | | }}$] | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 5° | 5.01° | 8° | 7.97° | 15° | 14.9° | 19˚ | 19.2˚ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | E[$\ | Ideal | O | Ideal | O | Ideal | O | Ideal | O | | sigma | | utput | | utput | | utput | | utput | | _{\te | | | | | | | | | | xt{AS | | | | | | | | | | },\te | | | | | | | | | | xt{MS | | | | | | | | | | }}$] | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | 68° | 69.2° | 68° | 68.3° | 68° | 6 | 68° | NLOS: | | | | | | | | 8.04° | | 67.5° | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
The following figures: Figure 5.4, Figure 5.5, Figure5.6, Figure 5.7, Figure
5.8, represent calibration cases for the current SCM model. Figure 5.9
illustrates the UE composite angle spread for a variety of SCM scenarios.
These curves shown in the various figures correspond to the parameters
presented in Table 5.3, and include the 3dB randomizing factor for the
generation of path powers.
{width="4.123611111111111in" height="3.0930555555555554in"}
Figure 5.4: Probability of urban and suburban time resolvable paths
In this figure, powers are combined within a chip time as a simple way to
estimate the number of resolvable paths.
{width="4.438194444444444in" height="3.328472222222222in"}
Figure 5.5: RMS delay spread, simulated versus ideal
{width="4.470833333333333in" height="3.363888888888889in"}
Figure 5.6: BS composite angle spread, simulated versus ideal
{width="4.522916666666666in" height="3.3833333333333333in"}
Figure 5.7: Dynamic range (dB) for each channel model
{width="4.45625in" height="3.3375in"}
Figure 5.8: CDF of all path powers
{width="5.3694444444444445in" height="4.027083333333334in"}
Figure 5.9: CDF of MS angle spread for various SCM scenarios (circular AS
calculation)
Channel Scenario: Urban Microcellular
A number of parameters are shown in the following plots which are the result
of simulations. Figure 5.10 illustrates the dynamic range of each channel
realization, plotted as a complementary cdf. The difference between the 1.25
MHz and 5 MHz channel bandwidths are shown in the resolvable dynamic range
curves. (Powers are combined within a chip time as a simple way to estimate
the resolvable powers.) The 1% highest value is approximately the same for
both bandwidths. The dynamic range D is calculated from D = 10*log10(max pwr /
min pwr) for each channel realization.
Figure 5.10: Dynamic range of path powers per channel realization, (NLOS)
Figure 5.11: Composite BS angle spread
The composite angle spread at the base is described in Figure 5.11 for the
various K-factors that are seen in the micro-cell model, along with the
LOS/NLOS mix expected when the cell radius is 500m (as measured from the cell
center to cell corner). For the NLOS case, the average composite Base AS = 19
degrees. When experiencing LOS paths with increased K-factors, the angle
spreads are observed to decreased accordingly. The simulated average composite
Base AS for the NLOS model is: 19.2 degrees, and the simulated average
composite Base AS for the mixed propagation model is: 17.6 degrees.
{width="5.339583333333334in" height="3.995138888888889in"}
Figure 5.12: Composite MS angle spread
The composite UE angle spread is described in Figure 5.12 for increased
K-factor from a LOS path, causes the composite AS to be decreased since more
power is present in a single direct component. The mixed case is shown which
has a slight decrease in the statistics due to the 15% of the locations
experiencing the LOS condition (assuming a cell radius of 500m). The simulated
average composite UE AS for the NLOS model is: 67.45 degrees, and the
simulated average composite UE AS for the mixed propagation model is: 62.48
degrees.
The delay spread is illustrated in Figure 5.13, which is also affected by the
presence of a direct path. The mix is produced by the combination of LOS and
NLOS paths. The simulated average delay spread for the NLOS condition is: 251
nS, and the simulated average delay spread for the mixed case is: 231 nS
Figure 5.13: Micro-cell delay spread
Figure 5.14 illustrates the propagation path loss model of the urban microcell
which is characterized by the mixed mode between LOS and NLOS.
{width="6.05625in" height="4.542361111111111in"}
Figure 5.14: Microcell path loss versus distance
###### ### Annex A: Calculation of circular angle spread
For a signal with _N_ multi-paths, each has _M_ sub-paths, the conventional
angle spread calculation for the composite signal is given by
$\sigma_{\text{AS}} = \sqrt{\frac{\sum_{n = 1}^{N}{\sum_{m = 1}^{M}{\left(
\theta_{n,m,\mu} \right)^{2} \cdot P_{n,m}}}}{\sum_{n = 1}^{N}{\sum_{m =
1}^{M}P_{n,m}}}}$ (A-1)
where $P_{n,m}$is the power for the _m_ th subpath of the _n_ th path,
$\theta_{n,m,\mu}$ is defined as
$\theta_{n,m,\mu} = \text{mod}\left( \theta_{n,m} - \mu_{\theta} + \pi,\ 2\pi
\right) - \pi$, (A-2)
$\mu_{\theta}$ is defined as
$\mu_{\theta} = \frac{\sum_{n = 1}^{N}{\sum_{m = 1}^{M}{\theta_{n,m} \cdot
P_{n,m}}}}{\sum_{n = 1}^{N}{\sum_{m = 1}^{M}P_{n,m}}}$ (A-3)
and $\theta_{n,m}$ is the AoA (or AoD) of the _m_ th subpath of the _n_ th
path. Note that we have dropped the AoA (AoD) subscript for convenience.
We note that the angle spread should be independent of a linear shift in the
AoAs. In other words, by replacing $\theta_{n,m}$ with $\theta_{n,m} +
\Delta$, the angle spread $\sigma_{\text{AS}}\left( \Delta \right)$ which is
now a function of $\Delta$ should actually be constant no matter what $\Delta$
is. However, due to the ambiguity of the modulo $2\pi$operation, this may not
be the case. Therefore the angle spread should be the minimum of
$\sigma_{\text{AS}}\left( \Delta \right)$ over all $\Delta$:
$\sigma_{\text{AS}} = \underset{\Delta}{\text{min}}\sigma_{\text{AS}}\left(
\Delta \right) = \sqrt{\frac{\sum_{n = 1}^{N}{\sum_{m = 1}^{M}{\left(
\theta_{n,m,\mu}\left( \Delta \right) \right)^{2} \cdot P_{n,m}}}}{\sum_{n =
1}^{N}{\sum_{m = 1}^{M}P_{n,m}}}}$ (A-4)
where $\theta_{n,m,\mu}\left( \Delta \right)$ is defined as
$\theta_{n,m,\mu}\left( \Delta \right) = \text{mod}\left( \theta_{n,m}\left(
\Delta \right) - \mu_{\theta}\left( \Delta \right) + \pi,\ 2\pi \right) -
\pi$, (A-5)
$\mu_{\theta}\left( \Delta \right)$ is defined as
$\mu_{\theta}\left( \Delta \right) = \frac{\sum_{n = 1}^{N}{\sum_{m =
1}^{M}{\theta_{n,m}\left( \Delta \right) \cdot P_{n,m}}}}{\sum_{n =
1}^{N}{\sum_{m = 1}^{M}P_{n,m}}}$ (A-6)
and $\theta_{n,m}\left( \Delta \right) = \text{mod}\left( \theta_{n,m} +
\Delta + \pi,\ 2\pi \right) - \pi$.
#