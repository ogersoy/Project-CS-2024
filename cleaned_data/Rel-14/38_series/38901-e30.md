# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document captures the findings of the study item, \"Study on
channel model for frequency spectrum above 6 GHz\" [2] and from further
findings of the study item, \"Study on New Radio Access Technology [22].\" The
channel models in the present document address the frequency range 0.5-100
GHz. The purpose of this TR is to help TSG RAN WG1 to properly model and
evaluate the performance of physical layer techniques using the appropriate
channel model(s). Therefore, the TR will be kept up-to-date via CRs in the
future.
This document relates to the 3GPP evaluation methodology and covers the
modelling of the physical layer of both Mobile Equipment and Access Network of
3GPP systems.
This document is intended to capture the channel model(s) for frequencies from
0.5GHz up to 100GHz.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TD RP-151606: \"Study on channel model for frequency spectrum above 6
GHz\".
[3] 3GPP TR 36.873 (V12.2.0): \"Study on 3D channel model for LTE\".
[4] 3GPP RP-151847: \"Report of RAN email discussion about >6GHz channel
modelling\", Samsung.
[5] 3GPP TD R1-163408: \"Additional Considerations on Building Penetration
Loss Modelling for 5G System Performance Evaluation\", Straight Path
Communications.
[6] ICT-317669-METIS/D1.4: \"METIS channel model, METIS 2020, Feb, 2015\".
[7] Glassner, A S: \"An introduction to ray tracing. Elsevier, 1989\".
[8] McKown, J. W., Hamilton, R. L.: \"Ray tracing as a design tool for radio
networks, Network, IEEE, 1991(6): 27-30\".
[9] Kurner, T., Cichon, D. J., Wiesbeck, W.: \"Concepts and results for 3D
digital terrain-based wave propagation models: An overview\", IEEE J.Select.
Areas Commun., vol. 11, pp. 1002--1012, 1993.
[10] Born, M., Wolf, E.: \"Principles of optics: electromagnetic theory of
propagation, interference and diffraction of light\", CUP Archive, 2000.
[11] Friis, H.: \"A note on a simple transmission formula\", proc. IRE, vol.
34, no. 5, pp. 254--256, 1946.
[12] Kouyoumjian, R.G., Pathak, P.H.: \"A uniform geometrical theory of
diffraction for an edge in a perfectly conducting surface\" Proc. IEEE, vol.
62, pp. 1448--1461, Nov. 1974.
[13] Pathak, P.H., Burnside, W., Marhefka, R.: \"A Uniform GTD Analysis of the
Diffraction of Electromagnetic Waves by a Smooth Convex Surface\", IEEE
Transactions on Antennas and Propagation, vol. 28, no. 5, pp. 631--642, 1980.
[14] IST-WINNER II Deliverable 1.1.2 v.1.2, \"WINNER II Channel Models\", IST-
WINNER2, Tech. Rep., 2007 ([http://www.ist-
winner.org/deliverables.html]{.underline}).
[15] 3GPP TR36.101: \"User Equipment (UE) radio transmission and reception\".
[16] 3GPP TR36.104: \"Base Station (BS) radio transmission and reception\".
[17] Asplund, H., Medbo, J., Göransson, B., Karlsson, J., Sköld, J.: \"A
simplified approach to applying the 3GPP spatial channel model\", in Proc. of
PIMRC 2006.
[18] ITU-R Rec. P.1816: \"The prediction of the time and the spatial profile
for broadband land mobile services using UHF and SHF bands\".
[19] ITU-R Rec. P.2040-1: \"Effects of building materials and structures on
radiowave propagation above about 100 MHz\", International Telecommunication
Union Radiocommunication Sector ITU-R, 07/2015.
[20] ITU-R Rec. P.527-3: \"Electrical characteristics of the surface of the
earth\", International Telecommunication Union Radiocommunication Sector
ITU-R, 03/1992.
[21] Jordan, E.C., Balmain, K.G.: \"Electromagnetic Waves and Radiating
Systems\", Prentice-Hall Inc., 1968.
[22] 3GPP TD RP-162469: \"Study on New Radio (NR) Access Technology\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] apply.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
$A$ antenna radiation power pattern
$A_{\text{max}}$ maximum attenuation
_d~2D~_ 2D distance between Tx and Rx
_d_ ~3D~ 3D distance between Tx and Rx
$d_{H}$ antenna element spacing in horizontal direction
$d_{V}$ antenna element spacing in vertical direction
_f_ frequency
_f~c~_ center frequency / carrier frequency
_F_ ~rx,u,θ~ Receive antenna element _u_ field pattern in the direction of the
spherical basis vector {width="0.12708333333333333in" height="0.21875in"}
_F_ ~rx,u,ϕ~ Receive antenna element _u_ field pattern in the direction of the
spherical basis vector {width="0.12708333333333333in"
height="0.2423611111111111in"}
_F_ ~tx,s,θ~ Transmit antenna element _s_ field pattern in the direction of
the spherical basis vector {width="0.12708333333333333in" height="0.21875in"}
_F_ ~rx,s,ϕ~ Transmit antenna element _s_ field pattern in the direction of
the spherical basis vector {width="0.12708333333333333in"
height="0.2423611111111111in"}
_h_ ~BS~ antenna height for BS
_h_ ~UT~ antenna height for UT
{width="0.3527777777777778in" height="0.2423611111111111in"} spherical unit
vector of cluster _n_ , ray _m_ , for receiver
{width="0.3527777777777778in" height="0.2423611111111111in"} spherical unit
vector of cluster _n_ , ray _m_ , for transmitter
_α_ bearing angle
_β_ downtilt angle
_γ_ slant angle
$\lambda$ wavelength
_κ_ cross-polarization power ratio in linear scale
_μ_ ~lgASA~ mean value of 10-base logarithm of azimuth angle spread of arrival
_μ_ ~lgASD~ mean value of 10-base logarithm of azimuth angle spread of
departure
_μ_ ~lgDS~ mean value of 10-base logarithm of delay spread
_μ_ ~lgZSA~ mean value of 10-base logarithm of zenith angle spread of arrival
_μ_ ~lgZSD~ mean value of 10-base logarithm of zenith angle spread of
departure
$\text{Pr}_{\text{LOS}}$ LOS probability
$\text{SLA}_{V}$ side-lobe attenuation in vertical direction
_σ_ ~lgASA~ standard deviation of 10-base logarithm of azimuth angle spread of
arrival
_σ_ ~lgASD~ standard deviation of 10-base logarithm of azimuth angle spread of
departure
_σ_ ~lgDS~ standard deviation value of 10-base logarithm of delay spread
_σ_ ~lgZSA~ standard deviation of 10-base logarithm of zenith angle spread of
arrival
_σ_ ~lgZSD~ standard deviation of 10-base logarithm of zenith angle spread of
departure
{width="0.2659722222222222in" height="0.25416666666666665in"} standard
deviation of SF
{width="0.12152777777777778in" height="0.19583333333333333in"} azimuth angle
{width="0.12152777777777778in" height="0.1673611111111111in"} zenith angle
{width="0.12152777777777778in" height="0.2423611111111111in"} spherical basis
vector (unit vector) for GCS
{width="0.1840277777777778in" height="0.2659722222222222in"} spherical basis
vector (unit vector) for LCS
{width="0.2916666666666667in" height="0.25416666666666665in"} horizontal 3 dB
beamwidth of an antenna
{width="0.12152777777777778in" height="0.21875in"} spherical basis vector
(unit vector), orthogonal to {width="0.12152777777777778in"
height="0.2423611111111111in"}, for GCS
{width="0.1840277777777778in" height="0.23055555555555557in"} spherical basis
vector (unit vector), orthogonal to {width="0.1840277777777778in"
height="0.2659722222222222in"}, for LCS
$\theta_{\text{etilt}}$ electrical steering angle in vertical direction
{width="0.2951388888888889in" height="0.25416666666666665in"} vertical 3 dB
beamwidth of an antenna
_ψ_ Angular displacement between two pairs of unit vectors
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
2D two-dimensional
3D three-dimensional
AOA Azimuth angle Of Arrival
AOD Azimuth angle Of Departure
AS Angular Spread
ASA Azimuth angle Spread of Arrival
ASD Azimuth angle Spread of Departure
BF Beamforming
BS Base Station
BP Breakpoint
BW Beamwidth
CDF Cumulative Distribution Function
CDL Clustered Delay Line
CRS Common Reference Signal
D2D Device-to-Device
DFT Discrete Fourier Transform
DS Delay Spread
GCS Global Coordinate System
IID Independent and identically distributed
InH Indoor Hotspot
IRR Infrared Reflecting
ISD Intersite Distance
K Ricean K factor
LCS Local Coordinate System
LOS Line Of Sight
MIMO Multiple-Input-Multiple-Output
MPC Multipath Component
NLOS Non-LOS
O2I Outdoor-to-Indoor
O2O Outdoor-to-Outdoor
OFDM Orthogonal Frequency-Division Multiplexing
PAS Power angular spectrum
PL Path Loss
PRB Physical Resource Block
RCS Radar cross-section
RMa Rural Macro
RMS Root Mean Square
RSRP Reference Signal Received Power
Rx Receiver
SCM Spatial Channel Model
SINR Signal-to-Interference-plus-Noise Ratio
SIR Signal-to-Interference Ratio
SSCM Statistical Spatial Channel Model
SF Shadow Fading
SLA Sidelobe Attenuation
TDL Tapped Delay Line
TOA Time Of Arrival
TRP Transmission Reception Point
Tx Transmitter
UMa Urban Macro
UMi Urban Micro
UT User Terminal
UTD Uniform Theory of Diffraction
V2V Vehicle-to-Vehicle
XPR Cross-Polarization Ratio
ZOA Zenith angle Of Arrival
ZOD Zenith angle Of Departure
ZSA Zenith angle Spread of Arrival
ZSD Zenith angle Spread of Departure
# 4 Introduction
At 3GPP TSG RAN #69 meeting the Study Item Description on \"Study on channel
model for frequency spectrum above 6 GHz\" was approved [2]. This study item
covers the identification of the status/expectation of existing information on
high frequencies (e.g. spectrum allocation, scenarios of interest,
measurements, etc), and the channel model(s) for frequencies up to 100 GHz.
This technical report documents the channel model(s). The new channel model
has to a large degree been aligned with earlier channel models for \60 GHz | +-------------+-------------+-------------+-------------+-------------+ | Urban macro | CMCC | No | NYU | | | | | kia/Aalborg | | | | | No | | | | | | kia/Aalborg | | | | +-------------+-------------+-------------+-------------+-------------+ | Urban micro | Aalto | AT&T | AT&T | AT&T | | | University | | | | | | | Aalto | Huawei | Aalto | | | CMCC | University | | University | | | | | Intel | | | | Ericsson | CMCC | /Fraunhofer | Huawei | | | | | HHI | | | | Intel | Huawei | | Intel | | | /Fraunhofer | | NTT DOCOMO | /Fraunhofer | | | HHI | Intel | | HHI | | | | /Fraunhofer | Qualcomm | | | | No | HHI | | NYU | | | kia/Aalborg | | CATT | | | | | No | | | | | NTT DOCOMO | kia/Aalborg | ETRI | | | | | | | | | | Orange | NTT DOCOMO | ITRI/CCU | | | | | | | | | | | NYU | ZTE | | | | | | | | | | | Qualcomm | | | | | | | | | | | | Samsung | | | | | | | | | | | | CATT | | | | | | | | | | | | KT | | | | | | | | | | | | ETRI | | | | | | | | | | | | ITRI/CCU | | | | | | | | | | | | ZTE | | | +-------------+-------------+-------------+-------------+-------------+ | Indoor | Aalto | AT&T | AT&T | AT&T | | | University | | | | | | | Alc | Ericsson | Aalto | | | CMCC | atel-Lucent | | University | | | | | Huawei | | | | Ericsson | Aalto | | Huawei | | | | University | Intel | | | | Huawei | | /Fraunhofer | Intel | | | | BUPT | HHI | /Fraunhofer | | | Intel | | | HHI | | | /Fraunhofer | CMCC | NTT DOCOMO | | | | HHI | | | NYU | | | | Huawei | NYU | | | | No | | | | | | kia/Aalborg | Intel | Qualcomm | | | | | /Fraunhofer | | | | | NTT DOCOMO | HHI | CATT | | | | | | | | | | Orange | No | ETRI | | | | | kia/Aalborg | | | | | | | ITRI/CCU | | | | | NTT DOCOMO | | | | | | | ZTE | | | | | NYU | | | | | | | | | | | | Qualcomm | | | | | | | | | | | | Samsung | | | | | | | | | | | | CATT | | | | | | | | | | | | KT | | | | | | | | | | | | ETRI | | | | | | | | | | | | ITRI/CCU | | | | | | | | | | | | ZTE | | | +-------------+-------------+-------------+-------------+-------------+ | O2I | Ericsson | AT&T | AT&T | AT&T | | | | | | | | | Huawei | Alc | Ericsson | Huawei | | | | atel-Lucent | | | | | Intel | | Huawei | Intel | | | /Fraunhofer | Ericsson | | /Fraunhofer | | | HHI | | Intel | HHI | | | | Huawei | /Fraunhofer | | | | No | | HHI | | | | kia/Aalborg | Intel | | | | | | /Fraunhofer | NTT DOCOMO | | | | NTT DOCOMO | HHI | | | | | | | | | | | Orange | NTT DOCOMO | | | | | | | | | | | | NYU | | | | | | | | | | | | Samsung | | | | | | | | | | | | KT | | | +-------------+-------------+-------------+-------------+-------------+
## 6.4 Modelling objectives
The requirements for channel modelling are as follows.
\- Channel model SI should take into account the outcome of RAN-level
discussion in the \'5G\' requirement study item
\- Complexity in terms of Description, Generating channel coefficients,
development complexity and Simulation time should be considered.
\- Support frequency range up to 100 GHz.
\- The critical path of the SI is 6 -- 100 GHz
\- Take care of mmW propagation aspects such as blocking and atmosphere
attenuation.
\- The model should be consistent in space, time and frequency
\- Support large channel bandwidths (up to 10% of carrier frequency)
\- Aim for the channel model to cover a range of coupling loss considering
current typical cell sizes, e.g. up to km-range macro cells. Note: This is to
enable investigation of the relevance of the 5G system using higher frequency
bands to existing deployments.
\- Accommodate UT mobility
\- Mobile speed up to 500 km/h.
\- Develop a methodology considering that model extensions to D2D and V2V may
be developed in future SI.
\- Support large antenna arrays
# 7 Channel model(s) for 0.5-100 GHz
## 7.1 Coordinate system
### 7.1.1 Definition
A coordinate system is defined by the x, y, z axes, the spherical angles and
the spherical unit vectors as shown in Figure 7.1.1. Figure 7.1.1 defines the
zenith angle $\theta$ and the azimuth angle$\varphi$ in a Cartesian coordinate
system. Note that $\theta = 0$points to the zenith and $\theta =
\text{90}^{0}$points to the horizon. The field component in the direction of
$\hat{\theta}$ is given by $F_{\theta}$and the field component in the
direction of $\hat{\varphi}$ is given by $F_{\varphi}$.
Figure 7.1.1: Definition of spherical angles and spherical unit vectors in a
Cartesian coordinate system, where$\hat{n}$is the given direction,
$\hat{\theta}$ and $\hat{\varphi}$are the spherical basis vectors
### 7.1.2 Local and global coordinate systems
A Global Coordinate System (GCS) is defined for a system comprising multiple
BSs and UTs. An array antenna for a BS or a UT can be defined in a Local
Coordinate System (LCS). An LCS is used as a reference to define the vector
far-field that is pattern and polarization, of each antenna element in an
array. It is assumed that the far-field is known in the LCS by formulae. The
placement of an array within the GCS is defined by the translation between the
GCS and a LCS. The orientation of the array with respect to the GCS is defined
in general by a sequence of rotations (described in subclause 7.1.3). Since
this orientation is in general different from the GCS orientation, it is
necessary to map the vector fields of the array elements from the LCS to the
GCS. This mapping depends only on the orientation of the array and is given by
the equations in subclause 7.1.3. Note that any arbitrary mechanical
orientation of the array can be achieved by rotating the LCS with respect to
the GCS.
### 7.1.3 Transformation from a LCS to a GCS
A GCS with coordinates (_x_ , _y_ , _z_ , $\theta$, $\varphi$) and unit
vectors ($\hat{\theta}$, $\hat{\varphi}$) and an LCS with \"primed\"
coordinates (_x\'_ , _y\'_ , _z\'_ , $\theta'$, $\varphi'$) and \"primed\"
unit vectors ($\hat{\theta}'$, $\hat{\varphi}'$) are defined with a common
origins in Figures 7.1.3-1 and 7.1.3-2. Figure 7.1.3-1 illustrates the
sequence of rotations that relate the GCS (gray) and the LCS (blue). Figure
7.1.3-2 shows the coordinate direction and unit vectors of the GCS (gray) and
the LCS (blue). Note that the vector fields of the array antenna elements are
defined in the LCS. In Figure 7.1.3-1 we consider an arbitrary 3D-rotation of
the LCS with respect to the GCS given by the angles _α_ , _β_ , _γ_. The set
of angles _α_ , _β_ , _γ_ can also be termed as the orientation of the array
antenna with respect to the GCS.
Note that the transformation from a LCS to a GCS depends only on the angles
_α_ , _β_ , _γ_. The angle _α_ is called the bearing angle, _β_ is called the
downtilt angle and _γ_ is called the slant angle.
* * *
{width="2.9229166666666666in" height="3.0902777777777777in"}
{width="2.928472222222222in" height="3.088888888888889in"} Figure 7.1.3-1:
Orienting the LCS (blue) with respect to the GCS (gray) by a sequence of 3
rotations: _α_ , _β_ , _γ_. Figure 7.1.3-2: Definition of spherical
coordinates and unit vectors in both the GCS and LCS.
* * *
Let $A'(\theta\text{',}\varphi')$denote an antenna element pattern in the LCS
and $A(\theta,\varphi)$denote the same antenna element pattern in the GCS.
Then the two are related simply by
$A(\theta,\varphi) = A'(\theta\text{',}\varphi')$ (7.1-1)
with $\theta'$ and $\varphi'$ given by (7.1-7) and (7.1-8).
Let us denote the polarized field components in the LCS by
$F_{\theta'}^{'}(\theta\text{',}\varphi')$,
$F_{\varphi'}^{'}(\theta\text{',}\varphi')$and in the GCS by
$F_{\theta}(\theta,\varphi)$, $F_{\varphi}(\theta,\varphi)$. Then they are
related by equation (7.1-11).
Any arbitrary 3D rotation can be specified by at most 3 elemental rotations,
and following the framework of Figure 7.1.3-1, a series of rotations about the
z, $\overset{˙}{y}$and $\overset{¨}{x}$axes are assumed here, in that order.
The dotted and double-dotted marks indicate that the rotations are intrinsic,
which means that they are the result of one (⋅) or two (⋅⋅) intermediate
rotations. In other words, the $\overset{˙}{y}$ axis is the original y axis
after the first rotation about z, and the $\overset{¨}{x}$ axis is the
original x axis after the first rotation about z and the second rotation
about$\overset{˙}{y}$. A first rotation of _α_ about _z_ sets the antenna
bearing angle (i.e. the sector pointing direction for a BS antenna element).
The second rotation of _β_ about $\overset{˙}{y}$ sets the antenna downtilt
angle. Finally, the third rotation of _γ_ about $\overset{¨}{x}$ sets the
antenna slant angle. The orientation of the _x_ , _y_ and _z_ axes after all
three rotations can be denoted as $\dddot{x}$, $\dddot{y}$ and $\dddot{z}$.
These triple-dotted axes represents the final orientation of the LCS, and for
notational purposes denoted as the _x\'_ , _y\'_ and _z\'_ axes (local or
\"primed\" coordinate system).
In order to establish the equations for transformation of the coordinate
system and the polarized antenna field patterns between the GCS and the LCS,
it is necessary to determine the composite rotation matrix that describes the
transformation of point (_x_ , _y_ , _z_) in the GCS into point (_x\'_ , _y\'_
, _z\'_) in the LCS. This rotation matrix is computed as the product of three
elemental rotation matrices. The matrix to describe rotations about the _z_
,$\overset{˙}{y}$and $\overset{¨}{x}$ axes by the angles _α_ , _β_ and _γ_
respectively and in that order is defined as
$R = R_{Z}\left( \alpha \right)R_{Y}\left( \beta \right)R_{X}\left( \gamma
\right) = \begin{pmatrix} \+ \text{cos}\alpha & \- \text{sin}\alpha & 0 \ \+
\text{sin}\alpha & \+ \text{cos}\alpha & 0 \ 0 & 0 & 1 \
\end{pmatrix}\begin{pmatrix} \+ \text{cos}\beta & 0 & \+ \text{sin}\beta \ 0 &
1 & 0 \ \- \text{sin}\beta & 0 & \+ \text{cos}\beta \
\end{pmatrix}\begin{pmatrix} 1 & 0 & 0 \ 0 & \+ \text{cos}\gamma & \-
\text{sin}\gamma \ 0 & \+ \text{sin}\gamma & \+ \text{cos}\gamma \
\end{pmatrix}$ (7.1-2)
The reverse transformation is given by the inverse of _R_ , which is also
equal to the transpose of _R_ since it is orthogonal.
$R^{- 1} = R_{X}\left( - \gamma \right)R_{Y}\left( - \beta \right)R_{Z}\left(
- \alpha \right) = R^{T}$ (7.1-3)
The simplified forward and reverse composite rotation matrices are given by
$R = \begin{pmatrix} \text{cos}\alpha\text{cos}\beta &
\text{cos}\alpha\text{sin}\beta\text{sin}\gamma -
\text{sin}\alpha\text{cos}\gamma &
\text{cos}\alpha\text{sin}\beta\text{cos}\gamma +
\text{sin}\alpha\text{sin}\gamma \ \text{sin}\alpha\text{cos}\beta &
\text{sin}\alpha\text{sin}\beta\text{sin}\gamma +
\text{cos}\alpha\text{cos}\gamma &
\text{sin}\alpha\text{sin}\beta\text{cos}\gamma -
\text{cos}\alpha\text{sin}\gamma \ \- \text{sin}\beta &
\text{cos}\beta\text{sin}\gamma & \text{cos}\beta\text{cos}\gamma \
\end{pmatrix}$ (7.1-4)
and
$R^{- 1} = \begin{pmatrix} \text{cos}\alpha\text{cos}\beta &
\text{sin}\alpha\text{cos}\beta & \- \text{sin}\beta \
\text{cos}\alpha\text{sin}\beta\text{sin}\gamma -
\text{sin}\alpha\text{cos}\gamma &
\text{sin}\alpha\text{sin}\beta\text{sin}\gamma +
\text{cos}\alpha\text{cos}\gamma & \text{cos}\beta\text{sin}\gamma \
\text{cos}\alpha\text{sin}\beta\text{cos}\gamma +
\text{sin}\alpha\text{sin}\gamma &
\text{sin}\alpha\text{sin}\beta\text{cos}\gamma -
\text{cos}\alpha\text{sin}\gamma & \text{cos}\beta\text{cos}\gamma \
\end{pmatrix}$ (7.1-5)
These transformations can be used to derive the angular and polarization
relationships between the two coordinate systems.
In order to establish the angular relationships, consider a point (_x_ , _y_ ,
_z_) on the unit sphere defined by the spherical coordinates (_ρ_ =1, _θ_ ,
_φ_), where _ρ_ is the unit radius, _θ_ is the zenith angle measured from the
+_z_ -axis, and _φ_ is the azimuth angle measured from the +_x_ -axis in the
_x_ -_y_ plane. The Cartesian representation of that point is given by
$\hat{\rho} = \begin{matrix} \left( x \middle| \right)\left( y \middle|
\right) \ \ \end{matrix}$ (7.1-6)
The zenith angle is computed as $\text{arccos}\left( \hat{\rho} \cdot \hat{z}
\right)$ and the azimuth angle as $\text{arg}(\hat{x} \cdot \hat{\rho} + j\
\hat{y} \cdot \hat{\rho})$, where $\hat{x}$, $\hat{y}$ and $\hat{z}$ are the
Cartesian unit vectors. If this point represents a location in the GCS defined
by _θ_ and _φ_ , the corresponding position in the LCS is given by $R^{-
1}\hat{\rho}$, from which local angles _θ\'_ and _φ\'_ can be computed. The
results are given in equations (7.1-7) and (7.1-8).
$\theta'\left( \alpha,\beta,\gamma;\theta,\varphi \right) = \text{arccos}$
(7.1-7)
$\varphi'\left( \alpha,\beta,\gamma;\theta,\varphi \right) = \text{arg}\left(
\begin{bmatrix} 1 \ j \ 0 \ \end{bmatrix}^{T}R^{- 1}\hat{\rho} \right) =
\text{arg}\begin{matrix} \left( \left(
\text{cos}\beta\text{sin}\theta\text{cos}\left( \varphi - \alpha \right) -
\text{sin}\beta\text{cos}\theta \right) + \middle| \right) \ \ \end{matrix}$
(7.1-8)
These formulae relate the spherical angles (_θ_ , _φ_) of the GCS to the
spherical angles (_θ\'_ , _φ\'_) of the LCS given the rotation operation
defined by the angles (_α_ , _β_ , _γ_).
Let us denote the polarized field components$F_{\theta}(\theta,\varphi)$,
$F_{\varphi}(\theta,\varphi)$ in the GCS
and$F_{\theta'}^{'}(\theta\text{',}\varphi')$,
$F_{\varphi'}^{'}(\theta\text{',}\varphi')$ in the LCS. These are related by
$\begin{pmatrix} F_{\theta}\left( \theta,\varphi \right) \ F_{\varphi}\left(
\theta,\varphi \right) \ \end{pmatrix} = \begin{pmatrix} \hat{\theta}\left(
\theta,\varphi \right)^{T}R{\hat{\theta}}^{'}\left( \theta^{'},\varphi^{'}
\right) & \hat{\theta}\left( \theta,\varphi
\right)^{T}R{\hat{\varphi}}^{'}\left( \theta^{'},\varphi^{'} \right) \
\hat{\varphi}\left( \theta,\varphi \right)^{T}R{\hat{\theta}}^{'}\left(
\theta^{'},\varphi^{'} \right) & \hat{\varphi}\left( \theta,\varphi
\right)^{T}R{\hat{\varphi}}^{'}\left( \theta^{'},\varphi^{'} \right) \
\end{pmatrix}\begin{pmatrix} F_{\theta^{'}}^{'}\left( \theta^{'},\varphi^{'}
\right) \ F_{\varphi^{'}}^{'}\left( \theta^{'},\varphi^{'} \right) \
\end{pmatrix}$ (7.1-9)
In this equation, $\hat{\theta}$ and $\hat{\varphi}$ represent the spherical
unit vectors of the GCS, and ${\hat{\theta}}^{'}$ and ${\hat{\varphi}}^{'}$are
the representations in the LCS. The forward rotation matrix R transforms the
LCS unit vectors into the GCS frame of reference. These pairs of unit vectors
are orthogonal and can be represented as shown in Figure 7.1.3-3.
Figure 7.1.3-3: Rotation of the spherical basis vectors by an angle _ψ_ due to
the orientation of the LCS with respect to the GCS
Assuming an angular displacement of _ψ_ between the two pairs of unit vectors,
the rotation matrix of equation (7.1-9) can be further simplified as:
$\begin{pmatrix} \hat{\theta}\left( \theta,\varphi
\right)^{T}R{\hat{\theta}}^{'}\left( \theta^{'},\varphi^{'} \right) &
\hat{\theta}\left( \theta,\varphi \right)^{T}R{\hat{\varphi}}^{'}\left(
\theta^{'},\varphi^{'} \right) \ \hat{\varphi}\left( \theta,\varphi
\right)^{T}R{\hat{\theta}}^{'}\left( \theta^{'},\varphi^{'} \right) &
\hat{\varphi}\left( \theta,\varphi \right)^{T}R{\hat{\varphi}}^{'}\left(
\theta^{'},\varphi^{'} \right) \ \end{pmatrix} = \begin{pmatrix}
\text{cos}\psi & \text{cos}\left( \pi/2 + \psi \right) \ \text{cos}\left(
\pi/2 - \psi \right) & \text{cos}\psi \ \end{pmatrix} = \begin{pmatrix} \+
\text{cos}\psi & \- \text{sin}\psi \ \+ \text{sin}\psi & \+ \text{cos}\psi \
\end{pmatrix}$ (7.1-10)
and equation (7.1-9) can be written as:
$\begin{pmatrix} F_{\theta}\left( \theta,\varphi \right) \ F_{\varphi}\left(
\theta,\varphi \right) \ \end{pmatrix} = \begin{pmatrix} \+ \text{cos}\psi &
\- \text{sin}\psi \ \+ \text{sin}\psi & \+ \text{cos}\psi \
\end{pmatrix}\begin{pmatrix} F_{\theta^{'}}^{'}\left( \theta^{'},\varphi^{'}
\right) \ F_{\varphi^{'}}^{'}\left( \theta^{'},\varphi^{'} \right) \
\end{pmatrix}$ (7.1-11)
The angle _ψ_ can be computed in numerous ways from equation (7.1-10), with
one such way approach being
$\psi = \text{arg}\left( \hat{\theta}\left( \theta,\varphi
\right)^{T}R{\hat{\theta}}^{'}\left( \theta^{'},\varphi^{'} \right) + j\
\hat{\varphi}\left( \theta,\varphi \right)^{T}R{\hat{\theta}}^{'}\left(
\theta^{'},\varphi^{'} \right) \right)$ (7.1-12)
The dot products are readily computed using the Cartesian representation of
the spherical unit vectors. The general expressions for these unit vectors are
given by
$\hat{\theta} = \begin{pmatrix} \text{cos}\theta\text{cos}\varphi \
\text{cos}\theta\text{sin}\varphi \ \- \text{sin}\theta \ \end{pmatrix}$
(7.1-13)
and
$\hat{\varphi} = \begin{pmatrix} \- \text{sin}\varphi \ \+ \text{cos}\varphi \
0 \ \end{pmatrix}$ (7.1-14)
The angle _ψ_ can be expressed as a function of mechanical orientation (_α_ ,
_β_ , _γ_) and spherical position (_θ_ , _φ_), and is given by
$\psi = \text{arg}\begin{pmatrix} \left(
\text{sin}\gamma\text{cos}\theta\text{sin}\left( \varphi - \alpha \right) +
\text{cos}\gamma\left( \text{cos}\beta\text{sin}\theta -
\text{sin}\beta\text{cos}\theta\text{cos}\left( \varphi - \alpha \right)
\right) \right) + \ j\left( \text{sin}\gamma\text{cos}\left( \varphi - \alpha
\right) + \text{sin}\beta\text{cos}\gamma\text{sin}\left( \varphi - \alpha
\right) \right) \ \end{pmatrix}$ (7.1-15)
It can be shown that$\text{cos}\psi$and$\text{sin}\psi$can be expressed as:
$\text{cos}\psi = \frac{\text{cos}\beta\text{cos}\gamma\text{sin}\theta -
\left( \text{sin}\beta\text{cos}\gamma\text{cos}\left( \varphi - \alpha
\right) - \text{sin}\gamma\text{sin}\left( \varphi - \alpha \right)
\right)\text{cos}\theta}{\sqrt{1 - \left(
\text{cos}\beta\text{cos}\gamma\text{cos}\theta + \left(
\text{sin}\beta\text{cos}\gamma\text{cos}\left( \varphi - \alpha \right) -
\text{sin}\gamma\text{sin}\left( \varphi - \alpha \right)
\right)\text{sin}\theta \right)^{2}}}$ (7.1-16)
$\text{sin}\psi = \frac{\text{sin}\beta\text{cos}\gamma\text{sin}\left(
\varphi - \alpha \right) + \text{sin}\gamma\text{cos}\left( \varphi - \alpha
\right)}{\sqrt{1 - \left( \text{cos}\beta\text{cos}\gamma\text{cos}\theta +
\left( \text{sin}\beta\text{cos}\gamma\text{cos}\left( \varphi - \alpha
\right) - \text{sin}\gamma\text{sin}\left( \varphi - \alpha \right)
\right)\text{sin}\theta \right)^{2}}}$ (7.1-17)
### 7.1.4 Transformation from an LCS to a GCS for downtilt angle only
In this subclause equations are provided for the transformation from LCS to
GCS assuming that the orientation of the LCS (with respect to the GCS) is such
that the bearing angle _α_ =0, the downtilt angle _β_ is non-zero and the
slant angle _γ_ =0. In other words the _y\'_ -axis of the LCS is parallel to
the _y_ -axis of the GCS. Considering a BS antenna element the _x_ -axis of
the GCS is aligned with the pointing direction of the sector. Mechanical
downtilt is modelled as a rotation of the LCS around the _y_ -axis. For zero
mechanical downtilt the LCS coincides with the GCS.
This transformation relates the spherical angles ($\theta$,$\varphi$) in the
global coordinate system to spherical angles ($\theta'$,$\varphi'$) in the
local (antenna-fixed) coordinate system and is defined as follows:
$\theta' = \text{arccos}\left(
\text{cos}\varphi\text{sin}\theta\text{sin}\beta +
\text{cos}\theta\text{cos}\beta \right)$ (7.1-18)
$\varphi' = \text{arg}\left( \text{cos}\varphi\text{sin}\theta\text{cos}\beta
- \text{cos}\theta\text{sin}\beta + j\text{sin}\varphi\text{sin}\theta
\right)$ (7.1-19)
where $\beta$ is the mechanical tilt angle around the _y_ -axis as defined in
Figure 7.1.4. Note that the equations (7.1-7), (7.1-8) reduce to equations
(7.1-18), (7.1-19) if both _α_ and _γ_ are zero.
The antenna element pattern $A(\theta,\varphi)$in the GCS is related to the
antenna element pattern $A'(\theta\text{',}\varphi')$in the LCS by the
relation
$A\left( \theta,\varphi \right) = A'\left( \theta\text{',}\varphi' \right)$
(7.1-20)
with $\theta'$ and $\varphi'$given by (7.1-18) and (7.1-19).
{width="6.695138888888889in" height="2.53125in"}Figure 7.1.4: Definition of
angles and unit vectors when the LCS has been rotated an angle $\beta$ around
the _y_ -axis of the GCS
For a mechanical tilt angle $\beta$, the global coordinate system field
components $F_{\theta}(\theta,\varphi)$ and $F_{\varphi}(\theta,\varphi)$, are
calculated from the field components
$F_{\theta'}^{'}(\theta\text{',}\varphi')$ and
$F_{\varphi'}^{'}(\theta\text{',}\varphi')$ of the radiation pattern in the
local (antenna-fixed) coordinate system as:
$F_{\theta}(\theta,\varphi) =
F_{\theta'}^{'}(\theta\text{',}\varphi')\text{cos}\psi -
F_{\varphi'}^{'}(\theta\text{',}\varphi')\text{sin}\psi$ (7.1-21)
$F_{\varphi}(\theta,\varphi) =
F_{\theta'}^{'}(\theta\text{',}\varphi')\text{sin}\psi +
F_{\varphi'}^{'}(\theta\text{',}\varphi')\text{cos}\psi$ (7.1-22)
where $\theta'$ and $\varphi'$ are defined as in (7.1-18) and (7.1-19), and
$\psi$ is defined as:
$\psi = \text{arg}\left( \text{sin}\theta\text{cos}\beta -
\text{cos}\varphi\text{cos}\theta\text{sin}\beta +
j\text{sin}\varphi\text{sin}\beta \right)$. (7.1-23)
Note that the equation (7.1-15) is reduced to equation (7.1-23) if both α and
γ are zero.
As an example, in the horizontal cut, i.e., for $\theta = \text{90}{^\circ}$,
equations (7.1-18), (7.1-19) and (7.1-23) become
$\theta' = \text{arccos}\left( \text{cos}\varphi\text{sin}\beta \right)$
(7.1-24)
$\varphi' = \text{arg}\left( \text{cos}\varphi\text{cos}\beta +
j\text{sin}\varphi \right)$ (7.1-25)
$\psi = \text{arg}\left( \text{cos}\beta + j\text{sin}\varphi\text{sin}\beta
\right)$ (7.1-26)
## 7.2 Scenarios
The detailed scenario description in this subclause can be used for channel
model calibration.
**UMi-street canyon and UMa**
Details on UMi-street canyon and UMa scenarios are listed in Table 7.2-1.
Table 7.2-1: Evaluation parameters for UMi-street canyon and UMa scenarios
* * *
Parameters UMi - street canyon UMa  
Cell layout Hexagonal grid, 19 micro sites, 3 sectors per site (ISD = 200m)
Hexagonal grid, 19 macro sites, 3 sectors per site (ISD = 500m)  
BS antenna height $h_{\text{BS}}$ 10m 25m  
UT location Outdoor/indoor Outdoor and indoor Outdoor and indoor LOS/NLOS LOS
and NLOS LOS and NLOS Height $h_{\text{UT}}$ Same as 3D-UMi in TR36.873 Same
as 3D-UMa in TR36.873 Indoor UT ratio 80% 80%  
UT mobility (horizontal plane only) 3km/h 3km/h  
Min. BS - UT distance (2D) 10m 35m  
UT distribution (horizontal) Uniform Uniform
* * *
**Indoor-office**
Details on indoor-office scenarios are listed in Table 7.2-2 and presented in
Figure 7.2-1. More details, if necessary, can be added to Figure 7.2-1.
Table 7.2-2: Evaluation parameters for indoor-office scenarios
+-------------------------------------+------------------------+-----------------+ | Parameters | Indoor - office | Indoor - office | | | | | | | open office | mixed office | +-------------------------------------+------------------------+-----------------+ | Layout | Room size (WxLxH) | 120mx50mx3m | +-------------------------------------+------------------------+-----------------+ | | ISD | 20m | +-------------------------------------+------------------------+-----------------+ | BS antenna height $h_{\text{BS}}$ | 3 m (ceiling) | | +-------------------------------------+------------------------+-----------------+ | UT location | LOS/NLOS | LOS and NLOS | +-------------------------------------+------------------------+-----------------+ | | Height $h_{\text{UT}}$ | 1 m | +-------------------------------------+------------------------+-----------------+ | UT mobility (horizontal plane only) | 3 km/h | | +-------------------------------------+------------------------+-----------------+ | Min. BS - UT distance (2D) | 0 | | +-------------------------------------+------------------------+-----------------+ | UT distribution (horizontal) | Uniform | | +-------------------------------------+------------------------+-----------------+
Note: The only difference between the open office and mixed office models in
this TR is the line of sight probability.
{width="5.998611111111111in" height="2.9055555555555554in"}
Figure 7.2-1: Layout of indoor office scenarios.
**RMa**
The rural deployment scenario focuses on larger and continuous coverage. The
key characteristics of this scenario are continuous wide area coverage
supporting high speed vehicles. This scenario will be noise-limited and/or
interference-limited, using macro TRPs. Details of RMa scenario is described
in Table 7.2-3.
Table 7.2-3: Evaluation parameters for RMa
* * *
Parameters RMa Carrier Frequency Up to 7Ghz BS height $h_{\text{BS}}$ 35m
Layout Hexagonal grid, 19 Macro sites, 3sectors per site, ISD = 1732m or 5000m
UT height $h_{\text{UT}}$ 1.5m UT distribution Uniform Indoor/Outdoor 50%
indoor and 50% in car LOS/NLOS LOS and NLOS Min BS - UT distance(2D) 35m
* * *
## 7.3 Antenna modelling
_This subclause captures the antenna array structures considered in this SI
for calibration._
The BS antenna is modelled by a uniform rectangular panel array, comprising
_M~g~N~g~_ panels, as illustrated in Figure 7.3-1 with _M~g~_ being the number
of panels in a column and _N~g~_ being the number of panels in a row.
Furthermore the following properties apply:
\- Antenna panels are uniformly spaced in the horizontal direction with a
spacing of _d~g,H~_ and in the vertical direction with a spacing of _d~g,V~_.
\- On each antenna panel, antenna elements are placed in the vertical and
horizontal direction, where _N_ is the number of columns, _M_ is the number of
antenna elements with the same polarization in each column.
\- Antenna numbering on the panel illustrated in Figure 7.3-1 assumes
observation of the antenna array from the front (with x-axis pointing towards
broad-side and increasing y-coordinate for increasing column number).
\- The antenna elements are uniformly spaced in the horizontal direction with
a spacing of _d~H~_ and in the vertical direction with a spacing of _d~V~_.
\- The antenna panel is either single polarized (_P_ =1) or dual polarized
(_P_ =2).
The rectangular panel array antenna can be described by the following tuple
{width="1.2361111111111112in" height="0.2638888888888889in"}.
{width="5.186805555555556in" height="2.0527777777777776in"}
Figure 7.3-1: Cross-polarized panel array antenna model
The antenna radiation power pattern of each antenna element is generated
according to Table 7.3-1.
Table 7.3-1: Radiation power pattern of a single antenna element
* * *
**Parameter** **Values** Vertical cut of the radiation power pattern (dB)  
Horizontal cut of the radiation power pattern (dB)  
3D radiation power pattern (dB)  
Maximum directional gain of an antenna element _G~E,max~_ 8 dBi
* * *
### 7.3.1 Antenna port mapping
Legacy BS array antennas, i.e. uniform linear arrays with fix phase shifts
between its _M_ elements to obtain a beamtilt in vertical direction are
modelled using complex weights
$w_{m} = \frac{1}{\sqrt{M}}\text{exp}\left( - j\frac{2\pi}{\lambda}\left( m -
1 \right)d_{V}\text{cos}\theta_{\text{etilt}} \right)$ (7.3-1)
where _m_ =_1, ..., M_ , is the electrical vertical steering angle defined
between 0° and 180° (90° represents perpendicular to the array). $\lambda$
denotes the wavelength and $d_{V}$ the vertical element spacing.
### 7.3.2 Polarized antenna modelling
In general the relationship between radiation field and power pattern is given
by:
$A^{''}(\theta^{''},\varphi^{''}) = \left| F_{\theta^{''}}^{''}\left(
\theta^{''},\ \varphi^{''} \right) \right|^{2} + \left|
F_{\varphi^{''}}^{''}\left( \theta^{''},\ \varphi^{''} \right) \right|^{2}$.
(7.3-2)
The following two models represent two options on how to determine the
radiation field patterns based on a defined radiation power pattern.
**[Model-1]{.underline}** :
In case of polarized antenna elements assume {width="0.14583333333333334in"
height="0.1986111111111111in"} is the polarization slant angle where
{width="0.36527777777777776in" height="0.1986111111111111in"} degrees
corresponds to a purely vertically polarized antenna element and
{width="0.6958333333333333in" height="0.1986111111111111in"}degrees correspond
to a pair of cross-polarized antenna elements. Then the antenna element field
components in $\theta^{'}$ and $\varphi^{'}$ direction are given by
$\begin{pmatrix} F_{\theta^{'}}^{'}\left( \theta^{'},\varphi^{'} \right) \
F_{\varphi^{'}}^{'}\left( \theta^{'},\varphi^{'} \right) \ \end{pmatrix} =
\begin{pmatrix} \+ \text{cos}\psi & \- \text{sin}\psi \ \+ \text{sin}\psi & \+
\text{cos}\psi \ \end{pmatrix}\begin{pmatrix} F_{\theta^{''}}^{''}\left(
\theta^{''},\varphi^{''} \right) \ F_{\varphi^{''}}^{''}\left(
\theta^{''},\varphi^{''} \right) \ \end{pmatrix}$ (7.3-3)
where {width="3.0694444444444446in" height="0.5138888888888888in"},
{width="3.0416666666666665in" height="0.5138888888888888in"}.
Note that the zenith and the azimuth field components
$F_{\theta^{'}}^{'}\left( \theta^{'},\varphi^{'} \right)$,
$F_{\varphi^{'}}^{'}\left( \theta^{'},\varphi^{'} \right)$,
$F_{\theta^{''}}^{''}\left( \theta^{''},\varphi^{''} \right)$ and
$F_{\varphi^{''}}^{''}\left( \theta^{''},\varphi^{''} \right)$ are defined in
terms of the spherical basis vectors of an LCS as defined in Subclause 7.1.
The difference between the single-primed and the double-primed components is
that the single-primed field components account for the polarization slant and
the double-primed field components do not. For a single polarized antenna
(purely vertically polarized antenna) we can write $F_{\theta^{''}}^{''}\left(
\theta^{''},\varphi^{''} \right) = \sqrt{A^{''}\left( \theta^{''},\varphi^{''}
\right)}$ and $F_{\varphi^{''}}^{''}\left( \theta^{''},\varphi^{''} \right) =
0$ where $A^{''}\left( \theta^{''},\varphi^{''} \right)$is the 3D antenna
radiation power pattern as a function of azimuth angle
{width="0.17916666666666667in" height="0.1986111111111111in"} and zenith angle
{width="0.19375in" height="0.17222222222222222in"} in the LCS as defined in
Table 7.3-1 converted into linear scale.
[]{.underline}
[**Model-2** :]{.underline}
In case of polarized antennas, the polarization is modelled as angle-
independent in both azimuth and elevation, in an LCS. For a linearly polarized
antenna, the antenna element field pattern, in the vertical polarization and
in the horizontal polarization, are given by
$F_{\theta^{'}}^{'}\left( \theta^{'},\varphi^{'} \right) = \sqrt{A^{'}\left(
\theta^{'},\varphi^{'} \right)}\text{cos}\left( \zeta \right)$ (7.3-4)
and
$F_{\varphi^{'}}^{'}\left( \theta^{'},\varphi^{'} \right) = \sqrt{A^{'}\left(
\theta^{'},\varphi^{'} \right)}\text{sin}\left( \zeta \right)$, (7.3-5)
respectively, where {width="0.14583333333333334in"
height="0.19930555555555557in"} is the polarization slant angle and
{width="0.6388888888888888in" height="0.2222222222222222in"}is the 3D antenna
element power pattern as a function of azimuth angle,
{width="0.1638888888888889in" height="0.19930555555555557in"} and elevation
angle, {width="0.1638888888888889in" height="0.17291666666666666in"}in the
LCS. Note that {width="0.36527777777777776in" height="0.1986111111111111in"}
degrees correspond to a purely vertically polarized antenna element. The
vertical and horizontal field directions are defined in terms of the spherical
basis vectors, {width="0.1597222222222222in" height="0.2125in"} and
{width="0.15902777777777777in" height="0.2375in"} respectively in the LCS as
defined in Subclause 7.1.2. Also {width="0.6388888888888888in"
height="0.2222222222222222in"}={width="0.69375in"
height="0.2222222222222222in"}, {width="0.18055555555555555in"
height="0.19375in"}= {width="0.20833333333333334in" height="0.19375in"}and
{width="0.18055555555555555in" height="0.2222222222222222in"}=
{width="0.19375in" height="0.2222222222222222in"} as defined in Table 7.1-1.
## 7.4 Pathloss, LOS probability and penetration modelling
### 7.4.1 Pathloss
The pathloss models are summarized in Table 7.4.1-1 and the distance
definitions are indicated in Figure 7.4.1-1 and Figure 7.4.1-2. Note that the
distribution of the shadow fading is log-normal, and its standard deviation
for each scenario is given in Table 7.4.1-1.
* * *
Figure7.4.1-1: Definition of _d~2D~_ and _d~3D~_ \ Figure 7.4.1-2: Definition
of _d~2D-out~_ , _d~2D-in~_ \ for outdoor UTs and _d~3D-out~_ , _d~3D-in~_ for
indoor UTs.
* * *
Note that
$d_{\text{3D} - \text{out}} + d_{\text{3D} - \text{in}} = \sqrt{\left(
d_{\text{2D} - \text{out}} + d_{\text{2D} - \text{in}} \right)^{2} + \left(
h_{\text{BS}} - h_{\text{UT}} \right)^{2}}$ (7.4-1)
Table 7.4.1-1: Pathloss models
+-------------+------------+-------------+------------+-------------+ | > Scenario | > LOS/NLOS | Pathloss | Shadow | Ap | | | | [dB], | | plicability | | | | _f~c~_ is | fading | range, | | | | in GHz and | | | | | | _d_ is in | std [dB] | antenna | | | | meters, see | | height | | | | note 6 | | | | | | | | default | | | | | | values | +-------------+------------+-------------+------------+-------------+ | > RMa | > LOS | $\text | | h = avg. | | | | {PL}_{\text | | building | | | | {RMa} - \te | | height | | | | xt{LOS}} = | | | | | | \left{ \be | | W = avg. | | | | gin{matrix} | | street | | | | \ | | width | | | | text{PL}_{1 | | | | | | } & \text{1 | | The | | | | 0}m \leq d_ | | ap | | | | {\text{2D}} | | plicability | | | | \leq d_{\t | | ranges: | | | | ext{BP}} \ | | | | | | \text{PL} | | | | | | _{2} & d_{\ | | | | | | text{BP}} \ | | | | | | leq d_{\tex | | | | | | t{2D}} \leq | | | | | | \text{10}\ | | | | | | text{km} \ | | | | | | \e | | | | | | nd{matrix} | | | | | | \right.\ $, | | | | | | see note 5 | | | +-------------+------------+-------------+------------+-------------+ | | > NLOS | for | | | | | | $\t | | | | | | ext{10}m \l | | | | | | eq d_{\text | | | | | | {2D}} \leq | | | | | | 5\text{km}$ | | | +-------------+------------+-------------+------------+-------------+ | > UMa | > LOS | $\text | | | | | | {PL}_{\text | | | | | | {UMa} - \te | | | | | | xt{LOS}} = | | | | | | \left{ \be | | | | | | gin{matrix} | | | | | | \text | | | | | | {PL}_{1} & | | | | | | \text{10}m | | | | | | \leq d_{\te | | | | | | xt{2D}} \le | | | | | | q d_{\text{ | | | | | | BP}}^{'} \ | | | | | | \text | | | | | | {PL}_{2} & | | | | | | d_{\text{BP | | | | | | }}^{'} \leq | | | | | | d_{\text{2 | | | | | | D}} \leq 5\ | | | | | | text{km} \ | | | | | | \e | | | | | | nd{matrix} | | | | | | \right.\ $, | | | | | | see note 1 | | | +-------------+------------+-------------+------------+-------------+ | | > NLOS | for | | Ex | | | | $\t | | planations: | | | | ext{10}m \l | | see note 3 | | | | eq d_{\text | | | | | | {2D}} \leq | | | | | | 5\text{km}$ | | | +-------------+------------+-------------+------------+-------------+ | | | Optional | | | | | | $\tex | | | | | | t{PL} = \te | | | | | | xt{32}\text | | | | | | {.}4 + \tex | | | | | | t{20}\text{ | | | | | | log}_{\text | | | | | | {10}}\left( | | | | | | f_{c} \rig | | | | | | ht) + \text | | | | | | {30}\text{l | | | | | | og}_{\text{ | | | | | | 10}}\left( | | | | | | d_{\text{3D | | | | | | }} \right)$ | | | +-------------+------------+-------------+------------+-------------+ | > UMi - | > LOS | $\text | | | | > Street | | {PL}_{\text | | | | > Canyon | | {UMi} - \te | | | | | | xt{LOS}} = | | | | | | \left{ \be | | | | | | gin{matrix} | | | | | | \text | | | | | | {PL}_{1} & | | | | | | \text{10}m | | | | | | \leq d_{\te | | | | | | xt{2D}} \le | | | | | | q d_{\text{ | | | | | | BP}}^{'} \ | | | | | | \text | | | | | | {PL}_{2} & | | | | | | d_{\text{BP | | | | | | }}^{'} \leq | | | | | | d_{\text{2 | | | | | | D}} \leq 5\ | | | | | | text{km} \ | | | | | | \e | | | | | | nd{matrix} | | | | | | \right.\ $, | | | | | | see note 1 | | | +-------------+------------+-------------+------------+-------------+ | | > NLOS | for | | Ex | | | | $\t | | planations: | | | | ext{10}m \l | | see note 4 | | | | eq d_{\text | | | | | | {2D}} \leq | | | | | | 5\text{km}$ | | | +-------------+------------+-------------+------------+-------------+ | | | Optional | | | | | | $\t | | | | | | ext{PL} = \ | | | | | | text{32}\te | | | | | | xt{.}4 + \t | | | | | | ext{20}\tex | | | | | | t{log}_{\te | | | | | | xt{10}}\lef | | | | | | t( f_{c} \r | | | | | | ight) + \te | | | | | | xt{31}\text | | | | | | {.}9\text{l | | | | | | og}_{\text{ | | | | | | 10}}\left( | | | | | | d_{\text{3D | | | | | | }} \right)$ | | | +-------------+------------+-------------+------------+-------------+ | > InH - | > LOS | | | | | > Office | | | | | +-------------+------------+-------------+------------+-------------+ | | > NLOS | | | | +-------------+------------+-------------+------------+-------------+ | | | Optional | | | | | | $PL_{\t | | | | | | ext{InH-NLO | | | | | | S}}^{'} = \ | | | | | | text{32}\te | | | | | | xt{.}4 + \t | | | | | | ext{20}\tex | | | | | | t{log}_{\te | | | | | | xt{10}}\lef | | | | | | t( f_{c} \r | | | | | | ight) + \te | | | | | | xt{31}\text | | | | | | {.}9\text{l | | | | | | og}_{\text{ | | | | | | 10}}\left( | | | | | | d_{\text{3D | | | | | | }} \right)$ | | | +-------------+------------+-------------+------------+-------------+ | Note 1: | | | | | | Breakpoint | | | | | | distance | | | | | | _d_ \'~BP~ = | | | | | | 4 _h_ \'~BS~ | | | | | | _h_ \'~UT~ | | | | | | _f_ ~c~/_c_ , | | | | | | where | | | | | | _f_ ~c~ is | | | | | | the centre | | | | | | frequency | | | | | | in Hz, _c_ | | | | | | = 3.0×10^8^ | | | | | | m/s is the | | | | | | propagation | | | | | | velocity in | | | | | | free space, | | | | | | and | | | | | | _h_ \'~BS~ | | | | | | and | | | | | | _h_ \'~UT~ | | | | | | are the | | | | | | effective | | | | | | antenna | | | | | | heights at | | | | | | the BS and | | | | | | the UT, | | | | | | re | | | | | | spectively. | | | | | | The | | | | | | effective | | | | | | antenna | | | | | | heights | | | | | | _h_ \'~BS~ | | | | | | and | | | | | | _h_ \'~UT~ | | | | | | are | | | | | | computed as | | | | | | follows: | | | | | | _h_ \'~BS~ = | | | | | | _h_ ~BS~ -- | | | | | | _h_ ~E~, | | | | | | _h_ \'~UT~ = | | | | | | _h_ ~UT~ -- | | | | | | _h_ ~E~, | | | | | | where | | | | | | _h_ ~BS~ and | | | | | | _h_ ~UT~ are | | | | | | the actual | | | | | | antenna | | | | | | heights, | | | | | | and h~E~ is | | | | | | the | | | | | | effective | | | | | | environment | | | | | | height. For | | | | | | UMi _h_ ~E~ | | | | | | = 1.0m. For | | | | | | UMa | | | | | | _h_ ~E~=1m | | | | | | with a | | | | | | probability | | | | | | equal to | | | | | | 1/(1 | | | | | | +C(_d_ ~2D~, | | | | | | _h_ ~UT~)) | | | | | | and chosen | | | | | | from a | | | | | | discrete | | | | | | uniform | | | | | | d | | | | | | istribution | | | | | | uniform(12 | | | | | | ,15,...,(_h | | | | | |_ ~UT~-1.5)) | | | | | | otherwise. | | | | | | With | | | | | | C(_d_ ~2D~, | | | | | | _h_ ~UT~) | | | | | | given by | | | | | | | | | | | | $C\ | | | | | | left( d_{\t | | | | | | ext{2D}},h_ | | | | | | {\text{UT}} | | | | | | \right) = | | | | | | \left{ \be | | | | | | gin{matrix} | | | | | | 0 | | | | | | & ,h_{\tex | | | | | | t{UT}} 7 GHz is | | | | | | validated | | | | | | based on a | | | | | | single | | | | | | measurement | | | | | | campaign | | | | | | conducted | | | | | | at 24 GHz. | | | | | | | | | | | | Note 3: UMa | | | | | | NLOS | | | | | | pathloss is | | | | | | from | | | | | | TR36.873 | | | | | | with | | | | | | simplified | | | | | | format and | | | | | | PL~UMa-LOS~ | | | | | | = Pathloss | | | | | | of UMa LOS | | | | | | outdoor | | | | | | scenario. | | | | | | | | | | | | Note 4: | | | | | | PL~UMi-LOS~ | | | | | | = Pathloss | | | | | | of | | | | | | UMi-Street | | | | | | Canyon LOS | | | | | | outdoor | | | | | | scenario. | | | | | | | | | | | | Note 5: | | | | | | Break point | | | | | | distance | | | | | | _d~BP~_ = | | | | | | 2π _h~BS~_ | | | | | | _h~UT~_ | | | | | | _f~c~_ /_c_ , | | | | | | where | | | | | | _f~c~_ is | | | | | | the centre | | | | | | frequency | | | | | | in Hz, _c_ | | | | | | = 3.0 × | | | | | | 10^8^ m/s | | | | | | is the | | | | | | propagation | | | | | | velocity in | | | | | | free space, | | | | | | and _h~BS~_ | | | | | | and _h~UT~_ | | | | | | are the | | | | | | antenna | | | | | | heights at | | | | | | the BS and | | | | | | the UT, | | | | | | re | | | | | | spectively. | | | | | | | | | | | | Note 6: | | | | | | _f~c~_ | | | | | | denotes the | | | | | | center | | | | | | frequency | | | | | | normalized | | | | | | by 1GHz, | | | | | | all | | | | | | distance | | | | | | related | | | | | | values are | | | | | | normalized | | | | | | by 1m, | | | | | | unless it | | | | | | is stated | | | | | | otherwise. | | | | | +-------------+------------+-------------+------------+-------------+
### 7.4.2 LOS probability
The Line-Of-Sight (LOS) probabilities are given in Table 7.4.2-1.
Table 7.4.2-1 LOS probability
* * *
Scenario LOS probability (distance is in meters) RMa  
UMi - Street canyon  
UMa $\text{Pr}_{\text{LOS}} = \left{ \begin{matrix} 1 & ,d_{\text{2D-out}}
\leq \text{18}m \ \left\lbrack \frac{\text{18}}{d_{\text{2D-out}}} +
\text{exp}\left( - \frac{d_{\text{2D-out}}}{\text{63}} \right)\left( 1 -
\frac{\text{18}}{d_{\text{2D-out}}} \right) \right\rbrack\left( 1 +
C^{'}\left( h_{\text{UT}} \right)\frac{5}{4}\left(
\frac{d_{\text{2D-out}}}{\text{100}} \right)^{3}\text{exp}\left( -
\frac{d_{\text{2D-out}}}{\text{150}} \right) \right) & ,\text{18}m  Table 7.5-2: Scaling factors for AOA, AOD generation
* * *
# clusters 4 5 8 10 11 12 14 15 16 19 20 0.779 0.860 1.018 1.090 1.123 1.146
1.190 1.211 1.226 1.273 1.289
* * *
_In the LOS case,_ constant $C_{\varphi}$ also depends on the Ricean K-factor
_K_ in [dB], as generated in Step 4. Additional scaling of the angles is
required to compensate for the effect of LOS peak addition to the angle
spread.
Assign positive or negative sign to the angles by multiplying with a random
variable _X~n~_ with uniform distribution to the discrete set of {1,--1}, and
add component $Y_{n}\text{\textasciitilde}N\left( 0,\left( \text{ASA}/7
\right)^{2} \right)$ to introduce random variation
$\varphi_{n,\text{AOA}} = X_{n}\varphi_{n,\text{AOA}}^{'} + Y_{n} +
\varphi_{\text{LOS},\text{AOA}}$, (7.5-11)
where _ϕ~LOS,AOA~_ is the LOS direction defined in the network layout
description, see Step1c.
_In the LOS case,_ substitute (7.5-11) by (7.5-12) to enforce the first
cluster to the LOS direction _ϕ~LOS,\ AOA~_
$\varphi_{n,\text{AOA}} = \left( X_{n}\varphi_{n,\text{AOA}}^{'} + Y_{n}
\right) - \left( X_{1}\varphi_{1,\text{AOA}}^{'} + Y_{1} -
\varphi_{\text{LOS},\text{AOA}} \right)$ (7.5-12)
Finally add offset angles _α~m~_ from Table 7.5-3 to the cluster angles
$\varphi_{n,m,\text{AOA}} = \varphi_{n,\text{AOA}} +
c_{\text{ASA}}\alpha_{m}$, (7.5-13)
where _c~ASA~_ is the cluster-wise rms azimuth spread of arrival angles
(cluster ASA) in Table 7.5-6.
> Table 7.5-3: Ray offset angles within a cluster, given for rms angle spread
> normalized to 1
* * *
Ray number _m_ Basis vector of offset angles _α~m~_ 1,2 ± 0.0447 3,4 ± 0.1413
5,6 ± 0.2492 7,8 ± 0.3715 9,10 ± 0.5129 11,12 ± 0.6797 13,14 ± 0.8844 15,16 ±
1.1481 17,18 ± 1.5195 19,20 ± 2.1551
* * *
The generation of AOD ($\varphi_{n,m,\text{AOD}}$) follows a procedure similar
to AOA as described above.
The generation of ZOA assumes that the composite PAS in the zenith dimension
of all clusters is Laplacian (see Table 7.5-6). The ZOAs are determined by
applying the inverse Laplacian function (7.5-14) with input parameters _P~n~_
and RMS angle spread ZSA
$\theta_{n,\text{ZOA}}^{'} = - \frac{\text{ZSA}\text{ln}\left(
P_{n}/\text{max}\left( P_{n} \right) \right)}{C_{\theta}}$, (7.5-14)
with $C_{\theta}$ defined as
$C_{\theta} = \left{ \begin{matrix} C_{\theta}^{\text{NLOS}} \cdot \left(
1\text{.}\text{3086} + 0\text{.}\text{0339}K - 0\text{.}\text{0077}K^{2} +
0\text{.}\text{0002}K^{3} \right) & \text{,\ for\ LOS} \
C_{\theta}^{\text{NLOS}} & \text{,\ for\ NLOS} \ \end{matrix} \right.\ $,
(7.5-15)
Where $C_{\theta}^{\text{NLOS}}$ is a scaling factor related to the total
number of clusters and is given in Table 7.5-4:
> Table 7.5-4: Scaling factors for ZOA, ZOD generation
* * *
# clusters 8 10 11 12 15 19 20 0.889 0.957 1.031 1.104 1.1088 1.184 1.178
* * *
_In the LOS case,_ constant $C_{\theta}$ also depends on the Ricean K-factor
_K_ in [dB], as generated in Step 4. Additional scaling of the angles is
required to compensate for the effect of LOS peak addition to the angle
spread.
Assign positive or negative sign to the angles by multiplying with a random
variable _X~n~_ with uniform distribution to the discrete set of {1,--1}, and
add component $Y_{n}\text{\textasciitilde}N\left( 0,\left( \text{ZSA}/7
\right)^{2} \right)$ to introduce random variation
$\theta_{n,\text{ZOA}} = X_{n}\theta_{n,\text{ZOA}}^{'} + Y_{n} +
{\overline{\theta}}_{\text{ZOA}}$, (7.5-16)
where ${\overline{\theta}}_{\text{ZOA}} = \text{90}{^\circ}$ if the BS-UT link
is O2I and ${\overline{\theta}}_{\text{ZOA}} =
\theta_{\text{LOS},\text{ZOA}}$otherwise. The LOS direction is defined in the
network layout description, see Step1c.
_In the LOS case,_ substitute (7.5-16) by (7.5-17) to enforce the first
cluster to the LOS direction _θ~LOS,ZOA~_
$\theta_{n,\text{ZOA}} = \left( X_{n}\theta_{n,\text{ZOA}}^{'} + Y_{n} \right)
- \left( X_{1}\theta_{1,\text{ZOA}}^{'} + Y_{1} -
\theta_{\text{LOS},\text{ZOA}} \right)$. (7.5-17)
Finally add offset angles _α~m~_ from Table 7.5-3 to the cluster angles
$\theta_{n,m,\text{ZOA}} = \theta_{n,\text{ZOA}} + c_{\text{ZSA}}\alpha_{m}$,
(7.5-18)
where _c~ZSA~_ is the cluster-wise rms spread of ZOA (cluster ZSA) in Table
7.5-6. Assuming that $\theta_{n,m,\text{ZOA}}$is wrapped within [0, 360°], if
$\theta_{n,m,\text{ZOA}} \in
\lbrack\text{180}{^\circ},\text{360}{^\circ}\rbrack$,
then$\theta_{n,m,\text{ZOA}}$is set to $(\text{360}{^\circ} -
\theta_{n,m,\text{ZOA}})$.
The generation of ZOD follows the same procedure as ZOA described above except
equation (7.5-16) is replaced by
$\theta_{n,\text{ZOD}} = X_{n}\theta_{n,\text{ZOD}}^{'} + Y_{n} +
\theta_{\text{LOS},\text{ZOD}} + \mu_{\text{offset},\text{ZOD}}$, (7.5-19)
where variable _X~n~_ is with uniform distribution to the discrete set of {1,
--1}, $Y_{n}\text{\textasciitilde}N\left( 0,\left( \text{ZSD}/7 \right)^{2}
\right)$, $\mu_{\text{offset},\text{ZOD}}$is given in Tables 7.5-6/7/8 and
equation (7.5-18) is replaced by
$\theta_{n,m,\text{ZOD}} = \theta_{n,\text{ZOD}} +
(\frac{3}{8})(\text{10}^{\mu_{\text{lgZSD}}})\alpha_{m}$ (7.5-20)
where $\mu_{\text{lgZSD}}$is the mean of the ZSD log-normal distribution.
_In the LOS case,_ the generation of ZOD follows the same procedure as ZOA
described above using equation (7.5-17).
[]{.underline}
[Step 8]{.underline}: Coupling of rays within a cluster for both azimuth and
elevation
Couple randomly AOD angles _φ~n,m,AOD~_ to AOA angles _φ~n,m,AOA~_ within a
cluster _n_ , or within a sub-cluster in the case of two strongest clusters
(see Step 11 and Table 7.5-3). Couple randomly ZOD angles
$\theta_{n,m,\text{ZOD}}$ with ZOA angles $\theta_{n,m,\text{ZOA}}$using the
same procedure. Couple randomly AOD angles _φ~n,m,AOD~_ with ZOD angles
$\theta_{n,m,\text{ZOD}}$within a cluster _n_ or within a sub-cluster in the
case of two strongest clusters.
[]{.underline}
[Step 9]{.underline}: Generate the cross polarization power ratios
Generate the cross polarization power ratios (XPR) _κ_ for each ray _m_ of
each cluster _n_. XPR is log-Normal distributed. Draw XPR values as
$\kappa_{n,m} = \text{10}^{\frac{X_{n,m}}{\text{10}}}$, (7.5-21)
where
$X_{n,m}\text{\textasciitilde}N(\mu_{\text{XPR}},\sigma_{\text{XPR}}^{2})$ is
Gaussian distributed with $\sigma_{\text{XPR}}$ and $\mu_{\text{XPR}}$ from
Table 7.5-6.
Note: $X_{n,m}$ is independently drawn for each ray and each cluster.
The outcome of Steps 1-9 shall be identical for all the links from co-sited
sectors to a UT.
**Coefficient generation:**
[Step 10]{.underline}: Draw initial random phases
Draw random initial phase $\left{
\Phi_{n,m}^{\text{θθ}},\Phi_{n,m}^{\text{θφ}},\Phi_{n,m}^{\text{φθ}},\Phi_{n,m}^{\text{φφ}}
\right}$ for each ray _m_ of each cluster _n_ and for four different
polarisation combinations (_θθ_ , _θϕ,_ _ϕθ,_ _ϕϕ_). The distribution for
initial phases is uniform within (-_π,π_).
[]{.underline}
[Step 11]{.underline}: Generate channel coefficients for each cluster _n_ and
each receiver and transmitter element pair _u, s_.
The method described below is used at least for _drop-based evaluations_
irrespective of UT speeds. Relevant cases for drop-based evaluations are:
\- Case 1: For low complexity evaluations
\- Case 2: To compare with earlier simulation results,
\- Case 3: When none of the additional modelling components are turned on.
\- Case 4: When spatial consistency and/or blockage is modeled for MU-MIMO
simulations
\- Other cases are not precluded
_For the N -- 2 weakest clusters_ , say _n_ = 3, 4,..., _N_ , the channel
coefficients are given by:
{width="5.840277777777778in" height="1.2229166666666667in"} (7.5-22)
where _F~rx,u,θ~_ and _F~rx,u,ϕ~_ are the field patterns of receive antenna
element _u_ according to (7.1-11) and in the direction of the spherical basis
vectors, {width="0.12708333333333333in" height="0.22291666666666668in"} and
{width="0.12708333333333333in" height="0.24583333333333332in"} respectively,
_F~tx,s,θ~_ and _F~tx,s,ϕ~_ are the field patterns of transmit antenna element
_s_ in the direction of the spherical basis vectors,
{width="0.12708333333333333in" height="0.22291666666666668in"} and
{width="0.12708333333333333in" height="0.24583333333333332in"} respectively.
Note that the patterns are given in the GCS and therefore include
transformations with respect to antenna orientation as described in Subclause
7.1. {width="0.35in" height="0.24583333333333332in"} is the spherical unit
vector with azimuth arrival angle _ϕ~n,m,AOA~_ and elevation arrival angle
_θ~n,m,ZOA~_ , given by
{width="2.127083333333333in" height="0.80625in"}, (7.5-23)
where _n_ denotes a cluster and _m_ denotes a ray within cluster _n_.
{width="0.35in" height="0.24583333333333332in"} is the spherical unit vector
with azimuth departure angle _ϕ~n,m,AOD~_ and elevation departure angle
_θ~n,m,ZOD~_ , given by
{width="2.1479166666666667in" height="0.80625in"}, (7.5-24)
where _n_ denotes a cluster and _m_ denotes a ray within cluster _n_. Also,
{width="0.2986111111111111in" height="0.2534722222222222in"}is the location
vector of receive antenna element _u_ and {width="0.26805555555555555in"
height="0.2534722222222222in"}is the location vector of transmit antenna
element _s_ , _κ~n,m~_ is the cross polarisation power ratio in linear scale,
and _λ_ ~0~ is the wavelength of the carrier frequency. If polarisation is not
considered, the 2x2 polarisation matrix can be replaced by the scalar
{width="0.6631944444444444in" height="0.2388888888888889in"} and only
vertically polarised field patterns are applied.
The Doppler frequency component depends on the arrival angles (AOA, ZOA), and
the UT velocity vector {width="0.12708333333333333in"
height="0.17152777777777778in"}with speed _v_ , travel azimuth angle _ϕ~v~_ ,
elevation angle _θ~v~_ and is given by
$v_{n,m} =
\frac{{\hat{r}}_{\text{rx},n,m}^{T}\text{.}\overline{v}}{\lambda_{0}}\text{,where}\
\overline{v} = v\text{.}\left\lbrack
\text{sin}\theta_{v}\text{cos}\varphi_{v}\
\text{sin}\theta_{v}\text{sin}\varphi_{v}\ \text{cos}\theta_{v}
\right\rbrack^{T}\text{.}$ (7.5-25)
_For the two strongest clusters_ , say _n_ = 1 and 2, rays are spread in delay
to three sub-clusters (per cluster), with fixed delay offset. The delays of
the sub-clusters are
{width="1.3055555555555556in" height="0.7916666666666666in"} (7.5-26)
where {width="0.2520833333333333in" height="0.25763888888888886in"} is cluster
delay spread specified in Table 7.5-6. When intra-cluster delay spread is
unspecified (i.e., N/A) the value 3.91 ns is used; it is noted that this value
results in the legacy behaviour with 5 and 10 ns sub-cluster delays.
Twenty rays of a cluster are mapped to sub-clusters as presented in Table
7.5-5 below. The corresponding offset angles are taken from Table 7.5-3 with
mapping of Table 7.5-5.
Table 7.5-5: Sub-cluster information for intra cluster delay spread clusters
+----------------+----------------+----------------+----------------+ | sub-cluster # | mapping to | Power | delay offset | | | rays | | | | {w | {width="0.5in" | width="0.52777 | | 77777778e-2in" | idth="0.180555 | he | 77777777778in" | | hei | 55555555555in" | ight="0.277777 | he | | ght="0.1805555 | he | 7777777778in"} | ight="0.263888 | | 5555555555in"} | ight="0.25in"} | | 8888888889in"} | +----------------+----------------+----------------+----------------+ | { | | | | width="0.31944 | width="1.75in" | | | | 44444444444in" | he | | | | heigh | ight="0.236111 | | | | t="0.19375in"} | 1111111111in"} | | | +----------------+----------------+----------------+----------------+ | { | | { | | 77777777777in" | 88888888888in" | | width="0.25208 | | heigh | he | | 33333333333in" | | t="0.19375in"} | ight="0.236111 | | hei | | | 1111111111in"} | | ght="0.2576388 | | | | | 8888888886in"} | +----------------+----------------+----------------+----------------+ | {wid | | { | | 77777777777in" | he | | width="0.25208 | | heigh | ight="0.25in"} | | 33333333333in" | | t="0.19375in"} | | | hei | | | | | ght="0.2576388 | | | | | 8888888886in"} | +----------------+----------------+----------------+----------------+
Then, the channel impulse response is given by:
{width="4.370138888888889in" height="0.5in"} (7.5-27)
where {width="0.6527777777777778in" height="0.2777777777777778in"} is given in
(7.5-22) and {width="0.69375in" height="0.2777777777777778in"} defined as:
$\begin{matrix} H_{u,s,n,m}^{\text{NLOS}}(t) =
\sqrt{\frac{P_{n}}{M}}\begin{bmatrix} F_{\text{rx},u,\theta}\left(
\theta_{n,m,\text{ZOA}},\varphi_{n,m,\text{AOA}} \right) \
F_{\text{rx},u,\varphi}\left( \theta_{n,m,\text{ZOA}},\varphi_{n,m,\text{AOA}}
\right) \ \end{bmatrix}^{T}\begin{bmatrix} \text{exp}\left(
\text{jΦ}_{n,m}^{\text{θθ}} \right) & \sqrt{\kappa_{{n,m}^{-
1}}}\text{exp}\left( \text{jΦ}_{n,m}^{\text{θφ}} \right) \
\sqrt{\kappa_{{n,m}^{- 1}}}\text{exp}\left( \text{jΦ}_{n,m}^{\text{φθ}}
\right) & \text{exp}\left( \text{jΦ}_{n,m}^{\text{φφ}} \right) \ \end{bmatrix}
\ \begin{bmatrix} F_{\text{tx},s,\theta}\left(
\theta_{n,m,\text{ZOD}},\varphi_{n,m,\text{AOD}} \right) \
F_{\text{tx},s,\varphi}\left( \theta_{n,m,\text{ZOD}},\varphi_{n,m,\text{AOD}}
\right) \ \end{bmatrix}\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx},n,m}^{T}\text{.}{\overline{d}}_{\text{rx},u}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{tx},n,m}^{T}\text{.}{\overline{d}}_{\text{tx},s}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx},n,m}^{T}\text{.}\overline{v}}{\lambda_{0}}t
\right) \ \end{matrix}$ (7.5-28)
_In the LOS case,_ determine the LOS channel coefficient by:
$\begin{matrix} H_{u,s,1}^{\text{LOS}}(t) = \begin{bmatrix}
F_{\text{rx},u,\theta}\left(
\theta_{\text{LOS},\text{ZOA}},\varphi_{\text{LOS},\text{AOA}} \right) \
F_{\text{rx},u,\varphi}\left(
\theta_{\text{LOS},\text{ZOA}},\varphi_{\text{LOS},\text{AOA}} \right) \
\end{bmatrix}^{T}\begin{bmatrix} 1 & 0 \ 0 & \- 1 \
\end{bmatrix}\begin{bmatrix} F_{\text{tx},s,\theta}\left(
\theta_{\text{LOS},\text{ZOD}},\varphi_{\text{LOS},\text{AOD}} \right) \
F_{\text{tx},s,\varphi}\left(
\theta_{\text{LOS},\text{ZOD}},\varphi_{\text{LOS},\text{AOD}} \right) \
\end{bmatrix} \ \text{exp}\left( - j2\pi\frac{d_{\text{3D}}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx},\text{LOS}}^{T}\text{.}{\overline{d}}_{\text{rx},u}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{tx},\text{LOS}}^{T}\text{.}{\overline{d}}_{\text{tx},s}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx},\text{LOS}}^{T}\text{.}\overline{v}}{\lambda_{0}}t
\right) \ \end{matrix}$ (7.5-29)
where _δ_(**^.^**) is the Dirac\'s delta function and _K~R~_ is the Ricean
K-factor as generated in Step 4 converted to linear scale.
Then, the channel impulse response is given by adding the LOS channel
coefficient to the NLOS channel impulse response and scaling both terms
according to the desired K-factor {width="0.25in"
height="0.2361111111111111in"} as
{width="4.023611111111111in" height="0.5277777777777778in"}. (7.5-30)
[Step 12]{.underline}: Apply pathloss and shadowing for the channel
coefficients.
Table 7.5-6 Part-1: Channel model parameters for UMi-Street Canyon and UMa
+-------+-------+-------+-------+-------+-------+-------+-------+ | Scen | UMi - | UMa | | | | | | | arios | S | | | | | | | | | treet | | | | | | | | | C | | | | | | | | | anyon | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | LOS | NLOS | O2I | LOS | NLOS | O2I | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Delay | _μ_ ~ | -0.24 | -0.24 | -6.62 | - | -6.28 | -6.62 | | s | lgDS~ | log~1 | log~1 | | 6.955 | - | | | pread | | 0~(1+ | 0~(1+ | | - | 0.204 | | | (DS) | | _f |_ f | | 0 | log~1 | | | | | ~c~_) | ~c~_) | | .0963 | 0~(_f | | | lgDS | | - | - | | log~1 | ~c~_) | | | =log~ | | 7.14 | 6.83 | | 0~(_f | | | | 10~(D | | | | | ~c~_) | | | | S/1s) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _σ_ ~ | 0.38 | 0.16 | 0.32 | 0.66 | 0.39 | 0.32 | | | lgDS~ | | log~1 | | | | | | | | | 0~(1+ | | | | | | | | | _f | | | | | | | | | ~c~_) | | | | | | | | | + | | | | | | | | | 0.28 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | AOD | _μ_ ~l | -0.05 | -0.23 | 1.25 | 1.06 | 1.5 - | 1.25 | | s | gASD~ | log~1 | log~1 | | + | 0 | | | pread | | 0~(1+ | 0~(1+ | | 0 | .1144 | | | (ASD) | | _f |_ f | | .1114 | log~1 | | | | | ~c~_) | ~c~_) | | log~1 | 0~(_f | | | l | | + | + | | 0~(_ f | ~c~_) | | | gASD= | | 1.21 | 1.53 | | ~c~_) | | | | log~1 | | | | | | | | | 0~(AS | | | | | | | | | D/1°) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _σ_ ~l | 0.41 | 0.11 | 0.42 | 0.28 | 0.28 | 0.42 | | | gASD~ | | log~1 | | | | | | | | | 0~(1+ | | | | | | | | | _f | | | | | | | | | ~c~_) | | | | | | | | | + | | | | | | | | | 0.33 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | AOA | _μ_ ~l | -0.08 | -0.08 | 1.76 | 1.81 | 2.08 | 1.76 | | s | gASA~ | log~1 | log~1 | | | - | | | pread | | 0~(1+ | 0~(1+ | | | 0.27 | | | (ASA) | | _f |_ f | | | log~1 | | | | | ~c~_) | ~c~_) | | | 0~(_f | | | l | | + | + | | | ~c~_) | | | gASA= | | 1.73 | 1.81 | | | | | | log~1 | | | | | | | | | 0~(AS | | | | | | | | | A/1°) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _σ_ ~l | 0.014 | 0.05 | 0.16 | 0.20 | 0.11 | 0.16 | | | gASA~ | log~1 | log~1 | | | | | | | | 0~(1+ | 0~(1+ | | | | | | | | _f |_ f | | | | | | | | ~c~_) | ~c~_) | | | | | | | | + | + 0.3 | | | | | | | | 0.28 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | ZOA | _μ_ ~l | -0.1 | -0.04 | 1.01 | 0.95 | -0 | 1.01 | | s | gZSA~ | log~1 | log~1 | | | .3236 | | | pread | | 0~(1+ | 0~(1+ | | | log~1 | | | (ZSA) | | _f |_ f | | | 0~(_f | | | | | ~c~_) | ~c~_) | | | ~c~_) | | | l | | + | + | | | + | | | gZSA= | | 0.73 | 0.92 | | | 1.512 | | | log~1 | | | | | | | | | 0~(ZS | | | | | | | | | A/1°) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _σ_ ~l | -0.04 | -0.07 | 0.43 | 0.16 | 0.16 | 0.43 | | | gZSA~ | log~1 | log~1 | | | | | | | | 0~(1+ | 0~(1+ | | | | | | | | _f |_ f | | | | | | | | ~c~_) | ~c~_) | | | | | | | | + | + | | | | | | | | 0.34 | 0.41 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | S | _σ | See | See | 7 | See | See | 7 | | hadow | ~SF~_ | Table | Table | | Table | Table | | | f | | 7. | 7. | | 7. | 7. | | | ading | | 4.1-1 | 4.1-1 | | 4.1-1 | 4.1-1 | | | ( | | | | | | | | | _SF_) | | | | | | | | | \ | | | | | | | | | [dB] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | K-f | * | 9 | N/A | N/A | 9 | N/A | N/A | | actor | μ~K~_| | | | | | | | (_ K _) | | | | | | | | | \ | | | | | | | | | [dB] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | * | 5 | N/A | N/A | 3.5 | N/A | N/A | | | σ~K~_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Cro | _ASD_ | 0.5 | 0 | 0.4 | 0.4 | 0.4 | 0.4 | | ss-Co | vs | | | | | | | | rrela | _DS_ | | | | | | | | tions | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ASA_ | 0.8 | 0.4 | 0.4 | 0.8 | 0.6 | 0.4 | | | vs | | | | | | | | | _DS_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ASA_ | -0.4 | -0.4 | 0 | -0.5 | 0 | 0 | | | vs | | | | | | | | | _SF_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ASD_ | -0.5 | 0 | 0.2 | -0.5 | -0.6 | 0.2 | | | vs | | | | | | | | | _SF_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _DS_ | -0.4 | -0.7 | -0.5 | -0.4 | -0.4 | -0.5 | | | vs | | | | | | | | | _SF_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ASD_ | 0.4 | 0 | 0 | 0 | 0.4 | 0 | | | vs | | | | | | | | | _ASA_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ASD_ | -0.2 | N/A | N/A | 0 | N/A | N/A | | | vs | | | | | | | | | _Κ_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ASA_ | -0.3 | N/A | N/A | -0.2 | N/A | N/A | | | vs | | | | | | | | | _Κ_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _DS_ | -0.7 | N/A | N/A | -0.4 | N/A | N/A | | | vs | | | | | | | | | _Κ_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _SF_ | 0.5 | N/A | N/A | 0 | N/A | N/A | | | vs | | | | | | | | | _Κ_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Cro | _ZSD_ | 0 | 0 | 0 | 0 | 0 | 0 | | ss-Co | vs | | | | | | | | rrela | _SF_ | | | | | | | | tions | | | | | | | | | ^1)^ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSA_ | 0 | 0 | 0 | -0.8 | -0.4 | 0 | | | vs | | | | | | | | | _SF_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSD_ | 0 | N/A | N/A | 0 | N/A | N/A | | | vs | | | | | | | | | _K_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSA_ | 0 | N/A | N/A | 0 | N/A | N/A | | | vs | | | | | | | | | _K_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSD_ | 0 | -0.5 | -0.6 | -0.2 | -0.5 | -0.6 | | | vs | | | | | | | | | _DS_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSA_ | 0.2 | 0 | -0.2 | 0 | 0 | -0.2 | | | vs | | | | | | | | | _DS_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSD_ | 0.5 | 0.5 | -0.2 | 0.5 | 0.5 | -0.2 | | | vs | | | | | | | | | _ASD_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSA_ | 0.3 | 0.5 | 0 | 0 | -0.1 | 0 | | | vs | | | | | | | | | _ASD_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSD_ | 0 | 0 | 0 | -0.3 | 0 | 0 | | | vs | | | | | | | | | _ASA_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSA_ | 0 | 0.2 | 0.5 | 0.4 | 0 | 0.5 | | | vs | | | | | | | | | _ASA_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | _ZSD_ | 0 | 0 | 0.5 | 0 | 0 | 0.5 | | | vs | | | | | | | | | _ZSA_ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Delay | 3 | 2.1 | 2.2 | 2.5 | 2.3 | 2.2 | | | sc | | | | | | | | | aling | | | | | | | | | para | | | | | | | | | meter | | | | | | | | | * | | | | | | | | | r~τ~_| | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | XPR |_ μ _| 9 | 8.0 | 9 | 8 | 7 | 9 | | \ | ~XPR~ | | | | | | | | [dB] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ σ _| 3 | 3 | 5 | 4 | 3 | 5 | | | ~XPR~ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | N | 12 | 19 | 12 | 12 | 20 | 12 | | | umber | | | | | | | | | of | | | | | | | | | clu | | | | | | | | | sters | | | | | | | | | $N$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | N | 20 | 20 | 20 | 20 | 20 | 20 | | | umber | | | | | | | | | of | | | | | | | | | rays | | | | | | | | | per | | | | | | | | | cl | | | | | | | | | uster | | | | | | | | | $M$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Cl | 5 | 11 | 11 | max( | max( | 11 | | | uster | | | | 0.25, | 0.25, | | | |_ DS _| | | | 6 | 6 | | | | ($ | | | | .5622 | .5622 | | | | c_{\t | | | | | | | | | ext{D | | | | -3 | -3 | | | | S}}$) | | | | .4084 | .4084 | | | | in | | | | l | l | | | | \ | | | | og~10 | og~10 | | | | [ns] | | | | ~(_ f _| ~(_ f _| | | | | | | | ~c~)) | ~c~)) | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Cl | 3 | 10 | 5 | 5 | 2 | 5 | | | uster | | | | | | | | |_ ASD _| | | | | | | | | ($c | | | | | | | | | _{\te | | | | | | | | | xt{AS | | | | | | | | | D}}$) | | | | | | | | | in | | | | | | | | | [ | | | | | | | | | deg] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Cl | 17 | 22 | 8 | 11 | 15 | 8 | | | uster | | | | | | | | |_ ASA _| | | | | | | | | ($c | | | | | | | | | _{\te | | | | | | | | | xt{AS | | | | | | | | | A}}$) | | | | | | | | | in | | | | | | | | | [ | | | | | | | | | deg] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Cl | 7 | 7 | 3 | 7 | 7 | 3 | | | uster | | | | | | | | |_ ZSA _| | | | | | | | | ($c | | | | | | | | | _{\te | | | | | | | | | xt{ZS | | | | | | | | | A}}$) | | | | | | | | | in | | | | | | | | | [ | | | | | | | | | deg] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Per | 3 | 3 | 4 | 3 | 3 | 4 | | | cl | | | | | | | | | uster | | | | | | | | | shad | | | | | | | | | owing | | | | | | | | | std ζ | | | | | | | | | \ | | | | | | | | | [dB] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | C |_ DS _| 7 | 10 | 10 | 30 | 40 | 10 | | orrel | | | | | | | | | ation | | | | | | | | | dis | | | | | | | | | tance | | | | | | | | | in | | | | | | | | | the | | | | | | | | | horiz | | | | | | | | | ontal | | | | | | | | | plane | | | | | | | | | [m] | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ ASD _| 8 | 10 | 11 | 18 | 50 | 11 | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ ASA _| 8 | 9 | 17 | 15 | 50 | 17 | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ SF _| 10 | 13 | 7 | 37 | 50 | 7 | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ Κ _| 15 | N/A | N/A | 12 | N/A | N/A | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ ZSA _| 12 | 10 | 25 | 15 | 50 | 25 | +-------+-------+-------+-------+-------+-------+-------+-------+ | |_ ZSD _| 12 | 10 | 25 | 15 | 50 | 25 | +-------+-------+-------+-------+-------+-------+-------+-------+ | * | | | | | | | | | f~c~_ | | | | | | | | | is | | | | | | | | | ca | | | | | | | | | rrier | | | | | | | | | freq | | | | | | | | | uency | | | | | | | | | in | | | | | | | | | GHz; | | | | | | | | | _d | | | | | | | | |_ ~2D~ | | | | | | | | | is | | | | | | | | | BS-UT | | | | | | | | | dis | | | | | | | | | tance | | | | | | | | | in | | | | | | | | | km. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 1: | | | | | | | | | _DS_ | | | | | | | | | = rms | | | | | | | | | delay | | | | | | | | | sp | | | | | | | | | read, | | | | | | | | | _ASD_ | | | | | | | | | = rms | | | | | | | | | az | | | | | | | | | imuth | | | | | | | | | s | | | | | | | | | pread | | | | | | | | | of | | | | | | | | | depa | | | | | | | | | rture | | | | | | | | | an | | | | | | | | | gles, | | | | | | | | | _ASA_ | | | | | | | | | = rms | | | | | | | | | az | | | | | | | | | imuth | | | | | | | | | s | | | | | | | | | pread | | | | | | | | | of | | | | | | | | | ar | | | | | | | | | rival | | | | | | | | | an | | | | | | | | | gles, | | | | | | | | | _ZSD_ | | | | | | | | | = rms | | | | | | | | | z | | | | | | | | | enith | | | | | | | | | s | | | | | | | | | pread | | | | | | | | | of | | | | | | | | | depa | | | | | | | | | rture | | | | | | | | | an | | | | | | | | | gles, | | | | | | | | | _ZSA_ | | | | | | | | | = rms | | | | | | | | | z | | | | | | | | | enith | | | | | | | | | s | | | | | | | | | pread | | | | | | | | | of | | | | | | | | | ar | | | | | | | | | rival | | | | | | | | | an | | | | | | | | | gles, | | | | | | | | | _SF_ | | | | | | | | | = | | | | | | | | | s | | | | | | | | | hadow | | | | | | | | | fa | | | | | | | | | ding, | | | | | | | | | and | | | | | | | | | _K_ = | | | | | | | | | R | | | | | | | | | icean | | | | | | | | | K-fa | | | | | | | | | ctor. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 2: | | | | | | | | | The | | | | | | | | | sign | | | | | | | | | of | | | | | | | | | the | | | | | | | | | s | | | | | | | | | hadow | | | | | | | | | f | | | | | | | | | ading | | | | | | | | | is | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | so | | | | | | | | | that | | | | | | | | | pos | | | | | | | | | itive | | | | | | | | | SF | | | | | | | | | means | | | | | | | | | more | | | | | | | | | rec | | | | | | | | | eived | | | | | | | | | power | | | | | | | | | at UT | | | | | | | | | than | | | | | | | | | pred | | | | | | | | | icted | | | | | | | | | by | | | | | | | | | the | | | | | | | | | path | | | | | | | | | loss | | | | | | | | | m | | | | | | | | | odel. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 3: | | | | | | | | | All | | | | | | | | | large | | | | | | | | | scale | | | | | | | | | param | | | | | | | | | eters | | | | | | | | | are | | | | | | | | | as | | | | | | | | | sumed | | | | | | | | | to | | | | | | | | | have | | | | | | | | | no | | | | | | | | | c | | | | | | | | | orrel | | | | | | | | | ation | | | | | | | | | be | | | | | | | | | tween | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | fl | | | | | | | | | oors. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 4: | | | | | | | | | The | | | | | | | | | foll | | | | | | | | | owing | | | | | | | | | not | | | | | | | | | ation | | | | | | | | | for | | | | | | | | | mean | | | | | | | | | (_μ_ ~ | | | | | | | | | lgX~= | | | | | | | | | mean{ | | | | | | | | | log~1 | | | | | | | | | 0~(X) | | | | | | | | | }) | | | | | | | | | and | | | | | | | | | sta | | | | | | | | | ndard | | | | | | | | | devi | | | | | | | | | ation | | | | | | | | | (_σ_ | | | | | | | | | ~lgX~ | | | | | | | | | =std{ | | | | | | | | | log~1 | | | | | | | | | 0~(X) | | | | | | | | | }) is | | | | | | | | | used | | | | | | | | | for | | | | | | | | | log | | | | | | | | | arith | | | | | | | | | mized | | | | | | | | | param | | | | | | | | | eters | | | | | | | | | X. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 5: | | | | | | | | | For | | | | | | | | | all | | | | | | | | | consi | | | | | | | | | dered | | | | | | | | | scen | | | | | | | | | arios | | | | | | | | | the | | | | | | | | | AO | | | | | | | | | D/AOA | | | | | | | | | dis | | | | | | | | | tribu | | | | | | | | | tions | | | | | | | | | are | | | | | | | | | mod | | | | | | | | | elled | | | | | | | | | by a | | | | | | | | | wr | | | | | | | | | apped | | | | | | | | | Gau | | | | | | | | | ssian | | | | | | | | | dis | | | | | | | | | tribu | | | | | | | | | tion, | | | | | | | | | the | | | | | | | | | ZO | | | | | | | | | D/ZOA | | | | | | | | | dis | | | | | | | | | tribu | | | | | | | | | tions | | | | | | | | | are | | | | | | | | | mod | | | | | | | | | elled | | | | | | | | | by a | | | | | | | | | Lapl | | | | | | | | | acian | | | | | | | | | di | | | | | | | | | strib | | | | | | | | | ution | | | | | | | | | and | | | | | | | | | the | | | | | | | | | delay | | | | | | | | | di | | | | | | | | | strib | | | | | | | | | ution | | | | | | | | | is | | | | | | | | | mod | | | | | | | | | elled | | | | | | | | | by an | | | | | | | | | e | | | | | | | | | xpone | | | | | | | | | ntial | | | | | | | | | dis | | | | | | | | | tribu | | | | | | | | | tion. | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 6: | | | | | | | | | For | | | | | | | | | UMa | | | | | | | | | and | | | | | | | | | f | | | | | | | | | reque | | | | | | | | | ncies | | | | | | | | | below | | | | | | | | | 6 | | | | | | | | | GHz, | | | | | | | | | use | | | | | | | | | _f~c | | | | | | | | | \ ~_ = | | | | | | | | | 6 | | | | | | | | | when | | | | | | | | | d | | | | | | | | | eterm | | | | | | | | | ining | | | | | | | | | the | | | | | | | | | v | | | | | | | | | alues | | | | | | | | | of | | | | | | | | | the | | | | | | | | | freq | | | | | | | | | uency | | | | | | | | | -depe | | | | | | | | | ndent | | | | | | | | | LSP | | | | | | | | | v | | | | | | | | | alues | | | | | | | | | | | | | | | | | | NOTE | | | | | | | | | 7: | | | | | | | | | For | | | | | | | | | UMi | | | | | | | | | and | | | | | | | | | f | | | | | | | | | reque | | | | | | | | | ncies | | | | | | | | | below | | | | | | | | | 2 | | | | | | | | | GHz, | | | | | | | | | use | | | | | | | | | _f~c | | | | | | | | | \ ~_ = | | | | | | | | | 2 | | | | | | | | | when | | | | | | | | | d | | | | | | | | | eterm | | | | | | | | | ining | | | | | | | | | the | | | | | | | | | v | | | | | | | | | alues | | | | | | | | | of | | | | | | | | | the | | | | | | | | | freq | | | | | | | | | uency | | | | | | | | | -depe | | | | | | | | | ndent | | | | | | | | | LSP | | | | | | | | | v | | | | | | | | | alues | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.5-6 Part-2: Channel model parameters for RMa (up to 7GHz) and Indoor-
Office
+---------+---------+---------+-------+---------+---------+---------+ | Sc | RMa | Indoor | | | | | | enarios | | -Office | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | LOS | NLOS | O2I | LOS | NLOS | | +---------+---------+---------+-------+---------+---------+---------+ | Delay | _μ | -7.49 | -7.43 | -7.47 | -0.01 | -0.28 | | spread |_ ~lgDS~ | | | | log | log | | (DS) | | | | | ~10~(1+ | ~10~(1+ | | | | | | | _f~c~_) | _f~c~_) | | lgDS= | | | | | - 7.692 | - 7.173 | | log~10~ | | | | | | | | (DS/1s) | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _σ | 0.55 | 0.48 | 0.24 | 0.18 | 0.10 | | |_ ~lgDS~ | | | | | log | | | | | | | | ~10~(1+ | | | | | | | | _f~c~_) | | | | | | | | + 0.055 | +---------+---------+---------+-------+---------+---------+---------+ | AOD | _μ_ | 0.90 | 0.95 | 0.67 | 1.60 | 1.62 | | spread | ~lgASD~ | | | | | | | (ASD) | | | | | | | | | | | | | | | | lgASD=l | | | | | | | | og~10~( | | | | | | | | ASD/1°) | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _σ_ | 0.38 | 0.45 | 0.18 | 0.18 | 0.25 | | | ~lgASD~ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | AOA | _μ_ | 1.52 | 1.52 | 1.66 | -0.19 | -0.11 | | spread | ~lgASA~ | | | | log | log | | (ASA) | | | | | ~10~(1+ | ~10~(1+ | | | | | | | _f~c~_) | _f~c~_) | | lgASA=l | | | | | + 1.781 | + 1.863 | | og~10~( | | | | | | | | ASA/1°) | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _σ_ | 0.24 | 0.13 | 0.21 | 0.12 | 0.12 | | | ~lgASA~ | | | | log | log | | | | | | | ~10~(1+ | ~10~(1+ | | | | | | | _f~c~_) | _f~c~_) | | | | | | | + 0.119 | + 0.059 | +---------+---------+---------+-------+---------+---------+---------+ | ZOA | _μ_ | 0.47 | 0.58 | 0.93 | -0.26 | -0.15 | | spread | ~lgZSA~ | | | | log | log | | (ZSA) | | | | | ~10~(1+ | ~10~(1+ | | | | | | | _f~c~_) | _f~c~_) | | lgZSA=l | | | | | + 1.44 | + 1.387 | | og~10~( | | | | | | | | ZSA/1°) | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _σ_ | 0.40 | 0.37 | 0.22 | -0.04 | -0.09 | | | ~lgZSA~ | | | | log | log | | | | | | | ~10~(1+ | ~10~(1+ | | | | | | | _f~c~_) | _f~c~_) | | | | | | | + 0.264 | + 0.746 | +---------+---------+---------+-------+---------+---------+---------+ | Shadow | _σ~SF~_ | See | 8 | See | | | | fading | | Table | | Table | | | | (SF) | | 7.4.1-1 | | 7.4.1-1 | | | | [dB] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | K | _μ~K~_ | 7 | N/A | N/A | **7** | N/A | | -factor | | | | | | | | (_K_) | | | | | | | | [dB] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _σ~K~_ | 4 | N/A | N/A | 4 | N/A | +---------+---------+---------+-------+---------+---------+---------+ | Cros | _ASD_ | 0 | -0.4 | 0 | 0.6 | 0.4 | | s-Corre | vs _DS_ | | | | | | | lations | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASA_ | 0 | 0 | 0 | 0.8 | 0 | | | vs _DS_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASA_ | 0 | 0 | 0 | --0.5 | --0.4 | | | vs _SF_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASD_ | 0 | 0.6 | 0 | --0.4 | 0 | | | vs _SF_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _DS_ vs | -0.5 | -0.5 | 0 | --0.8 | --0.5 | | | _SF_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASD_ | 0 | 0 | -0.7 | 0.4 | 0 | | | vs | | | | | | | | _ASA_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASD_ | 0 | N/A | N/A | 0 | N/A | | | vs _Κ_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASA_ | 0 | N/A | N/A | 0 | N/A | | | vs _Κ_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _DS_ vs | 0 | N/A | N/A | -0.5 | N/A | | | _Κ_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _SF_ vs | 0 | N/A | N/A | 0.5 | N/A | | | _Κ_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Cros | _ZSD_ | 0.01 | -0.04 | 0 | 0.2 | 0 | | s-Corre | vs _SF_ | | | | | | | lations | | | | | | | | ^1)^ | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSA_ | -0.17 | -0.25 | 0 | 0.3 | 0 | | | vs _SF_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSD_ | 0 | N/A | N/A | 0 | N/A | | | vs _K_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSA_ | -0.02 | N/A | N/A | 0.1 | N/A | | | vs _K_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSD_ | -0.05 | -0.10 | 0 | 0.1 | -0.27 | | | vs _DS_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSA_ | 0.27 | -0.40 | 0 | 0.2 | -0.06 | | | vs _DS_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSD_ | 0.73 | 0.42 | 0.66 | 0.5 | 0.35 | | | vs | | | | | | | | _ASD_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSA_ | -0.14 | -0.27 | 0.47 | 0 | 0.23 | | | vs | | | | | | | | _ASD_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSD_ | -0.20 | -0.18 | -0.55 | 0 | -0.08 | | | vs | | | | | | | | _ASA_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSA_ | 0.24 | 0.26 | -0.22 | 0.5 | 0.43 | | | vs | | | | | | | | _ASA_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSD_ | -0.07 | -0.27 | 0 | 0 | 0.42 | | | vs | | | | | | | | _ZSA_ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Delay | 3.8 | 1.7 | 1.7 | 3.6 | 3 | | | scaling | | | | | | | | pa | | | | | | | | rameter | | | | | | | | _r~τ~_ | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | XPR | * | 12 | 7 | 7 | 11 | 10 | | [dB] | μ _~XPR~ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | * | 4 | 3 | 3 | 4 | 4 | | | σ_ ~XPR~ | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Number | 11 | 10 | 10 | 15 | 19 | | | of | | | | | | | | c | | | | | | | | lusters | | | | | | | | $N$ | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Number | 20 | 20 | 20 | 20 | 20 | | | of rays | | | | | | | | per | | | | | | | | cluster | | | | | | | | $M$ | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Cluster | N/A | N/A | N/A | N/A | N/A | | | _DS_ | | | | | | | | ($c | | | | | | | | _{\text | | | | | | | | {DS}}$) | | | | | | | | in | | | | | | | | [ns] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Cluster | 2 | 2 | 2 | 5 | 5 | | |_ASD_ | | | | | | | | ($c_ | | | | | | | | {\text{ | | | | | | | | ASD}}$) | | | | | | | | in | | | | | | | | [deg] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Cluster | 3 | 3 | 3 | 8 | 11 | | | _ASA_ | | | | | | | | ($c_ | | | | | | | | {\text{ | | | | | | | | ASA}}$) | | | | | | | | in | | | | | | | | [deg] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Cluster | 3 | 3 | 3 | 9 | 9 | | | _ZSA_ | | | | | | | | ($c_ | | | | | | | | {\text{ | | | | | | | | ZSA}}$) | | | | | | | | in | | | | | | | | [deg] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Per | 3 | 3 | 3 | 6 | 3 | | | cluster | | | | | | | | sh | | | | | | | | adowing | | | | | | | | std ζ | | | | | | | | [dB] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | Corr | _DS_ | 50 | 36 | 36 | 8 | 5 | | elation | | | | | | | | d | | | | | | | | istance | | | | | | | | in the | | | | | | | | hor | | | | | | | | izontal | | | | | | | | plane | | | | | | | | [m] | | | | | | | +---------+---------+---------+-------+---------+---------+---------+ | | _ASD_ | 25 | 30 | 30 | 7 | 3 | +---------+---------+---------+-------+---------+---------+---------+ | | _ASA_ | 35 | 40 | 40 | 5 | 3 | +---------+---------+---------+-------+---------+---------+---------+ | | _SF_ | 37 | 120 | 120 | 10 | 6 | +---------+---------+---------+-------+---------+---------+---------+ | | _Κ_ | 40 | N/A | N/A | 4 | N/A | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSA_ | 15 | 50 | 50 | 4 | 4 | +---------+---------+---------+-------+---------+---------+---------+ | | _ZSD_ | 15 | 50 | 50 | 4 | 4 | +---------+---------+---------+-------+---------+---------+---------+ | _f~c~_ | | | | | | | | is | | | | | | | | carrier | | | | | | | | fr | | | | | | | | equency | | | | | | | | in GHz; | | | | | | | | _d_ ~2D~ | | | | | | | | is | | | | | | | | BS-UT | | | | | | | | d | | | | | | | | istance | | | | | | | | in km. | | | | | | | | | | | | | | | | NOTE 1: | | | | | | | | _DS_ = | | | | | | | | rms | | | | | | | | delay | | | | | | | | spread, | | | | | | | | _ASD_ = | | | | | | | | rms | | | | | | | | azimuth | | | | | | | | spread | | | | | | | | of | | | | | | | | de | | | | | | | | parture | | | | | | | | angles, | | | | | | | | _ASA_ = | | | | | | | | rms | | | | | | | | azimuth | | | | | | | | spread | | | | | | | | of | | | | | | | | arrival | | | | | | | | angles, | | | | | | | | _ZSD_ = | | | | | | | | rms | | | | | | | | zenith | | | | | | | | spread | | | | | | | | of | | | | | | | | de | | | | | | | | parture | | | | | | | | angles, | | | | | | | | _ZSA_ = | | | | | | | | rms | | | | | | | | zenith | | | | | | | | spread | | | | | | | | of | | | | | | | | arrival | | | | | | | | angles, | | | | | | | | _SF_ = | | | | | | | | shadow | | | | | | | | fading, | | | | | | | | and _K_ | | | | | | | | = | | | | | | | | Ricean | | | | | | | | K- | | | | | | | | factor. | | | | | | | | | | | | | | | | NOTE 2: | | | | | | | | The | | | | | | | | sign of | | | | | | | | the | | | | | | | | shadow | | | | | | | | fading | | | | | | | | is | | | | | | | | defined | | | | | | | | so that | | | | | | | | p | | | | | | | | ositive | | | | | | | | SF | | | | | | | | means | | | | | | | | more | | | | | | | | r | | | | | | | | eceived | | | | | | | | power | | | | | | | | at UT | | | | | | | | than | | | | | | | | pr | | | | | | | | edicted | | | | | | | | by the | | | | | | | | path | | | | | | | | loss | | | | | | | | model. | | | | | | | | | | | | | | | | NOTE 3: | | | | | | | | The | | | | | | | | fo | | | | | | | | llowing | | | | | | | | n | | | | | | | | otation | | | | | | | | for | | | | | | | | mean | | | | | | | | (_μ_ | | | | | | | | ~lgX~=m | | | | | | | | ean{log | | | | | | | | ~10~(X) | | | | | | | | }) and | | | | | | | | s | | | | | | | | tandard | | | | | | | | de | | | | | | | | viation | | | | | | | | (_σ | | | | | | | |_ ~lgX~= | | | | | | | | std{log | | | | | | | | ~10~(X) | | | | | | | | }) is | | | | | | | | used | | | | | | | | for | | | | | | | | logari | | | | | | | | thmized | | | | | | | | par | | | | | | | | ameters | | | | | | | | X. | | | | | | | | | | | | | | | | NOTE 4: | | | | | | | | Void. | | | | | | | | | | | | | | | | NOTE 5: | | | | | | | | For all | | | | | | | | con | | | | | | | | sidered | | | | | | | | sc | | | | | | | | enarios | | | | | | | | the | | | | | | | | AOD/AOA | | | | | | | | distri | | | | | | | | butions | | | | | | | | are | | | | | | | | m | | | | | | | | odelled | | | | | | | | by a | | | | | | | | wrapped | | | | | | | | G | | | | | | | | aussian | | | | | | | | distri | | | | | | | | bution, | | | | | | | | the | | | | | | | | ZOD/ZOA | | | | | | | | distri | | | | | | | | butions | | | | | | | | are | | | | | | | | m | | | | | | | | odelled | | | | | | | | by a | | | | | | | | La | | | | | | | | placian | | | | | | | | distr | | | | | | | | ibution | | | | | | | | and the | | | | | | | | delay | | | | | | | | distr | | | | | | | | ibution | | | | | | | | is | | | | | | | | m | | | | | | | | odelled | | | | | | | | by an | | | | | | | | expo | | | | | | | | nential | | | | | | | | distri | | | | | | | | bution. | | | | | | | | | | | | | | | | NOTE 6: | | | | | | | | For InH | | | | | | | | and | | | | | | | | freq | | | | | | | | uencies | | | | | | | | below 6 | | | | | | | | GHz, | | | | | | | | use | | | | | | | | _f | | | | | | | | ~c\ ~_ = | | | | | | | | 6 when | | | | | | | | dete | | | | | | | | rmining | | | | | | | | the | | | | | | | | values | | | | | | | | of the | | | | | | | | frequ | | | | | | | | ency-de | | | | | | | | pendent | | | | | | | | LSP | | | | | | | | values | | | | | | | +---------+---------+---------+-------+---------+---------+---------+
Table 7.5-7: ZSD and ZOD offset parameters for UMa
+----------------+----------------+----------------+----------------+ | Scenarios | LOS | NLOS | | +----------------+----------------+----------------+----------------+ | ZOD spread | _μ_ ~lgZSD~ | max[-0.5, | max[-0.5, | | (ZSD) | | -2.1 | -2.1 | | | | (_d~2D~_ /1000) | (_d~2D~_ /1000) | | lgZSD=l | | | | | og~10~(ZSD/1°) | | -0.01 | > -0 | | | | (_h~UT\ ~_ \- | .01(_h~UT\ ~_ \- | | | | 1.5)+0.75] | > 1.5)+0.9] | +----------------+----------------+----------------+----------------+ | | _σ_ ~lgZSD~ | 0.40 | 0.49 | +----------------+----------------+----------------+----------------+ | ZOD offset | * | 0 | _e_(_f~c~_)-10 | | | µ~offset,ZOD~_| | \^{_ a _(_ f~c~_) | | | | | log~10~(ma | | | | | x(_ b _(_ f~c~_), | | | | |_ d~2D~_)) | | | | | | | | | | +_ c _(_ f~c~_) | | | | | -0.07 | | | | | (_ h~UT~_-1.5)} | +----------------+----------------+----------------+----------------+ | Note: For NLOS | | | | | ZOD offset: | | | | | | | | | |_ a _(_ f~c~_) = | | | | | 0.208lo | | | | | g~10~(_ f~c~_)- | | | | | 0.782; | | | | | | | | | |_ b _(_ f~c~_) = | | | | | 25; | | | | | | | | | |_ c _(_ f~c~_) = | | | | | -0.13log~10~ | | | | | (_ f~c~_)+2.03; | | | | | | | | | |_ e _(_ f~c~_) = | | | | | 7.66log~10~ | | | | | (_ f~c~*)-5.96. | | | | +----------------+----------------+----------------+----------------+
Table 7.5-8: ZSD and ZOD offset parameters for UMi -- Street Canyon
+----------------+----------------+----------------+----------------+ | Scenarios | LOS | NLOS | | +----------------+----------------+----------------+----------------+ | ZOD spread | _μ_ ~lgZSD~ | max[-0.21, | max[-0.5, | | (ZSD) | | -14.8 | -3.1 | | | | (_d_ ~2D~/1000) | (_d_ ~2D~/1000) | | lgZSD=l | | | | | og~10~(ZSD/1°) | | + | + | | | | 0.01\|_h_ | 0.01 max(_h_ ~ | | | | ~UT~-_h_ ~BS~\| | UT~-_h_ ~BS~,0) | | | | + 0.83] | +0.2] | +----------------+----------------+----------------+----------------+ | | _σ_ ~lgZSD~ | 0.35 | 0.35 | +----------------+----------------+----------------+----------------+ | ZOD offset | * | 0 | -10\^{-1.5l | | | µ _~offset,ZOD~ | | og~10~(max(10, | | | | |_ d~2D~*))+3.3} | +----------------+----------------+----------------+----------------+
Table 7.5-9: ZSD and ZOD offset parameters for RMa
+-------------+-------------+-------------+-------------+-------------+ | ** | **LOS** | **NLOS** | **O2I** | | | Scenarios __| | | | | +-------------+-------------+-------------+-------------+-------------+ | ZOD spread |_ μ_~lgZSD~ | max[-1, | max[-1, | max[-1, | | (ZSD) | | -0.17(_d | -0.19(_ d | -0.19(_d | | | |_ ~2D~/1000) | _~2D~/1000) |_ ~2D~/1000) | | lgZSD=log~ | | | | | | 10~(ZSD/1°) | | -0 | -0 | -0 | | | | .01(_h_ ~UT~ | .01(_h_ ~UT~ | .01(_h_ ~UT~ | | | | - 1.5) + | - 1.5) + | - 1.5) + | | | | 0.22] | 0.28] | 0.28] | +-------------+-------------+-------------+-------------+-------------+ | | _σ_ ~lgZSD~ | 0.34 | 0.30 | 0.30 | +-------------+-------------+-------------+-------------+-------------+ | ZOD offset | _µ_ ~ | 0 | arctan((35 | arctan((35 | | | offset,ZOD~ | | - | - | | | | | 3. | 3. | | | | | 5)/_d~2D~_) | 5)/_d~2D~_) | | | | | | | | | | | -arctan((35 | -arctan((35 | | | | | - | - | | | | | 1. | 1. | | | | | 5)/_d~2D~_) | 5)/_d~2D~_) | +-------------+-------------+-------------+-------------+-------------+
Table 7.5-10: ZSD and ZOD offset parameters for Indoor-Office
+-----------------------+-----------------+--------------------------------+------+ | Scenarios | LOS | NLOS | | +-----------------------+-----------------+--------------------------------+------+ | ZOD spread (ZSD) | _μ_ ~lgZSD~ | -1.43 log~10~(1+ _f~c~_)+2.228 | 1.08 | | | | | | | lgZSD=log~10~(ZSD/1°) | | | | +-----------------------+-----------------+--------------------------------+------+ | | _σ_ ~lgZSD~ | 0.13 log~10~(1+_f~c~_)+0.30 | 0.36 | +-----------------------+-----------------+--------------------------------+------+ | ZOD offset | _µ_ ~offset,ZOD~ | 0 | 0 | +-----------------------+-----------------+--------------------------------+------+
Notes for Table 7.5-7, 7.5-8, 7.5-9, 7.5-10:
NOTE 1: _f~c~_ is center frequency in GHz; _d_ ~2D~ is BS-UT distance in m.
NOTE 2: _h_ ~BS~ and _h_ ~UT~ are antenna heights in m for BS and UT
**respectively.**
NOTE 3: The following notation for mean (_μ_ ~lgX~=mean{log~10~(X) }) and
standard deviation (_σ_ ~lgX~=std{log~10~(X) }) is used for logarithmized
parameters X**.**
NOTE 4: For frequencies below 6 GHz, use _f~c\ ~_ = 6 when determining the
values of the frequency-dependent ZSD and ZOD offset parameters in Table 7.5-7
and 7.5-10
NOTE 5: The ZSD parameters for O2I links are the same parameters that are used
for outdoor links, depending on the LOS condition of the outdoor link part in
Tables 7.5-7 and 7.5-8.
## 7.6 Additional modelling components
The additional modelling components in this subclause are to support advanced
simulations, such as simulations with very large arrays and large bandwidth,
simulations affected by oxygen absorption (frequencies between 53 and 67 GHz),
simulations in which spatial consistency is important (e.g. high number of
closely located user), simulations of mobility, and simulations of blockage
effects. These modelling components affect some of the steps between Step 1
and Step 12 in Subclause 7.5.
These extensions are computationally more expensive and might not be required
in all evaluation cases.
### 7.6.1 Oxygen absorption
Oxygen absorption loss is applied to the cluster responses generated in Step
11 in Subclause 7.5. The additional loss, OL _~n~_(_f~c~_) for cluster _n_ at
centre frequency _f~c~_ is modelled as:
$\text{OL}_{n}(f_{c}) = \frac{\alpha(f_{c})}{\text{1000}} \cdot (d_{3D} + c
\cdot (\tau_{n} + \tau_{\Delta}))$ [dB] (7.6-1)
where:
_\- α_(_f~c~_) is frequency dependent oxygen loss [dB/km] characterized in
Table 7.6.1-1;
\- _c_ is the speed of light [m/s]; and _d_ ~3D~ is the distance [m];
_\- τ~n~_ is the _n_ -th cluster delay [s] in Step 11 in Subclause 7.5;
_\- τ_ ~Δ~ is 0 in the LOS case and min($\tau_{n}^{'}$) otherwise, where
min($\tau_{n}^{'}$) is the minimum delay in Step 5.
For centre frequencies not specified in this table, the frequency dependent
oxygen loss _α_(_f~c~_) is obtained from a linear interpolation between two
loss values corresponding to the two adjacent centre frequencies of the centre
frequency _f~c~_.
Table 7.6.1-1 Frequency dependent oxygen loss _α_(_f_) [dB/km]
* * *
**f in [GHz]** 0-52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68-100 **α(f)
in [dB/km]** **0** 1 2.2 4 6.6 9.7 12.6 14.6 15 14.6 14.3 10.5 6.8 3.9 1.9 1
**0**
* * *
For large channel bandwidth, first transform the time-domain channel response
of each cluster (all rays within one cluster share common oxygen absorption
loss for simplicity) into frequency-domain channel response, and apply the
oxygen absorption loss to the cluster\'s frequency-domain channel response for
frequency _f~c~_ \+ Δ _f_ within the considered bandwidth. The oxygen loss, OL
_~n~_(_f~c~_ \+ Δ _f_) for cluster _n_ at frequency _f~c~_ \+ Δ _f_ is
modelled as:
[dB] (7.6-2)
where:
_\- α_(_f~c~_ \+ Δ _f_) is the oxygen loss (dB/km) at frequency _f~c~_ \+ Δ
_f_ characterized in Table 7.6.1-1. Note that Δ _f_ is in [-B/2, B/2], where B
is the bandwidth. Linear interpolation is applied for frequencies not provided
in Table 7.6.1-1.
The final frequency-domain channel response is obtained by the summation of
frequency-domain channel responses of all clusters.
Time-domain channel response is obtained by the reverse transform from the
obtained frequency-domain channel response.
### 7.6.2 Large bandwidth and large antenna array
#### 7.6.2.1 Modelling of the propagation delay
The modelling in this subclause applies only when the bandwidth _B_ is greater
than _c/D_ Hz, where
_\- D_ is the maximum antenna aperture in either azimuth or elevation (m)
_\- c_ is the speed of light (m/s)
Each ray within a cluster for a given _u_ (Rx) and _s_ (Tx) has unique time of
arrival (TOA). The channel coefficient generation step (Step 11 in Subclause
7.5) is updated to model individual rays. In this case, the channel response
of ray _m_ in cluster _n_ for a link between Rx antenna _u_ and Tx antenna _s_
at delay $\tau$ at time _t_ is given by:
$\begin{matrix} H_{u,s,n,m}^{\text{NLOS}}(t;\tau) =
\sqrt{P_{n,m}}\begin{bmatrix} F_{\text{rx},u,\theta}\left(
\theta_{n,m,\text{ZOA}},\varphi_{n,m,\text{AOA}} \right) \
F_{\text{rx},u,\varphi}\left( \theta_{n,m,\text{ZOA}},\varphi_{n,m,\text{AOA}}
\right) \ \end{bmatrix}^{T}\begin{bmatrix} \text{exp}\left(
\text{jΦ}_{n,m}^{\text{θθ}} \right) & \sqrt{\kappa_{{n,m}^{-
1}}}\text{exp}\left( \text{jΦ}_{n,m}^{\text{θφ}} \right) \
\sqrt{\kappa_{{n,m}^{- 1}}}\text{exp}\left( \text{jΦ}_{n,m}^{\text{φθ}}
\right) & \text{exp}\left( \text{jΦ}_{n,m}^{\text{φφ}} \right) \ \end{bmatrix}
\ \begin{bmatrix} F_{\text{tx},s,\theta}\left(
\theta_{n,m,\text{ZOD}},\varphi_{n,m,\text{AOD}} \right) \
F_{\text{tx},s,\varphi}\left( \theta_{n,m,\text{ZOD}},\varphi_{n,m,\text{AOD}}
\right) \ \end{bmatrix}\text{exp}\left( \frac{j2\pi\left(
{\hat{r}}_{\text{rx},n,m}^{T}\text{.}{\overline{d}}_{\text{rx},u}
\right)}{\lambda\left( f \right)} \right)\text{exp}\left( \frac{j2\pi\left(
{\hat{r}}_{\text{tx},n,m}^{T}\text{.}{\overline{d}}_{\text{tx},s}
\right)}{\lambda\left( f \right)} \right) \ \text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx},n,m}^{T}\text{.}\overline{v}}{\lambda_{0}}t
\right)\delta\left( \tau - \tau_{n,m} \right) \ \end{matrix}$ (7.6-3)
with $\lambda\left( f \right)$ is the wavelength on frequency $f \in
\left\lbrack f_{c} - \frac{B}{2},f_{c} + \frac{B}{2} \right\rbrack$_, which
can be implemented by user\'s own method._ The delay (TOA) for ray _m_ in
cluster _n_ for a link between Rx antenna _u_ and Tx antenna _s_ is given by:
$\tau_{u,s,n,m} = \tau_{n,m} -
\frac{1}{c}{\hat{r}}_{\text{rx},n,m}^{T}\text{.}{\overline{d}}_{\text{rx},u} -
\frac{1}{c}{\hat{r}}_{\text{tx},n,m}^{T}\text{.}{\overline{d}}_{\text{tx},s}$
(7.6-4)
Note that Equation (7.6-3) only considers the delays $\tau_{n,m}$
intentionally. _If unequal ray powers are considered,_ $P_{n,m}$ _are
generated according to Subclause 7.6.2.2. Otherwise, ray powers are equal
within a cluster, i.e.,_ $P_{n,m} = P_{n}/M$ _for all m._ Note: this model is
developed assuming plane wave propagation.
#### 7.6.2.2 Modelling of intra-cluster angular and delay spreads
With large antenna arrays or large bandwidths, the angle and/or delay
resolution can be larger than what the fast fading model in Subclause 7.5 is
designed to support. To model this effect, the following modifications to Step
7 in Subclause 7.5 can be optionally used.
[1. The offset angles _α~m~_]{.underline} in (7.5-13), (7.5-18) and (7.5-20)
are generated independently per cluster and ray using:
$\alpha_{n,m,\left{ \text{AOA,AOD,ZOA,ZOD}
\right}}\text{\textasciitilde}\text{unif}\left( - 2,2 \right)$ (7.6-5)
where $\text{unif}\left( a,b \right)$ denotes the continuous uniform
distribution in the interval $\left\lbrack a,b \right\rbrack$. These random
variables may further be modelled as spatially consistent with correlation
distance equal to the cluster-specific random variable correlation distance of
Table 7.6.3.1-2.
[2. The relative delay of _m_ -th ray]{.underline} is given by $\tau_{n,m}^{'}
= \tau_{n,m}^{''} - \text{min}\left( \left{ \tau_{n,i}^{''} \right}_{i =
1}^{M} \right)$, where _n_ is the cluster index,
$\tau_{n,m}^{''}\text{\textasciitilde}\text{unif}\left( 0,\ 2c_{\text{DS}}
\right)$, the cluster DS $c_{\text{DS}}$ is given in Table 7.5-6. These random
variables may further be modelled as spatially consistent with correlation
distance equal to the cluster-specific random variable correlation distance of
Table 7.6.3.1-2. In this case, the sub-cluster mapping according to (7.5-26)
and Table 7.5-5 shall not be applied. The delays to be used in Equation
(7.6-3) are given by $\tau_{n,m} = \tau_{n} + \tau_{n,m}^{'}$.
[3. Ray powers]{.underline} are determined unequally by the following process:
The power of _m_ -th ray in _n_ -th cluster is given by $P_{n,m} = P_{n} \cdot
\frac{P_{n,m}^{'}}{\sum_{m = 1}^{M}P_{n,m}^{'}}$ for _m_ = 1,...,_M_ , where
$\begin{matrix} P_{n,m}^{'} = \text{exp}\left( -
\frac{\tau_{n,m}^{'}}{c_{\text{DS}}} \right)\text{exp}\left( -
\frac{\sqrt{2}\left| \alpha_{n,m,\text{AOA}} \right|}{c_{\text{ASA}}}
\right)\text{exp}\left( - \frac{\sqrt{2}\left| \alpha_{n,m,\text{AOD}}
\right|}{c_{\text{ASD}}} \right) \ \text{exp}\left( - \frac{\sqrt{2}\left|
\alpha_{n,m,\text{ZOA}} \right|}{c_{\text{ZSA}}} \right)\text{exp}\left( -
\frac{\sqrt{2}\left| \alpha_{n,m,\text{ZOD}} \right|}{c_{\text{ZSD}}} \right)
\ \end{matrix}$ (7.6-6)
and $c_{\text{DS}}$, $c_{\text{ASA}}$, $c_{\text{ASD}}$, and $c_{\text{ZSA}}$
are respectively the intra-cluster delay spread and the corresponding intra-
cluster angular spread that are given in Table 7.5-6. The cluster zenith
spread of departure is given by
$c_{\text{ZSD}} = \frac{3}{8}\text{10}^{\mu_{\text{lgZSD}}}$, (7.6-7)
with $\mu_{\text{lgZSD}}$ being defined in Tables 7.5-7, 7.5-8, 7.5-9, and
7.5-10.
4\. The number of rays per cluster shall be calculated as follows:
$M = \text{min}\left{ \text{max}\left(
M_{t}M_{\text{AOD}}M_{\text{ZOD}},\text{20} \right),M_{\text{max}} \right}$
(7.6-8)
where:
\- $M_{t} = \left\lceil 4\text{kc}_{\text{DS}}B \right\rceil$
\- $M_{\text{AOD}} = \left\lceil 4\text{kc}_{\text{ASD}}\frac{\pi \cdot
D_{h}}{\text{180} \cdot \lambda} \right\rceil$
\- $M_{\text{ZOD}} = \left\lceil 4\text{kc}_{\text{ZSD}}\frac{\pi \cdot
D_{v}}{\text{180} \cdot \lambda} \right\rceil$
\- $M_{\text{max}}$ is the upper limit of $M$, and it should be selected by
the user of channel model based on the trade-off between simulation complexity
and accuracy.
\- $D_{h}$ and $D_{v}$ are the array size in m in horizontal and vertical
dimension, _B_ is bandwidth in Hz, $c_{\text{ASD}}$ and $c_{\text{ZSD}}$ are
the cluster spreads in degrees, and $\lambda$ is the wavelength.
\- $k$ is a \"sparseness\" parameter with value 0.5.
It is noted that each MPC may have different AOD, ZOD, and delay.
### 7.6.3 Spatial consistency
#### 7.6.3.1 Spatial consistency procedure
A new procedure, namely _a_ _spatial consistency procedure_ , can be used for
both cluster-specific and ray-specific random variables to be generated in
various channel generation steps in Subclause 7.5, so that they are spatially
consistent for drop-based simulations. Alternatively, this can be used
together with Procedure B described in Subclause 7.6.3.2 for spatially
consistent mobility simulations.
The procedure can be considered as a 2D random process (in the horizontal
plane) given the UT locations based on the parameter-specific correlation
distance values for spatial consistency, specified in Table 7.6.3.1-2. The
cluster specific random variables include:
\- Cluster specific random delay in Step 5;
\- Cluster specific shadowing in Step 6; and
\- Cluster specific offset for AOD/AOA/ZOD/ZOA in Step 7.
\- Cluster specific sign for AOD/AOA/ZOD/ZOA in Step 7.
\- Optionally in case of large bandwidth as described in Subclause 7.6.2.2 the
procedure may apply as well for the parameters of rays within a cluster.
The procedure shall apply to each cluster before sorting the delay. Cluster
specific sign for AOD/AOA/ZOD/ZOA in Step 7 shall be kept unchanged per
simulation drop even if UT position changes during simulation. The ray
specific random variables include:
\- Random coupling of rays in Step 8;
\- XPR in Step 9; and
\- Random phase in Step 10.
The random coupling of rays in Step 8 and the intra-cluster delays in Step 11
shall be kept unchanged per simulation drop even if UT position changes during
simulation.
Table 7.6.3.1-2 Correlation distance for spatial consistency
* * *
Correlation distance in [m] RMa UMi UMa Indoor  
LOS NLOS O2I LOS NLOS O2I LOS NLOS O2I  
Cluster and ray specific random variables 50 60 15 12 15 15 40 50 15 10
LOS/NLOS state 60 50 50 10  
Indoor/outdoor state 50 50 50 N/A
* * *
#### 7.6.3.2 Spatially-consistent UT mobility modelling
For mobility simulation enhancement, two alternative spatial consistency
procedures -- Procedure A and Procedure B -- are described as follows. The
procedures presented below consider the downlink direction same as in
Subclause 7.5.
**Procedure A:**
For $t_{0} = 0$ when a UT is dropped into the network, spatially consistent
powers/delays/angles of clusters are generated according to Subclause 7.6.3.1.
The updated distance of UT should be limited within 1 meter, i.e. when , and
the updated procedure in the following should take the closest realization
instead of $t_{0} = 0$.
At $t_{k} = t_{k - 1} + \text{Δt}$, update channel cluster power/delay/angles
based on UT channel cluster power/delay/angles, moving speed moving direction
and UT position at $t_{k - 1}$_._
[Cluster delay]{.underline} is updated as:
${\overset{\sim}{\tau}}_{n}\left( t_{k} \right) = \left{ \begin{matrix}
{\overset{\sim}{\tau}}_{n}\left( t_{k - 1} \right) -
\frac{{\hat{r}}_{\text{rx},n}\left( t_{k - 1} \right)^{T}\overline{v}\left(
t_{k - 1} \right)}{c}\text{Δt} & \text{for\ }k > 0 \ \tau_{n}\left( t_{0}
\right) + \tau_{\Delta}\left( t_{0} \right) + \frac{d_{\text{3D}}\left( t_{0}
\right)}{c} & \text{for\ }k = 0 \ \end{matrix} \right.\ $ (7.6-9)
where
$c$ _is the speed of light in [m/s]_ ;
$\overline{v}\left( t_{k} \right)$ is the UT velocity vector with $\left\|
\overline{v}\left( t_{k} \right) \right\|_{2} = v$_;_
$d_{\text{3D}}\left( t_{0} \right)$ is the 3D distance between _Rx_ antenna
and _Tx_ antenna at $t_{0}$ in [m];
$\tau_{n}\left( t_{0} \right)$ are the cluster delays in [s] as in Step 11 in
Subclause 7.5;
$\tau_{\Delta}\left( t_{0} \right) = \left{ \begin{matrix} 0 & \text{for\ LOS}
\ \text{min}\left( \left{ \tau_{n}^{'} \right}_{n = 1}^{N} \right) &
\text{for\ NLOS} \ \end{matrix} \right.\ $, where $\tau_{n}^{'}$ are the
delays from Equation (7.5-1).
_Also,_
_(7.6-10)_
where $\theta_{n,\text{ZOA}}$ and $\varphi_{n,\text{AOA}}$ are cluster
specific zenith and azimuth angles of arrival.
After updating the delays according to equation (7.6-9), the delays over the
mobility range are normalized. Equation (7.5-2) of the fast fading model is
replaced by
$\tau_{n}\left( t_{k} \right) = {\overset{\sim}{\tau}}_{n}\left( t_{k} \right)
- \text{min}\left( \left{ {\overset{\sim}{\tau}}_{n}\left( t_{k} \right)
\right}_{n = 1}^{N} \right)$ (7.6-10a)
in which $t_{k}$ covers the entire duration of the mobility model.
[Cluster powers]{.underline} are updated as in Step 6 using the cluster delays
from Equation (7.6-10a)_._
[Cluster departure angles]{.underline} ($\theta_{n,\text{ZOD}}$ and
$\varphi_{n,\text{AOD}}$) [and arrival angles]{.underline}
($\theta_{n,\text{ZOA}}$ and $\varphi_{n,\text{AOA}}$) are updated using a
cluster-wise transformation of the UT velocity vector given by
${\overline{v}}_{n}^{'}\left( t_{k} \right) = \left{ \begin{matrix}
\overline{v}\left( t_{k} \right) & \text{for\ LOS} \ R_{n} \cdot
\overline{v}\left( t_{k} \right) & \text{for\ NLOS} \ \end{matrix} \right.\ $
(7.6-10b)
with
$R_{n} = R_{Z}\left( \varphi_{n,\text{AOD}}\left( t_{k} \right) + \pi
\right)R_{Y}\left( \frac{\pi}{2} - \theta_{n,\text{ZOD}}\left( t_{k} \right)
\right)\begin{bmatrix} 1 & 0 & 0 \ 0 & X_{n} & 0 \ 0 & 0 & 1 \
\end{bmatrix}R_{Y}\left( \frac{\pi}{2} - \theta_{n,\text{ZOA}}\left( t_{k}
\right) \right)R_{Z}\left( - \varphi_{n,\text{AOA}}\left( t_{k} \right)
\right)$, where $R_{Y}\left( \beta \right)$ and $R_{Z}\left( \alpha \right)$
being the rotation matrices around y-axis and z-axis as defined in Equation
(7.1-2). Random variable $X_{n} \in \left{ 1, - 1 \right}$ is sampled from a
uniform distribution on a NLOS cluster basis and is not changed during the UT
mobility within a drop. The cluster specific decorrelation distances are 60m,
15m, 50m and 10m for RMa, UMi, UMa and Indoor scenarios, respectively.
Now, the departure and arrival angles in radians are updated as:
$\varphi_{n,\text{AOD}}\left( t_{k} \right) = \varphi_{n,\text{AOD}}\left(
t_{k - 1} \right) + \frac{{\overline{v}}_{n}^{'}\left( t_{k - 1}
\right)^{T}\hat{\varphi}\left( \theta_{n,\text{ZOD}}\left( t_{k - 1}
\right),\varphi_{n,\text{AOD}}\left( t_{k - 1} \right) \right)}{c \cdot
{\overset{\sim}{\tau}}_{n}\left( t_{k - 1} \right)\text{sin}\left(
\theta_{n,\text{ZOD}}\left( t_{k - 1} \right) \right)}\text{Δt}$ (7.6-11)
$\theta_{n,\text{ZOD}}\left( t_{k} \right) = \theta_{n,\text{ZOD}}\left( t_{k
- 1} \right) + \frac{{\overline{v}}_{n}^{'}\left( t_{k - 1}
\right)^{T}\hat{\theta}\left( \theta_{n,\text{ZOD}}\left( t_{k - 1}
\right),\varphi_{n,\text{AOD}}\left( t_{k - 1} \right) \right)}{c \cdot
{\overset{\sim}{\tau}}_{n}\left( t_{k - 1} \right)}\text{Δt}$ (7.6-12)
and
$\varphi_{n,\text{AOA}}\left( t_{k} \right) = \varphi_{n,\text{AOA}}\left(
t_{k - 1} \right) - \frac{\overline{v}\left( t_{k - 1}
\right)^{T}\hat{\varphi}\left( \theta_{n,\text{ZOA}}\left( t_{k - 1}
\right),\varphi_{n,\text{AOA}}\left( t_{k - 1} \right) \right)}{c \cdot
{\overset{\sim}{\tau}}_{n}\left( t_{k - 1} \right)\text{sin}\left(
\theta_{n,\text{ZOA}}\left( t_{k - 1} \right) \right)}\text{Δt}$ (7.6-13)
$\theta_{n,\text{ZOA}}\left( t_{k} \right) = \theta_{n,\text{ZOA}}\left( t_{k
- 1} \right) - \frac{\overline{v}\left( t_{k - 1}
\right)^{T}\hat{\theta}\left( \theta_{n,\text{ZOA}}\left( t_{k - 1}
\right),\varphi_{n,\text{AOA}}\left( t_{k - 1} \right) \right)}{c \cdot
{\overset{\sim}{\tau}}_{n}\left( t_{k - 1} \right)}\text{Δt}$ (7.6-14)
with $\hat{\theta}\left( \theta,\varphi \right)$ and $\hat{\varphi}\left(
\theta,\varphi \right)$ being the spherical unit vectors defined in Equations
(7.1-13) and (7.1-14).
**Procedure B:**
In procedure B, spatial or time evolution of the channel is obtained by
generating channel realizations separately for all links to different Rx
positions using Steps 1-12 of Subclause 7.5 together with the spatially
consistent procedure of Subclause 7.6.3.1. In the case of mobility these
positions may be a function of time along one or more Rx trajectories.
Furthermore, to ensure that the spatial or time evolution of delays and angles
are within reasonable limits, Steps 5, 6, and 7 in Subclause 7.5 should be
replaced by the below procedure.
Note: For implementation purposes, LSPs and SSPs may be interpolated within
the coherence length or time of the respective parameter.
[Step 5]{.underline}: Generate cluster delays , with $n \in \left\lbrack 1,N
\right\rbrack$.
$N$ delays are drawn randomly from a uniform distribution.
$\tau_{n}^{'}\text{\textasciitilde}\text{unif}\left( 0,2 \cdot
\text{10}^{\mu_{\text{lgDS}} + \sigma_{\text{lgDS}}} \right)$ (7.6-15)
Normalise the delays by subtracting the minimum delay: $\tau_{n} =
\tau_{n}^{'} - \text{min}\left( \tau_{n}^{'} \right)$. The autocorrelation
distance for $\tau_{n}^{'}$ is $2c \cdot \text{10}^{\mu_{\text{lgDS}} +
\sigma_{\text{lgDS}}}$.
In the case of LOS, set the delay of the first cluster $\tau_{1}$ to 0.
[Step 6]{.underline}: Generate $N$ arrival angles and departure angles for
both azimuth and elevation using (7.6-16) instead of (7.5-9) and (7.5-14).
$\varphi_{n,\text{AOA}}^{'}\text{\textasciitilde}2 \cdot
\text{10}^{\mu_{\text{lgASA}} + \sigma_{\text{lgASA}}}\text{unif}\left( - 1,\
1 \right)$ (7.6-16)
with $n \in \left\lbrack 1,N \right\rbrack$. This step is repeated
independently for AOD, AOA, ZOD, and ZOA with corresponding maximum angles for
the uniform distribution. In case of LOS, set the angles of the first cluster
($\varphi_{1,\text{AOA}}^{'}$, etc) to 0.
The autocorrelation distances are for AOD, and ZOD, while they are fixed to
50m for AOA, and ZOA.
Offset angles etc are applied in the modified Step 7b below after cluster
powers have been calculated.
[Step 7]{.underline}: Generate cluster powers
Cluster powers are calculated assuming a single slope exponential power
profile and Laplacian angular power profiles. The cluster powers are
determined by
$\begin{matrix} P_{n}^{'} = \text{exp}\left( \frac{- \tau_{n}^{'}}{\text{DS}}
\right)\text{exp}\left( \frac{- \sqrt{2}\left| \varphi_{n,\text{AOA}}^{'}
\right|}{\text{ASA}} \right)\text{exp}\left( \frac{- \sqrt{2}\left|
\varphi_{n,\text{AOD}}^{'} \right|}{\text{ASD}} \right) \ \text{exp}\left(
\frac{- \sqrt{2}\left| \theta_{n,\text{ZOA}}^{'} \right|}{\text{ZSA}}
\right)\text{exp}\left( \frac{- \sqrt{2}\left| \theta_{n,\text{ZOD}}^{'}
\right|}{\text{ZSD}} \right) \cdot \text{10}^{\frac{- Z_{n}}{\text{10}}} \
\end{matrix}$ (7.6-17)
_where_ $Z_{n}\text{\textasciitilde}N(0,\zeta^{2})$ _(autocorrelation distance
same as for shadow fading) is the per cluster shadowing term in [dB]. Delay
spread_ $\text{DS}$ _and angular spreads_ $\text{ASA}$, $\text{ASD}$,
$\text{ZSA}$, $\text{ZSD}$_are generated in Step 4 of Subclause 7.5._
Normalize the cluster powers so that the sum of all cluster powers is equal to
one, i.e.,
$P_{n} = \frac{P_{n}^{'}}{\sum_{}^{}P_{n}^{'}}$ (7.6-17a)
_In the case of LOS condition, substitute_ $\text{DS}$ _with_ $\sqrt{1 +
K_{R}/2} \cdot \text{DS}$ and {$\text{ASA}$, $\text{ASD}$, $\text{ZSA}$,
$\text{ZSD}$} with {$\sqrt{1 + K_{R}} \cdot \text{ASA}$, $\sqrt{1 + K_{R}}
\cdot \text{ASD}$, $\sqrt{1 + K_{R}} \cdot \text{ZSA}$, $\sqrt{1 + K_{R}}
\cdot \text{ZSD}$} respectively to preserve the delay and angular spreads.
$K_{R}$ is the Ricean K-factor as generated in Step 4 converted to linear
scale. Furthermore, an additional specular component is added to the first
cluster. Power of the single LOS ray is:
$P_{1,\text{LOS}} = \frac{K_{R}}{K_{R} + 1}$ (7.6-17b)
and the cluster powers are not normalized as in equation (7.6-17a), but:
$P_{n} = \frac{1}{K_{R} + 1}\frac{P_{n}^{'}}{\sum_{}^{}P_{n}^{'}} +
\delta\left( n - 1 \right)P_{1,\text{LOS}}$ (7.6-17c)
where δ(.) is Dirac\'s delta function.
Assign the power of each ray within a cluster as _P~n ~/ M_ , where _M_ is the
number of rays per cluster.
_[Step 7b]{.underline}: Apply offset angles_
_The ray AOA angles are determined by_
$\varphi_{n,m,\text{AOA}} = \varphi_{n,\text{AOA}}^{'} +
\varphi_{\text{LOS},\text{AOA}} + c_{\text{ASA}}\alpha_{m}$ (7.6-17d)
where $\varphi_{\text{LOS,AOA}}$ is the LOS direction defined in the network
layout description, see Step1c.
The generation of AOD ($\varphi_{n,m,\text{AOD}}$) follows a procedure similar
to AOA as described above.
_The ZOA angles are determined by_
$\theta_{n,m,\text{ZOA}} = \varphi_{n,\text{ZOA}}^{'} +
{\overline{\theta}}_{\text{ZOA}} + c_{\text{ZSA}}\alpha_{m}$ (7.6-17e)
where ${\overline{\theta}}_{\text{ZOA}} = \text{90}^{0}$ if the BS-UT link is
O2I and ${\overline{\theta}}_{\text{ZOA}} =
\theta_{\text{LOS},\text{ZOA}}$otherwise. The LOS direction is defined in the
network layout description, see Step1c.
_The ZOA angles are determined by_
$\theta_{n,m,\text{ZOD}} = \varphi_{n,\text{ZOD}}^{'} +
\theta_{\text{LOS},\text{ZOD}} + \mu_{\text{offset},\text{ZOD}} +
(3/8)(\text{10}^{\mu_{\text{lgZSD}}})\alpha_{m}$ (7.6-17f)
where $\mu_{\text{lgZSD}}$is the mean of the ZSD log-normal distribution.
_Some of the delay and angle spreads and standard deviations used in equations
(7.6-15) and (7.6-16) may be frequency-dependent. In the case of multi-
frequency simulations according to Subclause 7.6.5, the largest value among
all the simulated frequencies should be used in (7.6-15) and (7.6-16) so that
the cluster and ray delays and angles (but not the powers or the resulting
delay or angular spreads) are the same for all frequencies._
#### 7.6.3.3 LOS/NLOS, indoor states and O2I parameters
The LOS state can be determined according to the spatial consistency procedure
for random variables as mentioned in Subclause 7.6.3.1, by comparing a
realization of a random variable generated with distance-dependent LOS
probability. If the realization is less than the LOS probability, the state is
LOS; otherwise NLOS. Decision of LOS and NLOS status should be used in Step 2
in Subclause 7.5 if this advanced simulation is performed.
The same procedure can be applied for determining the indoor state, with the
indoor probability instead of the LOS probability.
The correlation distance for LOS state and indoor/outdoor is specified in
Table 7.6.3.1-2.
The indoor distance can be modeled as the minimum of two spatially consistent
uniform random variables within (0, 25) meters with correlation distance 25m.
Note in case the UT is in an indoor state, the pathloss model changes and a
penetration loss is considered. For details on the model, see Subclause 7.4.3.
Here, the focus is on modelling aspects with respect to spatial consistency.
As described in Subclause 7.4.3, the penetration loss deviation σ~p~
represents variations within and between buildings of the same type. For
spatial consistency this can be modeled as a spatially consistent random
variable with correlation distance 10m, see Subclause 7.6.3.1. The \"building
type\" is determined using a spatially consistent uniform random variable with
correlation distance 50 m. The building type is determined by comparing the
random variable with P~1~, where P~1~ is the probability of the building type
with low loss penetration. If the realization of the random variable is less
than P~1~, the building type is low loss; otherwise the building type is high
loss.
The cluster-specific and ray-specific random variables as defined in Subclause
7.6.3.1 on the same floor are generated in the spatial consistency modelling;
otherwise, these variables across different floors are uncorrelated.
In case there is a transition from LOS to NLOS due to UT mobility, there will
be a hard transition in the channel response. This is because pathloss and LS
parameters are different for these states, leading automatically to very
different channel realizations. To circumvent such hard transitions the
optional soft LOS state can be considered to determine the PL and the channel
impulse responses containing characteristics of both LOS and NLOS. Soft LOS
state is generated by floating numbers between 0 (NLOS) and 1 (LOS) in the
spatial consistency modelling. The value of is determined by
$\text{LOS}_{\text{soft}} = \frac{1}{2} + \frac{1}{\pi}\text{arctan}\left(
\sqrt{\frac{\text{20}}{\lambda}}\left( G + F\left( d \right) \right) \right)$,
(7.6-18)
where:
\- is a spatially consistent Gaussian random variable with correlation
distance according to Table 7.6.3.1-2;
\- $F\left( d \right) = \sqrt{2}\text{erf}^{\text{-1}}\left(
2\text{Pr}_{\text{LOS}}\left( d \right) - 1 \right)$; and
\- $\text{Pr}_{\text{LOS}}\left( d \right)$ is the distance dependent LOS
probability function.
After is obtained, Steps 2-12 of the channel coefficient generation described
in Subclause 7.5 are performed twice, once with the propagation condition in
Step 2 set as LOS and once with the propagation condition in Step 2 set as
NLOS. The resulting channel coefficients are denoted as $H^{\text{LOS}}$ and
$H^{\text{NLOS}}$ respectively, where $H^{\text{LOS}}$ is generated with the
LOS path loss formula and channel model parameters while is $H^{\text{NLOS}}$
generated using the NLOS path loss formula and channel model parameters. The
channel matrix $H$ with soft LOS state is determined from a linear combination
of $H^{\text{LOS}}$ and $H^{\text{NLOS}}$ as:
$H\left( \text{LOS}_{\text{soft}} \right) =
H^{\text{LOS}}\text{LOS}_{\text{soft}} + H^{\text{NLOS}}\sqrt{1 -
\text{LOS}_{\text{soft}}^{2}}$ (7.6-19)
It is noted that soft indoor/outdoor states are not modelled in this TR. Thus
the model does not support transitions between indoor/outdoor states in
mobility simulations.
#### 7.6.3.4 Applicability of spatial consistency
According to the characteristics of different cluster specific parameters and
ray specific parameters, the following types on spatial consistency are
defined:
\- Site-specific: parameters for different BS-UT links are uncorrelated, but
the parameters for links from co-sited sectors to a UT are correlated.
\- All-correlated: BS-UT links are correlated.
In Table 7.6.3.4-1, correlation type for each large scale parameter, cluster
specific parameter and ray specific parameter is clarified.
Table 7.6.3.4-1: Correlation type among TRPs
* * *
**Parameters** **Correlation type** Delays Site-specific Cluster powers Site-
specific AOA/ZOA/AOD/ZOD offset Site-specific AOA/ZOA/AOD/ZOD sign Site-
specific Random coupling Site-specific XPR Site-specific Initial random phase
Site-specific LOS/NLOS states Site-specific Blockage (Model A) All-correlated
O2I penetration loss All-correlated Indoor distance All-correlated Indoor
states All-correlated
* * *
Spatial consistency is not modelled in the following situations:
\- Different link types, e.g., outdoor LOS, outdoor NLOS or O2I
\- UE locates on different floors
Table 7.6.3.4-2, lists conditions in which each large scale parameter, cluster
specific parameter and ray specific parameter is assumed not spatially
correlated.
Table 7.6.3.4-2: Conditions when parameters are not spatially correlated.
* * *
**Parameters** **Uncorrelated states** Delays Outdoor LOS/outdoor NLOS/O2I
(different floors) Cluster powers Outdoor LOS/outdoor NLOS/O2I (different
floors) AOA/ZOA/AOD/ZOD offset Outdoor LOS/outdoor NLOS/O2I (different floors)
AOA/ZOA/AOD/ZOD sign Outdoor LOS/outdoor NLOS/O2I (different floors) Random
coupling Outdoor LOS/outdoor NLOS/O2I (different floors) XPR Outdoor
LOS/outdoor NLOS/O2I (different floors) Initial random phase Outdoor
LOS/outdoor NLOS/O2I (different floors) Blockage Outdoor/O2I (different
floors) Standard deviation for O2I penetration loss Different building types,
i.e., high/low loss
* * *
### 7.6.4 Blockage
Blockage modelling is an add-on feature to the channel model. The method
described in the following applies only when this feature is turned on. In
addition, the temporal variability of the blockage modelling parameters is on-
demand basis. It is also noted that the modelling of the blockage does not
change LOS/NLOS state of each link.
When blockage model is applied, the channel generation in Subclause 7.5 should
have several additional steps between Step 9 and 10 as illustrated in Figure
7.6.4-1.
{width="6.698611111111111in" height="4.098611111111111in"}
Figure.7.6.4-1 Channel generation procedure with blockage model
Two alternative models (Model A and Model B) are provided for the blockage
modelling. Both approaches have their own use cases. Model A is applicable
when a generic and computationally efficient blockage modelling is desired.
Model B is applicable when a specific and more realistic blocking modelling is
desired.
#### 7.6.4.1 Blockage model A
Model A adopts a stochastic method for capturing human and vehicular blocking.
[Step a]{.underline}: Determine the number of blockers.
Multiple 2-dimensional (2D) angular blocking regions, in terms of centre
angle, azimuth and elevation angular span are generated around the UT. There
is one self-blocking region, and $K$= 4 non-self-blocking regions, where $K$
_may be changed for certain scenarios (e.g., higher blocker density)._ Note
that the self-blocking component of the model is important in capturing the
effects of human body blocking.
[Step b]{.underline}: Generate the size and location of each blocker.
For self-blocking, the blocking region in UT LCS is defined in terms of
elevation and azimuth angles, ($\theta'_{\text{sb}}$,$\varphi'_{\text{sb}}$)
and azimuth and elevation angular span ($x_{\text{sb}}$, $y_{\text{sb}}$).
$\left{ \left( \theta\text{',}\varphi' \right)|\left( \theta'_{\text{sb}} -
\frac{y_{\text{sb}}}{2} \leq \theta' \leq \theta'_{\text{sb}} +
\frac{y_{\text{sb}}}{2},\varphi'_{\text{sb}} - \frac{x_{\text{sb}}}{2} \leq
\varphi' \leq \varphi'_{\text{sb}} + \frac{x_{\text{sb}}}{2} \right) \right}$
(7.6-20)
where the parameters are described in Table 7.6.4.1-1.
Table 7.6.4.1-1: Self-blocking region parameters.
* * *
Portrait mode 260^o^ 120^o^ 100^o^ 80^o^ Landscape mode 40^o^ 160^o^ 110^o^
75^o^
* * *
For non-self-blocking _k_ = 1, ..., 4, the blocking region in GCS is defined
by
$\left{ \left( \theta,\varphi \right)|\left( \theta_{k} - \frac{y_{k}}{2} \leq
\theta \leq \theta_{k} + \frac{y_{k}}{2},\varphi_{k} - \frac{x_{k}}{2} \leq
\varphi \leq \varphi_{k} + \frac{x_{k}}{2} \right) \right}$ (7.6-21)
where the parameters are described in Table 7.6.4.1-2, as well as the distance
_r_ between the UT and the blocker.
Table 7.6.4.1-2: Blocking region parameters.
+-----------+-----------+-----------+-------+-----------+------+ | Blocker | | | | | _r_ | | index | | | | | | | (_k_ = 1, | | | | | | | ..., 4) | | | | | | +-----------+-----------+-----------+-------+-----------+------+ | InH | Uniform | Uniform | 90^o^ | Uniform | 2 m | | scenario | in | in | | in | | | | | | | | | | | [0^o^, | [15^o^, | | [5^o^, | | | | 360^o^] | 45^o^] | | 15^o^] | | +-----------+-----------+-----------+-------+-----------+------+ | UMi, UMa, | Uniform | Uniform | 90^o^ | 5^o^ | 10 m | | RMa | in | in | | | | | scenarios | | | | | | | | [0^o^, | [5^o^, | | | | | | 360^o^] | 15^o^] | | | | +-----------+-----------+-----------+-------+-----------+------+
[Step c]{.underline}: Determine the attenuation of each cluster due to
blockers.
The attenuation of each cluster due to self-blocking corresponding to the
centre angle pair ($\theta'_{\text{sb}}$,$\varphi'_{\text{sb}}$), is 30 dB
provided that _and Otherwise, the attenuation is 0 dB._
The attenuation of each cluster due to the non-self-blocking regions (_k_ =1,
..., 4) is given by
$L_{\text{dB}} = - \text{20}\text{log}_{\text{10}}\left( 1 - \left( F_{A_{1}}
+ F_{A_{2}} \right)\left( F_{Z_{1}} + F_{Z_{2}} \right) \right)$ (7.6-22)
provided that _and . Otherwise, the attenuation is 0 dB. The terms in the
above equation are given as_
$F_{A_{1}|A_{2}|Z_{1}|Z_{2}} = \frac{\text{tan}^{- 1}\left( \pm
\frac{\pi}{2}\sqrt{\frac{\pi}{\lambda}r\left( \frac{1}{\text{cos}\left(
A_{1}|A_{2}|Z_{1}|Z_{2} \right)} - 1 \right)} \right)}{\pi}$ (7.6-23)
where
$A_{1} = \varphi_{\text{AOA}} - \left( \varphi_{k} + \frac{x_{k}}{2} \right)$,
(7.6-24)
$A_{2} = \varphi_{\text{AOA}} - \left( \varphi_{k} - \frac{x_{k}}{2} \right)$,
(7.6-25)
$Z_{1} = \theta_{\text{ZOA}} - \left( \theta_{k} + \frac{y_{k}}{2} \right)$,
(7.6-26)
$Z_{2} = \theta_{\text{ZOA}} - \left( \theta_{k} - \frac{y_{k}}{2}
\right)\text{.}$ (7.6-27)
In the above formula for $F_{A_{1}|A_{2}|Z_{1}|Z_{2}}$, $\lambda$ _is the
wavelength. The appropriate signs (_ $\pm$)_within the_ $\text{tan}^{- 1}$
_term are described in Table 7.6.4.1-3._
[Table 7.6.4.1-3: Description of signs]{.underline}
+---+------------------------+------------------------+------------+ | | | | | +---+------------------------+------------------------+------------+ | | (-, +) for | (-, +) for | (-, +) for | | | $\left | $\left | | | | ( A_{1},A_{2} \right)$ | ( A_{1},A_{2} \right)$ | (-, +) for | | | | | | | | (+, -) for | (+, +) for | | | | $\left | $\left | | | | ( Z_{1},Z_{2} \right)$ | ( Z_{1},Z_{2} \right)$ | | +---+------------------------+------------------------+------------+ | | (+, +) for | (+, +) for | (+, +) for | | | $\left | $\left | | | | ( A_{1},A_{2} \right)$ | ( A_{1},A_{2} \right)$ | (-, +) for | | | | | | | | (+, -) for | (+, +) for | | | | $\left | | | | | ( Z_{1},Z_{2} \right)$ | | | +---+------------------------+------------------------+------------+ | | (+, -) for | (+, -) for | (+, -) for | | | | | | | | (+, -) for | (+, +) for | (-, +) for | +---+------------------------+------------------------+------------+
[]{.underline}
[Step d]{.underline}: Spatial and temporal consistency of each blocker.
The centre of the blocker is generated based on a uniformly distributed random
variable, which is temporally and spatially consistent. The two-dimensional
autocorrelation function can be described with sufficient accuracy by the
exponential function
$R\left( \Delta_{x},\Delta_{t} \right) = \text{exp}\left( - \left(
\frac{\left| \Delta_{x} \right|}{d_{\text{corr}}} + \frac{\left| \Delta_{t}
\right|}{t_{\text{corr}}} \right) \right)$ (7.6-28)
The spatial correlation distance for the random variable determining the
centre of the blocker is given in Table 7.6.4.1-4 for different scenarios.
Table 7.6.4.1-4: Spatial correlation distance for different scenarios.
* * *
Spatial correlation distance $d_{\text{corr}}$ in [m] for the random variable
determining the centre of the blocker UMi UMa RMa InH  
LOS NLOS O2I LOS NLOS O2I LOS NLOS O2I LOS NLOS 10 10 5 10 10 5 10 10 5 5 5
* * *
The correlation time, where is the speed of the moving blocker.
[Note:]{.underline} The rectangular blocker description is chosen for self-
blocking region with the specific choices of assumed here. Generalization of
this description to other choices should be done with care as the rectangular
description may not be accurate.
#### 7.6.4.2 Blockage model B
Model B adopts a geometric method for capturing e.g., human and vehicular
blocking.
[Step a: Determine blockers]{.underline}
A number, $K$_,_ of blockers are modelled as rectangular screens that are
physically placed on the map. Each screen has the dimension by height
($h_{k}$) and width ($w_{k}$), with the screen centre at coordinate $\left(
x_{k},y_{k},z_{k} \right)$.
[Note:]{.underline}
\- The number of blockers ($K$), their vertical and horizontal extensions
($h_{k}$ and $w_{k}$), locations $\left( x_{k},y_{k},z_{k} \right)$, density,
and movement pattern (if non-stationary) are all simulation assumptions, to
allow different blocking scenarios to be constructed depending on the need of
the particular simulation study.
Recommended parameters for typical blockers are provided in Table 7.6.4.2-5.
\- The blocking effect diminishes with increasing distance to the blocker. For
implementation purposes it may be sufficient to consider only the $K$ nearest
blockers or the blockers closer than some distance from a specific UT.
Table 7.6.4.2-5: Recommended blocker parameters
* * *
                    Typical set of blockers   Blocker dimensions          Mobility pattern
Indoor; Outdoor Human Cartesian: w=0.3m; h=1.7m Stationary or up to 3 km/h
Outdoor Vehicle Cartesian: w=4.8m; h=1.4m Stationary or up to 100 km/h
* * *
[]{.underline}
[Step b: Determine the blockage attenuation per sub-path]{.underline}
_Attenuation caused by each blocker to each sub-path is_ modelled using a
simple knife edge diffraction model _and is given by_
$L_{\text{dB}} = - \text{20}\text{log}_{\text{10}}\left( 1 - \left( F_{h_{1}}
+ F_{h_{2}} \right)\left( F_{w_{1}} + F_{w_{2}} \right) \right)$ (7.6-29)
where , and , account for knife edge diffraction at the four edges, and are
given by
$F_{h_{1}|h_{2}|w_{1}|w_{2}} = \left{ \begin{matrix} \frac{\text{tan}^{-
1}\left( \pm \frac{\pi}{2}\sqrt{\frac{\pi}{\lambda}\left(
\text{D1}_{h_{1}|h_{2}|w_{1}|w_{2}} + D2_{h_{1}|h_{2}|w_{1}|w_{2}} - r
\right)} \right)}{\pi} & \text{,\ for\ direct\ path\ in\ LOS} \
\frac{\text{tan}^{- 1}\left( \pm \frac{\pi}{2}\sqrt{\frac{\pi}{\lambda}\left(
\text{D1}_{h_{1}|h_{2}|w_{1}|w_{2}} - r' \right)} \right)}{\pi} & \text{,\
for\ all\ other\ paths} \ \end{matrix} \right.\ $ (7.6-30)
where is the wave length. As shown in Figure 7.6.4.2-2, are the projected
(onto the side and top view planes) distances between the receiver and four
edges of the corresponding blocker, and are the projected (onto the side and
top view planes) distances between the transmitter and four edges of the
corresponding blocker. The side view plane is perpendicular to the horizontal
ground plane. The top view is perpendicular to the side view. For each
cluster, the blocker screen is rotated around its centre such that the arrival
direction of the corresponding path is always perpendicular to the screen. It
should be noted that different rotations are required for each individual sub-
path. Meanwhile, the base and top edges of the screens are always parallel to
the horizontal plane. As the screen is perpendicular to each sub-path, $r$ is
the distance between the transmitter and receiver for the direct path in LOS,
and $r'$ is the distance between the blocker screen and receiver, projected
onto the incoming sub-path direction, for all the other (NLOS) paths. In the
equation of $F_{h_{1}|h_{2}|w_{1}|w_{2}}$, the plus and minus signs are
determined in such a way that, as shown in Figure 7.6.4.2-2,
\- if the sub-path (terminated at the receiver or transmitter) does not
intersect the screen in side view, minus sign is applied for the shortest path
among and in the NLOS case (and in the LOS case) and plus sign is applied for
the other edge.
\- if the sub-path (terminated at the receiver or transmitter) does not
intersect the screen in top view, minus sign is applied for the shortest path
among and in the NLOS case (and for the LOS case) and plus sign is applied for
the other edge.
\- if the sub-path intersects the screen plus signs are applied for both
edges.
For the case of multiple screens the total loss is given by summing the losses
of each contributing screen in dB units.
The model according to option B is consistent in time, frequency and space,
and is more appropriate to be used for simulations with arbitrarily designated
blocker density.
Figure 7.6.4.2-2(a): Illustration of the geometric relation among blocker,
receiver and transmitter for the LOS path
Figure 7.6.4.2-2(b): Illustration of the geometric relation between blocker
and receiver for NLOS paths
### 7.6.5 Correlation modelling for multi-frequency simulations
This subclause describes how to generate parameters to reflect correlation
across different frequencies for a BS-UT link, for simulations involved with
multiple frequencies.
For those simulations, the steps in Subclause 7.5 should be revised according
to the following:
\- The parameters generated in Step 1 are the same for all the frequencies,
except for antenna patterns, array geometries, system center frequency and
bandwidth.
\- Propagation conditions generated in Step 2 are the same for all the
frequencies. It is noted that soft LOS states may be different due to
frequency dependent function.
\- The parameters generated in Step 4 are the same for all the frequencies,
except for possibly frequency-dependent scaling of e.g. delay spread and
angular spreads according to the LSP tables. I.e. let x be a random variable
drawn from a Gaussian distribution: x \~ N(0,1). Then the delay spread at
frequency f is DS(f)= 10\^(_μ_ ~lgDS~(f) + _σ_ ~lgDS~(f)⋅x), where the same
value of x is used for all frequencies. A corresponding procedure applies to
each of the angular spreads.
\- The cluster delays and angles resulting from Steps 5-7 are the same for all
frequency bands
\- Per-cluster shadowing _Ζ~n~_ in Step 6 are independently generated for the
frequency bands.
\- Cluster powers in Step 6 may be frequency-dependent.
\- Steps 8-11 are independently applied for the frequency bands.
In addition, when blockage is modeled according to Subclause 7.6.4, the
positions of blockers are the same across all the frequencies.
Note: The requirements above may not be fully aligned with the behavior of the
model according to Subclause 7.5, since cluster delays and angles will be
frequency-dependent in scenarios where the DS or AS is frequency-dependent.
The procedure below may alternatively be used to ensure that cluster delays
and angles are frequency-independently generated.
#### 7.6.5.1 Alternative channel generation method
The alternative method replaces Steps 5-7 in Subclause 7.5 with the below
Steps 5\'-7\'. The inputs to the alternative method are the delay and angular
spreads determined according to Step 4 at an anchor frequency, e.g. 2 GHz:
DS~0~, ASD~0~, ASA~0~, ZSD~0~, ZSA~0~, the delay and angular spreads
determined according to Step 4 at a frequency of interest: DS, ASD, ASA, ZSD,
ZSA, and the number of clusters _N_ from Table 7.5-6.
[Step 5\']{.underline}: Generate nominal delays $\tau_{n}^{'}$ and angles
$\varphi_{\text{AOD},n}^{'}$, $\varphi_{\text{AOA},n}^{'}$,
$\theta_{\text{ZOD},n}^{'}$, $\theta_{\text{ZOA},n}^{'}$.
Generate _N_ delays from a single-sided exponential distribution with zero
mean and standard deviation of $r\ \text{DS}_{0}$, according to $\tau_{n}^{'}
= - r\ \text{DS}_{0}\text{ln}\left( X_{n} \right)$ with
$X_{n}\text{\textasciitilde}\text{unif}\left( 0,\ 1 \right)$.
Generate _N_ AODs from a wrapped Gaussian distribution with zero mean and
standard deviation of $r\ \text{ASD}_{0}$, according to
$\varphi_{\text{AOD},n}^{'} = \text{arg}\left( \text{exp}\left( - j\ r\
\text{ASD}_{0}Y_{n} \right) \right)$ with $Y_{n}\text{\textasciitilde}N\left(
0,\ 1 \right)$.
Generate _N_ AOAs from a wrapped Gaussian distribution with zero mean and
standard deviation of $r\ \text{ASA}_{0}$, according to
$\varphi_{\text{AOA},n}^{'} = \text{arg}\left( \text{exp}\left( - j\ r\
\text{ASA}_{0}Z_{n} \right) \right)$ with $Z_{n}\text{\textasciitilde}N\left(
0,\ 1 \right)$.
Generate _N_ ZODs from a wrapped Laplacian distribution with zero mean and
standard deviation of $r\ \text{ZSD}_{0}$, according to
$\theta_{\text{ZOD},n}^{'} = \text{arg}\left( \text{exp}\left( - j\ r\
\text{ZSD}_{0}\text{sgn}\left( V_{n} - 0\text{.}5 \right)\ \text{ln}\left( 1 -
2\left| V_{n} - 0\text{.}5 \right| \right)/\sqrt{2} \right) \right)$ with
$V_{n}\text{\textasciitilde}\text{unif}\left( 0,\ 1 \right)$.
Generate _N_ ZOAs from a wrapped Laplacian distribution with zero mean and
standard deviation of $r\ \text{ZSA}_{0}$, according to
$\theta_{\text{ZOA},n}^{'} = \text{arg}\left( \text{exp}\left( - j\ r\
\text{ZSA}_{0}\text{sgn}\left( W_{n} - 0\text{.}5 \right)\ \text{ln}\left( 1 -
2\left| W_{n} - 0\text{.}5 \right| \right)/\sqrt{2} \right) \right)$ with
$W_{n}\text{\textasciitilde}\text{unif}\left( 0,\ 1 \right)$.
_r_ is a proportionality factor, r=1.5. The principal value of the arg
function should be used, e.g. (-180,180).
_In case of LOS_ , set $\tau_{1}^{'} = 0$, $\varphi_{\text{AOD},1}^{'} = 0$,
$\varphi_{\text{AOA},1}^{'} = 0$, $\theta_{\text{ZOD},1}^{'} = 0$, and
$\theta_{\text{ZOA},1}^{'} = 0$.
[Step 6\']{.underline}: Generate cluster powers $P_{n}$.
Generate cluster powers as
$P_{n}^{'} = \text{exp}\left( - \tau_{n}^{'}g_{\text{DS}} - \left(
\frac{\varphi_{\text{AOD},n}^{'}g_{\text{ASD}}}{\sqrt{2}} \right)^{2} - \left(
\frac{\varphi_{\text{AOA},n}^{'}g_{\text{ASA}}}{\sqrt{2}} \right)^{2} -
\sqrt{2}\left| \theta_{\text{ZOD},n}^{'} \right|g_{\text{ZSD}} -
\sqrt{2}\left| \theta_{\text{ZOA},n}^{'} \right|g_{\text{ZSA}} \right) \cdot
\text{10}^{- Q_{n}/\text{10}}$ (7.6.30a)
where $Q_{n}\text{\textasciitilde}N\left( 0,\zeta^{2} \right)$ is the per
cluster shadowing term in [dB] and
$g_{\text{DS}} = \frac{\text{max}\left( r \cdot \text{DS}_{0} - \text{DS,}\ 0
\right)}{\text{DS} \cdot r \cdot \text{DS}_{0}}$ (7.6.30b)
$g_{\text{ASD}} = \frac{\sqrt{\text{max}\left( \left( r \cdot \text{ASD}_{0}
\right)^{2} - \text{ASD}^{2},\ 0 \right)}}{\text{ASD} \cdot r \cdot
\text{ASD}_{0}}$ (7.6.30c)
$g_{\text{ASA}} = \frac{\sqrt{\text{max}\left( \left( r \cdot \text{ASA}_{0}
\right)^{2} - \text{ASA}^{2},\ 0 \right)}}{\text{ASA} \cdot r \cdot
\text{ASA}_{0}}$ (7.6.30d)
$g_{\text{ZSD}} = \frac{\text{max}\left( r \cdot \text{ZSD}_{0} - \text{ZSD,}\
0 \right)}{\text{ZSD} \cdot r \cdot \text{ZSD}_{0}}$ (7.6.30e)
$g_{\text{ZSA}} = \frac{\text{max}\left( r \cdot \text{ZSA}_{0} - \text{ZSA,}\
0 \right)}{\text{ZSA} \cdot r \cdot \text{ZSA}_{0}}$ (7.6.30f)
Normalize the cluster powers so that the sum of all cluster powers is equal to
one, i.e.,
$P_{n} = \frac{P_{n}^{'}}{\sum_{}^{}P_{n}^{'}}$ (7.6.30g)
or, in the case of LOS, so that
$P_{n} = \frac{1}{1 + K_{R}}\frac{P_{n}^{'}}{\sum_{}^{}P_{n}^{'}} +
\frac{K_{R}}{1 + K_{R}}\delta(n - 1)$ (7.6.30h)
where is the K-factor converted to linear scale.
[]{.underline}
[Step 7\']{.underline}: Generate delays $\tau_{n}$ and angles
$\varphi_{\text{AOD},n}$, $\varphi_{\text{AOA},n}$, $\theta_{\text{ZOD},n}$,
$\theta_{\text{ZOA},n}$.
$\tau_{n} = \left{ \begin{matrix} \begin{matrix} \tau_{n}^{'} \ \sqrt{1 +
\frac{K_{R}}{2}}\ \tau_{n}^{'} \ \end{matrix} & \begin{matrix} \text{,for\
NLOS} \ \text{,for\ LOS} \ \end{matrix} \ \end{matrix} \right.\ $ (7.6.30i)
$\varphi_{n,m,\text{AOA}} = \left{ \begin{matrix} \begin{matrix}
\varphi_{n,\text{AOA}}^{'} + \varphi_{\text{LOS,AOA}} +
c_{\text{ASA}}\alpha_{m} \ \sqrt{1 + K_{R}}\ \varphi_{n,\text{AOA}}^{'} +
\varphi_{\text{LOS,AOA}} + c_{\text{ASA}}\alpha_{m} \ \end{matrix} &
\begin{matrix} \text{,for\ NLOS} \ \text{,\ for\ LOS} \ \end{matrix} \
\end{matrix} \right.\ $ (7.6.30j)
$\varphi_{n,m,\text{AOD}} = \left{ \begin{matrix} \begin{matrix}
\varphi_{n,\text{AOD}}^{'} + \varphi_{\text{LOS,AOD}} +
c_{\text{ASD}}\alpha_{m} \ \sqrt{1 + K_{R}}\ \varphi_{n,\text{AOD}}^{'} +
\varphi_{\text{LOS,AOD}} + c_{\text{ASD}}\alpha_{m} \ \end{matrix} &
\begin{matrix} \text{,for\ NLOS} \ \text{,\ for\ LOS} \ \end{matrix} \
\end{matrix} \right.\ $ (7.6.30k)
$\theta_{n,m,\text{ZOA}} = \left{ \begin{matrix} \begin{matrix}
\theta_{n,\text{ZOA}}^{'} + \theta_{\text{LOS,ZOA}} + c_{\text{ZSA}}\alpha_{m}
\ \sqrt{1 + K_{R}}\ \theta_{n,\text{ZOA}}^{'} + \theta_{\text{LOS,ZOA}} +
c_{\text{ZSA}}\alpha_{m} \ \end{matrix} & \begin{matrix} \text{,for\ NLOS} \
\text{,\ for\ LOS} \ \end{matrix} \ \end{matrix} \right.\ $ (7.6.30l)
$\theta_{n,m,\text{ZOD}} = \left{ \begin{matrix} \begin{matrix}
\theta_{n,\text{ZOD}}^{'} + \theta_{\text{LOS,ZOD}} + c_{\text{ZSD}}\alpha_{m}
\ \sqrt{1 + K_{R}}\ \theta_{n,\text{ZOD}}^{'} + \theta_{\text{LOS,ZOD}} +
c_{\text{ZSD}}\alpha_{m} \ \end{matrix} & \begin{matrix} \text{,for\ NLOS} \
\text{,\ for\ LOS} \ \end{matrix} \ \end{matrix} \right.\ $ (7.6.30m)
Repeat Steps 6\'-7\' for each frequency of interest, reusing the delays and
angles from Step 5\' for all frequencies.
Note: The resulting delay and angular spreads of channels generated with this
alternative method will be similar but not identical to when using Steps 5-7
in Subclause 7.5.
### 7.6.6 Time-varying Doppler shift
The Doppler shift generally depends on the time evolution of the channel as it
is defined as the derivative of the channels phase over time. It can be the
result from Tx, Rx, or scatterer movement. The more general form of the
exponential Doppler term as used in Equation (7.5-22) is given by
$\text{exp}\left(
j2\pi\int_{t_{0}}^{t}{\frac{{\hat{r}}_{\text{rx},n,m}^{T}(\overset{\sim}{t})
\cdot \overrightarrow{v}\left( \overset{\sim}{t}
\right)}{\lambda_{0}}d\overset{\sim}{t}} \right)$. (7.6-31)
Here, ${\hat{r}}_{\text{rx},n,m}(t)$ is the normalized vector that points into
the direction of the incoming wave as seen from the Rx at time $t$.
$\overrightarrow{v}\left( t \right)$ denotes the velocity vector of the Rx at
time $t$, while $t_{0}$ denotes a reference point in time that defines the
initial phase, e.g. $t_{0} = 0$.
Note that Equation (7.5-22) only holds for time-invariant Doppler shift, i.e.
${\hat{r}}_{\text{rx},n,m}^{T}(t) \cdot \overrightarrow{v}\left( t \right) =
{\hat{r}}_{\text{rx},n,m}^{T} \cdot \overrightarrow{v}$.
### 7.6.7 UT rotation
UT rotation modelling is an add-on feature. When modelled, Step 1 in Subclause
7.5 shall consider UT rotational motion.
[Step 1]{.underline}:
Add: h) Give rotational motion of UT in terms of its bearing angle, downtilt
angle and slant angle.
### 7.6.8 Explicit ground reflection model
In case the ground reflection shall be modelled explicitly, Equation (7.5-30)
has to be replaced by
$\begin{matrix} H_{u,s}^{\text{LOS}}(\tau,t) = \sqrt{\frac{1}{K_{R} +
1}}H_{u,s}^{\text{NLOS}}\left( \tau - \tau_{\text{LOS}},t \right) \ \+
\sqrt{\frac{K_{R}}{K_{R} + 1}}\left( H_{u,s,1}^{\text{LOS}}(t)\delta\left(
\tau - \tau_{\text{LOS}} \right) +
\frac{d_{\text{3D}}}{d_{\text{GR}}}H_{u,s}^{\text{GR}}(t)\delta\left( \tau -
\tau_{\text{GR}} \right) \right) \ \end{matrix}$ (7.6-32)
with the delays for the ground reflected and the LOS paths being defined by
their lengths, according to the Tx-Rx separation $d_{\text{2D}}$ and the Tx
and Rx heights $h_{\text{tx}}$ and $h_{\text{rx}}$ respectively, as
$\tau_{\text{GR}} = \frac{d_{\text{GR}}}{c} = \frac{\sqrt{\left( h_{\text{tx}}
+ h_{\text{rx}} \right)^{2} + d_{\text{2D}}^{2}}}{c}$, (7.6-33)
and
$\tau_{\text{LOS}} = \frac{d_{\text{3D}}}{c} = \frac{\sqrt{\left(
h_{\text{tx}} - h_{\text{rx}} \right)^{2} + d_{\text{2D}}^{2}}}{c}$. (7.6-34)
The channel coefficient for the ground reflected path is given by
$\begin{matrix} H_{u,s}^{\text{GR}}(t) = \begin{bmatrix}
F_{\text{rx},u,\theta}\left( \theta_{\text{GR,ZOA}},\varphi_{\text{GR,AOA}}
\right) \ F_{\text{rx},u,\varphi}\left(
\theta_{\text{GR,ZOA}},\varphi_{\text{GR,AOA}} \right) \
\end{bmatrix}^{T}\begin{bmatrix} R_{||}^{\text{GR}} & 0 \ 0 & \-
R_{}^{\text{GR}} \ \end{bmatrix}\begin{bmatrix} F_{\text{tx},s,\theta}\left(
\theta_{\text{GR,ZOD}},\varphi_{\text{GR,AOD}} \right) \
F_{\text{tx},s,\varphi}\left( \theta_{\text{GR,ZOD}},\varphi_{\text{GR,AOD}}
\right) \ \end{bmatrix} \ \text{exp}\left( -
j2\pi\frac{d_{\text{GR}}}{\lambda_{0}} \right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx,GR}}^{T}\text{.}{\overline{d}}_{\text{rx},u}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{tx,GR}}^{T}\text{.}{\overline{d}}_{\text{tx},s}}{\lambda_{0}}
\right)\text{exp}\left(
j2\pi\frac{{\hat{r}}_{\text{rx,GR}}^{T}\text{.}\overline{v}}{\lambda_{0}}t
\right) \ \end{matrix}$ (7.6-35)
with the normalized vectors pointing towards the ground reflection point from
the Tx
${\hat{r}}_{\text{tx,GR}} = e_{r}\left(
\theta_{\text{GR,ZOD}},\varphi_{\text{GR,AOD}} \right) = \begin{bmatrix}
\text{sin}\theta_{\text{GR,ZOD}}\text{cos}\varphi_{\text{GR,AOD}} \
\text{sin}\theta_{\text{GR,ZOD}}\text{sin}\varphi_{\text{GR,AOD}} \
\text{cos}\theta_{\text{GR,ZOD}} \ \end{bmatrix}$ (7.6-36)
and from the Rx side
${\hat{r}}_{\text{rx,GR}} = e_{r}\left(
\theta_{\text{GR,ZOA}},\varphi_{\text{GR,AOA}} \right) = \begin{bmatrix}
\text{sin}\theta_{\text{GR,ZOA}}\text{cos}\varphi_{\text{GR,AOA}} \
\text{sin}\theta_{\text{GR,ZOA}}\text{sin}\varphi_{\text{GR,AOA}} \
\text{cos}\theta_{\text{GR,ZOA}} \ \end{bmatrix}$. (7.6-37)
The angles for the ground reflected path are given by the geometry assuming a
flat surface with its normal pointing into z-direction. The angles at the Tx
side can be determined by
$\theta_{\text{GR,ZOD}} = \text{180}{^\circ}\text{-atan}\left(
\frac{d_{\text{2D}}}{h_{\text{rx}} + h_{\text{tx}}} \right)$ (7.6-37a)
$\varphi_{\text{GR,AOD}} = \varphi_{\text{LOS,AOD}}$ (7.6-37b)
and at the Rx side by
$\theta_{\text{GR,ZOA}} = \theta_{\text{GR,ZOD}}$ (7.6-37c)
$\varphi_{\text{GR,AOA}} = \varphi_{\text{GR,AOD}} + \text{180}{^\circ}$.
(7.6-37d)
The reflection coefficients for parallel and perpendicular polarization on the
ground, cf. [21], are given by
$R_{||}^{\text{GR}} =
\frac{\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}}\text{cos}\left(
\theta_{\text{GR,ZOD}} \right) +
\sqrt{\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}} - \text{sin}^{2}\left(
\theta_{\text{GR,ZOD}}
\right)}}{\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}}\text{cos}\left(
\theta_{\text{GR,ZOD}} \right) -
\sqrt{\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}} - \text{sin}^{2}\left(
\theta_{\text{GR,ZOD}} \right)}}$, (7.6-38)
and
$R_{}^{\text{GR}} = \frac{\text{cos}\left( \theta_{\text{GR,ZOD}} \right) +
\sqrt{\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}} - \text{sin}^{2}\left(
\theta_{\text{GR,ZOD}} \right)}}{\text{cos}\left( \theta_{\text{GR,ZOD}}
\right) - \sqrt{\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}} -
\text{sin}^{2}\left( \theta_{\text{GR,ZOD}} \right)}}$, (7.6-39)
with the complex relative permittivity of the ground material given by
$\frac{\varepsilon_{\text{GR}}}{\varepsilon_{0}} = \varepsilon_{r} -
j\frac{\sigma}{2\text{πf}_{c}\varepsilon_{0}}$. (7.6-40)
The electric constant $\varepsilon_{0}$ is given by 8.854187817... × 10^−12^
F·m^−1^.
For applicable frequency ranges, the real relative permittivity can be
modelled by
$\varepsilon_{r} = a_{\varepsilon} \cdot \left( \frac{f_{c}}{\text{10}^{9}}
\right)^{b_{\varepsilon}}$, (7.6-41)
while the conductivity in [S/m] may be modelled by
$\sigma = c_{\sigma} \cdot \left( \frac{f_{c}}{\text{10}^{9}}
\right)^{d_{\sigma}}$, (7.6-42)
with $f_{c}$ being the center frequency in Hz.
A selection of material properties from [19] is given below. Since the
simplified models for conductivity and relative permittivity are only
applicable for frequencies between 1 and 10 GHz, Figure 7.6.8-1 presents
curves up to 100 GHz at least for very, medium dry and wet ground, cf. [20].
Table 7.6.8-1 Material properties [19]
* * *
**Material class** **Relative permittivity** **Conductivity** **Frequency
range in [GHz]**
Concrete 5.31 0 0.0326 0.8095 1-100 Brick 3.75 0 0.038 0 1-10 Plasterboard
2.94 0 0.0116 0.7076 1-100 Wood 1.99 0 0.0047 1.0718 0.001-100 Floorboard 3.66
0 0.0044 1.3515 50-100 Metal 1 0 10^7^ 0 1-100 Very dry ground 3 0 0.00015
2.52 1-10 Medium dry ground 15 −0.1 0.035 1.63 1-10 Wet ground 30 −0.4 0.15
1.30 1-10
* * *
{width="5.677777777777778in" height="7.551388888888889in"}
Figure 7.6.8-1: Relative permittivity and conductivity as a function of
frequency [20]
## 7.7 Channel models for link-level evaluations
### 7.7.1 Clustered Delay Line (CDL) models
The CDL models are defined for the full frequency range from 0.5 GHz to 100
GHz with a maximum bandwidth of 2 GHz. CDL models can be implemented by e.g.,
coefficient generation Step 10 and Step 11 in Subclause 7.5 or generating TDL
model using spatial filter from Subclause 7.7.4. Three CDL models, namely
CDL-A, CDL-B and CDL-C are constructed to represent three different channel
profiles for NLOS while CDL-D and CDL-E are constructed for LOS, the
parameters of which can be found respectively in Table 7.7.1-1, Table 7.7.1-2
, Table 7.7.1-3, Table 7.7.1-4 and Table 7.7.1-5.
Each CDL model can be scaled in delay so that the model achieves a desired RMS
delay spread, according to the procedure described in Subclause 7.7.3. Each
CDL model can also be scaled in angles so that the model achieves desired
angle spreads, according to the procedure described in Subclause 7.7.5.1.
For LOS channel models, the K-factor of CDL-D and CDL-E can be set to a
desired value following the procedure described in Subclause 7.7.6.
For modelling effect of beamforming in a simplified way, a brick-wall window
can be applied to a delay-scaled CDL model. The power shall be normalized
after applying the window. A TDL model for simplified evaluations can be
obtained from the CDL model, according to this method.
The following step by step procedure should be used to generate channel
coefficients using the CDL models.
[Step 1:]{.underline} Generate departure and arrival angles
Generate arrival angles of azimuth using the following equation
$\varphi_{n,m,\text{AOA}} = \varphi_{n,\text{AOA}} +
c_{\text{ASA}}\alpha_{m}$, (7.7-0a)
Where _φ~n,~_ ~AOA~ is the cluster AOA and _c_ ~ASA~ is the cluster-wise rms
azimuth spread of arrival angles (cluster ASA) in Tables 7.7.1.1 -- 7.7.1.5
below, and _α~m~_ denotes the ray offset angles within a cluster given by
Table 7.5-3. If angular scaling according to Subclause 7.7.5.1 is used, this
is applied to the ray angles $\varphi_{n,m,\text{AOA}}$, The generation of AOD
($\varphi_{n,m,\text{AOD}}$), ZSA ($\theta_{n,m,\text{ZOA}}$), and ZSD
($\theta_{n,m,\text{ZOD}}$) follows a procedure similar to AOA as described
above.
[Step 2:]{.underline} Coupling of rays within a cluster for both azimuth and
elevation
Couple randomly AOD angles $\varphi_{n,m,\text{AOD}}$ to AOA angles
$\varphi_{n,m,\text{AOA}}$ within a cluster _n_. Couple randomly ZOD angles
$\theta_{n,m,\text{ZOD}}$ with ZOA angles $\theta_{n,m,\text{ZOA}}$using the
same procedure. Couple randomly AOD angles $\varphi_{n,m,\text{AOD}}$ with ZOD
angles $\theta_{n,m,\text{ZOD}}$within a cluster _n_.
[Step 3:]{.underline} Generate the cross polarization power ratios
Generate the cross polarization power ratios (XPR) _κ_ for each ray _m_ of
each cluster _n_ as
$\kappa_{n,m} = \text{10}^{\frac{X}{\text{10}}}$, (7.7-0b)
where _X_ is the per-cluster XPR in dB from Tables 7.7.1.1 -- 7.7.1.5.
[Step 4:]{.underline} Coefficient generation
Follow the same procedure as in Steps 10 and 11 in Subclause 7.5, with the
exception that all clusters are treated as \"weaker cluster\", i.e. no further
sub-clusters in delay should be generated. Additional clusters representing
delay spread of the stronger clusters are already provided in Tables 7.7.1.1
-- 7.7.1.5.
Table 7.7.1-1. CDL-A
* * *
Cluster # Normalized delay Power in [dB] AOD in [°] AOA in [°] ZOD in [°] ZOA
in [°] 1 0.0000 -13.4 -178.1 51.3 50.2 125.4 2 0.3819 0 -4.2 -152.7 93.2 91.3
3 0.4025 -2.2 -4.2 -152.7 93.2 91.3 4 0.5868 -4 -4.2 -152.7 93.2 91.3 5 0.4610
-6 90.2 76.6 122 94 6 0.5375 -8.2 90.2 76.6 122 94 7 0.6708 -9.9 90.2 76.6 122
94 8 0.5750 -10.5 121.5 -1.8 150.2 47.1 9 0.7618 -7.5 -81.7 -41.9 55.2 56 10
1.5375 -15.9 158.4 94.2 26.4 30.1 11 1.8978 -6.6 -83 51.9 126.4 58.8 12 2.2242
-16.7 134.8 -115.9 171.6 26 13 2.1718 -12.4 -153 26.6 151.4 49.2 14 2.4942
-15.2 -172 76.6 157.2 143.1 15 2.5119 -10.8 -129.9 -7 47.2 117.4 16 3.0582
-11.3 -136 -23 40.4 122.7 17 4.0810 -12.7 165.4 -47.2 43.3 123.2 18 4.4579
-16.2 148.4 110.4 161.8 32.6 19 4.5695 -18.3 132.7 144.5 10.8 27.2 20 4.7966
-18.9 -118.6 155.3 16.7 15.2 21 5.0066 -16.6 -154.1 102 171.7 146 22 5.3043
-19.9 126.5 -151.8 22.7 150.7 23 9.6586 -29.7 -56.2 55.2 144.9 156.1 Per-
Cluster Parameters  
Parameter _c_ ~ASD~ in [°] _c_ ~ASA~ in [°] _c_ ~ZSD~ in [°] _c_ ~ZSA~ in [°]
XPR in [dB]  
Value 5 11 3 3 10
* * *
Table 7.7.1-2. CDL-B
* * *
**Cluster #** **Normalized delay** **Power in [dB]** **AOD in [°]** **AOA in
[°]** **ZOD in [°]** **ZOA in [°]** 1 0.0000 0 9.3 -173.3 105.8 78.9 2 0.1072
-2.2 9.3 -173.3 105.8 78.9 3 0.2155 -4 9.3 -173.3 105.8 78.9 4 0.2095 -3.2
-34.1 125.5 115.3 63.3 5 0.2870 -9.8 -65.4 -88.0 119.3 59.9 6 0.2986 -1.2
-11.4 155.1 103.2 67.5 7 0.3752 -3.4 -11.4 155.1 103.2 67.5 8 0.5055 -5.2
-11.4 155.1 103.2 67.5 9 0.3681 -7.6 -67.2 -89.8 118.2 82.6 10 0.3697 -3 52.5
132.1 102.0 66.3 11 0.5700 -8.9 -72 -83.6 100.4 61.6 12 0.5283 -9 74.3 95.3
98.3 58.0 13 1.1021 -4.8 -52.2 103.7 103.4 78.2 14 1.2756 -5.7 -50.5 -87.8
102.5 82.0 15 1.5474 -7.5 61.4 -92.5 101.4 62.4 16 1.7842 -1.9 30.6 -139.1
103.0 78.0 17 2.0169 -7.6 -72.5 -90.6 100.0 60.9 18 2.8294 -12.2 -90.6 58.6
115.2 82.9 19 3.0219 -9.8 -77.6 -79.0 100.5 60.8 20 3.6187 -11.4 -82.6 65.8
119.6 57.3 21 4.1067 -14.9 -103.6 52.7 118.7 59.9 22 4.2790 -9.2 75.6 88.7
117.8 60.1 23 4.7834 -11.3 -77.6 -60.4 115.7 62.3 Per-Cluster Parameters  
Parameter _c_ ~ASD~ in [°] _c_ ~ASA~ in [°] _c_ ~ZSD~ in [°] _c_ ~ZSA~ in [°]
XPR in [dB]  
Value 10 22 3 7 8
* * *
Table 7.7.1-3. CDL-C
* * *
**Cluster #** **Normalized delay** **Power in [dB]** **AOD in [°]** **AOA in
[°]** **ZOD in [°]** **ZOA in [°]** 1 0 -4.4 -46.6 -101 97.2 87.6 2 0.2099
-1.2 -22.8 120 98.6 72.1 3 0.2219 -3.5 -22.8 120 98.6 72.1 4 0.2329 -5.2 -22.8
120 98.6 72.1 5 0.2176 -2.5 -40.7 -127.5 100.6 70.1 6 0.6366 0 0.3 170.4 99.2
75.3 7 0.6448 -2.2 0.3 170.4 99.2 75.3 8 0.6560 -3.9 0.3 170.4 99.2 75.3 9
0.6584 -7.4 73.1 55.4 105.2 67.4 10 0.7935 -7.1 -64.5 66.5 95.3 63.8 11 0.8213
-10.7 80.2 -48.1 106.1 71.4 12 0.9336 -11.1 -97.1 46.9 93.5 60.5 13 1.2285
-5.1 -55.3 68.1 103.7 90.6 14 1.3083 -6.8 -64.3 -68.7 104.2 60.1 15 2.1704
-8.7 -78.5 81.5 93.0 61.0 16 2.7105 -13.2 102.7 30.7 104.2 100.7 17 4.2589
-13.9 99.2 -16.4 94.9 62.3 18 4.6003 -13.9 88.8 3.8 93.1 66.7 19 5.4902 -15.8
-101.9 -13.7 92.2 52.9 20 5.6077 -17.1 92.2 9.7 106.7 61.8 21 6.3065 -16 93.3
5.6 93.0 51.9 22 6.6374 -15.7 106.6 0.7 92.9 61.7 23 7.0427 -21.6 119.5 -21.9
105.2 58 24 8.6523 -22.8 -123.8 33.6 107.8 57 Per-Cluster Parameters  
Parameter _c_ ~ASD~ in [°] _c_ ~ASA~ in [°] _c_ ~ZSD~ in [°] _c_ ~ZSA~ in [°]
XPR in [dB]  
Value 2 15 3 7 7
* * *
Table 7.7.1-4. CDL-D.
* * *
**Cluster #** **Cluster PAS** **Normalized Delay** **Power in [dB]** **AOD in
[°]** **AOA in [°]** **ZOD in [°]** **ZOA in [°]** 1 Specular(LOS path) 0 -0.2
0 -180 98.5 81.5 Laplacian 0 -13.5 0 -180 98.5 81.5 2 Laplacian 0.035 -18.8
89.2 89.2 85.5 86.9 3 Laplacian 0.612 -21 89.2 89.2 85.5 86.9 4 Laplacian
1.363 -22.8 89.2 89.2 85.5 86.9 5 Laplacian 1.405 -17.9 13 163 97.5 79.4 6
Laplacian 1.804 -20.1 13 163 97.5 79.4 7 Laplacian 2.596 -21.9 13 163 97.5
79.4 8 Laplacian 1.775 -22.9 34.6 -137 98.5 78.2 9 Laplacian 4.042 -27.8 -64.5
74.5 88.4 73.6 10 Laplacian 7.937 -23.6 -32.9 127.7 91.3 78.3 11 Laplacian
9.424 -24.8 52.6 -119.6 103.8 87 12 Laplacian 9.708 -30.0 -132.1 -9.1 80.3
70.6 13 Laplacian 12.525 -27.7 77.2 -83.8 86.5 72.9 Per-Cluster Parameters  
Parameter _c_ ~ASD~ in [°] _c_ ~ASA~ in [°] _c_ ~ZSD~ in [°] _c_ ~ZSA~ in [°]
XPR in [dB]  
Value 5 8 3 3 11
* * *
Table 7.7.1-5. CDL-E.
* * *
**Cluster #** **Cluster PAS** **Normalized Delay** **Power in [dB]** **AOD in
[°]** **AOA in [°]** **ZOD in [°]** **ZOA in [°]** 1 Specular (LOS path) 0.000
-0.03 0 -180 99.6 80.4 Laplacian 0.000 -22.03 0 -180 99.6 80.4 2 Laplacian
0.5133 -15.8 57.5 18.2 104.2 80.4 3 Laplacian 0.5440 -18.1 57.5 18.2 104.2
80.4 4 Laplacian 0.5630 -19.8 57.5 18.2 104.2 80.4 5 Laplacian 0.5440 -22.9
-20.1 101.8 99.4 80.8 6 Laplacian 0.7112 -22.4 16.2 112.9 100.8 86.3 7
Laplacian 1.9092 -18.6 9.3 -155.5 98.8 82.7 8 Laplacian 1.9293 -20.8 9.3
-155.5 98.8 82.7 9 Laplacian 1.9589 -22.6 9.3 -155.5 98.8 82.7 10 Laplacian
2.6426 -22.3 19 -143.3 100.8 82.9 11 Laplacian 3.7136 -25.6 32.7 -94.7 96.4 88
12 Laplacian 5.4524 -20.2 0.5 147 98.9 81 13 Laplacian 12.0034 -29.8 55.9
-36.2 95.6 88.6 14 Laplacian 20.6419 -29.2 57.6 -26 104.6 78.3 Per-Cluster
Parameters  
Parameter _c_ ~ASD~ in [°] _c_ ~ASA~ in [°] _c_ ~ZSD~ in [°] _c_ ~ZSA~ in [°]
XPR in [dB]  
Value 5 11 3 7 8
* * *
### 7.7.2 Tapped Delay Line (TDL) models
The TDL models for simplified evaluations, e.g., for non-MIMO evaluations, are
defined for the full frequency range from 0.5 GHz to 100 GHz with a maximum
bandwidth of 2 GHz.
Three TDL models, namely TDL-A, TDL-B and TDL-C, are constructed to represent
three different channel profiles for NLOS while TDL-D and TDL-E are
constructed for LOS, the parameters of which can be found respectively in
Table 7.7.2-1, Table 7.7.2-2 , Table 7.7.2-3, Table 7.7.2-4 and Table 7.7.2-5.
The Doppler spectrum for each tap is characterized by a classical (Jakes)
spectrum shape and a maximum Doppler shift _f~D~_ where $f_{D} = \left|
\overline{v} \right|/\lambda_{0}$. Due to the presence of a LOS path, the
first tap in TDL-D and TDL-E follows a Ricean fading distribution. For those
taps the Doppler spectrum additionally contains a peak at the Doppler shift
_f~S~_ = 0.7 _f~D~_ with an amplitude such that the resulting fading
distribution has the specified K-factor.
Each TDL model can be scaled in delay so that the model achieves a desired RMS
delay spread, according to the procedure described in Subclause 7.7.3.
For LOS channel models, the K-factor of TDL-D and TDL-E can be set to a
desired value following the procedure described in Subclause 7.7.6.
Table 7.7.2-1. TDL-A
* * *
Tap # Normalized delay Power in [dB] Fading distribution 1 0.0000 -13.4
Rayleigh 2 0.3819 0 Rayleigh 3 0.4025 -2.2 Rayleigh 4 0.5868 -4 Rayleigh 5
0.4610 -6 Rayleigh 6 0.5375 -8.2 Rayleigh 7 0.6708 -9.9 Rayleigh 8 0.5750
-10.5 Rayleigh 9 0.7618 -7.5 Rayleigh 10 1.5375 -15.9 Rayleigh 11 1.8978 -6.6
Rayleigh 12 2.2242 -16.7 Rayleigh 13 2.1718 -12.4 Rayleigh 14 2.4942 -15.2
Rayleigh 15 2.5119 -10.8 Rayleigh 16 3.0582 -11.3 Rayleigh 17 4.0810 -12.7
Rayleigh 18 4.4579 -16.2 Rayleigh 19 4.5695 -18.3 Rayleigh 20 4.7966 -18.9
Rayleigh 21 5.0066 -16.6 Rayleigh 22 5.3043 -19.9 Rayleigh 23 9.6586 -29.7
Rayleigh
* * *
Table 7.7.2-2. TDL-B
* * *
Tap # **Normalized delay** **Power in [dB]** **Fading distribution** 1 0.0000
0 Rayleigh 2 0.1072 -2.2 Rayleigh 3 0.2155 -4 Rayleigh 4 0.2095 -3.2 Rayleigh
5 0.2870 -9.8 Rayleigh 6 0.2986 -1.2 Rayleigh 7 0.3752 -3.4 Rayleigh 8 0.5055
-5.2 Rayleigh 9 0.3681 -7.6 Rayleigh 10 0.3697 -3 Rayleigh 11 0.5700 -8.9
Rayleigh 12 0.5283 -9 Rayleigh 13 1.1021 -4.8 Rayleigh 14 1.2756 -5.7 Rayleigh
15 1.5474 -7.5 Rayleigh 16 1.7842 -1.9 Rayleigh 17 2.0169 -7.6 Rayleigh 18
2.8294 -12.2 Rayleigh 19 3.0219 -9.8 Rayleigh 20 3.6187 -11.4 Rayleigh 21
4.1067 -14.9 Rayleigh 22 4.2790 -9.2 Rayleigh 23 4.7834 -11.3 Rayleigh
* * *
Table 7.7.2-3. TDL-C
* * *
**Tap #** **Normalized delays** **Power in [dB]** **Fading distribution** 1 0
-4.4 Rayleigh 2 0.2099 -1.2 Rayleigh 3 0.2219 -3.5 Rayleigh 4 0.2329 -5.2
Rayleigh 5 0.2176 -2.5 Rayleigh 6 0.6366 0 Rayleigh 7 0.6448 -2.2 Rayleigh 8
0.6560 -3.9 Rayleigh 9 0.6584 -7.4 Rayleigh 10 0.7935 -7.1 Rayleigh 11 0.8213
-10.7 Rayleigh 12 0.9336 -11.1 Rayleigh 13 1.2285 -5.1 Rayleigh 14 1.3083 -6.8
Rayleigh 15 2.1704 -8.7 Rayleigh 16 2.7105 -13.2 Rayleigh 17 4.2589 -13.9
Rayleigh 18 4.6003 -13.9 Rayleigh 19 5.4902 -15.8 Rayleigh 20 5.6077 -17.1
Rayleigh 21 6.3065 -16 Rayleigh 22 6.6374 -15.7 Rayleigh 23 7.0427 -21.6
Rayleigh 24 8.6523 -22.8 Rayleigh
* * *
Table 7.7.2-4. TDL-D.
* * *
Tap # Normalized delay Power in [dB] Fading distribution 1 0 -0.2 LOS path 0
-13.5 Rayleigh 2 0.035 -18.8 Rayleigh 3 0.612 -21 Rayleigh 4 1.363 -22.8
Rayleigh 5 1.405 -17.9 Rayleigh 6 1.804 -20.1 Rayleigh 7 2.596 -21.9 Rayleigh
8 1.775 -22.9 Rayleigh 9 4.042 -27.8 Rayleigh 10 7.937 -23.6 Rayleigh 11 9.424
-24.8 Rayleigh 12 9.708 -30.0 Rayleigh 13 12.525 -27.7 Rayleigh NOTE: The
first tap follows a Ricean distribution with a K-factor of K~1~ = 13.3 dB and
a mean power of 0dB.
* * *
Table 7.7.2-5. TDL-E.
* * *
Tap # Normalized delay Power in [dB] Fading distribution 1 0 -0.03 LOS path 0
-22.03 Rayleigh 2 0.5133 -15.8 Rayleigh 3 0.5440 -18.1 Rayleigh 4 0.5630 -19.8
Rayleigh 5 0.5440 -22.9 Rayleigh 6 0.7112 -22.4 Rayleigh 7 1.9092 -18.6
Rayleigh 8 1.9293 -20.8 Rayleigh 9 1.9589 -22.6 Rayleigh 10 2.6426 -22.3
Rayleigh 11 3.7136 -25.6 Rayleigh 12 5.4524 -20.2 Rayleigh 13 12.0034 -29.8
Rayleigh 14 20.6519 -29.2 Rayleigh NOTE: The first tap follows a Ricean
distribution with a K-factor of K~1~ = 22 dB and a mean power of 0dB.
* * *
### 7.7.3 Scaling of delays
The RMS delay spread values of both CDL and TDL models are normalized and they
can be scaled in delay so that a desired RMS delay spread can be achieved. The
scaled delays can be obtained according to the following equation:
$\tau_{n,\text{scaled}} = \tau_{n,\text{model}} \cdot
\text{DS}_{\text{desired}}$ (7.7-1)
in which
$\tau_{n,\text{model}}$ is the normalized delay value of the _n_ th cluster in
a CDL or a TDL model
$\tau_{n,\text{scaled}}$ is the new delay value (in [ns]) of the _n_ th
cluster
$\text{DS}_{\text{desired}}$ is the wanted delay spread (in [ns])
The example scaling parameters are selected according to Table 7.7.3-1 where
the values have been chosen such that the RMS delay spreads span the range
observed in measurements corresponding to the typical 5G evaluation scenarios.
For information purposes, examples of such RMS delay spreads for the different
scenarios are given in Table 7.7.3-2 where the \"short-delay profile\"
corresponds to the median RMS delay spread for LOS scenarios, while \"normal-
delay profile\" and \"long-delay profile\" correspond to the median and the
90^th^ percentile RMS delay spread for NLOS scenarios according to the channel
parameters in Table 7.5-6. It can therefore be understood that a particular
RMS delay spread in Table 7.7.3-1 may occur in any scenario; however certain
values may be more likely in some scenarios than in others.
The example parameters given in Table 7.7.3-1 does not preclude the use of
other scaling values if this is found appropriate, for instance if additional
scenarios are introduced or if e.g. the effect of beamforming needs to be
captured in a TDL. Both of these examples can potentially result in an
increased range of experienced RMS delay spreads.
Table 7.7.3-1. Example scaling parameters for CDL and TDL models.
* * *
Model  
Very short delay spread 10 ns Short delay spread 30 ns Nominal delay spread
100 ns Long delay spread 300 ns Very long delay spread 1000 ns
* * *
Table 7.7.3-2. Scenario specific scaling factors - for information only
* * *
Proposed Scaling Factor $\text{DS}_{\text{desired}}$ in [ns] Frequency [GHz]  
2 6 15 28 39 60 70  
Indoor office Short-delay profile 20 16 16 16 16 16 16 Normal-delay profile 39
30 24 20 18 16 16 Long-delay profile 59 53 47 43 41 38 37 UMi Street-canyon
Short-delay profile 65 45 37 32 30 27 26 Normal-delay profile 129 93 76 66 61
55 53 Long-delay profile 634 316 307 301 297 293 291 UMa Short-delay profile
93 93 85 80 78 75 74 Normal-delay profile 363 363 302 266 249 228 221 Long-
delay profile 1148 1148 955 841 786 720 698 RMa & RMa O2I Short-delay profile
32 32 N/A N/A N/A N/A N/A Normal-delay profile 37 37 N/A N/A N/A N/A N/A Long-
delay profile 153 153 N/A N/A N/A N/A N/A UMi / UMa O2I Normal-delay profile
240  
Long-delay profile 616
* * *
### 7.7.4 Spatial filter for generating TDL channel model
The TDL models described in Subclause 7.7.2 are generated from the CDL models
assuming ideal isotropic antennas at both Tx and Rx. It is also possible to
generate TDL models by assuming non-isotropic antennas like directive horn
antennas or array antennas.
The basic idea to generate a TDL model based on a filtered CDL model is shown
in Figure 7.7.4-1 below.
{width="3.9375in" height="1.8333333333333333in"}
Figure 7.7.4-1 The basic idea for filtering the CDL model to TDL model.
#### 7.7.4.1 Exemplary filters/antenna patterns
Note that any filter/pattern can be applied on a CDL to derive a TDL for
evaluating directional algorithms.
**Example 1:** Isotropic pattern
$A_{\left{ \text{tx},\text{rx} \right}}^{'}\left( \theta^{'},\varphi^{'}
\right) = 1$ (7.7-2)
**Example 2:** Rectangular mask
$A_{\left{ \text{tx},\text{rx} \right}}^{'}\left(
\theta^{'},\varphi^{'},\text{BW} \right) = \left{ \begin{matrix} 1, & \left|
\theta^{'} - \text{90}{^\circ} \right| \leq \frac{\text{BW}}{2} \land \left|
\varphi^{'} \right| \leq \frac{\text{BW}}{2} \ 0, & \text{otherwise}\text{.} \
\end{matrix} \right.\ $ (7.7-3)
with $\text{BW}$ denotes beamwidth.
**Example 3:** Simplified antenna pattern given in [ITU-R M.2135]
{width="3.0034722222222223in" height="2.161111111111111in"}
Figure 7.7.4-2 Simplified antenna pattern [ITU-R M.2135].
#### 7.7.4.2 Generation procedure
1\. The following steps are needed to generate tapped delay line (TDL)
models:Choose a CDL model (e.g. CDL-A). Note that the models may be scaled
according to Subclause 7.7.5.1 prior to the filtering in order to represent
different angular spreads.
2\. Choose spatial filters $A_{\text{tx}}^{'}$ and $A_{\text{rx}}^{'}$ defined
in LCS
3\. Transform the spatial filter into GCS to obtain $A_{\text{tx}}$ and
$A_{\text{rx}}$ such that the pointing direction $\left(
\theta_{p},\varphi_{p} \right)$ is centered within the filter. The pointing
direction may be defined
a. by the dominant path $(\theta_{P},\varphi_{P}) = (\theta_{i},\varphi_{i})$
with , where $P_{n}^{\text{CDL}}$ denotes the CDL cluster power values
b. Or an arbitrary direction
4\. Calculate TDL cluster power values given the following equation
$P_{n}^{\text{TDL}} = P_{n}^{\text{CDL}}A_{\text{rx}}\left(
\theta_{n,\text{ZOA}},\varphi_{n,\text{AOA}} \right)A_{\text{tx}}\left(
\theta_{n,\text{ZOD}},\varphi_{n,\text{AOD}} \right)$ (7.7-4)
### 7.7.5 Extension for MIMO simulations
Extended MIMO link-level channel models can be constructed according to two
alternative methods described in the following.
#### 7.7.5.1 CDL extension: Scaling of angles
The angle values of CDL models are fixed, which is not very suitable for MIMO
simulations for several reasons; The PMI statistics can become biased, and a
fixed precoder may perform better than open-loop and on par with closed-loop
or reciprocity beamforming. Furthermore, a CDL only represents a single
channel realization. The predefined angle values in the CDL models can be
generalized by introducing angular translation and scaling. By translation,
mean angle can be changed to $\mu_{\varphi,\text{desired}}$ and angular spread
can be changed by scaling. The translated and scaled ray angles can be
obtained according to the following equation:
$\varphi_{n,\text{scaled}} =
\frac{\text{AS}_{\text{desired}}}{\text{AS}_{\text{model}}}\left(
\varphi_{n,\text{model}} - \mu_{\varphi,\text{model}} \right) +
\mu_{\varphi,\text{desired}}$ (7.7-5)
in which:
$\varphi_{n,\text{model}}$ is the tabulated CDL ray angle
$\text{AS}_{\text{model}}$ is the rms angular spread of the tabulated CDL
including the offset ray angles, calculated using the angular spread
definition in Annex A
$\mu_{\varphi,\text{model}}$ is the mean angle of the tabulated CDL,
calculated using the definition in Annex A
$\mu_{\varphi,\text{desired}}$ is the desired mean angle
$\text{AS}_{\text{desired}}$ is the desired rms angular spread
$\varphi_{n,\text{scaled}}$ is the resulting scaled ray angle.
The angular scaling is applied on the ray angles including offsets from the
tabulated cluster angles. Typical angular spreads for different scenarios can
be obtained from the system-level model.
Example scaling values are:
\- AOD spread (ASD) for each CDL model: {5, 10, 15, 25} degrees.
\- AOA spread (ASA) for each CDL model: {30, 45, 60} degrees.
\- ZOA spread (ZSA) for each CDL model: {5, 10, 15} degrees.
\- ZOD spread (ZSD) for each CDL model: {1, 3, 5} degrees.
The angular scaling and translation can be applied to some or all of the
azimuth and zenith angles of departure and arrival.
Note: The azimuth angles may need to be wrapped around to be within [0, 360]
degrees, while the zenith angles may need to be clipped to be within [0, 180]
degrees.
#### 7.7.5.2 TDL extension: Applying a correlation matrix
The TDLs and the spatial-filtered TDLs can be used with the correlation
matrices for MIMO link-level simulations. Typical correlation parameters can
be derived from 1) delay & angular scaled CDLs with antenna array assumptions,
2) system-level model with antenna array assumptions, or 3) by selecting
extreme cases, e.g. uncorrelated, highly correlated etc. For example, these
following options can be considered:
1) Zero correlation (IID channel coefficients) can be used for any number of
antenna elements
2) The correlation matrix construction method from 3GPP TS36.101/104 [15][16]
can be used for linear and planar (single- or dual-polarized) arrays.
\- Other correlation parameters α, β, γ than those specified in 3GPP
TS36.101/104 [15][16] and extensions to larger antenna arrays can be
considered. For typical scenarios, α and β will be in the range 0-1
\- A representative set of values is {0,0.7,0.9,0.99}
Note: This approach can be applied to TDLs derived from spatially filtered
CDLs to emulate hybrid BF system
Note: Other methodologies could also be developed, e.g.
\- extending the 3GPP TS36.101/104 [15][16] procedure to planar arrays or more
elements
\- using CDLs in combination with array assumptions to derive per-tap
correlation matrices as in [17].
\- using the system-level model in combination with array assumptions to
derive per-tap or per-channel correlation matrices
### 7.7.6 K-factor for LOS channel models
For the LOS channel models of CDL/TDL-D and CDL/TDL-E, the K-factor values may
be changed by the user. Mean and standard deviation of K-factor values can be
found in Table 7.5-6, although other values may also be used.
If the K-factor of a model shall be changed to $K_{\text{desired}}$ [dB], the
cluster powers for the Laplacian clusters (in case of CDL) or the tap powers
for the Rayleigh fading taps (in case of TDL) are determined by
$P_{n,\text{scaled}} = P_{n,\text{model}} - K_{\text{desired}} +
K_{\text{model}}$, (7.7.6-1)
where $P_{n,\text{scaled}}$ and $P_{n,\text{model}}$ denote the scaled and the
model path power (as given in the tables) of tap/cluster $n$. The model\'s
K-factor $K_{\text{model}}$ is defined as
$K_{\text{model}} = P_{\text{1,model}}^{\text{LOS}} -
\text{10}\text{log}_{\text{10}}\left( \sum_{n =
1}^{N}\text{10}^{P_{\text{n,model}}/\text{10}} \right)$. (7.7.6-2)
After scaling the powers, the delay spread needs to be re-normalized. This is
done through the two steps below.
1) Calculate the actual RMS delay spread after the K-factor adjustment.
2) Divide the delays by that value to obtain DS = 1.
## 7.8 Channel model calibration
### 7.8.1 Large scale calibration
For large scale calibration, fast fading is not modeled. The calibration
parameters can be found in Table 7.8-1. The calibration results based on TR
38.900 V14.0.0 can be found in R1-165974.
Table 7.8-1: Simulation assumptions for large scale calibration
+----------------------------------+----------------------------------+ | Parameter | Values | +----------------------------------+----------------------------------+ | Scenarios | UMa, UMi-Street Canyon, | | | Indoor-office (open office) | +----------------------------------+----------------------------------+ | Sectorization | 3 sectors per cell site: 30, 150 | | | and 270 degrees | | | | | | {width="1.586111111111111in" | | | height="0.99375in"} | +----------------------------------+----------------------------------+ | BS antenna configurations | M~g~ = N~g~ = 1; (M,N,P) = (10, | | | 1, 1), d~V~ = 0.5λ | +----------------------------------+----------------------------------+ | BS port mapping | The 10 elements are mapped to a | | | single CRS port | +----------------------------------+----------------------------------+ | BS antenna electrical | 102 degrees for UMa and UMi | | downtilting | Street Canyon | | | | | | 110 degrees for indoor | +----------------------------------+----------------------------------+ | Antenna virtualization | DFT precoding according to TR | | | 36.897 with application of | | | panning and tilting angles | +----------------------------------+----------------------------------+ | BS Tx power | 44 dBm for UMi-Street Canyon, 49 | | | for UMa at 6GHz | | | | | | 35 dBm at 30GHz and 70 GHz for | | | UMa and UMi-Street canyon | | | | | | 24 dBm for Indoor for all | | | carrier frequencies | +----------------------------------+----------------------------------+ | Bandwidth | 20MHz for 6GHz, and 100MHz for | | | 30GHz and 70 GHz | +----------------------------------+----------------------------------+ | UT antenna configurations | 1 element (vertically | | | polarized), Isotropic antenna | | | gain pattern | +----------------------------------+----------------------------------+ | Handover margin (for | 0dB | | calibration) | | +----------------------------------+----------------------------------+ | UT distribution | Following TR36.873 for UMa and | | | UMi, (3D dropping) | | | | | | uniform dropping for indoor with | | | minimum distance (2D) of 0 m | +----------------------------------+----------------------------------+ | UT attachment | Based on pathloss considering | | | LOS angle | +----------------------------------+----------------------------------+ | UT noise figure | 9 dB | +----------------------------------+----------------------------------+ | Fast fading channel | Fast fading channel is not | | | modelled | +----------------------------------+----------------------------------+ | O2I penetration loss | 50% low loss and 50% high loss | +----------------------------------+----------------------------------+ | Carrier Frequency | 6 GHz, 30 GHz, 70GHz | +----------------------------------+----------------------------------+ | Wrapping method for UMa and UMi | geographical distance based | | | wrapping (mandatory) | | | | | | radio distance (optional) | +----------------------------------+----------------------------------+ | Metrics | 1) Coupling loss -- serving | | | cell (based on LOS pathloss) | +----------------------------------+----------------------------------+ | | 2) Geometry (based on LOS | | | pathloss) with and without white | | | noise | +----------------------------------+----------------------------------+
### 7.8.2 Full calibration
The calibration parameters for full calibration including the fast fading
modelling can be found in Table 7.8-2. Unspecified parameters in Table 7.8-2
are the same as those in Table 7.8-1. When P=2, X-pol (+/-45 degree) is used
for BS antenna configuration 1 and X-pol (0/+90 degree) is used for UT antenna
configuration. The calibration results based on TR 38.900 V14.0.0 can be found
in R1-165975.
Table 7.8-2: Simulation assumptions for full calibration
+-----------------------------+---------------------------------------+ | Parameter | Values | +-----------------------------+---------------------------------------+ | Scenarios | UMa, UMi-street Canyon, Indoor-office | | | (open office) | +-----------------------------+---------------------------------------+ | Carrier Frequency | 6 GHz, 30 GHz, 60GHz, 70GHz | +-----------------------------+---------------------------------------+ | Bandwidth | 20MHz for 6GHz, and 100MHz for 30GHz, | | | 60 GHz and 70 GHz | +-----------------------------+---------------------------------------+ | BS Tx power | 44 dBm for UMi-Street Canyon, 49 for | | | UMa at 6GHz | | | | | | 35 dBm at 30GHz, 60 GHz and 70 GHz | | | for UMa and UMi-Street canyon | | | | | | 24 dBm for Indoor for all carrier | | | frequencies | +-----------------------------+---------------------------------------+ | BS antenna configurations | Config 1: M = 4,N = 4,P = 2, M~g~ = | | | 1, N~g~ = 2, d~H~ = d~V~ = 0.5λ, | | | d~H,g~ = d~V,g~ = 2.5λ ... | | | calibration metrics 1), 2), 3) are | | | calibrated | | | | | | Config 2: M~g~ = N~g~ = 1, M = N = 2, | | | P = 1 ... calibration metrics 1), 2), | | | 4) are calibrated | +-----------------------------+---------------------------------------+ | BS port mapping | Config 1: all 16 elements for each | | | polarization on each panel are mapped | | | to a single CRS port; panning angles | | | of the two subarrays: (0,0) degs; | | | same downtilt angles as used for the | | | large-scale calibrations | | | | | | Config 2: each antenna element is | | | mapped to one CRS port | +-----------------------------+---------------------------------------+ | UT antenna configurations | M~g~ = N~g~ = 1, M = N = 1, P = 2 | +-----------------------------+---------------------------------------+ | UT distribution | Following TR36.873 for UMa and UMi, | | | (3D dropping) | | | | | | uniform dropping for indoor with | | | minimum distance (2D) of 0 m | +-----------------------------+---------------------------------------+ | UT attachment | Based on RSRP (formula) from CRS port | | | 0 | +-----------------------------+---------------------------------------+ | Polarized antenna modelling | Model-2 in TR36.873 | +-----------------------------+---------------------------------------+ | UT array orientation | Ω _~UT,α ~_ uniformly distributed on | | | [0,360] degree, Ω _~UT,β~_ = 90 | | | degree, Ω _~UT,γ~_ = 0 degree | +-----------------------------+---------------------------------------+ | UT antenna pattern | Isotropic | +-----------------------------+---------------------------------------+ | Metrics | 1) Coupling loss -- serving cell | +-----------------------------+---------------------------------------+ | | 2) Wideband SIR before receiver | | | without noise | +-----------------------------+---------------------------------------+ | | 3) CDF of Delay Spread and Angle | | | Spread (ASD, ZSD, ASA, ZSA) from the | | | serving cell (according to circular | | | angle spread definition of TR 25.996) | +-----------------------------+---------------------------------------+ | | 4) | | | | | | CDF of largest (1^st^) PRB singular | | | values (serving cell) at t=0 plotted | | | in 10*log10 scale. | | | | | | CDF of smallest (2^nd^) PRB singular | | | values (serving cell) at t=0 plotted | | | in 10*log10 scale. | | | | | | CDF of the ratio between the largest | | | PRB singular value and the smallest | | | PRB singular value (serving cell) at | | | t=0 plotted in 10*log10 scale. | | | | | | Note: The PRB singular values of a | | | PRB are the eigenvalues of the mean | | | covariance matrix in the PRB. | +-----------------------------+---------------------------------------+
### 7.8.3 Calibration of additional features
The calibration parameters for the calibration of oxygen absorption, large
bandwidth and large antenna array, spatial consistency, and blockage can be
respectively found in Table 7.8-3, 7.8-4, 7.8-5, and 7.8-6. Unspecified
parameters in these tables are the same as those in Tables 7.8-1 and 7.8-2.
When P=2, X-pol (+/-45 degree) is used for BS antenna configuration 1 and
X-pol (0/+90 degree) is used for UT antenna configuration. The calibration
results based on TR 38.900 V14.0.0 can be found in R1-1700990.
Table 7.8-3: Simulation assumptions for calibration for oxygen absorption
+---------------------------+-----------------------------------------+ | Parameter | Values | +---------------------------+-----------------------------------------+ | Scenarios | UMi-street Canyon | +---------------------------+-----------------------------------------+ | Carrier Frequency | 60 GHz | +---------------------------+-----------------------------------------+ | BS antenna configurations | M = 4, N = 4, P = 2, M~g~ = 1, N~g~ = | | | 2, d~H~ = d~V~ = 0.5λ, d~H,g~ = d~V,g~ | | | = 2.5λ | +---------------------------+-----------------------------------------+ | BS port mapping | all 16 elements for each polarization | | | on each panel are mapped to a single | | | CRS port; panning angles of the two | | | subarrays: (0,0) degs; same downtilt | | | angles as used for the large-scale | | | calibrations | +---------------------------+-----------------------------------------+ | Calibration method | Drop multiple users in the multiple | | | cells randomly, and collect the | | | following metrics for each user after | | | attachment. | +---------------------------+-----------------------------------------+ | Metrics | 1) CDF of coupling loss (serving cell) | | | | | | 2) Wideband SINR before receiver -- | | | determined from RSRP (formula) from CRS | | | port 0 | | | | | | 3) CDF of Delay Spread from the | | | serving cell | +---------------------------+-----------------------------------------+
Table 7.8-4: Simulation assumptions for calibration for large bandwidth and
large antenna array
+--------------------------------+------------------------------------+ | Parameter | Values | +--------------------------------+------------------------------------+ | Scenarios | UMi-street Canyon | +--------------------------------+------------------------------------+ | Carrier Frequency | 30GHz | +--------------------------------+------------------------------------+ | Bandwidth | 2GHz | +--------------------------------+------------------------------------+ | BS antenna configurations | M = 8, N = 8, P = 2, M~g~ = 1, | | | N~g~ = 4, d~H~ = d~V~ = 0.5λ, | | | d~H,g~ = d~V,g~ = 4λ | +--------------------------------+------------------------------------+ | BS port mapping | all 64 elements for each | | | polarization on each panel are | | | mapped to a single CRS port; | | | panning angles of the two | | | subarrays: (0,0) degs; same | | | downtilt angles as used for the | | | large-scale calibrations | +--------------------------------+------------------------------------+ | The number of rays per cluster | _N_ ~MPC~ = 40 | +--------------------------------+------------------------------------+ | Calibration method | Drop multiple users in the | | | multiple cells randomly, and | | | collect the following metrics for | | | each user after attachment. | +--------------------------------+------------------------------------+ | Metrics | 1) CDF of coupling loss (serving | | | cell) | | | | | | 2) Wideband SINR before receiver | | | -- determined from RSRP (formula) | | | from CRS port 0 | | | | | | 3) CDF of largest (1^st^) PRB | | | singular values (serving cell) at | | | t=0 plotted in 10*log10 scale | +--------------------------------+------------------------------------+
Table 7.8-5: Simulation assumptions for calibration for spatial consistency
+----------------------------------+----------------------------------+ | Parameter | Values | +----------------------------------+----------------------------------+ | Scenarios | UMi-street Canyon | +----------------------------------+----------------------------------+ | Carrier Frequency | 30 GHz | +----------------------------------+----------------------------------+ | BS antenna configurations | M = 4, N = 4, P = 2, M~g~ = 1, | | | N~g~ = 2, d~H~ = d~V~ = 0.5λ, | | | d~H,g~ = d~V,g~ = 2.5λ | +----------------------------------+----------------------------------+ | BS port mapping | all 16 elements for each | | | polarization on each panel are | | | mapped to a single CRS port; | | | panning angles of the two | | | subarrays: (0,0) degs; same | | | downtilt angles as used for the | | | large-scale calibrations | +----------------------------------+----------------------------------+ | UE distribution | Following TR36.873, 3D dropping | | | | | | uniform dropping for indoor with | | | minimum distance of 0 m | | | | | | For Config1: 100% UE indoor and | | | in the 1^st^ floor | | | | | | For Config2: 100% UE outdoor | +----------------------------------+----------------------------------+ | Mobility | Config1: UE is stationary | | | | | | Config2: UE is moving with | | | random direction and fixed | | | speed, e.g., 30 km/h | +----------------------------------+----------------------------------+ | Calibration method | For Config1: | | | | | | Drop multiple UEs in a single | | | cell, determine all permutations | | | of pairs of UEs, collect the | | | variables for each pair and bin | | | them into certain distance | | | ranges, e.g., 1m/2m/10m, to get | | | enough samples. Collect the | | | following metrics 1) --6). | | | | | | For Config2: | | | | | | Drop multiple users in the | | | single cell, and collect metric | | | 1)-2) and 7)-9) for each user | | | after attachment. | +----------------------------------+----------------------------------+ | Metrics | > 1) CDF of coupling loss | | | > (serving cell) | | | > | | | > 2) Wideband SINR before | | | > receiver -- determined from | | | > RSRP (formula) from CRS port 0 | | | > | | | > 3) Cross-correlation | | | > coefficient of delay for the | | | > third cluster between paired | | | > UEs, see note 1 | | | > | | | > 4) Cross-correlation | | | > coefficient of AOA for the | | | > third cluster between paired | | | > UEs | | | > | | | > 5) Cross-correlation | | | > coefficient of LOS/NLOS status | | | > between paired UEs | | | > | | | > 6) Cross correlation | | | > coefficient of the channel | | | > response in Step 11 on the | | | > first non-DC subcarrier in an | | | > OFDM symbol on antenna port 0 | | | > received on the first UE | | | > antenna over multiple | | | > realizations between paired | | | > UEs | | | > | | | > 7) CDF of average varying | | | > rate of power for the third | | | > cluster, see note 2 | | | > | | | > 8) CDF of average varying | | | > rate of delay for the third | | | > cluster (ns) | | | > | | | > 9) CDF of average varying | | | > rate of AOA for the third | | | > cluster (degree) | +----------------------------------+----------------------------------+ | NOTE 1 For the UT pair at a | | | certain distance range, the | | | variables collected by two UEs | | | can be denoted as X and Y, | | | respectively, then the | | | cross-correlation coefficient | | | for real number can be written | | | as [E(XY)-E(X)E(Y)] | | | /sqrt([E(X\^2)-E(X)\^2])/ | | | sqrt([E(Y\^2)-E(Y)\^2]), the | | | cross-correlation coefficient | | | for complex number can be | | | written as | | | \|[E(XY*)-E(X)E(Y)\ | | | *]/sqrt([E(XX*)-E(X)E(X)*]) | | | /sqrt([E(YY*)-E(Y)E(Y)*])\|. | | | | | | NOTE 2 For the average varying | | | rate, we assume the collecting | | | interval, e.g., 100ms, and then | | | get the samples for a certain | | | UE, the varying rate can be | | | written as the standard variance | | | of the samples per 100ms. | | +----------------------------------+----------------------------------+
Table 7.8-6: Simulation assumptions for calibration for blockage
+---------------------------+-----------------------------------------+ | Parameter | Values | +---------------------------+-----------------------------------------+ | Scenarios | UMi-street Canyon | +---------------------------+-----------------------------------------+ | Carrier Frequency | 30 GHz | +---------------------------+-----------------------------------------+ | BS antenna configurations | M = 4, N = 4, P = 2, M~g~ = 1, N~g~ = | | | 2, d~H~ = d~V~ = 0.5λ, d~H,g~ = d~V,g~ | | | = 2.5λ | +---------------------------+-----------------------------------------+ | BS port mapping | all 16 elements for each polarization | | | on each panel are mapped to a single | | | CRS port; panning angles of the two | | | subarrays: (0,0) degs; same downtilt | | | angles as used for the large-scale | | | calibrations | +---------------------------+-----------------------------------------+ | Calibration method | For Model A: | | | | | | Drop multiple users in the multiple | | | cells, and collect the following | | | metrics 1) -- 3) for each user after | | | attachment. Optional self-blocking | | | feature is made mandatory in the | | | Landscape mode only for calibration | | | purposes. | | | | | | For Model B: | | | | | | Drop a BS in (0,0,30) and a UT in | | | (100,0,1.5), | | | | | | Jump directly to Step 11 and replace | | | the channel with CDL-E. | | | | | | Drop a blocking screen of size h=10m, w | | | = 2m in (80,10,1.5) | | | | | | Move the UT from (100,0,1.5) to | | | (100,20,1.5) in small increments. For | | | each UT position, translate all the | | | AODs and AOAs of CDL-E such that the | | | specular (LOS path) of CDL-E is | | | pointing along the direct path between | | | the BS and UT. | | | | | | Collect metric 4) | +---------------------------+-----------------------------------------+ | Metrics | 1) CDF of coupling loss (serving cell) | | | | | | 2) Wideband SINR before receiver -- | | | determined from RSRP (formula) from CRS | | | port 0 | | | | | | 3) CDF of ASA from the serving cell | | | | | | 4) RSRP as a function of UT position | +---------------------------+-----------------------------------------+
# 8 Map-based hybrid channel model (Alternative channel model methodology)
Map-based hybrid model is composed of a deterministic component following,
e.g., METIS work [6] and a stochastic component following mainly the model
described in clause 7. The channel model methodology described in this clause
is an alternative to the methodology specified in clause 7, and can be used
if:
\- The system performance is desired to be evaluated or predicted with the use
of digital map to take into account the impacts from environmental structures
and materials.
The map-based hybrid model defined in this clause is not calibrated and can be
used per company basis.
## 8.1 Coordinate system
The same coordinate system as defined in Subclause 7.1 is applied.
## 8.2 Scenarios
The same scenarios as in Subclause 7.2 can be applied.
## 8.3 Antenna modelling
The same antenna modelling as defined in Subclause 7.3 can be applied.
## 8.4 Channel generation
The radio channels are created using the deterministic ray-tracing upon a
digitized map and emulating certain stochastic components according to the
statistic parameters listed in Tables 7.5-6 to 7.5-10 [Note: Not all
parameters listed in these tables are used in hybrid model]. The channel
realizations are obtained by a step-wise procedure illustrated in Figure 8.4-1
and described below. In the following steps, downlink is assumed. For uplink,
arrival and departure parameters have to be swapped.
Figure 8.4-1: Channel coefficient generation procedure
**Step-wise procedure:**
[Step 1]{.underline}: Set environment and import digitized map accordingly
> a) Choose scenario. Choose a global coordinate system and define zenith
> angle _θ_ , azimuth angle _ϕ_ , and spherical basis vectors $\hat{\theta}$,
> $\hat{\varphi}$ as shown in Figure 7.5-2.
>
> b) Import digitized map according to the chosen scenario. The digitized map
> should at least contain the following information:
\- The 3D geometric information for each of major structures involving with
buildings or rooms. The external building walls and internal room walls are
represented by surfaces and identified by the coordinates of the vertices on
each wall.
\- The material and thickness of each wall as well as the corresponding
electromagnetic properties including permittivity and conductivity.
\- Random small objects in certain scenarios (e.g, UMi outdoor)
The format of digitized map, including additional information besides above-
mentioned, is per implementation wise and out of scope of this description.
[Step 2]{.underline}: Set network layout, and antenna array parameters
a) Give number of BS and UT.
b) Give 3D locations of BS and UT, and calculate LOS AOD (_ϕ~LOS,AOD~_), LOS
ZOD (_θ~LOS,ZOD~_), LOS AOA (_ϕ~LOS,AOA~_), LOS ZOA (_θ~LOS,ZOA~_) of each BS
and UT in the global coordinate system
c) Give BS and UT antenna field patterns _F~rx~_ and _F~tx~_ in the global
coordinate system and array geometries
d) Give BS and UT array orientations with respect to the global coordinate
system. BS array orientation is defined by three angles Ω _~BS,α~_ (BS bearing
angle), Ω _~BS,β~_ (BS downtilt angle) and Ω _~BS,γ~_ (BS slant angle). UT
array orientation is defined by three angles Ω _~UT,α~_ (UT bearing angle), Ω
_~UT,β~_ (UT downtilt angle) and Ω _~UT,γ~_ (UT slant angle). Give rotational
motion of UT in terms of its bearing angle, downtilt angle and slant angle if
UT rotation is modelled.
e) Give speed and direction of motion of UT in the global coordinate system
for virtual motion.
f) Give system centre frequency/frequencies and bandwidth(s) for each of BS-UT
links
If the bandwidth (denoted as $B$) is greater than _c/D_ Hz, where _c_ is the
speed of light and _D_ is the maximum antenna aperture in either azimuth or
elevation, the whole bandwidth is split into $K_{B}$ equal-sized frequency
bins, where $K_{B} \geq \left\lceil \frac{B}{c/D} \right\rceil$ is a per-
implementation parameter taking into account the channel constancy as well as
other potential evaluation needs, and the bandwidth of each frequency bin is
$\text{ΔB} = \frac{B}{K_{B}}$. Within _k_ -th frequency bin, the channel power
attenuation, phase rotation, Doppler are assumed constant, whose corresponding
values are calculated based on the centre frequency of _k_ -th frequency
bin$f_{k} = f_{c} - \frac{K_{B} - 2k + 1}{2}\text{ΔB}$ for $1 \leq k \leq
K_{B}$, where $f_{c}$ is the centre frequency of the corresponding BS-UT link.
[Step 3]{.underline}: Apply ray-tracing to each pair of link ends (i.e., end-
to-end propagation between pair of Tx/Rx arrays).
a) Perform geometric calculations in ray-tracing to identify propagation
interaction types, including LOS, reflections, diffractions, penetrations and
scattering (in case the digitized map contains random small objects), for each
propagation path. In general, some maximum orders of different interaction
types can be set.
\- The theoretical principles and procedures of geometric tracing calculations
can be found in [6]\~[10][12]. This description does not intend to mandate new
concepts and/or procedures to the conventional ray-tracing algorithms; on the
other hand, the implementation-based variations aiming to reduce computation
complexity are allowed within limits of acceptable calibration tolerances.
\- The same geometric calculation is shared among all $K_{B}$ frequency bins.
b) Perform electric field calculations over propagation path, based on
identified propagation interaction types (LOS, reflection, diffraction,
penetration and scattering) and centre frequencies of frequency bins.
The details of electric field calculation can be found in [6]\~[13].
> The modelling algorithms in geometry and electric field calculations for
> different propagation interactions are summarized in the table below.
Table 8.4-1 Principles applied in ray-tracing
* * *
                                    Geometry calculation                               Electric field calculation
LOS Free space LOS Friis equation [11] Reflection Snell\'s law with image-
based method [7] Fresnel equation [7] Diffraction Fermat\'s principle [12] UTD
[13] Penetration Snell\'s law for transmission through slab [8] Fresnel
equation [7] Scattering (upon small objects) Isotropic scattering [6] RCS-
based scattering coefficient [6]
* * *
Note: For reasons of simplicity and simulation speed, the maximum order of
reflection on a path without diffraction is configurable from {1,2,3}; the
maximum order of diffraction on a path without reflection is configurable from
{1,2}; the path containing both reflection and diffraction has 1-order
reflection and 1-order diffraction, besides any potential penetrations; and
the maximum order of penetration on a path is configurable, with the
recommended value equal to 5.
> The outputs from Step 3 should at least contain following for each pair of
> link ends:
\- the LOS/NLOS flag to indicate whether a LOS propagation mechanism exists;
\- the number of deterministic propagation paths (also referred as
deterministic clusters in Step 8. To avoid the unnecessary computation
complexity, these deterministic paths only include those paths whose powers
are higher than 25dB below the maximum deterministic path power, where the
path power is denoted as $P_{l_{\text{RT}}}^{\text{RT},\text{real}}$ and
defined below);
\- for each deterministic path (-th path sorted in ascending order of path
delay):
\- the flag indicating whether the deterministic path is generated with
scattering upon random small objects;
\- the normalized path delay and the first arrival absolute
delay$\text{min}\left( \tau_{n}' \right)$ (with to be the real absolute
propagation delay of the path);
\- angles of arrival and departure
[$\varphi_{l_{\text{RT}},\text{AOA}}^{\text{RT}}$,$\theta_{l_{\text{RT}},\text{ZOA}}^{\text{RT}}$,$\varphi_{l_{\text{RT}},\text{AOD}}^{\text{RT}}$,$\theta_{l_{\text{RT}},\text{ZOD}}^{\text{RT}}$];
\- the power $P_{l_{\text{RT}},k}^{\text{RT},\text{real}}$ for k-th frequency
bin, and the path power $P_{l_{\text{RT}}}^{\text{RT},\text{real}} =
\frac{1}{K_{B}}\sum_{k =
1}^{K_{B}}P_{l_{\text{RT}},k}^{\text{RT},\text{real}}$
\- the XPR of the path, where $\kappa_{l_{\text{RT}}}^{\text{RT}} =
\frac{1}{K_{B}}\sum_{k = 1}^{K_{B}}\kappa_{l_{\text{RT}},k}^{\text{RT}}$ with
$\kappa_{l_{\text{RT}},k}^{\text{RT}}$ being the XPR for k-th frequency bin.
\- to support for true motion, i.e. the case when a trajectory is specified
for UT, a path ID is associated for each deterministic path. The same ID is
associated for a path across a number of UT locations as far as 1) it has same
interaction types in the same order and 2) its interactions occur in same
walls or other surfaces.
The deterministic paths are sorted by normalized path delay
($\tau_{l_{\text{RT}}}^{\text{RT}}$) in ascending order. That is to say,
$\tau_{1}^{\text{RT}}$= 0.
If =0 for a pair of link ends, the channel gain for this pair of link ends is
assumed to be zero and the remaining steps are skipped with none of random
cluster.
[Step 4]{.underline}: Generate large scale parameters e.g. delay spread,
angular spreads and Ricean K factor for random clusters.
The generation of large scale parameters takes into account cross correlation
according to Table 7.5-6 and uses the procedure described in Subclause 3.3.1
of [14] with the square root matrix$\sqrt{C_{\text{MxM}}(0)}$being generated
using the Cholesky decomposition and the following order of the large scale
parameter vector: **s** _~M~_ = [_s~K,~ s~DS~, s~ASD~, s~ASA,~ s~ZSD,~
s~ZSA~_]_^T^_. Limit random RMS azimuth arrival and azimuth departure spread
values to 104 degrees, i.e., ASA= min(ASA ,104°), ASD = min(ASD ,104°). Limit
random RMS zenith arrival and zenith departure spread values to 52 degrees,
i.e., ZSA = min(ZSA,52°), ZSD = min(ZSD,52°). For the parameter selection from
Table 7.5-6, the LOS/NLOS condition determined in Step 3 is applied.
[Step 5]{.underline}: Generate delays (denoted as {}) for random clusters _._
Delays are drawn randomly according to the exponential delay distribution
$\tau_{n}^{'} = - \mu_{\tau}^{\text{RC}}\text{ln}\left( X_{n} \right)$ (8.4-1)
where $\mu_{\tau}^{\text{RC}} = \text{max}\left{
\mu_{\tau},\frac{1}{L_{\text{RT}}}\sum_{l_{\text{RT}} =
1}^{L_{\text{RT}}}\tau_{l_{\text{RT}}}^{\text{RT}} \right}$, _X~n~_ \~
uniform(0,1), and cluster index _n_ = 0,..., $L_{\text{RC}}^{'}$ with
$L_{\text{RC}}^{'}$ to be configurable. A recommended value for
$L_{\text{RC}}^{'}$ is the number of clusters given in Table 7.5-6.
$\mu_{\tau} = r_{\tau}\text{DS} + \frac{L_{\text{RT}}}{L_{\text{RC}}^{'} +
1}\left( r_{\tau}\text{DS} - \frac{1}{L_{\text{RT}}}\sum_{l_{\text{RT}} =
1}^{L_{\text{RT}}}\tau_{l_{\text{RT}}}^{\text{RT}} \right)$, where _r~τ~_ is
the delay distribution proportionality factor given in Table 7.5-6.
Normalise the delays by subtracting the minimum delay and sort the normalised
delays to ascending order:
$\tau_{n} = \text{sort}\left( \tau_{n}^{'} - \text{min}\left( \tau_{n}^{'}
\right) \right)/C_{\tau}$ (8.4-2)
where $C_{\tau}$ is the additional scaling of delays to compensate for the
effect of LOS peak addition to the delay spread, and is depending on the
heuristically determined Ricean K-factor [dB] as generated in Step 4:
$C_{\tau} = \left{ \begin{matrix} 0\text{.}\text{7705} - 0\text{.}\text{0433}K
+ 0\text{.}\text{0002}K^{2} + 0\text{.}\text{000017}K^{3} & \text{LOS\
condition} \ 1 & \text{NLOS\ condition} \ \end{matrix} \right.\ $ (8.4-3)
For the delay used in cluster power generation in Step 6, the scaling factor
$C_{\tau}$ is always 1.
The _n_ -th random cluster is removed if _n=0_ or $\left| \tau_{n} -
\tau_{l_{\text{RT}}}^{\text{RT}} \right|\tau_{\text{th}}$ for any of
_1≤l~RT~≤L~RT~_ , where _τ~th~_ is given by $\tau_{\text{th}} = \frac{1}{2
\cdot L_{\text{RC}}^{'}}\sqrt{\sum_{n = 1}^{L_{\text{RC}}^{'}}\left( \tau_{n}
- \tau_{n - 1} \right)^{2}}$, and is the configurable probability for cluster
inter-arrival interval to be less than _τ~th~_. For example, set =0.2 to
obtain _τ~th~_ =0.223.
Denote for _1≤n≤L~RC\ ~_ as the delays of the _L~RC\ ~_ random clusters that
remain after the cluster removal.
[Step 6]{.underline}: Generate powers (denoted as for _1≤i≤L~RC~_) for random
clusters.
Cluster powers for the random clusters are calculated assuming a single slope
exponential power delay profile. First, the virtual powers (denoted as
$P_{i}^{\text{RC},\text{virtual}}$ for _1≤i≤L~RC~_) of random clusters and
virtual powers (denoted as $P_{j}^{\text{RT},\text{virtual}}$ for _1≤j≤L~RT~_)
of deterministic clusters are calculated as following.
Denote:
$V_{i}^{\text{RC}} = \text{exp}\left( - \tau_{i}^{\text{RC}}\frac{r_{\tau} -
1}{r_{\tau}\text{DS}} \right) \cdot \text{10}^{\frac{-
Ζ_{i,\text{RC}}}{\text{10}}}$ (8.4-4)
$V_{j}^{\text{RT}} = \text{exp}\left( - \tau_{j}^{\text{RT}}\frac{r_{\tau} -
1}{r_{\tau}\text{DS}} \right) \cdot \text{10}^{\frac{-
Ζ_{j,\text{RT}}}{\text{10}}}$ (8.4-5)
where _Ζ~i,RC~_ and _Ζ~j,RT~_ are the per cluster shadowing terms in [dB] and
meet distribution of _N(0, ζ^2^ )_. Then,
(8.4-6)
$P_{j}^{\text{RT},\text{virtual}} = \frac{1}{A + 1} \cdot
\frac{V_{j}^{\text{RT}}}{\sum_{i = 1}^{L_{\text{RC}}}V_{i}^{\text{RC}} +
\sum_{j = 1}^{L_{\text{RT}}}V_{j}^{\text{RT}}} + \frac{A}{A + 1} \cdot
\delta\left( j - 1 \right)$ (8.4-7)
_In the case of LOS condition_ , _A=K~R~_ with _K~R~_ being the Ricean _K_
-factor obtained in Step 4 and converted to linear scale; otherwise, _A=0_.
The real power (including effects of pathloss) per random cluster in _k_ -th
frequency bin is given by
$P_{i,k}^{\text{RC},\text{real}} = \frac{\sum_{j =
1}^{L_{\text{RT}}}P_{j,k}^{\text{RT},\text{real}}}{\sum_{j =
1}^{L_{\text{RT}}}P_{j}^{\text{RT},\text{virtual}}}P_{i}^{\text{RC},\text{virtual}}$
(8.4-8)
for _1≤i≤L~RC\ ~_ and $1 \leq k \leq K_{B}$. Similar to path power of
deterministic cluster, the path power of _i_ -th random cluster is calculated
as
$P_{i}^{\text{RC},\text{real}} = \frac{1}{K_{B}}\sum_{k =
1}^{K_{B}}P_{i,k}^{\text{RC},\text{real}}$. (8.4-9)
[Step 7]{.underline}: Generate arrival angles and departure angles for both
azimuth and elevation, for each random cluster.
> _[For azimuth angles of the n-th random cluster:]{.underline}_
>
> The composite PAS in azimuth of all random clusters is modelled as wrapped
> Gaussian (see Table 7.5-6). The AOAs are determined by applying the inverse
> Gaussian function with input parameters $P_{n}^{\text{RC},\text{real}}$and
> RMS angle spread ASA
$\varphi_{n,\text{AOA}}^{'} = \frac{2(\frac{\text{ASA}}{1}\text{.}4)\sqrt{-
\text{ln}\left( P_{n}^{\text{RC},\text{real}}/\underset{i,j}{\text{max}}\left(
P_{i}^{\text{RC},\text{real}},P_{j}^{\text{RT},\text{real}} \right)
\right)}}{C_{\varphi}}$ (8.4-10)
> with constant $C_{\varphi}$ defined as
$C_{\varphi} = \left{ \begin{matrix} C_{\varphi}^{\text{NLOS}} \cdot \left(
1\text{.}\text{1035} - 0\text{.}\text{028}K - 0\text{.}\text{002}K^{2} +
0\text{.}\text{0001}K^{3} \right) & \text{,for\ LOS} \
C_{\varphi}^{\text{NLOS}} & \text{,for\ NLOS} \ \end{matrix} \right.\ $
(8.4-11)
> where $C_{\varphi}^{\text{NLOS}}$ is defined as a scaling factor related to
> the total number of clusters and is given in Table 7.5-2.
>
> In the LOS case, constant $C_{\varphi}$ also depends on the Ricean K-factor
> _K_ in [dB], as generated in Step 4. Additional scaling of the angles is
> required to compensate for the effect of LOS peak addition to the angle
> spread.
>
> Assign positive or negative sign to the angles by multiplying with a random
> variable _X~n~_ with uniform distribution to the discrete set of {1,--1},
> and add component $Y_{n}\text{\textasciitilde}N\left( 0,\left( \text{ASA}/7
> \right)^{2} \right)$ to introduce random variation
$\varphi_{n,\text{AOA}} = X_{n}\varphi_{n,\text{AOA}}^{'} + Y_{n} +
\varphi_{\text{center},\text{AOA}}$ (8.4-12)
> where $\varphi_{\text{center},\text{AOA}}$is calculated as
$\varphi_{\text{center},\text{AOA}} = \text{arg}\left( \sum_{l =
1}^{L_{\text{RT}}}{P_{l}^{\text{RT},\text{real}} \cdot \text{exp}\left(
\text{jφ}_{l,\text{AOA}}^{\text{RT}} \right)} \right)$ (8.4-13)
> Note that $\varphi_{l,\text{AOA}}^{\text{RT}}$ shall be given in radians
> here.
>
> The generation of AOD _(φ~n,AOD~_) follows a procedure similar to AOA as
> described above.
>
> _[For zenith angles of the n-th random cluster:]{.underline}_
>
> The generation of ZOA assumes that the composite PAS in the zenith dimension
> of all random clusters is Laplacian (see Table 7.5-6). The ZOAs are
> determined by applying the inverse Laplacian function with input parameters
> $P_{n}^{\text{RC},\text{real}}$ and RMS angle spread ZSA
$\theta_{n,\text{ZOA}}^{'} = - \frac{\text{ZSA}\text{ln}\left(
P_{n}^{\text{RC},\text{real}}/\underset{i,j}{\text{max}}\left(
P_{i}^{\text{RC},\text{real}},P_{j}^{\text{RT},\text{real}} \right)
\right)}{C_{\theta}}$ (8.4-14)
> with $C_{\theta}$ defined as
$C_{\theta} = \left{ \begin{matrix} C_{\theta}^{\text{NLOS}} \cdot \left(
1\text{.}\text{3086} + 0\text{.}\text{0339}K - 0\text{.}\text{0077}K^{2} +
0\text{.}\text{0002}K^{3} \right) & \text{,\ for\ LOS} \
C_{\theta}^{\text{NLOS}} & \text{,\ for\ NLOS} \ \end{matrix} \right.\ $,
(8.4-15)
> where $C_{\theta}^{\text{NLOS}}$ is a scaling factor related to the total
> number of clusters and is given in Table 7.5-4.
>
> _In the LOS case_ , constant $C_{\theta}$ also depends on the Ricean
> K-factor K in [dB], as generated in Step 4. Additional scaling of the angles
> is required to compensate for the effect of LOS peak addition to the angle
> spread.
>
> Assign positive or negative sign to the angles by multiplying with a random
> variable _X~n~_ with uniform distribution to the discrete set of {1,--1},
> and add component $Y_{n}\text{\textasciitilde}N\left( 0,\left( \text{ZSA}/7
> \right)^{2} \right)$ to introduce random variation
$\theta_{n,\text{ZOA}} = X_{n}\theta_{n,\text{ZOA}}^{'} + Y_{n} +
{\overline{\theta}}_{\text{ZOA}}$ (8.4-16)
> where ${\overline{\theta}}_{\text{ZOA}} = \text{90}^{0}$ if the UT is
> located indoors and ${\overline{\theta}}_{\text{ZOA}} =
> \theta_{\text{center},\text{ZOA}}$ if the UT is located outdoors, where
> $\theta_{\text{center},\text{ZOA}}$ is calculated as
$\theta_{\text{center},\text{ZOA}} = \text{arg}\left( \sum_{l =
1}^{L_{\text{RT}}}{P_{l}^{\text{RT},\text{real}} \cdot \text{exp}\left(
\text{jθ}_{l,\text{ZOA}}^{\text{RT}} \right)} \right)$ (8.4-17)
> Note that $\theta_{l,\text{ZOA}}^{\text{RT}}$ shall be given in radians
> here.
>
> The generation of ZOD follows the same procedure as ZOA described above
> except equation (8.4-16) is replaced by
$\theta_{n,\text{ZOD}} = X_{n}\theta_{n,\text{ZOD}}^{'} + Y_{n} +
\theta_{\text{center},\text{ZOD}} + \mu_{\text{offset},\text{ZOD}}$ (8.4-18)
where variable _X~n~_ is with uniform distribution to the discrete set of {1,
--1}, $Y_{n}\text{\textasciitilde}N\left( 0,\left( \text{ZSD}/7 \right)^{2}
\right)$, $\mu_{\text{offset},\text{ZOD}}$is given in Tables 7.5-7 to 7.5-10.
[Step 8]{.underline}: Merge deterministic clusters and random clusters.
First, remove any deterministic or random cluster with less than -25 dB power
compared to max{$P_{j}^{\text{RT},\text{real}}$,} for all _1≤j≤L~RT~_ and
_1≤i≤L~RC~_. Then, simply put the remaining deterministic clusters and random
clusters into single set of clusters, and meanwhile maintain an attribute for
each cluster to indicate whether the cluster is a deterministic cluster or a
random cluster.
[Step 9]{.underline}: Generate ray delays and ray angle offsets inside each
cluster, where the cluster can be either random or deterministic.
> Denote _M_ as the number of rays per cluster, where _M=1_ if the cluster
> corresponds to n=1 in the LOS case, otherwise the value of _M_ is given in
> Table 7.5-6.
>
> _When_ $K_{B} = 1$_:_
>
> The relative delay of _m_ -th ray within _n_ -th cluster is given by
> $\tau_{n,m}^{'} = 0$ for _m_ = 1,...,_M_.
>
> The azimuth angle of arrival (AOA) for the _m_ -th ray in _n_ -th cluster is
> given by
$\varphi_{n,m,\text{AOA}} = \varphi_{n,\text{AOA}} + c_{\text{ASA}}\alpha_{m}$
(8.4-19)
> where $c_{\text{ASA}}$ is the cluster-wise rms azimuth spread of arrival
> angles (cluster ASA) in Table 7.5-6, and offset angle _α~m~_ is given in
> Table 7.5-3. $\varphi_{n,\text{AOA}}$ equals to the AOA angle output from
> Step 3 if _n_ -th cluster is deterministic cluster, and equals to the AOA
> angle (8.4-12) in Step 7 if _n_ -th cluster is random cluster.
>
> The generation of AOD (_φ~n,m,AOD~_) follows a procedure similar to AOA as
> described above.
>
> The zenith angle of arrival (ZOA) for the _m_ -th ray in _n_ -th cluster is
> given by
$\theta_{n,m,\text{ZOA}} = \theta_{n,\text{ZOA}} + c_{\text{ZSA}}\alpha_{m}$
(8.4-20)
> where $c_{\text{ZSA}}$ is the cluster-wise rms spread of ZOA (cluster ZOA)
> in Table 7.5-6, and offset angle _α~m~_ is given in Table 7.5-3. Assuming
> that $\theta_{n,m,\text{ZOA}}$ is wrapped within [0, 360°], if
> $\theta_{n,m,\text{ZOA}} \in
> \lbrack\text{180}{^\circ},\text{360}{^\circ}\rbrack$,
> then$\theta_{n,m,\text{ZOA}}$is set to $(\text{360}{^\circ} -
> \theta_{n,m,\text{ZOA}})$. $\theta_{n,\text{ZOA}}$ equals to the ZOA angle
> output from Step 3 if _n_ -th cluster is deterministic cluster, and equals
> to the ZOA angle (8.4-16) in Step 7 if _n_ -th cluster is random cluster.
>
> The zenith angle of departure (ZOD) for the _m_ -th ray in _n_ -th cluster
> is given by
$\theta_{n,m,\text{ZOD}} = \theta_{n,\text{ZOD}} +
(\frac{3}{8})(\text{10}^{\mu_{\text{lgZSD}}})\alpha_{m}$ (8.4-21)
> where $\mu_{\text{lgZSD}}$ is the mean of the ZSD log-normal distribution.
> $\theta_{n,\text{ZOD}}$ equals to the ZOD angle output from Step 3 if _n_
> -th cluster is deterministic cluster, and equals to the ZOD angle (8.4-18)
> in Step 7 if _n_ -th cluster is random cluster.
>
> _When_ $K_{B} > 1$_:_
>
> The relative delay of _m_ -th ray within _n_ -th cluster is given by
> $\tau_{n,m}^{'} = \text{sort}\left( \tau_{n,m}^{''} - \underset{1 \leq m
> \leq M}{\text{min}}\left{ \tau_{n,m}^{''} \right} \right)$ that are sorted
> in ascending order, where
> $\tau_{n,m}^{''}\text{\textasciitilde}\text{unif}\left(
> \text{0,}2c_{\text{DS}} \right)$, with the cluster delay spread as given in
> Table 7.5-6. $\text{unif}\left( a,b \right)$ denotes the continuous uniform
> distribution on the interval $\left\lbrack a,b \right\rbrack$. Note that
> $\tau_{n,m}^{''}$ shall be the independently generated.
>
> The azimuth angles (AOA and AOD) and zenith angles (ZOA and ZOD) for the _m_
> -th ray in _n_ -th cluster in each frequency bin is given by
$\begin{matrix} \varphi_{n,m,\text{AOA}} = \varphi_{n,\text{AOA}} +
\varphi_{n,m,\text{AOA}}^{'} \ \varphi_{n,m,\text{AOD}} =
\varphi_{n,\text{AOD}} + \varphi_{n,m,\text{AOD}}^{'} \
\theta_{n,m,\text{ZOA}} = \theta_{n,\text{ZOA}} + \theta_{n,m,\text{ZOA}}^{'}
\ \theta_{n,m,\text{ZOD}} = \theta_{n,\text{ZOD}} +
\theta_{n,m,\text{ZOD}}^{'} \ \end{matrix}$ (8.4-22)
> for _m_ = 1,...,_M_ , where $\varphi_{n,\left{ \text{AOA}|\text{AOD}
> \right}}$and $\theta_{n,\left{ \text{ZOA}|\text{ZOD} \right}}$ equal to the
> {AOA,AOD} and {ZOA, ZOD} angle outputs from Step 3 if _n_ -th cluster is
> deterministic cluster, and equal to the {AOA,AOD} and {ZOA, ZOD} angle in
> Step 7 if _n_ -th cluster is random cluster; and
$\begin{matrix}
\varphi_{n,m,\text{AOA}}^{'}\text{\textasciitilde}2c_{\text{ASA}}\text{unif}\left(
- 1,\ 1 \right) \
\varphi_{n,m,\text{AOD}}^{'}\text{\textasciitilde}2c_{\text{ASD}}\text{unif}\left(
- 1,\ 1 \right) \
\theta_{n,m,\text{ZOA}}^{'}\text{\textasciitilde}2c_{\text{ZSA}}\text{unif}\left(
- 1,\ 1 \right) \
\theta_{n,m,\text{ZOD}}^{'}\text{\textasciitilde}2c_{\text{ZSD}}\text{unif}\left(
- 1,\ 1 \right) \ \end{matrix}$ (8.4-23)
> with the respective cluster angular spreads as given in Tables 7.5-6 to
> 7.5-10.
>
> Assuming that $\theta_{n,m,\text{ZOA}}$is wrapped within [0, 360°], if
> $\theta_{n,m,\text{ZOA}} \in
> \lbrack\text{180}{^\circ},\text{360}{^\circ}\rbrack$,
> then$\theta_{n,m,\text{ZOA}}$is set to $(\text{360}{^\circ} -
> \theta_{n,m,\text{ZOA}})$.
[Step 10]{.underline}: Generate power of rays in each cluster, where coupling
of rays within a cluster for both azimuth and elevation could be needed.
> Given $P_{n,k}$ as the real power in _k_ -th frequency bin for the _n_ -th
> cluster (either deterministic or random) obtained from Step 8,
>
> _When_ $K_{B} = 1$_:_
>
> Couple randomly AOD angles _φ~n,m,AOD~_ to AOA angles _φ~n,m,AOA~_ within a
> cluster _n_. Couple randomly ZOD angles $\theta_{n,m,\text{ZOD}}$ with ZOA
> angles $\theta_{n,m,\text{ZOA}}$using the same procedure. Couple randomly
> AOD angles _φ~n,m,AOD~_ with ZOD angles $\theta_{n,m,\text{ZOD}}$within a
> cluster _n_.
>
> The power of _m_ -th ray in _n_ -th cluster and in _k_ -th frequency bin is
> given by $P_{n,m,k} = P_{n,k}/M$ for _m_ = 1,...,_M_.
>
> _When_ $K_{B} > 1$_:_
>
> The power of _m_ -th ray in _n_ -th cluster and in _k_ -th frequency bin is
> given by $P_{n,m,k} = P_{n,k} \cdot \frac{P_{n,m}^{'}}{\sum_{m =
> 1}^{M}P_{n,m}^{'}}$ for _m_ = 1,...,_M_ , where
$\begin{matrix} P_{n,m}^{'} = \text{exp}\left( -
\frac{\tau_{n,m}^{'}}{c_{\text{DS}}} \right)\text{exp}\left( -
\frac{\sqrt{2}\left| \varphi_{n,m,\text{AOA}}^{'} \right|}{c_{\text{ASA}}}
\right)\text{exp}\left( - \frac{\sqrt{2}\left| \varphi_{n,m,\text{AOD}}^{'}
\right|}{c_{\text{ASD}}} \right) \ \text{exp}\left( - \frac{\sqrt{2}\left|
\theta_{n,m,\text{ZOA}}^{'} \right|}{c_{\text{ZSA}}} \right)\text{exp}\left( -
\frac{\sqrt{2}\left| \theta_{n,m,\text{ZOD}}^{'} \right|}{c_{\text{ZSD}}}
\right) \ \end{matrix}$ (8.4-24)
> and $c_{\text{DS}}$, $c_{\text{ASA}}$, $c_{\text{ASD}}$, and
> $c_{\text{ZSA}}$ are respectively the intra-cluster delay spread and the
> corresponding intra-cluster angular spreads that are given in Table 7.5-6.
> The cluster zenith spread of departure is given by
$c_{\text{ZSD}} = \frac{3}{8}\text{10}^{\mu_{\text{lgZSD}}}$, (8.4-25)
> with $\mu_{\text{lgZSD}}$ being defined in Tables 7.5-7, 7.5-8, 7.5-9, and
> 7.5-10.
[Step 11]{.underline}: Generate XPRs
> Generate the cross polarization power ratios (XPR) _κ_ for each ray _m_ of
> each cluster _n_. XPR is log-Normal distributed. Draw XPR values as
$\kappa_{n,m} = \text{10}^{\frac{X_{n,m}}{\text{10}}}$ (8.4-26)
> where
> $X_{n,m}\text{\textasciitilde}N(\mu_{\text{XPR}},\sigma_{\text{XPR}}^{2})$
> is Gaussian distributed with $\sigma_{\text{XPR}}$ given from Table 7.5-6.
> If _n_ -th cluster is a deterministic cluster, $\mu =
> \text{10}\text{log}_{\text{10}}\kappa_{l_{\text{RT}}}^{\text{RT}}$;
> otherwise, $\mu = \mu_{\text{XPR}}$ is given in Table 7.5-6.
>
> Note: $X_{n,m}$ is independently drawn for each ray and each cluster.
[Step 12]{.underline}: Draw initial random phases
> Draw random initial phase $\left{
> \Phi_{n,m}^{\text{θθ}},\Phi_{n,m}^{\text{θφ}},\Phi_{n,m}^{\text{φθ}},\Phi_{n,m}^{\text{φφ}}
> \right}$ for each ray _m_ of each cluster _n_ and for four different
> polarisation combinations (_θθ_ , _θϕ,_ _ϕθ,_ _ϕϕ_). The distribution for
> initial phases is uniform within (-_π,π_).
>
> _In the LOS case,_ calculate an initial phase for both _θθ_ and _ϕϕ_
> polarisations, where _d~3D~_ is the 3D distance between transmitter and
> receiver and _λ~0~=c/f~c~_ is the wavelength of the modelled propagation
> link.
[Step 13]{.underline}: Generate channel coefficients for each cluster _n_ and
each receiver and transmitter element pair _u, s_.
> _In case of NLOS,_ the channel coefficients of ray _m_ in cluster _n_ for a
> link between Rx antenna _u_ and Tx antenna _s_ at time _t_ in _k_ -th
> frequency bin can be calculated as
$\begin{matrix} H_{u,s,n,m,k}\left( t \right) = \begin{bmatrix}
F_{\text{rx},u,\theta}\left( \theta_{n,m,\text{ZOA}},\varphi_{n,m,\text{AOA}}
\right) \ F_{\text{rx},u,\varphi}\left(
\theta_{n,m,\text{ZOA}},\varphi_{n,m,\text{AOA}} \right) \
\end{bmatrix}^{T}\begin{bmatrix} \text{exp}\left( \text{jΦ}_{n,m}^{\text{θθ}}
\right) & \sqrt{\kappa_{n,m}^{- 1}}\text{exp}\left(
\text{jΦ}_{n,m}^{\text{θφ}} \right) \ \sqrt{\kappa_{n,m}^{-
1}}\text{exp}\left( \text{jΦ}_{n,m}^{\text{φθ}} \right) & \text{exp}\left(
\text{jΦ}_{n,m}^{\text{φφ}} \right) \ \end{bmatrix} \ \begin{bmatrix}
F_{\text{tx},s,\theta}\left( \theta_{n,m,\text{ZOD}},\varphi_{n,m,\text{AOD}}
\right) \ F_{\text{tx},s,\varphi}\left(
\theta_{n,m,\text{ZOD}},\varphi_{n,m,\text{AOD}} \right) \ \end{bmatrix} \cdot
\text{exp}\left( j2\pi\frac{f_{k}}{c}\left(
{\hat{r}}_{\text{rx},n,m}^{T}\text{.}{\overline{d}}_{\text{rx},u} +
{\hat{r}}_{\text{tx},n,m}^{T}\text{.}{\overline{d}}_{\text{tx},s} \right)
\right) \ \left( \sqrt{P_{n,m,k}} \cdot \text{10}^{\frac{- \left(
\text{OL}_{n,m}\left( f_{k} \right) + \text{BL}_{n,m}\left( f_{k},t \right)
\right)}{\text{20}}} \right)\text{exp}\left(
j2\pi\frac{f_{k}}{c}\hat{r_{\text{rx},n,m}^{T}}\text{.}\overline{v}t \right) \
\end{matrix}$ (8.4-27)
> where _F~rx,u,θ~_ and _F~rx,u,ϕ~_ are the receive antenna element _u_ field
> patterns in the direction of the spherical basis vectors, $\hat{\theta}$ and
> $\hat{\varphi}$ respectively, _F~tx,s,θ~_ and _F~tx,s,ϕ~_ are the transmit
> antenna element _s_ field patterns in the direction of the spherical basis
> vectors, $\hat{\theta}$ and $\hat{\varphi}$ respectively. The delay (TOA)
> for ray _m_ in cluster _n_ for a link between Rx antenna _u_ and Tx antenna
> _s_ is given by:
$\tau_{u,s,n,m} = \tau_{n} + \tau_{n,m}^{'} -
\frac{1}{c}{\hat{r}}_{\text{rx},n,m}^{T}\text{.}{\overline{d}}_{\text{rx},u} -
\frac{1}{c}{\hat{r}}_{\text{tx},n,m}^{T}\text{.}{\overline{d}}_{\text{tx},s}$
(8.4-28)
> For the _m_ -th ray within _n_ -th cluster, ${\hat{r}}_{\text{rx},n,m}$ is
> the spherical unit vector with azimuth arrival angle
> $\varphi_{n,m,\text{AOA}}$ and elevation arrival angle
> $\theta_{n,m,\text{ZOA}}$, given by
${\hat{r}}_{\text{rx},n,m} = \begin{bmatrix}
\text{sin}\theta_{n,m,\text{ZOA}}\text{cos}\varphi_{n,m,\text{AOA}} \
\text{sin}\theta_{n,m,\text{ZOA}}\text{sin}\varphi_{n,m,\text{AOA}} \
\text{cos}\theta_{n,m,\text{ZOA}} \ \end{bmatrix}$ (8.4-29)
> ${\hat{r}}_{\text{tx},n,m}$ is the spherical unit vector with azimuth
> departure angle $\varphi_{n,m,\text{AOD}}$ and elevation departure angle
> $\theta_{n,m,\text{ZOD}}$, given by
${\hat{r}}_{\text{tx},n,m} = \begin{bmatrix}
\text{sin}\theta_{n,m,\text{ZOD}}\text{cos}\varphi_{n,m,\text{AOD}} \
\text{sin}\theta_{n,m,\text{ZOD}}\text{sin}\varphi_{n,m,\text{AOD}} \
\text{cos}\theta_{n,m,\text{ZOD}} \ \end{bmatrix}$ (8.4-30)
> Also, ${\overline{d}}_{\text{rx},u}$is the location vector of receive
> antenna element _u_ and ${\overline{d}}_{\text{tx},s}$is the location vector
> of transmit antenna element _s_ , _κ~n,m~_ is the cross polarisation power
> ratio in linear scale. If polarisation is not considered, the 2x2
> polarisation matrix can be replaced by the scalar $\text{exp}\left(
> \text{jΦ}_{n,m} \right)$ and only vertically polarised field patterns are
> applied.
>
> The Doppler frequency component is calculated from the arrival angles (AOA,
> ZOA), and the UT velocity vector $\overline{v}$ with speed _v_ , travel
> azimuth angle _ϕ~v~_ , elevation angle _θ~v~_ and is given by
$\overline{v} = v\text{.}\left\lbrack
\text{sin}\theta_{v}\text{cos}\varphi_{v}\
\text{sin}\theta_{v}\text{sin}\varphi_{v}\ \text{cos}\theta_{v}
\right\rbrack^{T}$, (8.4-31)
> _In case of LOS,_ the channel coefficient is calculated in the same way as
> in (8.4-27) except for n=1:
$\begin{matrix} H_{u,s,n = 1,k}\left( t \right) = \begin{bmatrix}
F_{\text{rx},u,\theta}\left(
\theta_{\text{LOS},\text{ZOA}},\varphi_{\text{LOS},\text{AOA}} \right) \
F_{\text{rx},u,\varphi}\left(
\theta_{\text{LOS},\text{ZOA}},\varphi_{\text{LOS},\text{AOA}} \right) \
\end{bmatrix}^{T}\begin{bmatrix} \text{exp}\left( \text{jΦ}_{\text{LOS}}
\right) & 0 \ 0 & \- \text{exp}\left( \text{jΦ}_{\text{LOS}} \right) \
\end{bmatrix}\begin{bmatrix} F_{\text{tx},s,\theta}\left(
\theta_{\text{LOS},\text{ZOD}},\varphi_{\text{LOS},\text{AOD}} \right) \
F_{\text{tx},s,\varphi}\left(
\theta_{\text{LOS},\text{ZOD}},\varphi_{\text{LOS},\text{AOD}} \right) \
\end{bmatrix} \ \text{exp}\left( j2\pi\frac{f_{k}}{c}\left(
{\hat{r}}_{\text{rx},\text{LOS}}^{T}\text{.}{\overline{d}}_{\text{rx},u} +
{\hat{r}}_{\text{tx},\text{LOS}}^{T}\text{.}{\overline{d}}_{\text{tx},s}
\right) \right)\text{.}\left( \sqrt{P_{1,k}} \cdot \text{10}^{\frac{- \left(
\text{OL}_{n,m = 1}\left( f_{k} \right) + \text{BL}_{n,m = 1}\left( f_{k},t
\right) \right)}{\text{20}}} \right)\text{exp}\left(
j2\pi\frac{f_{k}}{c}\hat{r_{\text{rx},\text{LOS}}^{T}}\text{.}\overline{v}t
\right) \ \end{matrix}$ (8.4-32)
> where the corresponding delay (TOA) for cluster _n=1_ for a link between Rx
> antenna _u_ and Tx antenna _s_ is given by $\tau_{u,s,n = 1} = \tau_{n} -
> \frac{1}{c}{\hat{r}}_{\text{rx},\text{LOS}}^{T}\text{.}{\overline{d}}_{\text{rx},u}
> -
> \frac{1}{c}{\hat{r}}_{\text{tx},\text{LOS}}^{T}\text{.}{\overline{d}}_{\text{tx},s}$.
>
> In (8.4-27) and (8.4-32), the oxygen absorption loss, OL _~n,m~_(_f_), for
> each ray _m_ in cluster _n_ at carrier frequency _f_ is modelled as
OL _~n,m~_(_f_) = _α_(_f_)/1000 · _c_ · $\left\lbrack \tau_{n} +
\tau_{n,m}^{'} + \underset{l_{\text{RT}}}{\text{min}}\left(
\tau_{l_{\text{RT}}}^{'} \right) \right\rbrack$ [dB] (8.4-33)
> where:
_\- α_(_f_) is the frequency dependent oxygen loss per distance (dB/km)
characterized in Subclause 7.6.1;
\- _c_ is speed of light (m/s); and
\- is the delay (s) obtained from Step 3 for deterministic clusters and from
Step 5 for random clusters. $\text{min}\left( \tau_{n}' \right)$ is from the
output of Step 3.
> In (8.4-27) and (8.4-32), blockage modelling is an add-on feature. If the
> blockage model is applied, the blockage loss, BL _~n,m~_(_f,t_) in unit of
> dB, for each ray _m_ in cluster _n_ at carrier frequency _f_ and time _t_ is
> modelled in the same way as given in Subclause 7.6.4; otherwise BL
> _~n,m~_(_f,t_)=0dB for all _f_ and _t_.
###### ### Annex A: Further parameter definitions
## A.1 Calculation of angular spread
Based on the circular standard deviation in directional statistics, the
following expression for the angular spread AS in radians is proposed
(A-1)
where {width="0.2916666666666667in" height="0.2604166666666667in"} is the
power for the _m_ th subpath of the _n_ th path and
{width="0.2916666666666667in" height="0.2604166666666667in"} is the subpaths
angle (either AOA, AOD, ZOA, ZOD) given in radians.
## A.2 Calculation of mean angle
The power weighted mean angle is given by
$\mu_{\varphi} = \text{arg}\left{ \sum_{n = 1}^{N}{\sum_{m =
1}^{M}{\text{exp}\left( \text{jφ}_{n,m} \right)P_{n,m}}} \right}$ (A-2)
where {width="0.2916666666666667in" height="0.2604166666666667in"} is the
power for the _m_ th subpath of the _n_ th path and
{width="0.2916666666666667in" height="0.2604166666666667in"} is the subpaths
angle (either AOA, AOD, ZOA, ZOD) given in radians.
#