# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
**Work has started in ITU and 3GPP to develop requirements and specifications
for new radio (NR) systems, as in the Recommendation ITU-R M.2083 "Framework
and overall objectives of the future development of IMT for 2020 and beyond",
as well as 3GPP** SA1 study item New Services and Markets Technology Enablers
(SMARTER) and SA2 study item Architecture for NR System**. 3GPP has to
identify and develop the technology components needed for successfully
standardizing the NR system timely satisfying both the urgent market needs,
and the more long-term requirements set forth by the ITU-R IMT-2020 process.
In order to achieve this, evolutions of the radio interface as well as radio
network architecture are considered in the study item "New Radio Access
Technology" [1].**
# 1 Scope
The present document covers the Radio Interface Protocol aspects of the study
item "New Radio Access Technology" [1]. This document is intended to gather
the agreements for which normative work will take place after completing this
study item. In limited cases, major options and reasons of decision are
described.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP RP-160671: \"New SID Proposal: Study on New Radio Access
Technology\".
[2] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[3] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[4] 3GPP TR 23.799: \"Study on Architecture for Next Generation System\".
[5] 3GPP TR 36.842: \"Study on Small Cell enhancements for E-UTRA and E-UTRAN;
Higher layer aspects\".
[6] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[7] 3GPP R2-166918: \"Evaluation of resource gain using on-demand SI delivery
in NR\", contribution to TSG-RAN WG2 meeting #95bis.
[8] 3GPP R2-167041: \"Performance Evaluation of System Information Delivery in
NR\", contribution to TSG-RAN WG2 meeting #95bis.
[9] 3GPP R2-165305: \"Preliminary evaluation of on-demand SI provisioning\",
contribution to TSG-RAN WG2 meeting #95.
[10] 3GPP R2-166068: \"On Demand SI -- UE Energy Consumption Analysis\",
contribution to TSG-RAN WG2 meeting #95bis.
[11] 3GPP R2-164948: \"On-demand System Information Acquisition\",
contribution to TSG-RAN WG2 meeting #95.
[12] 3GPP R2-165007: \"System information for standalone NR deployment\",
contribution to TSG-RAN WG2 meeting #95.
[13] 3GPP R2-165202: \"Quantitative Analysis of on-demand SI delivery\",
contribution to TSG-RAN WG2 meeting #95.
[14] 3GPP TR 38.802: \"Study on New Radio (NR) Access Technology Physical
Layer Aspects\".
[15] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) procedures in idle mode\".
[16] 3GPP TR 38.913: \"Study on Scenarios and Requirements for Next Generation
Access Technologies\".
[17] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[18] 3GPP R2-1700672: \"Report of 3GPP TSG RAN WG2 AdHoc on NR\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [2] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [2].
**gNB:** NR node
**K~eNB~:** eNB key
**NextGen Core:** Core Network for Next Generation System [4].
**NG:** The interface between a gNB and a NextGen Core.
**Multi-Connectivity:** Mode of operation whereby a multiple Rx/Tx UE in the
connected mode is configured to utilise radio resources amongst E-UTRA and/or
NR provided by multiple distinct schedulers connected via non-ideal backhaul
**S-K~eNB~:** SeNB key
**Transmission Reception Point:** Antenna array with one or more antenna
elements available to the network located at a specific geographical location
for a specific area.
**NR-PSS/SSS:** Primary and Secondary synchronisation signal for NR.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [2] and the following apply.\ An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [2].
CA Carrier Aggregation
CSI-RS Channel State Information Reference Signal
DC Dual Connectivity
MCG Master Cell Group
MN Master Node
NG-U NG for the user plane
NR New Radio
PSCell Primary SCell
SCG Secondary Cell Group
SeNB Secondary eNB
SN Secondary Node
TRxP Transmission Reception Point
URLLC Ultra-Reliable and Low Latency Communications
WT WLAN Termination
# 4 Deployment scenarios and guidelines
This section describes the deployment scenarios assumed for the New Radio
Access Technology and the guidelines for designing the radio interface
protocols for the New Radio Access Technology.
## 4.1 Deployment scenarios
The deployment scenarios concerning NR are described in this sub-clause. In
addition, the other scenarios under the scope of the NR study [1] such as
wireless relay and D2D are also taken into account although not explicitly
described in this technical report.
### 4.1.1 Cell layout
In terms of cell layout served by NR, the following scenarios are assumed:
\- Homogeneous deployment where all of cells provide the similar coverage,
e.g. macro or small cell only;
\- Heterogeneous deployment where cells of different size are overlapped, e.g.
macro and small cells.
Figure 4.1.1-1 shows deployment scenarios in terms of cell layout and Node B
location where both NR and LTE coverage exists in the geographical area. The
left side of Figure 4.1.1-1 shows a scenario where both LTE and NR cells are
overlaid and co-located providing the similar coverage. Both LTE and NR cells
are macro or small cells. The right side of Figure 4.1.1-1 shows another
scenario where LTE and NR cells are overlaid, and co-located or not co-
located, providing different coverage. In this figure, LTE serves macro cells
and NR serves small cells. The opposite scenario is also considered. A co-
located cell refers to a small cell together with a macro cell for which their
eNB is installed at the same location. A non-co-located cell refers to a small
cell together with a macro cell for which their eNB is installed at the
different location.
Figure 4.1.1-1: Cell layout where NR and LTE coverage coexists
### 4.1.2 CN-RAN connection
The deployment scenarios in terms of CN-RAN connection are classified into the
following cases:
\- NR gNB is a master node.
\- LTE eNB is a master node.
\- eNB connected to NextGen Core is a master node.
\- Inter-RAT handover between NR gNB and (e)LTE eNB.
#### 4.1.2.1 NR gNB as a master node
Figure 4.1.2.1-1 illustrates the following scenarios where NR gNB acts as a
master node:
1) NR gNB connected to NextGen Core;
2) Data transport through NR gNB and/or eNB connected to NextGen Core via
NextGen Core;
3) Data transport through NR gNB(s) via NextGen Core.
For scenario 2) and 3), there exists one C-plane connection between CN and
RAN. U-plane data is routed to RAN directly through CN (green line in Figure
4.1.2.1-1). Alternatively, U-plane data flow in the same bearer is split at
RAN (red line in Figure 4.1.2.1-1).
Figure 4.1.2.1-1: CN-RAN deployment scenarios where NR gNB is a master node
#### 4.1.2.2 LTE eNB as a master node
Figure 4.1.2.2-1 illustrates the following scenarios where LTE eNB acts as a
master node:
1) Data transport through LTE eNB and/or NR gNB via EPC.
For this scenario, there exists one C-plane connection between CN and RAN.
U-plane data is routed to RAN directly through CN on a bearer basis (green
line in Figure 4.1.2.2-1). Alternatively, U-plane data flow in the same bearer
is split at RAN (red line in Figure 4.1.2.2-1).
Figure 4.1.2.2-1: CN-RAN deployment scenarios where LTE eNB is a master node
#### 4.1.2.3 eNB connected to NextGen Core as a master node
Figure 4.1.2.3-1 illustrates the following scenarios where eNB connected to
NextGen Core acts as a master node:
1) eNB connected to NextGen Core;
2) Data transport through eNB connected to NextGen Core and/or NR gNB via
NextGen Core.
For scenario 2), there exists one C-plane connection between CN and RAN.
U-plane data is routed to RAN directly through CN (green line in Figure
4.1.2.3-1). Alternatively, U-plane data flow in the same bearer is split at
RAN (red line in Figure 4.1.2.3-1).
Figure 4.1.2.3-1: CN-RAN deployment scenarios where eNB connected to NextGen
Core is a master node
#### 4.1.2.4 Inter-RAT mobility
Figure 4.1.2.4-1 illustrates the following scenarios assumed for the study of
inter-RAT mobility:
1) LTE eNB is connected to EPC and NR gNB is connected to NextGen Core.
2) eNB and NR gNB are connected to NextGen Core.
Figure 4.1.2.4-1: CN-RAN connection for inter-RAT mobility between NR gNB and
(e)LTE eNB
### 4.1.3 WLAN integration
Figure 4.1.3-1 illustrates the following deployment scenarios in terms of CN-
RAN connection assumed for WLAN integration with NR:
1) WLAN interworking with NR via NextGen Core;
2) WLAN aggregation with NR via NextGen Core.
Figure 4.1.3-1: CN-RAN connection for WLAN integration with NR
## 4.2 Guidelines
For both control plane and user plane protocols:
\- NR Radio protocols and procedures should be designed to have as much
commonality as possible between tight interworking with LTE and standalone
operations.
\- Most essential functions (e.g., initial system access) should be future
proof and designed to be common to various different use cases and services.
\- LTE layer 2 and RRC functions are taken as a baseline for NR.
In terms of intra-NR mobility:
\- Two types of UE states are taken as a baseline; one is network controlled
mobility and the other is UE based mobility.
\- For typical inter-gNB network controlled mobility, the information provided
in measurement configuration required for the UE to perform measurements
should be minimised (e.g., avoid the need to provide detailed cell/beam level
information). More detailed information may be provided to address some cases.
\- UE context transfer should be minimised as a consequence of UE based
mobility.
\- NR mobility scheme aims to define handover with an interruption time as
close to zero as possible while only having single Tx/Rx in the UE, and 0 ms
interruption at least for the case that the UE supports simultaneous Tx/Rx
with the source cell and the target cell.
\- A UE in RRC_INACTIVE should incur minimum signalling to fulfil the control
latency requirement [16] and minimise power consumption comparable to LTE
RRC_IDLE and resource costs in the RAN/CN making it possible to maximise the
number of UEs utilising and benefiting from this state. On the other hand, RRC
states with significantly overlapping characteristics should be avoided and
the number of network identifiers should be minimised.
In terms of URLLC:
\- Study will not focus on high availability as in node, hardware/software,
transport link availability, and instead the focus should be on coverage,
mobility, radio link features etc. related to providing low latency and/or
high reliability.
\- NR design will aim to meet the URLLC QoS requirements only after the
control plane signalling for session setup has completed (to eliminate the
case that the UE is initially in idle).
\- RLC retransmission (ARQ) is not assumed to be used for meeting the strict
user plane latency requirements of URLLC as specified in TR 38.913 [16].
\- Study will distinguish URLLC services with cell changes from URLLC services
without cell changes. For URLLC services where the deployment/operation
scenario does not involve cell changes, focus on enhancements to meet both the
latency and reliability requirement set for URLLC services in TR 38.913 [16].
For URLLC services where the deployment/operation scenario involve cell
changes, enhancements should strive to meet the latency and reliability
requirement set for URLLC services in TR 38.913 [16] as best as possible.
In terms of system information delivery:
\- System information distribution should target a single technical framework,
ensuring future proofness and smooth introduction of new services and
features.
\- System information distribution should consider performance aspects like
accessibility and state transition latency.
\- System information distribution should enable a high level of
configurability enabling optimization of KPIs such as energy savings and
accessibility.
\- System information distribution should include fast and efficient
mechanisms for handling of system information change.
\- System information distribution should explore and leverage the fact that
parts of the system information may be the same across a large area, such as
the parts associated to system access (e.g. RACH configuration during state
transitions).
\- System information distribution in NR should be designed such that UEs
supporting less than the carrier bandwidth can determine at least the minimum
system information.
\- System information broadcast should allow configurations that enable
network energy efficiency (e.g. by long DTX duration).
In terms of UE radio access capabilities, the following issues should be
considered in NR design:
a) Hardware sharing between NR and other radio transceivers, e.g. WLAN, BT,
GPS, etc.
b) Interference between NR and other radio transceivers, e.g. WLAN, BT, GPS,
etc.
c) Exceptional UE issues, e.g. overheating problems.
# 5 Overall system architecture
The NG-RAN consists of gNBs, providing the NG-RA user plane (new AS
sublayer/PDCP/RLC/MAC/PHY) and control plane (RRC) protocol terminations
towards the UE. The gNBs are interconnected with each other by means of the Xn
interface. The gNBs are also connected by means of the NG interface to the
NGC, more specifically to the AMF (Access and Mobility Management Function) by
means of the N2 interface and to the UPF (User Plane Function) by means of the
N3 interface (see 3GPP TS 23.501 [17]).
The NG-RAN architecture is illustrated in Figure 5-1 below.
Figure 5-1: Overall architecture
## 5.1 Functional split
The **gNB** hosts the following functions:
\- Functions for Radio Resource Management: Radio Bearer Control, Radio
Admission Control, Connection Mobility Control, Dynamic allocation of
resources to UEs in both uplink and downlink (scheduling);
\- IP header compression and encryption of user data stream;
\- Selection of an AMF at UE attachment when no routing to an AMF can be
determined from the information provided by the UE;
\- Routing of User Plane data towards UPF(s);
\- Scheduling and transmission of paging messages (originated from the AMF);
\- Scheduling and transmission of system broadcast information (originated
from the AMF or O&M);
\- Measurement and measurement reporting configuration for mobility and
scheduling.
The **AMF** hosts the following main functions (see 3GPP TS 23.501 [17]):
\- NAS signalling termination;
\- NAS signalling security;
\- AS Security control;
\- Inter CN node signalling for mobility between 3GPP access networks;
\- Idle mode UE Reachability (including control and execution of paging
retransmission);
\- Tracking Area list management (for UE in idle and active mode);
\- AMF selection for handovers with AMF change;
\- Access Authentication;
\- Access Authorization including check of roaming rights.
The **UPF** hosts the following main functions (see 3GPP TS 23.501 [17]):
\- Anchor point for Intra-/Inter-RAT mobility (when applicable);
\- External PDU session point of interconnect to Data Network;
\- Packet routing & forwarding;
\- Packet inspection and User plane part of Policy rule enforcement;
\- Traffic usage reporting;
\- Uplink classifier to support routing traffic flows to a data network;
\- Branching point to support multi-homed PDU session;
\- QoS handling for user plane, e.g. packet filtering, gating, UL/DL rate
enforcement;
\- Uplink Traffic verification (SDF to QoS flow mapping);
\- Transport level packet marking in the uplink and downlink;
\- Downlink packet buffering and downlink data notification triggering.
The Session Management function (**SMF**) hosts the following main functions
(see 3GPP TS 23.501 [17]):
\- Session Management;
\- UE IP address allocation and management;
\- Selection and control of UP function;
\- Configures traffic steering at UPF to route traffic to proper destination;
\- Control part of policy enforcement and QoS;
\- Downlink Data Notification.
This is summarized on the figure below where yellow boxes depict the logical
nodes and white boxes depict the main functions.
Figure 5.1-1: Functional split between NG-RAN and NGC
## 5.2 Radio interface protocol architecture
To support tight interworking between LTE and NR, a technology of aggregating
data flows between the two RATs is studied based on Dual Connectivity (DC) for
LTE [3]. In DC between LTE and NR, both (e)LTE eNB and NR gNB can act as a
master node as described in sub-clause 4.1.2.1, 4.1.2.2 and 4.1.2.3. It is
assumed that DC between LTE and NR supports the deployment scenario where LTE
eNB is not synchronised with NR gNB.
For NR, a technology of aggregating NR carriers is studied. Both lower layer
aggregation like Carrier Aggregation (CA) for LTE (see [3]) and upper layer
aggregation like DC are investigated. From layer 2/3 point of view,
aggregation of carriers with different numerologies is supported in NR. Radio
interface protocols for NR are designed flexibly to allow the possibility of
intra-frequency DC and Multi-Connectivity.
In this sub-clause, the radio interface protocol architecture of NR is
described for the user plane and the control plane encompassing DC between LTE
and NR, and lower/higher layer aggregation of NR carriers.
### 5.2.1 User plane
#### 5.2.1.1 User plane protocol stack for NR
The figure below shows the protocol stack for the user plane, where PDCP, RLC
and MAC sublayers (terminated in gNB on the network side) perform the
functions listed for the user plane in sub-clause 5.4.2, 5.4.3 and 5.4.4,
respectively. In addition, a new AS sublayer is introduced above PDCP as
described in sub-clause 5.4.5.
Figure 5.2.1.1-1: User plane protocol stack
NOTE: Terminology of each layer 2 sublayer could be changed in the normative
phase.
#### 5.2.1.2 Bearer types for Dual Connectivity between LTE and NR
The following three types of bearer are studied for Dual Connectivity between
LTE and NR:
\- Split bearer via MCG as illustrated in Figure 5.2.1.2-1 (similar to option
3C captured in TR 36.842 [5]);
\- SCG bearer as illustrated in Figure 5.2.1.2-2 (similar to option 1A
captured in TR 36.842 [5]);
\- Split bearer via SCG as illustrated in Figure 5.2.1.2-3, where the split
occurs in the secondary node.
Figure 5.2.1.2-1: Split bearer via MCG
Figure 5.2.1.2-2: SCG bearer
Figure 5.2.1.2-3: Split bearer via SCG
Comparison results of the above bearer types are shown in Annex D. Based on
the comparison results, the study concludes that all of the three bearer types
are supported regardless of the connected CN, except for the split bearer via
SCG where the master node is gNB (i.e. NR).
With regards to the reconfiguration of bearer types, the following cases are
supported:
\- reconfiguration between an SCG bearer and an MCG bearer;
\- reconfiguration of an SCG bearer between two secondary nodes;
\- reconfiguration between an MCG bearer and an MCG split bearer.
### 5.2.2 Control plane
#### 5.2.2.1 Control plane protocol stack for NR
The figure below shows the protocol stack for the control plane, where:
\- PDCP, RLC and MAC sublayers (terminated in gNB on the network side) perform
the functions listed in sub-clause 5.4.2, 5.4.3 and 5.4.4, respectively;
\- RRC (terminated in gNB on the network side) performs the functions listed
in sub-clause 5.5.1;
\- NAS control protocol (terminated in NG-CP on the network side) performs the
functions.
Figure 5.2.2.1-1: Control plane protocol stack
#### 5.2.2.2 Control plane architecture for Dual Connectivity between LTE and
NR
In DC between LTE and NR, the secondary node owns its radio resources and is
primary responsible for allocating radio resources of it cells. To enable
this, some coordination is required between the master node and the secondary
node no matter whether the master RAT is LTE and the secondary RAT is NR, or
vice versa.
The following RRC functions are at least relevant when (re)configuring
secondary node cells to the UE in coordination with the master node:
\- Common radio resource configurations on secondary node cells;
\- Dedicated radio resource configurations on secondary node cells;
\- Measurement and mobility control for secondary node cells.
When DC between LTE and NR is configured for a UE, the UE has a single RRC
state machine based on the master node RAT. In this operation, single C-plane
connection is established towards CN. With these principles, Figure 5.2.2.2-1
illustrates the C-plane architectures for DC between LTE and NR. Each node has
its own RRC entity which can generate RRC PDUs and inter-node PDUs using
ASN.1. RRC PDUs and inter-node PDUs generated by the secondary node are
embedded with RRC PDUs generated by the master node which are transported via
the master node to the UE for the first configuration, and for the secondary
node RRC reconfiguration requiring the master node RRC reconfiguration and
vice versa. The master node needs not to modify or add the UE configurations
for the secondary node.
The UE can be configured to establish an SRB in SCG to enable RRC PDUs for the
secondary node to be sent directly between the UE and the secondary node. RRC
PDUs for the secondary node can be transported directly to the UE for the
secondary node RRC reconfiguration not requiring any coordination with the
master node. Alternatively, it can be delivered embedded within RRC PDUs
generated by the master node, which is up to the network implementation.
Measurement reporting for mobility within the secondary node can be done
directly from the UE to the secondary node if an SCG SRB is configured. Detail
rules for the UE to select the transmission path for a UL RRC message are to
be defined in the normative work. Support of the direct RRC PDU transmission
between the UE and the secondary node does not imply that the UE has to do any
reordering of RRC messages.
Split SRB is supported for DC between LTE and NR no matter which RAT is the
master. In other words, C-plane packet duplication is supported in LTE/NR
PDCP.
NOTE: It is FFS whether the master node is required to comprehend the UE
configurations for the secondary node.
Figure 5.2.2.2-1: C-plane architecture for Dual Connectivity between LTE and
NR
##### 5.2.2.2.1 UE capability coordination between LTE and NR
For a UE supporting both LTE and NR, the UE reports its capability information
for both LTE and NR respectively, which are independent with each other. In
other words, a node of one RAT needs not to look at and not to use the
capabilities of the other RAT. In case where the secondary node is NR, gNB can
format NR RRC PDUs for the UE configuration. Nonetheless, this principle does
not preclude that the capabilities of one RAT might contain some information
related to the other RAT, e.g. at least inter-RAT measurement capabilities.
In addition, if the UE supports DC between LTE and NR, the following
principles are additionally taken into account:
1\. LTE capability changes;
\- include information related to inter-RAT measurements for NR.
\- include support of DC between LTE and NR.
2\. NR capability reporting supports independent capability reporting in
accordance with the principle described in this sub-clause.
3\. Capability dependency between LTE and NR.
\- Type I capabilities: The use of the capability is isolated to the RAT.
\- Type II capabilities: The use of the capability in one RAT has impacts to
the other RAT but is not understood by the NW side of the other RAT.
\- Type III capabilities: The use of the capability in one RAT has impacts to
the other RAT and is understood by the NW side of the other RAT.
For Type I capabilities, no coordination between LTE and NR is required. The
secondary RAT specific capabilities are merely forwarded by the master node to
the secondary node, following the baseline DC within LTE. Some capabilities
(e.g. RF capability) are coordinated using Xx/Xn and involve a reconfiguration
of the UE. The configuration of the UE does not exceed its capabilities. Some
capabilities (e.g. buffer size) are coordinated using Xx/Xn and will not
involve a reconfiguration of the UE. In this case, the ongoing operation of
the network does not exceed the UE capabilities.
NOTE 1: The above type definitions are guidance for the purpose of discussion
in the SI and early part of the WI phase. They will not limit further
discussion and will not be captured in the specifications.
The UE capability coordination between LTE and NR is applied for all the
deployment scenarios described in sub-clause 4.1.2.1, 4.1.2.2 and 4.1.2.3
except for the scenarios of single connectivity. At least, the following UE
capabilities need to be coordinated across the master node and the secondary
node:
\- Band combinations across RATs;
\- Layer-2 buffer.
For the UE capabilities requiring coordination between LTE and NR, only two
nodes (i.e. one eNB and one gNB) need to be involved. Nevertheless, the
forward compatibility towards multiple node connectivity can be considered as
well. It is up to the master node to decide on how to resolve the dependency
between LTE and NR. The secondary node can initiate the re-negotiation of the
UE capability. Upon receiving the re-negotiation request from the secondary
node, it is up to the master node to make the final decision.
NOTE 2: The differences between NR capability reporting for the LTE-NR DC (NR
is the master) and the single NR connectivity should be minimised when it is
designed in the normative phase.
NOTE 3: A solution should be investigated where the master node and the
secondary node are not required to comprehend the UE configuration for each
other.
## 5.3 Physical Layer
### 5.3.1 General description
NR supports paired and unpaired spectrum and strives to maximize commonality
between the technical solutions, allowing FDD operation on a paired spectrum,
different transmission directions in either part of a paired spectrum, TDD
operation on an unpaired spectrum where the transmission direction of time
resources is not dynamically changed, and TDD operation on an unpaired
spectrum where the transmission direction of most time resources can be
dynamically changing.
Multiple numerologies are supported, derived by scaling a basic subcarrier
spacing. The numerology used can be selected independently of the frequency
band although it is assumed not to use a very low subcarrier spacing at very
high carrier frequencies. Flexible network and UE channel bandwidth is
supported.
At least for single carrier operation, NR should allow a UE to operate in a
way where it receives at least downlink control information in a first RF
bandwidth and where the UE is not expected to receive in a second RF bandwidth
that is larger than the first RF bandwidth.
### 5.3.2 Key DL concepts
The downlink transmission scheme is based on OFDM. QPSK, 16QAM, 64QAM and
256QAM (with the same constellation mapping as in LTE) are supported. NR
defines physical resource block (PRB) where the number of subcarriers per PRB
is the same for all numerologies. Multiplexing different numerologies within a
same NR carrier bandwidth (from the network perspective) is supported in TDM
and/or FDM manner for both downlink and uplink. OFDM-based waveform is
supported. Synchronous/scheduling-based orthogonal multiple access is at least
supported for DL transmissions, at least targeting for eMBB.
### 5.3.3 Key UL concepts
QPSK, 16QAM, 64QAM and 256QAM (with the same constellation mapping as in LTE)
are supported. OFDM-based waveform is supported. DFT-S-OFDM based waveform is
also supported, complementary to CP-OFDM waveform at least for eMBB uplink for
up to 40GHz. CP-OFDM waveform can be used for a single-stream and multi-stream
(i.e. MIMO) transmissions, while DFT-S-OFDM based waveform is limited to a
single stream transmissions (targeting for link budget limited cases).
Synchronous/scheduling-based orthogonal multiple access is at least supported
for UL transmissions, at least targeting for eMBB. Note that synchronous means
that timing offset between UEs is within cyclic prefix by e.g. timing
alignment.
### 5.3.4 Beam management
In NR, beam management is defined as follows:
\- Beam management: a set of L1/L2 procedures to acquire and maintain a set of
TRP(s) and/or UE beams that can be used for DL and UL transmission/reception,
which include at least following aspects:
\- Beam determination: for TRP(s) or UE to select of its own Tx/Rx beam(s).
\- Beam measurement: for TRP(s) or UE to measure characteristics of received
beamformed signals.
\- Beam reporting: for UE to report information a property/quality of of
beamformed signal(s) based on beam measurement.
\- Beam sweeping: operation of covering a spatial area, with beams transmitted
and/or received during a time interval in a predetermined way.
The following DL L1/L2 beam management procedures are supported within one or
multiple TRPs:
\- P-1: is used to enable UE measurement on different TRP Tx beams to support
selection of TRP Tx beams/UE Rx beam(s). For beamforming at TRP, it typically
includes a intra/inter-TRP Tx beam sweep from a set of different beams. For
beamforming at UE, it typically includes a UE Rx beam sweep from a set of
different beams.
\- P-2: is used to enable UE measurement on different TRP Tx beams to possibly
change inter/intra-TRP Tx beam(s); From a possibly smaller set of beams for
beam refinement than in P-1. Note that P-2 can be a special case of P-1.
\- P-3: is used to enable UE measurement on the same TRP Tx beam to change UE
Rx beam in the case UE uses beamforming.
At least network triggered aperiodic beam reporting is supported under P-1,
P-2, and P-3 related operations.
For downlink, NR supports beam management with and without beam-related
indication. When beam-related indication is provided, information pertaining
to UE-side beamforming/receiving procedure used for data reception can be
indicated through QCL to UE.
Based on RS (used for beam management) transmitted by TRP, UE reports
information associated with N selected Tx beams.
NR supports mechanism(s) in the case of link failure and/or blockage for NR.
NR supports using same or different beams on control channel and the
corresponding data channel transmissions.
### 5.3.5 Channel structure
#### 5.3.5.1 Physical channels
The physical channels of NR are:
\- Physical broadcast channel (PBCH);
\- Physical donwnlink control channel (PDCCH);
\- Physical downlink shared channel (PDSCH);
\- Physical uplink control channel (PUCCH);
\- Physical uplink shared channel (PUSCH);
\- Physical random access channel (PRACH).
NOTE 1: PHICH is not captured considering Asynchronous HARQ is considered for
UL HARQ operation.
NOTE 2: The names of physical channels might be updated based on RAN1
progress.
NOTE 3: Additional physical channel(s) might be defined based on RAN1
progress.
#### 5.3.5.2 Transport channels
The physical layer offers information transfer services to MAC and higher
layers. The physical layer transport services are described by how and with
what characteristics data are transferred over the radio interface. An
adequate term for this is "Transport Channel".
NOTE 1: This should be clearly separated from the classification of what is
transported, which relates to the concept of logical channels at MAC sublayer.
Downlink transport channel types are:
\- Broadcast channel (BCH);
\- Downlink shared channel (DL-SCH);
\- Paging channel (PCH).
Uplink transport channel types are:
\- Uplink shared channel (UL-SCH);
\- Random access channel (RACH).
NOTE 2: Additional channel(s) might be defined based on discussion on
broadcast information and URLLC.
#### 5.3.5.3 Mapping between transport channels and physical channels
The figures below depict the mapping between transport and physical channels.
Figure 5.3.5.3-1: Mapping between downlink transport channels and downlink
physical channels
Figure 5.3.5.3-2: Mapping between uplink transport channels and uplink
physical channels
## 5.4 Layer 2
NOTE: Terminology of each layer 2 sublayer could be changed later.
### 5.4.1 Overview of Layer 2 functions
Overall layer 2 structure comprised of order and placement of layer 2
functions is illustrated in Figure 5.4.1-1. Each layer 2 function is served by
the corresponding layer 2 sublayer described in 5.4.2, 5.4.3 and 5.4.4.
Figure 5.4.1-1: Overall layer 2 structure for NR
### 5.4.2 MAC Sublayer
The main services and functions of the MAC sublayer include:
\- Mapping between logical channels and transport channels;
\- Multiplexing/demultiplexing of MAC SDUs belonging to one or different
logical channels into/from transport blocks (TB) delivered to/from the
physical layer on transport channels;
\- Scheduling information reporting;
\- Error correction through HARQ;
\- Priority handling between UEs by means of dynamic scheduling;
\- Priority handling between logical channels of one UE;
\- Padding.
### 5.4.3 RLC Sublayer
The main services and functions of the RLC sublayer include:
\- Transfer of upper layer PDUs, according to transmission modes AM, UM and
TM;
\- Sequence numbering independent of the one in PDCP;
\- Error Correction through ARQ (only for AM data transfer);
\- Segmentation and resegmentation [FFS: of PDU or SDU];
\- Reassembly of SDU;
\- RLC SDU discard (only for UM and AM data transfer);
\- RLC re-establishment.
The RLC sublayer supports three transmission modes, i.e. AM, UM and TM. RLC AM
and UM are supported for split bearers.
### 5.4.4 PDCP Sublayer
The main services and functions of the PDCP sublayer for the user plane
include:
\- Sequence Numbering;
\- Header compression and decompression: ROHC only;
\- Transfer of user data;
\- Reordering and duplicate detection (if in order delivery to layers above
PDCP is required);
\- PDCP PDU routing (in case of split bearers);
\- Retransmission of PDCP SDUs [FFS: when to perform retransmission];
\- Ciphering and deciphering [FFS: integrity protection];
\- PDCP SDU discard;
\- PDCP re-establishment and data recovery for RLC AM;
\- Duplication of PDCP PDU in case of multi-connectivity and CA.
NOTE 1: NR specification should not prohibit out-of-order deciphering of PDCP
PDUs.
The main services and functions of the PDCP sublayer for the control plane
include:
\- Ciphering, deciphering and Integrity Protection;
\- Transfer of control plane data;
\- Duplication of PDCP PDU in case of multi-connectivity and CA.
For DL and UL PDCP PDU, PDCP duplication to more than one logical channel is
used for Carrier Aggregation so that the duplicated PDCP PDUs are sent over
different carriers.
NOTE 2: It is FFS whether the PDCP PDU duplication for CA is realised by a
single or two MAC entities.
### 5.4.5 New AS Sublayer
The main services and functions of a new AS sublayer include:
\- Mapping between a QoS flow and a data radio bearer;
\- Marking QoS flow ID in both DL and UL packets.
The new user plane protocol layer is applicable for connections to the NextGen
Core. A single protocol entity of the new user plane protocol layer is
configured for each individual PDU session.
NOTE: Terminology of the new AS sublayer is TBD.
### 5.4.6 Overview of Layer 2 data flow
Figure 5.4.6-1 below depicts the overall layer 2 data flow. MAC CEs are not
placed in the middle of the MAC PDU. It is FFS whether MAC CEs are placed
either at the beginning or at the end of the MAC PDU. The detailed PDU format
can be discussed further. It is FFS whether the header of the new AS layer PDU
may not be present in some cases.
Figure 5.4.6-1: Overall Layer 2 data flow
### 5.4.7 Numerologies and TTI durations
One numerology corresponds to one subcarrier spacing in the frequency domain.
By scaling a basic subcarrier spacing by an integer N, different numerologies
can be defined in TR 38.802 [14].
One TTI duration corresponds to a number of consecutive symbols in the time
domain in one transmission direction. Different TTI durations can be defined
when using different number of symbols (e.g. corresponding to a mini-slot, one
slot or several slots in one transmission direction).
The combination of one numerology and one TTI duration determines how
transmission is to be made on the physical layer.
Which numerologies and/or TTI durations a logical channel of a radio bearer is
mapped to can be configured and reconfigured via RRC signalling. The mapping
is not visible to RLC, i.e. the RLC configuration is per logical channel with
no dependency on numerologies and/or TTI durations, and ARQ can operate on any
of the numerologies and/or TTI durations the logical channel is configured
with.
A single MAC entity can support one or multiple numerologies and/or TTI
durations but in order for the mapping to be respected, logical channel
prioritization procedure takes into account the mapping of one LCH to one or
more numerologies and/or TTI durations.
NOTE: HARQ operation with multiple numerologies and TTI durations is FFS, and
it should be discussed and decided by RAN1.
NOTE: Whether any characteristic of the numerology beyond the TTI is visible
to MAC is FFS (depending on progress in RAN1).
## 5.5 RRC
This sub _-_ clause provides an overview on services and functions provided by
the RRC sublayer.
### 5.5.1 Functions
The main services and functions of the RRC sublayer include:
\- Broadcast of System Information related to AS and NAS;
\- Paging initiated by CN or RAN;
\- Establishment, maintenance and release of an RRC connection between the UE
and NR RAN including:
\- Addition, modification and release of carrier aggregation;
\- Addition, modification and release of Dual Connectivity in NR or between
LTE and NR [FFS: or between NR and WLAN];
\- Security functions including key management;
\- Establishment, configuration, maintenance and release of signalling radio
bearers and data radio bearers;
\- Mobility functions including:
\- Handover;
\- UE cell selection and reselection and control of cell selection and
reselection;
\- Context transfer at handover.
\- QoS management functions;
\- UE measurement reporting and control of the reporting;
\- NAS message transfer to/from NAS from/to UE.
### 5.5.2 UE states and state transitions
RRC supports the following three states which can be characterised as follows:
\- **RRC_IDLE** :
\- Cell re-selection mobility;
\- [FFS: The UE AS context is not stored in any gNB or in the UE;]
\- Paging is initiated by CN;
\- Paging area is managed by CN.
\- **RRC_INACTIVE** :
\- Cell re-selection mobility;
\- CN -- NR RAN connection (both C/U-planes) has been established for UE;
\- The UE AS context is stored in at least one gNB and the UE;
\- Paging is initiated by NR RAN;
\- RAN-based notification area is managed by NR RAN;
\- NR RAN knows the RAN-based notification area which the UE belongs to;
\- **RRC_CONNECTED** :
\- The UE has an NR RRC connection;
\- The UE has an AS context in NR;
\- NR RAN knows the cell which the UE belongs to;
\- Transfer of unicast data to/from the UE;
\- Network controlled mobility, i.e. handover within NR and to/from E-UTRAN.
NOTE 1: How to model RRC_INACTIVE in the specification will be decided in the
work item phase.
Figure 5.5.2-1 illustrates an overview of UE state machine and state
transitions in NR. A UE has only one RRC state in NR at one time.
Figure 5.5.2-1: UE state machine and state transitions in NR
NOTE 2: It is FFS how the UE transits from RRC_INACTIVE to RRC_IDLE in NR.
NOTE 3: It is FFS how the UE transits from RRC_CONNECTED to RRC_INACTIVE
Paging operation details for the NR RRC_IDLE and RRC_INACTIVE state are
specified in 10.1.1.2.
The following state transitions are supported between the aforementioned RRC
states (as also presented in Figure 5.5.2-1):
\- from RRC_IDLE to RRC_CONNECTED, following the \"connection setup\"
procedure (e.g. request, setup, complete);
\- from RRC_CONNECTED to RRC_IDLE, following (at least) the \"connection
release\" procedure;
\- from RRC_CONNECTED to RRC_INACTIVE, following the \"connection
inactivation\" procedure;
\- from RRC_INACTIVE to RRC_CONNECTED, following the \"connection activation\"
procedure;
\- from RRC_INACTIVE to RRC_IDLE.
NOTE 4: Number of steps for each RRC procedure and the corresponding RRC
message will be decided in the work item phase.
#### 5.5.2.1 RAN-based notification area management
A UE in the RRC_INACTIVE state can be configured with the RAN-based
notification area, whereupon:
\- a notification area can cover a single or multiple cells, and can be
smaller than CN area;
\- a UE does not send any \"location update\" indication when it stays within
the boundaries of the notification area;
\- leaving the area, a UE updates its location to the network.
There are several different options on how the RAN-based notification area can
be configured:
\- List of cells;
\- A UE is provided an explicit list of cells (one or more) that constitute
the RAN-based notification area.
\- RAN area.
\- A UE is provided (at least one) RAN area ID;
\- A cell broadcasts (at least one) RAN area ID in the system information so
that a UE knows which area the cell belongs to.
NOTE 1: It will be decided in the work item phase whether to support both
options, list of cells and RAN area ID, or only one of them.
NOTE 2: A list with cells may contain only one entry implementing RAN-based
notification area comprising one cell.
### 5.5.3 System information handling
System information is divided into minimum SI and other SI. Minimum SI is
periodically broadcast. The minimum SI comprises basic information required
for initial access to a cell and information for acquiring any other SI
broadcast periodically or provisioned via on-demand basis, i.e. scheduling
information. The other SI encompasses everything not broadcast in the minimum
SI.
The other SI may either be broadcast, or provisioned in a dedicated manner,
either triggered by the network or upon request from the UE as illustrated in
Figure 5.5.3.1.2-1. For the other SI required by the UE, before the UE sends
the other SI request the UE needs to know whether it is available in the cell
and whether it is broadcast or not. The UE in RRC_IDLE or RRC_INACTIVE should
be able to request the other SI without requiring a state transition. For the
UE in RRC_CONNECTED, dedicated RRC signaling can be used for the request and
delivery of the other SI. The other SI may be broadcast at configurable
periodicity and for certain duration. It is network decision whether the other
SI is broadcast or delivered through dedicated UE specific RRC signaling.
Each cell on which the UE is allowed to camp broadcasts at least some contents
of the minimum SI, while there may be cells in the system on which the UE
cannot camp and do not broadcast the minimum SI. For a cell/frequency that is
considered for camping by the UE, the UE should not be required to acquire the
contents of the minimum SI of that cell/frequency from another cell/frequency
layer. This does not preclude the case that the UE applies stored SI from
previously visited cell(s). If the UE cannot determine the full contents of
the minimum SI of a cell (by receiving from that cell or from valid stored SI
from previous cells), the UE shall consider that cell as barred. It is
desirable for the UE to learn very quickly that this cell cannot be camped on.
NOTE 1: Reception of the minimum SI via SFN is not precluded and pending the
outcome of RAN1 study.
NOTE 2: It is FFS whether Msg.1 and/or Msg.3 are/is used to carry the other SI
request.
NOTE 3: It is FFS whether there is an additional indication that an on- demand
SI is actually being broadcast at this instant in time.
Figure 5.5.3.1.2-1: High level concept of on-demand SI provisioning
#### 5.5.3.1 Dual Connectivity between LTE and NR
For DC between LTE and NR where MCG comprises LTE cell(s) and SCG comprises NR
cell(s), the gNB as the secondary node is not required to broadcast system
information other than for radio frame timing and SFN. In this case, system
information (for initial configuration) is provided for the UE by dedicated
RRC signalling via LTE eNB as the master node. The UE acquires, at least,
radio frame timing and SFN of SCG from the NR-PSS/SSS and PBCH of NR PSCell.
For DC between LTE and NR where MCG comprises NR cell(s) and SCG comprises LTE
cell(s), system information (for initial configuration) is provided for the UE
by dedicated RRC signalling via NR gNB as the master node. In this case, the
UE acquires radio frame timing and SFN of SCG from PSS/SSS and MIB on LTE
PSCell.
NOTE: It is FFS how to handle changes of system information in the secondary
node.
### 5.5.4 Measurements
For the cell level mobility driven by RRC described in sub-clause 10.1.2, the
baseline of the RRM measurement framework for DL is the one specified for LTE
(measurement object, measurement ID, reporting configuration) as specified in
TS 36.331 [6]. The DL RRM measurement should be performed based on a common
framework regardless of network and UE beam configurations (e.g. number of
beams). As for the event triggered reporting, Event A1 to A6 like the ones
specified for LTE are at least to be supported with potential modifications.
Other events may also be studied for NR. Measurement report contains at least
cell level measurement results.
A UE in RRC_CONNECTED should be able to perform RRM measurements on always on
idle RS (e.g. NR-PSS/SSS) and/or CSI-RS. The gNB should be able to configure
RRM measurements via dedicated signalling to be performed on CSI-RS and/or
idle RS. The event triggered reporting can be configured for NR-PSS/SSS and
for CSI-RS for RRM measurements. At least, Even A1 to A6 can be configured for
NR-PSS/SSS.
NOTE 1: It is FFS which events can be configured for CSI-RS.
In the multi-beam operation, the UE in RRC_CONNECTED measures at least one or
more individual DL beams. The gNB should have the mechanisms to consider the
measurement results of those DL beams for handover. This mechanism is needed
at least to trigger inter-gNB handover and to optimise handover ping-pong and
failure. The UE should be able to distinguish between the beams from its
serving cell and the beams from neighbour cells. The UE should be able to
learn if a beam is coming from its serving cell. Cell level signalling quality
for the DL RRM measurement can be derived from N best beams, if detected,
where the value of N can be configured to 1 or more than 1. This does not
preclude the DL RRM measurement on a single beam. Measurement report may
contain the measurement results of the N best beams if the UE is configured to
do so by the gNB.
NOTE 2: It is FFS on details of filtering to be applied, and how the quality
of the serving cell is determined (e.g. from serving beam only or cell
quality).
NOTE 3: It is FFS how to derive the cell level quality applies to both CSI-RS
and idle RS and whether to only consider beams above a threshold (good beams).
#### 5.5.4.1 Dual Connectivity between LTE and NR
If the measurement is configured to the UE in preparation for the Secondary
Node Addition procedure described in sub-clause 10.3, the master node should
configure the measurement to the UE. In case of the intra-secondary node
mobility described in sub-clause 10.3, the secondary node should configure the
measurement to the UE in coordination with the master node, if required. For
the secondary node change procedure described in sub-clause 10.3, the RRM
measurement configuration is maintained by the secondary node which also
processes measurement reporting.
### 5.5.5 Access control
The NR system should support overload and access control functionality such as
RACH backoff, RRC Connection Reject, RRC Connection Release and UE based
access barring mechanisms.
One unified access barring mechanism for NR should be introduced to address
all the use cases and scenarios that LTE addressed with different specialized
mechanisms. The unified access barring mechanism should be forward compatible
in order to cope with future use cases/scenarios.
In NR, the unified access barring mechanism should be applicable for all RRC
states in NR (RRC_IDLE, RRC_CONNECTED and RRC_INACTIVE).
NOTE 1: It is FFS whether it will be possible for the mechanism to be
completely common between the states.
NOTE 2: It is FFS if it is possible to specify the unified access barring
mechanism fully inside the 3GPP WGs.
### 5.5.6 UE capability retrieval framework
The UE reports its UE radio access capabilities which are static at least when
the network requests. The gNB can request what capabilities for the UE to
report (e.g. similar band and band combination requests in LTE). The change of
UE capabilities is just to, temporarily (e.g. under network control), limit
the availability of some capabilities, e.g. due to hardware sharing,
interference or overheating. The temporary capability restrict should be
transparent to the NextGen Core. Namely, only static capability is stored in
the NextGen Core. The UE signals the temporary capability restriction request
to the gNB.
NOTE: It is FFS to which capabilities the restriction may apply and how the
limitation is expressed to the gNB. The details are to be finalized in
Stage-3.
# 6 ARQ and HARQ
## 6.1 ARQ
On top of HARQ in MAC, the secondary ARQ is performed in RLC layer assigning
its own sequence number.
## 6.2 HARQ
From MAC perspective, it is preferable for NR to support only asynchronous
HARQ in UL and DL.
# 7 Scheduling
In this sub-clause, an overview of the scheduler is given in terms of
scheduler operation, signalling of scheduler decisions, and measurements.
Scheduler Operation:
\- In order to utilise radio resources efficiently, MAC in gNB includes
dynamic resource schedulers that allocate physical layer resources for the
downlink and the uplink.
\- Taking account the UE buffer status and the QoS requirements of each UE and
associated radio bearers, schedulers assign resources between UEs.
\- Schedulers may assign resources taking account the radio conditions at the
UE identified through measurements made at the gNB and/or reported by the UE.
\- Schedulers assign radio resources in a unit of TTI (e.g. one mini-slot, one
slot, or multiple slots).
\- Resource assignment consists of radio resources (resource blocks).
\- SPS scheme similar to LTE is supported.
\- Similar to LTE, The UE can skip UL grant if there is no data in the buffer
rather than sending a padding BSR.
Signalling of Scheduler Decisions:
\- UEs identify the resources by receiving a scheduling (resource assignment)
channel.
Measurements to Support Scheduler Operation:
\- Measurement reports are required to enable the scheduler to operate in both
uplink and downlink. These include transport volume and measurements of a UEs
radio environment.
\- Uplink buffer status reports are needed to provide support for QoS-aware
packet scheduling. Uplink buffer status reports refer to the data that is
buffered in the logical channel queues in the UE. The uplink packet scheduler
in the eNB is located at MAC level.
\- The buffer reporting scheme used in uplink should be flexible to support
different types of data services. Constraints on how often uplink buffer
reports are signalled from the UEs can be specified by the network to limit
the overhead from sending the reports in the uplink.
# 8 QoS control
## 8.1 QoS architecture in NR and NextGen Core
The QoS architecture in NR and NextGen Core is depicted in the Figure 8.1-1
and described in the following:
\- For each UE, the NextGen Core establishes one or more PDU Sessions.
\- For each UE, the RAN establishes one or more Data Radio Bearers per PDU
Session. The RAN maps packets belonging to different PDU sessions to different
DRBs. Hence, the RAN establishes at least one default DRB for each PDU Session
indicated by the CN upon PDU Session establishment.
\- NAS level packet filters in the UE and in the NextGen Core associate UL and
DL packets with QoS Flows.
\- AS-level mapping in the UE and in the RAN associate UL and DL QoS Flows
with Data Radio Bearers (DRB).
Figure 8.1-1: QoS architecture in NR and NextGen Core
NextGen Core and RAN ensure quality of service (e.g. reliability and target
delay) by mapping packets to appropriate QoS Flows and DRBs. Hence there is a
2-step mapping of IP-flows to QoS flows (NAS) and from QoS flows to DRBs
(Access Stratum).
In NR, the data radio bearer (DRB) defines the packet treatment on the radio
interface (Uu).
A DRB serves packets with the same packet forwarding treatment. Separate DRBs
may be established for QoS flows requiring different packet forwarding
treatment.
In the downlink, the RAN maps QoS Flows to DRBs based on NG3 marking (QoS Flow
ID) and the associated QoS profiles.
In the uplink, the UE marks uplink packets over Uu with the QoS flow ID for
the purposes of marking forwarded packets to the CN
In the uplink, the RAN may control the mapping of QoS Flows to DRB in two
different ways:
\- Reflective mapping: for each DRB, the UE monitors the QoS flow ID(s) of the
downlink packets and applies the same mapping in the uplink; that is, for a
DRB, the UE maps the uplink packets belonging to the QoS flows(s)
corresponding to the QoS flow ID(s) and PDU Session observed in the downlink
packets for that DRB. To enable this reflective mapping, the RAN marks
downlink packets over Uu with QoS flow ID.
NOTE 1: It is FFS whether the marking with a QoS flow ID can be semi-
statically configured (to not include the QOS flow ID when not needed).
\- Explicit Configuration: besides the reflective mapping, the RAN may
configure by RRC an uplink "QoS Flow to DRB mapping".
NOTE 2: The precedence of the RRC configured mapping and reflective QoS is FFS
(can reflective QoS update and thereby override an RRC configured mapping? Or
does a configured QoS Flow ID to DRB mapping always take precedence over a
reflective mapping?)
If an incoming UL packet matches neither an RRC configured nor a reflective
"QoS Flow ID to DRB mapping", the UE shall map that packet to the default DRB
of the PDU session.
Within each PDU session, is up to RAN how to map multiple QoS flows to a DRB.
The RAN may map a GBR flow and a non-GBR flow, or more than one GBR flow to
the same DRB, but mechanisms to optimise these cases are not within the scope
of standardization. The timing of establishing non-default DRB(s) between RAN
and UE for QoS flow configured during establishing a PDU session can be
different from the time when the PDU session is established. It is up to RAN
when non-default DRBs are established.
## 8.2 Dual Connectivity between LTE and NR via EPC
For the DC architecture connecting to EPC in which eNB is the master node and
gNB is the secondary node, an SCG bearer is established such that there is a
one-to-one mapping between an S1 bearer and a DRB. For this architecture
option, the PDCP layer for an SCG bearer is NR PDCP. For an SCG split bearer
connected to EPC, there is a one-to-one mapping between an S1 bearer and a
DRB.
# 9 Initial access
## 9.1 Cell selection
Cell selection is performed by one of the following two procedures:
a) Initial cell selection (no prior knowledge of which RF channels are NR
carriers);
1\. The UE shall scan all RF channels in the NR bands according to its
capabilities to find a suitable cell.
2\. On each carrier frequency, the UE need only search for the strongest cell.
3\. Once a suitable cell is found this cell shall be selected.
b) Cell selection by leveraging stored information.
1\. This procedure requires stored information of carrier frequencies and
optionally also information on cell parameters, from previously received
measurement control information elements or from previously detected cells.
2\. Once the UE has found a suitable cell the UE shall select it.
3\. If no suitable cell is found the Initial Cell Selection procedure shall be
started.
The following three levels of services are provided while a UE is in RRC_IDLE:
\- Limited service (emergency calls, ETWS and CMAS on an acceptable cell);
\- Normal service (for public use on a suitable cell);
\- Operator service (for operators only on a reserved cell).
The definition of an acceptable cell, a suitable cell, a barred cell and a
reserved cell is also applicable for cell selection in NR. A cell is
considered as suitable if the following conditions are fulfilled:
\- Measurement quality of a cell is above a threshold;
\- A cell is served by the selected/registered PLMN and not barred.
NOTE: Other conditions are FFS if any.
In multi-beam operations, measurement quantity of a cell is derived amongst
the beams corresponding to the same cell. It is FFS how to derive the cell
level measurement quantity from multiple beams, which may or needs not be
different for the one in RRC_CONNECTED.
## 9.2 Random Access Procedure
The random access procedure supports both contention-based and contention free
random accesses which follow the steps defined for LTE as illustrated in
Figure 9.2-1. The design of random access procedure needs to support flexible
Msg.3 size (as already supported in LTE).
NOTE 1: RAN2 should strive for as much commonality in random access procedure
as possible across all use cases.
NOTE 2: It is FFS whether the gNB can be provided with more information
(compared to LTE) from the UE on the Msg.3 to provide.
(a) Contention based (b) Contention free
Figure 9.2-1: Random access procedures
# 10 Mobility
## 10.1 Intra NR
### 10.1.1 UE based mobility
#### 10.1.1.1 Cell reselection
The following cell reselection methods as specified in TS 36.304 [15] are
applicable based on the corresponding parameters broadcast while the UE is
camping on a cell in NR:
\- Intra-frequency reselection is based on ranking of cells.
\- Inter-frequency reselection is based on absolute priorities.
\- Inter-RAT reselection can be also based on absolute priorities.
\- Frequency specific cell reselection parameters common to all neighbouring
cells on a frequency;
\- Service specific prioritisation;
NOTE 1: For NR, it is FFS for which services the service specific
prioritisation is applied and how it could be applied for the case of network
slices.
\- A concept of neighbour cell lists and black cell lists;
\- Speed dependent cell reselection.
In multi-beam operations, measurement quantity of a cell is derived from N
best beams corresponding to the same cell where the value of N can be
configured to 1 or more than 1.
NOTE 2: It is FFS on details of filtering to be applied (E.g. for the case N =
1, the best beam is filtered by a single filter as the best beam changes) and
whether to only consider beams above a threshold (good beams).
#### 10.1.1.2 Paging
The UE in RRC_IDLE and RRC_INACTIVE states may use Discontinuous Reception
(DRX) in order to reduce power consumption. While in RRC_IDLE the UE monitors
CN-initiated paging, in RRC_INACTIVE the UE is reachable via RAN-initiated
paging and CN-initiated paging. RAN and CN paging occasions overlap and same
paging mechanism is used. The UE monitors one paging occasion per DRX cycle
for the reception of paging as follows:
\- Paging DRX cycle length is configurable;
\- A default DRX cycle for CN paging is configurable via system information;
\- A UE specific DRX cycle for CN paging is configurable via UE dedicated
signaling;
\- A RAN node can configure a UE with a DRX cycle for RAN paging. This
configuration can be UE specific.
\- The number of paging occasions in a DRX cycle is configurable via system
information;
\- A network may distribute UEs to the paging occasions based on UE id when
multiple paging occasions are configured in the DRX cycle.
\- Paging occasion can consist of multiple time slots (e.g. subframe or OFDM
symbol). The number of time slots in a paging occasion is configurable via
system information.
\- A network may transmit a paging using a different set of DL Tx beam(s) or
repetitions in each time slot.
NOTE 1: FFS for the content of paging (e.g. paging message or paging
indicator) when paging is transmitted using beam sweeping.
NOTE 2: Transmission mechanism of paging in each time slot is up to RAN1
decision.
### 10.1.2 Network controlled mobility
Network controlled mobility is applied for the UE in RRC_CONNECTED and is
dealt with or without RRC. The RRC driven mobility is responsible for the cell
level mobility, i.e. handover. Handover signalling procedures adopt the same
principle as Rel-13 LTE as specified in TS 36.300 [3]. For inter-gNB handover,
the signalling procedures consist of at least the following elemental
components illustrated in Figure 10.1.2-1:
Figure 10.1.2-1: Inter-gNB handover procedures
1 The source gNB initiates handover and issues a Handover Request over the Xn
interface.
2 The target gNB performs admission control and provides the RRC configuration
as part of the Handover Acknowledgement.
3 The source gNB provides the RRC configuration to the UE in the Handover
Command. The Handover Command message includes at least cell ID and all
information required to access the target cell so that the UE can access the
target cell without reading system information. For some cases, the
information required for contention based and contention free random access
can be included in the Handover Command message. The access information to the
target cell may include beam specific information, if any.
4 The UE moves the RRC connection to the target gNB and replies the Handover
Complete.
NOTE 1: Further enhancements and modifications can be considered.
The handover mechanism driven by RRC requires the UE at least to reset the MAC
entity if multi-connectivity is not configured for the UE. The handover with
and without re-establishing the PDCP entity is supported, which is to be
confirmed by SA3 whether handover without security key change is acceptable.
In-sequence and lossless delivery without duplicates (from upper layer
viewpoint) is supported for handover within NR.
NOTE 2: It is FFS whether QoS flow can be remapped at handover and, if
supported, whether the handover is lossless in this case.
For mobility without RRC, it is dealt with PHY and/or MAC on the beam or TRxP
level. As such, intra-cell mobility can be handled by mobility without RRC.
One gNB corresponds to one or many TRxPs.
NOTE 3: It is FFS whether there may be cases for which intra-cell mobility
needs to be handled by RRC.
## 10.2 Inter RAT
The following list defines the mobility support between NR and LTE connected
to NG Core and EPC. (see Figure 10.2-1).
1) Support for HO between NR and LTE connected to EPC depends on SA2 decisions
and support of NGx with context mapping between NG Core and EPC. If supported,
from RAN2 perspective, a "conventional" S1/NG based HO procedure is used where
the target RAT receives the UE S1 context information and based on this
information configures the UE with a complete RRC message and Full
configuration (not delta).
NOTE: RAN2 does not consider direct RAN interface between eNB connected to EPC
and NR. This does not preclude indirect data forwarding over S1-NG-C being
considered by other WGs without any RAN2 impact.
2) Both Xn and CN HO between LTE connected to NG Core and NR is supported by
RAN2 specifications. The target RAT receives the UE NG-C context information
and based on this information configures the UE with a complete RRC message
and Full configuration (not delta). Whether the HO is over Xn or CN is
transparent to the UE.
3) The in-sequence and lossless HO as described in sub-clause 10.1.2 is
supported the handover between RAN nodes (eNB and gNB) connected to NG Core.
Details are FFS.
4) Source RAT should be able to support and configure Target RAT measurement
and reporting for inter-RAT HO.
Figure 10.2-1: Example message flow for Inter-RAT mobility from NR to LTE
connected to EPC and NG Core
NOTE 1: Network messages are not shown except for one that carry on an RRC
message.
Figure 10.2-2 illustrates an overview of UE state machine and state
transitions in NR as well as the mobility procedures supported between NR and
E-UTRAN at least for the case where E-UTRAN is connected to EPC.
Figure 10.2-2: UE state machine and state transitions between NR and E-UTRAN
The UE state machine, state transition and mobility procedures between NR and
E-UTRA connected to NextGen Core are to be discussed in the normative phase
and the followings are considered:
\- Handover between NR RRC_CONNECTED and E-UTRA RRC_CONNECTED is supported
(both directions);
\- Cell reselection between NR RRC_IDLE and E-UTRA RRC_IDLE is supported (both
directions);
\- In a UE state where the UE performs cell reselection after having being
suspended from RRC_CONNECTED e.g. NR RRC_INACTIVE/LTE light connected, the
following solutions are considered:
1\. At every inter-RAT cell reselection, the UE initiates a CN
tracking/registration area update procedure;
2\. At inter-RAT cell reselection, the UE does not always perform the update
procedure. Registration/tracking area update and/or RAN area update is only
performed when the reselected cell does not belong to the area where the UE is
registered.
In solution 1, the UE enters RRC_IDLE and performs RRC connection
establishment in the new RAT to send a tracking/registration area update at
every inter-RAT cell reselection.
Solution 2 can provide benefits in terms of signalling, especially in case of
multiple inter-RAT cell reselections, since the UE does not send TAU and/or
RAN notification area update at every cell reselection. To reach the UE, the
network may need to page the UE in NR and E-UTRA cells. In the target RAT, the
UE may initiate the resume procedure as if it had been suspended from
RRC_CONNECTED in the target RAT.
Other solutions are not precluded.
NOTE 2: It is FFS whether the RRC connection suspend and resume is supported
between NR and E-UTRAN connected to NG Core.
NOTE 3: It is FFS how the state machine and transitions look like if the UE
supports LTE light connection.
Figure 10.2-3 illustrates the mobility procedures supported between NR and
UTRAN/GERAN.
Figure 10.2-3: UE state machine and state transitions between NR and
UTRAN/GERAN
## 10.3 Dual Connectivity between LTE and NR
The following procedures are the baseline for DC between LTE and NR:
\- Secondary Node Addition procedure triggered by the master node;
\- Secondary Node Release procedure triggered by both the master node and the
secondary node;
\- Intra-secondary Node mobility triggered by the secondary node;
\- Addition/Release of SCell within the secondary node triggered by the
secondary node;
\- Secondary Node Change procedure triggered by the secondary node.
Intra-secondary node mobility should be managed by the secondary node itself.
PSCell change and SCell addition/release are regarded as the part of the
intra-secondary node mobility. At least in some cases, the master node needs
to be informed of the occurrence of the intra-secondary node mobility. The
master node is involved and takes the final decision before the secondary node
change occurs in some cases.
NOTE 1: It is FFS whether the master node needs to be involved for the other
cases, e.g. secondary node cell change without PDCP change.
NOTE 2; It is FFS what additional information can be provided from the
secondary node to the master node when the secondary node change is initiated.
NOTE 3: It is FFS whether the master node can also initiate the secondary node
change procedure (e.g. inter-frequency handover for load balancing purposes).
# 11 Security
Security key refresh is not performed at every mobility procedure (i.e.
handover), at least for the case of mobility where the PDCP anchor point is
not changed.
NOTE: It is to be confirmed by SA3 considering whether it has any implication
on the inputs for key derivation, e.g. PCI.
For DC between LTE and NR where the master RAT is LTE, S-K~eNB~ is derived
from K~eNB~ of the master node.
# 12 UE power saving
DRX enhancements are continued to investigate in the normative phase in order
to support multiple services with different requirements and/or numerologies.
DRX design will not be optimised for URLLC service requirements as specified
in TR 38.913 [16].
# 13 RAN support of Network Slicing
Support of Network Slicing relies on the principle that traffic for different
slices is handled by different PDU sessions. Network can realise the different
network slices by scheduling and also by providing different L1/L2
configurations. UE should be able to provide assistance information for
network slice selection in RRC message, if it has been provided by NAS.
NOTE 1: It is FFS whether it is possible to provide different PRACH, access
barring and congestion control information for different slices.
NOTE 2: The above agreements and FFS are also applicable for LTE connected to
NextGen Core.
# 14 E-UTRA with NextGen Core
An eNB, providing E-UTRA access, may connect to the NextGen Core via the NG
interfaces, as also described in the deployment scenarios in section 4.1.2.3.
The overall architecture for E-UTRA with NextGen Core is illustrated in Figure
14-1 below. The functions hosted by each logical entity are the same as
described in sub-clause 5.1.
Figure 14-1: Overall architecture for E-UTRA with NextGen Core
NOTE 1: RAN2 understanding is that E-UTRA with NextGen Core is not required to
fulfill the performance requirements captured in TR 38.913, unless specified
explicitly.
For the User Plane of E-UTRA with NextGen Core, the LTE UP should be used as
baseline and some enhancements (e.g. new QoS related UP operation) will be
introduced to support the NextGen Core. In particular, the new user plane AS
protocol layer above PDCP, accommodating all the functions introduced in AS
for the new QoS framework, will also be applicable for E-UTRA with NextGen
Core.
NOTE 2: RAN2 understands that the consequence of above agreements is that
future evolution of NextGen Core may need updates to both LTE and NR
specifications.
The eNB with connection to the NextGen Core can also have connection to the
EPC, and the LTE cell can support both UEs connected to EPC and the UEs
connected to NextGen Core.
In order to support both UEs connected to EPC and UEs connected to NextGen
Core in an LTE cell simultaneously, both the LTE NAS specific parameters and
NextGen NAS specific parameters should be broadcasted in system information.
It should be possible for the eNB to identify, at the latest, by message 5
(which contains initial NAS message) whether the UE is connecting to EPC or
NextGen Core.
Commonality between LTE/NR tight interworking with LTE connected to EPC and
LTE/NR tight interworking with LTE connected to NextGen Core should be
maximised.
E-UTRA with NextGen Core supports network slicing functionalities, as
described in section XX.
NOTE 3: In case network slicing aspects specific for E-UTRA with NextGen Core
are identified, they will be covered in this section.
# 15 Specification methodology
## 15.1 Overview of Technical Specifications for NR
In accordance with the outcome of study described in this report, the
following Technical Specifications (TS) of NR radio interface protocols are
set up for Rel-15 normative work:
\- Stage-2 (38.300);
\- Idle mode procedures (38.304);
\- UE radio access capabilities (38.306);
\- MAC (38.321);
\- RLC (38.322);
\- PDCP (38.323);
\- RRC (38.331);
\- New AS sublayer for new QoS frame work (37.XXX);
\- Single specification for NR and E-UTRA connected to NextGen Core.
\- Stage-2 aspects on Multi-Connectivity for inter-RAT (37.XXX).
The stage-2 TS on Multi-Connectivity encompasses the stage-2 aspects on Dual
Connectivity between LTE and NR, i.e. the Dual Connectivity operations where
the master RAT is LTE and the secondary RAT is NR, and vice versa. The Dual
Connectivity operation where the master RAT is LTE is to be noted at least in
the Stage-2 TS on LTE (36.300). The stage-2 aspects not specific to Multi-
Connectivity are not captured in the Stage-2 TS on Multi-Connectivity but are
captured in the NR stage-2 TS (38.300). The necessity of Stage-2 TS on Multi-
Connectivity may be revisited based on the TSG-RAN agreements of the scope of
Rel-15 normative work. It is left to be concluded in the WI phase whether
Multi-Connectivity within NR is covered by the Stage-2 TS on Multi-
Connectivity.
NOTE: TS on service from NR physical layer is to be handled by TSG-RAN WG1.
## 15.2 RRC specification methodology
For NR, a separate RRC specification is introduced and maintained even for the
case of Dual Connectivity between LTE and NR. The RRC specification for NR
follows the LTE RRC as a baseline. The following approaches are considered
when the NR RRC specification is developed in the normative phase:
\- The usage of need codes are clearly defined in the NR RRC specification.
\- The NR RRC specification allows releasing any optional functionality
without use of full configuration.
\- The NR RRC specification allows the mechanism that does automatic syntax
checking for CRs to RAN2.
\- The usage of extension mechanisms for ASN.1 is simple and well-defined.
\- The NR RRC specification employs hyperlinking for navigation within the
specification document.
\- The NR RRC guidelines regarding how network should signal related fields
are specified within the field description.
###### ### Annex A: Agreements
This annex section captures the part of agreements for this study that may not
fit in the main section (e.g. stage-3 level details). These agreements are
supposed to be captured somewhere in this TR appropriately later or kept here
for the reminder of future normative work.
# A.1 General aspects
Overall architecture for LTE-NR tight interworking (not expected to capture in
the body part):
\- The CA based LTE-NR aggregation will not be studied as part of the study
item.
\- RAN2 understands that the C plane latency requirement from the RAN
requirements TR does not have to be met for the LTE-NR interworking case.
Overall aspects for NR-WLAN interworking:
\- LWA and LWIP and RCLWI are baseline for NR-WLAN interworking.
# A.2 User plane aspects
U-plane aspects to be discussed in the normative work:
\- SO-based segmentation can be considered for both segmentation and
resegmentation as a baseline in NR user plane to support high data rate. (It
does not imply anything about location of concatenation). At least overhead
for the low data rate case should be analysed further.
\- RLC AM supports T-reordering like functionality for the purposes of
determining the content of the RLC status report.
\- It is FFS whether RLC UM needs to support T-reordering like functionality
for the purposes moving the lower edge of the receive window, or for other
purposes, which could be discussed in the stage-3 work.
\- It is FFS whether Reordering of complete PDCP PDUs for a DRB can be
disabled via RRC signalling, which only affects PDCP operation and could be
discussed in the stage-3 work.
\- RAN2 will study PDCP procedures for changing the PDCP-SN length that are
lossless and maintain ordered delivery of higher-layer data. To be studied for
reconfigurations between LTE and NR and reconfigurations within NR.
\- It is FFS whether RLC-AM can be used to provide the URLLC service
requirements, and whether any optimisations are required for this.
\- As in LTE the UEs shall not send padding if there is data available and the
remaining TB size is greater than X bytes (actual number can be discussed
later when header sizes are known. In LTE X = 7 bytes (Rel-8/9) or 4 bytes
(Rel-10 and onwards)).
# A.3 RRC
With regards to RRC states related considerations (not expected to capture in
the body part):
\- Study the introduction of a RAN controlled "state" characterised by, at
least:
a) Able to start data transfer with low delay (as required by RAN
requirements).
\- Potential characteristics of the RAN controlled "state" for study:
a) No dedicated resources.
\- RAN2 will study the possibility for the UE to perform data transmission
without state transition from the \'new state\' to be fully connected. It is
FFS whether data transfer is by leaving the \"state\" or data transfer can
occur within the \"state\".
\- RAN2 assumes that UE performs CN level location update when crossing a TA
boundary when in inactive (in addition to RAN updates based on RAN areas).
\- There will be NG Core/CN Location Area code (similar to Tracking Area code)
broadcast in system information of an NR Cell.
With regards to system information provisioning on stage-3 level:
\- The minimum SI includes at least SFN, list of PLMN, Cell ID, cell camping
parameters, RACH parameters.
\- A unique global cell ID is broadcast for an NR cell.
\- If network allows on demand mechanism, parameters required for requesting
other SI-block(s) (if any needed, e.g. RACH preambles for request) shall be
included in minimum SI.
\- Cell-reselection neighbouring cell information is considered as other SI.
\- PWS information can be classified into the other SI.
\- The scheduling information for the other SI includes SIB type, validity
information, SI periodicity and SI-window information and is provided
irrespective of whether the other SI is periodically broadcast or not.
\- For other SI, UE can request one or more SI-block(s) or all SI-blocks in a
single request.
\- For the other SI required by the UE, before the UE sends the other SI
request the UE needs to know whether it is available in the cell and whether
it is broadcast or not. This can be done by checking the minimum SI which
provides the scheduling information for the other SI including SIB type,
validity information, SI periodicity and SI-window information based on LTE.
\- The scheduling information in minimum SI includes an indicator whether the
concerned SI-block is periodically broadcasted or provided on demand. If
minimum SI indicates that a SIB is not broadcasted, then UE does not assume
that this SIB is a periodically broadcasted in its SI-window at every SI
periodicity. Therefore the UE may send an SI request to receive this SIB.
\- After sending the SI request, for receiving the requested SIB, UE monitors
the SI window of the requested SIB in one or more SI periodicities of that
SIB.
\- Broadcasting some kind of index/identifier in minimum SI to enable the UE
to avoid re-acquisition of already stored SI-block(s)/SI message(s). The
index/identifier and associated system information can be applicable in more
than one cell. System information valid in one cell may be valid also in other
cells.
\- It is FFS what the index/identifier is, e.g. single index or area plus
value tag, etc.
# A.4 Intra-NR mobility and measurements
These agreements are not expected to capture in the body part.
With regards to RRC based mobility:
\- FFS whether serving/non serving cell may be termed \'serving/non serving
set of beam)
\- FFS: whether the UE is informed via dedicated signalling or implicitly
detected by the UE based on some broadcast signals.
\- FFS how the cell in connected relates to the cell in idle.
\- UE should be able to identify a beam. FFS how beams are identified (to be
defined by RAN1).
\- RAN2 will study mobility in connected active state based on UL signals.
Study should at least consider power consumption, network internal signalling
aspects, scalability, mobility performance, etc.
\- For connected active state mobility, DL-based handover is supported, and UL
based mobility can continue to be studied.
\- For connected inactive state, DL-based reselection is supported, and UL-
based mobility can also be studied.
\- Benefits of UL based mobility, compared to DL based mobility, should be
studied with performance analysis.
\- It is to be discussed in the WI phase whether RRC involved (single
connectivity) handover with and without RLC entity reset is supported, when
the RLC design becomes clearer.
\- The possibility of handover where a condition configured by the gNB is used
by the UE to determine when it executes the handover can continue to be
discussed in the WI phase.
\- The mobility enhancement similar to that discussed for LTE ("Maintaining
Source eNB connection during handover") should be considered also for NR.
\- For DC (NR-NR), study how to reconfigure the UE from an MeNB to an SeNB to
target the 0 ms UP interruption. FFS whether also applicable to LTE-NR.
###### ### Annex B: Summary of Layer 2 functional changes from LTE
Changes from LTE layer 2 functions are summarised as follows:
\- Segmentation and re-segmentation are based on SO.
\- Complete PDCP PDUs can be delivered out-of-order from RLC to PDCP after RLC
SDUs are reassembled.
\- PDCP reordering is always enabled if in order delivery to layers above PDCP
is required.
\- Concatenation is performed for RLC PDUs in MAC, i.e. no concatenation in
RLC.
\- MAC sub-headers are interleaved with MAC SDUs.
\- Duplication of PDCP PDU is supported for control and user planes in case of
multi-connectivity.
\- A new AS sublayer is introduced over PDCP for QoS scheme supported by
NextGen Core.
# B.1 Rationale behind out-of-order delivery of complete PDCP PDUs after RLC
SDU reassembly
For out-of-order deciphering of PDCP PDUs, it is expected as beneficial to
allow out-of-order delivery of complete PDCP PDUs to PDCP after RLC SDU
reassembly.
# B.2 Rationale behind concatenation in MAC and MAC sub-header interleaving
For NR, not only the protocol overhead but also the processing complexity and
processing latency of the UP protocol stack were concerned. Building RLC PDUs
(in particular the RLC header) on-the-fly (upon availability of the
grant/assignment) was considered too time consuming. Replacing RLC
concatenation with MAC Multiplexing allows pre-generating and interleaving
PDCP/RLC/MAC headers with the respective data blocks. Therefore, NR RLC does
not perform concatenation of RLC SDUs and MAC sub-headers are interleaved with
MAC SDUs.
###### ### Annex C: Background and evaluation results on on-demand SI
provisioning
# C.1 Background
In LTE, system information (SI) is divided into MIB and a number of SIBs which
are always broadcast periodically. The periodicity of MIB and SIB1 is fixed in
the specification, while the periodicity for the other SIBs can be configured
by the network from 80 ms to 5120 ms (from 640 ms to 40960 ms for NB-IoT). Up
to Rel-13, 20 SIBs have been introduced into the standard [6]. System
information from MIB to SIB5 consists of essential radio parameters for a UE
to access a cell including cell reselection. In contrast, SIB6 and onwards,
except for SIB10 to 12, are relevant to optional features which not all of the
UEs are required to support, e.g. inter-RAT cell reselection, MBMS, WLAN,
sidelink, etc. In light of the fact that provisioning of some SI hinges on UE
capability, other mechanisms than periodic broadcast of SI are investigated.
# C.2 Analysis of technology potential
This sub-clause analyses technology potential achieved by on-demand SI
provisioning compared with the LTE SI provisioning scheme. The technology
potential is quantified by the following metrics:
\- The ratio of radio resources required for on-demand SI to the ones for the
conventional LTE SI;
\- The gain of on-demand SI in terms of broadcast overhead on the entire
channel bandwidth.
\- The gain of on-demand SI from UE power consumption viewpoints.
Figure 5.5.3.1.3-1 shows the probability of on-demand SI provisioning for SI
periodicity of 80, 160, 320, 640, 1280, 2560 and 5120 ms as supported for LTE
in TS 36.331 [6].
In Figure 5.5.3.1.3-1, the probability of on-demand Other SI broadcast in T is
increasing with increased SI periodicity T, which means the relative resource
saving is reduced with increased broadcast period T. Thus, the signalling
overhead for the on-demand Other SI broadcast approach is comparable to that
of the periodic broadcast of Other SI with longer T. For example, for T=80ms,
a relative resource saving of almost 68% is to be expected in the case of 5
UEs request rate, this saving is then reduced to 45%, 20% and 5% for T=160,
320, and 640ms, respectively. No resource saving is observed for T>640ms and
the resources required for broadcast of Other SI using the on-demand or the
periodic broadcast approach are the same.
Additionally, with fixed T the relative resource saving observed in Figure
5.5.3.1.3-1 is reduced with increased average SI request rate from UEs (i.e.
increased system load).
{width="6.6875in" height="3.095138888888889in"}
Figure 5.5.3.1.3-1: Probability of on-demand SI provisioning for a given SI
periodicity
In accordance with the probability of on-demand SI provisioning observed in
Figure 5.5.3.1.3-1, Figure 5.5.3.1.3-2 shows the number of RBs broadcast per
second for SI periodicity of 160, 320, 640 and 5120 ms. The detailed
assumptions for the evaluation in Figure 5.5.3.1.3-1 and 5.5.3.1.3-2 are found
in [7].
Figure 5.5.3.1.3-2 shows the number of RBs per second required to deliver SI
using both the periodic broadcast of SIB1-SIB5 and the on-demand broadcast of
Other SI (i.e. SIB6-SIB20 in LTE). For zero UE request rates, the number of
RBs required is corresponding to the periodical broadcast of SIB1-SIB5, as
these are always broadcasted. As the arrival rate of UEs requesting on-demand
SI grows, the total amount of SIB RBs requested increases until reaching the
upper bound given by the number of RBs required to deliver SIB1-SIB20 using
the periodic broadcast approach. More specifically, with larger T (e.g.,
T>640ms) the number of RBs required for on-demand Other SI broadcast quickly
saturates to the upper bound compared to the case of a smaller T that exhibits
rather nearly linear increase in the number of RBs required for on-demand
Other SI broadcast.
For example, for T=160ms, an absolute resource of saving of almost 1550 RBs/s
is to be expected in the case of 5 UEs request rate, this saving is then
reduced to 300 RBs/s for T=320 RBs/s. Almost no resource saving is observed
for T>640ms, since the number of RBs required for the periodic broadcast of
SIB1-SIB5 and the on-demand broadcast of SIB6-SIB20 is almost equal to the
number of RBs required for the periodic broadcast of all SIBs (i.e.
SIB1-SIB20).
As shown in Figure 5.5.3.1.3-1 and Figure 5.5.3.1.3-2, the benefit of resource
saving due to on-demand broadcast of other SI is reduced with increased
broadcast period T and/or increased arrival rate of UEs requesting on-demand
other SI transmission. Nonetheless, the selection of broadcast period T should
depend on the delay requirements of the offered services (or use case).
{width="6.6875in" height="3.2743055555555554in"}
Figure 5.5.3.1.3-2: Number of RBs broadcast per second
Figure 5.5.3.1.3-3 shows the evaluation results using an efficiency metric
which is defined as the ratio of radio resources required for SI delivery
using the conventional LTE SI delivery mechanism to the radio resources
required for on-demand SI delivery mechanism (unicast or broadcast), denoted
as Efficiency in this figure. The efficiency is evaluated as a function of the
triggering rate of on-demand SI request from the UE denoted as Î». ODU and ODB
in Figure 5.5.3.1.3-3 denotes On-Demand provisioning by Unicast or Broadcast,
respectively. In these evaluation results, beam forming operations are taken
into account by considering the number of directions in beam sweeping for
covering the cell area with common control channels, which depends on the
carrier frequency. The beam sweeping impact is reflected to the value, Î³ which
ranges from 1/256 to 1/3. The Î³ value of 1/256 reflects the largest number of
sweeping beams, while 1/3 reflects the smallest number. The detailed
assumptions for the evaluation in Figure 5.5.3.1.3-3 are found in [8].
NOTE: The assumption on the beam sweeping in terms of broadcast overhead needs
to be revisited when RAN1 decides the broadcast transmission mechanism for
beam forming.
As the number of beams is larger (i.e. smaller Î³), the efficiency becomes
larger especially if the rate of on-demand SI request (Î») is high. The
efficiency hinges on the SI periodicity T3 for broadcast of Other SI. A higher
efficiency is observed when the SI periodicity of Other SI is shorter. In
contrast, the efficiency is getting close to 1 as the SI periodicity of Other
SI becomes longer. In particular, when the SI periodicity of Other SI is long,
the efficiency goes below 1 if the rate of on-demand SI request (Î») is high
and in this case the periodic SI broadcast can outperform the on-demand SI by
unicast for some Î³ values. A detailed set of observations based on the
evaluation in Figure 5.5.3.1.3-3 can be found in [8].
{width="2.191666666666667in"
height="1.554861111111111in"}{width="2.191666666666667in"
height="1.554861111111111in"}{width="2.191666666666667in"
height="1.554861111111111in"}{width="2.191666666666667in"
height="1.5486111111111112in"}{width="2.191666666666667in"
height="1.5486111111111112in"}{width="2.191666666666667in"
height="1.5486111111111112in"}{width="2.191666666666667in"
height="1.5486111111111112in"}
Figure 5.5.3.1.3-3: Relative gain of on-demand SI over LTE SI provisioning
Table 5.5.3.1.3-1 shows the quantified gain in terms of broadcast on the
entire channel bandwidth. As for the channel bandwidth, 20, 80 and 400 MHz are
selected for the evaluation. 20 MHz is the maximum channel bandwidth for LTE.
80 MHz is the largest component carrier bandwidth assumed for NR in this
study. The other assumptions are found in [9].
For the 20 MHz bandwidth case, the gain over the LTE SI provisioning is to
reduce the broadcast overhead ratio from 2.67 % to 1.81 %. For the 80 MHz
bandwidth, the gain is to reduce the broadcast overhead ratio from 0.67 % to
0.45 %.
Table 5.5.3.1.3-1: Gain of on-demand SI in terms of broadcast overhead ratio
* * *
                  Total number of RBs required for SIBs within maximum SI periodicity (640 ms) (a)   Total number of RBs within maximum SI periodicity (640 ms) (b)   Broadcast overhead ratio (%) \[(a)/(b)\]                                                                   
                                                                                                     System BW = 20 MHz                                               System BW = 80 MHz                         System BW = 400 MHz   System BW = 20 MHz   System BW = 80 MHz   System BW = 400 MHz
SIB1 to SIB20 1706 RBs 64000 RBs 256000 RBs 1280000 RBs 2.67 % 0.67 % 0.13 %
SIB1 to SIB5 1156 RBs 1.81 % 0.45 % 0.09 %
* * *
Figure 5.5.3.1.3-4 and 5.5.3.1.3-5 show the gain of retrieving one SIB
dedicatedly on-demand from UE power consumption viewpoints. In Figure
5.5.3.1.3-4, several power ratios between transmission and reception (i.e. PR
= Tx power/Rx power) are analysed. In Figure 5.5.3.1.4-5, the UE speed of 3
and 30 km/h is analysed. In both results, the on-demand SIB retrieval results
in lower UE power consumption than the periodic broadcast SIB, except for the
case where the received SIB is valid only on the serving cell, which is not a
likely scenario for the on-demand SIB retrieval. Therefore, the UE power
saving gain can be observed by introducing the on-demand SIB retrieval.
Nevertheless, the total power consumption gain hinges on how many SIBs are
retrieved on-demand compared to the all required SIBs. The assumptions on the
evaluation metric are found in [10].
{width="6.0159722222222225in" height="3.5131944444444443in"}
Figure 5.5.3.1.3-4: UE power consumption gain in terms of Tx/Rx power ratio
{width="5.718055555555556in" height="3.4493055555555556in"}
Figure 5.5.3.1.3-5: UE power consumption gain in terms of UE speed
From the above evaluation results, the gain of the on-demand SI can be
observed over the conventional LTE SI (i.e. periodic broadcast SI) in terms of
radio resource efficiency and UE power consumption for the cases where:
\- Broadcast SI periodicity is short.
\- The number of sweeping beams is large in the beam forming operation.
\- The number of cells on which the received SI is valid is large for on-
demand SI. In other words, the rate of SI request from UE is low.
\- For the periodic broadcast SI, the UE discards the received SI whenever the
UE leaves a cell like in LTE.
# C.3 Additional evaluation results
The additional evaluation results investigating the ratio of radio resources
required for on-demand SI to the ones for the conventional LTE SI are provided
in this sub-clause.
{width="6.13125in" height="2.5229166666666667in"}
Figure B.3-1: Signaling overhead for different UE number and SI size [11]
{width="6.136805555555555in" height="2.482638888888889in"}
Figure B.3-2: Signaling overhead for different broadcast period and SI size
[11]
{width="4.122222222222222in" height="3.0097222222222224in"}
Figure B.3-3: Resource efficiency with respect to UE arrival rate [12]
{width="3.2472222222222222in"
height="1.6201388888888888in"}{width="3.2416666666666667in"
height="1.5916666666666666in"}
Figure B.3-4: Normalised broadcast cost [13]
{width="3.13125in" height="1.5020833333333334in"}
Figure B.3-5: On-demand Cost as a function of user density and number of cells
[13]
###### ### Annex D: Comparison results on bearer types for LTE-NR Dual
Connectivity
Table D-1 compares the three bearer types for LTE-NR Dual Connectivity.
Table D-1: Comparison results on the bearer types for LTE-NR Dual Connectivity
+----------------+----------------+----------------+----------------+ | Bearer types | SCG bearer | Split bearer | Split bearer | | | (1A) | via MCG (3C) | via SCG | +----------------+----------------+----------------+----------------+ | Utilisation of | Not possible | Possible for | Possible for | | radio | for the same | the same | the same | | resources | bearer, | bearer ïŠ | bearer ïŠ | | across MN and | requires at | | | | SN | least two DRBs | | | | | for having | | | | | user plane | | | | | traffics in MN | | | | | and SN ïŒ | | | +----------------+----------------+----------------+----------------+ | Dynamic | Need to | Controlled by | Controlled by | | offload | involve MME, | MN, can be | SN, can be | | | very static ïŒ | dynamic as | dynamic as | | | | long SCG is | long MCG is | | | | setup ïŠ | setup ïŠ | +----------------+----------------+----------------+----------------+ | Additional NW | No additional | Additional | Additional | | processing | processing | PDCP | PDCP | | capacity | capacity | processing | processing | | requirement | requirement ïŠ | capacity | capacity | | | | requirement in | requirement in | | | | MN to process | SN to process | | | | SCG leg ïŒ | MCG leg ïŒ | +----------------+----------------+----------------+----------------+ | Buffering | Full | Bearer | Bearer | | requirements | termination of | splitting | splitting | | | CN bearer at | implies | implies | | | SN offloads | increased | increased | | | PDCP buffering | reorde | reorde | | | from MN ïŠ | ring-buffering | ring-buffering | | | | requirement, | requirement, | | | | at UE and MN ïŒ | at UE and SN ïŒ | | | | (NOTE) | (NOTE) | +----------------+----------------+----------------+----------------+ | Per-user | The gain is | The gain is | The gain is | | throughput | low if only | higher than 1A | higher than 1A | | enhancements | one bearer | if only one | if only one | | | exists; | bearer exists; | bearer exists; | | | | The exact gain | The exact gain | | | The gain | depends on the | depends on the | | | depends on the | available | available | | | data volume of | throughput in | throughput in | | | MCG bearer and | MCG and SCG. | MCG and SCG. | | | SCG bearer if | | | | | two bearers | | | | | exist. | | | +----------------+----------------+----------------+----------------+ | Interruption | Interruption | Interruption | For UE moving | | upon UE | visible due to | limited thanks | from SN | | mobility | MN unable to | to the ability | coverage to | | | support SN | of the MN to | the area | | | bearer ïŒ | transmit data | without the | | | | for the split | coverage of | | | | bearers ïŠ | any SN | | | | | scenario, | | | | | interruption | | | | | limited thanks | | | | | to the ability | | | | | of the MN to | | | | | transmit data | | | | | for the split | | | | | bearers (e.g., | | | | | by NW | | | | | im | | | | | plementation), | | | | | but for UP | | | | | termination | | | | | point change | | | | | from SN to MN | | | | | scenario, | | | | | interruption | | | | | visible ï‹ | +----------------+----------------+----------------+----------------+ | Signalling | Not hidden to | Hidden to CN ïŠ | Not hidden to | | load to CN due | CN ïŒ | | CN ïŒ | | to mobility | | | | | in/out of SN | | | | | coverage | | | | +----------------+----------------+----------------+----------------+ | MN -- SN | No additional | The Xx/Xn | The Xx/Xn | | backhaul | throughput | interface has | interface has | | requirements | requirement on | to offer the | to offer the | | | backhaul of MN | latency of | latency of | | | ïŒ | 5-30 ms and | 5-30 ms and | | | | sufficient | sufficient | | | | capacity. ïŒ | capacity. ïŒ | | | | | | | | | Increased | Increased | | | | throughput | throughput | | | | requirement on | requirement on | | | | backhaul | backhaul | | | | compared to | compared to | | | | 1A: backhaul | 1A: backhaul | | | | needs to cope | needs to cope | | | | with NR | with LTE | | | | bitrates ïŒ | bitrates ïŒ | +----------------+----------------+----------------+----------------+ | U-plane | No additional | Additional | Additional | | latency | U-plane | U-plane | U-plane | | | latency ïŠ | latency for | latency for | | | | SCG path in | MCG path in | | | | case MN and SN | case MN and SN | | | | are | are | | | | non-co-located | non-co-located | | | | ï‹ | ï‹ | +----------------+----------------+----------------+----------------+ | Use case | When ANY of | When ALL of | When ALL of | | | the following | the following | the following | | | holds: | hold: | hold: | | | | | | | | - Limited | - Ample | - Ample | | | backhaul | backhaul | backhaul | | | provisioning | provisioning | provisioning | | | | | | | | - NR bit rate | - NR bit rate | - NR bit rate | | | is much higher | is comparable | is comparable | | | than LTE bit | to LTE bit | to LTE bit | | | rate | rate | rate | | | | | | | | - UE has | - MN has | - MN does not | | | limited | sufficient | have | | | buffering | processing | sufficient | | | capabilities | power | processing | | | | | power | | | - MN and SN | - MN and UE | | | | have limited | have | - SN and UE | | | buffering | sufficient | have | | | capabilities | buffering | sufficient | | | | capabilities | buffering | | | | | capabilities | +----------------+----------------+----------------+----------------+
NOTE: When reordering packets during bearer split operation, it is how late a
missing packet can be received that counts and thus the buffering requirement
stems from the combination of the slow path and the fast path having to wait
for the slow one. Depending on the delays, we need to distinguish two cases: a
first case where the MCG is the fastest path and a second case where SCG is
the fastest path - as depicted on Figure D-1 below where Rx and RTTx are bit
rate and RLC RTT of xCG and XD is Xx/Xn delay:
\- Case 1: RTT~s~ + XD > RTT~m~ (as for LTE-LTE DC);
\- Buffering requirements = R~m~ * (RTT~s~ + XD) + R~s~ * RTT~s~.
\- Where the following component corresponds to the faster path: R~m~ *
(RTT~s~ + XD);
\- Where the following component corresponds to the slower path: R~s~ *
RTT~s~.
\- Case 2: RTT~s~ + XD \< RTT~m~.
\- Buffering Requirements = (R~m~ + R~s~ ) * RTT~m~.
\- Where the following component corresponds to the faster path: R~s~ *
RTT~m~;
\- Where the following component corresponds to the slower path: R~m~ *
RTT~m~.
Figure D-1: Different buffering requirements for LTE-NR Dual Connectivity
###### ### Annex E: Study results on two-step Random Access procedure
# E.1 Two-step Random Access procedure
Support of the two-step Random Access procedure has not been agreed. The
principle behind the two-step Random Access procedure is that a message 1
corresponding to Msg 3 in the four-step RA is transmitted at first. The gNB
will respond with a message 2 corresponding to Msg2 and Msg4 for contention
resolution upon successful reception of message1. The two-step procedure is
illustrated in Figure E.1-1. Due to the reduced message exchange, the latency
of the two-step procedure is expected to be reduced compared to the four step
procedure assuming the same success rate for both procedures. The radio
resources for the messages are optionally configured by the network, which can
configure or restrict the usage of the procedure to certain cases (e.g. only
in certain procedures, services, radio conditions etc.). The procedure is not
restricted to be used with a certain UE ID size.
Figure E.1-1: Two-step Random Access procedure
NOTE 1: It is FFS whether the procedure can be configured by broadcast and/or
by dedicated signalling.
NOTE 2: It is FFS for which cases it is possible to configure or restrict the
usage of the procedure.
# E.2 Random Access Minimum Latency
In Figure A.1-1 the latency calculations for LTE are illustrated. As can be
seen, the minimum latency from the UE transmitting the RA preamble in the
four-step procedure until receiving the final response is 14 TTIs (preamble in
x, Msg2 in x+4, Msg3 in x+4+6, Msg4 in x+4+6+4). This will result in a latency
not exceeding 14 TTIs until the RA procedure is completed.
{width="6.138194444444444in" height="2.0305555555555554in"}
Figure E.2-1: Latency for legacy four-step RA procedure
In the two-step procedure shown in Figure A.1-2, the corresponding minimum
latency is 4 TTIs (Msg3 in x, Msg2 and Msg4 in x+4). Hence, the two-step
procedure could lead to a latency reduction of approximately factor 3 compared
to the four-step procedure, assuming equal TTI duration. When NR achieves
shorter processing times than LTE, both the two-step RA procedure and the
four-step RA procedure for NR may offer further reduction in latency compared
to LTE four-step RA procedure.
{width="3.058333333333333in" height="2.2666666666666666in"}
Figure E.2-2: Latency for two-step RA procedure
###### ### Annex F: Network control mobility
The network can trigger a handover based on any information which the network
has (e.g. UL measurement) even without configuring the UE to provide a DL
measurement (same as LTE).
NOTE: RAN2 did not study the feasibility of UL measurements from a non-serving
cell.
###### ### Annex G: Small UL data transmission in RRC_INACTIVE
Small UL data transmission in RRC_INACTIVE refers to a feature where a UE in
RRC_INACTIVE can transmit small UL data without necessarily performing a full
state transition to RRC_CONNECTED.
If supported, the feature should be service-agnostic, catering different
service requirements. The feature should work either with 4-step or 2-step
RACH (it remains FFS whether and how the solution works in the case of a
contention based transmission of the UL data, possibly considered if RAN1
would make such a mechanism available). For the sake of simplicity, 4-step
RACH is assumed in the description. A high level signalling flow could work as
follows:
1\. A UE in RRC_INACTIVE sends a PRACH preamble.
2\. The network responds with a Random Access Response.
3\. The UE sends small UL data with message 3 (FFS whether
_RRCConnectionResumeRequest_ or a message in a MAC CE) which contains at least
an AS context identifier (e.g. resumeID) to be used for contention resolution.
This message contains all necessary information to enable the network to move
the UE to RRC_CONNECTED or to enable the network to let the UE remain in
RRC_INACTIVE. It could also provide information to enable the network to apply
overload control and prioritisation, if needed. Some open issues have been
identified:
a. FFS how the UL grant size is defined;
b. FFS which other information will be necessary to enable the network to move
the UE to RRC_CONNECTED or to enable the network to let the UE remain in
RRC_INACTIVE such as BSR;
c. FFS if a data threshold would be applied to trigger a separate procedure
for data transmission as opposed to connection resume;
d. FSS whether the solution could fulfil the SA3 requirements and/or
recommendation in terms of security only with the AS content identifier;
e. FFS which information could be provided with the message 3 to enable the
network to apply overload control and prioritisation, if needed;
f. FFS what form of overload control/prioritisation might apply in the
contention based case.
4\. Triggered by message 3, the network should be able to move to
RRC_CONNECTED via a DL RRC message 4 (e.g. _RRCConnectionResume_). The network
should be also able to update the AS context with Message 4.
NOTE: The UE should be able to send subsequent UL data transmission, at least
after receiving message 4. It remains FFS whether the term "subsequent small
data" covers only the case of infrequent transmissions or also frequent
transmissions.
Figure G-1: Example of a message flow for the small UL data transmission in
RRC_INACTIVE
In NR there will be a transition from RRC_INACTIVE to RRC_CONNECTED that will
anyway be standardized and used for the case of large data. An RRC_CONNECTED
UE would have an active AS context that is suspended when the network moves
the UE to RRC_INACTIVE. During the transition from RRC_CONNECTED to
RRC_INACTIVE, the UE is provided with an AS context identifier (e.g. resumeID)
and the AS context is stored in a gNB. Using this AS context identifier, the
AS context can be located and fetched to a new serving gNB when the UE resumes
its connection. If a solution for small data in RRC_INACTIVE is supported, the
same UE AS context identifier and location mechanisms should be used as in the
state transition so completely different mechanisms do not have to be defined.
The solution for small data should be able to at least support an RLC ARQ
mechanism, while it remains FFS how HARQ retransmissions would be used,
depending on RAN1 progress.
For some of the remaining aspects, two solutions (A and B) are considered.
Within each of the options there are further open issues such as security
aspects related to how the network makes sure the UE sending data is the right
UE, how the UE makes sure the network responding is the right network, whether
previously used security keys can be reused and under which scenarios. If
feature is to be supported it should be a down-selection among solutions A or
B, as described in [18].
#