# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
# 1 Scope
The objective of this study item is to evaluate the use of measurements for
positioning, which are currently specified for UE and eNodeB for other
purposes but are not currently included in LPP and LPPa, for an RF Pattern
Matching positioning technology in LTE. The RFPM performance with these
measurements will be compared to the RFPM performance based on the
measurements currently specified for the ECID location method.
The implementation could be an E-SMLC based eNodeB-assisted location service
using existing E-UTRAN measurements which are provided to the E-SMLC via the
LPPa positioning protocol and UE-assisted location service using existing UE
measurements (RSRP, RSRQ and UE Rx-Tx time difference only) which are provided
to the E-SMLC via LPP positioning protocol.
This technical report is intended to complement already standardized location
methods and existing location work items.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 36.211: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); Physical Channels and Modulation \".
[3] 3GPP TS 36.942: \"Radio Frequency (RF) system scenarios\".
[4] 3GPP TS 36.214: \"Physical layer, Measurements\".
[5] R4-115510,"Way forward on RFPM simulation approaches", Huawei, HiSilicon,
Polaris Wireless, Ericsson.
[6] "Adaptive Enhanced Cell-ID Fingerprinting Localization by Clustering of
Precise Position Measurements",Wigren, T., Ericsson AB, Stockholm, IEEE
Transactions on Vehicular Technology, Volume 56, Issue 5, pages 3199-3209,
Sept 2007.
[7] R4-093039,"Proposed system simulation assumptions for OTDOA positioning",
Ericsson, ST-Ericsson.
[8] 3GPP TS 36.133 "Requirements for support of radio resource management"
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [x] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[x].
Definition format (Normal)
**\ :** \.
**example:** text used to clarify abstract rules by applying them literally.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Symbol format (EW)
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[x] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [x].
Abbreviation format (EW)
\ \
# 4 General description of RF pattern matching
# 5 LTE architecture for RF Pattern Matching
# 6 Simulation Methodology
## 6.1 Overview
The goal of the study is to evaluate the RFPM positioning performance. This
evaluation includes a baseline performance characterisation where only
existing measurements available in the ECID Positioning Method are used as
well as enhancements to RFPM where low interference conditions and inter-RAT
measurements are included.
In order to do the performance characterization of each scenario RFPM is
simulated using system level simulations (optionally link level simulations).
The general flow is outlined in the following steps:
(1) Generate RF maps for each sector in the network in accordance with
parameters specified section 6.5.1.
(2) Randomly place UEs in the network
(3) Compute the corresponding interference based on the given scenario for
each UE
(4) For each UE simulate the UE Rx-Tx measurement and the RSRP measurement
    a.  In scenarios with inter-RAT measurements, simulate also
        measurements corresponding to other RATs.
(5) Using RFPM compute the position estimate
(6) For each UE, calculate the error comparing the estimated position obtained
in Step 5 to the the actual position.
## 6.2 Network topology
The network topology is a macro network deployment as in TS 36.814.
## 6.3 Location methods to be simulated
A baseline performance for RFPM is established by simulating the performance
using just those measurements available in LPP / LPPa for E-CID. Specifically,
these measurements are intra-frequency RSRP, and UE Rx-Tx time difference.
The measurements are as specified in TS 36.214 [5].
Two additional scenarios will be evaluated to assess the performance
improvement offered to RFPM:
  * Intra-frequency RSRP and UE Rx-Tx time difference measurements > performed in subframes with reduced interference (e.g. without any > data traffic in interfering cells)
  * Intra-frequency RSRP, UE Rx-Tx time difference and on inter-RAT > measurement, with an emphasis placed on GSM as the additional RAT.
The RFPM simulation will use the maximum likelihood method for deriving the
location estimate. The position estimation approach for RFPM is as in Annex A.
## 6.4 Error models
###
### 6.4.1 RFPM Error model
RFPM works by comparing a set of measurements against a model of the RF
environment. As such, it is important to characterize the error that exists
both in the RFPM model but also in the UE measurements.
Two types of errors are modelled in the RFPM simulation studies:
  * prediction and reference data error (includes e.g. prediction error, model fitting error, reference data error, etc.)
  * real-time measurement error (includes e.g. measurement accuracy requirement [36.133], terminal carrier error, body impact, etc.)
In the former case the error may have several sources such as prediction error
(i.e. the fidelity in which one can accurately predict the RF environment) and
reference data error (i.e. if field measurements are used to improve the
prediction, their intrinsic measurement error must also be included). Figure
6.4-1 highlights how these two error mechanisms work with what is the actual
RF environment in a simulation.
For the purposes of simulation a RF map is generated for each cell in
accordance with the parameters outlined in section 6.5.1. The RFPM model error
is assumed to be normally distributed and has two components as it may be the
case that some portion of the time we select the wrong RF model parameters for
the environment:
  * e1: RMS = 9 dB (for 90% of randomly select UEs)
  * e2: RMS = 13 dB (for 10% of randomly selected UEs)
For the simulated UE measurements the error must account for not only the
intrinsic measurement error from the UE as specified in 3GPP TS 36.133 [8],
but also the possibility that the UE may be oriented in different ways with
respect to the user yielding head/body effects on the actual measurements in
relation to the RF environment. It is also true that the UE error performance
will be better in low interference conditions than in high interference
conditions. Hence, two scenarios are captured, both assuming normally
distributed errors:
  * RMS = 6.5 dB (normal subframes at full system load)
  * RMS = 5.7 dB (subframes with reduced interference)
## 6.5 Simulation Assumptions
### 6.5.1 System-Level Simulation Parameters {#system-level-simulation-
parameters .list-paragraph}
The system-level simulation parameters are summarized in Table 6.5.1-1, most
of which are based on [7].
Editor's note: The simulation parameters in this section are working
assumptions, may be revisited depending on the results.
Table 6.5.1-1: Summary of system-level simulation parameters
+-------------------+-------------------+-------------------+---+---+ | > **Parameter** | > **Value** | | | | +-------------------+-------------------+-------------------+---+---+ | > Cell layout | > Hexagonal Grid, | | | | | | > wrap around | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of sites | > 19 sites, with | | | | | | > 3-sectored | | | | | | > antennas at | | | | | | > each site | | | | +-------------------+-------------------+-------------------+---+---+ | > Inter-Site | > 500 m, 1732 m | | | | | > distance | | | | | +-------------------+-------------------+-------------------+---+---+ | > Antenna gain | > 15 dBi | | | | | | > (3-sector | | | | | | > antenna as | | | | | | > defined in TR | | | | | | > 36.942 [3]) | | | | +-------------------+-------------------+-------------------+---+---+ | > D | > L=128 | | | | | istance-dependent | .1+37.6log~10~(R) | | | | | > pathloss | > (R in km) | | | | +-------------------+-------------------+-------------------+---+---+ | > Carrier | > 2 GHz (E-UTRAN | | | | | > frequency | > FDD band 1) | | | | +-------------------+-------------------+-------------------+---+---+ | > Penetration | > Indoor: 20 dB, | | | | | > loss and UE | > 3 km/h for 500m | | | | | > speed | > and 1732m (Case | | | | | | > 1 and Case 3) | | | | | | > | | | | | | > Outdoor: 10 dB, | | | | | | > 30 km/h for | | | | | | > 500m (Case 2) | | | | +-------------------+-------------------+-------------------+---+---+ | > Minimum | > 35 m | | | | | > distance | | | | | | > between UE and | | | | | | > BS | | | | | +-------------------+-------------------+-------------------+---+---+ | > Carrier | > 10 MHz, | | | | | > bandwidth | > optionally 1.4 | | | | | | > MHz | | | | +-------------------+-------------------+-------------------+---+---+ | > eNode B power | > 46 dBm for 10 | | | | | | > MHz | | | | +-------------------+-------------------+-------------------+---+---+ | > UE noise figure | > 9 dB | | | | +-------------------+-------------------+-------------------+---+---+ | > Lognormal | > 8 dB | | | | | > shadowing | | | | | | > standard | | | | | | > deviation | | | | | +-------------------+-------------------+-------------------+---+---+ | > Shadowing | > Between sites | > 0.5 | | | | > correlation | | | | | +-------------------+-------------------+-------------------+---+---+ | | > Between sectors | > 1 | | | +-------------------+-------------------+-------------------+---+---+ | > Correlation | > 50 m | | | | | > distance of | | | | | | > shadowing | | | | | +-------------------+-------------------+-------------------+---+---+ | > Channel model | > ETU | | | | | | > | | | | | | > Optional: Urban | | | | | | > A, Urban B and | | | | | | > Bad Urban | | | | | | > profiles of | | | | | | > T1P1 | | | | +-------------------+-------------------+-------------------+---+---+ | > Network | > Synchronous | | | | | > synchronization | > (baseline), | | | | | | > Asynchronous | | | | +-------------------+-------------------+-------------------+---+---+ | > Cyclic prefix | > Normal | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of | > 2 | | | | | > eNodeB transmit | | | | | | > antennas | | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of CRS | > 1 | | | | | > antenna ports | | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of PRS | > 1 | | | | | > antenna ports | | | | | +-------------------+-------------------+-------------------+---+---+ | > PRS and | > As defined in | | | | | > positioning | > TS 36.211 | | | | | > subframe | > [2]. No data | | | | | > configuration | > transmitted | | | | | | > during these | | | | | | > positioning | | | | | | > subframes | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of UE | > 1 | | | | | > transmit | | | | | | > antennas | | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of UE | > 2 | | | | | > receive | | | | | | > antennas | | | | | +-------------------+-------------------+-------------------+---+---+ | > Number of | > 2 | | | | | > eNodeB receive | | | | | | > antennas | | | | | +-------------------+-------------------+-------------------+---+---+ | > Traffic load in | > Full load | | | | | > non-positioning | | | | | | > subframes | | | | | +-------------------+-------------------+-------------------+---+---+ | > Candidate cells | > Cells whose CRS | | | | | | > SINR at the UE | | | | | | > is above or | | | | | | > equal to -6 dB. | | | | +-------------------+-------------------+-------------------+---+---+ | > UE Rx-Tx | > Normally | | | | | | > distributed, | | | | | | > RMS Error of | | | | | | > 6Ts | | | | +-------------------+-------------------+-------------------+---+---+ | > RSRP | > Normally | | | | | | > Distributed | | | | | | > with RMS Error: | | | | | | | | | | | | - 6.5 dB in | | | | | | full load | | | | | | subframes | | | | | | | | | | | | - 5.7 dB in | | | | | | reduced | | | | | | interference | | | | | | subframes | | | | +-------------------+-------------------+-------------------+---+---+ | > GSM IRAT | Cell Layout | > Co-located with | | | | | | > LTE Cells and | | | | | | > Frequency Reuse | | | | | | > of 12 | | | +-------------------+-------------------+-------------------+---+---+ | | Detection | > -104 dBm and 9 | | | | | Threshold | > dB SNR | | | +-------------------+-------------------+-------------------+---+---+ | | Tx Power | > MSR BS with | | | | | | > Total Power = | | | | | | > 46 dBm | | | | | | > | | | | | | > LTE Tx Power = | | | | | | > 43 dBm | | | | | | > | | | | | | > GSM Tx Power = | | | | | | > 43 dBm | | | +-------------------+-------------------+-------------------+---+---+ | | Prediction and | > Same as LTE | | | | | data error models | | | | +-------------------+-------------------+-------------------+---+---+ | | Measurement Error | > Normally | | | | | | > distributed | | | | | | > with RMS Error | | | | | | > of 5.7 dB | | | +-------------------+-------------------+-------------------+---+---+
###
### 6.5.2 Link-Level Simulation Parameters {#link-level-simulation-parameters
.list-paragraph}
The parameters that are common for system- and link-level simulations are as
in Table 6.5.1-1. Measurement-specific parameters are as specified further
below. Link level simulations are optional and how specifically to model the
scenarios under consideration are FFS.
Editor's note: The simulation parameters in this section are working
assumptions, may be revisited depending on the results.
#### 6.5.2.1 RSRP {#rsrp .list-paragraph}
The RSRP link-level simulation parameters are summarized in Table 6.5.2.1-1
Table 6.5.2.1-1: Link-level simulation parameters for RSRP
+---------------------------+-----------------------------------------+ | **Parameter** | > **Value** | +---------------------------+-----------------------------------------+ | Measurement bandwidth | > Same as Table 6.5.1-1 | +---------------------------+-----------------------------------------+ | L1 measurement period | > 200 ms | +---------------------------+-----------------------------------------+ | Measurement sampling rate | > 5 samples per L1 period | +---------------------------+-----------------------------------------+ | L3 filtering | > Disabled | +---------------------------+-----------------------------------------+ | Number of Tx antennas | > 1 | +---------------------------+-----------------------------------------+ | Number of Rx antennas | > 2 equal gain uncorrelated antennas | +---------------------------+-----------------------------------------+ | Propagation conditions | > Same as Table 6.5.1-1 | +---------------------------+-----------------------------------------+ | Candidate cells | > Cells whose CRS SINR at the UE is | | | > above or equal to [-6] dB. | +---------------------------+-----------------------------------------+
#### 6.5.2.2 UE Rx-Tx {#ue-rx-tx .list-paragraph}
The UE Rx-Tx link-level simulation parameters are summarized in Table
6.5.2.2.-1.
Table 6.5.2.2-1: Link-level simulation parameters for UE Rx-Tx
+-----------------------------+---------------------------------------+ | > **Parameter** | > **Value** | +-----------------------------+---------------------------------------+ | > Measurement bandwidth | > Same as Table 6.5.1-1 | +-----------------------------+---------------------------------------+ | > L1 measurement period | > 200 ms | +-----------------------------+---------------------------------------+ | > Measurement sampling rate | > 5 samples per L1 period | +-----------------------------+---------------------------------------+ | > L3 filtering | > Disabled | +-----------------------------+---------------------------------------+ | > Number of Tx antennas | > 1 | +-----------------------------+---------------------------------------+ | > Number of Rx antennas | > 2 equal gain uncorrelated antennas | +-----------------------------+---------------------------------------+ | > Propagation conditions | > Same as Table 6.5.1-1 | +-----------------------------+---------------------------------------+ | > Candidate cells | > Cells whose CRS SINR at the UE is | | | > above or equal to [TBD] dB | +-----------------------------+---------------------------------------+
### 6.5.3 Propagation models
See Table 6.5.1-1 in section 6.5.1 for parameters of the RF propagation
models.
# 7 Simulation results
# 8 Impact to the E-UTRA specifications
# 9 Conclusions
###### ### Annex A: RFPM Location Estimation Algorithm {#annex-a-rfpm-
location-estimation-algorithm .list-paragraph}
FFS
#