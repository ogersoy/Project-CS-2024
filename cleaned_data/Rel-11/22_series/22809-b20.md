# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
# 1 Scope
This study aims to provide use cases and requirements for the following
aspects of interworking between 3GPP networks and Enterprise voice services:
\- Support for CS and IMS voice services interworking with IP-PBX services
while at the same time maintaining full operator visibility and control of the
related voice service signalling in the mobile operator's core network,
\- Mobile operator control of security, manageability and operation of IP-PBX
interworking function,
\- Mobile operator control of availability of IP-PBX services to 3GPP mobile
devices,
\- Mobility between cellular and Enterprise environments, and
\- Continuity when an IMS session is moved between cellular and Enterprise
environments and when the IMS session is moved between mobile and fixed
devices in the Enterprise environment.
Use cases and requirements from other SDOs will be considered in this study.
The following services aspects will be covered:
\- CS and IMS services,
\- Enterprise specific value-added services (e.g. \"short code dialling\",
conferencing, transfer of sessions to a soft-phone on a PC), and
\- Interaction between services provided by the mobile operator and services
provided by the Enterprise.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] ETSI TS 181 019 version 2.0.0 (November 2007): \"Business Communication
Requirements\".
[3] ETSI TS 182 023 version 2.1.1 (January 2009): \"Core and enterprise NGN
interaction scenarios; Architecture and functional description\".
[4] ETSI TS 182 024 version 2.1.1 (August 2008): \"Hosted Enterprise Services;
Architecture, functional description and signalling\".
[5] ETSI TS 182 025 version 2.1.1 (September 2008): \"Business trunking;
Architecture and functional description\".
[6] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[7] 3GPP TS 22.101: \"Service aspects; Service principles\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**3GPP mobile device:** An end-user device that can attach to the 3GPP core
network via 3GPP access or non-3GPP access (e.g. WLAN connected via the EPS).
**IP-PBX device:** An end-user device connected to the IP-PBX. In the context
of this study it is assumed that an IMS subscription exists in the Mobile
Operator Network for the user of the device.
**Service delivery point:** Selects a particular application to be provided on
an IM session.
Note: Within the scope of this study a device may be either an IP-PBX device
or a 3GPP mobile device, but not both.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
IP-PBX Internet Protocol-based Private Branch eXchange
MNO Mobile Network Operator
NGCN Next Generation Corporate Network
TISPAN Telecommunications and Internet converged Services and Protocols for
Advanced Networking
# 4 Background
## 4.1 Analysis of related standardization
Work has been done in other standards bodies pertaining to mobility in
Enterprise networks, notably in ETSI TISPAN ([2], [3], [4] and [5]). Although
mobility aspects are present in both TISPAN Stage 1 [2] and Stage 2 [3], [4]
and [5], they are very limited. Session continuity and inter-device session
transfer are not addressed in TISPAN.
As already described in the previous paragraph, there is no support for 3GPP
mobile devices. Support in the Enterprise network for 3GPP mobile devices
(i.e., a radio access network and how it interconnects to an NGN) is not
present.
The Hosted Enterprise Service, as documented in ETSI TS 181 019 [2] and ETSI
TS 182 024 [4] for wireline networks, is considered completely documented.
TISPAN specifications do not make any assumption as to whether the IMS is
owned by a fixed operator, a mobile operator or a converged operator.
Comparison of the Hosted Enterprise Service with the use cases and
requirements in this technical report shows that it is very similar, but the
requirement to allow the Enterprise to host the applications is not supported.
The wireline business trunking application is well understood between 3GPP and
TISPAN at the Stage 1 level, and is addressed in Common IMS. TISPAN
specifications do not make any assumption as to whether the IMS is owned by a
fixed operator, a mobile operator or a converged operator. Analysis of the
business trunking requirements that exist in Release 8 show that they do not
meet the needs of the current study. The registration of the end-user device
and the service delivery point are assumed, in the business trunking
specifications, to be in the Enterprise network. The business trunking
applications are assumed to be in the mobile operator network, and apply to
the Enterprise as a whole, rather than to individual subscribers. This means
that functionality such as call transfer from IP-PBX device to/from 3GPP
mobile device is not supported. It is concluded that business trunking is not
impacted by this study.
## 4.2 Enterprise-based service control
### 4.2.1 Introduction
In a Hosted Enterprise Services scenario, the IMS core and all services reside
in the operator network and are hosted on an AS owned by the network operator.
In an Enterprise-based service scenario it is possible to control at least
some subscriber services from within the Enterprise via an Enterprise AS,
while retaining all mobility options associated with the IMS.
Subclause 4.2.4 of 3GPP TS 23.228 [6] defines the IMS service control
interface to an AS in both an internal and an external network AS.
Thus an Enterprise can behave as an external network to provide an IMS AS to
host and execute services on behalf of a user in the operator network. 3GPP
has not defined the authentication and security functions for this
configuration.
### 4.2.2 Existing standards implementation
The provisions to realize Hosted-Enterprise Service (HES) are described in TS
182 024 [4].
To realize Enterprise-based service control, the 3GPP mobile device must be
registered in the operator network with placement of the SIP AS within the
Enterprise. This AS is called an Enterprise AS (E-AS). Subscriber profile data
(e.g., initial filter criteria) can ensure that IMS acts as a service delivery
point and properly invokes the E-AS for service execution.
### 4.2.3 Standards gap analysis
Neither ETSI TISPAN nor 3GPP currently describe the realization of Enterprise-
based service control, where the AS is in the Enterprise domain.
3GPP specifications do not address the following aspects of IMS
interconnection to a Third Party AS:
\- Special consideration must be given to authentication and security for the
service control interface between the operator network and the Enterprise. The
potential role of a security gateway is TBD.
\- The interface should allow only authorized service requests on behalf of
valid users.
\- The E-AS may need to have direct access to subscriber data in the operator
network.
\- The realization of service data management between the UE and E-AS is TBD.
\- The nature of the security associated with the data management interface is
TBD.
\- It is TBD whether the E-AS will always access media resources within the
Enterprise or whether the E-AS must be able to access media resources in the
operator network.
# 5 Reference Model
The Reference Model is provided in Figure 1 below in order to help in
development of the use cases and the potential requirements. The Reference
Model is provided for the retail model in which the mobile operator manages
and authenticates the 3GPP mobile device and authenticates the IP-PBX access
to IMS services. The wholesale model, in which an Enterprise purchases 3GPP
mobile devices and services in bulk, is not in the scope of this study item.
Figure 1: Reference Model
Figure 1 shows the relationship between the mobile operator and the
Enterprise. The mobile operator network comprises the IMS network that
connects to the PSTN and the SS7 network as well as Presence and Location
information, for example. One or more 3GPP access networks are also provided
by the mobile operator macro network.
The Enterprise network comprises fixed and/or wireless access networks (e.g.
WLAN) and the IP-PBX. The wireless access networks can be either 3GPP access
networks or non-3GPP access networks (e.g., WLAN) and the fixed access network
can be any wired IP access in the Enterprise. The Enterprise network is
connected to the mobile operator core network via a managed IP network using
two kinds of connections:
\- The Enterprise access network is connected to the mobile operator core
network via managed IP network.
\- The Enterprise IP-PBX is connected to the mobile operator IMS network via
managed IP network.
In both cases, access and IMS authentication of the 3GPP mobile devices
connected via the Enterprise access network are done via this managed IP
network. IMS authentication of IP-PBX devices connected via the Enterprise
access network may also be done via this network if such devices are
provisioned in the mobile operator network. This enables IP-PBX services to be
offered via the mobile operator IMS to the 3GPP mobile devices in the mobile
operator network or Enterprise network and to the IP-PBX devices in the
Enterprise network.
The Enterprise can leverage the business/roaming relationship of the mobile
operator with other mobile operators. This enables 3GPP mobile devices to
access both mobile operator and Enterprise applications from any Enterprise
location so the Enterprise requires a business relationship with only a single
mobile operator and not with multiple mobile operators. Therefore, no
additional business models to support roaming are needed.
# 6 Use Cases
## 6.1 Introduction
In each of the following IMS use cases, it is assumed that the user is a
mobile operator subscriber who has a VoIP-capable 3GPP mobile device with an
IMS client that is registered for IMS services from the mobile operator's IMS.
For the CS-based use cases, it is assumed that the user has a CS-only 3GPP
mobile device receiving IMS services from the mobile operator's IMS using IMS
Centralized Services. In all cases, it is assumed that the device can receive
some IP Multimedia Applications from an IP-PBX that is connected to the mobile
operator\'s network as an IMS Application Server, in addition to receiving
applications from application servers provided by the mobile operator. A user
receiving IP-PBX services via their IMS subscription is called an Enterprise
user.
In some scenarios, the user may also have an IP-PBX device attached via the
managed IP network to the mobile operator\'s IMS. The IP-PBX device receives
IP-PBX applications via the IMS.
## 6.2 IMS use cases
### 6.2.1 Mobility from macro network to Enterprise
#### 6.2.1.1 Preconditions
An Enterprise user is located in the macro network (outside the Enterprise
premises). The user's 3GPP mobile device is connected to the mobile operator's
IMS.
#### 6.2.1.2 Service flow
a) The user initiates a voice call via the mobile operator's IMS.
b) When the user enters the Enterprise premises, the user's 3GPP mobile device
is now connected to an access network within the Enterprise (e.g., H(e)NB or
WLAN connected via the EPS) and continues the voice call.
c) The SIP session remains anchored in the mobile operator's IMS.
d) If the call is made towards PSTN/MNO, the media path uses the mobile
operator's PSTN GW, codec converters, etc.
e) If both called and calling party are within the Enterprise IP-PBX, the
media path is routed locally.
f) If the voice call was established using wideband codecs, wideband codecs
will be maintained after the user enters the Enterprise premises and the 3GPP
mobile device connects to the Enterprise network.
### 6.2.2 Call transfer from 3GPP mobile device to IP-PBX device
#### 6.2.2.1 Preconditions
An Enterprise user is located within the Enterprise premises. The user's 3GPP
mobile device is using an access network (e.g., H(e)NB or WLAN connected via
the EPS) within the Enterprise and registered with the mobile operator's IMS.
The user has an active voice call on his 3GPP mobile device, with the SIP
session anchored in the mobile operator's IMS. The user also has an IP-PBX
device that is registered to the mobile operator\'s IMS.
#### 6.2.2.2 Service flow
a) The user transfers the call from the 3GPP mobile device to his IP-PBX
device.
b) The SIP session remains anchored in the mobile operator's IMS.
c) The Enterprise IP-PBX is considered an AS to the mobile operator's IMS.
d) If the call is made towards PSTN/MNO, the media path uses the mobile
operator's PSTN GW, codec converters, etc.
e) If both called and calling party are within the Enterprise IP-PBX, the
media path is routed locally.
f) If the voice call was established using wideband codecs, wideband codecs
will be maintained after the user transfers the call from the 3GPP mobile
device to the IP-PBX device.
### 6.2.3 Call transfer from IP-PBX device to 3GPP mobile device
#### 6.2.3.1 Preconditions
An Enterprise user is located within the Enterprise premises. The user has an
active voice call on his IP-PBX device that is using the Enterprise IPâ€‘PBX.
#### 6.2.3.2 Service flow
a) The user requests transfer of the session from the IP-PBX device to the
user's 3GPP mobile device. The user's 3GPP mobile device is using an access
network (e.g., H(e)NB or WLAN connected via the EPS) within the Enterprise
that is connected to the mobile operator's IMS.
b) The SIP session is transferred from the Enterprise IP-PBX to the mobile
operator's IMS.
c) If the call is made towards PSTN/MNO, the media path uses the mobile
operator's PSTN GW, codec converters, etc.
d) If both called and calling party are within the Enterprise IP-PBX, the
media path is routed locally.
e) If the voice call was established using wideband codecs, wideband codecs
will be maintained after the user transfers the call from the IP-PBX device to
the 3GPP mobile device.
### 6.2.4 Mobility from Enterprise to macro network
#### 6.2.4.1 Preconditions
An Enterprise user is located within the Enterprise premises. The user's 3GPP
mobile device is using an access network (e.g., H(e)NB or WLAN connected via
the EPS) within the Enterprise that is connected to the mobile operator's IMS.
The user has an active voice call on his 3GPP mobile device, with the SIP
session anchored in the mobile operator's IMS. Both the called and calling
party are using access network(s) within the Enterprise, so the media path is
routed locally.
#### 6.2.4.2 Service flow
a) When the user leaves the Enterprise premises to the macro network, the
session continues.
b) The SIP session remains anchored in the mobile operator's IMS.
c) The media path is now routed via the mobile operator's IMS.
d) If the voice call was established using wideband codecs, wideband codecs
will be maintained after the user leaves the Enterprise premises to the macro
network.
### 6.2.5 Short code dialling
#### 6.2.5.1 Preconditions
The Enterprise user A has an IMS-capable 3GPP mobile device and user B has an
IP-PBX device (IP phone or PC). Both of the devices are capable of using the
short code dialling service of the Enterprise IPâ€‘PBX through the mobile
operator's IMS.
Note: This feature corresponds to the abbreviated dialing feature identified
in TS 182 024 [4].
#### 6.2.5.2 Service flow
a) User A initiates a call toward user B via a short number.
b) The device of user B starts ringing.
c) User B accepts the call and starts talking to user A.
Editor's Note: It is FFS whether to display CLI in short or complete number to
the called party.
### 6.2.6 Parallel alerting
#### 6.2.6.1 Preconditions
The Enterprise user has two devices capable of receiving IMS services, a 3GPP
mobile device and an IP-PBX device (IP phone or PC).
Note: This feature corresponds to the line hunting feature identified in TS
182 024 [4].
#### 6.2.6.2 Service flow
a) A call is initiated toward the Enterprise user on his shared Public User
Identity.
b) Both devices start ringing.
c) The user accepts the call on one of his devices. The SIP session is
anchored in the mobile operator's IMS.
d) The other device automatically stops ringing.
e) Regardless of the device on which the call is answered, the called party
identity presented to the calling party is the shared Public User Identity.
### 6.2.7 Media transfer
#### 6.2.7.1 Preconditions
The Enterprise user has two devices capable of receiving IMS services, a 3GPP
mobile device and an IP-PBX device (IP phone or PC).
#### 6.2.7.2 Service flow
a) A call is initiated toward the Enterprise user.
b) The user accepts the call on his IP-PBX device. The SIP session is anchored
in the mobile operator's IMS.
c) The user decides to get coffee and transfer the audio to the mobile device
(with control from the IP-PBX device). If the voice call was established using
wideband codecs, wideband codecs will be maintained after the user transfers
the audio from the IP-PBX device to the 3GPP mobile device.
d) The user can continue communication while going to get coffee.
e) When the user returns, the audio is transferred back to the IP-PBX device
(with control from the IP-PBX device). If the voice call was established using
wideband codecs, wideband codecs will be maintained after the user transfers
the audio from the 3GPP mobile device back to the IP-PBX device.
### 6.2.8 One number
#### 6.2.8.1 Preconditions
The Enterprise user A has two devices, one is a 3GPP mobile device and the
other is an IP-PBX device (IP phone or PC). Both of the devices subscribe to
the one number service of the mobile operator's IMS.
#### 6.2.8.2 Service flow
a) A call is initiated toward the Enterprise user A using the one number
service.
b) Both devices start ringing simultaneously or ringing in a user-defined
sequence.
c) User A accepts the call on one of his devices.
d) The other device automatically stops ringing, if it's still ringing
### 6.2.9 Unified Voice Mail
#### 6.2.9.1 Preconditions
The Enterprise user A has two devices, one is a 3GPP mobile device and the
other is an IP-PBX device (IP phone or PC). Both of the devices subscribe to
the Unified Voice Mail service of the mobile operator's IMS.
#### 6.2.9.2 Service flow
a) Alice is calling Bob on his devices by using bob's phones numbers or SIP
URIs
b) Bob is not available so Alice's communication is diverted to the Unified
Voice Mail
c) Later Bob receives Alice's message by interrogating the Unified Voice Mail
## 6.3 CS use cases
### 6.3.1 Call transfer from 3GPP mobile device to IP-PBX device
#### 6.3.1.1 Preconditions
An Enterprise user is located within the Enterprise premises. The user has an
active CS voice call on his 3GPP mobile device. The mobile operator is capable
of converting a CS call to an IMS call.
#### 6.3.1.2 Service flow
a) The user transfers the CS voice call from the 3GPP mobile device to his IP-
PBX device.
b) The CS call is transferred to the Enterprise IP-PBX as a SIP session, which
is anchored in the mobile operator's IMS.
c) If the call is made towards PSTN/MNO, the media path uses the mobile
operator's PSTN GW, codec converters, etc. If the voice call was established
using wideband codecs, wideband codecs will be maintained after the user
transfers the call from the 3GPP mobile device to the IP-PBX device.
### 6.3.2 Call transfer from IP-PBX device to 3GPP mobile device
#### 6.3.2.1 Preconditions
An Enterprise user is located within the Enterprise premises. The user has an
active voice call on his IP-PBX device using the Enterprise IP-PBX. The mobile
operator is capable of converting an IMS call to a CS call.
#### 6.3.2.2 Service flow
a) The user transfers the voice call from the IP-PBX device to the user's 3GPP
mobile device.
b) The SIP session in the Enterprise IP-PBX is converted to a CS voice call
and transferred to the mobile operator's MSC. The CS voice call is anchored in
the mobile operator's MSC.
c) If the call is made towards PSTN/MNO, the media path uses the mobile
operator's PSTN GW, codec converters, etc. If the voice call was established
using wideband codecs, wideband codecs will be maintained after the user
transfers the call from the IP-PBX device to the 3GPP mobile device.
### 6.3.3 Short code dialling
#### 6.3.3.1 Preconditions
The Enterprise user A has a CS-only 3GPP mobile device and user B has an IP-
PBX device (IP phone or PC). Both of the devices are capable of using the
short code dialling service of the Enterprise IP-PBX through the mobile
operator's IMS.
Note: This feature corresponds to the abbreviated dialing feature identified
in TS 182 024 [4].
#### 6.3.3.2 Service flow
a) User A initiates a call toward user B via a short number.
b) The device of user B starts ringing.
c) User B accepts the call and starts talking to user A.
### 6.3.4 One number
#### 6.3.4.1 Preconditions
The Enterprise user A has two devices, one is a CS-only 3GPP mobile device and
the other is an IP-PBX device (IP phone or PC). Both of the devices subscribe
to the one number service of the mobile operator's IMS.
#### 6.3.4.2 Service flow
a) A call is initiated toward the Enterprise user A using the one number
service.
b) Both devices start ringing simultaneously or ringing in a user-defined
sequence.
c) User A accepts the call on one of his devices.
d) The other device automatically stops ringing, if it's still ringing.
# 7 Potential Requirements
The following high level requirements have been identified for support by the
mobile operator hosting the IMS VoIP services and the Enterprise network
hosting the IP-PBX. They are applicable to use cases in subclauses 6.2.1,
6.2.2, 6.2.3, and 6.2.4 in TR 22.809.
For IP-PBX-based services provided to a 3GPP mobile device and/or an IP-PBX
device with the following conditions:
\- the IP-PBX is connected to the mobile operator network as an IMS
Application Server,
\- the interconnection between mobile operator and Enterprise is via a QoS-
enabled IP connection, and
\- the IP-PBX device has a subscription in the IMS domain;
the following requirements apply:
\- The mobile operator's IMS shall control the VoIP session for interworking
with the Enterprise IP-PBX.
\- VoIP session control shall always be returned to the mobile operator
following interactions with the Enterprise IP-PBX.
\- The mobile operator's IMS shall be able to set negotiable QoS for VoIP
sessions both at the time of session establishment and during session
modifications based on the operator policy.
\- The mobile operator's IMS shall be able to implement IP Policy Control
based on the type of access used in the Enterprise network (e.g., H(e)NB,
WLAN).
\- The mobile operator's IMS shall be able to support a set of codecs and
header compression for the VoIP services. The mobile operator's IMS shall be
able to provide transcoding when two 3GPP mobile devices communicating with
each other do not support a common codec.
\- When transcoding is needed to establish a session where both 3GPP mobile
devices support wide band codecs, transcoding shall be between wide band
codecs in accordance with agreements between the mobile operator and the
Enterprise.
\- When a session using wide band codecs is transferred from the IP-PBX to the
IMS, the IMS shall maintain the ongoing session using wide band codecs in
accordance with mobile operator and Enterprise policy, when the use of wide
band codecs is enabled in the network.
\- The mobile operator's IMS shall provide VoIP service without a reduction in
privacy, security, or authentication compared to corresponding service in the
mobile operator macro network.
\- Interconnection between mobile operator and Enterprise shall be via a QoS-
enabled IP connection.
\- A 3GPP mobile device provisioned in the mobile operator's IMS shall be able
to receive services from an IPâ€‘PBX.
\- Interfaces between mobile operator and Enterprise shall be secured.
\- A 3GPP mobile device shall be able to access IMS services (including IP-
PBX-based services) via multiple access networks within the Enterprise (e.g.,
via H(e)NB or via WLAN connected via the EPS) using a QoS-enabled IP
connection.
\- A 3GPP mobile device shall be able to access VoIP service via an IP
connection with IPv4 or IPv6 addressing with Network Address Translation (NAT)
deployed.
\- Multiple 3GPP mobile devices may be associated with a single VoIP service
subscription. One Public User Identity may be shared between multiple 3GPP
mobile devices. Individual 3GPP mobile devices may be identified with separate
Public User Identities. The mobile operator's IMS shall be able to route
sessions toward the identified 3GPP mobile device(s), e.g. based on 3GPP
mobile device capability, User preference and/or Network preferences.
\- The mobile operator's IMS shall have access to information about the state
of the 3GPP mobile device and IPâ€‘PBX device access connection.
\- Subject to local regulatory requirements, the mobile operator's IMS shall
be able to receive the 3GPP mobile device and IP-PBX device location
information from the Enterprise.
\- Subject to local regulatory requirements, the mobile operator's IMS shall
be able to receive indication of malicious communication from a user in the
Enterprise.
\- The mobile operator's IMS shall be able to transfer VoIP 3GPP mobile device
sessions between 3GPP mobile devices and IP-PBX devices, subject to mobile
operator and Enterprise agreements.
\- Subject to local regulatory requirements, user location information
provided by the Enterprise shall be used by the mobile operator's IMS for
Emergency calls.
\- The mobile operator shall be able to restrict which IP-PBX services are
available to a 3GPP mobile device.
\- The mobile operator shall be able to charge for providing IP-PBX services
to a 3GPP mobile device.
\- Continuity of services provided to a 3GPP mobile device shall be supported
when the 3GPP mobile device moves between an Enterprise environment and a
cellular environment.
\- The mobile operator shall be able to control which entity takes precedence
in case there is a conflict in terms of which entity provides a particular
service (e.g., voice mail) to a 3GPP mobile device.
\- All configuration changes performed by the Enterprise that affect the
interworking with the mobile operator shall be performed in agreement with the
mobile operator
\- Interworking between the Enterprise IP-PBX and the mobile operator IMS
shall comply with IMS Service Control Interface (Section 4.2.4 in TS 23.228).
\- Feature interaction between the existing mobile operator features and the
Enterprise IP-PBX features shall be addressed through bilateral agreement and
is beyond the scope of 3GPP.
# 7A Potential Supplementary Services to support 3GPP Voice Interworking with
Enterprise IP-PBX
## 7A.1 **General**
This clause provides the description of the potential supplementary services
applicable to support 3GPP voice interworking with Enterprise IP-PBX
The services in this clause are examples of the services that could be
supported in an enterprise IP-PBX environment and is not intended to be an
exhaustive list. 3GPP UEs that are designed to work in an Enterprise
environment could support these types of supplementary services..
For each supplementary service, the following is provided:
  * a short service definition;
  * a description of the normal operation with successful outcome.
And when applicable also:
  * a description of exceptional operation or unsuccessful outcome;
  * descriptions on interaction with other supplementary services applicable to IMS Multimedia Telephony service;
  * consideration for interworking with fixed services.
## 7A.2. Enterprise Dial Plan and Calling Policy
### 7A.2.1 Definition
A Dial Plan is a set of rules for translating dialled digits into E.164 \--
compliant telephone numbers. Dial Plans are typically associated with sites or
areas within a site (e.g. a floor of a building). Generally, the dial plan is
responsible for instructing the call processing function of IP-PBX how to
route calls. Implementation of Enterprise Dial Plans is discussed in section
7.5.1 of TS 22.228, with the assumption that Public and Private User
Identifiers are used.
Calling Policies are used to specify the capabilities of individual users
within the Enterprise.
### 7A.2.2 Description
Dial plans are typically used to allow \"short cut\" dialling. This derives
from the historic practice of calling between stations served by the same IP-
PBX by entering only the extension number of the called party. By defining a
dial plan that maps Enterprise-specific dial strings to E.164 numbers, this
convenience is extended beyond the reach of a single IP-PBX or Enterprise
Location.
Note: In today's pre-IMS IP-PBX implementations, not all IP-PBX extension
numbers can be mapped to E.164 numbers. Some do not have Directed Inward
Dialing (DID) capability, so they can be reached only by users within the same
IP-PBX. In this TR we are assuming that all Enterprise extension numbers have
a corresponding IMS Public User Identifier, and that reachability from the
public network is restricted, if desired, through network policy.
Calling Policies are used to specify the capabilities of the Enterprise user.
For example they may define the group to which the user belongs, for purposes
of Call Pickup, and what types of numbers they can dial. Individual policies
can be set to \"automatic\" in order for the user to inherit default policies,
e.g., those associated with the site at which he is currently located or the
policies can be customized for each user.
## 7A.3 Individual Line Services
## 7A.3.1 Introduction
IP-PBX features are generally classified as either Individual Line or Group
Line Services. Individual Line services are applicable to individual
Enterprise users (aka \"lines\" or \"extensions\"). Group Services, in
contrast, are applicable to groups of users.
## 7A.3.2 Call Transfer (Unattended, Attended & Early Attended)
### 7A.3.2.1 Definition
This is based on Explicit Communications Transfer (ECT) as described in
section 8.2.15 of TS 22.173.
### 7A.3.2.2 Description
In an Unattended Call Transfer, an ongoing call is transferred to a 3rd party
by one of the parties (called the transferring party) without checking the
status of the 3rd party. This is supported as a service provider option of ECT
in Section 8.2.15 of TS 22.173.
In an attended call transfer (sometimes called Supervised Call Transfer) the
ongoing call is placed on hold by the transferring party, another call is
established between the transferring party and the party to whom the call is
proposed to be transferred, and then the call is (or may be, depending on the
result of that discussion) transferred to that party. This is effectively a
combination of the Communication HOLD service defined in section 8.2.9 and ECT
defined in section 8.2.15.
In an Early Attended Call Transfer the ongoing call is placed on hold and the
transferring party waits to hear the 3rd party's phone ring. Once the
transferring party hears ring tone, he transfers the call. This is supported
as a service provider option of ECT in Section 8.2.15 of TS 22.173.
## 7A.3.3 Multi-party Ad-hoc Conference with Rosters
### 7A.3.3.1 Definition
Multi-party and Conference Calls provide communications between multiple
users. Such calls may or may not be arranged in advance. Multi-party calls not
arranged in advance are termed \"ad hoc\".
### 7A.3.3.2 Description
Conference calls generally involve multiple parties, so the terms multi-party
call and conference call are in some senses synonymous. Conventionally, the
term conference call refers to a call that is arranged in advance by a
moderator or host who has special privileges (e.g., can mute and un-mute other
participants), with logistics communicated e.g., through email or a calendar
system. To participate in a conference call one typically calls a number
associated with a conferencing server.
An Ad Hoc Multi-party call is usually not pre-arranged and participants are
generally all \"equal\" (they can mute and un-mute themselves). There may or
may not be a conferencing server involved.
The list of participants in a multi-party / conference call is known as the
roster. The IP-PBX may have the ability to supply the roster to the device of
any participant.
## 7A.3.4 Call Forwarding
### 7A.3.4.1 Definition
Call Forwarding, or Communications Diversion (CDIV), is defined in Section
8.2.7 of TS 22.173. Call Forwarding Activation is an action on the part of the
user to change the call forwarding behaviour of his device; e.g., by
activating or deactivating forwarding to a pre-designated number, or changing
the forwarded to number.
### 7A.3.4.2 Description
Call forwarding (aka Communications Diversion or CDIV) is provided to incoming
calls based on the called party\'s status and service configuration. It may be
invoked for the reasons summarized below. Call forwarding for other reasons is
not precluded, as a network option.
  1. Call Forward on Busy - Call Forwarding is invoked because the called party\'s line is not able to accept the incoming call (e.g., it is in use, or off hook).\ \ This is known as Communication Forwarding Busy (CFB) in Section 8.2.7.1 of TS.22.173.
```{=html}
``` 1\. Call Forward on No Answer - Call Forwarding is invoked after the
called party is alerted a configured number of times without response.\ \ This
is known as Communication Forward on No Reply (CFNR) in Section 8..2.7.1 of
TS.22.173.
  1. Call Forward Unconditional - Call Forwarding is enabled by the user (e.g., prior to leaving the office) so that all subsequent calls will be immediately forwarded to the specified destination. This configuration typically remains in effect until manually cancelled. The forwarded line may indicate that it is in this state by issuing a special dial tone (e.g., \"stutter dial tone\") when the receiver it taken off hook. Call Forward Unconditional may be invoked using special key sequences (Vertical Service Codes), e.g., *72 in North America or *21* in Europe, followed by the forward-to number; or via a special button or soft key on the device.\ \ This is known as Communication Forwarding Unconditional (CFU) in Section 8.2.7.1 of TS 22.173.
  2. Call Forward on Do Not Disturb - similar to call forward unconditional, but invoked by pressing the Do Not Disturb button or soft key. Most devices will visually display that they are in the Do Not Disturb state. Pressing the Do Not Disturb button or soft key while in the Do Not Disturb state, causes the line to exit this state.\ \ This is known as Communication Deflection (CD) in Section 8.2.7.1 of TS 22.173.
## 7A.3.5 Single Number Reach (SNR)
### 7A.3.5.1 Definition
The Single Number Reach (SNR) capability allows calls to a IP-PBX extension to
be picked up on or transferred to, alternate devices such as a home phone or
mobile phone.
### 7A.3.5.2 Description
In the case of a call incoming to the number associated with the IP-PBX
extension, the IP-PBX will normally ring that line first. If it is unanswered,
the IP-PBX will ring one or more alternate numbers.
An in-progress call may be \"pushed to\" a pre-configured alternate device by
pressing a special button or key sequence on the device with which the IP-PBX
extension number is associated. Similarly it can be \"pulled back\" to that
device.
## 7A.3.6 Do Not Disturb (DND)
### 7A.3.6.1 Definition
The Do Not Disturb (DND) function prevents calls from being terminated to an
extension for which DND is activated.
### 7A.3.6.2 Description
Calls to an extension for which DND is activated may be directed to a pre-
assigned extension (e.g., a secretary), receive a busy signal, or receive an
indication that the called party is busy. In some IP-PBXs the call may be
allowed through to the extension but displayed differently (e.g., with a
visual indication, but without ringing). It may be possible to circumvent the
called party's DND status by policy (e.g., the called party's boss can \"get
through\") or by entering a circumvention code.
## 7A.3.7 Immediate Divert (to messaging system)
### 7A.3.7.1 Definition
The Immediate Divert function allows a call to be connected to a messaging
system (typically a voice mail system). The call may be active, on hold or in
the process of being established. The messaging system may be associated with
the party invoking the Immediate Divert function, or (if they differ) with the
original called party. When the call is in in the process of being established
this is known as Communication Diversion (CDIV) as defined in Section 8.2.7 of
TS 22.173. When the call is active or on hold, this is known as Explicit
Communication Transfer (ECT) as defined in Section 8.2.15 of TS 22.173.
### 7A.3.7.2 Description
Immediate Divert is invoked by a special key, softkey or key sequence
depending on the capability of the device. The IP-PBX typically informs the
diverted party that the call has been diverted, and to whose messaging system
the diverted party is now speaking.
## 7A.3.8 Shared-line Features (remote-in-use, call-Barge)
### 7A.3.8.1 Definition
A shared line is a telephone number associated with multiple devices at the
same time. A set of devices sharing the same number is called a Shared Line
Group. The Call Barge function allows a user to join an in-progress call in
which it and one of the currently participating devices are members of the
same Shared Line Group.
### 7A.3.8.2 Description
Call Barge is only possible from device 'A' if at least one device in the same
Shared Line Group as 'A' has a call in progress. This status may be indicated
to the user of device 'A' by the IP-PBX.
## 7A.3.9 Callback
### 7A.3.9.1 Definition
The Callback function notifies a user when the party to whom a call was
previously attempted, becomes available. It is effectively the combination of
Communication Completion on Busy (CCBS) and Communication Completion on No
Reply (CCNR) defined in Sections 8.2.11 and 8.2.23 of TS 22.173.
### 7A.3.9.2 Description
If IP-PBX user 'A' attempts to call IP-PBX user 'B' but the call fails, e.g.,
because user B's line was busy or the call was unanswered, user 'A' may invoke
the Callback function. Doing so causes the IP-PBX to monitor B's status, and
notify user A when user B becomes available. For example if B's line was
previously off hook, he will be deemed available when he next goes on hook.
## 7A.3.10 Connected Name and Number Display
### 7A.3.10.1 Definition
This feature allows the device to display the name and/or telephone number of
both current parties on a 2-party call.
### 7A.3.10.2 Description
This feature uses the Connected Line ID Presentation (COLP/COLR) and Connected
Name Presentation (CONP/CONR) services to allow or restrict presentation of
this information on a call by call basis.
Editor's Note: This requires that the IMS or the IP-PBX maintains the name
associated with Enterprise specific identities (short numbers). It is not
certain that this is appropriate in the context of IMS. It is however a
capability commonly supported by today's (non IMS) IP PBX.
## 7A.3.11 Call Whisper
### 7A.3.11.1 Definition
Call Whisper identifies to the called party, information about the caller
(e.g., the caller ID, and the telephone number the caller dialled) while the
caller continues to hear ringing. This information allows the called party to
know how to greet the caller, and/or whether to accept the call. This is an
optional service described in section 7.5.1 of TS 22.228.
### 7A.3.11.2 Description
This capability is often used when multiple non-geographic numbers (e.g., toll
free numbers) are used to route calls to the same directory number. For
example a call center may take calls for many companies, and the receptionists
need to greet the caller differently based on the company to which the call is
related. It can also be used in a FMC scenario where e.g., a call to either
the fixed or the mobile device will cause both to ring. The implementation
will typically translate the called number into a pre-defined phrase (e.g.,
\"this call is for Acme Rockets\" or \"this call is for your mobile\"). The
format of the \"whisper\" may vary (e.g., audio vs. visual presentation)
depending on the capabilities of the device.
## 7A.4 Group Line Services
## 7A.4.1 Introduction
A IP-PBX often provides a set of advanced services to groups of users within
the Enterprise. The groups generally correspond to job functions (e.g., help
desk attendants) or organizations (e.g., marketing, sales). Group Services may
for example allow enhanced collaboration among group members, or allow the
distribution of work across them.
## 7A.4.2 Enterprise Music On Hold
### 7A.4.2.1 Definition
Music on Hold (MOH) is played to the party whose line has been placed on hold.
### 7A.4.2.2 Description
The Music on Hold (MOH) feature allows users to place on-net and off-net users
on hold with music that is streamed from a streaming source. In an Enterprise
MOH is often used to provide information rather than music. The caller may
interact with the MOH capability using simple key sequences, e.g., \"enter *0
to hear about our sales, or *1 to disable this announcement\". The
announcement may be customized based e.g., on the number dialled. The media is
typically streamed from a Music on Hold Server, which may or may not be
considered part of the IP-PBX.
This is an add-on to the Communication HOLD service defined in Section 8.2.9
of TS 22.173. The network should be capable of suppressing MOH when the held
party is part of a multi-party call.
## 7A.4.3 Call Park
### 7A.4.3.1 Definition
The Call Park feature allows a party involved in a call to place that call on
hold on one device and resume it from another.
### 7A.4.3.2 Description
Traditionally Call Park has been activated using a special button (the \"call
park\" button) or key sequence. The call is at that point transferred to an
idle extension, and is said to be \"parked on\" that extension. The IP-PBX may
provide some means of \"paging\" the desired party, e.g., through a public
address system or via some form of messaging. The call can be resumed from any
IP-PBX line, by providing the extension number on which it is \"parked\".
This is a variation of the Communication HOLD service defined in Section 8.2.9
of TS 22.173, where the call can be picked up from a different terminal than
placed on hold.
## 7A.4.4 Call Pickup/Group Pickup
### 7A.4.4.1 Definition
Call Pickup allows a user to answer on one line or device, an incoming call
directed to another line or device. Lines or devices may be assigned to
groups, in which case call pickup is restricted to lines or devices in the
same group. That is known as Group Pickup.
### 7A.4.4.2 Description
Imagine a large room with many phones and few people. One of the phones, on
the far side of the room, starts to ring. Rather than walking across the room,
a user can press a special button or key sequence on his own phone to transfer
that call to his phone. That is Call Pickup.
In a distributed environment it may not be possible for the user to hear the
other phone ringing, so an alternative alerting mechanism may be used. For
example a text message could alert a user on his mobile that his office or
home phone was ringing.
# 8 Assessment
## 8.1 **CS Interworking for VINE**
For CS voice interworking with an Enterprise IP-PBX, the following
requirements are envisioned:
\- support 3GPP mobile devices with only CS access,
\- receive services from an IP-PBX,
\- transfer voice sessions between 3GPP mobile devices with only CS voice
services and IP-PBX devices,
\- support a set of codecs for the voice services,
\- provide transcoding when 3GPP mobile devices communicating with each other
do not support a common codec, and
\- provide voice services without a reduction in privacy, security, or
authentication compared to corresponding service in the mobile operator macro
network.
Since the Enterprise IP-PBX voice interworking functionality will reside in
the operator's IMS, the requirements above can be fulfilled via IMS
Centralised Services defined in TS 22.101 [7].
Therefore, no additional requirements or functionalities need to be defined to
support CS voice interworking with an Enterprise IP-PBX.
# 9 Conclusion
This Technical Report conducted the following:
\- Analysed related standards in the industry such as ETSI TISPAN, and
concluded that the Business trunking standards are outside the scope of this
study.
\- Analysed Enterprise-based service control and identified the gaps.
\- Developed a reference model for this study.
\- Analysed use cases for various aspects of CS and IMS voice interworking
between mobile operator and Enterprise networks.
\- Developed potential requirements for input into TS 22.228.
\- Determined that no additional requirements or functionalities need to be
defined to support CS voice interworking with an Enterprise IP-PBX.
The conclusion of the study is that the use cases considered are valid and
within the scope of 3GPP.
#