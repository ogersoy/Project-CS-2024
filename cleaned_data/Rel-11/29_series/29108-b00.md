# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the subset of Radio Access Network Application
Part (RANAP) messages and procedures, defined in 3GPP TS 25.413 [4], which is
used on the E‑interface. A general description can be found in 3GPP TS 23.002
[7] and 3GPP TS 23.009 [2].
For the initiation and execution of relocation of SRNS (relocation for short,
throughout the whole document) between MSCs a subset of RANAP procedures are
used. For the subsequent control of resources allocated to the User Equipment
(UE) RANAP procedures are used. The Direct Transfer Elementary Procedure (EP)
of RANAP, is used for the transfer of connection management and mobility
management messages between the UE and the controlling 3G_MSC.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary\".
[2] 3GPP TS 23.009: \"Handover procedures\".
[3] Void
[4] 3GPP TS 25.413: \"UTRAN Iu Interface Radio Access Network Application Part
(RANAP) signalling\".
[5] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[6] 3GPP TS 29.010: \"Information element mapping between Mobile Station -
Base Station System (MS - BSS) and Base Station System - Mobile-services
Switching Centre (BSS - MSC); Signalling procedures and the Mobile Application
Part (MAP)\".
[7] 3GPP TS 23.002: \"Network architecture\".
[8] Void
# 3 Abbreviations
For the purposes of the present document, the abbreviations defined in TR
21.905 [1] and the following apply:
3G_MSC A third generation Mobile services Switching Centre that supports the
Iu interface (and possibly also the A-interface)
3G_MSC-A The controlling 3G_MSC on which the call was originally established
3G_MSC-B The 3G_MSC to which the UE is handed over in a Basic Handover
3G_MSC-B\' The 3G_MSC to which the UE is handed over in a Subsequent Handover
3G_MSC-I Interworking 3G_MSC
3G_MSC-T Target 3G_MSC
EP Elementary Procedure
NNSF NAS Node Selection Function
RNC Radio Network Controller
# 4 Principles for the use of RANAP on the E‑interface
## 4.1 General
The mechanism for the transfer of the RANAP messages on the E‑interface is
defined in TS 29.002 [5]. The operation of the relocation procedures between
3G_MSCs and the use of the RANAP messages for those procedures is described in
TS 23.009 [2] and TS 29.010 [6].
RANAP is defined to connect the RNS to both, the cs and ps domain of an UMTS
CN. Procedures, messages and IEs, only defined for communication between the
RNS and the ps domain of an UMTS CN will, of course, never appear on the
E-interface.
In the same way as a the connection oriented service of SCCP is used for the
messages relating to one UE on the 3G_MSC‑RNS interface a TCAP dialogue is
used on the E‑interface for messages relating to one UE. As no correspondence
to the connectionless service on the 3G_MSC‑RNS interface is used on the
E‑interface none of the global procedures are applicable.
The management of the terrestrial circuits between the 3G_MSCs is outside the
scope of the E‑interface (see TS 23.009 [2]), therefore all procedures,
messages and information elements relating to terrestrial circuits are also
excluded from the RANAP procedures and messages used on the E‑interface.
## 4.2 Transfer of RANAP layer 3 messages on the E‑interface
The RANAP data which on the 3G_MSC‑RNS interface is contained in the user data
field of the exchanged SCCP frames is on the E‑interface transferred as the
contents of the access network signalling info in the AN‑APDU parameter as
described in TS 29.002 [5], indicating the access network protocol
identification \"ts3G-25413\".
## 4.3 Roles of 3G_MSC‑A, 3G_MSC‑I and 3G_MSC‑T
For the description in the present document, the 3G_MSC\'s functionality
related to the relocation between 3G_MSCs has been split into three logical
parts, 3G_MSC‑A, 3G_MSC‑T and 3G_MSC‑I. The different roles need not
necessarily be performed by different 3G_MSCs.
3G_MSC‑A is the call/connection controlling part of the 3G_MSC where the
call/connection was originally established and the switching point for
relocation between 3G_MSCs. (This corresponds to 3G_MSC‑A as defined in TS
23.009 [2] and TS 29.002 [5]). The 3G_MSC that is the 3G_MSC‑A will not be
changed during the duration of a call/connection.
3G_MSC‑T is the part relating to the transitory state during the relocation
for the 3G_MSC controlling the RNS the serving RNS functionality is relocated
to, when basic relocation or subsequent relocation (see TS 23.009) take place.
(This corresponds, depending on the type of relocation to 3G_MSC‑A, 3G_MSC‑B
or 3G_MSC‑B\' in TS 23.009 [2] and TS 29.002 [5]).
3G_MSC‑I is the part of a 3G_MSC through which the 3G_MSC‑A, via an
E‑interface (or an internal interface) is in contact with the UE. (This
corresponds, depending on the type of relocation to 3G_MSC‑A, 3G_MSC‑B or
3G_MSC‑B\' in TS 23.009 [2] and TS 29.002 [5]).
The 3G_MSC that is the 3G_MSC‑A can also have the role of either the 3G_MSC‑I
or the 3G_MSC‑T during a period of the call/connection.
The following is applicable for the involved 3G_MSCs concerning the exchange
of RANAP data on an E‑interface before and after a successful inter 3G_MSC
relocation:
1) At basic relocation, two 3G_MSCs are involved, one 3G_MSC being 3G_MSC‑A
and one being 3G_MSC‑T. When this relocation has been performed, the two
3G_MSCs interworking on the E‑interface have the roles of 3G_MSC‑A and
3G_MSC‑I respectively, i.e. the 3G_MSC that is the 3G_MSC‑T during the
relocation is now the 3G_MSC‑I.
2) At subsequent relocation back to 3G_MSC‑A, two 3G_MSCs are involved. The
3G_MSC having the role of 3G_MSC‑A has also the role of 3G_MSC‑T. The other
3G_MSC involved has the role of 3G_MSC‑I. When this relocation has been
completed, there is no exchange of RANAP data on the E‑interface, i.e. the
3G_MSC being the 3G_MSC‑I before and during the relocation is now no longer
taking part.
3) At subsequent relocation of SRNS to an 3G_MSC not being 3G_MSC‑A, three
3G_MSCs are involved. The roles of these 3G_MSCs are 3G_MSC‑A, 3G_MSC‑I, and
3G_MSC‑T respectively. When this relocation has been performed, the two
3G_MSCs interworking on an E‑interface have the roles of 3G_MSC‑A and 3G_MSC‑I
respectively, i.e. the 3G_MSC that is the 3G_MSC‑T during the relocation is
now the 3G_MSC‑I and the 3G_MSC being 3G_MSC‑I during the relocation is now no
longer taking part.
# 5 Use of the RANAP on the E‑interface
The dedicated RANAP procedures used on the E‑interface to some extent are:
\- RAB assignment;
\- RAB Release Request;
\- Iu Release Request;
\- Relocation resource allocation;
\- Relocation Detect;
\- Relocation Complete;
\- Relocation Cancel;
\- CN Invoke Trace;
\- Security mode control;
\- Location Reporting Control;
\- Location Report;
\- Direct Transfer;
\- Error Indication;
\- Common ID;
> \- Location Related Data;
\- UE Specific Information;
\- RAB Modification Request.
## 5.1 RAB Assignment
The RAB Assignment procedure (TS 25.413 [4] subclause 8.2) is applied on the
E‑interface with following conditions:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
The handling of terrestrial resources is not applicable, i.e. the RANAP IEs
_Transport Layer Address_ and _Iu Transport Association_ will be assigned by
the 3G_MSC-I.
## 5.2 RAB Release Request
For the RAB Release Request procedure (TS 25.413 [4] subclauses 8.3) the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑I acts as the RNS;
\- the 3G_MSC‑A acts as the 3G_MSC.
## 5.3 Iu Release Request
For the Iu Release Request procedure (TS 25.413 [4] subclause 8.4) the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑I acts as the RNS;
\- the 3G_MSC‑A acts as the 3G_MSC.
Additionally, at basic Inter‑3G_MSC relocation and at subsequent Inter‑3G_MSC
relocation (TS 23.009 [2]), if the 3G_MSC that is the 3G_MSC‑A is not also the
3G_MSC‑T, the Iu Release Request procedure (TS 25.413 [4] subclause 8.4) is
applied on the E‑interface with the following conditions:
\- the 3G_MSC‑T acts as the RNS;
\- the 3G_MSC‑A acts as the 3G_MSC.
## 5.4 Relocation Resource Allocation
At basic Inter‑3G_MSC relocation (TS 23.009 [2]) the Relocation Resource
Allocation procedure (TS 25.413 [4] subclause 8.7) is applied on the
E‑interface with the following conditions:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑T acts as the target RNS.
At subsequent Inter‑3G_MSC relocation the Relocation Resource Allocation
procedure is applied on the E‑interface with the following conditions:
\- the 3G_MSC‑I acts as the 3G_MSC;
\- the 3G_MSC‑T acts as the target RNS;
\- if the 3G_MSC that is the 3G_MSC‑A is not also the 3G_MSC‑T, then this
3G_MSC shall act as the target RNS towards the 3G_MSC‑I and as the 3G_MSC
towards the 3G_MSC‑T.
The handling of terrestrial resources is not applicable, i.e. the RANAP IEs
_Transport Layer Address_ and _Iu Transport Association_ will be assigned by
the 3G_MSC-T.
In case NNSF is active, the _Iu Signalling Connection Identifier_ IE and the
_Global CN ID_ IE shall be set by the 3G_MSC_T towards Target RNC.
## 5.5 Relocation Cancel
For subsequent Inter-3G_MSC relocation the Relocation Cancel procedure (TS
25.413 [4] subclause 8.10) is applied on the E-interface with the following
conditions.
\- the 3G_MSC‑A, acts as the 3G_MSC;
\- the 3G_MSC‑I, acts as the serving RNS.
## 5.6 Relocation Detect and Relocation Complete
For the Relocation Detect and Relocation Complete procedure (TS 25.413 [4]
subclauses 8.8 and 8.9) the applicable parts on the E‑interface are the
transfer of RELOCATION DETECT, RELOCATION COMPLETE messages at inter 3G_MSC
relocation. For those parts, the involved 3G_MSCs shall act according to the
following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑T acts as the target RNS.
## 5.7 CN Trace invocation
For the CN Trace invocation procedure (TS 25.413 [4], subclause 8.17), the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
Additionally, at basic Inter‑3G_MSC relocation and at subsequent Inter‑3G_MSC
relocation (TS 23.009 [2]), if the 3G_MSC that is the 3G_MSC‑A is not also the
3G_MSC‑T, the CN Trace invocation procedure (TS 25.413 [4], subclause 8.17) is
applied on the E‑interface with the following conditions:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑T acts as the RNS.
## 5.8 Security mode control
For the Security mode control procedure (TS 25.413 [4], subclause 8.18), the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.9 Location Reporting Control
For the Location Reporting Control procedure (TS 25.413 [4], subclause 8.19),
the involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
Additionally, at basic Inter‑3G_MSC relocation and at subsequent Inter‑3G_MSC
relocation (3GPP TS 23.009 [2]), if the 3G_MSC that is the 3G_MSC‑A is not
also the 3G_MSC‑T, the Location Reporting Control procedure (TS 25.413 [4]
subclause 8.19) is applied on the E‑interface with the following conditions:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑T acts as the RNS.
## 5.10 Location Report
For the Location Report procedure (TS 25.413 [4], subclause 8.20, the involved
3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.11 Direct Transfer
For the Direct Transfer procedure (TS 25.413 [4], subclause 8.23), the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.12 Error Indication
For the Error Indication procedure (TS 25.413 [4], subclause 8.27), the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
  * the 3G_MSC‑I acts as the RNS.
## 5.13 CN Deactivate Trace
For the CN Deactivate Trace procedure procedure (TS 25.413 [4], subclause
8.28), the involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.14 Common ID
For the Common ID procedure (TS 25.413 [4], subclause 8.16), the involved 3G
MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.15 Location Related Data
For the Location Related Data procedure (TS 25.413 [4], subclause 8.31), the
involved 3G_MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.16 UE Specific Information
For the UE Specific Information procedure (TS 25.413 [4], subclause 8.33), the
involved 3G MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
## 5.17 RAB Modification Request
For the RAB Modification Request procedure (TS 25.413 [4], subclause 8.30),
the involved 3G MSCs shall act according to the following:
\- the 3G_MSC‑A acts as the 3G_MSC;
\- the 3G_MSC‑I acts as the RNS.
# 6 RANAP messages transferred on the E‑interface
The list given below shows the RANAP messages, defined in TS 25.413 [4]
subclause 9.1(tabular format) and 9.3 (ASN.1 notation) that are transferred on
the E‑interface.
RAB ASSIGNMENT REQUEST (3G_MSC‑A ‑> 3G_MSC‑I)
RAB ASSIGNMENT RESPONSE (3G_MSC‑I ‑> 3G_MSC‑A)
RAB RELEASE REQUEST (3G_MSC‑I ‑> 3G_MSC‑A)
IU RELEASE REQUEST (3G_MSC‑I ‑> 3G_MSC‑A and 3G_MSC‑T ‑> 3G_MSC‑A)
* RELOCATION REQUEST (3G_MSC‑A ‑> 3G_MSC‑T and 3G_MSC‑I ‑> 3G_MSC‑A)
* RELOCATION REQUEST ACKNOWLEDGE (3G_MSC‑T ‑> 3G_MSC‑A and 3G_MSC‑A ‑> 3G_MSC‑I)
* RELOCATION DETECT (3G_MSC‑T ‑> 3G_MSC‑A)
* RELOCATION COMPLETE (3G_MSC‑T ‑> 3G_MSC‑A)
* RELOCATION FAILURE (3G_MSC‑T ‑> 3G_MSC‑A and 3G_MSC‑A ‑> 3G_MSC‑I)
> * RELOCATION CANCEL (3G_MSC‑I ‑> 3G_MSC‑A)
* RELOCATION CANCEL ACKNOWLEDGE (3G_MSC‑A ‑> 3G_MSC‑I)
# CN INVOKE TRACE (3G_MSC-A -> 3G_MSC-I and 3G_MSC‑A ‑> 3G_MSC‑T)
SECURITY MODE COMMAND (3G_MSC-A -> 3G_MSC-I)
SECURITY MODE COMPLETE (3G_MSC-I -> 3G_MSC-A)
SECURITY MODE REJECT (3G_MSC-I -> 3G_MSC-A)
LOCATION REPORTING CONTROL (3G_MSC-A -> 3G_MSC-I and 3G_MSC‑A ‑> 3G_MSC‑T)
LOCATION REPORT (3G_MSC-I -> 3G_MSC-A)
DIRECT TRANSFER (3G_MSC-A -> 3G_MSC-I and 3G_MSC-I -> 3G_MSC-A)
ERROR INDICATION (3G_MSC-A -> 3G_MSC-I and 3G_MSC-I -> 3G_MSC-A)
# CN DEACTIVATE TRACE (3G_MSC-A -> 3G_MSC-I)
COMMON ID (3G_MSC-A -> 3G_MSC-I)
LOCATION RELATED DATA REQUEST (3G_MSC-A -> 3G_MSC-I)
LOCATION RELATED DATA RESPONSE (3G_MSC-I -> 3G_MSC-A)
LOCATION RELATED DATA FAILURE (3G_MSC-I -> 3G_MSC-A)
UE SPECIFIC INFORMATION INDICATION (3G_MSC-A -> 3G_MSC-I)
RAB MODIFY REQUEST (3G_MSC-I -> 3G_MSC-A)
All other RANAP messages shall be considered as non‑existent on the
E‑interface.
Some of the messages above are qualified by * or #. This indicates whether the
message, when sent on the E interface, is considered as:
\- relocation related message (*); or
\- trace related message (#).
# 7 Exceptions for RANAP message contents and information element coding when
transferred on the E‑interface
## 7.1 Message Contents
For the applicable RANAP messages transferred on the E‑interface the following
exceptions to the descriptions in TS 25.413 [4] are valid:
RAB ASSIGNMENT REQUEST message
  * _Transport Layer Address_ IE:
if received, this IE shall be ignored;
  * _Iu Transport Association_ IE:
if received, this IE shall be ignored;
  * _UP Mode Versions_ IE:
the information given within this IE is only useful in case of TrFO.
RELOCATION REQUEST message
  * _Transport Layer Address_ IE:
if received, this IE shall be ignored;
  * _Iu Transport Association_ IE:
if received, this IE shall be ignored;
  * _UP Mode Versions_ IE:
the information given within this IE is only useful in case of TrFO;
  * _Iu Signalling Connection Identifier IE_ :
if received, this IE shall be ignored;
  * _Global CN ID IE_ :
if received, this IE shall be ignored.
# 8 RANAP message error handling when transferred on the E‑interface
The RANAP error handling (TS 25.413 [4], clause 10) is applicable. The
handling of faults concerning the use of SCCP is not applicable.
The RANAP error messages sent on the E‑interface shall only be sent as
response to RANAP messages received on the same interface.
#