# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The objective of this document is to address the Inter-IMS Network to Network
Interface (II-NNI) consisting of Ici and Izi reference points between IMS
networks in order to support end-to-end service interoperability.
The present document will address the issues related to control plane
signalling (3GPP usage of SIP and SDP protocols, required SIP header fields)
as well as other interconnecting aspects like security,
numbering/naming/addressing and user plane issues as transport protocol, media
and codecs actually covered in a widespread set of 3GPP specifications. A
profiling of the Inter-IMS Network to Network Interface (II-NNI) is also
provided.
Charging aspects will be addressed as far as SIP signalling is concerned.
SIP signalling traversing the NNI between a CSCF and an AS or MRB, e.g. for
media control or Voice Interworking with Enterprise IP-PBX, and SIP signalling
traversing the NNI on the Mr interface between the CSCF and the MRFC, or on
the Mr\' interface between the AS and MRFC, or on the Rc interface between AS
and MRB is not considered in the present release of this specification.
SIP signalling traversing the NNI between an ISC gateway and an AS in an
enterprise network, e.g. for media control and voice interworking with
enterprise IP-PBX, on the ISC interface between the ISC gateway and the
enterprise network is not considered in the present release of this
specification.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document in the same
Release as the present document.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] IETF RFC 791: \"Internet Protocol\".
[3] 3GPP TS 23.002: \"Network architecture\".
[4] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[5] 3GPP TS 24.229: \"Internet Protocol (IP) multimedia call control protocol
based on Session Initiation Protocol (SIP) and Session Description Protocol
(SDP); Stage 3\".
[6] 3GPP TR 24.930: \"Signalling flows for the session setup in the IP
Multimedia core network Subsystem (IMS) based on Session Initiation Protocol
(SIP) and Session Description Protocol (SDP); Stage 3\".
[7] IETF RFC 2460: \"Internet Protocol, Version 6 (IPv6) Specification\".
[8] 3GPP TS 29.162: \"Interworking between the IM CN subsystem and IP
networks\".
[9] 3GPP TS 22.228: \"Service requirements for the IP multimedia core network
subsystem\".
[10] 3GPP TS 33.210: \"3G security; Network Domain Security (NDS); IP network
layer security\".
[11] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia Telephony;
Media handling and interaction\".
[12] ETSI TS 181 005 1.1.1: \"Telecommunications and Internet converged
Services and Protocols for Advanced Networking (TISPAN); Services and
Capabilities Requirements\".
[13] IETF RFC 3261: \"SIP: Session Initiation Protocol\".
[14] IETF RFC 3966: \"The tel URI for Telephone Numbers\".
[15] IETF RFC 3860: \"Common Profile for Instant Messaging (CPIM)\".
[16] IETF RFC 3859: \"Common Profile for Presence (CPP)\".
[17] IETF RFC 4975: \"The Message Session Relay Protocol (MSRP)\".
[18] IETF RFC 3262: \"Reliability of provisional responses in Session
Initiation Protocol (SIP)\".
[19] IETF RFC 3428: \"Session Initiation Protocol (SIP) Extension for Instant
Messaging\".
[20] IETF RFC 3265: \"Session Initiation Protocol (SIP) Specific Event
Notification\".
[21] IETF RFC 3903: \"An Event State Publication Extension to the Session
Initiation Protocol (SIP)\".
[22] IETF RFC 3515: \"The Session Initiation Protocol (SIP) REFER method\".
[23] IETF RFC 3311: \"The Session Initiation Protocol (SIP) UPDATE method\".
[24] IETF RFC 7315: \"Private Header (P-Header) Extensions to the Session
Initiation Protocol (SIP) for the 3GPP\".
[24A] IETF RFC 7976: \"Updates to Private Header (P-Header) Extension Usage in
Session Initiation Protocol (SIP) Requests and Responses\".
[24B] IETF RFC 7913: \"P-Access-Network-Info ABNF Update\".
[25] IETF RFC 4244: \"An Extension to the Session Initiation Protocol (SIP)
for Request History Information\".
[26] IETF RFC 6050: \"A Session Initiation Protocol (SIP) Extension for the
Identification of Services\".
[27] IETF RFC 4168: \"The Stream Control Transmission Protocol (SCTP) as a
Transport for the Session Initiation Protocol (SIP)\".
[28] Void.
[29] 3GPP TS 32.260: \"Telecommunication management; Charging management; IP
Multimedia Subsystem (IMS) charging\".
[30] 3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS); Multimedia
Telephony Service and supplementary services; Stage 1\".
[31] 3GPP TS 24.173: \"IMS multimedia telephony communication service and
supplementary services; Stage 3\".
[32] 3GPP TS 24.607: \"Originating Identification Presentation (OIP) and
Originating Identification Restriction (OIR) using IP Multimedia (IM); Core
Network (CN) subsystem\".
[33] 3GPP TS 24.616: \"Malicious Communication Identification (MCID) using IP
Multimedia (IM) Core Network (CN) subsystem\".
[34] IETF RFC 3323: \"A Privacy Mechanism for the Session Initiation Protocol
(SIP)\".
[35] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[36] 3GPP TS 24.610: \"Communication HOLD (HOLD) using IP Multimedia (IM) Core
Network (CN) subsystem\".
[37] 3GPP TS 24.615: \"Communication Waiting (CW) using IP Multimedia (IM)
Core Network (CN) subsystem\".
[38] 3GPP TS 24.628: \"Common Basic Communication procedures using IP
Multimedia (IM) Core Network (CN) subsystem\".
[39] IETF RFC 6086: \"Session Initiation Protocol (SIP) INFO Method and
Package Framework\".
[40] IETF RFC 3312: \"Integration of resource management and Session
Initiation Protocol (SIP)\".
[41] IETF RFC 4032: \"Update to the Session Initiation Protocol (SIP)
Preconditions Framework\".
[42] IETF RFC 3313: \"Private Session Initiation Protocol (SIP) Extensions for
Media Authorization\".
[43] IETF RFC 3327: \"Session Initiation Protocol Extension Header Field for
Registering Non-Adjacent Contacts\".
[44] IETF RFC 3325: \"Private Extensions to the Session Initiation Protocol
(SIP) for Network Asserted Identity within Trusted Networks\".
[45] IETF RFC 3608: \"Session Initiation Protocol (SIP) Extension Header Field
for Service Route Discovery During Registration\".
[46] IETF RFC 3486: \"Compressing the Session Initiation Protocol (SIP)\".
[47] IETF RFC 3329: \"Security Mechanism Agreement for the Session Initiation
Protocol (SIP)\".
[48] IETF RFC 3326: \"The Reason Header Field for the Session Initiation
Protocol (SIP)\".
[49] IETF RFC 6432: \"Carrying Q.850 Codes in Reason Header Fields in SIP
(Session Initiation Protocol) Responses\".
[50] IETF RFC 3581: \"An Extension to the Session Initiation Protocol (SIP)
for Symmetric Response Routing\".
[51] IETF RFC 3841: \"Caller Preferences for the Session Initiation Protocol
(SIP)\".
[52] IETF RFC 4028: \"Session Timers in the Session Initiation Protocol
(SIP)\".
[53] IETF RFC 3892: \"The Session Initiation Protocol (SIP) Referred-By
Mechanism\".
[54] IETF RFC 3891: \"The Session Initiation Protocol (SIP) \'Replaces\'
Header\".
[55] IETF RFC 3911: \"The Session Initiation Protocol (SIP) \'Join\' Header\".
[56] IETF RFC 3840: \"Indicating User Agent Capabilities in the Session
Initiation Protocol (SIP)\".
[57] IETF RFC 5079: \"Rejecting Anonymous Requests in the Session Initiation
Protocol (SIP)\".
[58] IETF RFC 4458: \"Session Initiation Protocol (SIP) URIs for Applications
such as Voicemail and Interactive Voice Response (IVR)\".
[59] IETF RFC 4320: \"Actions Addressing Identified Issues with the Session
Initiation Protocol\'s (SIP) Non-INVITE Transaction\".
[60] IETF RFC 4457: \"The Session Initiation Protocol (SIP) P-User-Database
Private-Header (P-header)\".
[61] IETF RFC 5031: \"A Uniform Resource Name (URN) for Emergency and Other
Well-Known Services\".
[62] IETF RFC 5627: \"Obtaining and Using Globally Routable User Agent (UA)
URIs (GRUU) in the Session Initiation Protocol (SIP)\".
[63] Void.
[64] IETF RFC 5002: \"The Session Initiation Protocol (SIP) P-Profile-Key
Private Header (P-Header)\".
[65] IETF RFC 5626: \"Managing Client-Initiated Connections in the Session
Initiation Protocol (SIP)\".
[66] IETF RFC 5768: \"Indicating Support for Interactive Connectivity
Establishment (ICE) in the Session Initiation Protocol (SIP)\".
[67] IETF RFC 5365: \"Multiple-Recipient MESSAGE Requests in the Session
Initiation Protocol (SIP)\".
[68] IETF RFC 6442: \"Location Conveyance for the Session Initiation
Protocol\".
[69] IETF RFC 5368: \"Referring to Multiple Resources in the Session
Initiation Protocol (SIP)\".
[70] IETF RFC 5366: \"Conference Establishment Using Request-Contained Lists
in the Session Initiation Protocol (SIP)\".
[71] IETF RFC 5367: \"Subscriptions to Request-Contained Resource Lists in the
Session Initiation Protocol (SIP)\".
[72] IETF RFC 4967: \"Dial String Parameter for the Session Initiation
Protocol Uniform Resource Identifier\".
[73] IETF RFC 4964: \"The P-Answer-State Header Extension to the Session
Initiation Protocol for the Open Mobile Alliance Push to Talk over Cellular\".
[74] IETF RFC 5009: \"Private Header (P-Header) Extension to the Session
Initiation Protocol (SIP) for Authorization of Early Media\".
[75] IETF RFC 4694: \"Number Portability Parameters for the \'tel\' URI\".
[76] Void.
[77] IETF RFC 4411: \"Extending the Session Initiation Protocol (SIP) Reason
Header for Preemption Events\".
[78] IETF RFC 4412: \"Communications Resource Priority for the Session
Initiation Protocol (SIP)\".
[79] IETF RFC 5393: \"Addressing an Amplification Vulnerability in Session
Initiation Protocol (SIP) Forking Proxies\".
[80] IETF RFC 5049: \"Applying Signaling Compression (SigComp) to the Session
Initiation Protocol (SIP)\".
[81] IETF RFC 5688: \"A Session Initiation Protocol (SIP) Media Feature Tag
for MIME Application Sub-Types\".
[82] IETF RFC 5360: \"A Framework for Consent-Based Communications in the
Session Initiation Protocol (SIP)\".
[83] IETF RFC 7433: \"A Mechanism for Transporting User-to-User Call Control
Information in SIP\".
[83A] IETF RFC 7434: \"Interworking ISDN Call Control User Information with
SIP\".
[84] IETF RFC 7316: \"The Session Initiation Protocol (SIP) P-Private-Network-
Indication Private Header (P-Header)\".
[85] IETF RFC 5502: \"The SIP P-Served-User Private-Header (P-Header) for the
3GPP IP Multimedia (IM) Core Network (CN) Subsystem\".
[86] Void.
[87] Void.
[88] IETF RFC 6228: \"Response Code for Indication of Terminated Dialog\".
[89] IETF RFC 5621: \"Message Body Handling in the Session Initiation Protocol
(SIP)\".
[90] IETF RFC 6223: \"Indication of support for keep-alive\".
[91] IETF RFC 5552: \"SIP Interface to VoiceXML Media Services\".
[92] IETF RFC 3862: \"Common Presence and Instant Messaging (CPIM): Message
Format\".
[93] IETF RFC 5438: \"Instant Message Disposition Notification\".
[94] IETF RFC 5373: \"Requesting Answering Modes for the Session Initiation
Protocol (SIP)\".
[95] Void.
[96] IETF RFC 3959: \"The Early Session Disposition Type for the Session
Initiation Protocol (SIP)\".
[97] Void.
[98] 3GPP TS 24.183: \"Customized Ringing Signal (CRS) using IP Multimedia
(IM) Core Network (CN) subsystem\".
[99] 3GPP TS 24.259: \"Personal Network Management (PNM) using IP Multimedia
(IM) Core Network (CN) subsystem\".
[100] 3GPP TS 24.238: \"Session Initiation Protocol (SIP) based user
configuration\".
[101] 3GPP TS 24.239: \"Flexible Alerting (FA) using IP Multimedia (IM) Core
Network (CN) subsystem\".
[102] Void.
[103] 3GPP TS 24.654: \"Closed User Group (CUG) using IP Multimedia (IM) Core
Network (CN) subsystem\".
[104] Void.
[105] 3GPP TS 24.605: \"Conference (CONF) using IP Multimedia (IM) Core
Network (CN) subsystem\".
[106] 3GPP TS 24.147: \"Conferencing using the IP Multimedia (IM) Core Network
(CN) subsystem\".
[107] Void.
[108] Void.
[109] 3GPP TS 24.642: \"Completion of Communications to Busy Subscriber (CCBS)
Completion of Communications by No Reply (CCNR) using IP Multimedia (IM) Core
Network (CN) subsystem\".
[110] Void.
[111] Void.
[112] 3GPP TS 24.606: \"Message Waiting Indication (MWI) using IP Multimedia
(IM) Core Network (CN) subsystem\".
[113] 3GPP TS 24.608: \"Terminating Identification Presentation (TIP) and
Terminating Identification Restriction (TIR) using IP Multimedia (IM); Core
Network (CN) subsystem\".
[114] 3GPP TS 24.611: \"Communication Barring (CB) using IP Multimedia (IM);
Core Network (CN) subsystem\".
[115] Void.
[116] 3GPP TS 24.629: \"Explicit Communication Transfer (ECT) using IP
Multimedia (IM) Core Network (CN) subsystem\".
[117] 3GPP TS 24.604: \"Communication DIVersion (CDIV) using IP Multimedia
(IM) Core Network (CN) subsystem\".
[118] Void.
[119] Void.
[120] 3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) Centralized Services;
Stage 2\".
[121] 3GPP TS 24.292: \"IP Multimedia Core Network subsystem Centralized
Services (ICS); Stage 3\".
[122] 3GPP TS 24.647: \"Advice Of Charge (AOC) using IP Multimedia (IM) Core
Network (CN) subsystem\".
[123] Void.
[124] IETF RFC 7329: \"A Session Identifier for the Session Initiation
Protocol (SIP)\".
[125] IETF RFC 6026: \"Correct Transaction Handling for 2xx Responses to
Session Initiation Protocol (SIP) INVITE Requests\".
[126] IETF RFC 5658: \"Addressing Record-Route issues in the Session
Initiation Protocol (SIP)\".
[127] IETF RFC 5954: \"Essential correction for IPv6 ABNF and URI comparison
in RFC3261\".
[128] Void.
[129] 3GPP TS 24.182: \"IP Multimedia Subsystem (IMS) Customized Alerting
Tones (CAT)\".
[130] 3GPP TS 29.292: \"Interworking between the IP Multimedia (IM) Core
Network (CN) subsystem and MSC Server for IMS Centralized Services (ICS)\".
[131] 3GPP TS 24.237: \"IP Multimedia (IM) Core Network (CN) subsystem; IP
Multimedia Subsystem (IMS) Service Continuity\".
[132] 3GPP TS 24.141: \"Presence service using the IP Multimedia (IM) Core
Network (CN) subsystem\".
[133] IETF RFC 6794: \"A Framework for Session Initiation Protocol (SIP)
Session Policies\".
[134] IETF RFC 5875: \"An Extensible Markup Language (XML) Configuration
Access Protocol (XCAP) Diff Event Package\".
[135] IETF RFC 4488: \"Suppression of Session Initiation Protocol (SIP) REFER
Method Implicit Subscription\".
[136] IETF RFC 7462: \"URNs for the Alert-Info Header Field of the Session
Initiation Protocol (SIP)\".
[137] Void.
[138] OMA-TS-Presence_SIMPLE-V2_0-20120710-A: \"Presence SIMPLE
Specification\".
[139] 3GPP TS 24.247: \"Messaging service using the IP Multimedia (IM) Core
Network (CN) subsystem\".
[140] IETF RFC 4538: \"Request Authorization through Dialog Identification in
the Session Initiation Protocol (SIP)\".
[141] IETF RFC 5318: \"The Session Initiation Protocol (SIP) P-Refused-URI-
List Private-Header (P-Header)\".
[142] OMA-TS-Presence_SIMPLE-V1_1_1-20100225-A: \"Presence SIMPLE
Specification\".
[143] IETF RFC 6809: \"Mechanism to Indicate Support of Features and
Capabilities in the Session Initiation Protocol (SIP)\".
[144] IETF RFC 5839: \"An Extension to Session Initiation Protocol (SIP)
Events for Conditional Event Notification\".
[145] Void.
[146] IETF RFC 3264: \"An Offer/Answer Model with the Session Description
Protocol (SDP)\".
[147] IETF RFC 4566: \"SDP: Session Description Protocol\".
[148] 3GPP TS 29.079: \"Optimal Media Routeing within the IP Multimedia
Subsystem; Stage 3\".
[149] 3GPP TS 24.337: \"IP Multimedia Subsystem (IMS) inter-UE transfer\".
[150] IETF RFC 3960: \"Early Media and Ringing Tone Generation in the Session
Initiation Protocol (SIP)\".
[151] IETF RFC 3550: \"RTP: A Transport Protocol for Real-Time Applications\".
[152] IETF RFC 768: \"User Datagram Protocol\".
[153] IETF RFC 3551: \"RTP Profile for Audio and Video Conferences with
Minimal Control\".
[154] IETF RFC 3556: \"Session Description Protocol (SDP) Bandwidth Modifiers
for RTP Control Protocol (RTCP) Bandwidth\".
[155] IETF RFC 4585: \"Extended RTP Profile for Real-time Transport Control
Protocol (RTCP)-Based Feedback (RTP/AVPF)\".
[156] IETF RFC 793: \"Transmission Control Protocol\".
[157] IETF RFC 4733: \"RTP Payload for DTMF Digits, Telephony Tones, and
Telephony Signals\".
[158] IETF RFC 4916: \"Connected Identity in the Session Initiation Protocol
(SIP)\".
[159] 3GPP TS 23.237: \"IP Multimedia Subsystem (IMS) Service Continuity\".
[160] IETF RFC 6140: \"Registration for Multiple Phone Numbers in the Session
Initiation Protocol (SIP)\".
[161] IETF RFC 6230: \"Media Control Channel Framework\".
[162] IETF RFC 4145: \"TCP-Based Media Transport in the Session Description
Protocol (SDP)\".
[163] 3GPP TS 24.390: \"Unstructured Supplementary Service Data (USSD)\".
[164] IETF RFC 6357: \"Design Considerations for Session Initiation Protocol
(SIP) Overload Control\".
[165] IETF RFC 7339: \"Session Initiation Protocol (SIP) Overload Control\".
[166] IETF RFC 7415: \"Session Initiation Protocol (SIP) Rate Control\".
[167] IETF RFC 7200: \"A Session Initiation Protocol (SIP) Load-Control Event
Package\".
[168] 3GPP TS 29.163: \"Interworking between the IP Multimedia (IM) Core
Network (CN) subsystem and Circuit Switched (CS) networks\".
[169] IETF RFC 2046: \"Multipurpose Internet Mail Extensions (MIME) Part Two:
Media Types\".
[170] IETF RFC 2387: \"The MIME Multipart/Related Content-type\".
[171] IETF RFC 3420: \"Internet Media Type message/sipfrag\".
[172] IETF RFC 3842: \"A Message Summary and Message Waiting Indication Event
Package for the Session Initiation Protocol (SIP)\".
[173] IETF RFC 3858: \"An Extensible Markup Language (XML) Based Format for
Watcher Information\".
[174] IETF RFC 3863: \"Presence Information Data Format (PIDF)\".
[175] IETF RFC 3994: \"Indication of Message Composition for Instant
Messaging\".
[176] IETF RFC 4661: \"An Extensible Markup Language (XML) Based Format for
Event Notification Filtering\".
[177] IETF RFC 4662: \"A Session Initiation Protocol (SIP) Event Notification
Extension for Resource Lists\".
[178] IETF RFC 4826: \"Extensible Markup Language (XML) Formats for
Representing Resource Lists\".
[179] IETF RFC 5262: \"Presence Information Data Format (PIDF) Extension for
Partial Presence\".
[180] IETF RFC 5874: \"An Extensible Markup Language (XML) Document Format for
Indicating a Change in XML Configuration Access Protocol (XCAP) Resources\".
[181] Void.
[182] OMA-SUP-XSD_prs_suppnotFilter-V1_0-20120710-A: \"Presence - Event
notification suppression filter\".
[183] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[184] 3GPP TS 29.658: \"SIP Transfer of IP Multimedia Service Tariff
Information\".
[185] 3GPP TS 22.153: \"Multimedia priority service\".
[186] IETF RFC 8498: \"A P-Served-User Header Field Parameter for an
Originating Call Diversion (CDIV) Session Case in the Session Initiation
Protocol (SIP)\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**example:** text used to clarify abstract rules by applying them literally.
**IM CN subsystem:** (IP Multimedia CN subsystem) comprises of all CN elements
for the provision of IP multimedia applications over IP multimedia sessions,
as specified in 3GPP TS 22.228 [9].
**IP multimedia session:** as specified in 3GPP TS 22.228 [9] an IP multimedia
session is a set of multimedia senders and receivers and the data streams
flowing from senders to receivers. IP multimedia sessions are supported by the
IP multimedia CN Subsystem and are enabled by IP connectivity bearers (e.g.
GPRS as a bearer). A user can invoke concurrent IP multimedia sessions.
**non-roaming II-NNI** : the II-NNI between IMS home networks, or, if the
Roaming Architecture for Voice over IMS with Local Breakout is used,
alternatively the II-NNI between the caller\'s visited network and the
callee\'s home network.
**roaming II-NNI** : the II-NNI between a visited IMS network and the IMS home
network; for the Roaming Architecture for Voice over IMS with Local Breakout,
the loopback traversal scenario is excluded.
**loopback traversal scenario** : for the Roaming Architecture for Voice over
IMS with Local Breakout, the scenario where the II-NNI between the caller\'s
home network and the caller\'s visited network is being traversed by an
initial INVITE request from the caller\'s home network to the caller\'s
visited network or any subsequent SIP message within the same dialogue on the
same call leg.
**home-to-visited request on roaming II-NNI** : SIP request being sent from
the callee\'s home network to the callee\'s visited network.
**visited-to-home request on roaming II-NNI** : SIP request being sent from
the caller\'s visited network to the caller\'s home network.
**home-to-visited response on roaming II-NNI** : SIP response being sent from
the caller\'s home network to the caller\'s visited network.
**visited-to-home response on roaming II-NNI** : SIP response being sent from
the callee\'s visited network to the callee\'s home network.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.292 [120] apply:
**MSC Server enhanced for ICS**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.237 [159] apply:
**MSC server enhanced for SRVCC**
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
I2 Reference point between the MSC Server enhanced for ICS and the home IMS
Ici Reference Point between an IBCF and another IBCF belonging to a different
IM CN subsystem network
Izi Reference Point between a TrGW and another TrGW or media handling node
belonging to a different IM CN subsystem network
Mi Reference Point between a BGCF and CSCF
Mm Reference Point between a CSCF/BGCF/IMS ALG and an IP multimedia network
Mw Reference Point between a CSCF and another CSCF
Mx Reference Point between a CSCF/BGCF/MSC Server enhanced for ICS/ MSC Server
enhanced for SRVCC and IBCF
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ACR Anonymous Communication Rejection
AS Application Server
ATCF Access Transfer Control Function
B2BUA Back 2 Back User Agent
BGCF Breakout Gateway Control Function
CAT Customized Alerting Tone
CB Communication Barring
CCBS Completion of Communications to Busy Subscriber
CCNR Communication Completion on No Reply
CDIV Communication Diversion
CRS Customized Ringing Signal
ECT Explicit Communication Transfer
FA Flexible Alerting
HOLD Communication HOLD
CW Communication Waiting
IBCF Interconnection Border Control Function
ICB Incoming Communication Barring
ICID IMS Charging Identifier
ICS IMS Centralized Services
I-CSCF Interrogating CSCF
II-NNI Inter-IMS Network to Network Interface
IM Instant Messaging
IMS-ALG IMS Application Level Gateway
IOI Inter Operator Identifier
IUT Inter UE Transfer
MCID Malicious Communication IDentification
MMTEL Multimedia Telephony
MPS Multimedia Priority Service
MRB Media Resource Broker
MRFC Media Resource Function Controller
MRFP Multimedia Resource Function Processor
MSRP Message Session Relay Protocol
MWI Message Waiting Indication
NA(P)T-PT Network Address (Port-Multiplexing) Translation-Protocol Translation
NNI Network to Network Interface
OCB Outgoing Communication Barring
OIP Originating Identification Presentation
OIR Originating Identification Restriction
OMA Open Mobile Alliance
OMR Optimal Media Routeing
P-CSCF Proxy CSCF
PNM Personal Network Management
PRES Presence
SRVCC Single Radio Voice Call Continuity
TIP Terminating Identification Presentation
TIR Terminating Identification Restriction
TRF Transit and Roaming Function
TrGW Transition Gateway
vSRVCC Single Radio Video Call Continuity
# 4 Overview
Interconnection between two different IM CN subsystems shall be guaranteed in
order to support end-to-end service interoperability. For this purpose, Inter-
IMS Network to Network Interface (II-NNI) between two IM CN subsystem networks
is adopted, according to the assumptions coming from 3GPP TS 23.002 [3] and
3GPP TS 23.228 [4].
NOTE: The end-to-end service interoperability within one IM CN subsystem over
the Mi, Mm, Mw and I2 reference points not passing over the Mx reference point
as defined in 3GPP TS 23.228 [4] is outside the scope of this document.
Aiming to support the delivery of IMS services between two separated IM CN
subsystems, protocol interconnection has to occur:
\- at a control plane level, in order that IMS procedures can be supported. In
this case the adopted reference point is the Ici; and
\- at a user plane level, where media streams are exchanged over the Izi
reference point.
IP multimedia sessions are managed by SIP. The transport mechanism for both
SIP session signalling and media transport is IPv4 (IETF RFC 791 [2]) or IPv6
(IETF RFC 2460 [7]). The 3GPP profile of SIP defining the usage of SIP within
the IM CN subsystem is specified in 3GPP TS 24.229 [5]. Example call flows are
provided in 3GPP TR 24.930 [6].
The general interconnection model is shown in Figure 4.1.
Figure 4.1: Interconnection Model for IM CN subsystems
The possible functional entities involved in the signalling plane
interconnection (IBCF, I-CSCF, P-CSCF, ATCF, S-CSCF, BGCF, MSC Server enhanced
for ICS and MSC server enhanced for SRVCC) and in the user plane
interconnection (TrGW) are specified in 3GPP TS 24.229 [5], in 3GPP TS 24.292
[121], 3GPP TS 29.292 [130] 3GPP TS 29.162 [8] and in 3GPP TS 24.237 [131].
IP Version interworking is described within 3GPP TS 29.162 [8].
# 5 Reference model for interconnection between IM CN subsystems
## 5.1 General
Figure 5.1 illustrates the architecture diagram given in 3GPP TS 23.228 [4]
showing the Inter-IMS Network to Network Interface (II-NNI) between two IM CN
subsystem networks.
NOTE: The TRF can reside in a stand-alone entity or can be combined with
another functional entity.
Figure 5.1.1: Inter-IMS Network to Network Interface between two IM CN
subsystem networks
The protocols over the two reference points Ici and Izi make up the Inter-IMS
Network to Network Interface.
The Ici reference point allows IBCFs to communicate with each other in order
to provide the communication and forwarding of SIP signalling messaging
between IM CN subsystem networks. The Izi reference point allows TrGWs to
forward media streams between IM CN subsystem networks.
IMS roaming performed by using II-NNI is considered, when the IBCFs are
inserted at the network borders. The applicability of roaming scenario by
using II-NNI is based on agreement between the operators.
Whenever the Inter-IMS Network to Network Interface is used to interconnect
two IM CN subsystem networks belonging to different security domains, security
procedures apply as described in 3GPP TS 33.210 [10].
When an IMS transit network is providing application services and
interconnecting two IM CN subsystem networks, as described in 3GPP TS 23.228
[4], interfaces on both sides of the IMS transit network are within the scope
of this document.
## 5.2 Functionalities performed by entities at the edge of the network
### 5.2.1 Interconnection Border Control Function (IBCF)
An IBCF provides application specific functions at the SIP/SDP protocol layer
in order to perform interconnection between IM CN subsystem networks by using
Ici reference point. According to 3GPP TS 23.228 [4], IBCF can act both as an
entry point and as an exit point for a network.
The functionalities of IBCF are indicated in the 3GPP TS 23.228 [4] and
specified in 3GPP TS 24.229 [5]. They include:
\- network topology hiding;
\- application level gateway (for instance enabling communication between IPv6
and IPv4 SIP applications, or between a SIP application in a private IP
address space and a SIP application outside this address space);
\- controlling transport plane functions;
\- controlling media plane adaptations;
\- screening of SIP signalling information;
\- selecting the appropriate signalling interconnect;
\- generation of charging data records;
\- privacy protection; and
\- inclusion of a transit IOI in requests when acting as an entry point for a
transit network and in responses when acting as an exit point for a transit
network.
Based on local configuration, the IBCF performs transit routing functions as
specified in 3GPP TS 24.229 [5] clause I.2.
The IBCF acts as a B2BUA when it performs IMS-ALG functionality.
### 5.2.2 Transition Gateway (TrGW)
According to 3GPP TS 23.002 [3], the TrGW is located at the network borders
within the media path and is controlled by an IBCF. Forwarding of media
streams between IM CN subsystem networks is applied over Izi reference point.
The TrGW provides functions like network address/port translation and
IPv4/IPv6 protocol translation. NAT-PT binds addresses in IPv6 network with
addresses in IPv4 network and vice versa to provide transparent routing
between the two IP domains without requiring any changes to end points.
NA(P)T-PT provides additional translation of transport identifier (TCP and UDP
port numbers). The approach is similar to that one described also in 3GPP TS
29.162 [8].
Further details are described in 3GPP TS 23.228 [4].
# 6 Control plane interconnection
## 6.1 Definition of Inter-IMS Network to Network Interconnection
### 6.1.1 SIP methods and header fields
#### 6.1.1.1 General
The functional entity closest to the border of an II-NNI (see reference model
in clause 5) shall provide the capabilities specified for that network element
in clause A.2 of 3GPP TS 24.229 [5] with modifications as described in the
following clauses.
#### 6.1.1.2 SIP methods
3GPP TS 24.229 [5] defines the methods allowing an IBCF to interconnect to an
IBCF placed in another IM CN subsystem.
The following SIP methods are supported on the II-NNI as defined in table 6.1.
The following table is based on table A.5 and table A.163 of 3GPP TS 24.229
[5] and endorsed for this document:
Table 6.1: Supported SIP methods
+---------------+---------------+---------------+---------+-----------+ | Item | Method | Ref. | II-NNI | | +---------------+---------------+---------------+---------+-----------+ | | | | Sending | Receiving | +---------------+---------------+---------------+---------+-----------+ | 1 | ACK request | IETF RF | m | m | | | | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 2 | BYE request | IETF RF | m | m | | | | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 3 | BYE response | IETF RF | m | m | | | | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 4 | CANCEL | IETF RF | m | m | | | request | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 5 | CANCEL | IETF RF | m | m | | | response | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 5A | INFO request | IETF RF | o | o | | | | C 6086 [39] | | | +---------------+---------------+---------------+---------+-----------+ | 5B | INFO response | IETF RF | o | o | | | | C 6086 [39] | | | +---------------+---------------+---------------+---------+-----------+ | 8 | INVITE | IETF RF | m | m | | | request | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 9 | INVITE | IETF RF | m | m | | | response | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 9A | MESSAGE | IETF RF | o | o | | | request | C 3428 [19] | | | +---------------+---------------+---------------+---------+-----------+ | 9B | MESSAGE | IETF RF | o | o | | | response | C 3428 [19] | | | +---------------+---------------+---------------+---------+-----------+ | 10 | NOTIFY | IETF RF | c1 | c1 | | | request | C 3265 [20] | | | +---------------+---------------+---------------+---------+-----------+ | 11 | NOTIFY | IETF RF | c1 | c1 | | | response | C 3265 [20] | | | +---------------+---------------+---------------+---------+-----------+ | 12 | OPTIONS | IETF RF | m | m | | | request | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 13 | OPTIONS | IETF RF | m | m | | | response | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 14 | PRACK request | IETF RF | m | m | | | | C 3262 [18] | | | +---------------+---------------+---------------+---------+-----------+ | 15 | PRACK | IETF RF | m | m | | | response | C 3262 [18] | | | +---------------+---------------+---------------+---------+-----------+ | 15A | PUBLISH | IETF RF | c1 | c1 | | | request | C 3903 [21] | | | +---------------+---------------+---------------+---------+-----------+ | 15B | PUBLISH | IETF RF | c1 | c1 | | | response | C 3903 [21] | | | +---------------+---------------+---------------+---------+-----------+ | 16 | REFER request | IETF RF | o | o | | | | C 3515 [22] | | | +---------------+---------------+---------------+---------+-----------+ | 17 | REFER | IETF RF | o | o | | | response | C 3515 [22] | | | +---------------+---------------+---------------+---------+-----------+ | 18 | REGISTER | IETF RF | c2 | c2 | | | request | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 19 | REGISTER | IETF RF | c2 | c2 | | | response | C 3261 [13] | | | +---------------+---------------+---------------+---------+-----------+ | 20 | SUBSCRIBE | IETF RF | c1 | c1 | | | request | C 3265 [20] | | | +---------------+---------------+---------------+---------+-----------+ | 21 | SUBSCRIBE | IETF RF | c1 | c1 | | | response | C 3265 [20] | | | +---------------+---------------+---------------+---------+-----------+ | 22 | UPDATE | IETF RF | m | m | | | request | C 3311 [23] | | | +---------------+---------------+---------------+---------+-----------+ | 23 | UPDATE | IETF RF | m | m | | | response | C 3311 [23] | | | +---------------+---------------+---------------+---------+-----------+ | c1: In case | | | | | | of roaming | | | | | | II-NNI, the | | | | | | support of | | | | | | the method is | | | | | | m, else o. | | | | | | | | | | | | c2: In case | | | | | | of roaming | | | | | | II-NNI, the | | | | | | support of | | | | | | the method is | | | | | | m, else n/a. | | | | | +---------------+---------------+---------------+---------+-----------+ | NOTE: In the | | | | | | above table, | | | | | | m, o and c | | | | | | and n/a have | | | | | | the meanings | | | | | | indicated in | | | | | | table 6.3 | | | | | +---------------+---------------+---------------+---------+-----------+
#### 6.1.1.3 SIP header fields
##### 6.1.1.3.0 General
The IBCF shall provide the capabilities to manage and modify SIP header fields
according to clause 5.10 and annex A of 3GPP TS 24.229 [5] with modifications
as described in the following clauses.
##### 6.1.1.3.1 Trust and no trust relationship
The IBCF acting as exit point applies the procedures described in clause
5.10.2 of 3GPP TS 24.229 [5] before forwarding the SIP signalling to the IBCF
acting as entry point. The IBCF acting as entry point applies the procedures
described in clause 5.10.3 of 3GPP TS 24.229 [5].
Additionally, in case there is no trust relationship between the two IM CN
subsystems connected by II-NNI, the IBCF applies the procedures described in
clause 4.4 of 3GPP TS 24.229 [5], before forwarding the SIP signalling.
These procedures may be utilized on a per header field basis to realize
overall trust as well as per service level screening of header fields. Trust
relationships and trust domains may be defined by inter-operator agreements
for individual services and/or individual SIP header fields.
The management of the SIP header fields (if present) over II-NNI in case of a
presence or not of a trust relationship between the two interconnected IM CN
subsystems is wrapped up in the following table.
Table 6.2: Management of SIP header fields over II-NNI in presence or not of a
trust relationship
+-------------+-------------+-------------+-------------+-------------+ | Item | Header | Reference | Trust | Not trust | | | field | | r | r | | | | | elationship | elationship | +-------------+-------------+-------------+-------------+-------------+ | 1 | P-Assert | IETF RFC | As | As | | | ed-Identity | 3325 [44] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | | | | | | | | | | | (NOTE 5) | (NOTE 5) | +-------------+-------------+-------------+-------------+-------------+ | 2 | P-Access-N | IETF RFC | As | As | | | etwork-Info | 7315 [24] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 3 | Resour | IETF RFC | As | As | | | ce-Priority | 4412 [78] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 4 | H | IETF RFC | As | As | | | istory-Info | 4244 [25] | specified | specified | | | | | in | in | | | | | TS 24 | c | | | | | .229 [5], | lause 4.3.3 | | | | | clause 4.4 | of RFC | | | | | | 4244 [25] | | | | | | and in | | | | | | TS 24 | | | | | | .229 [5], | | | | | | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 5 | P-Asser | IETF RFC | As | As | | | ted-Service | 6050 [26] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | | | | | | | | | | | (NOTE 3) | (NOTE 3) | +-------------+-------------+-------------+-------------+-------------+ | 6 | P-Char | IETF RFC | As | As | | | ging-Vector | 7315 [24] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 5.10 | clause 5.10 | +-------------+-------------+-------------+-------------+-------------+ | 7 | P-Charg | IETF RFC | As | As | | | ing-Functio | 7315 [24] | specified | specified | | | n-Addresses | | in | in | | | | | TS 24 | TS 24 | | | (NOTE 4) | | .229 [5], | .229 [5], | | | | | clause 5.10 | clause 5.10 | +-------------+-------------+-------------+-------------+-------------+ | 8 | P- | IETF RFC | As | As | | | Profile-Key | 5002 [64] | specified | specified | | | (NOTE 2) | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 9 | P-Priva | IETF RFC | As | As | | | te-Network- | 7316 [84] | specified | specified | | | Indication\ | | in | in | | | (NOTE 1) | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 10 | P- | IETF RFC | As | As | | | Served-User | 5502 [85] | specified | specified | | | | | in | in | | | (NOTE 1, | | TS 24 | TS 24 | | | NOTE 2) | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 11 | Reason (in | IETF RFC | As | As | | | a response) | 6432 [49] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 12 | P- | IETF RFC | As | As | | | Early-Media | 5009 [74] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | 13 | F | IETF RFC 6 | As | As | | | eature-Caps | 809 [143] | specified | specified | | | | | in | in | | | | | TS 24 | TS 24 | | | | | .229 [5], | .229 [5], | | | | | clause 4.4 | clause 4.4 | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: For | | | | | | a roaming | | | | | | II-NNI, a | | | | | | trust | | | | | | r | | | | | | elationship | | | | | | with | | | | | | respect to | | | | | | this header | | | | | | field is | | | | | | required. | | | | | | | | | | | | NOTE 2: | | | | | | This header | | | | | | field is | | | | | | only | | | | | | applicable | | | | | | on a | | | | | | roaming | | | | | | II-NNI. | | | | | | | | | | | | NOTE 3: In | | | | | | addition, | | | | | | valu | | | | | | e-dependent | | | | | | operator | | | | | | policies | | | | | | may be | | | | | | applied. | | | | | | | | | | | | NOTE 4: | | | | | | This header | | | | | | field is | | | | | | not | | | | | | applicable | | | | | | at II-NNI. | | | | | | | | | | | | NOTE 5: The | | | | | | handling of | | | | | | the URI | | | | | | parameters | | | | | | \"cpc\" and | | | | | | \"oli\", | | | | | | defined in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | clau | | | | | | se 7.2A.12, | | | | | | is | | | | | | specified | | | | | | in | | | | | | TS 24 | | | | | | .229 [5], | | | | | | clause 4.4. | | | | | +-------------+-------------+-------------+-------------+-------------+
##### 6.1.1.3.2 Derivation of applicable SIP header fields from TS 24.229 [5]
For any method in table 6.1, the SIP header fields applicable on the II-NNI
are detailed in the corresponding method tables for the UA role and proxy role
sending behaviour in annex A of 3GPP TS 24.229 [5]. Unless other information
is specified in the normative part of the present specification, the
applicability of header fields at the II-NNI can be derived for each method
from the corresponding tables in annex A of 3GPP TS 24.229 [5] as follows:
\- All header fields not present in the corresponding tables in annex A of
3GPP TS 24.229 [5] or marked as \"n/a\" in both the \"RFC status\" and
\"profile status\" columns for the UA role and proxy role sending behaviour of
that tables are not applicable at the II-NNI.
NOTE 1: Operators could choose to apply header fields for other SIP extensions
on an II-NNI based on bilateral agreements, but this is outside the scope of
the present specification.
\- All header fields which are marked as \"o\" in at least one of the \"RFC
status\" or the \"profile status\" profile columns for the sending behaviour
in the corresponding UA role and proxy role tables in annex A of 3GPP TS
24.229 [5] and as \"n/a\" or \"o\" in the other such columns are applicable at
II-NNI based on bilateral agreement between operators.
\- All header fields which are marked as \"m\" in at least one of the \"RFC
status\" or the \"profile status\" columns for the sending behaviour in the
corresponding UA role or proxy role table in annex A of 3GPP TS 24.229 [5] and
as \"n/a\", \"o\", or \"m\" in the other such columns are applicable at the
II-NNI.
\- If conditions are specified, they are also applicable at the II-NNI and the
above rules are applicable to the \"n/a\", \"o\" and \"m\" values within the
conditions.
NOTE 2: In the above rules, the RFC profile columns are taken into account in
order to enable interworking with non-3GPP networks,
An informative summary of SIP header fields to be used over the II-NNI is
proposed in annex A.
##### 6.1.1.3.3 Applicability of SIP header fields on a roaming II-NNI
The following SIP header fields are only applicable on a roaming II-NNI:
\- Authentication-Info
\- Authorization
\- P-Associated-URI
\- P-Called-Party-ID
\- P-Preferred-Service
\- P-Profile-Key
\- P-Served-User
\- P-Visited-Network-ID
\- Path
\- Proxy-Authenticate
\- Proxy-Authorization
\- Service-Route
\- WWW-Authenticate
##### 6.1.1.3.4 Applicability of SIP header fields on a non-roaming II-NNI
The following SIP header fields are only applicable on a non-roaming II-NNI or
for the loopback traversal scenario:
\- P-Refused-URI-List
#### 6.1.1.4 Notations of the codes
In the table 6.1 the status codes \"m\", \"o\", \"c\" and \"n/a\" have the
following meanings:
Table 6.3: Key to notation codes for SIP messages
+---------------+----------------+----------------+----------------+ | Notation code | Notation name | Sending side | Receiving side | +---------------+----------------+----------------+----------------+ | m | mandatory | The message | Supporting | | | | shall be | receiving a | | | | supported at | SIP message at | | | | II-NNI. | the II-NNI | | | | | means that | | | | Supporting | this message | | | | sending a SIP | shall be | | | | message at the | forwarded to | | | | II-NNI means | the serving | | | | that this | network unless | | | | message shall | the | | | | be sent over | operator\'s | | | | the II-NNI if | policy is | | | | received from | applied as | | | | the serving | defined in | | | | network. It | clause 5.10.1 | | | | does not imply | of | | | | that network | TS | | | | elements | 24.229 [5]. | | | | inside the | It does not | | | | serving | imply that | | | | network or | network | | | | user equipment | elements | | | | connected to | inside the | | | | this network | served network | | | | shall support | or user | | | | this message. | equipment | | | | | connected to | | | | | this network | | | | | are supporting | | | | | this message. | +---------------+----------------+----------------+----------------+ | o | optional | The message | Same as for | | | | may or may not | sending side. | | | | be supported | | | | | at II-NNI. The | | | | | support of the | | | | | message is | | | | | provided based | | | | | on bilateral | | | | | agreement | | | | | between the | | | | | operators. | | +---------------+----------------+----------------+----------------+ | n/a | not applicable | It is | It is | | | | impossible to | impossible to | | | | use/support | use/support | | | | the message. | the message. | | | | | This message | | | | | will be | | | | | discarded by | | | | | the IBCF. | +---------------+----------------+----------------+----------------+ | c \ | conditional | The | Same as for | | | | requirement on | sending side. | | | | the message | | | | | (\"m\", \"o\" | | | | | or \"n/a\") | | | | | depends on the | | | | | support of | | | | | other optional | | | | | or conditional | | | | | items. | | | | | \ is | | | | | the identifier | | | | | of the | | | | | conditional | | | | | expression. | | +---------------+----------------+----------------+----------------+
#### 6.1.1.5 Modes of signalling
Overlap signalling may be used if agreement exists between operators to use
overlap and which method to be used, otherwise enbloc shall be used at the II-
NNI.
### 6.1.2 SDP protocol
#### 6.1.2.1 General
The functional entity closest to the border of an II-NNI (see reference model
in clause 5) shall provide the capabilities specified for that network element
in clause A.3 of 3GPP TS 24.229 [5].
The \"application/sdp\" MIME bodies shall be encoded as described in IETF RFC
3261 [13] and in IETF RFC 4566 [147].
The offer/answer model with the SDP as defined in IETF RFC 3264 [146] shall be
applied.
The procedures and the SDP rules as defined in IETF RFC 4145 [162] may be
applied if media streams with TCP is used.
### 6.1.3 Major capabilities
This clause contains the major capabilities to be supported over the II-NNI.
The table 6.1.3.1 specifies which capabilities are applicable for II-NNI. The
profile status codes within table 6.1.3.1 are defined in table 6.1.3.2.
For the \"Basic SIP\" capabilities part of table 6.1.3.1, the last column
\"Profile status over II-NNI\" specifies the general status of applicability
of the IETF RFC 3261 [13] main mechanisms described in the 2^nd^ column
\"Capability over the Ici\".
For the \"Extensions to basic SIP\" capabilities part, the last column
\"Profile status over II-NNI\" specifies the general status of applicability
of the RFC referenced in the 2^nd^ column \"Capability over the Ici\".
If necessary, the applicability of RFCs at the II-NNI level is further
detailed in the present Technical Specification.
The columns \"Reference item in 3GPP TS 24.229 [5] for the profile status\"
provide informative references for comparison purposes into the UA and Proxy
role major capabilities tables in 3GPP TS 24.229 [5], where the capabilities
are defined via additional references.
Table 6.1.3.1: Major capabilities over II-NNI
+-------------+-------------+-------------+-------------+-------------+ | Item | Capability | Reference | Profile | | | | over the | item in | status over | | | | Ici | TS 2 | II-NNI | | | | | 4.229 [5] | | | | | | for the | | | | | | profile | | | | | | status | | | +-------------+-------------+-------------+-------------+-------------+ | | | UA Role | Proxy role | | | | | (NOTE 1) | (NOTE 2) | | +-------------+-------------+-------------+-------------+-------------+ | | **Basic SIP | | | | | | (I | | | | | | ETF RFC 326 | | | | | | 1 [13])** | | | | +-------------+-------------+-------------+-------------+-------------+ | 1 | re | 1, 2, 2A | - | c2 | | | gistrations | | | | +-------------+-------------+-------------+-------------+-------------+ | 2 | initiating | 2B, 2C, 3, | - | m | | | a session | 4 | | | +-------------+-------------+-------------+-------------+-------------+ | 3 | terminating | 5 | 3 | m | | | a session | | | | +-------------+-------------+-------------+-------------+-------------+ | 4 | General | - | 4, 5, 14, | n/a | | | proxy | | 15 | | | | behaviour | | | | +-------------+-------------+-------------+-------------+-------------+ | 5 | Managing | 9,10 | 6 | m | | | several | | | | | | responses | | | | | | due to | | | | | | forking | | | | +-------------+-------------+-------------+-------------+-------------+ | 6 | support of | - | 7, 8 | n/a | | | indication | | | | | | of TLS | | | | | | connections | | | | | | in the | | | | | | R | | | | | | ecord-Route | | | | | | header | | | | +-------------+-------------+-------------+-------------+-------------+ | 7 | Support of | 7, 8, 8A | 8A | c2 | | | aut | | | | | | hentication | | | | +-------------+-------------+-------------+-------------+-------------+ | 8 | Timestamped | 6 | - | m | | | requests | | | | | | (Timestamp | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 9 | Presence of | 11 | 9 | m | | | date in | | | | | | requests | | | | | | and | | | | | | responses | | | | | | (Date | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 10 | Presence of | 12 | 10 | o | | | alerting | | | | | | information | | | | | | data | | | | | | (Alert-info | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 11 | Support and | - | 11, 12, 13 | m | | | handling of | | | | | | the Require | | | | | | header | | | | | | field for | | | | | | REGISTER | | | | | | and other | | | | | | requests or | | | | | | responses | | | | | | for methods | | | | | | other than | | | | | | REGISTER | | | | +-------------+-------------+-------------+-------------+-------------+ | 12 | Support and | - | 16, 17, 18 | m | | | reading of | | | | | | the | | | | | | Supported | | | | | | and | | | | | | Unsupported | | | | | | header | | | | | | fields | | | | +-------------+-------------+-------------+-------------+-------------+ | 13 | Support of | - | 19 | o | | | the | | | | | | Error-Info | | | | | | header | | | | | | field in | | | | | | 3xx - 6xx | | | | | | responses | | | | +-------------+-------------+-------------+-------------+-------------+ | 14 | Support and | - | 19A, 19B | m | | | handling of | | | | | | the | | | | | | O | | | | | | rganization | | | | | | header | | | | | | field | | | | +-------------+-------------+-------------+-------------+-------------+ | 15 | Support and | - | 19C, 19D | m | | | handling of | | | | | | the | | | | | | Call-Info | | | | | | header | | | | | | field | | | | +-------------+-------------+-------------+-------------+-------------+ | 16 | Support of | - | 19E | m | | | the Contact | | | | | | header | | | | | | field in | | | | | | 3xx | | | | | | response | | | | +-------------+-------------+-------------+-------------+-------------+ | 16A | Proxy | - | 19F | n/a | | | reading the | | | | | | contents of | | | | | | a body or | | | | | | including a | | | | | | body in a | | | | | | request or | | | | | | response | | | | +-------------+-------------+-------------+-------------+-------------+ | | * | | | | | | _Extensions | | | | | | to basic | | | | | | SIP_ * | | | | +-------------+-------------+-------------+-------------+-------------+ | 16B | TS 24.2 | - | 19G | n/a | | | 37 [131]: | | | | | | proxy | | | | | | modifying | | | | | | the content | | | | | | of a body | | | | +-------------+-------------+-------------+-------------+-------------+ | 17 | IETF RFC 6 | 13 | 20 | o | | | 086 [39]: | | | | | | SIP INFO | | | | | | method and | | | | | | package | | | | | | framework | | | | +-------------+-------------+-------------+-------------+-------------+ | 17A | IETF RFC 6 | 13A | 20A | o | | | 086 [39]: | | | | | | legacy INFO | | | | | | usage | | | | +-------------+-------------+-------------+-------------+-------------+ | 18 | IETF RFC 3 | 14 | 21 | m | | | 262 [18]: | | | | | | reliability | | | | | | of | | | | | | provisional | | | | | | responses | | | | | | in SIP | | | | | | (PRACK | | | | | | method) | | | | +-------------+-------------+-------------+-------------+-------------+ | 19 | IETF RFC 3 | 15 | 22 | o | | | 515 [22]: | | | | | | the SIP | | | | | | REFER | | | | | | method | | | | +-------------+-------------+-------------+-------------+-------------+ | 20 | IETF RFC | 16 | 23 | o | | | 3312 [40] | | | | | | and RFC | | | | | | 4 | | | | | | 032 [41]: | | | | | | integration | | | | | | of resource | | | | | | management | | | | | | and SIP | | | | | | (Pr | | | | | | econditions | | | | | | framework) | | | | +-------------+-------------+-------------+-------------+-------------+ | 21 | IETF RFC 3 | 17 | 24 | m | | | 311 [23]: | | | | | | the SIP | | | | | | UPDATE | | | | | | method | | | | +-------------+-------------+-------------+-------------+-------------+ | 22 | IETF RFC 3 | 19 | 26 | n/a | | | 313 [42]: | | | | | | SIP | | | | | | extensions | | | | | | for media | | | | | | au | | | | | | thorization | | | | | | (P-Media-Au | | | | | | thorization | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 23 | IETF RFC 3 | 20, 21, 22, | 27, 28 | c1 | | | 265 [20]: | 23 | | | | | SIP | | | | | | specific | | | | | | event | | | | | | n | | | | | | otification | | | | | | (SUBSC | | | | | | RIBE/NOTIFY | | | | | | methods) | | | | +-------------+-------------+-------------+-------------+-------------+ | 24 | IETF RFC 3 | 24 | 29 | c2 | | | 327 [43]: | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | extension | | | | | | header | | | | | | field for | | | | | | registering | | | | | | n | | | | | | on-adjacent | | | | | | contacts | | | | | | (Path | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 25 | IETF RFC 3 | 25 | 30 | c4 | | | 325 [44]: | | | | | | private | | | | | | extensions | | | | | | to the | | | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) for | | | | | | network | | | | | | asserted | | | | | | identity | | | | | | within | | | | | | trusted | | | | | | networks | | | | +-------------+-------------+-------------+-------------+-------------+ | 26 | IETF RFC 3 | - | - | n/a | | | 325 [44]: | | | | | | the | | | | | | P-Preferr | | | | | | ed-Identity | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 27 | IETF RFC 3 | - | - | c4 | | | 325 [44]: | | | | | | the | | | | | | P-Assert | | | | | | ed-Identity | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 28 | IETF RFC 3 | 26, 26A, | 31, 31A, | m | | | 323 [34]: | 26B, 26C, | 31B, 31C, | | | | a privacy | 26D, 26E, | 31D, 31E, | | | | mechanism | 26F, 26G, | 31F, 31G, | | | | for the | 26H | 31H | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | | | (Privacy | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 29 | IETF RFC 3 | 27 | 33 | o | | | 428 [19]: | | | | | | a messaging | | | | | | mechanism | | | | | | for the | | | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | | | (MESSAGE | | | | | | method) | | | | +-------------+-------------+-------------+-------------+-------------+ | 30 | IETF RFC 3 | 28 | 32 | c2 | | | 608 [45]: | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | extension | | | | | | header | | | | | | field for | | | | | | service | | | | | | route | | | | | | discovery | | | | | | during | | | | | | r | | | | | | egistration | | | | | | (Se | | | | | | rvice-Route | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 31 | IETF RFC 3 | 29 | 34 | n/a | | | 486 [46]: | | | | | | compressing | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 32 | IETF RFC 7 | 30 | 35 | o | | | 315 [24]: | | | | | | private | | | | | | header | | | | | | extensions | | | | | | to the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | for the | | | | | | 3^rd^ | | | | | | -Generation | | | | | | Partnership | | | | | | Project | | | | | | (3GPP) | | | | +-------------+-------------+-------------+-------------+-------------+ | 32A | IETF RFC 3 | 30A | 30A | n/a | | | 325 [44]: | | | | | | act as | | | | | | first | | | | | | entity | | | | | | within the | | | | | | trust | | | | | | domain for | | | | | | asserted | | | | | | identity | | | | +-------------+-------------+-------------+-------------+-------------+ | 32B | IETF RFC 3 | 30B | 30B | n/a | | | 325 [44]: | | | | | | act as | | | | | | entity | | | | | | within | | | | | | trust | | | | | | network | | | | | | that can | | | | | | route | | | | | | outside the | | | | | | trust | | | | | | network | | | | +-------------+-------------+-------------+-------------+-------------+ | 32C | IETF RFC 3 | 30C | 30C | n/a | | | 325 [44]: | | | | | | act as | | | | | | entity | | | | | | passing on | | | | | | identity | | | | | | tr | | | | | | ansparently | | | | | | independent | | | | | | of trust | | | | | | domain | | | | +-------------+-------------+-------------+-------------+-------------+ | 33 | IETF RFC | 31 | 36 | c2 | | | 7315 [24] | | | | | | and | | | | | | IETF RFC 79 | | | | | | 76 [24A]: | | | | | | the | | | | | | P-Ass | | | | | | ociated-URI | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 34 | IETF RFC | 32 | 37 | c2 | | | 7315 [24] | | | | | | and | | | | | | IETF RFC 79 | | | | | | 76 [24A]: | | | | | | the | | | | | | P-Call | | | | | | ed-Party-ID | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 35 | IETF RFC | 33 | 38, 39 | c2 | | | 7315 [24] | | | | | | and | | | | | | IETF RFC 79 | | | | | | 76 [24A]: | | | | | | the | | | | | | P-Visited | | | | | | -Network-ID | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 36 | IETF RFC 7 | 34 | 41, 42, 43 | c4 | | | 315 [24], | | | | | | IETF RFC 7 | | | | | | 976 [24A] | | | | | | and | | | | | | IETF RFC 79 | | | | | | 13 [24B]: | | | | | | the | | | | | | P-Access-N | | | | | | etwork-Info | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 37 | IETF RFC | 35 | 44, 44A | n/a | | | 7315 [24] | | | | | | and | | | | | | IETF RFC 79 | | | | | | 76 [24A]: | | | | | | the | | | | | | P-Charg | | | | | | ing-Functio | | | | | | n-Addresses | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 38 | IETF RFC | 36 | 45, 46 | c1 | | | 7315 [24] | | | | | | and | | | | | | IETF RFC 79 | | | | | | 76 [24A]: | | | | | | the | | | | | | P-Char | | | | | | ging-Vector | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 39 | IETF RFC 3 | 37 | 47 | n/a | | | 329 [47]: | | | | | | security | | | | | | mechanism | | | | | | agreement | | | | | | for the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 39A | TS 2 | 37A | 47A | n/a | | | 4.229 [5] | | | | | | cla | | | | | | use 7.2A.7: | | | | | | Capability | | | | | | Exchange | | | | | | for Media | | | | | | Plane | | | | | | Security | | | | +-------------+-------------+-------------+-------------+-------------+ | 40 | IETF RFC 3 | 38 | 48 | o | | | 326 [48]: | | | | | | the Reason | | | | | | header | | | | | | field for | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 41 | IETF RFC 6 | 38A | 48A | c4 | | | 432 [49]: | | | | | | carrying | | | | | | Q.850 codes | | | | | | in reason | | | | | | header | | | | | | fields in | | | | | | SIP | | | | | | (Session | | | | | | Initiation | | | | | | Protocol) | | | | | | responses | | | | +-------------+-------------+-------------+-------------+-------------+ | 42 | IETF RFC 3 | 39 | 49 | o | | | 581 [50]: | | | | | | an | | | | | | extension | | | | | | to the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | for | | | | | | symmetric | | | | | | response | | | | | | routeing | | | | +-------------+-------------+-------------+-------------+-------------+ | 43 | IETF RFC 3 | 40, 40A, | 50, 50A, | m | | | 841 [51]: | 40B, 40C, | 50B, 50C, | | | | caller | 40D, 40E, | 50D, 50E, | | | | preferences | 40F | 50F | | | | for the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | (Acce | | | | | | pt-Contact, | | | | | | Rej | | | | | | ect-Contact | | | | | | and | | | | | | Request- | | | | | | Disposition | | | | | | header | | | | | | fields) | | | | +-------------+-------------+-------------+-------------+-------------+ | 44 | IETF RFC 3 | 41 | 51 | c1 | | | 903 [21]: | | | | | | an event | | | | | | state | | | | | | publication | | | | | | extension | | | | | | to the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | (PUBLISH | | | | | | method) | | | | +-------------+-------------+-------------+-------------+-------------+ | 45 | IETF RFC 4 | 42 | 52 | m | | | 028 [52]: | | | | | | SIP session | | | | | | timer | | | | | | (Sess | | | | | | ion-Expires | | | | | | and Min-SE | | | | | | headers) | | | | +-------------+-------------+-------------+-------------+-------------+ | 46 | IETF RFC 3 | 43 | 53 | m | | | 892 [53]: | | | | | | the SIP | | | | | | Referred-By | | | | | | mechanism | | | | +-------------+-------------+-------------+-------------+-------------+ | 47 | IETF RFC 3 | 44 | 54 | o | | | 891 [54]: | | | | | | the Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | | | \ | | | | | | "Replaces\" | | | | | | header | | | | +-------------+-------------+-------------+-------------+-------------+ | 48 | IETF RFC 3 | 45 | 55 | o | | | 911 [55]: | | | | | | the Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | | | \"Join\" | | | | | | header | | | | +-------------+-------------+-------------+-------------+-------------+ | 49 | IETF RFC 3 | 46 | 56 | o | | | 840 [56]: | | | | | | the callee | | | | | | c | | | | | | apabilities | | | | +-------------+-------------+-------------+-------------+-------------+ | 50 | IETF RFC 4 | 47 | 57 | o | | | 244 [25]: | | | | | | an | | | | | | extension | | | | | | to the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | for request | | | | | | history | | | | | | information | | | | | | (H | | | | | | istory-Info | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 51 | IETF RFC 5 | 48 | 58 | o | | | 079 [57]: | | | | | | Rejecting | | | | | | anonymous | | | | | | requests in | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 52 | IETF RFC 4 | 49 | 59 | o | | | 458 [58]: | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | URIs for | | | | | | a | | | | | | pplications | | | | | | such as | | | | | | voicemail | | | | | | and | | | | | | interactive | | | | | | voice | | | | | | response | | | | | | (NOTE 3) | | | | +-------------+-------------+-------------+-------------+-------------+ | 53 | IETF RFC 4 | 50 | 61 | m | | | 320 [59]: | | | | | | Session | | | | | | Initiation | | | | | | Protocol\'s | | | | | | (SIP) | | | | | | non-INVITE | | | | | | t | | | | | | ransactions | | | | +-------------+-------------+-------------+-------------+-------------+ | 54 | IETF RFC 4 | 51 | 60 | n/a | | | 457 [60]: | | | | | | the | | | | | | P-Us | | | | | | er-Database | | | | | | private | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 55 | IETF RFC 5 | 52 | 62 | n/a | | | 031 [61]: | | | | | | A Uniform | | | | | | Resource | | | | | | Name (URN) | | | | | | for | | | | | | Emergency | | | | | | and Other | | | | | | Well-Known | | | | | | Services | | | | +-------------+-------------+-------------+-------------+-------------+ | 56 | IETF RFC 5 | 53 | 63 | c1 | | | 627 [62]: | | | | | | obtaining | | | | | | and using | | | | | | GRUUs in | | | | | | the Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | +-------------+-------------+-------------+-------------+-------------+ | 57 | Void | | | | +-------------+-------------+-------------+-------------+-------------+ | 58 | IETF RFC 4 | 55 | 65 | o | | | 168 [27]: | | | | | | the Stream | | | | | | Control | | | | | | T | | | | | | ransmission | | | | | | Protocol | | | | | | (SCTP) as a | | | | | | Transport | | | | | | for the | | | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | +-------------+-------------+-------------+-------------+-------------+ | 59 | IETF RFC 5 | 56 | 66, 66A, | c3 | | | 002 [64]: | | 66B | | | | the SIP | | | | | | P- | | | | | | Profile-Key | | | | | | private | | | | | | header | | | | | | field | | | | | | extension | | | | +-------------+-------------+-------------+-------------+-------------+ | 60 | IETF RFC 5 | 57 | 67 | c1 | | | 626 [65]: | | | | | | managing | | | | | | client | | | | | | initiated | | | | | | connections | | | | | | in SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 61 | IETF RFC 5 | 58 | 68 | n/a | | | 768 [66]: | | | | | | indicating | | | | | | support for | | | | | | interactive | | | | | | c | | | | | | onnectivity | | | | | | es | | | | | | tablishment | | | | | | in SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 62 | IETF RFC 5 | 59 | 69 | o if 29, | | | 365 [67]: | | | else n/a | | | multipl | | | | | | e-recipient | | | | | | MESSAGE | | | | | | requests in | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 63 | IETF RFC 6 | 60 | 70, 70A, | m | | | 442 [68]: | | 70B | | | | Location | | | | | | conveyance | | | | | | for the | | | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 64 | IETF RFC 5 | 61 | 71 | o if 19, | | | 368 [69]: | | | else n/a | | | referring | | | | | | to multiple | | | | | | resources | | | | | | in the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 65 | IETF RFC 5 | 62 | 72 | o | | | 366 [70]: | | | | | | conference | | | | | | es | | | | | | tablishment | | | | | | using | | | | | | reques | | | | | | t-contained | | | | | | lists in | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 66 | IETF RFC 5 | 63 | 73 | o if 23, | | | 367 [71]: | | | else n/a | | | su | | | | | | bscriptions | | | | | | to | | | | | | reques | | | | | | t-contained | | | | | | resource | | | | | | lists in | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 67 | IETF RFC 4 | 64 | 74 | c2 | | | 967 [72]: | | | | | | dialstring | | | | | | parameter | | | | | | for the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | uniform | | | | | | resource | | | | | | identifier | | | | +-------------+-------------+-------------+-------------+-------------+ | 68 | IETF RFC 4 | 65 | 75 | o | | | 964 [73]: | | | | | | the | | | | | | P-A | | | | | | nswer-State | | | | | | header | | | | | | extension | | | | | | to the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | for the | | | | | | open mobile | | | | | | alliance | | | | | | push to | | | | | | talk over | | | | | | cellular | | | | +-------------+-------------+-------------+-------------+-------------+ | 69 | IETF RFC 5 | 66 | 76 | c4 | | | 009 [74]: | | | | | | the SIP | | | | | | P- | | | | | | Early-Media | | | | | | private | | | | | | header | | | | | | field | | | | | | extension | | | | | | for | | | | | | au | | | | | | thorization | | | | | | of early | | | | | | media | | | | +-------------+-------------+-------------+-------------+-------------+ | 70 | IETF RFC 4 | 67, 67A, | 77, 77A, | o | | | 694 [75]: | 67B | 77B | | | | number | | | | | | portability | | | | | | parameters | | | | | | for the | | | | | | \'tel\' URI | | | | +-------------+-------------+-------------+-------------+-------------+ | 72 | IETF RFC 4 | 69 | 79 | o | | | 411 [77]: | | | | | | extending | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | | | Reason | | | | | | header for | | | | | | preemption | | | | | | events | | | | +-------------+-------------+-------------+-------------+-------------+ | 73 | IETF RFC 4 | 70, 70A, | 80, 80A, | o | | | 412 [78]: | 70B | 80B | | | | com | | | | | | munications | | | | | | resource | | | | | | priority | | | | | | for the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | (Resour | | | | | | ce-Priority | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 74 | IETF RFC 5 | 71 | 81 | m | | | 393 [79]: | | | | | | addressing | | | | | | an | | | | | | am | | | | | | plification | | | | | | vu | | | | | | lnerability | | | | | | in session | | | | | | initiation | | | | | | protocol | | | | | | forking | | | | | | proxies | | | | +-------------+-------------+-------------+-------------+-------------+ | 75 | IETF RFC 5 | 72 | 82 | n/a | | | 049 [80]: | | | | | | the remote | | | | | | application | | | | | | ide | | | | | | ntification | | | | | | of applying | | | | | | signalling | | | | | | compression | | | | | | to SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 76 | IETF RFC 5 | 73 | 83 | c1 | | | 688 [81]: | | | | | | a session | | | | | | initiation | | | | | | protocol | | | | | | media | | | | | | feature tag | | | | | | for MIME | | | | | | application | | | | | | sub-types | | | | +-------------+-------------+-------------+-------------+-------------+ | 77 | IETF RFC 6 | 74 | 84, 84A | o | | | 050 [26]: | | | | | | Ide | | | | | | ntification | | | | | | of | | | | | | co | | | | | | mmunication | | | | | | services in | | | | | | the session | | | | | | initiation | | | | | | protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 78 | IETF RFC 5 | 75, 75A, | 85 | o | | | 360 [82]: | 75B | | | | | a framework | | | | | | for | | | | | | co | | | | | | nsent-based | | | | | | com | | | | | | munications | | | | | | in SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 79 | IETF RFC 7 | 76 | 86 | c1 | | | 433 [83]: | | | | | | a mechanism | | | | | | for | | | | | | t | | | | | | ransporting | | | | | | u | | | | | | ser-to-user | | | | | | call | | | | | | control | | | | | | information | | | | | | in SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 79A | IETF RFC 74 | 76A | - | c1 | | | 34 [83A]: | | | | | | i | | | | | | nterworking | | | | | | ISDN call | | | | | | control | | | | | | user | | | | | | information | | | | | | with SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 80 | IETF RFC 7 | 77 | 87 | c1 | | | 316 [84]: | | | | | | The SIP | | | | | | P-Priv | | | | | | ate-Network | | | | | | -Indication | | | | | | private | | | | | | header | | | | | | (P-Header) | | | | +-------------+-------------+-------------+-------------+-------------+ | 81 | IETF RFC 5 | 78 | 88 | c2 | | | 502 [85]: | | | | | | the SIP | | | | | | P- | | | | | | Served-User | | | | | | private | | | | | | header | | | | +-------------+-------------+-------------+-------------+-------------+ | 83 | IETF RFC 84 | 79 | 89 | n/a | | | 98 [186]: | | | | | | the SIP | | | | | | P- | | | | | | Served-User | | | | | | header | | | | | | extension | | | | | | for | | | | | | Originating | | | | | | CDIV | | | | | | session | | | | | | case | | | | +-------------+-------------+-------------+-------------+-------------+ | 84 | IETF RFC 6 | 81 | 91 | m | | | 228 [88]: | | | | | | the 199 | | | | | | (Early | | | | | | Dialog | | | | | | Terminated) | | | | | | response | | | | | | code | | | | +-------------+-------------+-------------+-------------+-------------+ | 85 | IETF RFC 5 | 82 | 92 | m | | | 621 [89]: | | | | | | message | | | | | | body | | | | | | handling in | | | | | | SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 86 | IETF RFC 6 | 83 | 93 | o | | | 223 [90]: | | | | | | indication | | | | | | of support | | | | | | for | | | | | | keep-alive | | | | +-------------+-------------+-------------+-------------+-------------+ | 87 | IETF RFC 5 | 84 | 94 | n/a | | | 552 [91]: | | | | | | SIP | | | | | | Interface | | | | | | to VoiceXML | | | | | | Media | | | | | | Services | | | | +-------------+-------------+-------------+-------------+-------------+ | 88 | IETF RFC 3 | 85 | 95 | o | | | 862 [92]: | | | | | | common | | | | | | presence | | | | | | and instant | | | | | | messaging | | | | | | (CPIM): | | | | | | message | | | | | | format | | | | +-------------+-------------+-------------+-------------+-------------+ | 89 | IETF RFC 5 | 86 | 96 | o | | | 438 [93]: | | | | | | instant | | | | | | message | | | | | | disposition | | | | | | n | | | | | | otification | | | | +-------------+-------------+-------------+-------------+-------------+ | 90 | IETF RFC 5 | 87 | 97, 97A | o | | | 373 [94]: | | | | | | requesting | | | | | | answering | | | | | | modes for | | | | | | SIP | | | | | | ( | | | | | | Answer-Mode | | | | | | and | | | | | | Priv- | | | | | | Answer-Mode | | | | | | header | | | | | | fields) | | | | +-------------+-------------+-------------+-------------+-------------+ | 91 | Void | | | | +-------------+-------------+-------------+-------------+-------------+ | 92 | IETF RFC 3 | 89 | 99 | o | | | 959 [96]: | | | | | | the early | | | | | | session | | | | | | disposition | | | | | | type for | | | | | | SIP | | | | +-------------+-------------+-------------+-------------+-------------+ | 93 | Cla | 90 | 100 | o | | | use 7.2A.16 | | | | | | of | | | | | | TS 24 | | | | | | .229 [5]: | | | | | | delivery of | | | | | | Request-URI | | | | | | targets to | | | | | | user agents | | | | +-------------+-------------+-------------+-------------+-------------+ | 94 | IETF RFC 73 | 91 | 101 | o | | | 29 [124]: | | | | | | A Session | | | | | | Identifier | | | | | | for the | | | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | +-------------+-------------+-------------+-------------+-------------+ | 95 | IETF RFC 60 | 92 | 102 | m | | | 26 [125]: | | | | | | correct | | | | | | transaction | | | | | | handling | | | | | | for 200 | | | | | | responses | | | | | | to Session | | | | | | Initiation | | | | | | Protocol | | | | | | INVITE | | | | | | requests | | | | +-------------+-------------+-------------+-------------+-------------+ | 96 | IETF RFC 56 | 93 | 103 | o | | | 58 [126]: | | | | | | addressing | | | | | | R | | | | | | ecord-Route | | | | | | issues in | | | | | | the Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | +-------------+-------------+-------------+-------------+-------------+ | 97 | IETF RFC 59 | 94 | 104 | m | | | 54 [127]: | | | | | | essential | | | | | | correction | | | | | | for IPv6 | | | | | | ABNF and | | | | | | URI | | | | | | comparison | | | | | | in | | | | | | IETF RFC | | | | | | 3261 [13] | | | | +-------------+-------------+-------------+-------------+-------------+ | 98 | IETF RFC 44 | 95 | 105 | m if 19, | | | 88 [135]: | | | else n/a | | | suppression | | | | | | of session | | | | | | initiation | | | | | | protocol | | | | | | REFER | | | | | | method | | | | | | implicit | | | | | | s | | | | | | ubscription | | | | +-------------+-------------+-------------+-------------+-------------+ | 99 | IETF RFC 74 | 96 | 106 | o | | | 62 [136]: | | | | | | Alert-Info | | | | | | URNs for | | | | | | the Session | | | | | | Initiation | | | | | | Protocol | | | | +-------------+-------------+-------------+-------------+-------------+ | 100 | Clause 3.1 | 97 | 107 | c2 | | | of | | | | | | TS 24 | | | | | | .229 [5]: | | | | | | multiple | | | | | | re | | | | | | gistrations | | | | +-------------+-------------+-------------+-------------+-------------+ | 101 | IETF RFC 53 | 98 | 108 | c5 | | | 18 [141]: | | | | | | the SIP | | | | | | P-Refus | | | | | | ed-URI-List | | | | | | pri | | | | | | vate-header | | | | +-------------+-------------+-------------+-------------+-------------+ | 102 | IETF RFC 45 | 99 | 109 | o | | | 38 [140]: | | | | | | request | | | | | | au | | | | | | thorization | | | | | | through | | | | | | dialog | | | | | | Ide | | | | | | ntification | | | | | | in the | | | | | | session | | | | | | initiation | | | | | | protocol | | | | | | (Ta | | | | | | rget-Dialog | | | | | | header | | | | | | field) | | | | +-------------+-------------+-------------+-------------+-------------+ | 103 | IETF RFC 68 | 100 | 110 | o | | | 09 [143]: | | | | | | Mechanism | | | | | | to indicate | | | | | | support of | | | | | | features | | | | | | and | | | | | | c | | | | | | apabilities | | | | | | in the | | | | | | Session | | | | | | Initiation | | | | | | Protocol | | | | | | (SIP) | | | | +-------------+-------------+-------------+-------------+-------------+ | 104 | IETF RFC 61 | 101 | 111 | c3 | | | 40 [160]: | | | | | | r | | | | | | egistration | | | | | | of bulk | | | | | | number | | | | | | contacts | | | | +-------------+-------------+-------------+-------------+-------------+ | 105 | IETF RFC 62 | 102 | 112 | o | | | 30 [161]: | | | | | | media | | | | | | control | | | | | | channel | | | | | | framework | | | | +-------------+-------------+-------------+-------------+-------------+ | 105A | TS 24 | 103 | 113 | c3 | | | .229 [5]: | | | | | | S-CSCF | | | | | | restoration | | | | | | procedures | | | | +-------------+-------------+-------------+-------------+-------------+ | 106 | RFC 63 | 104 | 114 | o | | | 57 [164]: | | | | | | SIP | | | | | | overload | | | | | | control | | | | +-------------+-------------+-------------+-------------+-------------+ | 107 | IETF RFC 73 | 104A | 114A | o | | | 39 [165]: | | | | | | feedback | | | | | | control | | | | +-------------+-------------+-------------+-------------+-------------+ | 108 | IETF RFC 72 | 104B | 114B | o | | | 00 [167]: | | | | | | d | | | | | | istribution | | | | | | of load | | | | | | filters | | | | +-------------+-------------+-------------+-------------+-------------+ | 109 | TS 24 | 105 | - | n/a | | | .229 [5]: | | | | | | Handling of | | | | | | a 380 | | | | | | ( | | | | | | Alternative | | | | | | service) | | | | | | response | | | | +-------------+-------------+-------------+-------------+-------------+ | c1: m in | | | | | | case of | | | | | | roaming | | | | | | II-NNI, | | | | | | else o | | | | | | | | | | | | c2: m in | | | | | | case of | | | | | | roaming | | | | | | II-NNI, | | | | | | else n/a | | | | | | | | | | | | c3: o in | | | | | | case of | | | | | | roaming | | | | | | II-NNI, | | | | | | else n/a | | | | | | | | | | | | c4: m in | | | | | | case of | | | | | | trust | | | | | | r | | | | | | elationship | | | | | | between the | | | | | | int | | | | | | erconnected | | | | | | networks, | | | | | | else n/a | | | | | | | | | | | | c5: o in | | | | | | case of | | | | | | non-roaming | | | | | | II-NNI and | | | | | | loopback | | | | | | traversal | | | | | | scenario, | | | | | | else n/a | | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: The | | | | | | item | | | | | | numbering | | | | | | corresponds | | | | | | to the one | | | | | | provided in | | | | | | table A.4 | | | | | | in | | | | | | TS 24 | | | | | | .229 [5]. | | | | | | | | | | | | NOTE 2: The | | | | | | item | | | | | | numbering | | | | | | corresponds | | | | | | to the one | | | | | | provided in | | | | | | table A.162 | | | | | | in | | | | | | TS 24 | | | | | | .229 [5]. | | | | | | | | | | | | NOTE 3: A | | | | | | common URI | | | | | | namespace | | | | | | is required | | | | | | to apply | | | | | | this | | | | | | feature on | | | | | | the II-NNI. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table 6.1.3.2: Key to notation codes for major capabilities
+---------------+----------------+-----------------------------------+ | Notation code | Notation name | Explanation | +---------------+----------------+-----------------------------------+ | m | mandatory | The capability shall be supported | | | | at II-NNI. | | | | | | | | SIP message relating to this | | | | capability shall be sent over the | | | | II-NNI if received from the | | | | serving network, unless they also | | | | make use of other unsupported | | | | capabilities. | | | | | | | | SIP headers or other information | | | | elements relating to this | | | | capability shall be passed over | | | | the II-NNI if received from the | | | | sending side. | | | | | | | | This does not imply that network | | | | elements inside the serving | | | | network or served network or user | | | | equipment connected to these | | | | networks shall support this | | | | capability. | +---------------+----------------+-----------------------------------+ | o | optional | The capability may or may not be | | | | supported at II-NNI. The support | | | | of the capability is provided | | | | based on bilateral agreement | | | | between the operators. | +---------------+----------------+-----------------------------------+ | n/a | not applicable | It is impossible to use/support | | | | the capability at the II-NNI. | +---------------+----------------+-----------------------------------+ | c \ | conditional | The support of the capability | | | | (\"m\", \"o\" or \"n/a\") depends | | | | on the support of other optional | | | | or conditional items. \ | | | | is the identifier of the | | | | conditional expression. | +---------------+----------------+-----------------------------------+
### 6.1.4 SIP message bodies
The MIME type \"application/sdp\" and multipart message bodies
(multipart/mixed, multipart/related and multipart/alternative) shall be
supported according to IETF RFC 5621 [89] over the II-NNI. Other MIME types
may be supported over the II-NNI based on agreement between operators.
The SDP message bodies contained in the INVITE request shall not be encrypted
over the II-NNI.
NOTE 1: Some MIME types in SIP requests and responses are listed in annex A of
3GPP TS 24.229 [5].
NOTE 2: The multipart message bodies are used for carrying two or more message
body types as described in IETF RFC 5621 [89].
NOTE 3: The IBCF can provide the capabilities to examine the length of a SIP
message body and take an appropriate action (e.g. reject the request, remove
the body) as specified in clause 5.10.6.3 of 3GPP TS 24.229 [5].
NOTE 4: In the INVITE request, the SDP message body is present over the II-
NNI, except when the INVITE request without SDP message body is required to
provide services (e.g. 3rd party call control).
Table 6.1.4.1: List of MIME bodies
+----------------+----------------+----------------+----------------+ | Item | MIME body name | II-NNI | Defined in ref | | | | requirements | | | | | in ref | (NOTE 2) | | | | | | | | | (NOTE 1) | | +----------------+----------------+----------------+----------------+ | 1 | applicatio | - | TS | | | n/3gpp-ims+xml | | 24.229 [5], | | | | | clause 7.6 | +----------------+----------------+----------------+----------------+ | | | | | +----------------+----------------+----------------+----------------+ | 3 | message/cpim | - | IETF R | | | | | FC 3862 [92] | +----------------+----------------+----------------+----------------+ | 4 | me | - | IETF R | | | ssage/imdn+xml | | FC 5438 [93] | +----------------+----------------+----------------+----------------+ | 5 | ap | clause 16.2 | IETF RF | | | plication/im-i | | C 3994 [175] | | | scomposing+xml | | | +----------------+----------------+----------------+----------------+ | 6 | m | clause 15.1, | IETF RF | | | ultipart/mixed | clause 15.4, | C 2046 [169] | | | | clause 15.6.2, | | | | | clause 15.6.3, | | | | | clause 15.6.4, | | | | | clause 18.3.3 | | +----------------+----------------+----------------+----------------+ | 7 | mul | clause 15.1, | IETF RF | | | tipart/related | clause 15.2, | C 2387 [170] | | | | clause 15.6.5 | | +----------------+----------------+----------------+----------------+ | 8 | multipa | - | IETF RF | | | rt/alternative | | C 2046 [169] | +----------------+----------------+----------------+----------------+ | 9 | applic | clause 15.1 | IETF RF | | | ation/pidf+xml | | C 3863 [174] | +----------------+----------------+----------------+----------------+ | 10 | application | clause 15.1 | IETF RF | | | /pidf-diff+xml | | C 5262 [179] | +----------------+----------------+----------------+----------------+ | 11 | ap | clause 12.19, | IETF RF | | | plication/reso | clause 15.1, | C 4826 [178] | | | urce-lists+xml | clause 15.6.3, | | | | | clause 16.5 | | +----------------+----------------+----------------+----------------+ | 12 | applic | clause 15.2, | IETF RF | | | ation/rlmi+xml | clause 15.6.5 | C 4662 [177] | +----------------+----------------+----------------+----------------+ | 13 | a | - | IETF RF | | | pplication/sdp | | C 4566 [147] | +----------------+----------------+----------------+----------------+ | 14 | a | clause 15.1, | IETF RF | | | pplication/sim | clause 15.6.4 | C 4661 [176] | | | ple-filter+xml | | | +----------------+----------------+----------------+----------------+ | 15 | applicatio | clause 12.9 | IETF RF | | | n/simple-messa | | C 3842 [172] | | | ge-summary+xml | | | +----------------+----------------+----------------+----------------+ | 16 | m | clause 12.13, | IETF RF | | | essage/sipfrag | clause 18.2, | C 3420 [171] | | | | clause 18.3.1 | | +----------------+----------------+----------------+----------------+ | 17 | appli | clause 14.5.3 | TS 2 | | | cation/vnd.3gp | | 4.237 [131], | | | p.access-trans | | clause D.5.4 | | | fer-events+xml | | | +----------------+----------------+----------------+----------------+ | 18 | application/v | clause 12.7 | TS | | | nd.3gpp.cw+xml | | 24.615 [37], | | | | | clause C.1.1 | +----------------+----------------+----------------+----------------+ | 19 | application/vn | clause 18.3.2, | TS 2 | | | d.3gpp.iut+xml | clause 18.3.3 | 4.337 [149], | | | | | clause C.2.3 | +----------------+----------------+----------------+----------------+ | 20 | appli | clause 14.4 | TS 2 | | | cation/vnd.3gp | | 4.237 [131], | | | p.mid-call+xml | | clause D.1.3 | +----------------+----------------+----------------+----------------+ | 21 | applicat | clause 18.4.1, | TS 2 | | | ion/vnd.3gpp.r | clause 18.4.2 | 4.337 [149], | | | eplication+xml | | clause C.1.3 | +----------------+----------------+----------------+----------------+ | 22 | applicatio | - | | | | n/vnd.3gpp.sms | | | +----------------+----------------+----------------+----------------+ | 23 | applic | clause 14.5.1 | TS 2 | | | ation/vnd.3gpp | | 4.237 [131], | | | .srvcc-ext+xml | | clause D.4.4 | +----------------+----------------+----------------+----------------+ | 24 | applica | clause 14.2.3 | TS 2 | | | tion/vnd.3gpp. | | 4.237 [131], | | | srvcc-info+xml | | clause D.3.4 | +----------------+----------------+----------------+----------------+ | 25 | app | clause 14.2.2, | TS 2 | | | lication/vnd.3 | clause 14.4 | 4.237 [131], | | | gpp.state-and- | | clause D.2.4 | | | event-info+xml | | | +----------------+----------------+----------------+----------------+ | 26 | application | clause 12.24 | TS 2 | | | /vnd.3gpp.ussd | | 4.390 [163], | | | | | clause 5.1.3 | +----------------+----------------+----------------+----------------+ | 27 | application/vn | clause 12.22 | TS 2 | | | d.etsi.aoc+xml | | 4.647 [122], | | | | | clause E.1.1 | +----------------+----------------+----------------+----------------+ | 28 | application/vn | clause 12.16 | TS 2 | | | d.etsi.cug+xml | | 4.654 [103], | | | | | clause 4.4.1 | +----------------+----------------+----------------+----------------+ | 29 | a | clause 12.2 | TS | | | pplication/vnd | | 24.616 [33], | | | .etsi.mcid+xml | | clause 4.4 | +----------------+----------------+----------------+----------------+ | 30 | a | - | TS 2 | | | pplication/vnd | | 9.163 [168], | | | .etsi.pstn+xml | | clause F.2 | +----------------+----------------+----------------+----------------+ | 31 | app | clause 15.6.2, | OMA | | | lication/vnd.o | clause 15.6.3 | -SUP-XSD_prs\ | | | ma.suppnot+xml | | _suppnotFilter | | | | | -V1_0 [182] | +----------------+----------------+----------------+----------------+ | 32 | application/w | clause 15.3 | IETF RF | | | atcherinfo+xml | | C 3858 [173] | +----------------+----------------+----------------+----------------+ | 33 | application | clause 15.4, | IETF RF | | | /xcap-diff+xml | clause 15.6.5 | C 5874 [180] | +----------------+----------------+----------------+----------------+ | 34 | applicatio | - | TS 2 | | | n/session-info | | 9.163 [168], | | | | | clause G.2 | +----------------+----------------+----------------+----------------+ | 35 | application/lo | clause 21 | IETF RF | | | ad-control+xml | | C 7200 [167] | +----------------+----------------+----------------+----------------+ | 36 | application/vn | clause 11.3 | TS | | | d.etsi.sci+xml | | 29.658 [184] | +----------------+----------------+----------------+----------------+ | NOTE 1: When | | | | | no specific | | | | | II-NNI | | | | | requirements | | | | | are defined, | | | | | the II-NNI | | | | | requirements | | | | | may be derived | | | | | from the | | | | | additional | | | | | information | | | | | about MIME | | | | | types in SIP | | | | | requests and | | | | | responses in | | | | | annex A of | | | | | TS | | | | | 24.229 [5]. | | | | | | | | | | NOTE 2: This | | | | | column | | | | | references the | | | | | definition of | | | | | the MIME body | | | | | for | | | | | informative | | | | | purpose only, | | | | | if the usage | | | | | is defined in | | | | | other | | | | | s | | | | | pecifications, | | | | | the | | | | | specification | | | | | containing the | | | | | usage is not | | | | | listed here. | | | | +----------------+----------------+----------------+----------------+
Applicable characteristics of the SIP message body MIMEs (i.e. the value(s) of
Content-Disposition header field and Content-Language header field) over the
II-NNI may be a subject of operator agreements.
## 6.2 Control Plane Transport
### 6.2.1 General
The control plane transport of the II-NNI shall comply with clause 4.2A of
3GPP TS 24.229 [5].
Support of SCTP as specified in IETF RFC 4168 [27] is optional for an IBCF
connected by II-NNI. Nevertheless this option is favourable if the operators
would like to improve reliability over the Ici.
## 6.3 SIP timers
Table 6.3.1 shows values of SIP timers that should be supported at II-NNI. It
contains the following items:
\- the first column, titled \"SIP Timer\", shows the timer names as defined in
IETF RFC 3261 [13];
\- the second column reflects the timer meaning as defined in IETF RFC 3261
[13];
\- the third column reflects the reference to the proper section in the IETF
RFC 3261 [13] and in 3GPP TS 24.229 [5] and
\- the final column lists the values recommended for the functional entities
closest to the border of an II-NNI (see reference model in clause 5).
Table 6.3.1 reports information from 3GPP TS 24.229 [5], table 7.7.1. Values
between IM CN subsystem elements shown in the second column in 3GPP TS 24.229
[5], table 7.7.1 are applicable for the II-NNI and are reported in the fourth
column of table 6.3.1. If there are any differences between table 6.3.1 and
3GPP TS 24.229 [5], table 7.7.1, the information within 3GPP TS 24.229 [5],
table 7.7.1 is applicable.
Table 6.3.1: SIP timers at II-NNI
+----------------+----------------+----------------+----------------+ | SIP Timer | Meaning | Reference | Recommended | | | | | | | | | | values | +----------------+----------------+----------------+----------------+ | T1 | RTT estimate | [13] | 500ms default | | | | c | | | | | lause 17.1.1.1 | (see NOTE) | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | T2 | The maximum | [13] | 4s | | | retransmit | c | | | | interval for | lause 17.1.2.2 | (see NOTE) | | | non-INVITE | | | | | requests and | [5] table | | | | INVITE | 7.7.1 | | | | responses | | | +----------------+----------------+----------------+----------------+ | T4 | Maximum | [13] | 5s | | | duration a | c | | | | message will | lause 17.1.2.2 | (see NOTE) | | | remain in the | | | | | network | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer A | INVITE request | [13] | initially T1 | | | retransmit | c | | | | interval, for | lause 17.1.1.2 | | | | UDP only | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer B | INVITE | [13] | 64*T1 | | | transaction | c | | | | timeout timer | lause 17.1.1.2 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer C | proxy INVITE | [13] | > 3min | | | transaction | clause 16.6 | | | | timeout | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer D | Wait time for | [13] | > 32s for UDP | | | response | c | | | | retransmits | lause 17.1.1.2 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | | | [13] | 0s for | | | | c | TCP/SCTP | | | | lause 17.1.1.2 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer E | non-INVITE | [13] | initially T1 | | | request | c | | | | retransmit | lause 17.1.2.2 | | | | interval, UDP | | | | | only | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer F | non-INVITE | [13] | 64*T1 | | | transaction | c | | | | timeout timer | lause 17.1.2.2 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer G | INVITE | [13] | initially T1 | | | response | clause 17.2.1 | | | | retransmit | | | | | interval | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer H | Wait time for | [13] | 64*T1 | | | ACK receipt. | clause 17.2.1 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer I | Wait time for | [13] | T4 for UDP | | | ACK | clause 17.2.1 | | | | retransmits | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | | | [13] | 0s for | | | | clause 17.2.1 | TCP/SCTP | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer J | Wait time for | [13] | 64*T1 for UDP | | | non-INVITE | clause 17.2.2 | | | | request | | | | | retransmits | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | | | [13] | 0s for | | | | clause 17.2.2 | TCP/SCTP | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | Timer K | Wait time for | [13] | T4 for UDP | | | response | c | | | | retransmits | lause 17.1.2.2 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | | | [13] | 0s for | | | | c | TCP/SCTP | | | | lause 17.1.2.2 | | | | | | | | | | [5] table | | | | | 7.7.1 | | +----------------+----------------+----------------+----------------+ | NOTE: As a | | | | | network | | | | | option, SIP T1 | | | | | Timer\'s value | | | | | can be | | | | | extended, | | | | | along with the | | | | | necessary | | | | | modifications | | | | | of T2 and T4 | | | | | Timers\' | | | | | values, to | | | | | take into | | | | | account the | | | | | specificities | | | | | of the | | | | | supported | | | | | services when | | | | | the MRFC and | | | | | the | | | | | controlling AS | | | | | are under the | | | | | control of the | | | | | same operator | | | | | and the | | | | | controlling AS | | | | | knows, based | | | | | on local | | | | | configuration, | | | | | that the MRFC | | | | | implements a | | | | | longer value | | | | | of SIP T1 | | | | | Timer. | | | | +----------------+----------------+----------------+----------------+
# 7 User plane Interconnection
## 7.1 Media and Codec
For \"end-to-end\" media session involving the II-NNI, the SIP/SDP codec
negotiation procedure can be applied between IM CN subsystems using different
media codecs. It is possible that the end-to-end codec negotiation could fail
because no common codec could be supported by the UEs, in particular for voice
services.
To enhance interoperability, the IBCF, the MRFC, or other IMS network entities
can interfere with the end-to-end codec negotiation to offer additional
codec(s) available via transcoding, or to remove codecs. The IBCF can
configure an attached TrGW to transcode, and the MRFC can configure an
attached MRFP to transcode.
Codecs applicable at the II-NNI may be a subject of interworking agreements.
NOTE 1: Possible codecs which could be used at the II-NNI are described in
3GPP TS 26.114 [11] and ETSI 3GPP TS 181 005 [12].
NOTE 2: As described in 3GPP TS 24.229 [5], the IETF RFC 4733 [157] is used to
encode DTMF events and a payload type number associated with the MIME subtype
\"telephone-event\" is included in a SDP message.
However, to avoid that transcoding is performed several times, applicable
codecs at the II-NNI should be restricted as little as possible.
NOTE 3: Transcoding can be performed in an IMS network serving an SDP offerer
or in an IMS network serving an SDP answerer. To avoid that transcoding is
performed multiple times, inter-operator agreements can clarify if it is
preferred that IMS network serving an SDP offerer or IMS network serving an
SDP answerer modify an SDP offer to offer transcoding.
If the IBCF performs media transcoding control, the IBCF shall apply the
related procedures in 3GPP TS 24.229 [5].
## 7.2 User Plane Transport
The user plane transport of the II-NNI may use the protocols listed in table
7.2.1. Protocols that use UDP, RTP or TCP as the underlying transport protocol
may be used based on agreements between operators. The used protocols to
transport media are negotiated by means of the SDP offer/answer procedure
specified in IETF RFC 3264 [146].
Table 7.2.1: Supported transport-level RFCs to be described in SIP/SDP
messages
+-----------------+-----------------+-----------------+-----------+ | Item | RFC | Title | Support | +-----------------+-----------------+-----------------+-----------+ | 1 | IETF R | RTP: A | Mandatory | | | FC 3550 [151] | Transport | | | | | Protocol for | | | | | Real-Time | | | | | Applications | | +-----------------+-----------------+-----------------+-----------+ | 2 | IETF | User Datagram | Mandatory | | | RFC 768 [152] | Protocol | | +-----------------+-----------------+-----------------+-----------+ | 3 | IETF R | RTP Profile for | Mandatory | | | FC 3551 [153] | Audio and Video | | | | | Conferences | | | | | with Minimal | | | | | Control | | +-----------------+-----------------+-----------------+-----------+ | 4 | IETF R | Session | Mandatory | | | FC 3556 [154] | Description | | | | | Protocol (SDP) | | | | | Bandwidth | | | | | Modifiers for | | | | | RTP Control | | | | | Protocol (RTCP) | | | | | Bandwidth | | +-----------------+-----------------+-----------------+-----------+ | 5 | IETF R | Extended RTP | Optional | | | FC 4585 [155] | Profile for | | | | | Real-time | (NOTE 1) | | | | Transport | | | | | Control | | | | | Protocol (RTCP) | | | | | - Based | | | | | Feedback | | | | | (RTP/AVPF) | | +-----------------+-----------------+-----------------+-----------+ | 6 | IETF | Transmission | Optional | | | RFC 793 [156] | Control | | | | | Protocol | (NOTE 2) | +-----------------+-----------------+-----------------+-----------+ | NOTE 1: used by | | | | | MTSI, as | | | | | indicated in | | | | | TS | | | | | 26.114 [11]. | | | | | | | | | | NOTE 2: used | | | | | for MSRP | | | | | service. | | | | +-----------------+-----------------+-----------------+-----------+
# 8 Numbering, Naming and Addressing
## 8.1 Numbering, Naming and Addressing for SIP message
The following URI formats in SIP messages may be applied at the Ici as
standardized in 3GPP TS 24.229 [5]:
ï‚Ÿ SIP URI defined in IETF RFC 3261 [13];
ï‚Ÿ tel URI defined in IETF RFC 3966 [14];
ï‚Ÿ IM URI defined in IETF RFC 3860 [15]; and
ï‚Ÿ PRES URI defined in IETF RFC 3859 [16].
According to 3GPP TS 24.229 [5], the IBCF acting as an exit or entry point in
the IMS network supports these URI formats. These URI formats shall be
supported at the roaming II-NNI. The SIP URI format shall be supported at the
non-roaming II-NNI. For the loopback traversal scenario both the SIP URI and
the tel URI shall be supported. The tel URI, IM URI and PRES URI formats may
be supported at the non-roaming II-NNI based on agreement between operators.
For the loopback traversal scenario the IM URI and PRES URI may be supported
based on agreement between operators. Other URI formats may be supported over
the II-NNI depending on the operator agreements.
A global number as defined in IETF RFC 3966 [14] shall be used in a tel URI or
in the user portion of a SIP URI with the user=phone parameter when conveyed
via a non-roaming II-NNI or for the loopback traversal scenario in the
Request-URI and in the P-Asserted-Identity header field, except when agreement
exists between the operators to also allow other kinds of numbers.
NOTE 1: In a SIP URI the user portion of the Request-URI represents a
telephone number only if the SIP URI includes the user=phone parameter.
NOTE 2: Agreements can exist between operators to allow non-global number
(e.g. national service numbers. business trunking numbers, or private numbers)
at a non-roaming II-NNI or for the loopback traversal scenario. A SIP URI with
such a number, a user=phone parameter, and a phone-context parameter agreed
between the operators can then be used.
NOTE 3: 3GPP TS 24.229 [5] allows to restrict the number within a SIP Request-
URI with user=phone parameter at a non-roaming II-NNI or for the loopback
traversal scenario to be a global number (i.e. E.164 in international format)
via an appropriate Application Server. Suitable configuration by the operator
is needed to achieve the desired modification of the format.
NOTE 4: The allowed phone number formats in the P-Asserted-Identity header
field of a served user are configured by the operator. According to 3GPP TS
23.003 [35], international E.164 format is used within a P-Asserted-Identity
header field.
NOTE 5: The global number format usage within a SIP Request-URI with the
user=phone parameter at a non-roaming II-NNI or for the loopback traversal
scenario allows the terminating network to find the called subscriber, via HSS
interrogation, without any further number translation and thus improves the
success of the interconnection between IMS operators.
The optional \"oli\" and \"cpc\" tel URI parameters associated with a tel URI
or a SIP URI with user=phone are described in 3GPP TS 24.229 [5] clause
7.2A.12 and can be part of the P-Asserted-Identity header field. Depending on
operator agreements, those URI parameters may be supported at the non-roaming
II-NNI or for the loopback traversal scenario.
The \"sos\" SIP URI parameter associated with a URI in the Contact header
field of a REGISTER request or a 200 (OK) response to REGISTER request is
described in 3GPP TS 24.229 [5]. The \"sos\" SIP URI parameter shall be
supported at the roaming II-NNI.
The \"sos\" SIP URI parameter associated with the Request-URI for all dialogs
and standalone SIP requests described in clause 5.2.10.3 of 3GPP TS 24.229 [5]
and shall be supported at the roaming II-NNI.
The \"rn\" and \"npdi\" number portability parameters for the tel URI and the
SIP URI with user=phone as described within IETF RFC 4694 [75] can be part of
the Request-URI. Depending on operator agreements these parameters may be
exchanged over the non-roaming II-NNI or for the loopback traversal scenario.
NOTE 6: The \"rn\" and \"npdi\" parameters can be used to address the entry
point of the terminating operator depending on national rules for number
portability.
The \"isub\" tel URI parameter for the tel URI and the SIP URI with user=phone
as described within IETF RFC 3966 [14] can be part of the Request-URI, To
header field and P-Asserted-Identity header field. Depending on operator
agreements, this URI parameter may be exchanged over the II-NNI.
## 8.2 Numbering, Naming and Addressing for SDP
The following URI format in the SDP exchange may be applied at the Ici as
standardized in 3GPP TS 24.229 [5]:
ï‚Ÿ MSRP URI for a session of instant messages defined in IETF RFC 4975 [17].
This URI format shall be supported at the roaming II-NNI and may be supported
at the non-roaming II-NNI and for the loopback traversal scenario based on
agreement between operators. Other URI formats may be supported over the II-
NNI depending on the operators\' agreements.
# 9 IP Version
The network elements interconnected by means of the II-NNI may support IPv4
only, IPv6 only or both.
The support of one or both of the IP versions is an operator option and should
be based on bilateral agreement.
In case IPv4 and IPv6 networks are interconnected, the involved IBCFs and
TrGWs shall apply the IP version interworking procedures as indicated in 3GPP
TS 29.162 [8].
# 10 Security
The supported security mechanisms for IP signalling transport over II-NNI
interfaces are described in 3GPP TS 33.210 [10].
# 11 Charging
## 11.1 General
The accounting information to be supported over the Ici is described in 3GPP
TS 32.260 [29] and 3GPP TS 32.240 [183]. It shall be configurable by the
operator to use or not the accounting mechanisms provided by the IBCF.
## 11.2 Inter-operator accounting
For inter-operator accounting, the procedures related to the P-Charging-Vector
header field specified in 3GPP TS 24.229 [5] shall be supported over the II-
NNI as further specified below.
NOTE 1: The \"icid-value\" header field parameter identifying a dialog or a
transaction outside a dialog is included in the P-Charging-Vector header field
as specified in 3GPP TS 24.229 [5].
For the roaming II-NNI:
\- the P-Charging-Vector header field in the REGISTER requests containing the
type 1 \"orig-ioi\" with the entry which identifies the visited network; and
\- the P-Charging-Vector header field in the REGISTER responses containing
type 1 \"orig-ioi\" and type 1 \"term-ioi\" header field parameters with the
entries which identify the visited network and the home network respectively;
shall be supported.
NOTE 2: Operator network identifiers populated in the type 1 \"orig-ioi\" and
type 1 \"term-ioi\" header field parameters need to be exchanged by inter-
operator agreements in advance.
For the II-NNI between IMS home networks:
\- the P-Charging-Vector header field in the SIP requests containing the type
2 \"orig-ioi\" with the entry which identifies the home originating network;
and
\- the P-Charging-Vector header field in the SIP responses containing the type
2 \"orig-ioi\" and type 2 \"term-ioi\" header field parameters with the
entries which identify the home originating network and the home terminating
network respectively;
may be supported based on inter-operator agreements.
If the roaming architecture for voice over IMS with local breakout is used,
for the II-NNI between the caller\'s visited network and the callee\'s home
network except for the roaming II-NNI:
\- the P-Charging-Vector header field in the SIP requests containing the type
2 \"orig-ioi\" with the entry which identifies the visited originating
network; and
\- the P-Charging-Vector header field in the SIP responses containing the type
2 \"orig-ioi\" and type 2 \"term-ioi\" header field parameters with the
entries which identify the visited originating network and the home
terminating network respectively;
may be supported based on inter-operator agreements.
NOTE 3: Operator network identifiers populated in the type 2 \"orig-ioi\" and
type 2 \"term-ioi\" header field parameters need to be exchanged by inter-
operator agreements in advance.
For the II-NNI for the transit scenario:
\- the P-Charging-Vector header field in the SIP requests and responses
containing the \"transit-ioi\" header field parameter with the entry(ies)
which identify the transit network(s);
may be supported based on inter-operator agreements.
NOTE 4: Operator network identifiers populated in the value(s) of \"transit-
ioi\" header field parameter need to be exchanged by inter-operator agreements
in advance.
## 11.3 Transfer of IP multimedia service tariff information
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), transfer of IP multimedia service
tariff information as specified in 3GPP TS 29.658 [184] may be supported on
the II-NNI between two IMS networks. The support of transfer of IP multimedia
service tariff information is based on agreement between operators.
If transfer of IP multimedia service tariff information is supported, the
\"application/vnd.etsi.sci+xml\" MIME body in 18x responses to the INVITE
request and in the INFO request shall be supported at the II-NNI.
# 12 Supplementary services associated with the IMS multimedia telephony
communication service
## 12.1 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated supplementary
services of the multimedia telephony communication service may be supported on
the II-NNI between the two IMS networks.
The MMTEL communication service is identified by means of the media feature
tag \"g.3gpp.icsi-ref\" (specified in 3GPP TS 24.229 [5] clause 7.2A.8) or the
feature-cap**ability indicator** \"g.3gpp.icsi-ref\" (specified in 3GPP TS
24.229 [5] clause 7.9A.2) set to \"urn:urn-7:3gpp-service.ims.icsi.mmtel\".
The media feature tag can appear in the Contact header field, the Accept-
Contact header field and the P-Asserted-Service header field and the feature-
cap**ability indicator** can appear in the Feature-Caps header field.
The support of each associated supplementary service is based on agreement
between operators.
If a supplementary service is supported, the related procedures from the 3GPP
TS 22.173 [30], the protocol details from the 3GPP TS 24.173 [31] and
specifications referenced in the 3GPP TS 24.173 [31] shall be applied with the
requirements in the relevant clause below due to the crossing of the II-NNI.
A classification of the importance of supplementary services applicable over
the II-NNI is available in the informative annex Db of 3GPP TS 22.173 [30].
NOTE: Agreeing on interworking of entire class of services according to this
classification can simplify the cooperation between interconnecting networks
but remains optional.
## 12.2 Malicious Communication IDentification (MCID)
Service specific requirements in accordance with 3GPP TS 24.616 [33] shall be
supported over the II-NNI.
The P-Asserted-Identity header field shall be supported at the II-NNI.
The INFO request and the 200 (OK) response to the INFO request containing the
\"application/vnd.etsi.mcid+xml\" MIME body defined in 3GPP TS 24.616 [33] may
be supported at the II-NNI.
If a network terminating the dialog supports MCID, the terminating network
shall only deliver the MCID request in the \"application/vnd.etsi.mcid+xml\"
MIME body, as specified in the 3GPP TS 24.616 [33], if an agreement to use the
MCID supplementary service according to the 3GPP TS 24.616 [33] exists with
the network originating the dialog and if the INVITE request received by the
terminating network does not contain the information of the originating party.
NOTE: The IBCF and the AS in the terminating network interact to deliver the
MCID request only if an agreement to use the MCID supplementary service
exists, as specified in 3GPP TS 24.616 [33] and 3GPP TS 24.229 [5].
The originating network and the terminating network shall have a bilateral
agreement to support transportation of the minimum information specified in
clause 4.5.2.5.0 of the 3GPP TS 24.616 [33] between the networks.
## 12.3 Originating Identification Presentation (OIP) and Originating
Identification Restriction (OIR)
Service specific requirements in accordance with 3GPP TS 24.607 [32] shall be
supported over the II-NNI.
The P-Asserted-Identity header field and the Privacy header field with values
\"id\", \"user\", \"none\", \"header\" and \"critical\" shall be supported at
the II-NNI.
NOTE 1: P-Asserted-Identity header fields are intended for end-to-end
operation. Removal of such header fields will impact the intended end-to-end
operation between the end users. Where a trust relationship exists on the
P-Asserted-Identity header field between the two IMS networks, this header
field cannot be altered when passing through the II-NNI according to 3GPP TS
24.229 [5]. Where no trust relationship exists on the P-Asserted-Identity
header field between the two IMS networks, the IBCF determines whether to
remove the P-Asserted-Identity header field according to procedures described
in 3GPP TS 24.229 [5] clause 4.4.2 referencing IETF RFC 3325 [44] and local
policy rules for using additional screening capabilities as defined in 3GPP TS
24.229 [5] clause 5.10.6.
NOTE 2: Where a trust relationship exists with the remote domain the From
header field will be passed transparently by the IBCF. If a request is
received by the terminating network and the application of the OIR service is
required with the value \"user\" for the Privacy header field then the From
header field will be anonymised in accordance with IETF RFC 3323 [34] by the
terminating network. Where no trust relationship exists with the remote
domain, the From header field can be, based on local policy rules, anonymised
by the IBCF of the originating network prior passing through the II-NNI using
screening capabilities defined in 3GPP TS 24.229 [5] clause 5.10.6 and clause
5.10.8.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.4 Terminating Identification Presentation (TIP) and Terminating
Identification Restriction (TIR)
Service specific requirements in accordance with 3GPP TS 24.608 [113] shall be
supported over the II-NNI.
The P-Asserted-Identity header field and the Privacy header field with values
\"id\", \"user\", \"none\", \"header\" and \"critical\" shall be supported at
the II-NNI.
NOTE: P-Asserted-Identity header fields are intended for end-to-end operation.
Removal of such header fields will impact the intended end-to-end operation
between the end users. Where a trust relationship exists on the P-Asserted-
Identity header field between the two IMS networks, this header field will be
passed transparently through the II-NNI according to 3GPP TS 24.229 [5]. Where
no trust relationship exists on the P-Asserted-Identity header field between
the two IMS networks, the IBCF determines whether to remove the P-Asserted-
Identity header field according to procedures described in 3GPP TS 24.229 [5]
clause4.4.2, referencing IETF RFC 3325 [44] and local policy rules for using
additional screening capabilities as defined in 3GPP TS 24.229 [5] clause
5.10.6.
The option tag \"from-change\" defined in IETF RFC 4916 [158], in the
Supported header field should be supported at II-NNI.
## 12.5 Anonymous Communication Rejection (ACR)
Service specific requirements in accordance with 3GPP TS 24.611 [114] shall be
supported over the II-NNI.
The P-Asserted-Identity header field and the Privacy header field shall be
supported at the II-NNI.
Procedures as described in clause 12.21.4 are used to provide announcements.
The response code 433 (Anonymity Disallowed) shall be supported at the II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.6 Communication DIVersion (CDIV)
Service specific requirements in accordance with 3GPP TS 24.604 [117] shall be
supported over the II-NNI.
NOTE 1: The support of the Diversion header field not adopted in 3GPP TS
24.604 [117] requires bilateral agreement between the operators.
Procedures as described in clause 12.21.2 are used to provide announcements.
The Privacy header field with a priv-value set to \"history\" included in the
hi-targeted-to-uri or as a standalone header field shall be supported at the
II-NNI.
The History-Info header field as described by 3GPP TS 24.604 [117] and a
\"cause\" SIP URI parameter with cause values as defined by the IETF RFC 4458
[58] shall be supported over the II-NNI.
NOTE 2: The networks can have an internal limit in the number of allowed
diversions, as described in 3GPP TS 24.604 [117], clause 4.5.2.6.1. To ensure
efficiency of this control operators can indicate in their bilateral
agreements their own number of allowed communication diversions, the parameter
that is used for counting, and the network behavior when the internal limit is
reached.
The response code 181 (Call Is Being Forwarded) shall be supported at the II-
NNI.
The MESSAGE request procedure for indication of communication diversion to the
diverting user as specified in 3GPP TS 24.604 [117] and 3GPP TS 24.229 [5]
should be supported at the roaming II-NNI.
NOTE 3: The content of the MESSAGE request is operator specific.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.7 Communication Waiting (CW)
Service specific requirements in accordance with 3GPP TS 24.615 [37] shall be
supported over the II-NNI.
The \"application/vnd.3gpp.cw+xml\" MIME body defined in 3GPP TS 24.615 [37]
in the INVITE request shall be supported at the roaming II-NNI.
The Alert-Info header field set to \"urn:alert:service:call-waiting\" in a 180
(Ringing) response shall be supported at the II-NNI.
As a network option, in case of expiry of the CW timer, the response code 480
(Temporarily Unavailable) including a Reason header field set to cause 19
shall be supported at the non-roaming II-NNI and for the loopback traversal
scenario.
Procedures as described in clause 12.21.2 are used to provide announcements.
## 12.8 Communication HOLD (HOLD)
Service specific requirements in accordance with 3GPP TS 24.610 [36] shall be
supported over the II-NNI.
NOTE: The support of an alternative method not adopted in 3GPP TS 24.610 [36]
requires bilateral agreement between the operators and is outside the scope of
the present document.
Procedures as described in clause 12.21.3 are used to provide announcements.
## 12.9 Message Waiting Indication (MWI)
Service specific requirements in accordance with 3GPP TS 24.606 [112] shall be
supported over the II-NNI.
The event package name \"message-summary\" in the Event header field according
to IETF RFC 3265 [20] and 3GPP TS 24.229 [5] in the SUBSCRIBE request shall be
supported at the roaming II-NNI.
The \"application/simple-message-summary\" MIME body described in 3GPP TS
24.606 [112] in the NOTIFY request shall be supported at the roaming II-NNI.
## 12.10 Communication Barring (CB)
### 12.10.1 Incoming Communication Barring (ICB)
Service specific requirements in accordance with 3GPP TS 24.611 [114] shall be
supported over the II-NNI.
Procedures as described in clause 12.21.4 are used to provide announcements.
The response code 603 (Decline) including a Reason header field as described
in 3GPP TS 24.611 [114] shall be supported at the II-NNI.
A Reason header field as described in 3GPP TS 24.611 [114] included in the BYE
request shall be supported at the II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
If the option IIFC (Inhibition of Incoming Forwarded Calls) is supported the
transparency of information related to communication diversion (see clause
12.6) shall be supported at II-NNI.
### 12.10.2 Outgoing Communication Barring (OCB)
Service specific requirements in accordance with 3GPP TS 24.611 [114] shall be
supported over the II-NNI.
Procedures as described in clause 12.21.4 are used to provide announcements.
The response code 603 (Decline) including a Reason header field as described
in 3GPP TS 24.611 [114] shall be supported at the roaming II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.11 Completion of Communications to Busy Subscriber (CCBS)
Service specific requirements in accordance with 3GPP TS 24.642 [109] shall be
supported over the II-NNI.
The response code 486 (Busy Here) containing a Call-Info header field with a
\"purpose\" header field parameter set to \"call-completion\" and the m
parameter set to \"BS\" shall be supported at the non-roaming II-NNI and for
the loopback traversal scenario.
For invoking and revoking of the CCBS supplementary service, announcement
procedures shall be used to provide announcements and inband-interaction
procedures as described in clause 12.21.3 and clause 12.21.4 shall be
supported at the roaming II-NNI.
The response code 199 (Early Dialog Terminated) shall be supported at the
roaming II-NNI.
Basic call procedures and in case of a call-completion recall initiated by a
REFER request, normal REFER method handling procedures according to 3GPP TS
24.229 [5] shall be supported at the roaming II-NNI.
As a network option the special REFER request handling procedures according to
3GPP TS 24.628 [38] should be supported at the roaming II-NNI.
NOTE 1: 3^rd^ party call control procedures can be used when the REFER request
is not supported at the II-NNI.
NOTE 2: A REFER request can be rejected by IBCF based on operator policy as
specified by 3GPP TS 24.229 [5].
The SUBSCRIBE and NOTIFY methods according to IETF RFC 3265 [20] and 3GPP TS
24.229 [5] containing the event package name \"call-completion\" in the Event
header field and the Call-Info header field with a purpose parameter set to
\'call-completion\' and the m parameter set to \"BS\" shall be supported at
the non-roaming II-NNI and for the loopback traversal scenario.
The Request-URI with the \"m\" SIP URI parameter with a value set to \"BS\"
and the Call-Info header field with a purpose parameter set to \'call-
completion\' and the \"m\" parameter set to \"BS\" in the INVITE method shall
be supported at the non-roaming II-NNI and for the loopback traversal
scenario.
The Date header field in the 486 (Busy Here) response to the INVITE request
shall be supported at the roaming II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.12 Completion of Communications by No Reply (CCNR)
Service specific requirements in accordance with 3GPP TS 24.642 [109] shall be
supported over the II-NNI.
The response code 180 (Ringing) containing a Call-Info header field with a
purpose parameter set to \'call-completion\' and the m parameter set to \"NR\"
shall be supported at the non-roaming II-NNI and for the loopback traversal
scenario.
For invoking and revoking of the CCNR supplementary service, announcement
procedures shall be used to provide announcements and inband-interaction
procedures as described in clause 12.21.3 and clause 12.21.4 shall be
supported at the roaming II-NNI.
The response code 199 (Early Dialog Terminated) shall be supported at the
roaming II-NNI.
Basic call procedures and in case of a call-completion recall initiated by a
REFER request, normal REFER method handling procedures according to 3GPP TS
24.229 [5] shall be supported at the roaming II-NNI.
As a network option the special REFER request handling procedures according to
3GPP TS 24.628 [38] should be supported at the roaming II-NNI.
NOTE 1: 3^rd^ party call control procedures can be used when the REFER request
is not supported at the II-NNI.
NOTE 2: A REFER request can be rejected by IBCF based on operator policy as
specified by 3GPP TS 24.229 [5].
The SUBSCRIBE and NOTIFY methods according to IETF RFC 3265 [20] and 3GPP TS
24.229 [5] containing the event package name \"call-completion\" in the Event
header field and the Call-Info header field with a purpose parameter set to
\'call-completion\' and the m parameter set to \"NR\" shall be supported at
the non-roaming II-NNI and for the loopback traversal scenario.
The Request-URI with the \"m\" SIP URI parameter with a value set to \"NR\"
and the Call-Info header field with a purpose parameter set to \'call-
completion\' and the \"m\" parameter set to \"NR\" in the INVITE method shall
be supported at the non-roaming II-NNI and for the loopback traversal
scenario.
The Date header field in the 480 (Temporarily Unavailable) response to the
INVITE request shall be supported at the roaming II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.13 Explicit Communication Transfer (ECT)
Service specific requirements in accordance with 3GPP TS 24.629 [116] shall be
supported over the II-NNI.
The REFER method, the Referred-By header field and the Replaces header field
as specified in 3GPP TS 24.629 [116] and the NOTIFY method containing an
\"application/sipfrag\" MIME body shall be supported at the II-NNI for call
transfer without third party call control.
The REFER method, the Referred-By header field and the Replaces header field
as specified in 3GPP TS 24.629 [116] and the NOTIFY method containing an
\"application/sipfrag\" MIME body shall be supported at the roaming II-NNI for
call transfer with third party call control.
The Refer-To URI header parameter in the REFER request containing the Require
header field set to \"replaces\" shall be supported at the roaming II-NNI.
The Replaces header field in the INVITE request shall be supported at the non-
roaming II-NNI and for the loopback traversal scenario.
## 12.14 Customized Alerting Tone (CAT)
Service specific requirements in accordance with 3GPP TS 24.182 [129] shall be
supported over the II-NNI.
The P-Early-Media header field in as described in 3GPP TS 24.182 [129] shall
be supported at the II-NNI.
The response code 183 (Session Progress) including a P-Early-Media header
field shall be supported over the II-NNI.
The response code 199 (Early Dialog Terminated) shall be supported over the
II-NNI.
The Supported header field and the Require header field with \"early-session\"
option-tag may be supported at the II-NNI.
An \"application/sdp\" MIME body with the Content-Disposition set to \"early-
session\" as specified in IETF RFC 3959 [96] may be supported at II-NNI.
The SIP INFO mechanism for DTMF transport, as defined in 3GPP TS 24.229 [5]
may be supported at the II-NNI.
NOTE 1: For telephone-event based DTMF transport, the DTMF digits are sent as
media and not visible in the control plane.
NOTE 2: Multiple methods for DTMF transport are defined in 3GPP TS 24.182
[129].
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.15 Customized Ringing Signal (CRS)
Service specific requirements in accordance with 3GPP TS 24.183 [98] shall be
supported over the II-NNI.
An Alert-Info header field in the initial INVITE request containing an URI
followed by a URN \"urn:alert:service:crs\" shall be supported at the II-NNI.
A SDP \"a=content\" attribute with a \"g.3gpp.crs\" value in the PRACK request
or the re-INVITE request may be supported at the II-NNI.
The Supported header field and the Require header field with \"early-session\"
option-tag may be supported at the II-NNI.
An \"application/sdp\" MIME body with the Content-Disposition header field set
to \"early-session\" as specified in IETF RFC 3959 [96] may be supported at
II-NNI.
The SIP INFO mechanism for DTMF transport, as defined in 3GPP TS 24.229 [5]
may be supported at the II-NNI.
NOTE: For telephone-event based DTMF transport, the DTMF digits are sent as
media and not visible in the control plane.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.16 Closed User Group (CUG)
Service specific requirements in accordance with 3GPP TS 24.654 [103] shall be
supported over the II-NNI.
The \"application/vnd.etsi.cug+xml\" MIME body as specified 3GPP TS 24.654
[103] shall be supported in INVITE requests at the II-NNI.
NOTE: If no agreement between the originating network and the terminating
network exists to support the CUG supplementary service the INVITE request is
rejected as described in IETF RFC 5621 [89] when the \"handling\" parameter in
the Content-Disposition of the \" application/vnd.etsi.cug+xml\" MIME body is
set to \"required\".
The 403 (Forbidden) response, the 603 (Decline) response and the 500 (Server
Internal Error) response shall be supported at II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.17 Personal Network Management (PNM)
Service specific requirements in accordance with 3GPP TS 24.259 [99] shall be
supported over the II-NNI.
A g.3gpp.iari_ref feature tag with the value urn:urn-7:3gpp-
application.ims.iari.pnm-controller in the Contact header field of the
REGISTER request shall be supported at the roaming II-NNI.
A g.3gpp.iari_ref feature tag with the value urn:urn-7:3gpp-
application.ims.iari.pnm-controller in the Accept-Contact header field shall
be supported at the II-NNI.
The History-Info header field shall be supported at II-NNI.
A \"histinfo\" option tag as described by 3GPP TS 24.259 [99] in the Supported
header field shall be supported at II-NNI.
## 12.18 Three-Party (3PTY)
Service specific requirements in accordance with 3GPP TS 24.605 [105] shall be
supported over the II-NNI.
NOTE 1: The requirements below can be relaxed by bilateral agreements between
operators.
The requirements for the 3PTY supplementary service are the same as for the
CONF supplementary service specified in clause 12.19 with the following
additional requirement:
\- If a REFER request is supported at the II-NNI, a Replaces header field in
the header portion of the SIP URI of the Refer-to header field of the REFER
request shall also be supported at II-NNI.
NOTE 2: Clause 12.19 describes the conditions for the support of the REFER
request.
## 12.19 Conference (CONF)
Service specific requirements in accordance with 3GPP TS 24.605 [105] shall be
supported over the II-NNI.
NOTE 1: The requirements below can be relaxed by bilateral agreements between
operators.
The REFER request shall be supported at the roaming II-NNI in the direction
from visited to home network. Based on inter-operator agreement, the REFER
request may be supported at the non-roaming II-NNI, for the loopback traversal
scenario, and at the roaming II-NNI in the direction from home network to
visited network.
NOTE 2: If the REFER request is not supported at the non-roaming II-NNI, for
the loopback traversal scenario, or at the roaming II-NNI in the direction
from home network to visited network, an attempt of an UE to send the REFER
directly to peers to invite them to a conference without involvement of the
conference focus can fail over such an II-NNI. However such failures can also
occur if a peer is located in a circuit switched network, or if a peer does
not support the REFER method. An operator can avoid such failures by
configuring an AS to convert the REFER to an INVITE, as detailed in 3GPP TS
24.628 [38]. Information on security risks associated with the REFER request
is provided within the \"security consideration\" of IETF RFC 3515 [22].
NOTE 3: A REFER request can be rejected by IBCF based on operator policy as
specified by 3GPP TS 24.229 [5].
The application/resource-lists+xml MIME body shall be supported at the roaming
II-NNI.
The Referred-By header field in the INVITE request shall be supported at the
II-NNI.
The \"isfocus\" feature parameter indicated in Contact header field of the
INVITE request and in the 200 (OK) response shall be supported at the II-NNI.
The SUBSCRIBE request including the \"conference\" event package name in the
Event header field and the NOTIFY request procedures according to 3GPP TS
24.147 [106] shall be supported at the II-NNI.
NOTE 4: The subscription to \"conference event\" package does not apply at the
roaming II-NNI between the MSC Server enhanced for ICS/MSC Server enhanced for
SRVCC and the IMS network where the communication is anchored.
The Allow-Events header field with the value \"conference\" shall be supported
at the roaming II-NNI and may be supported at the non-roaming II-NNI and for
the loopback traversal scenario.
## 12.20 Flexible Alerting (FA)
Service specific requirements in accordance with 3GPP TS 24.239 [101] shall be
supported over the II-NNI.
The 486 (Busy Here) response code shall be supported at the II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.21 Announcements
### 12.21.1 General
Announcements may be provided during the establishment of a communication
session, during an established communication session or when a communication
request is rejected. All of them shall be managed over the II-NNI.
### 12.21.2 Providing announcements during the establishment of a
communication session
Procedures as described in 3GPP TS 24.628 [38] are used to provide
announcements.
The P-Early-Media header field authorizing early media as defined in IETF RFC
5009 [74] during the establishment of a communication shall be supported at
the II-NNI.
The Alert-Info header field in the 180 (Ringing) response to the INVITE
request during the establishment of a communication, should be supported at
the II-NNI.
NOTE: The IBCF can decide to remove the Alert-Info header field if required by
local policy.
### 12.21.3 Providing announcements during an established communication
session
Procedures as described in 3GPP TS 24.628 [38] are used to provide
announcements.
In case of provision of an announcement to a user over the II-NNI during an
established communication, the Call-Info header field in a re-INVITE request
should be supported at the II-NNI.
NOTE 1: An alternative method to provide announcements is to use the existing
media stream.
NOTE 2: The IBCF can decide to remove the Call-Info header field if required
by local policy.
### 12.21.4 Providing announcements when communication request is rejected
Procedures as described in 3GPP TS 24.628 [38] are used to provide
announcements when a communication request is rejected.
There are three methods defined in 3GPP TS 24.628 [38] to provide the
announcement:
1) sending an announcement as an early media;
2) return an Error-Info header field; and
3) accept the communication request and then provide the announcement.
NOTE 1: The II-NNI requirements for accepting the communication request and
then provide the announcement is not within the scope of this subclause.
The P-Early-Media header field authorizing early media as defined in IETF RFC
5009 [74] and the Reason header field with the proper cause value shall be
supported at the II-NNI.
NOTE 2: There are 2 methods to use early media for sending the announcement
in-band. First method is the gateway model defined by IETF RFC 3960 [150],
second method is described in 3GPP TS 24.628 [38] annex D.
The Error-Info header field in the 3xx, 4xx, 5xx or 6xx response to the INVITE
request when rejecting the communication request, should be supported at the
II-NNI.
NOTE 3: The IBCF can decide to remove the Error-Info header field if required
by local policy.
## 12.22 Advice of Charge (AOC)
Service specific requirements in accordance with 3GPP TS 24.647 [122] shall be
supported over the II-NNI.
The Accept header field with \"application/vnd.etsi.aoc+xml\" shall be
supported at the roaming II-NNI.
The INVITE method containing an \"application/vnd.etsi.aoc+xml\" MIME body
shall be supported at the roaming II-NNI.
1xx provisional responses and the 200 (OK) response to the initial INVITE
request containing an \"application/vnd.etsi.aoc+xml\" MIME body shall be
supported at the roaming II-NNI.
The INFO method containing an application/vnd.etsi.aoc+xml MIME body shall be
supported at the roaming II-NNI.
The response code 504 (Server Time-out) shall be supported at the II-NNI.
A Reason header field with a reason value with the protocol set to \"SIP\" and
the cause set to \"504\" and a reason value with the protocol set to \"Q.850\"
and the cause set to \"31\" in the BYE method shall be supported at the II-
NNI.
An \"application/vnd.etsi.aoc+xml\" MIME body in the BYE request or the final
response to the BYE request shall be supported over the roaming II-NNI.
## 12.23 Completion of Communications on Not Logged-in (CCNL)
Service specific requirements in accordance with 3GPP TS 24.642 [109] shall be
supported over the II-NNI.
The response code 480 (Temporarily unavailable) containing a Call-Info header
field with a purpose parameter set to \'call-completion\' and the m parameter
set to \"NL\" shall be supported at the non-roaming II-NNI and for the
loopback traversal scenario.
For invoking and revoking of the CCNL supplementary service, announcement
procedures shall be used to provide announcements and inband-interaction
procedures as described in clause 12.21.3 and clause 12.21.4 shall be
supported at the roaming II-NNI.
The response code 199 (Early Dialog Terminated) shall be supported at the
roaming II-NNI.
Basic call procedures and in case of a call-completion recall initiated by a
REFER request, normal REFER method handling procedures according to 3GPP TS
24.229 [5] shall be supported at the roaming II-NNI.
As a network option the special REFER request handling procedures according to
3GPP TS 24.628 [38] should be supported at the roaming II-NNI.
NOTE: 3^rd^ party call control procedures can be used when the REFER request
is not supported at the II-NNI.
The SUBSCRIBE and NOTIFY methods according to IETF RFC 3265 [20] and 3GPP TS
24.229 [5] containing the event package name \"call-completion\" in the Event
header field and the Call-Info header field with a purpose parameter set to
\'call-completion\' and the m parameter set to \"NL\" shall be supported at
the non-roaming II-NNI and for the loopback traversal scenario.
The Request-URI with the \"m\" SIP URI parameter with a value set to \"NL\"
and the Call-Info header field with a purpose parameter set to \'call-
completion\' and the \"m\" parameter set to \"NL\" in the INVITE method shall
be supported at the non-roaming II-NNI and for the loopback traversal
scenario.
The Date header field in the 480 (Temporarily Unavailable) response to the
INVITE request shall be supported at the roaming II-NNI.
SIP based user configuration as described in 3GPP TS 24.238 [100] shall be
supported at the roaming II-NNI.
## 12.24 Unstructured Supplementary Service Data (USSD)
Service specific requirements in accordance with 3GPP TS 24.390 [163] shall be
supported over the II-NNI.
The Recv-Info header field containing the \"g.3gpp.ussd\" info package name
and the \"application/vnd.3gpp.ussd\" MIME body as described in annex B of
3GPP TS 24.390 [163] in the INVTE request shall be supported at the roaming
II-NNI.
The Recv-Info header field containing the \"g.3gpp.ussd\" info package name in
the 200 (OK) response to the INVITE request shall be supported at the roaming
II-NNI.
The INFO request containing \"application/vnd.3gpp.ussd\" MIME body and the
Info-Package header field containing the \"g.3gpp.ussd\" info package name
shall be supported at the roaming II-NNI.
The \"application/vnd.3gpp.ussd\" MIME body in the BYE request shall be
supported at the roaming II-NNI.
# 13 Interoperability of IMS Centralized Services (ICS) over II-NNI
## 13.1 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated service of the IMS
Centralized Services (ICS) may be supported on the II-NNI between two IMS
networks. The support of ICS is based on agreement between operators.
If ICS is supported, the related procedures from the 3GPP TS 24.292 [121] and
3GPP TS 29.292 [130] shall be applied with the requirements in the clause 13.2
due to the crossing of the II-NNI.
## 13.2 IMS Centralized Services (ICS)
Service specific requirements in accordance with 3GPP TS 24.292 [121] and 3GPP
TS 29.292 [130] shall be supported over the II-NNI.
The \"g.3gpp.ics\" media feature tag in the Contact header field as specified
in annex B of 3GPP TS 24.292 [121] shall be supported at the roaming II-NNI.
The \"g.3gpp.accesstype\" media feature tag in the Contact header field as
specified in annex B of 3GPP TS 24.292 [121] shall be supported at the roaming
II-NNI.
The \"g.3gpp.icsi-ref\" media feature tag as specified in 3GPP TS 24.229 [5]
the value for the IMS Multimedia Telephony Communication Service as specified
in 3GPP TS 24.173 [31] shall be supported at the roaming II-NNI.
An Accept-Contact header field and a Reject-Contact header field including the
media feature tag \"g.3gpp.accesstype\" and the media feature tag
\"g.3gpp.ics\" in any combination in the INVITE request shall be supported at
the roaming II-NNI.
The Target-Dialog header field in the INVITE request shall be supported at the
roaming II-NNI.
The P-Early-Media header field in the INVITE request and in 1xx responses to
the INVITE request shall be supported on the roaming II-NNI.
The Reason header field with Q.850 cause values in the CANCEL request, the BYE
request and in 4xx responses and 6xx responses to the INVITE request shall be
supported at the roaming II-NNI.
The REFER request with the \"method\" SIP URI parameter set to the value
\"BYE\" or \"INVITE\" or without the \"method\" SIP URI parameter in the
Refer-To header field as specified in 3GPP TS 24.292 [121] shall be supported
at the roaming II-NNI.
NOTE 1: The subscription to the conference package is not allowed according to
3GPP TS 24.292 [121] and the support of the support of the support of the
SUBSCRIBE request and associated NOTIFY requests for subscribing to the
conference event package is not a requirement at the II-NNI in this release of
the technical specification.
NOTE 2: Supplementary services as specified in clause 12 can be supported
based on agreement between operators.
# 14 Interoperability of IMS Service Continuity over II-NNI
## 14.1 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated services of the IMS
Service Continuity may be supported on the II-NNI between two IMS networks.
The support of each service is based on agreement between operators.
If a service is supported, the related procedures from the 3GPP TS 24.237
[131] shall be applied with the requirements in the relevant clause below due
to the crossing of the II-NNI.
## 14.2 PS to CS Single Radio Voice Call Continuity (SRVCC) and Single Radio
Video Call Continuity (vSRVCC)
### 14.2.1 Basic PS to CS SRVCC
Service specific requirements in accordance with 3GPP TS 24.237 [131] shall be
supported over the roaming II-NNI.
Media type \"video\" in SDP m-lines may be supported at the roaming II-NNI.
Related SDP can appear in SDP offer answer exchanges within SIP INVITE
dialogues at the roaming II-NNI, and in responses to SIP OPTIONS requests at
the roaming II-NNI. If media type \"video\" is supported within SIP INVITE
dialogues at the roaming II-NNI, it shall also be supported within responses
to SIP OPTIONS requests at the roaming II-NNI.
The \"+g.3gpp.srvcc\" header field parameter (specified in 3GPP TS 24.237
[131] annex C) in the Feature-Caps header field of the INVITE request and in
1xx or 2xx responses to the INVITE request or in the UPDATE request and in the
2xx response to the UPDATE request should be supported at the roaming II-NNI.
The Reason header field containing protocol \"SIP\" and reason parameter
\"cause\" with value \"487\" in the re-INVITE request shall be supported at
the roaming II-NNI.
The Reason header field containing a SIP 503 (Service Unavailable) response in
the SIP BYE request shall be supported at the roaming II-NNI.
Procedures as described in clause 14.4 are used to provide MSC server assisted
mid-call features.
### 14.2.2 PS to CS SRVCC for calls in alerting phase
The requirements for the PS to CS transfer for alerting calls are the same as
in clause 14.2.1 with the following additional requirements:
The \"g.3gpp.srvcc-alerting\" media feature tag (described in 3GPP TS 24.237
[131] annex C) in a Contact header field of the INVITE request and of the 180
(Ringing) response shall be supported at the roaming II-NNI.
The \"+g.3gpp.srvcc-alerting\" header field parameter (described in 3GPP TS
24.237 [131] annex C) included in a Feature-Caps header field as described in
IETF RFC 6809 [143] in a SIP INVITE request and in a 180 (Ringing) response to
the INVITE request or in the UPDATE request and in the 2xx response to the
UPDATE request shall be supported at the roaming II-NNI.
The Target-Dialog header field in the INVITE request shall be supported at the
roaming II-NNI.
An INFO request containing the Info-Package header field as specified in IETF
RFC 6086 [39] with \"3gpp.state-and-event\" info package name and an
\"application/vnd.3gpp.state-and-event-info +xml\" XML body shall be supported
at the roaming II-NNI.
### 14.2.3 Using the ATCF based architecture
The requirements for the ATCF based architecture is the same as in clause
14.2.1 with the following additional requirements:
The \"+g.3gpp.atcf\", the \"+g.3gpp.atcf-mgmt-uri\" and the \"+g.3gpp.atcf-
path\" header field parameters (specified in 3GPP TS 24.237 [131] annex C) in
the Feature-Caps header field of the REGISTER request as described in IETF RFC
6809 [143] shall be supported at the roaming II-NNI.
A MESSAGE request containing the \"application/vnd.3gpp.srvcc-info+xml\" MIME
body as defined in annex D of 3GPP TS 24.237 [131] shall be supported at the
roaming II-NNI.
The URIs of SCC ASs authorised to provide PS to CS SRVCC information in the
MESSAGE request need to be specified in the roaming agreement.
The Target-Dialog header field in the INVITE request shall be supported at the
roaming II-NNI.
## 14.3 Inter UE Transfer (IUT)
IUT is described in clause 18.
## 14.4 PS to CS SRVCC with the MSC server assisted mid-call feature
The requirements for the PS to CS SRVCC with the MSC server assisted mid-call
feature are the same as in clause 14.2.1 with the following additional
requirement:
The Contact header field of the REGISTER request and the 200 (OK) response
containing \"g.3gpp.mid-call\" media feature tag as described in annex C of
3GPP TS 24.237 [131] shall be supported at the roaming II-NNI.
The Feature-Cap header field of the REGISTER request and the 200 (OK) response
containing \"+g.3gpp.mid-call\" header field parameter specified in annex C of
3GPP TS 24.237 [131] shall be supported at the roaming II-NNI.
The media feature tag \"g.3gpp.accesstype\" in the Contact header field of the
REGISTER request shall be supported at roaming II-NNI.
A Contact header field of the INVITE request and the 200 (OK) response
containing \"g.3gpp.mid-call\" media feature tag as described in annex C of
3GPP TS 24.237 [131] shall be supported at the roaming II-NNI.
The Recv-Info header field containing the \"g.3gpp.mid-call\" package name in
the INVITE request as specified in annex D of 3GPP TS 24.237 [131] shall be
supported at the roaming II-NNI.
An Accept header field in the INVITE request containing the MIME type
\"application/vnd.3gpp.mid-call+xml\" as specified in clause D.1 of 3GPP TS
24.237 [131] shall be supported at the roaming II-NNI.
The \"application/vnd.3gpp.mid-call+xml\" MIME body described in clause D.1.3
of 3GPP TS 24.237 [131] in the INVITE request shall be supported at the
roaming II-NNI.
The SUBSCRIBE request containing a \"g.3gpp.mid-call\" media feature tag in
the Contact header field shall be supported at the roaming II-NNI.
NOTE 2: The \"g.3gpp.mid-call\" media feature tag in the Contact header field
of the SUBSCRIBE request may appear if the CONF supplementary service is
supported at roaming II-NNI as described in clause 12.9.
An INFO request containing the Info-Package header field as specified in IETF
RFC 6086 [39] with \"3gpp.state-and-event\" info package name and an
\"application/vnd.3gpp.state-and-event-info+xml\" XML body shall be supported
at the roaming II-NNI.
A REFER request sent inside an existing SIP dialog containing the
\"application/vnd.3gpp.mid-call+xml\" MIME body specified in the clause D.1.3
of 3GPP TS 24.237 [131] shall be supported at the roaming II-NNI.
The Contact header field of the REFER request and 2xx response to the request
containing \"g.3gpp.mid-call\" media feature tag as described in annex C of
3GPP TS 24.237 [131] shall be supported at the roaming II-NNI.
The Target-Dialog header field in the INVITE request shall be supported at the
roaming II-NNI.
The communication HOLD supplementary service as specified in clause 12.8 for
the roaming II-NNI shall be supported.
## 14.5 CS to PS Single Radio Voice Call Continuity (SRVCC)
### 14.5.1 Basic CS to PS SRVCC
Service specific requirements in accordance with 3GPP TS 24.237 [131] shall be
supported over the roaming II-NNI.
Requirements for the ATCF based architecture at II-NNI as described in clause
14. 2.3 shall be supported at the roaming II-NNI.
Requirements for IMS Centralized Services (ICS) at II-NNI as described in
clause 13 shall be supported at the roaming II-NNI.
The g.3gpp.cs2ps-srvcc and \"g.3gpp.path\" media feature tags in the Contact
header field of the REGISTER request shall be supported at the roaming II-NNI.
The Feature-Caps header field with the \"g.3gpp.cs2ps-srvcc\" feature-
capability indicator in the REGISTER request shall be supported at the roaming
II-NNI.
The MESSAGE request containing the Accept-Contact header field with the
\"g.3gpp.path\" media feature tag and the \"application/vnd.3gpp.srvcc-
ext+xml\" MIME body shall be supported at the roaming II-NNI.
The URIs of SCC ASs authorised to provide CS to PS SRVCC information in the
MESSAGE request need to be specified in the roaming agreement.
### 14.5.2 CS to PS SRVCC for calls in alerting phase
The requirements for the CS to PS SRVCC for calls in alerting phase are the
same as in clause 14.5.1 with the following additional requirement:
The \"g.3gpp.cs2ps-srvcc-alerting\" media feature tag in the Contact header
field of the REGISTER request shall be supported at the roaming II-NNI.
The REFER request sent inside an existing SIP dialog with the Refer-Sub header
field and the \"application/vnd.3gpp.state-and-event-info+xml\" MIME body
shall be supported at the roaming II-NNI.
The INFO request with the Info-Package header field containing the
\"g.3gpp.state-and-event\" package name and the \"application/vnd.3gpp.state-
and-event-info+xml\" MIME body shall be supported at the roaming II-NNI.
### 14.5.3 CS to PS SRVCC with the assisted mid-call feature
The requirements for the CS to PS SRVCC with the assisted mid-call feature are
the same as in clause 14.5.1 with the following additional requirement:
The \"**application/vnd.3gpp.** access-transfer-**events+xml\"** MIME body in
the REFER request shall be supported at the roaming II-NNI.
# 15 Presence service
## 15.0 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated functions of the
Presence service may be supported on the II-NNI between two IMS networks. The
support of each function is based on agreement between operators.
If a function is supported, the related procedures from the 3GPP TS 24.141
[132] shall be applied with the requirements in the relevant clause below due
to the crossing of the II-NNI.
## 15.1 Subscription of presence information
Service specific requirements in accordance with 3GPP TS 24.141 [132] shall be
supported over the II-NNI.
A PUBLISH request identifying the Presentity using a SIP URI, a tel URI or a
PRES URI and the Event header field with the value \"presence\" and containing
an \"application/pidf+xml\" MIME body shall be supported at the roaming II-
NNI.
Additionally to the above and in any combination, a \"multipart/related\"
content type and an \"application/pidf-diff+xml\" MIME body can be included in
the PUBLISH request and shall be supported at the roaming II-NNI.
A SUBSCRIBE request with a Request-URI containing a SIP URI, a TEL URI or a
pres URI, the Event header field set to \"presence\" and Accept header fields
with values \"application/pidf+xml\" and \"multipart/related\" shall be
supported at the II-NNI.
Additionally to the above an \"application/simple-filter+xml\" MIME body can
appear in the SUBSCRIBE request and shall be supported at the II-NNI.
Additionally to the above and in any combination a \"multipart/mixed\" content
type and an \"application/resource-lists\" MIME body can appear in the
SUBSCRIBE request and shall be supported at the roaming II-NNI.
A NOTIFY request including an Event header field with the value \"presence\"
and an \"application/pidf\" MIME body shall be supported at the II-NNI.
NOTE: The NOTIFY request can contain substantial amount of data and TCP is
expected to be used as the transport protocol.
The Allow-Events header field with the value \"presence\" shall be supported
at the roaming II-NNI and may be supported at the non-roaming II-NNI.
## 15.2 Watcher subscribing to Presence List
Service specific requirements in accordance with 3GPP TS 24.141 [132] shall be
supported over the II-NNI.
The requirements for the watcher subscribing to the Presence List are the same
as subscribing to presence information as specified in clause 15.1 with the
following additional requirement:
\- The SUBSCRIBE request containing a Supported header field with the value
\"eventlist\" shall also be supported at the roaming II-NNI;
\- The SUBSCRIBE request containing a Accept header field with the value
\"application/rlmi+xml\" shall be supported at the roaming II-NNI;
\- A response code 200 (OK) to the SUBSCRIBE request containing the Require
header field with the value \"eventlist\" shall be supported at the roaming
II-NNI; and,
\- A NOTIFY message containing the \"multipart/related\" content type and an
\"application/rlmi+xml \" MIME body shall be supported at the roaming II-NNI.
NOTE: The NOTIFY request can contain substantial amount of data and TCP is
expected to be used as the transport protocol.
## 15.3 Subscription to Watcher Information
Service specific requirements in accordance with 3GPP TS 24.141 [132] shall be
supported over the II-NNI.
A SUBSCRIBE request containing an Event header field with the value
\"presence.wininfo\" and an Accept header field with value
\"application/watcherinfo+xml\" shall be supported at the roaming II-NNI.
A NOTIFY request containing the Event header field with the value
\"presence.wininfo\" and an \"application/watcherinfo+xml\" MIME body shall be
supported at the roaming II-NNI.
NOTE: The NOTIFY request can contain substantial amount of data and TCP is
expected to be used as the transport protocol.
The Allow-Events header field with the value \"presence.wininfo\" shall be
supported at the roaming II-NNI and may be supported at the non-roaming II-
NNI.
## 15.4 Subscription to state changes in XML documents
Service specific requirements in accordance with 3GPP TS 24.141 [132] shall be
supported over the II-NNI.
A SUBSCRIBE request containing the Event header field with the value \"xcap-
diff\" and parameters specified in IETF RFC 5875 [134] shall be supported at
the roaming II-NNI.
A NOTIFY request containing the Event header field with the value \"xcap-
diff\", the multipart/mixed content type and any MIME body shall be supported
at the roaming II-NNI.
NOTE: The NOTIFY request can contain substantial amount of data and TCP is
expected to be the transport protocol.
The Allow-Events header field with the value \"xcap-diff\" shall be supported
at the roaming II-NNI and may be supported at the non-roaming II-NNI.
For backward compatible reasons the Event header field with the value \"ua-
profile\" should be supported at the roaming II-NNI.
## 15.5 Presence enhancements specified in Open Mobile Alliance (OMA) Release
1.1
### 15.5.1 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated functions of the OMA
Presence service may be supported on the II-NNI between two IMS networks. The
support of each function is based on agreement between operators.
If a function of the OMA Presence Release 1.1 is supported, the related
procedures from the OMA-TS-Presence_SIMPLE-V1_1_1 [142] shall be applied with
the requirements in the relevant clause below due to the crossing of the II-
NNI.
### 15.5.2 OMA subscription of presence information
The requirements for the OMA subscription of presence information are the same
as clause 15.1.
### 15.5.3 OMA watcher subscribing to Presence List
The requirements for the OMA watcher subscribing to Presence List are the same
as clause 15.2.
### 15.5.4 OMA subscription to Watcher Information
The requirements for the OMA subscription to Watcher Information are the same
as clause 15.3.
## 15.6 Presence enhancements specified in Open Mobile Alliance (OMA) Release
2.0
### 15.6.1 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated functions of the OMA
Presence service may be supported on the II-NNI between two IMS networks. The
support of each function is based on agreement between operators.
If a function of the OMA Presence Release 2.0 is supported, the related
procedures from the OMA-TS-Presence_SIMPLE-V2_0 [138] shall be applied with
the requirements in the relevant clause below due to the crossing of the II-
NNI.
### 15.6.2 OMA subscription of presence information
The requirements for the OMA subscription of presence information are the same
as clause 15.5.2 with the following additional requirement:
\- An Allow header field containing the value \"REFER\" in a PUBLISH request
shall be supported at the II-NNI.
\- A Policy-Contact header field defined in IETF RFC 6794 [133] in a 488 (Not
Acceptable Here) response to a PUBLISH request shall be supported at the II-
NNI.
NOTE: Conveyance of this header field in a 488 response to a PUBLISH request
is not supported by IETF RFC 6794 [133] but is required to support Presence
services according to OMA specifications OMA-TS-Presence_SIMPLE-V2_0 [138].
\- A Suppress-If- Match header field in a SUBSCRIBE request shall be supported
at the II-NNI.
\- An Accept-Encoding header field containing the value \"gzip\" in a
SUBSCRIBE request shall be supported at the II-NNI.
\- An \"application/vnd.oma.suppnot+xml\" MIME body in a SUBSCRIBE request
shall be supported at the II-NNI.
\- A Content-Encoding header field containing the value \"gzip\" in a NOTIFY
request shall be supported at the II-NNI.
\- A \"multipart/mixed\" content type in a SUBSCRIBE request shall be
supported at the II-NNI.
\- A Refer-To header field with the value \"method=PUBLISH?event=presence\", a
Refer-Sub header field and a SIP-If-Match header field in a REFER request
shall be supported at the II-NNI.
### 15.6.3 OMA watcher subscribing to Presence List
The requirements for the OMA watcher subscribing to Presence List are the same
as clause 15.5.3 with the following additional requirements;
\- A Suppress-If- Match header field in a SUBSCRIBE request shall be supported
at the II-NNI.
\- An Accept-Encoding header field containing the value \"gzip\" in a
SUBSCRIBE request shall be supported at the II-NNI.
\- A body containing an \"application/vnd.oma.suppnot+xml\" content type in a
SUBSCRIBE request shall be supported at the II-NNI.
\- A body containing an \"application/resource-lists+xml\" content type in a
SUBSCRIBE request shall be supported at the II-NNI.
\- A \"multipart/mixed\" content type in a SUBSCRIBE request shall be
supported at the II-NNI.
\- A NOTIFY request with a Content-Encoding header field containing the value
\"gzip\" shall be supported at the II-NNI.
### 15.6.4 OMA subscription to Watcher Information
The requirements for the OMA subscription to Watcher Information are the same
as clause 15.5.4 with the following additional requirement:
\- Indicating support for \"multipart/mixed\" and \"application/simple-
filter+xml\" in the Accept header field of the SUBSCRIBE request shall be
supported at the II-NNI.
\- Multiple \"application/simple-filter+xml\" MIME bodies in the NOTIFY
request shall be supported at the II-NNI.
\- A Suppress-If-Match header field in a SUBSCRIBE request shall be supported
at the II-NNI.
\- An Accept-Encoding header field containing the value \"gzip\" in the
SUBSCRIBE request shall be supported at the II-NNI.
\- A body with multiple content of the multipart/mixed content type in a
NOTIFY request shall be supported at the II-NNI.
\- A Content-Encoding header field with the value \"gzip\" in a NOTIFY request
shall be supported at the II-NNI.
\- A Refer-To header field with the value
\"method=SUBSCRIBE?Event=presence.winfo\" and a Refer-Sub header field in a
REFER request sent to a Watcher Information Subscriber shall be supported at
the II-NNI.
### 15.6.5 Subscription to state changes in XML documents
The requirements for the OMA watcher subscribing to Presence List are the same
as clause 15.4 with the following additional requirements:
\- An Accept header field indicating the support for \"application/xcap-
diff+xml\", \"application/rlmi+xml\" and \"multipart/related\" in a SUBSCRIBE
request shall be supported at the II-NNI.
\- An Accept-Encoding header field with the value \"gzip\" in a SUBSCRIBE
request shall be supported at the II-NNI.
\- A Content-Encoding header field containing the value \"gzip\" in a NOTIFY
request shall be supported at the II-NNI.
\- Multiple \"multipart/related\" MIME bodies in a NOTIFY request shall be
supported at the II-NNI.
\- An \"application/rlmi+xml\" MIME bodies in a NOTIFY request shall be
supported at the II-NNI.
### 15.6.6 Void
### 15.6.7 Void
# 16 Messaging service
## 16.1 General
In order to assure the end-to-end service interoperability through the Inter-
IMS Network to Network Interface (II-NNI), the associated function of the
messaging service may be supported on the II-NNI between two IMS networks.
If a function is supported, the related procedures from the 3GPP TS 24.247
[139] shall be applied with the requirements in the relevant clause below due
to the crossing of the II-NNI.
## 16.2 Page-mode messaging
Service specific requirements in accordance with clause 5 of 3GPP TS 24.247
[139] shall be supported over the II-NNI.
A MESSAGE request containing the \"application/recipient-list\" MIME body
specified in IETF RFC 5365 [67], a Required header field with the \'recipient-
list-message\' option-tag; and a body carrying payload shall be supported at
the roaming II-NNI.
A MESSAGE request containing:
\- a body that carrying payload; or
\- the \"application/im-iscomposing+xml\" MIME body.
shall be supported at the II-NNI.
The response code 415 (Unsupported Media Type) and the response code 202
(Accepted) shall be supported at the II-NNI.
## 16.4 Session-mode messaging
Service specific requirements in accordance with clause 6 of 3GPP TS 24.247
[139] shall be supported over the II-NNI.
No restrictions at the II-NNI identified.
## 16.5 Session-mode messaging conferences
Service specific requirements in accordance with clause 7 of 3GPP TS 24.247
[139] shall be supported over the II-NNI.
The \"application/resource-lists+xml\" MIME body included in the INVITE
request shall be supported at the roaming II-NNI.
The media feature tag \"isfocus\" in the Contact header field of the INVITE
request and responses to the INVITE request shall be supported at the II-NNI.
The SUBSCRIBE request including the \"conference\" event package name in the
Event header field and the NOTIFY request procedures according to 3GPP TS
24.147 [106] shall be supported at the II-NNI.
The REFER request containing a Referred-By header field and NOTIFY requests
procedures according to 3GPP TS 24.147 [106] shall be supported at the II-NNI.
The REFER request containing the BYE method URI parameter in the Refer-To
header shall be supported at the II-NNI.
The Referred-By header field in the INVITE request shall be supported at the
II-NNI.
The Allow-Events header field with the value \"conference\" shall be supported
at the roaming II-NNI and may be supported at the non-roaming II-NNI.
# 17 Optimal Media Routeing
## 17.1 General
Based on inter-operator agreement, the Optimal Media Routeing (OMR) procedures
may be supported over the II-NNI,
If OMR procedures are supported, the procedures in 3GPP TS 29.079 [148] shall
be applied and the capabilities below shall be provided at the II-NNI.
## 17.2 OMR related SDP attributes
The \"visited-realm\", \"secondary-realm\", \"omr-codecs\", \"omr-m-att\",
\"omr-s-att\", \"omr-m-bw\", \"omr-s-bw\", \"omr-s-cksum\", and \"omr-m-
cksum\" SDP attributes defined in 3GPP TS 24.229 [5] shall be supported at the
II-NNI.
## 17.3 IP realm names
Operators need to agree on unique names for IP realms (as defined in 3GPP TS
29.079 [148]) used in their own and interconnecting networks to avoid a
collision of IP realm names. Operators may choose to share an IP realm, and
shall then also assign a single unique name to that realm. As defined in 3GPP
TS 24.229 [5], a public IPv4 or IPv6 address reachable from the open internet
is associated with the special realm \"IN\".
# 18 Inter-UE transfer (IUT)
## 18.1 General
Inter-UE transfer may be supported over the II-NNI. The IUT consist of several
functional blocks, as described in the clauses below. The support of each of
these functional blocks is based on agreement between operators.
If a function is supported, the related procedures from the 3GPP TS 24.337
[149] shall be applied with the requirements in the relevant clause below.
## 18.2 IUT without establishment of a collaborative session
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
The REFER request shall be supported at the roaming II-NNI.
The Refer-To header field containing a body parameter including a Replaces
header field and the Require header field set to \"replaces\" shall be
supported at the roaming II-NNI.
The Refer-To header field containing a body parameter including a Target-
Dialog header field and the Require header field set to \"tdialog\" shall be
supported at the roaming II-NNI.
The Refer-To header field containing a body parameter including an Accept-
Contact header field with the \"g.3gpp.icsi-ref\" media feature tag and a
P-Preferred-Service header field set to the IMS communication service
identifier shall be supported at the roaming II-NNI.
The Contact header field of the REFER request containing a public GRUU or
temporary GRUU as specified in 3GPP TS 24.229 [5] shall be supported at the
roaming II-NNI.
The \"g.3gpp.icsi-ref\" media feature tag in the Accept-Contact header field
of the REFER request shall be supported at the roaming II-NNI.
NOTIFY requests containing a \"sipfrag\" MIME body as specified in IETF RFC
3515 [22] shall be supported at the roaming II-NNI.
## 18.3 IUT using a collaborative session
### 18.3.1 Collaborative session of participants of the same subscription
This clause describes the requirements at the II-NNI for an ongoing session.
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
The \"g.3gpp.iut-controller\" media feature tag in the Accept-Contact header
field in the REGISTER request shall be supported.
A REFER request sent outside an existing dialog shall be supported at the
roaming II-NNI with the following additional requirements:
\- The Refer-To header field containing a body parameter including a MIME sdp
body and no method parameter, the method parameter set to \"INVITE\" or
\"BYE\" shall be supported at the roaming II-NNI.
\- The Accept header field containing the MIME type \"message/sipfrag\" in the
REFER request shall be supported at the roaming II-NNI.
\- The Target-Dialog header field in the REFER request shall be supported at
the roaming II-NNI.
\- The Contact header field in the REFER request containing the \"g.3gpp.iut-
controller\" media feature tag as described in annex B of 3GPP TS 24.337 [149]
shall be supported at the roaming II-NNI.
\- The Contact header field in the REFER request containing the \"g.3gpp
current-iut-controller\" media feature tag as described in annex B of 3GPP TS
24.337 [149] shall be supported at the roaming II-NNI.
\- The \"g.3gpp.iut-controller\" media feature tag in the Accept-Contact
header field shall be supported at the roaming II-NNI.
\- The Referred-By header field shall be supported at the roaming II-NNI at
the roaming II-NNI.
The NOTIFY request containing a \"sipfrag\" MIME body as specified in IETF RFC
3515 [22] shall be supported at the roaming II-NNI.
Initial INVITE requests and re-INVITE requests as follows:
\- The Referred-By header field included in initial INVITE requests and re-
INVITE requests shall be supported at the roaming II-NNI;
\- The \"g.3gpp.iut-controller\" media feature tag as described in annex B of
3GPP TS 24.337 [149] in the Contact header field shall be supported at the
roaming II-NNI.
The \"g.3gpp.iut-controller\" media feature tag in SIP responses to the INVITE
request shall be supported at the roaming II-NNI.
The SUBSCRIBE request including the Event header field with the \"dialog\"
event package; and including the Accept-Contact header field with the
\"g.3gpp.iut-focus\" media feature shall be supported at the roaming II-NNI.
The \"dialog-info+xml\" MIME body in NOTIFY requests shall be supported at the
roaming II-NNI.
### 18.3.2 Establishment of a collaborative session during session setup
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
The Accept header field containing the MIME type
\"application/**vnd.3gpp.iut+xml\" in initial INVITE requests** shall be
supported at the roaming II-NNI.
A SIP 300 (Multiple Choices) response a Content-Type header field containing
the MIME type \"application/**vnd.3gpp.iut+xml\" and** an
\"application/**vnd.3gpp.iut+xml\"** MIME body shall be supported at the
roaming II-NNI.
### 18.3.3 Assignment and transfer of control of a collaborative session
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
The g.3gpp current-iut-controller in the Contact header of the SIP 200 (OK)
response to INVITE request shall be supported at the roaming II-NNI.
A \"multipart/mixed\" MIME body containing the
\"application/vnd.3gpp.iut+xml\" and the \"application/sdp\" MIME bodies in
the INVITE request shall be supported at the roaming II-NNI.
### 18.3.4 Collaborative session of participants of different subscriptions
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
In addition to the requirements in clause 18.3.1, 18.3.2 or 18.3.3 the
following applies:
\- The \"g.3gpp.iut-focus\" media feature tag (specified in 3GPP TS 24.337
[149] annex B) in the Contact header field shall be supported at the non-
roaming II-NNI and for the loopback traversal scenario.
\- The \"+g.3gpp.iut-focus\" header field parameter (specified in 3GPP TS
24.337 [149] annex B) in the Feature-Caps header field as described in IETF
RFC 6809 [143] shall be supported at the non-roaming II-NNI and for the
loopback traversal scenario.
## 18.4 Session replication / media replication
### 18.4.1 Pull mode
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
The Target-Dialog header field and the Accept-Contact header field containing
the \"g.3gpp.iut-focus\" media feature tag of the INVITE request shall be
supported at the roaming II-NNI.
A REFER request including:
\- the method parameter set to \"MESSAGE\" in the Refer-To header field;
\- the In-Reply-To header field;
\- the Target-Dialog header field;
\- the Require header field populated with the option tag value \"tdialog\";
and
\- the \"application/vnd.3gpp.replication+xml\" MIME body,
shall be supported at the roaming II-NNI.
A MESSAGE request the In-Reply-To header field and the
\"application/vnd.3gpp.replication+xml\" MIME body shall be supported at the
roaming II-NNI.
### 18.4.2 Push mode
Service specific requirements in accordance with 3GPP TS 24.337 [149] shall be
supported over the II-NNI.
A REFER request including:
\- the Accept-Contact header field containing the \"g.3gpp.iut-focus\" media
feature tag with explicit and require tags;
\- the Target-Dialog header field; and
\- the Refer-To header field containing the Accept-Contact header field, the
P-Preferred-Service header field and the \"application/sdp\" MIME body,
shall be supported at the roaming II-NNI.
The \"application/vnd.3gpp.replication+xml\" MIME body of the SIP REFER
request shall be supported at the roaming II-NNI.
# 19 Roaming Architecture for Voice over IMS with Local Breakout
Based on inter-operator agreement, the roaming architecture for voice over IMS
with local breakout procedure may be supported over the II-NNI.
If the roaming architecture for voice over IMS with local breakout procedure
is supported, the procedures in 3GPP TS 24.229 [5] shall be applied and the
capabilities below shall be provided at the II-NNI.
The \"+g.3gpp.trf\" header field parameter (defined in 3GPP TS 24.229 [5]
clause 7.9A.3) with a TRF address included in a Feature-Caps header field as
described in IETF RFC 6809 [143] in the INVITE request or in the UPDATE
request and in the 2xx response to the UPDATE request shall be supported at
the roaming II-NNI.
The \"+g.3gpp.loopback\" header field parameter (defined in 3GPP TS 24.229 [5]
subclause7.9A.4) included in the Feature-Caps header field as described in
IETF RFC 6809 [143] in the INVITE request or in the UPDATE request and in the
2xx response to the UPDATE request shall be supported for the loopback
traversal scenario.
The \"loopback-indication\" header field parameter (defined in 3GPP TS 24.229
[5] subclause 7.2A.5) included the P-Charging-Vector header field in 18x and
2xx responses to the INVITE request, in subsequent requests and in responses
to subsequent requests shall be supported for the loopback traversal scenario
and at the roaming II-NNI.
The procedures in clause 17 shall be supported at the II-NNI.
# 20 Delivery of Media Resource Broker address information
Based on inter-operator agreement, the procedure to deliver MRB address
information may be supported over the roaming II-NNI.
NOTE: Subsequent interaction between home network MRB and visited network MRB
is outside the scope of this document.
If the procedure to enable optimised allocation of media resources is
supported, the procedures in 3GPP TS 24.229 [5] shall be applied and the
capabilities below shall be provided at the roaming II-NNI.
The \"g.3gpp.mrb\" feature-cap**ability indicator** (defined in 3GPP TS 24.229
[5] subclause7.9A.6) with the MRB address included in the Feature-Caps header
field as described in IETF RFC 6809 [143] in the INVITE request or in the
UPDATE request and in the 2xx response to the UPDATE request shall be
supported at the roaming II-NNI.
# 21 Overload control
## 21.1 General
Based on inter-operator agreement, overload control may be supported over the
II-NNI.
The overload control defines two optional mechanisms:
\- a feedback based mechanism;
\- and a load filter mechanism.
The support of either one of the mechanism is based on operator agreements.
If a mechanism is supported, the related procedures from the 3GPP TS 24.229
[5] shall be applied with the requirements in the relevant clause below.
Based on regional/national requirements and inter-operator agreement,
Multimedia Priority Service (MPS), as specified in 3GPP TS 22.153 [185], shall
be exempted from SIP overload controls across II-NNI up to the point where
further exemption would cause network instability.
## 21.2 Feedback based mechanism
The procedures in 3GPP TS 24.229 [5] shall be applied and the capabilities
below shall be provided at the II-NNI.
The feedback based mechanism, defined in IETF RFC 7339 [165], requires no
additional support at the II-NNI as it is supported using header field
parameters within existing header fields supported at the II-NNI.
NOTE: An algorithm will need to be selected. The IETF RFC 7339 [165] also
defines the default algorithm for usage of the feedback based mechanism in the
IM CN subsystem. Additional algorithms are either already defined, e.g. the
rate-based scheme defined in IETF RFC 7415 [166], or can also be defined in
the future.
## 21.3 The load filter mechanism
The procedures in 3GPP TS 24.229 [5] shall be applied and the capabilities
below shall be provided at the II-NNI.
A SUBSCRIBE request containing the Event header field \"load-control\" and,
optionally, an Accept header field containing the \"application/load-
control+xml\" MIME type as defined in IETF RFC 7200 [167] shall be supported
on the II-NNI.
NOTE: The addresses to targets that can be supervised need to form part of the
service level agreement.
A NOTIFY request containing the \"application/load-control+xml\" MIME body
defined in IETF RFC 7200 [167] shall be supported on the II-NNI.
###### ## Annex A (informative): Summary of SIP header fields
A summary of the SIP header fields to be used in case of interconnection by
using II-NNI is proposed in table A.1.
The starting point is the sending behaviour described for proxy and UA roles
in annex A of 3GPP TS 24.229 [5]:
\- In case of misalignment between table A.1 and the behaviour described in
3GPP TS 24.229 [5], the behaviour in 3GPP TS 24.229 [5] has the precedence.
\- In case a header field is not described in table A.1 and it is described in
3GPP TS 24.229 [5], the description in 3GPP TS 24.229 [5] is applicable over
II-NNI.
\- If a header field is not described in 3GPP TS 24.229 [5], the description
in table A.1 is applicable over II-NNI.
The notation of the codes used for the SIP headers listed in table A.1 has a
different meaning to the one proposed for the SIP messages. The definition of
these terms is provided in table A.2.
Table A.1: Supported header fields
+------+-------------------+-------------------+-------------------+ | Item | Header field | Ref. | II-NNI | +------+-------------------+-------------------+-------------------+ | 1 | Accept | [5] | m | +------+-------------------+-------------------+-------------------+ | 2 | Accept-Contact | [5] | m | +------+-------------------+-------------------+-------------------+ | 3 | Accept-Encoding | [5] | m | +------+-------------------+-------------------+-------------------+ | 4 | Accept-Language | [5] | m | +------+-------------------+-------------------+-------------------+ | 4a | Accept- | [5] | o | | | Resource-Priority | | | +------+-------------------+-------------------+-------------------+ | 5 | Alert-Info | [5] | o | +------+-------------------+-------------------+-------------------+ | 6 | Allow | [5] | m | +------+-------------------+-------------------+-------------------+ | 7 | Allow-Events | [5] | m on roaming | | | | | II-NNI, else o | +------+-------------------+-------------------+-------------------+ | 8 | Au | [5] | m on roaming | | | thentication-Info | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 9 | Authorization | [5] | m on roaming | | | | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 9a | Answer-Mode | [5] | o | +------+-------------------+-------------------+-------------------+ | 10 | Call-ID | [5] | m | +------+-------------------+-------------------+-------------------+ | 11 | Call-Info | [5] | m | +------+-------------------+-------------------+-------------------+ | 12 | Contact | [5] | m | +------+-------------------+-------------------+-------------------+ | 13 | Co | [5] | m | | | ntent-Disposition | | | +------+-------------------+-------------------+-------------------+ | 14 | Content-Encoding | [5] | m | +------+-------------------+-------------------+-------------------+ | 15 | Content-Language | [5] | m | +------+-------------------+-------------------+-------------------+ | 16 | Content-Length | [5] | m | +------+-------------------+-------------------+-------------------+ | 17 | Content-Type | [5] | m | +------+-------------------+-------------------+-------------------+ | 18 | CSeq | [5] | m | +------+-------------------+-------------------+-------------------+ | 19 | Date | [5] | m | +------+-------------------+-------------------+-------------------+ | 20 | Error-Info | [5] | o | +------+-------------------+-------------------+-------------------+ | 21 | Expires | [5] | m | +------+-------------------+-------------------+-------------------+ | 21a | Flow-Timer | [5] | m on roaming | | | | | II-NNI, else o | +------+-------------------+-------------------+-------------------+ | 21b | Feature-Caps | [5] | o | +------+-------------------+-------------------+-------------------+ | 22 | Event | [5] | m | +------+-------------------+-------------------+-------------------+ | 23 | From | [5] | m | +------+-------------------+-------------------+-------------------+ | 24 | Geolocation | [5] | m | +------+-------------------+-------------------+-------------------+ | 24a | Geolocation-Error | [5] | m | +------+-------------------+-------------------+-------------------+ | 24b | Ge | [5] | m | | | olocation-Routing | | | +------+-------------------+-------------------+-------------------+ | 25 | History-Info | clause 6.1.1.3.1 | o | | | | | | | | | (table 6.2, item | | | | | 4) | | +------+-------------------+-------------------+-------------------+ | 25a | Info-Package | [5] | o | +------+-------------------+-------------------+-------------------+ | 26 | In-Reply-To | [5] | o | +------+-------------------+-------------------+-------------------+ | 27 | Join | [5] | o | +------+-------------------+-------------------+-------------------+ | 27a | Max-Breadth | [5] | m | +------+-------------------+-------------------+-------------------+ | 28 | Max-Forwards | [5] | m | +------+-------------------+-------------------+-------------------+ | 29 | Min-Expires | [5] | m | +------+-------------------+-------------------+-------------------+ | 30 | MIME-Version | [5] | m | +------+-------------------+-------------------+-------------------+ | 31 | Min-SE | [5] | m | +------+-------------------+-------------------+-------------------+ | 32 | Organization | [5] | m | +------+-------------------+-------------------+-------------------+ | 33 | P-Ac | clause 6.1.1.3.1 | m in case of a | | | cess-Network-Info | (table 6.2, item | trust | | | | 2) | relationship | | | | | between the | | | | | interconnected | | | | | networks, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 33a | P-Answer-state | [5] | o | +------+-------------------+-------------------+-------------------+ | 34 | P- | clause 6.1.1.3.1 | m in case of a | | | Asserted-Identity | (table 6.2, item | trust | | | | 1) | relationship | | | | | between the | | | | | interconnected | | | | | networks, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 35 | P | clause 6.1.1.3.1 | o | | | -Asserted-Service | (table 6.2, item | | | | | 5) | | +------+-------------------+-------------------+-------------------+ | 35a | P-Associated-URI | [5] | m on roaming | | | | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 36 | P-Called-Party-ID | [5] | m on roaming | | | | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 37 | P-Charging-F | clause 6.1.1.3.1 | n/a | | | unction-Addresses | (table 6.2, item | | | | | 7) | | +------+-------------------+-------------------+-------------------+ | 38 | P-Charging-Vector | clause 6.1.1.3.1 | m on roaming | | | | | II-NNI, else o | | | | (table 6.2, item | | | | | 6) | | +------+-------------------+-------------------+-------------------+ | 39 | P-Early-Media | clause 6.1.1.3.1 | m in case of a | | | | (table 6.2, item | trust | | | | 12) | relationship | | | | | between the | | | | | interconnected | | | | | networks, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 40 | P-Me | [5] | n/a | | | dia-Authorization | | | +------+-------------------+-------------------+-------------------+ | 41 | P-P | [5] | n/a | | | referred-Identity | | | +------+-------------------+-------------------+-------------------+ | 42 | P- | [5] | m on roaming | | | Preferred-Service | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 43 | P-Private-N | clause 6.1.1.3.1 | m on roaming | | | etwork-Indication | (table 6.2, item | II-NNI, else o | | | | 9) | | +------+-------------------+-------------------+-------------------+ | 44 | P-Profile-Key | clause 6.1.1.3.1 | o on roaming | | | | (table 6.2, item | II-NNI, else n/a | | | | 8) | | +------+-------------------+-------------------+-------------------+ | 44a | P | [5] | o on non-roaming | | | -Refused-URI-List | | II-NNI and for | | | | | the loopback | | | | | traversal | | | | | scenario else n/a | +------+-------------------+-------------------+-------------------+ | 45 | P-Served-User | clause 6.1.1.3.1 | m on roaming | | | | (table 6.2, item | II-NNI, else n/a | | | | 10) | | +------+-------------------+-------------------+-------------------+ | 46 | P-User-Database | [5] | n/a | +------+-------------------+-------------------+-------------------+ | 47 | P-V | [5] | m on roaming | | | isited-Network-ID | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 47a | Path | [5] | m on roaming | | | | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 47b | P | [5] | o | | | ermission-Missing | | | +------+-------------------+-------------------+-------------------+ | 47c | Policy-Contact | [133] and | o | | | | clause 15.6.2 | | +------+-------------------+-------------------+-------------------+ | 48 | Priority | [5] | o | +------+-------------------+-------------------+-------------------+ | 48a | Priv-Answer-Mode | [5] | o | +------+-------------------+-------------------+-------------------+ | 49 | Privacy | [5] | m | +------+-------------------+-------------------+-------------------+ | 50 | P | [5] | m on roaming | | | roxy-Authenticate | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 51 | Pr | [5] | m on roaming | | | oxy-Authorization | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 52 | Proxy-Require | [5] | m | +------+-------------------+-------------------+-------------------+ | 52a | RAck | [5] | m | +------+-------------------+-------------------+-------------------+ | 53 | Reason | [5] and | o when in a | | | | clause 6.1.1.3.1 | request. | | | | (table 6.2, item | | | | | 11) | When in a | | | | | response, m in | | | | | case of a trust | | | | | relationship | | | | | between the | | | | | interconnected | | | | | networks, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 54 | Record-Route | [5] | m | +------+-------------------+-------------------+-------------------+ | 54a | Recv-Info | [5] | o | +------+-------------------+-------------------+-------------------+ | 55 | Referred-By | [5] | m | +------+-------------------+-------------------+-------------------+ | 55a | Refer-Sub | [5] | m in the case the | | | | | REFER request is | | | | | supported, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 55b | Refer-To | [5] | m in the case the | | | | | REFER request is | | | | | supported, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 56 | Reject-Contact | [5] | m | +------+-------------------+-------------------+-------------------+ | 57 | Replaces | [5] | o | +------+-------------------+-------------------+-------------------+ | 58 | Reply-To | [5] | o | +------+-------------------+-------------------+-------------------+ | 59 | Re | [5] | m | | | quest-Disposition | | | +------+-------------------+-------------------+-------------------+ | 60 | Require | [5] | m | +------+-------------------+-------------------+-------------------+ | 61 | Resource-Priority | clause 6.1.1.3.1 | o | | | | (table 6.2, item | | | | | 3) | | +------+-------------------+-------------------+-------------------+ | 61a | Retry-After | [5] | o | +------+-------------------+-------------------+-------------------+ | 62 | Route | [5] | m | +------+-------------------+-------------------+-------------------+ | 62a | RSeq | [5] | m | +------+-------------------+-------------------+-------------------+ | 63 | Security-Client | [5] | n/a | +------+-------------------+-------------------+-------------------+ | 63a | Security-Server | [5] | n/a | +------+-------------------+-------------------+-------------------+ | 64 | Security-Verify | [5] | n/a | +------+-------------------+-------------------+-------------------+ | 65 | Server | [5] | o | +------+-------------------+-------------------+-------------------+ | 65a | Service-Route | [5] | m on roaming | | | | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+ | 65b | Session-ID | [5] | o | +------+-------------------+-------------------+-------------------+ | 66 | Session-Expires | [5] | m | +------+-------------------+-------------------+-------------------+ | 66a | SIP-ETag | [5] | m in the case the | | | | | PUBLISH request | | | | | is supported, | | | | | else n/a | +------+-------------------+-------------------+-------------------+ | 66b | SIP-If-Match | [5] | m in the case the | | | | | PUBLISH request | | | | | is supported, | | | | | else n/a | +------+-------------------+-------------------+-------------------+ | 67 | Subject | [5] | o | +------+-------------------+-------------------+-------------------+ | 67a | S | [5] | m in the case the | | | ubscription-State | | NOTIFY request is | | | | | supported, else | | | | | n/a | +------+-------------------+-------------------+-------------------+ | 67b | Suppress-If-Match | [144] and | o | | | | clause 15.6.4 | | +------+-------------------+-------------------+-------------------+ | 68 | Supported | [5] | m | +------+-------------------+-------------------+-------------------+ | 68a | Target-Dialog | [5] | o | +------+-------------------+-------------------+-------------------+ | 69 | Timestamp | [5] | m | +------+-------------------+-------------------+-------------------+ | 70 | To | [5] | m | +------+-------------------+-------------------+-------------------+ | 71 | Trigger-Consent | [5] | m | +------+-------------------+-------------------+-------------------+ | 71a | Unsupported | [5] | m | +------+-------------------+-------------------+-------------------+ | 72 | User-Agent | [5] | m | +------+-------------------+-------------------+-------------------+ | 73 | User-to-User | [5] | o | +------+-------------------+-------------------+-------------------+ | 74 | Via | [5] | m | +------+-------------------+-------------------+-------------------+ | 75 | Warning | [5] | o | +------+-------------------+-------------------+-------------------+ | 76 | WWW-Authenticate | [5] | m on roaming | | | | | II-NNI, else n/a | +------+-------------------+-------------------+-------------------+
Table A.2: Key to notation codes for SIP header fields
+---------------+-----------------------------------------------------+ | Notation code | Meaning | +---------------+-----------------------------------------------------+ | m | The SIP header field is applicable at II-NNI. | | | | | | Supporting a SIP header field at the II-NNI means | | | that this header field is passed through the IBCF. | | | It does not imply that network elements inside the | | | serving and served networks or user equipment | | | connected to these networks shall support this | | | header field, where TS 24.229 [5] is applied. If | | | specified in TS 24.229 [5], the IBCF modifies the | | | SIP header field. | +---------------+-----------------------------------------------------+ | o | The applicability of SIP header field at II-NNI | | | depends on bilateral agreement between the | | | operators. | +---------------+-----------------------------------------------------+ | n/a | It is impossible to use the SIP header field at the | | | II-NNI. This header field could be discarded by the | | | IBCF. | +---------------+-----------------------------------------------------+
###### ## Annex B (informative): Dynamic view of SIP header fields within SIP
messages
## B.1 Scope
This annex provides the applicability of SIP header fields in SIP messages
over II-NNI by using the methodology of a so-called \"dynamic view\", as used
in IETF RFC 3261 [13] and other SIP related RFCs. This methodology documents
the presence of SIP header fields in SIP messages over the II-NNI and also
takes into account dynamic conditions, for instance the presence of a SIP
header field in a SIP request message as condition for the SIP header field in
the corresponding SIP response message.
Specific information about the applicability of SIP header fields in SIP
messages in a dynamic view is also provided for cases where an MMTEL
supplementary service is supported over the II-NNI between operators.
The applicability of SIP header fields described in this annex is based on the
procedures described in 3GPP TS 24.229 [5] and the list of SIP header fields
in annex A of 3GPP TS 24.229 [5].
## B.2 Methodology
The meaning of the notation codes used in the tables in subsequent clauses is
as follows:
In the \"RFC status\" column, the notation codes defined in IETF RFC 3261 [13]
clause 20 are applied.
In the \"II-NNI condition\" column the notation codes defined in table B.2.1
are used. If a capability of a SIP header field is specified as either
optional or conditional in table 6.1.3.1, then \"II-NNI condition\" of the SIP
header field is described with conditional expression.
In each request-related table, the order of SIP header fields inherits that of
clause A.2.2 of 3GPP TS 24.229 [5].
In each response-related table, the SIP status code for which the header field
is applicable is described in the \"SIP status code\" column. The notation
codes for the \"where\" column as defined in IETF RFC 3261 [13] clause 20 are
applied. The notation code \"r\" in \"SIP status code\" column corresponds to
any SIP status code which is described in annex A of 3GPP TS 24.229 [5] for
the corresponding method. Any SIP header field not listed in a table is not
applicable for the corresponding SIP message.
Table B.2.1: Key to notation codes for SIP header fields in dynamic view for
II-NNI
+----------------------------------+----------------------------------+ | Notation code | Meaning | | | | | (NOTE 1) | | +----------------------------------+----------------------------------+ | dc | The SIP header field is required | | | to be present in a SIP message | | | over II-NNI according to the | | | procedures specified in other | | | specifications e.g. | | | TS 24.229 [5]. | +----------------------------------+----------------------------------+ | dm | The SIP header field shall be | | | always present in a SIP message | | | over II-NNI, and if received, it | | | must be handled according to | | | TS 24.229 [5]. | +----------------------------------+----------------------------------+ | dm* | The SIP header field should be | | | present in a SIP message over | | | II-NNI, but the IMS network need | | | to be prepared to receive a SIP | | | message without that header | | | field. | +----------------------------------+----------------------------------+ | do | The SIP header field can be | | | present in a SIP message over | | | II-NNI, and if received, it must | | | be handled according to | | | TS 24.229 [5]. (NOTE 2) | +----------------------------------+----------------------------------+ | dt | The header field should be | | | present in a SIP message over | | | II-NNI, but the IMS network need | | | to be prepared to receive a SIP | | | message without that header | | | field. | | | | | | If TCP is used as a transport, | | | then the header field must be | | | present in a SIP message. | +----------------------------------+----------------------------------+ | d* | The SIP header field is required | | | to be present in a SIP message | | | if the message body is not | | | empty. | +----------------------------------+----------------------------------+ | dn/a | The SIP header field is shall | | | not be present in a SIP message | | | over II-NNI. (NOTE 3) | +----------------------------------+----------------------------------+ | dc\ | The condition for the presence | | | of the SIP header field. | | | \ is the identifier of | | | the condition. This notation | | | code is applied only in each | | | request-related or | | | response-related table. | +----------------------------------+----------------------------------+ | NOTE 1: The meaning of the | | | notation codes is same as in | | | IETF RFC 3261 [13] clause 20 | | | and \"d\" is used to emphasise | | | the dynamic view. | | | | | | NOTE 2: If specified by local | | | policy rules, the IBCF acting as | | | entry point may omit or modify | | | any received SIP header fields | | | prior to forwarding SIP messages | | | as specified in TS 24.229 [5] | | | clause 5.10.6.2. | | | | | | NOTE 3: The SIP header field can | | | be removed at the IBCF acting as | | | exit point by using screening | | | functionality defined in | | | TS 24.229 [5] clause 5.10.6.2. | | +----------------------------------+----------------------------------+
## B.3 ACK method
Table B.3.1: Supported header fields within the ACK request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept-Contact [51] o do
2 Allow-Events [20] o IF table 6.1.3.1/23 THEN do (NOTE) 3 Authorization [13]
o IF table 6.1.3.1/7 THEN do (NOTE) 4 Call-ID [13] m dm 5 Content-Disposition
[13] o do 6 Content-Encoding [13] o do 7 Content-Language [13] o do 8 Content-
Length [13] t dt 9 Content-Type [13] * d* 10 CSeq [13] m dm 11 Date [13] o do
12 From [13] m dm 13 Max-Breadth [79] o do 14 Max-Forwards [13] m dm 15 MIME-
Version [13] o do 16 P-Access-Network-Info [24], [24A], [24B] o IF table
6.1.3.1/36 THEN do (NOTE) 17 Privacy [34] o do 18 P-Charging-Vector [24],
[24A] o IF table 6.1.3.1/38 THEN do (NOTE) 19 Proxy-Authorization [13] o IF
table 6.1.3.1/7 THEN do (NOTE) 20 Proxy-Require [13] n/a dn/a 21 Reason [48] o
IF table 6.1.3.1/40 THEN do (NOTE) 22 Recv-Info [39] n/a dn/a 23 Reject-
Contact [51] o do 24 Request-Disposition [51] o do 25 Require [13] n/a dn/a 26
Resource-Priority [78] o IF table 6.1.3.1/73 THEN do (NOTE) 27 Route [13] c dc
28 Session-ID [124] m IF table 6.1.3.1/94 THEN dm (NOTE) 29 Timestamp [13] o
do 30 To [13] m dm 31 User-Agent [13] o do 32 Via [13] m dm NOTE: If the
capability specified in table 6.1.3.1 is not supported over the II-NNI, the
IBCF in the receiving network can omit or modify the SIP header fields in the
received SIP message prior to forwarding the SIP message as specified in TS
24.229 [5] clause 5.10.6.2.
* * *
## B.4 BYE method
Table B.4.1: Supported header fields within the BYE request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Accept | [13] | o | IF | | | | | | dc1 (AOC: | | | | | | cl | | | | | | ause 12.22) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 2 | Acc | [51] | o | do | | | ept-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 3 | Acce | [13] | o | do | | | pt-Encoding | | | | +-------------+-------------+-------------+------------+-------------+ | 4 | Acce | [13] | o | do | | | pt-Language | | | | +-------------+-------------+-------------+------------+-------------+ | 5 | Allow | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 6 | A | [20] | o | IF | | | llow-Events | | | table | | | | | | 6.1.3.1/23 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 7 | Au | [13] | o | IF | | | thorization | | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 8 | Call-ID | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 9 | Content- | [13] | o | IF | | | Disposition | | | dc2 (AOC: | | | | | | cl | | | | | | ause 12.22) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 10 | Conte | [13] | o | do | | | nt-Encoding | | | | +-------------+-------------+-------------+------------+-------------+ | 11 | Conte | [13] | o | do | | | nt-Language | | | | +-------------+-------------+-------------+------------+-------------+ | 12 | Con | [13] | t | dt | | | tent-Length | | | | +-------------+-------------+-------------+------------+-------------+ | 13 | C | [13] | * | d* | | | ontent-Type | | | | +-------------+-------------+-------------+------------+-------------+ | 14 | CSeq | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 15 | Date | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 16 | From | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 17 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 18 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 19 | Max-Breadth | [79] | o | do | +-------------+-------------+-------------+------------+-------------+ | 20 | M | [13] | m | dm | | | ax-Forwards | | | | +-------------+-------------+-------------+------------+-------------+ | 21 | M | [13] | o | do | | | IME-Version | | | | +-------------+-------------+-------------+------------+-------------+ | 22 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 23 | P-Assert | [44] | o | IF | | | ed-Identity | | | table | | | | | | 6.1.3.1/27 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 24 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 25 | P-Char | [24] | o | dn/a | | | ging-Vector | | | | +-------------+-------------+-------------+------------+-------------+ | 26 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 27 | Privacy | [34] | o | do | +-------------+-------------+-------------+------------+-------------+ | 28 | Proxy-Au | [13] | o | IF | | | thorization | | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 29 | Pr | [13] | o | do | | | oxy-Require | | | | +-------------+-------------+-------------+------------+-------------+ | 30 | Reason | [48] | o | IF | | | | | | dc3 (ICB: | | | | | | clau | | | | | | se 12.10.1) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 31 | R | [13] | o | do | | | ecord-Route | | | | +-------------+-------------+-------------+------------+-------------+ | 32 | Referred-By | [53] | o | do | +-------------+-------------+-------------+------------+-------------+ | 33 | Rej | [51] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 34 | Request- | [51] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 35 | Require | [13] | c | dc | +-------------+-------------+-------------+------------+-------------+ | 36 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 37 | Route | [13] | c | dc | +-------------+-------------+-------------+------------+-------------+ | 38 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 39 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 40 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 41 | Supported | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 42 | Timestamp | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 43 | To | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 44 | User-Agent | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 45 | U | [83] | o | IF | | | ser-to-User | | | table | | | | | | 6.1.3.1/79 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 46 | Via | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | request | | | | | | invoked due | | | | | | to AOC AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI | | | | | | | | | | | | dc2: | | | | | | request | | | | | | invoked due | | | | | | to AOC AND | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI | | | | | | | | | | | | dc3: | | | | | | request | | | | | | invoked due | | | | | | to | | | | | | \"dynamic | | | | | | ICB\" on a | | | | | | confirmed | | | | | | status | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.4.2: Supported header fields within the BYE response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | c | dc | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | c | dc | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | c | dc | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | Contact | 3xx | [13] | o | do | | | | | | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 10 | Con | r | [13] | o | IF | | | tent-Dis | | | | d | | | position | | | | c1 (AOC: | | | | | | | claus | | | | | | | e 12.22) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 11 | Content- | r | [13] | o | do | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | 13 | Conten | 100 | [13] | t | dt | | | t-Length | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Cont | r | [13] | * | d* | | | ent-Type | | | | | +----------+----------+----------+----------+----------+----------+ | 15 | CSeq | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 16 | Date | 100 | [13] | o | do | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 18 | From | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 19 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 20 | MIME | r | [13] | o | do | | | -version | | | | | +----------+----------+----------+----------+----------+----------+ | 21 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN, do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 22 | P-A | r | [44] | o | IF | | | sserted- | | | | table 6. | | | Identity | | | | 1.3.1/27 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 23 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 24 | P | r | [24], | o | dn/a | | | -Chargin | | [24A] | | | | | g-Vector | | | | | +----------+----------+----------+----------+----------+----------+ | 25 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 26 | Privacy | r | [34] | o | do | +----------+----------+----------+----------+----------+----------+ | 27 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 28 | Reco | 2xx | [13] | o | do | | | rd-Route | | | | | +----------+----------+----------+----------+----------+----------+ | 29 | Require | r | [13] | c | dc | +----------+----------+----------+----------+----------+----------+ | 30 | Ret | 404 | [13] | o | do | | | ry-After | | | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 31 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 32 | Server | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 33 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 34 | S | 2xx | [13] | o | do | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 35 | T | r | [13] | o | do | | | imestamp | | | | | +----------+----------+----------+----------+----------+----------+ | 36 | To | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 37 | Uns | 420 | [13] | m | dm | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 38 | Us | r | [13] | o | do | | | er-Agent | | | | | +----------+----------+----------+----------+----------+----------+ | 39 | User | r | [83] | o | IF | | | -to-User | | | | table 6. | | | | | | | 1.3.1/79 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 40 | Via | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 41 | Warning | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 42 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: 200 | | | | | | | (OK) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | AOC AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.5 CANCEL method
Table B.5.1: Supported header fields within the CANCEL request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept-Contact [51] o do
2 Authorization [13] o IF table 6.1.3.1/7 THEN do (NOTE) 3 Call-ID [13] m dm 4
Content-Length [13] t dt 5 CSeq [13] m dm 6 Date [13] o do 7 From [13] m dm 8
Max-Breadth [79] o do 9 Max-Forwards [13] m dm 10 Privacy [34] o do 11 Reason
[48] o IF dc1 (CW: clause 12.7) THEN dm ELSE IF table 6.1.3.1/40 THEN do
(NOTE) 12 Record-Route [13] o do 13 Reject-Contact [51] o do 14 Request-
Disposition [51] o do 15 Resource-Priority [78] o IF table 6.1.3.1/73 THEN do
(NOTE) 16 Route [13] c dc 17 Session-ID [124] m IF table 6.1.3.1/94 THEN dm
(NOTE) 18 Supported [13] o do 19 Timestamp [13] o do 20 To [13] m dm 21 User-
Agent [13] o do 22 Via [13] m dm dc1: request invoked due to CW at the expiry
of the \"CW timer\"  
NOTE: If the capability specified in table 6.1.3.1 is not supported over the
II-NNI, the IBCF in the receiving network can omit or modify the SIP header
fields in the received SIP message prior to forwarding the SIP message as
specified in TS 24.229 [5] clause 5.10.6.2.
* * *
Table B.5.2: Supported header fields within the CANCEL response
+----------+----------+----------+---------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+---------+----------+----------+ | 1 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+---------+----------+----------+ | 2 | Call-ID | r | [13] | m | dm | +----------+----------+----------+---------+----------+----------+ | 3 | Conten | r | [13] | t | dt | | | t-Length | | | | | +----------+----------+----------+---------+----------+----------+ | 4 | CSeq | r | [13] | m | dm | +----------+----------+----------+---------+----------+----------+ | 5 | Date | r | [13] | o | do | +----------+----------+----------+---------+----------+----------+ | 6 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+---------+----------+----------+ | 7 | From | r | [13] | m | dm | +----------+----------+----------+---------+----------+----------+ | 8 | Privacy | r | [34] | o | do | +----------+----------+----------+---------+----------+----------+ | 9 | Reco | 2xx | [13] | o | do | | | rd-Route | | | | | +----------+----------+----------+---------+----------+----------+ | 10 | Ret | 404 | [13] | o | do | | | ry-After | | | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+---------+----------+----------+ | 11 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE) | +----------+----------+----------+---------+----------+----------+ | 12 | S | 2xx | [13] | o | do | | | upported | | | | | +----------+----------+----------+---------+----------+----------+ | 13 | T | r | [13] | o | do | | | imestamp | | | | | +----------+----------+----------+---------+----------+----------+ | 14 | To | r | [13] | m | dm | +----------+----------+----------+---------+----------+----------+ | 15 | Us | r | [13] | o | do | | | er-Agent | | | | | +----------+----------+----------+---------+----------+----------+ | 16 | Via | r | [13] | m | dm | +----------+----------+----------+---------+----------+----------+ | 17 | Warning | r | [13] | o | do | +----------+----------+----------+---------+----------+----------+ | NOTE: If | | | | | | | the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+---------+----------+----------+
## B.6 INFO method
As described in table 6.1, the support of INFO method over the II-NNI is based
on bilateral agreement between the operators.
Table B.6.1: Supported header fields within the INFO request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept [13], [39] o do 2
Accept-Encoding [13], [39] o do 3 Accept-Language [13], [39] o do 4 Allow
[13], [39] o do 5 Allow-Events [20] o IF table 6.1.3.1/23 THEN do (NOTE) 6
Authorization [13], [39] o IF table 6.1.3.1/7 THEN do (NOTE) 7 Call-ID [13],
[39] m dm 8 Call-Info [13], [39] o do 9 Content-Disposition [13], [39] o IF
dc1 (AOC: clause 12.22) THEN dm ELSE do 10 Content-Encoding [13], [39] o do 11
Content-Language [13], [39] o do 12 Content-Length [13], [39] o do 13 Content-
Type [13], [39] * d* 14 CSeq [13], [39] m dm 15 Date [13], [39] o do 16 From
[13], [39] m dm 17 Geolocation [68] o do 18 Geolocation-Routing [68] o do 19
Info-Package [39] m* IF table 6.1.3.1/17 THEN do (NOTE) 20 Max-Breadth [79],
[39] n/a dn/a 21 Max-Forwards [13], [39] o do 22 MIME-Version [13], [39] o do
23 P-Access-Network-Info [24], [24B] o IF table 6.1.3.1/36 THEN do (NOTE) 24
P-Charging-Function-Addresses [24] o dn/a 25 P-Charging-Vector [24] o IF table
6.1.3.1/38 THEN do (NOTE) 26 Privacy [34], [39] o do 27 Proxy-Authorization
[13], [39] o IF table 6.1.3.1/7 THEN do (NOTE) 28 Proxy-Require [13], [39] o
do 29 Reason [48], [39] o IF table 6.1.3.1/40 THEN do (NOTE) 30 Record-Route
[13], [39] o do 31 Referred-By [53], [39] o do 32 Request-Disposition [51],
[39] o do 33 Require [13], [39] o do 34 Resource-Priority [78], [39] o IF
table 6.1.3.1/73 THEN do (NOTE) 35 Route [13], [39] o do 36 Security-Client
[47], [39] o dn/a 37 Security-Verify [47], [39] o dn/a 38 Session-ID [124] m
IF table 6.1.3.1/94 THEN dm (NOTE) 39 Subject [13], [39] o do 40 Supported
[13], [39] o do 41 Timestamp [13], [39] o do 42 To [13], [39] m dm 43 User-
Agent [13], [39] o do 44 Via [13], [39] m dm dc1: request invoked due to AOC
AND home-to-visited request on roaming II-NNI  
NOTE: If the capability specified in table 6.1.3.1 is not supported over the
II-NNI, the IBCF in the receiving network can omit or modify the SIP header
fields in the received SIP message prior to forwarding the SIP message as
specified in TS 24.229 [5] clause 5.10.6.2.
* * *
Table B.6.2: Supported header fields within the INFO response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 2xx | [13] | o | do | | | | | , [39] | | | | | | 415 | | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 2xx | [13] | o | do | | | Encoding | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 2xx | [13] | o | do | | | Language | | , [39] | | | | | | 415 | | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | , [39] | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [39] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 10 | Con | r | [13] | o | do | | | tent-Dis | | , [39] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Content- | r | [13] | o | do | | | Encoding | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Language | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Conten | 100 | [13] | o | do | | | t-Length | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Cont | r | [13] | * | d* | | | ent-Type | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 15 | CSeq | 100 | [13] | m | dm | | | | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 16 | Date | 100 | [13] | o | do | | | | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [39] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 18 | From | 100 | [13] | m | dm | | | | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 19 | G | 424 | [68] | m | dm | | | eolocati | | , [39] | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 20 | MIME | r | [13] | o | do | | | -version | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 21 | Orga | r | [13] | n/a | dn/a | | | nization | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 22 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 23 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 24 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | table 6. | | | g-Vector | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 25 | Privacy | r | [34] | o | do | | | | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 26 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [39] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | 27 | Require | r | [13] | o | do | | | | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 28 | Ret | 404 | [13] | o | do | | | ry-After | | , [39] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 29 | Securit | 421 | [47] | o | dn/a | | | y-Server | | , [39] | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 30 | Server | r | [13] | o | do | | | | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 31 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 32 | S | 2xx | [13] | o | do | | | upported | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 33 | T | r | [13] | o | do | | | imestamp | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 34 | To | 100 | [13] | m | dm | | | | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 35 | Uns | 420 | [13] | o | do | | | upported | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 36 | Us | r | [13] | o | do | | | er-Agent | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 37 | Via | 100 | [13] | m | dm | | | | | , [39] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 38 | Warning | r | [13] | o | do | | | | | , [39] | | | +----------+----------+----------+----------+----------+----------+ | 39 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [39] | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.7 INVITE method
Table B.7.1: Supported header fields within the INVITE request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Accept | [13] | o | IF | | | | | | dc1 (AOC: | | | | | | cl | | | | | | ause 12.22) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 2 | Acc | [51] | o | IF | | | ept-Contact | | | dc2 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 3 | Acce | [13] | o | do | | | pt-Encoding | | | | +-------------+-------------+-------------+------------+-------------+ | 4 | Acce | [13] | o | do | | | pt-Language | | | | +-------------+-------------+-------------+------------+-------------+ | 5 | Alert-Info | [13] | o | IF | | | | | | dc3 (CRS: | | | | | | cl | | | | | | ause 12.15) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/10 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 6 | Allow | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 7 | A | [20] | o | IF | | | llow-Events | | | table | | | | | | 6.1.3.1/23 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 8 | Answer-Mode | [94] | o | IF | | | | | | table | | | | | | 6.1.3.1/90 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 9 | Au | [13] | o | IF | | | thorization | | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 10 | Call-ID | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 11 | Call-Info | [13] | o | IF | | | | | | dc4 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | OR | | | | | | dc5 (ann | | | | | | ouncements: | | | | | | cl | | | | | | ause 12.21) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 12 | Contact | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 13 | Content- | [13] | o | IF | | | Disposition | | | dc6 (AOC: | | | | | | cl | | | | | | ause 12.22) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 14 | Conte | [13] | o | do | | | nt-Encoding | | | | +-------------+-------------+-------------+------------+-------------+ | 15 | Conte | [13] | o | do | | | nt-Language | | | | +-------------+-------------+-------------+------------+-------------+ | 16 | Con | [13] | t | dt | | | tent-Length | | | | +-------------+-------------+-------------+------------+-------------+ | 17 | C | [13] | * | d* | | | ontent-Type | | | | +-------------+-------------+-------------+------------+-------------+ | 18 | CSeq | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 19 | Date | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 20 | Expires | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 21 | F | [143] | o | IF | | | eature-Caps | | | table | | | | | | 6.1.3.1/103 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 22 | From | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 23 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 24 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 25 | H | [25] | o | IF | | | istory-Info | | | dc7 (CDIV: | | | | | | c | | | | | | lause 12.6) | | | | | | OR | | | | | | dc2 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/50 | | | | | | THEN do | | | | | | (NOTE 1, | | | | | | NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 26 | In-Reply-To | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 27 | Join | [55] | o | IF | | | | | | table | | | | | | 6.1.3.1/48 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 28 | Max-Breadth | [79] | o | do | +-------------+-------------+-------------+------------+-------------+ | 29 | M | [13] | m | dm | | | ax-Forwards | | | | +-------------+-------------+-------------+------------+-------------+ | 30 | M | [13] | o | do | | | IME-Version | | | | +-------------+-------------+-------------+------------+-------------+ | 31 | Min-SE | [52] | o | do | +-------------+-------------+-------------+------------+-------------+ | 32 | O | [13] | o | do | | | rganization | | | | +-------------+-------------+-------------+------------+-------------+ | 33 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 34 | P-Assert | [44] | o | IF | | | ed-Identity | | | table | | | | | | 6.1.3.1/27 | | | | | | AND initial | | | | | | request | | | | | | THEN dm | | | | | | (NOTE 2, | | | | | | NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 35 | P-Asser | [26] | o | IF | | | ted-Service | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 36 | P-Call | [24] | o | IF | | | ed-Party-ID | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/34 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 37 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 38 | P-Char | [24] | o | IF | | | ging-Vector | | | table | | | | | | 6.1.3.1/38 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 39 | P- | [74] | o | IF | | | Early-Media | | | table | | | | | | 6.1.3.1/69 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 40 | P-Media-Au | [42] | o | dn/a | | | thorization | | | | +-------------+-------------+-------------+------------+-------------+ | 41 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 42 | P-Prefer | [26] | o | IF | | | red-Service | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 43 | P-Priv | [84] | o | IF | | | ate-Network | | | table | | | -Indication | | | 6.1.3.1/80 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 44 | P- | [64] | o | IF | | | Profile-Key | | | table | | | | | | 6.1.3.1/59 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 45 | P- | [85] | o | IF | | | Served-User | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | initial | | | | | | request | | | | | | being sent | | | | | | from | | | | | | \" | | | | | | priviledged | | | | | | sender\" | | | | | | THEN dm | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 46 | P-Us | [60] | o | dn/a | | | er-Database | | | | +-------------+-------------+-------------+------------+-------------+ | 47 | P-Visited | [24] | o | dn/a | | | -Network-ID | | | | +-------------+-------------+-------------+------------+-------------+ | 48 | Priority | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 49 | Privacy | [34] | o | IF | | | | | | dc | | | | | | 8 (OIP/OIR: | | | | | | c | | | | | | lause 12.3) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 50 | Priv- | [94] | o | IF | | | Answer-Mode | | | table | | | | | | 6.1.3.1/90 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 51 | Proxy-Au | [13] | o | IF | | | thorization | | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 52 | Pr | [13] | o | do | | | oxy-Require | | | | +-------------+-------------+-------------+------------+-------------+ | 53 | Reason | [48] | o | IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | AND | | | | | | subsequent | | | | | | request | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 54 | R | [13] | o | do | | | ecord-Route | | | | +-------------+-------------+-------------+------------+-------------+ | 55 | Recv-Info | [39] | m | IF | | | | | | table | | | | | | 6.1.3.1/17 | | | | | | THEN dm | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 56 | Referred-By | [53] | o | IF | | | | | | dc9 (ECT: | | | | | | cl | | | | | | ause 12.13) | | | | | | OR | | | | | | dc10 (CONF: | | | | | | cl | | | | | | ause 12.19) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 57 | Rej | [51] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 58 | Replaces | [54] | o | IF | | | | | | dc11 (ECT: | | | | | | cl | | | | | | ause 12.13) | | | | | | OR | | | | | | dc12 (CONF: | | | | | | cl | | | | | | ause 12.19) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/47 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 59 | Reply-To | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 60 | Request- | [51] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 61 | Require | [13] | c | IF | | | | | | dc11 (ECT: | | | | | | cl | | | | | | ause 12.13) | | | | | | THEN dm | | | | | | ELSE dc | +-------------+-------------+-------------+------------+-------------+ | 62 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 63 | Route | [13] | c | dc | +-------------+-------------+-------------+------------+-------------+ | 64 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 65 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 66 | Sess | [52] | o | do | | | ion-Expires | | | | +-------------+-------------+-------------+------------+-------------+ | 67 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 68 | Subject | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 69 | Supported | [13] | m* | IF | | | | | | dc2 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE dm* | +-------------+-------------+-------------+------------+-------------+ | 70 | Ta | [140] | o | IF | | | rget-Dialog | | | table | | | | | | 6.1.3.1/102 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 71 | Timestamp | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 72 | To | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 73 | Trig | [82] | o | IF | | | ger-Consent | | | table | | | | | | 6.1.3.1/78 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 74 | User-Agent | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 75 | U | [83] | o | IF | | | ser-to-User | | | table | | | | | | 6.1.3.1/79 | | | | | | THEN do | | | | | | (NOTE 3) | +-------------+-------------+-------------+------------+-------------+ | 76 | Via | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | request | | | | | | invoked due | | | | | | to AOC AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI | | | | | | | | | | | | dc2: | | | | | | initial | | | | | | request | | | | | | invoked due | | | | | | to PNM in | | | | | | case of | | | | | | (\"PN UE | | | | | | re | | | | | | direction\" | | | | | | OR \"PN | | | | | | access | | | | | | control\") | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc3: | | | | | | initial | | | | | | request | | | | | | invoked due | | | | | | to CRS AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc4: | | | | | | initial | | | | | | request | | | | | | invoked due | | | | | | to | | | | | | CCB | | | | | | S/CCNR/CCNL | | | | | | AND \"CC | | | | | | call\" | | | | | | request AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc5: | | | | | | subsequent | | | | | | request | | | | | | invoked due | | | | | | to | | | | | | an | | | | | | nouncements | | | | | | using the | | | | | | Call-info | | | | | | header | | | | | | field AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc6: | | | | | | request | | | | | | invoked due | | | | | | to AOC AND | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI | | | | | | | | | | | | dc7: | | | | | | initial | | | | | | request | | | | | | towards the | | | | | | network | | | | | | serving | | | | | | \"the | | | | | | diverted-to | | | | | | user\" AND | | | | | | CFU/ | | | | | | CFB/CFNR/CF | | | | | | NRc/CD/CFNL | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI | | | | | | | | | | | | dc8: | | | | | | (initial | | | | | | request | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"override | | | | | | the default | | | | | | setting\" | | | | | | in | | | | | | temporary | | | | | | mode AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI) OR | | | | | | (initial | | | | | | request | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"p | | | | | | resentation | | | | | | of the | | | | | | public user | | | | | | identity is | | | | | | r | | | | | | estricted\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | | | | | | | | dc9: | | | | | | initial | | | | | | request | | | | | | invoked due | | | | | | to ECT AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc10: | | | | | | (initial | | | | | | request | | | | | | from | | | | | | \ | | | | | | "conference | | | | | | pa | | | | | | rticipant\" | | | | | | receiving | | | | | | REFER | | | | | | request | | | | | | with | | | | | | Referred-By | | | | | | header | | | | | | field AND | | | | | | (visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI OR | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario)) | | | | | | OR (initial | | | | | | request | | | | | | from | | | | | | \ | | | | | | "conference | | | | | | focus\" | | | | | | receiving | | | | | | REFER | | | | | | request AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | | | | | | | | dc11: | | | | | | \"C | | | | | | onsultative | | | | | | transfer\" | | | | | | due to ECT | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc12: | | | | | | initial | | | | | | request | | | | | | from | | | | | | \ | | | | | | "conference | | | | | | focus\" | | | | | | receiving | | | | | | REFER | | | | | | request | | | | | | with | | | | | | Replaces | | | | | | header | | | | | | field | | | | | | escaped in | | | | | | Refer-To | | | | | | header | | | | | | field AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE 1: The | | | | | | Privacy | | | | | | header | | | | | | field can | | | | | | be escaped | | | | | | in the | | | | | | header | | | | | | field for | | | | | | CDIV. | | | | | | | | | | | | NOTE 2: The | | | | | | header | | | | | | field is | | | | | | not | | | | | | included in | | | | | | some | | | | | | exceptional | | | | | | cases. | | | | | | (e.g. when | | | | | | an incoming | | | | | | call from a | | | | | | circu | | | | | | it-switched | | | | | | network has | | | | | | not | | | | | | included | | | | | | the | | | | | | required | | | | | | information | | | | | | to be | | | | | | mapped into | | | | | | the header | | | | | | field) | | | | | | | | | | | | NOTE 3: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.7.2: Supported header fields within the INVITE response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 2xx | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 2xx | [13] | o | do | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 2xx | [13] | o | do | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 5 | Al | 180 | [13] | o | IF | | | ert-Info | | | | dc1 (CW: | | | | | | | clau | | | | | | | se 12.7) | | | | | | | OR | | | | | | | dc2 | | | | | | | (announ | | | | | | | cements: | | | | | | | claus | | | | | | | e 12.21) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/10 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 6 | Allow | 2xx | [13] | m* | dm* | +----------+----------+----------+----------+----------+----------+ | | | 405 | | m | dm | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 7 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 8 | Ans | 2xx | [94] | o | IF | | | wer-Mode | | | | table 6. | | | | | | | 1.3.1/90 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 9 | Aut | 2xx | [13] | o | IF | | | henticat | | | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 10 | Call-ID | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 11 | C | r | [13] | o | IF | | | all-Info | | | | dc | | | | | | | 3 (CCBS: | | | | | | | claus | | | | | | | e 12.11) | | | | | | | OR | | | | | | | dc | | | | | | | 4 (CCNR: | | | | | | | claus | | | | | | | e 12.12) | | | | | | | OR | | | | | | | dc | | | | | | | 5 (CCNL: | | | | | | | claus | | | | | | | e 12.23) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 12 | Contact | 18x | [13] | o | dm | | | | | | | | | | | 199 | [5] | | | +----------+----------+----------+----------+----------+----------+ | | | 2xx | | m | dm | +----------+----------+----------+----------+----------+----------+ | | | 3xx | | o | do | | | | | | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 13 | Con | r | [13] | o | IF | | | tent-Dis | | | | d | | | position | | | | c6 (AOC: | | | | | | | claus | | | | | | | e 12.22) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 14 | Content- | r | [13] | o | do | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Content- | r | [13] | o | do | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | 16 | Conten | 100 | [13] | t | dt | | | t-Length | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Cont | r | [13] | * | IF | | | ent-Type | | | | dc | | | | | | | 7 (CCBS: | | | | | | | claus | | | | | | | e 12.11) | | | | | | | OR | | | | | | | dc8 (CC | | | | | | | NR/CCNL: | | | | | | | cla | | | | | | | use 12.1 | | | | | | | 2/12.23) | | | | | | | THEN dm | | | | | | | ELSE d* | +----------+----------+----------+----------+----------+----------+ | 18 | CSeq | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 19 | Date | 100 | [13] | o | IF | | | | | | | dc | | | | others | | | 7 (CCBS: | | | | | | | claus | | | | | | | e 12.11) | | | | | | | OR | | | | | | | dc8 (CC | | | | | | | NR/CCNL: | | | | | | | cla | | | | | | | use 12.1 | | | | | | | 2/12.23) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 20 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | | | dc9 | | | | | | | (announ | | | | | | | cements: | | | | | | | claus | | | | | | | e 12.21) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 21 | Expires | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 22 | Feat | 18x | [143] | o | IF | | | ure-Caps | | | | t | | | | 2xx | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 23 | From | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 24 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 25 | Hist | r | [25] | o | IF | | | ory-Info | | | | dc1 | | | | | | | 0 (CDIV: | | | | | | | clau | | | | | | | se 12.6) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE 2, | | | | | | | NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 26 | MIME | r | [13] | o | do | | | -version | | | | | +----------+----------+----------+----------+----------+----------+ | 27 | Min-SE | 422 | [52] | m | dm | +----------+----------+----------+----------+----------+----------+ | 28 | Orga | r | [13] | o | do | | | nization | | | | | +----------+----------+----------+----------+----------+----------+ | 29 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 30 | P-Answ | 18x | [73] | o | IF | | | er-State | | | | table 6. | | | | 2xx | | | 1.3.1/68 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 31 | P-A | r | [44] | o | IF | | | sserted- | | | | dc11 ( | | | Identity | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/27 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 32 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 33 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | dc1 | | | g-Vector | | | | 2 (CONF: | | | | | | | claus | | | | | | | e 12.19) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 34 | P-Ear | 18x | [74] | o | IF | | | ly-Media | | | | dc | | | | | | | 13 (CAT: | | | | | | | claus | | | | | | | e 12.14) | | | | | | | OR | | | | | | | dc14 | | | | | | | (announ | | | | | | | cements: | | | | | | | claus | | | | | | | e 12.21) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/69 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 35 | P-Med | 18x | [42] | o | dn/a | | | ia-Autho | | | | | | | rization | 2xx | | | | +----------+----------+----------+----------+----------+----------+ | 36 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 37 | P- | 403 | [141] | o | IF | | | Refused- | | | | (non | | | URI-List | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | s | | | | | | | cenario) | | | | | | | AND | | | | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/101 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 38 | Pe | 470 | [82] | o | IF | | | rmission | | | | table 6. | | | -Missing | | | | 1.3.1/78 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 39 | Privacy | r | [34] | o | IF | | | | | | | dc15 ( | | | | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 40 | Priv-Ans | 2xx | [94] | o | IF | | | wer-Mode | | | | table 6. | | | | | | | 1.3.1/90 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 41 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 42 | Reason | 18x | [48] | o | IF | | | | | | | d | | | | 199 | | | c16 (CW: | | | | | | | clau | | | | 3xx-6xx | | | se 12.7) | | | | | | | OR | | | | | | | dc | | | | | | | 17 (ICB: | | | | | | | clause | | | | | | | 12.10.1) | | | | | | | OR | | | | | | | dc18 | | | | | | | (announ | | | | | | | cements: | | | | | | | claus | | | | | | | e 12.21) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/40 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 43 | Reco | 18x | [13] | o | do | | | rd-Route | | | | | | | | 199 | | | | | | | | | | | | | | 2xx | | | | +----------+----------+----------+----------+----------+----------+ | 44 | R | 18x | [39] | c | IF | | | ecv-Info | | | | table 6. | | | | 199 | | | 1.3.1/17 | | | | | | | THEN dc | | | | 2xx | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 45 | Reply-To | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 46 | Require | r | [13] | c | IF | | | | | | | dc | | | | | | | 19 (CAT: | | | | | | | claus | | | | | | | e 12.14) | | | | | | | THEN dm | | | | | | | ELSE dc | +----------+----------+----------+----------+----------+----------+ | 47 | Ret | 404 | [13] | o | do | | | ry-After | | | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 48 | RSeq | 18x | [18] | o | do | | | | | | | | | | | 199 | | | | +----------+----------+----------+----------+----------+----------+ | 49 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 50 | Server | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 51 | Session | 2xx | [52] | o | do | | | -Expires | | | | | +----------+----------+----------+----------+----------+----------+ | 52 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 53 | S | 2xx | [13] | m* | dm* | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 54 | T | r | [13] | o | do | | | imestamp | | | | | +----------+----------+----------+----------+----------+----------+ | 55 | To | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 56 | Uns | 420 | [13] | m | dm | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 57 | Us | r | [13] | o | do | | | er-Agent | | | | | +----------+----------+----------+----------+----------+----------+ | 58 | User | r | [83] | o | IF | | | -to-User | | | | table 6. | | | | | | | 1.3.1/79 | | | | | | | THEN do | | | | | | | (NOTE 3) | +----------+----------+----------+----------+----------+----------+ | 59 | Via | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 60 | Warning | r | [13] | o | IF | | | | | | | dc2 | | | | | | | 0 (CDIV: | | | | | | | clau | | | | | | | se 12.6) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 61 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | CW AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc2: | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | invoked | | | | | | | due to | | | | | | | annou | | | | | | | ncements | | | | | | | using | | | | | | | the | | | | | | | Al | | | | | | | ert-Info | | | | | | | header | | | | | | | field | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc3: 486 | | | | | | | (Busy | | | | | | | Here) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | CCBS AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc4: 180 | | | | | | | ( | | | | | | | Ringing) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | CCNR AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | s | | | | | | | cenario) | | | | | | | | | | | | | | dc5: 480 | | | | | | | (Tem | | | | | | | porarily | | | | | | | Unav | | | | | | | ailable) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | CCNL AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc6: | | | | | | | 1xx/200 | | | | | | | (OK) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | AOC AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | | | | | | | | dc7: 486 | | | | | | | (Busy | | | | | | | Here) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | CCBS AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | | | | | | | | dc8: 480 | | | | | | | (Tem | | | | | | | porarily | | | | | | | Unav | | | | | | | ailable) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | C | | | | | | | CNR/CCNL | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | | | | | | | | dc9: | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | invoked | | | | | | | due to | | | | | | | annou | | | | | | | ncements | | | | | | | using | | | | | | | the | | | | | | | Er | | | | | | | ror-Info | | | | | | | header | | | | | | | field | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc10: | | | | | | | 180 | | | | | | | (Ring | | | | | | | ing)/181 | | | | | | | (Call Is | | | | | | | Being | | | | | | | Forwar | | | | | | | ded)/200 | | | | | | | (OK) | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | CF | | | | | | | U/CFB/CF | | | | | | | NR/CFNRc | | | | | | | /CD/CFNL | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc11: | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | (visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | sc | | | | | | | enario)) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | is | | | | | | | a | | | | | | | llowed\" | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc12: | | | | | | | first | | | | | | | response | | | | | | | from | | | | | | | \"co | | | | | | | nference | | | | | | | focus\" | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc13: | | | | | | | reliable | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | invoked | | | | | | | due to | | | | | | | CAT | | | | | | | using | | | | | | | \ | | | | | | | "forking | | | | | | | model\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc14: | | | | | | | 183 | | | | | | | (Session | | | | | | | P | | | | | | | rogress) | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | invoked | | | | | | | due to | | | | | | | annou | | | | | | | ncements | | | | | | | aut | | | | | | | horizing | | | | | | | early | | | | | | | media | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc15: | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | non-100 | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | \" | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | s | | | | | | | etting\" | | | | | | | in | | | | | | | t | | | | | | | emporary | | | | | | | mode AND | | | | | | | visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | of the | | | | | | | network | | | | | | | asserted | | | | | | | identity | | | | | | | is | | | | | | | rest | | | | | | | ricted\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI)) | | | | | | | | | | | | | | dc16: | | | | | | | 480 | | | | | | | (Tem | | | | | | | porarily | | | | | | | Unav | | | | | | | ailable) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | CW at | | | | | | | the | | | | | | | expiry | | | | | | | of the | | | | | | | \"CW | | | | | | | timer\" | | | | | | | | | | | | | | dc17: | | | | | | | 603 | | | | | | | ( | | | | | | | Decline) | | | | | | | response | | | | | | | invoked | | | | | | | due to | | | | | | | \ | | | | | | | "dynamic | | | | | | | ICB\" on | | | | | | | an early | | | | | | | dialog | | | | | | | | | | | | | | dc18: | | | | | | | 183 | | | | | | | (Session | | | | | | | P | | | | | | | rogress) | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | invoked | | | | | | | due to | | | | | | | annou | | | | | | | ncements | | | | | | | aut | | | | | | | horizing | | | | | | | early | | | | | | | media | | | | | | | when | | | | | | | r | | | | | | | ejecting | | | | | | | a | | | | | | | commu | | | | | | | nication | | | | | | | request | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc19: | | | | | | | first | | | | | | | 18x | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | invoked | | | | | | | due to | | | | | | | CAT | | | | | | | using | | | | | | | \"early | | | | | | | session | | | | | | | model\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc20: | | | | | | | 480 | | | | | | | (Tem | | | | | | | porarily | | | | | | | Unavaila | | | | | | | ble)/486 | | | | | | | (Busy | | | | | | | Here) | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | CF | | | | | | | U/CFB/CF | | | | | | | NR/CFNRc | | | | | | | /CD/CFNL | | | | | | | in case | | | | | | | \ | | | | | | | "maximum | | | | | | | number | | | | | | | of | | | | | | | dive | | | | | | | rsions\" | | | | | | | exceeds | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | loopback | | | | | | | t | | | | | | | raversal | | | | | | | scenario | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | Privacy | | | | | | | header | | | | | | | field | | | | | | | can be | | | | | | | escaped | | | | | | | in the | | | | | | | header | | | | | | | field | | | | | | | for | | | | | | | CDIV. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.8 MESSAGE method
As described in table 6.1, the support of MESSAGE method over the II-NNI is
based on bilateral agreement between the operators.
Table B.8.1: Supported header fields within the MESSAGE request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Acc | [51] | o | IF | | | ept-Contact | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 2 | Allow | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 3 | A | [20] | o | IF | | | llow-Events | | | table | | | | | | 6.1.3.1/23 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 4 | Au | [1 | o | IF | | | thorization | 3], [19] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 5 | Call-ID | [1 | m | dm | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 6 | Call-Info | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 7 | Content- | [1 | o | do | | | Disposition | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 8 | Conte | [1 | o | do | | | nt-Encoding | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 9 | Conte | [1 | o | do | | | nt-Language | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 10 | Con | [1 | t | dt | | | tent-Length | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 11 | C | [1 | * | d* | | | ontent-Type | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 12 | CSeq | [1 | m | dm | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 13 | Date | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 14 | Expires | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 15 | F | [143] | o | IF | | | eature-Caps | | | table | | | | | | 6.1.3.1/103 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 16 | From | [1 | m | dm | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 17 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 18 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 19 | H | [25] | o | IF | | | istory-Info | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/50 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 20 | In-Reply-To | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 21 | Max-Breadth | [79] | o | do | +-------------+-------------+-------------+------------+-------------+ | 22 | M | [1 | m | dm | | | ax-Forwards | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 23 | M | [13] | o | do | | | IME-Version | | | | +-------------+-------------+-------------+------------+-------------+ | 24 | O | [1 | o | do | | | rganization | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 25 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 26 | P-Assert | [44] | o | IF | | | ed-Identity | | | table | | | | | | 6.1.3.1/27 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | dm (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 27 | P-Asser | [26] | o | IF | | | ted-Service | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 28 | P-Call | [24] | o | IF | | | ed-Party-ID | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/34 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 29 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 30 | P-Char | [24] | o | IF | | | ging-Vector | | | table | | | | | | 6.1.3.1/38 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 31 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 32 | P-Prefer | [26] | o | IF | | | red-Service | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 33 | P-Priv | [84] | o | IF | | | ate-Network | | | table | | | -Indication | | | 6.1.3.1/80 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 34 | P- | [64] | o | IF | | | Profile-Key | | | table | | | | | | 6.1.3.1/59 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 35 | P- | [85] | o | IF | | | Served-User | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | being sent | | | | | | from | | | | | | \" | | | | | | priviledged | | | | | | sender\" | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 36 | P-Us | [60] | o | dn/a | | | er-Database | | | | +-------------+-------------+-------------+------------+-------------+ | 37 | P-Visited | [24] | o | dn/a | | | -Network-ID | | | | +-------------+-------------+-------------+------------+-------------+ | 38 | Priority | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 39 | Privacy | [34] | o | IF | | | | | | dc | | | | | | 2 (OIP/OIR: | | | | | | c | | | | | | lause 12.3) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 40 | Proxy-Au | [1 | o | IF | | | thorization | 3], [19] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 41 | Pr | [1 | o | do | | | oxy-Require | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 42 | Reason | [48] | o | IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | AND request | | | | | | inside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 43 | R | [1 | n/a | dn/a | | | ecord-Route | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 44 | Referred-By | [53] | o | do | +-------------+-------------+-------------+------------+-------------+ | 45 | Rej | [51] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 46 | Reply-To | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 47 | Request- | [51] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 48 | Require | [1 | c | dc | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 49 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 50 | Route | [1 | c | dc | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 51 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 52 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 53 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 54 | Subject | [13] | o | do | | | | , [19] | | | +-------------+-------------+-------------+------------+-------------+ | 55 | Supported | [13] | o | IF | | | | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 56 | Timestamp | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 57 | To | [1 | m | dm | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 58 | Trig | [82] | o | IF | | | ger-Consent | | | table | | | | | | 6.1.3.1/78 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 59 | User-Agent | [1 | o | do | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | 60 | Via | [1 | m | dm | | | | 3], [19] | | | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to PNM in | | | | | | case of | | | | | | (\"PN UE | | | | | | re | | | | | | direction\" | | | | | | OR \"PN | | | | | | access | | | | | | control\") | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc2: | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"override | | | | | | the default | | | | | | setting\" | | | | | | in | | | | | | temporary | | | | | | mode AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI) OR | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"p | | | | | | resentation | | | | | | of the | | | | | | public user | | | | | | identity is | | | | | | r | | | | | | estricted\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.8.2: Supported header fields within the MESSAGE response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | m* | dm* | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | m* | dm* | | | Encoding | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | m* | dm* | | | Language | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [19] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 10 | Contact | 3xx | [13] | o | do | | | | | , [19] | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Con | r | [13] | o | do | | | tent-Dis | | , [19] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Encoding | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Content- | r | [13] | o | do | | | Language | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 14 | Conten | 100 | [13] | t | dt | | | t-Length | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Cont | r | [13] | * | d* | | | ent-Type | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 16 | CSeq | 100 | [13] | m | dm | | | | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Date | 100 | [13] | o | do | | | | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 18 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [19] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | Expires | r | [13] | o | do | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 20 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 21 | From | 100 | [13] | m | dm | | | | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 22 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 23 | Hist | r | [25] | o | IF | | | ory-Info | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 24 | MIME | r | [13] | o | do | | | -version | | | | | +----------+----------+----------+----------+----------+----------+ | 25 | Orga | r | [13] | o | do | | | nization | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 26 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 27 | P-A | r | [44] | o | IF | | | sserted- | | | | dc1 ( | | | Identity | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/27 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 28 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 29 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | table 6. | | | g-Vector | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 30 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 31 | Pe | 470 | [82] | o | IF | | | rmission | | | | table 6. | | | -Missing | | | | 1.3.1/78 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 32 | Privacy | r | [34] | o | IF | | | | | | | dc2( | | | | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 33 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [19] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 34 | Reco | 2xx | [13] | n/a | dn/a | | | rd-Route | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 35 | Reply-To | r | [13] | o | do | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 36 | Require | r | [13] | c | dc | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 37 | Ret | 404 | [13] | o | do | | | ry-After | | , [19] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 38 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 39 | Server | r | [13] | o | do | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 40 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 41 | S | 2xx | [13] | o | do | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 42 | T | r | [13] | o | do | | | imestamp | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 43 | To | 100 | [13] | m | dm | | | | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 44 | Uns | 420 | [13] | o | do | | | upported | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 45 | Us | r | [13] | o | do | | | er-Agent | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 46 | Via | 100 | [13] | m | dm | | | | | , [19] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 47 | Warning | r | [13] | o | do | | | | | , [19] | | | +----------+----------+----------+----------+----------+----------+ | 48 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [19] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | (visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | non | | | | | | | -roaming | | | | | | | II-NNI)) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | is | | | | | | | a | | | | | | | llowed\" | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc2: | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | non-100 | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \" | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | s | | | | | | | etting\" | | | | | | | in | | | | | | | t | | | | | | | emporary | | | | | | | mode AND | | | | | | | visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | of the | | | | | | | network | | | | | | | asserted | | | | | | | identity | | | | | | | is | | | | | | | rest | | | | | | | ricted\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI)) | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.9 NOTIFY method
As described in table 6.1, the support of NOTIFY method over the non-roaming
II-NNI is based on bilateral agreement between the operators.
Table B.9.1: Supported header fields within the NOTIFY request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept [13], [20] o do 2
Accept-Contact [51] o do 3 Accept-Encoding [13], [20] o do 4 Accept-Language
[13], [20] o do 5 Allow [13], [20] o do 6 Allow-Events [20] o do 7
Authorization [13], [20] o IF table 6.1.3.1/7 THEN do (NOTE) 8 Call-ID [13],
[20] m dm 9 Call-Info [13] o do 10 Contact [13], [20] m dm 11 Content-
Disposition [13], [20] o do 12 Content-Encoding [13], [20] o do 13 Content-
Language [13], [20] o do 14 Content-Length [13], [20] t dt 15 Content-Type
[13], [20] * d* 16 CSeq [13], [20] m dm 17 Date [13], [20] o do 18 Event [20]
m dm 19 Feature-Caps [143] o IF table 6.1.3.1/103 THEN do (NOTE) 20 From [13],
[20] m dm 21 Geolocation [68] o do 22 Geolocation-Routing [68] o do 23
History-Info [25] o IF table 6.1.3.1/50 THEN do (NOTE) 24 Max-Breadth [79] o
do 25 Max-Forwards [13], [20] m dm 26 MIME-Version [13], [20] o do 27
P-Access-Network-Info [24], [24B] o IF table 6.1.3.1/36 THEN do (NOTE) 28
P-Asserted-Identity [44] o IF table 6.1.3.1/27 THEN do (NOTE) 29 P-Charging-
Function-Addresses [24] o dn/a 30 P-Charging-Vector [24] o dn/a 31
P-Preferred-Identity [44] o dn/a 32 Privacy [34] o do 33 Proxy-Authorization
[13], [20] o IF table 6.1.3.1/7 THEN do (NOTE) 34 Proxy-Require [13], [20] o
do 35 Reason [48] o IF table 6.1.3.1/40 THEN do (NOTE) 36 Record-Route [13],
[20] o do 37 Referred-By [53] o do 38 Reject-Contact [51] o do 39 Request-
Disposition [51] o do 40 Require [13], [20] o do 41 Resource-Priority [78] o
IF table 6.1.3.1/73 THEN do (NOTE) 42 Route [13], [20] c dc 43 Security-Client
[47] o dn/a 44 Security-Verify [47] o dn/a 45 Session-ID [124] m IF table
6.1.3.1/94 THEN dm (NOTE) 46 Subscription-State [20] m dm 47 Supported [13],
[20] o do 48 Timestamp [13], [20] o do 49 To [13], [20] m dm 50 User-Agent
[13], [20] o do 51 Via [13], [20] m dm 52 Warning [13], [20] o do NOTE: If the
capability specified in table 6.1.3.1 is not supported over the II-NNI, the
IBCF in the receiving network can omit or modify the SIP header fields in the
received SIP message prior to forwarding the SIP message as specified in TS
24.229 [5] clause 5.10.6.2.
* * *
Table B.9.2: Supported header fields within the NOTIFY response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | o | do | | | Encoding | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | o | do | | | Language | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | do | | | w-Events | | | | | +----------+----------+----------+----------+----------+----------+ | | | 489 | | m | dm | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [20] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | Contact | 2xx | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | | | 3xx | | m | dm | +----------+----------+----------+----------+----------+----------+ | | | 485 | | o | do | +----------+----------+----------+----------+----------+----------+ | 10 | Con | r | [13] | o | do | | | tent-Dis | | , [20] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Content- | r | [13] | o | do | | | Encoding | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Language | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Conten | 100 | [13] | t | dt | | | t-Length | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Cont | r | [13] | * | d* | | | ent-Type | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 15 | CSeq | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 16 | Date | 100 | [13] | o | do | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [20] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 18 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | From | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 20 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 21 | MIME | r | [13] | o | do | | | -version | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 22 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 23 | P-A | r | [44] | o | IF | | | sserted- | | | | table 6. | | | Identity | | | | 1.3.1/27 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 24 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 25 | P | r | [24], | o | dn/a | | | -Chargin | | [24A] | | | | | g-Vector | | | | | +----------+----------+----------+----------+----------+----------+ | 26 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 27 | Privacy | r | [34] | o | do | +----------+----------+----------+----------+----------+----------+ | 28 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [20] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 29 | Reco | 2xx | [13] | o | do | | | rd-Route | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 30 | Require | r | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 31 | Ret | 404 | [13] | o | do | | | ry-After | | , [20] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 32 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 33 | Server | r | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 34 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 35 | S | 2xx | [13] | o | do | | | upported | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 36 | T | r | [13] | o | do | | | imestamp | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 37 | To | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 38 | Uns | 420 | [13] | o | do | | | upported | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 39 | Us | r | [13] | o | do | | | er-Agent | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 40 | Via | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 41 | Warning | r | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 42 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [20] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.10 OPTIONS method
Table B.10.1: Supported header fields within the OPTIONS request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Accept | [13] | m* | dm* | +-------------+-------------+-------------+------------+-------------+ | 2 | Acc | [51] | o | IF | | | ept-Contact | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 3 | Acce | [13] | o | do | | | pt-Encoding | | | | +-------------+-------------+-------------+------------+-------------+ | 4 | Acce | [13] | o | do | | | pt-Language | | | | +-------------+-------------+-------------+------------+-------------+ | 5 | Allow | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 6 | A | [20] | o | IF | | | llow-Events | | | table | | | | | | 6.1.3.1/23 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 7 | Au | [13] | o | IF | | | thorization | | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 8 | Call-ID | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 9 | Call-Info | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 10 | Contact | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 11 | Content- | [13] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 12 | Conte | [13] | o | do | | | nt-Encoding | | | | +-------------+-------------+-------------+------------+-------------+ | 13 | Conte | [13] | o | do | | | nt-Language | | | | +-------------+-------------+-------------+------------+-------------+ | 14 | Con | [13] | t | dt | | | tent-Length | | | | +-------------+-------------+-------------+------------+-------------+ | 15 | C | [13] | * | d* | | | ontent-Type | | | | +-------------+-------------+-------------+------------+-------------+ | 16 | CSeq | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 17 | Date | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 18 | F | [143] | o | IF | | | eature-Caps | | | table | | | | | | 6.1.3.1/103 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 19 | From | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 20 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 21 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 22 | H | [25] | o | IF | | | istory-Info | | | (dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/50 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 23 | Max-Breadth | [79] | o | do | +-------------+-------------+-------------+------------+-------------+ | 24 | M | [13] | m | dm | | | ax-Forwards | | | | +-------------+-------------+-------------+------------+-------------+ | 25 | M | [13] | o | do | | | IME-Version | | | | +-------------+-------------+-------------+------------+-------------+ | 26 | O | [13] | o | do | | | rganization | | | | +-------------+-------------+-------------+------------+-------------+ | 27 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 28 | P-Assert | [44] | o | IF | | | ed-Identity | | | table | | | | | | 6.1.3.1/27 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | dm (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 29 | P-Asser | [26] | o | IF | | | ted-Service | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 30 | P-Call | [24] | o | IF | | | ed-Party-ID | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/34 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 31 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 32 | P-Char | [24] | o | IF | | | ging-Vector | | | table | | | | | | 6.1.3.1/38 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 33 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 34 | P-Prefer | [26] | o | IF | | | red-Service | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 35 | P-Priv | [84] | o | IF | | | ate-Network | | | table | | | -Indication | | | 6.1.3.1/80 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 36 | P- | [64] | o | IF | | | Profile-Key | | | table | | | | | | 6.1.3.1/59 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 37 | P- | [85] | o | IF | | | Served-User | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | being sent | | | | | | from | | | | | | \" | | | | | | priviledged | | | | | | sender\" | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 38 | P-Us | [60] | o | dn/a | | | er-Database | | | | +-------------+-------------+-------------+------------+-------------+ | 39 | P-Visited | [24] | o | dn/a | | | -Network-ID | | | | +-------------+-------------+-------------+------------+-------------+ | 40 | Privacy | [34] | o | IF | | | | | | dc | | | | | | 2 (OIP/OIR: | | | | | | c | | | | | | lause 12.3) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 41 | Proxy-Au | [13] | o | IF | | | thorization | | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 42 | Pr | [13] | o | do | | | oxy-Require | | | | +-------------+-------------+-------------+------------+-------------+ | 43 | Reason | [48] | o | IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | AND request | | | | | | inside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 44 | R | [13] | o | do | | | ecord-Route | | | | +-------------+-------------+-------------+------------+-------------+ | 45 | Recv-Info | [39] | n/a | dn/a | +-------------+-------------+-------------+------------+-------------+ | 46 | Referred-By | [53] | o | do | +-------------+-------------+-------------+------------+-------------+ | 47 | Rej | [51] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 48 | Request- | [51] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 49 | Require | [13] | c | dc | +-------------+-------------+-------------+------------+-------------+ | 50 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 51 | Route | [13] | c | dc | +-------------+-------------+-------------+------------+-------------+ | 52 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 53 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 54 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 55 | Supported | [13] | o | IF | | | | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 56 | Timestamp | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 57 | To | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 58 | User-Agent | [13] | o | do | +-------------+-------------+-------------+------------+-------------+ | 59 | Via | [13] | m | dm | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to PNM in | | | | | | case of | | | | | | (\"PN UE | | | | | | re | | | | | | direction\" | | | | | | OR \"PN | | | | | | access | | | | | | control\") | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc2: | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"override | | | | | | the default | | | | | | setting\" | | | | | | in | | | | | | temporary | | | | | | mode AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI) OR | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"p | | | | | | resentation | | | | | | of the | | | | | | public user | | | | | | identity is | | | | | | r | | | | | | estricted\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.10.2: Supported header fields within the OPTIONS response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 2xx | [13] | m* | dm* | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 2xx | [13] | m* | dm* | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 2xx | [13] | m* | dm* | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 2xx | [13] | m* | dm* | +----------+----------+----------+----------+----------+----------+ | | | 405 | | m | dm | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | | | | +----------+----------+----------+----------+----------+----------+ | 10 | Contact | 2xx | [13] | o | do | | | | | | | | | | | 3xx | | | | | | | | | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Con | r | [13] | o | do | | | tent-Dis | | | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | 13 | Content- | r | [13] | o | do | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Conten | 100 | [13] | t | dt | | | t-Length | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Cont | r | [13] | * | d* | | | ent-Type | | | | | +----------+----------+----------+----------+----------+----------+ | 16 | CSeq | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Date | 100 | [13] | o | do | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 18 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 20 | From | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 21 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 22 | Hist | r | [25] | o | IF | | | ory-Info | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 23 | MIME | r | [13] | o | do | | | -version | | | | | +----------+----------+----------+----------+----------+----------+ | 24 | Orga | r | [13] | o | do | | | nization | | | | | +----------+----------+----------+----------+----------+----------+ | 25 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 26 | P-A | r | [44] | o | IF | | | sserted- | | | | dc1 ( | | | Identity | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/27 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 27 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 28 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | table 6. | | | g-Vector | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 29 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 30 | Privacy | r | [34] | o | IF | | | | | | | dc2 ( | | | | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 31 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 32 | Reco | 2xx | [13] | o | do | | | rd-Route | | | | | +----------+----------+----------+----------+----------+----------+ | 33 | R | 2xx | [39] | n/a | dn/a | | | ecv-Info | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 34 | Require | r | [13] | c | dc | +----------+----------+----------+----------+----------+----------+ | 35 | Ret | 404 | [13] | o | do | | | ry-After | | | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 36 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 37 | Server | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 38 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 39 | S | 2xx | [13] | m* | dm* | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 40 | T | r | [13] | o | do | | | imestamp | | | | | +----------+----------+----------+----------+----------+----------+ | 41 | To | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 42 | Uns | 420 | [13] | m | dm | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 43 | Us | r | [13] | o | do | | | er-Agent | | | | | +----------+----------+----------+----------+----------+----------+ | 44 | Via | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 45 | Warning | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 46 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | (visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | non | | | | | | | -roaming | | | | | | | II-NNI)) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | is | | | | | | | a | | | | | | | llowed\" | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc2: | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | non-100 | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \" | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | s | | | | | | | etting\" | | | | | | | in | | | | | | | t | | | | | | | emporary | | | | | | | mode AND | | | | | | | visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | of the | | | | | | | network | | | | | | | asserted | | | | | | | identity | | | | | | | is | | | | | | | rest | | | | | | | ricted\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI)) | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.11 PRACK method
Table B.11.1: Supported header fields within the PRACK request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept [13], [18] o do 2
Accept-Contact [51] o do 3 Accept-Encoding [13], [18] o do 4 Accept-Language
[13], [18] o do 5 Allow [13], [18] o do 6 Allow-Events [20] o IF table
6.1.3.1/23 THEN do (NOTE) 7 Authorization [13], [18] o IF table 6.1.3.1/7 THEN
do (NOTE) 8 Call-ID [13], [18] m dm 9 Content-Disposition [13], [18] o do 10
Content-Encoding [13], [18] o do 11 Content-Language [13], [18] o do 12
Content-Length [13], [18] t dt 13 Content-Type [13], [18] * d* 14 CSeq [13],
[18] m dm 15 Date [13], [18] o do 16 From [13], [18] m dm 17 Max-Breadth [79]
o do 18 Max-Forwards [13], [18] m dm 19 MIME-Version [13], [18] o do 20
P-Access-Network-Info [24], [24B] o IF table 6.1.3.1/36 THEN do (NOTE) 21
P-Charging-Function-Addresses [24] o dn/a 22 P-Charging-Vector [24] o dn/a 23
P-Early-Media [74] o IF dc1 (CAT: clause 12.14) THEN dm ELSE IF table
6.1.3.1/69 THEN do (NOTE) 24 Privacy [34] o do 25 Proxy-Authorization [13],
[18] o IF table 6.1.3.1/7 THEN do (NOTE) 26 Proxy-Require [13], [18] o do 27
RAck [18] m dm 28 Reason [48] o IF table 6.1.3.1/40 THEN do (NOTE) 29 Record-
Route [13], [18] o do 30 Recv-Info [39] o IF table 6.1.3.1/17 THEN do (NOTE)
31 Referred-By [53] o do 32 Reject-Contact [51] o do 33 Request-Disposition
[51] o do 34 Require [13], [18] c dc 35 Resource-Priority [78] o IF table
6.1.3.1/73 THEN do (NOTE) 36 Route [13], [18] c dc 37 Session-ID [124] m IF
table 6.1.3.1/94 THEN dm (NOTE) 38 Supported [13], [18] o do 39 Timestamp
[13], [18] o do 40 To [13], [18] m dm 41 User-Agent [13], [18] o do 42 Via
[13], [18] m dm dc1: request invoked due to CAT to first 18x response with
P-Early-Media header field cancelling \"CAT service\" provided by terminating
AS AND (non-roaming II-NNI OR loopback traversal scenario OR home-to-visited
request on roaming II-NNI)  
NOTE: If the capability specified in table 6.1.3.1 is not supported over the
II-NNI, the IBCF in the receiving network can omit or modify the SIP header
fields in the received SIP message prior to forwarding the SIP message as
specified in TS 24.229 [5] clause 5.10.6.2.
* * *
Table B.11.2: Supported header fields within the PRACK response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | c | dc | | | | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | c | dc | | | Encoding | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | c | dc | | | Language | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [18] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [18] | | | | | | r | | | | +----------+----------+----------+----------+----------+----------+ | 9 | Contact | 3xx | [13] | o | do | | | | | , [18] | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 10 | Con | r | [13] | o | do | | | tent-Dis | | , [18] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Content- | r | [13] | o | do | | | Encoding | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Language | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Conten | 100 | [13] | t | dt | | | t-Length | | , [18] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Cont | r | [13] | * | d* | | | ent-Type | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 15 | CSeq | 100 | [13] | m | dm | | | | | , [18] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 16 | Date | 100 | [13] | o | do | | | | | , [18] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [18] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 18 | From | 100 | [13] | m | dm | | | | | , [18] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 19 | MIME | r | [13] | o | do | | | -version | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 20 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 21 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 22 | P | r | [24], | o | dn/a | | | -Chargin | | [24A] | | | | | g-Vector | | | | | +----------+----------+----------+----------+----------+----------+ | 23 | P-Ear | 2xx | [74] | o | IF | | | ly-Media | | | | table 6. | | | | | | | 1.3.1/69 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | | | others | | n/a | dn/a | +----------+----------+----------+----------+----------+----------+ | 24 | Privacy | r | [34] | o | do | +----------+----------+----------+----------+----------+----------+ | 25 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [18] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 26 | Reco | 2xx | [13] | o | do | | | rd-Route | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 27 | R | 2xx | [39] | c | IF | | | ecv-Info | | | | table 6. | | | | | | | 1.3.1/17 | | | | | | | THEN dc | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | | | others | | o | IF | | | | | | | table 6. | | | | | | | 1.3.1/17 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 28 | Require | r | [13] | c | dc | | | | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 29 | Ret | 404 | [13] | o | do | | | ry-After | | , [18] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 30 | Securit | 421 | [47] | n/a | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 31 | Server | r | [13] | o | do | | | | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 32 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 33 | S | 2xx | [13] | o | do | | | upported | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 34 | T | r | [13] | o | do | | | imestamp | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 35 | To | 100 | [13] | m | dm | | | | | , [18] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 36 | Uns | 420 | [13] | m | dm | | | upported | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 37 | Us | r | [13] | o | do | | | er-Agent | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 38 | Via | 100 | [13] | m | dm | | | | | , [18] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 39 | Warning | r | [13] | o | do | | | | | , [18] | | | +----------+----------+----------+----------+----------+----------+ | 40 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [18] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.12 PUBLISH method
As described in table 6.1, the support of PUBLISH method over the non-roaming
II-NNI is based on bilateral agreement between the operators.
Table B.12.1: Supported header fields within the PUBLISH request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Acc | [51] | o | IF | | | ept-Contact | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 2 | Allow | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 3 | A | [20] | o | IF | | | llow-Events | | | table | | | | | | 6.1.3.1/23 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 4 | Au | [1 | o | IF | | | thorization | 3], [21] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 5 | Call-ID | [1 | m | dm | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 6 | Call-Info | [1 | o | IF | | | | 3], [21] | | dc2 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 7 | Contact | [1 | n/a | dn/a | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 8 | Content- | [1 | o | do | | | Disposition | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 9 | Conte | [1 | o | do | | | nt-Encoding | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 10 | Conte | [1 | o | do | | | nt-Language | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 11 | Con | [1 | t | dt | | | tent-Length | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 12 | C | [1 | * | d* | | | ontent-Type | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 13 | CSeq | [1 | m | dm | | | | 3], [12] | | | +-------------+-------------+-------------+------------+-------------+ | 14 | Date | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 15 | Event | [20] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 16 | Expires | [1 | o | IF | | | | 3], [21] | | dc2 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 17 | F | [143] | o | IF | | | eature-Caps | | | table | | | | | | 6.1.3.1/103 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do | +-------------+-------------+-------------+------------+-------------+ | 18 | From | [1 | m | dm | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 19 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 20 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 21 | H | [25] | o | IF | | | istory-Info | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/50 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 22 | In-Reply-To | [1 | n/a | dn/a | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 23 | Max-Breadth | [79] | o | do | +-------------+-------------+-------------+------------+-------------+ | 24 | M | [1 | m | dm | | | ax-Forwards | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 25 | M | [1 | o | do | | | IME-Version | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 26 | O | [1 | o | do | | | rganization | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 27 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 28 | P-Assert | [44] | o | IF | | | ed-Identity | | | dc2 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | OR | | | | | | table | | | | | | 6.1.3.1/27 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | dm (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 29 | P-Asser | [26] | o | IF | | | ted-Service | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 30 | P-Call | [24] | o | IF | | | ed-Party-ID | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/34 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 31 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 32 | P-Char | [24] | o | IF | | | ging-Vector | | | table | | | | | | 6.1.3.1/38 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 33 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 34 | P-Prefer | [26] | o | IF | | | red-Service | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 35 | P-Priv | [84] | o | IF | | | ate-Network | | | table | | | -Indication | | | 6.1.3.1/80 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 36 | P- | [64] | o | IF | | | Profile-Key | | | table | | | | | | 6.1.3.1/59 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 37 | P- | [85] | o | IF | | | Served-User | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | being sent | | | | | | from | | | | | | \" | | | | | | priviledged | | | | | | sender\" | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 38 | P-Us | [60] | o | dn/a | | | er-Database | | | | +-------------+-------------+-------------+------------+-------------+ | 39 | P-Visited | [24] | o | dn/a | | | -Network-ID | | | | +-------------+-------------+-------------+------------+-------------+ | 40 | Priority | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 41 | Privacy | [34] | o | IF | | | | | | dc | | | | | | 3 (OIP/OIR: | | | | | | c | | | | | | lause 12.3) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 42 | Proxy-Au | [1 | o | IF | | | thorization | 3], [21] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 43 | Pr | [1 | o | do | | | oxy-Require | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 44 | Reason | [48] | o | IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | AND request | | | | | | inside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 45 | Referred-By | [53] | o | do | +-------------+-------------+-------------+------------+-------------+ | 46 | Rej | [39] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 47 | Reply-To | [1 | n/a | dn/a | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 48 | Request- | [54] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 49 | Require | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 50 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 51 | Route | [1 | c | dc | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 52 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 53 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 54 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 55 | S | [21] | o | do | | | IP-If-Match | | | | +-------------+-------------+-------------+------------+-------------+ | 56 | Subject | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 57 | Supported | [1 | o | IF | | | | 3], [21] | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 58 | Timestamp | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 59 | To | [1 | m | dm | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 60 | User-Agent | [1 | o | do | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | 61 | Via | [1 | m | dm | | | | 3], [21] | | | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to PNM in | | | | | | case of | | | | | | (\"PN UE | | | | | | re | | | | | | direction\" | | | | | | OR \"PN | | | | | | access | | | | | | control\") | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc2: | | | | | | (request | | | | | | inside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to | | | | | | CCB | | | | | | S/CCNR/CCNL | | | | | | suspending | | | | | | the \"CC | | | | | | request\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario) | | | | | | OR (request | | | | | | inside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to | | | | | | CCB | | | | | | S/CCNR/CCNL | | | | | | resuming | | | | | | the \"CC | | | | | | request\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario)) | | | | | | | | | | | | dc3: | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"override | | | | | | the default | | | | | | setting\" | | | | | | in | | | | | | temporary | | | | | | mode AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI) OR | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"p | | | | | | resentation | | | | | | of the | | | | | | public user | | | | | | identity is | | | | | | r | | | | | | estricted\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.12.2: Supported header fields within the PUBLISH response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | m* | dm* | | | | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | m* | dm* | | | Encoding | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | m* | dm* | | | Language | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 200 | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | | | 489 | | m | dm | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [21] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 10 | Contact | 3xx | [13] | o | do | | | | | , [21] | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Con | r | [13] | o | do | | | tent-Dis | | , [21] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Encoding | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Content- | r | [13] | o | do | | | Language | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 14 | Conten | 100 | [13] | t | dt | | | t-Length | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Cont | r | [13] | * | d* | | | ent-Type | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 16 | CSeq | 100 | [13] | m | dm | | | | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Date | 100 | [13] | o | do | | | | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 18 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [21] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | Expires | 2xx | [13] | m | dm | | | | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 20 | Feat | 200 | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | +----------+----------+----------+----------+----------+----------+ | 21 | From | 100 | [13] | m | dm | | | | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 22 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 23 | Hist | r | [25] | o | IF | | | ory-Info | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 24 | MIME | r | [13] | o | do | | | -version | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 25 | Min | 423 | [13] | m | dm | | | -Expires | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 26 | Orga | r | [13] | o | do | | | nization | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 27 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 28 | P-A | r | [44] | o | IF | | | sserted- | | | | dc1 ( | | | Identity | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/27 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 29 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 30 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | table 6. | | | g-Vector | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 31 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 32 | Privacy | r | [34] | o | IF | | | | | | | dc2 ( | | | | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 33 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [21] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 34 | Require | r | [13] | o | do | | | | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 35 | Ret | 404 | [13] | o | do | | | ry-After | | , [21] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 36 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 37 | Server | r | [13] | o | do | | | | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 38 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 39 | SIP-Etag | 2xx | [21] | m | dm | +----------+----------+----------+----------+----------+----------+ | 40 | S | 2xx | [13] | o | do | | | upported | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 41 | T | r | [13] | o | do | | | imestamp | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 42 | To | 100 | [13] | m | dm | | | | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 43 | Uns | 420 | [13] | o | do | | | upported | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 44 | Us | r | [13] | o | do | | | er-Agent | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 45 | Via | 100 | [13] | m | dm | | | | | , [21] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 46 | Warning | r | [13] | o | do | | | | | , [21] | | | +----------+----------+----------+----------+----------+----------+ | 47 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [21] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | (visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | non | | | | | | | -roaming | | | | | | | II-NNI)) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | is | | | | | | | a | | | | | | | llowed\" | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc2: | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | non-100 | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \" | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | s | | | | | | | etting\" | | | | | | | in | | | | | | | t | | | | | | | emporary | | | | | | | mode AND | | | | | | | visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | of the | | | | | | | network | | | | | | | asserted | | | | | | | identity | | | | | | | is | | | | | | | rest | | | | | | | ricted\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI)) | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.13 REFER method
As described in table 6.1, the support of REFER method over the II-NNI is
based on bilateral agreement between the operators.
Table B.13.1: Supported header fields within the REFER request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Accept | [1 | o | do | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 2 | Acc | [51] | o | IF | | | ept-Contact | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 3 | Acce | [1 | o | do | | | pt-Encoding | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 4 | Acce | [1 | o | do | | | pt-Language | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 5 | Allow | [1 | o | do | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 6 | A | [20] | o | IF | | | llow-Events | | | table | | | | | | 6.1.3.1/23 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 7 | Au | [1 | o | IF | | | thorization | 3], [22] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 8 | Call-ID | [1 | m | dm | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 9 | Contact | [1 | m | dm | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 10 | Content- | [1 | o | do | | | Disposition | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 11 | Conte | [1 | o | do | | | nt-Encoding | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 12 | Conte | [1 | o | do | | | nt-Language | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 13 | Con | [1 | o | do | | | tent-Length | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 14 | C | [1 | * | d* | | | ontent-Type | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 15 | CSeq | [1 | m | dm | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 16 | Date | [1 | o | do | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 17 | Expires | [1 | o | do | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 18 | F | [143] | o | IF | | | eature-Caps | | | table | | | | | | 6.1.3.1/103 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 19 | From | [1 | m | dm | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 20 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 21 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 22 | H | [25] | o | IF | | | istory-Info | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/50 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 23 | Max-Breadth | [79] | o | do | +-------------+-------------+-------------+------------+-------------+ | 24 | M | [1 | m | dm | | | ax-Forwards | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 25 | M | [1 | o | do | | | IME-Version | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 26 | O | [1 | o | do | | | rganization | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 27 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 28 | P-Assert | [44] | o | IF | | | ed-Identity | | | table | | | | | | 6.1.3.1/27 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | dm (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 29 | P-Asser | [26] | o | IF | | | ted-Service | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 30 | P-Call | [24 | o | IF | | | ed-Party-ID | ], [24A] | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/34 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 31 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 32 | P-Char | [24] | o | IF | | | ging-Vector | | | table | | | | | | 6.1.3.1/38 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 33 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 34 | P-Prefer | [26] | o | IF | | | red-Service | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 35 | P-Priv | [84] | o | IF | | | ate-Network | | | table | | | -Indication | | | 6.1.3.1/80 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 36 | P- | [64] | o | IF | | | Profile-Key | | | table | | | | | | 6.1.3.1/59 | | | | | | AND request | | | | | | outside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 37 | P- | [85] | o | IF | | | Served-User | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | being sent | | | | | | from | | | | | | \" | | | | | | priviledged | | | | | | sender\" | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 38 | P-Us | [60] | o | dn/a | | | er-Database | | | | +-------------+-------------+-------------+------------+-------------+ | 39 | P-Visited | [24] | o | dn/a | | | -Network-ID | | | | +-------------+-------------+-------------+------------+-------------+ | 40 | Privacy | [34] | o | IF | | | | | | dc | | | | | | 2 (OIP/OIR: | | | | | | c | | | | | | lause 12.3) | | | | | | OR | | | | | | dc3 (ECT: | | | | | | cl | | | | | | ause 12.13) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 41 | Proxy-Au | [1 | o | IF | | | thorization | 3], [22] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 42 | Pr | [1 | o | do | | | oxy-Require | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 43 | Reason | [48] | o | IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | AND request | | | | | | inside an | | | | | | existing | | | | | | dialog THEN | | | | | | do (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 44 | R | [1 | o | do | | | ecord-Route | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 45 | Refer-Sub | [135] | o | do | +-------------+-------------+-------------+------------+-------------+ | 46 | Refer-To | [22] | dm | dm | +-------------+-------------+-------------+------------+-------------+ | 47 | Referred-By | [53] | o | IF | | | | | | dc4 (ECT: | | | | | | cl | | | | | | ause 12.13) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 48 | Rej | [51] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 49 | Request- | [51] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 50 | Require | [1 | c | dc | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 51 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 52 | Route | [1 | c | dc | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 53 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 54 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 55 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 56 | Supported | [1 | o | IF | | | | 3], [22] | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 57 | Ta | [140] | o | IF | | | rget-Dialog | | | table | | | | | | 6.1.3.1/102 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 58 | Timestamp | [1 | o | do | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 59 | To | [1 | m | dm | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 60 | Trig | [82] | o | IF | | | ger-Consent | | | table | | | | | | 6.1.3.1/78 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 61 | User-Agent | [1 | o | do | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | 62 | Via | [1 | m | dm | | | | 3], [22] | | | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to PNM in | | | | | | case of | | | | | | (\"PN UE | | | | | | re | | | | | | direction\" | | | | | | OR \"PN | | | | | | access | | | | | | control\") | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc2: | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"override | | | | | | the default | | | | | | setting\" | | | | | | in | | | | | | temporary | | | | | | mode AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI) OR | | | | | | (request | | | | | | outside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"p | | | | | | resentation | | | | | | of the | | | | | | public user | | | | | | identity is | | | | | | r | | | | | | estricted\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | | | | | | | | dc3: | | | | | | request | | | | | | inside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to ECT | | | | | | including | | | | | | Referred-By | | | | | | header | | | | | | field with | | | | | | privacy | | | | | | requested | | | | | | in the | | | | | | \"original | | | | | | comm | | | | | | unication\" | | | | | | | | | | | | dc4: | | | | | | request | | | | | | inside an | | | | | | existing | | | | | | dialog | | | | | | invoked due | | | | | | to ECT AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | loopback | | | | | | traversal | | | | | | scenario OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.13.2: Supported header fields within the REFER response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | c | dc | | | | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | c | dc | | | Encoding | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | c | dc | | | Language | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [22] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | Contact | 2xx | [13] | m | dm | | | | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | | | 3xx-6xx | | o | do | +----------+----------+----------+----------+----------+----------+ | 10 | Con | r | [13] | o | do | | | tent-Dis | | , [22] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Content- | r | [13] | o | do | | | Encoding | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Language | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Conten | 100 | [13] | t | dt | | | t-Length | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Cont | r | [13] | * | d* | | | ent-Type | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 15 | CSeq | 100 | [13] | m | dm | | | | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 16 | Date | 100 | [13] | o | do | | | | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [22] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 18 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | From | 100 | [13] | m | dm | | | | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 20 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 21 | Hist | r | [25] | o | IF | | | ory-Info | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 22 | MIME | r | [13] | o | do | | | -version | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 23 | Orga | r | [13] | o | do | | | nization | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 24 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 25 | P-A | r | [44] | o | IF | | | sserted- | | | | dc1 ( | | | Identity | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/27 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 26 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 27 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | dc | | | g-Vector | | | | 2 (CONF: | | | | | | | claus | | | | | | | e 12.19) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 28 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 29 | Pe | 470 | [82] | o | IF | | | rmission | | | | table 6. | | | -Missing | | | | 1.3.1/78 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 30 | Privacy | r | [34] | o | IF | | | | | | | dc3 ( | | | | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 31 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [22] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 32 | Reco | 2xx | [13] | o | do | | | rd-Route | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 33 | R | 2xx | [135] | o | IF | | | efer-Sub | | | | table 6. | | | | | | | 1.3.1/98 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 34 | Require | r | [13] | c | dc | | | | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 35 | Ret | 404 | [13] | o | do | | | ry-After | | , [22] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 36 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 37 | Server | r | [13] | o | do | | | | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 38 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 39 | S | 2xx | [13] | o | do | | | upported | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 40 | T | r | [13] | o | do | | | imestamp | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 41 | To | 100 | [13] | m | dm | | | | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 42 | Uns | 420 | [13] | o | do | | | upported | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 43 | Us | r | [13] | o | do | | | er-Agent | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 44 | Via | 100 | [13] | m | dm | | | | | , [22] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 45 | Warning | r | [13] | o | do | | | | | , [22] | | | +----------+----------+----------+----------+----------+----------+ | 46 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [22] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | (visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | non | | | | | | | -roaming | | | | | | | II-NNI)) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | is | | | | | | | a | | | | | | | llowed\" | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc2: | | | | | | | first | | | | | | | response | | | | | | | from | | | | | | | \"co | | | | | | | nference | | | | | | | focus\" | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc3: | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | non-100 | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \" | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | s | | | | | | | etting\" | | | | | | | in | | | | | | | t | | | | | | | emporary | | | | | | | mode AND | | | | | | | visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | request | | | | | | | outside | | | | | | | an | | | | | | | existing | | | | | | | dialog | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | of the | | | | | | | network | | | | | | | asserted | | | | | | | identity | | | | | | | is | | | | | | | rest | | | | | | | ricted\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI)) | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.14 REGISTER method
As described in table 6.1, the REGISTER method is supported only over the
roaming II-NNI.
Table B.14.1: Supported header fields within the REGISTER request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept [13] o do 2
Accept-Encoding [13] o do 3 Accept-Language [13] o do 4 Allow [13] o do 5
Allow-Events [20] o IF table 6.1.3.1/23 THEN do (NOTE) 6 Authorization [13] o
IF using IMS AKA OR using SIP digest THEN dm ELSE do 7 Call-ID [13] m dm 8
Call-Info [13] o do 9 Contact [13] o dm 10 Content-Disposition [13] o do 11
Content-Encoding [13] o do 12 Content-Language [13] o do 13 Content-Length
[13] t dt 14 Content-Type [13] * d* 15 CSeq [13] m dm 16 Date [13] o do 17
Expires [13] o do 18 Feature-Caps [143] o IF table 6.1.3.1/103 THEN do (NOTE)
19 From [13] m dm 20 Geolocation [68] o do 21 Geolocation-Routing [68] o do 22
History-Info [25] o IF table 6.1.3.1/50 THEN do (NOTE) 23 Max-Breadth [79] o
do 24 Max-Forwards [13] m dm 25 MIME-Version [13] o do 26 Organization [13] o
do 27 P-Access-Network-Info [24], [24B] o IF table 6.1.3.1/36 THEN do (NOTE)
28 P-Charging-Function-Addresses [24] o dn/a 29 P-Charging-Vector [24] o dm 30
P-User-Database [60] o dn/a 31 P-Visited-Network-ID [24] o dm 32 Path [43] o
dm 33 Privacy [34] o dn/a 34 Proxy-Authorization [13] o do 35 Proxy-Require
[13] o do 36 Reason [48] o IF table 6.1.3.1/40 THEN do (NOTE) 37 Recv-Info
[39] o IF table 6.1.3.1/17 THEN do (NOTE) 38 Referred-By [53] o do 39 Request-
Disposition [51] o do 40 Require [13] c dm 41 Resource-Priority [78] o IF
table 6.1.3.1/73 THEN do (NOTE) 42 Route [13] c dc 43 Security-Client [47] o
dn/a 44 Security-Verify [47] o dn/a 45 Session-ID [124] m IF table 6.1.3.1/94
THEN dm (NOTE) 46 Supported [13] o dm 47 Timestamp [13] o do 48 To [13] m dm
49 User-Agent [13] o do 50 Via [13] m dm NOTE: If the capability specified in
table 6.1.3.1 is not supported over the II-NNI, the IBCF in the receiving
network can omit or modify the SIP header fields in the received SIP message
prior to forwarding the SIP message as specified in TS 24.229 [5] clause
5.10.6.2.
* * *
Table B.14.2: Supported header fields within the REGISTER response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 2xx | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 2xx | [13] | o | do | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 2xx | [13] | o | do | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | IF | | | w-Events | | | | table 6. | | | | | | | 1.3.1/23 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | do | | | henticat | | | | | | | ion-Info | | | | | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | | | | +----------+----------+----------+----------+----------+----------+ | 10 | Contact | 2xx | [13] | o | dm | +----------+----------+----------+----------+----------+----------+ | | | 3xx | | o | do | | | | | | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | Con | r | [13] | o | do | | | tent-Dis | | | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Encoding | | | | | +----------+----------+----------+----------+----------+----------+ | 13 | Content- | r | [13] | o | do | | | Language | | | | | +----------+----------+----------+----------+----------+----------+ | 14 | Conten | 100 | [13] | t | dt | | | t-Length | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Cont | r | [13] | * | d* | | | ent-Type | | | | | +----------+----------+----------+----------+----------+----------+ | 16 | CSeq | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Date | 100 | [13] | o | do | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 18 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 19 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 20 | Fl | 2xx | [65] | o | do | | | ow-Timer | | | | | +----------+----------+----------+----------+----------+----------+ | 21 | From | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 22 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 23 | Hist | r | [25] | o | IF | | | ory-Info | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 24 | MIME | r | [13] | o | do | | | -version | | | | | +----------+----------+----------+----------+----------+----------+ | 25 | Min | 423 | [13] | m | dm | | | -Expires | | | | | +----------+----------+----------+----------+----------+----------+ | 26 | Orga | r | [13] | o | do | | | nization | | | | | +----------+----------+----------+----------+----------+----------+ | 27 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 28 | P-Associ | 2xx | [24] | o | dm | | | ated-URI | | | | | +----------+----------+----------+----------+----------+----------+ | 29 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 30 | P | r | [24], | o | dm | | | -Chargin | | [24A] | | | | | g-Vector | | | | | +----------+----------+----------+----------+----------+----------+ | 31 | Path | 2xx | [43] | o | dm | +----------+----------+----------+----------+----------+----------+ | 32 | Privacy | r | [34] | o | do | +----------+----------+----------+----------+----------+----------+ | 33 | Pr | 401 | [13] | o | do | | | oxy-Auth | | | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | +----------+----------+----------+----------+----------+----------+ | 34 | Require | r | [13] | c | dc | +----------+----------+----------+----------+----------+----------+ | 35 | Ret | 404 | [13] | o | do | | | ry-After | | | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 36 | Securit | 2xx | [47] | n/a | dn/a | | | y-Server | | | | | | | | 401 | | | | +----------+----------+----------+----------+----------+----------+ | | | 421 | | o | dn/a | | | | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 37 | Server | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 38 | Servi | 2xx | [45] | o | dm | | | ce-Route | | | | | +----------+----------+----------+----------+----------+----------+ | 39 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE) | +----------+----------+----------+----------+----------+----------+ | 40 | S | 2xx | [13] | o | do | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 41 | T | r | [13] | o | do | | | imestamp | | | | | +----------+----------+----------+----------+----------+----------+ | 42 | To | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 43 | Uns | 420 | [13] | m | dm | | | upported | | | | | +----------+----------+----------+----------+----------+----------+ | 44 | Us | r | [13] | o | do | | | er-Agent | | | | | +----------+----------+----------+----------+----------+----------+ | 45 | Via | 100 | [13] | m | dm | | | | | | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 46 | Warning | r | [13] | o | do | +----------+----------+----------+----------+----------+----------+ | 47 | WWW-Auth | 401 | [13] | m | dm | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | +----------+----------+----------+----------+----------+----------+ | NOTE: If | | | | | | | the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.15 SUBSCRIBE method
As described in table 6.1, the support of SUBSCRIBE method over the non-
roaming II-NNI is based on bilateral agreement between the operators.
Table B.15.1: Supported header fields within the SUBSCRIBE request
+-------------+-------------+-------------+------------+-------------+ | Item | Header | Ref. | RFC status | II-NNI | | | field | | | condition | +-------------+-------------+-------------+------------+-------------+ | 1 | Accept | [1 | o | do | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 2 | Acc | [51] | o | IF | | | ept-Contact | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 3 | Acce | [1 | o | do | | | pt-Encoding | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 4 | Acce | [1 | o | do | | | pt-Language | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 5 | Allow | [1 | o | do | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 6 | A | [20] | o | do | | | llow-Events | | | | +-------------+-------------+-------------+------------+-------------+ | 7 | Au | [1 | o | IF | | | thorization | 3], [20] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 8 | Call-ID | [1 | m | dm | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 9 | Call-Info | [1 | o | IF | | | | 3], [20] | | dc2 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | THEN dm | | | | | | ELSE dn/a | +-------------+-------------+-------------+------------+-------------+ | 10 | Contact | [1 | m | dm | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 11 | Content- | [1 | o | do | | | Disposition | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 12 | Conte | [1 | o | do | | | nt-Encoding | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 13 | Conte | [1 | o | do | | | nt-Language | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 14 | Con | [1 | t | dt | | | tent-Length | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 15 | C | [1 | * | d* | | | ontent-Type | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 16 | CSeq | [1 | m | dm | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 17 | Date | [1 | o | do | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 18 | Event | [20] | m | dm | +-------------+-------------+-------------+------------+-------------+ | 19 | Expires | [1 | o | IF | | | | 3], [20] | | dc2 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | OR using | | | | | | reg event | | | | | | package | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 20 | F | [143] | o | IF | | | eature-Caps | | | table | | | | | | 6.1.3.1/103 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 21 | From | [1 | m | dm | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 22 | Geolocation | [68] | o | do | +-------------+-------------+-------------+------------+-------------+ | 23 | Geolocat | [68] | o | do | | | ion-Routing | | | | +-------------+-------------+-------------+------------+-------------+ | 24 | H | [25] | o | IF | | | istory-Info | | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE IF | | | | | | table | | | | | | 6.1.3.1/50 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 25 | Max-Breadth | [79] | o | dn/a | +-------------+-------------+-------------+------------+-------------+ | 26 | M | [1 | m | dm | | | ax-Forwards | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 27 | M | [1 | o | do | | | IME-Version | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 28 | O | [1 | o | do | | | rganization | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 29 | P-Access-N | [24 | o | IF | | | etwork-Info | ], [24B] | | table | | | | | | 6.1.3.1/36 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 30 | P-Assert | [44] | o | IF | | | ed-Identity | | | dc2 (CCBS | | | | | | /CCNR/CCNL: | | | | | | cla | | | | | | use 12.11/1 | | | | | | 2.12/12.23) | | | | | | OR | | | | | | table | | | | | | 6.1.3.1/27 | | | | | | AND initial | | | | | | request | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 31 | P-Asser | [26] | o | IF | | | ted-Service | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 32 | P-Call | [24] | o | IF | | | ed-Party-ID | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/34 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 33 | P-Charg | [24] | o | dn/a | | | ing-Functio | | | | | | n-Addresses | | | | +-------------+-------------+-------------+------------+-------------+ | 34 | P-Char | [24] | o | IF | | | ging-Vector | | | table | | | | | | 6.1.3.1/38 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 35 | P-Preferr | [44] | o | dn/a | | | ed-Identity | | | | +-------------+-------------+-------------+------------+-------------+ | 36 | P-Prefer | [26] | o | IF | | | red-Service | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | table | | | | | | 6.1.3.1/77 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 37 | P-Priv | [84] | o | IF | | | ate-Network | | | table | | | -Indication | | | 6.1.3.1/80 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 38 | P- | [64] | o | IF | | | Profile-Key | | | table | | | | | | 6.1.3.1/59 | | | | | | AND initial | | | | | | request | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 39 | P- | [85] | o | IF | | | Served-User | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI AND | | | | | | initial | | | | | | request | | | | | | being sent | | | | | | from | | | | | | \" | | | | | | priviledged | | | | | | sender\" | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 40 | P-Us | [60] | o | dn/a | | | er-Database | | | | +-------------+-------------+-------------+------------+-------------+ | 41 | P-Visited | [24] | o | dn/a | | | -Network-ID | | | | +-------------+-------------+-------------+------------+-------------+ | 42 | Privacy | [34] | o | IF | | | | | | dc | | | | | | 3 (OIP/OIR: | | | | | | c | | | | | | lause 12.3) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 43 | Proxy-Au | [1 | o | IF | | | thorization | 3], [20] | | tabl | | | | | | e 6.1.3.1/7 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 44 | Pr | [1 | o | do | | | oxy-Require | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 45 | Reason | [48] | o | IF | | | | | | table | | | | | | 6.1.3.1/40 | | | | | | AND | | | | | | subsequent | | | | | | request | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 46 | R | [1 | o | do | | | ecord-Route | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 47 | Referred-By | [53] | o | do | +-------------+-------------+-------------+------------+-------------+ | 48 | Rej | [51] | o | do | | | ect-Contact | | | | +-------------+-------------+-------------+------------+-------------+ | 49 | Request- | [51] | o | do | | | Disposition | | | | +-------------+-------------+-------------+------------+-------------+ | 50 | Require | [1 | o | do | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 51 | Resour | [78] | o | IF | | | ce-Priority | | | table | | | | | | 6.1.3.1/73 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 52 | Route | [1 | c | dc | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 53 | Secu | [47] | o | dn/a | | | rity-Client | | | | +-------------+-------------+-------------+------------+-------------+ | 54 | Secu | [47] | o | dn/a | | | rity-Verify | | | | +-------------+-------------+-------------+------------+-------------+ | 55 | Session-ID | [124] | m | IF | | | | | | table | | | | | | 6.1.3.1/94 | | | | | | THEN dm | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 56 | Supported | [1 | o | IF | | | | 3], [20] | | dc1 (PNM: | | | | | | cl | | | | | | ause 12.17) | | | | | | THEN dm | | | | | | ELSE do | +-------------+-------------+-------------+------------+-------------+ | 57 | Ta | [140] | o | IF | | | rget-Dialog | | | table | | | | | | 6.1.3.1/102 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 58 | Timestamp | [1 | o | do | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 59 | To | [1 | m | dm | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 60 | Trig | [82] | o | IF | | | ger-Consent | | | table | | | | | | 6.1.3.1/78 | | | | | | THEN do | | | | | | (NOTE) | +-------------+-------------+-------------+------------+-------------+ | 61 | User-Agent | [1 | o | do | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | 62 | Via | [1 | m | dm | | | | 3], [20] | | | +-------------+-------------+-------------+------------+-------------+ | dc1: | | | | | | initial | | | | | | request | | | | | | invoked due | | | | | | to PNM in | | | | | | case of | | | | | | (\"PN UE | | | | | | re | | | | | | direction\" | | | | | | OR \"PN | | | | | | access | | | | | | control\") | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI) | | | | | | | | | | | | dc2: (\"CC | | | | | | invocation | | | | | | request\" | | | | | | due to | | | | | | CCB | | | | | | S/CCNR/CCNL | | | | | | AND | | | | | | non-roaming | | | | | | II-NNI) OR | | | | | | (\"CC | | | | | | revocation | | | | | | request\" | | | | | | due to | | | | | | CCB | | | | | | S/CCNR/CCNL | | | | | | AND | | | | | | non-roaming | | | | | | II-NNI) | | | | | | | | | | | | dc3: | | | | | | (initial | | | | | | request | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"override | | | | | | the default | | | | | | setting\" | | | | | | in | | | | | | temporary | | | | | | mode AND | | | | | | visi | | | | | | ted-to-home | | | | | | request on | | | | | | roaming | | | | | | II-NNI) OR | | | | | | (initial | | | | | | request | | | | | | invoked due | | | | | | to OIP/OIR | | | | | | AND | | | | | | \"p | | | | | | resentation | | | | | | of the | | | | | | public user | | | | | | identity is | | | | | | r | | | | | | estricted\" | | | | | | AND | | | | | | ( | | | | | | non-roaming | | | | | | II-NNI OR | | | | | | home | | | | | | -to-visited | | | | | | request on | | | | | | roaming | | | | | | II-NNI)) | | | | | +-------------+-------------+-------------+------------+-------------+ | NOTE: If | | | | | | the | | | | | | capability | | | | | | specified | | | | | | in | | | | | | ta | | | | | | ble 6.1.3.1 | | | | | | is not | | | | | | supported | | | | | | over the | | | | | | II-NNI, the | | | | | | IBCF in the | | | | | | receiving | | | | | | network can | | | | | | omit or | | | | | | modify the | | | | | | SIP header | | | | | | fields in | | | | | | the | | | | | | received | | | | | | SIP message | | | | | | prior to | | | | | | forwarding | | | | | | the SIP | | | | | | message as | | | | | | specified | | | | | | in | | | | | | TS 2 | | | | | | 4.229 [5] | | | | | | claus | | | | | | e 5.10.6.2. | | | | | +-------------+-------------+-------------+------------+-------------+
Table B.15.2: Supported header fields within the SUBSCRIBE response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 415 | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 415 | [13] | o | do | | | Encoding | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 415 | [13] | o | do | | | Language | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | o | do | | | w-Events | | | | | +----------+----------+----------+----------+----------+----------+ | | | 489 | | m | dm | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [20] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [20] | | | | | | r | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 10 | Contact | 2xx | [13] | m | dm | | | | | , [20] | | | | | | 3xx | | | | +----------+----------+----------+----------+----------+----------+ | | | 485 | | o | do | +----------+----------+----------+----------+----------+----------+ | 11 | Con | r | [13] | o | do | | | tent-Dis | | , [20] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Encoding | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Content- | r | [13] | o | do | | | Language | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 14 | Conten | 100 | [13] | t | dt | | | t-Length | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Cont | r | [13] | * | d* | | | ent-Type | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 16 | CSeq | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Date | 100 | [13] | o | do | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 18 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [20] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | Expires | 2xx | [13] | m | dm | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 20 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 21 | From | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 22 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 23 | Hist | r | [25] | o | IF | | | ory-Info | | | | table 6. | | | | | | | 1.3.1/50 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 24 | MIME | r | [13] | o | do | | | -version | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 25 | Min | 423 | [13] | m | dm | | | -Expires | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 26 | Orga | r | [13] | o | do | | | nization | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 27 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 28 | P-A | r | [44] | o | IF | | | sserted- | | | | dc1 ( | | | Identity | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE IF | | | | | | | table 6. | | | | | | | 1.3.1/27 | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 29 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 30 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | table 6. | | | g-Vector | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 31 | P-Pr | r | [44] | o | dn/a | | | eferred- | | | | | | | Identity | | | | | +----------+----------+----------+----------+----------+----------+ | 32 | Pe | 470 | [82] | o | IF | | | rmission | | | | table 6. | | | -Missing | | | | 1.3.1/78 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 33 | Privacy | r | [34] | o | IF | | | | | | | dc2 ( | | | | | | | TIP/TIR: | | | | | | | clau | | | | | | | se 12.4) | | | | | | | THEN dm | | | | | | | ELSE do | +----------+----------+----------+----------+----------+----------+ | 34 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [20] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 35 | Reco | 2xx | [13] | o | do | | | rd-Route | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 36 | Require | r | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 37 | Ret | 404 | [13] | o | do | | | ry-After | | , [20] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 38 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 39 | Server | 415 | [13] | o | do | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 40 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 41 | S | 2xx | [13] | o | do | | | upported | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 42 | T | r | [13] | o | do | | | imestamp | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 43 | To | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 44 | Uns | 420 | [13] | o | do | | | upported | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 45 | Us | r | [13] | o | do | | | er-Agent | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 46 | Via | 100 | [13] | m | dm | | | | | , [20] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 47 | Warning | r | [13] | o | do | | | | | , [20] | | | +----------+----------+----------+----------+----------+----------+ | 48 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [20] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | dc1: | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | (visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | non | | | | | | | -roaming | | | | | | | II-NNI)) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | is | | | | | | | a | | | | | | | llowed\" | | | | | | | AND | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | | | | | | | | dc2: | | | | | | | (TIP/TIR | | | | | | | AND | | | | | | | non-100 | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | \" | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | s | | | | | | | etting\" | | | | | | | in | | | | | | | t | | | | | | | emporary | | | | | | | mode AND | | | | | | | visited | | | | | | | -to-home | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI) | | | | | | | OR | | | | | | | (TIP/TIR | | | | | | | AND 2xx | | | | | | | response | | | | | | | to | | | | | | | initial | | | | | | | request | | | | | | | AND | | | | | | | \"pres | | | | | | | entation | | | | | | | of the | | | | | | | network | | | | | | | asserted | | | | | | | identity | | | | | | | is | | | | | | | rest | | | | | | | ricted\" | | | | | | | AND | | | | | | | (non | | | | | | | -roaming | | | | | | | II-NNI | | | | | | | OR | | | | | | | home-to | | | | | | | -visited | | | | | | | response | | | | | | | on | | | | | | | roaming | | | | | | | II-NNI)) | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
## B.16 UPDATE method
Table B.16.1: Supported header fields within the UPDATE request
* * *
Item Header field Ref. RFC status II-NNI condition 1 Accept [13], [23] o do 2
Accept-Contact [51] o do 3 Accept-Encoding [13], [23] o do 4 Accept-Language
[13], [23] o do 5 Allow [13], [23] o do 6 Allow-Events [20] n/a dn/a 7
Authorization [13], [23] o IF table 6.1.3.1/7 THEN do (NOTE) 8 Call-ID [13],
[23] m dm 9 Call-Info [13], [23] o do 10 Contact [13], [23] m dm 11 Content-
Disposition [13], [23] o do 12 Content-Encoding [13], [23] o do 13 Content-
Language [13], [23] o do 14 Content-Length [13], [23] t dt 15 Content-Type
[13], [23] * d* 16 CSeq [13], [23] m dm 17 Date [13], [23] o do 18 Feature-
Caps [143] o IF table 6.1.3.1/103 THEN do (NOTE) 19 From [13], [23] m dm 20
Geolocation [68] o do 21 Geolocation-Routing [68] o do 22 Max-Breadth [79] o
dn/a 23 Max-Forwards [13], [23] m dm 24 MIME-Version [13], [23] o do 25 Min-SE
[52] o do 26 Organization [13], [23] o do 27 P-Access-Network-Info [24], [24B]
o IF table 6.1.3.1/36 THEN do (NOTE) 28 P-Charging-Function-Addresses [24] o
dn/a 29 P-Charging-Vector [24] o IF table 6.1.3.1/38 THEN do (NOTE) 30
P-Early-Media [74] o IF table 6.1.3.1/69 THEN do (NOTE) 31 Privacy [34] o do
32 Proxy-Authorization [13], [23] o IF table 6.1.3.1/7 THEN do (NOTE) 33
Proxy-Require [13], [23] o do 34 Reason [48] o IF table 6.1.3.1/40 THEN do
(NOTE) 35 Record-Route [13], [23] o do 36 Recv-Info [39] o IF table 6.1.3.1/17
THEN do (NOTE) 37 Referred-By [53] o do 38 Reject-Contact [51] o do 39
Request-Disposition [51] o do 40 Require [13], [23] c dc 41 Resource-Priority
[78] o IF table 6.1.3.1/73 THEN do (NOTE) 42 Route [13], [23] c dc 43
Security-Client [47] o dn/a 44 Security-Verify [47] o dn/a 45 Session-Expires
[52] o do 46 Session-ID [124] m IF table 6.1.3.1/94 THEN dm (NOTE) 47
Supported [13], [23] o do 48 Timestamp [13], [23] o do 49 To [13], [23] m dm
50 User-Agent [13], [23] o do 51 Via [13], [23] m dm NOTE: If the capability
specified in table 6.1.3.1 is not supported over the II-NNI, the IBCF in the
receiving network can omit or modify the SIP header fields in the received SIP
message prior to forwarding the SIP message as specified in TS 24.229 [5]
clause 5.10.6.2.
* * *
Table B.16.2: Supported header fields within the UPDATE response
+----------+----------+----------+----------+----------+----------+ | Item | Header | SIP | Ref. | RFC | II-NNI | | | field | status | | status | c | | | | code | | | ondition | +----------+----------+----------+----------+----------+----------+ | 1 | Accept | 2xx | [13] | o | do | | | | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 2 | Accept- | 2xx | [13] | o | do | | | Encoding | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 3 | Accept- | 2xx | [13] | o | do | | | Language | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | | | 415 | | c | dc | +----------+----------+----------+----------+----------+----------+ | 4 | Accept-R | 2xx | [78] | o | IF | | | esource- | | | | table 6. | | | Priority | 417 | | | 1.3.1/73 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 5 | Allow | 405 | [13] | m | dm | | | | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 6 | Allo | 2xx | [20] | n/a | dn/a | | | w-Events | | | | | +----------+----------+----------+----------+----------+----------+ | 7 | Aut | 2xx | [13] | o | IF | | | henticat | | , [23] | | table 6 | | | ion-Info | | | | .1.3.1/7 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 8 | Call-ID | 100 | [13] | m | dm | | | | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 9 | C | r | [13] | o | do | | | all-Info | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 10 | Contact | 2xx | [13] | m | dm | | | | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | | | 3xx | | o | do | | | | | | | | | | | 485 | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 11 | Con | r | [13] | o | do | | | tent-Dis | | , [23] | | | | | position | | | | | +----------+----------+----------+----------+----------+----------+ | 12 | Content- | r | [13] | o | do | | | Encoding | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 13 | Content- | r | [13] | o | do | | | Language | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 14 | Conten | 100 | [13] | t | dt | | | t-Length | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 15 | Cont | r | [13] | * | d* | | | ent-Type | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 16 | CSeq | 100 | [13] | m | dm | | | | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 17 | Date | 100 | [13] | o | do | | | | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 18 | Er | 3xx-6xx | [13] | o | IF | | | ror-Info | | , [23] | | table 6. | | | | | | | 1.3.1/13 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 19 | Feat | 2xx | [143] | o | IF | | | ure-Caps | | | | t | | | | | | | able 6.1 | | | | | | | .3.1/103 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 20 | From | 100 | [13] | m | dm | | | | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 21 | G | 424 | [68] | m | dm | | | eolocati | | | | | | | on-Error | | | | | +----------+----------+----------+----------+----------+----------+ | | | others | | o | do | +----------+----------+----------+----------+----------+----------+ | 22 | MIME | r | [13] | o | do | | | -version | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 23 | Min-SE | 422 | [52] | m | dm | +----------+----------+----------+----------+----------+----------+ | 24 | Orga | r | [13] | o | do | | | nization | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 25 | P-Acc | r | [24], | o | IF | | | ess-Netw | | [24A], | | table 6. | | | ork-Info | | [24B] | | 1.3.1/36 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 26 | P-Cha | r | [24], | o | dn/a | | | rging-Fu | | [24A] | | | | | nction-A | | | | | | | ddresses | | | | | +----------+----------+----------+----------+----------+----------+ | 27 | P | r | [24], | o | IF | | | -Chargin | | [24A] | | table 6. | | | g-Vector | | | | 1.3.1/38 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 28 | P-Ear | 2xx | [74] | o | IF | | | ly-Media | | | | table 6. | | | | | | | 1.3.1/69 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 29 | Privacy | r | [34] | o | do | +----------+----------+----------+----------+----------+----------+ | 30 | Pr | 401 | [13] | o | do | | | oxy-Auth | (NOTE 1) | , [23] | | | | | enticate | | | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | m | dm | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | 31 | R | 2xx | [39] | c | IF | | | ecv-Info | | | | table 6. | | | | | | | 1.3.1/17 | | | | | | | THEN dc | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | | | others | | o | IF | | | | | | | table 6. | | | | | | | 1.3.1/17 | | | | | | | THEN do | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 32 | Require | r | [13] | c | dc | | | | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 33 | Ret | 404 | [13] | o | do | | | ry-After | | , [23] | | | | | | 413 | | | | | | | | | | | | | | 480 | | | | | | | | | | | | | | 486 | | | | | | | | | | | | | | 500 | | | | | | | | | | | | | | 503 | | | | | | | | | | | | | | 600 | | | | | | | | | | | | | | 603 | | | | +----------+----------+----------+----------+----------+----------+ | 34 | Securit | 421 | [47] | o | dn/a | | | y-Server | | | | | | | | 494 | | | | +----------+----------+----------+----------+----------+----------+ | 35 | Server | r | [13] | o | do | | | | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 36 | Session | 2xx | [52] | o | do | | | -Expires | | | | | +----------+----------+----------+----------+----------+----------+ | 37 | Se | r | [124] | m | IF | | | ssion-ID | | | | table 6. | | | | | | | 1.3.1/94 | | | | | | | THEN dm | | | | | | | (NOTE 2) | +----------+----------+----------+----------+----------+----------+ | 38 | S | 2xx | [13] | o | do | | | upported | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 39 | T | r | [13] | o | do | | | imestamp | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 40 | To | 100 | [13] | m | dm | | | | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 41 | Uns | 420 | [13] | m | dm | | | upported | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 42 | Us | r | [13] | o | do | | | er-Agent | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 43 | Via | 100 | [13] | m | dm | | | | | , [23] | | | | | | others | | | | +----------+----------+----------+----------+----------+----------+ | 44 | Warning | r | [13] | o | do | | | | | , [23] | | | +----------+----------+----------+----------+----------+----------+ | 45 | WWW-Auth | 401 | [13] | m | dm | | | enticate | (NOTE 1) | , [23] | | | +----------+----------+----------+----------+----------+----------+ | | | 407 | | o | do | | | | (NOTE 1) | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | The SIP | | | | | | | status | | | | | | | code is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | over the | | | | | | | roaming | | | | | | | II-NNI. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | ca | | | | | | | pability | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | table | | | | | | | 6.1.3.1 | | | | | | | is not | | | | | | | s | | | | | | | upported | | | | | | | over the | | | | | | | II-NNI, | | | | | | | the IBCF | | | | | | | in the | | | | | | | r | | | | | | | eceiving | | | | | | | network | | | | | | | can omit | | | | | | | or | | | | | | | modify | | | | | | | the SIP | | | | | | | header | | | | | | | fields | | | | | | | in the | | | | | | | received | | | | | | | SIP | | | | | | | message | | | | | | | prior to | | | | | | | fo | | | | | | | rwarding | | | | | | | the SIP | | | | | | | message | | | | | | | as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | TS 24.2 | | | | | | | 29 [5] | | | | | | | clause 5 | | | | | | | .10.6.2. | | | | | | +----------+----------+----------+----------+----------+----------+
###### ## Annex C (informative): The list of option items for II-NNI
## C.1 Scope
This annex provides a list of items that are recommended to be selected by
inter-operator agreements for the interconnection between IMS operators using
the II-NNI. The items in this annex have an influence on the service
interconnection.
For the purposes of this annex, these items are called \"option items\". The
option items are extracted from the present document other than this annex,
and are categorized from the aspect of service provisioning by IMS operators.
If an option item is used based on inter-operator agreements, then relating
capabilities described in the references are used over the II-NNI. In case of
misalignment between the normative part of the present document and this
annex, the normative part of the present document takes precedence.
## C.2 Format of option item table
The format of option item table used in the subsequent clauses is as follows:
\- The 2^nd^ column \"Option item\" shows the option item.
\- The 3^rd^ column \"References\" shows the relevant clauses of the present
document for each option item.
\- The 4^th^ column \"Applicability at the II-NNI\" shows the selectable
patterns for each option item.
\- The 5^th^ column \"Details for operator choice\" shows the details for the
inter-operator agreements in case the corresponding pattern is chosen.
## C.3 Option item table
### C.3.0 Supported II-NNI traversal scenarios
Table C.3.0.1: Supported II-NNI traversal scenarios
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Roaming | entire | Yes | a. Option | | | II-NNI | present | | items in | | | support | specification | | clauses C.3.1 | | | | | | and C.3.2. | | | | | | | | | | | | b. | | | | | | Applicability | | | | | | of \"Roaming | | | | | | Architecture | | | | | | for Voice | | | | | | over IMS with | | | | | | Local | | | | | | Breakout\" | | | | | | (Clause 19). | | | | | | | | | | | | c. If | | | | | | \"Roaming | | | | | | Architecture | | | | | | for Voice | | | | | | over IMS with | | | | | | Local | | | | | | Breakout\" is | | | | | | applicable: | | | | | | | | | | | | > \+ option | | | | | | > items in | | | | | | > | | | | | | clause C.3.3; | | | | | | > and | | | | | | > | | | | | | > \+ the | | | | | | > default TRF | | | | | | > address to | | | | | | > use when | | | | | | > not | | | | | | > included in | | | | | | > the | | | | | | > g.3gpp.trf | | | | | | > featu | | | | | | re-capability | | | | | | > indicator. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+ | 2 | Non-roaming | entire | Yes | Option items | | | II-NNI | present | | in clauses | | | support | specification | | C.3.1 and | | | | | | C.3.3. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
### C.3.1 Option item table common to roaming and non-roaming II-NNI
This clause describes the option item tables common to the roaming II-NNI, the
loopback traversal scenario, and the non-roaming II-NNI.
Table C.3.1.1: SIP method (Common)
+-----+---------------+--------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+--------------+---------------+---------------+ | 1 | INFO method | table 6.1/5A | Yes | Info package | | | | | | name to use. | | | | table 6.1/5B | | | +-----+---------------+--------------+---------------+---------------+ | | | | No | | +-----+---------------+--------------+---------------+---------------+ | 2 | MESSAGE | table 6.1/9A | Yes | Inside or | | | method | | | outside | | | | table 6.1/9B | | existing | | | | | | dialog, and | | | | | | content of | | | | | | MESSAGE | | | | | | request. | +-----+---------------+--------------+---------------+---------------+ | | | | No | | +-----+---------------+--------------+---------------+---------------+ | 3 | REFER method | table 6.1/16 | Yes | Inside or | | | | | | outside | | | | table 6.1/17 | | existing | | | | | | dialog. | +-----+---------------+--------------+---------------+---------------+ | | | | No | | +-----+---------------+--------------+---------------+---------------+
Table C.3.1.1A: SIP overload control
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | SIP overload | tabl | Yes | Mechanisms to | | | control | e 6.1.3.1/106 | | be used. | | | | | | | | | | clause 21.1 | | Whether to | | | | | | exempt MPS | | | | | | from SIP | | | | | | overload | | | | | | controls. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+ | 2 | Feedback | tabl | Yes | Algorithm to | | | control | e 6.1.3.1/107 | | be used if | | | | | | not default | | | | clause 21.2 | | (see | | | | | | clause 21.2). | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+ | 3 | Event control | tabl | Yes | Addresses to | | | | e 6.1.3.1/108 | | targets that | | | | | | can be | | | | clause 21.3 | | supervised. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.1.2: Negotiation of resource reservation
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Negotiation | tab | Yes | | | | of resource | le 6.1.3.1/20 | | | | | reservation | | | | | | | | | | | | ( | | | | | | precondition) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.1.2A: Periodic refresh of SIP sessions
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | SIP session | tab | Yes | Use | | | timer | le 6.1.3.1/45 | | conditions. | | | | | | (Possible | | | (timer) | | | restriction | | | | | | on range of | | | | | | times and | | | | | | whether SIP | | | | | | session timer | | | | | | is applied in | | | | | | all | | | | | | sessions.) | +-----+---------------+---------------+---------------+---------------+
Table C.3.1.3: Replacing of SIP dialogs
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Replacing of | tab | Yes | | | | SIP dialogs | le 6.1.3.1/47 | | | | | | | | | | | (replaces) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.1.4: Session participation
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Session | tab | Yes | | | | participation | le 6.1.3.1/48 | | | | | | | | | | | (join) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.1.5: Conveying capabilities of UE
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 Conveying capabilities of UE table 6.1.3.1/49 Yes  
No
* * *
Table C.3.1.5A: Authorization of early media
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 Authorization of early media table 6.1.3.1/69 Yes  
No
* * *
Table C.3.1.6: Asserting the service of authenticated users
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Managing the | tab | Yes | Service | | | indication of | le 6.1.3.1/77 | | identifier | | | the asserted | | | values to | | | service | | | use. | | | | | | | | | (P-Ass | | | | | | erted-Service | | | | | | header field) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.1.7: Mode of signalling
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice  
1 Overlap signalling In-dialog method clause 6.1.1.5 Yes  
No  
Multiple-INVITE method Yes  
No
* * *
Table C.3.1.7A: SIP message bodies
+-----+-------------+--------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+-------------+--------------+---------------+---------------+ | 1 | MIME type | clause 6.1.4 | Yes | MIME types to | | | | | | use. | | | | | | | | | | | | Applicable | | | | | | ch | | | | | | aracteristics | | | | | | of the SIP | | | | | | message body | | | | | | MIMEs (i.e. | | | | | | the value(s) | | | | | | of | | | | | | Conten | | | | | | t-Disposition | | | | | | header field | | | | | | and | | | | | | Con | | | | | | tent-Language | | | | | | header field) | | | | | | if necessary. | +-----+-------------+--------------+---------------+---------------+
Table C.3.1.7B: SIP message body size
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 Limitation on maximum length of a SIP message body clause 6.1.4 Yes
Maximum length accepted. No
* * *
Table C.3.1.8: Control Plane Transport
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 TCP clause 6.2 Yes Use conditions. (e.g. port number to accept,
number of simultaneous connections in case of reuse of the existing
connections) No  
2 UDP clause 6.2 Yes Use conditions. (e.g. port number to accept) No  
3 SCTP clause 6.2 Yes Use conditions. (e.g. port number to accept) No
* * *
Table C.3.1.9: User Plane Transport, Media, and codec
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 Speech media (m=audio) clause 7.1 Yes Names of speech codecs to use.
2 Video media (m=video) clause 7.1 Yes Names of video codecs to use. No  
3 Other media clause 7.1 Yes Media type (m=line of SDP) to use. (e.g.
application, image, message) No  
4 RTP/AVPF clause 7.2 Yes Media type (m=line of SDP) that uses the protocol.
No  
5 Transmission Control Protocol clause 7.2 Yes Media type (m=line of SDP) that
uses the protocol. No  
6 Other user plane protocols clause 7.2 Yes Protocols to use (e.g. udptl,
TCP/MSRP) and media types (m=line of SDP) that describe the protocols. No
* * *
Table C.3.1.10: Dual Tone Multi Frequency (DTMF)
+-----+-------------+-------------+-------------+-------------+---+ | No. | Option item | References | Ap | Details for | | | | | | plicability | operator | | | | | | at the | choice | | | | | | II-NNI | | | +-----+-------------+-------------+-------------+-------------+---+ | 1 | DTMF | \"teleph | clause 7.1 | Yes | | | | transport | one-event\" | | | | | | | based DTMF | t | | | | | | transport | able 6.1/5A | | | | | | | | | | | | | | t | | | | | | | able 6.1/5B | | | | | | | | | | | | | | c | | | | | | | lause 12.14 | | | | | | | | | | | | | | c | | | | | | | lause 12.15 | | | +-----+-------------+-------------+-------------+-------------+---+ | | | | | No | | +-----+-------------+-------------+-------------+-------------+---+ | | | The SIP | | Yes | | | | | INFO | | | | | | | mechanism | | | | +-----+-------------+-------------+-------------+-------------+---+ | | | | | No | | +-----+-------------+-------------+-------------+-------------+---+
Table C.3.1.10A: Numbering, Naming and Addressing (Common)
+-----+----------------+------------+----------------+----------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+----------------+------------+----------------+----------------+ | 1 | Subaddress | clause 8.1 | Yes | | | | | | | | | | (\"isub\" | | | | | | parameter) | | | | +-----+----------------+------------+----------------+----------------+ | | | | No | | +-----+----------------+------------+----------------+----------------+
Table C.3.1.11: IP Version
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 IPv4 clause 9 Yes Use conditions. (e.g. for control plane, for user
plane) No  
2 IPv6 clause 9 Yes Use conditions. (e.g. for control plane, for user plane)
No
* * *
Table C.3.1.12: Supplementary services (Common)
+-----+-----------+-----------+-----------+-----------+-----------+ | No. | Option | R | Appl | Details | | | | item | eferences | icability | for | | | | | | at the | operator | | | | | | II-NNI | choice | | +-----+-----------+-----------+-----------+-----------+-----------+ | 1 | Malicious | cl | Yes | Minimum | | | | Comm | ause 12.2 | | in | | | | unication | | | formation | | | | IDent | | | exchanged | | | | ification | | | over the | | | | (MCID) | | | II-NNI. | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 2 | Or | cl | Yes | | | | | iginating | ause 12.3 | | | | | | Ident | | | | | | | ification | | | | | | | Pre | | | | | | | sentation | | | | | | | (OIP) and | | | | | | | Or | | | | | | | iginating | | | | | | | Ident | | | | | | | ification | | | | | | | Re | | | | | | | striction | | | | | | | (OIR) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 3 | Te | cl | Yes | | | | | rminating | ause 12.4 | | | | | | Ident | | | | | | | ification | | | | | | | Pre | | | | | | | sentation | | | | | | | (TIP) and | | | | | | | Te | | | | | | | rminating | | | | | | | Ident | | | | | | | ification | | | | | | | Re | | | | | | | striction | | | | | | | (TIR) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 4 | Anonymous | cl | Yes | | | | | Comm | ause 12.5 | | | | | | unication | | | | | | | Rejection | | | | | | | (ACR) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 5 | Comm | cl | Yes | | | | | unication | ause 12.6 | | | | | | DIVersion | | | | | | | (CDIV) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 6 | Comm | cl | Yes | | | | | unication | ause 12.7 | | | | | | Waiting | | | | | | | (CW) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 7 | Comm | cl | Yes | | | | | unication | ause 12.8 | | | | | | HOLD | | | | | | | (HOLD) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 8 | Message | cl | Yes | | | | | Waiting | ause 12.9 | | | | | | I | | | | | | | ndication | | | | | | | (MWI) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 9 | Incoming | claus | Yes | | | | | Comm | e 12.10.1 | | | | | | unication | | | | | | | Barring | | | | | | | (ICB) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 10 | C | cla | Yes | | | | | ompletion | use 12.11 | | | | | | of | | | | | | | Commu | | | | | | | nications | | | | | | | to Busy | | | | | | | S | | | | | | | ubscriber | | | | | | | (CCBS) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 11 | C | cla | Yes | | | | | ompletion | use 12.12 | | | | | | of | | | | | | | Commu | | | | | | | nications | | | | | | | by No | | | | | | | Reply | | | | | | | (CCNR) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 12 | Explicit | cla | Yes | | | | | Comm | use 12.13 | | | | | | unication | | | | | | | Transfer | | | | | | | (ECT) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 13 | C | cla | Yes | CAT model | | | | ustomized | use 12.14 | | to use. | | | | Alerting | | | (Gateway | | | | Tone | | | model, | | | | (CAT) | | | forking | | | | | | | model and | | | | | | | early | | | | | | | session | | | | | | | model) | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 14 | C | cla | Yes | | | | | ustomized | use 12.15 | | | | | | Ringing | | | | | | | Signal | | | | | | | (CRS) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 15 | Closed | cla | Yes | | | | | User | use 12.16 | | | | | | Group | | | | | | | (CUG) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 16 | Personal | cla | Yes | | | | | Network | use 12.17 | | | | | | M | | | | | | | anagement | | | | | | | (PNM) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 17 | Th | cla | Yes | | | | | ree-Party | use 12.18 | | | | | | (3PTY) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 18 | C | cla | Yes | | | | | onference | use 12.19 | | | | | | (CONF) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 19 | Flexible | cla | Yes | | | | | Alerting | use 12.20 | | | | | | (FA) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 20 | Anno | During | claus | Yes | Methods | | | uncements | the | e 12.21.2 | | for | | | | esta | | | sending | | | | blishment | | | anno | | | | of a | | | uncement. | | | | session | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | | No | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | During an | claus | Yes | Methods | | | | es | e 12.21.3 | | for | | | | tablished | | | sending | | | | comm | | | anno | | | | unication | | | uncement. | | | | session | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | | No | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | Providing | claus | Yes | Methods | | | | anno | e 12.21.4 | | for | | | | uncements | | | sending | | | | when | | | anno | | | | comm | | | uncement. | | | | unication | | | | | | | request | | | | | | | is | | | | | | | rejected | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | | No | | +-----+-----------+-----------+-----------+-----------+-----------+ | 21 | Advice of | cla | Yes | | | | | Charge | use 12.22 | | | | | | (AOC) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 22 | C | cla | Yes | | | | | ompletion | use 12.23 | | | | | | of | | | | | | | Commu | | | | | | | nications | | | | | | | on Not | | | | | | | Logged-in | | | | | | | (CCNL) | | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 23 | Presence | clause 15 | Yes | Presence | | | | service | | | services | | | | | | | to use | | | | | | | ( | | | | | | | TS 24.141 | | | | | | | [132], | | | | | | | OMA 1. | | | | | | | 1 [142] | | | | | | | or OMA | | | | | | | 2.0 | | | | | | | [138]) | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+ | 24 | Messaging | Page-mode | cl | Yes | | | | service | messaging | ause 16.2 | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | | No | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | Ses | cl | Yes | | | | | sion-mode | ause 16.4 | | | | | | messaging | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | | No | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | Ses | cl | Yes | | | | | sion-mode | ause 16.5 | | | | | | messaging | | | | | | | co | | | | | | | nferences | | | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | | No | | +-----+-----------+-----------+-----------+-----------+-----------+ | 25 | Other | clause | Yes | The SIP | | | | a | 6.1.1.3.2 | | e | | | | dditional | | | xtensions | | | | service | cl | | to use | | | | using | ause 12.6 | | and the | | | | other SIP | | | service | | | | e | | | that uses | | | | xtensions | | | the | | | | | | | ex | | | | | | | tensions. | | +-----+-----------+-----------+-----------+-----------+-----------+ | | | | No | | | +-----+-----------+-----------+-----------+-----------+-----------+
Table C.3.1.13: Additional functions (Common)
+-------------+-------------+-------------+-------------+-------------+ | No. | Option item | References | Ap | Details for | | | | | plicability | operator | | | | | at the | choice | | | | | II-NNI | | +-------------+-------------+-------------+-------------+-------------+ | 1 | Optimal | clause 17 | Yes | | | | Media | | | | | | Routeing | | | | +-------------+-------------+-------------+-------------+-------------+ | | | | No | | +-------------+-------------+-------------+-------------+-------------+ | 2 | Applying | tabl | Yes | Usage of | | | forking | e 6.1.3.1/5 | | Request- | | | (NOTE 1) | | | Disposition | | | | | | header | | | | | | field with | | | | | | value | | | | | | \ | | | | | | "no-fork\". | | | | | | (NOTE 3) | +-------------+-------------+-------------+-------------+-------------+ | | | | No | | | | | | | | | | | | (NOTE 2) | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: | | | | | | Support of | | | | | | handling of | | | | | | forked | | | | | | responses | | | | | | and of the | | | | | | SIP | | | | | | Request- | | | | | | Disposition | | | | | | header | | | | | | field, is | | | | | | mandated on | | | | | | the II-NNI. | | | | | | | | | | | | NOTE 2: In | | | | | | case the | | | | | | operator | | | | | | in | | | | | | terconnects | | | | | | with IMS | | | | | | no | | | | | | n-compliant | | | | | | networks, | | | | | | and wishes | | | | | | to use the | | | | | | II-NNI | | | | | | anyway, | | | | | | then the | | | | | | operators | | | | | | might want | | | | | | to | | | | | | negotiate | | | | | | if the | | | | | | forking | | | | | | procedures | | | | | | are | | | | | | applicable. | | | | | | | | | | | | NOTE 3: The | | | | | | Request- | | | | | | Disposition | | | | | | header | | | | | | field with | | | | | | value | | | | | | \"no-fork\" | | | | | | can be used | | | | | | to suppress | | | | | | that | | | | | | forking | | | | | | occurs. | | | | | | However, a | | | | | | peer | | | | | | operator | | | | | | might | | | | | | require the | | | | | | usage of | | | | | | forking | | | | | | e.g. to | | | | | | implement | | | | | | certain | | | | | | services. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table C.3.1.14: SDP lines
+-----+-------------+--------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+-------------+--------------+---------------+---------------+ | 1 | m=line | clause 6.1.2 | Yes | Used static | | | | | | RTP payload | | | | | | type numbers. | +-----+-------------+--------------+---------------+---------------+ | 2 | b=line | clause 6.1.2 | Yes | Used | | | | | | bandwidth | | | | | | modifier | | | | | | types. | +-----+-------------+--------------+---------------+---------------+ | 3 | a=line | clause 6.1.2 | Yes | Used | | | | | | attributes. | | | | | | | | | | | | For the | | | | | | \"rtpmap\" | | | | | | attribute, | | | | | | used | | | | | | \"encoding | | | | | | names\". | +-----+-------------+--------------+---------------+---------------+
### C.3.2 Option item table specific to roaming II-NNI
This clause describes the option item tables specific to roaming II-NNI.
Table C.3.2.1: Mechanism for authentication
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 IMS AKA plus Ipsec ESP table 6.1.3.1/7 Yes  
No  
2 SIP digest plus check of IP association table 6.1.3.1/7 Yes  
No  
3 SIP digest plus Proxy Authentication table 6.1.3.1/7 Yes  
No  
4 SIP digest with TLS table 6.1.3.1/7 Yes  
No
* * *
Table C.3.2.1A: Charging (roaming II-NNI)
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | I | tab | Yes | Operator | | | nter-operator | le 6.1.3.1/38 | | network | | | accounting | | | identifiers | | | | clause 11.2 | | populated in | | | | | | the type 1 | | | | | | \"orig-ioi\" | | | | | | and | | | | | | \"term-ioi\" | | | | | | header field | | | | | | parameters of | | | | | | the | | | | | | P-Ch | | | | | | arging-Vector | | | | | | header field. | +-----+---------------+---------------+---------------+---------------+ | 2 | I | clause 11.2 | Yes | Operator | | | nter-operator | | | network | | | accounting | | | identifiers | | | for the | | | populated in | | | transit | | | the | | | scenario | | | \" | | | | | | transit-ioi\" | | | | | | header field | | | | | | parameters of | | | | | | the | | | | | | P-Ch | | | | | | arging-Vector | | | | | | header field. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.2.2: The key of service profile for HSS query
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 The key of service profile for HSS query (P-Profile-Key header field)
table 6.1.3.1/59 Yes  
No
* * *
Table C.3.2.3: Numbering, Naming and Addressing (roaming II-NNI)
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Dial string | tab | Yes | | | | | le 6.1.3.1/67 | | | | | ( | | | | | | \"us | | | | | | er=dialstring | | | | | | \" parameter) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.2.4: Supplementary services (roaming II-NNI)
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 Outgoing Communication Barring (OCB) clause 12.10.2 Yes  
No  
2 Unstructured Supplementary Service Data clause 12.24 Yes  
No
* * *
Table C.3.2.5: Access transfer services (roaming II-NNI)
+-----+---------------+-------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+-------------+---------------+---------------+ | 1 | IMS | clause 13 | Yes | | | | Centralized | | | | | | Services | | | | | | (ICS) | | | | +-----+---------------+-------------+---------------+---------------+ | | | | No | | +-----+---------------+-------------+---------------+---------------+ | 2 | PS to CS | clause 14 | Yes | Additional | | | Single Radio | | | use | | | Voice Call | | | conditions | | | Continuity | | | (PS to CS | | | (SRVCC) | | | SRVCC for | | | | | | calls in | | | | | | alerting | | | | | | phase, | | | | | | support of | | | | | | ATCF | | | | | | architecture | | | | | | and PS to CS | | | | | | SRVCC with | | | | | | the MSC | | | | | | server | | | | | | assisted | | | | | | mid-call | | | | | | feature). | | | | | | | | | | | | If the ATCF | | | | | | architecture | | | | | | applies, the | | | | | | URIs of SCC | | | | | | ASs | | | | | | authorised to | | | | | | provide PS to | | | | | | CS SRVCC | | | | | | information | | | | | | in the | | | | | | MESSAGE | | | | | | request. | +-----+---------------+-------------+---------------+---------------+ | | | | No | | +-----+---------------+-------------+---------------+---------------+ | 3 | Single Radio | clause 14 | Yes | Additional | | | Video Call | | | use condition | | | Continuity | | | (transfer in | | | (vSRVCC) | | | alerting | | | | | | phase). | +-----+---------------+-------------+---------------+---------------+ | | | | No | | +-----+---------------+-------------+---------------+---------------+ | 4 | Inter UE | clause 18 | Yes | | | | Transfer | | | | | | (IUT) | | | | +-----+---------------+-------------+---------------+---------------+ | | | | No | | +-----+---------------+-------------+---------------+---------------+ | 5 | CS to PS | clause 14.5 | Yes | The URIs of | | | Single Radio | | | SCC ASs | | | Voice Call | | | authorised to | | | Continuity | | | provide CS to | | | (SRVCC) | | | PS SRVCC | | | | | | information | | | | | | in the | | | | | | MESSAGE | | | | | | request. | | | | | | | | | | | | Additional | | | | | | use | | | | | | conditions | | | | | | (support of | | | | | | CS to PS | | | | | | SRVCC for | | | | | | calls in | | | | | | alerting | | | | | | phase and | | | | | | support of CS | | | | | | to PS SRVCC | | | | | | with the | | | | | | assisted | | | | | | mid-call | | | | | | feature). | +-----+---------------+-------------+---------------+---------------+ | | | | No | | +-----+---------------+-------------+---------------+---------------+
Table C.3.2.6: Registration of bulk number contacts (roaming II-NNI)
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 Registration of bulk number contacts table 6.1.3.1/104 Yes  
No
* * *
### C.3.3 Option item table specific to non-roaming II-NNI and loopback
traversal scenario
This clause describes the option item tables specific to the non-roaming II-
NNI and the loopback traversal scenario.
Table C.3.3.1: SIP method (non-roaming II-NNI and loopback traversal scenario)
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | NOTIFY method | table 6.1/10 | Yes | Event package | | | | | | name to use. | | | | table 6.1/11 | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+ | 2 | SUBSCRIBE | table 6.1/20 | Yes | Event package | | | method | | | name to use. | | | | table 6.1/21 | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+ | 3 | PUBLISH | table 6.1/15A | Yes | Event package | | | method | | | name to use. | | | | table 6.1/15B | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.3.2: Charging (non-roaming II-NNI and loopback traversal scenario)
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | I | tab | Yes | Operator | | | nter-operator | le 6.1.3.1/38 | | network | | | accounting | | | identifiers | | | | clause 11.2 | | populated in | | | | | | the type 2 | | | | | | \"orig-ioi\" | | | | | | and | | | | | | \"term-ioi\" | | | | | | header field | | | | | | parameters of | | | | | | the | | | | | | P-Ch | | | | | | arging-Vector | | | | | | header field. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+ | 2 | I | clause 11.2 | Yes | Operator | | | nter-operator | | | network | | | accounting | | | identifiers | | | for the | | | populated in | | | transit | | | the | | | scenario | | | \" | | | | | | transit-ioi\" | | | | | | header field | | | | | | parameters of | | | | | | the | | | | | | P-Ch | | | | | | arging-Vector | | | | | | header field. | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.3.3: Globally Routable User Agent URIs
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Globally | tab | Yes | | | | Routable User | le 6.1.3.1/56 | | | | | Agent URIs | | | | | | | | | | | | (gruu) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.3.4: Media feature tags
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Media feature | tab | Yes | Names of | | | tags | le 6.1.3.1/76 | | media feature | | | | | | tags to use. | | | | clause 12 | | | | | | | | | | | | clause 13 | | | | | | | | | | | | clause 14 | | | | | | | | | | | | clause 16 | | | | | | | | | | | | clause 18 | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.3.5: ISDN interworking
* * *
No. Option item References Applicability at the II-NNI Details for operator
choice 1 User to User Call Control Information in SIP for ISDN Interworking
(uui) table 6.1.3.1/79 Yes  
No
* * *
Table C.3.3.6: Corporate network
+-----+---------------+---------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+---------------+---------------+---------------+ | 1 | Private | tab | Yes | | | | network | le 6.1.3.1/80 | | | | | traffic | | | | | | | | | | | | (P- | | | | | | Private-Netwo | | | | | | rk-Indication | | | | | | header field) | | | | +-----+---------------+---------------+---------------+---------------+ | | | | No | | +-----+---------------+---------------+---------------+---------------+
Table C.3.3.7: Numbering, Naming and Addressing (non-roaming II-NNI and
loopback traversal scenario)
+-------------+-------------+------------+-------------+-------------+ | No. | Option item | References | Ap | Details for | | | | | plicability | operator | | | | | at the | choice | | | | | II-NNI | | +-------------+-------------+------------+-------------+-------------+ | 0 | SIP URI | clause 8.1 | Yes | Any | | | | | | non-global | | | | | | numbers | | | | | | that are | | | | | | allowed in | | | | | | addition to | | | | | | global | | | | | | numbers. | | | | | | | | | | | | Domain | | | | | | name(s) | | | | | | and/or IP | | | | | | address(es) | | | | | | of | | | | | | hostportion | | | | | | to accept. | +-------------+-------------+------------+-------------+-------------+ | 0A | tel URI | clause 8.1 | Yes | Any | | | (NOTE) | | | non-global | | | | | | numbers | | | | | | that are | | | | | | allowed in | | | | | | addition to | | | | | | global | | | | | | numbers. | | | | | | | | | | | | Ap | | | | | | plicability | | | | | | of the URI | | | | | | in | | | | | | P-Assert | | | | | | ed-Identity | | | | | | header | | | | | | field | | | | | | and/or | | | | | | R | | | | | | equest-URI. | +-------------+-------------+------------+-------------+-------------+ | | | | No | | +-------------+-------------+------------+-------------+-------------+ | 0B | IM URI | clause 8.1 | Yes | | +-------------+-------------+------------+-------------+-------------+ | | | | No | | +-------------+-------------+------------+-------------+-------------+ | 0C | PRES URI | clause 8.1 | Yes | | +-------------+-------------+------------+-------------+-------------+ | | | | No | | +-------------+-------------+------------+-------------+-------------+ | 1 | Number | clause 8.1 | Yes | | | | Portability | | | | | | Routing | | | | | | Number | | | | | | | | | | | | (\"rn\" and | | | | | | \"npdi\" | | | | | | parameter) | | | | +-------------+-------------+------------+-------------+-------------+ | | | | No | | +-------------+-------------+------------+-------------+-------------+ | 2 | Calling | clause 8.1 | Yes | cpc-values | | | Party\'s | | | to use. | | | Category | | | | | | | | | | | | (\"cpc\" | | | | | | parameter) | | | | +-------------+-------------+------------+-------------+-------------+ | | | | No | | +-------------+-------------+------------+-------------+-------------+ | 3 | Originating | clause 8.1 | Yes | oli-values | | | Line | | | to use. | | | Information | | | | | | | | | | | | (\"oli\" | | | | | | parameter) | | | | +-------------+-------------+------------+-------------+-------------+ | | | | No | | +-------------+-------------+------------+-------------+-------------+ | NOTE: The | | | | | | option item | | | | | | is only for | | | | | | the | | | | | | non-roaming | | | | | | II-NNI. | | | | | +-------------+-------------+------------+-------------+-------------+
Table C.3.3.8: Additional functions (non-roaming II-NNI and loopback traversal
scenario)
+-----+---------------+--------------+---------------+---------------+ | No. | Option item | References | Applicability | Details for | | | | | at the II-NNI | operator | | | | | | choice | +-----+---------------+--------------+---------------+---------------+ | 1 | Support of | table 6.1/12 | Yes | The purpose | | | out-of-dialog | | | of the | | | OPTIONS | table 6.1/13 | | method. | | | method | | | | +-----+---------------+--------------+---------------+---------------+ | | | | No | | +-----+---------------+--------------+---------------+---------------+
#