# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the Sv interface between the Mobility
Management Entity (MME) or Serving GPRS Support Node (SGSN) and 3GPP MSC
server enhanced for SRVCC. Sv interface is used to support Inter-RAT handover
from IMS based voice service over EPS to CS domain over 3GPP UTRAN/GERAN
access or from UTRAN (HSPA) to 3GPP UTRAN/GERAN access and to support Inter-
RAT handover from IMS based voice and video service over EPS to CS domain over
3GPP UTRAN access. Sv interface is also used to support Inter-RAT handover
from voice service in CS domain over 3GPP UTRAN/GERAN access to IMS based
service over LTE or UTRAN (HSPA).
If there is no specific indication, the term \"MSC server\" denotes 3GPP MSC
server enhanced for SRVCC or 3GPP MSC server enhanced for vSRVCC as defined in
3GPP TS 23.216 [2].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 23.216: \"Single Radio Voice Call Continuity (SRVCC)\".
[3] 3GPP TS 29.274: \"Evolved GPRS Tunnelling Protocol for Control Plane
(GTPv2-C)\".
[4] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[5] 3GPP TS 23.007: \"Restoration Procedures\".
[6] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE): Security
architecture\".
[7] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[8] 3GPP TS 48.008: \"Mobile Switching Centre -- Base Station System (MSC -
BSS) interface; Layer 3 specification\".
[9] 3GPP TS 25.413: \"UTRAN Iu interface Radio Access Network Application Part
(RANAP) signalling\".
[10] 3GPP TS 33.102: \"3G Security; Security architecture\".
[11] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification; Stage 3\".
[12] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet\".
[13] 3GPP TS 23.237: \"IP Multimedia Subsystem (IMS) Service Continuity: Stage
2\".
[14] 3GPP TS 36.413: \"S1 Application Protocol (S1AP)\".
[15] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE); Security
architecture\".
[16] 3GPP TS 23.251: \"Network Sharing; Architecture and Functional
Description\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.216 [2] apply:
**SRVCC**
vSRVCC
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.251 [16] apply:
**Anchor PLMN**
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
C-MSISDN Correlation MSISDN.
GWCN Gateway Core Network
MME/SGSN MME or SGSN.
MOCN Multi-Operator Core Network
SRVCC Single Radio Voice Call Continuity.
STN-SR Session Transfer Number for SRVCC: see 3GPP TS 23.003 [4].
vSRVCC Single Radio Video Call Continuity.
# 4 General Description
This document describes the Sv interface related procedures, message
parameters and protocol specifications. The Sv messages are based on GTP. The
message format, IE coding, and protocol error handling for Sv is per GTP as
specified in 3GPP TS 29.274 [3].
The general rules for IP address and UDP port number handling for the GTP
messages on the Sv interface is per 3GPP TS 29.274 [3].
# 5 Sv Messages and Information Elements
## 5.1 Introduction
The Sv application defines a set of messages between the MME/SGSN and MSC
Server to provide SRVCC as defined in 3GPP TS 23.216 [2]. The Sv message
header is defined in 3GPP TS 29.274 [3]. The messages to be used and the
information elements are described in the following sections.
## 5.2 Sv Messages
### 5.2.1 General
Sv Messages are used for both the Inter-RAT handover from IMS based voice
service over EPS to CS domain over 3GPP UTRAN/GERAN access or from UTRAN
(HSPA) to 3GPP UTRAN/GERAN access and the Inter-RAT handover from IMS based
voice and video service over EPS to CS domain over 3GPP UTRAN access.
Sv Messages are also used for the Inter-RAT handover from voice service in CS
domain over 3GPP UTRAN/GERAN access to IMS based service over LTE or UTRAN
(HSPA).
Sv Message Type value is defined in 3GPP TS 29.274 [3]. The message format is
coded as per GTP in 3GPP TS 29.274 [3].
Table 5.2.1: Message types for Sv interface
* * *
Message Type value (Decimal) Message Reference Initial Triggered 0 Reserved
3GPP TS 29.274 [3]  
1 Echo Request 3GPP TS 29.274 [3] X  
2 Echo Response 3GPP TS 29.274 [3] X 3 Version Not Supported Indication 3GPP
TS 29.274 [3] X 4-24 Reserved for S101 interface 3GPP TS 29.274 [3]  
25 SRVCC PS to CS Request 5.2.2 X  
26 SRVCC PS to CS Response 5.2.3 X 27 SRVCC PS to CS Complete Notification
5.2.4 X  
28 SRVCC PS to CS Complete Acknowledge 5.2.5 X 29 SRVCC PS to CS Cancel
Notification 5.2.6 X  
30 SRVCC PS to CS Cancel Acknowledge 5.2.7 X 31 SRVCC CS to PS Request 5.2.8 X  
32-239 Reserved for GTPv2 3GPP TS 29.274 [3]  
240 SRVCC CS to PS Response 5.2.9 X 241 SRVCC CS to PS Complete Notification
5.2.10 X  
242 SRVCC CS to PS Complete Acknowledge 5.2.11 X 243 SRVCC CS to PS Cancel
Notification 5.2.12 X  
244 SRVCC CS to PS Cancel Acknowledge 5.2.13 X 245 to 247 For future Sv
interface use -  
248-255 Reserved for GTPv2 3GPP TS 29.274 [3]
* * *
The GTPv2-C messages shall be sent per UE on the Sv interface.
There shall be one pair of TEID-C per UE on the Sv interface. The same tunnel
shall be shared for the control messages related to the same UE operation.
The TEID field in the SRVCC PS to CS Request and in the SRVCC CS to PS Request
message header shall be set to \"0\" because this is the first message sent
between the MME/SGSN and the MSC server to establish the tunnel for a UE.
The TEID field in the SRVCC PS to CS Cancel Notification message header shall
be set to \"0\" if the message is sent before reception of the acceptance
response to the SRVCC PS to CS Request. If the MME/SGSN sends the SRVCC PS to
CS Cancel Notification message after the acceptance response to the SRVCC PS
to CS Request, the TEID field of the SRVCC PS to CS Cancel Notification
message may be set to the MSC Server's TEID value received in the SRVCC PS to
CS Response message. Therefore the MSC Server shall be able to accept the
SRVCC PS to CS Cancel Notification messages with \"0\" or non-zero TEID in the
message header.
The TEID field in the SRVCC CS to PS Cancel Notification message header shall
be set to \"0\" if the message is sent before reception of the acceptance
response to the SRVCC CS to PS Request. If the MSC Server sends the SRVCC CS
to PS Cancel Notification message after the acceptance response to the SRVCC
CS to PS Request, the TEID field of the SRVCC CS to PS Cancel Notification
message may be set to the MME/SGSN TEID value received in the SRVCC CS to PS
Response message. Therefore the MME/SGSN shall be able to accept the SRVCC CS
to PS Cancel Notification messages with \"0\" or non-zero TEID in the message
header.
### 5.2.2 SRVCC PS to CS Request
A SRVCC PS to CS Request message shall be sent across Sv interface from the
MME/SGSN to the target MSC server as part of the MME/SGSN SRVCC procedure in
3GPP TS 23.216 [2].
This message shall also be sent across Sv interface from the MME to the target
MSC server as part of the vSRVCC procedure in 3GPP TS 23.216 [2].
Table 5.2.2 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.2: Information Elements in a SRVCC PS to CS Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | This IE shall be | IMSI | 0 | | | | included in the | | | | | | message except | | | | | | for the cases: | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | it is | | | | | | UICCless | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | the IMSI is | | | | | | not | | | | | | | | | | | | authenticated | | | +------------------+----+------------------+------------------+------+ | ME Identity | C | This IE shall be | MEI | 0 | | (MEI) | | included in the | | | | | | message for all | | | | | | types of | | | | | | emergency calls | | | | | | by the MME and | | | | | | the SGSN. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included for all | | | | | | SRVCC calls if | | | | | | available in the | | | | | | MME or SGSN | | | | | | (NOTE 2). | | | +------------------+----+------------------+------------------+------+ | Sv Flags | C | This IE shall be | Sv Flags | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | The following | | | | | | flags are | | | | | | applicable: | | | | | | | | | | | | - EmInd: this | | | | | | flag shall | | | | | | be sent if | | | | | | this session | | | | | | is for an | | | | | | emergency | | | | | | call. | | | | | | | | | | | | - ICS: this | | | | | | flag shall | | | | | | be sent to | | | | | | request IMS | | | | | | Centralized | | | | | | Service | | | | | | support. | | | | | | | | | | | | - VHO: this | | | | | | flag shall | | | | | | be sent if | | | | | | the MME | | | | | | requests the | | | | | | vSRVCC HO. | | | +------------------+----+------------------+------------------+------+ | MME/SGSN Sv | M | This IE | IP-Address | 0 | | Address for | | specifies the | | | | Control Plane | | address for | | | | | | control plane | | | | | | Initial message | | | | | | which is chosen | | | | | | by the source | | | | | | MME/SGSN. | | | | | | | | | | | | The target MSC | | | | | | Server shall | | | | | | send subsequent | | | | | | control plane | | | | | | Initial messages | | | | | | related to the | | | | | | GTP tunnel for | | | | | | this UE towards | | | | | | this address. | | | +------------------+----+------------------+------------------+------+ | MME/SGSN Sv TEID | M | This IE | TEID-C | 0 | | for Control | | specifies the | | | | Plane | | tunnel for | | | | | | control plane | | | | | | message which is | | | | | | chosen by the | | | | | | source MME/SGSN. | | | | | | | | | | | | The target MSC | | | | | | Server shall | | | | | | include this | | | | | | TEID in the GTP | | | | | | header of all | | | | | | control plane | | | | | | messages related | | | | | | to the GTP | | | | | | tunnel for this | | | | | | UE. | | | +------------------+----+------------------+------------------+------+ | C-MSISDN | C | The MME/SGSN | MSISDN | 0 | | | | shall include | | | | | | C-MSISDN IE in | | | | | | the message | | | | | | except for the | | | | | | cases: | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | it is | | | | | | UICCless | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | the IMSI is | | | | | | not | | | | | | | | | | | | authenticated | | | | | | | | | | | | The C-MSISDN is | | | | | | defined in 3GPP | | | | | | TS 23.003 [4]. | | | +------------------+----+------------------+------------------+------+ | STN-SR | C | The MME/SGSN | STN-SR | 0 | | | | shall include | | | | | | STN-SR IE if | | | | | | this session is | | | | | | not for an | | | | | | emergency call. | | | +------------------+----+------------------+------------------+------+ | MM Context for | C | The MME shall | MM Context for | 0 | | E-UTRAN (v)SRVCC | | include mobile | E-UTRAN (v)SRVCC | | | | | station | | | | | | classmarks, | | | | | | supported | | | | | | codecs, and CS | | | | | | Security key in | | | | | | MM Context for | | | | | | E-UTRAN | | | | | | (v)SRVCC. | | | | | | | | | | | | The derivation | | | | | | of the CS | | | | | | security keys | | | | | | shall follow the | | | | | | procedures | | | | | | defined 3GPP TS | | | | | | 33.401[7]. | | | +------------------+----+------------------+------------------+------+ | MM Context for | C | The SGSN shall | MM Context for | 0 | | UTRAN SRVCC | | include mobile | UTRAN SRVCC | | | | | station | | | | | | classmarks, | | | | | | supported | | | | | | codecs, and CS | | | | | | Security key in | | | | | | MM Context for | | | | | | UTRAN (HSPA) | | | | | | SRVCC. | | | | | | | | | | | | The derivation | | | | | | of the CS | | | | | | security keys | | | | | | shall follow the | | | | | | procedures | | | | | | defined 3GPP TS | | | | | | 33.102[10]. | | | +------------------+----+------------------+------------------+------+ | Source to Target | M | The MME or SGSN | Source to Target | 0 | | Transparent | | shall include | Transparant | | | Container | | Source to Target | Container IE | | | | | Transparent | | | | | | Container IE | | | +------------------+----+------------------+------------------+------+ | Target RNC ID | C | This IE shall be | Target RNC ID | 0 | | | | used to identify | | | | | | the target | | | | | | access for | | | | | | (v)SRVCC | | | | | | handover to | | | | | | UTRAN (NOTE 1). | | | +------------------+----+------------------+------------------+------+ | Target Cell ID | C | This IE shall be | Target Global | 0 | | | | used to identify | Cell | | | | | the target | | | | | | access for SRVCC | ID | | | | | handover to | | | | | | GERAN (NOTE 1). | | | +------------------+----+------------------+------------------+------+ | Source SAI | CO | The SGSN shall | Service Area | 0 | | | | include this IE | Identifier | | | | | during a SRVCC | | | | | | Handover from | | | | | | UTRAN to GERAN | | | | | | and shall set it | | | | | | as per the SAI | | | | | | of the Source ID | | | | | | IE received from | | | | | | the source RNC | | | | | | (see 3GPP TS | | | | | | 25.413 [9]). | | | | | | See NOTE 3. | | | +------------------+----+------------------+------------------+------+ | Allo | CO | The MME shall | ARP | 0 | | cation/Retention | | include this IE | | | | Priority | | if (v)SRVCC with | | | | | | priority is | | | | | | supported and | | | | | | (v)SRVCC is | | | | | | performed for an | | | | | | IMS-based MPS | | | | | | session (see | | | | | | 3GPP TS 23.216 | | | | | | [2]). | | | +------------------+----+------------------+------------------+------+ | Anchor PLMN ID | CO | The MME/SGSN | PLMN ID | 0 | | | | shall include | | | | | | this IE during | | | | | | SRVCC from | | | | | | UTRAN/E-UTRAN PS | | | | | | to UTRAN/GERAN | | | | | | CS domain | | | | | | GWCN/MOCN **to | | | | | | be used for | | | | | | subsequent SRVCC | | | | | | handover in the | | | | | | reverse | | | | | | direction** as | | | | | | specified in | | | | | | 3GPP TS 23.251 | | | | | | [16]. | | | +------------------+----+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE1: Based | | | | | | upon the SRVCC | | | | | | Handover | | | | | | procedure, | | | | | | either Target | | | | | | RNC ID or Target | | | | | | Cell ID shall be | | | | | | present in this | | | | | | message | | | | | | | | | | | | NOTE2: An MME or | | | | | | SGSN supporting | | | | | | the Sv interface | | | | | | should attempt | | | | | | to get the ME | | | | | | Identity for all | | | | | | SRVCC calls for | | | | | | interception, | | | | | | charging or | | | | | | Automatic Device | | | | | | Detection in the | | | | | | MSC. | | | | | | | | | | | | NOTE 3: The | | | | | | Source SAI is | | | | | | sent in BSSMAP | | | | | | Handover Request | | | | | | during a SRVCC | | | | | | Handover from | | | | | | UTRAN to GERAN. | | | | | | A default SAI | | | | | | configured in | | | | | | the MSC Server | | | | | | enhanced for | | | | | | SRVCC is sent in | | | | | | BSSMAP Handover | | | | | | Request during a | | | | | | SRVCC Handover | | | | | | from E-UTRAN to | | | | | | GERAN. The | | | | | | default SAI for | | | | | | E-UTRAN should | | | | | | be different | | | | | | from the SAIs | | | | | | used in UTRAN. | | | | | +------------------+----+------------------+------------------+------+
### 5.2.3 SRVCC PS to CS Response
A SRVCC PS to CS Response message shall be sent across Sv interface as a
response to SRVCC PS to CS Request by the MSC server during SRVCC procedure in
3GPP TS 23.216 [2].
Table 5.2.3 specifies the presence requirements and conditions of the IEs in
the message.
Cause IE indicates if the SRVCC PS to CS request has been accepted, or not.
The request has not been accepted by the target MSC server if the Cause IE
value differs from \"Request accepted\".
Table 5.2.3: Information Elements in a SRVCC PS to CS Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+----+------------------+------------------+------+ | (v)SRVCC | CO | This IE shall be | SRVCC Cause | 0 | | rejected Cause | | sent if Cause | | | | | | value differs | | | | | | from \"Request | | | | | | accepted\". | | | | | | | | | | | | MSC Server shall | | | | | | include this | | | | | | information | | | | | | element to | | | | | | indicate the | | | | | | reason for | | | | | | rejecting SRVCC | | | | | | PS to CS request | | | +------------------+----+------------------+------------------+------+ | MSC Server Sv | O | If the Cause IE | IP Address | 0 | | Address for | | contains the | | | | Control Plane | | value\" Request | | | | | | accepted\", the | | | | | | target MSC | | | | | | server may | | | | | | include MSC | | | | | | server Sv | | | | | | Address for | | | | | | Control Plane IE | | | | | | in SRVCC PS to | | | | | | CS Response | | | | | | message if | | | | | | target MSC | | | | | | Server decides | | | | | | to use different | | | | | | IP address for | | | | | | the subsequent | | | | | | communication. | | | | | | The source | | | | | | MME/SGSN shall | | | | | | store this MSC | | | | | | server address | | | | | | and use it when | | | | | | sending | | | | | | subsequent | | | | | | control plane | | | | | | messages to this | | | | | | GTP-C tunnel. | | | +------------------+----+------------------+------------------+------+ | MSC Server Sv | C | The target MSC | TEID-C | 0 | | TEID for Control | | server shall | | | | Plane | | include MSC | | | | | | server Sv Tunnel | | | | | | Endpoint | | | | | | Identifier for | | | | | | Control Plane IE | | | | | | in SRVCC PS to | | | | | | CS Response | | | | | | message if the | | | | | | Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\". The | | | | | | source MME/SGSN | | | | | | shall include | | | | | | this TEID-C in | | | | | | the GTP-C header | | | | | | of all | | | | | | subsequent | | | | | | uplink control | | | | | | plane messages | | | | | | from the source | | | | | | MME/SGSN to the | | | | | | target MSC | | | | | | servers. | | | +------------------+----+------------------+------------------+------+ | Target to Source | C | If the Cause IE | Target to Source | 0 | | Transparent | | contains the | Transparant | | | Container | | value \"Request | Container IE | | | | | accepted \", | | | | | | this IE shall be | | | | | | included and | | | | | | shall carry the | | | | | | Target to Source | | | | | | Transparent | | | | | | Container to be | | | | | | sent within the | | | | | | Handover command | | | | | | or the | | | | | | Relocation | | | | | | Command towards | | | | | | the source | | | | | | access network. | | | +------------------+----+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
### 5.2.4 SRVCC PS to CS Complete Notification
A SRVCC PS to CS Complete Notification message shall be sent across Sv
interface to the source MME/SGSN during SRVCC procedure as specified in 3GPP
TS 23.216 [2]:
  * to indicate the SRVCC handover with CS Domain has been successfully finished;
  * or to indicate the SRVCC handover with CS Domain has finished (i.e. HO Complete / Relocation Complete message has been received from the target RAN) but the IMS Session Transfer procedure completion in 3GPP TS 23.237 [13] has failed by including the appropriate SRVCC post failure Cause value.
This message shall also be sent on Sv interface to the source MME during
vSRVCC procedure in 3GPP TS 23.216 [2].
Table 5.2.4 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.4: Information Elements in a SRVCC PS to CS Complete Notification
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | This IE shall be | IMSI | 0 | | | | included in the | | | | | | message except | | | | | | for the cases: | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | it is | | | | | | UICCless | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | the IMSI is | | | | | | not | | | | | | | | | | | | authenticated | | | +------------------+----+------------------+------------------+------+ | SRVCC post | CO | This IE shall be | SRVCC Cause | 0 | | failure Cause | | sent if a call | | | | | | is to be | | | | | | released locally | | | | | | in the MSC | | | | | | Server due to | | | | | | IMS session leg | | | | | | establishment | | | | | | failure. | | | | | | | | | | | | The MSC Server | | | | | | shall include | | | | | | this IE to | | | | | | indicate the | | | | | | nature of the | | | | | | failure (i.e, | | | | | | permanent or | | | | | | temporary) | | | +------------------+----+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
### 5.2.5 SRVCC PS to CS Complete Acknowledge
A SRVCC PS to CS Complete Acknowledge message shall be sent across Sv
interface as a response to SRVCC PS to CS Complete Notification during
(v)SRVCC handover with CS Domain in 3GPP TS 23.216 [2].
Table 5.2.5 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.5: Information Elements in a SRVCC PS to CS Complete Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M None Cause 0
Private Extension O None Private Extension VS
* * *
### 5.2.6 SRVCC PS to CS Cancel Notification
A SRVCC PS to CS Cancel Notification message shall be sent across Sv interface
from the MME/SGSN to the target MSC server to request the cancellation of an
ongoing SRVCC handover.
This message shall also be sent across Sv interface from the MME to the target
MSC server to request the cancellation of an ongoing vSRVCC handover.
Table 5.2.6 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.6: Information Elements in a SRVCC PS to CS Cancel Notification
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | IMSI | C | This IE shall be | IMSI | 0 | | | | included in the | | | | | | message except | | | | | | for the cases: | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | it is | | | | | | UICCless | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | the IMSI is | | | | | | not | | | | | | | | | | | | authenticated | | | +------------------+---+------------------+------------------+------+ | Cancel Cause | M | MME/SGSN | SRVCC Cause | 0 | | | | indicates the | | | | | | reason for | | | | | | Handover | | | | | | cancellation | | | +------------------+---+------------------+------------------+------+ | ME Identity | C | This IE shall be | MEI | 0 | | (MEI) | | included in the | | | | | | message for the | | | | | | following cases: | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | it is | | | | | | UICCless | | | | | | | | | | | | - The UE is | | | | | | emergency | | | | | | attached and | | | | | | the IMSI is | | | | | | not | | | | | | | | | | | | authenticated | | | +------------------+---+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 5.2.7 SRVCC PS to CS Cancel Acknowledge
A SRVCC PS to CS Cancel Acknowledge message shall be sent across Sv interface
as a response to SRVCC PS to CS Cancel Notification.
Table 5.2.7 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.7: Information Elements in a SRVCC PS to CS Cancel Acknowledge
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Cause | M | None | Cause | 0 | +------------------+---+------------------+------------------+------+ | Sv Flags | C | This IE shall be | Sv Flags | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | The following | | | | | | flags are | | | | | | applicable: | | | | | | | | | | | | - STI: this | | | | | | flag shall | | | | | | be sent if | | | | | | the MSC | | | | | | Server has | | | | | | started the | | | | | | IMS session | | | | | | transfer | | | | | | procedure. | | | +------------------+---+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 5.2.8 SRVCC CS to PS Request
A SRVCC CS to PS Request message shall be sent across Sv interface from the
MSC Server to the target MME/SGSN as part of UTRAN/GERAN to E-UTRAN/UTRAN
(HSPA) SRVCC procedure in 3GPP TS 23.216 [2].
Table 5.28 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.8: Information Elements in a SRVCC CS to PS Request
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | IMSI | C | The IE shall be | IMSI | 0 | | | | included if | | | | | | available. | | | +------------------+---+------------------+------------------+------+ | ME Identity | C | This IE shall be | MEI | 0 | | (MEI) | | included if | | | | | | available. | | | +------------------+---+------------------+------------------+------+ | MSC Server Sv | M | This IE | IP Address | 0 | | Address for | | specifies the | | | | Control Plane | | address for | | | | | | control plane | | | | | | Initial message | | | | | | which is chosen | | | | | | by the source | | | | | | MSC Server. | | | | | | | | | | | | The target | | | | | | MME/SGSN shall | | | | | | send subsequent | | | | | | control plane | | | | | | Initial messages | | | | | | related to the | | | | | | GTP tunnel for | | | | | | this UE towards | | | | | | this address. | | | +------------------+---+------------------+------------------+------+ | MSC Server Sv | M | This IE | TEID-C | 0 | | TEID for Control | | specifies the | | | | Plane | | tunnel for | | | | | | control plane | | | | | | message which is | | | | | | chosen by the | | | | | | source MSC | | | | | | Server. | | | | | | | | | | | | The target | | | | | | MME/SGSN shall | | | | | | include this | | | | | | TEID in the GTP | | | | | | header of all | | | | | | control plane | | | | | | messages related | | | | | | to the GTP | | | | | | tunnel for this | | | | | | UE. | | | +------------------+---+------------------+------------------+------+ | Source to Target | M | The MSC Server | Source to Target | 0 | | Transparent | | shall include | Transparent | | | Container | | Source to Target | Container | | | | | Transparent | | | | | | Container IE. | | | +------------------+---+------------------+------------------+------+ | Target | M | This IE shall be | Target | 0 | | Identification | | included to | Identification | | | | | identify the | | | | | | target access. | | | +------------------+---+------------------+------------------+------+ | P-TMSI | C | This IE shall be | P-TMSI | 0 | | | | included if | | | | | | available. | | | +------------------+---+------------------+------------------+------+ | Source RAI | C | This IE shall be | ULI | 0 | | | | included if | | | | | | available | | | +------------------+---+------------------+------------------+------+ | P-TMSI Signature | C | This IE shall be | P-TMSI Signature | 0 | | | | included if | | | | | | available | | | +------------------+---+------------------+------------------+------+ | GUTI | C | This IE shall be | GUTI | 0 | | | | included if | | | | | | available. | | | +------------------+---+------------------+------------------+------+ | MM Context for | M | | MM Context for | 0 | | CS to PS SRVCC | | | CS to PS SRVCC | | +------------------+---+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 5.2.9 SRVCC CS to PS Response
A SRVCC CS to PS Response message shall be sent across Sv interface as a
response to SRVCC CS to PS Request by the MME/SGSN during UTRAN/GERAN to
E-UTRAN/UTRAN (HSPA) SRVCC procedure as specified in 3GPP TS 23.216 [2].
Table 5.2.9 specifies the presence requirements and conditions of the IEs in
the message.
Cause IE indicates if the SRVCC CS to PS request has been accepted, or not.
The request has not been accepted by the target MME/SGSN if the Cause IE value
differs from \"Request accepted\".
Table 5.2.9: Information Elements in a SRVCC CS to PS Response
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+---+------------------+------------------+------+ | SRVCC rejected | O | This IE may be | SRVCC Cause | 0 | | Cause | | sent if Cause | | | | | | value is differs | | | | | | from \"Request | | | | | | accepted\". | | | | | | | | | | | | MME/SGSN may | | | | | | include | | | | | | additional | | | | | | information to | | | | | | indicate the | | | | | | reason for | | | | | | rejecting SRVCC | | | | | | CS to PS request | | | +------------------+---+------------------+------------------+------+ | MME/SGSN Sv | O | If the Cause IE | IP Address | 0 | | Address for | | contains the | | | | Control Plane | | value\" Request | | | | | | accepted\", the | | | | | | target MME/SGSN | | | | | | may include | | | | | | MME/SGSN Sv | | | | | | Address for | | | | | | Control Plane IE | | | | | | in SRVCC CS to | | | | | | PS Response | | | | | | message if | | | | | | target MME/SGSN | | | | | | decides to use | | | | | | different IP | | | | | | address for the | | | | | | subsequent | | | | | | communication. | | | | | | The source MSC | | | | | | Server shall | | | | | | store this | | | | | | MME/SGSN address | | | | | | and use it when | | | | | | sending | | | | | | subsequent | | | | | | control plane | | | | | | initial messages | | | | | | to this GTP-C | | | | | | tunnel. | | | +------------------+---+------------------+------------------+------+ | MME/SGSN Sv TEID | C | The target | TEID-C | 0 | | for Control | | MME/SGSN shall | | | | Plane | | include MME/SGSN | | | | | | Sv Tunnel | | | | | | Endpoint | | | | | | Identifier for | | | | | | Control Plane IE | | | | | | in SRVCC CS to | | | | | | PS Response | | | | | | message if the | | | | | | Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\". The | | | | | | source MSC | | | | | | Server shall | | | | | | include this | | | | | | TEID-C in the | | | | | | GTP-C header of | | | | | | all subsequent | | | | | | control plane | | | | | | messages from | | | | | | the source MSC | | | | | | Server to the | | | | | | target MME/SGSN. | | | +------------------+---+------------------+------------------+------+ | Target to Source | C | If the Cause IE | Target to Source | 0 | | Transparent | | contains the | Transparent | | | Container | | value \"Request | Container | | | | | accepted\", this | | | | | | IE shall be | | | | | | included and | | | | | | shall carry the | | | | | | Target to Source | | | | | | Transparent | | | | | | Container to be | | | | | | sent within the | | | | | | Handover command | | | | | | or the | | | | | | Relocation | | | | | | Command towards | | | | | | the source | | | | | | access network. | | | +------------------+---+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 5.2.10 SRVCC CS to PS Complete Notification
A SRVCC CS to PS Complete Notification message shall be sent across Sv
interface from the target MME/SGSN to the source MSC Server to indicate the
SRVCC handover with PS Domain has been finished during UTRAN/GERAN to
E-UTRAN/UTRAN (HSPA) SRVCC procedure as specified in 3GPP TS 23.216 [2].
Table 5.2.10 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.10: Information Elements in a SRVCC CS to PS Complete Notification
* * *
Information elements P Condition / Comment IE Type Ins. SRVCC failure Cause C
This IE shall be included if there is a failure detected by the target
MME/SGSN during UTRAN/GERAN to E-UTRAN/UTRAN (HSPA) SRVCC procedure as
specified in 3GPP TS 23.216 [2]. SRVCC cause 0 Private Extension O None
Private Extension VS
* * *
### 5.2.11 SRVCC CS to PS Complete Acknowledge
A SRVCC CS to PS Complete Acknowledge message shall be sent across Sv
interface as a response to SRVCC CS to PS Complete Notification during
UTRAN/GERAN to E-UTRAN/UTRAN (HSPA) SRVCC procedure as specified in 3GPP TS
23.216 [2].
Table 5.2.10 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.11: Information Elements in a SRVCC CS to PS Complete Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M None Cause 0
Private Extension O None Private Extension VS
* * *
### 5.2.12 SRVCC CS to PS Cancel Notification
A SRVCC CS to PS Cancel Notification message shall be sent across Sv interface
from the MSC Server to the target MME/SGSN to request the cancellation of an
ongoing SRVCC handover.
Table 5.2.12 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.12: Information Elements in a SRVCC CS to PS Cancel Notification
* * *
Information elements P Condition / Comment IE Type Ins. IMSI C The IMSI shall
be included if available. IMSI 0 Cancel Cause M MSC Server shall indicate the
reason for Handover cancellation. SRVCC Cause 0 ME Identity (MEI) C This IE
shall be included if available. MEI 0 Private Extension O None Private
Extension VS
* * *
### 5.2.13 SRVCC CS to PS Cancel Acknowledge
A SRVCC CS to PS Cancel Acknowledge message shall be sent across Sv interface
as a response to SRVCC CS to PS Cancel Notification.
Table 5.2.13 specifies the presence requirements and conditions of the IEs in
the message.
Table 5.2.13: Information Elements in a SRVCC CS to PS Cancel Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M None Cause 0
Private Extension O None Private Extension VS
* * *
## 5.3 Path Management Messages
### 5.3.1 Introduction
The following GTP-C v2 messages support path management for the Sv interface:
  * Echo Request
  * Echo Response
  * Version Not Supported
These messages are defined for GTP-Cv2 and the handling and definition shall
also be as defined in GTP-Cv2, see 3GPP TS 29.274 [3].
### 5.3.2 Echo Request message
3GPP TS 29.274 [6] specifies the information elements included in the Echo
Request message.
### 5.3.3 Echo Response message
3GPP TS 29.274 [3] specifies the information elements included in the Echo
Response message.
### 5.3.4 Version Not Supported message
3GPP TS 29.274 [3] specifies the detailed handling and information elements
included in the Version Not Supported message.
## 5.4 Reliable Delivery of Signalling Messages
This is performed as according to GTPv2 in 3GPP TS 29.274 [3].
## 5.5 Error Handling
This is performed as according to GTPv2 in 3GPP TS 29.274 [3].
## 5.6 Restoration and Recovery
This is performed as according to GTPv2 in 3GPP TS 23.007 [5].
# 6 Sv Information Elements
## 6.1 General
IE type value used in Sv Message is defined in TS 29.274 [3]. The IE format is
coded as per GTP in TS 29.274 [3].
Table 6.1 shows the IEs used for SRVCC. Within information elements, certain
fields may be described as spare. These bits shall be transmitted with the
value set to 0. To allow for future features, the receiver shall not evaluate
these bits.
Table 6.1-1: Information Elements for SRVCC
* * *
IE Type value (Decimal) Information elements Comment / Reference Number of
Fixed Octets 0 Reserved 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 1 International
Mobile Subscriber Identity (IMSI) 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 2
Cause 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 3 Recovery (Restart Counter) 3GPP
TS 29.274 [3] 3GPP TS 29.274 [3] 4-50 Reserved for S101 interface 3GPP TS
29.274 [3] 3GPP TS 29.274 [3] 51 STN-SR Variable Length / 6.2 Not Applicable
52 Source to Target Transparent Container Variable Length / 6.3 Not Applicable
53 Target to Source Transparent Container Variable Length / 6.4 Not Applicable
54 MM Context for E-UTRAN (v)SRVCC Variable Length / 6.5 Not Applicable 55 MM
Context for UTRAN SRVCC Variable Length / 6.6 Not Applicable 56 SRVCC Cause
Fixed Length / 6.7 1 57 Target RNC ID Variable Length / 6.8 Not Applicable 58
Target Global Cell ID Variable Length / 6.9 Not Applicable 59 TEID-C
Extendable / 6.10 4 60 Sv Flags Extendable / 6.11 1 61 Service Area Identifier
Extendable / 6.12 7 62 MM Context for CS to PS SRVCC Extendable / 6.13 42
63-70 For future Sv interface use -  
71-73 Reserved for GTPv2 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 74 IP Address
3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 75 Mobile Equipment Identity (MEI) 3GPP
TS 29.274 [3] 3GPP TS 29.274 [3] 76 MSISDN 3GPP TS 29.274 [3] 3GPP TS 29.274
[3] 77-85 Reserved for GTPv2 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 86 ULI 3GPP
TS 29.274 [3] 3GPP TS 29.274 [3] 111 P-TMSI 3GPP TS 29.274 [3] 3GPP TS 29.274
[3] 112 P-TMSI Signature 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 117 GUTI 3GPP
TS 29.274 [3] 3GPP TS 29.274 [3] 120 PLMN ID 3GPP TS 29.274 [3] 3GPP TS 29.274
[3] 121 Target Identification 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 122-154
Reserved for GTPv2 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 155
Allocation/Retention Priority (ARP) 3GPP TS 29.274 [3] 3GPP TS 29.274 [3]
156-254 Reserved for GTPv2 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] 255 Private
Extension 3GPP TS 29.274 [3] 3GPP TS 29.274 [3] NOTE: The size of the TLI
(Type, Length and Instance) fields, i.e \"4\" octets, has been subtracted from
the number of the fixed octets of the \"Fixed Length\" and \"Extendable\" IEs.
* * *
## 6.2 STN-SR
STN-SR is defined in 3GPP TS 23.003 [4]. STN-SR is transferred via GTP
tunnels. The sending entity copies the value part of the STN-SR into the Value
field of the STN-SR IE. The STN-SR IE is coded as depicted in Figure 6.2-1.
Octet 5 contains the Nature of Address and Numbering Plan Indicator (NANPI) of
the \"AddressString\" ASN.1 type (see 3GPP TS 29.002 [11]). Octets 6 to (n+4)
contain the actual STN-SR (digits of an address encoded as a TBCD-STRING as in
the \"AddressString\" ASN.1 type). For an odd number of STN-SR digits, bits 8
to 5 of the last octet are encoded with the filler \"1111\".
* * *
              Bits                                                        
     Octets   8                     7             6   5   4   3   2   1   
     1        Type = 51 (decimal)                                         
     2 to 3   Length = n                                                  
     4        Spare                 Instance                              
     5        NANPI                                                       
     6        Digit 2               Digit 1                               
     ...                                                                  
     n+4      Digit m               Digit (m-1)
* * *
Figure 6.2-1: STN-SR
## 6.3 Source to Target Transparent Container
The Source to Target Transparent Container contains information that shall be
transferred transparently by CN entities from the source RAN to the target
RAN.
When the target network is GERAN, the Transparent container field contains the
value part of the _Old BSS to New BSS Information_ IE defined in 3GPP TS
48.008 [8], i.e. octets 3 to n, excluding octet 1 (Element ID) and octet 2
(Length).
When the target network is UTRAN, this container carries the _Source RNC to
Target RNC Transparent Container_ IE defined in 3GPP TS 25.413 [9]. The
Transparent container field contains a _transparent copy_ of the corresponding
ASN.1/PER IE (see subclauses 8.2.2 and 8.48 in 3GPP TS 29.274 [3]).
When the target network is E-UTRAN, the container carries the _Source To
Target Transparent Container_ IE defined in 3GPP TS 36.413 [14]. The
Transparent container field contains a _transparent copy_ of the corresponding
ASN.1/PER IE (see subclauses 8.2.2 and 8.48 in 3GPP TS 29.274 [3])..
The receiver of this Information Element shall ignore the length of the
transparent container encoded in octet 5 and shall derive the actual length of
the container from the length encoded in octets 2 to 3 minus 1.
For backward compatibility, the sender of this Information Element shall set
the octet 5 to the actual length of the transparent container if the size of
the container is smaller or equal to 255 octets, and to the value \"255\"
otherwise.
* * *
                  Bits                                                                     
     Octets       8                                     7          6   5   4   3   2   1   
     1            Type = 52 (decimal)                                                      
     2 to 3       Length = n (decimal)                                                     
     4            Spare                                 Instance                           
     5            Length of the Transparent container                                      
     6 to (n+4)   Transparent container
* * *
Figure 6.3-1: Source to Target Transparent Container
## 6.4 Target to Source Transparent Container
The Target to Source Transparent Container contains information that shall be
transferred transparently by CN entities from the target RAN to the source
RAN.
When the target network is GERAN, the Transparent container field contains the
value part of the _Layer 3 Information_ IE defined in 3GPP TS 48.008 [8],
i.e., octets 3 to n, excluding octet 1 (Element ID) and octet 2 (Length).
When the target network is UTRAN, this container carries the _Target RNC to
Source RNC Transparent Container_ IE defined in 3GPP TS 25.413 [9]. The
Transparent container field contains a _transparent copy_ of the corresponding
ASN.1/PER IE (see subclauses 8.2.2 and 8.48 in 3GPP TS 29.274 [3]).
When the target network is E-UTRAN, the container carries the _Target eNB To
Source eNB Transparent Container_ IE defined in 3GPP TS 36.413 [14]. The
Transparent container field contains a _transparent copy_ of the corresponding
ASN.1/PER IE (see subclauses 8.2.2 and 8.48 in 3GPP TS 29.274 [3]).
The receiver of this Information Element shall ignore the length of the
transparent container encoded in octet 5 and shall derive the actual length of
the container from the length encoded in octets 2 to 3 minus 1.
For backward compatibility, the sender of this Information Element shall set
the octet 5 to the actual length of the transparent container if the size of
the container is smaller or equal to 255 octets, and to the value \"255\"
otherwise.
* * *
                  Bits                                                                     
     Octets       8                                     7          6   5   4   3   2   1   
     1            Type = 53 (decimal)                                                      
     2 to 3       Length = n                                                               
     4            Spare                                 Instance                           
     5            Length of the Transparent container                                      
     6 to (n+4)   Transparent container
* * *
Figure 6.4-1: Target to Source Transparent Container
## 6.5 MM Context for E-UTRAN (v)SRVCC
The MM Context information element contains mobile station classmarks,
supported codec list, and the security parameters that are necessary for the
MSC server to setup the ciphering connection (and integrity protection for 3G)
with the target access for (v)SRVCC. CS ciphering keys parameters: CK~SRVCC~,
IK~SRVCC,~ and eKSI for E-UTRAN (v)SRVCC are defined in 3GPP TS 33.401 [6].
Mobile Station Classmark 2, Mobile Station Classmark 3, and Supported Codec
List information Elements indicate the supported encryption algorithms for
GERAN access and CS supported codecs. The coding of Mobile Station Classmarks
and Supported Codec List fields include the IE value part as it is specified
in 3GPP TS 24.008 [7].
eKSI shall be coded as bits 1 to 3 of the NAS Key Set Identifier IE in TS
24.301 [12].For an emergency call without an authenticated IMSI, the source
MME shall set the key sequence value of the eKSI to the value \'111\' and
CK~SRVCC~ and IK~SRVCC~ to all 0's in binary.
* * *
                      Bits                                                                          
     Octets           8                                          7          6   5   4   3   2   1   
     1                Type = 54 (decimal)                                                           
     2 to 3           Length = n                                                                    
     4                Spare                                      Instance                           
     5                Spare                                      eKSI                               
     6 to 21          CK~SRVCC~                                                                     
     22 to 37         IK~SRVCC~                                                                     
     38               Length of the Mobile Station Classmark 2                                      
     39 to a          Mobile Station Classmark 2                                                    
     b                Length of the Mobile Station Classmark 3                                      
     (b+1) to c       Mobile Station Classmark 3                                                    
     d                Length of the Supported Codec List                                            
     (d+1) to (n+4)   Supported Codec List
* * *
Figure 6.5-1: MM Context for E-UTRAN (v)SRVCC
## 6.6 MM Context for UTRAN SRVCC
The MM Context information element contains mobile station classmarks,
supported codec list, and the security parameters that are necessary for the
MSC server to setup the ciphering connection (and integrity protection for 3G)
with the target access for SRVCC. The usage of CK'~CS~, IK'~CS~, KSI'~CS~,
Kc', CKSN'~CS~ are defined in 3GPP TS 33.102 [10].
Mobile Station Classmark 2, Mobile Station Classmark 3, and Supported Codec
List information Elements indicate the supported encryption algorithms for
GERAN access and CS supported codecs. The coding of Mobile Station Classmarks
and Supported Codec List fields include the IE value part as it is specified
in 3GPP TS 24.008 [7].
CKSN\'~cs~ shall be coded as bits 1 to 8 of the CKSN IE in TS 24.008 [7]. The
KSI\'~cs~ shall be coded as bits 1 to 4 of the CKSN IE in TS 24.008 [7].
The source SGSN will send to the MSC Server enhanced for SRVCC either the
KSI\'~cs~/CK\'~cs~/IK\'~cs~ for an UMTS subscriber or the CKSN\'~cs~/Kc\' for
a GSM subscriber (see 3GPP TS 33.102 [10]):
  * when transferring KSI\'~cs~/CK\'~cs~/IK\'~cs~, the source SGSN shall set the key sequence value of the CKSN\'~cs~ to the value \'111\' and Kc' to all 0's in binary;
  * when transferring CKSN\'~cs~/Kc\', the source SGSN shall set the key sequence value of the KSI'~cs~ to the value \'111\', and CK'~cs~ and IK'~cs~ to all 0's in binary.
For an emergency call without an authenticated IMSI, the source SGSN shall set
the key sequence value of the CKSN\'~cs~ and KSI\'~cs~ to all 1's, and Kc',
CK'~cs~ and IK'~cs~ to all 0's in binary.
* * *
                      Bits                                                                          
     Octets           8                                          7          6   5   4   3   2   1   
     1                Type = 55 (decimal)                                                           
     2 to 3           Length = n                                                                    
     4                Spare                                      Instance                           
     5                Spare                                      KSI'~CS~                           
     6 to 21          CK'~CS~                                                                       
     22 to 37         IK'~CS~                                                                       
     38 to 45         Kc'                                                                           
     46               CKSN'~CS~                                                                     
     47               Length of the Mobile Station Classmark 2                                      
     48 to a          Mobile Station Classmark 2                                                    
     b                Length of the Mobile Station Classmark 3                                      
     (b+1) to c       Mobile Station Classmark 3                                                    
     d                Length of the Supported Codec List                                            
     (d+1) to (n+4)   Supported Codec List
* * *
Figure 6.6-1: MM Context for UTRAN SRVCC
## 6.7 SRVCC Cause
SRVCC Cause IE is coded as this is depicted in Figure 6.7-1.
* * *
              Bits                                                     
     Octets   8                     7          6   5   4   3   2   1   
     1        Type = 56 (decimal)                                      
     2 to 3   Length = 1                                               
     4        Spare                 Instance                           
     5        SRVCC Cause value
* * *
Figure 6.7-1: SRVCC Cause
The SRVCC Cause value indicates the reason for cancellation or the rejection
of the SRVCC PS to CS Request or the SRVCC CS to PS Request. The SRVCC Cause
is also used by the target MME/SGSN to indicate the reason for a failure in
the SRVCC CS to PS Complete Notification message..
Table 6.7-1: SRVCC Cause values
+-------------+-------------------------------------------------------+ | Cause value | Meaning | | | | | (decimal) | | +-------------+-------------------------------------------------------+ | 0 | Reserved. Shall not be sent and if received the Cause | | | shall be treated as an invalid IE | +-------------+-------------------------------------------------------+ | 1 | Unspecified | +-------------+-------------------------------------------------------+ | 2 | Handover/Relocation cancelled by source system | +-------------+-------------------------------------------------------+ | 3 | Handover /Relocation Failure with Target system | +-------------+-------------------------------------------------------+ | 4 | Handover/Relocation Target not allowed | +-------------+-------------------------------------------------------+ | 5 | Unknown Target ID | +-------------+-------------------------------------------------------+ | 6 | Target Cell not available | +-------------+-------------------------------------------------------+ | 7 | No Radio Resources Available in Target Cell | +-------------+-------------------------------------------------------+ | 8 | Failure in Radio Interface Procedure | +-------------+-------------------------------------------------------+ | 9 | Permanent session leg establishment error | +-------------+-------------------------------------------------------+ | 10 | Temporary session leg establishment error | +-------------+-------------------------------------------------------+ | 11-255 | Spare. This value range is reserved for SRVCC Cause | | | values | +-------------+-------------------------------------------------------+
## 6.8 Target RNC ID
This IE shall contain the identity of the target RNC. The encoding of this IE
is defined in 3GPP TS 29.002 [11].
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 57 (decimal)                                       
     2 to 3       Length = n (decimal)                                      
     4            Spare                  Instance                           
     5 to (n+4)   RNC ID
* * *
Figure 6.8-1: Target RNC ID
## 6.9 Target Global Cell ID
This IE shall contain the identity of the target GSM Cell ID. The encoding of
this IE is defined in 3GPP TS 29.002 [11].
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 58 (decimal)                                       
     2 to 3       Length = n (decimal)                                      
     4            Spare                  Instance                           
     5 to (n+4)   Cell ID
* * *
Figure 6.9-1: Target Cell ID
## 6.10 Tunnel Endpoint Identifier for Control Plane (TEID-C)
Tunnel Endpoint Identifier for Control Plane (TEID-C) is coded as depicted in
Figure 6.10-1.
* * *
               Bits                                                                                            
     Octets    8                                                            7          6   5   4   3   2   1   
     1         Type = 59 (decimal)                                                                             
     2-3       Length = n (decimal)                                                                            
     4         Spare                                                        Instance                           
     5-8       Tunnel Endpoint Identifier for Control Plane (TEID-C)                                           
     9-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 6.10-1: Tunnel Endpoint Identifier for Control Plane (TEID-C)
## 6.11 Sv Flags
Sv Flags is coded as depicted in Figure 6.11-1.
* * *
               Bits                                                                                                              
     Octets    8                                                            7          6       5       4     3     2     1       
     1         Type = 60 (decimal)                                                                                               
     2 to 3    Length = n                                                                                                        
     4         Spare                                                        Instance                                             
     5         Spare                                                        Spare      Spare   Spare   VHO   STI   ICS   EmInd   
     6-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 6.11-1: Sv Flags
The following bits within Octet 5 indicate:
\- Bit 1 -- EmInd (Emergency Indicator): This flag is used to indicate the IMS
emergency session.
\- Bit 2 -- ICS (IMS Centralized Service): This flag is used to request ICS
support.
\- Bit 3 -- STI (Session Transfer Indicator): This flag is used to indicate
IMS session transfer has been invoked.
\- Bit 4 -- VHO (vSRVCC flag): This flag is used to indicate that the vSRVCC
HO is requested by the MME.
## 6.12 Service Area Identifier
This IE shall contain the identifier of a service area. The encoding of this
IE is defined in Figure 6.12-1.
* * *
                Bits                                                                                               
     Octets     8                                                            7             6   5   4   3   2   1   
     1          Type = 61 (decimal)                                                                                
     2-3        Length = n                                                                                         
     4          Spare                                                        Instance                              
     5          MCC digit 2                                                  MCC digit 1                           
     6          MNC digit 3                                                  MCC digit 3                           
     7          MNC digit 2                                                  MNC digit 1                           
     8 to 9     Location Area Code (LAC)                                                                           
     10 to 11   Service Area Code (SAC)                                                                            
     12-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 6.12-1: Service Area Identifier
The Location Area Code (LAC) consists of 2 octets. Bit 8 of Octet 8 is the
most significant bit and bit 1 of Octet 9 the least significant bit. The
coding of the location area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
The Service Area Code (SAC) consists of 2 octets. Bit 8 of Octet 10 is the
most significant bit and bit 1 of Octet 11 the least significant bit. The SAC
is defined by the operator. See 3GPP TS 23.003 [4] subclause 12.5 for more
information.
## 6.13 MM Context for CS to PS SRVCC
The MM Context for CS to PS SRVCC information element contains the security
parameters that are necessary for the MME/SGSN to setup the ciphering
connection and integrity protection with the target access for SRVCC. The
usage of CK\'~PS~, IK\'~PS~, KSI\'~PS~, Kc\'~PS~, CKSN\'~PS~ are defined in
3GPP TS 33.102 [10].
Note: Kc\'~PS~, is called GPRS Kc in 3GPP TS 33.102 [10].
CKSN\'~PS~ shall be coded as bits 1 to 8 of the CKSN IE in TS 24.008 [7]. The
KSI\'~PS~ shall be coded as bits 1 to 4 of the CKSN IE in TS 24.008 [7].
The source MSC Server shall send to the MME/SGSN either the KSI\'~PS~
/CK\'~PS~ /IK\'~PS~ or the CKSN\'~PS~ /Kc\'~PS~ as specified in 3GPP TS 33.102
[10] and 3GPP TS 33.401[15]:
  * when transferring KSI\'~PS~ /CK\'~PS~ /IK\'~PS~, the source MSC Server shall set the key sequence value of the CKSN\'~PS~ to the value \'111\' and Kc\'~PS~ to all 0's in binary;
  * when transferring CKSN\'~PS~ /Kc\'~PS~, the source MSC Server shall set the key sequence value of the KSI\'~PS~ to the value \'111\', and CK\'~PS~ and IK\'~PS~ to all 0's in binary.
* * *
                   Bits                                                                                                       
     Octets        8                                                            7          6       5          4   3   2   1   
     1             Type = 62 (decimal)                                                                                        
     2 to 3        Length = n                                                                                                 
     4             Spare                                                        Instance                                      
     5             Spare                                                        Spare      Spare   KSI'~PS~                   
     6 to 21       CK\'~PS~                                                                                                   
     22 to 37      IK\'~PS~                                                                                                   
     38 to 45      Kc\'~PS~                                                                                                   
     46            CKSN\'~PS~                                                                                                 
     47 -- (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 6.13-1: MM Context for CS to PS SRVCC
#