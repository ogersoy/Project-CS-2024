# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
IMS based services can be provided with use of PS bearers and CS bearers for
the media. When using CS bearer for media transport of IMS sessions,
interworking solutions for IMS Centralized Services as specified in TS 23.292
[5] are used. **ICS allows** IMS sessions using CS bearers to be treated as
standard IMS sessions for the purpose of IMS Service Continuity. ICS defines
signalling mechanisms between the UE and IMS for transport of information as
needed for service continuity when using CS access for media transport.
Both IMS Centralized Services and IMS Service Continuity specify functions
which are provided by a SIP application server.
# 1 Scope
The present document specifies the architectural requirements and procedures
for delivery of IMS Service Continuity.
TS 23.206 [3] is migrated to this specification.
The scope of the specification includes:
\- Access Transfer related functionality:
\- PS-CS Access Transfer;
\- PS-PS Access Transfer;
\- PS-PS Access Transfer in conjunction with PS-CS Access Transfer;
\- Adding and/or removing media flows to support service;
. MSC Server assisted mid-call feature;
\- SRVCC session transfer of IMS emergency session.
\- Inter‑UE Transfer related functionality:
\- Establishment and release of a Collaborative Session;
\- Addition of media flows to, modification of media flows in, and release of
media flows from a Collaborative Session;
\- Transfer of media flows from one UE to another;
\- Transfer of the Collaborative Session Control with or without transfer of
media flows;
\- Transfer of all media flows to a target UE without establishing a
Collaborative Session;
\- Session discovery;
\- Inter-UE Transfer initiated by the target UE or by the SCC AS;
\- Replication of media flows by means of Inter-UE Transfer procedures;
\- Authorization and other aspects to support Inter-UE Transfer across
multiple IMS subscriptions.
The solution is restricted to service continuity using IMS procedures, i.e.
mobility mechanisms on the IP-CAN level are not within the scope of this
specification.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.258: \"Service requirements for the AIPN\".
[3] 3GPP TS 23.206: \"Voice Call Continuity between CS and IMS\".
[4] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[5] 3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) centralized services;
Stage 2\".
[6] Void.
[7] OMA-ERELD-DM-V1_2-20060602-C: \"Enabler Release Definition for OMA Device
Management, Candidate Version 1.2\".
[8] IETF RFC 3261 (June 2002): \"SIP: Session Initiation Protocol\".
[9] 3GPP TS 22.101: \"Service aspects; Service principles\".
[10] 3GPP TS 23.216: \" Single Radio Voice Call Continuity (SRVCC); Stage 2\".
[11] 3GPP TS 33.102: \"3G security; Security architecture\".
[12] 3GPP TS 33.203: \"Access security for IP-based services\".
[13] 3GPP TS 23.218: \"IP Multimedia (IM) session handling; IM call model;
Stage 2\".
[14] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[15] 3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS) Multimedia
Telephony Service and supplementary services; Stage 1\".
[16] 3GPP TS 24.610: \"Communication HOLD (HOLD) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[17] 3GPP TS 24.605: \"Conference (CONF) using IP Multimedia (IM) Core Network
(CN) subsystem; Protocol specification\".
[18] 3GPP TS 24.629: \"Explicit Communication Transfer (ECT) using IP
Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".
[19] 3GPP TS 24.647: \"Advice Of Charge (AOC) using IP Multimedia (IM)Core
Network (CN) subsystem; Protocol Specification\".
[20] 3GPP TS 24.616: \"Malicious Communication Identification (MCDI) using IP
Multimedia (IM)Core Network (CN) subsystem; Protocol Specification\".
[21] 3GPP TS 24.604: \"Communication Diversion (CDIV) using IP Multimedia
(IM)Core Network (CN) subsystem; Protocol specification\".
[22] 3GPP TS 24.615: \"Communication Waiting (CW) using IP Multimedia (IM)
Core Network (CN) subsystem; Protocol Specification\".
[23] 3GPP TS 23.167: \"IP Multimedia Subsystem (IMS) emergency sessions\".
[24] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[25] 3GPP TS 24.147: \"Conferencing using the IP Multimedia (IM) Core Network
(CN) subsystem; Stage 3\".
[26] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[27] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[28] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[29] 3GPP TR 26.911: \"Codec(s) for Circuit-Switched (CS) multimedia telephony
service; Terminal implementor\'s guide\".
[30] 3GPP TS 23.334: \"IP Multimedia Subsystem (IMS) Application Level Gateway
(IMS-ALG) - IMS Access Gateway (IMS-AGW) interface\".
[31] 3GPP TS 29.162: \"Interworking between the IM CN subsystem and IP
networks\".
[32] 3GPP TS 26.111: \"Codec for circuit switched multimedia telephony
service; Modifications to H.324\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions in TR
21.905 [1] and the following apply.
**Access Leg:** This is the call control leg between the UE and the SCC AS;
also see TS 23.292 [5] for the definition of Access Leg for IMS sessions which
use the CS media.
**Access Transfer:** Transfer at the IMS-level of one or more media paths of
an ongoing IMS session on one UE between PS to CS access; or transfer at the
IMS-level of both the signalling and the media path of an ongoing IMS session
on a UE between different IP-CANs.
**Collaborative Session:** A set of two or more Access Legs and related media
on two or more UEs having IMS subscriptions under the same operator that are
presented as one Remote Leg by the SCC AS.
**Collaborative Session Control:** The control operations on the Collaborative
Session which can only be performed by the Controller UE, e.g. ability to
release the Collaborative Session, to invoke supplementary services, and to
authorize requests for IUT Media Control Related Procedures from other UEs.
**Controllee UE:** A UE that supports media flows for a Collaborative Session
and may request IUT Media Control Related Procedures but is subordinate to the
Controller UE for authorization of these procedures.
**Controller UE:** The UE that controls a Collaborative Session and whose
service profile determines the services on the remote leg. The Controller UE
may also support media flows for a Collaborative Session and may request IUT
Media Control Related Procedures.
**Correlation MSISDN:** An MSISDN used for correlation of sessions. See TS
23.003 [14] for more information.
**Dual Radio:** This refers to the situation where the UE is capable to
transmit/receive on two different radio access technologies simultaneously.
**Emergency Session Transfer Number for SRVCC:** A number used in the session
transfer procedure for emergency calls, pointing toward the serving (visited
if roaming) IMS EATF which handles the IMS emergency session transfer from PS
to CS access.
**Hosting SCC AS:** The SCC AS that manages the dialog with the remote party
for a Collaborative Session.
**IMS Service Continuity:** A service of the IMS which supports the use of
Session Transfer mechanisms to maintain service continuity in the event of
terminal mobility and/or mobility between terminals for the case when such
events are not hidden from the IMS session layer and thus service continuity
could not otherwise be maintained.
**Inter-UE Transfer:** Transfer at the IMS-level of some or all of the media
flows and/or service control across a set of having IMS subscriptions under
the same operator.
NOTE 1: The transfer of all media flows and the control signalling from one UE
to another is also known as Session Mobility as defined in TS 22.258 [2].
**IP Multimedia Routing Number (IMRN):** An IP Multimedia Routeing Number
(IMRN) is a routable number that points to an SCC AS in the IM CN subsystem.
See TS 23.003 [14] for more information.
**IUT Media Control Related Procedures:** The control operations on the media
flows of the Collaborative Session which involve multiple UEs or need
Controller UE\'s authorization within the Collaborative Session, e.g. ability
to transfer/add/replicate media flows, to remove/modify media flows on a
different UE.
_**Local Operating Environment Information:** This is a set of parameters,
which can include access network(s) conditions and other parameters
implementation specific, which describe the local environment in which the UE
is operating._
**MSC Server assisted mid-call feature:** Functionality of the MSC Server, the
SCC AS and the UE, enabling PS - CS Access Transfer for UEs not using ICS
capabilities, while preserving the provision of mid-call services (inactive
sessions or sessions using the Conference service).
NOTE 2: This terminology is often abbreviated as \"mid-call feature\" or even
\"mid-call\" throughout this specification.
**Remote Leg:** This is the call control leg between the SCC AS and the remote
party from the subscriber\'s perspective; also see TS 23.292 [5] for the
definition of Remote Leg for IMS sessions which use the CS media.
**Service Control Signalling Path:** As defined in TS 23.292 [5].
**Session Replication:** Replication, at the IMS-level, of a session ongoing
in a source UE at a target UE. When the new, independent, session is
established at the target UE, the state of the original media is replicated
e.g. same playback state; same used media etc. is replicated.
**Session State Information:** Information of IMS session state sent by the
SCC AS for enablement of PS-CS and CS-PS Access Transfer of IMS multimedia-
sessions when ICS UE capabilities can not be used.
**Session Transfer:** Transfer at the IMS-level of one or more of the session
signalling paths and/or associated media flow paths of an ongoing IMS session
while maintaining service continuity. Session Transfer incorporates Access
Transfer and / or Inter-UE Transfer.
**Session Transfer Identifier (STI):** An identifier used by the UE to request
the SCC AS to perform Session Transfer. The STI is either statically
configured on the UE or dynamically assigned. See TS 23.003 [14] for more
information.
**Session Transfer Identifier for reverse SRVCC (STI-rSR):** A dynamic
identifier used by the UE to request the IMS network to perform Session
Transfer for CS to PS SRVCC (reverse SRVCC). The STI-rSR is used by the
network to correlate two access legs, and is unique for each access transfer
control function within an ATCF.
**Session Transfer Number (STN)** : A number used by the UE to request the SCC
AS to perform Session Transfer from PS to CS access. The STN is statically
configured on the UE. See TS 23.003 [14] for more information.
**Session Transfer Number for SRVCC (STN-SR)** : A STN used for SRVCC
procedures as specified in TS 23.216 [10]. STN-SR is a subscription
information provided to HSS for each subscriber if SRVCC service is allowed by
hPLMN. STN-SR is a routing number indicating the SCC-AS or the ATCF if SRVCC
enhanced with ATCF is used. See TS 23.003 [14] for more information.
**Single Radio:** This refers to the situation where the UE is only capable of
transmitting/receiving on one radio access technology at a time.
**Source Access Leg:** The Access Leg that exists in the transferred-out
access before executing Access Transfer procedures.
**Target Access Leg:** The Access Leg that is established in the transferred-
in access during Access Transfer procedures.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
3pcc 3rd party call control
ATCF Access Transfer Control Function
ATGW Access Transfer Gateway
ATU-STI Access Transfer Update - Session Transfer Identifier
C-MSISDN Correlation MSISDN
EATF Emergency Access Transfer Function
iFC Initial Filter Criteria
IMRN **IP Multimedia Routing Number.**
IUT Inter-UE Transfer
OCS Online Charging System
SC Service Continuity
SCC AS Service Centralization and Continuity Application Server
SRVCC Single Radio Voice Call Continuity
STI Session Transfer Identifier
STI-rSR Session Transfer Identifier for CS to PS SRVCC
STN Session Transfer Number
STN-SR Session Transfer Number - Single Radio
E-STN-SR Emergency Session Transfer Number for SRVCC
# 4 High level principles and architectural requirements
## 4.1 Basic Assumptions
### 4.1.0 General
It is assumed that the UE may be capable of transmitting and receiving
simultaneously in multiple Access Networks or it may be capable of
transmitting and receiving in only one Access Network at a time.
### 4.1.1 PS-CS Access Transfer
The following assumptions apply for PS-CS Access Transfer:
\- **Functions of IMS Centralized Services and IMS Service Continuity are
collocated in a single SCC AS**. Not all functions are always required.
\- When (v)SRVCC enhanced with ATCF is used, additional functions of IMS
Service Continuity are provided by the ATCF/ATGW in the serving (visited if
roaming) network.
\- IMS Centralized Services specifies functions and procedures for use of CS
bearer for the media of the IMS sessions.
\- If both UE and network supports the ICS UE capabilities described in TS
23.292 [5], these capabilities are used for communication of required
information if needed for enablement of PS-CS Access Transfer of IMS
multimedia sessions. During Access Transfer, the UE may decide to retain the
use of the Gm reference point for service control of the real time media
flow(s) in the old PS access (if available) or may decide to transfer the Gm
service control for the real time media flow(s) to a new PS access. Support
and use of the I1 interface in both the UE and SCC AS are subject to the
requirements specified in clauses 5.3.2 and 5.3.1, respectively, of TS 23.292
[5].
\- When using the CS bearer for the media of the IMS session(s), multiple
sessions can exist, but only one active session can be transferred over the CS
bearer; one or more inactive sessions can be transferred.
\- When using the CS bearer for the voice + video media of the IMS session(s)
as a result of performing vSRVCC, only one session with voice+video media can
be transferred to the CS access. All remaining bi-directional voice and voice
+ video sessions but the transferred one are released, if the UE and network
do not support ICS capabilities.
\- PS-CS Access Transfer with UE-based conferencing is not specified in this
release.
\- The SCC AS shall provide the Session State Information to the MSC Server
if:
\- the Access Transfer request is sent by or via the MSC Server;
\- the MSC Server has indicated its capability to support mid-call services in
the registration or indicates its capability in the Access Transfer request
sent to the SCC AS;
\- and ICS UE capabilities cannot be used upon transfer.
\- If supported, the SCC AS and ATCF have additional functions in handling of
PS-CS Access Transfer procedure with priority indication for Single Radio.
### 4.1.2 PS-PS Access Transfer
If a UE has an ongoing multimedia session over an access system and moves to a
different access system but its IMS contact address and its serving P‑CSCF
remains the same, then there is no need to activate any IMS Service Continuity
mechanisms to transfer its multimedia session. The UE may update the session
(e.g. remove media type(s) not supported by the target access system) based on
the normal IMS procedures specified in TS 23.228 [4].
When the Evolved Packet System mobility with IP address preservation is used,
the assumption above also applies.
NOTE: If an ICS UE has an ongoing session using CS bearer and Gm reference
point over an IP‑CAN and performs an Access Transfer to a different IP‑CAN,
the Service Control Signalling Path can be transferred from the old IP‑CAN to
the new IP‑CAN while retaining the media flow(s) in the CS access network, so
that service continuity of the session is maintained.
### 4.1.3 Inter-UE Transfer
The following assumptions apply for Inter-UE Transfer:
\- The UEs involved in IUT Media Control Related Procedures can belong to
different IMS subscriptions under the same operator.
\- The Collaborative Session Control can be transferred between UEs
registering Public User identities that share the same service profile (and
thus belong to the same IMS subscription).
\- There is only one Controller UE within a Collaborative Session.
\- A Controllee UE is not aware of its role within a Collaborative session and
it is not aware of the Controller UE. In that respect any UE can undertake the
role of Controllee UE.
\- The Collaborative Session is transparent to the remote end, to which it
appears that the session is with the Controller UE.
\- Any IUT capable UE can request IUT Media Control Related Procedures. Such
requests are subject to authorization by the SCC AS and/or the Controller UE.
\- The UEs involved in Inter-UE Transfer without establishing a Collaborative
Session use Public User identities that share the same service profile.
## 4.2 Architectural Requirements
### 4.2.1 General Requirements
\- It shall be possible to perform multimedia session transfer between access
systems regardless of whether network layer mobility is deployed or not.
NOTE 1: The mechanism to avoid potential conflict between PS-PS Access
Transfer and underlying network layer mobility (e.g. Evolved Packet System
mobility, etc.) is not specified within this Release of the specification.
\- The service disruption when session transfer occurs shall be minimized.
\- There shall be no impact on the radio and transport layers and on the PS
core network.
\- UEs that do not support the functionality described in this specification
shall not be impacted.
\- All media flow(s) within a multimedia session or a subset of media flow(s)
within a multimedia session could be subject to session transfer procedures.
\- It shall be possible to register a Public User Identity with multiple
contact addresses (at the same or via separate UEs) via IMS registration
procedures as defined in TS 23.228 [4], clause 5.2.1. The number of allowed
simultaneous registrations is defined by home operator policy.
\- It shall be possible to perform correlation of charging data from different
access networks when service continuity between these networks is performed.
\- The UE shall be IMS registered before invoking any Session Transfer
procedures.
\- The filter criteria shall contain a condition that a 3rd-party registration
is performed via the ISC interface for the SCC AS.
\- It shall be possible to provide SR-VCC support for IMS emergency call from
PS to CS Access Transfer.
NOTE 2: The CS to PS Access transfer for IMS emergency call SRVCC is not
supported in this Release of the specification.
### 4.2.2 Access Transfer Requirements
\- It shall be possible to provide Access Transfer in the home network or in
the visited network (if roaming) when the user is moving between 3GPP access
systems.
\- It shall be possible to provide Access Transfer when the user is moving
between 3GPP and non-3GPP access systems.
\- It shall be possible to provide Access Transfer when the user is moving
between non-3GPP access systems.
\- It shall be possible to provide Access Transfer between an Access Network
that supports real-time media on the CS domain and non-real-time media on the
PS domain, and an IP‑CAN that supports transport of all media types.
\- If it is not possible or not desired (e.g. due to user preferences and/or
operator policies) to transfer all the media flow(s), then a subset of the
media flow(s) shall be transferred (if possible) and the remaining flow(s)
will be released or kept in the transferred out access.
\- It shall be possible for the UE to add or remove one or more media flow(s)
to/from an ongoing multimedia session that it controls during Access Transfer.
\- It shall be possible to provide Access Transfer when the P‑CSCF changes.
\- It shall be possible for the UE to use IMS mechanisms to transfer its
ongoing multimedia sessions to a target Access Network without requiring any
new functionality on the remote party.
\- It shall be possible for the UE to initiate an Access Transfer procedure
based on operator policy provided by the network which may include
restrictions of Access Transfer.
\- It shall be possible for the SCC AS to update the operator policy in the
UE.
### 4.2.3 IUT Requirements
\- It shall be possible for the Controller UE to apply IUT when a remote end
adds media to an existing session.
\- IUT shall be able to coexist with Access Transfer as specified in this
specification and TS 23.292 [5].
\- If the Collaborative Session Control is lost for an active Collaborative
Session, the SCC AS shall release all the Access Legs participating in that
Collaborative Session.
\- It shall be possible for the Controller UE to determine all other UEs that
are currently available and authorised for IUT procedures.
\- It shall be possible for the Controller UE to determine the media and
service capabilities of each available UE.
\- The network shall reject IUT between UEs that are not authorised.
\- The Hosting SCC AS shall maintain the end-to-end session service state of a
UE engaged in IUT.
\- It shall be possible to execute IUT Media Control Related Procedures in any
order, and any number of times, for a given session.
\- The Controller UE shall maintain the Collaborative Session Control for the
session until the Collaborative Session is released or until the Collaborative
Session Control is transferred to another Controller capable UE.
\- It shall be possible for a Controller UE to initiate transfer of
Collaborative Session Control to another Controller capable UE that has
registered a Public User identity that shares the service profile with the
Public User identity used in the Collaborative Session.
\- It shall be possible for a Controller capable UE to request and, when
authorized, to pull Collaborative Session Control from a source UE.
\- The media flow(s) on the target UE shall be established using IMS session
setup procedures as specified in TS 23.228 [4].
\- The Controller UE may transfer one or more media flow(s) to one or more
target UEs (including itself).
\- The selection of the media flows to be transferred may be based on the
target UE(s) capabilities.
\- The Controller UE shall have information about a Collaborative Session,
which describes all media components currently existing in this session and
the UEs associated with these media components.
\- The Collaborative Session procedures for a Controllee UE without IUT
capabilities shall not have any impact to the UE. Therefore any IMS UE shall
be able to act a Controllee UE within a Collaborative Session.
\- UEs using CS access interworked with IMS by an interworking node shall be
provided with limited Controllee UE functionality based on the constraints of
the interworking node.
\- After the local end changes due to an IUT procedure without establishing a
Collaborative Session, the SCC AS shall update the remote end that the session
is continuing with a new local end.
\- It shall be possible to apply IUT Media Control Related Procedures between
UEs belonging to different IMS subscriptions.
\- When UEs from different subscriptions are involved in a Collaborative
Session, the SCC ASs shall assure that UEs do not create subsequent
Collaborative Sessions for media belonging to Access Legs of the original
Collaborative Session, and thus only a single Collaborative Session with a
single hosting SCC AS shall be allowed.
\- When an SCC AS creates an access leg towards a UE that is not part of the
same subscription that is currently associated with the Collaborative Session,
it shall include sufficient information indicating that there already exists a
hosting SCC AS.
\- It shall be possible for a UE to indicate that it is capable to become a
Controller UE.
\- It shall be possible for the Controller UE to apply IUT Media Control
Related Procedures when setting up either an originating or terminating
session.
\- It shall be possible, based on the terminating user\'s preferences, to
route incoming IMS session requests to a UE that is capable of becoming a
Controller UE.
\- It shall be possible for a UE to request to replicate one or more media
flow(s) from the remote end.
\- It shall be possible for the network to replicate media in order to support
the media replication scenarios described in this document.
\- It shall be possible for a UE to determine the information of ongoing
multimedia session(s) in other UEs before or during IUT Media Control Related
Procedures.
\- It shall be possible for the network to mask information on some or all of
the sessions or media flows composing the session from session discovery based
on user service configuration or operator policy.
\- The selection of the media flows to be transferred may be based on the
ongoing multimedia session(s) on the source UE(s) discovered by the target
UE(s) in pull mode.
\- It shall be possible for a UE to request and, when authorized, to pull one
or more media flow(s) from a source UE.
\- It shall be possible for the Controller UE to authorize requests for IUT
Media Control Related Procedures.
\- It shall be possible for the network to authorize requests for IUT Media
Control Related Procedures on behalf of the Controller UE.
\- The network shall resolve conflicting IUT Media Control Related Procedures
within a Collaborative Session.
\- When the Collaborative Session Control on the Controller UE is lost, the
SCC AS may transfer the Collaborative Session Control to another Controller
capable UE (with a Public User Identity belonging to the same service profile)
involved in the Collaborative Session based on the user preferences associated
with the Controller UE.
\- It shall be possible for the SCC AS to initiate Inter-UE Transfer on behalf
of the UE/user as a result of a UE requesting IUT, or due to other stimulus
such as, but not restricted to, IMS signalling received by the SCC AS from
other IMS entities, user preferences, or other service layer triggers.
\- Replication / transfer of some or all media components to target IMS UE(s),
belonging to the same or to different user(s) that are subscribed to the same
operator, shall not be performed when the remote end (e.g. the source of the
media) of the session restricts such operation.
## 4.3 Service Continuity
### 4.3.1 Session Transfer concepts
#### 4.3.1.1 General
When an UE is active in an IMS session, the Session Transfer procedures
provide service continuity between Access Networks and between UEs having IMS
subscriptions under the same operator.
The initial and all subsequent Session Transfer procedures are initiated by
the UE and are executed and controlled by the same SCC AS.
The SCC AS generates charging information for all Session Transfers for an IMS
session for the purpose of billing and charging.
The UE sends information required by the SCC AS in order to execute Session
Transfer procedures.
#### 4.3.1.2 Access Transfer concepts
##### 4.3.1.2.1 General Access Transfer concepts
IMS sessions from and to a UE are anchored at the SCC AS in the home IMS and
may also be anchored at the ATCF in the serving (visited if roaming) network
to provide Service Continuity for the user during transition between two
Access Networks. Sessions are anchored at the SCC AS in the home IMS, based on
iFC. A 3pcc (3rd party call control) function is employed at the SCC AS to
facilitate inter-Access Network mobility through the use of Access Transfers
between the two Access Networks. IMS media sessions may be anchored by the
ATCF during session establishment depending on operator policy. Access
Transfers may be enabled in one or both directions as per network
configuration requirements. The SCC AS has the capability to perform Access
Transfers for a UE\'s sessions multiple times.
Initiation of Access Transfer procedures for ongoing multimedia session may be
based on the operator policy received from the SCC AS.
##### 4.3.1.2.2 Access Transfer (PS -- CS) concepts
IMS sessions established in CS or PS Access Networks are anchored at the SCC
AS. Additionally, IMS media sessions subject to CS to PS or PS to CS SRVCC can
be anchored by the ATCF. IMS sessions using CS bearer are established at
session setup or upon Access Transfer using procedures specified in TS 23.292
[5].
PS-CS Access Transfer shall be provided according to the requirements
specified in clause 22.3, Service Continuity, of TS 22.101 [9].
When using a UE that does not have, or that is unable to use, ICS UE
capabilities as specified in TS 23.292 [5], Access Transfer of one active bi-
directional speech or speech and video session and zero or one inactive bi-
directional speech session shall be provided when transferring speech and/or
video media flow between CS and PS access. For PS to CS (not CS to PS) Access
Transfer, if the UE has more than one anchored active bi-directional session,
the session that was most recently made active shall be transferred.
NOTE: PS to CS transfer - Single Radio of a bi-directional session in pre-
alerting state (the state before alerting state in early dialog) is not
supported.
When using a UE that is able to use ICS capabilities as specified in TS 23.292
[5], Access Transfer of one active bi-directional speech or speech and video
session and zero or more inactive bi-directional speech sessions shall be
provided using the Gm reference point, or optionally the I1 reference point,
of ICS to transport required information, as specified in TS 23.292 [5], when
transferring speech and/or video media flow between CS and PS access.
For PS to CS Dual Radio Access Transfer, if the UE has more than one anchored
active bi-directional speech session, then the UE shall first request transfer
of one of the active bi-directional sessions, put the remaining active
sessions on hold and then request the transfer of one of the remaining
inactive bi-directional sessions. Access Transfer shall also be provided for
one or more inactive bi-directional speech sessions if the UE has no active
bi-directional speech sessions.
When Single Radio PS-to-CS Access Transfer is performed for an active bi-
directional speech and video session, if the UE and network do not support ICS
capabilities, all the remaining bi-directional speech and speech + video
sessions, if any, are released by the UE and SCC AS.
The SCC AS maintains, for all active and inactive sessions, Session State
Information as defined in clause 4.3.3.
For PS to CS Access Transfer, if the Access Transfer request has been sent by
MSC Server or by the UE through the MSC Server and if the MSC Server has
indicated its capability and ICS UE capability cannot be used upon transfer,
then the SCC AS shall provide Session State Information to the MSC Server
enhanced for ICS or (v)SRVCC as specified in TS 23.292 [5] and TS 23.216 [10],
respectively. The SCC AS shall not provide Session State Information if either
the UE or operator policy on the SCC AS indicates that network capabilities
shall not be used to support mid-call services during Access Transfer. When
receiving information about an additional session, the MSC Server enhanced for
ICS or (v)SRVCC shall initiate Access Transfer towards the SCC AS for the
additional session. When receiving information for a session, the MSC Server
shall create a service context for this session using this information and
perform service control on behalf of the UE as specified in TS 23.292 [5].
For CS to PS Access Transfer initiated by a UE not able to use ICS capability,
the SCC AS shall provide Session State Information to the UE on the
transferring-in leg.
##### 4.3.1.2.2A MSC Server assisted mid-call feature
The MSC Server assisted mid-call feature provides the preservation of mid-call
services (inactive sessions or sessions using the Conference service) upon PS
- CS Access Transfer without requiring the UE to use ICS capabilities.
When the MSC Server assisted mid-call feature is enabled, the MSC Server, the
SCC AS and the UE shall support one or more of the procedures specified in
clauses 6.3.2.1.1a, 6.3.2.1.2a, 6.3.2.1.4a, 6.3.2.1.6, 6.3.2.1.7, 6.3.2.1.7a,
6.3.2.1.7b and 6.3.2.1.8.
The MSC Server assisted mid-call feature shall only be triggered if UE, MSC
Server, and SCC AS all support the MSC Server assisted mid-call feature.
##### 4.3.1.2.3 Co-existence of ICS UE and MSC Server assisted mid-call
feature
A UE may implement both ICS UE capability and the MSC Server assisted mid-call
feature for situations when the ICS UE capabilities cannot be used or be
maintained after the transfer. For such a scenario, if ICS UE indicates both
capabilities then the SCC AS needs to determine which capabilities are used to
transfer the additional active or inactive sessions. The following logic is
applied in the SCC AS to achieve this:
\- If the Access Transfer request is made using ICS UE capabilities, the SCC
AS detects that ICS UE capabilities are used and executes the transfer
according to procedures defined in clause 6.3.2 of the present document.
\- If the Access Transfer request is made via the MSC Server, the SCC AS needs
to determine whether ICS capabilities are used:
\- If the ICS UE is able to use ICS capabilities, then clause 6.3.2 of the
present document applies.
\- If the ICS UE is not able to use ICS capabilities, then MSC Server assisted
mid-call feature is used.
The SCC AS can determine whether ICS capabilities are used based on the local
configuration, or alternatively delay for an adequate time sending the session
state information to the MSC Server in order to trigger the MSC Server
assisted mid-call feature such that the potential re-establishment of Service
Control Signalling Path by the ICS UE can be excluded.
\- If no Access Transfer request is received, and the SCC AS detects that the
ICS UE capabilities can not be used for the ICS UE due to loss of the Service
Control Signalling Path over Gm reference point and unavailability of I1
reference point, the MSC Server assisted mid-call feature is used, with the
following differences from the PS-CS Access Transfer:
\- the CS Bearer Control Signalling Path(s) is/are used for control of the
session(s), with the existing CS bearer Control Signalling Path reused for
control of the most recently active session.
\- upon detecting that the Service Control Signalling Path is unavailable then
clause 6.3.5 of the present document applies.
#### 4.3.1.3 Inter‑UE Transfer concepts
##### 4.3.1.3.1 General
IMS sessions from and to a UE are anchored at the SCC AS in the home IMS to
provide service continuity for the user when one or more media flows of an
ongoing IMS multimedia session are transferred, added or deleted among
different UEs.
A Collaborative Session, which is split on the local end across two or more
UEs and anchored in the SCC AS, is established due to the Inter-UE Transfer
procedures; such procedures may be executed by the UE either at the time of
IMS session setup or subsequent to IMS session setup. The UE which initiates
the Inter-UE Transfer procedures to establish the Collaborative Session
becomes the Controller UE of the Collaborative Session and the other UE(s)
involved in the Collaborative Session become the Controllee UE(s). Subsequent
Inter-UE Transfer procedures, initiated by the Controller UE, can also be
performed within the Collaborative Session. The SCC AS provides the
coordination of the Collaborative Session procedures which may involve both
the Controller UE and the Controllee UE(s).
Any IUT capable UE can request IUT Media Control Related Procedures. Such
requests are subject to authorization by the SCC AS and/or the Controller UE.
Authorization is based on user and/or operator provided application specific
settings in the SCC AS and/or the Controller UE. These application specific
settings may be associated with the service profile of the Controller UE in
service specific data in the HSS.
Although any IUT capable UE can request IUT Media Control Related Procedures,
there can be only one Controller UE at a time in a Collaborative Session. The
UE that establishes the Collaborative Session and whose service profile is
active for the session with the remote end is the initial Controller UE. The
Controller UE role (Collaborative Session Control) may be transferred to a
different UE during the life of the Collaborative Session. Collaborative
Session Control may be transferred only to another Controller capable UE that
has registered a Public User Identity that shares the same service profile
(and thus belongs to the same IMS subscription) as the Controller UE. The
Hosting SCC AS does not change during the life of the Collaborative Session.
Inter-UE Transfer procedures can also be executed without establishing a
Collaborative Session. In this case, the whole IMS multi-media session is
transferred from one UE to the other UE, and the roles of the Controller and
Controllee UEs are not applicable.
Inter-UE Transfer procedures may be initiated by the UE based on the
information it gets from Target UE discovery.
The UEs that participate in IUT Media Control Related Procedures may belong to
different IMS subscriptions under the same operator. When this is the case,
the IUT service request must be authorized by the Controller UE (or by its
associated SCC AS on behalf of the Controller UE) of a Collaborative Session,
and may also be authorized by the SCC AS associated with a Controllee UE or
associated with another UE not participating in the Collaborative Session that
has issued an IUT service request. In order to perform \"network-based\" (SCC
AS-based) authorization of such requests, the SCC AS can use participant
(user)-related information in the request; that is, the SCC AS may authorize a
given IUT service request if it is associated with a particular user, but not
authorize the same request if it is associated with a different user.
##### 4.3.1.3.2 Controller UE and Controllee UE operations
##### 4.3.1.3.2.1 Overview
The operations of Controller UE and Controllee UE are described respectively
in clauses 5.3.2.2.2 and 5.3.2.2.3.
### 4.3.2 Void
### 4.3.3 Information used for IMS Service Continuity
The following information may be provided between SCC AS and the UE.
Depending on the IMS Service Continuity scenario, the Access Transfer request
may contain the following:
\- session transfer indicator;
\- details about the access and the media flow(s) being transferred / kept /
released;
\- optionally, an IMS Communication Service Identifier defined in TS 23.228
[4];
\- which session is required to be replaced or updated;
\- whether to merge the session(s).
The above addressed information are carried in various SIP/SDP and CS call
control messages (specified in the applicable information flows), which
provides the necessary details to enable IMS Service Continuity. The SCC AS
and the UE analyze the included information and determine if and how a Session
Transfer operation needs to be performed.
The ATCF may include into the Registration request the following:
\- allocated STN-SR pointing to the ATCF.
The above information is carried in SIP messages (specified in the information
flows) providing the necessary details.
When an ATCF is used, t the SCC AS provides the following information to the
ATCF:
\- ATU-STI; and
\- C-MSISDN.
The above information is carried in SIP messages (specified in the information
flows) providing the necessary details.
The Access Transfer Update request from the ATCF to the SCC AS may contain the
following:
\- indication that Access Transfer has taken place for a particular session.
The above information is carried in SIP messages (specified in the information
flows) providing the necessary details.
For support of CS to PS SRVCC, a dynamic STI-rSR is provided to the UE from
the ATCF.
The Session State Information sent by the SCC AS may contain the following
about one active and zero or one inactive bi-directional speech session(s) for
enablement of PS-CS service continuity of IMS multimedia-sessions:
\- calling party;
\- called party;
\- needed STI;
\- further session information (e.g. active, inactive, conference call
initiator, conference URI, identifier of all participants) as required.
The above information is carried in SIP messages (specified in the information
flows) providing the necessary details to enable MSC Server assisted mid-call
feature.
# 5 Architecture model and reference points
## 5.1 Overview
IMS Service Continuity provides intra-UE transfers of one or more components
of IMS multi media sessions across different Access Networks. When SRVCC
enhanced with ATCF is used, IMS Service Continuity may be executed in the
serving network (visited if roaming) or in the home network. In addition,
Service Continuity enables adding, deleting, and transferring media flows of
IMS multi-media sessions or transferring whole IMS multi-media sessions across
multiple UEs having IMS subscriptions under the same operator.
NOTE: For IMS emergency service, IMS Service Continuity is a serving network
(visited if roaming) based IMS application.
The UE shall not invoke Inter-UE Transfer procedures while engaged in an
emergency call.
## 5.2 Reference Architecture for non emergency session
### 5.2.1 General
**IMS Service Continuity requires a Service Centralization and Continuity
(SCC) AS, which is an Application Server as described in TS 23.228 [4], and a
UE with SC capabilities. When SRVCC enhanced with ATCF is used, an Access
Transfer Control Function (ATCF) and an Access Transfer Gateway (ATGW) may be
used in the serving network (visited if roaming). For the support of IMS
sessions with CS media, refer to the reference architecture in TS 23.292 [5],
clause 5.2; the functions of ICS and SC are specified as optional functions
co-located in the SCC AS in this release.**
OMA Device Management [7] is used between the SCC AS and the UE for
provisioning of operator policy for Access Transfer.
### 5.2.2 Architecture when using ATCF enhancements
Figure 5.2.2-1 provides the reference architecture for SRVCC using the ATCF
enhancements (non-emergency session). The figure only depicts the specific
reference points for the ATCF. For other reference points of the general
architecture, refer to the reference architecture in TS 23.292 [5], clause
5.2.
Figure 5.2.2-1: IMS Service Centralization and Continuity Reference
Architecture when using ATCF enhancements
If the MSC Server is not enhanced for ICS, the interface between MSC Server
and ATCF is Mw.
If the MSC Server is enhanced for ICS, the interface between MSC Server and
ATCF is I2.
If the ATCF is co-located with P-CSCF, the interface between ATCF and ATGW is
Iq, according to TS 23.334 [30].
If the ATCF is co-located with IBCF, the interface between ATCF and ATGW is
Ix, according to TS 29.162 [31].
For CS to PS SRVCC scenarios, the interface between MSC Server and ATCF is I2.
## 5.3 Functional Entities
### 5.3.1 SCC AS
The SCC AS provides IMS-based mechanisms for enabling service continuity of
multimedia sessions.
For IMS Service Continuity, the SCC AS implements the following
functionalities:
\- **Access Transfer** : The SCC AS uses the ISC reference point towards the
S-CSCF for execution of the Access Transfer. The SCC AS performs the following
for enablement and execution of Access Transfers:
\- analyzes the information required for Access Transfer as described in the
procedure section and decides which Access Transfer scenario should be
executed; it rejects the Access Transfer request if it is not aligned with the
operator policy;
\- retrieves from the HSS after third party registration the C‑MSISDN bound to
the IMS Private User Identity stored in the user profile in the HSS;
\- correlates the Access Transfer request with the anchored session, using
information provided in the incoming SIP INVITE;
\- correlates the Access Leg created by Access Transfer Update message from
the ATCF with the Remote Leg;
\- when third-party register is received (as a result of a UE is registering)
and this third-party register is related to a contact address for which SRVCC
is provided, clears any existing STN-SR that has been set and provides to the
HSS:
\- home-network configured STN-SR if a third-party register without a STN-SR
is received; or
\- STN-SR received in a third-party register different from the existing STN-
SR that has been set into HSS;
\- when an ATCF is used, provides after successful IMS registration procedure
the C-MSISDN and a routable Access Transfer Update - Session Transfer
Identifier (ATU-STI) to the ATCF;
\- executes the transfer of the IMS session between different access networks;
\- implements 3rd party call control (3pcc) upon session establishment;
\- provides Access Transfer specific charging data;
\- decides based on analysis of the various service continuity related input
factors, whether to update provisioned operator policy for Access Transfer;
\- generates and updates operator policy by sending operator policy to the UE
via OMA DM [7] including the priority between the operator policy and user
preferences that could be used also to initiate Access Transfer procedure for
ongoing sessions.
\- in case it supports vSRVCC it provides information to the MSC related
whether the most recently active bi-directional sessions is voice or voice +
video to determine if it is should perform vSRVCC or SRVCC procedure.
\- if CS to PS SRVCC is supported and indicated by the MSC Server, the SCC AS
provides to MSC Server:
\- updated ATCF management URI for the UE\'s IMS registration when available.
\- updated registration status of the UE\'s IMS registration.
\- **Inter-UE Transfer:** The SCC AS performs the functions for enablement and
execution of Inter-UE Transfer procedures:
\- executes the IMS Inter-UE Transfer related procedures between different UEs
having IMS subscriptions under the same operator connected via the same or
different access networks;
\- authorizes requests for IUT procedures;
\- when UEs from different subscriptions are involved in a Collaborative
Session, assures that UEs do not create subsequent Collaborative Sessions for
media belonging to Access Legs of the original Collaborative Session, by
adding an indication to the IUT request;
\- when aware that a Hosting SCC AS already exists for a Collaborative
Session, forwards received IUT requests to that SCC AS;
\- provides Inter-UE Transfer specific charging data.
\- **Terminating Access Domain Selection (T-ADS):** In addition to T‑ADS
specified in TS 23.292 [5].
For a terminating session, the SCC AS may select more than one contact amongst
multiple registered contacts for each selected UE of the SC User and may split
the session into sessions directed to the selected contacts.
For multiple contacts in the PS domain, the SCC AS shall be able to select one
or more types of access networks through which the session shall be
terminated. In this case, the SCC AS includes additional information within
the session request(s) to ensure that the corresponding session is terminated
via the selected access network type(s).
For Inter-UE Transfer procedures to a target UE, the SCC AS shall execute
T-ADS to select one or more contacts to establish one or more access legs or
to reuse one or more access legs belonging to the same Collaborative Session
towards the target UE for the transferred media flow(s).
T-ADS in SCC AS may be used in order to enforce user preferences between 3GPP
and non-3GPP access networks.
UE assisted T-ADS (UE T-ADS) may be used in order to enforce user preferences
for CS bearer or PS bearer for voice/video on 3GPP accesses.
\- **Handling of multiple media flows:** The SCC AS provides functionality to
combine and/or split media flows over one or more Access Networks as needed
for Session Transfers, session termination, or upon request by the UE to add
media flows over an additional Access Network during the setup of a session,
or upon request by the UE to add and/or delete media flows over one or more
Access Networks to existing sessions.
When handling media flows of an IMS session, the SCC AS takes into account the
services associated with the session.
### 5.3.2 IMS Service Continuity UE
#### 5.3.2.1 Access Transfer Functions
For supporting Access Transfer, the UE provides the following functions:
\- Stores and applies operator policy for Access Transfer.
\- Initiates Access Transfer procedure based on trigger criteria including the
current operator policy, user preferences and the Local Operating Environment
Information, providing the necessary details for conducting an Access Transfer
operation to the SCC AS.
When supporting CS to PS SRVCC, the UE provides the following functions:
\- Retrieves and stores STI-rSR in conjunction with the IMS registration.
\- Provide the network with information of pre-allocated ports and codec
information to be used during CS to PS access transfer.
#### 5.3.2.2 IUT Functions and Roles
##### 5.3.2.2.1 Functions
For supporting Inter-UE Transfer, the UE may provide the following functions:
\- Discovers the target UE(s) for Inter-UE Transfer;
\- Initiates Inter-UE Transfer procedures based on user input.
\- Takes the role of a Controller UE within a Collaborative Session.
Any IMS UE can take the role of a Controllee UE.
##### 5.3.2.2.2 Controller UE Role
\- The Controller UE can initiate the addition of a media flow to a
Collaborative Session, on any of the Controllee UEs already involved in the
Collaborative Session.
\- The Controller UE can initiate the modification of a media flow that is
part of a Collaborative Session it controls.
\- The Controller UE can initiate the release of a media flow that is part of
a Collaborative Session it controls.
\- The Controller UE keeps track of all the UEs and about the state of the
media flows which are part of a Collaborative Session it controls. That means
it remains aware about the media flows that are established, as well as about
the media used for those.
\- The Controller UE is the one to accept or refuse requests for media
additions initiated by the remote party for a Collaborative Session it
controls. In case it accepts a remote party initiated media addition, the
controller decides on which terminal the media shall be added.
\- The Controller UE for a Collaborative Session can initiate Inter-UE
Transfer of one or more of the media flows of the Collaborative Session.
\- The Controller UE can initiate the release of a Collaborative Session.
\- The Controller UE can add into a Collaborative Session it controls a UE not
yet involved in this Collaborative Session.
\- The Controller UE can initiate the transfer of Collaborative Session
Control.
##### 5.3.2.2.3 Controllee UE Role
Any IMS UE can take the role of a Controllee UE. In this role the Controllee
UE can:
\- initiate the modification of a media flow which terminates on it.
\- initiate the release of a media flow which terminates on it.
\- accept or refuse:
\- media modifications initiated by the remote party or by the Controller UE
or other Controllee UEs of the same Collaborative Session, for media flow(s)
it terminates;
\- media additions initiated by the Controller UE or other Controllee UEs of
the same Collaborative Session or by a remote party (in the last case, this
assumes that the Controller UE has accepted the addition and selected the
Controllee UE);
\- media transfers initiated by the Controller UE or other Controllee UEs of
the same Collaborative Session, for which the Controllee UE is the target.
\- initiate IUT Media Control Related Procedures if the Controllee UE is
capable of IUT.
### 5.3.3 Emergency Access Transfer Function (EATF)
The Emergency Access Transfer Function (EATF) provides IMS-based mechanisms
for enabling service continuity of IMS emergency sessions. It is a function in
the serving (visited if roaming) IMS network, providing the procedures for IMS
emergency session anchoring and PS to CS Access Transfer. The EATF acts as a
routing B2BUA which invokes third party call control (3pcc) for enablement of
Access Transfer.
The EATF performs the session continuity when the Access Transfer request
indicated by the E-STN-SR is received.
### 5.3.4 Access Transfer Control Function (ATCF)
#### 5.3.4.1 General
The Access Transfer Control Function (ATCF) is a function in the serving
(visited if roaming) network. When (v)SRVCC enhanced with ATCF is used, the
ATCF is included in the session control plane for the duration of the call
before and after Access Transfer.
The ATCF may be co-located with one of the existing functional entities within
the serving network (i.e. P-CSCF or IBCF).
NOTE 1: Anchoring in the ATCF for sessions that include audio and video media
may not provide delay benefits for the video part given the additional delay
required for video codec negotiation when the UE moves to the CS domain.
NOTE 2: Anchoring Support of CS to PS SRVCC in the serving network requires
that there is no other media gateway on the media path between UE and ATGW.
The ATCF shall:
\- based on operator policy, decide to:
\- allocate a STN-SR;
\- include itself for the SIP sessions; and
\- instruct the ATGW to anchor the media path for originating and terminating
sessions;
\- keep track of sessions (either in alerting state, active or held) to be
able to perform Access Transfer of the selected session;
\- perform the Access Transfer and update the ATGW with the new media path for
the (CS) access leg, without requiring updating the remote leg;
\- after Access Transfer, update the SCC AS that Access Transfer has taken
place to ensure that T-ADS has the information on the currently used access;
\- handle failure cases during the Access Transfer.
After access transfer, and based on local policy, the ATCF may remove the ATGW
from the media path. This step requires remote end update.
If MSC Server assisted mid-call feature is used, then the SCC AS provides
required session state information on alerting, held and/or conference state
for any transferred session.
The ATCF shall not modify the dynamic STI that is exchanged between the UE and
SCC AS.
When CS to PS SRVCC is supported, the ATCF shall:
\- Provide a STI-rSR (unique to the ATCF) to the UE.
\- Handle CS to PS Access Transfer notification and preparation requests from
the MSC Server.
#### 5.3.4.2 ATCF inclusion
The following implementation methods could be used to determine if the ATCF
should be including itself during registration:
\- If UE is roaming, based on the roaming agreement (e.g., home operator also
support SRVCC enhanced with ATCF in SCC AS and HSS).
\- Based on local configuration (e.g. if operator always deploys IBCF, MGCF
etc. with media anchor for inter-operator calls).
\- Based on registered communication service and media capabilities of the UE.
\- Based on the access type over which the registration request is sent.
NOTE: If the ATCF decides not to include itself during registration, it will
not be possible to use the ATCF enhancements during and after the registration
period.
The following implementation methods could be used to determine if the ATCF
should anchor the media in the ATGW for an originating or terminating call:
\- Based on whether the UE is roaming or not.
\- Based on local configuration (e.g., if operator always deploys IBCF, MGCF
etc. with media anchor for inter-operator calls).
\- Based on the communication service and media capabilities used for the
session.
\- Based on knowledge of which network the remote party is in.
\- Based on the access type over which the request or response is sent.
\- Based on the SRVCC capability of the UE.
The decision to anchor media at the ATGW, during the session origination or
termination, can occur either at receipt of SDP offer or after a round trip of
SIP signalling with the remote party depending on the method(s) used for
determining whether to anchor media or not.
### 5.3.5 Access Transfer Gateway (ATGW)
The Access Transfer Gateway (ATGW) is controlled by the ATCF and, if SRVCC
enhanced with ATCF is used, stays in the session media path for the duration
of the call and after Access Transfer, based on the local policy of the
serving network.
It supports transcoding after SRVCC handover in case the media that was used
prior to the handover is not supported by the MSC server.
Depending on placement of the ATCF, different physical nodes may be considered
for the ATGW, i.e. IMS-AGW or TrGW.
### 5.3.6 HSS
The HSS shall allow the SCC AS to update the user profile with a new STN-SR.
In the case the ATCF is involved, the STN-SR will address the ATCF, otherwise,
it will address the SCC AS.
### 5.3.7 MSC Server
The MSC Server enhanced for SRVCC shall not provide announcement or other in-
band media for any calls that have been transferred or are in the process of
being transferred (being in active, held or alerting state).
## 5.4 Signalling and bearer paths for IMS Service Continuity
### 5.4.1 General
**The SCC AS is inserted in the signalling path of all the IMS user\'s
sessions; the SCC AS** behaves as a SIP-AS as described in TS 23.228 [4] to
set up a 3pcc to control the bearer path of the session for enablement and
execution of Session Transfer.
### 5.4.2 Sessions with PS media flow(s)
Figure 5.4.2-1 shows 3pcc at the SCC AS, for enablement and execution of
Session Transfers, when the media flow(s) for the Access Leg is established
via IP‑CAN.
The figure is for illustration of the 3pcc at the SCC AS and its use for
Session Transfer; hence it only shows the signalling and bearer components
relevant to the enablement and execution of Session Transfers.
Figure 5.4.2-1: Signalling and bearer paths for sessions with PS media
### 5.4.2a Sessions with PS media flow(s) using ATCF
Figure 5.4.2a-1 shows 3pcc at the ATCF and SCC AS, for enablement and
execution of Access Transfers, when the media flow(s) for the Access Leg is
established via IP-CAN.
The figure is for illustration of the 3pcc at the ATCF and SCC AS and its use
for Access Transfer; hence it only shows the signalling and bearer components
relevant to the enablement and execution of Access Transfers.
Figure 5.4.2a-1: Signalling and bearer paths for sessions with PS media using
ATCF
### 5.4.3 Sessions with CS media
For details of signalling and bearer paths when the media for the Access Leg
is established via the CS access, see TS 23.292 [5], clause 7.1.1. For
illustration of 3pcc at the SCC AS, for enablement and execution of Session
Transfers, with use of the Gm reference point, the I1 reference point and when
not using Gm or I1 for service control signalling respectively, refer to
figures 7.1.1-1, 7.1.1-2 and 7.1.2-1, in TS 23.292 [5], clause 7.1.
### 5.4.3a Sessions with CS media flow(s) using ATCF
Figure 5.4.3a-1 shows 3pcc at the ATCF and SCC AS, for enablement and
execution of CS to PS Access Transfers, when the media flow(s) for the Access
Leg is established via CS.
The figure is for illustration of the 3pcc at the ATCF and SCC AS and its use
for Access Transfer; hence it only shows the signalling and bearer components
relevant to the enablement and execution of Access Transfers.
Figure 5.4.3a-1: Signaling and bearer paths for sessions with CS media using
ATCF
NOTE: If the media path is not anchored in the ATGW, the media will go
directly to the remote side.
## 5.5 IUT Collaborative Sessions
IUT for service continuity allows a multi media session to be split on the
local end across two or more UEs that are part of a Collaborative Session. UEs
that are part of a single Collaborative Session may belong to different IMS
subscriptions under the same operator. Figure 5.5-1: provides signalling and
bearer architecture for a Collaborative Session that involves three UEs
belonging to two IMS subscriptions.
Figure 5.5-1: Collaborative Session Signalling and Bearer architecture
NOTE: The media in Controller UE A1 is optional.
The Controller UE (UE A1) provides the control for a Collaborative Session
using IMS signalling on an Access Leg between Controller UE A1 and SCC AS-A.
The Controller UE may transfer one or more media flow(s) to one or more target
UEs (including itself), by using Collaborative Session control (e.g. in the
SDP).
Controllee UE A2 and Controllee UE B1 provide the control for the media
established on each respective UE using IMS signalling on the Access Leg
associated for the media.
SCC AS-A in this figure is the Hosting SCC AS of the illustrated Collaborative
Session. SCC AS-A combines the media descriptions and Collaborative Session
Control on the Access Legs and presents one Remote Leg towards the remote end.
SCC AS-B in this figure relays service requests associated with the
illustrated Collaborative Session towards SCC AS-A using standard IMS
signalling. In order for SCC AS-B to determine that it shall simply relay
service requests towards the Hosting SCC AS rather than execute them, handling
of requests is applied as follows:
\- if an SCC AS acts as the Hosting SCC AS of a Collaborative Session, it
shall include a piece of service interaction information in the SIP signalling
messages sent to other SCC-ASs, indicating that the Service Feature
\"Collaborative Session\" has been performed;
\- if an SCC AS receives a SIP message containing indication that the Service
Feature \"Collaborative Session\" has been performed, it shall relay all
service requests associated with the Collaborative Session towards the SCC AS
that has inserted this indication.
## 5.6 Reference Architecture for SRVCC emergency session
To allow SRVCC for IMS emergency session with PS to CS Access Transfer
procedures, an EATF is used for emergency sessions anchoring and transferring.
For the overall IMS emergency reference architecture with EATF, refer to the
reference architecture in TS 23.167 [23].
# 6 Procedures and flows for Access Transfer
## 6.0 Introduction
Some of the following figures contain a box labelled CS/IMS Intermediate
Nodes. This is abstraction for CS/IMS functional elements that exist between
the UE and the SCC AS which could include amongst others MSC Server enhanced
for ICS, MSC Server enhanced for SRVCC or an MGCF and an MSC Server not
enhanced for ICS.
## 6.1 Registration
### 6.1.1 General
Whenever the UE acquires IP connectivity via an IP‑CAN, the UE registers in
the IMS as defined in TS 23.228 [4]. The user profile contains a C‑MSISDN
which is bound to the IMS Private User Identity. The S-CSCF follows the
procedures defined in TS 23.218 [13] for performing 3rd party registration
towards the SCC AS.
When using CS access for media, the UE may be registered in IMS as specified
in TS 23.292 [5].
When the SCC AS receives a 3rd party registration per procedures defined in TS
23.218 [13], the SCC AS shall obtain the C-MSISDN from the HSS. If the
C-MSISDN is associated with any ongoing session(s), the SCC AS shall bind all
the unique identities associated with the SIP Registration e.g. GRUUs, contact
address, etc with the session identifier of the ongoing session.
If the SCC AS receives a third-party register without a STN-SR pointing to the
ATCF and this third-party register is related to a contact address for which
SRVCC is provided, the SCC AS shall clear any existing STN-SR that has been
set in the HSS and provide a home network configured STN-SR. The SCC AS shall
ensure that the home network configured STN-SR can be restored in case of SCC
AS failure (e.g. by storing it separately in the HSS as transparent data).
### 6.1.2 Registration using ATCF enhancements
To ensure that the MSC Server selects the correct ATCF during SRVCC procedure,
a routable STN-SR pointing to the ATCF shall be provided to the MME before
SRVCC procedure is triggered.
The ATCF shall allocate the STN-SR when the user performs initial registration
in the IMS. The STN-SR shall be provided through IMS and via third-party
registration to the SCC AS. Depending on operator policy, the SCC AS may
interrogate the HSS to know if the user is subscribed for SRVCC (via STN-SR)
and if the UE is SRVCC capable. If both conditions are met, or based on
operator policy, the SCC AS shall further provide the STN-SR to the HSS if the
received STN-SR is different from the existing one that has been set, which in
turn shall update the MME/SGSN.
The following figure shows an example of IMS registration flow where the ATCF
provides the STN-SR to the home network. Existing IMS Registration procedures
described in TS 23.228 [4] are used to register the user in IMS.
Figure 6.1.2-1: IMS Registration using ATCF enhancements
1\. UE-1 sends an initial SIP REGISTER request to home network via ATCF
(P-CSCF and I-CSCF not shown in flow).
NOTE 2: If the UE receives a new IP address, the UE will perform a new
registration in the IMS according to TS 23.228 [4] and a new ATCF may be
selected.
2\. ATCF decides, based on operator policy and if the home network supports
SRVCC enhanced with ATCF, to allocate a STN-SR. The ATCF includes itself in
the signalling path for subsequent messages during the registration period.
Additionally to the STN-SR, the ATCF allocates an ATCF management URI that can
be used by SCC AS to address the ATCF directly.
3\. If allocated, the STN-SR and ATCF management URI are included in the
request forwarded to the S-CSCF.
NOTE 3: Service level agreements are used to understand whether the home
network supports SRVCC enhanced with ATCF. In addition, as fall back, the ATCF
will as well understand whether SRVCC enhanced with ATCF is activated in the
SCC AS by the reception of C-MSISDN/ATU-STI.
4\. The S-CSCF sends the SIP REGISTER request to the SCC AS according to the
third-party registration procedure.
NOTE 4: In case of multiple registrations from the UE from multiple accesses,
the SCC AS will only receive and use one STN-SR, from an ATCF in the mobile
network.
5\. Depending on the operator policy, the SCC AS sends Sh-Pull message to the
HSS in order to know whether the UE is SRVCC capable, and to retrieve the STN-
SR stored in the HSS.
6\. The HSS replies to the SCC AS with a Sh-Pull Response message including
the UE SRVCC capability if available, and the STN-SR if available.
7\. The SCC-AS determines, based on operator policy or based on the outcome of
Sh-pull procedure, that the user is subscribed for SRVCC via the presence of
STN-SR and that the UE is SRVCC capable. If the STN-SR from the HSS is
different from the STN-SR received from the ATCF, the SCC AS sends a Sh-Update
to provide the STN-SR received from the ATCF to the HSS from the ATCF in order
to replace the STN-SR pointing to the SCC AS or the previously stored STN-SR
pointing to other ATCF.
NOTE 5: If an ATCF does not exist or the ATCF decided not to be included in
step 2, the SCC AS allocates a STN-SR that can be used to route to this SCC AS
and provides it to the HSS, thereby replacing any previously stored STN-SR if
the user is subscribed for SRVCC. If the user is not subscribed for SRVCC, no
STN-SR is set or provided to the MME/SGSN. If a user changes to not being
subscribed for SRVCC by the HSS, the HSS deletes the STN-SR from the MME/SGSN.
NOTE 6: SCC AS only needs to update the STN-SR in the HSS at initial
registration. If the STN-SR has not changed since previous initial
registration, there no update is performed towards MME.
8\. The HSS responds by sending Sh-Update Response message to the SCC AS.
9\. If for a user subscribed for SRVCC, the HSS received a STN-SR in step7
that is different from the stored STN-SR, it updates the stored STN SR and
provides the updated STN-SR to the MME/SGSN. Otherwise this procedure is
skipped.
10\. The MME/SGSN stores the updated STN-SR and responds to the HSS with
Insert Subscriber Data Answer message.
11\. The SCC AS returns 200 OK to the S-CSCF.
The SCC AS informs the UE SRVCC capability to ATCF during IMS registration by
addressing the ATCF using the ATCF management URI. The SCC AS is able to
retrieve the updated UE SRVCC capability status by sending Sh-Pull message to
the HSS at any point. If SCC AS detects the UE SRVCC capability change, SCC AS
then informs the ATCF about the updated SRVCC capability of the UE and the
ATCF stores this information for deciding whether anchoring IMS voice
originating sessions at the ATGW or not.
NOTE 7: The trigger for SCC AS to poll the HSS for the updated UE SRVCC
capability status is not specified in this release of the specification.
NOTE 8: If the UE switches on/off its SRVCC capability during the lifetime of
IMS registration, and the SCC AS has not polled the HSS in the meantime, the
SCC AS and ATCF will not have the updated value of SRVCC capability.
### 6.1.3 Registration: CS to PS - Single Radio
#### 6.1.3.1 IMS Registration by UE
As a prerequisite for CS to PS SRVCC to be applied, the UE shall be IMS
registered over PS. The IMS Registration procedures of clause 6.1.2 apply. The
UE shall include a pre-defined port and codec for the voice media that can be
used during the access transfer to send downlink media to. The UE shall also
include its CS to PS SRVCC capability in the registration request.
Additionally, a dynamic STI-rSR shall be provided to the UE from the ATCF in
conjunction to the IMS Registration.
#### 6.1.3.2 UE IMS Registration change update
As a prerequisite for CS to PS SRVCC to be applied, the UE shall be attached
to an MSC Server enhanced for ICS and IMS-registered via CS access by this MSC
Server using I2 reference point, as specified in TS 23.292 clause 7.2.1. In
addition, as part of this registration procedure, the MSC Server enhanced for
ICS shall indicate to the SCC AS that it needs to be updated with the UE\'s
IMS registration status and/or changes to the ATCF management URI, as
described below.
Figure 6.1.3.2-1 provides the procedures of how the MSC Server indicates to
the SCC AS to retrieve the UE\'s IMS registration status and updates to ATCF
management URI, and how it is updated with changes.
Figure 6.1.3.2-1: Subscription to UE\'s IMS registration status
1\. As part of the IMS registration from the MSC Server, the MSC Server may
indicate to the SCC AS the wish to be updated with the UE\'s IMS registration
status and/or changes to the ATCF management URI.
2-3. If the UE\'s IMS registration status changes or the ATCF management URI
changes for the UE\'s IMS registration, the SCC AS provides the information to
the MSC Server. The UE CS to PS SRVCC capability is also provided in this
message and is not updated further.
## 6.2 Origination and Termination
### 6.2.1 Origination
#### 6.2.1.1 Origination Procedures
UE initiated multimedia sessions are anchored at the SCC AS in order to enable
IMS Service Continuity. Originating iFC for the SC subscriber results in
routing of the session to the SCC AS in the home IMS network, where the SCC AS
uses 3rd party call control as per TS 23.228 [4] to initiate a session to the
remote party on behalf of the subscriber.
The SCC AS shall be the first Application Server of any Application Servers
that need to remain in the path of the call after Session Origination.
#### 6.2.1.2 Originating sessions that use CS media
The UE originates sessions that use CS media by following the procedures
specified in TS 23.292 [5], clause 7.3.2 Originating sessions that use CS
media.
Figure 6.2.1.2-1: Originating session that uses CS media
1\. UE‑1 initiates a multimedia session to UE‑2 and makes use of CS media.
UE‑1 sends the request to the SCC AS following the procedures specified in TS
23.292 [5], clause 7.3.2 Originating sessions that use CS media, for setting
up CS bearer, anchoring the session at the SCC AS, merging multiples legs if
necessary, and forwarding the combined session request to UE‑2.
2\. The SCC AS anchors the session. A dynamic STI is assigned for the anchored
session.
3\. The SCC AS completes session setup to UE‑2 and sends a response to UE‑1
based on the procedures specified in TS 23.292 [5]. The dynamic STI is
communicated between the SCC AS and UE-1 if possible.
The session is set up with CS media. The session may also include PS media
flow(s).
#### 6.2.1.3 Originating sessions that use only PS media flow(s)
Existing Mobile Origination procedures described in TS 23.228 [4] are used to
establish a session.
Figure 6.2.1.3-1: Originating session that uses only PS media
1\. UE-1 initiates an IMS multimedia session to UE-2 and uses only PS media
flow(s). The request is forwarded to S-CSCF following normal IMS session set
up procedures.
2\~3. The service logic with iFC causes the request to be forwarded to the SCC
AS for anchoring the sessions to enable Session Transfer.
4\. The SCC AS anchors the session. An STI is assigned for the anchored
session.
5\. The SCC AS completes the session setup to UE-2 and sends a response to
UE-1.
#### 6.2.1.4 Originating sessions for (v)SRVCC that use ATCF enhancements
Figure 6.2.1.4-1 shows an originating session when the ATCF has previously
been included in the signalling path (see clause 6.1.2). If the ATCF was not
included in the signalling path then existing Mobile Origination procedures
described in previous clauses and TS 23.228 [4] are used.
Figure 6.2.1.4-1: Originating session that uses only PS media (ATCF in
signalling path).
1\. UE-1 initiates an IMS multimedia session to UE-2 and uses only PS media
flow(s). The initial SIP INVITE request goes through the ATCF in the serving
network. The ATCF may decide whether to anchor the session and allocate if
needed ATGW resources to it.
2\~5. ATCF forwards the initial SIP INVITE request, which is routed towards
the UE-2.
6\. Completion of originating session setup. As part of this step, the
following is done:
\- If not already done, the ATCF may decide, based on information not
available earlier in the procedure, to anchor the session and allocate ATGW
resources for voice media or voice and video media and anchor the voice media
or voice and video media in the ATGW. The ATCF will in such case update the
far end with the media information of the ATGW in another offer/answer
exchange (this may be done as part of other required session update).
NOTE 1: The ATCF is not modifying the dynamic STI that is exchanged between
the UE and SCC AS.
NOTE 2: The Access Leg for the control has now been established between the UE
and the SCC AS.
#### 6.2.1.5 Originating sessions for CS to PS - Single Radio
The CS origination is done according to TS 23.292 [5], clause 7.3, with the
addition that the call is routed through the ATCF.
Once the session is established, the ATCF will act as the access transfer
function in the call.
Figure 6.3.3.5.3-1: Originating call setup over CS through ATCF
1\. The MSC Server receives the CS setup message.
2\. The MSC Server initiates an INVITE origination according to TS 23.292 [5]
clause 7.3, with the addition that it includes the ATCF in the path during the
origination (based on the retrieved ATCF management URI). The INVITE shall
include the C-MSISDN to the ATCF for further correlation purposes.
3\. The ATCF may decide whether to anchor the media session and allocate if
needed ATGW resources to it. Media anchoring criteria used for ATCF
enhancements apply.
4-5. The call setup proceeds and is routed to the remote UE-2.
6\. The call setup is completed.
### 6.2.2 Termination
#### 6.2.2.1 Termination Procedures
IMS multimedia sessions towards SC subscribers in the PS or in the CS domain
are anchored at the SCC AS to enable IMS Service Continuity. The execution of
terminating iFC results in routing of the sessions to the SCC AS in the home
IMS network, where the SCC AS uses 3rd party call control as per TS 23.228 [4]
to terminate the session to the SC subscriber. The sessions may be delivered
to the UE via the PS or CS access.
The SCC AS shall be the last Application Server of any Application Servers
that need to remain in the path of the call after Session Termination.
#### 6.2.2.2 Terminating sessions that use CS media
The procedures specified in TS 23.292 [5], clause 7.4.2 Terminating sessions
that use CS media shall be followed to terminate sessions that use CS media to
the SC subscriber.
Figure 6.2.2.2-1: Terminating session that uses CS media
1\. A request is received at S‑CSCF serving UE‑1 following standard IMS
session set up procedures.
2 \~ 3. The service logic with iFC causes the request to be forwarded to the
SCC AS so that the session is anchored for enabling Session Transfer.
4\. The SCC AS anchors the incoming session. A dynamic STI is assigned for the
anchored session.
5\. The SCC AS forwards the request to UE-1 based on the procedures specified
in TS 23.292 [5] for setting up CS bearer and splitting the media flow(s) if
necessary. The dynamic STI is communicated between the SCC AS and the UE if
possible. If the SCC AS decided to split the non‑speech media and speech media
for a certain UE, the T‑ADS in the SCC AS delivers the split session only to
this particular UE. The SCC AS uses the C‑MSISDN for correlation.
The session is set up with CS media. The session may also include PS media
flow(s).
#### 6.2.2.3 Terminating sessions that use only PS media flow(s)
Existing Mobile Termination procedures described in TS 23.228 [4] are used to
establish a session towards a SC subscriber.
Figure 6.2.2.3-1: Terminating session that uses only PS media
1\. The request is received at S‑CSCF following normal IMS session set up
procedures.
2 \~ 3. The service logic with iFC causes the request to be forwarded to the
SCC AS so that the session can be anchored for potential session transfer.
4\. The SCC AS anchors the session. An STI is assigned for the anchored
session.
5\. The SCC AS determines that the session is terminated to UE‑1 with PS media
flow(s) only and routes the request to UE‑1.
#### 6.2.2.4 Terminating sessions over Gm where speech media is not accepted
by the UE
If the SCC AS includes only bi-directional speech media, the procedures
specified in TS 23.292 [5], clause 7.4.3 shall be followed.
If the SCC AS includes non-speech media in the request, in addition to bi-
directional speech or CS media and if the UE decides to only accept the non-
speech media, the UE returns a response to IMS that only bi-directional speech
or CS media is rejected. The SCC AS, upon reception of the response, splits
the non speech media from the bi-directional speech or CS media for this UE.
The T‑ADS in the SCC AS re-attempts the terminating call setup directly
towards the same UE over CS domain if possible. The SCC AS uses the C‑MSISDN
for correlation.
#### 6.2.2.5 Terminating sessions for (v)SRVCC that use ATCF enhancements
Figure 6.2.2.5-1 shows a terminating session when the ATCF has previously been
included in the signalling path (see clause 6.1.2). If the ATCF was not
included in the signalling path then existing Mobile Termination procedures
described in previous clauses and TS 23.228 [4] are used.
Figure 6.2.2.5-1: Terminating session that uses only PS media (ATCF in
signalling path)
1-2. A Terminating session is sent towards UE-1 from UE-2. The initial SIP
INVITE request is routed via the I/S-CSCF to the SCC AS.
3\. The SCC AS performs necessary T-ADS procedures according to clause 5.3.1,
and routes the request towards the UE-1.
4\. The INVITE is routed towards the ATCF. When receiving the INVITE, the ATCF
may decide whether to anchor the media for the session and allocate ATGW
resources for it if needed.
5\. The SIP INVITE is forwarded to UE-1 (P-CSCF not shown in flow).
NOTE 1: In case the UE-1 returns a response to IMS that bi-directional speech
is rejected as specified in clause 6.2.2.4, the ATCF will release the ATGW
resources allocated if any. The ATCF can then remove itself from the session
path.
6\. Session setup is completed. As part of this step, if not already done, the
ATCF may decide, based on information not available earlier in the procedure,
to anchor the session and allocate ATGW resources for voice media or voice and
video media and anchor the voice media or voice and video media in the ATGW.
The ATCF will in such case update the remote end with the media information of
the ATGW in another offer/answer exchange (this may be done as part of other
required session update).
NOTE 2: The ATCF is not modifying the dynamic STI that is exchanged between
the UE and SCC AS.
NOTE 3: The Access Leg for the control has now been established between the UE
and the SCC AS.
#### 6.2.2.6 Terminating sessions for CS to PS - Single Radio
The CS termination is done according to TS 23.292 [5] clause 7.4, with the
addition that the call is routed through the ATCF.
Once the session is established, the ATCF will act as the access transfer
function in the call.
Figure 6.2.2.6-1: Terminating call setup over CS through ATCF
1-2. UE-2 sends an INVITE towards UE-1. The call is routed towards MSC Server
using procedure according to TS 23.292 [5], clause 7.4.
3\. The MSC Server routes the INVITE via ATCF using the ATCF management URI
that it has received from SCC AS (see clause 6.1.3.2). The INVITE shall
include the C-MSISDN to the ATCF for further correlation purposes.
4\. The ATCF may decide whether to anchor the media session and allocate if
needed ATGW resources to it. Media anchoring criteria used for ATCF
enhancements apply.
5-6. The call setup proceeds and is routed toward UE-1.
7\. The call setup is completed.
## 6.3 Access Transfer
### 6.3.1 Access Transfer Procedure
#### 6.3.1.1 Introduction
Access Transfer procedures enable service continuity between Access Networks.
All Access Transfer procedures associated with a session, including initial
and subsequent transfers, are executed and controlled in the user\'s home IMS
network by the SCC AS upon the UE\'s request, except when using (v)SRVCC
enhanced with ATCF. When (v)SRVCC enhanced with ATCF is used, PS to CS Access
Transfer procedures are executed and controlled in the serving network. SCC AS
and ATCF may handle the access transfer procedure with priority if the
transfer request is initiated with priority indication.
NOTE: In order to support Access Transfer and Media Adding/Deleting procedures
that involve the use of the Gm reference point on two IP-CANs, the UE and IMS
network both have to support multiple simultaneous registrations of the UE and
the UE has to be able to establish and maintain simultaneous connections to
both IP-CANs at least for the duration of the Access Transfers or Media
Adding/Deleting procedures.
The STN and STI are used during the execution of Access Transfers. The STN and
STI are stored in the UE.
#### 6.3.1.2 Access Transfer Procedures
When the UE determines that Access Transfer is desirable and possible, a
registration in IMS is performed by the UE via the transferring-in Access
Network if the user is not already registered via that network.
If the UE does not have or is unable to use its ICS capabilities, then prior
to dual-radio Access Transfer:
\- If the MSC Server assisted mid-call feature is not used then the UE
releases all but the most recently active bi-directional sessions.
\- If the MSC Server assisted mid-call feature is used then:
\- if the UE has more than one active bi-directional session, selects the
second most recently active bidirectional session and it releases all
remaining sessions except for the two most recently active bi-directional
sessions;
\- if the UE has one active bi-directional session and more than one inactive
bi-directional session, it releases all sessions except for the active session
and the inactive session which became inactive most recently.
NOTE: For the single-radio case the above applies but the UE locally releases
the sessions based on the aforementioned priority.
For vSRVCC procedure, MSC server enhanced for vSRVCC negotiates with the SCC
AS to determine whether the most recently active bi-directional sessions is
voice or voice + video.
A new Access Leg is established by the UE toward the SCC AS, if needed.
Signalling and bearer resources are allocated in the transferring-in Access
Network and the user\'s sessions are transferred from the transferring-out
Access Network. The SCC AS executes Access Transfer procedures. Resources in
the transferring-out Access Network are subsequently released.
When the UE wants to perform Access Transfer and determines that there is a PS
Access Leg in the transferring-in Access Network for the same session, the UE
can use the existing PS Access Leg in the transferring-in Access Network,
instead of establishing a new Target Access Leg, to execute Access Transfer.
No new signalling resources need to be allocated in the transferring-in Access
Network.
Based on UE and Access Network capabilities, the UE may also maintain some of
the media flows in the transferring-out Access Network while transferring the
other media flows to the transferring-in Access Network.
#### 6.3.1.2a Access Transfer Procedures using ATCF enhancements
A new Access Leg is established by the MSC Server toward the ATCF and then to
SCC AS when performing a PS to CS access transfer. When performing a CS to PS
access transfer, a new Access Leg is established by the UE toward the ATCF and
then to SCC AS. The ATCF subdivides the new Access Leg into a Serving Leg and
a Home Leg. Signalling and bearer resources are allocated in the transferring-
in Access Network and the user\'s sessions are transferred from the
transferring-out Access Network. The ATCF executes Access Transfer procedures
in co-operation with the SCC AS. Resources in the transferring-out Access
Network are subsequently released by the SCC AS.
#### 6.3.1.3 Enablement of Access Transfer procedures
A 3pcc (3rd party call control) function is employed to anchor IMS sessions at
the SCC AS upon session establishment for enablement of Access Transfer. The
SCC AS is invoked as part of originating or terminating iFC execution at the
subscriber\'s S-CSCF. The SCC AS inserts itself in the signalling path of the
SC subscriber\'s IMS sessions by implementing a 3pcc (3rd party call control)
function. For an originating IMS session, the SCC AS terminates an Access Leg
from the user and establishes a Remote Leg toward the remote end. For a
terminating IMS session, the SCC AS terminates a Remote Leg from the remote
end and establishes an Access Leg toward the user. The SCC AS subsequently
coordinates the session control signalling exchange between the Access Leg and
the Remote Leg associated with the anchored IMS session.
For 3pcc at the SCC AS when the Access Leg is established with CS media, refer
to clause 5.4.3. For 3pcc at the SCC AS when the Access Leg is established
with media flow over IP-CAN to illustrate its use as preparation for Access
Transfer procedures, refer to clause 5.4.2.
An STI and STN for Access Transfer between CS and PS access shall be
statically configured on the UE regardless of its ICS capabilities.
If the Gm or I1 reference point is used for the originating or terminating
session, an STI is dynamically assigned for the Access Leg. An STI shall also
be dynamically assigned for each new Access Leg established during Access
Transfer.
NOTE: The dynamically assigned STI needs to be different from the STI and STN
that are statically configured on the UE.
The statically configured STI shall be used for Dual Radio CS to PS Access
Transfers only when no dynamically assigned STI was provided to the UE.
The STN is used for PS to CS Access Transfers when no Gm or I1 reference point
is available.
The STN-SR as specified in TS 23.216 [10] is used for PS to CS Access Transfer
using Single Radio VCC.
#### 6.3.1.3a Enablement of Access Transfer procedures using ATCF enhancements
IMS sessions and media flows are anchored by the ATCF upon session
establishment for enablement of Access Transfer using ATCF enhancements. For
both originating and terminating IMS sessions, the ATCF subdivides the Access
Leg into a Serving Leg and a Home Leg. During registration procedure, the ATCF
allocates an STN-SR addressing itself and provides it to the SCC AS. The SCC
AS provides the received STN-SR to the HSS and the HSS provides the STN-SR to
the serving node(s), i.e. to SGSN and / or MME.
When CS to PS SRVCC is supported, a dynamic STI-rSR for Access Transfer shall
be provided to the UE by the ATCF.
#### 6.3.1.4 Execution of Access Transfer procedures
Upon detection of conditions requiring Access Transfer, the UE establishes a
Target Access Leg with the SCC AS via the transferred-in Access Network to
request Access Transfer to the transferred-in Access Network. When the UE
initiates a Access Transfer request, it includes the STI and/or the STN.
The SCC AS executes the Access Transfer procedure by replacing the Source
Access Leg currently communicating to the Remote Leg with the Target Access
Leg. If no media flow is retained in the transferred-out access, the Source
Access Leg is released as specified in clause 6.3.1.6. If the UE chooses to
retain some media flow(s) in the transferred-out access, the Source Access Leg
is updated to indicate which media flow(s) is retained in the transferred-out
access. If such update is not done, the SCC AS releases the Source Access Leg
as specified in clause 6.3.1.6 and updates the Remote Leg if necessary. When
the switch of the Source Access Leg to the Target Access Leg is executed, the
Remote Leg is also updated in order to forward the media flow(s) to the
transferred-in Access Network.
#### 6.3.1.4a Execution of Access Transfer procedures using ATCF enhancements
The ATCF executes the Access Transfer procedure by replacing the Source Access
Leg currently communicating to the Remote Leg with the Target Access Leg. If
no media flow is retained in the transferred-out access, the Source Access Leg
is released as specified in clause 6.3.1.6 by the SCC AS. If the UE chooses to
retain some media flow(s) in the transferred-out access, the Source Access Leg
is updated to indicate which media flow(s) is retained in the transferred-out
access. If such update is not done, the SCC AS releases the Source Access Leg
as specified in clause 6.3.1.6 and updates the Remote Leg. When the switch of
the Source Access Leg to the Target Access Leg is executed and the ATCF did
not anchor the media in the ATGW, the Remote Leg is also updated in order to
forward the media flow(s) to the transferred-in Access Network.
#### 6.3.1.5 Remote Leg Update
Upon receiving a request for execution of Access Transfer, the SCC AS performs
the Remote Leg Update by switching the Access Leg communicating with the
Remote Leg from Source Access Leg to Target Access Leg.
Figure 6.3.1.5-1: Remote Leg Update
The remote end in figure 6.3.1.5-1 represents a UE supporting terminations per
TS 23.228 [4] (i.e. including NI-T).
1-2. The SCC AS updates the Remote Leg by communicating the SDP of the Target
Access Leg established to the remote end via the user\'s S-CSCF. Remote Leg
Update happens according to SIP session modification procedures (see RFC 3261
[8]). The priority indication from the Target Access leg (i.e., from the
access transfer request) does not change the existing priority setting toward
the remote leg between the SCC AS and remote end.
The remote end in figure 6.3.1.5-2 represents an MGCF for CS/PSTN Remote
Party.
Figure 6.3.1.5-2: Remote Leg Update
1-2. These steps are the same procedures described in figure 6.3.1.5-1.
3\. MGCF instructs MGW to update a termination towards the Target Access Leg
to the context, and to release the termination for the Source Access Leg from
the context.
#### 6.3.1.6 Source Access Leg Release
When the session modification procedures are complete, the Source Access Leg
Release is executed by initiating a session release. This is done for the
Source Access Leg using the AS/UE session release procedures per TS 23.228
[4]. For non-emergency sessions, the UE and the SCC AS shall initiate the
Session Release procedure when the switch to the Target Access Leg is
complete. For emergency sessions, the UE and the EATF shall initiate the
Session Release procedure when the switch to the Target Access Leg is
complete. For (v)SRVCC, the source access leg release is only performed if the
UE retains Gm after the PS-CS access transfer is completed; otherwise, the UE
release the source access leg locally.
#### 6.3.1.7 Access Transfer Information for ATCF
When SRVCC with ATCF enhancements are used, a prerequisite for the access
transfer to take place, is that the ATCF have received the Access Transfer
Information from the SCC AS. The Access Transfer Information includes the ATU-
STI and the C-MSISDN.
The SCC AS initiates the Access Transfer Information information exchange
\- after the registration, if ATCF is included in the path, and the UE is
SRVCC capable, and
\- in the event the UE changes SRVCC capability provided that ATCF is included
in the registration.
Figure 6.3.1.7-1: Access Transfer Information provided to ATCF from SCC AS
1\. The UE performs an IMS registration that is sent through the ATCF
according to the procedures of clause 6.1.2.
2-3. After the registration, at least prior any access transfer takes place,
the SCC AS provides the Access Transfer Information towards the ATCF, by
sending a message including the ATU-STI and C-MSISDN.
### 6.3.2 Access Transfer Information flows
#### 6.3.2.0 General
This clause details the procedures and flows for Access Transfers. In the
flows that pertain to I1, the assumptions specified in clause 7.0 of TS 23.292
[5] apply.
For PS - CS Access Transfer, both Single Radio and Dual Radio procedures are
specified in the following clauses. Dual Radio is not supported between two
different 3GPP RATs (i.e. 3GPP specifications do not provide the possibility
for a UE to transmit/receive on two 3GPP RATs simultaneously). Single Radio PS
- CS Access Transfer require the use of SRVCC (specified in TS 23.216 [10]) in
the access networks.
#### 6.3.2.1 PS -- CS Access Transfer
##### 6.3.2.1.1 PS -- CS Access Transfer: PS to CS - Dual Radio
Figure 6.3.2.1.1-1 PS -- CS Access Transfer: PS to CS - Dual Radio, provides
an information flow for Access Transfer of an IMS session in PS to CS
direction. The flow requires that the user has an IMS originating or
terminating session using PS media flow(s) at the time of initiation of Access
Transfer to CS.
NOTE 1: This flow assumes the PS domain does not have any non real time media
flow(s). If the PS domain has other non real time media flow(s), then the call
flow in clause 6.3.2.3.1 applies.
Figure 6.3.2.1.1-1: PS -- CS Access Transfer: PS to CS - Dual Radio
1\. If the user is not attached to the CS domain at the time when the UE
determines a need for Access Transfer to CS, the UE performs a CS Attach as
specified in TS 23.292 [5], clause 7.2.1. It subsequently originates a session
that uses CS media using the STN to establish an Access Leg via the CS access
and requests Access Transfer of the IMS session to CS access using the
procedures described in TS 23.292 [5], clause 7.3.2 Originating Sessions that
use CS media.
2\. Standard procedures as specified in TS 23.292 [5], clause 7.3.2
Originating Sessions that use CS media are used in CS and IMS intermediate
nodes which results in routing of the INVITE with the STN or an IMRN to the
I/S‑CSCF. The MSC Server enhanced for ICS includes the GRUU into the Access
Transfer request if the user is registered in the IMS by the MSC Server
enhanced for ICS as specified in TS 23.292 [5]. If the user is not registered
in IMS then CS/IMS Interworking Nodes includes the C‑MSISDN as calling party
number into the Access Transfer request.
3\. Standard procedures are used at I/S-CSCF for routing of the INVITE to the
SCC AS.
4\. The SCC AS completes the establishment of the Access Leg via the CS
access. The SCC AS is able to identify the correct anchored session using
either the C‑MSISDN or the GRUU for session identification. The SCC AS
determines if the state of the session to be transferred is active or inactive
based on the session state information in the source Access Leg. The SCC AS
performs the Access Transfer by updating the Remote Leg with the connection
information of the newly established Access Leg using the Remote Leg Update
procedure as specified in clause 6.3.1.5. The SCC AS completes the session
setup towards UE according to procedures defined in TS 23.228 [4].
5\. The Source Access Leg (which is the Access Leg previously established over
PS access) is released as specified in clause 6.3.1.6
NOTE 2: Steps 4 and 5 consist of a sequence of messages, some of which may
occur in parallel.
##### 6.3.2.1.1a PS -- CS Access Transfer: PS to CS -- Dual Radio with Session
State Information
Figure 6.3.2.1.1a-1 PS -- CS Access Transfer: PS to CS -- Dual Radio with
Session State Information, provides an information flow for Access Transfer of
an IMS session in PS to CS direction. The flow requires that the user has an
active IMS originating or terminating session, together with at least one more
IMS originating or terminating session (active and/or inactive), using PS
media at the time of initiation of Access Transfer to CS and that the use of
network capabilities to support MSC Server assisted mid-call feature during
Access Transfer is supported by the UE and the network.
NOTE 0: When the UE is using a conference service, the procedures specified in
clause 6.3.2.1.8 need to be performed in conjunction with this flow, for the
conference service to be supported after the Access Transfer.
Figure 6.3.2.1.1a-1: PS -- CS Access Transfer: PS to CS -- Dual Radio with
Session State Information
1\. If the user is not attached to the CS domain at the time when the UE
determines a need for Access Transfer to CS, the UE performs a CS Attach as
specified in TS 23.292 [5], clause 7.2.1. It subsequently originates a session
that uses CS media using the STN to establish an Access Leg via the CS access
and requests Access Transfer of the IMS session to CS access using the
procedures described in TS 23.292 [5], clause 7.3.2.
2\. The procedures specified in TS 23.292 [5], clause 7.3.2, are used by the
MSC Server, which results in routing of the INVITE with the STN to the I/S
CSCF. The MSC Server includes the GRUU into the Access Transfer request, which
can be used for session (and UE) correlation.
NOTE 1: The MSC Server enhanced for ICS obtains the GRUU during registration;
the GRUU can be used for session (and UE) correlation.
NOTE 2: The MSC Server has indicated its capability to support MSC Server
assisted mid-call feature during Access Transfer in the registration.
3\. Standard procedures are used at I/S-CSCF for routing of the INVITE to the
SCC AS.
4\. The SCC AS completes the establishment of the Access Leg via the CS
access. The SCC AS is able to identify the correct anchored session using the
GRUU for session identification. The SCC AS performs the Access Transfer of
the recently added active session or, if there is no active session, the
inactive session which was active most recently, with bi-directional speech
for the UE by updating the Remote Leg with the connection information of the
newly established Access Leg using the Remote Leg Update procedure as
specified in clause 6.3.1.5. The SCC AS completes the session setup towards
the UE according to procedures defined in TS 23.228 [4].
5\. The SCC AS provides Session State Information on the transferring-in leg.
If there are more than two sessions with speech media before session transfer
in the source Access Leg, the SCC AS performs the following:
If there are no active sessions, the SCC AS performs the following:
\- besides the inactive session already handled in step 4, releases all other
remaining inactive sessions;
\- includes the information that the session is inactive in the transfer
response sent to the MSC Server;
\- skips following handling of step 5, 6 and 7, directly goes to step 8 in the
information flow.
If there are at least one active session, the SCC AS performs the following:
\- if there are two or more active speech sessions, selects the second-most
recently active speech session, puts it on hold and releases all remaining
active sessions;
\- selects the held session that has been most recently made inactive. Any
other in-active sessions are released.
the Session State Information of the selected inactive session is sent to the
MSC Server.
6\. The S-CSCF forwards the Session State Information to the MSC Server.
7\. If the MSC Server receives the Session State Information on more than one
active or inactive speech sessions, it initiates Access Transfer towards the
SCC AS for the additional session.
8\. The Source Access Leg (which is the Access Leg previously established over
PS access) is released as specified in clause 6.3.1.6.
NOTE 3: Steps 4 and 8 consist of a sequence of messages, some of which may
occur in parallel.
After completion of this procedure, the UE uses procedures as defined in TS
24.008 [24] to perform service control.
##### 6.3.2.1.2 PS -- CS Access Transfer: CS to PS - Dual Radio
Figure 6.3.2.1.2-1 PS -- CS Access Transfer: CS to PS - Dual Radio, provides
an information flow for Access Transfer of an IMS session in the CS to PS
direction. The flow requires that the user has an IMS originating or
terminating session that uses CS media at the time of initiation of Access
Transfer to PS.
Figure 6.3.2.1.2-1: PS -- CS Access Transfer: CS to PS - Dual Radio
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS (if not already registered in IMS) as specified in
clause 6.1. It subsequently initiates an IMS originated session toward the SCC
AS using a STI to establish an Access Leg via PS access and requests Access
Transfer of the IMS session that is using CS media to PS access. The
statically configured STI is used if no dynamically assigned STI has been
provided to the UE during session establishment. Please refer to clause 6.2.1
- IMS Originating Sessions for details on IMS origination procedure.
2\. Standard procedures are used at S‑CSCF for routing of the INVITE to the
SCC AS.
3\. The SCC AS performs the Access Transfer by updating the Remote Leg with
the session information, including session state and connection information,
of the newly established Access Leg (see the Remote Leg Update procedure,
clause 6.3.1.5). The SCC AS completes the establishment of the Access Leg
according to procedures defined in TS 23.228 [4].
4\. The source Access Leg which is the Access leg previously established over
CS is subsequently released (see clause 6.3.1.6).
NOTE: Steps 3 and 4 consist of a sequence of messages, some of which may occur
in parallel.
##### 6.3.2.1.2a PS -- CS Access Transfer: CS to PS -- Dual Radio with Session
State Information
Figure 6.3.2.1.2a-1 PS -- CS Access Transfer: CS to PS -- Dual Radio with
Session State Information, provides an example flow for dual radio CS to PS
Access Transfer with Held and Active sessions.
Figure 6.3.2.1.2a-1: CS to PS Access Transfer - Dual Radio with Session State
Information
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS (if not already registered in IMS) as specified in TS
23.228 [4]. It subsequently initiates an IMS originated session towards the
SCC AS using a static STI to establish an Access Leg via PS access and
requests Access Transfer of the active session to PS access.
2\. Standard procedures are used at the S CSCF for routing of the INVITE to
the SCC AS.
NOTE 1: During session establishment, the UE has indicated its capability to
support MSC Server assisted mid-call feature during Access Transfer.
3\. The SCC AS performs the Access Transfer by updating the Remote Leg with
connection information of the newly established Access Leg (see the Remote Leg
Update procedure, described in clause 6.3.1.5). The SCC AS completes the
establishment of the Access Leg according to procedures defined in TS 23.228
[4].
4\. The SCC AS provides Session State Information when both an active session
and an inactive session are transferred. The Session State Information
includes the additional held session with speech or speech and video media
including dynamic STI needed for the held session on the transferring-in leg.
5\. The S-CSCF forwards the Session State Information to the UE.
6\. If the UE receives the Session State Information of the held session, it
initiates a Access Transfer request towards the SCC AS using the dynamic STI
for the held session.
7\. The Source Access Leg, which is the Access Leg previously established over
CS access, is released as specified in clause 6.3.1.6.
NOTE 2: Steps 3 and 7 consist of a sequence of messages, some of which may
occur in parallel.
##### 6.3.2.1.3 Subsequent Access Transfers
Procedures for subsequent Access Transfers to CS and PS access are the same as
procedures for initial Access Transfers specified in clause 6.3.2.1.1 for PS
to CS access and clause 6.3.2.1.2 for CS to PS access.
##### 6.3.2.1.4 PS -- CS Access Transfer: PS to CS -- Single Radio
Figure 6.3.2.1.4-1 PS-CS: PS to CS -- Single Radio, provides an information
flow for Access Transfer of media flow(s) of an IMS session in PS to CS
direction for Access Transfers within 3GPP access networks as specified in TS
23.216 [10].
The flow requires that the user is active or inactive in an IMS originating or
terminating session; procedures and capabilities specified in TS 23.216 [10]
are used for the switching of access networks at the transport layer. It
further requires that the MSC Server assisted mid-call feature as described in
clause 6.3.2.1.4a is not used.
NOTE 1: See TS 23.216 [10] for initiation of handover of only one voice PS
bearer at EPC.
NOTE 2: The UE capable of procedures as specified in TS 23.216 [10] does not
need to support session and access transfer procedures as specified in clauses
6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.
Figure 6.3.2.1.4-1: PS-CS: PS to CS -- Single Radio
1\. Procedures specified in TS 23.216 [10] result in an INVITE to be sent with
an STN-SR indicating use of SRVCC procedures for Access Transfer to CS
access**. The MSC Server enhanced for SRVCC includes the C‑MSISDN as calling
party number. If SRVCC with priority is supported, MSC Server enhanced for
SRVCC also includes a priority indication if received.**
**2.** Standard procedures are used at I/S-CSCF for routing of the INVITE to
the SCC AS.
3\. The SCC AS uses the STN-SR to determine that Access Transfer using SRVCC
is requested. The SCC AS may retrieve the C‑MSISDN from the HSS. The SCC AS is
able to identify the correct anchored session. The SCC AS determines if the
state of the session to be transferred is active or inactive based on the
session state information in the source Access Leg. The SCC AS proceeds with
the Access Transfer of the session with bi-directional speech for the UE by
updating the Remote Leg with the media description and other information using
the Remote Leg Update procedure as specified in clause 6.3.1.5.
NOTE 3: Please refer to clause 4.3.1.2.2 for the behaviour of the SCC AS when
the SCC AS finds multiple active sessions with bi-directional speech anchored
for the UE.
4a. If the Gm reference point is retained upon PS handover procedure then
4a-1. The UE sends a Re-INVITE via the PS access to update the remaining non-
voice media flow(s) associated with the recently added active session**. If
the UE is using ICS capabilities, this Re-INVITE also adds Gm service control
to the active session and the UE subsequently sends Re-INVITEs for any
remaining inactive bi-directional speech sessions that are to be
transferred.**
4a-2. Standard procedures are used at S-CSCF for routing of the Re-INVITE(s)
to the SCC AS.
4a-3. The SCC AS processes the Re-INVITE(s) and updates the Remote Leg if
needed.
4b. If the Gm reference point is not retained upon PS handover procedure, e.g.
because there was no other media flow(s) in the IMS session than the voice
which was transferred to the target access, then the Source Access Leg is
released as specified in clause 6.3.1.6.
NOTE 4: Some or all of the steps between steps 3 and 4b may consist of a
sequence of messages, some of which may occur in parallel.
If the MSC Server above (located in the box labelled \"CS/IMS Intermediate
Nodes\") is enhanced for ICS as defined in TS 23.292 [5], then it performs IMS
registration after the transfer of the session is completed successfully i.e.
after step 3. Registration is performed only if the ICS flag is received via
the Sv reference point as specified in TS 23.216 [10] or as determined to by
the procedure specified in clause 7.2.1.1 in TS 23.292 [5].
##### 6.3.2.1.4a PS -- CS Access Transfer: PS to CS -- Single Radio with
Session State Information
Figure 6.3.2.1.4a-1 PS-CS: PS to CS -- Single Radio with Session State
Information, provides an information flow for Access Transfer of media of an
IMS session in PS to CS direction for Access Transfers within 3GPP access
networks as specified in TS 23.216 [10].
The flow requires that the user has an active IMS originating or terminating
session, together with at least one more IMS originating or terminating
session (active and/or inactive), and that the use of network capabilities to
support MSC Server assisted mid-call feature during Access Transfer is
possible; procedures and capabilities specified in TS 23.216 [10] are used for
the switching of access networks at the transport layer.
NOTE 0: When the UE is using a conference service, the procedures specified in
clause 6.3.2.1.8 need to be performed in conjunction with this flow, for the
conference service to be supported after the Access Transfer.
The flow is not applicable in case ICS UE capabilities can be used.
NOTE 1: See TS 23.216 [10] for initiation of hand-over of only one voice PS
bearer in EPC.
NOTE 2: The UE capable of procedures as specified in TS 23.216 [10] does not
need to support session and access transfer procedures as specified in clauses
6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.
Figure 6.3.2.1.4a-1: PS-CS: PS to CS -- Single Radio with Session State
Information
1\. Procedures specified in TS 23.216 [10], result in an INVITE to be sent
with an STN-SR indicating use of Single Radio VCC procedures for Access
Transfer to CS access. If the user is not IMS registered by the MSC Server,
the MSC Server enhanced for SRVCC includes the C-MSISDN as calling party
number. If the user is registered in the IMS by the MSC Server, then the MSC
Server includes the GRUU into the Access Transfer request. The MSC Server
indicates its capability to support MSC Server assisted mid-call feature
during Access Transfer.
2\. Standard procedures are used at I/S-CSCF for routing of the INVITE to the
SCC AS.
3\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C‑MSISDN from the HSS. The
SCC AS identifies the correct anchored session and proceeds with the Access
Transfer of the recently added active session or, if there is no active
session, the inactive session which was active most recently, with bi-
directional speech for the UE by updating the Remote Leg with the media
description and other information using the Remote Leg Update procedure as
specified in clause 6.3.1.5.
4\. The SCC AS provides Session State Information on the transferring-in leg.
If there are more than two sessions with speech media before session transfer
in the source Access Leg, the SCC AS performs the following:
If there are no active sessions, the SCC AS performs the following:
\- includes the information that the session is inactive in the transfer
response sent to the MSC Server;
\- besides the inactive session already handled in step 3, releases all other
remaining inactive sessions;
\- skips following handling of step 4, 5 and 6 in the information flow.
If there are at least one active session, the SCC AS performs the following:
\- if there are two or more active sessions, selects the second-most recently
active session, puts it on hold and releases all remaining active sessions;
NOTE 3: If the first-most recently active session is speech session and the
second-most recently active session is a speech and video session, the SCC AS
removes the video parts of second-most recently active session and places it
on hold. If the second-most recently active session needs to be released
according to the operator\'s policy, the SCC AS releases this session after
transfer. All the other remaining active sessions, if any, will be released
and not be transferred.
\- selects the held session that has been most recently made inactive. Any
other inactive sessions are released;
\- the Session State Information of the selected inactive session is sent to
the MSC Server.
5\. The S-CSCF forwards the Session State Information to the MSC Server.
6\. If the MSC Server receives the Session State Information of more than one
active or inactive speech sessions, it initiates Access Transfer towards SCC
AS for the additional session.
NOTE 4: The SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer
request, and additionally the Session State Information to select the correct
session.
7a. If the Gm reference point is retained after PS handover procedure
completion for non-voice media flows, then:
7a-1. The UE sends a Re-INVITE via the PS access to update the remaining non-
voice media flow associated with the recently added active session.
7a-2. Standard procedures are used at S-CSCF for routing of the INVITE to the
SCC AS.
7a-3. The SCC AS processes the Re-INVITE and updates the Remote Leg if needed.
7b. If the Gm reference point is not retained after PS handover procedure
completion, e.g. because there was no other media in the IMS session than the
voice that was transferred to the target access, then the Source Access Leg is
released as specified in clause 6.3.1.6.
NOTE 5: Some or all of the steps between steps 3 and 4b consist of a sequence
of messages, some of which may occur in parallel.
If the MSC Server above is enhanced for ICS as defined in TS 23.292 [5], then
it performs IMS registration after the transfer of all sessions is completed
successfully i.e. after step 6. Registration is performed only if the ICS flag
is received via the Sv reference point as specified in TS 23.216 [10] or as
determined to by the procedure specified in clause 7.2.1.1 in TS 23.292 [5].
After completion of this procedure, the UE uses procedures as defined in TS
24.008 [24] to perform service control.
##### 6.3.2.1.4b PS to CS Access Transfer: PS to CS -- Single Radio; using I1
reference point
Figure 6.3.2.1.4b PS-CS: PS to CS -- Single Radio; using I1 reference point,
provides an information flow for Access Transfer of media flow(s) of an IMS
session in the PS to CS direction for Access Transfers within 3GPP access
networks as specified in TS 23.216 [10], and with the use of I1 reference
point for service control post transfer to CS.
The flow requires that the UE has indicated ICS capabilities and that the user
is active in an IMS originating or terminating session; procedures specified
in TS 23.216 [10] are used for the switching of access networks at the
transport layer. The I1 reference point of ICS is used for control of IMS
sessions established using CS media and a dynamically assigned STI is
associated with each session.
NOTE 1: See TS 23.216 [10] for initiation of handover of only one voice PS
bearer at EPC.
NOTE 2: The UE capable of procedures as specified in TS 23.216 [10] does not
need to support session and access transfer procedures as specified in clauses
6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.
Figure 6.3.2.1.4b-1: PS-CS: PS to CS -- Single Radio; using I1 reference point
1\. Access Transfer of the active session with bi-directional speech is
performed as defined in clause 6.3.2.1.4, steps 1-3.
2\. The UE sends an I1: ICS Call Initiation via the CS access as specified in
TS 23.292 [5] including an STI for continuation of establishment of the Access
Leg using Single Radio VCC for the active session.
3\. The SCC AS uses the STI to correlate the Access Transfer request received
via the PS access with the Access Transfer request for the active session
received via the CS access.
4\. If there are any held sessions present at the time of Access Transfer, the
UE proceeds with the Access Transfer of the first held session by sending an
I1: ICS Call Initiation via the CS access (as described in TS 23.292 [5])
including an STI that identifies the held session.
NOTE 3: If the first-most recently active session is speech session and the
selected held session is a speech and video session, the SCC AS removes the
video parts of selected held session. If the held speech and video session
needs to be released according to the operator\'s policy, the SCC AS releases
this session after transfer. All the other remaining sessions, if any, will be
released and not be transferred.
5\. The SCC AS uses the STI to identify the held session and updates the
session information on the Access Leg.
NOTE 4: CS media is not established for the held session. The media
established upon the transfer of the currently active session is reused for
the held session when it is resumed.
Steps 4 and 5 are repeated for the remaining held sessions.
6\. The Source Access Leg is released as specified in clause 6.3.1.6.
##### 6.3.2.1.4c PS - CS Access Transfer: PS to CS - Single Radio, incoming
voice or video call in alerting phase
Figure 6.3.2.1.4c-1 PS-CS: PS to CS - Single Radio, incoming call in alerting
phase, provides an information flow for Access Transfer of media of an IMS
session in PS to CS direction for Access Transfers as specified in TS 23.216
[10].
The flow requires that the user is active in a terminating IMS session in
alerting state which the UE has not responded over the access leg and there is
no other session (or there is one or more held sessions but mid-call service
is not supported); procedures and capabilities specified in TS 23.216 [10] are
used for the switching of access networks at the transport layer.
Figure 6.3.2.1.4c-1: PS-CS: PS to CS - Single Radio, incoming voice or video
call in alerting phase
1-4. Standard procedures are used to initiate a SIP session towards the UE.
The UE is alerting the user for the incoming voice or video-call session.
5\. Procedures specified in TS 23.216 [10] result in an INVITE to be sent with
an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to
CS access. The MSC Server enhanced for (v)SRVCC includes the C-MSISDN as
calling party number. The MSC Server indicates its capability to support mid-
call services during session transfer. For PS-CS transfer for vSRVCC the video
Codecs are also included in the session transfer request.
6\. Standard procedures are used at I/S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS uses the C-MSISDN to identify the correct anchored session. The SCC AS
proceeds with the Access Transfer of the recently added active session with
bi-directional speech or bi-directional speech and synchronised video media
for the UE by updating the Remote Leg with the media description and other
information using the Remote Leg Update procedure as specified in clause
6.3.1.5.
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the (v)SRVCC, thus the SCC AS can update the remote leg.
8\. The SCC AS provides Session State Information on the incoming speech call
in alerting state.
9\. The S-CSCF forwards the Session State Information to the MSC Server.
10\. The MSC moves to the corresponding CS call state, e.g. Call Received in
TS 24.008 [24].
NOTE 2: In call received state the MSC does not generate an in-band ring tone
to the calling party.
10b. In parallel to step 10, the UE has received the HO command as described
in TS 23.216 [10]. The UE determines the local call state in the SIP session,
and creates the corresponding CS call state, e.g. Call Received in TS 24.008
[24]. The UE continues to alert the user for incoming call.
11\. The user answers to the call. For video call the UE may initiate at this
stage the H.245 Codec negotiation.
11a. UE moves to Active state.
12\. The UE uses the standard procedure to send the CS connect message to MSC
as e.g. described in TS 24.008 [24].
NOTE 3: Solution for possible race conditions (e.g. MSC server receives the CS
connect before the SCC AS responds) will be defined in Stage 3.
12b. The MSC moves to Active state.
13\. The MSC notifies the SCC AS the user has answered the call.
14\. Standard procedures are used at S-CSCF for routeing of the notification
to the SCC AS.
15\. The SCC AS creates the corresponding SIP request to the remote end,
updates the remote leg.
##### 6.3.2.1.4d PS - CS Access Transfer: PS to CS - Single Radio, outgoing
voice or video call in alerting phase
Figure 6.3.2.1.4d-1 PS-CS: PS to CS - Single Radio, outgoing call in alerting
phase, provides an information flow for Access Transfer of media of an IMS
session in PS to CS direction for Access Transfers as specified in TS 23.216
[10].
The flow requires that the user is active in an outgoing IMS session in
alerting state and there is no other session (or there is one or more held
sessions but mid-call service is not supported); procedures and capabilities
specified in TS 23.216 [10] are used for the switching of access networks at
the transport layer.
Figure 6.3.2.1.4d-1: PS-CS: PS to CS -- Single Radio, outgoing voice or video
call in alerting phase
1-4. Standard procedures are used to initiate a SIP session from the UE
towards the remote end. The remote end is alerting the user for the incoming
voice or video-call session.
5\. Procedures specified in TS 23.216 [10] result in an INVITE to be sent with
an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to
CS access. If the user is not IMS registered by the MSC Server, the MSC Server
enhanced for (v)SRVCC includes the C-MSISDN as calling party number. If the
user is registered in the IMS by the MSC Server, then the MSC Server includes
the GRUU into the session transfer request. The MSC Server indicates its
capability to support mid-call services during session transfer. For PS-CS
transfer for vSRVCC the video Codecs are also included in the session transfer
request.
6\. Standard procedures are used at I/S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS identifies the correct anchored session. The SCC AS proceeds with the
Access Transfer of the recently added active session with bi-directional
speech or bi-directional speech and synchronised video for the UE by updating
the Remote Leg with the media description and other information using the
Remote Leg Update procedure as specified in clause 6.3.1.5.
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the (v)SRVCC, thus the SCC AS can update the remote leg.
NOTE 2: The SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer
request.
8\. The SCC AS provides Session State Information on the outgoing speech call
in alerting state.
9\. The S-CSCF forwards the Session State Information to the MSC Server.
10\. The MSC moves to the corresponding CS call state, e.g. Call Delivered in
TS 24.008 [24].
10b. In parallel to step 10, the UE has received the HO command as described
in TS 23.216 [10]. The UE determines the local call state in the SIP session,
and creates the corresponding CS call state, e.g. Call Delivered in TS 24.008
[24]. The UE ensures that the same ring back tone is played to the end user.
11\. The remote end answers to the call.
12\. The SCC AS notifies the MSC the remote end has answered the call.
13\. Standard procedures are used at S-CSCF for routeing of the notification
to the MSC.
14\. The MSC uses the standard procedure to send the CS connect message to UE
as e.g. described in TS 24.008 [24]. For video call the UE may initiate at
this stage the H.245 Codec negotiation.
15\. The MSC moves to Active state.
16\. The UE moves to Active state.
##### 6.3.2.1.4e PS - CS Access Transfer: PS to CS - Single Radio, voice and
video
Figure 6.3.2.1.4e-1 describes the information flows for transferring voice and
video from PS to CS access single radio.
The flow requires that the user is active in an IMS originating or terminating
session with voice and synchronised video media; procedures and capabilities
specified in TS 23.216 [10], clause 6.2.2.3 are used for the switching of
access networks at the transport layer.
NOTE 1: The UE capable of procedures as specified in TS 23.216 [10] does not
need to support session and access transfer procedures as specified in clauses
6.3.2.1.5 and 6.3.2.3 to support PS to CS Access Transfer.
In this flow, the SCC AS waits for the H.245 negotiation completion before
updating Remote Leg.
Figure 6.3.2.1.4e-1: Information flow for voice and video transfer from PS to
CS- single radio
1-2. See clause 6.3.2.1.4 steps 1 and 2. MSC Server includes the SDP of the
voice and video SDP of the predefined Codecs. If vSRVCC with priority is
supported, MSC Server enhanced for vSRVCC also includes a priority indication
if received. The SCC AS performs the Access Transfer of the most recently
added active session for bidirectional voice and synchronised video media. The
transfer of the alerting session is described 6.3.2.1.4c and 6.3.2.1.4d.
3\. See clause 6.3.2.1.4 step 3. The SCC AS performs a remote leg update with
the media type of the CS access leg for the voice and video session as
specified in clause 6.3.1.5.
NOTE 2: If the remote end does not support the predefined Codecs, the MGW
performs the appropriate transcoding.
4\. The MSC Server completes the CS leg establishment with UE-1.
5\. Predefined Codecs for voice and video with specific characteristics are
initially used by the UE‑1 after it establishes the circuit bearer to the
target MSC. The predefined Codecs for voice and video are the default Codecs
specified in TS 26.111 [32]. If needed, UE-1 and MSC Server may start in band
H.245 negotiation right after the UE‑1 establishes a circuit bearer to the MSC
Server. 3G-324M codec negotiation for the video is executed (refer to TR
26.911 [29] for H.245 signalling optimizations) right after the UE‑1
establishes a circuit bearer to the Target MSC.
6a. If the Gm reference point is retained upon PS handover procedure then:
6a-1. The UE‑1 sends a Re-INVITE via the PS access to update the remaining
non-voice and non-voice/non-video media flow(s) associated with the recently
added active session. If the UE‑1 is using ICS capabilities, this Re-INVITE
also adds Gm service control to the active session and the UE‑1 subsequently
sends Re-INVITEs for any remaining inactive bi-directional speech sessions
that are to be transferred.
6a-2. Standard procedures are used at S-CSCF for routing of the Re-INVITE(s)
to the SCC AS.
6a-3. The SCC AS processes the Re-INVITE(s) and updates the Remote Leg if
needed.
6b. If the Gm reference point is not retained upon PS handover procedure, or
if there was no other non-voice and non-voice/non-video media flow(s) in the
IMS session than the voice+video which was transferred to the target access,
then the Source Access Leg is released as specified in clause 6.3.1.6.
NOTE 3: Some or all of the steps between steps 3 and 6b may consist of a
sequence of messages, some of which may occur in parallel.
##### 6.3.2.1.5 PS -- CS Access Transfer for voice and video, Dual Radio
Figure 6.3.2.1.5-1 describes the information flows for transferring voice and
video from PS to CS access.
In this flow, the SCC AS waits for the H245 negotiation completion before
updating Remote Leg.
Figure 6.3.2.1.5-1: Information flow for voice and video transfer from PS to
CS
1-3. UE-1 starts Access Transfer of multimedia session from PS to CS as
specified in steps 1-3 of clause 6.3.2.1.1. The media types of voice and
video, included in the INVITE message with STN in step 3, instruct the SCC AS
to wait for H.245 negotiation complete to perform the Remote Leg update in
step 8.
4\. The SCC AS completes the CS leg establishment with UE-1.
5\. UE-1 and CS/IMS intermediate node starts in band H.245 negotiation.
6-7. After the H.245 negotiation is done, CS/IMS intermediate node sends H.245
negotiation completion indication towards SCC AS.
8\. On receipt of the H.245 negotiation complete indication, the SCC AS
updates the Remote Leg as specified in step 4 of clause 6.3.2.1.1
9\. The SCC AS may release the Source Access Leg as specified in step 5 of
clause 6.3.2.1.1.
NOTE 1: If the non voice and video media flow is retained, the Source Access
Leg may be updated by session re-negotiation.
NOTE 2: When using the MSC server enhanced for ICS, the H.245 negotiation with
UE-1 shall be executed by the MSC server enhanced for ICS, and the H.245
negotiation complete indication shall be sent by the MSC server enhanced for
ICS towards SCC AS.
##### 6.3.2.1.6 PS -- CS Access Transfer: PS to CS -- Dual Radio, mid-call
service with an active speech and video session
Figure 6.3.2.1.6-1 PS to CS with one active speech and video session, using
SCUDIF, provides an information flow for Access Transfer of multiple IMS
sessions in PS to CS direction. The flow requires that the user is active in
an IMS originating or terminating speech and video session using PS media at
the time of initiation of Access Transfer to CS and that the use of network
capabilities to support mid-call services during session transfer is possible.
It also requires that SCUDIF feature is supported by the UE and the CS
network.
NOTE: When the UE is using a conference service, the procedures specified in
clause 6.3.2.1.8 need to be performed in conjunction with this flow, for the
conference service to be supported after the Access Transfer.
Figure 6.3.2.1.6-1: PS to CS with one active speech and video session, using
SCUDIF
1\. Standard procedure as specified in clause 6.3.2.1.5 PS -- CS Access
Transfer for voice and video is used for transferring the active speech and
video session. The UE indicates SCUDIF support and provides two bearer
capabilities (voice and multimedia) with multimedia preferred when initiating
the transfer. Also, the SCC AS provides session state information on the
inactive voice session including needed STI on the transferring-in leg to the
MSC Server.
2\. The MSC Server ICS initiates session transfer towards SCC AS for the
additional inactive voice session on behalf the UE.
3\. The Source Access Leg associated with the inactive voice session is
released as specified in clause 6.3.1.6.
Subsequently, the UE can switch between the speech and video session and the
voice session with different bearer capabilities activated using SCUDIF
feature as specified in TS 23.292 [5].
If SCUDIF is not supported, the transfer can be performed as Figure
6.3.2.1.6-1 with the differences that in step 1 the UE initiates Access
Transfer not using SCUDIF, and after the transfer video channel is closed via
H.245 negotiation if the voice session is to be activated.
##### 6.3.2.1.7 PS -- CS Access Transfer: PS to CS -- Dual Radio, mid-call
service with one inactive speech and video session
Figure 6.3.2.1.7-1 PS to CS with one inactive speech and video session, using
SCUDIF, provides an information flow for Access Transfer of multiple IMS
sessions in PS to CS direction. The flow requires that the user is inactive in
an IMS originating or terminating speech and video session using PS media at
the time of initiation of Access Transfer to CS and that the use of network
capabilities to support mid-call services during session transfer is possible.
It also requires that SCUDIF feature is supported by the UE and the CS
network.
Figure 6.3.2.1.7-1: PS to CS with one inactive speech and video session, using
SCUDIF
1\. Standard procedure as specified in clause 6.3.2.1.1 PS -- CS Access
Transfer: PS to CS is used for transferring the active voice session. The UE
indicates SCUDIF support and provides two bearer capabilities (voice and
multimedia) with voice preferred when initiating the transfer. Also, the SCC
AS provides session state information on the inactive speech and video session
including needed STI on the transferring-in leg to the MSC Server.
2\. The MSC Server initiates session transfer towards SCC AS for the
additional inactive speech and video session on behalf the UE.
3\. The Source Access Leg associated with the inactive speech and video
session is released as specified in clause 6.3.1.6.
Subsequently, the UE can switch between the speech and video session and the
voice session with different bearer capabilities activated using SCUDIF
feature as specified in TS 23.292 [5].
If SCUDIF is not supported, the transfer can be performed as Figure
6.3.2.1.7-1 with the differences that in step 1 the UE initiates Access
Transfer not using SCUDIF, and after the transfer redial mechanism can be used
to switch between the speech and video call and the voice call as specified in
TS 23.292 [5].
##### 6.3.2.1.7a PS - CS Access Transfer: PS to CS - Single Radio, mid-call
service with an incoming waiting call in alerting phase
Figure 6.3.2.1.7a-1 provides an information flow for Access Transfer of media
of an IMS session in PS to CS direction for Access Transfers as specified in
TS 23.216 [10].
The flow requires that the user is active in an IMS originating or terminating
session and an incoming waiting call is indicated to the user which is in call
waiting state; procedures and capabilities specified in TS 23.216 [10] are
used for the switching of access networks at the transport layer.
Figure 6.3.2.1.7a-1: PS-CS: PS to CS - Single Radio, mid-call service with an
incoming waiting call in alerting phase
1-4. Standard procedures are used to initiate a SIP session towards the UE,
which has already an ongoing session. The UE is notifying the user for the
incoming waiting session.
5\. Procedures specified in TS 23.216 [10] result in an INVITE to be sent with
an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to
CS access. If the user is not IMS registered by the MSC Server, the MSC Server
enhanced for SRVCC includes the C-MSISDN as calling party number. If the user
is registered in the IMS by the MSC Server, then the MSC Server includes the
GRUU into the session transfer request. The MSC Server indicates its
capability to support mid-call services during session transfer.
6\. Standard procedures are used at I/S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS identifies the correct anchored session. The SCC AS proceeds with the
Access Transfer of the recently added active session with bi-directional
speech for the UE by updating the Remote Leg with the media description and
other information using the Remote Leg Update procedure as specified in clause
6.3.1.5.
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the SRVCC, thus the SCC AS can update the remote leg.
NOTE 2: The SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer
request.
8\. The SCC AS provides session state information on the incoming waiting call
in alerting state.
9\. The S-CSCF forwards the session state information to the MSC Server.
10\. The MSC Server receives the Session State Information which indicates one
active and one session in alerting state. The MSC Server initiates Access
Transfer towards SCC AS for the alerting session.
11\. The MSC moves to the corresponding CS call state for the alerting
session, e.g. Call Received in TS 24.008 [24].
NOTE 3: In call received state the MSC does not generate an in-band ring tone
to the calling party.
11b. In parallel to step 11, the UE has received the HO command as described
in TS 23.216 [10]. The UE determines the local call states in the SIP
sessions, and creates the corresponding CS call states. The UE continues to
indicate the user about for the incoming waiting call.
12\. The user answers the waiting call and the UE locally swaps the active
call with the waiting call.
12b. UE has one active and one held call.
13\. The UE uses the standard procedure to send the CS set call hold for the
previously active call to MSC. The UE uses the standard procedure to send the
CS connect message for the alerting call to MSC as e.g. described in TS 24.008
[24].
NOTE 4: Solution for possible race conditions (e.g. MSC server receives the CS
set call hold before the SCC AS responds) will be defined in Stage 3.
13b. The MSC has one active and one held call for the UE.
14\. The MSC notifies the SCC AS the user has swapped the two sessions, i.e.
the user has answered the previously alerting call, and put the previously
active call on hold.
15\. Standard procedures are used at S-CSCF for routeing of the notification
to the SCC AS.
16\. The SCC AS creates the corresponding SIP request to the remote end and
updates the remote leg.
##### 6.3.2.1.7b PS - CS Access Transfer: PS to CS - Single Radio, mid-call
service with an outgoing call in alerting phase
Figure 6.3.2.1.7b-1 provides an information flow for Access Transfer of media
of an IMS session in PS to CS direction for Access Transfers as specified in
TS 23.216 [10].
The flow requires that the user has a held IMS originating or terminating
session and an outgoing IMS session in alerting state; procedures and
capabilities specified in TS 23.216 [10] are used for the switching of access
networks at the transport layer. The Held session is being transferred (step
5-7) first by the network prior to the alerting session (step 10).
Figure 6.3.2.1.7b-1: PS-CS: PS to CS - Single Radio, mid-call service with an
outgoing call in alerting phase
1-4. Standard procedures are used to initiate a SIP session from the UE, which
has already an IMS session (held). The remote end is alerting the user for the
incoming voice session.
5\. Procedures specified in TS 23.216 [10] result in an INVITE to be sent with
an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to
CS access. If the user is not IMS registered by the MSC Server, the MSC Server
enhanced for SRVCC includes the C-MSISDN as calling party number. If the user
is registered in the IMS by the MSC Server, then the MSC Server includes the
GRUU into the session transfer request. The MSC Server indicates its
capability to support mid-call services during session transfer.
6\. Standard procedures are used at I/S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS identifies the correct anchored session (i.e. the held session). The
SCC AS proceeds with the Access Transfer of the held session for the UE by
updating the Remote Leg with the media description and other information using
the Remote Leg Update procedure as specified in clause 6.3.1.5.
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the SRVCC, thus the SCC AS can update the remote leg.
NOTE 2: The SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer
request.
8\. The SCC AS provides Session State Information that the outgoing speech
call in alerting state and other session information as specified in clause
6.3.2.1.4a.
9\. The S-CSCF forwards the Session State Information to the MSC Server.
10\. The MSC Server receives the Session State Information which indicates one
held session and one session in alerting state. The MSC Server initiates
Access Transfer towards SCC AS for the alerting session.
11\. The MSC moves to the corresponding CS call state, e.g. Call Delivered in
TS 24.008 [24].
11b. In parallel to step 11, the UE has received the HO command as described
in TS 23.216 [10]. The UE determines the local call state in the SIP session,
and creates the corresponding CS call state, e.g. Call Delivered in TS 24.008
[24]. The UE ensures that the same ring back tone is played to the end user.
12\. The remote end answers to the call.
13\. The SCC AS notifies the MSC the remote end has answered the call.
14\. Standard procedures are used at S-CSCF for routeing of the notification
to the MSC.
15\. The MSC uses the standard procedure to send the CS connect message to UE
as e.g. described in TS 24.008 [24].
16\. The MSC has one active and one held call for the UE.
17\. The UE has one active and one held call.
##### 6.3.2.1.7c PS - CS Access Transfer: PS to CS - Single Radio, mid-call
service with an incoming call in alerting phase and a held session
Figure 6.3.2.1.7c-1 provides an information flow for Access Transfer of media
of an IMS session in PS to CS direction for Access Transfers as specified in
TS 23.216 [10].
The flow requires that the user has a held IMS originating or terminating
session and an incoming call in alerting state; procedures and capabilities
specified in TS 23.216 [10] are used for the switching of access networks at
the transport layer. The Held session is being transferred (step 5-7) first by
the network prior to the alerting session (step 10).
Figure 6.3.2.1.7c-1: PS-CS: PS to CS - Single Radio, mid-call service with an
incoming call in alerting phase
1-4. Standard procedures are used to initiate a SIP session towards the UE,
which has already an IMS session (held). The UE is notifying the user for the
incoming session.
5\. Procedures specified in TS 23.216 [10] result in an INVITE to be sent with
an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to
CS access. If the user is not IMS registered by the MSC Server, the MSC Server
enhanced for SRVCC includes the C-MSISDN as calling party number. If the user
is registered in the IMS by the MSC Server, then the MSC Server includes the
GRUU into the session transfer request. The MSC Server indicates its
capability to support mid-call services during session transfer.
6\. Standard procedures are used at I/S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS identifies the correct anchored session (i.e. the held session). The
SCC AS proceeds with the Access Transfer of the held session for the UE by
updating the Remote Leg with the media description and other information using
the Remote Leg Update procedure as specified in clause 6.3.1.5.
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the SRVCC, thus the SCC AS can update the remote leg.
NOTE 2: The SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer
request.
8\. The SCC AS provides session state information that the incoming speech
call in alerting state and other session information as specified in clause
6.3.2.1.4a.
9\. The S-CSCF forwards the session state information to the MSC Server.
10\. The MSC Server receives the Session State Information which indicates one
held and one session in alerting state. The MSC Server initiates Access
Transfer towards SCC AS for the alerting session.
11\. The MSC moves to the corresponding CS call state for the alerting
session, e.g. Call Received in TS 24.008 [24].
NOTE 3: In call received state the MSC does not generate an in-band ring tone
to the calling party.
11b. In parallel to step 11, the UE has received the HO command as described
in TS 23.216 [10]. The UE determines the local call states in the SIP
sessions, and creates the corresponding CS call states. The UE continues to
indicate the user about for the incoming call.
12\. The user answers the incoming call and the UE locally swaps the active
call with the incoming call.
12b. UE has one active and one held call.
13\. The UE uses the standard procedure to send the CS connect message for the
alerting call to MSC as e.g. described in TS 24.008 [24].
NOTE 4: Solution for possible race conditions (e.g. MSC server receives the CS
set call hold before the SCC AS responds) will be defined in Stage 3.
13b. The MSC has one active and one held call for the UE.
14\. The MSC notifies the SCC AS the user has answered the call.
15\. Standard procedures are used at S-CSCF for routeing of the notification
to the SCC AS.
16\. The SCC AS creates the corresponding SIP request to the remote end and
updates the remote leg.
##### 6.3.2.1.8 PS - CS Access Transfer: Conferencing - for UEs not using ICS
capabilities
When the UE is using a conference service and Access Transfer between PS and
CS access networks happens, the conference information should be provided by
the SCC AS.
The following procedures require that the use of network capabilities to
support MSC Server assisted mid-call feature during Access Transfer is
supported by the UE and the network according to clause 6.3.2.1.1a, clause
6.3.2.1.4a or clause 6.3.2.1.6 for PS to CS Access Transfer, and according to
clause 6.3.2.1.2a for CS to PS Access Transfer. They further require that the
MSC Server is enhanced for ICS as specified in TS 23.292 [5].
When the UE in an on-going conference performs Access Transfer from PS to CS,
the SCC AS shall provide the conference information (i.e. conference URI,
identifier of all participants, etc.) to the MSC Server on the Target Access
Leg. When the MSC Server receives the conference information, it shall create
a conference state in CS access network (i.e. call in MPTY). When multiple
multi-media sessions including a conference exist, if the active session being
transferred or the selected additional session to be transferred is a
conference call, the conference information shall also be included in the
session state information to be sent by the SCC AS to the MSC Server. The MSC
Server enhanced for ICS using the conference information then performs
conference control on behalf of the UE as specified in clause 7.6.2.8 of TS
23.292 [5]. The MSC Server not enhanced for ICS performs conference control as
specified in clause 7.6.3.6 of TS 23.292 [5] after the Access Transfer from PS
to CS.
NOTE 2: Neither the MSC Server enhanced for ICS nor the MSC Server not
enhanced for ICS are informed about remote participants leaving the conference
that have been added before SRVCC, see also TS 23.292 [5].
When the UE in an on-going conference performs Access Transfer from CS to PS,
the SCC AS shall provide the conference information (i.e. conference URI,
etc.) to the UE on the Target Access Leg. When multiple sessions including a
conference exist, if the active session being transferred or the additional
held session is a conference call, the conference information shall also be
included in the Session State Information to be sent by the SCC AS to the UE.
The UE then uses the conference information to control the conference in PS
domain as specified in TS 24.147 [25].
##### 6.3.2.1.9 PS -- CS Access Transfer: PS to CS -- Single Radio using ATCF
enhancements
##### 6.3.2.1.9.1 ATCF with media anchored in ATGW {#atcf-with-media-anchored-
in-atgw .H6}
This clause describes the main differences with the (v)SRVCC procedures
specified in clauses 6.3.2.1.4 and 6.3.2.1.4a for the case when the media is
anchored in the ATGW and the ATCF enhancements are used. A pre-requisite for
this scenario is that the ATCF has been included during the IMS registration
according to clause 6.1.2. Some of the procedures that are not impacted have
been left out for clarity of the flow.
Figure 6.3.2.1.9.1-1: PS to CS Access Transfer when using ATCF enhancements
and media anchored.
1\. Interaction between UE, RAN, MME/SGSN and MSC Server as specified in TS
23.216 [10]. The following step is triggered after the MSC Server has received
the PS to CS request from the MME / SGSN and has allocated resources in the
RAN.
NOTE 1: In case of PS HO taking place in parallel, and according to TS 23.216
[10] clauses 6.2.2.2 and 6.3.2.2, both the MSC Server and the target SGSN send
independently the Reloc / HO Req to the target RAN. The target RAN
synchronizes the PS and CS resource allocation based on information (received
in transparent containers provided by the source RAN) before responding to
both MSC Server and SGSN, which in turn respond to the source MME/SGSN. The
source MME/SGSN will instruct the UE to move to the target RAN when having
received responses from both SGSN and MSC Server.
2\. The MSC Server initiates Access Transfer message, and if supported, the
MSC Server indicates its capability to support MSC Server assisted mid-call
feature. The MSC Server provides all the supported Codecs for voice or voice
and video in the Access Transfer message.
NOTE 2: It is expected that the CS MGW will support the Codecs used for the PS
session, and thereby the likelihood is minimized that ATCF has to instruct the
ATGW to insert Codecs (i.e. for transcoding).
3\. The ATCF receives the Access Transfer message and correlates the
transferred session using the C-MSISDN. The ATCF identifies the correct
anchored session and proceeds with the Access Transfer of the most recently
active speech session. The ATCF updates the ATGW by replacing the existing PS
access leg media path information with the new CS access leg media path
information, by sending a Configure ATGW message to ATGW. ATCF may provide
priority handling if the Access Transfer message contains priority indication.
NOTE 3: The ATCF could instruct the ATGW to keep using the local port of the
PS access leg media path for the new CS access leg media path.
4\. The ATGW sends Configure ATGW Acknowledgment message back to ATCF.
5\. The ATCF sends an Access Transfer response to the MSC Server. The media
path is switched to CS when receiving SDP information.
NOTE 4: If the ATCF instructs the ATGW to use the local port of the PS access
leg media path for the new CS access leg media path, the Access Transfer
response can be sent right after step 3.
NOTE 5: Since step 2 to 5 are in parallel to step 1, the voice interruption
starts when either the media is switched to the CS MGW controlled by the MSC
Server enhanced for (v)SRVCC or when the UE starts to relocate to the target
(whatever comes first). The media interruption ends when the UE has tuned to
the target and media has switched to CS MGW (whatever comes last). It is
assumed that the media is switched to CS MGW during the time the UE tunes to
target.
6\. After receiving the Access Transfer message, the ATCF re-establishes the
communication with the SCC AS and updates the SCC AS that the transfer has
taken place by sending an Access Transfer Update message to the SCC AS using
the stored ATU-STI. If the MSC server indicated it supported mid-call feature,
it also indicates this in the message to the SCC AS. The Access Transfer
Update creates a new dialogue between the ATCF and SCC AS. The SCC AS
correlates the new dialog with the remote dialog (e.g., using the C-MSISDN).
As there is no update in the session description, no remote end update will be
performed.
NOTE 6: The new dialog between ATCF and SCC AS is needed to replace the old
dialog that has been setup over the PS access leg (and registration). This is
to ensure that if the PS registration for the user expires, the new home leg
will not be released / affected.
7\. The SCC AS sends confirmation response to the ATCF. If the SCC AS and MSC
Server supports mid call feature, the SCC AS provides the SSI according to
clause 6.3.2.1.4a.
8\. If the ATCF receives the SSI, it forwards the SSI to the MSC server.
9\. If the MSC Server receives the Session State Information of more than one
active or inactive speech sessions, it initiates Access Transfer towards SCC
AS for the additional session.
NOTE 7: The Access Leg for the control has moved over to the CS access.
10\. Procedures according to clause 6.3.2.1.4, steps 4a and 4b are used to
handle the cases where the Gm reference point is either retained upon PS
handover procedure, not retained upon PS handover, or if there was no other
media flow(s) in the IMS session.
##### 6.3.2.1.9.2 ATCF without media anchored in ATGW {#atcf-without-media-
anchored-in-atgw .H6}
This clause describes the main differences with the (v)SRVCC procedures
specified in clauses 6.3.2.1.4 and 6.3.2.1.4a for the case when the ATCF is
included in the session path, but media has not been anchored in ATGW. Some of
the procedures that are not impacted have been left out for clarity of the
flow.
Figure 6.3.2.1.9.2-1: PS to CS access transfer
1\. Interaction between UE, RAN, MME/SGSN and MSC Server as specified in TS
23.216 [10]. The following step is triggered after the MSC Server has received
the PS to CS request from the MME / SGSN and has allocated resources in the
RAN.
NOTE 1: In case of PS HO taking place in parallel, and according to TS 23.216
[10] clause 6.2.2.2 and clause 6.3.2.2, both the MSC Server and the target
SGSN send independently the Reloc / HO Req to the target RAN. The target RAN
synchronizes the PS and CS resource allocation based on information (received
in transparent containers provided by the source RAN) before responding to
both MSC Server and SGSN, which in turn respond to the source MME/SGSN. The
source MME/SGSN will instruct the UE to move to the target RAN when having
received responses from both SGSN and MSC Server.
2\. The MSC Server initiates Access Transfer message and if supported, the MSC
Server indicates its capability to support MSC Server assisted mid-call
feature. The MSC Server provides all the supported Codecs for voice or voice
and video in the Access Transfer message.
3\. The ATCF receives the Access Transfer message and correlates the
transferred session using the C-MSISDN. As the media flow has not been
anchored in the ATGW, the ATCF forwards the Access Transfer message along with
priority indication if received to the SCC AS using the stored ATU-STI. If the
MSC server indicated it supported mid-call feature, it also indicates this in
the message to the SCC AS.
4\. The SCC AS correlates the incoming Access Transfer message. As the Session
Description has changed, a remote end update is initiated according to clause
6.3.1.5.
5\. The SCC AS sends an Access Transfer response to the MSC Server, and in the
case MSC Server assisted mid-call feature is supported and used, the SCC AS
provides Session State Information (SSI) according to clause 6.3.2.1.4a.
6\. The ATCF forwards the response to the MSC server.
7\. If the MSC Server receives the Session State Information of more than one
active or inactive speech sessions, it initiates Access Transfer towards SCC
AS for the additional session according to clause 6.3.2.1.4a.
8\. Procedures according to clause 6.3.2.1.4, steps 4a and 4b are used to
handle the cases where the Gm reference point is either retained upon PS
handover procedure, not retained upon PS handover, or if there was no other
media flow(s) in the IMS session.
##### 6.3.2.1.9.3 ATCF not included during registration {#atcf-not-included-
during-registration .H6}
If the decision by the ATCF during registration was not to be included at all,
the SRVCC procedures will fall back to procedures according to clauses
6.3.2.1.4 and 6.3.2.1.4a.
##### 6.3.2.1.10 PS - CS Access Transfer: CS to PS - Single Radio
##### 6.3.2.1.10.1 CS to PS - Single Radio procedures with CS media anchored
in ATGW {#cs-to-ps---single-radio-procedures-with-cs-media-anchored-in-atgw
.H6}
Figure 6.3.2.1.10.1-1 PS-CS: CS to PS - Single Radio, provides an information
flow for Access Transfer of a CS speech media flow in CS to PS direction for
Access Transfers within 3GPP access networks as specified in TS 23.216 [10].
The flow requires that the user is active or inactive in a CS originating or
terminating speech session; procedures and capabilities specified in TS 23.216
[10] are used for the switching of access networks at the transport layer. It
further requires that the UE has an active IMS registration prior the transfer
take place.
Figure 6.3.2.1.10-1: CS to PS - Single Radio procedures with CS media anchored
in ATGW
1\. Procedures specified in TS 23.216 [10] result in that the MSC Server
receives a CS to PS HO request.
2\. The MSC Server initiates a Session Transfer Notification towards the ATCF,
which indicates to the ATCF that it should prepare for the transfer of media
to PS. The ATCF responds with information required for the transfer, including
allocated media IP/ports for UL direction and UE\'s port for DL direction and
voice codec information allocated in the ATGW.
NOTE 1: The ATCF retrieves the ports/codec information from the UE during the
IMS registration.
3\. The MSC Server performs the CS to PS HO preparation procedures by
interacting with target MME/SGSN to initiate the handover according to TS
23.216 [10].
4\. When the target MME/SGSN have reserved appropriate resources in the target
network, the MSC Server sends a Session Transfer Preparation request to the
ATCF to instruct the ATCF that media should be switched to the target access
and also triggers the UE to hand over to the target according to TS 23.216
[10].
5\. The ATCF switches the media path in the ATGW from the source access to
target access.
NOTE 2: The voice media will be sent on the target access on the pre-
negotiated ports between UE and ATGW.
6\. The UE initiates a Session Transfer Complete request to the ATCF to move
the session control to the PS access. If mid-call and alerting is supported,
the UE will include this in the request.
7\. The ATCF sends a Session Transfer Complete response to the UE and releases
the Source Access Leg toward the MSC Server.
NOTE 3: PCC interactions will be performed by the P-CSCF according to standard
procedures of TS 23.228 [4] during step 6 and step 7. This will create the
dedicated voice bearer for the session.
8\. After receiving the Session Transfer Complete message, the ATCF re-
establishes the communication with the SCC AS and updates the SCC AS that the
transfer has taken place by sending an Access Transfer Update message to the
SCC AS using the stored ATU-STI and C-MSISDN. If the UE indicated it supported
mid-call feature and/or alerting, it also indicates this in the message to the
SCC AS. The Access Transfer Update creates a new dialogue between the ATCF and
SCC AS. The SCC AS correlates the new dialog with the remote dialog (e.g.,
using the C-MSISDN). As there is no update in the session description, no
remote end update will be performed.
9\. The SCC AS sends confirmation response to the ATCF. If the SCC AS and UE
supports mid-call feature and/or alerting, the SCC AS provides the Session
State Information (SSI) according to clause 6.3.2.1.2a. The Session State
Information includes the additional held session with speech media including
dynamic STI needed for the held session on the transferring-in leg.
10-11. If the ATCF receives the SSI, it forwards the SSI to the UE.
12\. If the UE receives the Session State Information of the held session, it
initiates a Access Transfer request towards the SCC AS using the dynamic STI
for the held session.
##### 6.3.2.1.10.2 CS to PS - Single Radio procedures without CS media
anchored in ATGW {#cs-to-ps---single-radio-procedures-without-cs-media-
anchored-in-atgw .H6}
Figure 6.3.2.1.10.1-2 PS-CS: CS to PS - Single Radio, provides an information
flow for Access Transfer of a CS speech media flow in CS to PS direction for
Access Transfers within 3GPP access networks as specified in TS 23.216 [10].
The flow requires that the user is active or inactive in a CS originating or
terminating speech session; procedures and capabilities specified in TS 23.216
[10] are used for the switching of access networks at the transport layer. It
further requires that the UE has an active IMS registration prior the transfer
take place.
Figure 6.3.2.1.10-2: CS to PS - Single Radio procedures without CS media
anchored in ATGW
1\. Procedures specified in TS 23.216 [10] result in that the MSC Server
receives an CS to PS HO request.
2\. The MSC Server initiates a Session Transfer Notification towards the ATCF,
which indicates to the ATCF that it should prepare for the transfer of media
to PS. The ATCF responds with information required for the transfer, including
allocated media IP/ports for UL direction and UE\'s port for DL direction and
voice codec information allocated in the ATGW.
NOTE 1: The ATCF retrieves the ports/codec information from the UE during the
IMS registration.
3\. The MSC Server performs the CS to PS HO preparation procedures by
interacting with target MME/SGSN to initiate the handover according to TS
23.216 [10].
4\. When the target MME/SGSN have reserved appropriate resources in the target
network, the MSC Server sends a Session Transfer Preparation request to the
ATCF.
5\. When receiving the Session Transfer Preparation request from the MSC
Server, the ATCF reserves ATGW resources for the media path connected to MGW
and then sends a Session Transfer Preparation response to the MSC Server. Upon
receipt of the Session Transfer Preparation response, the MSC Server instructs
the MGW to switch the media path from the source access (CS RAN) to the target
access (ATGW), and also triggers the UE to hand over to the target according
to TS 23.216 [10].
NOTE 2: The voice media will be sent on the target access on the designated
ports between UE and ATGW.
6\. The UE initiates a Session Transfer Complete request to the ATCF to move
the session control to the PS access. If mid-call and alerting is supported,
the UE will include this in the request.
7\. The ATCF sends an Session Transfer Complete response to the UE.
NOTE 3: PCC interactions will be performed by the P-CSCF according to standard
procedures of TS 23.228 [4] during step 6 and step 7. This will create the
dedicated voice bearer for the session.
8\. After receiving the Session Transfer Complete message, the ATCF re-
establishes the communication with the SCC AS and updates the SCC AS that the
transfer has taken place by sending an Access Transfer Update message to the
SCC AS using the stored ATU-STI and C-MSISDN. If the UE indicated it supported
mid-call feature and/or alerting, it also indicates this in the message to the
SCC AS. The Access Transfer Update creates a new dialogue between the ATCF and
SCC AS. The SCC AS correlates the new dialog with the remote dialog (e.g.,
using the C-MSISDN). As there is update in the session description, Remote Leg
Update and Source Access Leg procedures (to release unused resources at the CS
MGW) will be performed as specified in 6.3.1.5 and 6.3.1.6 respectively.
9\. The SCC AS sends confirmation response to the ATCF. If the SCC AS and UE
supports mid-call feature and/or alerting, the SCC AS provides the Session
State Information (SSI) according to clause 6.3.2.1.2a. The Session State
Information includes the additional held session with speech media including
dynamic STI needed for the held session on the transferring-in leg.
10-11. If the ATCF receives the SSI, it forwards the SSI to the UE.
12\. If the UE receives the Session State Information of the held session, it
initiates an Access Transfer request towards the SCC AS using the dynamic STI
for the held session.
#### 6.3.2.2 PS - PS Access Transfer
NOTE: If a PS-PS session transfer occurs and there is a change in IP address,
TCP-based media flow(s) using transferring-out access will break. Recovery
procedures from broken TCP connections are application specific.
##### 6.3.2.2.1 PS-PS Access Transfer with full media transfer
UE‑1 is attached to one IP-CAN and it registers to the S-CSCF. UE-1
establishes an active multimedia session with UE-2 via this IP‑CAN. After
changing to a new IP‑CAN, obtaining new signalling and media addresses, and
completing the Access Transfer procedures, UE‑1 continues the multimedia
session with UE‑2 via the new IP‑CAN.
Figure 6.3.2.2.1-1: Information flow for PS-PS Access Transfer
1\. UE‑1 connects to a new IP‑CAN and receives new IP address(es). UE‑1
decides to perform PS to PS Access Transfer based on SC policy information.
2\. UE‑1 registers to the S‑CSCF via the new IP‑CAN. This registration may go
through the same P‑CSCF or a different P‑CSCF.
3 \~ 5. UE‑1 sends an INVITE message on the new IP-CAN towards the SCC AS. The
INVITE message includes the STI identifying the session to be transferred. The
INVITE message also indicates to the SCC AS that it performs Access Transfer
with full media transfer.
6\. The SCC AS identifies the session based on STI and updates the session
over the remote access leg (see clause 6.3.1.5).
7\. The SCC AS completes session setup with UE-1 on the new access leg and
releases old session based on the standard IMS procedures.
##### 6.3.2.2.2 PS-PS Access Transfer with partial media transfer
UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After
changing to a new IP‑CAN and obtaining new signalling and media addresses,
UE‑1 transfers part of the multimedia session with UE‑2 to the new IP‑CAN and
keeps the remaining part on the original IP‑CAN. UE‑1 is attached to both the
new and old IP‑CANs after the Access Transfer procedures. The call flow is the
same as shown in clause 6.3.2.2.1. The only difference is that in Step 3, the
INVITE needs to indicate that the request is for a partial transfer and
instead of releasing the old session in step 7, the UE updates session
information over the old access leg. In this case, the INVITE message sent in
step 3 shall indicate the media flow(s) which need to be transferred to the
new IP‑CAN.
##### 6.3.2.2.3 PS-PS Access Transfer with full media transfer for an incoming
call in early dialog phase
UE‑1 is attached to IP‑CAN 1 and registered to IMS over that IP‑CAN. UE-1 and
is in the process of establishing an incoming multimedia session with UE‑2 via
this IP CAN. While an early dialog has been established over IP‑CAN 1, UE‑1
detects that an Access Transfer to IP‑CAN 2 is required.
Figure 6.3.2.2.3-1: PS-PS Access Transfer with full media transfer incoming
call in early dialog phase
1-4. Standard procedures are used to initiate a SIP session over IP CAN 1 from
the remote end towards UE‑1. An early dialog has been established and UE‑1
might be alerting the user.
5-6. If it has not done it yet, UE‑1 connects to a new IP‑CAN, IP‑CAN 2, and
receives new IP address(es). It then registers to the S‑CSCF via IP‑CAN 2.
This registration may go through the same P‑CSCF or a different P‑CSCF. UE 1
decides to perform PS to PS Access Transfer based on SC policy information.
7-8. UE 1 sends an INVITE message on IP‑CAN2 towards the SCC AS. The INVITE
message includes the STI identifying the session to be transferred. The INVITE
message also indicates to the SCC AS that it performs Access Transfer with
full media transfer.
9\. The SCC AS identifies the early dialog, and updates the session over the
remote access leg (see clause 6.3.1.5).
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the PS-PS access transfer, thus the SCC AS can update the remote
leg.
10-11. The SCC AS answers to UE‑1 over IP‑CAN 2 with the appropriate message
to have the new session moved to the same state as the session on the
transferred out access.
12\. The UE determines that the session has been transferred to IP‑CAN 2, and
continues to alert the user for incoming call if appropriate.
13-15. UE‑1 sends the final response. The remote end is notified, and the
session starts over IP‑CAN 2.
##### 6.3.2.2.4 PS-PS Access Transfer with full media transfer for an outgoing
call in early dialog phase
UE‑1 is attached to IP‑CAN 1 and registered to IMS over that IP‑CAN. UE‑1 and
is in the process of establishing an outgoing multimedia session with UE‑2 via
this IP‑CAN. While an early dialog has been established over IP‑CAN 1, UE‑1
detects that an Access Transfer to IP‑CAN 2 is required.
Figure 6.3.2.2.4-1: PS-PS Access Transfer with full media transfer outgoing
call in early dialog phase
1-4. Standard procedures are used to initiate a SIP session over IP‑CAN 1 from
the UE towards the remote end. An early dialog has been established and the
remote end might be alerting the user.
5-6. If the UE has not done it yet, UE‑1 connects to a new IP‑CAN, IP‑CAN 2,
and receives new IP address(es). It then registers to the S‑CSCF via IP‑CAN 2.
This registration may go through the same P‑CSCF or a different P‑CSCF. UE‑1
decides to perform PS to PS Access Transfer based on SC policy information.
7-8. UE‑1 sends an INVITE message on IP‑CAN2 towards the SCC AS. The INVITE
message includes the STI identifying the session. The INVITE message also
indicates to the SCC AS that it performs Access Transfer with full media
transfer.
9\. The SCC AS identifies the early dialog, and updates the session over the
remote access leg (see clause 6.3.1.5).
NOTE 1: It is assumed the initial SDP negotiation has been completed prior to
triggering the PS-PS access transfer, thus the SCC AS can update the remote
leg.
10-11. The SCC AS answers to UE‑1 over IP‑CAN 2 with the appropriate message
to have the new session moved to the same state as the session on the
transferred out access.
12\. The UE determines that the session has been transferred to IP‑CAN 2\. The
UE ensures that the same ringback tone is played to the end user if
appropriate.
13-14. The remote end sends the final response. UE‑1 is notified, and the
session starts over IP‑CAN 2.
#### 6.3.2.3 PS - PS in conjunction with PS - CS Access Transfer
##### 6.3.2.3.1 PS - PS in conjunction with PS - CS Access Transfer: PS to CS
for UEs not using ICS capabilities
It is required that the UE has a single ongoing IMS session containing speech
or speech and video and other media with the remote end. After the Access
Transfer, the two sessions are treated as independent sessions on the
transferring-in Access Legs for mid-call service (e.g. hold of PS or CS
media).
Figure 6.3.2.3.1-1: PS-PS in conjunction with PS-CS Access Transfer: PS to CS
1\. When the UE determines a need for Access Transfer, the UE attaches to CS
(if not already attached). It subsequently initiates the PS--CS Access
Transfer by sending a CS call setup including the STN to establish the Access
Leg via the CS access. A static STN preconfigured to the UE is used.
2\. An INVITE is routed to the I/S-CSCF.
3\. An INVITE is routed to the SCC AS.
4\. The SCC AS performs the Remote Leg update by using procedures defined in
clause 6.3.1.5. The SCC AS updates the speech or speech and video media being
transferred in the session towards the Remote Leg.
5\. The SCC AS completes the session setup towards UE according to procedures
defined in TS 23.228 [4].
6\. The UE initiates registration with IMS via the new PS access (if not
already registered) as specified in clause 6.1. It subsequently initiates the
PS--PS Access Transfer by sending an INVITE including the SDP for the non-
real-time media flow(s) and STI to establish the Access Leg via the PS access.
A dynamic STI allocated at the time of IMS session creation is used.
7\. An INVITE is routed to the SCC AS.
8\. The SCC AS identifies the session to be transferred using the STI. The SCC
AS performs the Remote Leg update by using procedures defined in clause
6.3.1.5. The SCC AS updates the non-real-time media flow(s) in the session
towards the Remote Leg.
9\. The SCC AS completes the session setup towards UE according to procedures
defined in TS 23.228 [4].
10\. Source Access Leg Release is performed according to the procedures
defined in clause 6.3.1.6.
NOTE: Steps 1-5 can be performed in reversed order with steps 6‑8.
##### 6.3.2.3.2 PS - PS in conjunction with PS - CS Access Transfer: CS to PS
for UEs not using ICS capabilities
It is required that the UE has an ongoing CS call and a related IMS session
with the remote end.
Figure 6.3.2.3.2-1: PS-PS in conjunction with PS-CS Access transfer: CS to PS
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS via the new PS access (if not already registered) as
specified in clause 6.1. It subsequently initiates the Access Transfer **by
sending an INVITE to establish the Access Leg via the PS access. The INVITE
includes** the SDP for speech or speech and video and non-real-time media
flow(s) and STI-1 and STI-2 respectively for the IMS session using CS and the
IMS session using PS to be transferred**.** For STI-1 a static STI
preconfigured to the UE is used. For STI-2 a dynamic STI allocated at the time
of IMS session creation is used. STI-1 and STI-2 are never the same.
**2.** Standard procedures are used at S-CSCF for routing of the INVITE to the
SCC AS.
3\. The SCC AS identifies the session to be transferred using the STI-1 and
STI-2. The SCC AS performs the Remote Leg Update by using procedures defined
in clause 6.3.1.5. The SCC AS updates the combined session towards the Remote
Leg.
4\. The SCC AS completes the session setup towards UE-1 according to
procedures defined in TS 23.228 [4].
5\. Source Access Leg Release is performed according to the procedures defined
in clause 6.3.1.6.
##### 6.3.2.3.3 PS -- PS in conjunction with PS - CS Access Transfer: PS to CS
for UEs with ICS capabilities - Using Gm reference point
Figure 6.3.2.3.3-1 PS-PS in conjunction with PS--CS Access Transfer: PS to CS
for UEs with ICS capabilities, provides an information flow for Access
Transfer of real time media flow(s) of an IMS session in PS to CS direction
and zero or more non real time media flow(s) in PS to PS direction. The UE may
choose to retain some of the non real time media flow(s) in the original PS
access.
The flow requires that the user is in an active or inactive IMS originating or
terminating session; the Gm reference point of ICS is used for control of IMS
sessions that use CS media.
Figure 6.3.2.3.3-1: PS-PS in conjunction with PS-CS Access transfer: PS to CS
for UEs with ICS capabilities
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS via the new PS access (if not already registered) as
specified in clause 6.1. It subsequently initiates the \"**Originations with
CS media using the Gm reference point\" procedure** as specified in TS 23.292
[5], clause 7.3.2.2.4 **by sending an INVITE including** the STI **to
establish the Access Leg via the PS access.** The INVITE also includes an
indication to use a CS bearer for the real time media and a description of non
real time media flow(s) that are to be transferred to the new PS access if any
non real time media is present at the time of initiation of Access
Transfer**.**
**2.** Standard procedures are used at S-CSCF for routing of the INVITE to the
SCC AS.
3\. The SCC AS identifies the session to be transferred using the STI and the
media flow(s), and continues the \"Originations with CS media using the Gm
reference point\" procedure for completion of the setup of CS media for the
Access Leg by allocating a SCC AS PSI DN and sending it in a reliable
provisional response to the S-CSCF (see TS 23.292 [5] for SCC AS PSI DN).
4\. The S-CSCF forwards the provisional response (containing the SCC AS PSI
DN) to the UE.
5\. The UE continues the \"Originations with CS media using the Gm reference
point\" procedure by sending a Setup message including the SCC AS PSI DN to
establish the CS media for the Access Leg.
6\. The \"Originations with CS media using Gm reference point procedure\" is
used at the CS and IMS intermediate nodes, resulting in routing of an INVITE
to the I/S-CSCF.
7\. The I/S-CSCF extends the INVITE with the SCC AS PSI and SDP of the MGW as
part of the \"Originations with CS media using the Gm reference point\"
procedure.
8\. The SCC AS uses the SCC AS PSI to correlate the incoming session via the
CS access with the Access Transfer request previously received via the PS
access.
The SCC AS completes the establishment of the Access Leg by combining the
description of the media established via the CS access with the description of
the media flow(s) established via the PS access for the signalling associated
with the Access Leg.
The SCC AS performs the Access Transfer by updating the Remote Leg with the
media description and other information of the newly established Access Leg
using the Remote Leg Update procedure as specified in clause 6.3.1.5.
9a. If the UE transfers all the non real time media flow(s) to the new PS
access, the Source Access Leg (which is the Access Leg previously established
over PS access) is released as specified in clause 6.3.1.6.
9b. If the UE chooses to retain some media flow(s) in the original PS access,
then:
> 9b1. the UE sends an INVITE to the SCC AS (as part of the existing dialog)
> to update the session information over the Source Access Leg; and
>
> 9b2. the SCC AS performs the Remote Leg update (if necessary) by using
> procedures defined in clause 6.3.1.5. The Source Access Leg is not released
> in this case.
NOTE: Steps 8 and 9 consist of a sequence of messages, some of which may occur
in parallel.
##### 6.3.2.3.4 PS - PS in conjunction with PS - CS Access Transfer: CS to PS
for UEs with ICS capabilities - Using Gm reference point
The information flow for Access Transfer of real time media of an IMS session
in CS to PS direction, and zero or more non real time media flow(s) in PS to
PS direction is the same as the information flow for PS--CS Access Transfer:
CS to PS access, as specified in clause 6.3.2.1.2.
The flow requires that the user is in an active or inactive IMS originating or
terminating session; the Gm reference point of ICS is used for control of IMS
sessions that use CS media; and a dynamic STI is associated with each session.
##### 6.3.2.3.5 PS -- PS in conjunction with PS -- CS Access Transfer:
Active/Held sessions - Using Gm reference point
Figure 6.3.2.3.5-1 PS--PS in conjunction with PS--CS Access Transfer:
Active/Held sessions, provides an information flow for Access Transfer of real
time media flow(s) of one active and one or more held sessions between PS and
CS, any of which may have zero or more non real time media flow(s) which is
transferred within the PS access.
The flow requires that the user is in an active IMS originating and/or
terminating sessions; the Gm reference point of ICS is used for control of IMS
sessions that use CS media; and a dynamic STI is associated with each session.
Figure 6.3.2.3.5-1: PS-PS in conjunction with PS-CS Access transfer:
Active/Held sessions
**1a, 1b.** When the UE determines a need for Access Transfer, the UE
initiates the Access Transfer of the active session as specified in clause
6.3.2.3.3 PS--PS in conjunction with PS--CS Access Transfer: PS to CS for UEs
with ICS capabilities, or clause 6.3.2.3.4 PS--PS in conjunction with PS-CS
Access Transfer: CS to PS for UEs with ICS capabilities, based on the
direction of the Access Transfer of the real time media. The STI of the active
session is used by SCC AS to identify the active session.
1c. The UE and the SCC AS complete the Access Transfer of the active session.
2a, 2b. **The UE** initiates the Access Transfer of the first held session
using the same procedures as identified in steps 1a and 1b with a difference
that for transfer to CS access, the CS media is not established for the held
session; the media established upon the transfer of the currently active
session is reused for the held session when it is resumed. The STI of the held
session is used by SCC AS to identify the held session.
2c. The UE and the SCC AS complete the Access Transfer of the held session.
Steps 2a, 2b and 2c are repeated for the remaining held sessions.
NOTE 1: Steps 1c and 2c consist of a sequence of messages, which may occur in
parallel.
NOTE 2: Another supported scenario is when there are no active sessions, i.e.
the session in 1a and 1b may also be a held session.
##### 6.3.2.3.6 PS -- PS in conjunction with PS -- CS Access Transfer:
Explicit Communication Transfer - Using Gm reference point
Prior to consultative transfer, the transferor UE may have one session with
the transferee UE and one session with the transfer target UE. If the
transferor UE performs Access Transfer in this case, the information flow for
PS--PS in conjunction with PS--CS Access Transfer: Explicit Communication
Transfer is the same as the information flow in clause 6.3.2.3.5 PS--PS in
conjunction with PS--CS Access Transfer: Active/held sessions.
For all other cases in ECT service, there is only one session at the UE.
Depending on the direction of the Access transfer, the following information
flows apply:
\- the information flow in clause 6.3.2.3.3 for PS-PS in conjunction with PS-
CS Access Transfer: PS to CS; or,
\- the information flow in clause 6.3.2.3.4 for PS-PS in conjunction with PS-
CS Access Transfer: CS to PS.
The flow requires that the user is active in IMS originating and/or
terminating sessions with the Explicit Communication Transfer service; the Gm
reference point of ICS is used for control of IMS sessions that use CS media;
and a dynamic STI is associated with each session.
##### 6.3.2.3.7 PS -- PS in conjunction with PS -- CS Access Transfer:
Conferencing - Using Gm reference point
The information flows for PS--PS in conjunction with PS--CS Access Transfer:
Conferencing in PS to CS and CS to PS directions, are the same as the
information flows in clause 6.3.2.3.3 PS--PS in conjunction with PS--CS Access
Transfer: PS to CS for UEs with ICS capabilities, and clause 6.3.2.3.4 PS--PS
in conjunction with PS--CS Access Transfer: CS to PS for UEs with ICS
capabilities respectively.
The flow requires that the user is in an active or inactive IMS originating
and/or terminating sessions with the Conferencing service; the Gm reference
point of ICS is used for control of IMS sessions that use CS media.
##### 6.3.2.3.8 PS -- PS in conjunction with PS -- CS Access Transfer: PS to
CS -- using I1 reference point
Figure 6.3.2.3.8-1 PS‑CS in conjunction with PS‑CS Access Transfer: PS to CS
access - using I1 reference point, provides an information flow for Access
Transfer of real time media flow(s) of an IMS session in PS to CS direction.
The flow requires that the user is in an active or inactive IMS originating or
terminating session; the I1 reference point of ICS is used for control of IMS
sessions that use CS media; and a unique STI is associated with each session.
Figure 6.3.2.3.8-1: PS--CS in conjunction with PS--CS Access Transfer: PS to
CS access - using I1 reference point
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS via the new PS access (if not already registered) as
specified in clause 6.1. It subsequently initiates the \"Originations to a SIP
URI\" procedure as specified in TS 23.292 [5], clause 7.3.2.2.2.1 by sending
an I1, ICS Call Initiation including the STI to establish the Access Leg via
the PS access.
2\. The SCC AS identifies the session to be transferred using the STI, and
continues the \"Originations to a SIP URI\" procedure for completion of the
setup of CS media for the Access Leg by allocating a SCC AS PSI DN and sending
it in an I1, ICS Call Initiation Result; see TS 23.292 [5] for SCC AS PSI DN.
3\. The UE continues the \"Originations to a SIP URI\" procedure by sending a
Setup message including the SCC AS PSI DN to establish the CS media for the
Access Leg.
4\. The \"Originations to a SIP URI\" procedure is used at the CS and IMS
intermediate nodes, resulting in routeing of an INVITE with the SCC AS PSI to
the I/S-CSCF.
5\. The I/S-CSCF forwards the INVITE with the SCC AS PSI and SDP of the MGW as
part of the \"Originations with CS media using the Gm reference point\"
procedure.
6\. The SCC AS uses the SCC AS PSI to correlate the CS bearer control
signalling request received via the CS access with the Access Transfer request
previously received via the PS access.
The SCC AS completes the establishment of the Access Leg by combining the
description of the media established via the CS access with the description of
the media flow(s) established via the PS access for the signalling associated
with the Access Leg.
The SCC AS performs the Access Transfer by updating the Remote Leg with the
media description and other information of the newly established Access Leg
using the Remote Leg Update procedure as specified in clause 6.3.5.
7\. The Source Access Leg (which is the Access Leg previously established over
PS access) is released as specified in clause 6.3.6.
NOTE: Steps 6 and 7 consist of a sequence of messages, some of which may occur
in parallel.
##### 6.3.2.3.9 PS - PS in conjunction with PS - CS Access Transfer: CS to PS
- using I1 reference point
The information flow for Access Transfer of real time media of an IMS session
in CS to PS direction when the I1 reference point is used for service control
of sessions that use CS media, is the same as the information flow PS--CS
Access Transfer: CS to PS access, as specified in clause 6.3.2.1.2.
The flow requires that the user is in an active or inactive IMS originating or
terminating session; the I1 reference point of ICS is used for control of IMS
sessions that use CS media; and a unique STI is associated with each session.
##### 6.3.2.3.10 PS - PS in conjunction with PS - CS Access Transfer: PS to CS
for Active/Held sessions - using I1 reference point
Figure 6.3.2.3.10-1 PS -- PS in conjunction with PS -- CS Access Transfer: PS
to CS for Active/Held sessions -- using I1 reference point, provides an
information flow for Access Transfer of real time media of one active and one
or more held sessions from PS to CS when the I1 reference point is used for
service control of sessions that use CS media.
The flow requires that the user is active in IMS originating and/or
terminating sessions; the I1 reference point of ICS is used for control of IMS
sessions that use CS media; and a unique STI is associated with each session.
Figure 6.3.2.3.10-1: PS -- PS in conjunction with PS -- CS Access Transfer: PS
to CS for Active/Held sessions -- using I1 reference point
1a. When the UE determines a need for Access Transfer, the UE initiates the
Access Transfer of the active session as specified in clause 6.3.2.3.8 PS --
PS in conjunction with PS -- CS Access Transfer: PS to CS -- using I1
reference point The STI of the active session is used by SCC AS to identify
the active session.
1b. The UE and the SCC AS complete the Access Transfer of the active session.
2a. The UE initiates the Access Transfer of the first held session using the
same procedures as identified in steps 1a and 1b with a difference that the CS
media is not established for the held session; the media path established upon
transfer of the currently active session is reused for the held session when
it is resumed. The STI of the held session is used by SCC AS to identify the
held session.
2b. The UE and the SCC AS complete the Access Transfer of the held session.
Steps 2a and 2b are repeated for the remaining held sessions.
NOTE 1: Steps 1b and 2b consist of a sequence of messages, which may occur in
parallel.
NOTE 2: Another supported scenario is when there are no active sessions, i.e.
the session in 1a and 1b may also be a held session.
##### 6.3.2.3.11 PS - PS in conjunction with PS - CS Access Transfer: CS to PS
for Active/Held sessions - using I1 reference point
Figure 6.3.2.3.11-1 PS -- PS in conjunction with PS -- CS Access Transfer: CS
to PS for Active/Held sessions -- using I1 reference point, provides an
information flow for Access Transfer of real time media of one active and one
or more held sessions from CS to PS when the I1 reference point is used for
service control of sessions that use CS media.
The flow requires that the user is active in IMS originating and/or
terminating sessions; the I1 reference point of ICS is used for control of IMS
sessions that use CS media; and a unique STI is associated with each session.
Figure 6.3.2.3.11-1: PS -- PS in conjunction with PS -- CS Access Transfer: CS
to PS for Active/Held sessions - using I1 reference point
1a, 1b. When the UE determines a need for Access Transfer, the UE initiates
the Access Transfer of the active session as specified in clause 6.3.2.3.9 PS
-- PS in conjunction with PS -- CS Access Transfer: CS to PS - using I1
reference point. The STI of the active session is used by SCC AS to identify
the active session.
1c. The UE and the SCC AS complete the Access Transfer of the active session.
2a, 2b. The UE initiates the Access Transfer of the first held session using
the same procedures as identified in steps 1a, 1b and 1c. The STI of the held
session is used by SCC AS to identify the held session.
2c. The UE and the SCC AS complete the Access Transfer of the held session.
Steps 2a, 2b and 2c are repeated for the remaining held sessions.
NOTE: Steps 1c and 2c consist of a sequence of messages, which may occur in
parallel.
### 6.3.3 Media Adding/Deleting
#### 6.3.3.1 Local End Initiation case: Adding new PS media to existing CS
session
The call flow in figure 6.3.3.1-1 presents a scenario where UE‑1 adds PS media
flow(s) (e.g. video) to an existing multimedia session that only contains CS
media. As a post condition the UE‑1 has an ongoing CS call and a related IMS
session with the remote end.
Figure 6.3.3.1-1: Local End Initiation case: Adding new PS media to existing
CS session
1\. A multimedia session between UE‑1 and UE‑2 is established as either
originated or terminated session with CS media as described in TS 23.292 [5]
clauses 7.3.2.1 and 7.4.2.1, respectively i.e. UE‑1 is not using the ICS
capability and therefore not using the Gm reference point during the session
establishment.
2\. UE-1 requests to add one or more PS media component(s) to the existing CS
Call by sending an INVITE containing description of the new PS media towards
SCC AS to establish a new Access Leg. UE‑1 provides description of the new
media and the information necessary for the SCC AS to identify the existing
session.
3\. The S-CSCF executes any service logic as appropriate.
4\. The S-CSCF sends the INVITE to the SCC AS.
5\. The SCC AS determines that the INVITE is related to an existing session
using the information provided by UE-1 and decides to add the new media flow
to the session.
NOTE: If SCC AS decides that the request is not related to an existing
session, it handles the INVITE as a new session as described in clause 6.2.1.3
Session origination using PS media flow(s) only.
6\. The SCC AS performs the Remote Leg Update using procedures defined in
clause 6.3.1.5.
7\. The SCC AS completes the session setup towards UE-1 according to
procedures defined in TS 23.228 [4].
#### 6.3.3.2 Local End Initiation case: Incorporating existing CS media in new
IMS Session and Gm Service Control
The call flow in figure 6.3.3.2-1 presents a scenario where UE‑1 adds PS media
component(s) (e.g. video) and Gm Service Control Signalling Path to an
existing multimedia session that only contains CS media. Following this
scenario the session is controlled using ICS capability.
Figure 6.3.3.2-1: Local End Initiation case: Incorporating existing CS media
in new IMS Session and Gm Service Control Signalling Path
1\. A multimedia session between UE‑1 and UE‑2 is established as either
originated or terminated session with CS media as described in TS 23.292 [5]
clauses 7.3.2.1 and 7.4.2.1, respectively i.e. UE‑1 is not using the ICS
capability and therefore not using the Gm reference point during the session
establishment.
2\. UE-1 requests to add one or more PS media component(s) and to control the
CS media using ICS capabilities by an INVITE towards SCC AS to establish a new
session. The request contains the description of the new PS media and
indicates that control of the existing CS media is transferred to the new
session. UE‑1 provides information necessary for the SCC AS to identify the
existing session and to request addition of the media flow to the existing
session.
3\. The S-CSCF executes any service logic as appropriate.
4\. The S-CSCF sends the INVITE to the SCC AS.
5\. The SCC AS determines that the INVITE is related to an existing session
using the information provided by UE‑1 and adds the new media flow to the
session.
6\. The SCC AS performs the Remote Leg update using procedures defined in
clause 6.3.1.5.
7\. The SCC AS completes the session setup towards UE-1 according to
procedures defined in TS 23.228 [4].
#### 6.3.3.3 Local End Initiation case: Adding PS media to IMS session with CS
media
The call flow in figure 6.3.3.3-1 presents a scenario where UE-1 adds PS media
component(s) (e.g. video) to an existing multimedia session that contains CS
media and is controlled using ICS capability.
Figure 6.3.3.3-1: Local End Initiation case: Adding PS media to IMS session
with CS media
1\. An IMS session between UE-1 and UE-2 is established as either originated
or terminated session with CS media as described in TS 23.292 [5] clauses
7.3.2.2.4 and 7.4.2.2.2.2, respectively i.e. UE-1 is using the ICS capability
and therefore the Gm reference point during the session establishment.
2\. UE-1 initiates a request to add the PS media flow(s) to the existing IMS
session.
3\. The S-CSCF executes any service logic as appropriate.
4\. The S-CSCF sends the INVITE to the SCC AS.
5\. The SCC AS performs the Remote Leg Update using procedures defined in
clause 6.3.1.5.
6\. The SCC AS completes the session setup towards UE-1 according to
procedures defined in TS 23.228 [4].
#### 6.3.3.4 Remote End Initiation case: Adding new PS media to existing CS
session
The call flow in figure 6.3.3.4-1 presents a scenario where UE‑1 has an
existing CS session with UE‑2 and UE‑2 adds new media flow(s) to the session
and the new media flow is delivered via PS access towards UE‑1.
Figure 6.3.3.4-1: Remote End Initiation case: Adding new PS media to existing
CS session
1\. A CS session between UE‑1 and UE‑2 is established as either originated or
terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.1
and 7.4.2.1, respectively, i.e. UE‑1 is not using the ICS capability and
therefore not using the Gm reference point during the session establishment.
2\. S‑CSCF receives a request from UE‑2 to add new PS media flow(s) (e.g.
video) to the existing session.
3\. S‑CSCF forwards the request to SCC AS, which is anchored on the session
path.
4\. The T‑ADS function in the SCC AS decides that the new media flow is
delivered to UE‑1 via PS access and therefore splits the session. T‑ADS in the
SCC AS uses the C‑MSISDN for correlation, and then ensures the split session
is delivered only to UE‑1, and not delivered to other UEs of the user.
5-6. SCC AS initiates a new session towards UE‑1. The request includes the new
PS media flow. The SCC AS includes enough information within the session
request to allow UE-1 to correlate this new session with the existing CS
session.
7\. UE‑1 accepts the new session and completes the session setup via PS
access.
8\. The SCC AS completes the Remote Leg towards UE‑2 according to procedures
defined in TS 23.228 [4].
#### 6.3.3.5 Remote End Initiation case: Incorporating existing CS media in
new IMS Session and Gm Service Control
The call flow in figure 6.3.3.5-1 presents a scenario where UE‑1 has an
existing CS session with UE‑2 and UE‑2 adds new media flow(s) to the session.
The new media flow(s) is delivered via PS access towards UE‑1 and Gm Service
Control Signalling Path is added. Following this scenario the session is
controlled using ICS capability.
Figure 6.3.3.5-1: Remote End Initiation case: Incorporating existing CS media
in new IMS Session and Gm Service Control Signalling Path
1\. A CS session between UE‑1 and UE‑2 is established as either originated or
terminated session with CS media as described in TS 23.292 [5] sections
7.3.2.1 and 7.4.2.1, respectively i.e. UE‑1 is not using the ICS capability
and therefore not using the Gm reference point during the session
establishment.
2\. S‑CSCF receives a request from UE‑2 to add new PS media flow (e.g. video)
to the existing session.
3\. S‑CSCF forwards the request to SCC AS, which is anchored on the session
path.
4\. The T‑ADS function in the SCC AS decides that the new media flow is
delivered to UE‑1 via PS access and therefore initiates a new session using
the Gm reference point using ICS capabilities as specified in TS 23.292 [5].
SCC AS decides to establish the Gm Service Control Signalling Path together
with the media addition using the ICS capability. T‑ADS in the SCC AS uses the
C‑MSISDN for correlation, and then ensures the new session is delivered only
to UE‑1, and not delivered to other UEs of the user.
5‑6. SCC AS initiates a new session towards UE‑1. The request includes the new
PS media and indicates that the existing CS media is moved to and controlled
over this session.
7\. UE‑1 accepts the new session and completes the session setup via PS
access.
8\. The SCC AS completes the Remote Leg towards UE‑2 according to procedures
defined in TS 23.228 [4].
#### 6.3.3.6 Remote End Initiation case: Adding PS media to IMS session with
CS media
The call flow in figure 6.3.3.6-1 presents a scenario where UE‑1 has an
existing session that contains CS media and Gm Service Control Signalling Path
with UE‑2 and UE‑2 adds new media to the session. The new media is delivered
together with the Gm Service Control Signalling Path towards UE‑1.
Figure 6.3.3.6-1: Remote End Initiation case: adding PS media to IMS session
with CS media
1\. A CS session between UE‑1 and UE‑2 is established as either originated or
terminated session with CS media as described in TS 23.292 [5] clauses
7.3.2.2.4 and 7.4.2.2.2.2, respectively i.e. UE‑1 is using the ICS capability
and therefore the Gm reference point during the session establishment.
2\. S-CSCF receives a request from UE-2 to add new PS media flow(s) (e.g.
video) to the existing session.
3\. S-CSCF forwards the request to SCC AS, which is anchored on the session
path.
4\. The T-ADS function in the SCC AS decides that the new media flow is
delivered to UE-1 via PS access. The SCC decides to add the PS media to the
existing Service Control Signalling Path that is established via Gm.
5-6. SCC AS initiates a request to add the PS media to the existing Service
Control Signalling Path towards UE-2.
7\. UE-1 accepts the new session and completes the session setup via PS
access.
8\. The SCC AS completes the Remote Leg towards UE-2 according to procedures
defined in TS 23.228 [4].
#### 6.3.3.7 Local End Initiation case -- Removing media from split CS and PS
sessions
The call flow in figure 6.3.3.7-1 presents a scenario where UE-1 has a CS call
and an IMS multimedia session with the remote end in a manner that they are
presented to UE-2 as one IMS session by the SCC AS and then removes PS media
flow(s) by releasing the PS Access Leg.
Figure 6.3.3.7-1: Local End Initiation case -- Removing media from split CS
and PS sessions
1\. UE-1 uses standard IMS procedures defined in TS 23.228 [4] to remove one
or more PS media flows from the session.
2\. SCC AS sends a re-INVITE to UE-2 to remove the associated PS media flow(s)
from the session. The SCC AS terminates the Source Access Leg as defined in
6.3.1.6.
#### 6.3.3.8 Remote End Initiation case -- Removing media from split CS and PS
sessions
The call flow in figure 6.3.3.8-1 presents a scenario where UE-1 has a CS call
and an IMS multimedia session with the remote end in a manner that they are
presented to UE-2 as one IMS session by the SCC AS and where as a result of
UE-2 requesting to remove PS media flow(s), the SCC AS terminates the Access
Leg associated with the PS media flow(s).
Figure 6.3.3.8-1: Remote End Initiation case -- Removing media from split CS
and PS sessions
1\. UE-2 uses standard IMS procedures defined in TS 23.228 [4] to remove one
or more PS media flow(s) from the session.
2\. SCC AS identifies the session from UE-2 as being split into two legs to
UE-1. It determines the appropriate Access Leg over which to send the updated
session information from UE-2. Since there is only a single PS media flow
associated with the session, the SCC AS terminates the Access Leg associated
with the PS media flow.
#### 6.3.3.9 Local End Initiation case: Adding new PS media to existing PS
session
This clause covers the scenario where UE 1 adds PS media flow(s) (e.g. video)
over a new IP-CAN, IP-CAN2, to an existing multimedia session that uses PS
media over IP-CAN1. As a post condition the UE 1 has an ongoing multimedia
session with the remote end.
The call flow is the same as in figure 6.3.3.3-1 except that both the original
media and the added media are on PS accesses and no CS intermediate nodes are
involved.
#### 6.3.3.10 Remote End Initiation case: Adding new PS media to existing PS
session
This clause covers the scenario where UE 1 has an existing PS session with UE
2 using PS media over IP-CAN1 and UE 2 adds new media to the session and the
new media flow is delivered using PS media over IP-CAN2 towards UE-1.
The call flow is the same as in clause 6.3.3.4 _Remote End Initiation case:
Adding new PS media to existing CS session_ , except that both the original
media flow and the added media flows are on PS accesses and no CS intermediate
nodes are involved. Consequently:
‑ in step 4. of the call flow, the T‑ADS function in the SCC AS decides that
the new media is delivered to UE 1 via PS through the access networks type
corresponding to IP‑CAN2;
‑ in step 5. of the call flow, the SCC AS includes enough information within
the session request to ensure that the S‑CSCF establishes the new session via
the selected access networks type.
#### 6.3.3.11 Local End Initiation case: Removing media from split PS sessions
This clause covers the scenario where local end UE-1 removes media flows from
split PS sessions. As a precondition, UE-1 has an IMS multimedia session with
the remote end. As a post-condition, UE-1 removes the PS session over one
IP‑CAN and continues IMS multimedia session with the remote end over the other
IP-CAN.
The call flow is the same as in figure 6.3.3.7-1 except that all the media
components are on PS accesses and no CS intermediate nodes are involved.
#### 6.3.3.12 Remote End Initiation case: Removing media from split PS
sessions
This clause covers the scenario where remote end UE-2 removes media flow(s)
from split PS sessions. As a precondition, UE‑1 has an IMS multimedia session
with the remote end. As a post-condition, the PS session over one IP-CAN is
removed and UE-1 continues IMS multimedia session with the remote end over the
other IP-CAN.
The call flow is the same as in figure 6.3.3.8-1 except that all the media
components are on PS accesses and no CS intermediate nodes are involved.
### 6.3.4 Void
### 6.3.5 Service continuity for ICS UE using MSC Server assisted mid-call
feature while maintaining CS media
If the SCC AS detects that the ICS UE is not reachable over Service Control
Signalling Path and if the UE and the network support the MSC Server assisted
mid-call feature and the CS Bearer Control Signalling Path was established
using the MSC Server enhanced for ICS, the same procedure as in clause
6.3.2.1.4a steps 4-6 are performed.
After completion of this procedure, the UE uses procedures as defined in TS
24.008 [24] to perform service control.
## 6.4 Operator Policy and User Preferences
Operator Policy is provisioned in the network by the operator, and should be
communicated to the UE during initial provisioning or via OMA Device
Management [7]. Operator policy should be communicated to the UE, via OMA
Device Management, whenever the policy is updated by the operator.
Operator policy shall indicate, for each supported type of media or group of
media:
\- a list of access networks that are restricted for originating sessions and
Access Transfer;
\- a list of preferred access networks (in order of priority) to be used by
the UE with SC capabilities for originating sessions and Access Transfer, when
those access networks become available and Access Transfer is possible;
\- whether the UE with SC capabilities \"shall\"/\"should\"/\"may\" start
transferring media flow(s) to target access networks with higher priorities
than the current access network, when the target access networks become
available and Access Transfer is possible;
\- by indicating \"shall\" the operator mandates the UE to start Access
Transfer according to the home operator\'s list of preferred access networks
as soon as possible;
\- by indicating \"should\" the operator recommends the UE to start Access
Transfer according to the home operator\'s list of preferred access networks,
if Access Transfer is possible and desirable after having taken into account
the Local Operating Environment Information;
\- by indicating \"may\" the operator leaves the UE free to decide whether or
not to start Access Transfer in accordance with user preferences (when
configured), if Access Transfer is possible and desirable after having taken
into account the Local Operating Environment Information. Whenever user
preferences are not configured, the UE shall to take into account the home
operator\'s list of preferred access networks;
\- whether to keep or drop non transferable media flow(s) in the case of
partial Access Transfer.
NOTE 1: Operator policy for Access Transfer needs to be consistent with
operator policy for T-ADS.
User preferences may indicate for example:
\- preferred access/domain, i.e. CS preferred or IMS preferred, and which IP-
CAN within IMS.
The Local Operating Environment Information is implementation specific and may
comprise of such items as, radio environment information, quality of IP
connection (jitter, delay and packet loss), application specific requirements,
memory considerations, power considerations, etc.
The UE shall take in account operator policy, user preferences and the Local
Operating Environment Information when deciding which access to use for
outgoing sessions, performing UE assisted T-ADS, or before considering
initiating Access Transfer.
NOTE 2: If the \"IMS voice over PS Session Supported Indication\" indicator,
see TS 23.060 [27] and TS 23.401 [28], is not set for a specific 3GPP IP‑CAN
and if there is no ongoing IMS voice over PS session, this IP‑CAN cannot be
used for voice, even if set to preferred by the user preferences.
## 6.5 Execution of supplementary services
### 6.5.1 General
This clause describes the SCC AS and UE procedures for execution of
supplementary service as described in TS 22.173 [15].
The related interactions apply to scenarios when the media components for the
UE are split into multiple Access Legs due to IMS Service Continuity
procedures. The Remote Leg is presented with one session including all the
media components.
For Access Leg where CS media is used, the interaction described in the
following sections still applies and the service request should be sent via PS
Access Leg. The operations on the CS media flows shall be handled based on the
service request and shall follow the procedures as described in TS 23.292 [5].
When service invocation fails on one Access Leg, the UE and the SCC AS may
retry on a different Access Leg.
### 6.5.2 Originating Identification Presentation (OIP)
The OIP service is not impacted.
### 6.5.3 Originating Identification Restriction (OIR)
The OIR service is not impacted.
### 6.5.4 Terminating Identification Presentation (TIP)
The TIP service is not impacted.
### 6.5.5 Terminating Identification Restriction (TIR)
The TIR service is not impacted.
### 6.5.6 Communication Diversion (CDIV)
Upon receiving an incoming session split across multiple Access Legs, if an UE
wants to invoke the CDIV service, the UE may use any of the Access Legs to
invoke the CDIV service following the procedures defined in TS 24.604 [21].
When the SCC AS splits an incoming session into multiple Access Legs and
receives a CDIV request from the UE on any of the Access Legs, the SCC AS
shall terminate the other Access Leg(s) and shall invoke the CDIV service
following the procedures defined in TS 24.604 [21].
### 6.5.7 Communication Hold (HOLD)
If the UE wants to invoke the HOLD service on one or more media component(s)
and the UE has multiple Access Legs, the UE shall invoke the HOLD procedures,
as defined in TS 24.610 [16] on all the Access Legs which contain the affected
media component(s). The SCC AS shall update the remote Access Leg using the
procedures defined in TS 24.610 [16].
If the remote end initiates the HOLD service on one or more media component(s)
and the UE has multiple Access Legs, the SCC AS shall forward the HOLD request
on all the Access Legs which contain the affected media component(s).
### 6.5.8 Communication Barring (CB)
The CB service is not impacted.
### 6.5.9 Message Waiting Indication (MWI)
The MWI service is not impacted.
### 6.5.10 Conference (CONF)
When the UE wants to invoke the CONF services and has multiple Access Legs,
the UE may send any CONF related requests, e.g. subscribe request for
conference package or refer request to the conference, as defined in TS 24.605
[17], on any of the Access Legs.
When the UE has multiple Access Legs and the remote end sends a request for
the CONF service to replace an existing session within the same dialog, the
SCC AS may deliver the request for CONF service on any of the Access Legs.
When the UE has multiple Access Legs and receives a request on one of the
Access Legs for a CONF service to replace an existing session, the UE shall
follow the procedures specified in TS 24.605 [17] to establish a new session
to the conference focus.
When the UE has multiple Access Legs and receives a request for a CONF service
to replace an existing session outside the dialog, the UE shall follow the
procedures specified in TS 24.605 [17] to establish a new session to the
conference focus.
### 6.5.11 Explicit Communication Transfer (ECT)
When the UE acts as the transferor UE and has multiple Access Legs, the UE may
send the request for ECT service, as specified in TS 24.629 [18], on any of
the Access Legs.
When the UE acts as the transferee UE and has multiple Access Legs, the SCC AS
may deliver the request for ECT service on any of the Access Legs.
When the UE has multiple Access Legs and receives an ECT request on one of the
Access Legs, the UE shall follow the procedures specified in TS 24.629 [18] to
establish a new session to the Transfer Target.
### 6.5.12 Advice of Charge (AOC)
When the AOC service specified in TS 24.647 [19] is active and the UE has
multiple Access Legs, the SCC AS may deliver charging information during the
communication to the UE over any of the Access Legs.
### 6.5.13 Closed User Groups (CUG)
The CUG service is not impacted.
### 6.5.14 Three-Party (3PTY)
The 3PTY service in TS 24.605 [17] is considered as a special case of CONF
service and the interaction with Session Transfer is the same as that
specified in clause 6.5.10 for CONF service.
### 6.5.15 Flexible Alerting (FA)
The FA service is not impacted.
### 6.5.16 Communication Waiting (CW)
Upon receiving an incoming session split across multiple Access Legs, if an UE
wants to invoke the CW service, the UE may use any of the Access Legs to
invoke the CW service following the procedures defined in TS 24.615 [22].
When the SCC AS splits an incoming session into multiple Access Legs and
receives a CW request from the UE on any of the Access Legs, the SCC AS shall
invoke the CW service following the procedures defined in TS 24.615 [22].
### 6.5.17 Completion of Communications to Busy Subscriber (CCBS)/Completion
of Communications by No Reply (CCNR)
The CCBS/CCNR service is not impacted.
### 6.5.18 Customized Alerting Tones (CAT)
The CAT service is not impacted.
### 6.5.19 Malicious Communication IDentification (MCID)
When invoking the MCID service in temporary subscription mode and there are
multiple active Access Legs for the session, the UE may send the re-INVITE
request for invoking MCID service as defined in TS 24.616 [20] on any of the
Access Legs.
### 6.5.20 Reverse Charging
The Reverse Charging service is not specified.
### 6.5.21 Personal Network Management (PNM)
The PNM service is not specified.
### 6.5.22 Customized Ringing Signal (CRS)
The CRS service is not specified.
# 6a Procedures and flows for Inter‑UE Transfer
## 6a.0 Introduction
In the following procedures and flows the UEs involved in IUT are labelled as
UE-1, UE-2, etc. while the remote endpoint of the session is labelled as
Remote Party. Flows are shown for IUT procedures establishing Collaborative
Sessions as well as IUT procedures without establishing a Collaborative
Session.
In the following information flows, when initiating IUT Media Control Related
Procedures, the Controller UE can be replaced by the Controllee UE with IUT
capabilities, with the difference that the Hosting SCC AS receiving a media
control request from a Controllee UE with IUT capabilities shall send it to
the Controller UE for authorization, or authorize it on behalf of the
Controller UE (e.g. based on the user preferences associated with the
Controller UE).
These information flows exemplify IUT procedures initiated by a UE sending a
request received by the SCC AS. Scenarios pertaining to the SCC AS initiating
IUT procedures based on different stimuli such as user preferences, other IMS
signalling or service layer triggers are not precluded, but illustrative
information flows are not included in this document except for the case of
loss of Controller UE.
For the enablement of Inter-UE Transfer, originating and terminating sessions
(without Collaborative Session establishment) are handled as specified in
clause 6.2.
### 6a.0.1 Void
## 6a.1 IUT general procedures
### 6a.1.1 General
In all general IUT procedures the sessions are anchored in an SCC AS. These
procedures do not apply for emergency sessions.
### 6a.1.2 Remote Leg Update
Remote Leg Update for IUT procedures are executed as shown in figures
6.3.1.5-1 and 6.3.1.5-2, in which the media descriptions applicable after the
IUT procedure are communicated to the remote end. For an IUT procedure without
establishing a Collaborative Session, the information of the new local end
which continues the session with the remote end is also included.
## 6a.2 Information flows for Collaborative Session establishment
### 6a.2.1 Establish Collaborative Session by transferring media
There is an ongoing session between UE-1 and a remote party, which is anchored
at the SCC AS. UE-1 transfers the media flow from UE-1 to UE-2 to establish a
Collaborative Session. Following is an information flow for the Collaborative
Session establishment procedure when UE-1 initiates media transfer from UE-1
to UE-2. After the transfer, the UE-1 becomes Controller UE, and UE-2 becomes
Controllee UE.
Figure 6a.2.1-1: Establish Collaborative Session by transferring media
1\. UE-1 sends an IUT media transfer request to the SCC AS to transfer Media
Flow-A from UE-1 to UE-2. The IUT media transfer request shall include the
enough information for the SCC AS to:
\- identify that the transferred media flow is Media Flow-A;
\- identify that the target of the transferred media flow is UE-2;
\- keep the control of the Collaborative Session in UE-1.
2\. The SCC AS performs authorization as specified in clause 6a.12, then sends
request to establish Access Leg at UE-2 for Media Flow-A. The SCC AS removes
Media Flow-A from UE-1, and updates the Remote Leg using the Remote Leg Update
procedure as specified in clause 6a.1.2.
3\. The SCC AS sends an IUT media transfer response to UE-1. A Collaborative
Session is established, for which UE-1 becomes the Controller UE and UE-2
becomes a Controllee UE.
When the above transfer is completed the SCC AS retains the service state
(e.g. media flows status) of UE-1 and UE-2, and UE-1 retains the control of
the Collaborative Session.
NOTE 1: UE-1 can transfer other media flows from UE-1 by repeating the above
steps 1-3.
NOTE 2: If, besides Media Flow-A, there are other media flows between UE-1 and
the remote party, these other media flows shall not be impacted by the above
Inter‑UE Transfer operation, i.e. these other media flows remain on UE‑1.
### 6a.2.2 Establish Collaborative Session with new media
The following information flow shows the Collaborative Session establishment
procedure. There is an ongoing IMS session with Media Flow-A between UE-1 and
a remote party, which is anchored at the SCC AS. UE-1 wants to add a new Media
Flow-B on another UE-2 to the current ongoing IMS session to establish a
Collaborative Session.
Figure 6a.2.2-1: Flow for Collaborative Session establishment with new media
flow on another UE
1\. UE-1 decides to add a new Media Flow-B to UE-2. It sends an IUT add media
request to the SCC AS, indicating that a new Media Flow-B will be added to
UE-2. The request shall include enough information for the SCC AS to:
\- identify that the added media flow is Media Flow-B;
\- identify that the target of the added media flow is UE-2;
\- keep the control of the Collaborative Session in UE-1;
2\. The SCC AS performs authorization as specified in clause 6a.12, then sends
the IUT add media request to UE-2, indicating that a new Media Flow-B will be
created on UE-2. Media Flow-B between UE-2 and remote party is established.
The Remote Leg is updated accordingly.
3\. After the successful establishment of the Media Flow-B on UE-2, the SCC AS
sends an IUT add media response back to UE-1. A Collaborative Session is
established, for which UE-1 becomes the Controller UE and UE-2 becomes a
Controllee UE and Media Flow-A and Media Flow-B become part of the
Collaborative Session under the control of UE‑1..
### 6a.2.3 Establish Collaborative Session at originating IMS session setup
The following information flow shows the Collaborative Session establishment
procedure when there is no ongoing IMS session. Concurrent with a normal
session set-up towards a remote party, UE-1 wants to establish a Collaborative
Session, which is anchored at the SCC AS, with a new Media Flow-A on itself
and a new Media Flow-B on another UE-2.
Figure 6a.2.3-1: Establishment of Collaborative Session upon Originating IMS
Session Setup
1\. UE-1 sends an IUT request to the SCC AS in order to set up a Collaborative
Session to remote party with Media‑A in UE-1, and with Media-B in UE-2. The
session setup request shall include enough information for the SCC AS to:
\- identify the remote party of the session setup request;
\- identify that Media-A shall be established in UE-1;
\- identify that Media-B shall be established in UE-2 and the requested media
type associated with Media-B (e.g. video);
\- keep the control of the Collaborative Session in UE-1.
2\. The SCC AS performs authorization as specified in clause 6a.12, then sends
a request to establish an Access Leg at UE-2 for Media-B.
NOTE: In order to obtain the full media description of Media-B, it is
necessary to establish the Access Leg at UE‑2 prior to engaging the remote
party so that the SCC AS can send a proper (complete) SDP offer towards the
remote party in step 3.
3\. The SCC AS sends a session setup request to the remote party.
4\. The remote party sends a response with the SDP answer of Media-A and
Media-B to the SCC AS.
5\. The SCC AS sends a response with the SDP answer of Media-A to UE-1 to
establish Media-A in UE‑1.
6\. The SCC AS sends a response with the SDP answer of Media-B to UE-2 to
establish Media-B in UE‑2.
After the above operation, a Collaborative Session is established, for which
UE-1 becomes the Controller UE and UE‑2 becomes a Controllee UE. Media-A is
established between Controller UE-1 and the remote party, and Media-B is
established between Controllee UE-2 and the remote party.
### 6a.2.4 Establish Collaborative Session at terminating IMS session setup
The following information flow shows the Collaborative Session establishment
procedure when there is no ongoing IMS session. Concurrent with the response
to a normal session invitation received from a remote party, UE-1 wants to
establish a Collaborative Session, which is anchored at the SCC AS, with the
requested Media Flow-A on itself and the requested Media Flow-B on another
UE-2.
Figure 6a.2.4-1: Establishment of Collaborative Session upon Terminating IMS
Session Setup
1\. The remote party sends a session setup request to the SCC AS to set up
Media-A and Media-B with UE‑1.
2\. The SCC AS forwards the session setup request to UE‑1.
3\. UE-1 sends a Collaborative Session request to the SCC AS to setup Media-B
in UE-2. The session setup request includes enough information for the network
to:
\- identify that Media-B shall be established in UE-2 and the requested media
type associated with Media‑B (e.g. video);
\- keep the control of the Collaborative Session in UE‑1.
4\. The SCC AS performs authorization as specified in clause 6a.12, then sends
a request to establish an Access Leg at UE-2 for Media‑B.
5\. The SCC AS sends a response to the remote party. The response carries the
SDP answer of Media-A in UE‑1 and Media‑B in UE-2.
After the above operation, a Collaborative Session is established, for which
UE-1 becomes the Controller UE and UE‑2 becomes a Controllee UE. Media-A is
established between Controller UE-1 and the remote party, and Media‑B is
established between Controllee UE-2 and the remote party.
## 6a.3 Media Transfer within Collaborative Session
### 6a.3.1 Controller UE initiated media transfer from Controller UE to
Controllee UE
#### 6a.3.1.1 Controller UE and Controllee UE belong to the same subscription
A Collaborative Session is already established using procedures shown in
clause 6a.2. Following is an information flow for UE-1 performing media
transfer to UE-2; after the transfer, the UE-1 keeps the role of the
Controller UE, and UE-2 is Controllee UE. If UE-2 is not involved in the
Collaborative Session controlled by UE-1 before the media transfer, there is
at least another Controllee UE involved in the Collaborative Session before
the media transfer, which is not shown in the information flow.
Figure 6a.3.1.1-1: Controller UE initiated media transfer from Controller UE
to Controllee UE belonging to the same IMS subscription
1\. UE-1 sends IUT media transfer request to the S-CSCF to transfer the
Media-A from UE-1 to UE-2. The IUT media transfer request shall include the
enough information for the SCC AS to:
\- identify that the transferred media flow is Media Flow-A;
\- identify that the source of the transferred media flow is UE-1;
\- identify that the target of the transferred media flow is UE-2;
\- keep the control of the Collaborative Session in UE-1.
2\. The SCC AS performs authorization as specified in clause 6a.12, then sends
transfer request to establish a session with UE-2 for the Media Flow-A,
removes Media Flow-A from UE-1, and updates the Remote Leg using the Remote
Leg Update procedure as specified in clause 6a.1.2.
3\. The SCC AS sends media transfer response to UE-1.
When the above transfer is completed the SCC AS retains the service state
(e.g. media flows status) of UE-1 and UE-2, and the UE-1 retains the control
of the Collaborative Session.
NOTE 1: UE-1 can transfer other media flows from UE-1 by repeating the above
steps 1-3.
NOTE 2: If, besides the Media Flow-A, there are other media flows in the
Collaborative Session, these other media flows shall not be impacted by the
above Inter‑UE Transfer operation.
#### 6a.3.1.2 Controller UE and Controllee UE belong to different
subscriptions
The information flow below illustrates a transfer of media flow scenario in
which the Controller UE transfers a flow to a UE that belongs to another user.
Figure 6a.3.1.2-1: Transferring media from Controller UE to Controllee UE
belonging to different IMS subscriptions
There are Media-A and Media-B between Controller UE-1 and remote party.
1\. UE-1 sends a request towards SCC AS-1 to transfer Media-B to UE-2. The
request includes enough information for the network to:
\- identify that the media flow to be transferred is Media-B;
\- identify that the source of the media flow to be transferred is UE-1;
\- identify that the target of the transferred media flow is UE-2.
2\. S-CSCF-1 forwards the request to SCC AS-1.
3\. SCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.
4\. SCC AS-1 sends a request towards UE-2 to setup Media-B on UE-2. The
request includes enough information for the network to:
\- identify the source of the transfer request as UE-1;
\- identify the remote party;
\- identify that the media flow to be transferred is Media-B;
\- identify that the source of the media flow to be transferred is Controller
UE-1;
\- identify that the target of the media flow to be transferred is Controllee
UE-2.
4a. S-CSCF-1 forwards the request towards UE-2.
5\. If UE-2 is an IUT subscriber, the request is routed via SCC AS-2 which
checks that UE-2 is authorized to receive the request. If so, SCC AS-2 notes
that this request relates to the establishment of a Collaborative Session so
that any requests by UE-2 related to this Collaborative Session will be
forwarded back towards SCC AS-1. A Session Setup request is then routed on
towards UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request
according to normal procedures.
6\. S-CSCF-2 forwards the Session Setup request to Controllee UE-2.
7\. UE-2 sends a Session Setup response towards SCC AS-1.
8 - 9. S-CSCF-2 routes the response back towards SCC AS-1 -- via SCC AS-2 if
UE-2 is an IUT subscriber.
10\. S-CSCF-1 forwards the session setup response to SCC AS-1.
11\. SCC AS-1 removes Media-B from UE-1, updates Remote Leg and finishes
Access Leg establishment for setting up Media-B between remote party and UE-2.
After the above operation, Media-B has been transferred from Controller UE-1
to Controllee UE-2.
### 6a.3.2 Controller UE initiated media transfer from Controllee UE to
Controller UE
A Collaborative Session is already established using procedures shown in
clause 6a.2, the UE-1 keeps the role of the Controller UE, and UE-2 is
Controllee UE. Following is an information flow for UE-1 initiating media
transfer from UE-2 to UE-1.
Figure 6a.3.2-1: Controller UE initiated media transfer from Controllee UE to
Controller UE
1\. UE-1 sends IUT media transfer request to the SCC-AS to transfer the
Media-A from UE-2 to UE-1. The IUT media transfer request shall include the
enough information for the SCC AS to:
\- identify that the transferred media flow is Media-A;
\- identify the source of the media flow is UE-2;
\- identify that the target of the transferred media flow is UE-1;
2\. The SCC AS performs authorization as specified in clause 6a.12, then
initiates the transfer by setting up Media-A towards Controller UE-1, removing
Media-A from Controllee UE-2, and updates the Remote Leg using the Remote Leg
Update procedure as specified in clause 6a.1.2. After the transfer, Media-A
will be between Controller UE-1 and remote party.
NOTE 1: If no more media flow remains on the access leg between SCC AS and
Controllee UE-2, the Access Leg between UE-2 and the SCC AS is released and
Controllee UE-2 will no longer be part of the Collaborative Session.
3\. The SCC AS sends media transfer response to UE-1.
When the above transfer is completed the SCC AS retains the service state
(e.g. media flows status) of UE-1 and UE-2, and the UE-1 retains the control
of the Collaborative Session.
NOTE 2: UE-1 can transfer other media flows from UE-2 by repeating the above
steps 1-3.
NOTE 3: If, besides Media-A, there are other media flows in the Collaborative
Session, these other media flows shall not be impacted by the above Inter‑UE
Transfer operation.
### 6a.3.3 Controller UE initiated media transfer from Controllee UE to
another Controllee UE
#### 6a.3.3.1 Controller UE and Controllee UEs belong to the same subscription
UE-1 and UE-2 are engaged in a Collaborative Session established using
procedures shown in clause 6a.2 for which UE-1 is the Controller UE and UE-2
is a Controllee UE. UE-3 might or might not be part of the Collaborative
Session before the media transfer. There is media flow, Media-A, between UE-2
and Remote Party. The following figure presents an information flow of UE-1
performing IUT media transfer from UE-2 to UE-3 after which UE-1 retains the
role of the Controller UE and UE-3 becomes Controllee UE.
Figure 6a.3.3.1-1: Controller UE initiated media transfer from Controllee UE
to another Controllee UE (Controller and Controllee UEs belong to the same IMS
subscription)
1\. UE-1 sends IUT media transfer request to the SCC AS to transfer the Media
Flow-A from UE-2 to UE-3. The IUT media transfer request shall include the
enough information for the SCC AS to:
\- identify that the transferred media flow is Media Flow-A;
\- identify that the target of the transferred media flow is UE-3;
\- keep the control of the Collaborative Session in UE-1.
2\. The SCC AS performs authorization as specified in clause 6a.12, then sends
request to establish Access Leg on UE-3 for Media Flow-A, removes Media Flow-A
from UE-2, and updates the Remote Leg using the Remote Leg Update procedure as
specified in clause 6a.1.2.
NOTE 1: If no more media flows remain on UE-2, then the Access Leg from UE-2
is released and UE-2 will no longer be part of the Collaborative Session.
3\. The SCC AS sends media transfer response to UE-1.
When the Inter‑UE Transfer is completed, UE-1 keeps the Collaborative Session
Control.
NOTE 2: UE-1 can transfer other media flows from UE-2 by repeating the above
steps 1-3.
NOTE 3: If, there are other media flows in the Collaborative Session besides
the Media Flow-A, these other media flows are not impacted by the above
Inter‑UE Transfer operation.
#### 6a.3.3.2 Controller UE and Controllee UEs belong to different
subscriptions
For Controller and Controllee UEs belonging to different subscriptions, the
following information flow shows the flow of media transferring from a
Controllee (UE-2) to another Controllee (UE-3) initiated by Controller (UE-1).
As a pre-requisite, there exists a Collaborative Session with two media flows,
Media--A on the Controller UE (UE-1) and Media--B on the Controllee UE (UE-2).
UE-3 might or might not be part of Collaborative Session before the media
transfer. Furthermore, UE-1, UE-2 and UE-3 profiles are served by different
S-CSCFs, S-CSCF-1, S-CSCF-2 and S-CSCF-3, respectively. For simplicity,
S-CSCF-1 is not shown in the following figure.
Figure 6a.3.3.2-1: Controller UE initiated media transfer from Controllee UE
to another Controllee UE (Controller and Controllee UEs belong to different
IMS subscriptions)
1\. UE-1 sends a Collaboration session request to SCC AS-1 to transfer Media-B
from UE-2 to UE-3. The Collaborative Session request includes enough
information for the network to:
\- identify that the media to be transferred is Media-B;
\- identify that the media to be transferred is currently on UE-2;
\- identify that the media to be transferred to is UE-3;
\- identify the session that contains of the transferred media flow to be
transferred;
\- keep the control of the Collaborative Session in UE-1.
2\. SCC AS-1 verifies that UE-1 is the Controller UE and therefore is
authorized to release the media from a Controllee UE-2 with a user belonging
to another subscription and performs authorization as specified in clause
6a.12.
3\. SCC AS-1 sends Session request to add Media-B to UE-3 via S-CSCF-3.
Media-B in UE-3 is kept inactive until the remote end is updated. The Session
request includes enough information for the network to:
\- identify the source of the transfer request as UE-1;
\- identify the remote party;
\- identify that the media flow to be added is Media-B;
\- identify that the source of the media flow to be transferred is Controllee
UE-2;
\- identify that the target of the media flow to be transferred is Controllee
UE-3;
4a. S-CSCF-3 forwards the Session request to UE-3.
4b. UE-3 sends a Session response to S-CSCF-3.
5\. S-CSCF-3 forwards Session response to SCC AS-1.
6\. SCC AS-1 updates remote leg with Remote Leg Update Procedure.
7\. SCC AS-1 establishes the access leg at UE-3 and removes Media-B from UE-2.
NOTE 1: If no more media flows remain on UE-2, then the Access Leg from UE-2
is released and UE-2 will no longer be part of the Collaborative Session.
8\. SCC AS-1 sends the Collaboration Session Response message to UE-1
confirming the successful transfer of Media-B from UE-2 to UE-3.
When the Inter-UE Transfer is completed, UE-1 keeps the Collaborative Session
Control.
NOTE 2: UE-1 can transfer other media flows from UE-2 by repeating the above
steps 1-8.
NOTE 3: If there are other media flows in the Collaborative Session besides
the Media-B, then these other media flows are not impacted by the above Inter
UE Transfer operation.
### 6a.3.3a Controllee UE Initiated Transfer Media from one Controllee UE to
another Controllee UE
This information flow shows the Controllee UE-2 transferring a media flow from
the Controllee (UE-2) to another Controllee (UE-2). As a pre-requisite, there
exists a Collaborative Session with a media flow, Media--B, on the Controllee
UE (UE-2). Furthermore, Controller UE 1 and Controllee UE 2 profiles are
served by different IUT SCC AS, SCC AS‑1, SCC AS‑2 which are in turn attached
to S-CSCF 1, S-CSCF 2 respectively. For simplicity, the S-CSCFs are not shown
in the following figure.
Figure 6a.3.4-1: Controllee initiated Transfer of media from Controllee UE to
another Controllee (Controller and Controllee belong to different IMS
subscriptions)
1\. Controllee UE-2 sends a Collaborative session request to SCC AS-2 to
transfer Media-B from UE-2 to Controllee UE-3. The Collaborative Session
request includes enough information for the network to:
\- identify that the media to be transferred is Media-B;
\- identify that the source for the media to be transferred is Controllee
UE-2;
\- identify that the target for the media to be transferred is Controllee
UE-3;
\- identify the session that contains of the media flow to be transferred;
\- Controller of the Collaborative Session is Controller UE-1.
2\. SCC AS-2 authorizes the request from UE-2 as specified in clause 6a.12 and
identifies that the session is a collaborative session anchored at SCC AS‑1
and so forwards the \"Collaborative session request to transfer Media-B\" to
SCC AS-1 which is the SCC AS for the Controller UE.
3a-3c. The SCC AS-1 sends a Collaborative session request to the Controller
UE-1, and the Controller UE-1 authorizes the media transfer request.
NOTE 1: SCC AS-1 may be configured to authorize the request on behalf of UE-1.
4\. SCC AS-1 sends the Session request to add media-B to UE-3 via S-CSCF-3.
Media-B in UE-3 is kept inactive until the remote end is updated. The
Collaborative Session request includes enough information for the network to:
\- identify the source of the transfer request as UE-1;
\- identify the remote party;
\- identify that the media flow to be transferred is Media-B;
\- identify that the source of the media flow to be transferred is Controllee
UE-2;
\- identify that the target of the media flow to be transferred is Controllee
UE-3;
5a. S-CSCF-3 forwards the Session request to UE-3.
5b. UE-3 sends a Session response to S-CSCF-3.
6\. S-CSCF-3 forwards Session response to SCC AS-1.
7\. SCC AS-1 updates remote leg with Remote Leg Update Procedure.
8\. SCC AS-1 activates media-B at UE-2 and releases media-B UE-3.
When the Inter UE Transfer is completed UE-1 keeps the Collaborative Session
control.
### 6a.3.4 Void
#### 6a.3.4.1 Void
#### 6a.3.4.2 Void
## 6a.4 Media adding/deleting/modifying within Collaborative Session
### 6a.4.1 Controller UE initiated add new media on Controller UE
UE-1, UE-2 are engaged in a Collaborative Session established using procedures
shown in clause 6a.2 for which UE-1 is the Controller UE and UE-2 is a
Controllee UE, which has a media flow-A with the remote party. The following
flows shows how the Controller UE-1 adds a media flow-B to itself, which may
result in a new Access Leg, or it could be an additional media flow for an
already existing session for the Controller UE-1.
Figure 6a.4.1-1: Controller UE initiated add new media On Controller UE
1\. Controller UE-1 decides to add a new media flow-B to itself, and performs
an IUT add media request for the particular media requested. The IUT media
transfer request shall include enough information for the SCC AS to:
\- identify that the added media flow is media flow-B;
\- identify that the target of the added media flow is the Controller UE-1
itself;
2\. The SCC AS performs authorization as specified in clause 6a.12. Then, the
new media flow-B is setup for Controller UE-1, and the Remote Leg is updated
as well with the newly added media flow-B using the Remote Leg Update
procedure as specified in clause 6a.1.2. After this, the new media flow-B will
be established between the Controller UE-1 and the Remote Party.
3\. The IUT addition of media is completed.
### 6a.4.2 Controller UE initiated add new media on Controllee UE
#### 6a.4.2.1 Controller UE and Controllee UE belong to the same subscription
UE-1, UE-2 are engaged in a Collaborative Session established using procedures
shown in clause 6a.2 for which UE-1 is the Controller UE and UE-2 is a
Controllee UE, the following flows shows how the Controller UE-1 adds a media
flow to Controllee UE-2 which could result in a new Access Leg for the
Controllee UE-2, or it could be an additional media flow for an already
existing session for the Controllee UE-2. The following information flow also
applies to case in which UE-2 may not be part of Collaborative Session before
the media addition. In this case, there is at least another Controllee UE
involved in the Collaborative Session before the media addition, which is not
shown in the information flow.
Figure 6a.4.2.1-1: Controller UE initiated add new media on Controllee UE
belonging to the same IMS subscription
1 Controller UE-1 decides to add a new media flow to Controllee UE-2, and
performs an IUT add media request for the particular media requested. The IUT
add media request shall include enough information for the SCC AS to:
\- identify that the added media flow is Media Flow-A;
\- identify that the target of the added media flow is Controllee UE-2.
2 The SCC AS performs authorization as specified in clause 6a.12. Then, the
new Media Flow-A is setup for Controllee UE-2. The Remote Leg is updated as
well with the newly added media flow using the Remote Leg Update procedure as
specified in clause 6a.1.2. After this, the new media flow will be established
between Controllee UE-2 and the Remote Party.
3\. The IUT addition of media is completed.
#### 6a.4.2.2 Controller UE and Controllee UE belong to different
subscriptions
The information flow below illustrates a scenario in which UE-1, the
Controller UE of a Collaborative Session, invites a UE that belongs to a
second user to participate in the Collaborative Session by adding a new media
flow towards it; control of the Collaborative Session remains with UE-1.
Figure 6a.4.2.2-1: Adding media by Controller UE to Controllee UE belonging to
different IMS subscription
There is Media-A between Controller UE-1 and remote party.
1\. Controller UE-1 sends a request towards SCC AS-1 to add Media-B on UE-2,
as part of the same Collaborative Session of Media-A. The request includes
enough information for the network to:
\- identify that the added media flow is Media-B and the requested media type
associated with Media-B (e.g. video);
\- identify that the target of the added media flow is UE-2.
2\. S-CSCF-1 forwards the request to SCC AS-1.
3\. SCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.
4\. SCC AS-1 sends a request towards UE-2 for adding Media-B to Controllee
UE-2. The request includes enough information for the network to:
\- identify the source of the request as UE-1;
\- identify the remote party;
\- identify that the added media flow is Media-B and the media type associated
with Media-B (e.g., video);
\- identify that the source of the added media flow is Controller UE-1;
\- identify that the target of the added media flow is Controllee UE-2.
4a. S-CSCF-1 forwards the request towards UE-2.
5\. If UE-2 is an IUT subscriber, the request is routed via SCC AS-2 which
authorizes the request. SCC AS-2 notes that this request relates to the
establishment of a Collaborative Session so that any requests by UE-2 related
to this Collaborative Session will be forwarded back towards SCC AS-1. A
Session Setup Request is then routed on towards UE-2. If UE-2 is not an IUT
subscriber, S-CSCF-2 routes the request according to normal procedures.
6\. S-CSCF-2 forwards the Session Setup request towards UE-2.
7\. UE-2 sends a Session Setup response towards SCC AS-1. This request
contains the full media description of Media-B.
8 - 9. S-CSCF-2 routes the response back towards SCC AS-1 via SCC AS-2 if UE-2
is an IUT subscriber.
10\. S-CSCF-1 forwards the Session Setup response to SCC AS-1.
11\. SCC AS-1 updates Remote Leg and finishes Access Leg establishment for
adding Media-B to UE-2, and updates the media information in Controller UE-1.
After the above operation, Media-B is established between Controllee UE-2 and
remote party.
### 6a.4.3 Controller UE Initiated Release Media (media flow on the Controller
UE)
The information flow shows the Controller UE releasing a media flow that is
originated from the Controller UE. As a pre-requisite, there exists a
Collaborative Session with two media flows, flow--A on the Controller UE
(UE-1) and Flow--B on the Controllee UE (UE-2).
Figure 6a.4.3-1: Controller UE Initiated Media release -- media on Controller
UE
1\. UE-1 sends a Release Media request to the SCC AS to remove Media-A from
the Collaborative Session. The IUT media release request shall include enough
information for the SCC AS to:
\- identify that the media is Media Flow-A;
\- identify that the released media is on UE-1;
\- keep the control of Collaborative Session in UE-1.
2\. The SCC AS updates the Remote Leg with media flow --A removed.
3\. The SCC AS sends release media response to UE-1. UE-1 releases media flow
-- A at its end.
The Collaborative Session continues to exist after the procedure is complete.
### 6a.4.4 Controller UE Initiated Release Media (media flow on the Controllee
UE)
#### 6a.4.4.1 Controller UE and Controllee UE belong to the same subscription
The information flow shows the Controller UE releasing a media flow from a
Controllee UE. As a pre-requisite, there exists a Collaborative Session with
two media flows, flow--A on the Controller UE (UE-1) and Flow--B on the
Controllee UE (UE-2).
Figure 6a.4.4.1-1: Controller UE Initiated Media release -- media flow on
Controllee UE (Controller and Controllee belong to the same IMS subscription)
1\. UE-1 sends a Release Media request to the SCC AS to remove Media-A from
the Collaborative Session. The request includes the information pertaining to
media flow -B:
\- identify that the released media is Media Flow-B;
\- identify that the released media is on UE-2;
\- keep the control of Collaborative Session in UE-1.
2\. The SCC identifies media flow B as associated with UE-2 (controllee UE)
and sends the Release Media Request to UE-2. The request identifies the media
flow--B that needs to be removed and the media flow is removed. If no more
media flows remain on UE-2 that are participating in the Collaborative
Session, the SCC AS releases the access leg from UE-2.
3\. UE-2 sends back Release Media response back to SCC AS.
4\. The SCC AS updates the Remote Leg with media flow--B removed.
Step 2 and step 4 may be executed in any order.
5\. The SCC AS sends release media response to UE-1.
If UE-2 has left the Collaborative Session at step 2 and no other Controllee
UE remain in this Collaborative Session, this Collaborative Session becomes a
normal IMS session.
#### 6a.4.4.2 Controller UE and Controllee UE belong to different
subscriptions
The following information flow shows the Controller UE releasing a media flow
from the Controllee UE that belongs to different subscriptions. As a pre-
requisite, there exists a Collaborative Session with two media flows, Media--A
on the Controller UE (UE-1) and Media--B on the Controllee UE (UE-2).
Furthermore, Controller UE and Controllee UE profiles are stored on different
S-CSCFs, S‑CSCF-1 and S-CSCF-2, respectively.
Figure 6a.4.4.2-1: Controller initiated Release of media from Controllee UE
(Controller and Controllee belong to different IMS subscriptions)
1\. Controller UE-1 sends a Release media request to SCC AS-1 to release
Media-B on Controllee UE-2. The Collaborative Session request includes enough
information for the network to:
\- identify that the media to be released is Media-B;
\- identify that the media to be held is on Controllee UE-2;
\- identify the session that contains of the media flow to be released;
\- keep the control of the Collaborative Session in Controller UE-1.
2a. S-CSCF-1 forwards the Release Media request to SCC AS-1.
2b. SCC AS-1 verifies that UE-1 is a Controller and therefore is authorized to
release the media from a Controllee UE with a user belonging to another
subscription.
2c. SCC AS-1 sends a Release Media request towards UE-2 to release Media-B on
UE-2. The Collaborative Session request includes enough information for the
network to:
\- identify the source of the release media request as UE-1;
\- identify that the media flow to be released is Media-B;
\- identify that the source of the media flow to be released is Controllee
UE-2.
3\. S-CSCF-1 forwards the Release Media request towards S-CSCF-2.
4\. S-CSCF-2 forwards the Release Media Request towards the Controllee.
5\. Controllee UE-2 provides the Release Media Response to the S-CSCF-2.
6-7. S-CSCF-2 forwards the Release Media Response to SCC-AS-1.
8\. The SCC AS-1 updates the remote leg of the collaborative session with
Media-B released.
9-10. The SCC AS-1 informs the Controller UE-1 via the S-CSCF-1 of
successfully releasing Media-B from Controllee UE 2. Steps 9-10 could be
performed in parallel to Step 10.
### 6a.4.4a Controller UE initiated modify media (media flow on the Controllee
UE)
#### 6a.4.4a.1 Controller UE and Controllee UE belong to the same IMS
subscription
The information flow shows a Controller UE modifying a Media Flow that is
originated from or terminated at the Controllee UE belonging to the same IMS
subscription. As a pre-requisite, there exists a Collaborative Session with
two media flows, Media Flow--A on the Controller UE (UE‑1) and Media Flow--B
on the Controllee UE (UE‑2). Controller UE‑1 can initiate re-negotiation of
media information of Controllee UE‑2 with remote party.
Figure 6a.4.4a.1-1: Controller UE initiated media modify on a Controllee UE
belonging to the same IMS subscription
1\. UE-1 sends a Modify Media Request to modify Media Flow-B on UE-2. The
request includes media modification information pertaining to Media Flow-B.
The IUT media modification request shall include enough information for the
SCC AS to:
\- identify that the modified media is Media Flow-B;
\- identify that the modified media is on UE-2;
\- identify the modification requested to Media Flow-B;
\- keep the control of Collaborative Session in UE-1.
2\. The SCC identifies Media Flow-B as associated with UE-2 and sends the
Modify Media Request to UE-2. The request identifies the Media Flow--B that
needs to be modified.UE-2 modifies the Media Flow--B. The SCC AS updates the
Remote Leg with Media Flow--B modified.
3\. The SCC AS sends Modify Media Response to UE-1.
#### 6a.4.4a.2 Controller UE and Controllee UE belong to different IMS
subscriptions under the same operator
The information flow shows a Controller UE modifying a Media Flow that is
originated from or terminated at the Controllee UE belonging to different
subscription. It is assumed that UE-1 and UE-2 belong to User-1 and User-2,
respectively. As a pre-requisite, there exists a Collaborative Session with
two media flows, Media Flow--A on the Controller UE (UE-1) and Media Flow--B
on the Controllee UE (UE-2). Controller UE-1 can initiate re-negotiation of
media information of Controllee UE-2 with remote party.
Figure 6a.4.4a.2-1: Controller UE initiated media modify on a Controllee UE
belonging to different IMS subscription
1\. UE-1 sends a Modify Media Request to SCC AS-1 serving UE-1 to modify Media
Flow-B on UE-2. The request includes media modification information pertaining
to Media Flow-B. The IUT media modification request shall include enough
information for the SCC AS-1 to:
\- identify that the modified media is Media Flow-B;
\- identify that the modified media is on UE-2;
\- identify the modification requested to Media Flow-B;
\- keep the control of Collaborative Session in UE-1.
2\. The SCC AS-1 authorizes the request from UE-1 as specified in clause
6a.12.
3\. The SCC AS-1 sends the Modify Media Request to SCC AS-2 that serves UE-2
via S-CSCF-1 and S-CSCF-2.
4\. If UE-2 is an IUT subscriber, the request is routed via SCC AS-2 which
authorizes the request. The Modify Media Request is then routed on towards
UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request according
to normal procedures.
5\. S-CSCF-2 forwards the Modify Media Request to UE-2. UE-2 modifies Media
Flow-B.
6\. The UE-2 sends a Modify Media Response towards SCC AS-1.
7 - 8. S-CSCF-2 routes the Modify Media Response back towards SCC AS-1 \-- via
SCC AS-2 if UE-2 is an IUT subscriber.
9\. The SCC AS-1 updates the Remote Leg with Media Flow--B modified upon
receiving the Modify Media Response from UE-2.
10\. The SCC AS-1 sends Modify Media Response to UE-1.
### 6a.4.5 Controllee UE initiated release media on itself
As per standard IMS UE behaviour, a Controllee UE may initiate a release of a
media flow that it terminates. In this case, this media release on the access
leg is notified to the Controller UE, which may decide to transfer this media
flow to another UE under the same subscription, or to remove it from the
Collaborative Session (i.e. remove it on the remote leg).
The following information flow shows a Controllee UE initiating the release of
a media flow that it terminates, and Controller UE being informed of this
release by the SCC AS. As a pre-requisite, there exists a Collaborative
Session of which UE-1 is the Controller UE and UE-2 is a Controllee UE
terminating a media flow, Media Flow A. There may be other media flows (on UE
1, UE-2 or other UEs) within the Collaborative Session; such media flows and
UEs are not shown on this information flow; they shall not be impacted by this
operation.
Figure 6a.4.5-1: Controllee UE initiated release media flow on itself
1\. Controllee UE-2 sends a request to release Media Flow A (that it
terminates), using standard IMS procedure.
2\. The SCC AS identifies that Media Flow A is under Collaborative Session
control of UE-1. The SCC AS indicates to Controller UE-1 that Controllee UE-2
has released Media Flow A.
3\. Controller UE-1 initiates one of the following procedures, in order to
transfer Media Flow A to another UE under the same subscription, or to remove
it from the Collaborative Session:
\- Controller UE initiated media transfer from Controllee UE to Controller UE,
specified in clause 6a.3.2;
\- Controller UE initiated media transfer from Controllee UE to another
Controllee UE, specified in clause 6a.3.3;
\- Controller UE initiated release media (media flow on the Controllee UE),
specified in clause 6a.4.3;
\- Controller UE initiated release Collaborative Session, specified in clause
6a.5.1.
4\. The SCC AS updates the Remote Leg while executing the procedure initiated
by Controller UE-1 at step 3.
### 6a.4.6 Controllee UE initiated modify media on itself
#### 6a.4.6.0 General
As per standard IMS UE behaviour, a Controllee UE may initiate a modification
of a media flow that it terminates.
#### 6a.4.6.1 Controller UE and Controllee UE belong to the same IMS
subscription
The following information flow shows a Controllee UE initiating the
modification of a media flow that it terminates. As a pre-requisite, there
exists a Collaborative Session of which UE-1 is the Controller UE and UE-2 is
a Controllee UE terminating a media flow, Media Flow A. There may be other
media flows (on UE-1, UE-2 or other UEs) within the Collaborative Session;
such media flows and UEs are not shown on this information flow; they shall
not be impacted by this operation.
Figure 6a.4.6.1-1: Controllee UE initiated modify media flow on itself (same
IMS subscription)
1\. Controllee UE-2 sends a request to modify the characteristics of Media
Flow-A (that it terminates), using standard IMS procedure.
2\. The SCC AS updates the Remote Leg for allowed media changes, providing the
new media flow characteristics from UE-2.
3\. The SCC AS sends a successful response to the request sent by UE-2 at step
1.
#### 6a.4.6.2 Controller UE and Controllee UE belong different IMS
subscriptions under the same operator
The information flow shows a Controllee UE modifying a Media Flow that is
originated from or terminated at the same Controllee UE. As a pre-requisite,
there exists a Collaborative Session with two media flows, Media Flow--A on
the Controller UE (UE-1) and Media Flow--B on the Controllee UE (UE-2).
Figure 6a.4.6.2-1: Controllee UE initiated media modify on itself (different
IMS subscriptions under the same operator)
1\. UE-2 sends a Modify media request to modify Media Flow-B on itself. The
request includes media modification information pertaining to Media Flow-B.
The IUT media modification request shall include enough information for the
SCC AS to:
\- identify that the modified media is Media Flow-B;
\- identify that the modified media is on UE-2; and
\- identify the modification requested to Media Flow-B.
2\. The SCC AS-2 forwards the Media Modification Request to SCC AS-1 that
serves the controller via S-CSCF-2 and S-CSCF-1.
3\. The SCC AS-1 authorizes the Media Modification Request as specified in
clause 6a.12.
3a\~3b. If SCC AS-1 cannot authorize Media Modification Request, it queries
controller UE-1 for authorization.
NOTE: Steps 3 (including 3a\~3b) is optional depending on operator\'s
configuration.
4\. SCC AS-1 identifies Media Flow-B as associated with UE-2 and sends Modify
Media Request to UE-2 via S-CSCF-1 and S-CSCF-2. UE-2 modifies the Media Flow.
The SCC AS-1 updates the Remote Leg with Media Flow--B modified.
5\. The SCC AS-1 sends result of modify media request to UE-2.
### 6a.4.6a Controllee UE initiated add new media on another Controllee UE
This information flow shows the Controllee UE-2 adding a media flow to another
Controllee (UE-3). As a pre-requisite, there exists a Collaborative Session
with a media flow, Media--A, on the Controllee UE (UE-2). UE-3 might or might
not be part of the Collaborative Session before the media addition.
Furthermore, Controller UE 1 and Controllee UE-2 profiles are served by
different IUT SCC AS: SCC AS-1 and SCC AS-2, which are in turn attached to
S-CSCF-1 and S-CSCF-2 respectively. For simplicity, these S-CSCFs are not
shown in the following figure.
Figure 6a.4.6a-1: Controllee initiated addition of media to another Controllee
UE (Controller and Controllees belong to different IMS subscriptions)
1\. UE-2 sends a Collaborative session request to SCC AS-2 to add Media-B to
UE-3. The Collaborative Session request includes enough information for the
network to:
\- identify that the media to be added is Media-B;
\- identify that the target for the media to be added to is UE-3;
\- identify the session that contains of the media flow to be added;
\- Controller of the Collaborative Session is UE-1.
2\. SCC AS-2 authorizes the request from UE-2 as specified in clause 6a.12 and
identifies that the session is a Collaborative Session anchored at SCC AS-1.
3\. SCC AS-2 then forwards the Collaborative session request to SCC AS-1 which
is the SCC AS for the Controller UE in order to add Media-B to UE-3.
4-6. SCC AS-1 sends a Collaborative session request to the Controller UE-1,
and the Controller UE-1 authorizes the media addition request.
NOTE 1: SCC AS-1 may be configured to authorize the request on behalf of UE-1.
7\. SCC AS-1 sends Session request to add Media-B to UE-3 via S-CSCF‑3. The
Session request includes enough information for the network to:
\- identify the source of the addition request as UE-1;
\- identify the remote party;
\- identify that the media flow to be added is Media-B;
\- identify that the target of the media flow to be added is UE-3;
8\. S-CSCF-3 forwards the Session request to UE-3.
9\. UE-3 sends a Session response to S-CSCF-3.
10\. S-CSCF-3 forwards Session response to SCC AS-1.
11\. SCC AS-1 updates remote leg with Remote Leg Update Procedure.
12\. SCC AS-2 sends the Collaborative session response to UE-2.
When the Inter-UE Transfer is completed, UE-1 keeps the Collaborative Session
Control.
### 6a.4.7 Remote party initiated add new media
The following is an example of an information flow where remote party wants to
modify an existing session with UE-1 to add Media Flow-B. In this information
flow, UE-1 and UE-2 belong to the same user subscription. UE-1 is the
Controller UE and UE-2 is a Controllee UE. If UE-2 is not involved in the
Collaborative Session controlled by UE-1 before the media addition, there is
at least another Controllee UE involved in the Collaborative Session before
the media addition which is not shown in the information flow.
Figure 6a.4.7-1: Remote party initiated add new media
1\. Remote party sends an Add Media request to add Media Flow-B to an existing
session between UE-1 and remote party as per TS 23.228 [4].
2\. SCC AS forwards the Add Media request to UE-1 according to the procedures
defined in TS 23.228 [4].
Step 3a is for the case Controller UE wants to add Media Flow-B to itself.
3a. The session setup is completed. The new Media Flow-B will after this be
established between UE-1 and remote party, and be involved in the
Collaborative Session controlled by UE-1.
Steps 3b and 5b are for the case Controller UE wants to add Media Flow-B to a
different UE while retaining control for the added media.
3b. Controller UE-1 sends an IUT-Redirect-Media request to SCC AS. The IUT-
Redirect-Media request needs to include at least the following information:
\- identify that Media Flow-B needs to be redirected to UE-2.
4b. SCC AS performs authorization as specified in clause 6a.12, then sends an
Add Media Flow-B to UE-2.
5b. The session setup is completed. When the add media operation is completed,
there is Media Flow-B between UE-2 and remote party. There is a Collaborative
Session established between UE-1 and UE-2. The Media-B is controlled by UE-1.
NOTE 1: If UE-2 was not involved in the Collaborative Session controlled by
UE-1 before the media addition, UE‑2 becomes a Controllee UE when the media
addition is completed.
NOTE 2: If remote party wants to add more than one media flows to an existing
session, these media flows can be distributed to several different UEs by
repeating the above steps 3b-5b.
### 6a.4.8 Remote party initiated release media
The following is an example of an information flow where remote party wants to
remove one of media flows, Media Flow-B from an ongoing session. In this
information flow, UE-1 and UE-2 belong to the same user subscription. UE-1 is
a Controller UE and UE-2 is a Controllee UE.
Figure 6a.4.8-1: Remote party initiated release media
1\. Remote party uses standard IMS procedures defined in TS 23.228 [4] to
remove Media Flow-B from the session.
Step 2a is for the case the released media is bound to Controller UE.
2a. The removal of Media Flow-B between Controller UE-1 and remote party is
completed.
Steps 2b and 3b are for the case the released media is bound to Controllee UE.
2b. The removal of Media Flow-B between Controllee UE-2 and remote party is
completed.
NOTE 1: If no more media remains on the Access Leg between SCC AS and
Controllee UE-2, this Access Leg is released and Controllee UE-2 will no
longer be part of the Collaborative Session.
3b. SCC AS informs Controller UE-1 that the Media Flow-B on UE-2 was removed.
NOTE 2: If no more Controllee UE remains after the media removal, the
Collaborative Session is terminated and there will be a general IMS session
between UE-1 and remote party.
### 6a.4.9 Remote party initiated media modification
A Collaborative Session is already established using procedures shown in
clause 6a.2. The following is an example of an information flow where remote
party wants to modify one of media flows, Media Flow-B from an ongoing
session. In this information flow, UE-1 and UE-2 belong to the same user
subscription. UE-1 is a Controller UE and UE-2 is a Controllee UE.
Figure 6a.4.9-1: Remote party initiated media modification
1\. Remote party uses standard IMS procedures defined in TS 23.228 [4] to
modify Media Flow-B from the session.
Step 2a is for the case the modified media is bound to Controller UE.
2a. The modification of Media Flow-B between Controller UE-1 and remote party
is completed.
Steps 2b -- 3b are for the case the modified media is bound to Controllee UE.
2b. The modification of Media Flow-B between Controllee UE-2 and remote party
is completed.
3b. If the media modification is hold or resume, SCC AS informs Controller
UE-1 that the Media Flow-B on UE-2 was modified.
## 6a.4a Transfer of Collaborative Session Control
### 6a.4a.1 Controller UE transfers Collaborative Session Control to a
Controllee UE without Media Transfer
UE-1 and UE-2 are involved in a Collaborative Session with a remote party. The
Collaborative Session is anchored at the SCC AS. UE-1 is the Controller UE of
the Collaborative Session. UE-1 wishes to transfer the Collaborative Session
Control to UE-2. The media flows to UE-1 and UE-2 from the remote party remain
unaffected. The following information flow shows this procedure.
Figure 6a.4a.1 -1: Controller UE initiated transfer of Collaborative Session
Control
1\. A Collaborative Session is established between UE-1 and UE-2 and a remote
party with UE-1 acting as the Controller UE and UE-2 acting as a Controllee
UE. Each UE has a media flow with the remote party.
2\. UE-1 wishes to transfer the Collaborative Session Control to UE-2.
However, none of the existing media flows are affected. UE-1 sends a
Collaborative Session Control transfer request to the SCC AS to relinquish
Collaborative Session Control. This request includes a registered Public User
Identity or public GRUU of UE-2.
3\. If the SCC AS does not have the list of Public User Identities that share
the service profile with the Public User Identity used by UE-1 for the
Collaborative Session, the SCC AS retrieves this information. If the
Collaborative Session Control transfer request indicates that UE-2 has the
same Public User Identity (but different public GRUU) as UE-1, this step is
skipped.
4\. The SCC AS performs authorization as specified in clause 6a.12, ensures
that UE-2 can act as the Controller UE for this Collaborative Session, and
that the Public User Identity used by UE-2 shares the service profile with the
Public User Identity used by UE-1 for the Collaborative Session. The SCC AS
then sends a message to UE-2 requesting UE-2 to assume the role of Controller
UE for this on-going Collaborative Session. Included in the request to UE-2 is
session information associated with the Collaborative Session that UE-2 is
requested to assume the role of Controller UE for.
5\. UE-2 accepts the role of Controller UE for this Collaborative Session and
indicates its acceptance to the SCC AS.
6\. The SCC AS in turn provides an acknowledgement to UE-1 confirming that
UE-2 is the new Controller UE for the Collaborative Session, and removes
Collaborative Session Control from UE-1.
7\. UE-2 has become the Controller UE and UE-1 has become a Controllee UE.
### 6a.4a.2 Controller UE transfers Collaborative Session Control to another
UE with Media Transfer
UE-1 and UE-3 are involved in a Collaborative Session with a remote party. The
Collaborative Session is anchored at the SCC AS. UE-1 is the Controller UE of
the Collaborative Session. UE-1 wishes to transfer the Collaborative Session
Control to UE-2 along with the media flow on UE-1. The media flow to UE-3 from
the remote party remains unaffected. Following is an information flow for this
procedure.
Figure 6a.4a.2-1: Controller UE initiated transfer of Collaborative Session
Control with transfer of media flow
1\. A Collaborative Session is established between UE-1 and UE-3 and a remote
party with UE-1 acting as the Controller UE and the UE-3 acting as a
Controllee UE. Each UE has a media flow with the remote party.
2\. UE-1 wishes to transfer the Collaborative Session Control along with media
flow A to UE-2. UE-1 sends a request to SCC AS to transfer media flow A and
relinquish Collaborative Session Control. This request includes a registered
Public User Identity or public GRUU of UE-2.
3\. If the SCC AS does not have the list of Public User Identities that share
the service profile with the Public User Identity used by UE-1 for the
Collaborative Session, the SCC AS retrieves this information. If the
Collaborative Session Control transfer request indicates that UE-2 has the
same Public User Identity (but different public GRUU) with UE-1, this step is
skipped.
4\. The SCC AS performs authorization as specified in clause 6a.12, ensures
that UE-2 can act as the Controller UE for this Collaborative Session, and
that the Public User Identity used by UE-2 shares the service profile with the
Public User Identity used by UE-1 for the Collaborative Session. The SCC-AS
then sends a message to UE-2 requesting UE-2 to transfer media flow A and
assume the role of Controller UE for this on-going Collaborative Session.
Included in the request to UE-2 is session information associated with the
Collaborative Session that UE-2 is requested to assume the role of Controller
UE for.
5\. UE-2 accepts transfer of media flow A and accepts the role of Controller
UE for this Collaborative Session and indicates its acceptance to the SCC AS.
6\. The SCC AS removes media flow A from UE-1, and updates the Remote Leg
using the Remote Leg Update procedure as specified in clause 6a.1.2.
7\. SCC AS in turn provides an acknowledgement to UE-1 confirming that UE-2
has accepted the media transfer and is the new Controller UE for the
Collaborative Session.
8\. UE-2 has become the Controller UE and UE-1 has become the Controllee UE
and media flow A is now transferred to UE-2. If there is no media flow
remaining on UE-1, UE-1 is released from the Collaborative Session.
### 6a.4a.3 Transfer of Collaborative Session Control upon loss of Controller
UE
The Controller UE can lose the Collaborative Session Control as a result of,
for example, losing underlying network connectivity. The figure below shows an
information flow where the SCC AS has pre-configured Collaborative Session
Control loss preferences, and acts upon the loss of Collaborative Session
Control based on these preferences. There is no media on UE-1.
Figure 6a.4a.3-1: Collaborative Session handling upon loss of Collaborative
Session Control
1\. A Collaborative Session is established between UE-1, UE-2, UE-3 and a
remote party. UE-1 is the Controller UE, and UE-2 and UE-3 are Controllee UEs.
Collaborative Session Control loss preference is sent/updated to SCC AS at any
time before or during the Collaborative Session, including:
\- the Public User Identity/ies or public GRUUs of the UE(s) which may be the
successive Controller UE (in priority order), or
\- criteria on how to select the successive Controller UE.
NOTE 1: When the successive Controller UE is selected, the SCC AS ensures that
this UE can act as the Controller UE for this Collaborative Session, and that
the Public User Identity it uses shares the service profile with the Public
User Identity used by UE-1 for the Collaborative Session, by performing step 3
of Figure 6a.4a.2-1 if necessary.
2\. The SCC AS detects that the Collaborative Session Control has been lost
during the session.
NOTE 2: How the SCC AS detects the loss of Collaborative Session Control is
not within the scope of this document.
3\. The loss of Collaborative Session Control triggers the activation of
Collaborative Session Control loss preference. SCC AS performs authorization
as specified in clause 6a.12, then selects a Controllee UE as the new
Controller UE based on Collaborative Session Control loss preference.
NOTE 3: If no Collaborative Session Control loss preference is provided, SCC
AS releases the Collaborative Session.
4\. SCC AS offers Collaborative Session Control to the selected Controllee UE,
UE-3. Included in the request to UE-3 is session information associated with
the Collaborative Session that UE-3 is requested to assume the role of
Controller UE for.
Step 5a is for the case where UE-3 accepts to become Controller UE.
5a. The Controllee UE-3 accepts the offer to become the new Controller UE.
Steps 5b-5d are for the case that the Controllee UE refuses to be a new
Controller UE.
5b. Control transfer is not accepted by the Controllee UE.
NOTE 4: The Controllee UE may reject the offer because its user does not want
to take over control, or the UE may not understand the transfer request; or
the UE may not respond.
5c. If there is other candidate Controller UEs to which Collaborative Session
control could be but has not yet been offered, the SCC AS offers them control
of the collaborative session (repeat step 4) according to their priority order
in user preference.
5d. If no candidate Controller UE accepts to take over the control of the
collaborative session, SCC AS releases the Collaborative Session associated
with lost Controller UE as specified in steps 2 to 4 of clause 6a.5.1.
### 6a.4a.4 Transfer of Collaborative Session Control with media flows upon
loss of Controller UE
If the Collaborative Session Control is lost in the Controller UE and there
was/were media flow(s) as part of the Collaborative Session in the old
Controller UE, the media flow(s) may be transferred together with the
Collaborative Session Control to the new Controller UE based on user
preferences.
Figure 6a.4a.3a-1 shows an information flow of transferring the Collaborative
Session Control with the media flows upon loss of the Controller UE. A
Collaborative Session is established between UE-1, UE-2, UE-3 and the remote
party. UE-1 is the Controller UE, and UE-2 and UE-3 are Controllee UEs. Media
Flow-A, Media Flow-B and Media Flow-C are established respectively between
UE-1, UE-2, UE-3 and the Remote Party.
Figure 6a.4a.3a-1: Transfer of Collaborative Session Control with media
flow(s) upon loss of Collaborative Session control
1\. The SCC AS detects the loss of Controller UE-1.
2\. Based on user preferences, the SCC AS performs authorization as specified
in clause 6a.12, then sends a Collaborative Session Control transfer with
media transfer request to Controllee UE-2, which is capable of being a
Controller UE and has a Public User Identity sharing the same service profile
with UE-1. The request indicates the Collaborative Session Control and Media
Flow-A are to be transferred to UE-2 due to loss of Controller UE-1. Included
in the request to UE-2 is session information associated with the
Collaborative Session that UE-2 is requested to assume the role of Controller
UE for.
Steps 3a - 4a are for the case of UE-2 accepting both the Collaborative
Session Control and media transfer:
3a. UE-2 accepts the role of Collaborative Session Controller UE as well as
the transfer of Media Flow-A, and sends a Collaborative Session Control
transfer and media transfer confirmation to the SCC AS.
4a. The SCC AS performs Remote Leg Update procedure towards the remote party
as specified in clause 6a.1.2.
Steps 3b - 5b are for the case of UE-2 accepting only the Collaborative
Session Control transfer:
3b. UE-2 only accepts the role of Collaborative Session Controller UE, and
sends a Collaborative Session Control transfer confirmation to the SCC AS.
4b. UE-2, the new Controller UE, initiates one of the following procedures, in
order to transfer Media Flow-A to another UE, or to remove it from the
Collaborative Session:
\- Controller UE initiated media transfer from Controllee UE to another
Controllee UE, specified in clause 6a.3.3;
\- Controller UE initiated release media (media flow on the Controllee UE),
specified in clause 6a.4.4;
\- Controller UE initiated release Collaborative Session, specified in clause
6a.5.1.
5b. The SCC AS performs Remote Leg Update procedure towards the remote party
as specified in clause 6a.1.2.
### 6a.4a.5 Transfer of Collaborative Session Control initiated by the target
UE
UE‑1 and UE‑2 are involved in a Collaborative Session with a remote party. The
Collaborative Session is anchored at the SCC AS. UE‑1 is the Controller UE of
the Collaborative Session. UE‑2 wishes to transfer the Collaborative Session
Control from UE‑1 to itself. The media flows to UE‑1 and UE‑2 from the remote
party remain unaffected. The following information flow shows this procedure.
If UE‑2 is not involved in the Collaborative Session controlled by UE‑1 before
the transfer of Collaborative Session Control, there is at least another
Controllee UE involved in the Collaborative Session before the transfer of
Collaborative Session Control, which is not shown in the information flow.
Figure 6a.4a.5-1: Transfer of Collaborative Session Control initiated by the
target UE
1\. A Collaborative Session is established between UE‑1 and UE‑2 and a remote
party with UE‑1 acting as the Controller UE and UE‑2 acting as a Controllee
UE. Each UE has a media flow with the remote party.
2\. UE‑2 obtains information about the existing sessions and UE‑1\'s control
of Collaborative Session which UE‑2 is participating in according to procedure
defined in clause 6a.8.3.2.
3\. UE‑2 wishes to transfer the Collaborative Session Control from UE‑1 to
itself. However, none of the existing media flows are affected. UE‑2 sends a
Collaborative Session Control transfer request to the SCC AS to obtain
Collaborative Session Control. This request includes a registered Public User
Identity or public GRUU of UE‑1.
4\. If the SCC AS does not have the list of Public User Identities that share
the service profile with the Public User Identity used by UE‑2 for the
Collaborative Session, the SCC AS retrieves this information. If the
Collaborative Session Control transfer request indicates that UE‑1 has the
same Public User Identity (but different public GRUU) as UE‑2, this step is
skipped.
5\. The SCC AS performs authorization as specified in clause 6a.12, ensures
that UE‑2 can act as the Controller UE for this Collaborative Session, and
that the Public User Identity used by UE‑1 shares the service profile with the
Public User Identity used by UE‑2 for the Collaborative Session. The SCC AS
requests the Controller UE-1 to authorize the pull request or the SCC AS
authorizes the request on behalf of UE‑1 (e.g. pre-configured). If the request
is authorized, SCC AS continues to transfer Collaborative Session Control to
UE-2, and removes Collaborative Session Control from UE‑1.
6\. UE-2 has become the Controller UE and UE‑1 has become a Controllee UE.
7\. The SCC AS sends Collaborative Session Control transfer response to UE‑2.
## 6a.5 Collaborative Session release
### 6a.5.1 Controller UE Initiated Release Collaborative Session
The following information flow shows the Controller UE releasing a
Collaborative Session to release all the media flows with remote party. As a
pre-requisite, there exists a Collaborative Session with two media flows,
Media Flow--A on the Controller UE (UE-1) and Media Flow--B on the Controllee
UE (UE-2).
Figure 6a.5.1-1: Controller UE initiated Collaborative Session release
1\. UE-1 sends a Release Collaborative Session request to the SCC AS to
release the Collaborative Session and to release the Media Flow-B on UE-2:
UE-1 removes Media Flow-A that is participating in the Collaborative Session.
2\. The SCC AS identifies the Collaborative Session and the participating
Access Leg from Controllee UE. SCC AS sends the Release Access Leg request to
UE-2. The request identifies the Access Leg that needs to be released.
3\. UE-2 releases the Access Leg and sends back Release Access Leg response to
SCC AS.
4\. The SCC AS releases the Remote Leg using IMS session release procedure as
specified in TS 23.228 [4].
5\. The SCC AS sends Release Collaborative Session response to UE-1.
### 6a.5.2 Remote Party Initiated Release Collaborative Session
The following shows the information flow where the remote party initiates the
release of the session, which causes the SCC-AS to release the Collaborative
Session.
UE-1 is a Controller UE and the other UEs are Controllee UEs.
Figure 6a.5.2-1: Remote Party Initiated Release Collaborative Session
1\. The Remote Party decides to release the session, and therefore a Session
Release Request is sent by the remote party to the SCC-AS.
2\. The SCC-AS releases the Access Leg(s) towards the Controller UE-1.
3\. The SCC-AS releases the Access Leg(s) towards the different Controllee
UEs. This occurs in parallel with step 2.
4\. When all Access Legs that belonged to the Collaborative Session have been
released, the SCC-AS responds to the remote party.
## 6a.6 Inter‑UE Transfer without establishing a Collaborative Session
### 6a.6.1 Inter-UE Transfer initiated by the source UE
UE-1 and UE-2 are under the same user subscription. UE-1 is involved in IMS
session with remote party. The information flow in Figure 6a.6.1-1 shows
transfer of the session from UE-1 to UE-2. Since the entire session is
transferred simultaneously, the roles of the Controller UE and Controllee UE
are not applicable.
NOTE 1: This signalling flow does not require the UE-2 to have IUT
capabilities.
Figure 6a.6.1-1: Inter‑UE transfer without establishing Collaborative Session
- initiated by the source UE
1\. UE-1 sends IUT media and service control transfer request to the SCC AS to
transfer the session that includes Media-A from UE-1 to UE-2. The IUT media
and service control transfer request shall include enough information for the
network to:
\- identify the transferred session;
\- identify that the target of the transferred session is UE-2;
\- identify the access leg of UE-1 to be transferred to UE-2.
2\. If the SCC AS does not have the list of Public User Identities that share
the service profile with the Public User Identity used by UE-1 for the
Collaborative Session, the SCC AS retrieves this information. If the
Collaborative Session Control transfer request indicates that UE-2 has the
same Public User Identity (but different public GRUU) as UE-1, this step is
skipped.
3\. The SCC AS ensures that the Public User Identity used by UE-2 shares the
service profile with the Public User Identity used by UE-1 for the
Collaborative Session. The SCC AS performs authorization as specified in
clause 6a.12, then initiates the media session setup procedure with UE-2 for
the Media-A, and updates the Remote Party.
4\. The SCC AS releases the session with UE-1.
When the above transfer is completed the SCC AS retains the service state
(e.g. media flows status) of UE-2, and the UE-2 has the control of the IMS
session.
NOTE 2: If, besides the Media-A, there are other media flows in an unrelated
session between UE-1 and Remote Party, the other media flows are not impacted
by the above session transfer operation.
### 6a.6.2 Inter-UE Transfer initiated by the target UE
UE-1 and UE-2 are under the same IMS subscription. UE-1 is involved in IMS
session with remote party. Figure 6a.6.2-1 shows session transfer from UE-1 to
UE-2 requested by UE-2. Since all the media flow(s) are transferred from UE-1
to UE-2 simultaneously, the roles of the Controller UE and the Controllee UE
are not applicable.
Figure 6a.6.2-1: Inter UE Transfer initiated by UE not participating in the
session -- no Collaborative Session established
1\. UE-2 obtains information about the existing sessions and their media
flows.
2\. UE-2 sends IUT media and service control transfer request. The request
shall include enough information for the network to:
\- identify the transferred session;
\- identify that the target of the transferred session is UE-2;
\- identify the access leg of UE-1 to be transferred to UE-2.
3\. If the SCC AS does not have the list of Public User Identities that share
the service profile with the Public User Identity used by UE-1 for the
Collaborative Session, the SCC AS retrieves this information. If the
Collaborative Session Control transfer request indicates that UE-2 has the
same Public User Identity (but different public GRUU) as UE-1, this step is
skipped.
4\. The SCC AS ensures that the Public User Identity used by UE-1 shares the
service profile with the Public User Identity used by UE-2 for the
Collaborative Session. The SCC AS performs authorization as specified in
clause 6a.12; in particular, the SCC AS requests the UE-1 to authorize the
pull request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-
configured). The SCC AS will also authorize that the target UE is of the same
subscription. If the request is authorized, SCC AS continues in accordance
with step 2 of clause 6a.6.1, i.e. SCC AS establishes a session with UE-2 for
the Media-A, removes Media-A from UE-1, and updates Remote Leg using the
Remote Leg Update procedure.
5\. The SCC AS sends IUT media and service control transfer response to UE-2.
## 6a.7 Execution of supplementary services
### 6a.7.1 General
Even though the media components for the Collaborative Session are split onto
multiple Access Legs of different UEs, the remote end is presented with one
session including all the media components. This section describes the SCC AS
and IUT UE procedures for handling supplementary services as described in TS
22.173 [15].
Whether or not the UEs involved in a Collaborative Session pertain to multiple
IMS subscriptions, the Controllee UEs can be under a different service profile
than the Controller UE. The service profile of the Controller UE shall
determine the set of Application Servers and services that are invoked for the
overall session with the remote end.
For a Controllee UE\'s Access Leg where CS media is used, the interaction
described in the following sections still apply. However, the operations on
the CS media follow the procedures as described in TS 23.292 [5].
With respect to identification presentation services (e.g. Originating
Identification Presentation), the identifying information provided to the
remote end is that of the Controller UE.
### 6a.7.2 Originating Identification Presentation (OIP)
The OIP service is not impacted by IUT.
### 6a.7.3 Originating Identification Restriction (OIR)
The OIR service is not impacted by IUT.
### 6a.7.4 Terminating Identification Presentation (TIP)
The TIP service is not impacted by IUT.
### 6a.7.5 Terminating Identification Restriction (TIR)
The TIR service is not impacted by IUT.
### 6a.7.6 Communication Diversion (CDIV)
The CDIV service is not impacted by IUT.
### 6a.7.7 Communication Hold (HOLD)
If the Controller UE wants to invoke the HOLD service on one or more media
component(s), the Controller UE shall invoke the HOLD procedures, as defined
in TS 24.610 [16]. The Hosting SCC AS shall act on the HOLD requests by
updating all the Controllee UEs whose media status are changed and shall
update the Remote Leg using the procedures defined in TS 24.610 [16].
If a Controllee UE wants to invoke the HOLD service on one or more media
component(s) that it hosts, the request to do so must be authorized by the
Controller UE (or by the network on behalf of the Controller UE). If the
request is authorized, the Controllee UE shall invoke the HOLD procedures, as
defined in TS 24.610 [16].
#### 6a.7.7.1 Controller UE invoking the HOLD service on the media flow on a
Controllee UE
The information flow shows a Controller UE invoking the HOLD service on the
media flow that is originated from the Controllee UE. As a pre-requisite,
there exists a Collaborative Session with two media flows, Media Flow--A on
the Controller UE (UE-1) and Media Flow--B on the Controllee UE (UE-2).
Figure 6a.7.7.1-1: Controller UE invoking the HOLD service on the media flow
on a Controllee UE
1\. UE-1 sends a Supplementary Service Execution request to invoke the HOLD
service on Media Flow-B on UE-2. The IUT supplementary service execution
request shall include enough information for the SCC AS to:
\- identify that the media to be held is Media Flow-B;
\- identify that the media to be held is on UE-2;
\- identify that the supplementary service to be executed on Media Flow-B is
the HOLD service.
2\. The SCC identifies Media Flow-B as associated with UE-2 and sends the
Supplementary Service Execution request to UE-2. The request identifies the
Media Flow--B that needs to be held.UE-2 holds the Media Flow-B. The SCC AS
updates the Remote Leg with Media Flow--B held.
3\. The SCC AS sends a Supplementary Service Execution response to UE-1.
### 6a.7.8 Communication Barring (CB)
The CB service is not impacted by IUT.
### 6a.7.9 Message Waiting Indication (MWI)
The MWI service is not impacted by IUT.
### 6a.7.10 Conference (CONF)
Only the Controller UE can invoke the CONF service for the Collaborative
Session and it shall follow the procedures as defined in TS 24.605 [17] for
any CONF service related operations. The SCC AS associated with a Controllee
UE shall reject a request from the Controllee UE to invoke the CONF service.
When the remote end sends a request for the CONF service to replace an
existing session which is locally a Collaborative Session, the SCC AS shall
deliver the request for CONF service to the Controller UE, which then sets up
a new session following the procedures defined in TS 24.605 [17]. If the user
intends to invoke the CONF service for an ongoing Collaborative Session, the
Controller UE shall establish a new Collaborative Session towards the
conferencing AS using the procedure of Establish Collaborative Session at
originating IMS session setup as specified in clause 6a.2.3, while the
existing Access Legs between the SCC AS and the Controllee UE(s) can be reused
(i.e. updated to be bound to the new Collaborative Session between the
Controller UE and the conferencing AS).
### 6a.7.11 Explicit Communication Transfer (ECT)
Only the Controller UE can invoke the ECT service on behalf of the
Collaborative Session and it shall follow the procedures as specified in TS
24.629 [18]. Upon receiving notification that ECT has been performed
successfully, the Controller UE shall terminate the previous active session
with the transferee UE by terminating all related media control sessions on
the Controllee UEs. The SCC AS associated with a Controllee UE shall reject a
request from the Controllee UE to invoke the ECT service.
Upon receiving an ECT transfer request from the remote end to transfer the
Collaborative Session, the SCC AS shall deliver the request to the Controller
UE.
Upon receiving an ECT transfer request to transfer the Collaborative Session,
the Controller UE shall establish a new session towards the transfer target
following the procedures defined in TS 24.629 [18]. If the communication to be
transferred is a Collaborative Session (i.e. the transferee intends to use the
Collaborative Session to communicate with the transfer target), the Controller
UE shall establish a new Collaborative Session towards the transfer target
using the procedure of Establish Collaborative Session at originating IMS
session setup as specified in clause 6a.2.3, while the existing Access Legs
between the SCC AS and the Controllee UE(s) can be reused (i.e. updated to be
bound to the new Collaborative Session between the Controller UE and the
transfer target).
### 6a.7.12 Advice of Charge (AOC)
When the AOC service specified in TS 24.647 [19] is active, the SCC AS shall
deliver charging information during the communication to the Controller UE.
### 6a.7.13 Closed User Groups (CUG)
The CUG service is not impacted by IUT.
### 6a.7.14 Three-Party (3PTY)
The 3PTY service in TS 24.605 [17] is considered as a special case of CONF
service and the interaction with IUT is the same as that specified in clause
4.8.10 for CONF service.
### 6a.7.15 Flexible Alerting (FA)
The FA service is not impacted by IUT.
### 6a.7.16 Communication Waiting (CW)
The CW service is not impacted.
### 6a.7.17 Completion of Communications to Busy Subscriber (CCBS)/Completion
of Communications by No Reply (CCNR)
The CCBS/CCNR service is not impacted.
### 6a.7.18 Customized Alerting Tones (CAT)
For Collaborative Sessions established concurrently with terminating IMS
session setup, the CAT provided by the network (under the control of the SCC
AS associated with the Controller UE) to the remote party is the CAT
associated with the Controller UE.
### 6a.7.19 Malicious Communication IDentification (MCID)
The MCID service is not impacted by IUT.
### 6a.7.20 Reverse Charging
The Reverse Charging service is not impacted by IUT.
### 6a.7.21 Personal Network Management (PNM)
The PNM service is not impacted by IUT.
### 6a.7.22 Customized Ringing Signal (CRS)
For Collaborative Sessions established concurrently with terminating IMS
session setup, the Customized Ringing Signal (CRS) provided to the Controller
UE is the CRS associated with the remote party. For Collaborative Sessions
established concurrently with originating IMS session setup, the CRS provided
to the remote party is the CRS associated with the Controller UE.
## 6a.8 IUT target discovery
### 6a.8.1 General
When initiating Inter-UE Transfer procedures, the UE may use the following
information:
\- other UEs belonging to the same IMS subscription;
\- the availability (e.g. online, offline etc) of the UEs;
\- the capabilities (e.g. support of audio/video formats, Controller UE
capability, etc) of the UEs.
Determination of UEs belonging to the same IMS subscription is based on either
or both of static list stored in the UE and based on IMS registration. When
based on IMS registration, the UE gets notified when other UEs under the same
Implicit Registration Set become available and their capabilities and contact
details. The static list, which contains a list of eligible UEs for Inter-UE
Transfer, can be created manually by the user.
The availability and capabilities of the target UE(s) can be determined by the
information flow described in the subsequent section.
### 6a.8.2 Information flow for IUT target availability and capabilities
discovery
Figure 6a.8.2-1 Inter-UE Transfer target discovery based on IMS registration
1\. UE-2 is IMS registered following the procedures defined in TS 23.228 [4].
2\. UE-1 performs IMS registration following the procedures defined in TS
23.228 [4].
3 \~ 4. UE-1 is interested to discover the status and capabilities of other
devices under the same subscription. It subscribes to an event package (e.g.,
reg-event, presence) for registration information and the capabilities
information.
5 \~ 6. The IMS CN subsystem or presence AS notifies UE-1 of other devices
(e.g. UE-2) status and, if available, capabilities information.
7\. UE-3 performs IMS registration.
8 \~ 9. The IMS CN subsystem notifies UE-1 of UE-3\'s availability and, if
available, capabilities information.
Optionally, if sufficient UE capabilities information is not included in step
8, then the following steps can be performed:
10 \~ 13. Among all the available devices, UE 1 is interested in performing
Inter-UE transfer to UE-3. UE-1 performs capability query towards UE-3.
### 6a.8.3 Session Discovery
#### 6a.8.3.1 General
In order to solicit the IUT of media flows or control of an ongoing session
from other UE(s) under the same or different subscriptions of the same
operator, it shall be possible for a UE capable of IUT to discover ongoing
session information on other UE(s) as follows:
\- Session information for the other UE(s), including session identifier,
source UE identifier (e.g. GRUU or IMPU), remote end identifier, identity of
the Controller UE for the related Collaborative Session;
\- Media flow information for the ongoing session(s) in other UE(s),
including: type (voice, video, etc.), status (held, active, etc.), media flow
identifier;
\- Service Identifier for the service the session is related to.
The UE may use the above information for IUT in addition to the availability
and capabilities of other UE(s) as specified in clause 6a.8.1.
The SCC AS which serves target UE(s) of session discovery shall filter
information on some or all of the sessions or media flows composing the
session on the target UE(s) based on user service configuration or operator
policy before providing ongoing session information to the UE which has
requested session discovery.
#### 6a.8.3.2 Discovery of ongoing session information on other UE(s)
belonging to same IMS subscription
The figure below shows an information flow of UE-1 requesting ongoing session
information for the other UEs, assuming that UE-1, UE-2 and UE-3 belong to the
same IMS subscription and there is a session with Media Flow-A between UE-2
and the remote party and another session with Media Flow-B between UE-3 and
the remote party.
Figure 6a.8.3.2-1 Discovery of ongoing session information on other UE(s)
belonging to the same IMS subscription
1\. UE-1 sends the SCC AS a Session Discovery request for ongoing session
information for the UEs belonging to the same IMS subscription. The Session
Discovery request indicates the information requested to be provided in the
response.
2\. The SCC AS retrieves the requested information for all ongoing sessions
for the user\'s UEs.
3\. The SCC AS, if required, authorizes that UE-1 is allowed to receive the
requested information, and sends the UE-1 a Session Discovery response
containing the requested session related information for UE-2 and UE-3. The
SCC AS performs filtering as specified in clause 6a.8.3.1 before sending a
Session Discovery response to the UE-1.
#### 6a.8.3.3 Discovery of ongoing session information on other UE(s)
belonging to different IMS subscription
The figure below shows an information flow of UE-1 requesting ongoing session
information for the other UEs, assuming that UE-1 belongs to User-1 while UE-2
and UE-3 belong to User-2. It is also assumed that there is a session with
Media Flow-A between UE-2 and the remote party, and another session with Media
Flow-B between UE-3 and the remote party.
Figure 6a.8.3.3-1 Discovery of ongoing session information on other UE(s)
belonging to different IMS subscription
1\. UE-1 sends SCC AS-1 a Session Discovery request for ongoing session
information for User-2\'s UEs. The Session Discovery request indicates the
information requested to be provided in the response.
2\. SCC AS-1 sends a Session Information request for ongoing session
information for User-2\'s UEs to S-CSCF-2 which serves User-2.
3\. S-CSCF-2 forwards the Session Information request to SCC AS-2 which serves
User-2.
4\. SCC AS-2, if required, authorizes that UE-1 is allowed to receive ongoing
session information for User-2\'s UEs, and sends a Session Information
response containing ongoing session information for UE-2 and UE-3. The SCC
AS-2 performs filtering as specified in clause 6a.8.3.1 before sending a
Session Information response.
5\. S-CSCF-2 forwards the Session Information response to SCC AS-1.
6\. SCC AS-1 sends UE-1 a Session Discovery response containing ongoing
session information for UE-2 and UE‑3.
## 6a.9 Inter-UE Transfer Initiated by Target UE
### 6a.9.1 Controller UE and Controllee UE belong to same IMS subscription
#### 6a.9.1.1 Initiated by UE not participating in ongoing Collaborative
Session
UE-1, UE-2 and UE-3 are under the same IMS subscription. UE-1 and UE-2 are
involved in Collaborative Session with remote party. The figure below shows
media flow transfer from UE-1 to UE-3 requested by UE-3.
Figure 6a.9.1.1-1: Inter-UE Transfer initiated by UE not participating in the
Collaborative Session
1\. UE-3 obtains information about the existing sessions and their media
flows.
2\. UE-3 sends IUT media transfer request to transfer the Media-A from UE-1 to
UE-3. The request shall include the enough information for the network to:
\- identify the targeted Collaborative Session;
\- identify that the transferred media flow is Media-A;
\- identify that the target of the transferred media flow is UE-3;
\- keep the control of the Collaborative Session in UE-1;
\- other information.
3\. The SCC AS performs authorization as specified in clause 6a.12; in
particular, the SCC AS requests the Controller UE-1 to authorize the pull
request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-
configured). The SCC AS will also authorize that the target UE is of the same
subscription. If the request is authorized, SCC AS continues in accordance
with step 2 of clause 6a.3.1.1, i.e. SCC AS establishes a session with UE-3
for the Media-A, removes Media-A from UE-1, and updates the Remote Leg using
the Remote Leg Update procedure. The UE-1 remains the Controller UE and UE-3
becomes a new Controllee UE.
NOTE: If no more media flows remain on UE-2, then the Access Leg from UE-2 is
released and UE-2 will no longer be part of the Collaborative Session.
4\. The SCC AS sends IUT media transfer response to UE-3.
#### 6a.9.1.2 Initiated by Controllee UE in ongoing Collaborative Session
UE-1 and UE-2 are under the same IMS subscription. UE-1 and UE-2 are involved
in a Collaborative Session with remote party, in which UE-1 is the Controller
UE and UE-2 is the Controllee UE. The figure below shows media flow transfer
from UE-1 to UE-2 requested by UE-2.
Figure 6a.9.1.2-1: Inter-UE Transfer initiated by Controllee UE in ongoing
Collaborative Session
1\. UE-2 obtains the information about the media flows in its current
participating Collaborative Session.
2\. UE-2 sends IUT media transfer request to transfer the Media-A from UE-1 to
UE-2. The request shall include enough information for the network to:
\- identify that the transferred media flow is Media-A;
\- identify that the target of the transferred media flow is UE-2;
\- keep the control of the Collaborative Session in UE-1;
\- other information.
3\. The SCC AS performs authorization as specified in clause 6a.12; in
particular, the SCC AS requests the Controller UE-1 to authorize the pull
request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-
configured). If the request is authorized, SCC AS continues in accordance with
step 2 of clause 6a.3.1.1 to transfer Media-A to UE-2, removes Media-A from
UE-1, and updates the Remote Leg using the Remote Leg Update procedure. The
UE-1 remains the Controller UE and UE-2 remains a Controllee UE.
4 The SCC AS sends IUT media transfer response to UE-2.
#### 6a.9.1.3 IUT solicited by a target UE without prior information about the
existing sessions
This realization of pull mode is particularly applicable to the cases where
the UE to be target of an IUT operation does not have information about
ongoing sessions, e.g. because of privacy restrictions.
It is based on extending the information provided in the event package used
for the discovery of status and capabilities of potential target UEs, with
information on the wish to be the target of an IUT operation.
The following information flow shows a UE in control of an IMS session or
Collaborative Session, subscribing to a device info event to be notified of
availability and capabilities of potential target UEs, this event package
being extended with additional information on the wish to be the target of an
IUT operation. The end user subsequently requests the transfer of a video to
UE-2 by interacting with UE-2. UE-2 then updates its status to inform the
network that it solicits an IUT to be performed to itself. In this example,
the notification includes the type of media that UE-2 expects to be
transferred. Alternatively, any other kind of IUT could be requested the same
way, e.g. transfer of Collaborative Session Control.
Figure 6a.9.1.3-1: IUT solicited by a target UE without prior information
about existing sessions
1\. An IMS session or a Collaborative Session is set-up, involving at least
UE-1 and a remote party. In case of a Collaborative Session, UE-1 is the
Controller UE. Two media are established: audio (Media Flow-A) and video
(Media Flow-B).
2\. UE-1 performs IUT target discovery and discovers UE-2 as specified in
clause 6a.8.
3\. By interacting with UE-2, the user requests the transfer of a video media
to UE-2.
4\. UE-2 updates its status, indicating that it solicits an IUT of a video
media.
5 - 6. This status update is notified to UE-1.
7\. UE-1 identifies that it controls Media Flow-B which corresponds to the
solicitation (video) and decides whether to initiate the IUT solicited by UE-2
or not.
8\. UE-1 uses the relevant IUT procedure to transfer Media Flow-B to UE-2.
### 6a.9.2 Controller UE and Controllee UE belong to different IMS
subscriptions
#### 6a.9.2.1 Initiated by UE not participating in the session - Collaborative
Session established
The information flow below illustrates a transfer of media flow scenario in
which a UE belonging to one subscription (UE-2) requests a media flow from a
UE that belongs to another subscription (UE-1). At this time, the control of
the transferred media flow remains at UE-1. After the transfer, a
Collaborative Session is established, in which the UE-1 is Controller UE, and
UE-2 is Controllee UE. It is assumed that, prior to the scenario, User-2 has
discovered that there is an ongoing session between UE-1 and the remote party.
NOTE: If UE-1 does not support IUT media related procedures or is not an IUT
subscriber, SCC AS-1 or UE-1 will return an error.
Figure 6a.9.2.1-1: Establish Collaborative Session by target UE initiated
transferring media
There are Media-A and Media-B between UE-1 and remote party.
1\. UE-2 sends a request towards UE-1 to transfer Media-B from UE-1 to UE-2.
The request includes enough information for the network to:
\- identify that the media flow to be transferred is Media-B;
\- identify that the source of the media flow to be transferred is UE-1;
\- identify the session that contains the media flow to be transferred;
\- identify that the target of the transferred media flow is UE-2;
\- give control of the Collaborative Session to UE-1.
2\. S-CSCF-2 forwards the request to SCC AS-2.
3\. SCC AS-2 authorizes the request from UE-2.as specified in clause 6a.12
4\. SCC AS-2 sends a request to S-CSCF-2 towards UE-1 to transfer Media-B from
UE-1 to UE-2. The Collaborative Session request includes enough information
for the network to:
\- identify the source of the transfer request as UE-2;
\- identify that the media flow to be transferred is Media-B;
\- identify that the target of the transferred media flow is UE-2;
\- give control of the Collaborative Session to Controller UE-1.
4a. S-CSCF-2 forwards the request towards UE-1.
4b. S-CSCF-1 forwards the request to SCC AS-1.
5\. SCC AS-1 authorizes the request from UE-2.
6\. SCC AS-1 removes Media-B from UE-1, updates Remote Leg and finishes Access
Leg establishment for setting up Media-B between remote party and UE-2, and
updates the media information in Controller UE-1.
After the above operation, a Collaborative Session is established, for which
UE-1 becomes the Controller UE and UE-2 becomes a Controllee UE and Media
Flow-A and Media Flow-B become part of the Collaborative Session under the
control of UE 1.
This information flow is also applicable to the cases where a UE not
participating in an ongoing Collaborative Session joins the Collaborative
Session by initiating the transfer of media flow(s) from Controller UE which
belongs to the different IMS subscription to itself.
#### 6a.9.2.2 Initiated by UE not participating in ongoing Collaborative
Session - media on Controllee UE
UE-1 and UE-2 are involved in Collaborative Session with remote party. UE-1
and UE-2 belong to different subscriptions and SCC AS-1 serves the user of
UE-1, SCC AS-2 serves the user of UE-2. UE-3 which is not in the Collaborative
Session can belong to the same subscription as UE-1 or UE-2 or neither. The
figure below shows the media flow transfer procedure from UE-2 to UE-3
requested by UE-3. For simplification, in the flow UE-3 belongs to the same
subscription with UE-2.
Figure 6a.9.2.2-1: Inter UE Transfer initiated by target UE not participating
in the Collaborative Session -- media on the Controllee UE
1\. UE-3 obtains information about the existing sessions and their media flows
of UE-2.
2\. UE-3 sends an IUT media transfer request towards UE-2 to transfer the
Media-B from UE-2 to UE-3. The request shall include the enough information
for the network to:
\- identify the targeted Collaborative Session;
\- identify that the transferred media flow is Media-B;
\- identify that the target of the transferred media flow is UE-3;
\- other information.
3\. Based on the identifier of the targeted Collaborative Session, SCC AS-2
knows itself to be the SCC AS serving the Controllee UE of the collaborative
session, and relays the media transfer request via S-CSCF2/1 to the SCC AS-1
which serves the Controller UE of the collaborative session.
4-6. SCC AS-1 sends a media transfer request to the Controller UE-1, and the
Controller UE-1 authorizes the media transfer request. If SCC AS-1 is
configured to authorize the request on behalf of UE-1, steps 4-6 are skipped.
7\. After obtaining authorization as specified in clause 6a.12, SCC AS-1
establishes a session with UE-3 for the Media-B, removes Media-B from UE-2,
and updates the Remote Leg using the Remote Leg Update procedure as specified
in clause 6a.1.2. The UE-3 becomes a new Controllee UE.
NOTE 1: If no media flow as part of the Collaborative Session remains in UE-2
after the transfer, UE-2 shall be removed from the Collaborative Session.
8\. SCC AS-1 sends the media transfer response via S-CSCF1/2 towards UE-3.
9\. SCC AS-2 sends the media transfer response towards UE-3.
10\. SCC AS-1 sends the Collaborative Session information to the Controller
UE-1 to inform UE-1 of the change of the Collaborative Session.
NOTE 2: If the Controller UE-1 and the Controllee UE-2 belong to the same
subscription, SCC AS-1 and SCC AS‑2 are the same SCC AS.
## 6a.10 Media Flow Replication by network
### 6a.10.1 Replicating media in network from Controller UE to another UE
belonging to same IMS subscription
The information flow in Figure 6a.10.1-1 illustrates a scenario in which the
Controller UE of a Collaborative Session requests that the network replicate a
media flow towards another UE that belongs to the same subscription. In this
scenario, UE-2 is currently not involved in the Collaborative Session until
after Media-A is replicated towards it.
Figure 6a.10.1-1: Replicating media in network from Controller UE to another
UE belonging to same IMS subscription
There is Media-A between Controller UE-1 and remote party.
1\. Controller UE-1 sends a request towards SCC AS-1 to replicate Media-A to
UE-2. The session setup request includes enough information for the network
to:
\- identify that the media flow to be replicated is Media-A;
\- identify that the source of the media flow to be replicated is the remote
party;
\- identify that the target of the media flow to be replicated is Controllee
UE-2.
2\. S-CSCF-1 forwards the request to SCC AS-1.
3\. SCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.
4\. SCC AS-1 allocates media resource in MRF for the Media-A to be replicated.
5\. SCC AS-1 sends a request to establish an Access Leg at UE-2 for Media-A.
6\. SCC AS-1 updates the Access Leg on Controller UE-1 for the replicated
media flow (Media-A) with MRF.
7\. SCC AS-1 updates the Remote Leg to communicate Media-A with MRF.
After the above operation, Media-A is established between Controller UE-1 and
MRF, from MRF to Controllee UE-2, and between remote party and MRF.
### 6a.10.2 Replicating media in network from Controller UE to another UE
belonging to different IMS subscription
The information flow in Figure 6a.10.2-1 illustrates a scenario in which a
Collaborative Session is established in the context of an ongoing IMS session
and as a result of UE-1 requesting to replicate media to another UE. The
Controller UE requests that the network replicate a media flow towards a UE
that belongs to a different subscription.
Figure 6a.10.2-1: Replicating media in network from Controller UE to another
UE belonging to different IMS subscription
There is Media-A between UE-1 and remote party.
1\. UE-1 sends a request towards SCC AS-1 to replicate Media-A to UE-2. The
Collaborative Session request includes enough information for the network to:
\- identify that the media flow to be replicated is Media-A;
\- identify that the source of the media flow to be replicated is the remote
party;
\- identify that the target of the media flow to be replicated is UE-2.
2\. S-CSCF-1 forwards the request to SCC AS-1.
3\. SCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.
4\. SCC AS-1 allocates media resource for the replicated Media-A in MRF.
5\. SCC AS-1 sends a request towards UE-2 to set up the replicated Media-A
between UE-2 and the MRF. The request includes enough information for the
network to:
\- identify the source of the request as UE-1;
\- identify the remote party;
\- identify that the replicated media flow is Media-A;
\- identify the media resource information of SCC AS-1;
\- identify that the target of the replicated media flow is UE-2.
5a. S-CSCF-1 routes the request towards UE-2.
6\. If UE-2 is an IUT subscriber, the request is routed via SCC AS-2. SCC AS-2
notes that this request relates to the establishment of a Collaborative
Session so that any requests by UE-2 related to this Collaborative Session
will be forwarded back toward SCC AS-1. A Session Setup request is then routed
on towards UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request
according to normal procedures.
7\. S-CSCF-2 forwards the Session Setup request towards UE-2.
8\. UE-2 sends the Session Setup response towards SCC AS-1.
9 - 10. S-CSCF-2 routes the response back toward SCC AS-1 via SCC AS-2 if UE-2
is an IUT subscriber.
11\. S-CSCF-1 forwards the response to SCC AS-1.
12\. SCC AS-1 updates Access Leg in UE-1, finishes Access Leg establishment in
UE-2, and updates Remote Leg to communicate Media-A with MRF.
After the above operation, a Collaborative Session is established where UE-1
is the Controller UE and UE-2 is a Controllee UE. Media-A is established
between Controller UE-1 and MRF, from MRF to Controllee UE-2 and MRF, and
between remote party and MRF.
### 6a.10.3 Replicating media in network from Controller UE to another UE
belonging to same IMS subscription - pull mode
The information flow in Figure 6a.10.3-1 illustrates a Collaborative Session
scenario in which a UE not participating in the session requests that the
network replicate towards itself a media flow that pertains to a UE belonging
to the same subscription. It is assumed that, prior to the scenario, UE-2 has
discovered that there is an ongoing session between UE-1 and the remote party
and that UE-1 is capable of supporting IUT related media procedures. If UE-1
does not support IUT related media procedures, SCC AS-1 or UE-1 will return an
error. In the illustrated scenario, UE-2 is currently not involved in the
Collaborative Session until after Media-A is replicated towards it.
Figure 6a.10.3-1: Replicating media in network from Controller UE to another
UE belonging to same IMS subscription - pull mode
There is Media-A between Controller UE-1 and remote party.
1\. UE-2 sends a request towards SCC AS-1 to replicate Media-A of an existing
session to UE-2. The session setup request includes enough information for the
network to:
\- identify the session that contains the media flow to be replicated;
\- identify that the media flow to be replicated is Media-A;
\- identify that the source of the media flow to be replicated is the remote
party;
\- identify that the target of the replicated media flow is UE-2.
2\. S-CSCF-1 forwards the request to SCC AS-1.
3\. SCC AS-1 authorizes the request from UE-2 as specified in clause 6a.12.
4\. SCC AS-1 allocates media resource for the replicated Media-A.
5\. SCC AS-1 sends response towards UE-2.
6\. S-CSCF-1 forwards the response to UE-2.
7\. SCC AS-1 updates the Access Leg on Controller UE-1 for the replicated
media flow (Media-A) with MRF.
8\. SCC AS-1 updates the Remote Leg to communicate Media-A with MRF.
After the above operation, Media-A is established between Controller UE-1 and
MRF, from MRF to Controllee UE-2 and MRF, and between remote party and MRF.
### 6a.10.4 Replicating media in network from Controller UE to another UE
belonging to different IMS subscription - pull mode
The information flow in Figure 6a.10.4-1 illustrates a Collaborative Session
scenario in which a UE not participating in the session requests that the
network replicate towards itself a media flow that pertains to a UE belonging
to different subscription (User-1). It is assumed that User-1 is an IUT
subscriber. It is also assumed that, prior to the scenario, the user that
requests the media replication (User-2) has discovered that there is an
ongoing session between UE-1 and the remote party. If UE-1 does not support
IUT related media procedures or the user is not an IUT subscriber, SCC AS-1 or
UE-1 will return an error. In the illustrated scenario, UE-2 is currently not
involved in the Collaborative Session until after Media-A is replicated
towards it.
Figure 6a.10.4-1: Replicating media in network from Controller UE to another
UE belonging to different IMS subscription -- pull mode
There is Media-A between Controller UE-1 and remote party.
1\. UE-2 sends a request towards UE-1 to replicate Media-A to UE-2. The
request includes enough information for the network to:
\- identify the session that contains the media flow to be replicated;
\- identify that the media flow to be replicated is Media-A;
\- identify that the source of the media flow to be replicated is the remote
party;
\- identify that the target of the replicated media flow is UE-2.
2\. S-CSCF-2 forwards the request to SCC AS-2.
3\. SCC AS-2 authorizes the request from UE-2 as specified in clause 6a.12.
4\. SCC AS-2 sends a request towards UE-1 to replicate Media-A from the remote
party to UE-2. The request includes enough information for the network to:
\- identify the session that contains the media flow to be replicated;
\- identify the source of the request as UE-2;
\- identify that the replicated media flow is Media-A;
\- identify that the source of the media flow to be replicated is the remote
party;
\- identify that the target of the replicated media flow is UE-2.
4a. S-CSCF-2 forwards the request towards UE-1.
4b. S-CSCF-1 forwards the request to SCC AS-1.
5\. SCC AS-1 or UE-1 authorizes the request from UE-2.
6\. SCC AS-1 allocates media resource for the replicated Media-A.
7\. SCC AS-1 updates Access Leg in UE-1, finishes Access Leg establishment in
UE-2, and updates Remote Leg to communicate Media-A with MRF.
After the above operation, Media-A is established between Controller UE-1 and
MRF, from MRF to Controllee UE-2 and MRF, and between remote party and MRF.
## 6a.11 Session Replication by remote party
### 6a.11.1 Session replication initiated by target UE
The call flow in the figure below shows the scenario where UE-2 requests
replication of a session ongoing between UE-1 and a remote UE. After the
replication procedure is complete, the sessions are independent.
Figure 6a.11.1-1: Session replication initiated by target UE
1\. UE-2 obtains information about the existing sessions and their media
flows.
2\. UE-2 uses the session information obtained and to send a session
replication request towards the SCC AS. The request indicates that this
request is for a session replication request.
3\. The SCC AS performs authorization as specified in clause 6a.12; in
particular, the SCC AS requests UE-1 to authorize the replication request or
the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-configured).
4\. If the request is authorized, UE-2 creates a new session with the remote
UE. When the new session is established, the state of the original media is
replicated e.g. same playback state; same used media etc. is replicated. If
the remote party does not support setting up a replicated session, the flow
will fail.
NOTE: The session replication data and how it is conveyed from the source UE
is not specified in this document.
5\. A new session, where the media is a replica of Media-A, is established
between UE-2 and the remote UE.
### 6a.11.2 Session replication initiated by source UE
The call flow in the figure below shows the scenario where UE-1 requests
replication of a session ongoing between UE 1 and a remote UE to UE-2. After
the replication procedure is complete, the sessions are independent. As a pre-
requisite, there exists a Session with Media--A on UE-1.
Figure 6a.11.2-1: Session replication initiated by source UE
1\. UE-1 requests to replicate current session to UE-2 by sending Session
Replication Request to SCC AS. The Session Replication Request should contain
enough information for the SCC AS to:
\- identify that the session replication source is UE-1;
\- identify that the session replication target is UE-2;
\- identify the remote party.
2\. SCC AS performs authorization as specified in clause 6a.12; in particular,
the SCC AS checks UE-1 is eligible to request session replication for UE under
the same subscription.
3\. SCC AS sends Session Replication request to controllee UE-2.
4\. UE-2 responses to the Session Replication request.
5\. UE-2 initiates a new session with the remote UE. When the new session is
established, the state of the original media is replicated, e.g. same playback
state, same used media, etc. is replicated. If the remote party does not
support setting up a replicated session, the flow will fail.
NOTE: The session replication data and how it is conveyed from the source UE
is not specified in this document.
6\. A new session, where the media are replica of Media-A, is established
between UE-2 and the remote UE.
### 6a.11.3 Session replication initiated by source UE (different
subscription)
The call flow in the figure below shows the scenario where UE-1 requests
replication of a session ongoing between UE 1 and a remote UE to UE-2. After
the replication procedure is complete, the sessions are independent. As a pre-
requisite, there exists a Session Media--A on UE-1.
Figure 6a.11.3-1: Session replication initiated by source UE, different
subscriptions
1\. UE-1 requests to replicate current session to UE-2 by sending Session
Replication Request to SCC AS-1. The Session Replication Request should
contain enough information for the SCC AS to:
\- identify that the session replication source is UE-1;
\- identify that the session replication target is UE-2;
\- identify the remote party.
2\. SCC AS-1 identify UE-2 is not under the same subscription as UE-1. It
forwards the request to S-CSCF-2 that serves UE-2 together with the
information of session on UE-1. S-CSCF-2 further forwards the request to SCC
AS-2 that serves UE-2.
3\. SCC AS-2 performs authorization as specified in clause 6a.12, then sends
Session Replication request together with UE-1 session information to UE-2.
4\. UE-2 decides to accept or reject the Session Replication request.
5\. If the request is accepted by UE-2, UE-2 initiates a new session with the
remote UE. When the new session is established, the state of the original
media is replicated, e.g., same playback state, same used media, etc. is
replicated.
NOTE 1: If either UE-2 or the remote party does not support setting up a
replicated session, the flow will fail.
NOTE 2: The session replication data and how it is conveyed from the source UE
is not specified in this document.
6\. SCC AS-2 sends Media Replication result to UE-1. A new session, where the
media are replica of Media-A, is established between UE-2 and the remote UE.
### 6a.11.4 Session replication initiated by target UE (different
subscription)
The call flow in the figure below shows the scenario where UE-2 requests
replication of a session ongoing between UE-1 and a remote UE. UE-1 and UE-2
belongs to different subscriptions. After the replication procedure is
complete, the sessions are independent.
Figure 6a.11.4-1: Session replication initiated by target UE, different
subscriptions
1\. UE-2 obtains information about the existing sessions and their media
flows. This information will be sent by the AS serving UE-1 i.e. SSC AS-1 and
relayed to UE-1 by SCC AS-2.
2\. UE-2 uses the session information obtained and to send a session
replication request towards the SCC AS-2, which relays the request to SCC
AS-1. The request indicates that this request is for a session replication
request.
3\. The SCC AS-1 performs authorization as specified in clause 6a.12; in
particular, the SCC AS-1 requests UE-1 to authorize the replication request or
the SCC AS-1 authorizes the request on behalf of UE-1 (e.g. pre-configured).
4\. If the request is authorized, UE-2 creates a new session with the remote
UE. When the new session is established, the state of the original media is
replicated e.g. same playback state; same used media etc. is replicated. If
the remote party does not support setting up a replicated session, the flow
will fail.
NOTE: The session replication data and how it is conveyed from the source UE
is not specified in this document.
5\. A new session, where the media is a replica of Media-A, is established
between UE-2 and the remote UE.
## 6a.12 User authorisation and preferences
There are two different kinds of authorization in the IUT architecture:
Authorization by the SCC AS. The SCC AS responsibilities includes:
\- checking that the subscription allows the requested operation
\- enforcing network based user preferences, e.g. check whether other UEs
shall be allowed to retrieve session information related to the UE.
\- enforcing restrictions provided by the remote party network. The SCC AS
shall reject requests for Inter-UE Transfer operations on sessions where the
remote party is served by a network that has expressed preferences to restrict
Inter-UE transfer actions on on-going sessions between the remote party and an
IUT user served by the SCC AS.
NOTE: The remote party network, through service agreements with the network
operator serving the IUT user, can restrict IUT actions to be performed on
sessions that users served by the remote party network are involved in. Such
restrictions are expected to be applied on all sessions the remote party users
are involved in. In the absence of privacy preferences indicated by the remote
party network, the default behaviour of the SCC AS serving the IUT user is to
carry out any requested IUT actions subject to other successful authorization
checks.
Authorization of incoming request by the UE. The UE based authorization
includes:
\- authorization through end-user interaction, e.g. the end user authorizes
requests for IUT Media Control Related Procedures by pressing a button on the
device.
\- automatic authorization by UE configuration, e.g. the UE automatically
authorizes requests for IUT Media Control Related Procedures from a specific
device.
The UE based authorization is considered to be a local implementation of the
UE.
If the user requires configuring IUT authorisation and preference settings to
the SCC AS, this shall be possible via the Ut interface. The information that
can be configured includes:
\- UEs authorised by the user to perform the IUT Media Control Related
Procedures; and
\- authorisation for the SCC AS to preferentially route incoming session
invitations from the remote party towards Controller capable UE(s). The user
may additionally define criteria to determine whether to preferentially route
incoming session invitations from the remote party towards Controller capable
UE(s). It shall be possible to apply, for example, the following criteria and
combinations of the following criteria to the incoming request:
\- Calling party identity (Public User Identity);
\- Called party identity used;
\- Identification of the Service (Service Identifier); and
\- Media types being offered in the incoming request.
The SCC AS shall take in account operator policy and the above user
preferences when determining:
\- whether the UE is authorised to perform the Controller UE functions, and
\- whether to preferentially route incoming session requests from a remote
party towards Controller capable UE(s).
# 6b Void
# 6c Procedures and flows for SRVCC Emergency Session
## 6c.1 IMS Emergency origination flow for PS to CS SRVCC
Figure 6c.1-1 provides flow for an emergency session established in IMS,
illustrating how the emergency session is anchored in the EATF.
Figure 6c.1-1: UE initiating an emergency session in IMS
1\. The UE initiates an IMS emergency session over EPS or GPRS and the
procedures defined in TS 23.167 [23]. This involves the UE generating a SIP
INVITE containing the UE\'s location information and the equipment identifier.
2\. The P-CSCF selects an E-CSCF and forwards the INVITE to the E-CSCF.
3\. The E-CSCF sends the INVITE to the EATF.
4\. The EATF (acting as a routing B2BUA) anchors the emergency session, i.e.
the EATF is inserted in the signalling path which invokes a 3pcc for
enablement of Access Transfers for the call as specified in clause 6.3.1.3.
5\. The EATF creates a new INVITE and sends it back to E-CSCF.
6\. For this optional procedure, refer to TS 23.167 [23].
7\. The E-CSCF uses the routing information to format the INVITE message, and
it sends it directly to the PSAP, or to the PSAP via the MGCF.
## 6c.2 SRVCC session transfer of IMS emergency session for PS to CS
Figure 6c.2-1 provides flow for SRVCC for IMS emergency session.
Figure 6c.2-1: IMS level Call flow for SRVCC for IMS emergency session with
E-STN-SR
1\. MSC Server initiates the session transfer with the E-STN-SR and it
includes the equipment identifier.
2\. The I-CSCF routes the INVITE directly to the EATF via I5 by using similar
procedures to that defined in TS 23.228 [4] for PSI based Application Server
termination.
NOTE 1: The use of indirect routeing for PSI based Application Server
Termination as described in TS 23.228 [4] in clause 5.7.6 cannot be used for
routing the INVITE to the EATF.
3 - 4. The EATF uses the E-STN-SR to determine that Access Transfer is
requested. The EATF proceeds with the Access Transfer of the active session
with bi-directional speech for the UE by updating the Remote Leg with the
media description and other information using the Remote Leg Update procedure
as specified in clause 6.3.1.5.
5\. The E-CSCF forwards the Re-INVITE to the MGCF associated with the PSAP if
the PSAP is located in the PSTN or CS Domain (the u-plane path is switched
between the UE and the MGW) or the Re-INVITE is sent directly to an IP-capable
PSAP (the u-plane path between the UE and the PSAP is switched end-to-end).
6\. When session modification procedures complete, the source access leg (i.e.
the access leg previously established over IMS) is released as specified in
clause 6.3.1.6.
NOTE 2: If non-voice media was part of the original Multimedia emergency call
session, the non-voice media will be released.
## 6c.3 SRVCC Support for UEs in Normal Mode
If the MSC enhanced for PS to CS SRVCC has a SIP interface, it shall use the
mechanism specified in TS 24.229 [26] additionally to carry the equipment
identifier to the EATF.
If the MSC enhanced for PS to CS SRVCC does not have a SIP interface, it shall
convey the equipment identifier by using the IAM message to the MGCF. The MGCF
shall use the mechanism specified in TS 24.229 [26] additionally to carry the
equipment identifier to the EATF.
The EATF can then correlate the call legs according to the equipment
identifier.
NOTE: The method for correlation of the call legs at the EATF if SIP or ISUP
does not provide this information is implementation and configuration
dependant.
## 6c.4 SRVCC Support for UEs in Limited Service Mode
To support SRVCC procedure for UEs in Limited Service Mode for PS to CS, the
MSC enhanced for SRVCC will setup the call leg towards the EATF with the UE\'s
equipment identifier.
If the MSC enhanced for PS to CS SRVCC has a SIP interface, it shall use the
mechanism specified in TS 24.229 [26] to carry equipment identifier to the
EATF.
If the MSC enhanced for PS to CS SRVCC does not have a SIP interface, it shall
convey the equipment identifier by using the IAM message to the MGCF. The MGCF
shall use the mechanism specified in TS 24.229 [26] to carry equipment
identifier to the EATF.
NOTE: The method for correlation of the call legs at the EATF if SIP or ISUP
does not provide this information is implementation dependant.
# 7 Security
## 7.1 General
There are no impacts on existing security mechanisms for the CS Domain or for
IMS as a result of Session Transfers.
## 7.2 Access security for CS Domain
TS 33.102 [11] describes the Security Architecture for GSM and UMTS
subscribers, SC places no additional requirements upon the CS domain security
than those already in the detailed access specific specification e.g., above
those described in TS 33.102 [11].
## 7.3 Access security for IMS
TS 33.203 [12] specifies the security features and mechanisms for secure
access to the IM subsystem (IMS). SC places no additional requirements upon
the IMS above those described in TS 33.203 [12].
# 8 Charging
## 8.1 Charging strategy
To ensure the completeness and correctness of charging during Session Transfer
procedure, and to avoid possible double billing in IMS and CS, the following
strategy should be applied:
\- Provide cohesive charging records with a complete service continuity
history for the whole duration of a SC subscriber multimedia session by the
SCC AS.
\- For cases of CS origination and CS termination, correlate the charging
records generated in CS and IMS for the subscriber multimedia session, to
avoid double billing to the subscriber.
\- Treat the charging records generated in the transferring-in access network
for the call(s)/session(s) established during the Session Transfer as
subsequent Access Legs, and therefore do not impact the direction of the
initial call(s)/session(s) for the purpose of charging.
\- Keep the start of charging in the transferring-in access network align with
the stop of charging in the transferring-out access network, to avoid double
billing to the subscriber during the Session Transfer.
To avoid online charging correlation in IMS and CS domain, the SC online
charging should be performed only in IMS, i.e. prepaid service logic in CS
domain should not be invoked for anchored CS origination/termination call and
subsequent CS origination call established for performing Session Transfer. In
addition, the SCC AS should report information related to the initial
multimedia session establishment as well as the information related to the
Session Transfer procedure to OCS for correct credit control purpose.
## 8.2 Accounting strategy
To assist in performing the settlement between operators, the following
strategy shall be applied:
\- Provide cohesive charging records with a complete service continuity
history for the whole duration of a SC subscriber multimedia session by the
SCC AS.
\- Use the charging records for subsequent Access Legs generated in CS/IMS
domain and the charging records generated in MGCF performing CS-IMS
interworking, taking the complete service continuity history described above
as reference, to perform the settlement between the providers of CS domain and
IMS.
\- Use the access network information in IMS charging records, taking the
complete service continuity history described above as reference, to perform
the settlement between the providers of IP‑CAN and IMS Core.
\- Additional reconciliation for I1 flows can also be applied, due to such
flows being uniquely identifiable from other flows over the same bearer (see
clause 5.4.1 of TS 23.292 [5] for more information).
\- At least in roaming scenarios, the SCC-AS returns the ICID of the original
access leg to the MSC-Server for the MSC-Server to include in charging
records.
###### ## Annex A (informative): Controller UE and Controllee UE operations
# A.1 General
Table A.1-1 provides an overview of Controller UE and Controllee UE
operations. The operations of the Controllee UE without IUT capabilities are
the same as those of the Controllee UE in Release 9
Table A.1-1: Controller UE and Controllee UE operations
+-------+-------+-------+-------+-------+-------+-------+-------+ | Opera | Contr | Contr | Contr | Contr | Contr | Contr | | | tions | oller | oller | ollee | ollee | ollee | ollee | | | | UE | UE | UE | UE | UE | UE | | | | | Co | with | with | wi | wi | | | | | mment | IUT | IUT | thout | thout | | | | | | Ca | Ca | IUT | IUT | | | | | | pabil | pabil | Ca | Ca | | | | | | ities | ities | pabil | pabil | | | | | | | Co | ities | ities | | | | | | | mment | | Co | | | | | | | | | mment | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Add | Add | Yes | Sta | Yes | Sta | No | | | media | media | | ndard | | ndard | | | | flow | flow | | SC | | SC | | | | ( | by | | p | | p | | | | local | cre | | roced | | roced | | | | end | ating | | ures. | | ures. | | | | initi | a new | | | | | | | | ating | A | | | | | | | | case) | ccess | | | | | | | | | Leg | | | | | | | | | on | | | | | | | | | the | | | | | | | | | same | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Add | Yes | Rel-9 | Yes | R | No | | | | media | | capab | | el-10 | | | | | flow | | ility | | New | | | | | by | | of | | capab | | | | | cre | | IUT. | | ility | | | | | ating | | | | of | | | | | a new | | | | IUT. | | | | | A | | | | | | | | | ccess | | | | | | | | | Leg | | | | | | | | | on a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Add | Yes | Sta | Yes | Sta | No | | | | media | | ndard | | ndard | | | | | flow | | IMS | | IMS | | | | | to an | | p | | p | | | | | exi | | roced | | roced | | | | | sting | | ures. | | ures. | | | | | A | | | | | | | | | ccess | | | | | | | | | Leg | | | | | | | | | on | | | | | | | | | the | | | | | | | | | same | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Add | Yes | Rel-9 | Yes | R | No | | | | media | | capab | | el-10 | | | | | flow | | ility | | New | | | | | to an | | of | | capab | | | | | exi | | IUT. | | ility | | | | | sting | | | | of | | | | | A | | | | IUT. | | | | | ccess | | | | | | | | | Leg | | | | | | | | | on a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | R | Yes | Sta | Yes | Sta | Yes | Sta | | emove | emove | | ndard | | ndard | | ndard | | media | media | | IMS | | IMS | | IMS | | flow | flow | | p | | p | | p | | ( | from | | roced | | roced | | roced | | local | an | | ures. | | ures. | | ures. | | end | A | | | | | | | | initi | ccess | | | | | | | | ating | Leg | | | | | | | | case) | on | | | | | | | | | the | | | | | | | | | same | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | R | Yes | Rel-9 | Yes | R | No | | | | emove | | capab | | el-10 | | | | | media | | ility | | New | | | | | flow | | of | | capab | | | | | from | | IUT. | | ility | | | | | an | | | | of | | | | | A | | | | IUT. | | | | | ccess | | | | | | | | | Leg | | | | | | | | | on a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | I | MMTEL | Yes | Sta | Yes | R | No | | | nvoke | se | | ndard | | el-10 | | | | | rvice | | IMS | | New | | | | Supp | co | | p | | capab | | | | | ntrol | | roced | | ility | | | | Ser | with | | ures. | | of | | | | vices | media | | | | IUT. | | | | | on | | | | | | | | | the | | | | | | | | | same | | | | | | | | | UE | | | | | | | | | (TS | | | | | | | | | 22.1 | | | | | | | | | 73 [ | | | | | | | | | 15]) | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | MMTEL | Yes | Rel-9 | No | | No | | | | se | | capab | | | | | | | rvice | | ility | | | | | | | co | | of | | | | | | | ntrol | | IUT. | | | | | | | with | | | | | | | | | media | | | | | | | | | on a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | | | (TS | | | | | | | | | 22.1 | | | | | | | | | 73 [ | | | | | | | | | 15]) | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Col | | Yes | Rel-9 | No | | No | | | labor | | | capab | | | | | | ative | | | ility | | | | | | Se | | | of | | | | | | ssion | | | IUT. | | | | | | Re | | | | | | | | | lease | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | U | Yes | Sta | Yes | Sta | Yes | Sta | | enego | pdate | | ndard | | ndard | | ndard | | tiate | of | | IMS | | IMS | | IMS | | media | media | | p | | p | | p | | chara | chara | | roced | | roced | | roced | | cteri | cteri | | ures. | | ures. | | ures. | | stics | stics | | | | | | | | | on | | | | | | | | ( | the | | | | | | | | local | same | | | | | | | | end | UE | | | | | | | | initi | | | | | | | | | ating | | | | | | | | | side) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | U | Yes | R | Yes | R | No | | | | pdate | | el-10 | | el-10 | | | | | of | | New | | New | | | | | media | | capab | | capab | | | | | chara | | ility | | ility | | | | | cteri | | of | | of | | | | | stics | | IUT. | | IUT. | | | | | on a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Tra | Tra | Yes | Rel-9 | Yes | R | No | | | nsfer | nsfer | | capab | | el-10 | | | | of | media | | ility | | New | | | | media | flow | | of | | capab | | | | flow | from | | IUT. | | ility | | | | | the | | | | of | | | | | same | | | | IUT. | | | | | UE to | | | | | | | | | a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Tra | Yes | Rel-9 | Yes | R | No | | | | nsfer | | capab | | el-10 | | | | | media | | ility | | New | | | | | flow | | of | | capab | | | | | from | | IUT. | | ility | | | | | a | | | | of | | | | | diff | | | | IUT. | | | | | erent | | | | | | | | | UE to | | | | | | | | | an | | | | | | | | | other | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Tra | Yes | Rel-9 | Yes | R | No | | | | nsfer | | capab | | el-10 | | | | | media | | ility | | New | | | | | flow | | of | | capab | | | | | from | | IUT. | | ility | | | | | a | | | | of | | | | | diff | | | | IUT. | | | | | erent | | | | | | | | | UE to | | | | | | | | | the | | | | | | | | | same | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Tra | Tra | Yes | R | No | | No | | | nsfer | nsfer | | el-10 | | | | | | of | Col | | New | | | | | | Col | labor | | capab | | | | | | labor | ative | | ility | | | | | | ative | Se | | of | | | | | | Se | ssion | | IUT. | | | | | | ssion | co | | Only | | | | | | co | ntrol | | tra | | | | | | ntrol | from | | nsfer | | | | | | | the | | to a | | | | | | | same | | diff | | | | | | | UE to | | erent | | | | | | | a | | UE of | | | | | | | diff | | the | | | | | | | erent | | same | | | | | | | UE | | se | | | | | | | | | rvice | | | | | | | | | pr | | | | | | | | | ofile | | | | | | | | | and | | | | | | | | | same | | | | | | | | | su | | | | | | | | | bscri | | | | | | | | | ption | | | | | | | | | is | | | | | | | | | suppo | | | | | | | | | rted. | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Tra | No | | Yes | R | No | | | | nsfer | | | | el-10 | | | | | Col | | | | New | | | | | labor | | | | capab | | | | | ative | | | | ility | | | | | Se | | | | of | | | | | ssion | | | | IUT. | | | | | co | | | | Only | | | | | ntrol | | | | tra | | | | | from | | | | nsfer | | | | | a | | | | from | | | | | diff | | | | a | | | | | erent | | | | diff | | | | | UE to | | | | erent | | | | | the | | | | UE of | | | | | same | | | | the | | | | | UE | | | | same | | | | | | | | | se | | | | | | | | | rvice | | | | | | | | | pr | | | | | | | | | ofile | | | | | | | | | and | | | | | | | | | same | | | | | | | | | su | | | | | | | | | bscri | | | | | | | | | ption | | | | | | | | | is | | | | | | | | | suppo | | | | | | | | | rted. | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | Repl | Yes | R | Yes | R | No | | | eplic | icate | | el-10 | | el-10 | | | | ation | media | | New | | New | | | | of | flow | | capab | | capab | | | | media | from | | ility | | ility | | | | flow | the | | of | | of | | | | | same | | IUT. | | IUT. | | | | | UE to | | | | | | | | | a | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Repl | Yes | R | Yes | R | No | | | | icate | | el-10 | | el-10 | | | | | media | | New | | New | | | | | flow | | capab | | capab | | | | | from | | ility | | ility | | | | | a | | of | | of | | | | | diff | | IUT. | | IUT. | | | | | erent | | | | | | | | | UE to | | | | | | | | | an | | | | | | | | | other | | | | | | | | | diff | | | | | | | | | erent | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Repl | Yes | R | Yes | R | No | | | | icate | | el-10 | | el-10 | | | | | media | | New | | New | | | | | flow | | capab | | capab | | | | | from | | ility | | ility | | | | | a | | of | | of | | | | | diff | | IUT. | | IUT. | | | | | erent | | | | | | | | | UE to | | | | | | | | | the | | | | | | | | | same | | | | | | | | | UE | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
#